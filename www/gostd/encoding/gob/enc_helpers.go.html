<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html" class="current">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5534493">//&nbsp;Created&nbsp;by&nbsp;encgen&nbsp;--output&nbsp;enc_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5534552">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5534607">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="5534661">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5534712">package</span>&nbsp;<span class="ident" id="5534720">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5534725">import</span>&nbsp;<span class="op" id="5534732">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5534735">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="5534745">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5534748">var</span>&nbsp;<span class="ident" id="5534752">encArrayHelper</span>&nbsp;<span class="op" id="5534767">=</span>&nbsp;<span class="keyword" id="5534769">map</span><span class="op" id="5534772">[</span><span class="ident" id="5534773">reflect</span><span class="op" id="5534780">.</span><span class="ident" id="5534781">Kind</span><span class="op" id="5534785">]</span><span class="ident" id="5534786">encHelper</span><span class="op" id="5534795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534798">reflect</span><span class="op" id="5534805">.</span><span class="ident" id="5534806">Bool</span><span class="op" id="5534810">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534818">encBoolArray</span><span class="op" id="5534830">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534833">reflect</span><span class="op" id="5534840">.</span><span class="ident" id="5534841">Complex64</span><span class="op" id="5534850">:</span>&nbsp;&nbsp;<span class="ident" id="5534853">encComplex64Array</span><span class="op" id="5534870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534873">reflect</span><span class="op" id="5534880">.</span><span class="ident" id="5534881">Complex128</span><span class="op" id="5534891">:</span>&nbsp;<span class="ident" id="5534893">encComplex128Array</span><span class="op" id="5534911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534914">reflect</span><span class="op" id="5534921">.</span><span class="ident" id="5534922">Float32</span><span class="op" id="5534929">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534934">encFloat32Array</span><span class="op" id="5534949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534952">reflect</span><span class="op" id="5534959">.</span><span class="ident" id="5534960">Float64</span><span class="op" id="5534967">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534972">encFloat64Array</span><span class="op" id="5534987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5534990">reflect</span><span class="op" id="5534997">.</span><span class="ident" id="5534998">Int</span><span class="op" id="5535001">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535010">encIntArray</span><span class="op" id="5535021">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535024">reflect</span><span class="op" id="5535031">.</span><span class="ident" id="5535032">Int16</span><span class="op" id="5535037">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535044">encInt16Array</span><span class="op" id="5535057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535060">reflect</span><span class="op" id="5535067">.</span><span class="ident" id="5535068">Int32</span><span class="op" id="5535073">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535080">encInt32Array</span><span class="op" id="5535093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535096">reflect</span><span class="op" id="5535103">.</span><span class="ident" id="5535104">Int64</span><span class="op" id="5535109">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535116">encInt64Array</span><span class="op" id="5535129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535132">reflect</span><span class="op" id="5535139">.</span><span class="ident" id="5535140">Int8</span><span class="op" id="5535144">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535152">encInt8Array</span><span class="op" id="5535164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535167">reflect</span><span class="op" id="5535174">.</span><span class="ident" id="5535175">String</span><span class="op" id="5535181">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535187">encStringArray</span><span class="op" id="5535201">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535204">reflect</span><span class="op" id="5535211">.</span><span class="ident" id="5535212">Uint</span><span class="op" id="5535216">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535224">encUintArray</span><span class="op" id="5535236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535239">reflect</span><span class="op" id="5535246">.</span><span class="ident" id="5535247">Uint16</span><span class="op" id="5535253">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535259">encUint16Array</span><span class="op" id="5535273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535276">reflect</span><span class="op" id="5535283">.</span><span class="ident" id="5535284">Uint32</span><span class="op" id="5535290">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535296">encUint32Array</span><span class="op" id="5535310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535313">reflect</span><span class="op" id="5535320">.</span><span class="ident" id="5535321">Uint64</span><span class="op" id="5535327">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535333">encUint64Array</span><span class="op" id="5535347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535350">reflect</span><span class="op" id="5535357">.</span><span class="ident" id="5535358">Uintptr</span><span class="op" id="5535365">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535370">encUintptrArray</span><span class="op" id="5535385">,</span><br>
<span class="lineno">30</span><span class="op" id="5535387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5535390">var</span>&nbsp;<span class="ident" id="5535394">encSliceHelper</span>&nbsp;<span class="op" id="5535409">=</span>&nbsp;<span class="keyword" id="5535411">map</span><span class="op" id="5535414">[</span><span class="ident" id="5535415">reflect</span><span class="op" id="5535422">.</span><span class="ident" id="5535423">Kind</span><span class="op" id="5535427">]</span><span class="ident" id="5535428">encHelper</span><span class="op" id="5535437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535440">reflect</span><span class="op" id="5535447">.</span><span class="ident" id="5535448">Bool</span><span class="op" id="5535452">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535460">encBoolSlice</span><span class="op" id="5535472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535475">reflect</span><span class="op" id="5535482">.</span><span class="ident" id="5535483">Complex64</span><span class="op" id="5535492">:</span>&nbsp;&nbsp;<span class="ident" id="5535495">encComplex64Slice</span><span class="op" id="5535512">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535515">reflect</span><span class="op" id="5535522">.</span><span class="ident" id="5535523">Complex128</span><span class="op" id="5535533">:</span>&nbsp;<span class="ident" id="5535535">encComplex128Slice</span><span class="op" id="5535553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535556">reflect</span><span class="op" id="5535563">.</span><span class="ident" id="5535564">Float32</span><span class="op" id="5535571">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535576">encFloat32Slice</span><span class="op" id="5535591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535594">reflect</span><span class="op" id="5535601">.</span><span class="ident" id="5535602">Float64</span><span class="op" id="5535609">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535614">encFloat64Slice</span><span class="op" id="5535629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535632">reflect</span><span class="op" id="5535639">.</span><span class="ident" id="5535640">Int</span><span class="op" id="5535643">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535652">encIntSlice</span><span class="op" id="5535663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535666">reflect</span><span class="op" id="5535673">.</span><span class="ident" id="5535674">Int16</span><span class="op" id="5535679">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535686">encInt16Slice</span><span class="op" id="5535699">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535702">reflect</span><span class="op" id="5535709">.</span><span class="ident" id="5535710">Int32</span><span class="op" id="5535715">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535722">encInt32Slice</span><span class="op" id="5535735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535738">reflect</span><span class="op" id="5535745">.</span><span class="ident" id="5535746">Int64</span><span class="op" id="5535751">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535758">encInt64Slice</span><span class="op" id="5535771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535774">reflect</span><span class="op" id="5535781">.</span><span class="ident" id="5535782">Int8</span><span class="op" id="5535786">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535794">encInt8Slice</span><span class="op" id="5535806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535809">reflect</span><span class="op" id="5535816">.</span><span class="ident" id="5535817">String</span><span class="op" id="5535823">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535829">encStringSlice</span><span class="op" id="5535843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535846">reflect</span><span class="op" id="5535853">.</span><span class="ident" id="5535854">Uint</span><span class="op" id="5535858">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535866">encUintSlice</span><span class="op" id="5535878">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535881">reflect</span><span class="op" id="5535888">.</span><span class="ident" id="5535889">Uint16</span><span class="op" id="5535895">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535901">encUint16Slice</span><span class="op" id="5535915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535918">reflect</span><span class="op" id="5535925">.</span><span class="ident" id="5535926">Uint32</span><span class="op" id="5535932">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535938">encUint32Slice</span><span class="op" id="5535952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535955">reflect</span><span class="op" id="5535962">.</span><span class="ident" id="5535963">Uint64</span><span class="op" id="5535969">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535975">encUint64Slice</span><span class="op" id="5535989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5535992">reflect</span><span class="op" id="5535999">.</span><span class="ident" id="5536000">Uintptr</span><span class="op" id="5536007">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5536012">encUintptrSlice</span><span class="op" id="5536027">,</span><br>
<span class="lineno"></span><span class="op" id="5536029">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5536032">func</span>&nbsp;<span class="ident" id="5536037">encBoolArray</span><span class="op" id="5536049">(</span><span class="ident" id="5536050">state</span>&nbsp;<span class="op" id="5536056">*</span><span class="ident" id="5536057">encoderState</span><span class="op" id="5536069">,</span>&nbsp;<span class="ident" id="5536071">v</span>&nbsp;<span class="ident" id="5536073">reflect</span><span class="op" id="5536080">.</span><span class="ident" id="5536081">Value</span><span class="op" id="5536086">)</span>&nbsp;<span class="builtintype" id="5536088">bool</span>&nbsp;<span class="op" id="5536093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5536096">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536137">if</span>&nbsp;<span class="op" id="5536140">!</span><span class="ident" id="5536141">v</span><span class="op" id="5536142">.</span><span class="ident" id="5536143">CanAddr</span><span class="op" id="5536150">(</span><span class="op" id="5536151">)</span>&nbsp;<span class="op" id="5536153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536157">return</span>&nbsp;<span class="builtintype" id="5536164">false</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5536171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536174">return</span>&nbsp;<span class="ident" id="5536181">encBoolSlice</span><span class="op" id="5536193">(</span><span class="ident" id="5536194">state</span><span class="op" id="5536199">,</span>&nbsp;<span class="ident" id="5536201">v</span><span class="op" id="5536202">.</span><span class="ident" id="5536203">Slice</span><span class="op" id="5536208">(</span><span class="num" id="5536209">0</span><span class="op" id="5536210">,</span>&nbsp;<span class="ident" id="5536212">v</span><span class="op" id="5536213">.</span><span class="ident" id="5536214">Len</span><span class="op" id="5536217">(</span><span class="op" id="5536218">)</span><span class="op" id="5536219">)</span><span class="op" id="5536220">)</span><br>
<span class="lineno"></span><span class="op" id="5536222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5536225">func</span>&nbsp;<span class="ident" id="5536230">encBoolSlice</span><span class="op" id="5536242">(</span><span class="ident" id="5536243">state</span>&nbsp;<span class="op" id="5536249">*</span><span class="ident" id="5536250">encoderState</span><span class="op" id="5536262">,</span>&nbsp;<span class="ident" id="5536264">v</span>&nbsp;<span class="ident" id="5536266">reflect</span><span class="op" id="5536273">.</span><span class="ident" id="5536274">Value</span><span class="op" id="5536279">)</span>&nbsp;<span class="builtintype" id="5536281">bool</span>&nbsp;<span class="op" id="5536286">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5536289">slice</span><span class="op" id="5536294">,</span>&nbsp;<span class="ident" id="5536296">ok</span>&nbsp;<span class="op" id="5536299">:=</span>&nbsp;<span class="ident" id="5536302">v</span><span class="op" id="5536303">.</span><span class="ident" id="5536304">Interface</span><span class="op" id="5536313">(</span><span class="op" id="5536314">)</span><span class="op" id="5536315">.</span><span class="op" id="5536316">(</span><span class="op" id="5536317">[</span><span class="op" id="5536318">]</span><span class="builtintype" id="5536319">bool</span><span class="op" id="5536323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536326">if</span>&nbsp;<span class="op" id="5536329">!</span><span class="ident" id="5536330">ok</span>&nbsp;<span class="op" id="5536333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5536337">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536412">return</span>&nbsp;<span class="builtintype" id="5536419">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5536426">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536429">for</span>&nbsp;<span class="ident" id="5536433">_</span><span class="op" id="5536434">,</span>&nbsp;<span class="ident" id="5536436">x</span>&nbsp;<span class="op" id="5536438">:=</span>&nbsp;<span class="keyword" id="5536441">range</span>&nbsp;<span class="ident" id="5536447">slice</span>&nbsp;<span class="op" id="5536453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536457">if</span>&nbsp;<span class="ident" id="5536460">x</span>&nbsp;<span class="op" id="5536462">!=</span>&nbsp;<span class="builtintype" id="5536465">false</span>&nbsp;<span class="op" id="5536471">||</span>&nbsp;<span class="ident" id="5536474">state</span><span class="op" id="5536479">.</span><span class="ident" id="5536480">sendZero</span>&nbsp;<span class="op" id="5536489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536494">if</span>&nbsp;<span class="ident" id="5536497">x</span>&nbsp;<span class="op" id="5536499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5536505">state</span><span class="op" id="5536510">.</span><span class="ident" id="5536511">encodeUint</span><span class="op" id="5536521">(</span><span class="num" id="5536522">1</span><span class="op" id="5536523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5536528">}</span>&nbsp;<span class="keyword" id="5536530">else</span>&nbsp;<span class="op" id="5536535">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5536541">state</span><span class="op" id="5536546">.</span><span class="ident" id="5536547">encodeUint</span><span class="op" id="5536557">(</span><span class="num" id="5536558">0</span><span class="op" id="5536559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5536564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5536568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5536571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536574">return</span>&nbsp;<span class="builtintype" id="5536581">true</span><br>
<span class="lineno">75</span><span class="op" id="5536586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5536589">func</span>&nbsp;<span class="ident" id="5536594">encComplex64Array</span><span class="op" id="5536611">(</span><span class="ident" id="5536612">state</span>&nbsp;<span class="op" id="5536618">*</span><span class="ident" id="5536619">encoderState</span><span class="op" id="5536631">,</span>&nbsp;<span class="ident" id="5536633">v</span>&nbsp;<span class="ident" id="5536635">reflect</span><span class="op" id="5536642">.</span><span class="ident" id="5536643">Value</span><span class="op" id="5536648">)</span>&nbsp;<span class="builtintype" id="5536650">bool</span>&nbsp;<span class="op" id="5536655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5536658">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536699">if</span>&nbsp;<span class="op" id="5536702">!</span><span class="ident" id="5536703">v</span><span class="op" id="5536704">.</span><span class="ident" id="5536705">CanAddr</span><span class="op" id="5536712">(</span><span class="op" id="5536713">)</span>&nbsp;<span class="op" id="5536715">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536719">return</span>&nbsp;<span class="builtintype" id="5536726">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5536733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536736">return</span>&nbsp;<span class="ident" id="5536743">encComplex64Slice</span><span class="op" id="5536760">(</span><span class="ident" id="5536761">state</span><span class="op" id="5536766">,</span>&nbsp;<span class="ident" id="5536768">v</span><span class="op" id="5536769">.</span><span class="ident" id="5536770">Slice</span><span class="op" id="5536775">(</span><span class="num" id="5536776">0</span><span class="op" id="5536777">,</span>&nbsp;<span class="ident" id="5536779">v</span><span class="op" id="5536780">.</span><span class="ident" id="5536781">Len</span><span class="op" id="5536784">(</span><span class="op" id="5536785">)</span><span class="op" id="5536786">)</span><span class="op" id="5536787">)</span><br>
<span class="lineno"></span><span class="op" id="5536789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="5536792">func</span>&nbsp;<span class="ident" id="5536797">encComplex64Slice</span><span class="op" id="5536814">(</span><span class="ident" id="5536815">state</span>&nbsp;<span class="op" id="5536821">*</span><span class="ident" id="5536822">encoderState</span><span class="op" id="5536834">,</span>&nbsp;<span class="ident" id="5536836">v</span>&nbsp;<span class="ident" id="5536838">reflect</span><span class="op" id="5536845">.</span><span class="ident" id="5536846">Value</span><span class="op" id="5536851">)</span>&nbsp;<span class="builtintype" id="5536853">bool</span>&nbsp;<span class="op" id="5536858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5536861">slice</span><span class="op" id="5536866">,</span>&nbsp;<span class="ident" id="5536868">ok</span>&nbsp;<span class="op" id="5536871">:=</span>&nbsp;<span class="ident" id="5536874">v</span><span class="op" id="5536875">.</span><span class="ident" id="5536876">Interface</span><span class="op" id="5536885">(</span><span class="op" id="5536886">)</span><span class="op" id="5536887">.</span><span class="op" id="5536888">(</span><span class="op" id="5536889">[</span><span class="op" id="5536890">]</span><span class="builtintype" id="5536891">complex64</span><span class="op" id="5536900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536903">if</span>&nbsp;<span class="op" id="5536906">!</span><span class="ident" id="5536907">ok</span>&nbsp;<span class="op" id="5536910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5536914">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5536999">return</span>&nbsp;<span class="builtintype" id="5537006">false</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5537013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537016">for</span>&nbsp;<span class="ident" id="5537020">_</span><span class="op" id="5537021">,</span>&nbsp;<span class="ident" id="5537023">x</span>&nbsp;<span class="op" id="5537025">:=</span>&nbsp;<span class="keyword" id="5537028">range</span>&nbsp;<span class="ident" id="5537034">slice</span>&nbsp;<span class="op" id="5537040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537044">if</span>&nbsp;<span class="ident" id="5537047">x</span>&nbsp;<span class="op" id="5537049">!=</span>&nbsp;<span class="num" id="5537052">0</span><span class="op" id="5537053">+</span><span class="num" id="5537054">0i</span>&nbsp;<span class="op" id="5537057">||</span>&nbsp;<span class="ident" id="5537060">state</span><span class="op" id="5537065">.</span><span class="ident" id="5537066">sendZero</span>&nbsp;<span class="op" id="5537075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537080">rpart</span>&nbsp;<span class="op" id="5537086">:=</span>&nbsp;<span class="ident" id="5537089">floatBits</span><span class="op" id="5537098">(</span><span class="builtintype" id="5537099">float64</span><span class="op" id="5537106">(</span><span class="builtinfunc" id="5537107">real</span><span class="op" id="5537111">(</span><span class="ident" id="5537112">x</span><span class="op" id="5537113">)</span><span class="op" id="5537114">)</span><span class="op" id="5537115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537120">ipart</span>&nbsp;<span class="op" id="5537126">:=</span>&nbsp;<span class="ident" id="5537129">floatBits</span><span class="op" id="5537138">(</span><span class="builtintype" id="5537139">float64</span><span class="op" id="5537146">(</span><span class="builtinfunc" id="5537147">imag</span><span class="op" id="5537151">(</span><span class="ident" id="5537152">x</span><span class="op" id="5537153">)</span><span class="op" id="5537154">)</span><span class="op" id="5537155">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537160">state</span><span class="op" id="5537165">.</span><span class="ident" id="5537166">encodeUint</span><span class="op" id="5537176">(</span><span class="ident" id="5537177">rpart</span><span class="op" id="5537182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537187">state</span><span class="op" id="5537192">.</span><span class="ident" id="5537193">encodeUint</span><span class="op" id="5537203">(</span><span class="ident" id="5537204">ipart</span><span class="op" id="5537209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5537213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5537216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537219">return</span>&nbsp;<span class="builtintype" id="5537226">true</span><br>
<span class="lineno">100</span><span class="op" id="5537231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5537234">func</span>&nbsp;<span class="ident" id="5537239">encComplex128Array</span><span class="op" id="5537257">(</span><span class="ident" id="5537258">state</span>&nbsp;<span class="op" id="5537264">*</span><span class="ident" id="5537265">encoderState</span><span class="op" id="5537277">,</span>&nbsp;<span class="ident" id="5537279">v</span>&nbsp;<span class="ident" id="5537281">reflect</span><span class="op" id="5537288">.</span><span class="ident" id="5537289">Value</span><span class="op" id="5537294">)</span>&nbsp;<span class="builtintype" id="5537296">bool</span>&nbsp;<span class="op" id="5537301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5537304">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537345">if</span>&nbsp;<span class="op" id="5537348">!</span><span class="ident" id="5537349">v</span><span class="op" id="5537350">.</span><span class="ident" id="5537351">CanAddr</span><span class="op" id="5537358">(</span><span class="op" id="5537359">)</span>&nbsp;<span class="op" id="5537361">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537365">return</span>&nbsp;<span class="builtintype" id="5537372">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5537379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537382">return</span>&nbsp;<span class="ident" id="5537389">encComplex128Slice</span><span class="op" id="5537407">(</span><span class="ident" id="5537408">state</span><span class="op" id="5537413">,</span>&nbsp;<span class="ident" id="5537415">v</span><span class="op" id="5537416">.</span><span class="ident" id="5537417">Slice</span><span class="op" id="5537422">(</span><span class="num" id="5537423">0</span><span class="op" id="5537424">,</span>&nbsp;<span class="ident" id="5537426">v</span><span class="op" id="5537427">.</span><span class="ident" id="5537428">Len</span><span class="op" id="5537431">(</span><span class="op" id="5537432">)</span><span class="op" id="5537433">)</span><span class="op" id="5537434">)</span><br>
<span class="lineno"></span><span class="op" id="5537436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="5537439">func</span>&nbsp;<span class="ident" id="5537444">encComplex128Slice</span><span class="op" id="5537462">(</span><span class="ident" id="5537463">state</span>&nbsp;<span class="op" id="5537469">*</span><span class="ident" id="5537470">encoderState</span><span class="op" id="5537482">,</span>&nbsp;<span class="ident" id="5537484">v</span>&nbsp;<span class="ident" id="5537486">reflect</span><span class="op" id="5537493">.</span><span class="ident" id="5537494">Value</span><span class="op" id="5537499">)</span>&nbsp;<span class="builtintype" id="5537501">bool</span>&nbsp;<span class="op" id="5537506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537509">slice</span><span class="op" id="5537514">,</span>&nbsp;<span class="ident" id="5537516">ok</span>&nbsp;<span class="op" id="5537519">:=</span>&nbsp;<span class="ident" id="5537522">v</span><span class="op" id="5537523">.</span><span class="ident" id="5537524">Interface</span><span class="op" id="5537533">(</span><span class="op" id="5537534">)</span><span class="op" id="5537535">.</span><span class="op" id="5537536">(</span><span class="op" id="5537537">[</span><span class="op" id="5537538">]</span><span class="builtintype" id="5537539">complex128</span><span class="op" id="5537549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537552">if</span>&nbsp;<span class="op" id="5537555">!</span><span class="ident" id="5537556">ok</span>&nbsp;<span class="op" id="5537559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5537563">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537650">return</span>&nbsp;<span class="builtintype" id="5537657">false</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5537664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537667">for</span>&nbsp;<span class="ident" id="5537671">_</span><span class="op" id="5537672">,</span>&nbsp;<span class="ident" id="5537674">x</span>&nbsp;<span class="op" id="5537676">:=</span>&nbsp;<span class="keyword" id="5537679">range</span>&nbsp;<span class="ident" id="5537685">slice</span>&nbsp;<span class="op" id="5537691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537695">if</span>&nbsp;<span class="ident" id="5537698">x</span>&nbsp;<span class="op" id="5537700">!=</span>&nbsp;<span class="num" id="5537703">0</span><span class="op" id="5537704">+</span><span class="num" id="5537705">0i</span>&nbsp;<span class="op" id="5537708">||</span>&nbsp;<span class="ident" id="5537711">state</span><span class="op" id="5537716">.</span><span class="ident" id="5537717">sendZero</span>&nbsp;<span class="op" id="5537726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537731">rpart</span>&nbsp;<span class="op" id="5537737">:=</span>&nbsp;<span class="ident" id="5537740">floatBits</span><span class="op" id="5537749">(</span><span class="builtinfunc" id="5537750">real</span><span class="op" id="5537754">(</span><span class="ident" id="5537755">x</span><span class="op" id="5537756">)</span><span class="op" id="5537757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537762">ipart</span>&nbsp;<span class="op" id="5537768">:=</span>&nbsp;<span class="ident" id="5537771">floatBits</span><span class="op" id="5537780">(</span><span class="builtinfunc" id="5537781">imag</span><span class="op" id="5537785">(</span><span class="ident" id="5537786">x</span><span class="op" id="5537787">)</span><span class="op" id="5537788">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537793">state</span><span class="op" id="5537798">.</span><span class="ident" id="5537799">encodeUint</span><span class="op" id="5537809">(</span><span class="ident" id="5537810">rpart</span><span class="op" id="5537815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5537820">state</span><span class="op" id="5537825">.</span><span class="ident" id="5537826">encodeUint</span><span class="op" id="5537836">(</span><span class="ident" id="5537837">ipart</span><span class="op" id="5537842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5537846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5537849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537852">return</span>&nbsp;<span class="builtintype" id="5537859">true</span><br>
<span class="lineno">125</span><span class="op" id="5537864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5537867">func</span>&nbsp;<span class="ident" id="5537872">encFloat32Array</span><span class="op" id="5537887">(</span><span class="ident" id="5537888">state</span>&nbsp;<span class="op" id="5537894">*</span><span class="ident" id="5537895">encoderState</span><span class="op" id="5537907">,</span>&nbsp;<span class="ident" id="5537909">v</span>&nbsp;<span class="ident" id="5537911">reflect</span><span class="op" id="5537918">.</span><span class="ident" id="5537919">Value</span><span class="op" id="5537924">)</span>&nbsp;<span class="builtintype" id="5537926">bool</span>&nbsp;<span class="op" id="5537931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5537934">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537975">if</span>&nbsp;<span class="op" id="5537978">!</span><span class="ident" id="5537979">v</span><span class="op" id="5537980">.</span><span class="ident" id="5537981">CanAddr</span><span class="op" id="5537988">(</span><span class="op" id="5537989">)</span>&nbsp;<span class="op" id="5537991">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5537995">return</span>&nbsp;<span class="builtintype" id="5538002">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5538009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538012">return</span>&nbsp;<span class="ident" id="5538019">encFloat32Slice</span><span class="op" id="5538034">(</span><span class="ident" id="5538035">state</span><span class="op" id="5538040">,</span>&nbsp;<span class="ident" id="5538042">v</span><span class="op" id="5538043">.</span><span class="ident" id="5538044">Slice</span><span class="op" id="5538049">(</span><span class="num" id="5538050">0</span><span class="op" id="5538051">,</span>&nbsp;<span class="ident" id="5538053">v</span><span class="op" id="5538054">.</span><span class="ident" id="5538055">Len</span><span class="op" id="5538058">(</span><span class="op" id="5538059">)</span><span class="op" id="5538060">)</span><span class="op" id="5538061">)</span><br>
<span class="lineno"></span><span class="op" id="5538063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="5538066">func</span>&nbsp;<span class="ident" id="5538071">encFloat32Slice</span><span class="op" id="5538086">(</span><span class="ident" id="5538087">state</span>&nbsp;<span class="op" id="5538093">*</span><span class="ident" id="5538094">encoderState</span><span class="op" id="5538106">,</span>&nbsp;<span class="ident" id="5538108">v</span>&nbsp;<span class="ident" id="5538110">reflect</span><span class="op" id="5538117">.</span><span class="ident" id="5538118">Value</span><span class="op" id="5538123">)</span>&nbsp;<span class="builtintype" id="5538125">bool</span>&nbsp;<span class="op" id="5538130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5538133">slice</span><span class="op" id="5538138">,</span>&nbsp;<span class="ident" id="5538140">ok</span>&nbsp;<span class="op" id="5538143">:=</span>&nbsp;<span class="ident" id="5538146">v</span><span class="op" id="5538147">.</span><span class="ident" id="5538148">Interface</span><span class="op" id="5538157">(</span><span class="op" id="5538158">)</span><span class="op" id="5538159">.</span><span class="op" id="5538160">(</span><span class="op" id="5538161">[</span><span class="op" id="5538162">]</span><span class="builtintype" id="5538163">float32</span><span class="op" id="5538170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538173">if</span>&nbsp;<span class="op" id="5538176">!</span><span class="ident" id="5538177">ok</span>&nbsp;<span class="op" id="5538180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5538184">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538265">return</span>&nbsp;<span class="builtintype" id="5538272">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5538279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538282">for</span>&nbsp;<span class="ident" id="5538286">_</span><span class="op" id="5538287">,</span>&nbsp;<span class="ident" id="5538289">x</span>&nbsp;<span class="op" id="5538291">:=</span>&nbsp;<span class="keyword" id="5538294">range</span>&nbsp;<span class="ident" id="5538300">slice</span>&nbsp;<span class="op" id="5538306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538310">if</span>&nbsp;<span class="ident" id="5538313">x</span>&nbsp;<span class="op" id="5538315">!=</span>&nbsp;<span class="num" id="5538318">0</span>&nbsp;<span class="op" id="5538320">||</span>&nbsp;<span class="ident" id="5538323">state</span><span class="op" id="5538328">.</span><span class="ident" id="5538329">sendZero</span>&nbsp;<span class="op" id="5538338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5538343">bits</span>&nbsp;<span class="op" id="5538348">:=</span>&nbsp;<span class="ident" id="5538351">floatBits</span><span class="op" id="5538360">(</span><span class="builtintype" id="5538361">float64</span><span class="op" id="5538368">(</span><span class="ident" id="5538369">x</span><span class="op" id="5538370">)</span><span class="op" id="5538371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5538376">state</span><span class="op" id="5538381">.</span><span class="ident" id="5538382">encodeUint</span><span class="op" id="5538392">(</span><span class="ident" id="5538393">bits</span><span class="op" id="5538397">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5538401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5538404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538407">return</span>&nbsp;<span class="builtintype" id="5538414">true</span><br>
<span class="lineno"></span><span class="op" id="5538419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="5538422">func</span>&nbsp;<span class="ident" id="5538427">encFloat64Array</span><span class="op" id="5538442">(</span><span class="ident" id="5538443">state</span>&nbsp;<span class="op" id="5538449">*</span><span class="ident" id="5538450">encoderState</span><span class="op" id="5538462">,</span>&nbsp;<span class="ident" id="5538464">v</span>&nbsp;<span class="ident" id="5538466">reflect</span><span class="op" id="5538473">.</span><span class="ident" id="5538474">Value</span><span class="op" id="5538479">)</span>&nbsp;<span class="builtintype" id="5538481">bool</span>&nbsp;<span class="op" id="5538486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5538489">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538530">if</span>&nbsp;<span class="op" id="5538533">!</span><span class="ident" id="5538534">v</span><span class="op" id="5538535">.</span><span class="ident" id="5538536">CanAddr</span><span class="op" id="5538543">(</span><span class="op" id="5538544">)</span>&nbsp;<span class="op" id="5538546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538550">return</span>&nbsp;<span class="builtintype" id="5538557">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5538564">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538567">return</span>&nbsp;<span class="ident" id="5538574">encFloat64Slice</span><span class="op" id="5538589">(</span><span class="ident" id="5538590">state</span><span class="op" id="5538595">,</span>&nbsp;<span class="ident" id="5538597">v</span><span class="op" id="5538598">.</span><span class="ident" id="5538599">Slice</span><span class="op" id="5538604">(</span><span class="num" id="5538605">0</span><span class="op" id="5538606">,</span>&nbsp;<span class="ident" id="5538608">v</span><span class="op" id="5538609">.</span><span class="ident" id="5538610">Len</span><span class="op" id="5538613">(</span><span class="op" id="5538614">)</span><span class="op" id="5538615">)</span><span class="op" id="5538616">)</span><br>
<span class="lineno"></span><span class="op" id="5538618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5538621">func</span>&nbsp;<span class="ident" id="5538626">encFloat64Slice</span><span class="op" id="5538641">(</span><span class="ident" id="5538642">state</span>&nbsp;<span class="op" id="5538648">*</span><span class="ident" id="5538649">encoderState</span><span class="op" id="5538661">,</span>&nbsp;<span class="ident" id="5538663">v</span>&nbsp;<span class="ident" id="5538665">reflect</span><span class="op" id="5538672">.</span><span class="ident" id="5538673">Value</span><span class="op" id="5538678">)</span>&nbsp;<span class="builtintype" id="5538680">bool</span>&nbsp;<span class="op" id="5538685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5538688">slice</span><span class="op" id="5538693">,</span>&nbsp;<span class="ident" id="5538695">ok</span>&nbsp;<span class="op" id="5538698">:=</span>&nbsp;<span class="ident" id="5538701">v</span><span class="op" id="5538702">.</span><span class="ident" id="5538703">Interface</span><span class="op" id="5538712">(</span><span class="op" id="5538713">)</span><span class="op" id="5538714">.</span><span class="op" id="5538715">(</span><span class="op" id="5538716">[</span><span class="op" id="5538717">]</span><span class="builtintype" id="5538718">float64</span><span class="op" id="5538725">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538728">if</span>&nbsp;<span class="op" id="5538731">!</span><span class="ident" id="5538732">ok</span>&nbsp;<span class="op" id="5538735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5538739">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538820">return</span>&nbsp;<span class="builtintype" id="5538827">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5538834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538837">for</span>&nbsp;<span class="ident" id="5538841">_</span><span class="op" id="5538842">,</span>&nbsp;<span class="ident" id="5538844">x</span>&nbsp;<span class="op" id="5538846">:=</span>&nbsp;<span class="keyword" id="5538849">range</span>&nbsp;<span class="ident" id="5538855">slice</span>&nbsp;<span class="op" id="5538861">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538865">if</span>&nbsp;<span class="ident" id="5538868">x</span>&nbsp;<span class="op" id="5538870">!=</span>&nbsp;<span class="num" id="5538873">0</span>&nbsp;<span class="op" id="5538875">||</span>&nbsp;<span class="ident" id="5538878">state</span><span class="op" id="5538883">.</span><span class="ident" id="5538884">sendZero</span>&nbsp;<span class="op" id="5538893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5538898">bits</span>&nbsp;<span class="op" id="5538903">:=</span>&nbsp;<span class="ident" id="5538906">floatBits</span><span class="op" id="5538915">(</span><span class="ident" id="5538916">x</span><span class="op" id="5538917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5538922">state</span><span class="op" id="5538927">.</span><span class="ident" id="5538928">encodeUint</span><span class="op" id="5538938">(</span><span class="ident" id="5538939">bits</span><span class="op" id="5538943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5538947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5538950">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5538953">return</span>&nbsp;<span class="builtintype" id="5538960">true</span><br>
<span class="lineno"></span><span class="op" id="5538965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5538968">func</span>&nbsp;<span class="ident" id="5538973">encIntArray</span><span class="op" id="5538984">(</span><span class="ident" id="5538985">state</span>&nbsp;<span class="op" id="5538991">*</span><span class="ident" id="5538992">encoderState</span><span class="op" id="5539004">,</span>&nbsp;<span class="ident" id="5539006">v</span>&nbsp;<span class="ident" id="5539008">reflect</span><span class="op" id="5539015">.</span><span class="ident" id="5539016">Value</span><span class="op" id="5539021">)</span>&nbsp;<span class="builtintype" id="5539023">bool</span>&nbsp;<span class="op" id="5539028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5539031">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539072">if</span>&nbsp;<span class="op" id="5539075">!</span><span class="ident" id="5539076">v</span><span class="op" id="5539077">.</span><span class="ident" id="5539078">CanAddr</span><span class="op" id="5539085">(</span><span class="op" id="5539086">)</span>&nbsp;<span class="op" id="5539088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539092">return</span>&nbsp;<span class="builtintype" id="5539099">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5539106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539109">return</span>&nbsp;<span class="ident" id="5539116">encIntSlice</span><span class="op" id="5539127">(</span><span class="ident" id="5539128">state</span><span class="op" id="5539133">,</span>&nbsp;<span class="ident" id="5539135">v</span><span class="op" id="5539136">.</span><span class="ident" id="5539137">Slice</span><span class="op" id="5539142">(</span><span class="num" id="5539143">0</span><span class="op" id="5539144">,</span>&nbsp;<span class="ident" id="5539146">v</span><span class="op" id="5539147">.</span><span class="ident" id="5539148">Len</span><span class="op" id="5539151">(</span><span class="op" id="5539152">)</span><span class="op" id="5539153">)</span><span class="op" id="5539154">)</span><br>
<span class="lineno"></span><span class="op" id="5539156">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="5539159">func</span>&nbsp;<span class="ident" id="5539164">encIntSlice</span><span class="op" id="5539175">(</span><span class="ident" id="5539176">state</span>&nbsp;<span class="op" id="5539182">*</span><span class="ident" id="5539183">encoderState</span><span class="op" id="5539195">,</span>&nbsp;<span class="ident" id="5539197">v</span>&nbsp;<span class="ident" id="5539199">reflect</span><span class="op" id="5539206">.</span><span class="ident" id="5539207">Value</span><span class="op" id="5539212">)</span>&nbsp;<span class="builtintype" id="5539214">bool</span>&nbsp;<span class="op" id="5539219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5539222">slice</span><span class="op" id="5539227">,</span>&nbsp;<span class="ident" id="5539229">ok</span>&nbsp;<span class="op" id="5539232">:=</span>&nbsp;<span class="ident" id="5539235">v</span><span class="op" id="5539236">.</span><span class="ident" id="5539237">Interface</span><span class="op" id="5539246">(</span><span class="op" id="5539247">)</span><span class="op" id="5539248">.</span><span class="op" id="5539249">(</span><span class="op" id="5539250">[</span><span class="op" id="5539251">]</span><span class="builtintype" id="5539252">int</span><span class="op" id="5539255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539258">if</span>&nbsp;<span class="op" id="5539261">!</span><span class="ident" id="5539262">ok</span>&nbsp;<span class="op" id="5539265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5539269">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539342">return</span>&nbsp;<span class="builtintype" id="5539349">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5539356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539359">for</span>&nbsp;<span class="ident" id="5539363">_</span><span class="op" id="5539364">,</span>&nbsp;<span class="ident" id="5539366">x</span>&nbsp;<span class="op" id="5539368">:=</span>&nbsp;<span class="keyword" id="5539371">range</span>&nbsp;<span class="ident" id="5539377">slice</span>&nbsp;<span class="op" id="5539383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539387">if</span>&nbsp;<span class="ident" id="5539390">x</span>&nbsp;<span class="op" id="5539392">!=</span>&nbsp;<span class="num" id="5539395">0</span>&nbsp;<span class="op" id="5539397">||</span>&nbsp;<span class="ident" id="5539400">state</span><span class="op" id="5539405">.</span><span class="ident" id="5539406">sendZero</span>&nbsp;<span class="op" id="5539415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5539420">state</span><span class="op" id="5539425">.</span><span class="ident" id="5539426">encodeInt</span><span class="op" id="5539435">(</span><span class="ident" id="5539436">int64</span><span class="op" id="5539441">(</span><span class="ident" id="5539442">x</span><span class="op" id="5539443">)</span><span class="op" id="5539444">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5539448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5539451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539454">return</span>&nbsp;<span class="builtintype" id="5539461">true</span><br>
<span class="lineno"></span><span class="op" id="5539466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="5539469">func</span>&nbsp;<span class="ident" id="5539474">encInt16Array</span><span class="op" id="5539487">(</span><span class="ident" id="5539488">state</span>&nbsp;<span class="op" id="5539494">*</span><span class="ident" id="5539495">encoderState</span><span class="op" id="5539507">,</span>&nbsp;<span class="ident" id="5539509">v</span>&nbsp;<span class="ident" id="5539511">reflect</span><span class="op" id="5539518">.</span><span class="ident" id="5539519">Value</span><span class="op" id="5539524">)</span>&nbsp;<span class="builtintype" id="5539526">bool</span>&nbsp;<span class="op" id="5539531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5539534">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539575">if</span>&nbsp;<span class="op" id="5539578">!</span><span class="ident" id="5539579">v</span><span class="op" id="5539580">.</span><span class="ident" id="5539581">CanAddr</span><span class="op" id="5539588">(</span><span class="op" id="5539589">)</span>&nbsp;<span class="op" id="5539591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539595">return</span>&nbsp;<span class="builtintype" id="5539602">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5539609">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539612">return</span>&nbsp;<span class="ident" id="5539619">encInt16Slice</span><span class="op" id="5539632">(</span><span class="ident" id="5539633">state</span><span class="op" id="5539638">,</span>&nbsp;<span class="ident" id="5539640">v</span><span class="op" id="5539641">.</span><span class="ident" id="5539642">Slice</span><span class="op" id="5539647">(</span><span class="num" id="5539648">0</span><span class="op" id="5539649">,</span>&nbsp;<span class="ident" id="5539651">v</span><span class="op" id="5539652">.</span><span class="ident" id="5539653">Len</span><span class="op" id="5539656">(</span><span class="op" id="5539657">)</span><span class="op" id="5539658">)</span><span class="op" id="5539659">)</span><br>
<span class="lineno"></span><span class="op" id="5539661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5539664">func</span>&nbsp;<span class="ident" id="5539669">encInt16Slice</span><span class="op" id="5539682">(</span><span class="ident" id="5539683">state</span>&nbsp;<span class="op" id="5539689">*</span><span class="ident" id="5539690">encoderState</span><span class="op" id="5539702">,</span>&nbsp;<span class="ident" id="5539704">v</span>&nbsp;<span class="ident" id="5539706">reflect</span><span class="op" id="5539713">.</span><span class="ident" id="5539714">Value</span><span class="op" id="5539719">)</span>&nbsp;<span class="builtintype" id="5539721">bool</span>&nbsp;<span class="op" id="5539726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5539729">slice</span><span class="op" id="5539734">,</span>&nbsp;<span class="ident" id="5539736">ok</span>&nbsp;<span class="op" id="5539739">:=</span>&nbsp;<span class="ident" id="5539742">v</span><span class="op" id="5539743">.</span><span class="ident" id="5539744">Interface</span><span class="op" id="5539753">(</span><span class="op" id="5539754">)</span><span class="op" id="5539755">.</span><span class="op" id="5539756">(</span><span class="op" id="5539757">[</span><span class="op" id="5539758">]</span><span class="builtintype" id="5539759">int16</span><span class="op" id="5539764">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539767">if</span>&nbsp;<span class="op" id="5539770">!</span><span class="ident" id="5539771">ok</span>&nbsp;<span class="op" id="5539774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5539778">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539855">return</span>&nbsp;<span class="builtintype" id="5539862">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5539869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539872">for</span>&nbsp;<span class="ident" id="5539876">_</span><span class="op" id="5539877">,</span>&nbsp;<span class="ident" id="5539879">x</span>&nbsp;<span class="op" id="5539881">:=</span>&nbsp;<span class="keyword" id="5539884">range</span>&nbsp;<span class="ident" id="5539890">slice</span>&nbsp;<span class="op" id="5539896">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539900">if</span>&nbsp;<span class="ident" id="5539903">x</span>&nbsp;<span class="op" id="5539905">!=</span>&nbsp;<span class="num" id="5539908">0</span>&nbsp;<span class="op" id="5539910">||</span>&nbsp;<span class="ident" id="5539913">state</span><span class="op" id="5539918">.</span><span class="ident" id="5539919">sendZero</span>&nbsp;<span class="op" id="5539928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5539933">state</span><span class="op" id="5539938">.</span><span class="ident" id="5539939">encodeInt</span><span class="op" id="5539948">(</span><span class="ident" id="5539949">int64</span><span class="op" id="5539954">(</span><span class="ident" id="5539955">x</span><span class="op" id="5539956">)</span><span class="op" id="5539957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5539961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5539964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5539967">return</span>&nbsp;<span class="builtintype" id="5539974">true</span><br>
<span class="lineno">215</span><span class="op" id="5539979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5539982">func</span>&nbsp;<span class="ident" id="5539987">encInt32Array</span><span class="op" id="5540000">(</span><span class="ident" id="5540001">state</span>&nbsp;<span class="op" id="5540007">*</span><span class="ident" id="5540008">encoderState</span><span class="op" id="5540020">,</span>&nbsp;<span class="ident" id="5540022">v</span>&nbsp;<span class="ident" id="5540024">reflect</span><span class="op" id="5540031">.</span><span class="ident" id="5540032">Value</span><span class="op" id="5540037">)</span>&nbsp;<span class="builtintype" id="5540039">bool</span>&nbsp;<span class="op" id="5540044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5540047">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540088">if</span>&nbsp;<span class="op" id="5540091">!</span><span class="ident" id="5540092">v</span><span class="op" id="5540093">.</span><span class="ident" id="5540094">CanAddr</span><span class="op" id="5540101">(</span><span class="op" id="5540102">)</span>&nbsp;<span class="op" id="5540104">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540108">return</span>&nbsp;<span class="builtintype" id="5540115">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5540122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540125">return</span>&nbsp;<span class="ident" id="5540132">encInt32Slice</span><span class="op" id="5540145">(</span><span class="ident" id="5540146">state</span><span class="op" id="5540151">,</span>&nbsp;<span class="ident" id="5540153">v</span><span class="op" id="5540154">.</span><span class="ident" id="5540155">Slice</span><span class="op" id="5540160">(</span><span class="num" id="5540161">0</span><span class="op" id="5540162">,</span>&nbsp;<span class="ident" id="5540164">v</span><span class="op" id="5540165">.</span><span class="ident" id="5540166">Len</span><span class="op" id="5540169">(</span><span class="op" id="5540170">)</span><span class="op" id="5540171">)</span><span class="op" id="5540172">)</span><br>
<span class="lineno"></span><span class="op" id="5540174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="5540177">func</span>&nbsp;<span class="ident" id="5540182">encInt32Slice</span><span class="op" id="5540195">(</span><span class="ident" id="5540196">state</span>&nbsp;<span class="op" id="5540202">*</span><span class="ident" id="5540203">encoderState</span><span class="op" id="5540215">,</span>&nbsp;<span class="ident" id="5540217">v</span>&nbsp;<span class="ident" id="5540219">reflect</span><span class="op" id="5540226">.</span><span class="ident" id="5540227">Value</span><span class="op" id="5540232">)</span>&nbsp;<span class="builtintype" id="5540234">bool</span>&nbsp;<span class="op" id="5540239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5540242">slice</span><span class="op" id="5540247">,</span>&nbsp;<span class="ident" id="5540249">ok</span>&nbsp;<span class="op" id="5540252">:=</span>&nbsp;<span class="ident" id="5540255">v</span><span class="op" id="5540256">.</span><span class="ident" id="5540257">Interface</span><span class="op" id="5540266">(</span><span class="op" id="5540267">)</span><span class="op" id="5540268">.</span><span class="op" id="5540269">(</span><span class="op" id="5540270">[</span><span class="op" id="5540271">]</span><span class="builtintype" id="5540272">int32</span><span class="op" id="5540277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540280">if</span>&nbsp;<span class="op" id="5540283">!</span><span class="ident" id="5540284">ok</span>&nbsp;<span class="op" id="5540287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5540291">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540368">return</span>&nbsp;<span class="builtintype" id="5540375">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5540382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540385">for</span>&nbsp;<span class="ident" id="5540389">_</span><span class="op" id="5540390">,</span>&nbsp;<span class="ident" id="5540392">x</span>&nbsp;<span class="op" id="5540394">:=</span>&nbsp;<span class="keyword" id="5540397">range</span>&nbsp;<span class="ident" id="5540403">slice</span>&nbsp;<span class="op" id="5540409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540413">if</span>&nbsp;<span class="ident" id="5540416">x</span>&nbsp;<span class="op" id="5540418">!=</span>&nbsp;<span class="num" id="5540421">0</span>&nbsp;<span class="op" id="5540423">||</span>&nbsp;<span class="ident" id="5540426">state</span><span class="op" id="5540431">.</span><span class="ident" id="5540432">sendZero</span>&nbsp;<span class="op" id="5540441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5540446">state</span><span class="op" id="5540451">.</span><span class="ident" id="5540452">encodeInt</span><span class="op" id="5540461">(</span><span class="ident" id="5540462">int64</span><span class="op" id="5540467">(</span><span class="ident" id="5540468">x</span><span class="op" id="5540469">)</span><span class="op" id="5540470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5540474">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5540477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540480">return</span>&nbsp;<span class="builtintype" id="5540487">true</span><br>
<span class="lineno"></span><span class="op" id="5540492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5540495">func</span>&nbsp;<span class="ident" id="5540500">encInt64Array</span><span class="op" id="5540513">(</span><span class="ident" id="5540514">state</span>&nbsp;<span class="op" id="5540520">*</span><span class="ident" id="5540521">encoderState</span><span class="op" id="5540533">,</span>&nbsp;<span class="ident" id="5540535">v</span>&nbsp;<span class="ident" id="5540537">reflect</span><span class="op" id="5540544">.</span><span class="ident" id="5540545">Value</span><span class="op" id="5540550">)</span>&nbsp;<span class="builtintype" id="5540552">bool</span>&nbsp;<span class="op" id="5540557">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5540560">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540601">if</span>&nbsp;<span class="op" id="5540604">!</span><span class="ident" id="5540605">v</span><span class="op" id="5540606">.</span><span class="ident" id="5540607">CanAddr</span><span class="op" id="5540614">(</span><span class="op" id="5540615">)</span>&nbsp;<span class="op" id="5540617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540621">return</span>&nbsp;<span class="builtintype" id="5540628">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5540635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540638">return</span>&nbsp;<span class="ident" id="5540645">encInt64Slice</span><span class="op" id="5540658">(</span><span class="ident" id="5540659">state</span><span class="op" id="5540664">,</span>&nbsp;<span class="ident" id="5540666">v</span><span class="op" id="5540667">.</span><span class="ident" id="5540668">Slice</span><span class="op" id="5540673">(</span><span class="num" id="5540674">0</span><span class="op" id="5540675">,</span>&nbsp;<span class="ident" id="5540677">v</span><span class="op" id="5540678">.</span><span class="ident" id="5540679">Len</span><span class="op" id="5540682">(</span><span class="op" id="5540683">)</span><span class="op" id="5540684">)</span><span class="op" id="5540685">)</span><br>
<span class="lineno">245</span><span class="op" id="5540687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5540690">func</span>&nbsp;<span class="ident" id="5540695">encInt64Slice</span><span class="op" id="5540708">(</span><span class="ident" id="5540709">state</span>&nbsp;<span class="op" id="5540715">*</span><span class="ident" id="5540716">encoderState</span><span class="op" id="5540728">,</span>&nbsp;<span class="ident" id="5540730">v</span>&nbsp;<span class="ident" id="5540732">reflect</span><span class="op" id="5540739">.</span><span class="ident" id="5540740">Value</span><span class="op" id="5540745">)</span>&nbsp;<span class="builtintype" id="5540747">bool</span>&nbsp;<span class="op" id="5540752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5540755">slice</span><span class="op" id="5540760">,</span>&nbsp;<span class="ident" id="5540762">ok</span>&nbsp;<span class="op" id="5540765">:=</span>&nbsp;<span class="ident" id="5540768">v</span><span class="op" id="5540769">.</span><span class="ident" id="5540770">Interface</span><span class="op" id="5540779">(</span><span class="op" id="5540780">)</span><span class="op" id="5540781">.</span><span class="op" id="5540782">(</span><span class="op" id="5540783">[</span><span class="op" id="5540784">]</span><span class="ident" id="5540785">int64</span><span class="op" id="5540790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540793">if</span>&nbsp;<span class="op" id="5540796">!</span><span class="ident" id="5540797">ok</span>&nbsp;<span class="op" id="5540800">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5540804">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540881">return</span>&nbsp;<span class="builtintype" id="5540888">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5540895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540898">for</span>&nbsp;<span class="ident" id="5540902">_</span><span class="op" id="5540903">,</span>&nbsp;<span class="ident" id="5540905">x</span>&nbsp;<span class="op" id="5540907">:=</span>&nbsp;<span class="keyword" id="5540910">range</span>&nbsp;<span class="ident" id="5540916">slice</span>&nbsp;<span class="op" id="5540922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540926">if</span>&nbsp;<span class="ident" id="5540929">x</span>&nbsp;<span class="op" id="5540931">!=</span>&nbsp;<span class="num" id="5540934">0</span>&nbsp;<span class="op" id="5540936">||</span>&nbsp;<span class="ident" id="5540939">state</span><span class="op" id="5540944">.</span><span class="ident" id="5540945">sendZero</span>&nbsp;<span class="op" id="5540954">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5540959">state</span><span class="op" id="5540964">.</span><span class="ident" id="5540965">encodeInt</span><span class="op" id="5540974">(</span><span class="ident" id="5540975">x</span><span class="op" id="5540976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5540980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5540983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5540986">return</span>&nbsp;<span class="builtintype" id="5540993">true</span><br>
<span class="lineno"></span><span class="op" id="5540998">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5541001">func</span>&nbsp;<span class="ident" id="5541006">encInt8Array</span><span class="op" id="5541018">(</span><span class="ident" id="5541019">state</span>&nbsp;<span class="op" id="5541025">*</span><span class="ident" id="5541026">encoderState</span><span class="op" id="5541038">,</span>&nbsp;<span class="ident" id="5541040">v</span>&nbsp;<span class="ident" id="5541042">reflect</span><span class="op" id="5541049">.</span><span class="ident" id="5541050">Value</span><span class="op" id="5541055">)</span>&nbsp;<span class="builtintype" id="5541057">bool</span>&nbsp;<span class="op" id="5541062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5541065">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541106">if</span>&nbsp;<span class="op" id="5541109">!</span><span class="ident" id="5541110">v</span><span class="op" id="5541111">.</span><span class="ident" id="5541112">CanAddr</span><span class="op" id="5541119">(</span><span class="op" id="5541120">)</span>&nbsp;<span class="op" id="5541122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541126">return</span>&nbsp;<span class="builtintype" id="5541133">false</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5541140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541143">return</span>&nbsp;<span class="ident" id="5541150">encInt8Slice</span><span class="op" id="5541162">(</span><span class="ident" id="5541163">state</span><span class="op" id="5541168">,</span>&nbsp;<span class="ident" id="5541170">v</span><span class="op" id="5541171">.</span><span class="ident" id="5541172">Slice</span><span class="op" id="5541177">(</span><span class="num" id="5541178">0</span><span class="op" id="5541179">,</span>&nbsp;<span class="ident" id="5541181">v</span><span class="op" id="5541182">.</span><span class="ident" id="5541183">Len</span><span class="op" id="5541186">(</span><span class="op" id="5541187">)</span><span class="op" id="5541188">)</span><span class="op" id="5541189">)</span><br>
<span class="lineno"></span><span class="op" id="5541191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5541194">func</span>&nbsp;<span class="ident" id="5541199">encInt8Slice</span><span class="op" id="5541211">(</span><span class="ident" id="5541212">state</span>&nbsp;<span class="op" id="5541218">*</span><span class="ident" id="5541219">encoderState</span><span class="op" id="5541231">,</span>&nbsp;<span class="ident" id="5541233">v</span>&nbsp;<span class="ident" id="5541235">reflect</span><span class="op" id="5541242">.</span><span class="ident" id="5541243">Value</span><span class="op" id="5541248">)</span>&nbsp;<span class="builtintype" id="5541250">bool</span>&nbsp;<span class="op" id="5541255">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5541258">slice</span><span class="op" id="5541263">,</span>&nbsp;<span class="ident" id="5541265">ok</span>&nbsp;<span class="op" id="5541268">:=</span>&nbsp;<span class="ident" id="5541271">v</span><span class="op" id="5541272">.</span><span class="ident" id="5541273">Interface</span><span class="op" id="5541282">(</span><span class="op" id="5541283">)</span><span class="op" id="5541284">.</span><span class="op" id="5541285">(</span><span class="op" id="5541286">[</span><span class="op" id="5541287">]</span><span class="builtintype" id="5541288">int8</span><span class="op" id="5541292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541295">if</span>&nbsp;<span class="op" id="5541298">!</span><span class="ident" id="5541299">ok</span>&nbsp;<span class="op" id="5541302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5541306">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541381">return</span>&nbsp;<span class="builtintype" id="5541388">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5541395">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541398">for</span>&nbsp;<span class="ident" id="5541402">_</span><span class="op" id="5541403">,</span>&nbsp;<span class="ident" id="5541405">x</span>&nbsp;<span class="op" id="5541407">:=</span>&nbsp;<span class="keyword" id="5541410">range</span>&nbsp;<span class="ident" id="5541416">slice</span>&nbsp;<span class="op" id="5541422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541426">if</span>&nbsp;<span class="ident" id="5541429">x</span>&nbsp;<span class="op" id="5541431">!=</span>&nbsp;<span class="num" id="5541434">0</span>&nbsp;<span class="op" id="5541436">||</span>&nbsp;<span class="ident" id="5541439">state</span><span class="op" id="5541444">.</span><span class="ident" id="5541445">sendZero</span>&nbsp;<span class="op" id="5541454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5541459">state</span><span class="op" id="5541464">.</span><span class="ident" id="5541465">encodeInt</span><span class="op" id="5541474">(</span><span class="ident" id="5541475">int64</span><span class="op" id="5541480">(</span><span class="ident" id="5541481">x</span><span class="op" id="5541482">)</span><span class="op" id="5541483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5541487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5541490">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541493">return</span>&nbsp;<span class="builtintype" id="5541500">true</span><br>
<span class="lineno"></span><span class="op" id="5541505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5541508">func</span>&nbsp;<span class="ident" id="5541513">encStringArray</span><span class="op" id="5541527">(</span><span class="ident" id="5541528">state</span>&nbsp;<span class="op" id="5541534">*</span><span class="ident" id="5541535">encoderState</span><span class="op" id="5541547">,</span>&nbsp;<span class="ident" id="5541549">v</span>&nbsp;<span class="ident" id="5541551">reflect</span><span class="op" id="5541558">.</span><span class="ident" id="5541559">Value</span><span class="op" id="5541564">)</span>&nbsp;<span class="builtintype" id="5541566">bool</span>&nbsp;<span class="op" id="5541571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5541574">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541615">if</span>&nbsp;<span class="op" id="5541618">!</span><span class="ident" id="5541619">v</span><span class="op" id="5541620">.</span><span class="ident" id="5541621">CanAddr</span><span class="op" id="5541628">(</span><span class="op" id="5541629">)</span>&nbsp;<span class="op" id="5541631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541635">return</span>&nbsp;<span class="builtintype" id="5541642">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5541649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541652">return</span>&nbsp;<span class="ident" id="5541659">encStringSlice</span><span class="op" id="5541673">(</span><span class="ident" id="5541674">state</span><span class="op" id="5541679">,</span>&nbsp;<span class="ident" id="5541681">v</span><span class="op" id="5541682">.</span><span class="ident" id="5541683">Slice</span><span class="op" id="5541688">(</span><span class="num" id="5541689">0</span><span class="op" id="5541690">,</span>&nbsp;<span class="ident" id="5541692">v</span><span class="op" id="5541693">.</span><span class="ident" id="5541694">Len</span><span class="op" id="5541697">(</span><span class="op" id="5541698">)</span><span class="op" id="5541699">)</span><span class="op" id="5541700">)</span><br>
<span class="lineno"></span><span class="op" id="5541702">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="5541705">func</span>&nbsp;<span class="ident" id="5541710">encStringSlice</span><span class="op" id="5541724">(</span><span class="ident" id="5541725">state</span>&nbsp;<span class="op" id="5541731">*</span><span class="ident" id="5541732">encoderState</span><span class="op" id="5541744">,</span>&nbsp;<span class="ident" id="5541746">v</span>&nbsp;<span class="ident" id="5541748">reflect</span><span class="op" id="5541755">.</span><span class="ident" id="5541756">Value</span><span class="op" id="5541761">)</span>&nbsp;<span class="builtintype" id="5541763">bool</span>&nbsp;<span class="op" id="5541768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5541771">slice</span><span class="op" id="5541776">,</span>&nbsp;<span class="ident" id="5541778">ok</span>&nbsp;<span class="op" id="5541781">:=</span>&nbsp;<span class="ident" id="5541784">v</span><span class="op" id="5541785">.</span><span class="ident" id="5541786">Interface</span><span class="op" id="5541795">(</span><span class="op" id="5541796">)</span><span class="op" id="5541797">.</span><span class="op" id="5541798">(</span><span class="op" id="5541799">[</span><span class="op" id="5541800">]</span><span class="builtintype" id="5541801">string</span><span class="op" id="5541807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541810">if</span>&nbsp;<span class="op" id="5541813">!</span><span class="ident" id="5541814">ok</span>&nbsp;<span class="op" id="5541817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5541821">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541900">return</span>&nbsp;<span class="builtintype" id="5541907">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5541914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541917">for</span>&nbsp;<span class="ident" id="5541921">_</span><span class="op" id="5541922">,</span>&nbsp;<span class="ident" id="5541924">x</span>&nbsp;<span class="op" id="5541926">:=</span>&nbsp;<span class="keyword" id="5541929">range</span>&nbsp;<span class="ident" id="5541935">slice</span>&nbsp;<span class="op" id="5541941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5541945">if</span>&nbsp;<span class="ident" id="5541948">x</span>&nbsp;<span class="op" id="5541950">!=</span>&nbsp;<span class="string" id="5541953">&#34;&#34;</span>&nbsp;<span class="op" id="5541956">||</span>&nbsp;<span class="ident" id="5541959">state</span><span class="op" id="5541964">.</span><span class="ident" id="5541965">sendZero</span>&nbsp;<span class="op" id="5541974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5541979">state</span><span class="op" id="5541984">.</span><span class="ident" id="5541985">encodeUint</span><span class="op" id="5541995">(</span><span class="ident" id="5541996">uint64</span><span class="op" id="5542002">(</span><span class="builtinfunc" id="5542003">len</span><span class="op" id="5542006">(</span><span class="ident" id="5542007">x</span><span class="op" id="5542008">)</span><span class="op" id="5542009">)</span><span class="op" id="5542010">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5542015">state</span><span class="op" id="5542020">.</span><span class="ident" id="5542021">b</span><span class="op" id="5542022">.</span><span class="ident" id="5542023">WriteString</span><span class="op" id="5542034">(</span><span class="ident" id="5542035">x</span><span class="op" id="5542036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5542040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5542043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542046">return</span>&nbsp;<span class="builtintype" id="5542053">true</span><br>
<span class="lineno"></span><span class="op" id="5542058">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="5542061">func</span>&nbsp;<span class="ident" id="5542066">encUintArray</span><span class="op" id="5542078">(</span><span class="ident" id="5542079">state</span>&nbsp;<span class="op" id="5542085">*</span><span class="ident" id="5542086">encoderState</span><span class="op" id="5542098">,</span>&nbsp;<span class="ident" id="5542100">v</span>&nbsp;<span class="ident" id="5542102">reflect</span><span class="op" id="5542109">.</span><span class="ident" id="5542110">Value</span><span class="op" id="5542115">)</span>&nbsp;<span class="builtintype" id="5542117">bool</span>&nbsp;<span class="op" id="5542122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5542125">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542166">if</span>&nbsp;<span class="op" id="5542169">!</span><span class="ident" id="5542170">v</span><span class="op" id="5542171">.</span><span class="ident" id="5542172">CanAddr</span><span class="op" id="5542179">(</span><span class="op" id="5542180">)</span>&nbsp;<span class="op" id="5542182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542186">return</span>&nbsp;<span class="builtintype" id="5542193">false</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5542200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542203">return</span>&nbsp;<span class="ident" id="5542210">encUintSlice</span><span class="op" id="5542222">(</span><span class="ident" id="5542223">state</span><span class="op" id="5542228">,</span>&nbsp;<span class="ident" id="5542230">v</span><span class="op" id="5542231">.</span><span class="ident" id="5542232">Slice</span><span class="op" id="5542237">(</span><span class="num" id="5542238">0</span><span class="op" id="5542239">,</span>&nbsp;<span class="ident" id="5542241">v</span><span class="op" id="5542242">.</span><span class="ident" id="5542243">Len</span><span class="op" id="5542246">(</span><span class="op" id="5542247">)</span><span class="op" id="5542248">)</span><span class="op" id="5542249">)</span><br>
<span class="lineno"></span><span class="op" id="5542251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5542254">func</span>&nbsp;<span class="ident" id="5542259">encUintSlice</span><span class="op" id="5542271">(</span><span class="ident" id="5542272">state</span>&nbsp;<span class="op" id="5542278">*</span><span class="ident" id="5542279">encoderState</span><span class="op" id="5542291">,</span>&nbsp;<span class="ident" id="5542293">v</span>&nbsp;<span class="ident" id="5542295">reflect</span><span class="op" id="5542302">.</span><span class="ident" id="5542303">Value</span><span class="op" id="5542308">)</span>&nbsp;<span class="builtintype" id="5542310">bool</span>&nbsp;<span class="op" id="5542315">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5542318">slice</span><span class="op" id="5542323">,</span>&nbsp;<span class="ident" id="5542325">ok</span>&nbsp;<span class="op" id="5542328">:=</span>&nbsp;<span class="ident" id="5542331">v</span><span class="op" id="5542332">.</span><span class="ident" id="5542333">Interface</span><span class="op" id="5542342">(</span><span class="op" id="5542343">)</span><span class="op" id="5542344">.</span><span class="op" id="5542345">(</span><span class="op" id="5542346">[</span><span class="op" id="5542347">]</span><span class="builtintype" id="5542348">uint</span><span class="op" id="5542352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542355">if</span>&nbsp;<span class="op" id="5542358">!</span><span class="ident" id="5542359">ok</span>&nbsp;<span class="op" id="5542362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5542366">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542441">return</span>&nbsp;<span class="builtintype" id="5542448">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5542455">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542458">for</span>&nbsp;<span class="ident" id="5542462">_</span><span class="op" id="5542463">,</span>&nbsp;<span class="ident" id="5542465">x</span>&nbsp;<span class="op" id="5542467">:=</span>&nbsp;<span class="keyword" id="5542470">range</span>&nbsp;<span class="ident" id="5542476">slice</span>&nbsp;<span class="op" id="5542482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542486">if</span>&nbsp;<span class="ident" id="5542489">x</span>&nbsp;<span class="op" id="5542491">!=</span>&nbsp;<span class="num" id="5542494">0</span>&nbsp;<span class="op" id="5542496">||</span>&nbsp;<span class="ident" id="5542499">state</span><span class="op" id="5542504">.</span><span class="ident" id="5542505">sendZero</span>&nbsp;<span class="op" id="5542514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5542519">state</span><span class="op" id="5542524">.</span><span class="ident" id="5542525">encodeUint</span><span class="op" id="5542535">(</span><span class="ident" id="5542536">uint64</span><span class="op" id="5542542">(</span><span class="ident" id="5542543">x</span><span class="op" id="5542544">)</span><span class="op" id="5542545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5542549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5542552">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542555">return</span>&nbsp;<span class="builtintype" id="5542562">true</span><br>
<span class="lineno"></span><span class="op" id="5542567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5542570">func</span>&nbsp;<span class="ident" id="5542575">encUint16Array</span><span class="op" id="5542589">(</span><span class="ident" id="5542590">state</span>&nbsp;<span class="op" id="5542596">*</span><span class="ident" id="5542597">encoderState</span><span class="op" id="5542609">,</span>&nbsp;<span class="ident" id="5542611">v</span>&nbsp;<span class="ident" id="5542613">reflect</span><span class="op" id="5542620">.</span><span class="ident" id="5542621">Value</span><span class="op" id="5542626">)</span>&nbsp;<span class="builtintype" id="5542628">bool</span>&nbsp;<span class="op" id="5542633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5542636">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542677">if</span>&nbsp;<span class="op" id="5542680">!</span><span class="ident" id="5542681">v</span><span class="op" id="5542682">.</span><span class="ident" id="5542683">CanAddr</span><span class="op" id="5542690">(</span><span class="op" id="5542691">)</span>&nbsp;<span class="op" id="5542693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542697">return</span>&nbsp;<span class="builtintype" id="5542704">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5542711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542714">return</span>&nbsp;<span class="ident" id="5542721">encUint16Slice</span><span class="op" id="5542735">(</span><span class="ident" id="5542736">state</span><span class="op" id="5542741">,</span>&nbsp;<span class="ident" id="5542743">v</span><span class="op" id="5542744">.</span><span class="ident" id="5542745">Slice</span><span class="op" id="5542750">(</span><span class="num" id="5542751">0</span><span class="op" id="5542752">,</span>&nbsp;<span class="ident" id="5542754">v</span><span class="op" id="5542755">.</span><span class="ident" id="5542756">Len</span><span class="op" id="5542759">(</span><span class="op" id="5542760">)</span><span class="op" id="5542761">)</span><span class="op" id="5542762">)</span><br>
<span class="lineno"></span><span class="op" id="5542764">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="5542767">func</span>&nbsp;<span class="ident" id="5542772">encUint16Slice</span><span class="op" id="5542786">(</span><span class="ident" id="5542787">state</span>&nbsp;<span class="op" id="5542793">*</span><span class="ident" id="5542794">encoderState</span><span class="op" id="5542806">,</span>&nbsp;<span class="ident" id="5542808">v</span>&nbsp;<span class="ident" id="5542810">reflect</span><span class="op" id="5542817">.</span><span class="ident" id="5542818">Value</span><span class="op" id="5542823">)</span>&nbsp;<span class="builtintype" id="5542825">bool</span>&nbsp;<span class="op" id="5542830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5542833">slice</span><span class="op" id="5542838">,</span>&nbsp;<span class="ident" id="5542840">ok</span>&nbsp;<span class="op" id="5542843">:=</span>&nbsp;<span class="ident" id="5542846">v</span><span class="op" id="5542847">.</span><span class="ident" id="5542848">Interface</span><span class="op" id="5542857">(</span><span class="op" id="5542858">)</span><span class="op" id="5542859">.</span><span class="op" id="5542860">(</span><span class="op" id="5542861">[</span><span class="op" id="5542862">]</span><span class="builtintype" id="5542863">uint16</span><span class="op" id="5542869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542872">if</span>&nbsp;<span class="op" id="5542875">!</span><span class="ident" id="5542876">ok</span>&nbsp;<span class="op" id="5542879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5542883">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542962">return</span>&nbsp;<span class="builtintype" id="5542969">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5542976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5542979">for</span>&nbsp;<span class="ident" id="5542983">_</span><span class="op" id="5542984">,</span>&nbsp;<span class="ident" id="5542986">x</span>&nbsp;<span class="op" id="5542988">:=</span>&nbsp;<span class="keyword" id="5542991">range</span>&nbsp;<span class="ident" id="5542997">slice</span>&nbsp;<span class="op" id="5543003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543007">if</span>&nbsp;<span class="ident" id="5543010">x</span>&nbsp;<span class="op" id="5543012">!=</span>&nbsp;<span class="num" id="5543015">0</span>&nbsp;<span class="op" id="5543017">||</span>&nbsp;<span class="ident" id="5543020">state</span><span class="op" id="5543025">.</span><span class="ident" id="5543026">sendZero</span>&nbsp;<span class="op" id="5543035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5543040">state</span><span class="op" id="5543045">.</span><span class="ident" id="5543046">encodeUint</span><span class="op" id="5543056">(</span><span class="ident" id="5543057">uint64</span><span class="op" id="5543063">(</span><span class="ident" id="5543064">x</span><span class="op" id="5543065">)</span><span class="op" id="5543066">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5543070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5543073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543076">return</span>&nbsp;<span class="builtintype" id="5543083">true</span><br>
<span class="lineno"></span><span class="op" id="5543088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="5543091">func</span>&nbsp;<span class="ident" id="5543096">encUint32Array</span><span class="op" id="5543110">(</span><span class="ident" id="5543111">state</span>&nbsp;<span class="op" id="5543117">*</span><span class="ident" id="5543118">encoderState</span><span class="op" id="5543130">,</span>&nbsp;<span class="ident" id="5543132">v</span>&nbsp;<span class="ident" id="5543134">reflect</span><span class="op" id="5543141">.</span><span class="ident" id="5543142">Value</span><span class="op" id="5543147">)</span>&nbsp;<span class="builtintype" id="5543149">bool</span>&nbsp;<span class="op" id="5543154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5543157">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543198">if</span>&nbsp;<span class="op" id="5543201">!</span><span class="ident" id="5543202">v</span><span class="op" id="5543203">.</span><span class="ident" id="5543204">CanAddr</span><span class="op" id="5543211">(</span><span class="op" id="5543212">)</span>&nbsp;<span class="op" id="5543214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543218">return</span>&nbsp;<span class="builtintype" id="5543225">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5543232">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543235">return</span>&nbsp;<span class="ident" id="5543242">encUint32Slice</span><span class="op" id="5543256">(</span><span class="ident" id="5543257">state</span><span class="op" id="5543262">,</span>&nbsp;<span class="ident" id="5543264">v</span><span class="op" id="5543265">.</span><span class="ident" id="5543266">Slice</span><span class="op" id="5543271">(</span><span class="num" id="5543272">0</span><span class="op" id="5543273">,</span>&nbsp;<span class="ident" id="5543275">v</span><span class="op" id="5543276">.</span><span class="ident" id="5543277">Len</span><span class="op" id="5543280">(</span><span class="op" id="5543281">)</span><span class="op" id="5543282">)</span><span class="op" id="5543283">)</span><br>
<span class="lineno"></span><span class="op" id="5543285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5543288">func</span>&nbsp;<span class="ident" id="5543293">encUint32Slice</span><span class="op" id="5543307">(</span><span class="ident" id="5543308">state</span>&nbsp;<span class="op" id="5543314">*</span><span class="ident" id="5543315">encoderState</span><span class="op" id="5543327">,</span>&nbsp;<span class="ident" id="5543329">v</span>&nbsp;<span class="ident" id="5543331">reflect</span><span class="op" id="5543338">.</span><span class="ident" id="5543339">Value</span><span class="op" id="5543344">)</span>&nbsp;<span class="builtintype" id="5543346">bool</span>&nbsp;<span class="op" id="5543351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5543354">slice</span><span class="op" id="5543359">,</span>&nbsp;<span class="ident" id="5543361">ok</span>&nbsp;<span class="op" id="5543364">:=</span>&nbsp;<span class="ident" id="5543367">v</span><span class="op" id="5543368">.</span><span class="ident" id="5543369">Interface</span><span class="op" id="5543378">(</span><span class="op" id="5543379">)</span><span class="op" id="5543380">.</span><span class="op" id="5543381">(</span><span class="op" id="5543382">[</span><span class="op" id="5543383">]</span><span class="builtintype" id="5543384">uint32</span><span class="op" id="5543390">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543393">if</span>&nbsp;<span class="op" id="5543396">!</span><span class="ident" id="5543397">ok</span>&nbsp;<span class="op" id="5543400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5543404">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543483">return</span>&nbsp;<span class="builtintype" id="5543490">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5543497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543500">for</span>&nbsp;<span class="ident" id="5543504">_</span><span class="op" id="5543505">,</span>&nbsp;<span class="ident" id="5543507">x</span>&nbsp;<span class="op" id="5543509">:=</span>&nbsp;<span class="keyword" id="5543512">range</span>&nbsp;<span class="ident" id="5543518">slice</span>&nbsp;<span class="op" id="5543524">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543528">if</span>&nbsp;<span class="ident" id="5543531">x</span>&nbsp;<span class="op" id="5543533">!=</span>&nbsp;<span class="num" id="5543536">0</span>&nbsp;<span class="op" id="5543538">||</span>&nbsp;<span class="ident" id="5543541">state</span><span class="op" id="5543546">.</span><span class="ident" id="5543547">sendZero</span>&nbsp;<span class="op" id="5543556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5543561">state</span><span class="op" id="5543566">.</span><span class="ident" id="5543567">encodeUint</span><span class="op" id="5543577">(</span><span class="ident" id="5543578">uint64</span><span class="op" id="5543584">(</span><span class="ident" id="5543585">x</span><span class="op" id="5543586">)</span><span class="op" id="5543587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5543591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5543594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543597">return</span>&nbsp;<span class="builtintype" id="5543604">true</span><br>
<span class="lineno">370</span><span class="op" id="5543609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5543612">func</span>&nbsp;<span class="ident" id="5543617">encUint64Array</span><span class="op" id="5543631">(</span><span class="ident" id="5543632">state</span>&nbsp;<span class="op" id="5543638">*</span><span class="ident" id="5543639">encoderState</span><span class="op" id="5543651">,</span>&nbsp;<span class="ident" id="5543653">v</span>&nbsp;<span class="ident" id="5543655">reflect</span><span class="op" id="5543662">.</span><span class="ident" id="5543663">Value</span><span class="op" id="5543668">)</span>&nbsp;<span class="builtintype" id="5543670">bool</span>&nbsp;<span class="op" id="5543675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5543678">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543719">if</span>&nbsp;<span class="op" id="5543722">!</span><span class="ident" id="5543723">v</span><span class="op" id="5543724">.</span><span class="ident" id="5543725">CanAddr</span><span class="op" id="5543732">(</span><span class="op" id="5543733">)</span>&nbsp;<span class="op" id="5543735">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543739">return</span>&nbsp;<span class="builtintype" id="5543746">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5543753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543756">return</span>&nbsp;<span class="ident" id="5543763">encUint64Slice</span><span class="op" id="5543777">(</span><span class="ident" id="5543778">state</span><span class="op" id="5543783">,</span>&nbsp;<span class="ident" id="5543785">v</span><span class="op" id="5543786">.</span><span class="ident" id="5543787">Slice</span><span class="op" id="5543792">(</span><span class="num" id="5543793">0</span><span class="op" id="5543794">,</span>&nbsp;<span class="ident" id="5543796">v</span><span class="op" id="5543797">.</span><span class="ident" id="5543798">Len</span><span class="op" id="5543801">(</span><span class="op" id="5543802">)</span><span class="op" id="5543803">)</span><span class="op" id="5543804">)</span><br>
<span class="lineno"></span><span class="op" id="5543806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="5543809">func</span>&nbsp;<span class="ident" id="5543814">encUint64Slice</span><span class="op" id="5543828">(</span><span class="ident" id="5543829">state</span>&nbsp;<span class="op" id="5543835">*</span><span class="ident" id="5543836">encoderState</span><span class="op" id="5543848">,</span>&nbsp;<span class="ident" id="5543850">v</span>&nbsp;<span class="ident" id="5543852">reflect</span><span class="op" id="5543859">.</span><span class="ident" id="5543860">Value</span><span class="op" id="5543865">)</span>&nbsp;<span class="builtintype" id="5543867">bool</span>&nbsp;<span class="op" id="5543872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5543875">slice</span><span class="op" id="5543880">,</span>&nbsp;<span class="ident" id="5543882">ok</span>&nbsp;<span class="op" id="5543885">:=</span>&nbsp;<span class="ident" id="5543888">v</span><span class="op" id="5543889">.</span><span class="ident" id="5543890">Interface</span><span class="op" id="5543899">(</span><span class="op" id="5543900">)</span><span class="op" id="5543901">.</span><span class="op" id="5543902">(</span><span class="op" id="5543903">[</span><span class="op" id="5543904">]</span><span class="ident" id="5543905">uint64</span><span class="op" id="5543911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5543914">if</span>&nbsp;<span class="op" id="5543917">!</span><span class="ident" id="5543918">ok</span>&nbsp;<span class="op" id="5543921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5543925">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544004">return</span>&nbsp;<span class="builtintype" id="5544011">false</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5544018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544021">for</span>&nbsp;<span class="ident" id="5544025">_</span><span class="op" id="5544026">,</span>&nbsp;<span class="ident" id="5544028">x</span>&nbsp;<span class="op" id="5544030">:=</span>&nbsp;<span class="keyword" id="5544033">range</span>&nbsp;<span class="ident" id="5544039">slice</span>&nbsp;<span class="op" id="5544045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544049">if</span>&nbsp;<span class="ident" id="5544052">x</span>&nbsp;<span class="op" id="5544054">!=</span>&nbsp;<span class="num" id="5544057">0</span>&nbsp;<span class="op" id="5544059">||</span>&nbsp;<span class="ident" id="5544062">state</span><span class="op" id="5544067">.</span><span class="ident" id="5544068">sendZero</span>&nbsp;<span class="op" id="5544077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5544082">state</span><span class="op" id="5544087">.</span><span class="ident" id="5544088">encodeUint</span><span class="op" id="5544098">(</span><span class="ident" id="5544099">x</span><span class="op" id="5544100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5544104">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5544107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544110">return</span>&nbsp;<span class="builtintype" id="5544117">true</span><br>
<span class="lineno"></span><span class="op" id="5544122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5544125">func</span>&nbsp;<span class="ident" id="5544130">encUintptrArray</span><span class="op" id="5544145">(</span><span class="ident" id="5544146">state</span>&nbsp;<span class="op" id="5544152">*</span><span class="ident" id="5544153">encoderState</span><span class="op" id="5544165">,</span>&nbsp;<span class="ident" id="5544167">v</span>&nbsp;<span class="ident" id="5544169">reflect</span><span class="op" id="5544176">.</span><span class="ident" id="5544177">Value</span><span class="op" id="5544182">)</span>&nbsp;<span class="builtintype" id="5544184">bool</span>&nbsp;<span class="op" id="5544189">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5544192">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544233">if</span>&nbsp;<span class="op" id="5544236">!</span><span class="ident" id="5544237">v</span><span class="op" id="5544238">.</span><span class="ident" id="5544239">CanAddr</span><span class="op" id="5544246">(</span><span class="op" id="5544247">)</span>&nbsp;<span class="op" id="5544249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544253">return</span>&nbsp;<span class="builtintype" id="5544260">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5544267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544270">return</span>&nbsp;<span class="ident" id="5544277">encUintptrSlice</span><span class="op" id="5544292">(</span><span class="ident" id="5544293">state</span><span class="op" id="5544298">,</span>&nbsp;<span class="ident" id="5544300">v</span><span class="op" id="5544301">.</span><span class="ident" id="5544302">Slice</span><span class="op" id="5544307">(</span><span class="num" id="5544308">0</span><span class="op" id="5544309">,</span>&nbsp;<span class="ident" id="5544311">v</span><span class="op" id="5544312">.</span><span class="ident" id="5544313">Len</span><span class="op" id="5544316">(</span><span class="op" id="5544317">)</span><span class="op" id="5544318">)</span><span class="op" id="5544319">)</span><br>
<span class="lineno">400</span><span class="op" id="5544321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5544324">func</span>&nbsp;<span class="ident" id="5544329">encUintptrSlice</span><span class="op" id="5544344">(</span><span class="ident" id="5544345">state</span>&nbsp;<span class="op" id="5544351">*</span><span class="ident" id="5544352">encoderState</span><span class="op" id="5544364">,</span>&nbsp;<span class="ident" id="5544366">v</span>&nbsp;<span class="ident" id="5544368">reflect</span><span class="op" id="5544375">.</span><span class="ident" id="5544376">Value</span><span class="op" id="5544381">)</span>&nbsp;<span class="builtintype" id="5544383">bool</span>&nbsp;<span class="op" id="5544388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5544391">slice</span><span class="op" id="5544396">,</span>&nbsp;<span class="ident" id="5544398">ok</span>&nbsp;<span class="op" id="5544401">:=</span>&nbsp;<span class="ident" id="5544404">v</span><span class="op" id="5544405">.</span><span class="ident" id="5544406">Interface</span><span class="op" id="5544415">(</span><span class="op" id="5544416">)</span><span class="op" id="5544417">.</span><span class="op" id="5544418">(</span><span class="op" id="5544419">[</span><span class="op" id="5544420">]</span><span class="builtintype" id="5544421">uintptr</span><span class="op" id="5544428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544431">if</span>&nbsp;<span class="op" id="5544434">!</span><span class="ident" id="5544435">ok</span>&nbsp;<span class="op" id="5544438">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5544442">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544523">return</span>&nbsp;<span class="builtintype" id="5544530">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5544537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544540">for</span>&nbsp;<span class="ident" id="5544544">_</span><span class="op" id="5544545">,</span>&nbsp;<span class="ident" id="5544547">x</span>&nbsp;<span class="op" id="5544549">:=</span>&nbsp;<span class="keyword" id="5544552">range</span>&nbsp;<span class="ident" id="5544558">slice</span>&nbsp;<span class="op" id="5544564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544568">if</span>&nbsp;<span class="ident" id="5544571">x</span>&nbsp;<span class="op" id="5544573">!=</span>&nbsp;<span class="num" id="5544576">0</span>&nbsp;<span class="op" id="5544578">||</span>&nbsp;<span class="ident" id="5544581">state</span><span class="op" id="5544586">.</span><span class="ident" id="5544587">sendZero</span>&nbsp;<span class="op" id="5544596">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5544601">state</span><span class="op" id="5544606">.</span><span class="ident" id="5544607">encodeUint</span><span class="op" id="5544617">(</span><span class="ident" id="5544618">uint64</span><span class="op" id="5544624">(</span><span class="ident" id="5544625">x</span><span class="op" id="5544626">)</span><span class="op" id="5544627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5544631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5544634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5544637">return</span>&nbsp;<span class="builtintype" id="5544644">true</span><br>
<span class="lineno"></span><span class="op" id="5544649">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
