<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql/driver</h2>
<ul>
<li><a href="/gostd/database/sql/driver/driver.go.html">driver.go</a></li>
<li><a href="/gostd/database/sql/driver/types.go.html">types.go</a></li>
<li><a href="/gostd/database/sql/driver/types_test.go.html">types_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3266404">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3266459">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3266513">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3266564">package</span>&nbsp;<span class="ident" id="3266572">driver</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3266580">import</span>&nbsp;<span class="op" id="3266587">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3266590">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3266597">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3266608">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3266619">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3266626">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3266629">//&nbsp;ValueConverter&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;ConvertValue&nbsp;method.</span><br>
<span class="lineno">15</span><span class="comment" id="3266699">//</span><br>
<span class="lineno"></span><span class="comment" id="3266702">//&nbsp;Various&nbsp;implementations&nbsp;of&nbsp;ValueConverter&nbsp;are&nbsp;provided&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3266767">//&nbsp;driver&nbsp;package&nbsp;to&nbsp;provide&nbsp;consistent&nbsp;implementations&nbsp;of&nbsp;conversions</span><br>
<span class="lineno"></span><span class="comment" id="3266838">//&nbsp;between&nbsp;drivers.&nbsp;&nbsp;The&nbsp;ValueConverters&nbsp;have&nbsp;several&nbsp;uses:</span><br>
<span class="lineno"></span><span class="comment" id="3266898">//</span><br>
<span class="lineno">20</span><span class="comment" id="3266901">//&nbsp;&nbsp;*&nbsp;converting&nbsp;from&nbsp;the&nbsp;Value&nbsp;types&nbsp;as&nbsp;provided&nbsp;by&nbsp;the&nbsp;sql&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="3266970">//&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;database&nbsp;table&#39;s&nbsp;specific&nbsp;column&nbsp;type&nbsp;and&nbsp;making&nbsp;sure&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3267040">//&nbsp;&nbsp;&nbsp;&nbsp;fits,&nbsp;such&nbsp;as&nbsp;making&nbsp;sure&nbsp;a&nbsp;particular&nbsp;int64&nbsp;fits&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3267101">//&nbsp;&nbsp;&nbsp;&nbsp;table&#39;s&nbsp;uint16&nbsp;column.</span><br>
<span class="lineno"></span><span class="comment" id="3267130">//</span><br>
<span class="lineno">25</span><span class="comment" id="3267133">//&nbsp;&nbsp;*&nbsp;converting&nbsp;a&nbsp;value&nbsp;as&nbsp;given&nbsp;from&nbsp;the&nbsp;database&nbsp;into&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3267201">//&nbsp;&nbsp;&nbsp;&nbsp;driver&nbsp;Value&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="3267227">//</span><br>
<span class="lineno"></span><span class="comment" id="3267230">//&nbsp;&nbsp;*&nbsp;by&nbsp;the&nbsp;sql&nbsp;package,&nbsp;for&nbsp;converting&nbsp;from&nbsp;a&nbsp;driver&#39;s&nbsp;Value&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="3267298">//&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;user&#39;s&nbsp;type&nbsp;in&nbsp;a&nbsp;scan.</span><br>
<span class="lineno">30</span><span class="keyword" id="3267332">type</span>&nbsp;<span class="ident" id="3267337">ValueConverter</span>&nbsp;<span class="keyword" id="3267352">interface</span>&nbsp;<span class="op" id="3267362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3267365">//&nbsp;ConvertValue&nbsp;converts&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3267418">ConvertValue</span><span class="op" id="3267430">(</span><span class="ident" id="3267431">v</span>&nbsp;<span class="keyword" id="3267433">interface</span><span class="op" id="3267442">{</span><span class="op" id="3267443">}</span><span class="op" id="3267444">)</span>&nbsp;<span class="op" id="3267446">(</span><span class="ident" id="3267447">Value</span><span class="op" id="3267452">,</span>&nbsp;<span class="builtintype" id="3267454">error</span><span class="op" id="3267459">)</span><br>
<span class="lineno"></span><span class="op" id="3267461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3267464">//&nbsp;Valuer&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;Value&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="3267519">//</span><br>
<span class="lineno"></span><span class="comment" id="3267522">//&nbsp;Types&nbsp;implementing&nbsp;Valuer&nbsp;interface&nbsp;are&nbsp;able&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span><span class="comment" id="3267581">//&nbsp;themselves&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="3267614">type</span>&nbsp;<span class="ident" id="3267619">Valuer</span>&nbsp;<span class="keyword" id="3267626">interface</span>&nbsp;<span class="op" id="3267636">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3267639">//&nbsp;Value&nbsp;returns&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3267673">Value</span><span class="op" id="3267678">(</span><span class="op" id="3267679">)</span>&nbsp;<span class="op" id="3267681">(</span><span class="ident" id="3267682">Value</span><span class="op" id="3267687">,</span>&nbsp;<span class="builtintype" id="3267689">error</span><span class="op" id="3267694">)</span><br>
<span class="lineno"></span><span class="op" id="3267696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3267699">//&nbsp;Bool&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;bools.</span><br>
<span class="lineno">45</span><span class="comment" id="3267764">//</span><br>
<span class="lineno"></span><span class="comment" id="3267767">//&nbsp;The&nbsp;conversion&nbsp;rules&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="3267796">//&nbsp;&nbsp;-&nbsp;booleans&nbsp;are&nbsp;returned&nbsp;unchanged</span><br>
<span class="lineno"></span><span class="comment" id="3267834">//&nbsp;&nbsp;-&nbsp;for&nbsp;integer&nbsp;types,</span><br>
<span class="lineno"></span><span class="comment" id="3267859">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;is&nbsp;true</span><br>
<span class="lineno">50</span><span class="comment" id="3267878">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;is&nbsp;false,</span><br>
<span class="lineno"></span><span class="comment" id="3267899">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;integers&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="3267936">//&nbsp;&nbsp;-&nbsp;for&nbsp;strings&nbsp;and&nbsp;[]byte,&nbsp;same&nbsp;rules&nbsp;as&nbsp;strconv.ParseBool</span><br>
<span class="lineno"></span><span class="comment" id="3267998">//&nbsp;&nbsp;-&nbsp;all&nbsp;other&nbsp;types&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="3268033">var</span>&nbsp;<span class="ident" id="3268037">Bool</span>&nbsp;<span class="ident" id="3268042">boolType</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="3268052">type</span>&nbsp;<span class="ident" id="3268057">boolType</span>&nbsp;<span class="keyword" id="3268066">struct</span><span class="op" id="3268072">{</span><span class="op" id="3268073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3268076">var</span>&nbsp;<span class="ident" id="3268080">_</span>&nbsp;<span class="ident" id="3268082">ValueConverter</span>&nbsp;<span class="op" id="3268097">=</span>&nbsp;<span class="ident" id="3268099">boolType</span><span class="op" id="3268107">{</span><span class="op" id="3268108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="3268111">func</span>&nbsp;<span class="op" id="3268116">(</span><span class="ident" id="3268117">boolType</span><span class="op" id="3268125">)</span>&nbsp;<span class="ident" id="3268127">String</span><span class="op" id="3268133">(</span><span class="op" id="3268134">)</span>&nbsp;<span class="builtintype" id="3268136">string</span>&nbsp;<span class="op" id="3268143">{</span>&nbsp;<span class="keyword" id="3268145">return</span>&nbsp;<span class="string" id="3268152">&#34;Bool&#34;</span>&nbsp;<span class="op" id="3268159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3268162">func</span>&nbsp;<span class="op" id="3268167">(</span><span class="ident" id="3268168">boolType</span><span class="op" id="3268176">)</span>&nbsp;<span class="ident" id="3268178">ConvertValue</span><span class="op" id="3268190">(</span><span class="ident" id="3268191">src</span>&nbsp;<span class="keyword" id="3268195">interface</span><span class="op" id="3268204">{</span><span class="op" id="3268205">}</span><span class="op" id="3268206">)</span>&nbsp;<span class="op" id="3268208">(</span><span class="ident" id="3268209">Value</span><span class="op" id="3268214">,</span>&nbsp;<span class="builtintype" id="3268216">error</span><span class="op" id="3268221">)</span>&nbsp;<span class="op" id="3268223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268226">switch</span>&nbsp;<span class="ident" id="3268233">s</span>&nbsp;<span class="op" id="3268235">:=</span>&nbsp;<span class="ident" id="3268238">src</span><span class="op" id="3268241">.</span><span class="op" id="3268242">(</span><span class="keyword" id="3268243">type</span><span class="op" id="3268247">)</span>&nbsp;<span class="op" id="3268249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268252">case</span>&nbsp;<span class="builtintype" id="3268257">bool</span><span class="op" id="3268261">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268265">return</span>&nbsp;<span class="ident" id="3268272">s</span><span class="op" id="3268273">,</span>&nbsp;<span class="ident" id="3268275">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268280">case</span>&nbsp;<span class="builtintype" id="3268285">string</span><span class="op" id="3268291">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3268295">b</span><span class="op" id="3268296">,</span>&nbsp;<span class="ident" id="3268298">err</span>&nbsp;<span class="op" id="3268302">:=</span>&nbsp;<span class="ident" id="3268305">strconv</span><span class="op" id="3268312">.</span><span class="ident" id="3268313">ParseBool</span><span class="op" id="3268322">(</span><span class="ident" id="3268323">s</span><span class="op" id="3268324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268328">if</span>&nbsp;<span class="ident" id="3268331">err</span>&nbsp;<span class="op" id="3268335">!=</span>&nbsp;<span class="ident" id="3268338">nil</span>&nbsp;<span class="op" id="3268342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268347">return</span>&nbsp;<span class="ident" id="3268354">nil</span><span class="op" id="3268357">,</span>&nbsp;<span class="ident" id="3268359">fmt</span><span class="op" id="3268362">.</span><span class="ident" id="3268363">Errorf</span><span class="op" id="3268369">(</span><span class="string" id="3268370">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="3268418">,</span>&nbsp;<span class="ident" id="3268420">s</span><span class="op" id="3268421">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3268425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268429">return</span>&nbsp;<span class="ident" id="3268436">b</span><span class="op" id="3268437">,</span>&nbsp;<span class="ident" id="3268439">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268444">case</span>&nbsp;<span class="op" id="3268449">[</span><span class="op" id="3268450">]</span><span class="builtintype" id="3268451">byte</span><span class="op" id="3268455">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3268459">b</span><span class="op" id="3268460">,</span>&nbsp;<span class="ident" id="3268462">err</span>&nbsp;<span class="op" id="3268466">:=</span>&nbsp;<span class="ident" id="3268469">strconv</span><span class="op" id="3268476">.</span><span class="ident" id="3268477">ParseBool</span><span class="op" id="3268486">(</span><span class="builtintype" id="3268487">string</span><span class="op" id="3268493">(</span><span class="ident" id="3268494">s</span><span class="op" id="3268495">)</span><span class="op" id="3268496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268500">if</span>&nbsp;<span class="ident" id="3268503">err</span>&nbsp;<span class="op" id="3268507">!=</span>&nbsp;<span class="ident" id="3268510">nil</span>&nbsp;<span class="op" id="3268514">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268519">return</span>&nbsp;<span class="ident" id="3268526">nil</span><span class="op" id="3268529">,</span>&nbsp;<span class="ident" id="3268531">fmt</span><span class="op" id="3268534">.</span><span class="ident" id="3268535">Errorf</span><span class="op" id="3268541">(</span><span class="string" id="3268542">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="3268590">,</span>&nbsp;<span class="ident" id="3268592">s</span><span class="op" id="3268593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3268597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268601">return</span>&nbsp;<span class="ident" id="3268608">b</span><span class="op" id="3268609">,</span>&nbsp;<span class="ident" id="3268611">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3268616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3268620">sv</span>&nbsp;<span class="op" id="3268623">:=</span>&nbsp;<span class="ident" id="3268626">reflect</span><span class="op" id="3268633">.</span><span class="ident" id="3268634">ValueOf</span><span class="op" id="3268641">(</span><span class="ident" id="3268642">src</span><span class="op" id="3268645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268648">switch</span>&nbsp;<span class="ident" id="3268655">sv</span><span class="op" id="3268657">.</span><span class="ident" id="3268658">Kind</span><span class="op" id="3268662">(</span><span class="op" id="3268663">)</span>&nbsp;<span class="op" id="3268665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268668">case</span>&nbsp;<span class="ident" id="3268673">reflect</span><span class="op" id="3268680">.</span><span class="ident" id="3268681">Int</span><span class="op" id="3268684">,</span>&nbsp;<span class="ident" id="3268686">reflect</span><span class="op" id="3268693">.</span><span class="ident" id="3268694">Int8</span><span class="op" id="3268698">,</span>&nbsp;<span class="ident" id="3268700">reflect</span><span class="op" id="3268707">.</span><span class="ident" id="3268708">Int16</span><span class="op" id="3268713">,</span>&nbsp;<span class="ident" id="3268715">reflect</span><span class="op" id="3268722">.</span><span class="ident" id="3268723">Int32</span><span class="op" id="3268728">,</span>&nbsp;<span class="ident" id="3268730">reflect</span><span class="op" id="3268737">.</span><span class="ident" id="3268738">Int64</span><span class="op" id="3268743">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3268747">iv</span>&nbsp;<span class="op" id="3268750">:=</span>&nbsp;<span class="ident" id="3268753">sv</span><span class="op" id="3268755">.</span><span class="ident" id="3268756">Int</span><span class="op" id="3268759">(</span><span class="op" id="3268760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268764">if</span>&nbsp;<span class="ident" id="3268767">iv</span>&nbsp;<span class="op" id="3268770">==</span>&nbsp;<span class="num" id="3268773">1</span>&nbsp;<span class="op" id="3268775">||</span>&nbsp;<span class="ident" id="3268778">iv</span>&nbsp;<span class="op" id="3268781">==</span>&nbsp;<span class="num" id="3268784">0</span>&nbsp;<span class="op" id="3268786">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268791">return</span>&nbsp;<span class="ident" id="3268798">iv</span>&nbsp;<span class="op" id="3268801">==</span>&nbsp;<span class="num" id="3268804">1</span><span class="op" id="3268805">,</span>&nbsp;<span class="ident" id="3268807">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3268813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268817">return</span>&nbsp;<span class="ident" id="3268824">nil</span><span class="op" id="3268827">,</span>&nbsp;<span class="ident" id="3268829">fmt</span><span class="op" id="3268832">.</span><span class="ident" id="3268833">Errorf</span><span class="op" id="3268839">(</span><span class="string" id="3268840">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="3268888">,</span>&nbsp;<span class="ident" id="3268890">iv</span><span class="op" id="3268892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268895">case</span>&nbsp;<span class="ident" id="3268900">reflect</span><span class="op" id="3268907">.</span><span class="ident" id="3268908">Uint</span><span class="op" id="3268912">,</span>&nbsp;<span class="ident" id="3268914">reflect</span><span class="op" id="3268921">.</span><span class="ident" id="3268922">Uint8</span><span class="op" id="3268927">,</span>&nbsp;<span class="ident" id="3268929">reflect</span><span class="op" id="3268936">.</span><span class="ident" id="3268937">Uint16</span><span class="op" id="3268943">,</span>&nbsp;<span class="ident" id="3268945">reflect</span><span class="op" id="3268952">.</span><span class="ident" id="3268953">Uint32</span><span class="op" id="3268959">,</span>&nbsp;<span class="ident" id="3268961">reflect</span><span class="op" id="3268968">.</span><span class="ident" id="3268969">Uint64</span><span class="op" id="3268975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3268979">uv</span>&nbsp;<span class="op" id="3268982">:=</span>&nbsp;<span class="ident" id="3268985">sv</span><span class="op" id="3268987">.</span><span class="ident" id="3268988">Uint</span><span class="op" id="3268992">(</span><span class="op" id="3268993">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3268997">if</span>&nbsp;<span class="ident" id="3269000">uv</span>&nbsp;<span class="op" id="3269003">==</span>&nbsp;<span class="num" id="3269006">1</span>&nbsp;<span class="op" id="3269008">||</span>&nbsp;<span class="ident" id="3269011">uv</span>&nbsp;<span class="op" id="3269014">==</span>&nbsp;<span class="num" id="3269017">0</span>&nbsp;<span class="op" id="3269019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269024">return</span>&nbsp;<span class="ident" id="3269031">uv</span>&nbsp;<span class="op" id="3269034">==</span>&nbsp;<span class="num" id="3269037">1</span><span class="op" id="3269038">,</span>&nbsp;<span class="ident" id="3269040">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3269046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269050">return</span>&nbsp;<span class="ident" id="3269057">nil</span><span class="op" id="3269060">,</span>&nbsp;<span class="ident" id="3269062">fmt</span><span class="op" id="3269065">.</span><span class="ident" id="3269066">Errorf</span><span class="op" id="3269072">(</span><span class="string" id="3269073">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="3269121">,</span>&nbsp;<span class="ident" id="3269123">uv</span><span class="op" id="3269125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3269128">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269132">return</span>&nbsp;<span class="ident" id="3269139">nil</span><span class="op" id="3269142">,</span>&nbsp;<span class="ident" id="3269144">fmt</span><span class="op" id="3269147">.</span><span class="ident" id="3269148">Errorf</span><span class="op" id="3269154">(</span><span class="string" id="3269155">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%v&nbsp;(%T)&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="3269208">,</span>&nbsp;<span class="ident" id="3269210">src</span><span class="op" id="3269213">,</span>&nbsp;<span class="ident" id="3269215">src</span><span class="op" id="3269218">)</span><br>
<span class="lineno"></span><span class="op" id="3269220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3269223">//&nbsp;Int32&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;int64,</span><br>
<span class="lineno">100</span><span class="comment" id="3269289">//&nbsp;respecting&nbsp;the&nbsp;limits&nbsp;of&nbsp;an&nbsp;int32&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="3269333">var</span>&nbsp;<span class="ident" id="3269337">Int32</span>&nbsp;<span class="ident" id="3269343">int32Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3269354">type</span>&nbsp;<span class="ident" id="3269359">int32Type</span>&nbsp;<span class="keyword" id="3269369">struct</span><span class="op" id="3269375">{</span><span class="op" id="3269376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="3269379">var</span>&nbsp;<span class="ident" id="3269383">_</span>&nbsp;<span class="ident" id="3269385">ValueConverter</span>&nbsp;<span class="op" id="3269400">=</span>&nbsp;<span class="ident" id="3269402">int32Type</span><span class="op" id="3269411">{</span><span class="op" id="3269412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3269415">func</span>&nbsp;<span class="op" id="3269420">(</span><span class="ident" id="3269421">int32Type</span><span class="op" id="3269430">)</span>&nbsp;<span class="ident" id="3269432">ConvertValue</span><span class="op" id="3269444">(</span><span class="ident" id="3269445">v</span>&nbsp;<span class="keyword" id="3269447">interface</span><span class="op" id="3269456">{</span><span class="op" id="3269457">}</span><span class="op" id="3269458">)</span>&nbsp;<span class="op" id="3269460">(</span><span class="ident" id="3269461">Value</span><span class="op" id="3269466">,</span>&nbsp;<span class="builtintype" id="3269468">error</span><span class="op" id="3269473">)</span>&nbsp;<span class="op" id="3269475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3269478">rv</span>&nbsp;<span class="op" id="3269481">:=</span>&nbsp;<span class="ident" id="3269484">reflect</span><span class="op" id="3269491">.</span><span class="ident" id="3269492">ValueOf</span><span class="op" id="3269499">(</span><span class="ident" id="3269500">v</span><span class="op" id="3269501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269504">switch</span>&nbsp;<span class="ident" id="3269511">rv</span><span class="op" id="3269513">.</span><span class="ident" id="3269514">Kind</span><span class="op" id="3269518">(</span><span class="op" id="3269519">)</span>&nbsp;<span class="op" id="3269521">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269524">case</span>&nbsp;<span class="ident" id="3269529">reflect</span><span class="op" id="3269536">.</span><span class="ident" id="3269537">Int</span><span class="op" id="3269540">,</span>&nbsp;<span class="ident" id="3269542">reflect</span><span class="op" id="3269549">.</span><span class="ident" id="3269550">Int8</span><span class="op" id="3269554">,</span>&nbsp;<span class="ident" id="3269556">reflect</span><span class="op" id="3269563">.</span><span class="ident" id="3269564">Int16</span><span class="op" id="3269569">,</span>&nbsp;<span class="ident" id="3269571">reflect</span><span class="op" id="3269578">.</span><span class="ident" id="3269579">Int32</span><span class="op" id="3269584">,</span>&nbsp;<span class="ident" id="3269586">reflect</span><span class="op" id="3269593">.</span><span class="ident" id="3269594">Int64</span><span class="op" id="3269599">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3269603">i64</span>&nbsp;<span class="op" id="3269607">:=</span>&nbsp;<span class="ident" id="3269610">rv</span><span class="op" id="3269612">.</span><span class="ident" id="3269613">Int</span><span class="op" id="3269616">(</span><span class="op" id="3269617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269621">if</span>&nbsp;<span class="ident" id="3269624">i64</span>&nbsp;<span class="op" id="3269628">&gt;</span>&nbsp;<span class="op" id="3269630">(</span><span class="num" id="3269631">1</span><span class="op" id="3269632">&lt;&lt;</span><span class="num" id="3269634">31</span><span class="op" id="3269636">)</span><span class="op" id="3269637">-</span><span class="num" id="3269638">1</span>&nbsp;<span class="op" id="3269640">||</span>&nbsp;<span class="ident" id="3269643">i64</span>&nbsp;<span class="op" id="3269647">&lt;</span>&nbsp;<span class="op" id="3269649">-</span><span class="op" id="3269650">(</span><span class="num" id="3269651">1</span><span class="op" id="3269652">&lt;&lt;</span><span class="num" id="3269654">31</span><span class="op" id="3269656">)</span>&nbsp;<span class="op" id="3269658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269663">return</span>&nbsp;<span class="ident" id="3269670">nil</span><span class="op" id="3269673">,</span>&nbsp;<span class="ident" id="3269675">fmt</span><span class="op" id="3269678">.</span><span class="ident" id="3269679">Errorf</span><span class="op" id="3269685">(</span><span class="string" id="3269686">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="3269724">,</span>&nbsp;<span class="ident" id="3269726">v</span><span class="op" id="3269727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3269731">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269735">return</span>&nbsp;<span class="ident" id="3269742">i64</span><span class="op" id="3269745">,</span>&nbsp;<span class="ident" id="3269747">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269752">case</span>&nbsp;<span class="ident" id="3269757">reflect</span><span class="op" id="3269764">.</span><span class="ident" id="3269765">Uint</span><span class="op" id="3269769">,</span>&nbsp;<span class="ident" id="3269771">reflect</span><span class="op" id="3269778">.</span><span class="ident" id="3269779">Uint8</span><span class="op" id="3269784">,</span>&nbsp;<span class="ident" id="3269786">reflect</span><span class="op" id="3269793">.</span><span class="ident" id="3269794">Uint16</span><span class="op" id="3269800">,</span>&nbsp;<span class="ident" id="3269802">reflect</span><span class="op" id="3269809">.</span><span class="ident" id="3269810">Uint32</span><span class="op" id="3269816">,</span>&nbsp;<span class="ident" id="3269818">reflect</span><span class="op" id="3269825">.</span><span class="ident" id="3269826">Uint64</span><span class="op" id="3269832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3269836">u64</span>&nbsp;<span class="op" id="3269840">:=</span>&nbsp;<span class="ident" id="3269843">rv</span><span class="op" id="3269845">.</span><span class="ident" id="3269846">Uint</span><span class="op" id="3269850">(</span><span class="op" id="3269851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269855">if</span>&nbsp;<span class="ident" id="3269858">u64</span>&nbsp;<span class="op" id="3269862">&gt;</span>&nbsp;<span class="op" id="3269864">(</span><span class="num" id="3269865">1</span><span class="op" id="3269866">&lt;&lt;</span><span class="num" id="3269868">31</span><span class="op" id="3269870">)</span><span class="op" id="3269871">-</span><span class="num" id="3269872">1</span>&nbsp;<span class="op" id="3269874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269879">return</span>&nbsp;<span class="ident" id="3269886">nil</span><span class="op" id="3269889">,</span>&nbsp;<span class="ident" id="3269891">fmt</span><span class="op" id="3269894">.</span><span class="ident" id="3269895">Errorf</span><span class="op" id="3269901">(</span><span class="string" id="3269902">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="3269940">,</span>&nbsp;<span class="ident" id="3269942">v</span><span class="op" id="3269943">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3269947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269951">return</span>&nbsp;<span class="ident" id="3269958">int64</span><span class="op" id="3269963">(</span><span class="ident" id="3269964">u64</span><span class="op" id="3269967">)</span><span class="op" id="3269968">,</span>&nbsp;<span class="ident" id="3269970">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269975">case</span>&nbsp;<span class="ident" id="3269980">reflect</span><span class="op" id="3269987">.</span><span class="ident" id="3269988">String</span><span class="op" id="3269994">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3269998">i</span><span class="op" id="3269999">,</span>&nbsp;<span class="ident" id="3270001">err</span>&nbsp;<span class="op" id="3270005">:=</span>&nbsp;<span class="ident" id="3270008">strconv</span><span class="op" id="3270015">.</span><span class="ident" id="3270016">Atoi</span><span class="op" id="3270020">(</span><span class="ident" id="3270021">rv</span><span class="op" id="3270023">.</span><span class="ident" id="3270024">String</span><span class="op" id="3270030">(</span><span class="op" id="3270031">)</span><span class="op" id="3270032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270036">if</span>&nbsp;<span class="ident" id="3270039">err</span>&nbsp;<span class="op" id="3270043">!=</span>&nbsp;<span class="ident" id="3270046">nil</span>&nbsp;<span class="op" id="3270050">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270055">return</span>&nbsp;<span class="ident" id="3270062">nil</span><span class="op" id="3270065">,</span>&nbsp;<span class="ident" id="3270067">fmt</span><span class="op" id="3270070">.</span><span class="ident" id="3270071">Errorf</span><span class="op" id="3270077">(</span><span class="string" id="3270078">&#34;sql/driver:&nbsp;value&nbsp;%q&nbsp;can&#39;t&nbsp;be&nbsp;converted&nbsp;to&nbsp;int32&#34;</span><span class="op" id="3270128">,</span>&nbsp;<span class="ident" id="3270130">v</span><span class="op" id="3270131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3270135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270139">return</span>&nbsp;<span class="ident" id="3270146">int64</span><span class="op" id="3270151">(</span><span class="ident" id="3270152">i</span><span class="op" id="3270153">)</span><span class="op" id="3270154">,</span>&nbsp;<span class="ident" id="3270156">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3270161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270164">return</span>&nbsp;<span class="ident" id="3270171">nil</span><span class="op" id="3270174">,</span>&nbsp;<span class="ident" id="3270176">fmt</span><span class="op" id="3270179">.</span><span class="ident" id="3270180">Errorf</span><span class="op" id="3270186">(</span><span class="string" id="3270187">&#34;sql/driver:&nbsp;unsupported&nbsp;value&nbsp;%v&nbsp;(type&nbsp;%T)&nbsp;converting&nbsp;to&nbsp;int32&#34;</span><span class="op" id="3270251">,</span>&nbsp;<span class="ident" id="3270253">v</span><span class="op" id="3270254">,</span>&nbsp;<span class="ident" id="3270256">v</span><span class="op" id="3270257">)</span><br>
<span class="lineno">130</span><span class="op" id="3270259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3270262">//&nbsp;String&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;its&nbsp;input&nbsp;to&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="3270329">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;already&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte,&nbsp;it&#39;s&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="comment" id="3270392">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;of&nbsp;another&nbsp;type,&nbsp;conversion&nbsp;to&nbsp;string&nbsp;is&nbsp;done</span><br>
<span class="lineno">135</span><span class="comment" id="3270457">//&nbsp;with&nbsp;fmt.Sprintf(&#34;%v&#34;,&nbsp;v).</span><br>
<span class="lineno"></span><span class="keyword" id="3270487">var</span>&nbsp;<span class="ident" id="3270491">String</span>&nbsp;<span class="ident" id="3270498">stringType</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3270510">type</span>&nbsp;<span class="ident" id="3270515">stringType</span>&nbsp;<span class="keyword" id="3270526">struct</span><span class="op" id="3270532">{</span><span class="op" id="3270533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="3270536">func</span>&nbsp;<span class="op" id="3270541">(</span><span class="ident" id="3270542">stringType</span><span class="op" id="3270552">)</span>&nbsp;<span class="ident" id="3270554">ConvertValue</span><span class="op" id="3270566">(</span><span class="ident" id="3270567">v</span>&nbsp;<span class="keyword" id="3270569">interface</span><span class="op" id="3270578">{</span><span class="op" id="3270579">}</span><span class="op" id="3270580">)</span>&nbsp;<span class="op" id="3270582">(</span><span class="ident" id="3270583">Value</span><span class="op" id="3270588">,</span>&nbsp;<span class="builtintype" id="3270590">error</span><span class="op" id="3270595">)</span>&nbsp;<span class="op" id="3270597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270600">switch</span>&nbsp;<span class="ident" id="3270607">v</span><span class="op" id="3270608">.</span><span class="op" id="3270609">(</span><span class="keyword" id="3270610">type</span><span class="op" id="3270614">)</span>&nbsp;<span class="op" id="3270616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270619">case</span>&nbsp;<span class="builtintype" id="3270624">string</span><span class="op" id="3270630">,</span>&nbsp;<span class="op" id="3270632">[</span><span class="op" id="3270633">]</span><span class="builtintype" id="3270634">byte</span><span class="op" id="3270638">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270642">return</span>&nbsp;<span class="ident" id="3270649">v</span><span class="op" id="3270650">,</span>&nbsp;<span class="ident" id="3270652">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3270657">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270660">return</span>&nbsp;<span class="ident" id="3270667">fmt</span><span class="op" id="3270670">.</span><span class="ident" id="3270671">Sprintf</span><span class="op" id="3270678">(</span><span class="string" id="3270679">&#34;%v&#34;</span><span class="op" id="3270683">,</span>&nbsp;<span class="ident" id="3270685">v</span><span class="op" id="3270686">)</span><span class="op" id="3270687">,</span>&nbsp;<span class="ident" id="3270689">nil</span><br>
<span class="lineno"></span><span class="op" id="3270693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3270696">//&nbsp;Null&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;allowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="3270761">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno">150</span><span class="keyword" id="3270823">type</span>&nbsp;<span class="ident" id="3270828">Null</span>&nbsp;<span class="keyword" id="3270833">struct</span>&nbsp;<span class="op" id="3270840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3270843">Converter</span>&nbsp;<span class="ident" id="3270853">ValueConverter</span><br>
<span class="lineno"></span><span class="op" id="3270868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3270871">func</span>&nbsp;<span class="op" id="3270876">(</span><span class="ident" id="3270877">n</span>&nbsp;<span class="ident" id="3270879">Null</span><span class="op" id="3270883">)</span>&nbsp;<span class="ident" id="3270885">ConvertValue</span><span class="op" id="3270897">(</span><span class="ident" id="3270898">v</span>&nbsp;<span class="keyword" id="3270900">interface</span><span class="op" id="3270909">{</span><span class="op" id="3270910">}</span><span class="op" id="3270911">)</span>&nbsp;<span class="op" id="3270913">(</span><span class="ident" id="3270914">Value</span><span class="op" id="3270919">,</span>&nbsp;<span class="builtintype" id="3270921">error</span><span class="op" id="3270926">)</span>&nbsp;<span class="op" id="3270928">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270931">if</span>&nbsp;<span class="ident" id="3270934">v</span>&nbsp;<span class="op" id="3270936">==</span>&nbsp;<span class="ident" id="3270939">nil</span>&nbsp;<span class="op" id="3270943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270947">return</span>&nbsp;<span class="ident" id="3270954">nil</span><span class="op" id="3270957">,</span>&nbsp;<span class="ident" id="3270959">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3270964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270967">return</span>&nbsp;<span class="ident" id="3270974">n</span><span class="op" id="3270975">.</span><span class="ident" id="3270976">Converter</span><span class="op" id="3270985">.</span><span class="ident" id="3270986">ConvertValue</span><span class="op" id="3270998">(</span><span class="ident" id="3270999">v</span><span class="op" id="3271000">)</span><br>
<span class="lineno"></span><span class="op" id="3271002">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="3271005">//&nbsp;NotNull&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;disallowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="3271076">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno"></span><span class="keyword" id="3271138">type</span>&nbsp;<span class="ident" id="3271143">NotNull</span>&nbsp;<span class="keyword" id="3271151">struct</span>&nbsp;<span class="op" id="3271158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3271161">Converter</span>&nbsp;<span class="ident" id="3271171">ValueConverter</span><br>
<span class="lineno">165</span><span class="op" id="3271186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3271189">func</span>&nbsp;<span class="op" id="3271194">(</span><span class="ident" id="3271195">n</span>&nbsp;<span class="ident" id="3271197">NotNull</span><span class="op" id="3271204">)</span>&nbsp;<span class="ident" id="3271206">ConvertValue</span><span class="op" id="3271218">(</span><span class="ident" id="3271219">v</span>&nbsp;<span class="keyword" id="3271221">interface</span><span class="op" id="3271230">{</span><span class="op" id="3271231">}</span><span class="op" id="3271232">)</span>&nbsp;<span class="op" id="3271234">(</span><span class="ident" id="3271235">Value</span><span class="op" id="3271240">,</span>&nbsp;<span class="builtintype" id="3271242">error</span><span class="op" id="3271247">)</span>&nbsp;<span class="op" id="3271249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271252">if</span>&nbsp;<span class="ident" id="3271255">v</span>&nbsp;<span class="op" id="3271257">==</span>&nbsp;<span class="ident" id="3271260">nil</span>&nbsp;<span class="op" id="3271264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271268">return</span>&nbsp;<span class="ident" id="3271275">nil</span><span class="op" id="3271278">,</span>&nbsp;<span class="ident" id="3271280">fmt</span><span class="op" id="3271283">.</span><span class="ident" id="3271284">Errorf</span><span class="op" id="3271290">(</span><span class="string" id="3271291">&#34;nil&nbsp;value&nbsp;not&nbsp;allowed&#34;</span><span class="op" id="3271314">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3271317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271320">return</span>&nbsp;<span class="ident" id="3271327">n</span><span class="op" id="3271328">.</span><span class="ident" id="3271329">Converter</span><span class="op" id="3271338">.</span><span class="ident" id="3271339">ConvertValue</span><span class="op" id="3271351">(</span><span class="ident" id="3271352">v</span><span class="op" id="3271353">)</span><br>
<span class="lineno"></span><span class="op" id="3271355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3271358">//&nbsp;IsValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;parameter&nbsp;type.</span><br>
<span class="lineno">175</span><span class="comment" id="3271420">//&nbsp;Unlike&nbsp;IsScanValue,&nbsp;IsValue&nbsp;permits&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="3271476">func</span>&nbsp;<span class="ident" id="3271481">IsValue</span><span class="op" id="3271488">(</span><span class="ident" id="3271489">v</span>&nbsp;<span class="keyword" id="3271491">interface</span><span class="op" id="3271500">{</span><span class="op" id="3271501">}</span><span class="op" id="3271502">)</span>&nbsp;<span class="builtintype" id="3271504">bool</span>&nbsp;<span class="op" id="3271509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271512">if</span>&nbsp;<span class="ident" id="3271515">IsScanValue</span><span class="op" id="3271526">(</span><span class="ident" id="3271527">v</span><span class="op" id="3271528">)</span>&nbsp;<span class="op" id="3271530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271534">return</span>&nbsp;<span class="builtintype" id="3271541">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3271547">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271550">if</span>&nbsp;<span class="ident" id="3271553">_</span><span class="op" id="3271554">,</span>&nbsp;<span class="ident" id="3271556">ok</span>&nbsp;<span class="op" id="3271559">:=</span>&nbsp;<span class="ident" id="3271562">v</span><span class="op" id="3271563">.</span><span class="op" id="3271564">(</span><span class="builtintype" id="3271565">string</span><span class="op" id="3271571">)</span><span class="op" id="3271572">;</span>&nbsp;<span class="ident" id="3271574">ok</span>&nbsp;<span class="op" id="3271577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271581">return</span>&nbsp;<span class="builtintype" id="3271588">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3271594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271597">return</span>&nbsp;<span class="builtintype" id="3271604">false</span><br>
<span class="lineno"></span><span class="op" id="3271610">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="comment" id="3271613">//&nbsp;IsScanValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;scan&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="3271674">//&nbsp;Unlike&nbsp;IsValue,&nbsp;IsScanValue&nbsp;does&nbsp;not&nbsp;permit&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="3271738">func</span>&nbsp;<span class="ident" id="3271743">IsScanValue</span><span class="op" id="3271754">(</span><span class="ident" id="3271755">v</span>&nbsp;<span class="keyword" id="3271757">interface</span><span class="op" id="3271766">{</span><span class="op" id="3271767">}</span><span class="op" id="3271768">)</span>&nbsp;<span class="builtintype" id="3271770">bool</span>&nbsp;<span class="op" id="3271775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271778">if</span>&nbsp;<span class="ident" id="3271781">v</span>&nbsp;<span class="op" id="3271783">==</span>&nbsp;<span class="ident" id="3271786">nil</span>&nbsp;<span class="op" id="3271790">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271794">return</span>&nbsp;<span class="builtintype" id="3271801">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3271807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271810">switch</span>&nbsp;<span class="ident" id="3271817">v</span><span class="op" id="3271818">.</span><span class="op" id="3271819">(</span><span class="keyword" id="3271820">type</span><span class="op" id="3271824">)</span>&nbsp;<span class="op" id="3271826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271829">case</span>&nbsp;<span class="ident" id="3271834">int64</span><span class="op" id="3271839">,</span>&nbsp;<span class="builtintype" id="3271841">float64</span><span class="op" id="3271848">,</span>&nbsp;<span class="op" id="3271850">[</span><span class="op" id="3271851">]</span><span class="builtintype" id="3271852">byte</span><span class="op" id="3271856">,</span>&nbsp;<span class="builtintype" id="3271858">bool</span><span class="op" id="3271862">,</span>&nbsp;<span class="ident" id="3271864">time</span><span class="op" id="3271868">.</span><span class="ident" id="3271869">Time</span><span class="op" id="3271873">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271877">return</span>&nbsp;<span class="builtintype" id="3271884">true</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3271890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3271893">return</span>&nbsp;<span class="builtintype" id="3271900">false</span><br>
<span class="lineno"></span><span class="op" id="3271906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3271909">//&nbsp;DefaultParameterConverter&nbsp;is&nbsp;the&nbsp;default&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">200</span><span class="comment" id="3271971">//&nbsp;ValueConverter&nbsp;that&#39;s&nbsp;used&nbsp;when&nbsp;a&nbsp;Stmt&nbsp;doesn&#39;t&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="3272031">//&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span><span class="comment" id="3272051">//</span><br>
<span class="lineno"></span><span class="comment" id="3272054">//&nbsp;DefaultParameterConverter&nbsp;returns&nbsp;the&nbsp;given&nbsp;value&nbsp;directly&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="3272119">//&nbsp;IsValue(value).&nbsp;&nbsp;Otherwise&nbsp;integer&nbsp;type&nbsp;are&nbsp;converted&nbsp;to</span><br>
<span class="lineno">205</span><span class="comment" id="3272179">//&nbsp;int64,&nbsp;floats&nbsp;to&nbsp;float64,&nbsp;and&nbsp;strings&nbsp;to&nbsp;[]byte.&nbsp;&nbsp;Other&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="3272248">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3272261">var</span>&nbsp;<span class="ident" id="3272265">DefaultParameterConverter</span>&nbsp;<span class="ident" id="3272291">defaultConverter</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3272309">type</span>&nbsp;<span class="ident" id="3272314">defaultConverter</span>&nbsp;<span class="keyword" id="3272331">struct</span><span class="op" id="3272337">{</span><span class="op" id="3272338">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="3272341">var</span>&nbsp;<span class="ident" id="3272345">_</span>&nbsp;<span class="ident" id="3272347">ValueConverter</span>&nbsp;<span class="op" id="3272362">=</span>&nbsp;<span class="ident" id="3272364">defaultConverter</span><span class="op" id="3272380">{</span><span class="op" id="3272381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3272384">func</span>&nbsp;<span class="op" id="3272389">(</span><span class="ident" id="3272390">defaultConverter</span><span class="op" id="3272406">)</span>&nbsp;<span class="ident" id="3272408">ConvertValue</span><span class="op" id="3272420">(</span><span class="ident" id="3272421">v</span>&nbsp;<span class="keyword" id="3272423">interface</span><span class="op" id="3272432">{</span><span class="op" id="3272433">}</span><span class="op" id="3272434">)</span>&nbsp;<span class="op" id="3272436">(</span><span class="ident" id="3272437">Value</span><span class="op" id="3272442">,</span>&nbsp;<span class="builtintype" id="3272444">error</span><span class="op" id="3272449">)</span>&nbsp;<span class="op" id="3272451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272454">if</span>&nbsp;<span class="ident" id="3272457">IsValue</span><span class="op" id="3272464">(</span><span class="ident" id="3272465">v</span><span class="op" id="3272466">)</span>&nbsp;<span class="op" id="3272468">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272472">return</span>&nbsp;<span class="ident" id="3272479">v</span><span class="op" id="3272480">,</span>&nbsp;<span class="ident" id="3272482">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3272487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272491">if</span>&nbsp;<span class="ident" id="3272494">svi</span><span class="op" id="3272497">,</span>&nbsp;<span class="ident" id="3272499">ok</span>&nbsp;<span class="op" id="3272502">:=</span>&nbsp;<span class="ident" id="3272505">v</span><span class="op" id="3272506">.</span><span class="op" id="3272507">(</span><span class="ident" id="3272508">Valuer</span><span class="op" id="3272514">)</span><span class="op" id="3272515">;</span>&nbsp;<span class="ident" id="3272517">ok</span>&nbsp;<span class="op" id="3272520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3272524">sv</span><span class="op" id="3272526">,</span>&nbsp;<span class="ident" id="3272528">err</span>&nbsp;<span class="op" id="3272532">:=</span>&nbsp;<span class="ident" id="3272535">svi</span><span class="op" id="3272538">.</span><span class="ident" id="3272539">Value</span><span class="op" id="3272544">(</span><span class="op" id="3272545">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272549">if</span>&nbsp;<span class="ident" id="3272552">err</span>&nbsp;<span class="op" id="3272556">!=</span>&nbsp;<span class="ident" id="3272559">nil</span>&nbsp;<span class="op" id="3272563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272568">return</span>&nbsp;<span class="ident" id="3272575">nil</span><span class="op" id="3272578">,</span>&nbsp;<span class="ident" id="3272580">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3272586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272590">if</span>&nbsp;<span class="op" id="3272593">!</span><span class="ident" id="3272594">IsValue</span><span class="op" id="3272601">(</span><span class="ident" id="3272602">sv</span><span class="op" id="3272604">)</span>&nbsp;<span class="op" id="3272606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272611">return</span>&nbsp;<span class="ident" id="3272618">nil</span><span class="op" id="3272621">,</span>&nbsp;<span class="ident" id="3272623">fmt</span><span class="op" id="3272626">.</span><span class="ident" id="3272627">Errorf</span><span class="op" id="3272633">(</span><span class="string" id="3272634">&#34;non-Value&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="3272673">,</span>&nbsp;<span class="ident" id="3272675">sv</span><span class="op" id="3272677">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3272681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272685">return</span>&nbsp;<span class="ident" id="3272692">sv</span><span class="op" id="3272694">,</span>&nbsp;<span class="ident" id="3272696">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3272701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3272705">rv</span>&nbsp;<span class="op" id="3272708">:=</span>&nbsp;<span class="ident" id="3272711">reflect</span><span class="op" id="3272718">.</span><span class="ident" id="3272719">ValueOf</span><span class="op" id="3272726">(</span><span class="ident" id="3272727">v</span><span class="op" id="3272728">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272731">switch</span>&nbsp;<span class="ident" id="3272738">rv</span><span class="op" id="3272740">.</span><span class="ident" id="3272741">Kind</span><span class="op" id="3272745">(</span><span class="op" id="3272746">)</span>&nbsp;<span class="op" id="3272748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272751">case</span>&nbsp;<span class="ident" id="3272756">reflect</span><span class="op" id="3272763">.</span><span class="ident" id="3272764">Ptr</span><span class="op" id="3272767">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3272771">//&nbsp;indirect&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272794">if</span>&nbsp;<span class="ident" id="3272797">rv</span><span class="op" id="3272799">.</span><span class="ident" id="3272800">IsNil</span><span class="op" id="3272805">(</span><span class="op" id="3272806">)</span>&nbsp;<span class="op" id="3272808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272813">return</span>&nbsp;<span class="ident" id="3272820">nil</span><span class="op" id="3272823">,</span>&nbsp;<span class="ident" id="3272825">nil</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3272831">}</span>&nbsp;<span class="keyword" id="3272833">else</span>&nbsp;<span class="op" id="3272838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272843">return</span>&nbsp;<span class="ident" id="3272850">defaultConverter</span><span class="op" id="3272866">{</span><span class="op" id="3272867">}</span><span class="op" id="3272868">.</span><span class="ident" id="3272869">ConvertValue</span><span class="op" id="3272881">(</span><span class="ident" id="3272882">rv</span><span class="op" id="3272884">.</span><span class="ident" id="3272885">Elem</span><span class="op" id="3272889">(</span><span class="op" id="3272890">)</span><span class="op" id="3272891">.</span><span class="ident" id="3272892">Interface</span><span class="op" id="3272901">(</span><span class="op" id="3272902">)</span><span class="op" id="3272903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3272907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272910">case</span>&nbsp;<span class="ident" id="3272915">reflect</span><span class="op" id="3272922">.</span><span class="ident" id="3272923">Int</span><span class="op" id="3272926">,</span>&nbsp;<span class="ident" id="3272928">reflect</span><span class="op" id="3272935">.</span><span class="ident" id="3272936">Int8</span><span class="op" id="3272940">,</span>&nbsp;<span class="ident" id="3272942">reflect</span><span class="op" id="3272949">.</span><span class="ident" id="3272950">Int16</span><span class="op" id="3272955">,</span>&nbsp;<span class="ident" id="3272957">reflect</span><span class="op" id="3272964">.</span><span class="ident" id="3272965">Int32</span><span class="op" id="3272970">,</span>&nbsp;<span class="ident" id="3272972">reflect</span><span class="op" id="3272979">.</span><span class="ident" id="3272980">Int64</span><span class="op" id="3272985">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3272989">return</span>&nbsp;<span class="ident" id="3272996">rv</span><span class="op" id="3272998">.</span><span class="ident" id="3272999">Int</span><span class="op" id="3273002">(</span><span class="op" id="3273003">)</span><span class="op" id="3273004">,</span>&nbsp;<span class="ident" id="3273006">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273011">case</span>&nbsp;<span class="ident" id="3273016">reflect</span><span class="op" id="3273023">.</span><span class="ident" id="3273024">Uint</span><span class="op" id="3273028">,</span>&nbsp;<span class="ident" id="3273030">reflect</span><span class="op" id="3273037">.</span><span class="ident" id="3273038">Uint8</span><span class="op" id="3273043">,</span>&nbsp;<span class="ident" id="3273045">reflect</span><span class="op" id="3273052">.</span><span class="ident" id="3273053">Uint16</span><span class="op" id="3273059">,</span>&nbsp;<span class="ident" id="3273061">reflect</span><span class="op" id="3273068">.</span><span class="ident" id="3273069">Uint32</span><span class="op" id="3273075">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273079">return</span>&nbsp;<span class="ident" id="3273086">int64</span><span class="op" id="3273091">(</span><span class="ident" id="3273092">rv</span><span class="op" id="3273094">.</span><span class="ident" id="3273095">Uint</span><span class="op" id="3273099">(</span><span class="op" id="3273100">)</span><span class="op" id="3273101">)</span><span class="op" id="3273102">,</span>&nbsp;<span class="ident" id="3273104">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273109">case</span>&nbsp;<span class="ident" id="3273114">reflect</span><span class="op" id="3273121">.</span><span class="ident" id="3273122">Uint64</span><span class="op" id="3273128">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3273132">u64</span>&nbsp;<span class="op" id="3273136">:=</span>&nbsp;<span class="ident" id="3273139">rv</span><span class="op" id="3273141">.</span><span class="ident" id="3273142">Uint</span><span class="op" id="3273146">(</span><span class="op" id="3273147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273151">if</span>&nbsp;<span class="ident" id="3273154">u64</span>&nbsp;<span class="op" id="3273158">&gt;=</span>&nbsp;<span class="num" id="3273161">1</span><span class="op" id="3273162">&lt;&lt;</span><span class="num" id="3273164">63</span>&nbsp;<span class="op" id="3273167">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273172">return</span>&nbsp;<span class="ident" id="3273179">nil</span><span class="op" id="3273182">,</span>&nbsp;<span class="ident" id="3273184">fmt</span><span class="op" id="3273187">.</span><span class="ident" id="3273188">Errorf</span><span class="op" id="3273194">(</span><span class="string" id="3273195">&#34;uint64&nbsp;values&nbsp;with&nbsp;high&nbsp;bit&nbsp;set&nbsp;are&nbsp;not&nbsp;supported&#34;</span><span class="op" id="3273246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3273250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273254">return</span>&nbsp;<span class="ident" id="3273261">int64</span><span class="op" id="3273266">(</span><span class="ident" id="3273267">u64</span><span class="op" id="3273270">)</span><span class="op" id="3273271">,</span>&nbsp;<span class="ident" id="3273273">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273278">case</span>&nbsp;<span class="ident" id="3273283">reflect</span><span class="op" id="3273290">.</span><span class="ident" id="3273291">Float32</span><span class="op" id="3273298">,</span>&nbsp;<span class="ident" id="3273300">reflect</span><span class="op" id="3273307">.</span><span class="ident" id="3273308">Float64</span><span class="op" id="3273315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273319">return</span>&nbsp;<span class="ident" id="3273326">rv</span><span class="op" id="3273328">.</span><span class="ident" id="3273329">Float</span><span class="op" id="3273334">(</span><span class="op" id="3273335">)</span><span class="op" id="3273336">,</span>&nbsp;<span class="ident" id="3273338">nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3273343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3273346">return</span>&nbsp;<span class="ident" id="3273353">nil</span><span class="op" id="3273356">,</span>&nbsp;<span class="ident" id="3273358">fmt</span><span class="op" id="3273361">.</span><span class="ident" id="3273362">Errorf</span><span class="op" id="3273368">(</span><span class="string" id="3273369">&#34;unsupported&nbsp;type&nbsp;%T,&nbsp;a&nbsp;%s&#34;</span><span class="op" id="3273396">,</span>&nbsp;<span class="ident" id="3273398">v</span><span class="op" id="3273399">,</span>&nbsp;<span class="ident" id="3273401">rv</span><span class="op" id="3273403">.</span><span class="ident" id="3273404">Kind</span><span class="op" id="3273408">(</span><span class="op" id="3273409">)</span><span class="op" id="3273410">)</span><br>
<span class="lineno"></span><span class="op" id="3273412">}</span>
</div>
</body>
</html>
