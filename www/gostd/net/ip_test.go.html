<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html" class="current">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7539392">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7539447">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7539501">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7539552">package</span>&nbsp;<span class="ident" id="7539560">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7539565">import</span>&nbsp;<span class="op" id="7539572">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7539575">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7539586">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7539597">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7539607">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7539610">var</span>&nbsp;<span class="ident" id="7539614">parseIPTests</span>&nbsp;<span class="op" id="7539627">=</span>&nbsp;<span class="op" id="7539629">[</span><span class="op" id="7539630">]</span><span class="keyword" id="7539631">struct</span>&nbsp;<span class="op" id="7539638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539641">in</span>&nbsp;&nbsp;<span class="builtintype" id="7539645">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539653">out</span>&nbsp;<span class="ident" id="7539657">IP</span><br>
<span class="lineno"></span><span class="op" id="7539660">}</span><span class="op" id="7539661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539664">{</span><span class="string" id="7539665">&#34;127.0.1.2&#34;</span><span class="op" id="7539676">,</span>&nbsp;<span class="ident" id="7539678">IPv4</span><span class="op" id="7539682">(</span><span class="num" id="7539683">127</span><span class="op" id="7539686">,</span>&nbsp;<span class="num" id="7539688">0</span><span class="op" id="7539689">,</span>&nbsp;<span class="num" id="7539691">1</span><span class="op" id="7539692">,</span>&nbsp;<span class="num" id="7539694">2</span><span class="op" id="7539695">)</span><span class="op" id="7539696">}</span><span class="op" id="7539697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539700">{</span><span class="string" id="7539701">&#34;127.0.0.1&#34;</span><span class="op" id="7539712">,</span>&nbsp;<span class="ident" id="7539714">IPv4</span><span class="op" id="7539718">(</span><span class="num" id="7539719">127</span><span class="op" id="7539722">,</span>&nbsp;<span class="num" id="7539724">0</span><span class="op" id="7539725">,</span>&nbsp;<span class="num" id="7539727">0</span><span class="op" id="7539728">,</span>&nbsp;<span class="num" id="7539730">1</span><span class="op" id="7539731">)</span><span class="op" id="7539732">}</span><span class="op" id="7539733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539736">{</span><span class="string" id="7539737">&#34;127.0.0.256&#34;</span><span class="op" id="7539750">,</span>&nbsp;<span class="ident" id="7539752">nil</span><span class="op" id="7539755">}</span><span class="op" id="7539756">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539759">{</span><span class="string" id="7539760">&#34;abc&#34;</span><span class="op" id="7539765">,</span>&nbsp;<span class="ident" id="7539767">nil</span><span class="op" id="7539770">}</span><span class="op" id="7539771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539774">{</span><span class="string" id="7539775">&#34;123:&#34;</span><span class="op" id="7539781">,</span>&nbsp;<span class="ident" id="7539783">nil</span><span class="op" id="7539786">}</span><span class="op" id="7539787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539790">{</span><span class="string" id="7539791">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="7539809">,</span>&nbsp;<span class="ident" id="7539811">IPv4</span><span class="op" id="7539815">(</span><span class="num" id="7539816">127</span><span class="op" id="7539819">,</span>&nbsp;<span class="num" id="7539821">0</span><span class="op" id="7539822">,</span>&nbsp;<span class="num" id="7539824">0</span><span class="op" id="7539825">,</span>&nbsp;<span class="num" id="7539827">1</span><span class="op" id="7539828">)</span><span class="op" id="7539829">}</span><span class="op" id="7539830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539833">{</span><span class="string" id="7539834">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="7539856">,</span>&nbsp;<span class="ident" id="7539858">IP</span><span class="op" id="7539860">{</span><span class="num" id="7539861">0x20</span><span class="op" id="7539865">,</span>&nbsp;<span class="num" id="7539867">0x01</span><span class="op" id="7539871">,</span>&nbsp;<span class="num" id="7539873">0x48</span><span class="op" id="7539877">,</span>&nbsp;<span class="num" id="7539879">0x60</span><span class="op" id="7539883">,</span>&nbsp;<span class="num" id="7539885">0</span><span class="op" id="7539886">,</span>&nbsp;<span class="num" id="7539888">0</span><span class="op" id="7539889">,</span>&nbsp;<span class="num" id="7539891">0x20</span><span class="op" id="7539895">,</span>&nbsp;<span class="num" id="7539897">0x01</span><span class="op" id="7539901">,</span>&nbsp;<span class="num" id="7539903">0</span><span class="op" id="7539904">,</span>&nbsp;<span class="num" id="7539906">0</span><span class="op" id="7539907">,</span>&nbsp;<span class="num" id="7539909">0</span><span class="op" id="7539910">,</span>&nbsp;<span class="num" id="7539912">0</span><span class="op" id="7539913">,</span>&nbsp;<span class="num" id="7539915">0</span><span class="op" id="7539916">,</span>&nbsp;<span class="num" id="7539918">0</span><span class="op" id="7539919">,</span>&nbsp;<span class="num" id="7539921">0x00</span><span class="op" id="7539925">,</span>&nbsp;<span class="num" id="7539927">0x68</span><span class="op" id="7539931">}</span><span class="op" id="7539932">}</span><span class="op" id="7539933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539936">{</span><span class="string" id="7539937">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="7539955">,</span>&nbsp;<span class="ident" id="7539957">IPv4</span><span class="op" id="7539961">(</span><span class="num" id="7539962">74</span><span class="op" id="7539964">,</span>&nbsp;<span class="num" id="7539966">125</span><span class="op" id="7539969">,</span>&nbsp;<span class="num" id="7539971">19</span><span class="op" id="7539973">,</span>&nbsp;<span class="num" id="7539975">99</span><span class="op" id="7539977">)</span><span class="op" id="7539978">}</span><span class="op" id="7539979">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539982">{</span><span class="string" id="7539983">&#34;fe80::1%lo0&#34;</span><span class="op" id="7539996">,</span>&nbsp;<span class="ident" id="7539998">nil</span><span class="op" id="7540001">}</span><span class="op" id="7540002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540005">{</span><span class="string" id="7540006">&#34;fe80::1%911&#34;</span><span class="op" id="7540019">,</span>&nbsp;<span class="ident" id="7540021">nil</span><span class="op" id="7540024">}</span><span class="op" id="7540025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540028">{</span><span class="string" id="7540029">&#34;&#34;</span><span class="op" id="7540031">,</span>&nbsp;<span class="ident" id="7540033">nil</span><span class="op" id="7540036">}</span><span class="op" id="7540037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540040">{</span><span class="string" id="7540041">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="7540067">,</span>&nbsp;<span class="ident" id="7540069">nil</span><span class="op" id="7540072">}</span><span class="op" id="7540073">,</span>&nbsp;<span class="comment" id="7540075">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="7540089">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="7540092">func</span>&nbsp;<span class="ident" id="7540097">TestParseIP</span><span class="op" id="7540108">(</span><span class="ident" id="7540109">t</span>&nbsp;<span class="op" id="7540111">*</span><span class="ident" id="7540112">testing</span><span class="op" id="7540119">.</span><span class="ident" id="7540120">T</span><span class="op" id="7540121">)</span>&nbsp;<span class="op" id="7540123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540126">for</span>&nbsp;<span class="ident" id="7540130">_</span><span class="op" id="7540131">,</span>&nbsp;<span class="ident" id="7540133">tt</span>&nbsp;<span class="op" id="7540136">:=</span>&nbsp;<span class="keyword" id="7540139">range</span>&nbsp;<span class="ident" id="7540145">parseIPTests</span>&nbsp;<span class="op" id="7540158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540162">if</span>&nbsp;<span class="ident" id="7540165">out</span>&nbsp;<span class="op" id="7540169">:=</span>&nbsp;<span class="ident" id="7540172">ParseIP</span><span class="op" id="7540179">(</span><span class="ident" id="7540180">tt</span><span class="op" id="7540182">.</span><span class="ident" id="7540183">in</span><span class="op" id="7540185">)</span><span class="op" id="7540186">;</span>&nbsp;<span class="op" id="7540188">!</span><span class="ident" id="7540189">reflect</span><span class="op" id="7540196">.</span><span class="ident" id="7540197">DeepEqual</span><span class="op" id="7540206">(</span><span class="ident" id="7540207">out</span><span class="op" id="7540210">,</span>&nbsp;<span class="ident" id="7540212">tt</span><span class="op" id="7540214">.</span><span class="ident" id="7540215">out</span><span class="op" id="7540218">)</span>&nbsp;<span class="op" id="7540220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540225">t</span><span class="op" id="7540226">.</span><span class="ident" id="7540227">Errorf</span><span class="op" id="7540233">(</span><span class="string" id="7540234">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7540261">,</span>&nbsp;<span class="ident" id="7540263">tt</span><span class="op" id="7540265">.</span><span class="ident" id="7540266">in</span><span class="op" id="7540268">,</span>&nbsp;<span class="ident" id="7540270">out</span><span class="op" id="7540273">,</span>&nbsp;<span class="ident" id="7540275">tt</span><span class="op" id="7540277">.</span><span class="ident" id="7540278">out</span><span class="op" id="7540281">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540289">if</span>&nbsp;<span class="ident" id="7540292">tt</span><span class="op" id="7540294">.</span><span class="ident" id="7540295">in</span>&nbsp;<span class="op" id="7540298">==</span>&nbsp;<span class="string" id="7540301">&#34;&#34;</span>&nbsp;<span class="op" id="7540304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7540309">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540351">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540362">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540366">var</span>&nbsp;<span class="ident" id="7540370">out</span>&nbsp;<span class="ident" id="7540374">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540379">if</span>&nbsp;<span class="ident" id="7540382">err</span>&nbsp;<span class="op" id="7540386">:=</span>&nbsp;<span class="ident" id="7540389">out</span><span class="op" id="7540392">.</span><span class="ident" id="7540393">UnmarshalText</span><span class="op" id="7540406">(</span><span class="op" id="7540407">[</span><span class="op" id="7540408">]</span><span class="builtintype" id="7540409">byte</span><span class="op" id="7540413">(</span><span class="ident" id="7540414">tt</span><span class="op" id="7540416">.</span><span class="ident" id="7540417">in</span><span class="op" id="7540419">)</span><span class="op" id="7540420">)</span><span class="op" id="7540421">;</span>&nbsp;<span class="op" id="7540423">!</span><span class="ident" id="7540424">reflect</span><span class="op" id="7540431">.</span><span class="ident" id="7540432">DeepEqual</span><span class="op" id="7540441">(</span><span class="ident" id="7540442">out</span><span class="op" id="7540445">,</span>&nbsp;<span class="ident" id="7540447">tt</span><span class="op" id="7540449">.</span><span class="ident" id="7540450">out</span><span class="op" id="7540453">)</span>&nbsp;<span class="op" id="7540455">||</span>&nbsp;<span class="op" id="7540458">(</span><span class="ident" id="7540459">tt</span><span class="op" id="7540461">.</span><span class="ident" id="7540462">out</span>&nbsp;<span class="op" id="7540466">==</span>&nbsp;<span class="ident" id="7540469">nil</span><span class="op" id="7540472">)</span>&nbsp;<span class="op" id="7540474">!=</span>&nbsp;<span class="op" id="7540477">(</span><span class="ident" id="7540478">err</span>&nbsp;<span class="op" id="7540482">!=</span>&nbsp;<span class="ident" id="7540485">nil</span><span class="op" id="7540488">)</span>&nbsp;<span class="op" id="7540490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540495">t</span><span class="op" id="7540496">.</span><span class="ident" id="7540497">Errorf</span><span class="op" id="7540503">(</span><span class="string" id="7540504">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7540544">,</span>&nbsp;<span class="ident" id="7540546">tt</span><span class="op" id="7540548">.</span><span class="ident" id="7540549">in</span><span class="op" id="7540551">,</span>&nbsp;<span class="ident" id="7540553">out</span><span class="op" id="7540556">,</span>&nbsp;<span class="ident" id="7540558">err</span><span class="op" id="7540561">,</span>&nbsp;<span class="ident" id="7540563">tt</span><span class="op" id="7540565">.</span><span class="ident" id="7540566">out</span><span class="op" id="7540569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540576">}</span><br>
<span class="lineno">45</span><span class="op" id="7540578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7540581">func</span>&nbsp;<span class="ident" id="7540586">BenchmarkParseIP</span><span class="op" id="7540602">(</span><span class="ident" id="7540603">b</span>&nbsp;<span class="op" id="7540605">*</span><span class="ident" id="7540606">testing</span><span class="op" id="7540613">.</span><span class="ident" id="7540614">B</span><span class="op" id="7540615">)</span>&nbsp;<span class="op" id="7540617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540620">for</span>&nbsp;<span class="ident" id="7540624">i</span>&nbsp;<span class="op" id="7540626">:=</span>&nbsp;<span class="num" id="7540629">0</span><span class="op" id="7540630">;</span>&nbsp;<span class="ident" id="7540632">i</span>&nbsp;<span class="op" id="7540634">&lt;</span>&nbsp;<span class="ident" id="7540636">b</span><span class="op" id="7540637">.</span><span class="ident" id="7540638">N</span><span class="op" id="7540639">;</span>&nbsp;<span class="ident" id="7540641">i</span><span class="op" id="7540642">++</span>&nbsp;<span class="op" id="7540645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540649">for</span>&nbsp;<span class="ident" id="7540653">_</span><span class="op" id="7540654">,</span>&nbsp;<span class="ident" id="7540656">tt</span>&nbsp;<span class="op" id="7540659">:=</span>&nbsp;<span class="keyword" id="7540662">range</span>&nbsp;<span class="ident" id="7540668">parseIPTests</span>&nbsp;<span class="op" id="7540681">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540686">ParseIP</span><span class="op" id="7540693">(</span><span class="ident" id="7540694">tt</span><span class="op" id="7540696">.</span><span class="ident" id="7540697">in</span><span class="op" id="7540699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540706">}</span><br>
<span class="lineno"></span><span class="op" id="7540708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="7540711">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="7540725">func</span>&nbsp;<span class="ident" id="7540730">TestMarshalEmptyIP</span><span class="op" id="7540748">(</span><span class="ident" id="7540749">t</span>&nbsp;<span class="op" id="7540751">*</span><span class="ident" id="7540752">testing</span><span class="op" id="7540759">.</span><span class="ident" id="7540760">T</span><span class="op" id="7540761">)</span>&nbsp;<span class="op" id="7540763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540766">for</span>&nbsp;<span class="ident" id="7540770">_</span><span class="op" id="7540771">,</span>&nbsp;<span class="ident" id="7540773">in</span>&nbsp;<span class="op" id="7540776">:=</span>&nbsp;<span class="keyword" id="7540779">range</span>&nbsp;<span class="op" id="7540785">[</span><span class="op" id="7540786">]</span><span class="op" id="7540787">[</span><span class="op" id="7540788">]</span><span class="builtintype" id="7540789">byte</span><span class="op" id="7540793">{</span><span class="ident" id="7540794">nil</span><span class="op" id="7540797">,</span>&nbsp;<span class="op" id="7540799">[</span><span class="op" id="7540800">]</span><span class="builtintype" id="7540801">byte</span><span class="op" id="7540805">(</span><span class="string" id="7540806">&#34;&#34;</span><span class="op" id="7540808">)</span><span class="op" id="7540809">}</span>&nbsp;<span class="op" id="7540811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540815">var</span>&nbsp;<span class="ident" id="7540819">out</span>&nbsp;<span class="op" id="7540823">=</span>&nbsp;<span class="ident" id="7540825">IP</span><span class="op" id="7540827">{</span><span class="num" id="7540828">1</span><span class="op" id="7540829">,</span>&nbsp;<span class="num" id="7540831">2</span><span class="op" id="7540832">,</span>&nbsp;<span class="num" id="7540834">3</span><span class="op" id="7540835">,</span>&nbsp;<span class="num" id="7540837">4</span><span class="op" id="7540838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540842">if</span>&nbsp;<span class="ident" id="7540845">err</span>&nbsp;<span class="op" id="7540849">:=</span>&nbsp;<span class="ident" id="7540852">out</span><span class="op" id="7540855">.</span><span class="ident" id="7540856">UnmarshalText</span><span class="op" id="7540869">(</span><span class="ident" id="7540870">in</span><span class="op" id="7540872">)</span><span class="op" id="7540873">;</span>&nbsp;<span class="ident" id="7540875">err</span>&nbsp;<span class="op" id="7540879">!=</span>&nbsp;<span class="ident" id="7540882">nil</span>&nbsp;<span class="op" id="7540886">||</span>&nbsp;<span class="ident" id="7540889">out</span>&nbsp;<span class="op" id="7540893">!=</span>&nbsp;<span class="ident" id="7540896">nil</span>&nbsp;<span class="op" id="7540900">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540905">t</span><span class="op" id="7540906">.</span><span class="ident" id="7540907">Errorf</span><span class="op" id="7540913">(</span><span class="string" id="7540914">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="7540957">,</span>&nbsp;<span class="ident" id="7540959">in</span><span class="op" id="7540961">,</span>&nbsp;<span class="ident" id="7540963">out</span><span class="op" id="7540966">,</span>&nbsp;<span class="ident" id="7540968">err</span><span class="op" id="7540971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540981">var</span>&nbsp;<span class="ident" id="7540985">ip</span>&nbsp;<span class="ident" id="7540988">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540992">got</span><span class="op" id="7540995">,</span>&nbsp;<span class="ident" id="7540997">err</span>&nbsp;<span class="op" id="7541001">:=</span>&nbsp;<span class="ident" id="7541004">ip</span><span class="op" id="7541006">.</span><span class="ident" id="7541007">MarshalText</span><span class="op" id="7541018">(</span><span class="op" id="7541019">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7541022">if</span>&nbsp;<span class="ident" id="7541025">err</span>&nbsp;<span class="op" id="7541029">!=</span>&nbsp;<span class="ident" id="7541032">nil</span>&nbsp;<span class="op" id="7541036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541040">t</span><span class="op" id="7541041">.</span><span class="ident" id="7541042">Fatal</span><span class="op" id="7541047">(</span><span class="ident" id="7541048">err</span><span class="op" id="7541051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7541057">if</span>&nbsp;<span class="op" id="7541060">!</span><span class="ident" id="7541061">reflect</span><span class="op" id="7541068">.</span><span class="ident" id="7541069">DeepEqual</span><span class="op" id="7541078">(</span><span class="ident" id="7541079">got</span><span class="op" id="7541082">,</span>&nbsp;<span class="op" id="7541084">[</span><span class="op" id="7541085">]</span><span class="builtintype" id="7541086">byte</span><span class="op" id="7541090">(</span><span class="string" id="7541091">&#34;&#34;</span><span class="op" id="7541093">)</span><span class="op" id="7541094">)</span>&nbsp;<span class="op" id="7541096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541100">t</span><span class="op" id="7541101">.</span><span class="ident" id="7541102">Errorf</span><span class="op" id="7541108">(</span><span class="string" id="7541109">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="7541135">,</span>&nbsp;<span class="ident" id="7541137">got</span><span class="op" id="7541140">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541143">}</span><br>
<span class="lineno"></span><span class="op" id="7541145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7541148">var</span>&nbsp;<span class="ident" id="7541152">ipStringTests</span>&nbsp;<span class="op" id="7541166">=</span>&nbsp;<span class="op" id="7541168">[</span><span class="op" id="7541169">]</span><span class="keyword" id="7541170">struct</span>&nbsp;<span class="op" id="7541177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541180">in</span>&nbsp;&nbsp;<span class="ident" id="7541184">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541188">out</span>&nbsp;<span class="builtintype" id="7541192">string</span>&nbsp;<span class="comment" id="7541199">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="7541215">}</span><span class="op" id="7541216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541219">{</span><span class="ident" id="7541220">IP</span><span class="op" id="7541222">{</span><span class="num" id="7541223">0x20</span><span class="op" id="7541227">,</span>&nbsp;<span class="num" id="7541229">0x1</span><span class="op" id="7541232">,</span>&nbsp;<span class="num" id="7541234">0xd</span><span class="op" id="7541237">,</span>&nbsp;<span class="num" id="7541239">0xb8</span><span class="op" id="7541243">,</span>&nbsp;<span class="num" id="7541245">0</span><span class="op" id="7541246">,</span>&nbsp;<span class="num" id="7541248">0</span><span class="op" id="7541249">,</span>&nbsp;<span class="num" id="7541251">0</span><span class="op" id="7541252">,</span>&nbsp;<span class="num" id="7541254">0</span><span class="op" id="7541255">,</span>&nbsp;<span class="num" id="7541257">0</span><span class="op" id="7541258">,</span>&nbsp;<span class="num" id="7541260">0</span><span class="op" id="7541261">,</span>&nbsp;<span class="num" id="7541263">0x1</span><span class="op" id="7541266">,</span>&nbsp;<span class="num" id="7541268">0x23</span><span class="op" id="7541272">,</span>&nbsp;<span class="num" id="7541274">0</span><span class="op" id="7541275">,</span>&nbsp;<span class="num" id="7541277">0x12</span><span class="op" id="7541281">,</span>&nbsp;<span class="num" id="7541283">0</span><span class="op" id="7541284">,</span>&nbsp;<span class="num" id="7541286">0x1</span><span class="op" id="7541289">}</span><span class="op" id="7541290">,</span>&nbsp;<span class="string" id="7541292">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="7541312">}</span><span class="op" id="7541313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541316">{</span><span class="ident" id="7541317">IP</span><span class="op" id="7541319">{</span><span class="num" id="7541320">0x20</span><span class="op" id="7541324">,</span>&nbsp;<span class="num" id="7541326">0x1</span><span class="op" id="7541329">,</span>&nbsp;<span class="num" id="7541331">0xd</span><span class="op" id="7541334">,</span>&nbsp;<span class="num" id="7541336">0xb8</span><span class="op" id="7541340">,</span>&nbsp;<span class="num" id="7541342">0</span><span class="op" id="7541343">,</span>&nbsp;<span class="num" id="7541345">0</span><span class="op" id="7541346">,</span>&nbsp;<span class="num" id="7541348">0</span><span class="op" id="7541349">,</span>&nbsp;<span class="num" id="7541351">0</span><span class="op" id="7541352">,</span>&nbsp;<span class="num" id="7541354">0</span><span class="op" id="7541355">,</span>&nbsp;<span class="num" id="7541357">0</span><span class="op" id="7541358">,</span>&nbsp;<span class="num" id="7541360">0</span><span class="op" id="7541361">,</span>&nbsp;<span class="num" id="7541363">0</span><span class="op" id="7541364">,</span>&nbsp;<span class="num" id="7541366">0</span><span class="op" id="7541367">,</span>&nbsp;<span class="num" id="7541369">0</span><span class="op" id="7541370">,</span>&nbsp;<span class="num" id="7541372">0</span><span class="op" id="7541373">,</span>&nbsp;<span class="num" id="7541375">0x1</span><span class="op" id="7541378">}</span><span class="op" id="7541379">,</span>&nbsp;<span class="string" id="7541381">&#34;2001:db8::1&#34;</span><span class="op" id="7541394">}</span><span class="op" id="7541395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541398">{</span><span class="ident" id="7541399">IP</span><span class="op" id="7541401">{</span><span class="num" id="7541402">0x20</span><span class="op" id="7541406">,</span>&nbsp;<span class="num" id="7541408">0x1</span><span class="op" id="7541411">,</span>&nbsp;<span class="num" id="7541413">0xd</span><span class="op" id="7541416">,</span>&nbsp;<span class="num" id="7541418">0xb8</span><span class="op" id="7541422">,</span>&nbsp;<span class="num" id="7541424">0</span><span class="op" id="7541425">,</span>&nbsp;<span class="num" id="7541427">0</span><span class="op" id="7541428">,</span>&nbsp;<span class="num" id="7541430">0</span><span class="op" id="7541431">,</span>&nbsp;<span class="num" id="7541433">0x1</span><span class="op" id="7541436">,</span>&nbsp;<span class="num" id="7541438">0</span><span class="op" id="7541439">,</span>&nbsp;<span class="num" id="7541441">0</span><span class="op" id="7541442">,</span>&nbsp;<span class="num" id="7541444">0</span><span class="op" id="7541445">,</span>&nbsp;<span class="num" id="7541447">0x1</span><span class="op" id="7541450">,</span>&nbsp;<span class="num" id="7541452">0</span><span class="op" id="7541453">,</span>&nbsp;<span class="num" id="7541455">0</span><span class="op" id="7541456">,</span>&nbsp;<span class="num" id="7541458">0</span><span class="op" id="7541459">,</span>&nbsp;<span class="num" id="7541461">0x1</span><span class="op" id="7541464">}</span><span class="op" id="7541465">,</span>&nbsp;<span class="string" id="7541467">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="7541489">}</span><span class="op" id="7541490">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541493">{</span><span class="ident" id="7541494">IP</span><span class="op" id="7541496">{</span><span class="num" id="7541497">0x20</span><span class="op" id="7541501">,</span>&nbsp;<span class="num" id="7541503">0x1</span><span class="op" id="7541506">,</span>&nbsp;<span class="num" id="7541508">0xd</span><span class="op" id="7541511">,</span>&nbsp;<span class="num" id="7541513">0xb8</span><span class="op" id="7541517">,</span>&nbsp;<span class="num" id="7541519">0</span><span class="op" id="7541520">,</span>&nbsp;<span class="num" id="7541522">0x1</span><span class="op" id="7541525">,</span>&nbsp;<span class="num" id="7541527">0</span><span class="op" id="7541528">,</span>&nbsp;<span class="num" id="7541530">0</span><span class="op" id="7541531">,</span>&nbsp;<span class="num" id="7541533">0</span><span class="op" id="7541534">,</span>&nbsp;<span class="num" id="7541536">0x1</span><span class="op" id="7541539">,</span>&nbsp;<span class="num" id="7541541">0</span><span class="op" id="7541542">,</span>&nbsp;<span class="num" id="7541544">0</span><span class="op" id="7541545">,</span>&nbsp;<span class="num" id="7541547">0</span><span class="op" id="7541548">,</span>&nbsp;<span class="num" id="7541550">0x1</span><span class="op" id="7541553">,</span>&nbsp;<span class="num" id="7541555">0</span><span class="op" id="7541556">,</span>&nbsp;<span class="num" id="7541558">0</span><span class="op" id="7541559">}</span><span class="op" id="7541560">,</span>&nbsp;<span class="string" id="7541562">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="7541584">}</span><span class="op" id="7541585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541588">{</span><span class="ident" id="7541589">IP</span><span class="op" id="7541591">{</span><span class="num" id="7541592">0x20</span><span class="op" id="7541596">,</span>&nbsp;<span class="num" id="7541598">0x1</span><span class="op" id="7541601">,</span>&nbsp;<span class="num" id="7541603">0</span><span class="op" id="7541604">,</span>&nbsp;<span class="num" id="7541606">0</span><span class="op" id="7541607">,</span>&nbsp;<span class="num" id="7541609">0</span><span class="op" id="7541610">,</span>&nbsp;<span class="num" id="7541612">0</span><span class="op" id="7541613">,</span>&nbsp;<span class="num" id="7541615">0</span><span class="op" id="7541616">,</span>&nbsp;<span class="num" id="7541618">0</span><span class="op" id="7541619">,</span>&nbsp;<span class="num" id="7541621">0</span><span class="op" id="7541622">,</span>&nbsp;<span class="num" id="7541624">0x1</span><span class="op" id="7541627">,</span>&nbsp;<span class="num" id="7541629">0</span><span class="op" id="7541630">,</span>&nbsp;<span class="num" id="7541632">0</span><span class="op" id="7541633">,</span>&nbsp;<span class="num" id="7541635">0</span><span class="op" id="7541636">,</span>&nbsp;<span class="num" id="7541638">0</span><span class="op" id="7541639">,</span>&nbsp;<span class="num" id="7541641">0</span><span class="op" id="7541642">,</span>&nbsp;<span class="num" id="7541644">0x1</span><span class="op" id="7541647">}</span><span class="op" id="7541648">,</span>&nbsp;<span class="string" id="7541650">&#34;2001::1:0:0:1&#34;</span><span class="op" id="7541665">}</span><span class="op" id="7541666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541669">{</span><span class="ident" id="7541670">IP</span><span class="op" id="7541672">{</span><span class="num" id="7541673">0x20</span><span class="op" id="7541677">,</span>&nbsp;<span class="num" id="7541679">0x1</span><span class="op" id="7541682">,</span>&nbsp;<span class="num" id="7541684">0xd</span><span class="op" id="7541687">,</span>&nbsp;<span class="num" id="7541689">0xb8</span><span class="op" id="7541693">,</span>&nbsp;<span class="num" id="7541695">0</span><span class="op" id="7541696">,</span>&nbsp;<span class="num" id="7541698">0</span><span class="op" id="7541699">,</span>&nbsp;<span class="num" id="7541701">0</span><span class="op" id="7541702">,</span>&nbsp;<span class="num" id="7541704">0</span><span class="op" id="7541705">,</span>&nbsp;<span class="num" id="7541707">0</span><span class="op" id="7541708">,</span>&nbsp;<span class="num" id="7541710">0x1</span><span class="op" id="7541713">,</span>&nbsp;<span class="num" id="7541715">0</span><span class="op" id="7541716">,</span>&nbsp;<span class="num" id="7541718">0</span><span class="op" id="7541719">,</span>&nbsp;<span class="num" id="7541721">0</span><span class="op" id="7541722">,</span>&nbsp;<span class="num" id="7541724">0</span><span class="op" id="7541725">,</span>&nbsp;<span class="num" id="7541727">0</span><span class="op" id="7541728">,</span>&nbsp;<span class="num" id="7541730">0</span><span class="op" id="7541731">}</span><span class="op" id="7541732">,</span>&nbsp;<span class="string" id="7541734">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="7541752">}</span><span class="op" id="7541753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541756">{</span><span class="ident" id="7541757">IP</span><span class="op" id="7541759">{</span><span class="num" id="7541760">0x20</span><span class="op" id="7541764">,</span>&nbsp;<span class="num" id="7541766">0x1</span><span class="op" id="7541769">,</span>&nbsp;<span class="num" id="7541771">0xd</span><span class="op" id="7541774">,</span>&nbsp;<span class="num" id="7541776">0xb8</span><span class="op" id="7541780">,</span>&nbsp;<span class="num" id="7541782">0</span><span class="op" id="7541783">,</span>&nbsp;<span class="num" id="7541785">0</span><span class="op" id="7541786">,</span>&nbsp;<span class="num" id="7541788">0</span><span class="op" id="7541789">,</span>&nbsp;<span class="num" id="7541791">0</span><span class="op" id="7541792">,</span>&nbsp;<span class="num" id="7541794">0</span><span class="op" id="7541795">,</span>&nbsp;<span class="num" id="7541797">0x1</span><span class="op" id="7541800">,</span>&nbsp;<span class="num" id="7541802">0</span><span class="op" id="7541803">,</span>&nbsp;<span class="num" id="7541805">0</span><span class="op" id="7541806">,</span>&nbsp;<span class="num" id="7541808">0</span><span class="op" id="7541809">,</span>&nbsp;<span class="num" id="7541811">0</span><span class="op" id="7541812">,</span>&nbsp;<span class="num" id="7541814">0</span><span class="op" id="7541815">,</span>&nbsp;<span class="num" id="7541817">0x1</span><span class="op" id="7541820">}</span><span class="op" id="7541821">,</span>&nbsp;<span class="string" id="7541823">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="7541842">}</span><span class="op" id="7541843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541846">{</span><span class="ident" id="7541847">IP</span><span class="op" id="7541849">{</span><span class="num" id="7541850">0x20</span><span class="op" id="7541854">,</span>&nbsp;<span class="num" id="7541856">0x1</span><span class="op" id="7541859">,</span>&nbsp;<span class="num" id="7541861">0xD</span><span class="op" id="7541864">,</span>&nbsp;<span class="num" id="7541866">0xB8</span><span class="op" id="7541870">,</span>&nbsp;<span class="num" id="7541872">0</span><span class="op" id="7541873">,</span>&nbsp;<span class="num" id="7541875">0</span><span class="op" id="7541876">,</span>&nbsp;<span class="num" id="7541878">0</span><span class="op" id="7541879">,</span>&nbsp;<span class="num" id="7541881">0</span><span class="op" id="7541882">,</span>&nbsp;<span class="num" id="7541884">0</span><span class="op" id="7541885">,</span>&nbsp;<span class="num" id="7541887">0xA</span><span class="op" id="7541890">,</span>&nbsp;<span class="num" id="7541892">0</span><span class="op" id="7541893">,</span>&nbsp;<span class="num" id="7541895">0xB</span><span class="op" id="7541898">,</span>&nbsp;<span class="num" id="7541900">0</span><span class="op" id="7541901">,</span>&nbsp;<span class="num" id="7541903">0xC</span><span class="op" id="7541906">,</span>&nbsp;<span class="num" id="7541908">0</span><span class="op" id="7541909">,</span>&nbsp;<span class="num" id="7541911">0xD</span><span class="op" id="7541914">}</span><span class="op" id="7541915">,</span>&nbsp;<span class="string" id="7541917">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="7541936">}</span><span class="op" id="7541937">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541940">{</span><span class="ident" id="7541941">IPv4</span><span class="op" id="7541945">(</span><span class="num" id="7541946">192</span><span class="op" id="7541949">,</span>&nbsp;<span class="num" id="7541951">168</span><span class="op" id="7541954">,</span>&nbsp;<span class="num" id="7541956">0</span><span class="op" id="7541957">,</span>&nbsp;<span class="num" id="7541959">1</span><span class="op" id="7541960">)</span><span class="op" id="7541961">,</span>&nbsp;<span class="string" id="7541963">&#34;192.168.0.1&#34;</span><span class="op" id="7541976">}</span><span class="op" id="7541977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541980">{</span><span class="ident" id="7541981">nil</span><span class="op" id="7541984">,</span>&nbsp;<span class="string" id="7541986">&#34;&#34;</span><span class="op" id="7541988">}</span><span class="op" id="7541989">,</span><br>
<span class="lineno"></span><span class="op" id="7541991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7541994">func</span>&nbsp;<span class="ident" id="7541999">TestIPString</span><span class="op" id="7542011">(</span><span class="ident" id="7542012">t</span>&nbsp;<span class="op" id="7542014">*</span><span class="ident" id="7542015">testing</span><span class="op" id="7542022">.</span><span class="ident" id="7542023">T</span><span class="op" id="7542024">)</span>&nbsp;<span class="op" id="7542026">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542029">for</span>&nbsp;<span class="ident" id="7542033">_</span><span class="op" id="7542034">,</span>&nbsp;<span class="ident" id="7542036">tt</span>&nbsp;<span class="op" id="7542039">:=</span>&nbsp;<span class="keyword" id="7542042">range</span>&nbsp;<span class="ident" id="7542048">ipStringTests</span>&nbsp;<span class="op" id="7542062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542066">if</span>&nbsp;<span class="ident" id="7542069">tt</span><span class="op" id="7542071">.</span><span class="ident" id="7542072">in</span>&nbsp;<span class="op" id="7542075">!=</span>&nbsp;<span class="ident" id="7542078">nil</span>&nbsp;<span class="op" id="7542082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542087">if</span>&nbsp;<span class="ident" id="7542090">out</span>&nbsp;<span class="op" id="7542094">:=</span>&nbsp;<span class="ident" id="7542097">tt</span><span class="op" id="7542099">.</span><span class="ident" id="7542100">in</span><span class="op" id="7542102">.</span><span class="ident" id="7542103">String</span><span class="op" id="7542109">(</span><span class="op" id="7542110">)</span><span class="op" id="7542111">;</span>&nbsp;<span class="ident" id="7542113">out</span>&nbsp;<span class="op" id="7542117">!=</span>&nbsp;<span class="ident" id="7542120">tt</span><span class="op" id="7542122">.</span><span class="ident" id="7542123">out</span>&nbsp;<span class="op" id="7542127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542133">t</span><span class="op" id="7542134">.</span><span class="ident" id="7542135">Errorf</span><span class="op" id="7542141">(</span><span class="string" id="7542142">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7542171">,</span>&nbsp;<span class="ident" id="7542173">tt</span><span class="op" id="7542175">.</span><span class="ident" id="7542176">in</span><span class="op" id="7542178">,</span>&nbsp;<span class="ident" id="7542180">out</span><span class="op" id="7542183">,</span>&nbsp;<span class="ident" id="7542185">tt</span><span class="op" id="7542187">.</span><span class="ident" id="7542188">out</span><span class="op" id="7542191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542196">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542204">if</span>&nbsp;<span class="ident" id="7542207">out</span><span class="op" id="7542210">,</span>&nbsp;<span class="ident" id="7542212">err</span>&nbsp;<span class="op" id="7542216">:=</span>&nbsp;<span class="ident" id="7542219">tt</span><span class="op" id="7542221">.</span><span class="ident" id="7542222">in</span><span class="op" id="7542224">.</span><span class="ident" id="7542225">MarshalText</span><span class="op" id="7542236">(</span><span class="op" id="7542237">)</span><span class="op" id="7542238">;</span>&nbsp;<span class="builtintype" id="7542240">string</span><span class="op" id="7542246">(</span><span class="ident" id="7542247">out</span><span class="op" id="7542250">)</span>&nbsp;<span class="op" id="7542252">!=</span>&nbsp;<span class="ident" id="7542255">tt</span><span class="op" id="7542257">.</span><span class="ident" id="7542258">out</span>&nbsp;<span class="op" id="7542262">||</span>&nbsp;<span class="ident" id="7542265">err</span>&nbsp;<span class="op" id="7542269">!=</span>&nbsp;<span class="ident" id="7542272">nil</span>&nbsp;<span class="op" id="7542276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542281">t</span><span class="op" id="7542282">.</span><span class="ident" id="7542283">Errorf</span><span class="op" id="7542289">(</span><span class="string" id="7542290">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="7542333">,</span>&nbsp;<span class="ident" id="7542335">tt</span><span class="op" id="7542337">.</span><span class="ident" id="7542338">in</span><span class="op" id="7542340">,</span>&nbsp;<span class="ident" id="7542342">out</span><span class="op" id="7542345">,</span>&nbsp;<span class="ident" id="7542347">err</span><span class="op" id="7542350">,</span>&nbsp;<span class="ident" id="7542352">tt</span><span class="op" id="7542354">.</span><span class="ident" id="7542355">out</span><span class="op" id="7542358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542365">}</span><br>
<span class="lineno">100</span><span class="op" id="7542367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7542370">func</span>&nbsp;<span class="ident" id="7542375">BenchmarkIPString</span><span class="op" id="7542392">(</span><span class="ident" id="7542393">b</span>&nbsp;<span class="op" id="7542395">*</span><span class="ident" id="7542396">testing</span><span class="op" id="7542403">.</span><span class="ident" id="7542404">B</span><span class="op" id="7542405">)</span>&nbsp;<span class="op" id="7542407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542410">for</span>&nbsp;<span class="ident" id="7542414">i</span>&nbsp;<span class="op" id="7542416">:=</span>&nbsp;<span class="num" id="7542419">0</span><span class="op" id="7542420">;</span>&nbsp;<span class="ident" id="7542422">i</span>&nbsp;<span class="op" id="7542424">&lt;</span>&nbsp;<span class="ident" id="7542426">b</span><span class="op" id="7542427">.</span><span class="ident" id="7542428">N</span><span class="op" id="7542429">;</span>&nbsp;<span class="ident" id="7542431">i</span><span class="op" id="7542432">++</span>&nbsp;<span class="op" id="7542435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542439">for</span>&nbsp;<span class="ident" id="7542443">_</span><span class="op" id="7542444">,</span>&nbsp;<span class="ident" id="7542446">tt</span>&nbsp;<span class="op" id="7542449">:=</span>&nbsp;<span class="keyword" id="7542452">range</span>&nbsp;<span class="ident" id="7542458">ipStringTests</span>&nbsp;<span class="op" id="7542472">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542477">if</span>&nbsp;<span class="ident" id="7542480">tt</span><span class="op" id="7542482">.</span><span class="ident" id="7542483">in</span>&nbsp;<span class="op" id="7542486">!=</span>&nbsp;<span class="ident" id="7542489">nil</span>&nbsp;<span class="op" id="7542493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542499">tt</span><span class="op" id="7542501">.</span><span class="ident" id="7542502">in</span><span class="op" id="7542504">.</span><span class="ident" id="7542505">String</span><span class="op" id="7542511">(</span><span class="op" id="7542512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542524">}</span><br>
<span class="lineno">110</span><span class="op" id="7542526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7542529">var</span>&nbsp;<span class="ident" id="7542533">ipMaskTests</span>&nbsp;<span class="op" id="7542545">=</span>&nbsp;<span class="op" id="7542547">[</span><span class="op" id="7542548">]</span><span class="keyword" id="7542549">struct</span>&nbsp;<span class="op" id="7542556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542559">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7542564">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542568">mask</span>&nbsp;<span class="ident" id="7542573">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542581">out</span>&nbsp;&nbsp;<span class="ident" id="7542586">IP</span><br>
<span class="lineno"></span><span class="op" id="7542589">}</span><span class="op" id="7542590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542593">{</span><span class="ident" id="7542594">IPv4</span><span class="op" id="7542598">(</span><span class="num" id="7542599">192</span><span class="op" id="7542602">,</span>&nbsp;<span class="num" id="7542604">168</span><span class="op" id="7542607">,</span>&nbsp;<span class="num" id="7542609">1</span><span class="op" id="7542610">,</span>&nbsp;<span class="num" id="7542612">127</span><span class="op" id="7542615">)</span><span class="op" id="7542616">,</span>&nbsp;<span class="ident" id="7542618">IPv4Mask</span><span class="op" id="7542626">(</span><span class="num" id="7542627">255</span><span class="op" id="7542630">,</span>&nbsp;<span class="num" id="7542632">255</span><span class="op" id="7542635">,</span>&nbsp;<span class="num" id="7542637">255</span><span class="op" id="7542640">,</span>&nbsp;<span class="num" id="7542642">128</span><span class="op" id="7542645">)</span><span class="op" id="7542646">,</span>&nbsp;<span class="ident" id="7542648">IPv4</span><span class="op" id="7542652">(</span><span class="num" id="7542653">192</span><span class="op" id="7542656">,</span>&nbsp;<span class="num" id="7542658">168</span><span class="op" id="7542661">,</span>&nbsp;<span class="num" id="7542663">1</span><span class="op" id="7542664">,</span>&nbsp;<span class="num" id="7542666">0</span><span class="op" id="7542667">)</span><span class="op" id="7542668">}</span><span class="op" id="7542669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542672">{</span><span class="ident" id="7542673">IPv4</span><span class="op" id="7542677">(</span><span class="num" id="7542678">192</span><span class="op" id="7542681">,</span>&nbsp;<span class="num" id="7542683">168</span><span class="op" id="7542686">,</span>&nbsp;<span class="num" id="7542688">1</span><span class="op" id="7542689">,</span>&nbsp;<span class="num" id="7542691">127</span><span class="op" id="7542694">)</span><span class="op" id="7542695">,</span>&nbsp;<span class="ident" id="7542697">IPMask</span><span class="op" id="7542703">(</span><span class="ident" id="7542704">ParseIP</span><span class="op" id="7542711">(</span><span class="string" id="7542712">&#34;255.255.255.192&#34;</span><span class="op" id="7542729">)</span><span class="op" id="7542730">)</span><span class="op" id="7542731">,</span>&nbsp;<span class="ident" id="7542733">IPv4</span><span class="op" id="7542737">(</span><span class="num" id="7542738">192</span><span class="op" id="7542741">,</span>&nbsp;<span class="num" id="7542743">168</span><span class="op" id="7542746">,</span>&nbsp;<span class="num" id="7542748">1</span><span class="op" id="7542749">,</span>&nbsp;<span class="num" id="7542751">64</span><span class="op" id="7542753">)</span><span class="op" id="7542754">}</span><span class="op" id="7542755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542758">{</span><span class="ident" id="7542759">IPv4</span><span class="op" id="7542763">(</span><span class="num" id="7542764">192</span><span class="op" id="7542767">,</span>&nbsp;<span class="num" id="7542769">168</span><span class="op" id="7542772">,</span>&nbsp;<span class="num" id="7542774">1</span><span class="op" id="7542775">,</span>&nbsp;<span class="num" id="7542777">127</span><span class="op" id="7542780">)</span><span class="op" id="7542781">,</span>&nbsp;<span class="ident" id="7542783">IPMask</span><span class="op" id="7542789">(</span><span class="ident" id="7542790">ParseIP</span><span class="op" id="7542797">(</span><span class="string" id="7542798">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="7542839">)</span><span class="op" id="7542840">)</span><span class="op" id="7542841">,</span>&nbsp;<span class="ident" id="7542843">IPv4</span><span class="op" id="7542847">(</span><span class="num" id="7542848">192</span><span class="op" id="7542851">,</span>&nbsp;<span class="num" id="7542853">168</span><span class="op" id="7542856">,</span>&nbsp;<span class="num" id="7542858">1</span><span class="op" id="7542859">,</span>&nbsp;<span class="num" id="7542861">96</span><span class="op" id="7542863">)</span><span class="op" id="7542864">}</span><span class="op" id="7542865">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542868">{</span><span class="ident" id="7542869">IPv4</span><span class="op" id="7542873">(</span><span class="num" id="7542874">192</span><span class="op" id="7542877">,</span>&nbsp;<span class="num" id="7542879">168</span><span class="op" id="7542882">,</span>&nbsp;<span class="num" id="7542884">1</span><span class="op" id="7542885">,</span>&nbsp;<span class="num" id="7542887">127</span><span class="op" id="7542890">)</span><span class="op" id="7542891">,</span>&nbsp;<span class="ident" id="7542893">IPv4Mask</span><span class="op" id="7542901">(</span><span class="num" id="7542902">255</span><span class="op" id="7542905">,</span>&nbsp;<span class="num" id="7542907">0</span><span class="op" id="7542908">,</span>&nbsp;<span class="num" id="7542910">255</span><span class="op" id="7542913">,</span>&nbsp;<span class="num" id="7542915">0</span><span class="op" id="7542916">)</span><span class="op" id="7542917">,</span>&nbsp;<span class="ident" id="7542919">IPv4</span><span class="op" id="7542923">(</span><span class="num" id="7542924">192</span><span class="op" id="7542927">,</span>&nbsp;<span class="num" id="7542929">0</span><span class="op" id="7542930">,</span>&nbsp;<span class="num" id="7542932">1</span><span class="op" id="7542933">,</span>&nbsp;<span class="num" id="7542935">0</span><span class="op" id="7542936">)</span><span class="op" id="7542937">}</span><span class="op" id="7542938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542941">{</span><span class="ident" id="7542942">ParseIP</span><span class="op" id="7542949">(</span><span class="string" id="7542950">&#34;2001:db8::1&#34;</span><span class="op" id="7542963">)</span><span class="op" id="7542964">,</span>&nbsp;<span class="ident" id="7542966">IPMask</span><span class="op" id="7542972">(</span><span class="ident" id="7542973">ParseIP</span><span class="op" id="7542980">(</span><span class="string" id="7542981">&#34;ffff:ff80::&#34;</span><span class="op" id="7542994">)</span><span class="op" id="7542995">)</span><span class="op" id="7542996">,</span>&nbsp;<span class="ident" id="7542998">ParseIP</span><span class="op" id="7543005">(</span><span class="string" id="7543006">&#34;2001:d80::&#34;</span><span class="op" id="7543018">)</span><span class="op" id="7543019">}</span><span class="op" id="7543020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543023">{</span><span class="ident" id="7543024">ParseIP</span><span class="op" id="7543031">(</span><span class="string" id="7543032">&#34;2001:db8::1&#34;</span><span class="op" id="7543045">)</span><span class="op" id="7543046">,</span>&nbsp;<span class="ident" id="7543048">IPMask</span><span class="op" id="7543054">(</span><span class="ident" id="7543055">ParseIP</span><span class="op" id="7543062">(</span><span class="string" id="7543063">&#34;f0f0:0f0f::&#34;</span><span class="op" id="7543076">)</span><span class="op" id="7543077">)</span><span class="op" id="7543078">,</span>&nbsp;<span class="ident" id="7543080">ParseIP</span><span class="op" id="7543087">(</span><span class="string" id="7543088">&#34;2000:d08::&#34;</span><span class="op" id="7543100">)</span><span class="op" id="7543101">}</span><span class="op" id="7543102">,</span><br>
<span class="lineno"></span><span class="op" id="7543104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7543107">func</span>&nbsp;<span class="ident" id="7543112">TestIPMask</span><span class="op" id="7543122">(</span><span class="ident" id="7543123">t</span>&nbsp;<span class="op" id="7543125">*</span><span class="ident" id="7543126">testing</span><span class="op" id="7543133">.</span><span class="ident" id="7543134">T</span><span class="op" id="7543135">)</span>&nbsp;<span class="op" id="7543137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7543140">for</span>&nbsp;<span class="ident" id="7543144">_</span><span class="op" id="7543145">,</span>&nbsp;<span class="ident" id="7543147">tt</span>&nbsp;<span class="op" id="7543150">:=</span>&nbsp;<span class="keyword" id="7543153">range</span>&nbsp;<span class="ident" id="7543159">ipMaskTests</span>&nbsp;<span class="op" id="7543171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7543175">if</span>&nbsp;<span class="ident" id="7543178">out</span>&nbsp;<span class="op" id="7543182">:=</span>&nbsp;<span class="ident" id="7543185">tt</span><span class="op" id="7543187">.</span><span class="ident" id="7543188">in</span><span class="op" id="7543190">.</span><span class="ident" id="7543191">Mask</span><span class="op" id="7543195">(</span><span class="ident" id="7543196">tt</span><span class="op" id="7543198">.</span><span class="ident" id="7543199">mask</span><span class="op" id="7543203">)</span><span class="op" id="7543204">;</span>&nbsp;<span class="ident" id="7543206">out</span>&nbsp;<span class="op" id="7543210">==</span>&nbsp;<span class="ident" id="7543213">nil</span>&nbsp;<span class="op" id="7543217">||</span>&nbsp;<span class="op" id="7543220">!</span><span class="ident" id="7543221">tt</span><span class="op" id="7543223">.</span><span class="ident" id="7543224">out</span><span class="op" id="7543227">.</span><span class="ident" id="7543228">Equal</span><span class="op" id="7543233">(</span><span class="ident" id="7543234">out</span><span class="op" id="7543237">)</span>&nbsp;<span class="op" id="7543239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543244">t</span><span class="op" id="7543245">.</span><span class="ident" id="7543246">Errorf</span><span class="op" id="7543252">(</span><span class="string" id="7543253">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7543284">,</span>&nbsp;<span class="ident" id="7543286">tt</span><span class="op" id="7543288">.</span><span class="ident" id="7543289">in</span><span class="op" id="7543291">,</span>&nbsp;<span class="ident" id="7543293">tt</span><span class="op" id="7543295">.</span><span class="ident" id="7543296">mask</span><span class="op" id="7543300">,</span>&nbsp;<span class="ident" id="7543302">out</span><span class="op" id="7543305">,</span>&nbsp;<span class="ident" id="7543307">tt</span><span class="op" id="7543309">.</span><span class="ident" id="7543310">out</span><span class="op" id="7543313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543317">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543320">}</span><br>
<span class="lineno"></span><span class="op" id="7543322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7543325">var</span>&nbsp;<span class="ident" id="7543329">ipMaskStringTests</span>&nbsp;<span class="op" id="7543347">=</span>&nbsp;<span class="op" id="7543349">[</span><span class="op" id="7543350">]</span><span class="keyword" id="7543351">struct</span>&nbsp;<span class="op" id="7543358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543361">in</span>&nbsp;&nbsp;<span class="ident" id="7543365">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543373">out</span>&nbsp;<span class="builtintype" id="7543377">string</span><br>
<span class="lineno"></span><span class="op" id="7543384">}</span><span class="op" id="7543385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543388">{</span><span class="ident" id="7543389">IPv4Mask</span><span class="op" id="7543397">(</span><span class="num" id="7543398">255</span><span class="op" id="7543401">,</span>&nbsp;<span class="num" id="7543403">255</span><span class="op" id="7543406">,</span>&nbsp;<span class="num" id="7543408">255</span><span class="op" id="7543411">,</span>&nbsp;<span class="num" id="7543413">240</span><span class="op" id="7543416">)</span><span class="op" id="7543417">,</span>&nbsp;<span class="string" id="7543419">&#34;fffffff0&#34;</span><span class="op" id="7543429">}</span><span class="op" id="7543430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543433">{</span><span class="ident" id="7543434">IPv4Mask</span><span class="op" id="7543442">(</span><span class="num" id="7543443">255</span><span class="op" id="7543446">,</span>&nbsp;<span class="num" id="7543448">0</span><span class="op" id="7543449">,</span>&nbsp;<span class="num" id="7543451">128</span><span class="op" id="7543454">,</span>&nbsp;<span class="num" id="7543456">0</span><span class="op" id="7543457">)</span><span class="op" id="7543458">,</span>&nbsp;<span class="string" id="7543460">&#34;ff008000&#34;</span><span class="op" id="7543470">}</span><span class="op" id="7543471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543474">{</span><span class="ident" id="7543475">IPMask</span><span class="op" id="7543481">(</span><span class="ident" id="7543482">ParseIP</span><span class="op" id="7543489">(</span><span class="string" id="7543490">&#34;ffff:ff80::&#34;</span><span class="op" id="7543503">)</span><span class="op" id="7543504">)</span><span class="op" id="7543505">,</span>&nbsp;<span class="string" id="7543507">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="7543541">}</span><span class="op" id="7543542">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543545">{</span><span class="ident" id="7543546">IPMask</span><span class="op" id="7543552">(</span><span class="ident" id="7543553">ParseIP</span><span class="op" id="7543560">(</span><span class="string" id="7543561">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="7543580">)</span><span class="op" id="7543581">)</span><span class="op" id="7543582">,</span>&nbsp;<span class="string" id="7543584">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="7543618">}</span><span class="op" id="7543619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543622">{</span><span class="ident" id="7543623">nil</span><span class="op" id="7543626">,</span>&nbsp;<span class="string" id="7543628">&#34;&lt;nil&gt;&#34;</span><span class="op" id="7543635">}</span><span class="op" id="7543636">,</span><br>
<span class="lineno"></span><span class="op" id="7543638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7543641">func</span>&nbsp;<span class="ident" id="7543646">TestIPMaskString</span><span class="op" id="7543662">(</span><span class="ident" id="7543663">t</span>&nbsp;<span class="op" id="7543665">*</span><span class="ident" id="7543666">testing</span><span class="op" id="7543673">.</span><span class="ident" id="7543674">T</span><span class="op" id="7543675">)</span>&nbsp;<span class="op" id="7543677">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7543680">for</span>&nbsp;<span class="ident" id="7543684">_</span><span class="op" id="7543685">,</span>&nbsp;<span class="ident" id="7543687">tt</span>&nbsp;<span class="op" id="7543690">:=</span>&nbsp;<span class="keyword" id="7543693">range</span>&nbsp;<span class="ident" id="7543699">ipMaskStringTests</span>&nbsp;<span class="op" id="7543717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7543721">if</span>&nbsp;<span class="ident" id="7543724">out</span>&nbsp;<span class="op" id="7543728">:=</span>&nbsp;<span class="ident" id="7543731">tt</span><span class="op" id="7543733">.</span><span class="ident" id="7543734">in</span><span class="op" id="7543736">.</span><span class="ident" id="7543737">String</span><span class="op" id="7543743">(</span><span class="op" id="7543744">)</span><span class="op" id="7543745">;</span>&nbsp;<span class="ident" id="7543747">out</span>&nbsp;<span class="op" id="7543751">!=</span>&nbsp;<span class="ident" id="7543754">tt</span><span class="op" id="7543756">.</span><span class="ident" id="7543757">out</span>&nbsp;<span class="op" id="7543761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543766">t</span><span class="op" id="7543767">.</span><span class="ident" id="7543768">Errorf</span><span class="op" id="7543774">(</span><span class="string" id="7543775">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7543808">,</span>&nbsp;<span class="ident" id="7543810">tt</span><span class="op" id="7543812">.</span><span class="ident" id="7543813">in</span><span class="op" id="7543815">,</span>&nbsp;<span class="ident" id="7543817">out</span><span class="op" id="7543820">,</span>&nbsp;<span class="ident" id="7543822">tt</span><span class="op" id="7543824">.</span><span class="ident" id="7543825">out</span><span class="op" id="7543828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543835">}</span><br>
<span class="lineno">150</span><span class="op" id="7543837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7543840">func</span>&nbsp;<span class="ident" id="7543845">BenchmarkIPMaskString</span><span class="op" id="7543866">(</span><span class="ident" id="7543867">b</span>&nbsp;<span class="op" id="7543869">*</span><span class="ident" id="7543870">testing</span><span class="op" id="7543877">.</span><span class="ident" id="7543878">B</span><span class="op" id="7543879">)</span>&nbsp;<span class="op" id="7543881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7543884">for</span>&nbsp;<span class="ident" id="7543888">i</span>&nbsp;<span class="op" id="7543890">:=</span>&nbsp;<span class="num" id="7543893">0</span><span class="op" id="7543894">;</span>&nbsp;<span class="ident" id="7543896">i</span>&nbsp;<span class="op" id="7543898">&lt;</span>&nbsp;<span class="ident" id="7543900">b</span><span class="op" id="7543901">.</span><span class="ident" id="7543902">N</span><span class="op" id="7543903">;</span>&nbsp;<span class="ident" id="7543905">i</span><span class="op" id="7543906">++</span>&nbsp;<span class="op" id="7543909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7543913">for</span>&nbsp;<span class="ident" id="7543917">_</span><span class="op" id="7543918">,</span>&nbsp;<span class="ident" id="7543920">tt</span>&nbsp;<span class="op" id="7543923">:=</span>&nbsp;<span class="keyword" id="7543926">range</span>&nbsp;<span class="ident" id="7543932">ipMaskStringTests</span>&nbsp;<span class="op" id="7543950">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543955">tt</span><span class="op" id="7543957">.</span><span class="ident" id="7543958">in</span><span class="op" id="7543960">.</span><span class="ident" id="7543961">String</span><span class="op" id="7543967">(</span><span class="op" id="7543968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543975">}</span><br>
<span class="lineno"></span><span class="op" id="7543977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7543980">var</span>&nbsp;<span class="ident" id="7543984">parseCIDRTests</span>&nbsp;<span class="op" id="7543999">=</span>&nbsp;<span class="op" id="7544001">[</span><span class="op" id="7544002">]</span><span class="keyword" id="7544003">struct</span>&nbsp;<span class="op" id="7544010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7544013">in</span>&nbsp;&nbsp;<span class="builtintype" id="7544017">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7544025">ip</span>&nbsp;&nbsp;<span class="ident" id="7544029">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7544033">net</span>&nbsp;<span class="op" id="7544037">*</span><span class="ident" id="7544038">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7544045">err</span>&nbsp;<span class="builtintype" id="7544049">error</span><br>
<span class="lineno">165</span><span class="op" id="7544055">}</span><span class="op" id="7544056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7544059">{</span><span class="string" id="7544060">&#34;135.104.0.0/32&#34;</span><span class="op" id="7544076">,</span>&nbsp;<span class="ident" id="7544078">IPv4</span><span class="op" id="7544082">(</span><span class="num" id="7544083">135</span><span class="op" id="7544086">,</span>&nbsp;<span class="num" id="7544088">104</span><span class="op" id="7544091">,</span>&nbsp;<span class="num" id="7544093">0</span><span class="op" id="7544094">,</span>&nbsp;<span class="num" id="7544096">0</span><span class="op" id="7544097">)</span><span class="op" id="7544098">,</span>&nbsp;<span class="op" id="7544100">&amp;</span><span class="ident" id="7544101">IPNet</span><span class="op" id="7544106">{</span><span class="ident" id="7544107">IP</span><span class="op" id="7544109">:</span>&nbsp;<span class="ident" id="7544111">IPv4</span><span class="op" id="7544115">(</span><span class="num" id="7544116">135</span><span class="op" id="7544119">,</span>&nbsp;<span class="num" id="7544121">104</span><span class="op" id="7544124">,</span>&nbsp;<span class="num" id="7544126">0</span><span class="op" id="7544127">,</span>&nbsp;<span class="num" id="7544129">0</span><span class="op" id="7544130">)</span><span class="op" id="7544131">,</span>&nbsp;<span class="ident" id="7544133">Mask</span><span class="op" id="7544137">:</span>&nbsp;<span class="ident" id="7544139">IPv4Mask</span><span class="op" id="7544147">(</span><span class="num" id="7544148">255</span><span class="op" id="7544151">,</span>&nbsp;<span class="num" id="7544153">255</span><span class="op" id="7544156">,</span>&nbsp;<span class="num" id="7544158">255</span><span class="op" id="7544161">,</span>&nbsp;<span class="num" id="7544163">255</span><span class="op" id="7544166">)</span><span class="op" id="7544167">}</span><span class="op" id="7544168">,</span>&nbsp;<span class="ident" id="7544170">nil</span><span class="op" id="7544173">}</span><span class="op" id="7544174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7544177">{</span><span class="string" id="7544178">&#34;0.0.0.0/24&#34;</span><span class="op" id="7544190">,</span>&nbsp;<span class="ident" id="7544192">IPv4</span><span class="op" id="7544196">(</span><span class="num" id="7544197">0</span><span class="op" id="7544198">,</span>&nbsp;<span class="num" id="7544200">0</span><span class="op" id="7544201">,</span>&nbsp;<span class="num" id="7544203">0</span><span class="op" id="7544204">,</span>&nbsp;<span class="num" id="7544206">0</span><span class="op" id="7544207">)</span><span class="op" id="7544208">,</span>&nbsp;<span class="op" id="7544210">&amp;</span><span class="ident" id="7544211">IPNet</span><span class="op" id="7544216">{</span><span class="ident" id="7544217">IP</span><span class="op" id="7544219">:</span>&nbsp;<span class="ident" id="7544221">IPv4</span><span class="op" id="7544225">(</span><span class="num" id="7544226">0</span><span class="op" id="7544227">,</span>&nbsp;<span class="num" id="7544229">0</span><span class="op" id="7544230">,</span>&nbsp;<span class="num" id="7544232">0</span><span class="op" id="7544233">,</span>&nbsp;<span class="num" id="7544235">0</span><span class="op" id="7544236">)</span><span class="op" id="7544237">,</span>&nbsp;<span class="ident" id="7544239">Mask</span><span class="op" id="7544243">:</span>&nbsp;<span class="ident" id="7544245">IPv4Mask</span><span class="op" id="7544253">(</span><span class="num" id="7544254">255</span><span class="op" id="7544257">,</span>&nbsp;<span class="num" id="7544259">255</span><span class="op" id="7544262">,</span>&nbsp;<span class="num" id="7544264">255</span><span class="op" id="7544267">,</span>&nbsp;<span class="num" id="7544269">0</span><span class="op" id="7544270">)</span><span class="op" id="7544271">}</span><span class="op" id="7544272">,</span>&nbsp;<span class="ident" id="7544274">nil</span><span class="op" id="7544277">}</span><span class="op" id="7544278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7544281">{</span><span class="string" id="7544282">&#34;135.104.0.0/24&#34;</span><span class="op" id="7544298">,</span>&nbsp;<span class="ident" id="7544300">IPv4</span><span class="op" id="7544304">(</span><span class="num" id="7544305">135</span><span class="op" id="7544308">,</span>&nbsp;<span class="num" id="7544310">104</span><span class="op" id="7544313">,</span>&nbsp;<span class="num" id="7544315">0</span><span class="op" id="7544316">,</span>&nbsp;<span class="num" id="7544318">0</span><span class="op" id="7544319">)</span><span class="op" id="7544320">,</span>&nbsp;<span class="op" id="7544322">&amp;</span><span class="ident" id="7544323">IPNet</span><span class="op" id="7544328">{</span><span class="ident" id="7544329">IP</span><span class="op" id="7544331">:</span>&nbsp;<span class="ident" id="7544333">IPv4</span><span class="op" id="7544337">(</span><span class="num" id="7544338">135</span><span class="op" id="7544341">,</span>&nbsp;<span class="num" id="7544343">104</span><span class="op" id="7544346">,</span>&nbsp;<span class="num" id="7544348">0</span><span class="op" id="7544349">,</span>&nbsp;<span class="num" id="7544351">0</span><span class="op" id="7544352">)</span><span class="op" id="7544353">,</span>&nbsp;<span class="ident" id="7544355">Mask</span><span class="op" id="7544359">:</span>&nbsp;<span class="ident" id="7544361">IPv4Mask</span><span class="op" id="7544369">(</span><span class="num" id="7544370">255</span><span class="op" id="7544373">,</span>&nbsp;<span class="num" id="7544375">255</span><span class="op" id="7544378">,</span>&nbsp;<span class="num" id="7544380">255</span><span class="op" id="7544383">,</span>&nbsp;<span class="num" id="7544385">0</span><span class="op" id="7544386">)</span><span class="op" id="7544387">}</span><span class="op" id="7544388">,</span>&nbsp;<span class="ident" id="7544390">nil</span><span class="op" id="7544393">}</span><span class="op" id="7544394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7544397">{</span><span class="string" id="7544398">&#34;135.104.0.1/32&#34;</span><span class="op" id="7544414">,</span>&nbsp;<span class="ident" id="7544416">IPv4</span><span class="op" id="7544420">(</span><span class="num" id="7544421">135</span><span class="op" id="7544424">,</span>&nbsp;<span class="num" id="7544426">104</span><span class="op" id="7544429">,</span>&nbsp;<span class="num" id="7544431">0</span><span class="op" id="7544432">,</span>&nbsp;<span class="num" id="7544434">1</span><span class="op" id="7544435">)</span><span class="op" id="7544436">,</span>&nbsp;<span class="op" id="7544438">&amp;</span><span class="ident" id="7544439">IPNet</span><span class="op" id="7544444">{</span><span class="ident" id="7544445">IP</span><span class="op" id="7544447">:</span>&nbsp;<span class="ident" id="7544449">IPv4</span><span class="op" id="7544453">(</span><span class="num" id="7544454">135</span><span class="op" id="7544457">,</span>&nbsp;<span class="num" id="7544459">104</span><span class="op" id="7544462">,</span>&nbsp;<span class="num" id="7544464">0</span><span class="op" id="7544465">,</span>&nbsp;<span class="num" id="7544467">1</span><span class="op" id="7544468">)</span><span class="op" id="7544469">,</span>&nbsp;<span class="ident" id="7544471">Mask</span><span class="op" id="7544475">:</span>&nbsp;<span class="ident" id="7544477">IPv4Mask</span><span class="op" id="7544485">(</span><span class="num" id="7544486">255</span><span class="op" id="7544489">,</span>&nbsp;<span class="num" id="7544491">255</span><span class="op" id="7544494">,</span>&nbsp;<span class="num" id="7544496">255</span><span class="op" id="7544499">,</span>&nbsp;<span class="num" id="7544501">255</span><span class="op" id="7544504">)</span><span class="op" id="7544505">}</span><span class="op" id="7544506">,</span>&nbsp;<span class="ident" id="7544508">nil</span><span class="op" id="7544511">}</span><span class="op" id="7544512">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7544515">{</span><span class="string" id="7544516">&#34;135.104.0.1/24&#34;</span><span class="op" id="7544532">,</span>&nbsp;<span class="ident" id="7544534">IPv4</span><span class="op" id="7544538">(</span><span class="num" id="7544539">135</span><span class="op" id="7544542">,</span>&nbsp;<span class="num" id="7544544">104</span><span class="op" id="7544547">,</span>&nbsp;<span class="num" id="7544549">0</span><span class="op" id="7544550">,</span>&nbsp;<span class="num" id="7544552">1</span><span class="op" id="7544553">)</span><span class="op" id="7544554">,</span>&nbsp;<span class="op" id="7544556">&amp;</span><span class="ident" id="7544557">IPNet</span><span class="op" id="7544562">{</span><span class="ident" id="7544563">IP</span><span class="op" id="7544565">:</span>&nbsp;<span class="ident" id="7544567">IPv4</span><span class="op" id="7544571">(</span><span class="num" id="7544572">135</span><span class="op" id="7544575">,</span>&nbsp;<span class="num" id="7544577">104</span><span class="op" id="7544580">,</span>&nbsp;<span class="num" id="7544582">0</span><span class="op" id="7544583">,</span>&nbsp;<span class="num" id="7544585">0</span><span class="op" id="7544586">)</span><span class="op" id="7544587">,</span>&nbsp;<span class="ident" id="7544589">Mask</span><span class="op" id="7544593">:</span>&nbsp;<span class="ident" id="7544595">IPv4Mask</span><span class="op" id="7544603">(</span><span class="num" id="7544604">255</span><span class="op" id="7544607">,</span>&nbsp;<span class="num" id="7544609">255</span><span class="op" id="7544612">,</span>&nbsp;<span class="num" id="7544614">255</span><span class="op" id="7544617">,</span>&nbsp;<span class="num" id="7544619">0</span><span class="op" id="7544620">)</span><span class="op" id="7544621">}</span><span class="op" id="7544622">,</span>&nbsp;<span class="ident" id="7544624">nil</span><span class="op" id="7544627">}</span><span class="op" id="7544628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7544631">{</span><span class="string" id="7544632">&#34;::1/128&#34;</span><span class="op" id="7544641">,</span>&nbsp;<span class="ident" id="7544643">ParseIP</span><span class="op" id="7544650">(</span><span class="string" id="7544651">&#34;::1&#34;</span><span class="op" id="7544656">)</span><span class="op" id="7544657">,</span>&nbsp;<span class="op" id="7544659">&amp;</span><span class="ident" id="7544660">IPNet</span><span class="op" id="7544665">{</span><span class="ident" id="7544666">IP</span><span class="op" id="7544668">:</span>&nbsp;<span class="ident" id="7544670">ParseIP</span><span class="op" id="7544677">(</span><span class="string" id="7544678">&#34;::1&#34;</span><span class="op" id="7544683">)</span><span class="op" id="7544684">,</span>&nbsp;<span class="ident" id="7544686">Mask</span><span class="op" id="7544690">:</span>&nbsp;<span class="ident" id="7544692">IPMask</span><span class="op" id="7544698">(</span><span class="ident" id="7544699">ParseIP</span><span class="op" id="7544706">(</span><span class="string" id="7544707">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="7544748">)</span><span class="op" id="7544749">)</span><span class="op" id="7544750">}</span><span class="op" id="7544751">,</span>&nbsp;<span class="ident" id="7544753">nil</span><span class="op" id="7544756">}</span><span class="op" id="7544757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7544760">{</span><span class="string" id="7544761">&#34;abcd:2345::/127&#34;</span><span class="op" id="7544778">,</span>&nbsp;<span class="ident" id="7544780">ParseIP</span><span class="op" id="7544787">(</span><span class="string" id="7544788">&#34;abcd:2345::&#34;</span><span class="op" id="7544801">)</span><span class="op" id="7544802">,</span>&nbsp;<span class="op" id="7544804">&amp;</span><span class="ident" id="7544805">IPNet</span><span class="op" id="7544810">{</span><span class="ident" id="7544811">IP</span><span class="op" id="7544813">:</span>&nbsp;<span class="ident" id="7544815">ParseIP</span><span class="op" id="7544822">(</span><span class="string" id="7544823">&#34;abcd:2345::&#34;</span><span class="op" id="7544836">)</span><span class="op" id="7544837">,</span>&nbsp;<span class="ident" id="7544839">Mask</span><span class="op" id="7544843">:</span>&nbsp;<span class="ident" id="7544845">IPMask</span><span class="op" id="7544851">(</span><span class="ident" id="7544852">ParseIP</span><span class="op" id="7544859">(</span><span class="string" id="7544860">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="7544901">)</span><span class="op" id="7544902">)</span><span class="op" id="7544903">}</span><span class="op" id="7544904">,</span>&nbsp;<span class="ident" id="7544906">nil</span><span class="op" id="7544909">}</span><span class="op" id="7544910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7544913">{</span><span class="string" id="7544914">&#34;abcd:2345::/65&#34;</span><span class="op" id="7544930">,</span>&nbsp;<span class="ident" id="7544932">ParseIP</span><span class="op" id="7544939">(</span><span class="string" id="7544940">&#34;abcd:2345::&#34;</span><span class="op" id="7544953">)</span><span class="op" id="7544954">,</span>&nbsp;<span class="op" id="7544956">&amp;</span><span class="ident" id="7544957">IPNet</span><span class="op" id="7544962">{</span><span class="ident" id="7544963">IP</span><span class="op" id="7544965">:</span>&nbsp;<span class="ident" id="7544967">ParseIP</span><span class="op" id="7544974">(</span><span class="string" id="7544975">&#34;abcd:2345::&#34;</span><span class="op" id="7544988">)</span><span class="op" id="7544989">,</span>&nbsp;<span class="ident" id="7544991">Mask</span><span class="op" id="7544995">:</span>&nbsp;<span class="ident" id="7544997">IPMask</span><span class="op" id="7545003">(</span><span class="ident" id="7545004">ParseIP</span><span class="op" id="7545011">(</span><span class="string" id="7545012">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="7545040">)</span><span class="op" id="7545041">)</span><span class="op" id="7545042">}</span><span class="op" id="7545043">,</span>&nbsp;<span class="ident" id="7545045">nil</span><span class="op" id="7545048">}</span><span class="op" id="7545049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7545052">{</span><span class="string" id="7545053">&#34;abcd:2345::/64&#34;</span><span class="op" id="7545069">,</span>&nbsp;<span class="ident" id="7545071">ParseIP</span><span class="op" id="7545078">(</span><span class="string" id="7545079">&#34;abcd:2345::&#34;</span><span class="op" id="7545092">)</span><span class="op" id="7545093">,</span>&nbsp;<span class="op" id="7545095">&amp;</span><span class="ident" id="7545096">IPNet</span><span class="op" id="7545101">{</span><span class="ident" id="7545102">IP</span><span class="op" id="7545104">:</span>&nbsp;<span class="ident" id="7545106">ParseIP</span><span class="op" id="7545113">(</span><span class="string" id="7545114">&#34;abcd:2345::&#34;</span><span class="op" id="7545127">)</span><span class="op" id="7545128">,</span>&nbsp;<span class="ident" id="7545130">Mask</span><span class="op" id="7545134">:</span>&nbsp;<span class="ident" id="7545136">IPMask</span><span class="op" id="7545142">(</span><span class="ident" id="7545143">ParseIP</span><span class="op" id="7545150">(</span><span class="string" id="7545151">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="7545174">)</span><span class="op" id="7545175">)</span><span class="op" id="7545176">}</span><span class="op" id="7545177">,</span>&nbsp;<span class="ident" id="7545179">nil</span><span class="op" id="7545182">}</span><span class="op" id="7545183">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7545186">{</span><span class="string" id="7545187">&#34;abcd:2345::/63&#34;</span><span class="op" id="7545203">,</span>&nbsp;<span class="ident" id="7545205">ParseIP</span><span class="op" id="7545212">(</span><span class="string" id="7545213">&#34;abcd:2345::&#34;</span><span class="op" id="7545226">)</span><span class="op" id="7545227">,</span>&nbsp;<span class="op" id="7545229">&amp;</span><span class="ident" id="7545230">IPNet</span><span class="op" id="7545235">{</span><span class="ident" id="7545236">IP</span><span class="op" id="7545238">:</span>&nbsp;<span class="ident" id="7545240">ParseIP</span><span class="op" id="7545247">(</span><span class="string" id="7545248">&#34;abcd:2345::&#34;</span><span class="op" id="7545261">)</span><span class="op" id="7545262">,</span>&nbsp;<span class="ident" id="7545264">Mask</span><span class="op" id="7545268">:</span>&nbsp;<span class="ident" id="7545270">IPMask</span><span class="op" id="7545276">(</span><span class="ident" id="7545277">ParseIP</span><span class="op" id="7545284">(</span><span class="string" id="7545285">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="7545308">)</span><span class="op" id="7545309">)</span><span class="op" id="7545310">}</span><span class="op" id="7545311">,</span>&nbsp;<span class="ident" id="7545313">nil</span><span class="op" id="7545316">}</span><span class="op" id="7545317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7545320">{</span><span class="string" id="7545321">&#34;abcd:2345::/33&#34;</span><span class="op" id="7545337">,</span>&nbsp;<span class="ident" id="7545339">ParseIP</span><span class="op" id="7545346">(</span><span class="string" id="7545347">&#34;abcd:2345::&#34;</span><span class="op" id="7545360">)</span><span class="op" id="7545361">,</span>&nbsp;<span class="op" id="7545363">&amp;</span><span class="ident" id="7545364">IPNet</span><span class="op" id="7545369">{</span><span class="ident" id="7545370">IP</span><span class="op" id="7545372">:</span>&nbsp;<span class="ident" id="7545374">ParseIP</span><span class="op" id="7545381">(</span><span class="string" id="7545382">&#34;abcd:2345::&#34;</span><span class="op" id="7545395">)</span><span class="op" id="7545396">,</span>&nbsp;<span class="ident" id="7545398">Mask</span><span class="op" id="7545402">:</span>&nbsp;<span class="ident" id="7545404">IPMask</span><span class="op" id="7545410">(</span><span class="ident" id="7545411">ParseIP</span><span class="op" id="7545418">(</span><span class="string" id="7545419">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="7545437">)</span><span class="op" id="7545438">)</span><span class="op" id="7545439">}</span><span class="op" id="7545440">,</span>&nbsp;<span class="ident" id="7545442">nil</span><span class="op" id="7545445">}</span><span class="op" id="7545446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7545449">{</span><span class="string" id="7545450">&#34;abcd:2345::/32&#34;</span><span class="op" id="7545466">,</span>&nbsp;<span class="ident" id="7545468">ParseIP</span><span class="op" id="7545475">(</span><span class="string" id="7545476">&#34;abcd:2345::&#34;</span><span class="op" id="7545489">)</span><span class="op" id="7545490">,</span>&nbsp;<span class="op" id="7545492">&amp;</span><span class="ident" id="7545493">IPNet</span><span class="op" id="7545498">{</span><span class="ident" id="7545499">IP</span><span class="op" id="7545501">:</span>&nbsp;<span class="ident" id="7545503">ParseIP</span><span class="op" id="7545510">(</span><span class="string" id="7545511">&#34;abcd:2345::&#34;</span><span class="op" id="7545524">)</span><span class="op" id="7545525">,</span>&nbsp;<span class="ident" id="7545527">Mask</span><span class="op" id="7545531">:</span>&nbsp;<span class="ident" id="7545533">IPMask</span><span class="op" id="7545539">(</span><span class="ident" id="7545540">ParseIP</span><span class="op" id="7545547">(</span><span class="string" id="7545548">&#34;ffff:ffff::&#34;</span><span class="op" id="7545561">)</span><span class="op" id="7545562">)</span><span class="op" id="7545563">}</span><span class="op" id="7545564">,</span>&nbsp;<span class="ident" id="7545566">nil</span><span class="op" id="7545569">}</span><span class="op" id="7545570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7545573">{</span><span class="string" id="7545574">&#34;abcd:2344::/31&#34;</span><span class="op" id="7545590">,</span>&nbsp;<span class="ident" id="7545592">ParseIP</span><span class="op" id="7545599">(</span><span class="string" id="7545600">&#34;abcd:2344::&#34;</span><span class="op" id="7545613">)</span><span class="op" id="7545614">,</span>&nbsp;<span class="op" id="7545616">&amp;</span><span class="ident" id="7545617">IPNet</span><span class="op" id="7545622">{</span><span class="ident" id="7545623">IP</span><span class="op" id="7545625">:</span>&nbsp;<span class="ident" id="7545627">ParseIP</span><span class="op" id="7545634">(</span><span class="string" id="7545635">&#34;abcd:2344::&#34;</span><span class="op" id="7545648">)</span><span class="op" id="7545649">,</span>&nbsp;<span class="ident" id="7545651">Mask</span><span class="op" id="7545655">:</span>&nbsp;<span class="ident" id="7545657">IPMask</span><span class="op" id="7545663">(</span><span class="ident" id="7545664">ParseIP</span><span class="op" id="7545671">(</span><span class="string" id="7545672">&#34;ffff:fffe::&#34;</span><span class="op" id="7545685">)</span><span class="op" id="7545686">)</span><span class="op" id="7545687">}</span><span class="op" id="7545688">,</span>&nbsp;<span class="ident" id="7545690">nil</span><span class="op" id="7545693">}</span><span class="op" id="7545694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7545697">{</span><span class="string" id="7545698">&#34;abcd:2300::/24&#34;</span><span class="op" id="7545714">,</span>&nbsp;<span class="ident" id="7545716">ParseIP</span><span class="op" id="7545723">(</span><span class="string" id="7545724">&#34;abcd:2300::&#34;</span><span class="op" id="7545737">)</span><span class="op" id="7545738">,</span>&nbsp;<span class="op" id="7545740">&amp;</span><span class="ident" id="7545741">IPNet</span><span class="op" id="7545746">{</span><span class="ident" id="7545747">IP</span><span class="op" id="7545749">:</span>&nbsp;<span class="ident" id="7545751">ParseIP</span><span class="op" id="7545758">(</span><span class="string" id="7545759">&#34;abcd:2300::&#34;</span><span class="op" id="7545772">)</span><span class="op" id="7545773">,</span>&nbsp;<span class="ident" id="7545775">Mask</span><span class="op" id="7545779">:</span>&nbsp;<span class="ident" id="7545781">IPMask</span><span class="op" id="7545787">(</span><span class="ident" id="7545788">ParseIP</span><span class="op" id="7545795">(</span><span class="string" id="7545796">&#34;ffff:ff00::&#34;</span><span class="op" id="7545809">)</span><span class="op" id="7545810">)</span><span class="op" id="7545811">}</span><span class="op" id="7545812">,</span>&nbsp;<span class="ident" id="7545814">nil</span><span class="op" id="7545817">}</span><span class="op" id="7545818">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7545821">{</span><span class="string" id="7545822">&#34;abcd:2345::/24&#34;</span><span class="op" id="7545838">,</span>&nbsp;<span class="ident" id="7545840">ParseIP</span><span class="op" id="7545847">(</span><span class="string" id="7545848">&#34;abcd:2345::&#34;</span><span class="op" id="7545861">)</span><span class="op" id="7545862">,</span>&nbsp;<span class="op" id="7545864">&amp;</span><span class="ident" id="7545865">IPNet</span><span class="op" id="7545870">{</span><span class="ident" id="7545871">IP</span><span class="op" id="7545873">:</span>&nbsp;<span class="ident" id="7545875">ParseIP</span><span class="op" id="7545882">(</span><span class="string" id="7545883">&#34;abcd:2300::&#34;</span><span class="op" id="7545896">)</span><span class="op" id="7545897">,</span>&nbsp;<span class="ident" id="7545899">Mask</span><span class="op" id="7545903">:</span>&nbsp;<span class="ident" id="7545905">IPMask</span><span class="op" id="7545911">(</span><span class="ident" id="7545912">ParseIP</span><span class="op" id="7545919">(</span><span class="string" id="7545920">&#34;ffff:ff00::&#34;</span><span class="op" id="7545933">)</span><span class="op" id="7545934">)</span><span class="op" id="7545935">}</span><span class="op" id="7545936">,</span>&nbsp;<span class="ident" id="7545938">nil</span><span class="op" id="7545941">}</span><span class="op" id="7545942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7545945">{</span><span class="string" id="7545946">&#34;2001:DB8::/48&#34;</span><span class="op" id="7545961">,</span>&nbsp;<span class="ident" id="7545963">ParseIP</span><span class="op" id="7545970">(</span><span class="string" id="7545971">&#34;2001:DB8::&#34;</span><span class="op" id="7545983">)</span><span class="op" id="7545984">,</span>&nbsp;<span class="op" id="7545986">&amp;</span><span class="ident" id="7545987">IPNet</span><span class="op" id="7545992">{</span><span class="ident" id="7545993">IP</span><span class="op" id="7545995">:</span>&nbsp;<span class="ident" id="7545997">ParseIP</span><span class="op" id="7546004">(</span><span class="string" id="7546005">&#34;2001:DB8::&#34;</span><span class="op" id="7546017">)</span><span class="op" id="7546018">,</span>&nbsp;<span class="ident" id="7546020">Mask</span><span class="op" id="7546024">:</span>&nbsp;<span class="ident" id="7546026">IPMask</span><span class="op" id="7546032">(</span><span class="ident" id="7546033">ParseIP</span><span class="op" id="7546040">(</span><span class="string" id="7546041">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="7546059">)</span><span class="op" id="7546060">)</span><span class="op" id="7546061">}</span><span class="op" id="7546062">,</span>&nbsp;<span class="ident" id="7546064">nil</span><span class="op" id="7546067">}</span><span class="op" id="7546068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7546071">{</span><span class="string" id="7546072">&#34;2001:DB8::1/48&#34;</span><span class="op" id="7546088">,</span>&nbsp;<span class="ident" id="7546090">ParseIP</span><span class="op" id="7546097">(</span><span class="string" id="7546098">&#34;2001:DB8::1&#34;</span><span class="op" id="7546111">)</span><span class="op" id="7546112">,</span>&nbsp;<span class="op" id="7546114">&amp;</span><span class="ident" id="7546115">IPNet</span><span class="op" id="7546120">{</span><span class="ident" id="7546121">IP</span><span class="op" id="7546123">:</span>&nbsp;<span class="ident" id="7546125">ParseIP</span><span class="op" id="7546132">(</span><span class="string" id="7546133">&#34;2001:DB8::&#34;</span><span class="op" id="7546145">)</span><span class="op" id="7546146">,</span>&nbsp;<span class="ident" id="7546148">Mask</span><span class="op" id="7546152">:</span>&nbsp;<span class="ident" id="7546154">IPMask</span><span class="op" id="7546160">(</span><span class="ident" id="7546161">ParseIP</span><span class="op" id="7546168">(</span><span class="string" id="7546169">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="7546187">)</span><span class="op" id="7546188">)</span><span class="op" id="7546189">}</span><span class="op" id="7546190">,</span>&nbsp;<span class="ident" id="7546192">nil</span><span class="op" id="7546195">}</span><span class="op" id="7546196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7546199">{</span><span class="string" id="7546200">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="7546227">,</span>&nbsp;<span class="ident" id="7546229">nil</span><span class="op" id="7546232">,</span>&nbsp;<span class="ident" id="7546234">nil</span><span class="op" id="7546237">,</span>&nbsp;<span class="op" id="7546239">&amp;</span><span class="ident" id="7546240">ParseError</span><span class="op" id="7546250">{</span><span class="string" id="7546251">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7546265">,</span>&nbsp;<span class="string" id="7546267">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="7546294">}</span><span class="op" id="7546295">}</span><span class="op" id="7546296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7546299">{</span><span class="string" id="7546300">&#34;192.168.1.1/35&#34;</span><span class="op" id="7546316">,</span>&nbsp;<span class="ident" id="7546318">nil</span><span class="op" id="7546321">,</span>&nbsp;<span class="ident" id="7546323">nil</span><span class="op" id="7546326">,</span>&nbsp;<span class="op" id="7546328">&amp;</span><span class="ident" id="7546329">ParseError</span><span class="op" id="7546339">{</span><span class="string" id="7546340">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7546354">,</span>&nbsp;<span class="string" id="7546356">&#34;192.168.1.1/35&#34;</span><span class="op" id="7546372">}</span><span class="op" id="7546373">}</span><span class="op" id="7546374">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7546377">{</span><span class="string" id="7546378">&#34;2001:db8::1/-1&#34;</span><span class="op" id="7546394">,</span>&nbsp;<span class="ident" id="7546396">nil</span><span class="op" id="7546399">,</span>&nbsp;<span class="ident" id="7546401">nil</span><span class="op" id="7546404">,</span>&nbsp;<span class="op" id="7546406">&amp;</span><span class="ident" id="7546407">ParseError</span><span class="op" id="7546417">{</span><span class="string" id="7546418">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7546432">,</span>&nbsp;<span class="string" id="7546434">&#34;2001:db8::1/-1&#34;</span><span class="op" id="7546450">}</span><span class="op" id="7546451">}</span><span class="op" id="7546452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7546455">{</span><span class="string" id="7546456">&#34;&#34;</span><span class="op" id="7546458">,</span>&nbsp;<span class="ident" id="7546460">nil</span><span class="op" id="7546463">,</span>&nbsp;<span class="ident" id="7546465">nil</span><span class="op" id="7546468">,</span>&nbsp;<span class="op" id="7546470">&amp;</span><span class="ident" id="7546471">ParseError</span><span class="op" id="7546481">{</span><span class="string" id="7546482">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7546496">,</span>&nbsp;<span class="string" id="7546498">&#34;&#34;</span><span class="op" id="7546500">}</span><span class="op" id="7546501">}</span><span class="op" id="7546502">,</span><br>
<span class="lineno"></span><span class="op" id="7546504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7546507">func</span>&nbsp;<span class="ident" id="7546512">TestParseCIDR</span><span class="op" id="7546525">(</span><span class="ident" id="7546526">t</span>&nbsp;<span class="op" id="7546528">*</span><span class="ident" id="7546529">testing</span><span class="op" id="7546536">.</span><span class="ident" id="7546537">T</span><span class="op" id="7546538">)</span>&nbsp;<span class="op" id="7546540">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7546543">for</span>&nbsp;<span class="ident" id="7546547">_</span><span class="op" id="7546548">,</span>&nbsp;<span class="ident" id="7546550">tt</span>&nbsp;<span class="op" id="7546553">:=</span>&nbsp;<span class="keyword" id="7546556">range</span>&nbsp;<span class="ident" id="7546562">parseCIDRTests</span>&nbsp;<span class="op" id="7546577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7546581">ip</span><span class="op" id="7546583">,</span>&nbsp;<span class="ident" id="7546585">net</span><span class="op" id="7546588">,</span>&nbsp;<span class="ident" id="7546590">err</span>&nbsp;<span class="op" id="7546594">:=</span>&nbsp;<span class="ident" id="7546597">ParseCIDR</span><span class="op" id="7546606">(</span><span class="ident" id="7546607">tt</span><span class="op" id="7546609">.</span><span class="ident" id="7546610">in</span><span class="op" id="7546612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7546616">if</span>&nbsp;<span class="op" id="7546619">!</span><span class="ident" id="7546620">reflect</span><span class="op" id="7546627">.</span><span class="ident" id="7546628">DeepEqual</span><span class="op" id="7546637">(</span><span class="ident" id="7546638">err</span><span class="op" id="7546641">,</span>&nbsp;<span class="ident" id="7546643">tt</span><span class="op" id="7546645">.</span><span class="ident" id="7546646">err</span><span class="op" id="7546649">)</span>&nbsp;<span class="op" id="7546651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7546656">t</span><span class="op" id="7546657">.</span><span class="ident" id="7546658">Errorf</span><span class="op" id="7546664">(</span><span class="string" id="7546665">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7546702">,</span>&nbsp;<span class="ident" id="7546704">tt</span><span class="op" id="7546706">.</span><span class="ident" id="7546707">in</span><span class="op" id="7546709">,</span>&nbsp;<span class="ident" id="7546711">ip</span><span class="op" id="7546713">,</span>&nbsp;<span class="ident" id="7546715">net</span><span class="op" id="7546718">,</span>&nbsp;<span class="ident" id="7546720">tt</span><span class="op" id="7546722">.</span><span class="ident" id="7546723">ip</span><span class="op" id="7546725">,</span>&nbsp;<span class="ident" id="7546727">tt</span><span class="op" id="7546729">.</span><span class="ident" id="7546730">net</span><span class="op" id="7546733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7546737">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7546741">if</span>&nbsp;<span class="ident" id="7546744">err</span>&nbsp;<span class="op" id="7546748">==</span>&nbsp;<span class="ident" id="7546751">nil</span>&nbsp;<span class="op" id="7546755">&amp;&amp;</span>&nbsp;<span class="op" id="7546758">(</span><span class="op" id="7546759">!</span><span class="ident" id="7546760">tt</span><span class="op" id="7546762">.</span><span class="ident" id="7546763">ip</span><span class="op" id="7546765">.</span><span class="ident" id="7546766">Equal</span><span class="op" id="7546771">(</span><span class="ident" id="7546772">ip</span><span class="op" id="7546774">)</span>&nbsp;<span class="op" id="7546776">||</span>&nbsp;<span class="op" id="7546779">!</span><span class="ident" id="7546780">tt</span><span class="op" id="7546782">.</span><span class="ident" id="7546783">net</span><span class="op" id="7546786">.</span><span class="ident" id="7546787">IP</span><span class="op" id="7546789">.</span><span class="ident" id="7546790">Equal</span><span class="op" id="7546795">(</span><span class="ident" id="7546796">net</span><span class="op" id="7546799">.</span><span class="ident" id="7546800">IP</span><span class="op" id="7546802">)</span>&nbsp;<span class="op" id="7546804">||</span>&nbsp;<span class="op" id="7546807">!</span><span class="ident" id="7546808">reflect</span><span class="op" id="7546815">.</span><span class="ident" id="7546816">DeepEqual</span><span class="op" id="7546825">(</span><span class="ident" id="7546826">net</span><span class="op" id="7546829">.</span><span class="ident" id="7546830">Mask</span><span class="op" id="7546834">,</span>&nbsp;<span class="ident" id="7546836">tt</span><span class="op" id="7546838">.</span><span class="ident" id="7546839">net</span><span class="op" id="7546842">.</span><span class="ident" id="7546843">Mask</span><span class="op" id="7546847">)</span><span class="op" id="7546848">)</span>&nbsp;<span class="op" id="7546850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7546855">t</span><span class="op" id="7546856">.</span><span class="ident" id="7546857">Errorf</span><span class="op" id="7546863">(</span><span class="string" id="7546864">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="7546913">,</span>&nbsp;<span class="ident" id="7546915">tt</span><span class="op" id="7546917">.</span><span class="ident" id="7546918">in</span><span class="op" id="7546920">,</span>&nbsp;<span class="ident" id="7546922">ip</span><span class="op" id="7546924">,</span>&nbsp;<span class="ident" id="7546926">net</span><span class="op" id="7546929">.</span><span class="ident" id="7546930">IP</span><span class="op" id="7546932">,</span>&nbsp;<span class="ident" id="7546934">net</span><span class="op" id="7546937">.</span><span class="ident" id="7546938">Mask</span><span class="op" id="7546942">,</span>&nbsp;<span class="ident" id="7546944">tt</span><span class="op" id="7546946">.</span><span class="ident" id="7546947">ip</span><span class="op" id="7546949">,</span>&nbsp;<span class="ident" id="7546951">tt</span><span class="op" id="7546953">.</span><span class="ident" id="7546954">net</span><span class="op" id="7546957">.</span><span class="ident" id="7546958">IP</span><span class="op" id="7546960">,</span>&nbsp;<span class="ident" id="7546962">tt</span><span class="op" id="7546964">.</span><span class="ident" id="7546965">net</span><span class="op" id="7546968">.</span><span class="ident" id="7546969">Mask</span><span class="op" id="7546973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7546977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7546980">}</span><br>
<span class="lineno"></span><span class="op" id="7546982">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="7546985">var</span>&nbsp;<span class="ident" id="7546989">ipNetContainsTests</span>&nbsp;<span class="op" id="7547008">=</span>&nbsp;<span class="op" id="7547010">[</span><span class="op" id="7547011">]</span><span class="keyword" id="7547012">struct</span>&nbsp;<span class="op" id="7547019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7547022">ip</span>&nbsp;&nbsp;<span class="ident" id="7547026">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7547030">net</span>&nbsp;<span class="op" id="7547034">*</span><span class="ident" id="7547035">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7547042">ok</span>&nbsp;&nbsp;<span class="builtintype" id="7547046">bool</span><br>
<span class="lineno">205</span><span class="op" id="7547051">}</span><span class="op" id="7547052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7547055">{</span><span class="ident" id="7547056">IPv4</span><span class="op" id="7547060">(</span><span class="num" id="7547061">172</span><span class="op" id="7547064">,</span>&nbsp;<span class="num" id="7547066">16</span><span class="op" id="7547068">,</span>&nbsp;<span class="num" id="7547070">1</span><span class="op" id="7547071">,</span>&nbsp;<span class="num" id="7547073">1</span><span class="op" id="7547074">)</span><span class="op" id="7547075">,</span>&nbsp;<span class="op" id="7547077">&amp;</span><span class="ident" id="7547078">IPNet</span><span class="op" id="7547083">{</span><span class="ident" id="7547084">IP</span><span class="op" id="7547086">:</span>&nbsp;<span class="ident" id="7547088">IPv4</span><span class="op" id="7547092">(</span><span class="num" id="7547093">172</span><span class="op" id="7547096">,</span>&nbsp;<span class="num" id="7547098">16</span><span class="op" id="7547100">,</span>&nbsp;<span class="num" id="7547102">0</span><span class="op" id="7547103">,</span>&nbsp;<span class="num" id="7547105">0</span><span class="op" id="7547106">)</span><span class="op" id="7547107">,</span>&nbsp;<span class="ident" id="7547109">Mask</span><span class="op" id="7547113">:</span>&nbsp;<span class="ident" id="7547115">CIDRMask</span><span class="op" id="7547123">(</span><span class="num" id="7547124">12</span><span class="op" id="7547126">,</span>&nbsp;<span class="num" id="7547128">32</span><span class="op" id="7547130">)</span><span class="op" id="7547131">}</span><span class="op" id="7547132">,</span>&nbsp;<span class="builtintype" id="7547134">true</span><span class="op" id="7547138">}</span><span class="op" id="7547139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7547142">{</span><span class="ident" id="7547143">IPv4</span><span class="op" id="7547147">(</span><span class="num" id="7547148">172</span><span class="op" id="7547151">,</span>&nbsp;<span class="num" id="7547153">24</span><span class="op" id="7547155">,</span>&nbsp;<span class="num" id="7547157">0</span><span class="op" id="7547158">,</span>&nbsp;<span class="num" id="7547160">1</span><span class="op" id="7547161">)</span><span class="op" id="7547162">,</span>&nbsp;<span class="op" id="7547164">&amp;</span><span class="ident" id="7547165">IPNet</span><span class="op" id="7547170">{</span><span class="ident" id="7547171">IP</span><span class="op" id="7547173">:</span>&nbsp;<span class="ident" id="7547175">IPv4</span><span class="op" id="7547179">(</span><span class="num" id="7547180">172</span><span class="op" id="7547183">,</span>&nbsp;<span class="num" id="7547185">16</span><span class="op" id="7547187">,</span>&nbsp;<span class="num" id="7547189">0</span><span class="op" id="7547190">,</span>&nbsp;<span class="num" id="7547192">0</span><span class="op" id="7547193">)</span><span class="op" id="7547194">,</span>&nbsp;<span class="ident" id="7547196">Mask</span><span class="op" id="7547200">:</span>&nbsp;<span class="ident" id="7547202">CIDRMask</span><span class="op" id="7547210">(</span><span class="num" id="7547211">13</span><span class="op" id="7547213">,</span>&nbsp;<span class="num" id="7547215">32</span><span class="op" id="7547217">)</span><span class="op" id="7547218">}</span><span class="op" id="7547219">,</span>&nbsp;<span class="builtintype" id="7547221">false</span><span class="op" id="7547226">}</span><span class="op" id="7547227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7547230">{</span><span class="ident" id="7547231">IPv4</span><span class="op" id="7547235">(</span><span class="num" id="7547236">192</span><span class="op" id="7547239">,</span>&nbsp;<span class="num" id="7547241">168</span><span class="op" id="7547244">,</span>&nbsp;<span class="num" id="7547246">0</span><span class="op" id="7547247">,</span>&nbsp;<span class="num" id="7547249">3</span><span class="op" id="7547250">)</span><span class="op" id="7547251">,</span>&nbsp;<span class="op" id="7547253">&amp;</span><span class="ident" id="7547254">IPNet</span><span class="op" id="7547259">{</span><span class="ident" id="7547260">IP</span><span class="op" id="7547262">:</span>&nbsp;<span class="ident" id="7547264">IPv4</span><span class="op" id="7547268">(</span><span class="num" id="7547269">192</span><span class="op" id="7547272">,</span>&nbsp;<span class="num" id="7547274">168</span><span class="op" id="7547277">,</span>&nbsp;<span class="num" id="7547279">0</span><span class="op" id="7547280">,</span>&nbsp;<span class="num" id="7547282">0</span><span class="op" id="7547283">)</span><span class="op" id="7547284">,</span>&nbsp;<span class="ident" id="7547286">Mask</span><span class="op" id="7547290">:</span>&nbsp;<span class="ident" id="7547292">IPv4Mask</span><span class="op" id="7547300">(</span><span class="num" id="7547301">0</span><span class="op" id="7547302">,</span>&nbsp;<span class="num" id="7547304">0</span><span class="op" id="7547305">,</span>&nbsp;<span class="num" id="7547307">255</span><span class="op" id="7547310">,</span>&nbsp;<span class="num" id="7547312">252</span><span class="op" id="7547315">)</span><span class="op" id="7547316">}</span><span class="op" id="7547317">,</span>&nbsp;<span class="builtintype" id="7547319">true</span><span class="op" id="7547323">}</span><span class="op" id="7547324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7547327">{</span><span class="ident" id="7547328">IPv4</span><span class="op" id="7547332">(</span><span class="num" id="7547333">192</span><span class="op" id="7547336">,</span>&nbsp;<span class="num" id="7547338">168</span><span class="op" id="7547341">,</span>&nbsp;<span class="num" id="7547343">0</span><span class="op" id="7547344">,</span>&nbsp;<span class="num" id="7547346">4</span><span class="op" id="7547347">)</span><span class="op" id="7547348">,</span>&nbsp;<span class="op" id="7547350">&amp;</span><span class="ident" id="7547351">IPNet</span><span class="op" id="7547356">{</span><span class="ident" id="7547357">IP</span><span class="op" id="7547359">:</span>&nbsp;<span class="ident" id="7547361">IPv4</span><span class="op" id="7547365">(</span><span class="num" id="7547366">192</span><span class="op" id="7547369">,</span>&nbsp;<span class="num" id="7547371">168</span><span class="op" id="7547374">,</span>&nbsp;<span class="num" id="7547376">0</span><span class="op" id="7547377">,</span>&nbsp;<span class="num" id="7547379">0</span><span class="op" id="7547380">)</span><span class="op" id="7547381">,</span>&nbsp;<span class="ident" id="7547383">Mask</span><span class="op" id="7547387">:</span>&nbsp;<span class="ident" id="7547389">IPv4Mask</span><span class="op" id="7547397">(</span><span class="num" id="7547398">0</span><span class="op" id="7547399">,</span>&nbsp;<span class="num" id="7547401">255</span><span class="op" id="7547404">,</span>&nbsp;<span class="num" id="7547406">0</span><span class="op" id="7547407">,</span>&nbsp;<span class="num" id="7547409">252</span><span class="op" id="7547412">)</span><span class="op" id="7547413">}</span><span class="op" id="7547414">,</span>&nbsp;<span class="builtintype" id="7547416">false</span><span class="op" id="7547421">}</span><span class="op" id="7547422">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7547425">{</span><span class="ident" id="7547426">ParseIP</span><span class="op" id="7547433">(</span><span class="string" id="7547434">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7547451">)</span><span class="op" id="7547452">,</span>&nbsp;<span class="op" id="7547454">&amp;</span><span class="ident" id="7547455">IPNet</span><span class="op" id="7547460">{</span><span class="ident" id="7547461">IP</span><span class="op" id="7547463">:</span>&nbsp;<span class="ident" id="7547465">ParseIP</span><span class="op" id="7547472">(</span><span class="string" id="7547473">&#34;2001:db8:1::&#34;</span><span class="op" id="7547487">)</span><span class="op" id="7547488">,</span>&nbsp;<span class="ident" id="7547490">Mask</span><span class="op" id="7547494">:</span>&nbsp;<span class="ident" id="7547496">CIDRMask</span><span class="op" id="7547504">(</span><span class="num" id="7547505">47</span><span class="op" id="7547507">,</span>&nbsp;<span class="num" id="7547509">128</span><span class="op" id="7547512">)</span><span class="op" id="7547513">}</span><span class="op" id="7547514">,</span>&nbsp;<span class="builtintype" id="7547516">true</span><span class="op" id="7547520">}</span><span class="op" id="7547521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7547524">{</span><span class="ident" id="7547525">ParseIP</span><span class="op" id="7547532">(</span><span class="string" id="7547533">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7547550">)</span><span class="op" id="7547551">,</span>&nbsp;<span class="op" id="7547553">&amp;</span><span class="ident" id="7547554">IPNet</span><span class="op" id="7547559">{</span><span class="ident" id="7547560">IP</span><span class="op" id="7547562">:</span>&nbsp;<span class="ident" id="7547564">ParseIP</span><span class="op" id="7547571">(</span><span class="string" id="7547572">&#34;2001:db8:2::&#34;</span><span class="op" id="7547586">)</span><span class="op" id="7547587">,</span>&nbsp;<span class="ident" id="7547589">Mask</span><span class="op" id="7547593">:</span>&nbsp;<span class="ident" id="7547595">CIDRMask</span><span class="op" id="7547603">(</span><span class="num" id="7547604">47</span><span class="op" id="7547606">,</span>&nbsp;<span class="num" id="7547608">128</span><span class="op" id="7547611">)</span><span class="op" id="7547612">}</span><span class="op" id="7547613">,</span>&nbsp;<span class="builtintype" id="7547615">false</span><span class="op" id="7547620">}</span><span class="op" id="7547621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7547624">{</span><span class="ident" id="7547625">ParseIP</span><span class="op" id="7547632">(</span><span class="string" id="7547633">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7547650">)</span><span class="op" id="7547651">,</span>&nbsp;<span class="op" id="7547653">&amp;</span><span class="ident" id="7547654">IPNet</span><span class="op" id="7547659">{</span><span class="ident" id="7547660">IP</span><span class="op" id="7547662">:</span>&nbsp;<span class="ident" id="7547664">ParseIP</span><span class="op" id="7547671">(</span><span class="string" id="7547672">&#34;2001:db8:1::&#34;</span><span class="op" id="7547686">)</span><span class="op" id="7547687">,</span>&nbsp;<span class="ident" id="7547689">Mask</span><span class="op" id="7547693">:</span>&nbsp;<span class="ident" id="7547695">IPMask</span><span class="op" id="7547701">(</span><span class="ident" id="7547702">ParseIP</span><span class="op" id="7547709">(</span><span class="string" id="7547710">&#34;ffff:0:ffff::&#34;</span><span class="op" id="7547725">)</span><span class="op" id="7547726">)</span><span class="op" id="7547727">}</span><span class="op" id="7547728">,</span>&nbsp;<span class="builtintype" id="7547730">true</span><span class="op" id="7547734">}</span><span class="op" id="7547735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7547738">{</span><span class="ident" id="7547739">ParseIP</span><span class="op" id="7547746">(</span><span class="string" id="7547747">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7547764">)</span><span class="op" id="7547765">,</span>&nbsp;<span class="op" id="7547767">&amp;</span><span class="ident" id="7547768">IPNet</span><span class="op" id="7547773">{</span><span class="ident" id="7547774">IP</span><span class="op" id="7547776">:</span>&nbsp;<span class="ident" id="7547778">ParseIP</span><span class="op" id="7547785">(</span><span class="string" id="7547786">&#34;2001:db8:1::&#34;</span><span class="op" id="7547800">)</span><span class="op" id="7547801">,</span>&nbsp;<span class="ident" id="7547803">Mask</span><span class="op" id="7547807">:</span>&nbsp;<span class="ident" id="7547809">IPMask</span><span class="op" id="7547815">(</span><span class="ident" id="7547816">ParseIP</span><span class="op" id="7547823">(</span><span class="string" id="7547824">&#34;0:0:0:ffff::&#34;</span><span class="op" id="7547838">)</span><span class="op" id="7547839">)</span><span class="op" id="7547840">}</span><span class="op" id="7547841">,</span>&nbsp;<span class="builtintype" id="7547843">false</span><span class="op" id="7547848">}</span><span class="op" id="7547849">,</span><br>
<span class="lineno"></span><span class="op" id="7547851">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="7547854">func</span>&nbsp;<span class="ident" id="7547859">TestIPNetContains</span><span class="op" id="7547876">(</span><span class="ident" id="7547877">t</span>&nbsp;<span class="op" id="7547879">*</span><span class="ident" id="7547880">testing</span><span class="op" id="7547887">.</span><span class="ident" id="7547888">T</span><span class="op" id="7547889">)</span>&nbsp;<span class="op" id="7547891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7547894">for</span>&nbsp;<span class="ident" id="7547898">_</span><span class="op" id="7547899">,</span>&nbsp;<span class="ident" id="7547901">tt</span>&nbsp;<span class="op" id="7547904">:=</span>&nbsp;<span class="keyword" id="7547907">range</span>&nbsp;<span class="ident" id="7547913">ipNetContainsTests</span>&nbsp;<span class="op" id="7547932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7547936">if</span>&nbsp;<span class="ident" id="7547939">ok</span>&nbsp;<span class="op" id="7547942">:=</span>&nbsp;<span class="ident" id="7547945">tt</span><span class="op" id="7547947">.</span><span class="ident" id="7547948">net</span><span class="op" id="7547951">.</span><span class="ident" id="7547952">Contains</span><span class="op" id="7547960">(</span><span class="ident" id="7547961">tt</span><span class="op" id="7547963">.</span><span class="ident" id="7547964">ip</span><span class="op" id="7547966">)</span><span class="op" id="7547967">;</span>&nbsp;<span class="ident" id="7547969">ok</span>&nbsp;<span class="op" id="7547972">!=</span>&nbsp;<span class="ident" id="7547975">tt</span><span class="op" id="7547977">.</span><span class="ident" id="7547978">ok</span>&nbsp;<span class="op" id="7547981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7547986">t</span><span class="op" id="7547987">.</span><span class="ident" id="7547988">Errorf</span><span class="op" id="7547994">(</span><span class="string" id="7547995">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7548033">,</span>&nbsp;<span class="ident" id="7548035">tt</span><span class="op" id="7548037">.</span><span class="ident" id="7548038">net</span><span class="op" id="7548041">,</span>&nbsp;<span class="ident" id="7548043">tt</span><span class="op" id="7548045">.</span><span class="ident" id="7548046">ip</span><span class="op" id="7548048">,</span>&nbsp;<span class="ident" id="7548050">ok</span><span class="op" id="7548052">,</span>&nbsp;<span class="ident" id="7548054">tt</span><span class="op" id="7548056">.</span><span class="ident" id="7548057">ok</span><span class="op" id="7548059">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548066">}</span><br>
<span class="lineno"></span><span class="op" id="7548068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7548071">var</span>&nbsp;<span class="ident" id="7548075">ipNetStringTests</span>&nbsp;<span class="op" id="7548092">=</span>&nbsp;<span class="op" id="7548094">[</span><span class="op" id="7548095">]</span><span class="keyword" id="7548096">struct</span>&nbsp;<span class="op" id="7548103">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7548106">in</span>&nbsp;&nbsp;<span class="op" id="7548110">*</span><span class="ident" id="7548111">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7548118">out</span>&nbsp;<span class="builtintype" id="7548122">string</span><br>
<span class="lineno"></span><span class="op" id="7548129">}</span><span class="op" id="7548130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548133">{</span><span class="op" id="7548134">&amp;</span><span class="ident" id="7548135">IPNet</span><span class="op" id="7548140">{</span><span class="ident" id="7548141">IP</span><span class="op" id="7548143">:</span>&nbsp;<span class="ident" id="7548145">IPv4</span><span class="op" id="7548149">(</span><span class="num" id="7548150">192</span><span class="op" id="7548153">,</span>&nbsp;<span class="num" id="7548155">168</span><span class="op" id="7548158">,</span>&nbsp;<span class="num" id="7548160">1</span><span class="op" id="7548161">,</span>&nbsp;<span class="num" id="7548163">0</span><span class="op" id="7548164">)</span><span class="op" id="7548165">,</span>&nbsp;<span class="ident" id="7548167">Mask</span><span class="op" id="7548171">:</span>&nbsp;<span class="ident" id="7548173">CIDRMask</span><span class="op" id="7548181">(</span><span class="num" id="7548182">26</span><span class="op" id="7548184">,</span>&nbsp;<span class="num" id="7548186">32</span><span class="op" id="7548188">)</span><span class="op" id="7548189">}</span><span class="op" id="7548190">,</span>&nbsp;<span class="string" id="7548192">&#34;192.168.1.0/26&#34;</span><span class="op" id="7548208">}</span><span class="op" id="7548209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548212">{</span><span class="op" id="7548213">&amp;</span><span class="ident" id="7548214">IPNet</span><span class="op" id="7548219">{</span><span class="ident" id="7548220">IP</span><span class="op" id="7548222">:</span>&nbsp;<span class="ident" id="7548224">IPv4</span><span class="op" id="7548228">(</span><span class="num" id="7548229">192</span><span class="op" id="7548232">,</span>&nbsp;<span class="num" id="7548234">168</span><span class="op" id="7548237">,</span>&nbsp;<span class="num" id="7548239">1</span><span class="op" id="7548240">,</span>&nbsp;<span class="num" id="7548242">0</span><span class="op" id="7548243">)</span><span class="op" id="7548244">,</span>&nbsp;<span class="ident" id="7548246">Mask</span><span class="op" id="7548250">:</span>&nbsp;<span class="ident" id="7548252">IPv4Mask</span><span class="op" id="7548260">(</span><span class="num" id="7548261">255</span><span class="op" id="7548264">,</span>&nbsp;<span class="num" id="7548266">0</span><span class="op" id="7548267">,</span>&nbsp;<span class="num" id="7548269">255</span><span class="op" id="7548272">,</span>&nbsp;<span class="num" id="7548274">0</span><span class="op" id="7548275">)</span><span class="op" id="7548276">}</span><span class="op" id="7548277">,</span>&nbsp;<span class="string" id="7548279">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="7548301">}</span><span class="op" id="7548302">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548305">{</span><span class="op" id="7548306">&amp;</span><span class="ident" id="7548307">IPNet</span><span class="op" id="7548312">{</span><span class="ident" id="7548313">IP</span><span class="op" id="7548315">:</span>&nbsp;<span class="ident" id="7548317">ParseIP</span><span class="op" id="7548324">(</span><span class="string" id="7548325">&#34;2001:db8::&#34;</span><span class="op" id="7548337">)</span><span class="op" id="7548338">,</span>&nbsp;<span class="ident" id="7548340">Mask</span><span class="op" id="7548344">:</span>&nbsp;<span class="ident" id="7548346">CIDRMask</span><span class="op" id="7548354">(</span><span class="num" id="7548355">55</span><span class="op" id="7548357">,</span>&nbsp;<span class="num" id="7548359">128</span><span class="op" id="7548362">)</span><span class="op" id="7548363">}</span><span class="op" id="7548364">,</span>&nbsp;<span class="string" id="7548366">&#34;2001:db8::/55&#34;</span><span class="op" id="7548381">}</span><span class="op" id="7548382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548385">{</span><span class="op" id="7548386">&amp;</span><span class="ident" id="7548387">IPNet</span><span class="op" id="7548392">{</span><span class="ident" id="7548393">IP</span><span class="op" id="7548395">:</span>&nbsp;<span class="ident" id="7548397">ParseIP</span><span class="op" id="7548404">(</span><span class="string" id="7548405">&#34;2001:db8::&#34;</span><span class="op" id="7548417">)</span><span class="op" id="7548418">,</span>&nbsp;<span class="ident" id="7548420">Mask</span><span class="op" id="7548424">:</span>&nbsp;<span class="ident" id="7548426">IPMask</span><span class="op" id="7548432">(</span><span class="ident" id="7548433">ParseIP</span><span class="op" id="7548440">(</span><span class="string" id="7548441">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="7548461">)</span><span class="op" id="7548462">)</span><span class="op" id="7548463">}</span><span class="op" id="7548464">,</span>&nbsp;<span class="string" id="7548466">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="7548511">}</span><span class="op" id="7548512">,</span><br>
<span class="lineno"></span><span class="op" id="7548514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7548517">func</span>&nbsp;<span class="ident" id="7548522">TestIPNetString</span><span class="op" id="7548537">(</span><span class="ident" id="7548538">t</span>&nbsp;<span class="op" id="7548540">*</span><span class="ident" id="7548541">testing</span><span class="op" id="7548548">.</span><span class="ident" id="7548549">T</span><span class="op" id="7548550">)</span>&nbsp;<span class="op" id="7548552">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7548555">for</span>&nbsp;<span class="ident" id="7548559">_</span><span class="op" id="7548560">,</span>&nbsp;<span class="ident" id="7548562">tt</span>&nbsp;<span class="op" id="7548565">:=</span>&nbsp;<span class="keyword" id="7548568">range</span>&nbsp;<span class="ident" id="7548574">ipNetStringTests</span>&nbsp;<span class="op" id="7548591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7548595">if</span>&nbsp;<span class="ident" id="7548598">out</span>&nbsp;<span class="op" id="7548602">:=</span>&nbsp;<span class="ident" id="7548605">tt</span><span class="op" id="7548607">.</span><span class="ident" id="7548608">in</span><span class="op" id="7548610">.</span><span class="ident" id="7548611">String</span><span class="op" id="7548617">(</span><span class="op" id="7548618">)</span><span class="op" id="7548619">;</span>&nbsp;<span class="ident" id="7548621">out</span>&nbsp;<span class="op" id="7548625">!=</span>&nbsp;<span class="ident" id="7548628">tt</span><span class="op" id="7548630">.</span><span class="ident" id="7548631">out</span>&nbsp;<span class="op" id="7548635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7548640">t</span><span class="op" id="7548641">.</span><span class="ident" id="7548642">Errorf</span><span class="op" id="7548648">(</span><span class="string" id="7548649">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7548681">,</span>&nbsp;<span class="ident" id="7548683">tt</span><span class="op" id="7548685">.</span><span class="ident" id="7548686">in</span><span class="op" id="7548688">,</span>&nbsp;<span class="ident" id="7548690">out</span><span class="op" id="7548693">,</span>&nbsp;<span class="ident" id="7548695">tt</span><span class="op" id="7548697">.</span><span class="ident" id="7548698">out</span><span class="op" id="7548701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548708">}</span><br>
<span class="lineno">240</span><span class="op" id="7548710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7548713">var</span>&nbsp;<span class="ident" id="7548717">cidrMaskTests</span>&nbsp;<span class="op" id="7548731">=</span>&nbsp;<span class="op" id="7548733">[</span><span class="op" id="7548734">]</span><span class="keyword" id="7548735">struct</span>&nbsp;<span class="op" id="7548742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7548745">ones</span>&nbsp;<span class="builtintype" id="7548750">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7548755">bits</span>&nbsp;<span class="builtintype" id="7548760">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7548765">out</span>&nbsp;&nbsp;<span class="ident" id="7548770">IPMask</span><br>
<span class="lineno"></span><span class="op" id="7548777">}</span><span class="op" id="7548778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548781">{</span><span class="num" id="7548782">0</span><span class="op" id="7548783">,</span>&nbsp;<span class="num" id="7548785">32</span><span class="op" id="7548787">,</span>&nbsp;<span class="ident" id="7548789">IPv4Mask</span><span class="op" id="7548797">(</span><span class="num" id="7548798">0</span><span class="op" id="7548799">,</span>&nbsp;<span class="num" id="7548801">0</span><span class="op" id="7548802">,</span>&nbsp;<span class="num" id="7548804">0</span><span class="op" id="7548805">,</span>&nbsp;<span class="num" id="7548807">0</span><span class="op" id="7548808">)</span><span class="op" id="7548809">}</span><span class="op" id="7548810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548813">{</span><span class="num" id="7548814">12</span><span class="op" id="7548816">,</span>&nbsp;<span class="num" id="7548818">32</span><span class="op" id="7548820">,</span>&nbsp;<span class="ident" id="7548822">IPv4Mask</span><span class="op" id="7548830">(</span><span class="num" id="7548831">255</span><span class="op" id="7548834">,</span>&nbsp;<span class="num" id="7548836">240</span><span class="op" id="7548839">,</span>&nbsp;<span class="num" id="7548841">0</span><span class="op" id="7548842">,</span>&nbsp;<span class="num" id="7548844">0</span><span class="op" id="7548845">)</span><span class="op" id="7548846">}</span><span class="op" id="7548847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548850">{</span><span class="num" id="7548851">24</span><span class="op" id="7548853">,</span>&nbsp;<span class="num" id="7548855">32</span><span class="op" id="7548857">,</span>&nbsp;<span class="ident" id="7548859">IPv4Mask</span><span class="op" id="7548867">(</span><span class="num" id="7548868">255</span><span class="op" id="7548871">,</span>&nbsp;<span class="num" id="7548873">255</span><span class="op" id="7548876">,</span>&nbsp;<span class="num" id="7548878">255</span><span class="op" id="7548881">,</span>&nbsp;<span class="num" id="7548883">0</span><span class="op" id="7548884">)</span><span class="op" id="7548885">}</span><span class="op" id="7548886">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548889">{</span><span class="num" id="7548890">32</span><span class="op" id="7548892">,</span>&nbsp;<span class="num" id="7548894">32</span><span class="op" id="7548896">,</span>&nbsp;<span class="ident" id="7548898">IPv4Mask</span><span class="op" id="7548906">(</span><span class="num" id="7548907">255</span><span class="op" id="7548910">,</span>&nbsp;<span class="num" id="7548912">255</span><span class="op" id="7548915">,</span>&nbsp;<span class="num" id="7548917">255</span><span class="op" id="7548920">,</span>&nbsp;<span class="num" id="7548922">255</span><span class="op" id="7548925">)</span><span class="op" id="7548926">}</span><span class="op" id="7548927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548930">{</span><span class="num" id="7548931">0</span><span class="op" id="7548932">,</span>&nbsp;<span class="num" id="7548934">128</span><span class="op" id="7548937">,</span>&nbsp;<span class="ident" id="7548939">IPMask</span><span class="op" id="7548945">{</span><span class="num" id="7548946">0</span><span class="op" id="7548947">,</span>&nbsp;<span class="num" id="7548949">0</span><span class="op" id="7548950">,</span>&nbsp;<span class="num" id="7548952">0</span><span class="op" id="7548953">,</span>&nbsp;<span class="num" id="7548955">0</span><span class="op" id="7548956">,</span>&nbsp;<span class="num" id="7548958">0</span><span class="op" id="7548959">,</span>&nbsp;<span class="num" id="7548961">0</span><span class="op" id="7548962">,</span>&nbsp;<span class="num" id="7548964">0</span><span class="op" id="7548965">,</span>&nbsp;<span class="num" id="7548967">0</span><span class="op" id="7548968">,</span>&nbsp;<span class="num" id="7548970">0</span><span class="op" id="7548971">,</span>&nbsp;<span class="num" id="7548973">0</span><span class="op" id="7548974">,</span>&nbsp;<span class="num" id="7548976">0</span><span class="op" id="7548977">,</span>&nbsp;<span class="num" id="7548979">0</span><span class="op" id="7548980">,</span>&nbsp;<span class="num" id="7548982">0</span><span class="op" id="7548983">,</span>&nbsp;<span class="num" id="7548985">0</span><span class="op" id="7548986">,</span>&nbsp;<span class="num" id="7548988">0</span><span class="op" id="7548989">,</span>&nbsp;<span class="num" id="7548991">0</span><span class="op" id="7548992">}</span><span class="op" id="7548993">}</span><span class="op" id="7548994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7548997">{</span><span class="num" id="7548998">4</span><span class="op" id="7548999">,</span>&nbsp;<span class="num" id="7549001">128</span><span class="op" id="7549004">,</span>&nbsp;<span class="ident" id="7549006">IPMask</span><span class="op" id="7549012">{</span><span class="num" id="7549013">0xf0</span><span class="op" id="7549017">,</span>&nbsp;<span class="num" id="7549019">0</span><span class="op" id="7549020">,</span>&nbsp;<span class="num" id="7549022">0</span><span class="op" id="7549023">,</span>&nbsp;<span class="num" id="7549025">0</span><span class="op" id="7549026">,</span>&nbsp;<span class="num" id="7549028">0</span><span class="op" id="7549029">,</span>&nbsp;<span class="num" id="7549031">0</span><span class="op" id="7549032">,</span>&nbsp;<span class="num" id="7549034">0</span><span class="op" id="7549035">,</span>&nbsp;<span class="num" id="7549037">0</span><span class="op" id="7549038">,</span>&nbsp;<span class="num" id="7549040">0</span><span class="op" id="7549041">,</span>&nbsp;<span class="num" id="7549043">0</span><span class="op" id="7549044">,</span>&nbsp;<span class="num" id="7549046">0</span><span class="op" id="7549047">,</span>&nbsp;<span class="num" id="7549049">0</span><span class="op" id="7549050">,</span>&nbsp;<span class="num" id="7549052">0</span><span class="op" id="7549053">,</span>&nbsp;<span class="num" id="7549055">0</span><span class="op" id="7549056">,</span>&nbsp;<span class="num" id="7549058">0</span><span class="op" id="7549059">,</span>&nbsp;<span class="num" id="7549061">0</span><span class="op" id="7549062">}</span><span class="op" id="7549063">}</span><span class="op" id="7549064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7549067">{</span><span class="num" id="7549068">48</span><span class="op" id="7549070">,</span>&nbsp;<span class="num" id="7549072">128</span><span class="op" id="7549075">,</span>&nbsp;<span class="ident" id="7549077">IPMask</span><span class="op" id="7549083">{</span><span class="num" id="7549084">0xff</span><span class="op" id="7549088">,</span>&nbsp;<span class="num" id="7549090">0xff</span><span class="op" id="7549094">,</span>&nbsp;<span class="num" id="7549096">0xff</span><span class="op" id="7549100">,</span>&nbsp;<span class="num" id="7549102">0xff</span><span class="op" id="7549106">,</span>&nbsp;<span class="num" id="7549108">0xff</span><span class="op" id="7549112">,</span>&nbsp;<span class="num" id="7549114">0xff</span><span class="op" id="7549118">,</span>&nbsp;<span class="num" id="7549120">0</span><span class="op" id="7549121">,</span>&nbsp;<span class="num" id="7549123">0</span><span class="op" id="7549124">,</span>&nbsp;<span class="num" id="7549126">0</span><span class="op" id="7549127">,</span>&nbsp;<span class="num" id="7549129">0</span><span class="op" id="7549130">,</span>&nbsp;<span class="num" id="7549132">0</span><span class="op" id="7549133">,</span>&nbsp;<span class="num" id="7549135">0</span><span class="op" id="7549136">,</span>&nbsp;<span class="num" id="7549138">0</span><span class="op" id="7549139">,</span>&nbsp;<span class="num" id="7549141">0</span><span class="op" id="7549142">,</span>&nbsp;<span class="num" id="7549144">0</span><span class="op" id="7549145">,</span>&nbsp;<span class="num" id="7549147">0</span><span class="op" id="7549148">}</span><span class="op" id="7549149">}</span><span class="op" id="7549150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7549153">{</span><span class="num" id="7549154">128</span><span class="op" id="7549157">,</span>&nbsp;<span class="num" id="7549159">128</span><span class="op" id="7549162">,</span>&nbsp;<span class="ident" id="7549164">IPMask</span><span class="op" id="7549170">{</span><span class="num" id="7549171">0xff</span><span class="op" id="7549175">,</span>&nbsp;<span class="num" id="7549177">0xff</span><span class="op" id="7549181">,</span>&nbsp;<span class="num" id="7549183">0xff</span><span class="op" id="7549187">,</span>&nbsp;<span class="num" id="7549189">0xff</span><span class="op" id="7549193">,</span>&nbsp;<span class="num" id="7549195">0xff</span><span class="op" id="7549199">,</span>&nbsp;<span class="num" id="7549201">0xff</span><span class="op" id="7549205">,</span>&nbsp;<span class="num" id="7549207">0xff</span><span class="op" id="7549211">,</span>&nbsp;<span class="num" id="7549213">0xff</span><span class="op" id="7549217">,</span>&nbsp;<span class="num" id="7549219">0xff</span><span class="op" id="7549223">,</span>&nbsp;<span class="num" id="7549225">0xff</span><span class="op" id="7549229">,</span>&nbsp;<span class="num" id="7549231">0xff</span><span class="op" id="7549235">,</span>&nbsp;<span class="num" id="7549237">0xff</span><span class="op" id="7549241">,</span>&nbsp;<span class="num" id="7549243">0xff</span><span class="op" id="7549247">,</span>&nbsp;<span class="num" id="7549249">0xff</span><span class="op" id="7549253">,</span>&nbsp;<span class="num" id="7549255">0xff</span><span class="op" id="7549259">,</span>&nbsp;<span class="num" id="7549261">0xff</span><span class="op" id="7549265">}</span><span class="op" id="7549266">}</span><span class="op" id="7549267">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7549270">{</span><span class="num" id="7549271">33</span><span class="op" id="7549273">,</span>&nbsp;<span class="num" id="7549275">32</span><span class="op" id="7549277">,</span>&nbsp;<span class="ident" id="7549279">nil</span><span class="op" id="7549282">}</span><span class="op" id="7549283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7549286">{</span><span class="num" id="7549287">32</span><span class="op" id="7549289">,</span>&nbsp;<span class="num" id="7549291">33</span><span class="op" id="7549293">,</span>&nbsp;<span class="ident" id="7549295">nil</span><span class="op" id="7549298">}</span><span class="op" id="7549299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7549302">{</span><span class="op" id="7549303">-</span><span class="num" id="7549304">1</span><span class="op" id="7549305">,</span>&nbsp;<span class="num" id="7549307">128</span><span class="op" id="7549310">,</span>&nbsp;<span class="ident" id="7549312">nil</span><span class="op" id="7549315">}</span><span class="op" id="7549316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7549319">{</span><span class="num" id="7549320">128</span><span class="op" id="7549323">,</span>&nbsp;<span class="op" id="7549325">-</span><span class="num" id="7549326">1</span><span class="op" id="7549327">,</span>&nbsp;<span class="ident" id="7549329">nil</span><span class="op" id="7549332">}</span><span class="op" id="7549333">,</span><br>
<span class="lineno"></span><span class="op" id="7549335">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="7549338">func</span>&nbsp;<span class="ident" id="7549343">TestCIDRMask</span><span class="op" id="7549355">(</span><span class="ident" id="7549356">t</span>&nbsp;<span class="op" id="7549358">*</span><span class="ident" id="7549359">testing</span><span class="op" id="7549366">.</span><span class="ident" id="7549367">T</span><span class="op" id="7549368">)</span>&nbsp;<span class="op" id="7549370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7549373">for</span>&nbsp;<span class="ident" id="7549377">_</span><span class="op" id="7549378">,</span>&nbsp;<span class="ident" id="7549380">tt</span>&nbsp;<span class="op" id="7549383">:=</span>&nbsp;<span class="keyword" id="7549386">range</span>&nbsp;<span class="ident" id="7549392">cidrMaskTests</span>&nbsp;<span class="op" id="7549406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7549410">if</span>&nbsp;<span class="ident" id="7549413">out</span>&nbsp;<span class="op" id="7549417">:=</span>&nbsp;<span class="ident" id="7549420">CIDRMask</span><span class="op" id="7549428">(</span><span class="ident" id="7549429">tt</span><span class="op" id="7549431">.</span><span class="ident" id="7549432">ones</span><span class="op" id="7549436">,</span>&nbsp;<span class="ident" id="7549438">tt</span><span class="op" id="7549440">.</span><span class="ident" id="7549441">bits</span><span class="op" id="7549445">)</span><span class="op" id="7549446">;</span>&nbsp;<span class="op" id="7549448">!</span><span class="ident" id="7549449">reflect</span><span class="op" id="7549456">.</span><span class="ident" id="7549457">DeepEqual</span><span class="op" id="7549466">(</span><span class="ident" id="7549467">out</span><span class="op" id="7549470">,</span>&nbsp;<span class="ident" id="7549472">tt</span><span class="op" id="7549474">.</span><span class="ident" id="7549475">out</span><span class="op" id="7549478">)</span>&nbsp;<span class="op" id="7549480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7549485">t</span><span class="op" id="7549486">.</span><span class="ident" id="7549487">Errorf</span><span class="op" id="7549493">(</span><span class="string" id="7549494">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7549526">,</span>&nbsp;<span class="ident" id="7549528">tt</span><span class="op" id="7549530">.</span><span class="ident" id="7549531">ones</span><span class="op" id="7549535">,</span>&nbsp;<span class="ident" id="7549537">tt</span><span class="op" id="7549539">.</span><span class="ident" id="7549540">bits</span><span class="op" id="7549544">,</span>&nbsp;<span class="ident" id="7549546">out</span><span class="op" id="7549549">,</span>&nbsp;<span class="ident" id="7549551">tt</span><span class="op" id="7549553">.</span><span class="ident" id="7549554">out</span><span class="op" id="7549557">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7549561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7549564">}</span><br>
<span class="lineno"></span><span class="op" id="7549566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7549569">var</span>&nbsp;<span class="op" id="7549573">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7549576">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549591">=</span>&nbsp;<span class="ident" id="7549593">IP</span><span class="op" id="7549595">{</span><span class="num" id="7549596">192</span><span class="op" id="7549599">,</span>&nbsp;<span class="num" id="7549601">168</span><span class="op" id="7549604">,</span>&nbsp;<span class="num" id="7549606">0</span><span class="op" id="7549607">,</span>&nbsp;<span class="num" id="7549609">1</span><span class="op" id="7549610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7549613">v4mappedv6addr</span>&nbsp;<span class="op" id="7549628">=</span>&nbsp;<span class="ident" id="7549630">IP</span><span class="op" id="7549632">{</span><span class="num" id="7549633">0</span><span class="op" id="7549634">,</span>&nbsp;<span class="num" id="7549636">0</span><span class="op" id="7549637">,</span>&nbsp;<span class="num" id="7549639">0</span><span class="op" id="7549640">,</span>&nbsp;<span class="num" id="7549642">0</span><span class="op" id="7549643">,</span>&nbsp;<span class="num" id="7549645">0</span><span class="op" id="7549646">,</span>&nbsp;<span class="num" id="7549648">0</span><span class="op" id="7549649">,</span>&nbsp;<span class="num" id="7549651">0</span><span class="op" id="7549652">,</span>&nbsp;<span class="num" id="7549654">0</span><span class="op" id="7549655">,</span>&nbsp;<span class="num" id="7549657">0</span><span class="op" id="7549658">,</span>&nbsp;<span class="num" id="7549660">0</span><span class="op" id="7549661">,</span>&nbsp;<span class="num" id="7549663">0xff</span><span class="op" id="7549667">,</span>&nbsp;<span class="num" id="7549669">0xff</span><span class="op" id="7549673">,</span>&nbsp;<span class="num" id="7549675">192</span><span class="op" id="7549678">,</span>&nbsp;<span class="num" id="7549680">168</span><span class="op" id="7549683">,</span>&nbsp;<span class="num" id="7549685">0</span><span class="op" id="7549686">,</span>&nbsp;<span class="num" id="7549688">1</span><span class="op" id="7549689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7549692">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549707">=</span>&nbsp;<span class="ident" id="7549709">IP</span><span class="op" id="7549711">{</span><span class="num" id="7549712">0x20</span><span class="op" id="7549716">,</span>&nbsp;<span class="num" id="7549718">0x1</span><span class="op" id="7549721">,</span>&nbsp;<span class="num" id="7549723">0xd</span><span class="op" id="7549726">,</span>&nbsp;<span class="num" id="7549728">0xb8</span><span class="op" id="7549732">,</span>&nbsp;<span class="num" id="7549734">0</span><span class="op" id="7549735">,</span>&nbsp;<span class="num" id="7549737">0</span><span class="op" id="7549738">,</span>&nbsp;<span class="num" id="7549740">0</span><span class="op" id="7549741">,</span>&nbsp;<span class="num" id="7549743">0</span><span class="op" id="7549744">,</span>&nbsp;<span class="num" id="7549746">0</span><span class="op" id="7549747">,</span>&nbsp;<span class="num" id="7549749">0</span><span class="op" id="7549750">,</span>&nbsp;<span class="num" id="7549752">0x1</span><span class="op" id="7549755">,</span>&nbsp;<span class="num" id="7549757">0x23</span><span class="op" id="7549761">,</span>&nbsp;<span class="num" id="7549763">0</span><span class="op" id="7549764">,</span>&nbsp;<span class="num" id="7549766">0x12</span><span class="op" id="7549770">,</span>&nbsp;<span class="num" id="7549772">0</span><span class="op" id="7549773">,</span>&nbsp;<span class="num" id="7549775">0x1</span><span class="op" id="7549778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7549781">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549796">=</span>&nbsp;<span class="ident" id="7549798">IPMask</span><span class="op" id="7549804">{</span><span class="num" id="7549805">255</span><span class="op" id="7549808">,</span>&nbsp;<span class="num" id="7549810">255</span><span class="op" id="7549813">,</span>&nbsp;<span class="num" id="7549815">255</span><span class="op" id="7549818">,</span>&nbsp;<span class="num" id="7549820">0</span><span class="op" id="7549821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7549824">v4mappedv6mask</span>&nbsp;<span class="op" id="7549839">=</span>&nbsp;<span class="ident" id="7549841">IPMask</span><span class="op" id="7549847">{</span><span class="num" id="7549848">0xff</span><span class="op" id="7549852">,</span>&nbsp;<span class="num" id="7549854">0xff</span><span class="op" id="7549858">,</span>&nbsp;<span class="num" id="7549860">0xff</span><span class="op" id="7549864">,</span>&nbsp;<span class="num" id="7549866">0xff</span><span class="op" id="7549870">,</span>&nbsp;<span class="num" id="7549872">0xff</span><span class="op" id="7549876">,</span>&nbsp;<span class="num" id="7549878">0xff</span><span class="op" id="7549882">,</span>&nbsp;<span class="num" id="7549884">0xff</span><span class="op" id="7549888">,</span>&nbsp;<span class="num" id="7549890">0xff</span><span class="op" id="7549894">,</span>&nbsp;<span class="num" id="7549896">0xff</span><span class="op" id="7549900">,</span>&nbsp;<span class="num" id="7549902">0xff</span><span class="op" id="7549906">,</span>&nbsp;<span class="num" id="7549908">0xff</span><span class="op" id="7549912">,</span>&nbsp;<span class="num" id="7549914">0xff</span><span class="op" id="7549918">,</span>&nbsp;<span class="num" id="7549920">255</span><span class="op" id="7549923">,</span>&nbsp;<span class="num" id="7549925">255</span><span class="op" id="7549928">,</span>&nbsp;<span class="num" id="7549930">255</span><span class="op" id="7549933">,</span>&nbsp;<span class="num" id="7549935">0</span><span class="op" id="7549936">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7549939">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7549954">=</span>&nbsp;<span class="ident" id="7549956">IPMask</span><span class="op" id="7549962">{</span><span class="num" id="7549963">0xff</span><span class="op" id="7549967">,</span>&nbsp;<span class="num" id="7549969">0xff</span><span class="op" id="7549973">,</span>&nbsp;<span class="num" id="7549975">0xff</span><span class="op" id="7549979">,</span>&nbsp;<span class="num" id="7549981">0xff</span><span class="op" id="7549985">,</span>&nbsp;<span class="num" id="7549987">0xff</span><span class="op" id="7549991">,</span>&nbsp;<span class="num" id="7549993">0xff</span><span class="op" id="7549997">,</span>&nbsp;<span class="num" id="7549999">0xff</span><span class="op" id="7550003">,</span>&nbsp;<span class="num" id="7550005">0xff</span><span class="op" id="7550009">,</span>&nbsp;<span class="num" id="7550011">0</span><span class="op" id="7550012">,</span>&nbsp;<span class="num" id="7550014">0</span><span class="op" id="7550015">,</span>&nbsp;<span class="num" id="7550017">0</span><span class="op" id="7550018">,</span>&nbsp;<span class="num" id="7550020">0</span><span class="op" id="7550021">,</span>&nbsp;<span class="num" id="7550023">0</span><span class="op" id="7550024">,</span>&nbsp;<span class="num" id="7550026">0</span><span class="op" id="7550027">,</span>&nbsp;<span class="num" id="7550029">0</span><span class="op" id="7550030">,</span>&nbsp;<span class="num" id="7550032">0</span><span class="op" id="7550033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7550036">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550051">=</span>&nbsp;<span class="ident" id="7550053">IP</span><span class="op" id="7550055">{</span><span class="num" id="7550056">192</span><span class="op" id="7550059">,</span>&nbsp;<span class="num" id="7550061">168</span><span class="op" id="7550064">,</span>&nbsp;<span class="num" id="7550066">0</span><span class="op" id="7550067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7550070">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550085">=</span>&nbsp;<span class="ident" id="7550087">IPMask</span><span class="op" id="7550093">{</span><span class="num" id="7550094">255</span><span class="op" id="7550097">,</span>&nbsp;<span class="num" id="7550099">255</span><span class="op" id="7550102">,</span>&nbsp;<span class="num" id="7550104">0</span><span class="op" id="7550105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7550108">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7550123">=</span>&nbsp;<span class="ident" id="7550125">IPMask</span><span class="op" id="7550131">{</span><span class="num" id="7550132">0</span><span class="op" id="7550133">,</span>&nbsp;<span class="num" id="7550135">0</span><span class="op" id="7550136">,</span>&nbsp;<span class="num" id="7550138">0</span><span class="op" id="7550139">,</span>&nbsp;<span class="num" id="7550141">0</span><span class="op" id="7550142">}</span><br>
<span class="lineno"></span><span class="op" id="7550144">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7550147">var</span>&nbsp;<span class="ident" id="7550151">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="7550177">=</span>&nbsp;<span class="op" id="7550179">[</span><span class="op" id="7550180">]</span><span class="keyword" id="7550181">struct</span>&nbsp;<span class="op" id="7550188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7550191">in</span>&nbsp;&nbsp;<span class="ident" id="7550195">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7550202">out</span>&nbsp;<span class="ident" id="7550206">IPNet</span><br>
<span class="lineno"></span><span class="op" id="7550212">}</span><span class="op" id="7550213">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550216">{</span><span class="ident" id="7550217">IPNet</span><span class="op" id="7550222">{</span><span class="ident" id="7550223">IP</span><span class="op" id="7550225">:</span>&nbsp;<span class="ident" id="7550227">v4addr</span><span class="op" id="7550233">,</span>&nbsp;<span class="ident" id="7550235">Mask</span><span class="op" id="7550239">:</span>&nbsp;<span class="ident" id="7550241">v4mask</span><span class="op" id="7550247">}</span><span class="op" id="7550248">,</span>&nbsp;<span class="ident" id="7550250">IPNet</span><span class="op" id="7550255">{</span><span class="ident" id="7550256">IP</span><span class="op" id="7550258">:</span>&nbsp;<span class="ident" id="7550260">v4addr</span><span class="op" id="7550266">,</span>&nbsp;<span class="ident" id="7550268">Mask</span><span class="op" id="7550272">:</span>&nbsp;<span class="ident" id="7550274">v4mask</span><span class="op" id="7550280">}</span><span class="op" id="7550281">}</span><span class="op" id="7550282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550285">{</span><span class="ident" id="7550286">IPNet</span><span class="op" id="7550291">{</span><span class="ident" id="7550292">IP</span><span class="op" id="7550294">:</span>&nbsp;<span class="ident" id="7550296">v4addr</span><span class="op" id="7550302">,</span>&nbsp;<span class="ident" id="7550304">Mask</span><span class="op" id="7550308">:</span>&nbsp;<span class="ident" id="7550310">v4mappedv6mask</span><span class="op" id="7550324">}</span><span class="op" id="7550325">,</span>&nbsp;<span class="ident" id="7550327">IPNet</span><span class="op" id="7550332">{</span><span class="ident" id="7550333">IP</span><span class="op" id="7550335">:</span>&nbsp;<span class="ident" id="7550337">v4addr</span><span class="op" id="7550343">,</span>&nbsp;<span class="ident" id="7550345">Mask</span><span class="op" id="7550349">:</span>&nbsp;<span class="ident" id="7550351">v4mask</span><span class="op" id="7550357">}</span><span class="op" id="7550358">}</span><span class="op" id="7550359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550362">{</span><span class="ident" id="7550363">IPNet</span><span class="op" id="7550368">{</span><span class="ident" id="7550369">IP</span><span class="op" id="7550371">:</span>&nbsp;<span class="ident" id="7550373">v4mappedv6addr</span><span class="op" id="7550387">,</span>&nbsp;<span class="ident" id="7550389">Mask</span><span class="op" id="7550393">:</span>&nbsp;<span class="ident" id="7550395">v4mappedv6mask</span><span class="op" id="7550409">}</span><span class="op" id="7550410">,</span>&nbsp;<span class="ident" id="7550412">IPNet</span><span class="op" id="7550417">{</span><span class="ident" id="7550418">IP</span><span class="op" id="7550420">:</span>&nbsp;<span class="ident" id="7550422">v4addr</span><span class="op" id="7550428">,</span>&nbsp;<span class="ident" id="7550430">Mask</span><span class="op" id="7550434">:</span>&nbsp;<span class="ident" id="7550436">v4mask</span><span class="op" id="7550442">}</span><span class="op" id="7550443">}</span><span class="op" id="7550444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550447">{</span><span class="ident" id="7550448">IPNet</span><span class="op" id="7550453">{</span><span class="ident" id="7550454">IP</span><span class="op" id="7550456">:</span>&nbsp;<span class="ident" id="7550458">v4mappedv6addr</span><span class="op" id="7550472">,</span>&nbsp;<span class="ident" id="7550474">Mask</span><span class="op" id="7550478">:</span>&nbsp;<span class="ident" id="7550480">v6mask</span><span class="op" id="7550486">}</span><span class="op" id="7550487">,</span>&nbsp;<span class="ident" id="7550489">IPNet</span><span class="op" id="7550494">{</span><span class="ident" id="7550495">IP</span><span class="op" id="7550497">:</span>&nbsp;<span class="ident" id="7550499">v4addr</span><span class="op" id="7550505">,</span>&nbsp;<span class="ident" id="7550507">Mask</span><span class="op" id="7550511">:</span>&nbsp;<span class="ident" id="7550513">v4maskzero</span><span class="op" id="7550523">}</span><span class="op" id="7550524">}</span><span class="op" id="7550525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550528">{</span><span class="ident" id="7550529">IPNet</span><span class="op" id="7550534">{</span><span class="ident" id="7550535">IP</span><span class="op" id="7550537">:</span>&nbsp;<span class="ident" id="7550539">v4addr</span><span class="op" id="7550545">,</span>&nbsp;<span class="ident" id="7550547">Mask</span><span class="op" id="7550551">:</span>&nbsp;<span class="ident" id="7550553">v6mask</span><span class="op" id="7550559">}</span><span class="op" id="7550560">,</span>&nbsp;<span class="ident" id="7550562">IPNet</span><span class="op" id="7550567">{</span><span class="ident" id="7550568">IP</span><span class="op" id="7550570">:</span>&nbsp;<span class="ident" id="7550572">v4addr</span><span class="op" id="7550578">,</span>&nbsp;<span class="ident" id="7550580">Mask</span><span class="op" id="7550584">:</span>&nbsp;<span class="ident" id="7550586">v4maskzero</span><span class="op" id="7550596">}</span><span class="op" id="7550597">}</span><span class="op" id="7550598">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550601">{</span><span class="ident" id="7550602">IPNet</span><span class="op" id="7550607">{</span><span class="ident" id="7550608">IP</span><span class="op" id="7550610">:</span>&nbsp;<span class="ident" id="7550612">v6addr</span><span class="op" id="7550618">,</span>&nbsp;<span class="ident" id="7550620">Mask</span><span class="op" id="7550624">:</span>&nbsp;<span class="ident" id="7550626">v6mask</span><span class="op" id="7550632">}</span><span class="op" id="7550633">,</span>&nbsp;<span class="ident" id="7550635">IPNet</span><span class="op" id="7550640">{</span><span class="ident" id="7550641">IP</span><span class="op" id="7550643">:</span>&nbsp;<span class="ident" id="7550645">v6addr</span><span class="op" id="7550651">,</span>&nbsp;<span class="ident" id="7550653">Mask</span><span class="op" id="7550657">:</span>&nbsp;<span class="ident" id="7550659">v6mask</span><span class="op" id="7550665">}</span><span class="op" id="7550666">}</span><span class="op" id="7550667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550670">{</span><span class="ident" id="7550671">IPNet</span><span class="op" id="7550676">{</span><span class="ident" id="7550677">IP</span><span class="op" id="7550679">:</span>&nbsp;<span class="ident" id="7550681">v6addr</span><span class="op" id="7550687">,</span>&nbsp;<span class="ident" id="7550689">Mask</span><span class="op" id="7550693">:</span>&nbsp;<span class="ident" id="7550695">v4mappedv6mask</span><span class="op" id="7550709">}</span><span class="op" id="7550710">,</span>&nbsp;<span class="ident" id="7550712">IPNet</span><span class="op" id="7550717">{</span><span class="ident" id="7550718">IP</span><span class="op" id="7550720">:</span>&nbsp;<span class="ident" id="7550722">v6addr</span><span class="op" id="7550728">,</span>&nbsp;<span class="ident" id="7550730">Mask</span><span class="op" id="7550734">:</span>&nbsp;<span class="ident" id="7550736">v4mappedv6mask</span><span class="op" id="7550750">}</span><span class="op" id="7550751">}</span><span class="op" id="7550752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550755">{</span><span class="ident" id="7550756">in</span><span class="op" id="7550758">:</span>&nbsp;<span class="ident" id="7550760">IPNet</span><span class="op" id="7550765">{</span><span class="ident" id="7550766">IP</span><span class="op" id="7550768">:</span>&nbsp;<span class="ident" id="7550770">v6addr</span><span class="op" id="7550776">,</span>&nbsp;<span class="ident" id="7550778">Mask</span><span class="op" id="7550782">:</span>&nbsp;<span class="ident" id="7550784">v4mask</span><span class="op" id="7550790">}</span><span class="op" id="7550791">}</span><span class="op" id="7550792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550795">{</span><span class="ident" id="7550796">in</span><span class="op" id="7550798">:</span>&nbsp;<span class="ident" id="7550800">IPNet</span><span class="op" id="7550805">{</span><span class="ident" id="7550806">IP</span><span class="op" id="7550808">:</span>&nbsp;<span class="ident" id="7550810">v4addr</span><span class="op" id="7550816">,</span>&nbsp;<span class="ident" id="7550818">Mask</span><span class="op" id="7550822">:</span>&nbsp;<span class="ident" id="7550824">badmask</span><span class="op" id="7550831">}</span><span class="op" id="7550832">}</span><span class="op" id="7550833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550836">{</span><span class="ident" id="7550837">in</span><span class="op" id="7550839">:</span>&nbsp;<span class="ident" id="7550841">IPNet</span><span class="op" id="7550846">{</span><span class="ident" id="7550847">IP</span><span class="op" id="7550849">:</span>&nbsp;<span class="ident" id="7550851">v4mappedv6addr</span><span class="op" id="7550865">,</span>&nbsp;<span class="ident" id="7550867">Mask</span><span class="op" id="7550871">:</span>&nbsp;<span class="ident" id="7550873">badmask</span><span class="op" id="7550880">}</span><span class="op" id="7550881">}</span><span class="op" id="7550882">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550885">{</span><span class="ident" id="7550886">in</span><span class="op" id="7550888">:</span>&nbsp;<span class="ident" id="7550890">IPNet</span><span class="op" id="7550895">{</span><span class="ident" id="7550896">IP</span><span class="op" id="7550898">:</span>&nbsp;<span class="ident" id="7550900">v6addr</span><span class="op" id="7550906">,</span>&nbsp;<span class="ident" id="7550908">Mask</span><span class="op" id="7550912">:</span>&nbsp;<span class="ident" id="7550914">badmask</span><span class="op" id="7550921">}</span><span class="op" id="7550922">}</span><span class="op" id="7550923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550926">{</span><span class="ident" id="7550927">in</span><span class="op" id="7550929">:</span>&nbsp;<span class="ident" id="7550931">IPNet</span><span class="op" id="7550936">{</span><span class="ident" id="7550937">IP</span><span class="op" id="7550939">:</span>&nbsp;<span class="ident" id="7550941">badaddr</span><span class="op" id="7550948">,</span>&nbsp;<span class="ident" id="7550950">Mask</span><span class="op" id="7550954">:</span>&nbsp;<span class="ident" id="7550956">v4mask</span><span class="op" id="7550962">}</span><span class="op" id="7550963">}</span><span class="op" id="7550964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7550967">{</span><span class="ident" id="7550968">in</span><span class="op" id="7550970">:</span>&nbsp;<span class="ident" id="7550972">IPNet</span><span class="op" id="7550977">{</span><span class="ident" id="7550978">IP</span><span class="op" id="7550980">:</span>&nbsp;<span class="ident" id="7550982">badaddr</span><span class="op" id="7550989">,</span>&nbsp;<span class="ident" id="7550991">Mask</span><span class="op" id="7550995">:</span>&nbsp;<span class="ident" id="7550997">v4mappedv6mask</span><span class="op" id="7551011">}</span><span class="op" id="7551012">}</span><span class="op" id="7551013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551016">{</span><span class="ident" id="7551017">in</span><span class="op" id="7551019">:</span>&nbsp;<span class="ident" id="7551021">IPNet</span><span class="op" id="7551026">{</span><span class="ident" id="7551027">IP</span><span class="op" id="7551029">:</span>&nbsp;<span class="ident" id="7551031">badaddr</span><span class="op" id="7551038">,</span>&nbsp;<span class="ident" id="7551040">Mask</span><span class="op" id="7551044">:</span>&nbsp;<span class="ident" id="7551046">v6mask</span><span class="op" id="7551052">}</span><span class="op" id="7551053">}</span><span class="op" id="7551054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551057">{</span><span class="ident" id="7551058">in</span><span class="op" id="7551060">:</span>&nbsp;<span class="ident" id="7551062">IPNet</span><span class="op" id="7551067">{</span><span class="ident" id="7551068">IP</span><span class="op" id="7551070">:</span>&nbsp;<span class="ident" id="7551072">badaddr</span><span class="op" id="7551079">,</span>&nbsp;<span class="ident" id="7551081">Mask</span><span class="op" id="7551085">:</span>&nbsp;<span class="ident" id="7551087">badmask</span><span class="op" id="7551094">}</span><span class="op" id="7551095">}</span><span class="op" id="7551096">,</span><br>
<span class="lineno">300</span><span class="op" id="7551098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7551101">func</span>&nbsp;<span class="ident" id="7551106">TestNetworkNumberAndMask</span><span class="op" id="7551130">(</span><span class="ident" id="7551131">t</span>&nbsp;<span class="op" id="7551133">*</span><span class="ident" id="7551134">testing</span><span class="op" id="7551141">.</span><span class="ident" id="7551142">T</span><span class="op" id="7551143">)</span>&nbsp;<span class="op" id="7551145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7551148">for</span>&nbsp;<span class="ident" id="7551152">_</span><span class="op" id="7551153">,</span>&nbsp;<span class="ident" id="7551155">tt</span>&nbsp;<span class="op" id="7551158">:=</span>&nbsp;<span class="keyword" id="7551161">range</span>&nbsp;<span class="ident" id="7551167">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="7551193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7551197">ip</span><span class="op" id="7551199">,</span>&nbsp;<span class="ident" id="7551201">m</span>&nbsp;<span class="op" id="7551203">:=</span>&nbsp;<span class="ident" id="7551206">networkNumberAndMask</span><span class="op" id="7551226">(</span><span class="op" id="7551227">&amp;</span><span class="ident" id="7551228">tt</span><span class="op" id="7551230">.</span><span class="ident" id="7551231">in</span><span class="op" id="7551233">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7551237">out</span>&nbsp;<span class="op" id="7551241">:=</span>&nbsp;<span class="op" id="7551244">&amp;</span><span class="ident" id="7551245">IPNet</span><span class="op" id="7551250">{</span><span class="ident" id="7551251">IP</span><span class="op" id="7551253">:</span>&nbsp;<span class="ident" id="7551255">ip</span><span class="op" id="7551257">,</span>&nbsp;<span class="ident" id="7551259">Mask</span><span class="op" id="7551263">:</span>&nbsp;<span class="ident" id="7551265">m</span><span class="op" id="7551266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7551270">if</span>&nbsp;<span class="op" id="7551273">!</span><span class="ident" id="7551274">reflect</span><span class="op" id="7551281">.</span><span class="ident" id="7551282">DeepEqual</span><span class="op" id="7551291">(</span><span class="op" id="7551292">&amp;</span><span class="ident" id="7551293">tt</span><span class="op" id="7551295">.</span><span class="ident" id="7551296">out</span><span class="op" id="7551299">,</span>&nbsp;<span class="ident" id="7551301">out</span><span class="op" id="7551304">)</span>&nbsp;<span class="op" id="7551306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7551311">t</span><span class="op" id="7551312">.</span><span class="ident" id="7551313">Errorf</span><span class="op" id="7551319">(</span><span class="string" id="7551320">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7551360">,</span>&nbsp;<span class="ident" id="7551362">tt</span><span class="op" id="7551364">.</span><span class="ident" id="7551365">in</span><span class="op" id="7551367">,</span>&nbsp;<span class="ident" id="7551369">out</span><span class="op" id="7551372">,</span>&nbsp;<span class="op" id="7551374">&amp;</span><span class="ident" id="7551375">tt</span><span class="op" id="7551377">.</span><span class="ident" id="7551378">out</span><span class="op" id="7551381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551388">}</span><br>
<span class="lineno">310</span><span class="op" id="7551390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7551393">var</span>&nbsp;<span class="ident" id="7551397">splitJoinTests</span>&nbsp;<span class="op" id="7551412">=</span>&nbsp;<span class="op" id="7551414">[</span><span class="op" id="7551415">]</span><span class="keyword" id="7551416">struct</span>&nbsp;<span class="op" id="7551423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7551426">host</span>&nbsp;<span class="builtintype" id="7551431">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7551439">port</span>&nbsp;<span class="builtintype" id="7551444">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7551452">join</span>&nbsp;<span class="builtintype" id="7551457">string</span><br>
<span class="lineno"></span><span class="op" id="7551464">}</span><span class="op" id="7551465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551468">{</span><span class="string" id="7551469">&#34;www.google.com&#34;</span><span class="op" id="7551485">,</span>&nbsp;<span class="string" id="7551487">&#34;80&#34;</span><span class="op" id="7551491">,</span>&nbsp;<span class="string" id="7551493">&#34;www.google.com:80&#34;</span><span class="op" id="7551512">}</span><span class="op" id="7551513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551516">{</span><span class="string" id="7551517">&#34;127.0.0.1&#34;</span><span class="op" id="7551528">,</span>&nbsp;<span class="string" id="7551530">&#34;1234&#34;</span><span class="op" id="7551536">,</span>&nbsp;<span class="string" id="7551538">&#34;127.0.0.1:1234&#34;</span><span class="op" id="7551554">}</span><span class="op" id="7551555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551558">{</span><span class="string" id="7551559">&#34;::1&#34;</span><span class="op" id="7551564">,</span>&nbsp;<span class="string" id="7551566">&#34;80&#34;</span><span class="op" id="7551570">,</span>&nbsp;<span class="string" id="7551572">&#34;[::1]:80&#34;</span><span class="op" id="7551582">}</span><span class="op" id="7551583">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551586">{</span><span class="string" id="7551587">&#34;fe80::1%lo0&#34;</span><span class="op" id="7551600">,</span>&nbsp;<span class="string" id="7551602">&#34;80&#34;</span><span class="op" id="7551606">,</span>&nbsp;<span class="string" id="7551608">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="7551626">}</span><span class="op" id="7551627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551630">{</span><span class="string" id="7551631">&#34;localhost%lo0&#34;</span><span class="op" id="7551646">,</span>&nbsp;<span class="string" id="7551648">&#34;80&#34;</span><span class="op" id="7551652">,</span>&nbsp;<span class="string" id="7551654">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="7551674">}</span><span class="op" id="7551675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551678">{</span><span class="string" id="7551679">&#34;&#34;</span><span class="op" id="7551681">,</span>&nbsp;<span class="string" id="7551683">&#34;0&#34;</span><span class="op" id="7551686">,</span>&nbsp;<span class="string" id="7551688">&#34;:0&#34;</span><span class="op" id="7551692">}</span><span class="op" id="7551693">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551697">{</span><span class="string" id="7551698">&#34;google.com&#34;</span><span class="op" id="7551710">,</span>&nbsp;<span class="string" id="7551712">&#34;https%foo&#34;</span><span class="op" id="7551723">,</span>&nbsp;<span class="string" id="7551725">&#34;google.com:https%foo&#34;</span><span class="op" id="7551747">}</span><span class="op" id="7551748">,</span>&nbsp;<span class="comment" id="7551750">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551770">{</span><span class="string" id="7551771">&#34;127.0.0.1&#34;</span><span class="op" id="7551782">,</span>&nbsp;<span class="string" id="7551784">&#34;&#34;</span><span class="op" id="7551786">,</span>&nbsp;<span class="string" id="7551788">&#34;127.0.0.1:&#34;</span><span class="op" id="7551800">}</span><span class="op" id="7551801">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7551823">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551844">{</span><span class="string" id="7551845">&#34;www.google.com&#34;</span><span class="op" id="7551861">,</span>&nbsp;<span class="string" id="7551863">&#34;&#34;</span><span class="op" id="7551865">,</span>&nbsp;<span class="string" id="7551867">&#34;www.google.com:&#34;</span><span class="op" id="7551884">}</span><span class="op" id="7551885">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7551897">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="7551917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7551920">var</span>&nbsp;<span class="ident" id="7551924">splitFailureTests</span>&nbsp;<span class="op" id="7551942">=</span>&nbsp;<span class="op" id="7551944">[</span><span class="op" id="7551945">]</span><span class="keyword" id="7551946">struct</span>&nbsp;<span class="op" id="7551953">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7551956">hostPort</span>&nbsp;<span class="builtintype" id="7551965">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7551973">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7551982">string</span><br>
<span class="lineno"></span><span class="op" id="7551989">}</span><span class="op" id="7551990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7551993">{</span><span class="string" id="7551994">&#34;www.google.com&#34;</span><span class="op" id="7552010">,</span>&nbsp;<span class="string" id="7552012">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552037">}</span><span class="op" id="7552038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552041">{</span><span class="string" id="7552042">&#34;127.0.0.1&#34;</span><span class="op" id="7552053">,</span>&nbsp;<span class="string" id="7552055">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552080">}</span><span class="op" id="7552081">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552084">{</span><span class="string" id="7552085">&#34;[::1]&#34;</span><span class="op" id="7552092">,</span>&nbsp;<span class="string" id="7552094">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552119">}</span><span class="op" id="7552120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552123">{</span><span class="string" id="7552124">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="7552139">,</span>&nbsp;<span class="string" id="7552141">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552166">}</span><span class="op" id="7552167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552170">{</span><span class="string" id="7552171">&#34;[localhost%lo0]&#34;</span><span class="op" id="7552188">,</span>&nbsp;<span class="string" id="7552190">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552215">}</span><span class="op" id="7552216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552219">{</span><span class="string" id="7552220">&#34;localhost%lo0&#34;</span><span class="op" id="7552235">,</span>&nbsp;<span class="string" id="7552237">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552262">}</span><span class="op" id="7552263">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552267">{</span><span class="string" id="7552268">&#34;::1&#34;</span><span class="op" id="7552273">,</span>&nbsp;<span class="string" id="7552275">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552303">}</span><span class="op" id="7552304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552307">{</span><span class="string" id="7552308">&#34;fe80::1%lo0&#34;</span><span class="op" id="7552321">,</span>&nbsp;<span class="string" id="7552323">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552351">}</span><span class="op" id="7552352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552355">{</span><span class="string" id="7552356">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="7552372">,</span>&nbsp;<span class="string" id="7552374">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552402">}</span><span class="op" id="7552403">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552407">{</span><span class="string" id="7552408">&#34;localhost%lo0:80&#34;</span><span class="op" id="7552426">,</span>&nbsp;<span class="string" id="7552428">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552457">}</span><span class="op" id="7552458">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7552462">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552505">{</span><span class="string" id="7552506">&#34;[foo:bar]&#34;</span><span class="op" id="7552517">,</span>&nbsp;<span class="string" id="7552519">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552544">}</span><span class="op" id="7552545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552548">{</span><span class="string" id="7552549">&#34;[foo:bar]baz&#34;</span><span class="op" id="7552563">,</span>&nbsp;<span class="string" id="7552565">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552590">}</span><span class="op" id="7552591">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552594">{</span><span class="string" id="7552595">&#34;[foo]bar:baz&#34;</span><span class="op" id="7552609">,</span>&nbsp;<span class="string" id="7552611">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552636">}</span><span class="op" id="7552637">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552641">{</span><span class="string" id="7552642">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="7552659">,</span>&nbsp;<span class="string" id="7552661">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552689">}</span><span class="op" id="7552690">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552694">{</span><span class="string" id="7552695">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="7552711">,</span>&nbsp;<span class="string" id="7552713">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552740">}</span><span class="op" id="7552741">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552744">{</span><span class="string" id="7552745">&#34;foo[bar]:baz&#34;</span><span class="op" id="7552759">,</span>&nbsp;<span class="string" id="7552761">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552788">}</span><span class="op" id="7552789">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7552793">{</span><span class="string" id="7552794">&#34;foo]bar:baz&#34;</span><span class="op" id="7552807">,</span>&nbsp;<span class="string" id="7552809">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7552836">}</span><span class="op" id="7552837">,</span><br>
<span class="lineno"></span><span class="op" id="7552839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="7552842">func</span>&nbsp;<span class="ident" id="7552847">TestSplitHostPort</span><span class="op" id="7552864">(</span><span class="ident" id="7552865">t</span>&nbsp;<span class="op" id="7552867">*</span><span class="ident" id="7552868">testing</span><span class="op" id="7552875">.</span><span class="ident" id="7552876">T</span><span class="op" id="7552877">)</span>&nbsp;<span class="op" id="7552879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7552882">for</span>&nbsp;<span class="ident" id="7552886">_</span><span class="op" id="7552887">,</span>&nbsp;<span class="ident" id="7552889">tt</span>&nbsp;<span class="op" id="7552892">:=</span>&nbsp;<span class="keyword" id="7552895">range</span>&nbsp;<span class="ident" id="7552901">splitJoinTests</span>&nbsp;<span class="op" id="7552916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7552920">if</span>&nbsp;<span class="ident" id="7552923">host</span><span class="op" id="7552927">,</span>&nbsp;<span class="ident" id="7552929">port</span><span class="op" id="7552933">,</span>&nbsp;<span class="ident" id="7552935">err</span>&nbsp;<span class="op" id="7552939">:=</span>&nbsp;<span class="ident" id="7552942">SplitHostPort</span><span class="op" id="7552955">(</span><span class="ident" id="7552956">tt</span><span class="op" id="7552958">.</span><span class="ident" id="7552959">join</span><span class="op" id="7552963">)</span><span class="op" id="7552964">;</span>&nbsp;<span class="ident" id="7552966">host</span>&nbsp;<span class="op" id="7552971">!=</span>&nbsp;<span class="ident" id="7552974">tt</span><span class="op" id="7552976">.</span><span class="ident" id="7552977">host</span>&nbsp;<span class="op" id="7552982">||</span>&nbsp;<span class="ident" id="7552985">port</span>&nbsp;<span class="op" id="7552990">!=</span>&nbsp;<span class="ident" id="7552993">tt</span><span class="op" id="7552995">.</span><span class="ident" id="7552996">port</span>&nbsp;<span class="op" id="7553001">||</span>&nbsp;<span class="ident" id="7553004">err</span>&nbsp;<span class="op" id="7553008">!=</span>&nbsp;<span class="ident" id="7553011">nil</span>&nbsp;<span class="op" id="7553015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7553020">t</span><span class="op" id="7553021">.</span><span class="ident" id="7553022">Errorf</span><span class="op" id="7553028">(</span><span class="string" id="7553029">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="7553079">,</span>&nbsp;<span class="ident" id="7553081">tt</span><span class="op" id="7553083">.</span><span class="ident" id="7553084">join</span><span class="op" id="7553088">,</span>&nbsp;<span class="ident" id="7553090">host</span><span class="op" id="7553094">,</span>&nbsp;<span class="ident" id="7553096">port</span><span class="op" id="7553100">,</span>&nbsp;<span class="ident" id="7553102">err</span><span class="op" id="7553105">,</span>&nbsp;<span class="ident" id="7553107">tt</span><span class="op" id="7553109">.</span><span class="ident" id="7553110">host</span><span class="op" id="7553114">,</span>&nbsp;<span class="ident" id="7553116">tt</span><span class="op" id="7553118">.</span><span class="ident" id="7553119">port</span><span class="op" id="7553123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553127">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7553133">for</span>&nbsp;<span class="ident" id="7553137">_</span><span class="op" id="7553138">,</span>&nbsp;<span class="ident" id="7553140">tt</span>&nbsp;<span class="op" id="7553143">:=</span>&nbsp;<span class="keyword" id="7553146">range</span>&nbsp;<span class="ident" id="7553152">splitFailureTests</span>&nbsp;<span class="op" id="7553170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7553174">if</span>&nbsp;<span class="ident" id="7553177">_</span><span class="op" id="7553178">,</span>&nbsp;<span class="ident" id="7553180">_</span><span class="op" id="7553181">,</span>&nbsp;<span class="ident" id="7553183">err</span>&nbsp;<span class="op" id="7553187">:=</span>&nbsp;<span class="ident" id="7553190">SplitHostPort</span><span class="op" id="7553203">(</span><span class="ident" id="7553204">tt</span><span class="op" id="7553206">.</span><span class="ident" id="7553207">hostPort</span><span class="op" id="7553215">)</span><span class="op" id="7553216">;</span>&nbsp;<span class="ident" id="7553218">err</span>&nbsp;<span class="op" id="7553222">==</span>&nbsp;<span class="ident" id="7553225">nil</span>&nbsp;<span class="op" id="7553229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7553234">t</span><span class="op" id="7553235">.</span><span class="ident" id="7553236">Errorf</span><span class="op" id="7553242">(</span><span class="string" id="7553243">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7553281">,</span>&nbsp;<span class="ident" id="7553283">tt</span><span class="op" id="7553285">.</span><span class="ident" id="7553286">hostPort</span><span class="op" id="7553294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553298">}</span>&nbsp;<span class="keyword" id="7553300">else</span>&nbsp;<span class="op" id="7553305">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7553310">e</span>&nbsp;<span class="op" id="7553312">:=</span>&nbsp;<span class="ident" id="7553315">err</span><span class="op" id="7553318">.</span><span class="op" id="7553319">(</span><span class="op" id="7553320">*</span><span class="ident" id="7553321">AddrError</span><span class="op" id="7553330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7553335">if</span>&nbsp;<span class="ident" id="7553338">e</span><span class="op" id="7553339">.</span><span class="ident" id="7553340">Err</span>&nbsp;<span class="op" id="7553344">!=</span>&nbsp;<span class="ident" id="7553347">tt</span><span class="op" id="7553349">.</span><span class="ident" id="7553350">err</span>&nbsp;<span class="op" id="7553354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7553360">t</span><span class="op" id="7553361">.</span><span class="ident" id="7553362">Errorf</span><span class="op" id="7553368">(</span><span class="string" id="7553369">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7553408">,</span>&nbsp;<span class="ident" id="7553410">tt</span><span class="op" id="7553412">.</span><span class="ident" id="7553413">hostPort</span><span class="op" id="7553421">,</span>&nbsp;<span class="ident" id="7553423">e</span><span class="op" id="7553424">.</span><span class="ident" id="7553425">Err</span><span class="op" id="7553428">,</span>&nbsp;<span class="ident" id="7553430">tt</span><span class="op" id="7553432">.</span><span class="ident" id="7553433">err</span><span class="op" id="7553436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553445">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553448">}</span><br>
<span class="lineno"></span><span class="op" id="7553450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7553453">func</span>&nbsp;<span class="ident" id="7553458">TestJoinHostPort</span><span class="op" id="7553474">(</span><span class="ident" id="7553475">t</span>&nbsp;<span class="op" id="7553477">*</span><span class="ident" id="7553478">testing</span><span class="op" id="7553485">.</span><span class="ident" id="7553486">T</span><span class="op" id="7553487">)</span>&nbsp;<span class="op" id="7553489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7553492">for</span>&nbsp;<span class="ident" id="7553496">_</span><span class="op" id="7553497">,</span>&nbsp;<span class="ident" id="7553499">tt</span>&nbsp;<span class="op" id="7553502">:=</span>&nbsp;<span class="keyword" id="7553505">range</span>&nbsp;<span class="ident" id="7553511">splitJoinTests</span>&nbsp;<span class="op" id="7553526">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7553530">if</span>&nbsp;<span class="ident" id="7553533">join</span>&nbsp;<span class="op" id="7553538">:=</span>&nbsp;<span class="ident" id="7553541">JoinHostPort</span><span class="op" id="7553553">(</span><span class="ident" id="7553554">tt</span><span class="op" id="7553556">.</span><span class="ident" id="7553557">host</span><span class="op" id="7553561">,</span>&nbsp;<span class="ident" id="7553563">tt</span><span class="op" id="7553565">.</span><span class="ident" id="7553566">port</span><span class="op" id="7553570">)</span><span class="op" id="7553571">;</span>&nbsp;<span class="ident" id="7553573">join</span>&nbsp;<span class="op" id="7553578">!=</span>&nbsp;<span class="ident" id="7553581">tt</span><span class="op" id="7553583">.</span><span class="ident" id="7553584">join</span>&nbsp;<span class="op" id="7553589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7553594">t</span><span class="op" id="7553595">.</span><span class="ident" id="7553596">Errorf</span><span class="op" id="7553602">(</span><span class="string" id="7553603">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7553639">,</span>&nbsp;<span class="ident" id="7553641">tt</span><span class="op" id="7553643">.</span><span class="ident" id="7553644">host</span><span class="op" id="7553648">,</span>&nbsp;<span class="ident" id="7553650">tt</span><span class="op" id="7553652">.</span><span class="ident" id="7553653">port</span><span class="op" id="7553657">,</span>&nbsp;<span class="ident" id="7553659">join</span><span class="op" id="7553663">,</span>&nbsp;<span class="ident" id="7553665">tt</span><span class="op" id="7553667">.</span><span class="ident" id="7553668">join</span><span class="op" id="7553672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553679">}</span><br>
<span class="lineno"></span><span class="op" id="7553681">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7553684">var</span>&nbsp;<span class="ident" id="7553688">ipAddrFamilyTests</span>&nbsp;<span class="op" id="7553706">=</span>&nbsp;<span class="op" id="7553708">[</span><span class="op" id="7553709">]</span><span class="keyword" id="7553710">struct</span>&nbsp;<span class="op" id="7553717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7553720">in</span>&nbsp;&nbsp;<span class="ident" id="7553724">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7553728">af4</span>&nbsp;<span class="builtintype" id="7553732">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7553738">af6</span>&nbsp;<span class="builtintype" id="7553742">bool</span><br>
<span class="lineno">390</span><span class="op" id="7553747">}</span><span class="op" id="7553748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553751">{</span><span class="ident" id="7553752">IPv4bcast</span><span class="op" id="7553761">,</span>&nbsp;<span class="builtintype" id="7553763">true</span><span class="op" id="7553767">,</span>&nbsp;<span class="builtintype" id="7553769">false</span><span class="op" id="7553774">}</span><span class="op" id="7553775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553778">{</span><span class="ident" id="7553779">IPv4allsys</span><span class="op" id="7553789">,</span>&nbsp;<span class="builtintype" id="7553791">true</span><span class="op" id="7553795">,</span>&nbsp;<span class="builtintype" id="7553797">false</span><span class="op" id="7553802">}</span><span class="op" id="7553803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553806">{</span><span class="ident" id="7553807">IPv4allrouter</span><span class="op" id="7553820">,</span>&nbsp;<span class="builtintype" id="7553822">true</span><span class="op" id="7553826">,</span>&nbsp;<span class="builtintype" id="7553828">false</span><span class="op" id="7553833">}</span><span class="op" id="7553834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553837">{</span><span class="ident" id="7553838">IPv4zero</span><span class="op" id="7553846">,</span>&nbsp;<span class="builtintype" id="7553848">true</span><span class="op" id="7553852">,</span>&nbsp;<span class="builtintype" id="7553854">false</span><span class="op" id="7553859">}</span><span class="op" id="7553860">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553863">{</span><span class="ident" id="7553864">IPv4</span><span class="op" id="7553868">(</span><span class="num" id="7553869">224</span><span class="op" id="7553872">,</span>&nbsp;<span class="num" id="7553874">0</span><span class="op" id="7553875">,</span>&nbsp;<span class="num" id="7553877">0</span><span class="op" id="7553878">,</span>&nbsp;<span class="num" id="7553880">1</span><span class="op" id="7553881">)</span><span class="op" id="7553882">,</span>&nbsp;<span class="builtintype" id="7553884">true</span><span class="op" id="7553888">,</span>&nbsp;<span class="builtintype" id="7553890">false</span><span class="op" id="7553895">}</span><span class="op" id="7553896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553899">{</span><span class="ident" id="7553900">IPv4</span><span class="op" id="7553904">(</span><span class="num" id="7553905">127</span><span class="op" id="7553908">,</span>&nbsp;<span class="num" id="7553910">0</span><span class="op" id="7553911">,</span>&nbsp;<span class="num" id="7553913">0</span><span class="op" id="7553914">,</span>&nbsp;<span class="num" id="7553916">1</span><span class="op" id="7553917">)</span><span class="op" id="7553918">,</span>&nbsp;<span class="builtintype" id="7553920">true</span><span class="op" id="7553924">,</span>&nbsp;<span class="builtintype" id="7553926">false</span><span class="op" id="7553931">}</span><span class="op" id="7553932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553935">{</span><span class="ident" id="7553936">IPv4</span><span class="op" id="7553940">(</span><span class="num" id="7553941">240</span><span class="op" id="7553944">,</span>&nbsp;<span class="num" id="7553946">0</span><span class="op" id="7553947">,</span>&nbsp;<span class="num" id="7553949">0</span><span class="op" id="7553950">,</span>&nbsp;<span class="num" id="7553952">1</span><span class="op" id="7553953">)</span><span class="op" id="7553954">,</span>&nbsp;<span class="builtintype" id="7553956">true</span><span class="op" id="7553960">,</span>&nbsp;<span class="builtintype" id="7553962">false</span><span class="op" id="7553967">}</span><span class="op" id="7553968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7553971">{</span><span class="ident" id="7553972">IPv6unspecified</span><span class="op" id="7553987">,</span>&nbsp;<span class="builtintype" id="7553989">false</span><span class="op" id="7553994">,</span>&nbsp;<span class="builtintype" id="7553996">true</span><span class="op" id="7554000">}</span><span class="op" id="7554001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554004">{</span><span class="ident" id="7554005">IPv6loopback</span><span class="op" id="7554017">,</span>&nbsp;<span class="builtintype" id="7554019">false</span><span class="op" id="7554024">,</span>&nbsp;<span class="builtintype" id="7554026">true</span><span class="op" id="7554030">}</span><span class="op" id="7554031">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554034">{</span><span class="ident" id="7554035">IPv6interfacelocalallnodes</span><span class="op" id="7554061">,</span>&nbsp;<span class="builtintype" id="7554063">false</span><span class="op" id="7554068">,</span>&nbsp;<span class="builtintype" id="7554070">true</span><span class="op" id="7554074">}</span><span class="op" id="7554075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554078">{</span><span class="ident" id="7554079">IPv6linklocalallnodes</span><span class="op" id="7554100">,</span>&nbsp;<span class="builtintype" id="7554102">false</span><span class="op" id="7554107">,</span>&nbsp;<span class="builtintype" id="7554109">true</span><span class="op" id="7554113">}</span><span class="op" id="7554114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554117">{</span><span class="ident" id="7554118">IPv6linklocalallrouters</span><span class="op" id="7554141">,</span>&nbsp;<span class="builtintype" id="7554143">false</span><span class="op" id="7554148">,</span>&nbsp;<span class="builtintype" id="7554150">true</span><span class="op" id="7554154">}</span><span class="op" id="7554155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554158">{</span><span class="ident" id="7554159">ParseIP</span><span class="op" id="7554166">(</span><span class="string" id="7554167">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="7554182">)</span><span class="op" id="7554183">,</span>&nbsp;<span class="builtintype" id="7554185">false</span><span class="op" id="7554190">,</span>&nbsp;<span class="builtintype" id="7554192">true</span><span class="op" id="7554196">}</span><span class="op" id="7554197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554200">{</span><span class="ident" id="7554201">ParseIP</span><span class="op" id="7554208">(</span><span class="string" id="7554209">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="7554224">)</span><span class="op" id="7554225">,</span>&nbsp;<span class="builtintype" id="7554227">false</span><span class="op" id="7554232">,</span>&nbsp;<span class="builtintype" id="7554234">true</span><span class="op" id="7554238">}</span><span class="op" id="7554239">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554242">{</span><span class="ident" id="7554243">ParseIP</span><span class="op" id="7554250">(</span><span class="string" id="7554251">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="7554271">)</span><span class="op" id="7554272">,</span>&nbsp;<span class="builtintype" id="7554274">false</span><span class="op" id="7554279">,</span>&nbsp;<span class="builtintype" id="7554281">true</span><span class="op" id="7554285">}</span><span class="op" id="7554286">,</span><br>
<span class="lineno"></span><span class="op" id="7554288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7554291">func</span>&nbsp;<span class="ident" id="7554296">TestIPAddrFamily</span><span class="op" id="7554312">(</span><span class="ident" id="7554313">t</span>&nbsp;<span class="op" id="7554315">*</span><span class="ident" id="7554316">testing</span><span class="op" id="7554323">.</span><span class="ident" id="7554324">T</span><span class="op" id="7554325">)</span>&nbsp;<span class="op" id="7554327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7554330">for</span>&nbsp;<span class="ident" id="7554334">_</span><span class="op" id="7554335">,</span>&nbsp;<span class="ident" id="7554337">tt</span>&nbsp;<span class="op" id="7554340">:=</span>&nbsp;<span class="keyword" id="7554343">range</span>&nbsp;<span class="ident" id="7554349">ipAddrFamilyTests</span>&nbsp;<span class="op" id="7554367">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7554371">if</span>&nbsp;<span class="ident" id="7554374">af</span>&nbsp;<span class="op" id="7554377">:=</span>&nbsp;<span class="ident" id="7554380">tt</span><span class="op" id="7554382">.</span><span class="ident" id="7554383">in</span><span class="op" id="7554385">.</span><span class="ident" id="7554386">To4</span><span class="op" id="7554389">(</span><span class="op" id="7554390">)</span>&nbsp;<span class="op" id="7554392">!=</span>&nbsp;<span class="ident" id="7554395">nil</span><span class="op" id="7554398">;</span>&nbsp;<span class="ident" id="7554400">af</span>&nbsp;<span class="op" id="7554403">!=</span>&nbsp;<span class="ident" id="7554406">tt</span><span class="op" id="7554408">.</span><span class="ident" id="7554409">af4</span>&nbsp;<span class="op" id="7554413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7554418">t</span><span class="op" id="7554419">.</span><span class="ident" id="7554420">Errorf</span><span class="op" id="7554426">(</span><span class="string" id="7554427">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7554479">,</span>&nbsp;<span class="ident" id="7554481">tt</span><span class="op" id="7554483">.</span><span class="ident" id="7554484">in</span><span class="op" id="7554486">,</span>&nbsp;<span class="ident" id="7554488">af</span><span class="op" id="7554490">,</span>&nbsp;<span class="ident" id="7554492">tt</span><span class="op" id="7554494">.</span><span class="ident" id="7554495">af4</span><span class="op" id="7554498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7554506">if</span>&nbsp;<span class="ident" id="7554509">af</span>&nbsp;<span class="op" id="7554512">:=</span>&nbsp;<span class="builtinfunc" id="7554515">len</span><span class="op" id="7554518">(</span><span class="ident" id="7554519">tt</span><span class="op" id="7554521">.</span><span class="ident" id="7554522">in</span><span class="op" id="7554524">)</span>&nbsp;<span class="op" id="7554526">==</span>&nbsp;<span class="ident" id="7554529">IPv6len</span>&nbsp;<span class="op" id="7554537">&amp;&amp;</span>&nbsp;<span class="ident" id="7554540">tt</span><span class="op" id="7554542">.</span><span class="ident" id="7554543">in</span><span class="op" id="7554545">.</span><span class="ident" id="7554546">To4</span><span class="op" id="7554549">(</span><span class="op" id="7554550">)</span>&nbsp;<span class="op" id="7554552">==</span>&nbsp;<span class="ident" id="7554555">nil</span><span class="op" id="7554558">;</span>&nbsp;<span class="ident" id="7554560">af</span>&nbsp;<span class="op" id="7554563">!=</span>&nbsp;<span class="ident" id="7554566">tt</span><span class="op" id="7554568">.</span><span class="ident" id="7554569">af6</span>&nbsp;<span class="op" id="7554573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7554578">t</span><span class="op" id="7554579">.</span><span class="ident" id="7554580">Errorf</span><span class="op" id="7554586">(</span><span class="string" id="7554587">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7554639">,</span>&nbsp;<span class="ident" id="7554641">tt</span><span class="op" id="7554643">.</span><span class="ident" id="7554644">in</span><span class="op" id="7554646">,</span>&nbsp;<span class="ident" id="7554648">af</span><span class="op" id="7554650">,</span>&nbsp;<span class="ident" id="7554652">tt</span><span class="op" id="7554654">.</span><span class="ident" id="7554655">af6</span><span class="op" id="7554658">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554665">}</span><br>
<span class="lineno"></span><span class="op" id="7554667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7554670">var</span>&nbsp;<span class="ident" id="7554674">ipAddrScopeTests</span>&nbsp;<span class="op" id="7554691">=</span>&nbsp;<span class="op" id="7554693">[</span><span class="op" id="7554694">]</span><span class="keyword" id="7554695">struct</span>&nbsp;<span class="op" id="7554702">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7554705">scope</span>&nbsp;<span class="keyword" id="7554711">func</span><span class="op" id="7554715">(</span><span class="ident" id="7554716">IP</span><span class="op" id="7554718">)</span>&nbsp;<span class="builtintype" id="7554720">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7554726">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7554732">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7554736">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7554742">bool</span><br>
<span class="lineno"></span><span class="op" id="7554747">}</span><span class="op" id="7554748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554751">{</span><span class="ident" id="7554752">IP</span><span class="op" id="7554754">.</span><span class="ident" id="7554755">IsUnspecified</span><span class="op" id="7554768">,</span>&nbsp;<span class="ident" id="7554770">IPv4zero</span><span class="op" id="7554778">,</span>&nbsp;<span class="builtintype" id="7554780">true</span><span class="op" id="7554784">}</span><span class="op" id="7554785">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554788">{</span><span class="ident" id="7554789">IP</span><span class="op" id="7554791">.</span><span class="ident" id="7554792">IsUnspecified</span><span class="op" id="7554805">,</span>&nbsp;<span class="ident" id="7554807">IPv4</span><span class="op" id="7554811">(</span><span class="num" id="7554812">127</span><span class="op" id="7554815">,</span>&nbsp;<span class="num" id="7554817">0</span><span class="op" id="7554818">,</span>&nbsp;<span class="num" id="7554820">0</span><span class="op" id="7554821">,</span>&nbsp;<span class="num" id="7554823">1</span><span class="op" id="7554824">)</span><span class="op" id="7554825">,</span>&nbsp;<span class="builtintype" id="7554827">false</span><span class="op" id="7554832">}</span><span class="op" id="7554833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554836">{</span><span class="ident" id="7554837">IP</span><span class="op" id="7554839">.</span><span class="ident" id="7554840">IsUnspecified</span><span class="op" id="7554853">,</span>&nbsp;<span class="ident" id="7554855">IPv6unspecified</span><span class="op" id="7554870">,</span>&nbsp;<span class="builtintype" id="7554872">true</span><span class="op" id="7554876">}</span><span class="op" id="7554877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554880">{</span><span class="ident" id="7554881">IP</span><span class="op" id="7554883">.</span><span class="ident" id="7554884">IsUnspecified</span><span class="op" id="7554897">,</span>&nbsp;<span class="ident" id="7554899">IPv6interfacelocalallnodes</span><span class="op" id="7554925">,</span>&nbsp;<span class="builtintype" id="7554927">false</span><span class="op" id="7554932">}</span><span class="op" id="7554933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554936">{</span><span class="ident" id="7554937">IP</span><span class="op" id="7554939">.</span><span class="ident" id="7554940">IsLoopback</span><span class="op" id="7554950">,</span>&nbsp;<span class="ident" id="7554952">IPv4</span><span class="op" id="7554956">(</span><span class="num" id="7554957">127</span><span class="op" id="7554960">,</span>&nbsp;<span class="num" id="7554962">0</span><span class="op" id="7554963">,</span>&nbsp;<span class="num" id="7554965">0</span><span class="op" id="7554966">,</span>&nbsp;<span class="num" id="7554968">1</span><span class="op" id="7554969">)</span><span class="op" id="7554970">,</span>&nbsp;<span class="builtintype" id="7554972">true</span><span class="op" id="7554976">}</span><span class="op" id="7554977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7554980">{</span><span class="ident" id="7554981">IP</span><span class="op" id="7554983">.</span><span class="ident" id="7554984">IsLoopback</span><span class="op" id="7554994">,</span>&nbsp;<span class="ident" id="7554996">IPv4</span><span class="op" id="7555000">(</span><span class="num" id="7555001">127</span><span class="op" id="7555004">,</span>&nbsp;<span class="num" id="7555006">255</span><span class="op" id="7555009">,</span>&nbsp;<span class="num" id="7555011">255</span><span class="op" id="7555014">,</span>&nbsp;<span class="num" id="7555016">254</span><span class="op" id="7555019">)</span><span class="op" id="7555020">,</span>&nbsp;<span class="builtintype" id="7555022">true</span><span class="op" id="7555026">}</span><span class="op" id="7555027">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555030">{</span><span class="ident" id="7555031">IP</span><span class="op" id="7555033">.</span><span class="ident" id="7555034">IsLoopback</span><span class="op" id="7555044">,</span>&nbsp;<span class="ident" id="7555046">IPv4</span><span class="op" id="7555050">(</span><span class="num" id="7555051">128</span><span class="op" id="7555054">,</span>&nbsp;<span class="num" id="7555056">1</span><span class="op" id="7555057">,</span>&nbsp;<span class="num" id="7555059">2</span><span class="op" id="7555060">,</span>&nbsp;<span class="num" id="7555062">3</span><span class="op" id="7555063">)</span><span class="op" id="7555064">,</span>&nbsp;<span class="builtintype" id="7555066">false</span><span class="op" id="7555071">}</span><span class="op" id="7555072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555075">{</span><span class="ident" id="7555076">IP</span><span class="op" id="7555078">.</span><span class="ident" id="7555079">IsLoopback</span><span class="op" id="7555089">,</span>&nbsp;<span class="ident" id="7555091">IPv6loopback</span><span class="op" id="7555103">,</span>&nbsp;<span class="builtintype" id="7555105">true</span><span class="op" id="7555109">}</span><span class="op" id="7555110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555113">{</span><span class="ident" id="7555114">IP</span><span class="op" id="7555116">.</span><span class="ident" id="7555117">IsLoopback</span><span class="op" id="7555127">,</span>&nbsp;<span class="ident" id="7555129">IPv6linklocalallrouters</span><span class="op" id="7555152">,</span>&nbsp;<span class="builtintype" id="7555154">false</span><span class="op" id="7555159">}</span><span class="op" id="7555160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555163">{</span><span class="ident" id="7555164">IP</span><span class="op" id="7555166">.</span><span class="ident" id="7555167">IsMulticast</span><span class="op" id="7555178">,</span>&nbsp;<span class="ident" id="7555180">IPv4</span><span class="op" id="7555184">(</span><span class="num" id="7555185">224</span><span class="op" id="7555188">,</span>&nbsp;<span class="num" id="7555190">0</span><span class="op" id="7555191">,</span>&nbsp;<span class="num" id="7555193">0</span><span class="op" id="7555194">,</span>&nbsp;<span class="num" id="7555196">0</span><span class="op" id="7555197">)</span><span class="op" id="7555198">,</span>&nbsp;<span class="builtintype" id="7555200">true</span><span class="op" id="7555204">}</span><span class="op" id="7555205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555208">{</span><span class="ident" id="7555209">IP</span><span class="op" id="7555211">.</span><span class="ident" id="7555212">IsMulticast</span><span class="op" id="7555223">,</span>&nbsp;<span class="ident" id="7555225">IPv4</span><span class="op" id="7555229">(</span><span class="num" id="7555230">239</span><span class="op" id="7555233">,</span>&nbsp;<span class="num" id="7555235">0</span><span class="op" id="7555236">,</span>&nbsp;<span class="num" id="7555238">0</span><span class="op" id="7555239">,</span>&nbsp;<span class="num" id="7555241">0</span><span class="op" id="7555242">)</span><span class="op" id="7555243">,</span>&nbsp;<span class="builtintype" id="7555245">true</span><span class="op" id="7555249">}</span><span class="op" id="7555250">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555253">{</span><span class="ident" id="7555254">IP</span><span class="op" id="7555256">.</span><span class="ident" id="7555257">IsMulticast</span><span class="op" id="7555268">,</span>&nbsp;<span class="ident" id="7555270">IPv4</span><span class="op" id="7555274">(</span><span class="num" id="7555275">240</span><span class="op" id="7555278">,</span>&nbsp;<span class="num" id="7555280">0</span><span class="op" id="7555281">,</span>&nbsp;<span class="num" id="7555283">0</span><span class="op" id="7555284">,</span>&nbsp;<span class="num" id="7555286">0</span><span class="op" id="7555287">)</span><span class="op" id="7555288">,</span>&nbsp;<span class="builtintype" id="7555290">false</span><span class="op" id="7555295">}</span><span class="op" id="7555296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555299">{</span><span class="ident" id="7555300">IP</span><span class="op" id="7555302">.</span><span class="ident" id="7555303">IsMulticast</span><span class="op" id="7555314">,</span>&nbsp;<span class="ident" id="7555316">IPv6linklocalallnodes</span><span class="op" id="7555337">,</span>&nbsp;<span class="builtintype" id="7555339">true</span><span class="op" id="7555343">}</span><span class="op" id="7555344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555347">{</span><span class="ident" id="7555348">IP</span><span class="op" id="7555350">.</span><span class="ident" id="7555351">IsMulticast</span><span class="op" id="7555362">,</span>&nbsp;<span class="ident" id="7555364">IP</span><span class="op" id="7555366">{</span><span class="num" id="7555367">0xff</span><span class="op" id="7555371">,</span>&nbsp;<span class="num" id="7555373">0x05</span><span class="op" id="7555377">,</span>&nbsp;<span class="num" id="7555379">0</span><span class="op" id="7555380">,</span>&nbsp;<span class="num" id="7555382">0</span><span class="op" id="7555383">,</span>&nbsp;<span class="num" id="7555385">0</span><span class="op" id="7555386">,</span>&nbsp;<span class="num" id="7555388">0</span><span class="op" id="7555389">,</span>&nbsp;<span class="num" id="7555391">0</span><span class="op" id="7555392">,</span>&nbsp;<span class="num" id="7555394">0</span><span class="op" id="7555395">,</span>&nbsp;<span class="num" id="7555397">0</span><span class="op" id="7555398">,</span>&nbsp;<span class="num" id="7555400">0</span><span class="op" id="7555401">,</span>&nbsp;<span class="num" id="7555403">0</span><span class="op" id="7555404">,</span>&nbsp;<span class="num" id="7555406">0</span><span class="op" id="7555407">,</span>&nbsp;<span class="num" id="7555409">0</span><span class="op" id="7555410">,</span>&nbsp;<span class="num" id="7555412">0</span><span class="op" id="7555413">,</span>&nbsp;<span class="num" id="7555415">0</span><span class="op" id="7555416">,</span>&nbsp;<span class="num" id="7555418">0</span><span class="op" id="7555419">}</span><span class="op" id="7555420">,</span>&nbsp;<span class="builtintype" id="7555422">true</span><span class="op" id="7555426">}</span><span class="op" id="7555427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555430">{</span><span class="ident" id="7555431">IP</span><span class="op" id="7555433">.</span><span class="ident" id="7555434">IsMulticast</span><span class="op" id="7555445">,</span>&nbsp;<span class="ident" id="7555447">IP</span><span class="op" id="7555449">{</span><span class="num" id="7555450">0xfe</span><span class="op" id="7555454">,</span>&nbsp;<span class="num" id="7555456">0x80</span><span class="op" id="7555460">,</span>&nbsp;<span class="num" id="7555462">0</span><span class="op" id="7555463">,</span>&nbsp;<span class="num" id="7555465">0</span><span class="op" id="7555466">,</span>&nbsp;<span class="num" id="7555468">0</span><span class="op" id="7555469">,</span>&nbsp;<span class="num" id="7555471">0</span><span class="op" id="7555472">,</span>&nbsp;<span class="num" id="7555474">0</span><span class="op" id="7555475">,</span>&nbsp;<span class="num" id="7555477">0</span><span class="op" id="7555478">,</span>&nbsp;<span class="num" id="7555480">0</span><span class="op" id="7555481">,</span>&nbsp;<span class="num" id="7555483">0</span><span class="op" id="7555484">,</span>&nbsp;<span class="num" id="7555486">0</span><span class="op" id="7555487">,</span>&nbsp;<span class="num" id="7555489">0</span><span class="op" id="7555490">,</span>&nbsp;<span class="num" id="7555492">0</span><span class="op" id="7555493">,</span>&nbsp;<span class="num" id="7555495">0</span><span class="op" id="7555496">,</span>&nbsp;<span class="num" id="7555498">0</span><span class="op" id="7555499">,</span>&nbsp;<span class="num" id="7555501">0</span><span class="op" id="7555502">}</span><span class="op" id="7555503">,</span>&nbsp;<span class="builtintype" id="7555505">false</span><span class="op" id="7555510">}</span><span class="op" id="7555511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555514">{</span><span class="ident" id="7555515">IP</span><span class="op" id="7555517">.</span><span class="ident" id="7555518">IsLinkLocalMulticast</span><span class="op" id="7555538">,</span>&nbsp;<span class="ident" id="7555540">IPv4</span><span class="op" id="7555544">(</span><span class="num" id="7555545">224</span><span class="op" id="7555548">,</span>&nbsp;<span class="num" id="7555550">0</span><span class="op" id="7555551">,</span>&nbsp;<span class="num" id="7555553">0</span><span class="op" id="7555554">,</span>&nbsp;<span class="num" id="7555556">0</span><span class="op" id="7555557">)</span><span class="op" id="7555558">,</span>&nbsp;<span class="builtintype" id="7555560">true</span><span class="op" id="7555564">}</span><span class="op" id="7555565">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555568">{</span><span class="ident" id="7555569">IP</span><span class="op" id="7555571">.</span><span class="ident" id="7555572">IsLinkLocalMulticast</span><span class="op" id="7555592">,</span>&nbsp;<span class="ident" id="7555594">IPv4</span><span class="op" id="7555598">(</span><span class="num" id="7555599">239</span><span class="op" id="7555602">,</span>&nbsp;<span class="num" id="7555604">0</span><span class="op" id="7555605">,</span>&nbsp;<span class="num" id="7555607">0</span><span class="op" id="7555608">,</span>&nbsp;<span class="num" id="7555610">0</span><span class="op" id="7555611">)</span><span class="op" id="7555612">,</span>&nbsp;<span class="builtintype" id="7555614">false</span><span class="op" id="7555619">}</span><span class="op" id="7555620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555623">{</span><span class="ident" id="7555624">IP</span><span class="op" id="7555626">.</span><span class="ident" id="7555627">IsLinkLocalMulticast</span><span class="op" id="7555647">,</span>&nbsp;<span class="ident" id="7555649">IPv6linklocalallrouters</span><span class="op" id="7555672">,</span>&nbsp;<span class="builtintype" id="7555674">true</span><span class="op" id="7555678">}</span><span class="op" id="7555679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555682">{</span><span class="ident" id="7555683">IP</span><span class="op" id="7555685">.</span><span class="ident" id="7555686">IsLinkLocalMulticast</span><span class="op" id="7555706">,</span>&nbsp;<span class="ident" id="7555708">IP</span><span class="op" id="7555710">{</span><span class="num" id="7555711">0xff</span><span class="op" id="7555715">,</span>&nbsp;<span class="num" id="7555717">0x05</span><span class="op" id="7555721">,</span>&nbsp;<span class="num" id="7555723">0</span><span class="op" id="7555724">,</span>&nbsp;<span class="num" id="7555726">0</span><span class="op" id="7555727">,</span>&nbsp;<span class="num" id="7555729">0</span><span class="op" id="7555730">,</span>&nbsp;<span class="num" id="7555732">0</span><span class="op" id="7555733">,</span>&nbsp;<span class="num" id="7555735">0</span><span class="op" id="7555736">,</span>&nbsp;<span class="num" id="7555738">0</span><span class="op" id="7555739">,</span>&nbsp;<span class="num" id="7555741">0</span><span class="op" id="7555742">,</span>&nbsp;<span class="num" id="7555744">0</span><span class="op" id="7555745">,</span>&nbsp;<span class="num" id="7555747">0</span><span class="op" id="7555748">,</span>&nbsp;<span class="num" id="7555750">0</span><span class="op" id="7555751">,</span>&nbsp;<span class="num" id="7555753">0</span><span class="op" id="7555754">,</span>&nbsp;<span class="num" id="7555756">0</span><span class="op" id="7555757">,</span>&nbsp;<span class="num" id="7555759">0</span><span class="op" id="7555760">,</span>&nbsp;<span class="num" id="7555762">0</span><span class="op" id="7555763">}</span><span class="op" id="7555764">,</span>&nbsp;<span class="builtintype" id="7555766">false</span><span class="op" id="7555771">}</span><span class="op" id="7555772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555775">{</span><span class="ident" id="7555776">IP</span><span class="op" id="7555778">.</span><span class="ident" id="7555779">IsLinkLocalUnicast</span><span class="op" id="7555797">,</span>&nbsp;<span class="ident" id="7555799">IPv4</span><span class="op" id="7555803">(</span><span class="num" id="7555804">169</span><span class="op" id="7555807">,</span>&nbsp;<span class="num" id="7555809">254</span><span class="op" id="7555812">,</span>&nbsp;<span class="num" id="7555814">0</span><span class="op" id="7555815">,</span>&nbsp;<span class="num" id="7555817">0</span><span class="op" id="7555818">)</span><span class="op" id="7555819">,</span>&nbsp;<span class="builtintype" id="7555821">true</span><span class="op" id="7555825">}</span><span class="op" id="7555826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555829">{</span><span class="ident" id="7555830">IP</span><span class="op" id="7555832">.</span><span class="ident" id="7555833">IsLinkLocalUnicast</span><span class="op" id="7555851">,</span>&nbsp;<span class="ident" id="7555853">IPv4</span><span class="op" id="7555857">(</span><span class="num" id="7555858">169</span><span class="op" id="7555861">,</span>&nbsp;<span class="num" id="7555863">255</span><span class="op" id="7555866">,</span>&nbsp;<span class="num" id="7555868">0</span><span class="op" id="7555869">,</span>&nbsp;<span class="num" id="7555871">0</span><span class="op" id="7555872">)</span><span class="op" id="7555873">,</span>&nbsp;<span class="builtintype" id="7555875">false</span><span class="op" id="7555880">}</span><span class="op" id="7555881">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555884">{</span><span class="ident" id="7555885">IP</span><span class="op" id="7555887">.</span><span class="ident" id="7555888">IsLinkLocalUnicast</span><span class="op" id="7555906">,</span>&nbsp;<span class="ident" id="7555908">IP</span><span class="op" id="7555910">{</span><span class="num" id="7555911">0xfe</span><span class="op" id="7555915">,</span>&nbsp;<span class="num" id="7555917">0x80</span><span class="op" id="7555921">,</span>&nbsp;<span class="num" id="7555923">0</span><span class="op" id="7555924">,</span>&nbsp;<span class="num" id="7555926">0</span><span class="op" id="7555927">,</span>&nbsp;<span class="num" id="7555929">0</span><span class="op" id="7555930">,</span>&nbsp;<span class="num" id="7555932">0</span><span class="op" id="7555933">,</span>&nbsp;<span class="num" id="7555935">0</span><span class="op" id="7555936">,</span>&nbsp;<span class="num" id="7555938">0</span><span class="op" id="7555939">,</span>&nbsp;<span class="num" id="7555941">0</span><span class="op" id="7555942">,</span>&nbsp;<span class="num" id="7555944">0</span><span class="op" id="7555945">,</span>&nbsp;<span class="num" id="7555947">0</span><span class="op" id="7555948">,</span>&nbsp;<span class="num" id="7555950">0</span><span class="op" id="7555951">,</span>&nbsp;<span class="num" id="7555953">0</span><span class="op" id="7555954">,</span>&nbsp;<span class="num" id="7555956">0</span><span class="op" id="7555957">,</span>&nbsp;<span class="num" id="7555959">0</span><span class="op" id="7555960">,</span>&nbsp;<span class="num" id="7555962">0</span><span class="op" id="7555963">}</span><span class="op" id="7555964">,</span>&nbsp;<span class="builtintype" id="7555966">true</span><span class="op" id="7555970">}</span><span class="op" id="7555971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7555974">{</span><span class="ident" id="7555975">IP</span><span class="op" id="7555977">.</span><span class="ident" id="7555978">IsLinkLocalUnicast</span><span class="op" id="7555996">,</span>&nbsp;<span class="ident" id="7555998">IP</span><span class="op" id="7556000">{</span><span class="num" id="7556001">0xfe</span><span class="op" id="7556005">,</span>&nbsp;<span class="num" id="7556007">0xc0</span><span class="op" id="7556011">,</span>&nbsp;<span class="num" id="7556013">0</span><span class="op" id="7556014">,</span>&nbsp;<span class="num" id="7556016">0</span><span class="op" id="7556017">,</span>&nbsp;<span class="num" id="7556019">0</span><span class="op" id="7556020">,</span>&nbsp;<span class="num" id="7556022">0</span><span class="op" id="7556023">,</span>&nbsp;<span class="num" id="7556025">0</span><span class="op" id="7556026">,</span>&nbsp;<span class="num" id="7556028">0</span><span class="op" id="7556029">,</span>&nbsp;<span class="num" id="7556031">0</span><span class="op" id="7556032">,</span>&nbsp;<span class="num" id="7556034">0</span><span class="op" id="7556035">,</span>&nbsp;<span class="num" id="7556037">0</span><span class="op" id="7556038">,</span>&nbsp;<span class="num" id="7556040">0</span><span class="op" id="7556041">,</span>&nbsp;<span class="num" id="7556043">0</span><span class="op" id="7556044">,</span>&nbsp;<span class="num" id="7556046">0</span><span class="op" id="7556047">,</span>&nbsp;<span class="num" id="7556049">0</span><span class="op" id="7556050">,</span>&nbsp;<span class="num" id="7556052">0</span><span class="op" id="7556053">}</span><span class="op" id="7556054">,</span>&nbsp;<span class="builtintype" id="7556056">false</span><span class="op" id="7556061">}</span><span class="op" id="7556062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7556065">{</span><span class="ident" id="7556066">IP</span><span class="op" id="7556068">.</span><span class="ident" id="7556069">IsGlobalUnicast</span><span class="op" id="7556084">,</span>&nbsp;<span class="ident" id="7556086">IPv4</span><span class="op" id="7556090">(</span><span class="num" id="7556091">240</span><span class="op" id="7556094">,</span>&nbsp;<span class="num" id="7556096">0</span><span class="op" id="7556097">,</span>&nbsp;<span class="num" id="7556099">0</span><span class="op" id="7556100">,</span>&nbsp;<span class="num" id="7556102">0</span><span class="op" id="7556103">)</span><span class="op" id="7556104">,</span>&nbsp;<span class="builtintype" id="7556106">true</span><span class="op" id="7556110">}</span><span class="op" id="7556111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7556114">{</span><span class="ident" id="7556115">IP</span><span class="op" id="7556117">.</span><span class="ident" id="7556118">IsGlobalUnicast</span><span class="op" id="7556133">,</span>&nbsp;<span class="ident" id="7556135">IPv4</span><span class="op" id="7556139">(</span><span class="num" id="7556140">232</span><span class="op" id="7556143">,</span>&nbsp;<span class="num" id="7556145">0</span><span class="op" id="7556146">,</span>&nbsp;<span class="num" id="7556148">0</span><span class="op" id="7556149">,</span>&nbsp;<span class="num" id="7556151">0</span><span class="op" id="7556152">)</span><span class="op" id="7556153">,</span>&nbsp;<span class="builtintype" id="7556155">false</span><span class="op" id="7556160">}</span><span class="op" id="7556161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7556164">{</span><span class="ident" id="7556165">IP</span><span class="op" id="7556167">.</span><span class="ident" id="7556168">IsGlobalUnicast</span><span class="op" id="7556183">,</span>&nbsp;<span class="ident" id="7556185">IPv4</span><span class="op" id="7556189">(</span><span class="num" id="7556190">169</span><span class="op" id="7556193">,</span>&nbsp;<span class="num" id="7556195">254</span><span class="op" id="7556198">,</span>&nbsp;<span class="num" id="7556200">0</span><span class="op" id="7556201">,</span>&nbsp;<span class="num" id="7556203">0</span><span class="op" id="7556204">)</span><span class="op" id="7556205">,</span>&nbsp;<span class="builtintype" id="7556207">false</span><span class="op" id="7556212">}</span><span class="op" id="7556213">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7556216">{</span><span class="ident" id="7556217">IP</span><span class="op" id="7556219">.</span><span class="ident" id="7556220">IsGlobalUnicast</span><span class="op" id="7556235">,</span>&nbsp;<span class="ident" id="7556237">IP</span><span class="op" id="7556239">{</span><span class="num" id="7556240">0x20</span><span class="op" id="7556244">,</span>&nbsp;<span class="num" id="7556246">0x1</span><span class="op" id="7556249">,</span>&nbsp;<span class="num" id="7556251">0xd</span><span class="op" id="7556254">,</span>&nbsp;<span class="num" id="7556256">0xb8</span><span class="op" id="7556260">,</span>&nbsp;<span class="num" id="7556262">0</span><span class="op" id="7556263">,</span>&nbsp;<span class="num" id="7556265">0</span><span class="op" id="7556266">,</span>&nbsp;<span class="num" id="7556268">0</span><span class="op" id="7556269">,</span>&nbsp;<span class="num" id="7556271">0</span><span class="op" id="7556272">,</span>&nbsp;<span class="num" id="7556274">0</span><span class="op" id="7556275">,</span>&nbsp;<span class="num" id="7556277">0</span><span class="op" id="7556278">,</span>&nbsp;<span class="num" id="7556280">0x1</span><span class="op" id="7556283">,</span>&nbsp;<span class="num" id="7556285">0x23</span><span class="op" id="7556289">,</span>&nbsp;<span class="num" id="7556291">0</span><span class="op" id="7556292">,</span>&nbsp;<span class="num" id="7556294">0x12</span><span class="op" id="7556298">,</span>&nbsp;<span class="num" id="7556300">0</span><span class="op" id="7556301">,</span>&nbsp;<span class="num" id="7556303">0x1</span><span class="op" id="7556306">}</span><span class="op" id="7556307">,</span>&nbsp;<span class="builtintype" id="7556309">true</span><span class="op" id="7556313">}</span><span class="op" id="7556314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7556317">{</span><span class="ident" id="7556318">IP</span><span class="op" id="7556320">.</span><span class="ident" id="7556321">IsGlobalUnicast</span><span class="op" id="7556336">,</span>&nbsp;<span class="ident" id="7556338">IP</span><span class="op" id="7556340">{</span><span class="num" id="7556341">0xfe</span><span class="op" id="7556345">,</span>&nbsp;<span class="num" id="7556347">0x80</span><span class="op" id="7556351">,</span>&nbsp;<span class="num" id="7556353">0</span><span class="op" id="7556354">,</span>&nbsp;<span class="num" id="7556356">0</span><span class="op" id="7556357">,</span>&nbsp;<span class="num" id="7556359">0</span><span class="op" id="7556360">,</span>&nbsp;<span class="num" id="7556362">0</span><span class="op" id="7556363">,</span>&nbsp;<span class="num" id="7556365">0</span><span class="op" id="7556366">,</span>&nbsp;<span class="num" id="7556368">0</span><span class="op" id="7556369">,</span>&nbsp;<span class="num" id="7556371">0</span><span class="op" id="7556372">,</span>&nbsp;<span class="num" id="7556374">0</span><span class="op" id="7556375">,</span>&nbsp;<span class="num" id="7556377">0</span><span class="op" id="7556378">,</span>&nbsp;<span class="num" id="7556380">0</span><span class="op" id="7556381">,</span>&nbsp;<span class="num" id="7556383">0</span><span class="op" id="7556384">,</span>&nbsp;<span class="num" id="7556386">0</span><span class="op" id="7556387">,</span>&nbsp;<span class="num" id="7556389">0</span><span class="op" id="7556390">,</span>&nbsp;<span class="num" id="7556392">0</span><span class="op" id="7556393">}</span><span class="op" id="7556394">,</span>&nbsp;<span class="builtintype" id="7556396">false</span><span class="op" id="7556401">}</span><span class="op" id="7556402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7556405">{</span><span class="ident" id="7556406">IP</span><span class="op" id="7556408">.</span><span class="ident" id="7556409">IsGlobalUnicast</span><span class="op" id="7556424">,</span>&nbsp;<span class="ident" id="7556426">IP</span><span class="op" id="7556428">{</span><span class="num" id="7556429">0xff</span><span class="op" id="7556433">,</span>&nbsp;<span class="num" id="7556435">0x05</span><span class="op" id="7556439">,</span>&nbsp;<span class="num" id="7556441">0</span><span class="op" id="7556442">,</span>&nbsp;<span class="num" id="7556444">0</span><span class="op" id="7556445">,</span>&nbsp;<span class="num" id="7556447">0</span><span class="op" id="7556448">,</span>&nbsp;<span class="num" id="7556450">0</span><span class="op" id="7556451">,</span>&nbsp;<span class="num" id="7556453">0</span><span class="op" id="7556454">,</span>&nbsp;<span class="num" id="7556456">0</span><span class="op" id="7556457">,</span>&nbsp;<span class="num" id="7556459">0</span><span class="op" id="7556460">,</span>&nbsp;<span class="num" id="7556462">0</span><span class="op" id="7556463">,</span>&nbsp;<span class="num" id="7556465">0</span><span class="op" id="7556466">,</span>&nbsp;<span class="num" id="7556468">0</span><span class="op" id="7556469">,</span>&nbsp;<span class="num" id="7556471">0</span><span class="op" id="7556472">,</span>&nbsp;<span class="num" id="7556474">0</span><span class="op" id="7556475">,</span>&nbsp;<span class="num" id="7556477">0</span><span class="op" id="7556478">,</span>&nbsp;<span class="num" id="7556480">0</span><span class="op" id="7556481">}</span><span class="op" id="7556482">,</span>&nbsp;<span class="builtintype" id="7556484">false</span><span class="op" id="7556489">}</span><span class="op" id="7556490">,</span><br>
<span class="lineno"></span><span class="op" id="7556492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="7556495">func</span>&nbsp;<span class="ident" id="7556500">name</span><span class="op" id="7556504">(</span><span class="ident" id="7556505">f</span>&nbsp;<span class="keyword" id="7556507">interface</span><span class="op" id="7556516">{</span><span class="op" id="7556517">}</span><span class="op" id="7556518">)</span>&nbsp;<span class="builtintype" id="7556520">string</span>&nbsp;<span class="op" id="7556527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7556530">return</span>&nbsp;<span class="ident" id="7556537">runtime</span><span class="op" id="7556544">.</span><span class="ident" id="7556545">FuncForPC</span><span class="op" id="7556554">(</span><span class="ident" id="7556555">reflect</span><span class="op" id="7556562">.</span><span class="ident" id="7556563">ValueOf</span><span class="op" id="7556570">(</span><span class="ident" id="7556571">f</span><span class="op" id="7556572">)</span><span class="op" id="7556573">.</span><span class="ident" id="7556574">Pointer</span><span class="op" id="7556581">(</span><span class="op" id="7556582">)</span><span class="op" id="7556583">)</span><span class="op" id="7556584">.</span><span class="ident" id="7556585">Name</span><span class="op" id="7556589">(</span><span class="op" id="7556590">)</span><br>
<span class="lineno"></span><span class="op" id="7556592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7556595">func</span>&nbsp;<span class="ident" id="7556600">TestIPAddrScope</span><span class="op" id="7556615">(</span><span class="ident" id="7556616">t</span>&nbsp;<span class="op" id="7556618">*</span><span class="ident" id="7556619">testing</span><span class="op" id="7556626">.</span><span class="ident" id="7556627">T</span><span class="op" id="7556628">)</span>&nbsp;<span class="op" id="7556630">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7556633">for</span>&nbsp;<span class="ident" id="7556637">_</span><span class="op" id="7556638">,</span>&nbsp;<span class="ident" id="7556640">tt</span>&nbsp;<span class="op" id="7556643">:=</span>&nbsp;<span class="keyword" id="7556646">range</span>&nbsp;<span class="ident" id="7556652">ipAddrScopeTests</span>&nbsp;<span class="op" id="7556669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7556673">if</span>&nbsp;<span class="ident" id="7556676">ok</span>&nbsp;<span class="op" id="7556679">:=</span>&nbsp;<span class="ident" id="7556682">tt</span><span class="op" id="7556684">.</span><span class="ident" id="7556685">scope</span><span class="op" id="7556690">(</span><span class="ident" id="7556691">tt</span><span class="op" id="7556693">.</span><span class="ident" id="7556694">in</span><span class="op" id="7556696">)</span><span class="op" id="7556697">;</span>&nbsp;<span class="ident" id="7556699">ok</span>&nbsp;<span class="op" id="7556702">!=</span>&nbsp;<span class="ident" id="7556705">tt</span><span class="op" id="7556707">.</span><span class="ident" id="7556708">ok</span>&nbsp;<span class="op" id="7556711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7556716">t</span><span class="op" id="7556717">.</span><span class="ident" id="7556718">Errorf</span><span class="op" id="7556724">(</span><span class="string" id="7556725">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7556747">,</span>&nbsp;<span class="ident" id="7556749">name</span><span class="op" id="7556753">(</span><span class="ident" id="7556754">tt</span><span class="op" id="7556756">.</span><span class="ident" id="7556757">scope</span><span class="op" id="7556762">)</span><span class="op" id="7556763">,</span>&nbsp;<span class="ident" id="7556765">tt</span><span class="op" id="7556767">.</span><span class="ident" id="7556768">in</span><span class="op" id="7556770">,</span>&nbsp;<span class="ident" id="7556772">ok</span><span class="op" id="7556774">,</span>&nbsp;<span class="ident" id="7556776">tt</span><span class="op" id="7556778">.</span><span class="ident" id="7556779">ok</span><span class="op" id="7556781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7556785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7556788">}</span><br>
<span class="lineno">465</span><span class="op" id="7556790">}</span>
</div>
</body>
</html>
