<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1693773">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1693828">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1693882">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1693933">package</span>&nbsp;<span class="ident" id="1693941">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1693950">import</span>&nbsp;<span class="string" id="1693957">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1693967">//&nbsp;The&nbsp;Error&nbsp;interface&nbsp;identifies&nbsp;a&nbsp;run&nbsp;time&nbsp;error.</span><br>
<span class="lineno">10</span><span class="keyword" id="1694019">type</span>&nbsp;<span class="ident" id="1694024">Error</span>&nbsp;<span class="keyword" id="1694030">interface</span>&nbsp;<span class="op" id="1694040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1694043">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1694051">//&nbsp;RuntimeError&nbsp;is&nbsp;a&nbsp;no-op&nbsp;function&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1694092">//&nbsp;serves&nbsp;to&nbsp;distinguish&nbsp;types&nbsp;that&nbsp;are&nbsp;runtime</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1694141">//&nbsp;errors&nbsp;from&nbsp;ordinary&nbsp;errors:&nbsp;a&nbsp;type&nbsp;is&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1694186">//&nbsp;runtime&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;a&nbsp;RuntimeError&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1694237">RuntimeError</span><span class="op" id="1694249">(</span><span class="op" id="1694250">)</span><br>
<span class="lineno"></span><span class="op" id="1694252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1694255">//&nbsp;A&nbsp;TypeAssertionError&nbsp;explains&nbsp;a&nbsp;failed&nbsp;type&nbsp;assertion.</span><br>
<span class="lineno"></span><span class="keyword" id="1694313">type</span>&nbsp;<span class="ident" id="1694318">TypeAssertionError</span>&nbsp;<span class="keyword" id="1694337">struct</span>&nbsp;<span class="op" id="1694344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1694347">interfaceString</span>&nbsp;<span class="builtintype" id="1694363">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1694371">concreteString</span>&nbsp;&nbsp;<span class="builtintype" id="1694387">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1694395">assertedString</span>&nbsp;&nbsp;<span class="builtintype" id="1694411">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1694419">missingMethod</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1694435">string</span>&nbsp;<span class="comment" id="1694442">//&nbsp;one&nbsp;method&nbsp;needed&nbsp;by&nbsp;Interface,&nbsp;missing&nbsp;from&nbsp;Concrete</span><br>
<span class="lineno"></span><span class="op" id="1694499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1694502">func</span>&nbsp;<span class="op" id="1694507">(</span><span class="op" id="1694508">*</span><span class="ident" id="1694509">TypeAssertionError</span><span class="op" id="1694527">)</span>&nbsp;<span class="ident" id="1694529">RuntimeError</span><span class="op" id="1694541">(</span><span class="op" id="1694542">)</span>&nbsp;<span class="op" id="1694544">{</span><span class="op" id="1694545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1694548">func</span>&nbsp;<span class="op" id="1694553">(</span><span class="ident" id="1694554">e</span>&nbsp;<span class="op" id="1694556">*</span><span class="ident" id="1694557">TypeAssertionError</span><span class="op" id="1694575">)</span>&nbsp;<span class="ident" id="1694577">Error</span><span class="op" id="1694582">(</span><span class="op" id="1694583">)</span>&nbsp;<span class="builtintype" id="1694585">string</span>&nbsp;<span class="op" id="1694592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1694595">inter</span>&nbsp;<span class="op" id="1694601">:=</span>&nbsp;<span class="ident" id="1694604">e</span><span class="op" id="1694605">.</span><span class="ident" id="1694606">interfaceString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1694623">if</span>&nbsp;<span class="ident" id="1694626">inter</span>&nbsp;<span class="op" id="1694632">==</span>&nbsp;<span class="string" id="1694635">&#34;&#34;</span>&nbsp;<span class="op" id="1694638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1694642">inter</span>&nbsp;<span class="op" id="1694648">=</span>&nbsp;<span class="string" id="1694650">&#34;interface&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1694663">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1694666">if</span>&nbsp;<span class="ident" id="1694669">e</span><span class="op" id="1694670">.</span><span class="ident" id="1694671">concreteString</span>&nbsp;<span class="op" id="1694686">==</span>&nbsp;<span class="string" id="1694689">&#34;&#34;</span>&nbsp;<span class="op" id="1694692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1694696">return</span>&nbsp;<span class="string" id="1694703">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1694728">+</span>&nbsp;<span class="ident" id="1694730">inter</span>&nbsp;<span class="op" id="1694736">+</span>&nbsp;<span class="string" id="1694738">&#34;&nbsp;is&nbsp;nil,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1694754">+</span>&nbsp;<span class="ident" id="1694756">e</span><span class="op" id="1694757">.</span><span class="ident" id="1694758">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1694774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1694777">if</span>&nbsp;<span class="ident" id="1694780">e</span><span class="op" id="1694781">.</span><span class="ident" id="1694782">missingMethod</span>&nbsp;<span class="op" id="1694796">==</span>&nbsp;<span class="string" id="1694799">&#34;&#34;</span>&nbsp;<span class="op" id="1694802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1694806">return</span>&nbsp;<span class="string" id="1694813">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1694838">+</span>&nbsp;<span class="ident" id="1694840">inter</span>&nbsp;<span class="op" id="1694846">+</span>&nbsp;<span class="string" id="1694848">&#34;&nbsp;is&nbsp;&#34;</span>&nbsp;<span class="op" id="1694855">+</span>&nbsp;<span class="ident" id="1694857">e</span><span class="op" id="1694858">.</span><span class="ident" id="1694859">concreteString</span>&nbsp;<span class="op" id="1694874">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1694879">&#34;,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1694888">+</span>&nbsp;<span class="ident" id="1694890">e</span><span class="op" id="1694891">.</span><span class="ident" id="1694892">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1694908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1694911">return</span>&nbsp;<span class="string" id="1694918">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1694943">+</span>&nbsp;<span class="ident" id="1694945">e</span><span class="op" id="1694946">.</span><span class="ident" id="1694947">concreteString</span>&nbsp;<span class="op" id="1694962">+</span>&nbsp;<span class="string" id="1694964">&#34;&nbsp;is&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1694975">+</span>&nbsp;<span class="ident" id="1694977">e</span><span class="op" id="1694978">.</span><span class="ident" id="1694979">assertedString</span>&nbsp;<span class="op" id="1694994">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1694998">&#34;:&nbsp;missing&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1695018">+</span>&nbsp;<span class="ident" id="1695020">e</span><span class="op" id="1695021">.</span><span class="ident" id="1695022">missingMethod</span><br>
<span class="lineno"></span><span class="op" id="1695036">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1695039">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="keyword" id="1695062">func</span>&nbsp;<span class="ident" id="1695067">newTypeAssertionError</span><span class="op" id="1695088">(</span><span class="ident" id="1695089">ps1</span><span class="op" id="1695092">,</span>&nbsp;<span class="ident" id="1695094">ps2</span><span class="op" id="1695097">,</span>&nbsp;<span class="ident" id="1695099">ps3</span>&nbsp;<span class="op" id="1695103">*</span><span class="builtintype" id="1695104">string</span><span class="op" id="1695110">,</span>&nbsp;<span class="ident" id="1695112">pmeth</span>&nbsp;<span class="op" id="1695118">*</span><span class="builtintype" id="1695119">string</span><span class="op" id="1695125">,</span>&nbsp;<span class="ident" id="1695127">ret</span>&nbsp;<span class="op" id="1695131">*</span><span class="keyword" id="1695132">interface</span><span class="op" id="1695141">{</span><span class="op" id="1695142">}</span><span class="op" id="1695143">)</span>&nbsp;<span class="op" id="1695145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695148">var</span>&nbsp;<span class="ident" id="1695152">s1</span><span class="op" id="1695154">,</span>&nbsp;<span class="ident" id="1695156">s2</span><span class="op" id="1695158">,</span>&nbsp;<span class="ident" id="1695160">s3</span><span class="op" id="1695162">,</span>&nbsp;<span class="ident" id="1695164">meth</span>&nbsp;<span class="builtintype" id="1695169">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695178">if</span>&nbsp;<span class="ident" id="1695181">ps1</span>&nbsp;<span class="op" id="1695185">!=</span>&nbsp;<span class="ident" id="1695188">nil</span>&nbsp;<span class="op" id="1695192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695196">s1</span>&nbsp;<span class="op" id="1695199">=</span>&nbsp;<span class="op" id="1695201">*</span><span class="ident" id="1695202">ps1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695210">if</span>&nbsp;<span class="ident" id="1695213">ps2</span>&nbsp;<span class="op" id="1695217">!=</span>&nbsp;<span class="ident" id="1695220">nil</span>&nbsp;<span class="op" id="1695224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695228">s2</span>&nbsp;<span class="op" id="1695231">=</span>&nbsp;<span class="op" id="1695233">*</span><span class="ident" id="1695234">ps2</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695242">if</span>&nbsp;<span class="ident" id="1695245">ps3</span>&nbsp;<span class="op" id="1695249">!=</span>&nbsp;<span class="ident" id="1695252">nil</span>&nbsp;<span class="op" id="1695256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695260">s3</span>&nbsp;<span class="op" id="1695263">=</span>&nbsp;<span class="op" id="1695265">*</span><span class="ident" id="1695266">ps3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695274">if</span>&nbsp;<span class="ident" id="1695277">pmeth</span>&nbsp;<span class="op" id="1695283">!=</span>&nbsp;<span class="ident" id="1695286">nil</span>&nbsp;<span class="op" id="1695290">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695294">meth</span>&nbsp;<span class="op" id="1695299">=</span>&nbsp;<span class="op" id="1695301">*</span><span class="ident" id="1695302">pmeth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1695312">*</span><span class="ident" id="1695313">ret</span>&nbsp;<span class="op" id="1695317">=</span>&nbsp;<span class="op" id="1695319">&amp;</span><span class="ident" id="1695320">TypeAssertionError</span><span class="op" id="1695338">{</span><span class="ident" id="1695339">s1</span><span class="op" id="1695341">,</span>&nbsp;<span class="ident" id="1695343">s2</span><span class="op" id="1695345">,</span>&nbsp;<span class="ident" id="1695347">s3</span><span class="op" id="1695349">,</span>&nbsp;<span class="ident" id="1695351">meth</span><span class="op" id="1695355">}</span><br>
<span class="lineno"></span><span class="op" id="1695357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="1695360">//&nbsp;An&nbsp;errorString&nbsp;represents&nbsp;a&nbsp;runtime&nbsp;error&nbsp;described&nbsp;by&nbsp;a&nbsp;single&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1695435">type</span>&nbsp;<span class="ident" id="1695440">errorString</span>&nbsp;<span class="builtintype" id="1695452">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1695460">func</span>&nbsp;<span class="op" id="1695465">(</span><span class="ident" id="1695466">e</span>&nbsp;<span class="ident" id="1695468">errorString</span><span class="op" id="1695479">)</span>&nbsp;<span class="ident" id="1695481">RuntimeError</span><span class="op" id="1695493">(</span><span class="op" id="1695494">)</span>&nbsp;<span class="op" id="1695496">{</span><span class="op" id="1695497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1695500">func</span>&nbsp;<span class="op" id="1695505">(</span><span class="ident" id="1695506">e</span>&nbsp;<span class="ident" id="1695508">errorString</span><span class="op" id="1695519">)</span>&nbsp;<span class="ident" id="1695521">Error</span><span class="op" id="1695526">(</span><span class="op" id="1695527">)</span>&nbsp;<span class="builtintype" id="1695529">string</span>&nbsp;<span class="op" id="1695536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695539">return</span>&nbsp;<span class="string" id="1695546">&#34;runtime&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="1695564">+</span>&nbsp;<span class="builtintype" id="1695566">string</span><span class="op" id="1695572">(</span><span class="ident" id="1695573">e</span><span class="op" id="1695574">)</span><br>
<span class="lineno"></span><span class="op" id="1695576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1695579">type</span>&nbsp;<span class="ident" id="1695584">stringer</span>&nbsp;<span class="keyword" id="1695593">interface</span>&nbsp;<span class="op" id="1695603">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695606">String</span><span class="op" id="1695612">(</span><span class="op" id="1695613">)</span>&nbsp;<span class="builtintype" id="1695615">string</span><br>
<span class="lineno"></span><span class="op" id="1695622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1695625">func</span>&nbsp;<span class="ident" id="1695630">typestring</span><span class="op" id="1695640">(</span><span class="ident" id="1695641">x</span>&nbsp;<span class="keyword" id="1695643">interface</span><span class="op" id="1695652">{</span><span class="op" id="1695653">}</span><span class="op" id="1695654">)</span>&nbsp;<span class="builtintype" id="1695656">string</span>&nbsp;<span class="op" id="1695663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1695666">e</span>&nbsp;<span class="op" id="1695668">:=</span>&nbsp;<span class="op" id="1695671">(</span><span class="op" id="1695672">*</span><span class="ident" id="1695673">eface</span><span class="op" id="1695678">)</span><span class="op" id="1695679">(</span><span class="ident" id="1695680">unsafe</span><span class="op" id="1695686">.</span><span class="ident" id="1695687">Pointer</span><span class="op" id="1695694">(</span><span class="op" id="1695695">&amp;</span><span class="ident" id="1695696">x</span><span class="op" id="1695697">)</span><span class="op" id="1695698">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695701">return</span>&nbsp;<span class="op" id="1695708">*</span><span class="ident" id="1695709">e</span><span class="op" id="1695710">.</span><span class="ident" id="1695711">_type</span><span class="op" id="1695716">.</span><span class="ident" id="1695717">_string</span><br>
<span class="lineno"></span><span class="op" id="1695725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1695728">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="comment" id="1695751">//&nbsp;Prints&nbsp;an&nbsp;argument&nbsp;passed&nbsp;to&nbsp;panic.</span><br>
<span class="lineno">85</span><span class="comment" id="1695790">//&nbsp;There&#39;s&nbsp;room&nbsp;for&nbsp;arbitrary&nbsp;complexity&nbsp;here,&nbsp;but&nbsp;we&nbsp;keep&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="1695852">//&nbsp;simple&nbsp;and&nbsp;handle&nbsp;just&nbsp;a&nbsp;few&nbsp;important&nbsp;cases:&nbsp;int,&nbsp;string,&nbsp;and&nbsp;Stringer.</span><br>
<span class="lineno"></span><span class="keyword" id="1695928">func</span>&nbsp;<span class="ident" id="1695933">printany</span><span class="op" id="1695941">(</span><span class="ident" id="1695942">i</span>&nbsp;<span class="keyword" id="1695944">interface</span><span class="op" id="1695953">{</span><span class="op" id="1695954">}</span><span class="op" id="1695955">)</span>&nbsp;<span class="op" id="1695957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695960">switch</span>&nbsp;<span class="ident" id="1695967">v</span>&nbsp;<span class="op" id="1695969">:=</span>&nbsp;<span class="ident" id="1695972">i</span><span class="op" id="1695973">.</span><span class="op" id="1695974">(</span><span class="keyword" id="1695975">type</span><span class="op" id="1695979">)</span>&nbsp;<span class="op" id="1695981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1695984">case</span>&nbsp;<span class="ident" id="1695989">nil</span><span class="op" id="1695992">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1695996">print</span><span class="op" id="1696001">(</span><span class="string" id="1696002">&#34;nil&#34;</span><span class="op" id="1696007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1696010">case</span>&nbsp;<span class="ident" id="1696015">stringer</span><span class="op" id="1696023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1696027">print</span><span class="op" id="1696032">(</span><span class="ident" id="1696033">v</span><span class="op" id="1696034">.</span><span class="ident" id="1696035">String</span><span class="op" id="1696041">(</span><span class="op" id="1696042">)</span><span class="op" id="1696043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1696046">case</span>&nbsp;<span class="builtintype" id="1696051">error</span><span class="op" id="1696056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1696060">print</span><span class="op" id="1696065">(</span><span class="ident" id="1696066">v</span><span class="op" id="1696067">.</span><span class="ident" id="1696068">Error</span><span class="op" id="1696073">(</span><span class="op" id="1696074">)</span><span class="op" id="1696075">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1696078">case</span>&nbsp;<span class="builtintype" id="1696083">int</span><span class="op" id="1696086">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1696090">print</span><span class="op" id="1696095">(</span><span class="ident" id="1696096">v</span><span class="op" id="1696097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1696100">case</span>&nbsp;<span class="builtintype" id="1696105">string</span><span class="op" id="1696111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1696115">print</span><span class="op" id="1696120">(</span><span class="ident" id="1696121">v</span><span class="op" id="1696122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1696125">default</span><span class="op" id="1696132">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1696136">print</span><span class="op" id="1696141">(</span><span class="string" id="1696142">&#34;(&#34;</span><span class="op" id="1696145">,</span>&nbsp;<span class="ident" id="1696147">typestring</span><span class="op" id="1696157">(</span><span class="ident" id="1696158">i</span><span class="op" id="1696159">)</span><span class="op" id="1696160">,</span>&nbsp;<span class="string" id="1696162">&#34;)&nbsp;&#34;</span><span class="op" id="1696166">,</span>&nbsp;<span class="ident" id="1696168">i</span><span class="op" id="1696169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1696172">}</span><br>
<span class="lineno"></span><span class="op" id="1696174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1696177">//&nbsp;called&nbsp;from&nbsp;generated&nbsp;code</span><br>
<span class="lineno">105</span><span class="keyword" id="1696207">func</span>&nbsp;<span class="ident" id="1696212">panicwrap</span><span class="op" id="1696221">(</span><span class="ident" id="1696222">pkg</span><span class="op" id="1696225">,</span>&nbsp;<span class="ident" id="1696227">typ</span><span class="op" id="1696230">,</span>&nbsp;<span class="ident" id="1696232">meth</span>&nbsp;<span class="builtintype" id="1696237">string</span><span class="op" id="1696243">)</span>&nbsp;<span class="op" id="1696245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1696248">panic</span><span class="op" id="1696253">(</span><span class="string" id="1696254">&#34;value&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1696270">+</span>&nbsp;<span class="ident" id="1696272">pkg</span>&nbsp;<span class="op" id="1696276">+</span>&nbsp;<span class="string" id="1696278">&#34;.&#34;</span>&nbsp;<span class="op" id="1696282">+</span>&nbsp;<span class="ident" id="1696284">typ</span>&nbsp;<span class="op" id="1696288">+</span>&nbsp;<span class="string" id="1696290">&#34;.&#34;</span>&nbsp;<span class="op" id="1696294">+</span>&nbsp;<span class="ident" id="1696296">meth</span>&nbsp;<span class="op" id="1696301">+</span>&nbsp;<span class="string" id="1696303">&#34;&nbsp;called&nbsp;using&nbsp;nil&nbsp;*&#34;</span>&nbsp;<span class="op" id="1696325">+</span>&nbsp;<span class="ident" id="1696327">typ</span>&nbsp;<span class="op" id="1696331">+</span>&nbsp;<span class="string" id="1696333">&#34;&nbsp;pointer&#34;</span><span class="op" id="1696343">)</span><br>
<span class="lineno"></span><span class="op" id="1696345">}</span>
</div>
</body>
</html>
