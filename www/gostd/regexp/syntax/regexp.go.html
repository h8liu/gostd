<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3495068">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3495124">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3495178">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3495229">package</span>&nbsp;<span class="ident" id="3495237">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3495245">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="3495270">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3495338">import</span>&nbsp;<span class="op" id="3495345">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3495348">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3495357">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3495368">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3495379">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3495389">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3495392">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="3495451">type</span>&nbsp;<span class="ident" id="3495456">Regexp</span>&nbsp;<span class="keyword" id="3495463">struct</span>&nbsp;<span class="op" id="3495470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495473">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3495482">Op</span>&nbsp;<span class="comment" id="3495485">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495498">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3495507">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495514">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3495523">[</span><span class="op" id="3495524">]</span><span class="op" id="3495525">*</span><span class="ident" id="3495526">Regexp</span>&nbsp;&nbsp;<span class="comment" id="3495534">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495561">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3495570">[</span><span class="num" id="3495571">1</span><span class="op" id="3495572">]</span><span class="op" id="3495573">*</span><span class="ident" id="3495574">Regexp</span>&nbsp;<span class="comment" id="3495581">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495607">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3495616">[</span><span class="op" id="3495617">]</span><span class="builtintype" id="3495618">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3495627">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495673">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3495682">[</span><span class="num" id="3495683">2</span><span class="op" id="3495684">]</span><span class="builtintype" id="3495685">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3495693">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495720">Min</span><span class="op" id="3495723">,</span>&nbsp;<span class="ident" id="3495725">Max</span>&nbsp;<span class="builtintype" id="3495729">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3495740">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495766">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3495775">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3495786">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3495821">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3495830">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3495841">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="3495874">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="3495877">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="3495927">type</span>&nbsp;<span class="ident" id="3495932">Op</span>&nbsp;<span class="builtintype" id="3495935">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3495942">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="3496016">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="3496081">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3496138">const</span>&nbsp;<span class="op" id="3496144">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496147">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3496164">Op</span>&nbsp;<span class="op" id="3496167">=</span>&nbsp;<span class="num" id="3496169">1</span>&nbsp;<span class="op" id="3496171">+</span>&nbsp;<span class="ident" id="3496173">iota</span>&nbsp;<span class="comment" id="3496178">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496201">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496232">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496257">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496288">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496315">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496346">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496395">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496426">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496467">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496498">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496524">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496555">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496601">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496632">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496672">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496703">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496749">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496780">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496820">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496851">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496882">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496913">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3496948">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3496979">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497042">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3497073">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497111">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3497142">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497179">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3497210">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497247">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3497278">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497353">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3497384">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3497418">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3497449">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="3497480">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3497483">const</span>&nbsp;<span class="ident" id="3497489">opPseudo</span>&nbsp;<span class="ident" id="3497498">Op</span>&nbsp;<span class="op" id="3497501">=</span>&nbsp;<span class="num" id="3497503">128</span>&nbsp;<span class="comment" id="3497507">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3497534">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="3497593">func</span>&nbsp;<span class="op" id="3497598">(</span><span class="ident" id="3497599">x</span>&nbsp;<span class="op" id="3497601">*</span><span class="ident" id="3497602">Regexp</span><span class="op" id="3497608">)</span>&nbsp;<span class="ident" id="3497610">Equal</span><span class="op" id="3497615">(</span><span class="ident" id="3497616">y</span>&nbsp;<span class="op" id="3497618">*</span><span class="ident" id="3497619">Regexp</span><span class="op" id="3497625">)</span>&nbsp;<span class="builtintype" id="3497627">bool</span>&nbsp;<span class="op" id="3497632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497635">if</span>&nbsp;<span class="ident" id="3497638">x</span>&nbsp;<span class="op" id="3497640">==</span>&nbsp;<span class="ident" id="3497643">nil</span>&nbsp;<span class="op" id="3497647">||</span>&nbsp;<span class="ident" id="3497650">y</span>&nbsp;<span class="op" id="3497652">==</span>&nbsp;<span class="ident" id="3497655">nil</span>&nbsp;<span class="op" id="3497659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497663">return</span>&nbsp;<span class="ident" id="3497670">x</span>&nbsp;<span class="op" id="3497672">==</span>&nbsp;<span class="ident" id="3497675">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497681">if</span>&nbsp;<span class="ident" id="3497684">x</span><span class="op" id="3497685">.</span><span class="ident" id="3497686">Op</span>&nbsp;<span class="op" id="3497689">!=</span>&nbsp;<span class="ident" id="3497692">y</span><span class="op" id="3497693">.</span><span class="ident" id="3497694">Op</span>&nbsp;<span class="op" id="3497697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497701">return</span>&nbsp;<span class="builtintype" id="3497708">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497718">switch</span>&nbsp;<span class="ident" id="3497725">x</span><span class="op" id="3497726">.</span><span class="ident" id="3497727">Op</span>&nbsp;<span class="op" id="3497730">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497733">case</span>&nbsp;<span class="ident" id="3497738">OpEndText</span><span class="op" id="3497747">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3497751">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497807">if</span>&nbsp;<span class="ident" id="3497810">x</span><span class="op" id="3497811">.</span><span class="ident" id="3497812">Flags</span><span class="op" id="3497817">&amp;</span><span class="ident" id="3497818">WasDollar</span>&nbsp;<span class="op" id="3497828">!=</span>&nbsp;<span class="ident" id="3497831">y</span><span class="op" id="3497832">.</span><span class="ident" id="3497833">Flags</span><span class="op" id="3497838">&amp;</span><span class="ident" id="3497839">WasDollar</span>&nbsp;<span class="op" id="3497849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497854">return</span>&nbsp;<span class="builtintype" id="3497861">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497869">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497873">case</span>&nbsp;<span class="ident" id="3497878">OpLiteral</span><span class="op" id="3497887">,</span>&nbsp;<span class="ident" id="3497889">OpCharClass</span><span class="op" id="3497900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497904">if</span>&nbsp;<span class="builtinfunc" id="3497907">len</span><span class="op" id="3497910">(</span><span class="ident" id="3497911">x</span><span class="op" id="3497912">.</span><span class="ident" id="3497913">Rune</span><span class="op" id="3497917">)</span>&nbsp;<span class="op" id="3497919">!=</span>&nbsp;<span class="builtinfunc" id="3497922">len</span><span class="op" id="3497925">(</span><span class="ident" id="3497926">y</span><span class="op" id="3497927">.</span><span class="ident" id="3497928">Rune</span><span class="op" id="3497932">)</span>&nbsp;<span class="op" id="3497934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497939">return</span>&nbsp;<span class="builtintype" id="3497946">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3497954">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497958">for</span>&nbsp;<span class="ident" id="3497962">i</span><span class="op" id="3497963">,</span>&nbsp;<span class="ident" id="3497965">r</span>&nbsp;<span class="op" id="3497967">:=</span>&nbsp;<span class="keyword" id="3497970">range</span>&nbsp;<span class="ident" id="3497976">x</span><span class="op" id="3497977">.</span><span class="ident" id="3497978">Rune</span>&nbsp;<span class="op" id="3497983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3497988">if</span>&nbsp;<span class="ident" id="3497991">r</span>&nbsp;<span class="op" id="3497993">!=</span>&nbsp;<span class="ident" id="3497996">y</span><span class="op" id="3497997">.</span><span class="ident" id="3497998">Rune</span><span class="op" id="3498002">[</span><span class="ident" id="3498003">i</span><span class="op" id="3498004">]</span>&nbsp;<span class="op" id="3498006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498012">return</span>&nbsp;<span class="builtintype" id="3498019">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498032">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498036">case</span>&nbsp;<span class="ident" id="3498041">OpAlternate</span><span class="op" id="3498052">,</span>&nbsp;<span class="ident" id="3498054">OpConcat</span><span class="op" id="3498062">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498066">if</span>&nbsp;<span class="builtinfunc" id="3498069">len</span><span class="op" id="3498072">(</span><span class="ident" id="3498073">x</span><span class="op" id="3498074">.</span><span class="ident" id="3498075">Sub</span><span class="op" id="3498078">)</span>&nbsp;<span class="op" id="3498080">!=</span>&nbsp;<span class="builtinfunc" id="3498083">len</span><span class="op" id="3498086">(</span><span class="ident" id="3498087">y</span><span class="op" id="3498088">.</span><span class="ident" id="3498089">Sub</span><span class="op" id="3498092">)</span>&nbsp;<span class="op" id="3498094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498099">return</span>&nbsp;<span class="builtintype" id="3498106">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498114">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498118">for</span>&nbsp;<span class="ident" id="3498122">i</span><span class="op" id="3498123">,</span>&nbsp;<span class="ident" id="3498125">sub</span>&nbsp;<span class="op" id="3498129">:=</span>&nbsp;<span class="keyword" id="3498132">range</span>&nbsp;<span class="ident" id="3498138">x</span><span class="op" id="3498139">.</span><span class="ident" id="3498140">Sub</span>&nbsp;<span class="op" id="3498144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498149">if</span>&nbsp;<span class="op" id="3498152">!</span><span class="ident" id="3498153">sub</span><span class="op" id="3498156">.</span><span class="ident" id="3498157">Equal</span><span class="op" id="3498162">(</span><span class="ident" id="3498163">y</span><span class="op" id="3498164">.</span><span class="ident" id="3498165">Sub</span><span class="op" id="3498168">[</span><span class="ident" id="3498169">i</span><span class="op" id="3498170">]</span><span class="op" id="3498171">)</span>&nbsp;<span class="op" id="3498173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498179">return</span>&nbsp;<span class="builtintype" id="3498186">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498199">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498203">case</span>&nbsp;<span class="ident" id="3498208">OpStar</span><span class="op" id="3498214">,</span>&nbsp;<span class="ident" id="3498216">OpPlus</span><span class="op" id="3498222">,</span>&nbsp;<span class="ident" id="3498224">OpQuest</span><span class="op" id="3498231">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498235">if</span>&nbsp;<span class="ident" id="3498238">x</span><span class="op" id="3498239">.</span><span class="ident" id="3498240">Flags</span><span class="op" id="3498245">&amp;</span><span class="ident" id="3498246">NonGreedy</span>&nbsp;<span class="op" id="3498256">!=</span>&nbsp;<span class="ident" id="3498259">y</span><span class="op" id="3498260">.</span><span class="ident" id="3498261">Flags</span><span class="op" id="3498266">&amp;</span><span class="ident" id="3498267">NonGreedy</span>&nbsp;<span class="op" id="3498277">||</span>&nbsp;<span class="op" id="3498280">!</span><span class="ident" id="3498281">x</span><span class="op" id="3498282">.</span><span class="ident" id="3498283">Sub</span><span class="op" id="3498286">[</span><span class="num" id="3498287">0</span><span class="op" id="3498288">]</span><span class="op" id="3498289">.</span><span class="ident" id="3498290">Equal</span><span class="op" id="3498295">(</span><span class="ident" id="3498296">y</span><span class="op" id="3498297">.</span><span class="ident" id="3498298">Sub</span><span class="op" id="3498301">[</span><span class="num" id="3498302">0</span><span class="op" id="3498303">]</span><span class="op" id="3498304">)</span>&nbsp;<span class="op" id="3498306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498311">return</span>&nbsp;<span class="builtintype" id="3498318">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498326">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498330">case</span>&nbsp;<span class="ident" id="3498335">OpRepeat</span><span class="op" id="3498343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498347">if</span>&nbsp;<span class="ident" id="3498350">x</span><span class="op" id="3498351">.</span><span class="ident" id="3498352">Flags</span><span class="op" id="3498357">&amp;</span><span class="ident" id="3498358">NonGreedy</span>&nbsp;<span class="op" id="3498368">!=</span>&nbsp;<span class="ident" id="3498371">y</span><span class="op" id="3498372">.</span><span class="ident" id="3498373">Flags</span><span class="op" id="3498378">&amp;</span><span class="ident" id="3498379">NonGreedy</span>&nbsp;<span class="op" id="3498389">||</span>&nbsp;<span class="ident" id="3498392">x</span><span class="op" id="3498393">.</span><span class="ident" id="3498394">Min</span>&nbsp;<span class="op" id="3498398">!=</span>&nbsp;<span class="ident" id="3498401">y</span><span class="op" id="3498402">.</span><span class="ident" id="3498403">Min</span>&nbsp;<span class="op" id="3498407">||</span>&nbsp;<span class="ident" id="3498410">x</span><span class="op" id="3498411">.</span><span class="ident" id="3498412">Max</span>&nbsp;<span class="op" id="3498416">!=</span>&nbsp;<span class="ident" id="3498419">y</span><span class="op" id="3498420">.</span><span class="ident" id="3498421">Max</span>&nbsp;<span class="op" id="3498425">||</span>&nbsp;<span class="op" id="3498428">!</span><span class="ident" id="3498429">x</span><span class="op" id="3498430">.</span><span class="ident" id="3498431">Sub</span><span class="op" id="3498434">[</span><span class="num" id="3498435">0</span><span class="op" id="3498436">]</span><span class="op" id="3498437">.</span><span class="ident" id="3498438">Equal</span><span class="op" id="3498443">(</span><span class="ident" id="3498444">y</span><span class="op" id="3498445">.</span><span class="ident" id="3498446">Sub</span><span class="op" id="3498449">[</span><span class="num" id="3498450">0</span><span class="op" id="3498451">]</span><span class="op" id="3498452">)</span>&nbsp;<span class="op" id="3498454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498459">return</span>&nbsp;<span class="builtintype" id="3498466">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498474">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498478">case</span>&nbsp;<span class="ident" id="3498483">OpCapture</span><span class="op" id="3498492">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498496">if</span>&nbsp;<span class="ident" id="3498499">x</span><span class="op" id="3498500">.</span><span class="ident" id="3498501">Cap</span>&nbsp;<span class="op" id="3498505">!=</span>&nbsp;<span class="ident" id="3498508">y</span><span class="op" id="3498509">.</span><span class="ident" id="3498510">Cap</span>&nbsp;<span class="op" id="3498514">||</span>&nbsp;<span class="ident" id="3498517">x</span><span class="op" id="3498518">.</span><span class="ident" id="3498519">Name</span>&nbsp;<span class="op" id="3498524">!=</span>&nbsp;<span class="ident" id="3498527">y</span><span class="op" id="3498528">.</span><span class="ident" id="3498529">Name</span>&nbsp;<span class="op" id="3498534">||</span>&nbsp;<span class="op" id="3498537">!</span><span class="ident" id="3498538">x</span><span class="op" id="3498539">.</span><span class="ident" id="3498540">Sub</span><span class="op" id="3498543">[</span><span class="num" id="3498544">0</span><span class="op" id="3498545">]</span><span class="op" id="3498546">.</span><span class="ident" id="3498547">Equal</span><span class="op" id="3498552">(</span><span class="ident" id="3498553">y</span><span class="op" id="3498554">.</span><span class="ident" id="3498555">Sub</span><span class="op" id="3498558">[</span><span class="num" id="3498559">0</span><span class="op" id="3498560">]</span><span class="op" id="3498561">)</span>&nbsp;<span class="op" id="3498563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498568">return</span>&nbsp;<span class="builtintype" id="3498575">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498583">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498589">return</span>&nbsp;<span class="builtintype" id="3498596">true</span><br>
<span class="lineno"></span><span class="op" id="3498601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3498604">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="3498678">func</span>&nbsp;<span class="ident" id="3498683">writeRegexp</span><span class="op" id="3498694">(</span><span class="ident" id="3498695">b</span>&nbsp;<span class="op" id="3498697">*</span><span class="ident" id="3498698">bytes</span><span class="op" id="3498703">.</span><span class="ident" id="3498704">Buffer</span><span class="op" id="3498710">,</span>&nbsp;<span class="ident" id="3498712">re</span>&nbsp;<span class="op" id="3498715">*</span><span class="ident" id="3498716">Regexp</span><span class="op" id="3498722">)</span>&nbsp;<span class="op" id="3498724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498727">switch</span>&nbsp;<span class="ident" id="3498734">re</span><span class="op" id="3498736">.</span><span class="ident" id="3498737">Op</span>&nbsp;<span class="op" id="3498740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498743">default</span><span class="op" id="3498750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498754">b</span><span class="op" id="3498755">.</span><span class="ident" id="3498756">WriteString</span><span class="op" id="3498767">(</span><span class="string" id="3498768">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="3498782">+</span>&nbsp;<span class="ident" id="3498784">strconv</span><span class="op" id="3498791">.</span><span class="ident" id="3498792">Itoa</span><span class="op" id="3498796">(</span><span class="builtintype" id="3498797">int</span><span class="op" id="3498800">(</span><span class="ident" id="3498801">re</span><span class="op" id="3498803">.</span><span class="ident" id="3498804">Op</span><span class="op" id="3498806">)</span><span class="op" id="3498807">)</span>&nbsp;<span class="op" id="3498809">+</span>&nbsp;<span class="string" id="3498811">&#34;&gt;&#34;</span><span class="op" id="3498814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498817">case</span>&nbsp;<span class="ident" id="3498822">OpNoMatch</span><span class="op" id="3498831">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498835">b</span><span class="op" id="3498836">.</span><span class="ident" id="3498837">WriteString</span><span class="op" id="3498848">(</span><span class="string" id="3498849">`[^\x00-\x{10FFFF}]`</span><span class="op" id="3498869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498872">case</span>&nbsp;<span class="ident" id="3498877">OpEmptyMatch</span><span class="op" id="3498889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498893">b</span><span class="op" id="3498894">.</span><span class="ident" id="3498895">WriteString</span><span class="op" id="3498906">(</span><span class="string" id="3498907">`(?:)`</span><span class="op" id="3498913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498916">case</span>&nbsp;<span class="ident" id="3498921">OpLiteral</span><span class="op" id="3498930">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498934">if</span>&nbsp;<span class="ident" id="3498937">re</span><span class="op" id="3498939">.</span><span class="ident" id="3498940">Flags</span><span class="op" id="3498945">&amp;</span><span class="ident" id="3498946">FoldCase</span>&nbsp;<span class="op" id="3498955">!=</span>&nbsp;<span class="num" id="3498958">0</span>&nbsp;<span class="op" id="3498960">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3498965">b</span><span class="op" id="3498966">.</span><span class="ident" id="3498967">WriteString</span><span class="op" id="3498978">(</span><span class="string" id="3498979">`(?i:`</span><span class="op" id="3498985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3498989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3498993">for</span>&nbsp;<span class="ident" id="3498997">_</span><span class="op" id="3498998">,</span>&nbsp;<span class="ident" id="3499000">r</span>&nbsp;<span class="op" id="3499002">:=</span>&nbsp;<span class="keyword" id="3499005">range</span>&nbsp;<span class="ident" id="3499011">re</span><span class="op" id="3499013">.</span><span class="ident" id="3499014">Rune</span>&nbsp;<span class="op" id="3499019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499024">escape</span><span class="op" id="3499030">(</span><span class="ident" id="3499031">b</span><span class="op" id="3499032">,</span>&nbsp;<span class="ident" id="3499034">r</span><span class="op" id="3499035">,</span>&nbsp;<span class="builtintype" id="3499037">false</span><span class="op" id="3499042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499046">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499050">if</span>&nbsp;<span class="ident" id="3499053">re</span><span class="op" id="3499055">.</span><span class="ident" id="3499056">Flags</span><span class="op" id="3499061">&amp;</span><span class="ident" id="3499062">FoldCase</span>&nbsp;<span class="op" id="3499071">!=</span>&nbsp;<span class="num" id="3499074">0</span>&nbsp;<span class="op" id="3499076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499081">b</span><span class="op" id="3499082">.</span><span class="ident" id="3499083">WriteString</span><span class="op" id="3499094">(</span><span class="string" id="3499095">`)`</span><span class="op" id="3499098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499105">case</span>&nbsp;<span class="ident" id="3499110">OpCharClass</span><span class="op" id="3499121">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499125">if</span>&nbsp;<span class="builtinfunc" id="3499128">len</span><span class="op" id="3499131">(</span><span class="ident" id="3499132">re</span><span class="op" id="3499134">.</span><span class="ident" id="3499135">Rune</span><span class="op" id="3499139">)</span><span class="op" id="3499140">%</span><span class="num" id="3499141">2</span>&nbsp;<span class="op" id="3499143">!=</span>&nbsp;<span class="num" id="3499146">0</span>&nbsp;<span class="op" id="3499148">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499153">b</span><span class="op" id="3499154">.</span><span class="ident" id="3499155">WriteString</span><span class="op" id="3499166">(</span><span class="string" id="3499167">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="3499189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499194">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499206">b</span><span class="op" id="3499207">.</span><span class="ident" id="3499208">WriteRune</span><span class="op" id="3499217">(</span><span class="string" id="3499218">&#39;[&#39;</span><span class="op" id="3499221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499225">if</span>&nbsp;<span class="builtinfunc" id="3499228">len</span><span class="op" id="3499231">(</span><span class="ident" id="3499232">re</span><span class="op" id="3499234">.</span><span class="ident" id="3499235">Rune</span><span class="op" id="3499239">)</span>&nbsp;<span class="op" id="3499241">==</span>&nbsp;<span class="num" id="3499244">0</span>&nbsp;<span class="op" id="3499246">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499251">b</span><span class="op" id="3499252">.</span><span class="ident" id="3499253">WriteString</span><span class="op" id="3499264">(</span><span class="string" id="3499265">`^\x00-\x{10FFFF}`</span><span class="op" id="3499283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499287">}</span>&nbsp;<span class="keyword" id="3499289">else</span>&nbsp;<span class="keyword" id="3499294">if</span>&nbsp;<span class="ident" id="3499297">re</span><span class="op" id="3499299">.</span><span class="ident" id="3499300">Rune</span><span class="op" id="3499304">[</span><span class="num" id="3499305">0</span><span class="op" id="3499306">]</span>&nbsp;<span class="op" id="3499308">==</span>&nbsp;<span class="num" id="3499311">0</span>&nbsp;<span class="op" id="3499313">&amp;&amp;</span>&nbsp;<span class="ident" id="3499316">re</span><span class="op" id="3499318">.</span><span class="ident" id="3499319">Rune</span><span class="op" id="3499323">[</span><span class="builtinfunc" id="3499324">len</span><span class="op" id="3499327">(</span><span class="ident" id="3499328">re</span><span class="op" id="3499330">.</span><span class="ident" id="3499331">Rune</span><span class="op" id="3499335">)</span><span class="op" id="3499336">-</span><span class="num" id="3499337">1</span><span class="op" id="3499338">]</span>&nbsp;<span class="op" id="3499340">==</span>&nbsp;<span class="ident" id="3499343">unicode</span><span class="op" id="3499350">.</span><span class="ident" id="3499351">MaxRune</span>&nbsp;<span class="op" id="3499359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3499364">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3499421">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499443">b</span><span class="op" id="3499444">.</span><span class="ident" id="3499445">WriteRune</span><span class="op" id="3499454">(</span><span class="string" id="3499455">&#39;^&#39;</span><span class="op" id="3499458">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499463">for</span>&nbsp;<span class="ident" id="3499467">i</span>&nbsp;<span class="op" id="3499469">:=</span>&nbsp;<span class="num" id="3499472">1</span><span class="op" id="3499473">;</span>&nbsp;<span class="ident" id="3499475">i</span>&nbsp;<span class="op" id="3499477">&lt;</span>&nbsp;<span class="builtinfunc" id="3499479">len</span><span class="op" id="3499482">(</span><span class="ident" id="3499483">re</span><span class="op" id="3499485">.</span><span class="ident" id="3499486">Rune</span><span class="op" id="3499490">)</span><span class="op" id="3499491">-</span><span class="num" id="3499492">1</span><span class="op" id="3499493">;</span>&nbsp;<span class="ident" id="3499495">i</span>&nbsp;<span class="op" id="3499497">+=</span>&nbsp;<span class="num" id="3499500">2</span>&nbsp;<span class="op" id="3499502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499508">lo</span><span class="op" id="3499510">,</span>&nbsp;<span class="ident" id="3499512">hi</span>&nbsp;<span class="op" id="3499515">:=</span>&nbsp;<span class="ident" id="3499518">re</span><span class="op" id="3499520">.</span><span class="ident" id="3499521">Rune</span><span class="op" id="3499525">[</span><span class="ident" id="3499526">i</span><span class="op" id="3499527">]</span><span class="op" id="3499528">+</span><span class="num" id="3499529">1</span><span class="op" id="3499530">,</span>&nbsp;<span class="ident" id="3499532">re</span><span class="op" id="3499534">.</span><span class="ident" id="3499535">Rune</span><span class="op" id="3499539">[</span><span class="ident" id="3499540">i</span><span class="op" id="3499541">+</span><span class="num" id="3499542">1</span><span class="op" id="3499543">]</span><span class="op" id="3499544">-</span><span class="num" id="3499545">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499551">escape</span><span class="op" id="3499557">(</span><span class="ident" id="3499558">b</span><span class="op" id="3499559">,</span>&nbsp;<span class="ident" id="3499561">lo</span><span class="op" id="3499563">,</span>&nbsp;<span class="ident" id="3499565">lo</span>&nbsp;<span class="op" id="3499568">==</span>&nbsp;<span class="string" id="3499571">&#39;-&#39;</span><span class="op" id="3499574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499580">if</span>&nbsp;<span class="ident" id="3499583">lo</span>&nbsp;<span class="op" id="3499586">!=</span>&nbsp;<span class="ident" id="3499589">hi</span>&nbsp;<span class="op" id="3499592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499599">b</span><span class="op" id="3499600">.</span><span class="ident" id="3499601">WriteRune</span><span class="op" id="3499610">(</span><span class="string" id="3499611">&#39;-&#39;</span><span class="op" id="3499614">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499621">escape</span><span class="op" id="3499627">(</span><span class="ident" id="3499628">b</span><span class="op" id="3499629">,</span>&nbsp;<span class="ident" id="3499631">hi</span><span class="op" id="3499633">,</span>&nbsp;<span class="ident" id="3499635">hi</span>&nbsp;<span class="op" id="3499638">==</span>&nbsp;<span class="string" id="3499641">&#39;-&#39;</span><span class="op" id="3499644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499659">}</span>&nbsp;<span class="keyword" id="3499661">else</span>&nbsp;<span class="op" id="3499666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499671">for</span>&nbsp;<span class="ident" id="3499675">i</span>&nbsp;<span class="op" id="3499677">:=</span>&nbsp;<span class="num" id="3499680">0</span><span class="op" id="3499681">;</span>&nbsp;<span class="ident" id="3499683">i</span>&nbsp;<span class="op" id="3499685">&lt;</span>&nbsp;<span class="builtinfunc" id="3499687">len</span><span class="op" id="3499690">(</span><span class="ident" id="3499691">re</span><span class="op" id="3499693">.</span><span class="ident" id="3499694">Rune</span><span class="op" id="3499698">)</span><span class="op" id="3499699">;</span>&nbsp;<span class="ident" id="3499701">i</span>&nbsp;<span class="op" id="3499703">+=</span>&nbsp;<span class="num" id="3499706">2</span>&nbsp;<span class="op" id="3499708">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499714">lo</span><span class="op" id="3499716">,</span>&nbsp;<span class="ident" id="3499718">hi</span>&nbsp;<span class="op" id="3499721">:=</span>&nbsp;<span class="ident" id="3499724">re</span><span class="op" id="3499726">.</span><span class="ident" id="3499727">Rune</span><span class="op" id="3499731">[</span><span class="ident" id="3499732">i</span><span class="op" id="3499733">]</span><span class="op" id="3499734">,</span>&nbsp;<span class="ident" id="3499736">re</span><span class="op" id="3499738">.</span><span class="ident" id="3499739">Rune</span><span class="op" id="3499743">[</span><span class="ident" id="3499744">i</span><span class="op" id="3499745">+</span><span class="num" id="3499746">1</span><span class="op" id="3499747">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499753">escape</span><span class="op" id="3499759">(</span><span class="ident" id="3499760">b</span><span class="op" id="3499761">,</span>&nbsp;<span class="ident" id="3499763">lo</span><span class="op" id="3499765">,</span>&nbsp;<span class="ident" id="3499767">lo</span>&nbsp;<span class="op" id="3499770">==</span>&nbsp;<span class="string" id="3499773">&#39;-&#39;</span><span class="op" id="3499776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499782">if</span>&nbsp;<span class="ident" id="3499785">lo</span>&nbsp;<span class="op" id="3499788">!=</span>&nbsp;<span class="ident" id="3499791">hi</span>&nbsp;<span class="op" id="3499794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499801">b</span><span class="op" id="3499802">.</span><span class="ident" id="3499803">WriteRune</span><span class="op" id="3499812">(</span><span class="string" id="3499813">&#39;-&#39;</span><span class="op" id="3499816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499823">escape</span><span class="op" id="3499829">(</span><span class="ident" id="3499830">b</span><span class="op" id="3499831">,</span>&nbsp;<span class="ident" id="3499833">hi</span><span class="op" id="3499835">,</span>&nbsp;<span class="ident" id="3499837">hi</span>&nbsp;<span class="op" id="3499840">==</span>&nbsp;<span class="string" id="3499843">&#39;-&#39;</span><span class="op" id="3499846">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3499861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499865">b</span><span class="op" id="3499866">.</span><span class="ident" id="3499867">WriteRune</span><span class="op" id="3499876">(</span><span class="string" id="3499877">&#39;]&#39;</span><span class="op" id="3499880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499883">case</span>&nbsp;<span class="ident" id="3499888">OpAnyCharNotNL</span><span class="op" id="3499902">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499906">b</span><span class="op" id="3499907">.</span><span class="ident" id="3499908">WriteString</span><span class="op" id="3499919">(</span><span class="string" id="3499920">`(?-s:.)`</span><span class="op" id="3499929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499932">case</span>&nbsp;<span class="ident" id="3499937">OpAnyChar</span><span class="op" id="3499946">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499950">b</span><span class="op" id="3499951">.</span><span class="ident" id="3499952">WriteString</span><span class="op" id="3499963">(</span><span class="string" id="3499964">`(?s:.)`</span><span class="op" id="3499972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3499975">case</span>&nbsp;<span class="ident" id="3499980">OpBeginLine</span><span class="op" id="3499991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3499995">b</span><span class="op" id="3499996">.</span><span class="ident" id="3499997">WriteRune</span><span class="op" id="3500006">(</span><span class="string" id="3500007">&#39;^&#39;</span><span class="op" id="3500010">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500013">case</span>&nbsp;<span class="ident" id="3500018">OpEndLine</span><span class="op" id="3500027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500031">b</span><span class="op" id="3500032">.</span><span class="ident" id="3500033">WriteRune</span><span class="op" id="3500042">(</span><span class="string" id="3500043">&#39;$&#39;</span><span class="op" id="3500046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500049">case</span>&nbsp;<span class="ident" id="3500054">OpBeginText</span><span class="op" id="3500065">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500069">b</span><span class="op" id="3500070">.</span><span class="ident" id="3500071">WriteString</span><span class="op" id="3500082">(</span><span class="string" id="3500083">`\A`</span><span class="op" id="3500087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500090">case</span>&nbsp;<span class="ident" id="3500095">OpEndText</span><span class="op" id="3500104">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500108">if</span>&nbsp;<span class="ident" id="3500111">re</span><span class="op" id="3500113">.</span><span class="ident" id="3500114">Flags</span><span class="op" id="3500119">&amp;</span><span class="ident" id="3500120">WasDollar</span>&nbsp;<span class="op" id="3500130">!=</span>&nbsp;<span class="num" id="3500133">0</span>&nbsp;<span class="op" id="3500135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500140">b</span><span class="op" id="3500141">.</span><span class="ident" id="3500142">WriteString</span><span class="op" id="3500153">(</span><span class="string" id="3500154">`(?-m:$)`</span><span class="op" id="3500163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500167">}</span>&nbsp;<span class="keyword" id="3500169">else</span>&nbsp;<span class="op" id="3500174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500179">b</span><span class="op" id="3500180">.</span><span class="ident" id="3500181">WriteString</span><span class="op" id="3500192">(</span><span class="string" id="3500193">`\z`</span><span class="op" id="3500197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500201">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500204">case</span>&nbsp;<span class="ident" id="3500209">OpWordBoundary</span><span class="op" id="3500223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500227">b</span><span class="op" id="3500228">.</span><span class="ident" id="3500229">WriteString</span><span class="op" id="3500240">(</span><span class="string" id="3500241">`\b`</span><span class="op" id="3500245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500248">case</span>&nbsp;<span class="ident" id="3500253">OpNoWordBoundary</span><span class="op" id="3500269">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500273">b</span><span class="op" id="3500274">.</span><span class="ident" id="3500275">WriteString</span><span class="op" id="3500286">(</span><span class="string" id="3500287">`\B`</span><span class="op" id="3500291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500294">case</span>&nbsp;<span class="ident" id="3500299">OpCapture</span><span class="op" id="3500308">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500312">if</span>&nbsp;<span class="ident" id="3500315">re</span><span class="op" id="3500317">.</span><span class="ident" id="3500318">Name</span>&nbsp;<span class="op" id="3500323">!=</span>&nbsp;<span class="string" id="3500326">&#34;&#34;</span>&nbsp;<span class="op" id="3500329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500334">b</span><span class="op" id="3500335">.</span><span class="ident" id="3500336">WriteString</span><span class="op" id="3500347">(</span><span class="string" id="3500348">`(?P&lt;`</span><span class="op" id="3500354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500359">b</span><span class="op" id="3500360">.</span><span class="ident" id="3500361">WriteString</span><span class="op" id="3500372">(</span><span class="ident" id="3500373">re</span><span class="op" id="3500375">.</span><span class="ident" id="3500376">Name</span><span class="op" id="3500380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500385">b</span><span class="op" id="3500386">.</span><span class="ident" id="3500387">WriteRune</span><span class="op" id="3500396">(</span><span class="string" id="3500397">&#39;&gt;&#39;</span><span class="op" id="3500400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500404">}</span>&nbsp;<span class="keyword" id="3500406">else</span>&nbsp;<span class="op" id="3500411">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500416">b</span><span class="op" id="3500417">.</span><span class="ident" id="3500418">WriteRune</span><span class="op" id="3500427">(</span><span class="string" id="3500428">&#39;(&#39;</span><span class="op" id="3500431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500439">if</span>&nbsp;<span class="ident" id="3500442">re</span><span class="op" id="3500444">.</span><span class="ident" id="3500445">Sub</span><span class="op" id="3500448">[</span><span class="num" id="3500449">0</span><span class="op" id="3500450">]</span><span class="op" id="3500451">.</span><span class="ident" id="3500452">Op</span>&nbsp;<span class="op" id="3500455">!=</span>&nbsp;<span class="ident" id="3500458">OpEmptyMatch</span>&nbsp;<span class="op" id="3500471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500476">writeRegexp</span><span class="op" id="3500487">(</span><span class="ident" id="3500488">b</span><span class="op" id="3500489">,</span>&nbsp;<span class="ident" id="3500491">re</span><span class="op" id="3500493">.</span><span class="ident" id="3500494">Sub</span><span class="op" id="3500497">[</span><span class="num" id="3500498">0</span><span class="op" id="3500499">]</span><span class="op" id="3500500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500504">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500508">b</span><span class="op" id="3500509">.</span><span class="ident" id="3500510">WriteRune</span><span class="op" id="3500519">(</span><span class="string" id="3500520">&#39;)&#39;</span><span class="op" id="3500523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500526">case</span>&nbsp;<span class="ident" id="3500531">OpStar</span><span class="op" id="3500537">,</span>&nbsp;<span class="ident" id="3500539">OpPlus</span><span class="op" id="3500545">,</span>&nbsp;<span class="ident" id="3500547">OpQuest</span><span class="op" id="3500554">,</span>&nbsp;<span class="ident" id="3500556">OpRepeat</span><span class="op" id="3500564">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500568">if</span>&nbsp;<span class="ident" id="3500571">sub</span>&nbsp;<span class="op" id="3500575">:=</span>&nbsp;<span class="ident" id="3500578">re</span><span class="op" id="3500580">.</span><span class="ident" id="3500581">Sub</span><span class="op" id="3500584">[</span><span class="num" id="3500585">0</span><span class="op" id="3500586">]</span><span class="op" id="3500587">;</span>&nbsp;<span class="ident" id="3500589">sub</span><span class="op" id="3500592">.</span><span class="ident" id="3500593">Op</span>&nbsp;<span class="op" id="3500596">&gt;</span>&nbsp;<span class="ident" id="3500598">OpCapture</span>&nbsp;<span class="op" id="3500608">||</span>&nbsp;<span class="ident" id="3500611">sub</span><span class="op" id="3500614">.</span><span class="ident" id="3500615">Op</span>&nbsp;<span class="op" id="3500618">==</span>&nbsp;<span class="ident" id="3500621">OpLiteral</span>&nbsp;<span class="op" id="3500631">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3500634">len</span><span class="op" id="3500637">(</span><span class="ident" id="3500638">sub</span><span class="op" id="3500641">.</span><span class="ident" id="3500642">Rune</span><span class="op" id="3500646">)</span>&nbsp;<span class="op" id="3500648">&gt;</span>&nbsp;<span class="num" id="3500650">1</span>&nbsp;<span class="op" id="3500652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500657">b</span><span class="op" id="3500658">.</span><span class="ident" id="3500659">WriteString</span><span class="op" id="3500670">(</span><span class="string" id="3500671">`(?:`</span><span class="op" id="3500676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500681">writeRegexp</span><span class="op" id="3500692">(</span><span class="ident" id="3500693">b</span><span class="op" id="3500694">,</span>&nbsp;<span class="ident" id="3500696">sub</span><span class="op" id="3500699">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500704">b</span><span class="op" id="3500705">.</span><span class="ident" id="3500706">WriteString</span><span class="op" id="3500717">(</span><span class="string" id="3500718">`)`</span><span class="op" id="3500721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500725">}</span>&nbsp;<span class="keyword" id="3500727">else</span>&nbsp;<span class="op" id="3500732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500737">writeRegexp</span><span class="op" id="3500748">(</span><span class="ident" id="3500749">b</span><span class="op" id="3500750">,</span>&nbsp;<span class="ident" id="3500752">sub</span><span class="op" id="3500755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3500759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500763">switch</span>&nbsp;<span class="ident" id="3500770">re</span><span class="op" id="3500772">.</span><span class="ident" id="3500773">Op</span>&nbsp;<span class="op" id="3500776">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500780">case</span>&nbsp;<span class="ident" id="3500785">OpStar</span><span class="op" id="3500791">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500796">b</span><span class="op" id="3500797">.</span><span class="ident" id="3500798">WriteRune</span><span class="op" id="3500807">(</span><span class="string" id="3500808">&#39;*&#39;</span><span class="op" id="3500811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500815">case</span>&nbsp;<span class="ident" id="3500820">OpPlus</span><span class="op" id="3500826">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500831">b</span><span class="op" id="3500832">.</span><span class="ident" id="3500833">WriteRune</span><span class="op" id="3500842">(</span><span class="string" id="3500843">&#39;+&#39;</span><span class="op" id="3500846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500850">case</span>&nbsp;<span class="ident" id="3500855">OpQuest</span><span class="op" id="3500862">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500867">b</span><span class="op" id="3500868">.</span><span class="ident" id="3500869">WriteRune</span><span class="op" id="3500878">(</span><span class="string" id="3500879">&#39;?&#39;</span><span class="op" id="3500882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500886">case</span>&nbsp;<span class="ident" id="3500891">OpRepeat</span><span class="op" id="3500899">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500904">b</span><span class="op" id="3500905">.</span><span class="ident" id="3500906">WriteRune</span><span class="op" id="3500915">(</span><span class="string" id="3500916">&#39;{&#39;</span><span class="op" id="3500919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500924">b</span><span class="op" id="3500925">.</span><span class="ident" id="3500926">WriteString</span><span class="op" id="3500937">(</span><span class="ident" id="3500938">strconv</span><span class="op" id="3500945">.</span><span class="ident" id="3500946">Itoa</span><span class="op" id="3500950">(</span><span class="ident" id="3500951">re</span><span class="op" id="3500953">.</span><span class="ident" id="3500954">Min</span><span class="op" id="3500957">)</span><span class="op" id="3500958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3500963">if</span>&nbsp;<span class="ident" id="3500966">re</span><span class="op" id="3500968">.</span><span class="ident" id="3500969">Max</span>&nbsp;<span class="op" id="3500973">!=</span>&nbsp;<span class="ident" id="3500976">re</span><span class="op" id="3500978">.</span><span class="ident" id="3500979">Min</span>&nbsp;<span class="op" id="3500983">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3500989">b</span><span class="op" id="3500990">.</span><span class="ident" id="3500991">WriteRune</span><span class="op" id="3501000">(</span><span class="string" id="3501001">&#39;,&#39;</span><span class="op" id="3501004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501010">if</span>&nbsp;<span class="ident" id="3501013">re</span><span class="op" id="3501015">.</span><span class="ident" id="3501016">Max</span>&nbsp;<span class="op" id="3501020">&gt;=</span>&nbsp;<span class="num" id="3501023">0</span>&nbsp;<span class="op" id="3501025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501032">b</span><span class="op" id="3501033">.</span><span class="ident" id="3501034">WriteString</span><span class="op" id="3501045">(</span><span class="ident" id="3501046">strconv</span><span class="op" id="3501053">.</span><span class="ident" id="3501054">Itoa</span><span class="op" id="3501058">(</span><span class="ident" id="3501059">re</span><span class="op" id="3501061">.</span><span class="ident" id="3501062">Max</span><span class="op" id="3501065">)</span><span class="op" id="3501066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501077">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501082">b</span><span class="op" id="3501083">.</span><span class="ident" id="3501084">WriteRune</span><span class="op" id="3501093">(</span><span class="string" id="3501094">&#39;}&#39;</span><span class="op" id="3501097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501105">if</span>&nbsp;<span class="ident" id="3501108">re</span><span class="op" id="3501110">.</span><span class="ident" id="3501111">Flags</span><span class="op" id="3501116">&amp;</span><span class="ident" id="3501117">NonGreedy</span>&nbsp;<span class="op" id="3501127">!=</span>&nbsp;<span class="num" id="3501130">0</span>&nbsp;<span class="op" id="3501132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501137">b</span><span class="op" id="3501138">.</span><span class="ident" id="3501139">WriteRune</span><span class="op" id="3501148">(</span><span class="string" id="3501149">&#39;?&#39;</span><span class="op" id="3501152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501156">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501159">case</span>&nbsp;<span class="ident" id="3501164">OpConcat</span><span class="op" id="3501172">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501176">for</span>&nbsp;<span class="ident" id="3501180">_</span><span class="op" id="3501181">,</span>&nbsp;<span class="ident" id="3501183">sub</span>&nbsp;<span class="op" id="3501187">:=</span>&nbsp;<span class="keyword" id="3501190">range</span>&nbsp;<span class="ident" id="3501196">re</span><span class="op" id="3501198">.</span><span class="ident" id="3501199">Sub</span>&nbsp;<span class="op" id="3501203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501208">if</span>&nbsp;<span class="ident" id="3501211">sub</span><span class="op" id="3501214">.</span><span class="ident" id="3501215">Op</span>&nbsp;<span class="op" id="3501218">==</span>&nbsp;<span class="ident" id="3501221">OpAlternate</span>&nbsp;<span class="op" id="3501233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501239">b</span><span class="op" id="3501240">.</span><span class="ident" id="3501241">WriteString</span><span class="op" id="3501252">(</span><span class="string" id="3501253">`(?:`</span><span class="op" id="3501258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501264">writeRegexp</span><span class="op" id="3501275">(</span><span class="ident" id="3501276">b</span><span class="op" id="3501277">,</span>&nbsp;<span class="ident" id="3501279">sub</span><span class="op" id="3501282">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501288">b</span><span class="op" id="3501289">.</span><span class="ident" id="3501290">WriteString</span><span class="op" id="3501301">(</span><span class="string" id="3501302">`)`</span><span class="op" id="3501305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501310">}</span>&nbsp;<span class="keyword" id="3501312">else</span>&nbsp;<span class="op" id="3501317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501323">writeRegexp</span><span class="op" id="3501334">(</span><span class="ident" id="3501335">b</span><span class="op" id="3501336">,</span>&nbsp;<span class="ident" id="3501338">sub</span><span class="op" id="3501341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501350">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501353">case</span>&nbsp;<span class="ident" id="3501358">OpAlternate</span><span class="op" id="3501369">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501373">for</span>&nbsp;<span class="ident" id="3501377">i</span><span class="op" id="3501378">,</span>&nbsp;<span class="ident" id="3501380">sub</span>&nbsp;<span class="op" id="3501384">:=</span>&nbsp;<span class="keyword" id="3501387">range</span>&nbsp;<span class="ident" id="3501393">re</span><span class="op" id="3501395">.</span><span class="ident" id="3501396">Sub</span>&nbsp;<span class="op" id="3501400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501405">if</span>&nbsp;<span class="ident" id="3501408">i</span>&nbsp;<span class="op" id="3501410">&gt;</span>&nbsp;<span class="num" id="3501412">0</span>&nbsp;<span class="op" id="3501414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501420">b</span><span class="op" id="3501421">.</span><span class="ident" id="3501422">WriteRune</span><span class="op" id="3501431">(</span><span class="string" id="3501432">&#39;|&#39;</span><span class="op" id="3501435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501440">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501445">writeRegexp</span><span class="op" id="3501456">(</span><span class="ident" id="3501457">b</span><span class="op" id="3501458">,</span>&nbsp;<span class="ident" id="3501460">sub</span><span class="op" id="3501463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501470">}</span><br>
<span class="lineno"></span><span class="op" id="3501472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="3501475">func</span>&nbsp;<span class="op" id="3501480">(</span><span class="ident" id="3501481">re</span>&nbsp;<span class="op" id="3501484">*</span><span class="ident" id="3501485">Regexp</span><span class="op" id="3501491">)</span>&nbsp;<span class="ident" id="3501493">String</span><span class="op" id="3501499">(</span><span class="op" id="3501500">)</span>&nbsp;<span class="builtintype" id="3501502">string</span>&nbsp;<span class="op" id="3501509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501512">var</span>&nbsp;<span class="ident" id="3501516">b</span>&nbsp;<span class="ident" id="3501518">bytes</span><span class="op" id="3501523">.</span><span class="ident" id="3501524">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501532">writeRegexp</span><span class="op" id="3501543">(</span><span class="op" id="3501544">&amp;</span><span class="ident" id="3501545">b</span><span class="op" id="3501546">,</span>&nbsp;<span class="ident" id="3501548">re</span><span class="op" id="3501550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501553">return</span>&nbsp;<span class="ident" id="3501560">b</span><span class="op" id="3501561">.</span><span class="ident" id="3501562">String</span><span class="op" id="3501568">(</span><span class="op" id="3501569">)</span><br>
<span class="lineno"></span><span class="op" id="3501571">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="3501574">const</span>&nbsp;<span class="ident" id="3501580">meta</span>&nbsp;<span class="op" id="3501585">=</span>&nbsp;<span class="string" id="3501587">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3501605">func</span>&nbsp;<span class="ident" id="3501610">escape</span><span class="op" id="3501616">(</span><span class="ident" id="3501617">b</span>&nbsp;<span class="op" id="3501619">*</span><span class="ident" id="3501620">bytes</span><span class="op" id="3501625">.</span><span class="ident" id="3501626">Buffer</span><span class="op" id="3501632">,</span>&nbsp;<span class="ident" id="3501634">r</span>&nbsp;<span class="builtintype" id="3501636">rune</span><span class="op" id="3501640">,</span>&nbsp;<span class="ident" id="3501642">force</span>&nbsp;<span class="builtintype" id="3501648">bool</span><span class="op" id="3501652">)</span>&nbsp;<span class="op" id="3501654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501657">if</span>&nbsp;<span class="ident" id="3501660">unicode</span><span class="op" id="3501667">.</span><span class="ident" id="3501668">IsPrint</span><span class="op" id="3501675">(</span><span class="ident" id="3501676">r</span><span class="op" id="3501677">)</span>&nbsp;<span class="op" id="3501679">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501683">if</span>&nbsp;<span class="ident" id="3501686">strings</span><span class="op" id="3501693">.</span><span class="ident" id="3501694">IndexRune</span><span class="op" id="3501703">(</span><span class="ident" id="3501704">meta</span><span class="op" id="3501708">,</span>&nbsp;<span class="ident" id="3501710">r</span><span class="op" id="3501711">)</span>&nbsp;<span class="op" id="3501713">&gt;=</span>&nbsp;<span class="num" id="3501716">0</span>&nbsp;<span class="op" id="3501718">||</span>&nbsp;<span class="ident" id="3501721">force</span>&nbsp;<span class="op" id="3501727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501732">b</span><span class="op" id="3501733">.</span><span class="ident" id="3501734">WriteRune</span><span class="op" id="3501743">(</span><span class="string" id="3501744">&#39;\\&#39;</span><span class="op" id="3501748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501756">b</span><span class="op" id="3501757">.</span><span class="ident" id="3501758">WriteRune</span><span class="op" id="3501767">(</span><span class="ident" id="3501768">r</span><span class="op" id="3501769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501773">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3501781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501785">switch</span>&nbsp;<span class="ident" id="3501792">r</span>&nbsp;<span class="op" id="3501794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501797">case</span>&nbsp;<span class="string" id="3501802">&#39;\a&#39;</span><span class="op" id="3501806">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501810">b</span><span class="op" id="3501811">.</span><span class="ident" id="3501812">WriteString</span><span class="op" id="3501823">(</span><span class="string" id="3501824">`\a`</span><span class="op" id="3501828">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501831">case</span>&nbsp;<span class="string" id="3501836">&#39;\f&#39;</span><span class="op" id="3501840">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501844">b</span><span class="op" id="3501845">.</span><span class="ident" id="3501846">WriteString</span><span class="op" id="3501857">(</span><span class="string" id="3501858">`\f`</span><span class="op" id="3501862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501865">case</span>&nbsp;<span class="string" id="3501870">&#39;\n&#39;</span><span class="op" id="3501874">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501878">b</span><span class="op" id="3501879">.</span><span class="ident" id="3501880">WriteString</span><span class="op" id="3501891">(</span><span class="string" id="3501892">`\n`</span><span class="op" id="3501896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501899">case</span>&nbsp;<span class="string" id="3501904">&#39;\r&#39;</span><span class="op" id="3501908">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501912">b</span><span class="op" id="3501913">.</span><span class="ident" id="3501914">WriteString</span><span class="op" id="3501925">(</span><span class="string" id="3501926">`\r`</span><span class="op" id="3501930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501933">case</span>&nbsp;<span class="string" id="3501938">&#39;\t&#39;</span><span class="op" id="3501942">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501946">b</span><span class="op" id="3501947">.</span><span class="ident" id="3501948">WriteString</span><span class="op" id="3501959">(</span><span class="string" id="3501960">`\t`</span><span class="op" id="3501964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3501967">case</span>&nbsp;<span class="string" id="3501972">&#39;\v&#39;</span><span class="op" id="3501976">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3501980">b</span><span class="op" id="3501981">.</span><span class="ident" id="3501982">WriteString</span><span class="op" id="3501993">(</span><span class="string" id="3501994">`\v`</span><span class="op" id="3501998">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502001">default</span><span class="op" id="3502008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502012">if</span>&nbsp;<span class="ident" id="3502015">r</span>&nbsp;<span class="op" id="3502017">&lt;</span>&nbsp;<span class="num" id="3502019">0x100</span>&nbsp;<span class="op" id="3502025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502030">b</span><span class="op" id="3502031">.</span><span class="ident" id="3502032">WriteString</span><span class="op" id="3502043">(</span><span class="string" id="3502044">`\x`</span><span class="op" id="3502048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502053">s</span>&nbsp;<span class="op" id="3502055">:=</span>&nbsp;<span class="ident" id="3502058">strconv</span><span class="op" id="3502065">.</span><span class="ident" id="3502066">FormatInt</span><span class="op" id="3502075">(</span><span class="ident" id="3502076">int64</span><span class="op" id="3502081">(</span><span class="ident" id="3502082">r</span><span class="op" id="3502083">)</span><span class="op" id="3502084">,</span>&nbsp;<span class="num" id="3502086">16</span><span class="op" id="3502088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502093">if</span>&nbsp;<span class="builtinfunc" id="3502096">len</span><span class="op" id="3502099">(</span><span class="ident" id="3502100">s</span><span class="op" id="3502101">)</span>&nbsp;<span class="op" id="3502103">==</span>&nbsp;<span class="num" id="3502106">1</span>&nbsp;<span class="op" id="3502108">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502114">b</span><span class="op" id="3502115">.</span><span class="ident" id="3502116">WriteRune</span><span class="op" id="3502125">(</span><span class="string" id="3502126">&#39;0&#39;</span><span class="op" id="3502129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502139">b</span><span class="op" id="3502140">.</span><span class="ident" id="3502141">WriteString</span><span class="op" id="3502152">(</span><span class="ident" id="3502153">s</span><span class="op" id="3502154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502159">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502167">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502171">b</span><span class="op" id="3502172">.</span><span class="ident" id="3502173">WriteString</span><span class="op" id="3502184">(</span><span class="string" id="3502185">`\x{`</span><span class="op" id="3502190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502194">b</span><span class="op" id="3502195">.</span><span class="ident" id="3502196">WriteString</span><span class="op" id="3502207">(</span><span class="ident" id="3502208">strconv</span><span class="op" id="3502215">.</span><span class="ident" id="3502216">FormatInt</span><span class="op" id="3502225">(</span><span class="ident" id="3502226">int64</span><span class="op" id="3502231">(</span><span class="ident" id="3502232">r</span><span class="op" id="3502233">)</span><span class="op" id="3502234">,</span>&nbsp;<span class="num" id="3502236">16</span><span class="op" id="3502238">)</span><span class="op" id="3502239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502243">b</span><span class="op" id="3502244">.</span><span class="ident" id="3502245">WriteString</span><span class="op" id="3502256">(</span><span class="string" id="3502257">`}`</span><span class="op" id="3502260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502263">}</span><br>
<span class="lineno"></span><span class="op" id="3502265">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="3502268">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="3502330">func</span>&nbsp;<span class="op" id="3502335">(</span><span class="ident" id="3502336">re</span>&nbsp;<span class="op" id="3502339">*</span><span class="ident" id="3502340">Regexp</span><span class="op" id="3502346">)</span>&nbsp;<span class="ident" id="3502348">MaxCap</span><span class="op" id="3502354">(</span><span class="op" id="3502355">)</span>&nbsp;<span class="builtintype" id="3502357">int</span>&nbsp;<span class="op" id="3502361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502364">m</span>&nbsp;<span class="op" id="3502366">:=</span>&nbsp;<span class="num" id="3502369">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502372">if</span>&nbsp;<span class="ident" id="3502375">re</span><span class="op" id="3502377">.</span><span class="ident" id="3502378">Op</span>&nbsp;<span class="op" id="3502381">==</span>&nbsp;<span class="ident" id="3502384">OpCapture</span>&nbsp;<span class="op" id="3502394">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502398">m</span>&nbsp;<span class="op" id="3502400">=</span>&nbsp;<span class="ident" id="3502402">re</span><span class="op" id="3502404">.</span><span class="ident" id="3502405">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502413">for</span>&nbsp;<span class="ident" id="3502417">_</span><span class="op" id="3502418">,</span>&nbsp;<span class="ident" id="3502420">sub</span>&nbsp;<span class="op" id="3502424">:=</span>&nbsp;<span class="keyword" id="3502427">range</span>&nbsp;<span class="ident" id="3502433">re</span><span class="op" id="3502435">.</span><span class="ident" id="3502436">Sub</span>&nbsp;<span class="op" id="3502440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502444">if</span>&nbsp;<span class="ident" id="3502447">n</span>&nbsp;<span class="op" id="3502449">:=</span>&nbsp;<span class="ident" id="3502452">sub</span><span class="op" id="3502455">.</span><span class="ident" id="3502456">MaxCap</span><span class="op" id="3502462">(</span><span class="op" id="3502463">)</span><span class="op" id="3502464">;</span>&nbsp;<span class="ident" id="3502466">m</span>&nbsp;<span class="op" id="3502468">&lt;</span>&nbsp;<span class="ident" id="3502470">n</span>&nbsp;<span class="op" id="3502472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502477">m</span>&nbsp;<span class="op" id="3502479">=</span>&nbsp;<span class="ident" id="3502481">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502491">return</span>&nbsp;<span class="ident" id="3502498">m</span><br>
<span class="lineno"></span><span class="op" id="3502500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="3502503">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="3502571">func</span>&nbsp;<span class="op" id="3502576">(</span><span class="ident" id="3502577">re</span>&nbsp;<span class="op" id="3502580">*</span><span class="ident" id="3502581">Regexp</span><span class="op" id="3502587">)</span>&nbsp;<span class="ident" id="3502589">CapNames</span><span class="op" id="3502597">(</span><span class="op" id="3502598">)</span>&nbsp;<span class="op" id="3502600">[</span><span class="op" id="3502601">]</span><span class="builtintype" id="3502602">string</span>&nbsp;<span class="op" id="3502609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502612">names</span>&nbsp;<span class="op" id="3502618">:=</span>&nbsp;<span class="builtinfunc" id="3502621">make</span><span class="op" id="3502625">(</span><span class="op" id="3502626">[</span><span class="op" id="3502627">]</span><span class="builtintype" id="3502628">string</span><span class="op" id="3502634">,</span>&nbsp;<span class="ident" id="3502636">re</span><span class="op" id="3502638">.</span><span class="ident" id="3502639">MaxCap</span><span class="op" id="3502645">(</span><span class="op" id="3502646">)</span><span class="op" id="3502647">+</span><span class="num" id="3502648">1</span><span class="op" id="3502649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502652">re</span><span class="op" id="3502654">.</span><span class="ident" id="3502655">capNames</span><span class="op" id="3502663">(</span><span class="ident" id="3502664">names</span><span class="op" id="3502669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502672">return</span>&nbsp;<span class="ident" id="3502679">names</span><br>
<span class="lineno">310</span><span class="op" id="3502685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3502688">func</span>&nbsp;<span class="op" id="3502693">(</span><span class="ident" id="3502694">re</span>&nbsp;<span class="op" id="3502697">*</span><span class="ident" id="3502698">Regexp</span><span class="op" id="3502704">)</span>&nbsp;<span class="ident" id="3502706">capNames</span><span class="op" id="3502714">(</span><span class="ident" id="3502715">names</span>&nbsp;<span class="op" id="3502721">[</span><span class="op" id="3502722">]</span><span class="builtintype" id="3502723">string</span><span class="op" id="3502729">)</span>&nbsp;<span class="op" id="3502731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502734">if</span>&nbsp;<span class="ident" id="3502737">re</span><span class="op" id="3502739">.</span><span class="ident" id="3502740">Op</span>&nbsp;<span class="op" id="3502743">==</span>&nbsp;<span class="ident" id="3502746">OpCapture</span>&nbsp;<span class="op" id="3502756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502760">names</span><span class="op" id="3502765">[</span><span class="ident" id="3502766">re</span><span class="op" id="3502768">.</span><span class="ident" id="3502769">Cap</span><span class="op" id="3502772">]</span>&nbsp;<span class="op" id="3502774">=</span>&nbsp;<span class="ident" id="3502776">re</span><span class="op" id="3502778">.</span><span class="ident" id="3502779">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3502788">for</span>&nbsp;<span class="ident" id="3502792">_</span><span class="op" id="3502793">,</span>&nbsp;<span class="ident" id="3502795">sub</span>&nbsp;<span class="op" id="3502799">:=</span>&nbsp;<span class="keyword" id="3502802">range</span>&nbsp;<span class="ident" id="3502808">re</span><span class="op" id="3502810">.</span><span class="ident" id="3502811">Sub</span>&nbsp;<span class="op" id="3502815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3502819">sub</span><span class="op" id="3502822">.</span><span class="ident" id="3502823">capNames</span><span class="op" id="3502831">(</span><span class="ident" id="3502832">names</span><span class="op" id="3502837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3502840">}</span><br>
<span class="lineno"></span><span class="op" id="3502842">}</span>
</div>
</body>
</html>
