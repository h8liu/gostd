<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7450154">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7450209">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7450263">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7450314">package</span>&nbsp;<span class="ident" id="7450322">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7450327">import</span>&nbsp;<span class="op" id="7450334">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7450337">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7450343">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7450354">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7450365">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7450376">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7450383">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="7450386">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7450431">func</span>&nbsp;<span class="ident" id="7450436">TestUnmarshalFeed</span><span class="op" id="7450453">(</span><span class="ident" id="7450454">t</span>&nbsp;<span class="op" id="7450456">*</span><span class="ident" id="7450457">testing</span><span class="op" id="7450464">.</span><span class="ident" id="7450465">T</span><span class="op" id="7450466">)</span>&nbsp;<span class="op" id="7450468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7450471">var</span>&nbsp;<span class="ident" id="7450475">f</span>&nbsp;<span class="ident" id="7450477">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7450483">if</span>&nbsp;<span class="ident" id="7450486">err</span>&nbsp;<span class="op" id="7450490">:=</span>&nbsp;<span class="ident" id="7450493">Unmarshal</span><span class="op" id="7450502">(</span><span class="op" id="7450503">[</span><span class="op" id="7450504">]</span><span class="builtintype" id="7450505">byte</span><span class="op" id="7450509">(</span><span class="ident" id="7450510">atomFeedString</span><span class="op" id="7450524">)</span><span class="op" id="7450525">,</span>&nbsp;<span class="op" id="7450527">&amp;</span><span class="ident" id="7450528">f</span><span class="op" id="7450529">)</span><span class="op" id="7450530">;</span>&nbsp;<span class="ident" id="7450532">err</span>&nbsp;<span class="op" id="7450536">!=</span>&nbsp;<span class="ident" id="7450539">nil</span>&nbsp;<span class="op" id="7450543">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450547">t</span><span class="op" id="7450548">.</span><span class="ident" id="7450549">Fatalf</span><span class="op" id="7450555">(</span><span class="string" id="7450556">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7450571">,</span>&nbsp;<span class="ident" id="7450573">err</span><span class="op" id="7450576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7450582">if</span>&nbsp;<span class="op" id="7450585">!</span><span class="ident" id="7450586">reflect</span><span class="op" id="7450593">.</span><span class="ident" id="7450594">DeepEqual</span><span class="op" id="7450603">(</span><span class="ident" id="7450604">f</span><span class="op" id="7450605">,</span>&nbsp;<span class="ident" id="7450607">atomFeed</span><span class="op" id="7450615">)</span>&nbsp;<span class="op" id="7450617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450621">t</span><span class="op" id="7450622">.</span><span class="ident" id="7450623">Fatalf</span><span class="op" id="7450629">(</span><span class="string" id="7450630">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7450650">,</span>&nbsp;<span class="ident" id="7450652">f</span><span class="op" id="7450653">,</span>&nbsp;<span class="ident" id="7450655">atomFeed</span><span class="op" id="7450663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450666">}</span><br>
<span class="lineno">25</span><span class="op" id="7450668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7450671">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="7450722">const</span>&nbsp;<span class="ident" id="7450728">atomFeedString</span>&nbsp;<span class="op" id="7450743">=</span>&nbsp;<span class="string" id="7450745">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7453734">type</span>&nbsp;<span class="ident" id="7453739">Feed</span>&nbsp;<span class="keyword" id="7453744">struct</span>&nbsp;<span class="op" id="7453751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453754">XMLName</span>&nbsp;<span class="ident" id="7453762">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7453772">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453814">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7453822">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7453832">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453847">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7453855">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7453865">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453877">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7453885">[</span><span class="op" id="7453886">]</span><span class="ident" id="7453887">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7453895">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453909">Updated</span>&nbsp;<span class="ident" id="7453917">time</span><span class="op" id="7453921">.</span><span class="ident" id="7453922">Time</span>&nbsp;<span class="string" id="7453927">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453949">Author</span>&nbsp;&nbsp;<span class="ident" id="7453957">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7453967">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453983">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7453991">[</span><span class="op" id="7453992">]</span><span class="ident" id="7453993">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7454001">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7454015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454018">type</span>&nbsp;<span class="ident" id="7454023">Entry</span>&nbsp;<span class="keyword" id="7454029">struct</span>&nbsp;<span class="op" id="7454036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454039">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7454047">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7454057">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454072">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7454080">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7454090">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454102">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7454110">[</span><span class="op" id="7454111">]</span><span class="ident" id="7454112">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7454120">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454134">Updated</span>&nbsp;<span class="ident" id="7454142">time</span><span class="op" id="7454146">.</span><span class="ident" id="7454147">Time</span>&nbsp;<span class="string" id="7454152">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454169">Author</span>&nbsp;&nbsp;<span class="ident" id="7454177">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7454187">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454203">Summary</span>&nbsp;<span class="ident" id="7454211">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7454221">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="7454237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454240">type</span>&nbsp;<span class="ident" id="7454245">Link</span>&nbsp;<span class="keyword" id="7454250">struct</span>&nbsp;<span class="op" id="7454257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454260">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="7454265">string</span>&nbsp;<span class="string" id="7454272">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454300">Href</span>&nbsp;<span class="builtintype" id="7454305">string</span>&nbsp;<span class="string" id="7454312">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="7454330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454333">type</span>&nbsp;<span class="ident" id="7454338">Person</span>&nbsp;<span class="keyword" id="7454345">struct</span>&nbsp;<span class="op" id="7454352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454355">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7454364">string</span>&nbsp;<span class="string" id="7454371">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454385">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7454394">string</span>&nbsp;<span class="string" id="7454401">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454414">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7454423">string</span>&nbsp;<span class="string" id="7454430">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454445">InnerXML</span>&nbsp;<span class="builtintype" id="7454454">string</span>&nbsp;<span class="string" id="7454461">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7454479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454482">type</span>&nbsp;<span class="ident" id="7454487">Text</span>&nbsp;<span class="keyword" id="7454492">struct</span>&nbsp;<span class="op" id="7454499">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454502">Type</span>&nbsp;<span class="builtintype" id="7454507">string</span>&nbsp;<span class="string" id="7454514">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454543">Body</span>&nbsp;<span class="builtintype" id="7454548">string</span>&nbsp;<span class="string" id="7454555">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7454573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454576">var</span>&nbsp;<span class="ident" id="7454580">atomFeed</span>&nbsp;<span class="op" id="7454589">=</span>&nbsp;<span class="ident" id="7454591">Feed</span><span class="op" id="7454595">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454598">XMLName</span><span class="op" id="7454605">:</span>&nbsp;<span class="ident" id="7454607">Name</span><span class="op" id="7454611">{</span><span class="string" id="7454612">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="7454641">,</span>&nbsp;<span class="string" id="7454643">&#34;feed&#34;</span><span class="op" id="7454649">}</span><span class="op" id="7454650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454653">Title</span><span class="op" id="7454658">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7454662">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="7454687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454690">Link</span><span class="op" id="7454694">:</span>&nbsp;<span class="op" id="7454696">[</span><span class="op" id="7454697">]</span><span class="ident" id="7454698">Link</span><span class="op" id="7454702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454706">{</span><span class="ident" id="7454707">Rel</span><span class="op" id="7454710">:</span>&nbsp;<span class="string" id="7454712">&#34;alternate&#34;</span><span class="op" id="7454723">,</span>&nbsp;<span class="ident" id="7454725">Href</span><span class="op" id="7454729">:</span>&nbsp;<span class="string" id="7454731">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7454763">}</span><span class="op" id="7454764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454768">{</span><span class="ident" id="7454769">Rel</span><span class="op" id="7454772">:</span>&nbsp;<span class="string" id="7454774">&#34;self&#34;</span><span class="op" id="7454780">,</span>&nbsp;<span class="ident" id="7454782">Href</span><span class="op" id="7454786">:</span>&nbsp;<span class="string" id="7454788">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="7454832">}</span><span class="op" id="7454833">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454836">}</span><span class="op" id="7454837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454840">Id</span><span class="op" id="7454842">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7454849">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7454881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454884">Updated</span><span class="op" id="7454891">:</span>&nbsp;<span class="ident" id="7454893">ParseTime</span><span class="op" id="7454902">(</span><span class="string" id="7454903">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7454930">)</span><span class="op" id="7454931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454934">Author</span><span class="op" id="7454940">:</span>&nbsp;<span class="ident" id="7454942">Person</span><span class="op" id="7454948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454952">Name</span><span class="op" id="7454956">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7454962">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="7454974">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454978">InnerXML</span><span class="op" id="7454986">:</span>&nbsp;<span class="string" id="7454988">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="7455019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455022">}</span><span class="op" id="7455023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455026">Entry</span><span class="op" id="7455031">:</span>&nbsp;<span class="op" id="7455033">[</span><span class="op" id="7455034">]</span><span class="ident" id="7455035">Entry</span><span class="op" id="7455040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455049">Title</span><span class="op" id="7455054">:</span>&nbsp;<span class="string" id="7455056">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="7455096">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455101">Link</span><span class="op" id="7455105">:</span>&nbsp;<span class="op" id="7455107">[</span><span class="op" id="7455108">]</span><span class="ident" id="7455109">Link</span><span class="op" id="7455113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455119">{</span><span class="ident" id="7455120">Rel</span><span class="op" id="7455123">:</span>&nbsp;<span class="string" id="7455125">&#34;alternate&#34;</span><span class="op" id="7455136">,</span>&nbsp;<span class="ident" id="7455138">Href</span><span class="op" id="7455142">:</span>&nbsp;<span class="string" id="7455144">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="7455182">}</span><span class="op" id="7455183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455188">}</span><span class="op" id="7455189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455194">Updated</span><span class="op" id="7455201">:</span>&nbsp;<span class="ident" id="7455203">ParseTime</span><span class="op" id="7455212">(</span><span class="string" id="7455213">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7455240">)</span><span class="op" id="7455241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455246">Author</span><span class="op" id="7455252">:</span>&nbsp;<span class="ident" id="7455254">Person</span><span class="op" id="7455260">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455266">Name</span><span class="op" id="7455270">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7455276">&#34;email-address-removed&#34;</span><span class="op" id="7455299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455305">InnerXML</span><span class="op" id="7455313">:</span>&nbsp;<span class="string" id="7455315">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7455351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455356">}</span><span class="op" id="7455357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455362">Id</span><span class="op" id="7455364">:</span>&nbsp;<span class="string" id="7455366">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="7455408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455413">Summary</span><span class="op" id="7455420">:</span>&nbsp;<span class="ident" id="7455422">Text</span><span class="op" id="7455426">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455432">Type</span><span class="op" id="7455436">:</span>&nbsp;<span class="string" id="7455438">&#34;html&#34;</span><span class="op" id="7455444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455450">Body</span><span class="op" id="7455454">:</span>&nbsp;<span class="string" id="7455456">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="7456688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456693">}</span><span class="op" id="7456694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456698">}</span><span class="op" id="7456699">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456708">Title</span><span class="op" id="7456713">:</span>&nbsp;<span class="string" id="7456715">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="7456749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456754">Link</span><span class="op" id="7456758">:</span>&nbsp;<span class="op" id="7456760">[</span><span class="op" id="7456761">]</span><span class="ident" id="7456762">Link</span><span class="op" id="7456766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456772">{</span><span class="ident" id="7456773">Rel</span><span class="op" id="7456776">:</span>&nbsp;<span class="string" id="7456778">&#34;alternate&#34;</span><span class="op" id="7456789">,</span>&nbsp;<span class="ident" id="7456791">Href</span><span class="op" id="7456795">:</span>&nbsp;<span class="string" id="7456797">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="7456835">}</span><span class="op" id="7456836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456841">}</span><span class="op" id="7456842">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456847">Updated</span><span class="op" id="7456854">:</span>&nbsp;<span class="ident" id="7456856">ParseTime</span><span class="op" id="7456865">(</span><span class="string" id="7456866">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="7456893">)</span><span class="op" id="7456894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456899">Author</span><span class="op" id="7456905">:</span>&nbsp;<span class="ident" id="7456907">Person</span><span class="op" id="7456913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456919">Name</span><span class="op" id="7456923">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7456929">&#34;email-address-removed&#34;</span><span class="op" id="7456952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456958">InnerXML</span><span class="op" id="7456966">:</span>&nbsp;<span class="string" id="7456968">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7457004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457009">}</span><span class="op" id="7457010">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457015">Id</span><span class="op" id="7457017">:</span>&nbsp;<span class="string" id="7457019">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="7457061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457066">Summary</span><span class="op" id="7457073">:</span>&nbsp;<span class="ident" id="7457075">Text</span><span class="op" id="7457079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457085">Type</span><span class="op" id="7457089">:</span>&nbsp;<span class="string" id="7457091">&#34;html&#34;</span><span class="op" id="7457097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457103">Body</span><span class="op" id="7457107">:</span>&nbsp;<span class="string" id="7457109">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="7457787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457792">}</span><span class="op" id="7457793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457797">}</span><span class="op" id="7457798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457801">}</span><span class="op" id="7457802">,</span><br>
<span class="lineno">215</span><span class="op" id="7457804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7457807">const</span>&nbsp;<span class="ident" id="7457813">pathTestString</span>&nbsp;<span class="op" id="7457828">=</span>&nbsp;<span class="string" id="7457830">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458192">type</span>&nbsp;<span class="ident" id="7458197">PathTestItem</span>&nbsp;<span class="keyword" id="7458210">struct</span>&nbsp;<span class="op" id="7458217">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458220">Value</span>&nbsp;<span class="builtintype" id="7458226">string</span><br>
<span class="lineno"></span><span class="op" id="7458233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458236">type</span>&nbsp;<span class="ident" id="7458241">PathTestA</span>&nbsp;<span class="keyword" id="7458251">struct</span>&nbsp;<span class="op" id="7458258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458261">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7458275">[</span><span class="op" id="7458276">]</span><span class="ident" id="7458277">PathTestItem</span>&nbsp;<span class="string" id="7458290">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458306">Before</span><span class="op" id="7458312">,</span>&nbsp;<span class="ident" id="7458314">After</span>&nbsp;<span class="builtintype" id="7458320">string</span><br>
<span class="lineno"></span><span class="op" id="7458327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458330">type</span>&nbsp;<span class="ident" id="7458335">PathTestB</span>&nbsp;<span class="keyword" id="7458345">struct</span>&nbsp;<span class="op" id="7458352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458355">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7458369">[</span><span class="op" id="7458370">]</span><span class="ident" id="7458371">PathTestItem</span>&nbsp;<span class="string" id="7458384">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458405">Before</span><span class="op" id="7458411">,</span>&nbsp;<span class="ident" id="7458413">After</span>&nbsp;<span class="builtintype" id="7458419">string</span><br>
<span class="lineno"></span><span class="op" id="7458426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458429">type</span>&nbsp;<span class="ident" id="7458434">PathTestC</span>&nbsp;<span class="keyword" id="7458444">struct</span>&nbsp;<span class="op" id="7458451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458454">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7458468">[</span><span class="op" id="7458469">]</span><span class="builtintype" id="7458470">string</span>&nbsp;<span class="string" id="7458477">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458504">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7458518">[</span><span class="op" id="7458519">]</span><span class="builtintype" id="7458520">string</span>&nbsp;<span class="string" id="7458527">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458554">Before</span><span class="op" id="7458560">,</span>&nbsp;<span class="ident" id="7458562">After</span>&nbsp;<span class="builtintype" id="7458568">string</span><br>
<span class="lineno"></span><span class="op" id="7458575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458578">type</span>&nbsp;<span class="ident" id="7458583">PathTestSet</span>&nbsp;<span class="keyword" id="7458595">struct</span>&nbsp;<span class="op" id="7458602">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458605">Item1</span>&nbsp;<span class="op" id="7458611">[</span><span class="op" id="7458612">]</span><span class="ident" id="7458613">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="7458626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458629">type</span>&nbsp;<span class="ident" id="7458634">PathTestD</span>&nbsp;<span class="keyword" id="7458644">struct</span>&nbsp;<span class="op" id="7458651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458654">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7458668">PathTestSet</span>&nbsp;<span class="string" id="7458680">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458695">Before</span><span class="op" id="7458701">,</span>&nbsp;<span class="ident" id="7458703">After</span>&nbsp;<span class="builtintype" id="7458709">string</span><br>
<span class="lineno"></span><span class="op" id="7458716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458719">type</span>&nbsp;<span class="ident" id="7458724">PathTestE</span>&nbsp;<span class="keyword" id="7458734">struct</span>&nbsp;<span class="op" id="7458741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458744">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7458758">string</span>&nbsp;<span class="string" id="7458765">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458788">Before</span><span class="op" id="7458794">,</span>&nbsp;<span class="ident" id="7458796">After</span>&nbsp;<span class="builtintype" id="7458802">string</span><br>
<span class="lineno"></span><span class="op" id="7458809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7458812">var</span>&nbsp;<span class="ident" id="7458816">pathTests</span>&nbsp;<span class="op" id="7458826">=</span>&nbsp;<span class="op" id="7458828">[</span><span class="op" id="7458829">]</span><span class="keyword" id="7458830">interface</span><span class="op" id="7458839">{</span><span class="op" id="7458840">}</span><span class="op" id="7458841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458844">&amp;</span><span class="ident" id="7458845">PathTestA</span><span class="op" id="7458854">{</span><span class="ident" id="7458855">Items</span><span class="op" id="7458860">:</span>&nbsp;<span class="op" id="7458862">[</span><span class="op" id="7458863">]</span><span class="ident" id="7458864">PathTestItem</span><span class="op" id="7458876">{</span><span class="op" id="7458877">{</span><span class="string" id="7458878">&#34;A&#34;</span><span class="op" id="7458881">}</span><span class="op" id="7458882">,</span>&nbsp;<span class="op" id="7458884">{</span><span class="string" id="7458885">&#34;D&#34;</span><span class="op" id="7458888">}</span><span class="op" id="7458889">}</span><span class="op" id="7458890">,</span>&nbsp;<span class="ident" id="7458892">Before</span><span class="op" id="7458898">:</span>&nbsp;<span class="string" id="7458900">&#34;1&#34;</span><span class="op" id="7458903">,</span>&nbsp;<span class="ident" id="7458905">After</span><span class="op" id="7458910">:</span>&nbsp;<span class="string" id="7458912">&#34;2&#34;</span><span class="op" id="7458915">}</span><span class="op" id="7458916">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458919">&amp;</span><span class="ident" id="7458920">PathTestB</span><span class="op" id="7458929">{</span><span class="ident" id="7458930">Other</span><span class="op" id="7458935">:</span>&nbsp;<span class="op" id="7458937">[</span><span class="op" id="7458938">]</span><span class="ident" id="7458939">PathTestItem</span><span class="op" id="7458951">{</span><span class="op" id="7458952">{</span><span class="string" id="7458953">&#34;A&#34;</span><span class="op" id="7458956">}</span><span class="op" id="7458957">,</span>&nbsp;<span class="op" id="7458959">{</span><span class="string" id="7458960">&#34;D&#34;</span><span class="op" id="7458963">}</span><span class="op" id="7458964">}</span><span class="op" id="7458965">,</span>&nbsp;<span class="ident" id="7458967">Before</span><span class="op" id="7458973">:</span>&nbsp;<span class="string" id="7458975">&#34;1&#34;</span><span class="op" id="7458978">,</span>&nbsp;<span class="ident" id="7458980">After</span><span class="op" id="7458985">:</span>&nbsp;<span class="string" id="7458987">&#34;2&#34;</span><span class="op" id="7458990">}</span><span class="op" id="7458991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458994">&amp;</span><span class="ident" id="7458995">PathTestC</span><span class="op" id="7459004">{</span><span class="ident" id="7459005">Values1</span><span class="op" id="7459012">:</span>&nbsp;<span class="op" id="7459014">[</span><span class="op" id="7459015">]</span><span class="builtintype" id="7459016">string</span><span class="op" id="7459022">{</span><span class="string" id="7459023">&#34;A&#34;</span><span class="op" id="7459026">,</span>&nbsp;<span class="string" id="7459028">&#34;C&#34;</span><span class="op" id="7459031">,</span>&nbsp;<span class="string" id="7459033">&#34;D&#34;</span><span class="op" id="7459036">}</span><span class="op" id="7459037">,</span>&nbsp;<span class="ident" id="7459039">Values2</span><span class="op" id="7459046">:</span>&nbsp;<span class="op" id="7459048">[</span><span class="op" id="7459049">]</span><span class="builtintype" id="7459050">string</span><span class="op" id="7459056">{</span><span class="string" id="7459057">&#34;B&#34;</span><span class="op" id="7459060">}</span><span class="op" id="7459061">,</span>&nbsp;<span class="ident" id="7459063">Before</span><span class="op" id="7459069">:</span>&nbsp;<span class="string" id="7459071">&#34;1&#34;</span><span class="op" id="7459074">,</span>&nbsp;<span class="ident" id="7459076">After</span><span class="op" id="7459081">:</span>&nbsp;<span class="string" id="7459083">&#34;2&#34;</span><span class="op" id="7459086">}</span><span class="op" id="7459087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459090">&amp;</span><span class="ident" id="7459091">PathTestD</span><span class="op" id="7459100">{</span><span class="ident" id="7459101">Other</span><span class="op" id="7459106">:</span>&nbsp;<span class="ident" id="7459108">PathTestSet</span><span class="op" id="7459119">{</span><span class="ident" id="7459120">Item1</span><span class="op" id="7459125">:</span>&nbsp;<span class="op" id="7459127">[</span><span class="op" id="7459128">]</span><span class="ident" id="7459129">PathTestItem</span><span class="op" id="7459141">{</span><span class="op" id="7459142">{</span><span class="string" id="7459143">&#34;A&#34;</span><span class="op" id="7459146">}</span><span class="op" id="7459147">,</span>&nbsp;<span class="op" id="7459149">{</span><span class="string" id="7459150">&#34;D&#34;</span><span class="op" id="7459153">}</span><span class="op" id="7459154">}</span><span class="op" id="7459155">}</span><span class="op" id="7459156">,</span>&nbsp;<span class="ident" id="7459158">Before</span><span class="op" id="7459164">:</span>&nbsp;<span class="string" id="7459166">&#34;1&#34;</span><span class="op" id="7459169">,</span>&nbsp;<span class="ident" id="7459171">After</span><span class="op" id="7459176">:</span>&nbsp;<span class="string" id="7459178">&#34;2&#34;</span><span class="op" id="7459181">}</span><span class="op" id="7459182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459185">&amp;</span><span class="ident" id="7459186">PathTestE</span><span class="op" id="7459195">{</span><span class="ident" id="7459196">Underline</span><span class="op" id="7459205">:</span>&nbsp;<span class="string" id="7459207">&#34;E&#34;</span><span class="op" id="7459210">,</span>&nbsp;<span class="ident" id="7459212">Before</span><span class="op" id="7459218">:</span>&nbsp;<span class="string" id="7459220">&#34;1&#34;</span><span class="op" id="7459223">,</span>&nbsp;<span class="ident" id="7459225">After</span><span class="op" id="7459230">:</span>&nbsp;<span class="string" id="7459232">&#34;2&#34;</span><span class="op" id="7459235">}</span><span class="op" id="7459236">,</span><br>
<span class="lineno"></span><span class="op" id="7459238">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7459241">func</span>&nbsp;<span class="ident" id="7459246">TestUnmarshalPaths</span><span class="op" id="7459264">(</span><span class="ident" id="7459265">t</span>&nbsp;<span class="op" id="7459267">*</span><span class="ident" id="7459268">testing</span><span class="op" id="7459275">.</span><span class="ident" id="7459276">T</span><span class="op" id="7459277">)</span>&nbsp;<span class="op" id="7459279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459282">for</span>&nbsp;<span class="ident" id="7459286">_</span><span class="op" id="7459287">,</span>&nbsp;<span class="ident" id="7459289">pt</span>&nbsp;<span class="op" id="7459292">:=</span>&nbsp;<span class="keyword" id="7459295">range</span>&nbsp;<span class="ident" id="7459301">pathTests</span>&nbsp;<span class="op" id="7459311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459315">v</span>&nbsp;<span class="op" id="7459317">:=</span>&nbsp;<span class="ident" id="7459320">reflect</span><span class="op" id="7459327">.</span><span class="ident" id="7459328">New</span><span class="op" id="7459331">(</span><span class="ident" id="7459332">reflect</span><span class="op" id="7459339">.</span><span class="ident" id="7459340">TypeOf</span><span class="op" id="7459346">(</span><span class="ident" id="7459347">pt</span><span class="op" id="7459349">)</span><span class="op" id="7459350">.</span><span class="ident" id="7459351">Elem</span><span class="op" id="7459355">(</span><span class="op" id="7459356">)</span><span class="op" id="7459357">)</span><span class="op" id="7459358">.</span><span class="ident" id="7459359">Interface</span><span class="op" id="7459368">(</span><span class="op" id="7459369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459373">if</span>&nbsp;<span class="ident" id="7459376">err</span>&nbsp;<span class="op" id="7459380">:=</span>&nbsp;<span class="ident" id="7459383">Unmarshal</span><span class="op" id="7459392">(</span><span class="op" id="7459393">[</span><span class="op" id="7459394">]</span><span class="builtintype" id="7459395">byte</span><span class="op" id="7459399">(</span><span class="ident" id="7459400">pathTestString</span><span class="op" id="7459414">)</span><span class="op" id="7459415">,</span>&nbsp;<span class="ident" id="7459417">v</span><span class="op" id="7459418">)</span><span class="op" id="7459419">;</span>&nbsp;<span class="ident" id="7459421">err</span>&nbsp;<span class="op" id="7459425">!=</span>&nbsp;<span class="ident" id="7459428">nil</span>&nbsp;<span class="op" id="7459432">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459437">t</span><span class="op" id="7459438">.</span><span class="ident" id="7459439">Fatalf</span><span class="op" id="7459445">(</span><span class="string" id="7459446">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7459461">,</span>&nbsp;<span class="ident" id="7459463">err</span><span class="op" id="7459466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459474">if</span>&nbsp;<span class="op" id="7459477">!</span><span class="ident" id="7459478">reflect</span><span class="op" id="7459485">.</span><span class="ident" id="7459486">DeepEqual</span><span class="op" id="7459495">(</span><span class="ident" id="7459496">v</span><span class="op" id="7459497">,</span>&nbsp;<span class="ident" id="7459499">pt</span><span class="op" id="7459501">)</span>&nbsp;<span class="op" id="7459503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459508">t</span><span class="op" id="7459509">.</span><span class="ident" id="7459510">Fatalf</span><span class="op" id="7459516">(</span><span class="string" id="7459517">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7459537">,</span>&nbsp;<span class="ident" id="7459539">v</span><span class="op" id="7459540">,</span>&nbsp;<span class="ident" id="7459542">pt</span><span class="op" id="7459544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459548">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459551">}</span><br>
<span class="lineno"></span><span class="op" id="7459553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459556">type</span>&nbsp;<span class="ident" id="7459561">BadPathTestA</span>&nbsp;<span class="keyword" id="7459574">struct</span>&nbsp;<span class="op" id="7459581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459584">First</span>&nbsp;&nbsp;<span class="builtintype" id="7459591">string</span>&nbsp;<span class="string" id="7459598">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459619">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7459626">string</span>&nbsp;<span class="string" id="7459633">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459654">Second</span>&nbsp;<span class="builtintype" id="7459661">string</span>&nbsp;<span class="string" id="7459668">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7459682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459685">type</span>&nbsp;<span class="ident" id="7459690">BadPathTestB</span>&nbsp;<span class="keyword" id="7459703">struct</span>&nbsp;<span class="op" id="7459710">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459713">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7459720">string</span>&nbsp;<span class="string" id="7459727">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459754">First</span>&nbsp;&nbsp;<span class="builtintype" id="7459761">string</span>&nbsp;<span class="string" id="7459768">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459789">Second</span>&nbsp;<span class="builtintype" id="7459796">string</span>&nbsp;<span class="string" id="7459803">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7459829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="7459832">type</span>&nbsp;<span class="ident" id="7459837">BadPathTestC</span>&nbsp;<span class="keyword" id="7459850">struct</span>&nbsp;<span class="op" id="7459857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459860">First</span>&nbsp;&nbsp;<span class="builtintype" id="7459867">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459875">Second</span>&nbsp;<span class="builtintype" id="7459882">string</span>&nbsp;<span class="string" id="7459889">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7459903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="7459906">type</span>&nbsp;<span class="ident" id="7459911">BadPathTestD</span>&nbsp;<span class="keyword" id="7459924">struct</span>&nbsp;<span class="op" id="7459931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459934">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459952">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="7459969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7459972">type</span>&nbsp;<span class="ident" id="7459977">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="7459994">struct</span>&nbsp;<span class="op" id="7460001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460004">First</span>&nbsp;<span class="builtintype" id="7460010">string</span><br>
<span class="lineno"></span><span class="op" id="7460017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7460020">type</span>&nbsp;<span class="ident" id="7460025">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="7460042">struct</span>&nbsp;<span class="op" id="7460049">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460052">Second</span>&nbsp;<span class="builtintype" id="7460059">string</span>&nbsp;<span class="string" id="7460066">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7460080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7460083">var</span>&nbsp;<span class="ident" id="7460087">badPathTests</span>&nbsp;<span class="op" id="7460100">=</span>&nbsp;<span class="op" id="7460102">[</span><span class="op" id="7460103">]</span><span class="keyword" id="7460104">struct</span>&nbsp;<span class="op" id="7460111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460114">v</span><span class="op" id="7460115">,</span>&nbsp;<span class="ident" id="7460117">e</span>&nbsp;<span class="keyword" id="7460119">interface</span><span class="op" id="7460128">{</span><span class="op" id="7460129">}</span><br>
<span class="lineno">325</span><span class="op" id="7460131">}</span><span class="op" id="7460132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460135">{</span><span class="op" id="7460136">&amp;</span><span class="ident" id="7460137">BadPathTestA</span><span class="op" id="7460149">{</span><span class="op" id="7460150">}</span><span class="op" id="7460151">,</span>&nbsp;<span class="op" id="7460153">&amp;</span><span class="ident" id="7460154">TagPathError</span><span class="op" id="7460166">{</span><span class="ident" id="7460167">reflect</span><span class="op" id="7460174">.</span><span class="ident" id="7460175">TypeOf</span><span class="op" id="7460181">(</span><span class="ident" id="7460182">BadPathTestA</span><span class="op" id="7460194">{</span><span class="op" id="7460195">}</span><span class="op" id="7460196">)</span><span class="op" id="7460197">,</span>&nbsp;<span class="string" id="7460199">&#34;First&#34;</span><span class="op" id="7460206">,</span>&nbsp;<span class="string" id="7460208">&#34;items&gt;item1&#34;</span><span class="op" id="7460221">,</span>&nbsp;<span class="string" id="7460223">&#34;Second&#34;</span><span class="op" id="7460231">,</span>&nbsp;<span class="string" id="7460233">&#34;items&#34;</span><span class="op" id="7460240">}</span><span class="op" id="7460241">}</span><span class="op" id="7460242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460245">{</span><span class="op" id="7460246">&amp;</span><span class="ident" id="7460247">BadPathTestB</span><span class="op" id="7460259">{</span><span class="op" id="7460260">}</span><span class="op" id="7460261">,</span>&nbsp;<span class="op" id="7460263">&amp;</span><span class="ident" id="7460264">TagPathError</span><span class="op" id="7460276">{</span><span class="ident" id="7460277">reflect</span><span class="op" id="7460284">.</span><span class="ident" id="7460285">TypeOf</span><span class="op" id="7460291">(</span><span class="ident" id="7460292">BadPathTestB</span><span class="op" id="7460304">{</span><span class="op" id="7460305">}</span><span class="op" id="7460306">)</span><span class="op" id="7460307">,</span>&nbsp;<span class="string" id="7460309">&#34;First&#34;</span><span class="op" id="7460316">,</span>&nbsp;<span class="string" id="7460318">&#34;items&gt;item1&#34;</span><span class="op" id="7460331">,</span>&nbsp;<span class="string" id="7460333">&#34;Second&#34;</span><span class="op" id="7460341">,</span>&nbsp;<span class="string" id="7460343">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="7460362">}</span><span class="op" id="7460363">}</span><span class="op" id="7460364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460367">{</span><span class="op" id="7460368">&amp;</span><span class="ident" id="7460369">BadPathTestC</span><span class="op" id="7460381">{</span><span class="op" id="7460382">}</span><span class="op" id="7460383">,</span>&nbsp;<span class="op" id="7460385">&amp;</span><span class="ident" id="7460386">TagPathError</span><span class="op" id="7460398">{</span><span class="ident" id="7460399">reflect</span><span class="op" id="7460406">.</span><span class="ident" id="7460407">TypeOf</span><span class="op" id="7460413">(</span><span class="ident" id="7460414">BadPathTestC</span><span class="op" id="7460426">{</span><span class="op" id="7460427">}</span><span class="op" id="7460428">)</span><span class="op" id="7460429">,</span>&nbsp;<span class="string" id="7460431">&#34;First&#34;</span><span class="op" id="7460438">,</span>&nbsp;<span class="string" id="7460440">&#34;&#34;</span><span class="op" id="7460442">,</span>&nbsp;<span class="string" id="7460444">&#34;Second&#34;</span><span class="op" id="7460452">,</span>&nbsp;<span class="string" id="7460454">&#34;First&#34;</span><span class="op" id="7460461">}</span><span class="op" id="7460462">}</span><span class="op" id="7460463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460466">{</span><span class="op" id="7460467">&amp;</span><span class="ident" id="7460468">BadPathTestD</span><span class="op" id="7460480">{</span><span class="op" id="7460481">}</span><span class="op" id="7460482">,</span>&nbsp;<span class="op" id="7460484">&amp;</span><span class="ident" id="7460485">TagPathError</span><span class="op" id="7460497">{</span><span class="ident" id="7460498">reflect</span><span class="op" id="7460505">.</span><span class="ident" id="7460506">TypeOf</span><span class="op" id="7460512">(</span><span class="ident" id="7460513">BadPathTestD</span><span class="op" id="7460525">{</span><span class="op" id="7460526">}</span><span class="op" id="7460527">)</span><span class="op" id="7460528">,</span>&nbsp;<span class="string" id="7460530">&#34;First&#34;</span><span class="op" id="7460537">,</span>&nbsp;<span class="string" id="7460539">&#34;&#34;</span><span class="op" id="7460541">,</span>&nbsp;<span class="string" id="7460543">&#34;Second&#34;</span><span class="op" id="7460551">,</span>&nbsp;<span class="string" id="7460553">&#34;First&#34;</span><span class="op" id="7460560">}</span><span class="op" id="7460561">}</span><span class="op" id="7460562">,</span><br>
<span class="lineno">330</span><span class="op" id="7460564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7460567">func</span>&nbsp;<span class="ident" id="7460572">TestUnmarshalBadPaths</span><span class="op" id="7460593">(</span><span class="ident" id="7460594">t</span>&nbsp;<span class="op" id="7460596">*</span><span class="ident" id="7460597">testing</span><span class="op" id="7460604">.</span><span class="ident" id="7460605">T</span><span class="op" id="7460606">)</span>&nbsp;<span class="op" id="7460608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460611">for</span>&nbsp;<span class="ident" id="7460615">_</span><span class="op" id="7460616">,</span>&nbsp;<span class="ident" id="7460618">tt</span>&nbsp;<span class="op" id="7460621">:=</span>&nbsp;<span class="keyword" id="7460624">range</span>&nbsp;<span class="ident" id="7460630">badPathTests</span>&nbsp;<span class="op" id="7460643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460647">err</span>&nbsp;<span class="op" id="7460651">:=</span>&nbsp;<span class="ident" id="7460654">Unmarshal</span><span class="op" id="7460663">(</span><span class="op" id="7460664">[</span><span class="op" id="7460665">]</span><span class="builtintype" id="7460666">byte</span><span class="op" id="7460670">(</span><span class="ident" id="7460671">pathTestString</span><span class="op" id="7460685">)</span><span class="op" id="7460686">,</span>&nbsp;<span class="ident" id="7460688">tt</span><span class="op" id="7460690">.</span><span class="ident" id="7460691">v</span><span class="op" id="7460692">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460696">if</span>&nbsp;<span class="op" id="7460699">!</span><span class="ident" id="7460700">reflect</span><span class="op" id="7460707">.</span><span class="ident" id="7460708">DeepEqual</span><span class="op" id="7460717">(</span><span class="ident" id="7460718">err</span><span class="op" id="7460721">,</span>&nbsp;<span class="ident" id="7460723">tt</span><span class="op" id="7460725">.</span><span class="ident" id="7460726">e</span><span class="op" id="7460727">)</span>&nbsp;<span class="op" id="7460729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460734">t</span><span class="op" id="7460735">.</span><span class="ident" id="7460736">Fatalf</span><span class="op" id="7460742">(</span><span class="string" id="7460743">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="7460806">,</span>&nbsp;<span class="ident" id="7460808">tt</span><span class="op" id="7460810">.</span><span class="ident" id="7460811">v</span><span class="op" id="7460812">,</span>&nbsp;<span class="ident" id="7460814">err</span><span class="op" id="7460817">,</span>&nbsp;<span class="ident" id="7460819">tt</span><span class="op" id="7460821">.</span><span class="ident" id="7460822">e</span><span class="op" id="7460823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460830">}</span><br>
<span class="lineno"></span><span class="op" id="7460832">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7460835">const</span>&nbsp;<span class="ident" id="7460841">OK</span>&nbsp;<span class="op" id="7460844">=</span>&nbsp;<span class="string" id="7460846">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7460851">const</span>&nbsp;<span class="ident" id="7460857">withoutNameTypeData</span>&nbsp;<span class="op" id="7460877">=</span>&nbsp;<span class="string" id="7460879">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="7460941">type</span>&nbsp;<span class="ident" id="7460946">TestThree</span>&nbsp;<span class="keyword" id="7460956">struct</span>&nbsp;<span class="op" id="7460963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460966">XMLName</span>&nbsp;<span class="ident" id="7460974">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7460981">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460996">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7461004">string</span>&nbsp;<span class="string" id="7461011">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7461025">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7461028">func</span>&nbsp;<span class="ident" id="7461033">TestUnmarshalWithoutNameType</span><span class="op" id="7461061">(</span><span class="ident" id="7461062">t</span>&nbsp;<span class="op" id="7461064">*</span><span class="ident" id="7461065">testing</span><span class="op" id="7461072">.</span><span class="ident" id="7461073">T</span><span class="op" id="7461074">)</span>&nbsp;<span class="op" id="7461076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461079">var</span>&nbsp;<span class="ident" id="7461083">x</span>&nbsp;<span class="ident" id="7461085">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461096">if</span>&nbsp;<span class="ident" id="7461099">err</span>&nbsp;<span class="op" id="7461103">:=</span>&nbsp;<span class="ident" id="7461106">Unmarshal</span><span class="op" id="7461115">(</span><span class="op" id="7461116">[</span><span class="op" id="7461117">]</span><span class="builtintype" id="7461118">byte</span><span class="op" id="7461122">(</span><span class="ident" id="7461123">withoutNameTypeData</span><span class="op" id="7461142">)</span><span class="op" id="7461143">,</span>&nbsp;<span class="op" id="7461145">&amp;</span><span class="ident" id="7461146">x</span><span class="op" id="7461147">)</span><span class="op" id="7461148">;</span>&nbsp;<span class="ident" id="7461150">err</span>&nbsp;<span class="op" id="7461154">!=</span>&nbsp;<span class="ident" id="7461157">nil</span>&nbsp;<span class="op" id="7461161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461165">t</span><span class="op" id="7461166">.</span><span class="ident" id="7461167">Fatalf</span><span class="op" id="7461173">(</span><span class="string" id="7461174">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7461189">,</span>&nbsp;<span class="ident" id="7461191">err</span><span class="op" id="7461194">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461200">if</span>&nbsp;<span class="ident" id="7461203">x</span><span class="op" id="7461204">.</span><span class="ident" id="7461205">Attr</span>&nbsp;<span class="op" id="7461210">!=</span>&nbsp;<span class="ident" id="7461213">OK</span>&nbsp;<span class="op" id="7461216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461220">t</span><span class="op" id="7461221">.</span><span class="ident" id="7461222">Fatalf</span><span class="op" id="7461228">(</span><span class="string" id="7461229">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="7461247">,</span>&nbsp;<span class="ident" id="7461249">x</span><span class="op" id="7461250">.</span><span class="ident" id="7461251">Attr</span><span class="op" id="7461255">,</span>&nbsp;<span class="ident" id="7461257">OK</span><span class="op" id="7461259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461262">}</span><br>
<span class="lineno"></span><span class="op" id="7461264">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="7461267">func</span>&nbsp;<span class="ident" id="7461272">TestUnmarshalAttr</span><span class="op" id="7461289">(</span><span class="ident" id="7461290">t</span>&nbsp;<span class="op" id="7461292">*</span><span class="ident" id="7461293">testing</span><span class="op" id="7461300">.</span><span class="ident" id="7461301">T</span><span class="op" id="7461302">)</span>&nbsp;<span class="op" id="7461304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461307">type</span>&nbsp;<span class="ident" id="7461312">ParamVal</span>&nbsp;<span class="keyword" id="7461321">struct</span>&nbsp;<span class="op" id="7461328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461332">Int</span>&nbsp;<span class="builtintype" id="7461336">int</span>&nbsp;<span class="string" id="7461340">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461358">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461362">type</span>&nbsp;<span class="ident" id="7461367">ParamPtr</span>&nbsp;<span class="keyword" id="7461376">struct</span>&nbsp;<span class="op" id="7461383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461387">Int</span>&nbsp;<span class="op" id="7461391">*</span><span class="builtintype" id="7461392">int</span>&nbsp;<span class="string" id="7461396">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461418">type</span>&nbsp;<span class="ident" id="7461423">ParamStringPtr</span>&nbsp;<span class="keyword" id="7461438">struct</span>&nbsp;<span class="op" id="7461445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461449">Int</span>&nbsp;<span class="op" id="7461453">*</span><span class="builtintype" id="7461454">string</span>&nbsp;<span class="string" id="7461461">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461483">x</span>&nbsp;<span class="op" id="7461485">:=</span>&nbsp;<span class="op" id="7461488">[</span><span class="op" id="7461489">]</span><span class="builtintype" id="7461490">byte</span><span class="op" id="7461494">(</span><span class="string" id="7461495">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="7461514">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461518">p1</span>&nbsp;<span class="op" id="7461521">:=</span>&nbsp;<span class="op" id="7461524">&amp;</span><span class="ident" id="7461525">ParamPtr</span><span class="op" id="7461533">{</span><span class="op" id="7461534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461537">if</span>&nbsp;<span class="ident" id="7461540">err</span>&nbsp;<span class="op" id="7461544">:=</span>&nbsp;<span class="ident" id="7461547">Unmarshal</span><span class="op" id="7461556">(</span><span class="ident" id="7461557">x</span><span class="op" id="7461558">,</span>&nbsp;<span class="ident" id="7461560">p1</span><span class="op" id="7461562">)</span><span class="op" id="7461563">;</span>&nbsp;<span class="ident" id="7461565">err</span>&nbsp;<span class="op" id="7461569">!=</span>&nbsp;<span class="ident" id="7461572">nil</span>&nbsp;<span class="op" id="7461576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461580">t</span><span class="op" id="7461581">.</span><span class="ident" id="7461582">Fatalf</span><span class="op" id="7461588">(</span><span class="string" id="7461589">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7461604">,</span>&nbsp;<span class="ident" id="7461606">err</span><span class="op" id="7461609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461612">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461615">if</span>&nbsp;<span class="ident" id="7461618">p1</span><span class="op" id="7461620">.</span><span class="ident" id="7461621">Int</span>&nbsp;<span class="op" id="7461625">==</span>&nbsp;<span class="ident" id="7461628">nil</span>&nbsp;<span class="op" id="7461632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461636">t</span><span class="op" id="7461637">.</span><span class="ident" id="7461638">Fatalf</span><span class="op" id="7461644">(</span><span class="string" id="7461645">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="7461680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461683">}</span>&nbsp;<span class="keyword" id="7461685">else</span>&nbsp;<span class="keyword" id="7461690">if</span>&nbsp;<span class="op" id="7461693">*</span><span class="ident" id="7461694">p1</span><span class="op" id="7461696">.</span><span class="ident" id="7461697">Int</span>&nbsp;<span class="op" id="7461701">!=</span>&nbsp;<span class="num" id="7461704">1</span>&nbsp;<span class="op" id="7461706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461710">t</span><span class="op" id="7461711">.</span><span class="ident" id="7461712">Fatalf</span><span class="op" id="7461718">(</span><span class="string" id="7461719">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7461768">,</span>&nbsp;<span class="ident" id="7461770">x</span><span class="op" id="7461771">,</span>&nbsp;<span class="ident" id="7461773">p1</span><span class="op" id="7461775">.</span><span class="ident" id="7461776">Int</span><span class="op" id="7461779">,</span>&nbsp;<span class="num" id="7461781">1</span><span class="op" id="7461782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461785">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461789">p2</span>&nbsp;<span class="op" id="7461792">:=</span>&nbsp;<span class="op" id="7461795">&amp;</span><span class="ident" id="7461796">ParamVal</span><span class="op" id="7461804">{</span><span class="op" id="7461805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461808">if</span>&nbsp;<span class="ident" id="7461811">err</span>&nbsp;<span class="op" id="7461815">:=</span>&nbsp;<span class="ident" id="7461818">Unmarshal</span><span class="op" id="7461827">(</span><span class="ident" id="7461828">x</span><span class="op" id="7461829">,</span>&nbsp;<span class="ident" id="7461831">p2</span><span class="op" id="7461833">)</span><span class="op" id="7461834">;</span>&nbsp;<span class="ident" id="7461836">err</span>&nbsp;<span class="op" id="7461840">!=</span>&nbsp;<span class="ident" id="7461843">nil</span>&nbsp;<span class="op" id="7461847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461851">t</span><span class="op" id="7461852">.</span><span class="ident" id="7461853">Fatalf</span><span class="op" id="7461859">(</span><span class="string" id="7461860">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7461875">,</span>&nbsp;<span class="ident" id="7461877">err</span><span class="op" id="7461880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461883">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461886">if</span>&nbsp;<span class="ident" id="7461889">p2</span><span class="op" id="7461891">.</span><span class="ident" id="7461892">Int</span>&nbsp;<span class="op" id="7461896">!=</span>&nbsp;<span class="num" id="7461899">1</span>&nbsp;<span class="op" id="7461901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461905">t</span><span class="op" id="7461906">.</span><span class="ident" id="7461907">Fatalf</span><span class="op" id="7461913">(</span><span class="string" id="7461914">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7461963">,</span>&nbsp;<span class="ident" id="7461965">x</span><span class="op" id="7461966">,</span>&nbsp;<span class="ident" id="7461968">p2</span><span class="op" id="7461970">.</span><span class="ident" id="7461971">Int</span><span class="op" id="7461974">,</span>&nbsp;<span class="num" id="7461976">1</span><span class="op" id="7461977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461984">p3</span>&nbsp;<span class="op" id="7461987">:=</span>&nbsp;<span class="op" id="7461990">&amp;</span><span class="ident" id="7461991">ParamStringPtr</span><span class="op" id="7462005">{</span><span class="op" id="7462006">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462009">if</span>&nbsp;<span class="ident" id="7462012">err</span>&nbsp;<span class="op" id="7462016">:=</span>&nbsp;<span class="ident" id="7462019">Unmarshal</span><span class="op" id="7462028">(</span><span class="ident" id="7462029">x</span><span class="op" id="7462030">,</span>&nbsp;<span class="ident" id="7462032">p3</span><span class="op" id="7462034">)</span><span class="op" id="7462035">;</span>&nbsp;<span class="ident" id="7462037">err</span>&nbsp;<span class="op" id="7462041">!=</span>&nbsp;<span class="ident" id="7462044">nil</span>&nbsp;<span class="op" id="7462048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462052">t</span><span class="op" id="7462053">.</span><span class="ident" id="7462054">Fatalf</span><span class="op" id="7462060">(</span><span class="string" id="7462061">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7462076">,</span>&nbsp;<span class="ident" id="7462078">err</span><span class="op" id="7462081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462087">if</span>&nbsp;<span class="ident" id="7462090">p3</span><span class="op" id="7462092">.</span><span class="ident" id="7462093">Int</span>&nbsp;<span class="op" id="7462097">==</span>&nbsp;<span class="ident" id="7462100">nil</span>&nbsp;<span class="op" id="7462104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462108">t</span><span class="op" id="7462109">.</span><span class="ident" id="7462110">Fatalf</span><span class="op" id="7462116">(</span><span class="string" id="7462117">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="7462155">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462158">}</span>&nbsp;<span class="keyword" id="7462160">else</span>&nbsp;<span class="keyword" id="7462165">if</span>&nbsp;<span class="op" id="7462168">*</span><span class="ident" id="7462169">p3</span><span class="op" id="7462171">.</span><span class="ident" id="7462172">Int</span>&nbsp;<span class="op" id="7462176">!=</span>&nbsp;<span class="string" id="7462179">&#34;1&#34;</span>&nbsp;<span class="op" id="7462183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462187">t</span><span class="op" id="7462188">.</span><span class="ident" id="7462189">Fatalf</span><span class="op" id="7462195">(</span><span class="string" id="7462196">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7462245">,</span>&nbsp;<span class="ident" id="7462247">x</span><span class="op" id="7462248">,</span>&nbsp;<span class="ident" id="7462250">p3</span><span class="op" id="7462252">.</span><span class="ident" id="7462253">Int</span><span class="op" id="7462256">,</span>&nbsp;<span class="num" id="7462258">1</span><span class="op" id="7462259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462262">}</span><br>
<span class="lineno"></span><span class="op" id="7462264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="7462267">type</span>&nbsp;<span class="ident" id="7462272">Tables</span>&nbsp;<span class="keyword" id="7462279">struct</span>&nbsp;<span class="op" id="7462286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462289">HTable</span>&nbsp;<span class="builtintype" id="7462296">string</span>&nbsp;<span class="string" id="7462303">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462346">FTable</span>&nbsp;<span class="builtintype" id="7462353">string</span>&nbsp;<span class="string" id="7462360">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7462409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="7462412">var</span>&nbsp;<span class="ident" id="7462416">tables</span>&nbsp;<span class="op" id="7462423">=</span>&nbsp;<span class="op" id="7462425">[</span><span class="op" id="7462426">]</span><span class="keyword" id="7462427">struct</span>&nbsp;<span class="op" id="7462434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462437">xml</span>&nbsp;<span class="builtintype" id="7462441">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462449">tab</span>&nbsp;<span class="ident" id="7462453">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462461">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7462465">string</span><br>
<span class="lineno"></span><span class="op" id="7462472">}</span><span class="op" id="7462473">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462480">xml</span><span class="op" id="7462483">:</span>&nbsp;<span class="string" id="7462485">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7462496">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7462501">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7462560">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7462565">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7462631">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7462636">`&lt;/Tables&gt;`</span><span class="op" id="7462647">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462651">tab</span><span class="op" id="7462654">:</span>&nbsp;<span class="ident" id="7462656">Tables</span><span class="op" id="7462662">{</span><span class="string" id="7462663">&#34;hello&#34;</span><span class="op" id="7462670">,</span>&nbsp;<span class="string" id="7462672">&#34;world&#34;</span><span class="op" id="7462679">}</span><span class="op" id="7462680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462683">}</span><span class="op" id="7462684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462691">xml</span><span class="op" id="7462694">:</span>&nbsp;<span class="string" id="7462696">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7462707">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7462712">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7462778">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7462783">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7462842">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7462847">`&lt;/Tables&gt;`</span><span class="op" id="7462858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462862">tab</span><span class="op" id="7462865">:</span>&nbsp;<span class="ident" id="7462867">Tables</span><span class="op" id="7462873">{</span><span class="string" id="7462874">&#34;hello&#34;</span><span class="op" id="7462881">,</span>&nbsp;<span class="string" id="7462883">&#34;world&#34;</span><span class="op" id="7462890">}</span><span class="op" id="7462891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462894">}</span><span class="op" id="7462895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462898">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462902">xml</span><span class="op" id="7462905">:</span>&nbsp;<span class="string" id="7462907">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="7463001">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463006">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="7463033">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463038">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="7463065">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463070">`&lt;/Tables&gt;`</span><span class="op" id="7463081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463085">tab</span><span class="op" id="7463088">:</span>&nbsp;<span class="ident" id="7463090">Tables</span><span class="op" id="7463096">{</span><span class="string" id="7463097">&#34;hello&#34;</span><span class="op" id="7463104">,</span>&nbsp;<span class="string" id="7463106">&#34;world&#34;</span><span class="op" id="7463113">}</span><span class="op" id="7463114">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463117">}</span><span class="op" id="7463118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463125">xml</span><span class="op" id="7463128">:</span>&nbsp;<span class="string" id="7463130">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7463141">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463146">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="7463169">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463174">`&lt;/Tables&gt;`</span><span class="op" id="7463185">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463189">tab</span><span class="op" id="7463192">:</span>&nbsp;<span class="ident" id="7463194">Tables</span><span class="op" id="7463200">{</span><span class="op" id="7463201">}</span><span class="op" id="7463202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463205">}</span><span class="op" id="7463206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463213">xml</span><span class="op" id="7463216">:</span>&nbsp;<span class="string" id="7463218">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7463229">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463234">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7463256">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463261">`&lt;/Tables&gt;`</span><span class="op" id="7463272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463276">tab</span><span class="op" id="7463279">:</span>&nbsp;<span class="ident" id="7463281">Tables</span><span class="op" id="7463287">{</span><span class="ident" id="7463288">HTable</span><span class="op" id="7463294">:</span>&nbsp;<span class="string" id="7463296">&#34;only&#34;</span><span class="op" id="7463302">}</span><span class="op" id="7463303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463307">ns</span><span class="op" id="7463309">:</span>&nbsp;&nbsp;<span class="string" id="7463312">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7463341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463344">}</span><span class="op" id="7463345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463348">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463352">xml</span><span class="op" id="7463355">:</span>&nbsp;<span class="string" id="7463357">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7463368">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463373">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7463395">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463400">`&lt;/Tables&gt;`</span><span class="op" id="7463411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463415">tab</span><span class="op" id="7463418">:</span>&nbsp;<span class="ident" id="7463420">Tables</span><span class="op" id="7463426">{</span><span class="ident" id="7463427">FTable</span><span class="op" id="7463433">:</span>&nbsp;<span class="string" id="7463435">&#34;only&#34;</span><span class="op" id="7463441">}</span><span class="op" id="7463442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463446">ns</span><span class="op" id="7463448">:</span>&nbsp;&nbsp;<span class="string" id="7463451">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7463487">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463490">}</span><span class="op" id="7463491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463498">xml</span><span class="op" id="7463501">:</span>&nbsp;<span class="string" id="7463503">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7463514">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463519">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7463541">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7463546">`&lt;/Tables&gt;`</span><span class="op" id="7463557">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463561">tab</span><span class="op" id="7463564">:</span>&nbsp;<span class="ident" id="7463566">Tables</span><span class="op" id="7463572">{</span><span class="op" id="7463573">}</span><span class="op" id="7463574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463578">ns</span><span class="op" id="7463580">:</span>&nbsp;&nbsp;<span class="string" id="7463583">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7463608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463611">}</span><span class="op" id="7463612">,</span><br>
<span class="lineno"></span><span class="op" id="7463614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="7463617">func</span>&nbsp;<span class="ident" id="7463622">TestUnmarshalNS</span><span class="op" id="7463637">(</span><span class="ident" id="7463638">t</span>&nbsp;<span class="op" id="7463640">*</span><span class="ident" id="7463641">testing</span><span class="op" id="7463648">.</span><span class="ident" id="7463649">T</span><span class="op" id="7463650">)</span>&nbsp;<span class="op" id="7463652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463655">for</span>&nbsp;<span class="ident" id="7463659">i</span><span class="op" id="7463660">,</span>&nbsp;<span class="ident" id="7463662">tt</span>&nbsp;<span class="op" id="7463665">:=</span>&nbsp;<span class="keyword" id="7463668">range</span>&nbsp;<span class="ident" id="7463674">tables</span>&nbsp;<span class="op" id="7463681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463685">var</span>&nbsp;<span class="ident" id="7463689">dst</span>&nbsp;<span class="ident" id="7463693">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463702">var</span>&nbsp;<span class="ident" id="7463706">err</span>&nbsp;<span class="builtintype" id="7463710">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463718">if</span>&nbsp;<span class="ident" id="7463721">tt</span><span class="op" id="7463723">.</span><span class="ident" id="7463724">ns</span>&nbsp;<span class="op" id="7463727">!=</span>&nbsp;<span class="string" id="7463730">&#34;&#34;</span>&nbsp;<span class="op" id="7463733">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463738">d</span>&nbsp;<span class="op" id="7463740">:=</span>&nbsp;<span class="ident" id="7463743">NewDecoder</span><span class="op" id="7463753">(</span><span class="ident" id="7463754">strings</span><span class="op" id="7463761">.</span><span class="ident" id="7463762">NewReader</span><span class="op" id="7463771">(</span><span class="ident" id="7463772">tt</span><span class="op" id="7463774">.</span><span class="ident" id="7463775">xml</span><span class="op" id="7463778">)</span><span class="op" id="7463779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463784">d</span><span class="op" id="7463785">.</span><span class="ident" id="7463786">DefaultSpace</span>&nbsp;<span class="op" id="7463799">=</span>&nbsp;<span class="ident" id="7463801">tt</span><span class="op" id="7463803">.</span><span class="ident" id="7463804">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463810">err</span>&nbsp;<span class="op" id="7463814">=</span>&nbsp;<span class="ident" id="7463816">d</span><span class="op" id="7463817">.</span><span class="ident" id="7463818">Decode</span><span class="op" id="7463824">(</span><span class="op" id="7463825">&amp;</span><span class="ident" id="7463826">dst</span><span class="op" id="7463829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463833">}</span>&nbsp;<span class="keyword" id="7463835">else</span>&nbsp;<span class="op" id="7463840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463845">err</span>&nbsp;<span class="op" id="7463849">=</span>&nbsp;<span class="ident" id="7463851">Unmarshal</span><span class="op" id="7463860">(</span><span class="op" id="7463861">[</span><span class="op" id="7463862">]</span><span class="builtintype" id="7463863">byte</span><span class="op" id="7463867">(</span><span class="ident" id="7463868">tt</span><span class="op" id="7463870">.</span><span class="ident" id="7463871">xml</span><span class="op" id="7463874">)</span><span class="op" id="7463875">,</span>&nbsp;<span class="op" id="7463877">&amp;</span><span class="ident" id="7463878">dst</span><span class="op" id="7463881">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463889">if</span>&nbsp;<span class="ident" id="7463892">err</span>&nbsp;<span class="op" id="7463896">!=</span>&nbsp;<span class="ident" id="7463899">nil</span>&nbsp;<span class="op" id="7463903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463908">t</span><span class="op" id="7463909">.</span><span class="ident" id="7463910">Errorf</span><span class="op" id="7463916">(</span><span class="string" id="7463917">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7463937">,</span>&nbsp;<span class="ident" id="7463939">i</span><span class="op" id="7463940">,</span>&nbsp;<span class="ident" id="7463942">err</span><span class="op" id="7463945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463950">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463961">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463965">want</span>&nbsp;<span class="op" id="7463970">:=</span>&nbsp;<span class="ident" id="7463973">tt</span><span class="op" id="7463975">.</span><span class="ident" id="7463976">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463982">if</span>&nbsp;<span class="ident" id="7463985">dst</span>&nbsp;<span class="op" id="7463989">!=</span>&nbsp;<span class="ident" id="7463992">want</span>&nbsp;<span class="op" id="7463997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464002">t</span><span class="op" id="7464003">.</span><span class="ident" id="7464004">Errorf</span><span class="op" id="7464010">(</span><span class="string" id="7464011">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7464035">,</span>&nbsp;<span class="ident" id="7464037">i</span><span class="op" id="7464038">,</span>&nbsp;<span class="ident" id="7464040">dst</span><span class="op" id="7464043">,</span>&nbsp;<span class="ident" id="7464045">want</span><span class="op" id="7464049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464056">}</span><br>
<span class="lineno">485</span><span class="op" id="7464058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7464061">func</span>&nbsp;<span class="ident" id="7464066">TestMarshalNS</span><span class="op" id="7464079">(</span><span class="ident" id="7464080">t</span>&nbsp;<span class="op" id="7464082">*</span><span class="ident" id="7464083">testing</span><span class="op" id="7464090">.</span><span class="ident" id="7464091">T</span><span class="op" id="7464092">)</span>&nbsp;<span class="op" id="7464094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464097">dst</span>&nbsp;<span class="op" id="7464101">:=</span>&nbsp;<span class="ident" id="7464104">Tables</span><span class="op" id="7464110">{</span><span class="string" id="7464111">&#34;hello&#34;</span><span class="op" id="7464118">,</span>&nbsp;<span class="string" id="7464120">&#34;world&#34;</span><span class="op" id="7464127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464130">data</span><span class="op" id="7464134">,</span>&nbsp;<span class="ident" id="7464136">err</span>&nbsp;<span class="op" id="7464140">:=</span>&nbsp;<span class="ident" id="7464143">Marshal</span><span class="op" id="7464150">(</span><span class="op" id="7464151">&amp;</span><span class="ident" id="7464152">dst</span><span class="op" id="7464155">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464158">if</span>&nbsp;<span class="ident" id="7464161">err</span>&nbsp;<span class="op" id="7464165">!=</span>&nbsp;<span class="ident" id="7464168">nil</span>&nbsp;<span class="op" id="7464172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464176">t</span><span class="op" id="7464177">.</span><span class="ident" id="7464178">Fatalf</span><span class="op" id="7464184">(</span><span class="string" id="7464185">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7464198">,</span>&nbsp;<span class="ident" id="7464200">err</span><span class="op" id="7464203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464209">want</span>&nbsp;<span class="op" id="7464214">:=</span>&nbsp;<span class="string" id="7464217">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464357">str</span>&nbsp;<span class="op" id="7464361">:=</span>&nbsp;<span class="builtintype" id="7464364">string</span><span class="op" id="7464370">(</span><span class="ident" id="7464371">data</span><span class="op" id="7464375">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464378">if</span>&nbsp;<span class="ident" id="7464381">str</span>&nbsp;<span class="op" id="7464385">!=</span>&nbsp;<span class="ident" id="7464388">want</span>&nbsp;<span class="op" id="7464393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464397">t</span><span class="op" id="7464398">.</span><span class="ident" id="7464399">Errorf</span><span class="op" id="7464405">(</span><span class="string" id="7464406">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="7464428">,</span>&nbsp;<span class="ident" id="7464430">str</span><span class="op" id="7464433">,</span>&nbsp;<span class="ident" id="7464435">want</span><span class="op" id="7464439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464442">}</span><br>
<span class="lineno"></span><span class="op" id="7464444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="7464447">type</span>&nbsp;<span class="ident" id="7464452">TableAttrs</span>&nbsp;<span class="keyword" id="7464463">struct</span>&nbsp;<span class="op" id="7464470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464473">TAttr</span>&nbsp;<span class="ident" id="7464479">TAttr</span><br>
<span class="lineno"></span><span class="op" id="7464485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7464488">type</span>&nbsp;<span class="ident" id="7464493">TAttr</span>&nbsp;<span class="keyword" id="7464499">struct</span>&nbsp;<span class="op" id="7464506">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464509">HTable</span>&nbsp;<span class="builtintype" id="7464516">string</span>&nbsp;<span class="string" id="7464523">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464571">FTable</span>&nbsp;<span class="builtintype" id="7464578">string</span>&nbsp;<span class="string" id="7464585">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464640">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7464647">string</span>&nbsp;<span class="string" id="7464654">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464720">Other1</span>&nbsp;<span class="builtintype" id="7464727">string</span>&nbsp;<span class="string" id="7464734">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464787">Other2</span>&nbsp;<span class="builtintype" id="7464794">string</span>&nbsp;<span class="string" id="7464801">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464857">Other3</span>&nbsp;<span class="builtintype" id="7464864">string</span>&nbsp;<span class="string" id="7464871">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464925">Other4</span>&nbsp;<span class="builtintype" id="7464932">string</span>&nbsp;<span class="string" id="7464939">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7464994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7464997">var</span>&nbsp;<span class="ident" id="7465001">tableAttrs</span>&nbsp;<span class="op" id="7465012">=</span>&nbsp;<span class="op" id="7465014">[</span><span class="op" id="7465015">]</span><span class="keyword" id="7465016">struct</span>&nbsp;<span class="op" id="7465023">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465026">xml</span>&nbsp;<span class="builtintype" id="7465030">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465038">tab</span>&nbsp;<span class="ident" id="7465042">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465054">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7465058">string</span><br>
<span class="lineno"></span><span class="op" id="7465065">}</span><span class="op" id="7465066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465069">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465073">xml</span><span class="op" id="7465076">:</span>&nbsp;<span class="string" id="7465078">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7465183">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465188">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7465223">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465228">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7465245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465249">tab</span><span class="op" id="7465252">:</span>&nbsp;<span class="ident" id="7465254">TableAttrs</span><span class="op" id="7465264">{</span><span class="ident" id="7465265">TAttr</span><span class="op" id="7465270">{</span><span class="ident" id="7465271">HTable</span><span class="op" id="7465277">:</span>&nbsp;<span class="string" id="7465279">&#34;hello&#34;</span><span class="op" id="7465286">,</span>&nbsp;<span class="ident" id="7465288">FTable</span><span class="op" id="7465294">:</span>&nbsp;<span class="string" id="7465296">&#34;world&#34;</span><span class="op" id="7465303">}</span><span class="op" id="7465304">}</span><span class="op" id="7465305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465308">}</span><span class="op" id="7465309">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465316">xml</span><span class="op" id="7465319">:</span>&nbsp;<span class="string" id="7465321">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7465426">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465431">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7465466">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465471">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7465488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465492">tab</span><span class="op" id="7465495">:</span>&nbsp;<span class="ident" id="7465497">TableAttrs</span><span class="op" id="7465507">{</span><span class="ident" id="7465508">TAttr</span><span class="op" id="7465513">{</span><span class="ident" id="7465514">HTable</span><span class="op" id="7465520">:</span>&nbsp;<span class="string" id="7465522">&#34;hello&#34;</span><span class="op" id="7465529">,</span>&nbsp;<span class="ident" id="7465531">FTable</span><span class="op" id="7465537">:</span>&nbsp;<span class="string" id="7465539">&#34;world&#34;</span><span class="op" id="7465546">}</span><span class="op" id="7465547">}</span><span class="op" id="7465548">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465551">}</span><span class="op" id="7465552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465559">xml</span><span class="op" id="7465562">:</span>&nbsp;<span class="string" id="7465564">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7465586">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465591">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7465709">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465714">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7465731">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465735">tab</span><span class="op" id="7465738">:</span>&nbsp;<span class="ident" id="7465740">TableAttrs</span><span class="op" id="7465750">{</span><span class="ident" id="7465751">TAttr</span><span class="op" id="7465756">{</span><span class="ident" id="7465757">HTable</span><span class="op" id="7465763">:</span>&nbsp;<span class="string" id="7465765">&#34;hello&#34;</span><span class="op" id="7465772">,</span>&nbsp;<span class="ident" id="7465774">FTable</span><span class="op" id="7465780">:</span>&nbsp;<span class="string" id="7465782">&#34;world&#34;</span><span class="op" id="7465789">}</span><span class="op" id="7465790">}</span><span class="op" id="7465791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465794">}</span><span class="op" id="7465795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7465802">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465856">xml</span><span class="op" id="7465859">:</span>&nbsp;<span class="string" id="7465861">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7465964">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7465969">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7466002">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466007">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7466024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466028">tab</span><span class="op" id="7466031">:</span>&nbsp;<span class="ident" id="7466033">TableAttrs</span><span class="op" id="7466043">{</span><span class="ident" id="7466044">TAttr</span><span class="op" id="7466049">{</span><span class="ident" id="7466050">HTable</span><span class="op" id="7466056">:</span>&nbsp;<span class="string" id="7466058">&#34;hello&#34;</span><span class="op" id="7466065">,</span>&nbsp;<span class="ident" id="7466067">FTable</span><span class="op" id="7466073">:</span>&nbsp;<span class="string" id="7466075">&#34;&#34;</span><span class="op" id="7466077">}</span><span class="op" id="7466078">}</span><span class="op" id="7466079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466082">}</span><span class="op" id="7466083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466086">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7466090">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466144">xml</span><span class="op" id="7466147">:</span>&nbsp;<span class="string" id="7466149">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7466252">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466257">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7466290">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466295">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7466312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466316">tab</span><span class="op" id="7466319">:</span>&nbsp;<span class="ident" id="7466321">TableAttrs</span><span class="op" id="7466331">{</span><span class="ident" id="7466332">TAttr</span><span class="op" id="7466337">{</span><span class="ident" id="7466338">HTable</span><span class="op" id="7466344">:</span>&nbsp;<span class="string" id="7466346">&#34;&#34;</span><span class="op" id="7466348">,</span>&nbsp;<span class="ident" id="7466350">FTable</span><span class="op" id="7466356">:</span>&nbsp;<span class="string" id="7466358">&#34;world&#34;</span><span class="op" id="7466365">}</span><span class="op" id="7466366">}</span><span class="op" id="7466367">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466370">}</span><span class="op" id="7466371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466378">xml</span><span class="op" id="7466381">:</span>&nbsp;<span class="string" id="7466383">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7466405">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466410">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7466427">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466432">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7466449">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466453">tab</span><span class="op" id="7466456">:</span>&nbsp;<span class="ident" id="7466458">TableAttrs</span><span class="op" id="7466468">{</span><span class="op" id="7466469">}</span><span class="op" id="7466470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466473">}</span><span class="op" id="7466474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7466481">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466535">xml</span><span class="op" id="7466538">:</span>&nbsp;<span class="string" id="7466540">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7466600">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466605">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7466638">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466643">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7466660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466664">tab</span><span class="op" id="7466667">:</span>&nbsp;<span class="ident" id="7466669">TableAttrs</span><span class="op" id="7466679">{</span><span class="ident" id="7466680">TAttr</span><span class="op" id="7466685">{</span><span class="ident" id="7466686">HTable</span><span class="op" id="7466692">:</span>&nbsp;<span class="string" id="7466694">&#34;hello&#34;</span><span class="op" id="7466701">,</span>&nbsp;<span class="ident" id="7466703">FTable</span><span class="op" id="7466709">:</span>&nbsp;<span class="string" id="7466711">&#34;&#34;</span><span class="op" id="7466713">}</span><span class="op" id="7466714">}</span><span class="op" id="7466715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466719">ns</span><span class="op" id="7466721">:</span>&nbsp;&nbsp;<span class="string" id="7466724">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7466760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466763">}</span><span class="op" id="7466764">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7466771">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466825">xml</span><span class="op" id="7466828">:</span>&nbsp;<span class="string" id="7466830">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7466897">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466902">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7466935">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7466940">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7466957">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7466961">tab</span><span class="op" id="7466964">:</span>&nbsp;<span class="ident" id="7466966">TableAttrs</span><span class="op" id="7466976">{</span><span class="ident" id="7466977">TAttr</span><span class="op" id="7466982">{</span><span class="ident" id="7466983">HTable</span><span class="op" id="7466989">:</span>&nbsp;<span class="string" id="7466991">&#34;&#34;</span><span class="op" id="7466993">,</span>&nbsp;<span class="ident" id="7466995">FTable</span><span class="op" id="7467001">:</span>&nbsp;<span class="string" id="7467003">&#34;world&#34;</span><span class="op" id="7467010">}</span><span class="op" id="7467011">}</span><span class="op" id="7467012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467016">ns</span><span class="op" id="7467018">:</span>&nbsp;&nbsp;<span class="string" id="7467021">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7467050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467053">}</span><span class="op" id="7467054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467061">xml</span><span class="op" id="7467064">:</span>&nbsp;<span class="string" id="7467066">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7467088">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7467093">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7467110">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7467115">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7467132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467136">tab</span><span class="op" id="7467139">:</span>&nbsp;<span class="ident" id="7467141">TableAttrs</span><span class="op" id="7467151">{</span><span class="op" id="7467152">}</span><span class="op" id="7467153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467157">ns</span><span class="op" id="7467159">:</span>&nbsp;&nbsp;<span class="string" id="7467162">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7467187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467190">}</span><span class="op" id="7467191">,</span><br>
<span class="lineno">580</span><span class="op" id="7467193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7467196">func</span>&nbsp;<span class="ident" id="7467201">TestUnmarshalNSAttr</span><span class="op" id="7467220">(</span><span class="ident" id="7467221">t</span>&nbsp;<span class="op" id="7467223">*</span><span class="ident" id="7467224">testing</span><span class="op" id="7467231">.</span><span class="ident" id="7467232">T</span><span class="op" id="7467233">)</span>&nbsp;<span class="op" id="7467235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467238">for</span>&nbsp;<span class="ident" id="7467242">i</span><span class="op" id="7467243">,</span>&nbsp;<span class="ident" id="7467245">tt</span>&nbsp;<span class="op" id="7467248">:=</span>&nbsp;<span class="keyword" id="7467251">range</span>&nbsp;<span class="ident" id="7467257">tableAttrs</span>&nbsp;<span class="op" id="7467268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467272">var</span>&nbsp;<span class="ident" id="7467276">dst</span>&nbsp;<span class="ident" id="7467280">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467293">var</span>&nbsp;<span class="ident" id="7467297">err</span>&nbsp;<span class="builtintype" id="7467301">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467309">if</span>&nbsp;<span class="ident" id="7467312">tt</span><span class="op" id="7467314">.</span><span class="ident" id="7467315">ns</span>&nbsp;<span class="op" id="7467318">!=</span>&nbsp;<span class="string" id="7467321">&#34;&#34;</span>&nbsp;<span class="op" id="7467324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467329">d</span>&nbsp;<span class="op" id="7467331">:=</span>&nbsp;<span class="ident" id="7467334">NewDecoder</span><span class="op" id="7467344">(</span><span class="ident" id="7467345">strings</span><span class="op" id="7467352">.</span><span class="ident" id="7467353">NewReader</span><span class="op" id="7467362">(</span><span class="ident" id="7467363">tt</span><span class="op" id="7467365">.</span><span class="ident" id="7467366">xml</span><span class="op" id="7467369">)</span><span class="op" id="7467370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467375">d</span><span class="op" id="7467376">.</span><span class="ident" id="7467377">DefaultSpace</span>&nbsp;<span class="op" id="7467390">=</span>&nbsp;<span class="ident" id="7467392">tt</span><span class="op" id="7467394">.</span><span class="ident" id="7467395">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467401">err</span>&nbsp;<span class="op" id="7467405">=</span>&nbsp;<span class="ident" id="7467407">d</span><span class="op" id="7467408">.</span><span class="ident" id="7467409">Decode</span><span class="op" id="7467415">(</span><span class="op" id="7467416">&amp;</span><span class="ident" id="7467417">dst</span><span class="op" id="7467420">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467424">}</span>&nbsp;<span class="keyword" id="7467426">else</span>&nbsp;<span class="op" id="7467431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467436">err</span>&nbsp;<span class="op" id="7467440">=</span>&nbsp;<span class="ident" id="7467442">Unmarshal</span><span class="op" id="7467451">(</span><span class="op" id="7467452">[</span><span class="op" id="7467453">]</span><span class="builtintype" id="7467454">byte</span><span class="op" id="7467458">(</span><span class="ident" id="7467459">tt</span><span class="op" id="7467461">.</span><span class="ident" id="7467462">xml</span><span class="op" id="7467465">)</span><span class="op" id="7467466">,</span>&nbsp;<span class="op" id="7467468">&amp;</span><span class="ident" id="7467469">dst</span><span class="op" id="7467472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467480">if</span>&nbsp;<span class="ident" id="7467483">err</span>&nbsp;<span class="op" id="7467487">!=</span>&nbsp;<span class="ident" id="7467490">nil</span>&nbsp;<span class="op" id="7467494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467499">t</span><span class="op" id="7467500">.</span><span class="ident" id="7467501">Errorf</span><span class="op" id="7467507">(</span><span class="string" id="7467508">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7467528">,</span>&nbsp;<span class="ident" id="7467530">i</span><span class="op" id="7467531">,</span>&nbsp;<span class="ident" id="7467533">err</span><span class="op" id="7467536">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467541">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467556">want</span>&nbsp;<span class="op" id="7467561">:=</span>&nbsp;<span class="ident" id="7467564">tt</span><span class="op" id="7467566">.</span><span class="ident" id="7467567">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467573">if</span>&nbsp;<span class="ident" id="7467576">dst</span>&nbsp;<span class="op" id="7467580">!=</span>&nbsp;<span class="ident" id="7467583">want</span>&nbsp;<span class="op" id="7467588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467593">t</span><span class="op" id="7467594">.</span><span class="ident" id="7467595">Errorf</span><span class="op" id="7467601">(</span><span class="string" id="7467602">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7467626">,</span>&nbsp;<span class="ident" id="7467628">i</span><span class="op" id="7467629">,</span>&nbsp;<span class="ident" id="7467631">dst</span><span class="op" id="7467634">,</span>&nbsp;<span class="ident" id="7467636">want</span><span class="op" id="7467640">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467647">}</span><br>
<span class="lineno"></span><span class="op" id="7467649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7467652">func</span>&nbsp;<span class="ident" id="7467657">TestMarshalNSAttr</span><span class="op" id="7467674">(</span><span class="ident" id="7467675">t</span>&nbsp;<span class="op" id="7467677">*</span><span class="ident" id="7467678">testing</span><span class="op" id="7467685">.</span><span class="ident" id="7467686">T</span><span class="op" id="7467687">)</span>&nbsp;<span class="op" id="7467689">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467692">src</span>&nbsp;<span class="op" id="7467696">:=</span>&nbsp;<span class="ident" id="7467699">TableAttrs</span><span class="op" id="7467709">{</span><span class="ident" id="7467710">TAttr</span><span class="op" id="7467715">{</span><span class="string" id="7467716">&#34;hello&#34;</span><span class="op" id="7467723">,</span>&nbsp;<span class="string" id="7467725">&#34;world&#34;</span><span class="op" id="7467732">,</span>&nbsp;<span class="string" id="7467734">&#34;en_US&#34;</span><span class="op" id="7467741">,</span>&nbsp;<span class="string" id="7467743">&#34;other1&#34;</span><span class="op" id="7467751">,</span>&nbsp;<span class="string" id="7467753">&#34;other2&#34;</span><span class="op" id="7467761">,</span>&nbsp;<span class="string" id="7467763">&#34;other3&#34;</span><span class="op" id="7467771">,</span>&nbsp;<span class="string" id="7467773">&#34;other4&#34;</span><span class="op" id="7467781">}</span><span class="op" id="7467782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467785">data</span><span class="op" id="7467789">,</span>&nbsp;<span class="ident" id="7467791">err</span>&nbsp;<span class="op" id="7467795">:=</span>&nbsp;<span class="ident" id="7467798">Marshal</span><span class="op" id="7467805">(</span><span class="op" id="7467806">&amp;</span><span class="ident" id="7467807">src</span><span class="op" id="7467810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467813">if</span>&nbsp;<span class="ident" id="7467816">err</span>&nbsp;<span class="op" id="7467820">!=</span>&nbsp;<span class="ident" id="7467823">nil</span>&nbsp;<span class="op" id="7467827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467831">t</span><span class="op" id="7467832">.</span><span class="ident" id="7467833">Fatalf</span><span class="op" id="7467839">(</span><span class="string" id="7467840">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7467853">,</span>&nbsp;<span class="ident" id="7467855">err</span><span class="op" id="7467858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467861">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467864">want</span>&nbsp;<span class="op" id="7467869">:=</span>&nbsp;<span class="string" id="7467872">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468313">str</span>&nbsp;<span class="op" id="7468317">:=</span>&nbsp;<span class="builtintype" id="7468320">string</span><span class="op" id="7468326">(</span><span class="ident" id="7468327">data</span><span class="op" id="7468331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468334">if</span>&nbsp;<span class="ident" id="7468337">str</span>&nbsp;<span class="op" id="7468341">!=</span>&nbsp;<span class="ident" id="7468344">want</span>&nbsp;<span class="op" id="7468349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468353">t</span><span class="op" id="7468354">.</span><span class="ident" id="7468355">Errorf</span><span class="op" id="7468361">(</span><span class="string" id="7468362">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="7468396">,</span>&nbsp;<span class="ident" id="7468398">str</span><span class="op" id="7468401">,</span>&nbsp;<span class="ident" id="7468403">want</span><span class="op" id="7468407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468410">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468414">var</span>&nbsp;<span class="ident" id="7468418">dst</span>&nbsp;<span class="ident" id="7468422">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468434">if</span>&nbsp;<span class="ident" id="7468437">err</span>&nbsp;<span class="op" id="7468441">:=</span>&nbsp;<span class="ident" id="7468444">Unmarshal</span><span class="op" id="7468453">(</span><span class="ident" id="7468454">data</span><span class="op" id="7468458">,</span>&nbsp;<span class="op" id="7468460">&amp;</span><span class="ident" id="7468461">dst</span><span class="op" id="7468464">)</span><span class="op" id="7468465">;</span>&nbsp;<span class="ident" id="7468467">err</span>&nbsp;<span class="op" id="7468471">!=</span>&nbsp;<span class="ident" id="7468474">nil</span>&nbsp;<span class="op" id="7468478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468482">t</span><span class="op" id="7468483">.</span><span class="ident" id="7468484">Errorf</span><span class="op" id="7468490">(</span><span class="string" id="7468491">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7468506">,</span>&nbsp;<span class="ident" id="7468508">err</span><span class="op" id="7468511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468514">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468518">if</span>&nbsp;<span class="ident" id="7468521">dst</span>&nbsp;<span class="op" id="7468525">!=</span>&nbsp;<span class="ident" id="7468528">src</span>&nbsp;<span class="op" id="7468532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468536">t</span><span class="op" id="7468537">.</span><span class="ident" id="7468538">Errorf</span><span class="op" id="7468544">(</span><span class="string" id="7468545">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7468570">,</span>&nbsp;<span class="ident" id="7468572">dst</span><span class="op" id="7468575">,</span>&nbsp;<span class="ident" id="7468577">src</span><span class="op" id="7468580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468583">}</span><br>
<span class="lineno"></span><span class="op" id="7468585">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="7468588">type</span>&nbsp;<span class="ident" id="7468593">MyCharData</span>&nbsp;<span class="keyword" id="7468604">struct</span>&nbsp;<span class="op" id="7468611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468614">body</span>&nbsp;<span class="builtintype" id="7468619">string</span><br>
<span class="lineno"></span><span class="op" id="7468626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="7468629">func</span>&nbsp;<span class="op" id="7468634">(</span><span class="ident" id="7468635">m</span>&nbsp;<span class="op" id="7468637">*</span><span class="ident" id="7468638">MyCharData</span><span class="op" id="7468648">)</span>&nbsp;<span class="ident" id="7468650">UnmarshalXML</span><span class="op" id="7468662">(</span><span class="ident" id="7468663">d</span>&nbsp;<span class="op" id="7468665">*</span><span class="ident" id="7468666">Decoder</span><span class="op" id="7468673">,</span>&nbsp;<span class="ident" id="7468675">start</span>&nbsp;<span class="ident" id="7468681">StartElement</span><span class="op" id="7468693">)</span>&nbsp;<span class="builtintype" id="7468695">error</span>&nbsp;<span class="op" id="7468701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468704">for</span>&nbsp;<span class="op" id="7468708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468712">t</span><span class="op" id="7468713">,</span>&nbsp;<span class="ident" id="7468715">err</span>&nbsp;<span class="op" id="7468719">:=</span>&nbsp;<span class="ident" id="7468722">d</span><span class="op" id="7468723">.</span><span class="ident" id="7468724">Token</span><span class="op" id="7468729">(</span><span class="op" id="7468730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468734">if</span>&nbsp;<span class="ident" id="7468737">err</span>&nbsp;<span class="op" id="7468741">==</span>&nbsp;<span class="ident" id="7468744">io</span><span class="op" id="7468746">.</span><span class="ident" id="7468747">EOF</span>&nbsp;<span class="op" id="7468751">{</span>&nbsp;<span class="comment" id="7468753">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468780">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468792">if</span>&nbsp;<span class="ident" id="7468795">err</span>&nbsp;<span class="op" id="7468799">!=</span>&nbsp;<span class="ident" id="7468802">nil</span>&nbsp;<span class="op" id="7468806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468811">return</span>&nbsp;<span class="ident" id="7468818">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468828">if</span>&nbsp;<span class="ident" id="7468831">char</span><span class="op" id="7468835">,</span>&nbsp;<span class="ident" id="7468837">ok</span>&nbsp;<span class="op" id="7468840">:=</span>&nbsp;<span class="ident" id="7468843">t</span><span class="op" id="7468844">.</span><span class="op" id="7468845">(</span><span class="ident" id="7468846">CharData</span><span class="op" id="7468854">)</span><span class="op" id="7468855">;</span>&nbsp;<span class="ident" id="7468857">ok</span>&nbsp;<span class="op" id="7468860">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7468865">m</span><span class="op" id="7468866">.</span><span class="ident" id="7468867">body</span>&nbsp;<span class="op" id="7468872">+=</span>&nbsp;<span class="builtintype" id="7468875">string</span><span class="op" id="7468881">(</span><span class="ident" id="7468882">char</span><span class="op" id="7468886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7468893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7468896">return</span>&nbsp;<span class="ident" id="7468903">nil</span><br>
<span class="lineno"></span><span class="op" id="7468907">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="7468910">var</span>&nbsp;<span class="ident" id="7468914">_</span>&nbsp;<span class="ident" id="7468916">Unmarshaler</span>&nbsp;<span class="op" id="7468928">=</span>&nbsp;<span class="op" id="7468930">(</span><span class="op" id="7468931">*</span><span class="ident" id="7468932">MyCharData</span><span class="op" id="7468942">)</span><span class="op" id="7468943">(</span><span class="ident" id="7468944">nil</span><span class="op" id="7468947">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7468950">func</span>&nbsp;<span class="op" id="7468955">(</span><span class="ident" id="7468956">m</span>&nbsp;<span class="op" id="7468958">*</span><span class="ident" id="7468959">MyCharData</span><span class="op" id="7468969">)</span>&nbsp;<span class="ident" id="7468971">UnmarshalXMLAttr</span><span class="op" id="7468987">(</span><span class="ident" id="7468988">attr</span>&nbsp;<span class="ident" id="7468993">Attr</span><span class="op" id="7468997">)</span>&nbsp;<span class="builtintype" id="7468999">error</span>&nbsp;<span class="op" id="7469005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7469008">panic</span><span class="op" id="7469013">(</span><span class="string" id="7469014">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="7469029">)</span><br>
<span class="lineno">650</span><span class="op" id="7469031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7469034">type</span>&nbsp;<span class="ident" id="7469039">MyAttr</span>&nbsp;<span class="keyword" id="7469046">struct</span>&nbsp;<span class="op" id="7469053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469056">attr</span>&nbsp;<span class="builtintype" id="7469061">string</span><br>
<span class="lineno"></span><span class="op" id="7469068">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="7469071">func</span>&nbsp;<span class="op" id="7469076">(</span><span class="ident" id="7469077">m</span>&nbsp;<span class="op" id="7469079">*</span><span class="ident" id="7469080">MyAttr</span><span class="op" id="7469086">)</span>&nbsp;<span class="ident" id="7469088">UnmarshalXMLAttr</span><span class="op" id="7469104">(</span><span class="ident" id="7469105">attr</span>&nbsp;<span class="ident" id="7469110">Attr</span><span class="op" id="7469114">)</span>&nbsp;<span class="builtintype" id="7469116">error</span>&nbsp;<span class="op" id="7469122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469125">m</span><span class="op" id="7469126">.</span><span class="ident" id="7469127">attr</span>&nbsp;<span class="op" id="7469132">=</span>&nbsp;<span class="ident" id="7469134">attr</span><span class="op" id="7469138">.</span><span class="ident" id="7469139">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469146">return</span>&nbsp;<span class="ident" id="7469153">nil</span><br>
<span class="lineno"></span><span class="op" id="7469157">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7469160">var</span>&nbsp;<span class="ident" id="7469164">_</span>&nbsp;<span class="ident" id="7469166">UnmarshalerAttr</span>&nbsp;<span class="op" id="7469182">=</span>&nbsp;<span class="op" id="7469184">(</span><span class="op" id="7469185">*</span><span class="ident" id="7469186">MyAttr</span><span class="op" id="7469192">)</span><span class="op" id="7469193">(</span><span class="ident" id="7469194">nil</span><span class="op" id="7469197">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7469200">type</span>&nbsp;<span class="ident" id="7469205">MyStruct</span>&nbsp;<span class="keyword" id="7469214">struct</span>&nbsp;<span class="op" id="7469221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469224">Data</span>&nbsp;<span class="op" id="7469229">*</span><span class="ident" id="7469230">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469242">Attr</span>&nbsp;<span class="op" id="7469247">*</span><span class="ident" id="7469248">MyAttr</span>&nbsp;<span class="string" id="7469255">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469271">Data2</span>&nbsp;<span class="ident" id="7469277">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469289">Attr2</span>&nbsp;<span class="ident" id="7469295">MyAttr</span>&nbsp;<span class="string" id="7469302">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7469316">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="7469319">func</span>&nbsp;<span class="ident" id="7469324">TestUnmarshaler</span><span class="op" id="7469339">(</span><span class="ident" id="7469340">t</span>&nbsp;<span class="op" id="7469342">*</span><span class="ident" id="7469343">testing</span><span class="op" id="7469350">.</span><span class="ident" id="7469351">T</span><span class="op" id="7469352">)</span>&nbsp;<span class="op" id="7469354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469357">xml</span>&nbsp;<span class="op" id="7469361">:=</span>&nbsp;<span class="string" id="7469364">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469551">var</span>&nbsp;<span class="ident" id="7469555">m</span>&nbsp;<span class="ident" id="7469557">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469567">if</span>&nbsp;<span class="ident" id="7469570">err</span>&nbsp;<span class="op" id="7469574">:=</span>&nbsp;<span class="ident" id="7469577">Unmarshal</span><span class="op" id="7469586">(</span><span class="op" id="7469587">[</span><span class="op" id="7469588">]</span><span class="builtintype" id="7469589">byte</span><span class="op" id="7469593">(</span><span class="ident" id="7469594">xml</span><span class="op" id="7469597">)</span><span class="op" id="7469598">,</span>&nbsp;<span class="op" id="7469600">&amp;</span><span class="ident" id="7469601">m</span><span class="op" id="7469602">)</span><span class="op" id="7469603">;</span>&nbsp;<span class="ident" id="7469605">err</span>&nbsp;<span class="op" id="7469609">!=</span>&nbsp;<span class="ident" id="7469612">nil</span>&nbsp;<span class="op" id="7469616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469620">t</span><span class="op" id="7469621">.</span><span class="ident" id="7469622">Fatal</span><span class="op" id="7469627">(</span><span class="ident" id="7469628">err</span><span class="op" id="7469631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7469638">if</span>&nbsp;<span class="ident" id="7469641">m</span><span class="op" id="7469642">.</span><span class="ident" id="7469643">Data</span>&nbsp;<span class="op" id="7469648">==</span>&nbsp;<span class="ident" id="7469651">nil</span>&nbsp;<span class="op" id="7469655">||</span>&nbsp;<span class="ident" id="7469658">m</span><span class="op" id="7469659">.</span><span class="ident" id="7469660">Attr</span>&nbsp;<span class="op" id="7469665">==</span>&nbsp;<span class="ident" id="7469668">nil</span>&nbsp;<span class="op" id="7469672">||</span>&nbsp;<span class="ident" id="7469675">m</span><span class="op" id="7469676">.</span><span class="ident" id="7469677">Data</span><span class="op" id="7469681">.</span><span class="ident" id="7469682">body</span>&nbsp;<span class="op" id="7469687">!=</span>&nbsp;<span class="string" id="7469690">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="7469704">||</span>&nbsp;<span class="ident" id="7469707">m</span><span class="op" id="7469708">.</span><span class="ident" id="7469709">Attr</span><span class="op" id="7469713">.</span><span class="ident" id="7469714">attr</span>&nbsp;<span class="op" id="7469719">!=</span>&nbsp;<span class="string" id="7469722">&#34;attr1&#34;</span>&nbsp;<span class="op" id="7469730">||</span>&nbsp;<span class="ident" id="7469733">m</span><span class="op" id="7469734">.</span><span class="ident" id="7469735">Data2</span><span class="op" id="7469740">.</span><span class="ident" id="7469741">body</span>&nbsp;<span class="op" id="7469746">!=</span>&nbsp;<span class="string" id="7469749">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="7469763">||</span>&nbsp;<span class="ident" id="7469766">m</span><span class="op" id="7469767">.</span><span class="ident" id="7469768">Attr2</span><span class="op" id="7469773">.</span><span class="ident" id="7469774">attr</span>&nbsp;<span class="op" id="7469779">!=</span>&nbsp;<span class="string" id="7469782">&#34;attr2&#34;</span>&nbsp;<span class="op" id="7469790">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469794">t</span><span class="op" id="7469795">.</span><span class="ident" id="7469796">Errorf</span><span class="op" id="7469802">(</span><span class="string" id="7469803">&#34;m=%#+v\n&#34;</span><span class="op" id="7469813">,</span>&nbsp;<span class="ident" id="7469815">m</span><span class="op" id="7469816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7469819">}</span><br>
<span class="lineno"></span><span class="op" id="7469821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7469824">type</span>&nbsp;<span class="ident" id="7469829">Pea</span>&nbsp;<span class="keyword" id="7469833">struct</span>&nbsp;<span class="op" id="7469840">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469843">Cotelydon</span>&nbsp;<span class="builtintype" id="7469853">string</span><br>
<span class="lineno"></span><span class="op" id="7469860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7469863">type</span>&nbsp;<span class="ident" id="7469868">Pod</span>&nbsp;<span class="keyword" id="7469872">struct</span>&nbsp;<span class="op" id="7469879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7469882">Pea</span>&nbsp;<span class="keyword" id="7469886">interface</span><span class="op" id="7469895">{</span><span class="op" id="7469896">}</span>&nbsp;<span class="string" id="7469898">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="7469910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7469913">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="7469967">func</span>&nbsp;<span class="ident" id="7469972">TestUnmarshalIntoInterface</span><span class="op" id="7469998">(</span><span class="ident" id="7469999">t</span>&nbsp;<span class="op" id="7470001">*</span><span class="ident" id="7470002">testing</span><span class="op" id="7470009">.</span><span class="ident" id="7470010">T</span><span class="op" id="7470011">)</span>&nbsp;<span class="op" id="7470013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470016">pod</span>&nbsp;<span class="op" id="7470020">:=</span>&nbsp;<span class="builtinfunc" id="7470023">new</span><span class="op" id="7470026">(</span><span class="ident" id="7470027">Pod</span><span class="op" id="7470030">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470033">pod</span><span class="op" id="7470036">.</span><span class="ident" id="7470037">Pea</span>&nbsp;<span class="op" id="7470041">=</span>&nbsp;<span class="builtinfunc" id="7470043">new</span><span class="op" id="7470046">(</span><span class="ident" id="7470047">Pea</span><span class="op" id="7470050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470053">xml</span>&nbsp;<span class="op" id="7470057">:=</span>&nbsp;<span class="string" id="7470060">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470120">err</span>&nbsp;<span class="op" id="7470124">:=</span>&nbsp;<span class="ident" id="7470127">Unmarshal</span><span class="op" id="7470136">(</span><span class="op" id="7470137">[</span><span class="op" id="7470138">]</span><span class="builtintype" id="7470139">byte</span><span class="op" id="7470143">(</span><span class="ident" id="7470144">xml</span><span class="op" id="7470147">)</span><span class="op" id="7470148">,</span>&nbsp;<span class="ident" id="7470150">pod</span><span class="op" id="7470153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470156">if</span>&nbsp;<span class="ident" id="7470159">err</span>&nbsp;<span class="op" id="7470163">!=</span>&nbsp;<span class="ident" id="7470166">nil</span>&nbsp;<span class="op" id="7470170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470174">t</span><span class="op" id="7470175">.</span><span class="ident" id="7470176">Fatalf</span><span class="op" id="7470182">(</span><span class="string" id="7470183">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7470211">,</span>&nbsp;<span class="ident" id="7470213">xml</span><span class="op" id="7470216">,</span>&nbsp;<span class="ident" id="7470218">err</span><span class="op" id="7470221">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470227">pea</span><span class="op" id="7470230">,</span>&nbsp;<span class="ident" id="7470232">ok</span>&nbsp;<span class="op" id="7470235">:=</span>&nbsp;<span class="ident" id="7470238">pod</span><span class="op" id="7470241">.</span><span class="ident" id="7470242">Pea</span><span class="op" id="7470245">.</span><span class="op" id="7470246">(</span><span class="op" id="7470247">*</span><span class="ident" id="7470248">Pea</span><span class="op" id="7470251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470254">if</span>&nbsp;<span class="op" id="7470257">!</span><span class="ident" id="7470258">ok</span>&nbsp;<span class="op" id="7470261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470265">t</span><span class="op" id="7470266">.</span><span class="ident" id="7470267">Fatalf</span><span class="op" id="7470273">(</span><span class="string" id="7470274">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="7470323">,</span>&nbsp;<span class="ident" id="7470325">pod</span><span class="op" id="7470328">.</span><span class="ident" id="7470329">Pea</span><span class="op" id="7470332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470335">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470338">have</span><span class="op" id="7470342">,</span>&nbsp;<span class="ident" id="7470344">want</span>&nbsp;<span class="op" id="7470349">:=</span>&nbsp;<span class="ident" id="7470352">pea</span><span class="op" id="7470355">.</span><span class="ident" id="7470356">Cotelydon</span><span class="op" id="7470365">,</span>&nbsp;<span class="string" id="7470367">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7470382">if</span>&nbsp;<span class="ident" id="7470385">have</span>&nbsp;<span class="op" id="7470390">!=</span>&nbsp;<span class="ident" id="7470393">want</span>&nbsp;<span class="op" id="7470398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7470402">t</span><span class="op" id="7470403">.</span><span class="ident" id="7470404">Errorf</span><span class="op" id="7470410">(</span><span class="string" id="7470411">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7470464">,</span>&nbsp;<span class="ident" id="7470466">have</span><span class="op" id="7470470">,</span>&nbsp;<span class="ident" id="7470472">want</span><span class="op" id="7470476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7470479">}</span><br>
<span class="lineno"></span><span class="op" id="7470481">}</span>
</div>
</body>
</html>
