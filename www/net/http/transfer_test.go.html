<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7096355">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7096410">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7096464">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7096515">package</span>&nbsp;<span class="ident" id="7096523">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7096529">import</span>&nbsp;<span class="op" id="7096536">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7096539">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7096548">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7096554">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7096565">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7096575">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7096578">func</span>&nbsp;<span class="ident" id="7096583">TestBodyReadBadTrailer</span><span class="op" id="7096605">(</span><span class="ident" id="7096606">t</span>&nbsp;<span class="op" id="7096608">*</span><span class="ident" id="7096609"><a href="/net/http/transfer_test.go.html#7096565">testing</a></span><span class="op" id="7096616">.</span><span class="ident" id="7096617">T</span><span class="op" id="7096618">)</span>&nbsp;<span class="op" id="7096620">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096623">b</span>&nbsp;<span class="op" id="7096625">:=</span>&nbsp;<span class="op" id="7096628">&amp;</span><span class="ident" id="7096629"><a href="/net/http/transfer.go.html#3485370">body</a></span><span class="op" id="7096633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096637">src</span><span class="op" id="7096640">:</span>&nbsp;<span class="ident" id="7096642"><a href="/net/http/transfer_test.go.html#7096554">strings</a></span><span class="op" id="7096649">.</span><span class="ident" id="7096650">NewReader</span><span class="op" id="7096659">(</span><span class="string" id="7096660">&#34;foobar&#34;</span><span class="op" id="7096668">)</span><span class="op" id="7096669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096673">hdr</span><span class="op" id="7096676">:</span>&nbsp;<span class="builtintype" id="7096678">true</span><span class="op" id="7096682">,</span>&nbsp;<span class="comment" id="7096684">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096715">r</span><span class="op" id="7096716">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7096720"><a href="/net/http/transfer_test.go.html#7096539">bufio</a></span><span class="op" id="7096725">.</span><span class="ident" id="7096726">NewReader</span><span class="op" id="7096735">(</span><span class="ident" id="7096736"><a href="/net/http/transfer_test.go.html#7096554">strings</a></span><span class="op" id="7096743">.</span><span class="ident" id="7096744">NewReader</span><span class="op" id="7096753">(</span><span class="string" id="7096754">&#34;&#34;</span><span class="op" id="7096756">)</span><span class="op" id="7096757">)</span><span class="op" id="7096758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096761">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096764">buf</span>&nbsp;<span class="op" id="7096768">:=</span>&nbsp;<span class="builtinfunc" id="7096771">make</span><span class="op" id="7096775">(</span><span class="op" id="7096776">[</span><span class="op" id="7096777">]</span><span class="builtintype" id="7096778">byte</span><span class="op" id="7096782">,</span>&nbsp;<span class="num" id="7096784">7</span><span class="op" id="7096785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096788">n</span><span class="op" id="7096789">,</span>&nbsp;<span class="ident" id="7096791">err</span>&nbsp;<span class="op" id="7096795">:=</span>&nbsp;<span class="ident" id="7096798"><a href="/net/http/transfer_test.go.html#7096623">b</a></span><span class="op" id="7096799">.</span><span class="ident" id="7096800">Read</span><span class="op" id="7096804">(</span><span class="ident" id="7096805"><a href="/net/http/transfer_test.go.html#7096764">buf</a></span><span class="op" id="7096808">[</span><span class="op" id="7096809">:</span><span class="num" id="7096810">3</span><span class="op" id="7096811">]</span><span class="op" id="7096812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096815">got</span>&nbsp;<span class="op" id="7096819">:=</span>&nbsp;<span class="builtintype" id="7096822">string</span><span class="op" id="7096828">(</span><span class="ident" id="7096829"><a href="/net/http/transfer_test.go.html#7096764">buf</a></span><span class="op" id="7096832">[</span><span class="op" id="7096833">:</span><span class="ident" id="7096834"><a href="/net/http/transfer_test.go.html#7096788">n</a></span><span class="op" id="7096835">]</span><span class="op" id="7096836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096839">if</span>&nbsp;<span class="ident" id="7096842"><a href="/net/http/transfer_test.go.html#7096815">got</a></span>&nbsp;<span class="op" id="7096846">!=</span>&nbsp;<span class="string" id="7096849">&#34;foo&#34;</span>&nbsp;<span class="op" id="7096855">||</span>&nbsp;<span class="ident" id="7096858"><a href="/net/http/transfer_test.go.html#7096791">err</a></span>&nbsp;<span class="op" id="7096862">!=</span>&nbsp;<span class="ident" id="7096865">nil</span>&nbsp;<span class="op" id="7096869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096873"><a href="/net/http/transfer_test.go.html#7096606">t</a></span><span class="op" id="7096874">.</span><span class="ident" id="7096875">Fatalf</span><span class="op" id="7096881">(</span><span class="string" id="7096882">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="7096924">,</span>&nbsp;<span class="ident" id="7096926"><a href="/net/http/transfer_test.go.html#7096788">n</a></span><span class="op" id="7096927">,</span>&nbsp;<span class="ident" id="7096929"><a href="/net/http/transfer_test.go.html#7096815">got</a></span><span class="op" id="7096932">,</span>&nbsp;<span class="ident" id="7096934"><a href="/net/http/transfer_test.go.html#7096791">err</a></span><span class="op" id="7096937">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7096940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096944"><a href="/net/http/transfer_test.go.html#7096788">n</a></span><span class="op" id="7096945">,</span>&nbsp;<span class="ident" id="7096947"><a href="/net/http/transfer_test.go.html#7096791">err</a></span>&nbsp;<span class="op" id="7096951">=</span>&nbsp;<span class="ident" id="7096953"><a href="/net/http/transfer_test.go.html#7096623">b</a></span><span class="op" id="7096954">.</span><span class="ident" id="7096955">Read</span><span class="op" id="7096959">(</span><span class="ident" id="7096960"><a href="/net/http/transfer_test.go.html#7096764">buf</a></span><span class="op" id="7096963">[</span><span class="op" id="7096964">:</span><span class="op" id="7096965">]</span><span class="op" id="7096966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7096969"><a href="/net/http/transfer_test.go.html#7096815">got</a></span>&nbsp;<span class="op" id="7096973">=</span>&nbsp;<span class="builtintype" id="7096975">string</span><span class="op" id="7096981">(</span><span class="ident" id="7096982"><a href="/net/http/transfer_test.go.html#7096764">buf</a></span><span class="op" id="7096985">[</span><span class="op" id="7096986">:</span><span class="ident" id="7096987"><a href="/net/http/transfer_test.go.html#7096788">n</a></span><span class="op" id="7096988">]</span><span class="op" id="7096989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7096992">if</span>&nbsp;<span class="ident" id="7096995"><a href="/net/http/transfer_test.go.html#7096815">got</a></span>&nbsp;<span class="op" id="7096999">!=</span>&nbsp;<span class="string" id="7097002">&#34;bar&#34;</span>&nbsp;<span class="op" id="7097008">||</span>&nbsp;<span class="ident" id="7097011"><a href="/net/http/transfer_test.go.html#7096791">err</a></span>&nbsp;<span class="op" id="7097015">!=</span>&nbsp;<span class="ident" id="7097018">nil</span>&nbsp;<span class="op" id="7097022">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097026"><a href="/net/http/transfer_test.go.html#7096606">t</a></span><span class="op" id="7097027">.</span><span class="ident" id="7097028">Fatalf</span><span class="op" id="7097034">(</span><span class="string" id="7097035">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="7097078">,</span>&nbsp;<span class="ident" id="7097080"><a href="/net/http/transfer_test.go.html#7096788">n</a></span><span class="op" id="7097081">,</span>&nbsp;<span class="ident" id="7097083"><a href="/net/http/transfer_test.go.html#7096815">got</a></span><span class="op" id="7097086">,</span>&nbsp;<span class="ident" id="7097088"><a href="/net/http/transfer_test.go.html#7096791">err</a></span><span class="op" id="7097091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097098"><a href="/net/http/transfer_test.go.html#7096788">n</a></span><span class="op" id="7097099">,</span>&nbsp;<span class="ident" id="7097101"><a href="/net/http/transfer_test.go.html#7096791">err</a></span>&nbsp;<span class="op" id="7097105">=</span>&nbsp;<span class="ident" id="7097107"><a href="/net/http/transfer_test.go.html#7096623">b</a></span><span class="op" id="7097108">.</span><span class="ident" id="7097109">Read</span><span class="op" id="7097113">(</span><span class="ident" id="7097114"><a href="/net/http/transfer_test.go.html#7096764">buf</a></span><span class="op" id="7097117">[</span><span class="op" id="7097118">:</span><span class="op" id="7097119">]</span><span class="op" id="7097120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097123"><a href="/net/http/transfer_test.go.html#7096815">got</a></span>&nbsp;<span class="op" id="7097127">=</span>&nbsp;<span class="builtintype" id="7097129">string</span><span class="op" id="7097135">(</span><span class="ident" id="7097136"><a href="/net/http/transfer_test.go.html#7096764">buf</a></span><span class="op" id="7097139">[</span><span class="op" id="7097140">:</span><span class="ident" id="7097141"><a href="/net/http/transfer_test.go.html#7096788">n</a></span><span class="op" id="7097142">]</span><span class="op" id="7097143">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7097146">if</span>&nbsp;<span class="ident" id="7097149"><a href="/net/http/transfer_test.go.html#7096791">err</a></span>&nbsp;<span class="op" id="7097153">==</span>&nbsp;<span class="ident" id="7097156">nil</span>&nbsp;<span class="op" id="7097160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097164"><a href="/net/http/transfer_test.go.html#7096606">t</a></span><span class="op" id="7097165">.</span><span class="ident" id="7097166">Errorf</span><span class="op" id="7097172">(</span><span class="string" id="7097173">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="7097239">,</span>&nbsp;<span class="ident" id="7097241"><a href="/net/http/transfer_test.go.html#7096815">got</a></span><span class="op" id="7097244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097247">}</span><br>
<span class="lineno"></span><span class="op" id="7097249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7097252">func</span>&nbsp;<span class="ident" id="7097257">TestFinalChunkedBodyReadEOF</span><span class="op" id="7097284">(</span><span class="ident" id="7097285">t</span>&nbsp;<span class="op" id="7097287">*</span><span class="ident" id="7097288"><a href="/net/http/transfer_test.go.html#7096565">testing</a></span><span class="op" id="7097295">.</span><span class="ident" id="7097296">T</span><span class="op" id="7097297">)</span>&nbsp;<span class="op" id="7097299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097302">res</span><span class="op" id="7097305">,</span>&nbsp;<span class="ident" id="7097307">err</span>&nbsp;<span class="op" id="7097311">:=</span>&nbsp;<span class="ident" id="7097314"><a href="/net/http/response.go.html#3395244">ReadResponse</a></span><span class="op" id="7097326">(</span><span class="ident" id="7097327"><a href="/net/http/transfer_test.go.html#7096539">bufio</a></span><span class="op" id="7097332">.</span><span class="ident" id="7097333">NewReader</span><span class="op" id="7097342">(</span><span class="ident" id="7097343"><a href="/net/http/transfer_test.go.html#7096554">strings</a></span><span class="op" id="7097350">.</span><span class="ident" id="7097351">NewReader</span><span class="op" id="7097360">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097364">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7097385">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097390">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7097422">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097427">&#34;\r\n&#34;</span><span class="op" id="7097433">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097438">&#34;0a\r\n&#34;</span><span class="op" id="7097446">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097451">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="7097468">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097473">&#34;09\r\n&#34;</span><span class="op" id="7097481">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097486">&#34;continued\r\n&#34;</span><span class="op" id="7097501">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097506">&#34;0\r\n&#34;</span><span class="op" id="7097513">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7097518">&#34;\r\n&#34;</span><span class="op" id="7097524">)</span><span class="op" id="7097525">)</span><span class="op" id="7097526">,</span>&nbsp;<span class="ident" id="7097528">nil</span><span class="op" id="7097531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7097534">if</span>&nbsp;<span class="ident" id="7097537"><a href="/net/http/transfer_test.go.html#7097307">err</a></span>&nbsp;<span class="op" id="7097541">!=</span>&nbsp;<span class="ident" id="7097544">nil</span>&nbsp;<span class="op" id="7097548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097552"><a href="/net/http/transfer_test.go.html#7097285">t</a></span><span class="op" id="7097553">.</span><span class="ident" id="7097554">Fatal</span><span class="op" id="7097559">(</span><span class="ident" id="7097560"><a href="/net/http/transfer_test.go.html#7097307">err</a></span><span class="op" id="7097563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097569">want</span>&nbsp;<span class="op" id="7097574">:=</span>&nbsp;<span class="string" id="7097577">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097601">buf</span>&nbsp;<span class="op" id="7097605">:=</span>&nbsp;<span class="builtinfunc" id="7097608">make</span><span class="op" id="7097612">(</span><span class="op" id="7097613">[</span><span class="op" id="7097614">]</span><span class="builtintype" id="7097615">byte</span><span class="op" id="7097619">,</span>&nbsp;<span class="builtinfunc" id="7097621">len</span><span class="op" id="7097624">(</span><span class="ident" id="7097625"><a href="/net/http/transfer_test.go.html#7097569">want</a></span><span class="op" id="7097629">)</span><span class="op" id="7097630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097633">n</span><span class="op" id="7097634">,</span>&nbsp;<span class="ident" id="7097636"><a href="/net/http/transfer_test.go.html#7097307">err</a></span>&nbsp;<span class="op" id="7097640">:=</span>&nbsp;<span class="ident" id="7097643"><a href="/net/http/transfer_test.go.html#7097302">res</a></span><span class="op" id="7097646">.</span><span class="ident" id="7097647">Body</span><span class="op" id="7097651">.</span><span class="ident" id="7097652">Read</span><span class="op" id="7097656">(</span><span class="ident" id="7097657"><a href="/net/http/transfer_test.go.html#7097601">buf</a></span><span class="op" id="7097660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7097663">if</span>&nbsp;<span class="ident" id="7097666"><a href="/net/http/transfer_test.go.html#7097633">n</a></span>&nbsp;<span class="op" id="7097668">!=</span>&nbsp;<span class="builtinfunc" id="7097671">len</span><span class="op" id="7097674">(</span><span class="ident" id="7097675"><a href="/net/http/transfer_test.go.html#7097569">want</a></span><span class="op" id="7097679">)</span>&nbsp;<span class="op" id="7097681">||</span>&nbsp;<span class="ident" id="7097684"><a href="/net/http/transfer_test.go.html#7097307">err</a></span>&nbsp;<span class="op" id="7097688">!=</span>&nbsp;<span class="ident" id="7097691"><a href="/net/http/transfer_test.go.html#7096548">io</a></span><span class="op" id="7097693">.</span><span class="ident" id="7097694">EOF</span>&nbsp;<span class="op" id="7097698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097702"><a href="/net/http/transfer_test.go.html#7097285">t</a></span><span class="op" id="7097703">.</span><span class="ident" id="7097704">Logf</span><span class="op" id="7097708">(</span><span class="string" id="7097709">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="7097721">,</span>&nbsp;<span class="ident" id="7097723"><a href="/net/http/transfer_test.go.html#7097302">res</a></span><span class="op" id="7097726">.</span><span class="ident" id="7097727">Body</span><span class="op" id="7097731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097735"><a href="/net/http/transfer_test.go.html#7097285">t</a></span><span class="op" id="7097736">.</span><span class="ident" id="7097737">Errorf</span><span class="op" id="7097743">(</span><span class="string" id="7097744">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="7097773">,</span>&nbsp;<span class="ident" id="7097775"><a href="/net/http/transfer_test.go.html#7097633">n</a></span><span class="op" id="7097776">,</span>&nbsp;<span class="ident" id="7097778"><a href="/net/http/transfer_test.go.html#7097307">err</a></span><span class="op" id="7097781">,</span>&nbsp;<span class="builtinfunc" id="7097783">len</span><span class="op" id="7097786">(</span><span class="ident" id="7097787"><a href="/net/http/transfer_test.go.html#7097569">want</a></span><span class="op" id="7097791">)</span><span class="op" id="7097792">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7097798">if</span>&nbsp;<span class="builtintype" id="7097801">string</span><span class="op" id="7097807">(</span><span class="ident" id="7097808"><a href="/net/http/transfer_test.go.html#7097601">buf</a></span><span class="op" id="7097811">)</span>&nbsp;<span class="op" id="7097813">!=</span>&nbsp;<span class="ident" id="7097816"><a href="/net/http/transfer_test.go.html#7097569">want</a></span>&nbsp;<span class="op" id="7097821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7097825"><a href="/net/http/transfer_test.go.html#7097285">t</a></span><span class="op" id="7097826">.</span><span class="ident" id="7097827">Errorf</span><span class="op" id="7097833">(</span><span class="string" id="7097834">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7097853">,</span>&nbsp;<span class="ident" id="7097855"><a href="/net/http/transfer_test.go.html#7097601">buf</a></span><span class="op" id="7097858">,</span>&nbsp;<span class="ident" id="7097860"><a href="/net/http/transfer_test.go.html#7097569">want</a></span><span class="op" id="7097864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7097867">}</span><br>
<span class="lineno"></span><span class="op" id="7097869">}</span>
</div>
</body>
</html>
