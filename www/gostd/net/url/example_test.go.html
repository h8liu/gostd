<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/url</h2>
<ul>
<li><a href="/gostd/net/url/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/url/url.go.html">url.go</a></li>
<li><a href="/gostd/net/url/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="625374">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="625429">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="625483">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="625534">package</span>&nbsp;<span class="ident" id="625542">url_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="625552">import</span>&nbsp;<span class="op" id="625559">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="625562">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="625569">&#34;log&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="625576">&#34;net/http&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="625588">&#34;net/http/httputil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="625609">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="625620">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="625630">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="625633">func</span>&nbsp;<span class="ident" id="625638">ExampleValues</span><span class="op" id="625651">(</span><span class="op" id="625652">)</span>&nbsp;<span class="op" id="625654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625657">v</span>&nbsp;<span class="op" id="625659">:=</span>&nbsp;<span class="ident" id="625662">url</span><span class="op" id="625665">.</span><span class="ident" id="625666">Values</span><span class="op" id="625672">{</span><span class="op" id="625673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625676">v</span><span class="op" id="625677">.</span><span class="ident" id="625678">Set</span><span class="op" id="625681">(</span><span class="string" id="625682">&#34;name&#34;</span><span class="op" id="625688">,</span>&nbsp;<span class="string" id="625690">&#34;Ava&#34;</span><span class="op" id="625695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625698">v</span><span class="op" id="625699">.</span><span class="ident" id="625700">Add</span><span class="op" id="625703">(</span><span class="string" id="625704">&#34;friend&#34;</span><span class="op" id="625712">,</span>&nbsp;<span class="string" id="625714">&#34;Jess&#34;</span><span class="op" id="625720">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625723">v</span><span class="op" id="625724">.</span><span class="ident" id="625725">Add</span><span class="op" id="625728">(</span><span class="string" id="625729">&#34;friend&#34;</span><span class="op" id="625737">,</span>&nbsp;<span class="string" id="625739">&#34;Sarah&#34;</span><span class="op" id="625746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625749">v</span><span class="op" id="625750">.</span><span class="ident" id="625751">Add</span><span class="op" id="625754">(</span><span class="string" id="625755">&#34;friend&#34;</span><span class="op" id="625763">,</span>&nbsp;<span class="string" id="625765">&#34;Zoe&#34;</span><span class="op" id="625770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="625773">//&nbsp;v.Encode()&nbsp;==&nbsp;&#34;name=Ava&amp;friend=Jess&amp;friend=Sarah&amp;friend=Zoe&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625838">fmt</span><span class="op" id="625841">.</span><span class="ident" id="625842">Println</span><span class="op" id="625849">(</span><span class="ident" id="625850">v</span><span class="op" id="625851">.</span><span class="ident" id="625852">Get</span><span class="op" id="625855">(</span><span class="string" id="625856">&#34;name&#34;</span><span class="op" id="625862">)</span><span class="op" id="625863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625866">fmt</span><span class="op" id="625869">.</span><span class="ident" id="625870">Println</span><span class="op" id="625877">(</span><span class="ident" id="625878">v</span><span class="op" id="625879">.</span><span class="ident" id="625880">Get</span><span class="op" id="625883">(</span><span class="string" id="625884">&#34;friend&#34;</span><span class="op" id="625892">)</span><span class="op" id="625893">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625896">fmt</span><span class="op" id="625899">.</span><span class="ident" id="625900">Println</span><span class="op" id="625907">(</span><span class="ident" id="625908">v</span><span class="op" id="625909">[</span><span class="string" id="625910">&#34;friend&#34;</span><span class="op" id="625918">]</span><span class="op" id="625919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="625922">//&nbsp;Output:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="625934">//&nbsp;Ava</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="625942">//&nbsp;Jess</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="625951">//&nbsp;[Jess&nbsp;Sarah&nbsp;Zoe]</span><br>
<span class="lineno">30</span><span class="op" id="625971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="625974">func</span>&nbsp;<span class="ident" id="625979">ExampleURL</span><span class="op" id="625989">(</span><span class="op" id="625990">)</span>&nbsp;<span class="op" id="625992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="625995">u</span><span class="op" id="625996">,</span>&nbsp;<span class="ident" id="625998">err</span>&nbsp;<span class="op" id="626002">:=</span>&nbsp;<span class="ident" id="626005">url</span><span class="op" id="626008">.</span><span class="ident" id="626009">Parse</span><span class="op" id="626014">(</span><span class="string" id="626015">&#34;http://bing.com/search?q=dotnet&#34;</span><span class="op" id="626048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="626051">if</span>&nbsp;<span class="ident" id="626054">err</span>&nbsp;<span class="op" id="626058">!=</span>&nbsp;<span class="ident" id="626061">nil</span>&nbsp;<span class="op" id="626065">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626069">log</span><span class="op" id="626072">.</span><span class="ident" id="626073">Fatal</span><span class="op" id="626078">(</span><span class="ident" id="626079">err</span><span class="op" id="626082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="626085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626088">u</span><span class="op" id="626089">.</span><span class="ident" id="626090">Scheme</span>&nbsp;<span class="op" id="626097">=</span>&nbsp;<span class="string" id="626099">&#34;https&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626108">u</span><span class="op" id="626109">.</span><span class="ident" id="626110">Host</span>&nbsp;<span class="op" id="626115">=</span>&nbsp;<span class="string" id="626117">&#34;google.com&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626131">q</span>&nbsp;<span class="op" id="626133">:=</span>&nbsp;<span class="ident" id="626136">u</span><span class="op" id="626137">.</span><span class="ident" id="626138">Query</span><span class="op" id="626143">(</span><span class="op" id="626144">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626147">q</span><span class="op" id="626148">.</span><span class="ident" id="626149">Set</span><span class="op" id="626152">(</span><span class="string" id="626153">&#34;q&#34;</span><span class="op" id="626156">,</span>&nbsp;<span class="string" id="626158">&#34;golang&#34;</span><span class="op" id="626166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626169">u</span><span class="op" id="626170">.</span><span class="ident" id="626171">RawQuery</span>&nbsp;<span class="op" id="626180">=</span>&nbsp;<span class="ident" id="626182">q</span><span class="op" id="626183">.</span><span class="ident" id="626184">Encode</span><span class="op" id="626190">(</span><span class="op" id="626191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626194">fmt</span><span class="op" id="626197">.</span><span class="ident" id="626198">Println</span><span class="op" id="626205">(</span><span class="ident" id="626206">u</span><span class="op" id="626207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="626210">//&nbsp;Output:&nbsp;https://google.com/search?q=golang</span><br>
<span class="lineno"></span><span class="op" id="626256">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="626259">func</span>&nbsp;<span class="ident" id="626264">ExampleURL_opaque</span><span class="op" id="626281">(</span><span class="op" id="626282">)</span>&nbsp;<span class="op" id="626284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="626287">//&nbsp;Sending&nbsp;a&nbsp;literal&nbsp;&#39;%&#39;&nbsp;in&nbsp;an&nbsp;HTTP&nbsp;request&#39;s&nbsp;Path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626339">req</span>&nbsp;<span class="op" id="626343">:=</span>&nbsp;<span class="op" id="626346">&amp;</span><span class="ident" id="626347">http</span><span class="op" id="626351">.</span><span class="ident" id="626352">Request</span><span class="op" id="626359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626363">Method</span><span class="op" id="626369">:</span>&nbsp;<span class="string" id="626371">&#34;GET&#34;</span><span class="op" id="626376">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626380">Host</span><span class="op" id="626384">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="626388">&#34;example.com&#34;</span><span class="op" id="626401">,</span>&nbsp;<span class="comment" id="626403">//&nbsp;takes&nbsp;precendence&nbsp;over&nbsp;URL.Host</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626440">URL</span><span class="op" id="626443">:</span>&nbsp;<span class="op" id="626445">&amp;</span><span class="ident" id="626446">url</span><span class="op" id="626449">.</span><span class="ident" id="626450">URL</span><span class="op" id="626453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626458">Host</span><span class="op" id="626462">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="626466">&#34;ignored&#34;</span><span class="op" id="626475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626480">Scheme</span><span class="op" id="626486">:</span>&nbsp;<span class="string" id="626488">&#34;https&#34;</span><span class="op" id="626495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626500">Opaque</span><span class="op" id="626506">:</span>&nbsp;<span class="string" id="626508">&#34;/%2f/&#34;</span><span class="op" id="626515">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="626519">}</span><span class="op" id="626520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626524">Header</span><span class="op" id="626530">:</span>&nbsp;<span class="ident" id="626532">http</span><span class="op" id="626536">.</span><span class="ident" id="626537">Header</span><span class="op" id="626543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="626548">&#34;User-Agent&#34;</span><span class="op" id="626560">:</span>&nbsp;<span class="op" id="626562">{</span><span class="string" id="626563">&#34;godoc-example/0.1&#34;</span><span class="op" id="626582">}</span><span class="op" id="626583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="626587">}</span><span class="op" id="626588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="626591">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626594">out</span><span class="op" id="626597">,</span>&nbsp;<span class="ident" id="626599">err</span>&nbsp;<span class="op" id="626603">:=</span>&nbsp;<span class="ident" id="626606">httputil</span><span class="op" id="626614">.</span><span class="ident" id="626615">DumpRequestOut</span><span class="op" id="626629">(</span><span class="ident" id="626630">req</span><span class="op" id="626633">,</span>&nbsp;<span class="builtintype" id="626635">true</span><span class="op" id="626639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="626642">if</span>&nbsp;<span class="ident" id="626645">err</span>&nbsp;<span class="op" id="626649">!=</span>&nbsp;<span class="ident" id="626652">nil</span>&nbsp;<span class="op" id="626656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626660">log</span><span class="op" id="626663">.</span><span class="ident" id="626664">Fatal</span><span class="op" id="626669">(</span><span class="ident" id="626670">err</span><span class="op" id="626673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="626676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="626679">fmt</span><span class="op" id="626682">.</span><span class="ident" id="626683">Println</span><span class="op" id="626690">(</span><span class="ident" id="626691">strings</span><span class="op" id="626698">.</span><span class="ident" id="626699">Replace</span><span class="op" id="626706">(</span><span class="builtintype" id="626707">string</span><span class="op" id="626713">(</span><span class="ident" id="626714">out</span><span class="op" id="626717">)</span><span class="op" id="626718">,</span>&nbsp;<span class="string" id="626720">&#34;\r&#34;</span><span class="op" id="626724">,</span>&nbsp;<span class="string" id="626726">&#34;&#34;</span><span class="op" id="626728">,</span>&nbsp;<span class="op" id="626730">-</span><span class="num" id="626731">1</span><span class="op" id="626732">)</span><span class="op" id="626733">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="626736">//&nbsp;Output:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="626748">//&nbsp;GET&nbsp;/%2f/&nbsp;HTTP/1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="626771">//&nbsp;Host:&nbsp;example.com</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="626793">//&nbsp;User-Agent:&nbsp;godoc-example/0.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="626827">//&nbsp;Accept-Encoding:&nbsp;gzip</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="626853">//</span><br>
<span class="lineno"></span><span class="op" id="626856">}</span>
</div>
</body>
</html>
