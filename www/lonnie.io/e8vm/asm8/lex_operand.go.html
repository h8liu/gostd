<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5818942">package</span>&nbsp;<span class="ident" id="5818950">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5818956">import</span>&nbsp;<span class="op" id="5818963">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5818966">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5818988">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5818991">func</span>&nbsp;<span class="ident" id="5818996">isOperandChar</span><span class="op" id="5819009">(</span><span class="ident" id="5819010">r</span>&nbsp;<span class="builtintype" id="5819012">rune</span><span class="op" id="5819016">)</span>&nbsp;<span class="builtintype" id="5819018">bool</span>&nbsp;<span class="op" id="5819023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819026">if</span>&nbsp;<span class="ident" id="5819029">r</span>&nbsp;<span class="op" id="5819031">&gt;=</span>&nbsp;<span class="string" id="5819034">&#39;a&#39;</span>&nbsp;<span class="op" id="5819038">&amp;&amp;</span>&nbsp;<span class="ident" id="5819041">r</span>&nbsp;<span class="op" id="5819043">&lt;=</span>&nbsp;<span class="string" id="5819046">&#39;z&#39;</span>&nbsp;<span class="op" id="5819050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819054">return</span>&nbsp;<span class="ident" id="5819061">true</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819070">if</span>&nbsp;<span class="ident" id="5819073">r</span>&nbsp;<span class="op" id="5819075">&gt;=</span>&nbsp;<span class="string" id="5819078">&#39;A&#39;</span>&nbsp;<span class="op" id="5819082">&amp;&amp;</span>&nbsp;<span class="ident" id="5819085">r</span>&nbsp;<span class="op" id="5819087">&lt;=</span>&nbsp;<span class="string" id="5819090">&#39;Z&#39;</span>&nbsp;<span class="op" id="5819094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819098">return</span>&nbsp;<span class="ident" id="5819105">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819114">if</span>&nbsp;<span class="ident" id="5819117">r</span>&nbsp;<span class="op" id="5819119">&gt;=</span>&nbsp;<span class="string" id="5819122">&#39;0&#39;</span>&nbsp;<span class="op" id="5819126">&amp;&amp;</span>&nbsp;<span class="ident" id="5819129">r</span>&nbsp;<span class="op" id="5819131">&lt;=</span>&nbsp;<span class="string" id="5819134">&#39;9&#39;</span>&nbsp;<span class="op" id="5819138">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819142">return</span>&nbsp;<span class="ident" id="5819149">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819159">for</span>&nbsp;<span class="ident" id="5819163">_</span><span class="op" id="5819164">,</span>&nbsp;<span class="ident" id="5819166">x</span>&nbsp;<span class="op" id="5819168">:=</span>&nbsp;<span class="keyword" id="5819171">range</span>&nbsp;<span class="op" id="5819177">[</span><span class="op" id="5819178">]</span><span class="builtintype" id="5819179">rune</span><span class="op" id="5819183">{</span><span class="string" id="5819184">&#39;_&#39;</span><span class="op" id="5819187">,</span>&nbsp;<span class="string" id="5819189">&#39;+&#39;</span><span class="op" id="5819192">,</span>&nbsp;<span class="string" id="5819194">&#39;-&#39;</span><span class="op" id="5819197">,</span>&nbsp;<span class="string" id="5819199">&#39;.&#39;</span><span class="op" id="5819202">,</span>&nbsp;<span class="string" id="5819204">&#39;:&#39;</span><span class="op" id="5819207">}</span>&nbsp;<span class="op" id="5819209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819213">if</span>&nbsp;<span class="ident" id="5819216">r</span>&nbsp;<span class="op" id="5819218">==</span>&nbsp;<span class="ident" id="5819221">x</span>&nbsp;<span class="op" id="5819223">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819228">return</span>&nbsp;<span class="ident" id="5819235">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819249">return</span>&nbsp;<span class="ident" id="5819256">false</span><br>
<span class="lineno">25</span><span class="op" id="5819262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5819265">func</span>&nbsp;<span class="ident" id="5819270">isKeyword</span><span class="op" id="5819279">(</span><span class="ident" id="5819280">lit</span>&nbsp;<span class="builtintype" id="5819284">string</span><span class="op" id="5819290">)</span>&nbsp;<span class="builtintype" id="5819292">bool</span>&nbsp;<span class="op" id="5819297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819300">switch</span>&nbsp;<span class="ident" id="5819307">lit</span>&nbsp;<span class="op" id="5819311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819314">case</span>&nbsp;<span class="string" id="5819319">&#34;func&#34;</span><span class="op" id="5819325">,</span>&nbsp;<span class="string" id="5819327">&#34;var&#34;</span><span class="op" id="5819332">,</span>&nbsp;<span class="string" id="5819334">&#34;const&#34;</span><span class="op" id="5819341">,</span>&nbsp;<span class="string" id="5819343">&#34;import&#34;</span><span class="op" id="5819351">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819355">return</span>&nbsp;<span class="ident" id="5819362">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819371">return</span>&nbsp;<span class="ident" id="5819378">false</span><br>
<span class="lineno"></span><span class="op" id="5819384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="5819387">func</span>&nbsp;<span class="ident" id="5819392">lexOperand</span><span class="op" id="5819402">(</span><span class="ident" id="5819403">x</span>&nbsp;<span class="op" id="5819405">*</span><span class="ident" id="5819406">lex8</span><span class="op" id="5819410">.</span><span class="ident" id="5819411">Lexer</span><span class="op" id="5819416">)</span>&nbsp;<span class="op" id="5819418">*</span><span class="ident" id="5819419">lex8</span><span class="op" id="5819423">.</span><span class="ident" id="5819424">Token</span>&nbsp;<span class="op" id="5819430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819433">if</span>&nbsp;<span class="op" id="5819436">!</span><span class="ident" id="5819437">isOperandChar</span><span class="op" id="5819450">(</span><span class="ident" id="5819451">x</span><span class="op" id="5819452">.</span><span class="ident" id="5819453">Rune</span><span class="op" id="5819457">(</span><span class="op" id="5819458">)</span><span class="op" id="5819459">)</span>&nbsp;<span class="op" id="5819461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5819465">panic</span><span class="op" id="5819470">(</span><span class="string" id="5819471">&#34;incorrect&nbsp;operand&nbsp;start&#34;</span><span class="op" id="5819496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819503">for</span>&nbsp;<span class="op" id="5819507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5819511">x</span><span class="op" id="5819512">.</span><span class="ident" id="5819513">Next</span><span class="op" id="5819517">(</span><span class="op" id="5819518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819522">if</span>&nbsp;<span class="ident" id="5819525">x</span><span class="op" id="5819526">.</span><span class="ident" id="5819527">Ended</span><span class="op" id="5819532">(</span><span class="op" id="5819533">)</span>&nbsp;<span class="op" id="5819535">||</span>&nbsp;<span class="op" id="5819538">!</span><span class="ident" id="5819539">isOperandChar</span><span class="op" id="5819552">(</span><span class="ident" id="5819553">x</span><span class="op" id="5819554">.</span><span class="ident" id="5819555">Rune</span><span class="op" id="5819559">(</span><span class="op" id="5819560">)</span><span class="op" id="5819561">)</span>&nbsp;<span class="op" id="5819563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819568">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819576">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5819583">ret</span>&nbsp;<span class="op" id="5819587">:=</span>&nbsp;<span class="ident" id="5819590">x</span><span class="op" id="5819591">.</span><span class="ident" id="5819592">MakeToken</span><span class="op" id="5819601">(</span><span class="ident" id="5819602">Operand</span><span class="op" id="5819609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819612">if</span>&nbsp;<span class="ident" id="5819615">isKeyword</span><span class="op" id="5819624">(</span><span class="ident" id="5819625">ret</span><span class="op" id="5819628">.</span><span class="ident" id="5819629">Lit</span><span class="op" id="5819632">)</span>&nbsp;<span class="op" id="5819634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5819638">ret</span><span class="op" id="5819641">.</span><span class="ident" id="5819642">Type</span>&nbsp;<span class="op" id="5819647">=</span>&nbsp;<span class="ident" id="5819649">Keyword</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5819658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5819661">return</span>&nbsp;<span class="ident" id="5819668">ret</span><br>
<span class="lineno"></span><span class="op" id="5819672">}</span>
</div>
</body>
</html>
