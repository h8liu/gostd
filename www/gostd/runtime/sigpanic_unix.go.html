<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2040432">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2040488">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2040542">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2040593">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2040658">package</span>&nbsp;<span class="ident" id="2040666">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2040675">func</span>&nbsp;<span class="ident" id="2040680">signame</span><span class="op" id="2040687">(</span><span class="builtintype" id="2040688">int32</span><span class="op" id="2040693">)</span>&nbsp;<span class="op" id="2040695">*</span><span class="builtintype" id="2040696">byte</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="2040702">func</span>&nbsp;<span class="ident" id="2040707">sigpanic</span><span class="op" id="2040715">(</span><span class="op" id="2040716">)</span>&nbsp;<span class="op" id="2040718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040721">g</span>&nbsp;<span class="op" id="2040723">:=</span>&nbsp;<span class="ident" id="2040726">getg</span><span class="op" id="2040730">(</span><span class="op" id="2040731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040734">if</span>&nbsp;<span class="op" id="2040737">!</span><span class="ident" id="2040738">canpanic</span><span class="op" id="2040746">(</span><span class="ident" id="2040747">g</span><span class="op" id="2040748">)</span>&nbsp;<span class="op" id="2040750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040754">gothrow</span><span class="op" id="2040761">(</span><span class="string" id="2040762">&#34;unexpected&nbsp;signal&nbsp;during&nbsp;runtime&nbsp;execution&#34;</span><span class="op" id="2040806">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040813">switch</span>&nbsp;<span class="ident" id="2040820">g</span><span class="op" id="2040821">.</span><span class="ident" id="2040822">sig</span>&nbsp;<span class="op" id="2040826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040829">case</span>&nbsp;<span class="ident" id="2040834">_SIGBUS</span><span class="op" id="2040841">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040845">if</span>&nbsp;<span class="ident" id="2040848">g</span><span class="op" id="2040849">.</span><span class="ident" id="2040850">sigcode0</span>&nbsp;<span class="op" id="2040859">==</span>&nbsp;<span class="ident" id="2040862">_BUS_ADRERR</span>&nbsp;<span class="op" id="2040874">&amp;&amp;</span>&nbsp;<span class="ident" id="2040877">g</span><span class="op" id="2040878">.</span><span class="ident" id="2040879">sigcode1</span>&nbsp;<span class="op" id="2040888">&lt;</span>&nbsp;<span class="num" id="2040890">0x1000</span>&nbsp;<span class="op" id="2040897">||</span>&nbsp;<span class="ident" id="2040900">g</span><span class="op" id="2040901">.</span><span class="ident" id="2040902">paniconfault</span>&nbsp;<span class="op" id="2040915">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040920">panicmem</span><span class="op" id="2040928">(</span><span class="op" id="2040929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2040937">print</span><span class="op" id="2040942">(</span><span class="string" id="2040943">&#34;unexpected&nbsp;fault&nbsp;address&nbsp;&#34;</span><span class="op" id="2040970">,</span>&nbsp;<span class="ident" id="2040972">hex</span><span class="op" id="2040975">(</span><span class="ident" id="2040976">g</span><span class="op" id="2040977">.</span><span class="ident" id="2040978">sigcode1</span><span class="op" id="2040986">)</span><span class="op" id="2040987">,</span>&nbsp;<span class="string" id="2040989">&#34;\n&#34;</span><span class="op" id="2040993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040997">gothrow</span><span class="op" id="2041004">(</span><span class="string" id="2041005">&#34;fault&#34;</span><span class="op" id="2041012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041015">case</span>&nbsp;<span class="ident" id="2041020">_SIGSEGV</span><span class="op" id="2041028">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041032">if</span>&nbsp;<span class="op" id="2041035">(</span><span class="ident" id="2041036">g</span><span class="op" id="2041037">.</span><span class="ident" id="2041038">sigcode0</span>&nbsp;<span class="op" id="2041047">==</span>&nbsp;<span class="num" id="2041050">0</span>&nbsp;<span class="op" id="2041052">||</span>&nbsp;<span class="ident" id="2041055">g</span><span class="op" id="2041056">.</span><span class="ident" id="2041057">sigcode0</span>&nbsp;<span class="op" id="2041066">==</span>&nbsp;<span class="ident" id="2041069">_SEGV_MAPERR</span>&nbsp;<span class="op" id="2041082">||</span>&nbsp;<span class="ident" id="2041085">g</span><span class="op" id="2041086">.</span><span class="ident" id="2041087">sigcode0</span>&nbsp;<span class="op" id="2041096">==</span>&nbsp;<span class="ident" id="2041099">_SEGV_ACCERR</span><span class="op" id="2041111">)</span>&nbsp;<span class="op" id="2041113">&amp;&amp;</span>&nbsp;<span class="ident" id="2041116">g</span><span class="op" id="2041117">.</span><span class="ident" id="2041118">sigcode1</span>&nbsp;<span class="op" id="2041127">&lt;</span>&nbsp;<span class="num" id="2041129">0x1000</span>&nbsp;<span class="op" id="2041136">||</span>&nbsp;<span class="ident" id="2041139">g</span><span class="op" id="2041140">.</span><span class="ident" id="2041141">paniconfault</span>&nbsp;<span class="op" id="2041154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041159">panicmem</span><span class="op" id="2041167">(</span><span class="op" id="2041168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2041176">print</span><span class="op" id="2041181">(</span><span class="string" id="2041182">&#34;unexpected&nbsp;fault&nbsp;address&nbsp;&#34;</span><span class="op" id="2041209">,</span>&nbsp;<span class="ident" id="2041211">hex</span><span class="op" id="2041214">(</span><span class="ident" id="2041215">g</span><span class="op" id="2041216">.</span><span class="ident" id="2041217">sigcode1</span><span class="op" id="2041225">)</span><span class="op" id="2041226">,</span>&nbsp;<span class="string" id="2041228">&#34;\n&#34;</span><span class="op" id="2041232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041236">gothrow</span><span class="op" id="2041243">(</span><span class="string" id="2041244">&#34;fault&#34;</span><span class="op" id="2041251">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041254">case</span>&nbsp;<span class="ident" id="2041259">_SIGFPE</span><span class="op" id="2041266">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041270">switch</span>&nbsp;<span class="ident" id="2041277">g</span><span class="op" id="2041278">.</span><span class="ident" id="2041279">sigcode0</span>&nbsp;<span class="op" id="2041288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041292">case</span>&nbsp;<span class="ident" id="2041297">_FPE_INTDIV</span><span class="op" id="2041308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041313">panicdivide</span><span class="op" id="2041324">(</span><span class="op" id="2041325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041329">case</span>&nbsp;<span class="ident" id="2041334">_FPE_INTOVF</span><span class="op" id="2041345">:</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041350">panicoverflow</span><span class="op" id="2041363">(</span><span class="op" id="2041364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041372">panicfloat</span><span class="op" id="2041382">(</span><span class="op" id="2041383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2041389">panic</span><span class="op" id="2041394">(</span><span class="ident" id="2041395">errorString</span><span class="op" id="2041406">(</span><span class="ident" id="2041407">gostringnocopy</span><span class="op" id="2041421">(</span><span class="ident" id="2041422">signame</span><span class="op" id="2041429">(</span><span class="ident" id="2041430">g</span><span class="op" id="2041431">.</span><span class="ident" id="2041432">sig</span><span class="op" id="2041435">)</span><span class="op" id="2041436">)</span><span class="op" id="2041437">)</span><span class="op" id="2041438">)</span><br>
<span class="lineno">40</span><span class="op" id="2041440">}</span>
</div>
</body>
</html>
