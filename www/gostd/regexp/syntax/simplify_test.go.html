<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7365748">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7365804">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7365858">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7365909">package</span>&nbsp;<span class="ident" id="7365917">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7365925">import</span>&nbsp;<span class="string" id="7365932">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7365943">var</span>&nbsp;<span class="ident" id="7365947">simplifyTests</span>&nbsp;<span class="op" id="7365961">=</span>&nbsp;<span class="op" id="7365963">[</span><span class="op" id="7365964">]</span><span class="keyword" id="7365965">struct</span>&nbsp;<span class="op" id="7365972">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365975">Regexp</span>&nbsp;<span class="builtintype" id="7365982">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365990">Simple</span>&nbsp;<span class="builtintype" id="7365997">string</span><br>
<span class="lineno"></span><span class="op" id="7366004">}</span><span class="op" id="7366005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7366008">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366038">{</span><span class="string" id="7366039">`a`</span><span class="op" id="7366042">,</span>&nbsp;<span class="string" id="7366044">`a`</span><span class="op" id="7366047">}</span><span class="op" id="7366048">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366051">{</span><span class="string" id="7366052">`ab`</span><span class="op" id="7366056">,</span>&nbsp;<span class="string" id="7366058">`ab`</span><span class="op" id="7366062">}</span><span class="op" id="7366063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366066">{</span><span class="string" id="7366067">`a|b`</span><span class="op" id="7366072">,</span>&nbsp;<span class="string" id="7366074">`[a-b]`</span><span class="op" id="7366081">}</span><span class="op" id="7366082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366085">{</span><span class="string" id="7366086">`ab|cd`</span><span class="op" id="7366093">,</span>&nbsp;<span class="string" id="7366095">`ab|cd`</span><span class="op" id="7366102">}</span><span class="op" id="7366103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366106">{</span><span class="string" id="7366107">`(ab)*`</span><span class="op" id="7366114">,</span>&nbsp;<span class="string" id="7366116">`(ab)*`</span><span class="op" id="7366123">}</span><span class="op" id="7366124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366127">{</span><span class="string" id="7366128">`(ab)+`</span><span class="op" id="7366135">,</span>&nbsp;<span class="string" id="7366137">`(ab)+`</span><span class="op" id="7366144">}</span><span class="op" id="7366145">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366148">{</span><span class="string" id="7366149">`(ab)?`</span><span class="op" id="7366156">,</span>&nbsp;<span class="string" id="7366158">`(ab)?`</span><span class="op" id="7366165">}</span><span class="op" id="7366166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366169">{</span><span class="string" id="7366170">`.`</span><span class="op" id="7366173">,</span>&nbsp;<span class="string" id="7366175">`(?s:.)`</span><span class="op" id="7366183">}</span><span class="op" id="7366184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366187">{</span><span class="string" id="7366188">`^`</span><span class="op" id="7366191">,</span>&nbsp;<span class="string" id="7366193">`^`</span><span class="op" id="7366196">}</span><span class="op" id="7366197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366200">{</span><span class="string" id="7366201">`$`</span><span class="op" id="7366204">,</span>&nbsp;<span class="string" id="7366206">`$`</span><span class="op" id="7366209">}</span><span class="op" id="7366210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366213">{</span><span class="string" id="7366214">`[ac]`</span><span class="op" id="7366220">,</span>&nbsp;<span class="string" id="7366222">`[ac]`</span><span class="op" id="7366228">}</span><span class="op" id="7366229">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366232">{</span><span class="string" id="7366233">`[^ac]`</span><span class="op" id="7366240">,</span>&nbsp;<span class="string" id="7366242">`[^ac]`</span><span class="op" id="7366249">}</span><span class="op" id="7366250">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7366254">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366282">{</span><span class="string" id="7366283">`[[:alnum:]]`</span><span class="op" id="7366296">,</span>&nbsp;<span class="string" id="7366298">`[0-9A-Za-z]`</span><span class="op" id="7366311">}</span><span class="op" id="7366312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366315">{</span><span class="string" id="7366316">`[[:alpha:]]`</span><span class="op" id="7366329">,</span>&nbsp;<span class="string" id="7366331">`[A-Za-z]`</span><span class="op" id="7366341">}</span><span class="op" id="7366342">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366345">{</span><span class="string" id="7366346">`[[:blank:]]`</span><span class="op" id="7366359">,</span>&nbsp;<span class="string" id="7366361">`[\t&nbsp;]`</span><span class="op" id="7366368">}</span><span class="op" id="7366369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366372">{</span><span class="string" id="7366373">`[[:cntrl:]]`</span><span class="op" id="7366386">,</span>&nbsp;<span class="string" id="7366388">`[\x00-\x1f\x7f]`</span><span class="op" id="7366405">}</span><span class="op" id="7366406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366409">{</span><span class="string" id="7366410">`[[:digit:]]`</span><span class="op" id="7366423">,</span>&nbsp;<span class="string" id="7366425">`[0-9]`</span><span class="op" id="7366432">}</span><span class="op" id="7366433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366436">{</span><span class="string" id="7366437">`[[:graph:]]`</span><span class="op" id="7366450">,</span>&nbsp;<span class="string" id="7366452">`[!-~]`</span><span class="op" id="7366459">}</span><span class="op" id="7366460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366463">{</span><span class="string" id="7366464">`[[:lower:]]`</span><span class="op" id="7366477">,</span>&nbsp;<span class="string" id="7366479">`[a-z]`</span><span class="op" id="7366486">}</span><span class="op" id="7366487">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366490">{</span><span class="string" id="7366491">`[[:print:]]`</span><span class="op" id="7366504">,</span>&nbsp;<span class="string" id="7366506">`[&nbsp;-~]`</span><span class="op" id="7366513">}</span><span class="op" id="7366514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366517">{</span><span class="string" id="7366518">`[[:punct:]]`</span><span class="op" id="7366531">,</span>&nbsp;<span class="string" id="7366533">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="7366553">}</span><span class="op" id="7366554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366557">{</span><span class="string" id="7366558">`[[:space:]]`</span><span class="op" id="7366571">,</span>&nbsp;<span class="string" id="7366573">`[\t-\r&nbsp;]`</span><span class="op" id="7366583">}</span><span class="op" id="7366584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366587">{</span><span class="string" id="7366588">`[[:upper:]]`</span><span class="op" id="7366601">,</span>&nbsp;<span class="string" id="7366603">`[A-Z]`</span><span class="op" id="7366610">}</span><span class="op" id="7366611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366614">{</span><span class="string" id="7366615">`[[:xdigit:]]`</span><span class="op" id="7366629">,</span>&nbsp;<span class="string" id="7366631">`[0-9A-Fa-f]`</span><span class="op" id="7366644">}</span><span class="op" id="7366645">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7366649">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366676">{</span><span class="string" id="7366677">`\d`</span><span class="op" id="7366681">,</span>&nbsp;<span class="string" id="7366683">`[0-9]`</span><span class="op" id="7366690">}</span><span class="op" id="7366691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366694">{</span><span class="string" id="7366695">`\s`</span><span class="op" id="7366699">,</span>&nbsp;<span class="string" id="7366701">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7366716">}</span><span class="op" id="7366717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366720">{</span><span class="string" id="7366721">`\w`</span><span class="op" id="7366725">,</span>&nbsp;<span class="string" id="7366727">`[0-9A-Z_a-z]`</span><span class="op" id="7366741">}</span><span class="op" id="7366742">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366745">{</span><span class="string" id="7366746">`\D`</span><span class="op" id="7366750">,</span>&nbsp;<span class="string" id="7366752">`[^0-9]`</span><span class="op" id="7366760">}</span><span class="op" id="7366761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366764">{</span><span class="string" id="7366765">`\S`</span><span class="op" id="7366769">,</span>&nbsp;<span class="string" id="7366771">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7366787">}</span><span class="op" id="7366788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366791">{</span><span class="string" id="7366792">`\W`</span><span class="op" id="7366796">,</span>&nbsp;<span class="string" id="7366798">`[^0-9A-Z_a-z]`</span><span class="op" id="7366813">}</span><span class="op" id="7366814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366817">{</span><span class="string" id="7366818">`[\d]`</span><span class="op" id="7366824">,</span>&nbsp;<span class="string" id="7366826">`[0-9]`</span><span class="op" id="7366833">}</span><span class="op" id="7366834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366837">{</span><span class="string" id="7366838">`[\s]`</span><span class="op" id="7366844">,</span>&nbsp;<span class="string" id="7366846">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7366861">}</span><span class="op" id="7366862">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366865">{</span><span class="string" id="7366866">`[\w]`</span><span class="op" id="7366872">,</span>&nbsp;<span class="string" id="7366874">`[0-9A-Z_a-z]`</span><span class="op" id="7366888">}</span><span class="op" id="7366889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366892">{</span><span class="string" id="7366893">`[\D]`</span><span class="op" id="7366899">,</span>&nbsp;<span class="string" id="7366901">`[^0-9]`</span><span class="op" id="7366909">}</span><span class="op" id="7366910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366913">{</span><span class="string" id="7366914">`[\S]`</span><span class="op" id="7366920">,</span>&nbsp;<span class="string" id="7366922">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7366938">}</span><span class="op" id="7366939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366942">{</span><span class="string" id="7366943">`[\W]`</span><span class="op" id="7366949">,</span>&nbsp;<span class="string" id="7366951">`[^0-9A-Z_a-z]`</span><span class="op" id="7366966">}</span><span class="op" id="7366967">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7366971">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366993">{</span><span class="string" id="7366994">`a{1}`</span><span class="op" id="7367000">,</span>&nbsp;<span class="string" id="7367002">`a`</span><span class="op" id="7367005">}</span><span class="op" id="7367006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367009">{</span><span class="string" id="7367010">`a{2}`</span><span class="op" id="7367016">,</span>&nbsp;<span class="string" id="7367018">`aa`</span><span class="op" id="7367022">}</span><span class="op" id="7367023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367026">{</span><span class="string" id="7367027">`a{5}`</span><span class="op" id="7367033">,</span>&nbsp;<span class="string" id="7367035">`aaaaa`</span><span class="op" id="7367042">}</span><span class="op" id="7367043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367046">{</span><span class="string" id="7367047">`a{0,1}`</span><span class="op" id="7367055">,</span>&nbsp;<span class="string" id="7367057">`a?`</span><span class="op" id="7367061">}</span><span class="op" id="7367062">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7367065">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7367128">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7367184">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367261">{</span><span class="string" id="7367262">`(a){0,2}`</span><span class="op" id="7367272">,</span>&nbsp;<span class="string" id="7367274">`(?:(a)(a)?)?`</span><span class="op" id="7367288">}</span><span class="op" id="7367289">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7367313">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367330">{</span><span class="string" id="7367331">`(a){0,4}`</span><span class="op" id="7367341">,</span>&nbsp;<span class="string" id="7367343">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7367373">}</span><span class="op" id="7367374">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7367382">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367403">{</span><span class="string" id="7367404">`(a){2,6}`</span><span class="op" id="7367414">,</span>&nbsp;<span class="string" id="7367416">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7367452">}</span><span class="op" id="7367453">,</span>&nbsp;<span class="comment" id="7367455">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367476">{</span><span class="string" id="7367477">`a{0,2}`</span><span class="op" id="7367485">,</span>&nbsp;<span class="string" id="7367487">`(?:aa?)?`</span><span class="op" id="7367497">}</span><span class="op" id="7367498">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7367528">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367545">{</span><span class="string" id="7367546">`a{0,4}`</span><span class="op" id="7367554">,</span>&nbsp;<span class="string" id="7367556">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7367578">}</span><span class="op" id="7367579">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7367597">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367618">{</span><span class="string" id="7367619">`a{2,6}`</span><span class="op" id="7367627">,</span>&nbsp;<span class="string" id="7367629">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7367653">}</span><span class="op" id="7367654">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7367670">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367691">{</span><span class="string" id="7367692">`a{0,}`</span><span class="op" id="7367699">,</span>&nbsp;<span class="string" id="7367701">`a*`</span><span class="op" id="7367705">}</span><span class="op" id="7367706">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367709">{</span><span class="string" id="7367710">`a{1,}`</span><span class="op" id="7367717">,</span>&nbsp;<span class="string" id="7367719">`a+`</span><span class="op" id="7367723">}</span><span class="op" id="7367724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367727">{</span><span class="string" id="7367728">`a{2,}`</span><span class="op" id="7367735">,</span>&nbsp;<span class="string" id="7367737">`aa+`</span><span class="op" id="7367742">}</span><span class="op" id="7367743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367746">{</span><span class="string" id="7367747">`a{5,}`</span><span class="op" id="7367754">,</span>&nbsp;<span class="string" id="7367756">`aaaaa+`</span><span class="op" id="7367764">}</span><span class="op" id="7367765">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7367769">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367819">{</span><span class="string" id="7367820">`(?:a{1,}){1,}`</span><span class="op" id="7367835">,</span>&nbsp;<span class="string" id="7367837">`a+`</span><span class="op" id="7367841">}</span><span class="op" id="7367842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367845">{</span><span class="string" id="7367846">`(a{1,}b{1,})`</span><span class="op" id="7367860">,</span>&nbsp;<span class="string" id="7367862">`(a+b+)`</span><span class="op" id="7367870">}</span><span class="op" id="7367871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367874">{</span><span class="string" id="7367875">`a{1,}|b{1,}`</span><span class="op" id="7367888">,</span>&nbsp;<span class="string" id="7367890">`a+|b+`</span><span class="op" id="7367897">}</span><span class="op" id="7367898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367901">{</span><span class="string" id="7367902">`(?:a{1,})*`</span><span class="op" id="7367914">,</span>&nbsp;<span class="string" id="7367916">`(?:a+)*`</span><span class="op" id="7367925">}</span><span class="op" id="7367926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367929">{</span><span class="string" id="7367930">`(?:a{1,})+`</span><span class="op" id="7367942">,</span>&nbsp;<span class="string" id="7367944">`a+`</span><span class="op" id="7367948">}</span><span class="op" id="7367949">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367952">{</span><span class="string" id="7367953">`(?:a{1,})?`</span><span class="op" id="7367965">,</span>&nbsp;<span class="string" id="7367967">`(?:a+)?`</span><span class="op" id="7367976">}</span><span class="op" id="7367977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367980">{</span><span class="string" id="7367981">``</span><span class="op" id="7367983">,</span>&nbsp;<span class="string" id="7367985">`(?:)`</span><span class="op" id="7367991">}</span><span class="op" id="7367992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367995">{</span><span class="string" id="7367996">`a{0}`</span><span class="op" id="7368002">,</span>&nbsp;<span class="string" id="7368004">`(?:)`</span><span class="op" id="7368010">}</span><span class="op" id="7368011">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7368015">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368050">{</span><span class="string" id="7368051">`[ab]`</span><span class="op" id="7368057">,</span>&nbsp;<span class="string" id="7368059">`[a-b]`</span><span class="op" id="7368066">}</span><span class="op" id="7368067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368070">{</span><span class="string" id="7368071">`[a-za-za-z]`</span><span class="op" id="7368084">,</span>&nbsp;<span class="string" id="7368086">`[a-z]`</span><span class="op" id="7368093">}</span><span class="op" id="7368094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368097">{</span><span class="string" id="7368098">`[A-Za-zA-Za-z]`</span><span class="op" id="7368114">,</span>&nbsp;<span class="string" id="7368116">`[A-Za-z]`</span><span class="op" id="7368126">}</span><span class="op" id="7368127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368130">{</span><span class="string" id="7368131">`[ABCDEFGH]`</span><span class="op" id="7368143">,</span>&nbsp;<span class="string" id="7368145">`[A-H]`</span><span class="op" id="7368152">}</span><span class="op" id="7368153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368156">{</span><span class="string" id="7368157">`[AB-CD-EF-GH]`</span><span class="op" id="7368172">,</span>&nbsp;<span class="string" id="7368174">`[A-H]`</span><span class="op" id="7368181">}</span><span class="op" id="7368182">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368185">{</span><span class="string" id="7368186">`[W-ZP-XE-R]`</span><span class="op" id="7368199">,</span>&nbsp;<span class="string" id="7368201">`[E-Z]`</span><span class="op" id="7368208">}</span><span class="op" id="7368209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368212">{</span><span class="string" id="7368213">`[a-ee-gg-m]`</span><span class="op" id="7368226">,</span>&nbsp;<span class="string" id="7368228">`[a-m]`</span><span class="op" id="7368235">}</span><span class="op" id="7368236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368239">{</span><span class="string" id="7368240">`[a-ea-ha-m]`</span><span class="op" id="7368253">,</span>&nbsp;<span class="string" id="7368255">`[a-m]`</span><span class="op" id="7368262">}</span><span class="op" id="7368263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368266">{</span><span class="string" id="7368267">`[a-ma-ha-e]`</span><span class="op" id="7368280">,</span>&nbsp;<span class="string" id="7368282">`[a-m]`</span><span class="op" id="7368289">}</span><span class="op" id="7368290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368293">{</span><span class="string" id="7368294">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="7368310">,</span>&nbsp;<span class="string" id="7368312">`[&nbsp;-~]`</span><span class="op" id="7368319">}</span><span class="op" id="7368320">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7368324">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368352">{</span><span class="string" id="7368353">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="7368377">,</span>&nbsp;<span class="string" id="7368379">`[^\x00-\x{10FFFF}]`</span><span class="op" id="7368399">}</span><span class="op" id="7368400">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7368404">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368431">{</span><span class="string" id="7368432">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="7368455">,</span>&nbsp;<span class="string" id="7368457">`(?s:.)`</span><span class="op" id="7368465">}</span><span class="op" id="7368466">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7368470">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368496">{</span><span class="string" id="7368497">`(?i)A`</span><span class="op" id="7368504">,</span>&nbsp;<span class="string" id="7368506">`(?i:A)`</span><span class="op" id="7368514">}</span><span class="op" id="7368515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368518">{</span><span class="string" id="7368519">`(?i)a`</span><span class="op" id="7368526">,</span>&nbsp;<span class="string" id="7368528">`(?i:A)`</span><span class="op" id="7368536">}</span><span class="op" id="7368537">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368540">{</span><span class="string" id="7368541">`(?i)[A]`</span><span class="op" id="7368550">,</span>&nbsp;<span class="string" id="7368552">`(?i:A)`</span><span class="op" id="7368560">}</span><span class="op" id="7368561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368564">{</span><span class="string" id="7368565">`(?i)[a]`</span><span class="op" id="7368574">,</span>&nbsp;<span class="string" id="7368576">`(?i:A)`</span><span class="op" id="7368584">}</span><span class="op" id="7368585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368588">{</span><span class="string" id="7368589">`(?i)K`</span><span class="op" id="7368596">,</span>&nbsp;<span class="string" id="7368598">`(?i:K)`</span><span class="op" id="7368606">}</span><span class="op" id="7368607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368610">{</span><span class="string" id="7368611">`(?i)k`</span><span class="op" id="7368618">,</span>&nbsp;<span class="string" id="7368620">`(?i:K)`</span><span class="op" id="7368628">}</span><span class="op" id="7368629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368632">{</span><span class="string" id="7368633">`(?i)\x{212a}`</span><span class="op" id="7368647">,</span>&nbsp;<span class="string" id="7368649">&#34;(?i:K)&#34;</span><span class="op" id="7368657">}</span><span class="op" id="7368658">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368661">{</span><span class="string" id="7368662">`(?i)[K]`</span><span class="op" id="7368671">,</span>&nbsp;<span class="string" id="7368673">&#34;[Kk\u212A]&#34;</span><span class="op" id="7368685">}</span><span class="op" id="7368686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368689">{</span><span class="string" id="7368690">`(?i)[k]`</span><span class="op" id="7368699">,</span>&nbsp;<span class="string" id="7368701">&#34;[Kk\u212A]&#34;</span><span class="op" id="7368713">}</span><span class="op" id="7368714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368717">{</span><span class="string" id="7368718">`(?i)[\x{212a}]`</span><span class="op" id="7368734">,</span>&nbsp;<span class="string" id="7368736">&#34;[Kk\u212A]&#34;</span><span class="op" id="7368748">}</span><span class="op" id="7368749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368752">{</span><span class="string" id="7368753">`(?i)[a-z]`</span><span class="op" id="7368764">,</span>&nbsp;<span class="string" id="7368766">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="7368788">}</span><span class="op" id="7368789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368792">{</span><span class="string" id="7368793">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="7368814">,</span>&nbsp;<span class="string" id="7368816">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="7368832">}</span><span class="op" id="7368833">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368836">{</span><span class="string" id="7368837">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="7368860">,</span>&nbsp;<span class="string" id="7368862">`(?s:.)`</span><span class="op" id="7368870">}</span><span class="op" id="7368871">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7368875">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7368917">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7368979">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7369038">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7369100">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7369163">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369214">{</span><span class="string" id="7369215">`(a|b|)`</span><span class="op" id="7369223">,</span>&nbsp;<span class="string" id="7369225">`([a-b]|(?:))`</span><span class="op" id="7369239">}</span><span class="op" id="7369240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369243">{</span><span class="string" id="7369244">`(|)`</span><span class="op" id="7369249">,</span>&nbsp;<span class="string" id="7369251">`()`</span><span class="op" id="7369255">}</span><span class="op" id="7369256">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369259">{</span><span class="string" id="7369260">`a()`</span><span class="op" id="7369265">,</span>&nbsp;<span class="string" id="7369267">`a()`</span><span class="op" id="7369272">}</span><span class="op" id="7369273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369276">{</span><span class="string" id="7369277">`(()|())`</span><span class="op" id="7369286">,</span>&nbsp;<span class="string" id="7369288">`(()|())`</span><span class="op" id="7369297">}</span><span class="op" id="7369298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369301">{</span><span class="string" id="7369302">`(a|)`</span><span class="op" id="7369308">,</span>&nbsp;<span class="string" id="7369310">`(a|(?:))`</span><span class="op" id="7369320">}</span><span class="op" id="7369321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369324">{</span><span class="string" id="7369325">`ab()cd()`</span><span class="op" id="7369335">,</span>&nbsp;<span class="string" id="7369337">`ab()cd()`</span><span class="op" id="7369347">}</span><span class="op" id="7369348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369351">{</span><span class="string" id="7369352">`()`</span><span class="op" id="7369356">,</span>&nbsp;<span class="string" id="7369358">`()`</span><span class="op" id="7369362">}</span><span class="op" id="7369363">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369366">{</span><span class="string" id="7369367">`()*`</span><span class="op" id="7369372">,</span>&nbsp;<span class="string" id="7369374">`()*`</span><span class="op" id="7369379">}</span><span class="op" id="7369380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369383">{</span><span class="string" id="7369384">`()+`</span><span class="op" id="7369389">,</span>&nbsp;<span class="string" id="7369391">`()+`</span><span class="op" id="7369396">}</span><span class="op" id="7369397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369400">{</span><span class="string" id="7369401">`()?`</span><span class="op" id="7369406">,</span>&nbsp;<span class="string" id="7369408">`()?`</span><span class="op" id="7369413">}</span><span class="op" id="7369414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369417">{</span><span class="string" id="7369418">`(){0}`</span><span class="op" id="7369425">,</span>&nbsp;<span class="string" id="7369427">`(?:)`</span><span class="op" id="7369433">}</span><span class="op" id="7369434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369437">{</span><span class="string" id="7369438">`(){1}`</span><span class="op" id="7369445">,</span>&nbsp;<span class="string" id="7369447">`()`</span><span class="op" id="7369451">}</span><span class="op" id="7369452">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369455">{</span><span class="string" id="7369456">`(){1,}`</span><span class="op" id="7369464">,</span>&nbsp;<span class="string" id="7369466">`()+`</span><span class="op" id="7369471">}</span><span class="op" id="7369472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369475">{</span><span class="string" id="7369476">`(){0,2}`</span><span class="op" id="7369485">,</span>&nbsp;<span class="string" id="7369487">`(?:()()?)?`</span><span class="op" id="7369499">}</span><span class="op" id="7369500">,</span><br>
<span class="lineno"></span><span class="op" id="7369502">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7369505">func</span>&nbsp;<span class="ident" id="7369510">TestSimplify</span><span class="op" id="7369522">(</span><span class="ident" id="7369523">t</span>&nbsp;<span class="op" id="7369525">*</span><span class="ident" id="7369526">testing</span><span class="op" id="7369533">.</span><span class="ident" id="7369534">T</span><span class="op" id="7369535">)</span>&nbsp;<span class="op" id="7369537">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7369540">for</span>&nbsp;<span class="ident" id="7369544">_</span><span class="op" id="7369545">,</span>&nbsp;<span class="ident" id="7369547">tt</span>&nbsp;<span class="op" id="7369550">:=</span>&nbsp;<span class="keyword" id="7369553">range</span>&nbsp;<span class="ident" id="7369559">simplifyTests</span>&nbsp;<span class="op" id="7369573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7369577">re</span><span class="op" id="7369579">,</span>&nbsp;<span class="ident" id="7369581">err</span>&nbsp;<span class="op" id="7369585">:=</span>&nbsp;<span class="ident" id="7369588">Parse</span><span class="op" id="7369593">(</span><span class="ident" id="7369594">tt</span><span class="op" id="7369596">.</span><span class="ident" id="7369597">Regexp</span><span class="op" id="7369603">,</span>&nbsp;<span class="ident" id="7369605">MatchNL</span><span class="op" id="7369612">|</span><span class="ident" id="7369613">Perl</span><span class="op" id="7369617">&amp;^</span><span class="ident" id="7369619">OneLine</span><span class="op" id="7369626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7369630">if</span>&nbsp;<span class="ident" id="7369633">err</span>&nbsp;<span class="op" id="7369637">!=</span>&nbsp;<span class="ident" id="7369640">nil</span>&nbsp;<span class="op" id="7369644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7369649">t</span><span class="op" id="7369650">.</span><span class="ident" id="7369651">Errorf</span><span class="op" id="7369657">(</span><span class="string" id="7369658">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7369681">,</span>&nbsp;<span class="ident" id="7369683">tt</span><span class="op" id="7369685">.</span><span class="ident" id="7369686">Regexp</span><span class="op" id="7369692">,</span>&nbsp;<span class="ident" id="7369694">err</span><span class="op" id="7369697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7369702">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7369717">s</span>&nbsp;<span class="op" id="7369719">:=</span>&nbsp;<span class="ident" id="7369722">re</span><span class="op" id="7369724">.</span><span class="ident" id="7369725">Simplify</span><span class="op" id="7369733">(</span><span class="op" id="7369734">)</span><span class="op" id="7369735">.</span><span class="ident" id="7369736">String</span><span class="op" id="7369742">(</span><span class="op" id="7369743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7369747">if</span>&nbsp;<span class="ident" id="7369750">s</span>&nbsp;<span class="op" id="7369752">!=</span>&nbsp;<span class="ident" id="7369755">tt</span><span class="op" id="7369757">.</span><span class="ident" id="7369758">Simple</span>&nbsp;<span class="op" id="7369765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7369770">t</span><span class="op" id="7369771">.</span><span class="ident" id="7369772">Errorf</span><span class="op" id="7369778">(</span><span class="string" id="7369779">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7369810">,</span>&nbsp;<span class="ident" id="7369812">tt</span><span class="op" id="7369814">.</span><span class="ident" id="7369815">Regexp</span><span class="op" id="7369821">,</span>&nbsp;<span class="ident" id="7369823">s</span><span class="op" id="7369824">,</span>&nbsp;<span class="ident" id="7369826">tt</span><span class="op" id="7369828">.</span><span class="ident" id="7369829">Simple</span><span class="op" id="7369835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369839">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7369842">}</span><br>
<span class="lineno"></span><span class="op" id="7369844">}</span>
</div>
</body>
</html>
