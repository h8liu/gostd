<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html" class="current">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6676547">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6676602">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6676656">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6676707">package</span>&nbsp;<span class="ident" id="6676715">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6676720">import</span>&nbsp;<span class="op" id="6676727">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6676730">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6676741">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6676752">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6676762">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6676765">var</span>&nbsp;<span class="ident" id="6676769">parseIPTests</span>&nbsp;<span class="op" id="6676782">=</span>&nbsp;<span class="op" id="6676784">[</span><span class="op" id="6676785">]</span><span class="keyword" id="6676786">struct</span>&nbsp;<span class="op" id="6676793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676796">in</span>&nbsp;&nbsp;<span class="builtintype" id="6676800">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676808">out</span>&nbsp;<span class="ident" id="6676812">IP</span><br>
<span class="lineno"></span><span class="op" id="6676815">}</span><span class="op" id="6676816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676819">{</span><span class="string" id="6676820">&#34;127.0.1.2&#34;</span><span class="op" id="6676831">,</span>&nbsp;<span class="ident" id="6676833">IPv4</span><span class="op" id="6676837">(</span><span class="num" id="6676838">127</span><span class="op" id="6676841">,</span>&nbsp;<span class="num" id="6676843">0</span><span class="op" id="6676844">,</span>&nbsp;<span class="num" id="6676846">1</span><span class="op" id="6676847">,</span>&nbsp;<span class="num" id="6676849">2</span><span class="op" id="6676850">)</span><span class="op" id="6676851">}</span><span class="op" id="6676852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676855">{</span><span class="string" id="6676856">&#34;127.0.0.1&#34;</span><span class="op" id="6676867">,</span>&nbsp;<span class="ident" id="6676869">IPv4</span><span class="op" id="6676873">(</span><span class="num" id="6676874">127</span><span class="op" id="6676877">,</span>&nbsp;<span class="num" id="6676879">0</span><span class="op" id="6676880">,</span>&nbsp;<span class="num" id="6676882">0</span><span class="op" id="6676883">,</span>&nbsp;<span class="num" id="6676885">1</span><span class="op" id="6676886">)</span><span class="op" id="6676887">}</span><span class="op" id="6676888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676891">{</span><span class="string" id="6676892">&#34;127.0.0.256&#34;</span><span class="op" id="6676905">,</span>&nbsp;<span class="builtintype" id="6676907">nil</span><span class="op" id="6676910">}</span><span class="op" id="6676911">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676914">{</span><span class="string" id="6676915">&#34;abc&#34;</span><span class="op" id="6676920">,</span>&nbsp;<span class="builtintype" id="6676922">nil</span><span class="op" id="6676925">}</span><span class="op" id="6676926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676929">{</span><span class="string" id="6676930">&#34;123:&#34;</span><span class="op" id="6676936">,</span>&nbsp;<span class="builtintype" id="6676938">nil</span><span class="op" id="6676941">}</span><span class="op" id="6676942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676945">{</span><span class="string" id="6676946">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="6676964">,</span>&nbsp;<span class="ident" id="6676966">IPv4</span><span class="op" id="6676970">(</span><span class="num" id="6676971">127</span><span class="op" id="6676974">,</span>&nbsp;<span class="num" id="6676976">0</span><span class="op" id="6676977">,</span>&nbsp;<span class="num" id="6676979">0</span><span class="op" id="6676980">,</span>&nbsp;<span class="num" id="6676982">1</span><span class="op" id="6676983">)</span><span class="op" id="6676984">}</span><span class="op" id="6676985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676988">{</span><span class="string" id="6676989">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="6677011">,</span>&nbsp;<span class="ident" id="6677013">IP</span><span class="op" id="6677015">{</span><span class="num" id="6677016">0x20</span><span class="op" id="6677020">,</span>&nbsp;<span class="num" id="6677022">0x01</span><span class="op" id="6677026">,</span>&nbsp;<span class="num" id="6677028">0x48</span><span class="op" id="6677032">,</span>&nbsp;<span class="num" id="6677034">0x60</span><span class="op" id="6677038">,</span>&nbsp;<span class="num" id="6677040">0</span><span class="op" id="6677041">,</span>&nbsp;<span class="num" id="6677043">0</span><span class="op" id="6677044">,</span>&nbsp;<span class="num" id="6677046">0x20</span><span class="op" id="6677050">,</span>&nbsp;<span class="num" id="6677052">0x01</span><span class="op" id="6677056">,</span>&nbsp;<span class="num" id="6677058">0</span><span class="op" id="6677059">,</span>&nbsp;<span class="num" id="6677061">0</span><span class="op" id="6677062">,</span>&nbsp;<span class="num" id="6677064">0</span><span class="op" id="6677065">,</span>&nbsp;<span class="num" id="6677067">0</span><span class="op" id="6677068">,</span>&nbsp;<span class="num" id="6677070">0</span><span class="op" id="6677071">,</span>&nbsp;<span class="num" id="6677073">0</span><span class="op" id="6677074">,</span>&nbsp;<span class="num" id="6677076">0x00</span><span class="op" id="6677080">,</span>&nbsp;<span class="num" id="6677082">0x68</span><span class="op" id="6677086">}</span><span class="op" id="6677087">}</span><span class="op" id="6677088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677091">{</span><span class="string" id="6677092">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="6677110">,</span>&nbsp;<span class="ident" id="6677112">IPv4</span><span class="op" id="6677116">(</span><span class="num" id="6677117">74</span><span class="op" id="6677119">,</span>&nbsp;<span class="num" id="6677121">125</span><span class="op" id="6677124">,</span>&nbsp;<span class="num" id="6677126">19</span><span class="op" id="6677128">,</span>&nbsp;<span class="num" id="6677130">99</span><span class="op" id="6677132">)</span><span class="op" id="6677133">}</span><span class="op" id="6677134">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677137">{</span><span class="string" id="6677138">&#34;fe80::1%lo0&#34;</span><span class="op" id="6677151">,</span>&nbsp;<span class="builtintype" id="6677153">nil</span><span class="op" id="6677156">}</span><span class="op" id="6677157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677160">{</span><span class="string" id="6677161">&#34;fe80::1%911&#34;</span><span class="op" id="6677174">,</span>&nbsp;<span class="builtintype" id="6677176">nil</span><span class="op" id="6677179">}</span><span class="op" id="6677180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677183">{</span><span class="string" id="6677184">&#34;&#34;</span><span class="op" id="6677186">,</span>&nbsp;<span class="builtintype" id="6677188">nil</span><span class="op" id="6677191">}</span><span class="op" id="6677192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677195">{</span><span class="string" id="6677196">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="6677222">,</span>&nbsp;<span class="builtintype" id="6677224">nil</span><span class="op" id="6677227">}</span><span class="op" id="6677228">,</span>&nbsp;<span class="comment" id="6677230">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="6677244">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="6677247">func</span>&nbsp;<span class="ident" id="6677252">TestParseIP</span><span class="op" id="6677263">(</span><span class="ident" id="6677264">t</span>&nbsp;<span class="op" id="6677266">*</span><span class="ident" id="6677267">testing</span><span class="op" id="6677274">.</span><span class="ident" id="6677275">T</span><span class="op" id="6677276">)</span>&nbsp;<span class="op" id="6677278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677281">for</span>&nbsp;<span class="ident" id="6677285">_</span><span class="op" id="6677286">,</span>&nbsp;<span class="ident" id="6677288">tt</span>&nbsp;<span class="op" id="6677291">:=</span>&nbsp;<span class="keyword" id="6677294">range</span>&nbsp;<span class="ident" id="6677300">parseIPTests</span>&nbsp;<span class="op" id="6677313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677317">if</span>&nbsp;<span class="ident" id="6677320">out</span>&nbsp;<span class="op" id="6677324">:=</span>&nbsp;<span class="ident" id="6677327">ParseIP</span><span class="op" id="6677334">(</span><span class="ident" id="6677335">tt</span><span class="op" id="6677337">.</span><span class="ident" id="6677338">in</span><span class="op" id="6677340">)</span><span class="op" id="6677341">;</span>&nbsp;<span class="op" id="6677343">!</span><span class="ident" id="6677344">reflect</span><span class="op" id="6677351">.</span><span class="ident" id="6677352">DeepEqual</span><span class="op" id="6677361">(</span><span class="ident" id="6677362">out</span><span class="op" id="6677365">,</span>&nbsp;<span class="ident" id="6677367">tt</span><span class="op" id="6677369">.</span><span class="ident" id="6677370">out</span><span class="op" id="6677373">)</span>&nbsp;<span class="op" id="6677375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677380">t</span><span class="op" id="6677381">.</span><span class="ident" id="6677382">Errorf</span><span class="op" id="6677388">(</span><span class="string" id="6677389">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6677416">,</span>&nbsp;<span class="ident" id="6677418">tt</span><span class="op" id="6677420">.</span><span class="ident" id="6677421">in</span><span class="op" id="6677423">,</span>&nbsp;<span class="ident" id="6677425">out</span><span class="op" id="6677428">,</span>&nbsp;<span class="ident" id="6677430">tt</span><span class="op" id="6677432">.</span><span class="ident" id="6677433">out</span><span class="op" id="6677436">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677444">if</span>&nbsp;<span class="ident" id="6677447">tt</span><span class="op" id="6677449">.</span><span class="ident" id="6677450">in</span>&nbsp;<span class="op" id="6677453">==</span>&nbsp;<span class="string" id="6677456">&#34;&#34;</span>&nbsp;<span class="op" id="6677459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6677464">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677506">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677517">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677521">var</span>&nbsp;<span class="ident" id="6677525">out</span>&nbsp;<span class="ident" id="6677529">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677534">if</span>&nbsp;<span class="ident" id="6677537">err</span>&nbsp;<span class="op" id="6677541">:=</span>&nbsp;<span class="ident" id="6677544">out</span><span class="op" id="6677547">.</span><span class="ident" id="6677548">UnmarshalText</span><span class="op" id="6677561">(</span><span class="op" id="6677562">[</span><span class="op" id="6677563">]</span><span class="builtintype" id="6677564">byte</span><span class="op" id="6677568">(</span><span class="ident" id="6677569">tt</span><span class="op" id="6677571">.</span><span class="ident" id="6677572">in</span><span class="op" id="6677574">)</span><span class="op" id="6677575">)</span><span class="op" id="6677576">;</span>&nbsp;<span class="op" id="6677578">!</span><span class="ident" id="6677579">reflect</span><span class="op" id="6677586">.</span><span class="ident" id="6677587">DeepEqual</span><span class="op" id="6677596">(</span><span class="ident" id="6677597">out</span><span class="op" id="6677600">,</span>&nbsp;<span class="ident" id="6677602">tt</span><span class="op" id="6677604">.</span><span class="ident" id="6677605">out</span><span class="op" id="6677608">)</span>&nbsp;<span class="op" id="6677610">||</span>&nbsp;<span class="op" id="6677613">(</span><span class="ident" id="6677614">tt</span><span class="op" id="6677616">.</span><span class="ident" id="6677617">out</span>&nbsp;<span class="op" id="6677621">==</span>&nbsp;<span class="builtintype" id="6677624">nil</span><span class="op" id="6677627">)</span>&nbsp;<span class="op" id="6677629">!=</span>&nbsp;<span class="op" id="6677632">(</span><span class="ident" id="6677633">err</span>&nbsp;<span class="op" id="6677637">!=</span>&nbsp;<span class="builtintype" id="6677640">nil</span><span class="op" id="6677643">)</span>&nbsp;<span class="op" id="6677645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677650">t</span><span class="op" id="6677651">.</span><span class="ident" id="6677652">Errorf</span><span class="op" id="6677658">(</span><span class="string" id="6677659">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6677699">,</span>&nbsp;<span class="ident" id="6677701">tt</span><span class="op" id="6677703">.</span><span class="ident" id="6677704">in</span><span class="op" id="6677706">,</span>&nbsp;<span class="ident" id="6677708">out</span><span class="op" id="6677711">,</span>&nbsp;<span class="ident" id="6677713">err</span><span class="op" id="6677716">,</span>&nbsp;<span class="ident" id="6677718">tt</span><span class="op" id="6677720">.</span><span class="ident" id="6677721">out</span><span class="op" id="6677724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677731">}</span><br>
<span class="lineno">45</span><span class="op" id="6677733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6677736">func</span>&nbsp;<span class="ident" id="6677741">BenchmarkParseIP</span><span class="op" id="6677757">(</span><span class="ident" id="6677758">b</span>&nbsp;<span class="op" id="6677760">*</span><span class="ident" id="6677761">testing</span><span class="op" id="6677768">.</span><span class="ident" id="6677769">B</span><span class="op" id="6677770">)</span>&nbsp;<span class="op" id="6677772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677775">for</span>&nbsp;<span class="ident" id="6677779">i</span>&nbsp;<span class="op" id="6677781">:=</span>&nbsp;<span class="num" id="6677784">0</span><span class="op" id="6677785">;</span>&nbsp;<span class="ident" id="6677787">i</span>&nbsp;<span class="op" id="6677789">&lt;</span>&nbsp;<span class="ident" id="6677791">b</span><span class="op" id="6677792">.</span><span class="ident" id="6677793">N</span><span class="op" id="6677794">;</span>&nbsp;<span class="ident" id="6677796">i</span><span class="op" id="6677797">++</span>&nbsp;<span class="op" id="6677800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677804">for</span>&nbsp;<span class="ident" id="6677808">_</span><span class="op" id="6677809">,</span>&nbsp;<span class="ident" id="6677811">tt</span>&nbsp;<span class="op" id="6677814">:=</span>&nbsp;<span class="keyword" id="6677817">range</span>&nbsp;<span class="ident" id="6677823">parseIPTests</span>&nbsp;<span class="op" id="6677836">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6677841">ParseIP</span><span class="op" id="6677848">(</span><span class="ident" id="6677849">tt</span><span class="op" id="6677851">.</span><span class="ident" id="6677852">in</span><span class="op" id="6677854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6677861">}</span><br>
<span class="lineno"></span><span class="op" id="6677863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="6677866">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="6677880">func</span>&nbsp;<span class="ident" id="6677885">TestMarshalEmptyIP</span><span class="op" id="6677903">(</span><span class="ident" id="6677904">t</span>&nbsp;<span class="op" id="6677906">*</span><span class="ident" id="6677907">testing</span><span class="op" id="6677914">.</span><span class="ident" id="6677915">T</span><span class="op" id="6677916">)</span>&nbsp;<span class="op" id="6677918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677921">for</span>&nbsp;<span class="ident" id="6677925">_</span><span class="op" id="6677926">,</span>&nbsp;<span class="ident" id="6677928">in</span>&nbsp;<span class="op" id="6677931">:=</span>&nbsp;<span class="keyword" id="6677934">range</span>&nbsp;<span class="op" id="6677940">[</span><span class="op" id="6677941">]</span><span class="op" id="6677942">[</span><span class="op" id="6677943">]</span><span class="builtintype" id="6677944">byte</span><span class="op" id="6677948">{</span><span class="builtintype" id="6677949">nil</span><span class="op" id="6677952">,</span>&nbsp;<span class="op" id="6677954">[</span><span class="op" id="6677955">]</span><span class="builtintype" id="6677956">byte</span><span class="op" id="6677960">(</span><span class="string" id="6677961">&#34;&#34;</span><span class="op" id="6677963">)</span><span class="op" id="6677964">}</span>&nbsp;<span class="op" id="6677966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677970">var</span>&nbsp;<span class="ident" id="6677974">out</span>&nbsp;<span class="op" id="6677978">=</span>&nbsp;<span class="ident" id="6677980">IP</span><span class="op" id="6677982">{</span><span class="num" id="6677983">1</span><span class="op" id="6677984">,</span>&nbsp;<span class="num" id="6677986">2</span><span class="op" id="6677987">,</span>&nbsp;<span class="num" id="6677989">3</span><span class="op" id="6677990">,</span>&nbsp;<span class="num" id="6677992">4</span><span class="op" id="6677993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6677997">if</span>&nbsp;<span class="ident" id="6678000">err</span>&nbsp;<span class="op" id="6678004">:=</span>&nbsp;<span class="ident" id="6678007">out</span><span class="op" id="6678010">.</span><span class="ident" id="6678011">UnmarshalText</span><span class="op" id="6678024">(</span><span class="ident" id="6678025">in</span><span class="op" id="6678027">)</span><span class="op" id="6678028">;</span>&nbsp;<span class="ident" id="6678030">err</span>&nbsp;<span class="op" id="6678034">!=</span>&nbsp;<span class="builtintype" id="6678037">nil</span>&nbsp;<span class="op" id="6678041">||</span>&nbsp;<span class="ident" id="6678044">out</span>&nbsp;<span class="op" id="6678048">!=</span>&nbsp;<span class="builtintype" id="6678051">nil</span>&nbsp;<span class="op" id="6678055">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678060">t</span><span class="op" id="6678061">.</span><span class="ident" id="6678062">Errorf</span><span class="op" id="6678068">(</span><span class="string" id="6678069">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="6678112">,</span>&nbsp;<span class="ident" id="6678114">in</span><span class="op" id="6678116">,</span>&nbsp;<span class="ident" id="6678118">out</span><span class="op" id="6678121">,</span>&nbsp;<span class="ident" id="6678123">err</span><span class="op" id="6678126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678136">var</span>&nbsp;<span class="ident" id="6678140">ip</span>&nbsp;<span class="ident" id="6678143">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678147">got</span><span class="op" id="6678150">,</span>&nbsp;<span class="ident" id="6678152">err</span>&nbsp;<span class="op" id="6678156">:=</span>&nbsp;<span class="ident" id="6678159">ip</span><span class="op" id="6678161">.</span><span class="ident" id="6678162">MarshalText</span><span class="op" id="6678173">(</span><span class="op" id="6678174">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678177">if</span>&nbsp;<span class="ident" id="6678180">err</span>&nbsp;<span class="op" id="6678184">!=</span>&nbsp;<span class="builtintype" id="6678187">nil</span>&nbsp;<span class="op" id="6678191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678195">t</span><span class="op" id="6678196">.</span><span class="ident" id="6678197">Fatal</span><span class="op" id="6678202">(</span><span class="ident" id="6678203">err</span><span class="op" id="6678206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6678212">if</span>&nbsp;<span class="op" id="6678215">!</span><span class="ident" id="6678216">reflect</span><span class="op" id="6678223">.</span><span class="ident" id="6678224">DeepEqual</span><span class="op" id="6678233">(</span><span class="ident" id="6678234">got</span><span class="op" id="6678237">,</span>&nbsp;<span class="op" id="6678239">[</span><span class="op" id="6678240">]</span><span class="builtintype" id="6678241">byte</span><span class="op" id="6678245">(</span><span class="string" id="6678246">&#34;&#34;</span><span class="op" id="6678248">)</span><span class="op" id="6678249">)</span>&nbsp;<span class="op" id="6678251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678255">t</span><span class="op" id="6678256">.</span><span class="ident" id="6678257">Errorf</span><span class="op" id="6678263">(</span><span class="string" id="6678264">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="6678290">,</span>&nbsp;<span class="ident" id="6678292">got</span><span class="op" id="6678295">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678298">}</span><br>
<span class="lineno"></span><span class="op" id="6678300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6678303">var</span>&nbsp;<span class="ident" id="6678307">ipStringTests</span>&nbsp;<span class="op" id="6678321">=</span>&nbsp;<span class="op" id="6678323">[</span><span class="op" id="6678324">]</span><span class="keyword" id="6678325">struct</span>&nbsp;<span class="op" id="6678332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678335">in</span>&nbsp;&nbsp;<span class="ident" id="6678339">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6678343">out</span>&nbsp;<span class="builtintype" id="6678347">string</span>&nbsp;<span class="comment" id="6678354">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="6678370">}</span><span class="op" id="6678371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678374">{</span><span class="ident" id="6678375">IP</span><span class="op" id="6678377">{</span><span class="num" id="6678378">0x20</span><span class="op" id="6678382">,</span>&nbsp;<span class="num" id="6678384">0x1</span><span class="op" id="6678387">,</span>&nbsp;<span class="num" id="6678389">0xd</span><span class="op" id="6678392">,</span>&nbsp;<span class="num" id="6678394">0xb8</span><span class="op" id="6678398">,</span>&nbsp;<span class="num" id="6678400">0</span><span class="op" id="6678401">,</span>&nbsp;<span class="num" id="6678403">0</span><span class="op" id="6678404">,</span>&nbsp;<span class="num" id="6678406">0</span><span class="op" id="6678407">,</span>&nbsp;<span class="num" id="6678409">0</span><span class="op" id="6678410">,</span>&nbsp;<span class="num" id="6678412">0</span><span class="op" id="6678413">,</span>&nbsp;<span class="num" id="6678415">0</span><span class="op" id="6678416">,</span>&nbsp;<span class="num" id="6678418">0x1</span><span class="op" id="6678421">,</span>&nbsp;<span class="num" id="6678423">0x23</span><span class="op" id="6678427">,</span>&nbsp;<span class="num" id="6678429">0</span><span class="op" id="6678430">,</span>&nbsp;<span class="num" id="6678432">0x12</span><span class="op" id="6678436">,</span>&nbsp;<span class="num" id="6678438">0</span><span class="op" id="6678439">,</span>&nbsp;<span class="num" id="6678441">0x1</span><span class="op" id="6678444">}</span><span class="op" id="6678445">,</span>&nbsp;<span class="string" id="6678447">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6678467">}</span><span class="op" id="6678468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678471">{</span><span class="ident" id="6678472">IP</span><span class="op" id="6678474">{</span><span class="num" id="6678475">0x20</span><span class="op" id="6678479">,</span>&nbsp;<span class="num" id="6678481">0x1</span><span class="op" id="6678484">,</span>&nbsp;<span class="num" id="6678486">0xd</span><span class="op" id="6678489">,</span>&nbsp;<span class="num" id="6678491">0xb8</span><span class="op" id="6678495">,</span>&nbsp;<span class="num" id="6678497">0</span><span class="op" id="6678498">,</span>&nbsp;<span class="num" id="6678500">0</span><span class="op" id="6678501">,</span>&nbsp;<span class="num" id="6678503">0</span><span class="op" id="6678504">,</span>&nbsp;<span class="num" id="6678506">0</span><span class="op" id="6678507">,</span>&nbsp;<span class="num" id="6678509">0</span><span class="op" id="6678510">,</span>&nbsp;<span class="num" id="6678512">0</span><span class="op" id="6678513">,</span>&nbsp;<span class="num" id="6678515">0</span><span class="op" id="6678516">,</span>&nbsp;<span class="num" id="6678518">0</span><span class="op" id="6678519">,</span>&nbsp;<span class="num" id="6678521">0</span><span class="op" id="6678522">,</span>&nbsp;<span class="num" id="6678524">0</span><span class="op" id="6678525">,</span>&nbsp;<span class="num" id="6678527">0</span><span class="op" id="6678528">,</span>&nbsp;<span class="num" id="6678530">0x1</span><span class="op" id="6678533">}</span><span class="op" id="6678534">,</span>&nbsp;<span class="string" id="6678536">&#34;2001:db8::1&#34;</span><span class="op" id="6678549">}</span><span class="op" id="6678550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678553">{</span><span class="ident" id="6678554">IP</span><span class="op" id="6678556">{</span><span class="num" id="6678557">0x20</span><span class="op" id="6678561">,</span>&nbsp;<span class="num" id="6678563">0x1</span><span class="op" id="6678566">,</span>&nbsp;<span class="num" id="6678568">0xd</span><span class="op" id="6678571">,</span>&nbsp;<span class="num" id="6678573">0xb8</span><span class="op" id="6678577">,</span>&nbsp;<span class="num" id="6678579">0</span><span class="op" id="6678580">,</span>&nbsp;<span class="num" id="6678582">0</span><span class="op" id="6678583">,</span>&nbsp;<span class="num" id="6678585">0</span><span class="op" id="6678586">,</span>&nbsp;<span class="num" id="6678588">0x1</span><span class="op" id="6678591">,</span>&nbsp;<span class="num" id="6678593">0</span><span class="op" id="6678594">,</span>&nbsp;<span class="num" id="6678596">0</span><span class="op" id="6678597">,</span>&nbsp;<span class="num" id="6678599">0</span><span class="op" id="6678600">,</span>&nbsp;<span class="num" id="6678602">0x1</span><span class="op" id="6678605">,</span>&nbsp;<span class="num" id="6678607">0</span><span class="op" id="6678608">,</span>&nbsp;<span class="num" id="6678610">0</span><span class="op" id="6678611">,</span>&nbsp;<span class="num" id="6678613">0</span><span class="op" id="6678614">,</span>&nbsp;<span class="num" id="6678616">0x1</span><span class="op" id="6678619">}</span><span class="op" id="6678620">,</span>&nbsp;<span class="string" id="6678622">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="6678644">}</span><span class="op" id="6678645">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678648">{</span><span class="ident" id="6678649">IP</span><span class="op" id="6678651">{</span><span class="num" id="6678652">0x20</span><span class="op" id="6678656">,</span>&nbsp;<span class="num" id="6678658">0x1</span><span class="op" id="6678661">,</span>&nbsp;<span class="num" id="6678663">0xd</span><span class="op" id="6678666">,</span>&nbsp;<span class="num" id="6678668">0xb8</span><span class="op" id="6678672">,</span>&nbsp;<span class="num" id="6678674">0</span><span class="op" id="6678675">,</span>&nbsp;<span class="num" id="6678677">0x1</span><span class="op" id="6678680">,</span>&nbsp;<span class="num" id="6678682">0</span><span class="op" id="6678683">,</span>&nbsp;<span class="num" id="6678685">0</span><span class="op" id="6678686">,</span>&nbsp;<span class="num" id="6678688">0</span><span class="op" id="6678689">,</span>&nbsp;<span class="num" id="6678691">0x1</span><span class="op" id="6678694">,</span>&nbsp;<span class="num" id="6678696">0</span><span class="op" id="6678697">,</span>&nbsp;<span class="num" id="6678699">0</span><span class="op" id="6678700">,</span>&nbsp;<span class="num" id="6678702">0</span><span class="op" id="6678703">,</span>&nbsp;<span class="num" id="6678705">0x1</span><span class="op" id="6678708">,</span>&nbsp;<span class="num" id="6678710">0</span><span class="op" id="6678711">,</span>&nbsp;<span class="num" id="6678713">0</span><span class="op" id="6678714">}</span><span class="op" id="6678715">,</span>&nbsp;<span class="string" id="6678717">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="6678739">}</span><span class="op" id="6678740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678743">{</span><span class="ident" id="6678744">IP</span><span class="op" id="6678746">{</span><span class="num" id="6678747">0x20</span><span class="op" id="6678751">,</span>&nbsp;<span class="num" id="6678753">0x1</span><span class="op" id="6678756">,</span>&nbsp;<span class="num" id="6678758">0</span><span class="op" id="6678759">,</span>&nbsp;<span class="num" id="6678761">0</span><span class="op" id="6678762">,</span>&nbsp;<span class="num" id="6678764">0</span><span class="op" id="6678765">,</span>&nbsp;<span class="num" id="6678767">0</span><span class="op" id="6678768">,</span>&nbsp;<span class="num" id="6678770">0</span><span class="op" id="6678771">,</span>&nbsp;<span class="num" id="6678773">0</span><span class="op" id="6678774">,</span>&nbsp;<span class="num" id="6678776">0</span><span class="op" id="6678777">,</span>&nbsp;<span class="num" id="6678779">0x1</span><span class="op" id="6678782">,</span>&nbsp;<span class="num" id="6678784">0</span><span class="op" id="6678785">,</span>&nbsp;<span class="num" id="6678787">0</span><span class="op" id="6678788">,</span>&nbsp;<span class="num" id="6678790">0</span><span class="op" id="6678791">,</span>&nbsp;<span class="num" id="6678793">0</span><span class="op" id="6678794">,</span>&nbsp;<span class="num" id="6678796">0</span><span class="op" id="6678797">,</span>&nbsp;<span class="num" id="6678799">0x1</span><span class="op" id="6678802">}</span><span class="op" id="6678803">,</span>&nbsp;<span class="string" id="6678805">&#34;2001::1:0:0:1&#34;</span><span class="op" id="6678820">}</span><span class="op" id="6678821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678824">{</span><span class="ident" id="6678825">IP</span><span class="op" id="6678827">{</span><span class="num" id="6678828">0x20</span><span class="op" id="6678832">,</span>&nbsp;<span class="num" id="6678834">0x1</span><span class="op" id="6678837">,</span>&nbsp;<span class="num" id="6678839">0xd</span><span class="op" id="6678842">,</span>&nbsp;<span class="num" id="6678844">0xb8</span><span class="op" id="6678848">,</span>&nbsp;<span class="num" id="6678850">0</span><span class="op" id="6678851">,</span>&nbsp;<span class="num" id="6678853">0</span><span class="op" id="6678854">,</span>&nbsp;<span class="num" id="6678856">0</span><span class="op" id="6678857">,</span>&nbsp;<span class="num" id="6678859">0</span><span class="op" id="6678860">,</span>&nbsp;<span class="num" id="6678862">0</span><span class="op" id="6678863">,</span>&nbsp;<span class="num" id="6678865">0x1</span><span class="op" id="6678868">,</span>&nbsp;<span class="num" id="6678870">0</span><span class="op" id="6678871">,</span>&nbsp;<span class="num" id="6678873">0</span><span class="op" id="6678874">,</span>&nbsp;<span class="num" id="6678876">0</span><span class="op" id="6678877">,</span>&nbsp;<span class="num" id="6678879">0</span><span class="op" id="6678880">,</span>&nbsp;<span class="num" id="6678882">0</span><span class="op" id="6678883">,</span>&nbsp;<span class="num" id="6678885">0</span><span class="op" id="6678886">}</span><span class="op" id="6678887">,</span>&nbsp;<span class="string" id="6678889">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="6678907">}</span><span class="op" id="6678908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6678911">{</span><span class="ident" id="6678912">IP</span><span class="op" id="6678914">{</span><span class="num" id="6678915">0x20</span><span class="op" id="6678919">,</span>&nbsp;<span class="num" id="6678921">0x1</span><span class="op" id="6678924">,</span>&nbsp;<span class="num" id="6678926">0xd</span><span class="op" id="6678929">,</span>&nbsp;<span class="num" id="6678931">0xb8</span><span class="op" id="6678935">,</span>&nbsp;<span class="num" id="6678937">0</span><span class="op" id="6678938">,</span>&nbsp;<span class="num" id="6678940">0</span><span class="op" id="6678941">,</span>&nbsp;<span class="num" id="6678943">0</span><span class="op" id="6678944">,</span>&nbsp;<span class="num" id="6678946">0</span><span class="op" id="6678947">,</span>&nbsp;<span class="num" id="6678949">0</span><span class="op" id="6678950">,</span>&nbsp;<span class="num" id="6678952">0x1</span><span class="op" id="6678955">,</span>&nbsp;<span class="num" id="6678957">0</span><span class="op" id="6678958">,</span>&nbsp;<span class="num" id="6678960">0</span><span class="op" id="6678961">,</span>&nbsp;<span class="num" id="6678963">0</span><span class="op" id="6678964">,</span>&nbsp;<span class="num" id="6678966">0</span><span class="op" id="6678967">,</span>&nbsp;<span class="num" id="6678969">0</span><span class="op" id="6678970">,</span>&nbsp;<span class="num" id="6678972">0x1</span><span class="op" id="6678975">}</span><span class="op" id="6678976">,</span>&nbsp;<span class="string" id="6678978">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="6678997">}</span><span class="op" id="6678998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679001">{</span><span class="ident" id="6679002">IP</span><span class="op" id="6679004">{</span><span class="num" id="6679005">0x20</span><span class="op" id="6679009">,</span>&nbsp;<span class="num" id="6679011">0x1</span><span class="op" id="6679014">,</span>&nbsp;<span class="num" id="6679016">0xD</span><span class="op" id="6679019">,</span>&nbsp;<span class="num" id="6679021">0xB8</span><span class="op" id="6679025">,</span>&nbsp;<span class="num" id="6679027">0</span><span class="op" id="6679028">,</span>&nbsp;<span class="num" id="6679030">0</span><span class="op" id="6679031">,</span>&nbsp;<span class="num" id="6679033">0</span><span class="op" id="6679034">,</span>&nbsp;<span class="num" id="6679036">0</span><span class="op" id="6679037">,</span>&nbsp;<span class="num" id="6679039">0</span><span class="op" id="6679040">,</span>&nbsp;<span class="num" id="6679042">0xA</span><span class="op" id="6679045">,</span>&nbsp;<span class="num" id="6679047">0</span><span class="op" id="6679048">,</span>&nbsp;<span class="num" id="6679050">0xB</span><span class="op" id="6679053">,</span>&nbsp;<span class="num" id="6679055">0</span><span class="op" id="6679056">,</span>&nbsp;<span class="num" id="6679058">0xC</span><span class="op" id="6679061">,</span>&nbsp;<span class="num" id="6679063">0</span><span class="op" id="6679064">,</span>&nbsp;<span class="num" id="6679066">0xD</span><span class="op" id="6679069">}</span><span class="op" id="6679070">,</span>&nbsp;<span class="string" id="6679072">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="6679091">}</span><span class="op" id="6679092">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679095">{</span><span class="ident" id="6679096">IPv4</span><span class="op" id="6679100">(</span><span class="num" id="6679101">192</span><span class="op" id="6679104">,</span>&nbsp;<span class="num" id="6679106">168</span><span class="op" id="6679109">,</span>&nbsp;<span class="num" id="6679111">0</span><span class="op" id="6679112">,</span>&nbsp;<span class="num" id="6679114">1</span><span class="op" id="6679115">)</span><span class="op" id="6679116">,</span>&nbsp;<span class="string" id="6679118">&#34;192.168.0.1&#34;</span><span class="op" id="6679131">}</span><span class="op" id="6679132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679135">{</span><span class="builtintype" id="6679136">nil</span><span class="op" id="6679139">,</span>&nbsp;<span class="string" id="6679141">&#34;&#34;</span><span class="op" id="6679143">}</span><span class="op" id="6679144">,</span><br>
<span class="lineno"></span><span class="op" id="6679146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6679149">func</span>&nbsp;<span class="ident" id="6679154">TestIPString</span><span class="op" id="6679166">(</span><span class="ident" id="6679167">t</span>&nbsp;<span class="op" id="6679169">*</span><span class="ident" id="6679170">testing</span><span class="op" id="6679177">.</span><span class="ident" id="6679178">T</span><span class="op" id="6679179">)</span>&nbsp;<span class="op" id="6679181">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6679184">for</span>&nbsp;<span class="ident" id="6679188">_</span><span class="op" id="6679189">,</span>&nbsp;<span class="ident" id="6679191">tt</span>&nbsp;<span class="op" id="6679194">:=</span>&nbsp;<span class="keyword" id="6679197">range</span>&nbsp;<span class="ident" id="6679203">ipStringTests</span>&nbsp;<span class="op" id="6679217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6679221">if</span>&nbsp;<span class="ident" id="6679224">tt</span><span class="op" id="6679226">.</span><span class="ident" id="6679227">in</span>&nbsp;<span class="op" id="6679230">!=</span>&nbsp;<span class="builtintype" id="6679233">nil</span>&nbsp;<span class="op" id="6679237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6679242">if</span>&nbsp;<span class="ident" id="6679245">out</span>&nbsp;<span class="op" id="6679249">:=</span>&nbsp;<span class="ident" id="6679252">tt</span><span class="op" id="6679254">.</span><span class="ident" id="6679255">in</span><span class="op" id="6679257">.</span><span class="ident" id="6679258">String</span><span class="op" id="6679264">(</span><span class="op" id="6679265">)</span><span class="op" id="6679266">;</span>&nbsp;<span class="ident" id="6679268">out</span>&nbsp;<span class="op" id="6679272">!=</span>&nbsp;<span class="ident" id="6679275">tt</span><span class="op" id="6679277">.</span><span class="ident" id="6679278">out</span>&nbsp;<span class="op" id="6679282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6679288">t</span><span class="op" id="6679289">.</span><span class="ident" id="6679290">Errorf</span><span class="op" id="6679296">(</span><span class="string" id="6679297">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6679326">,</span>&nbsp;<span class="ident" id="6679328">tt</span><span class="op" id="6679330">.</span><span class="ident" id="6679331">in</span><span class="op" id="6679333">,</span>&nbsp;<span class="ident" id="6679335">out</span><span class="op" id="6679338">,</span>&nbsp;<span class="ident" id="6679340">tt</span><span class="op" id="6679342">.</span><span class="ident" id="6679343">out</span><span class="op" id="6679346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679351">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6679359">if</span>&nbsp;<span class="ident" id="6679362">out</span><span class="op" id="6679365">,</span>&nbsp;<span class="ident" id="6679367">err</span>&nbsp;<span class="op" id="6679371">:=</span>&nbsp;<span class="ident" id="6679374">tt</span><span class="op" id="6679376">.</span><span class="ident" id="6679377">in</span><span class="op" id="6679379">.</span><span class="ident" id="6679380">MarshalText</span><span class="op" id="6679391">(</span><span class="op" id="6679392">)</span><span class="op" id="6679393">;</span>&nbsp;<span class="builtintype" id="6679395">string</span><span class="op" id="6679401">(</span><span class="ident" id="6679402">out</span><span class="op" id="6679405">)</span>&nbsp;<span class="op" id="6679407">!=</span>&nbsp;<span class="ident" id="6679410">tt</span><span class="op" id="6679412">.</span><span class="ident" id="6679413">out</span>&nbsp;<span class="op" id="6679417">||</span>&nbsp;<span class="ident" id="6679420">err</span>&nbsp;<span class="op" id="6679424">!=</span>&nbsp;<span class="builtintype" id="6679427">nil</span>&nbsp;<span class="op" id="6679431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6679436">t</span><span class="op" id="6679437">.</span><span class="ident" id="6679438">Errorf</span><span class="op" id="6679444">(</span><span class="string" id="6679445">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6679488">,</span>&nbsp;<span class="ident" id="6679490">tt</span><span class="op" id="6679492">.</span><span class="ident" id="6679493">in</span><span class="op" id="6679495">,</span>&nbsp;<span class="ident" id="6679497">out</span><span class="op" id="6679500">,</span>&nbsp;<span class="ident" id="6679502">err</span><span class="op" id="6679505">,</span>&nbsp;<span class="ident" id="6679507">tt</span><span class="op" id="6679509">.</span><span class="ident" id="6679510">out</span><span class="op" id="6679513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679520">}</span><br>
<span class="lineno">100</span><span class="op" id="6679522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6679525">func</span>&nbsp;<span class="ident" id="6679530">BenchmarkIPString</span><span class="op" id="6679547">(</span><span class="ident" id="6679548">b</span>&nbsp;<span class="op" id="6679550">*</span><span class="ident" id="6679551">testing</span><span class="op" id="6679558">.</span><span class="ident" id="6679559">B</span><span class="op" id="6679560">)</span>&nbsp;<span class="op" id="6679562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6679565">for</span>&nbsp;<span class="ident" id="6679569">i</span>&nbsp;<span class="op" id="6679571">:=</span>&nbsp;<span class="num" id="6679574">0</span><span class="op" id="6679575">;</span>&nbsp;<span class="ident" id="6679577">i</span>&nbsp;<span class="op" id="6679579">&lt;</span>&nbsp;<span class="ident" id="6679581">b</span><span class="op" id="6679582">.</span><span class="ident" id="6679583">N</span><span class="op" id="6679584">;</span>&nbsp;<span class="ident" id="6679586">i</span><span class="op" id="6679587">++</span>&nbsp;<span class="op" id="6679590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6679594">for</span>&nbsp;<span class="ident" id="6679598">_</span><span class="op" id="6679599">,</span>&nbsp;<span class="ident" id="6679601">tt</span>&nbsp;<span class="op" id="6679604">:=</span>&nbsp;<span class="keyword" id="6679607">range</span>&nbsp;<span class="ident" id="6679613">ipStringTests</span>&nbsp;<span class="op" id="6679627">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6679632">if</span>&nbsp;<span class="ident" id="6679635">tt</span><span class="op" id="6679637">.</span><span class="ident" id="6679638">in</span>&nbsp;<span class="op" id="6679641">!=</span>&nbsp;<span class="builtintype" id="6679644">nil</span>&nbsp;<span class="op" id="6679648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6679654">tt</span><span class="op" id="6679656">.</span><span class="ident" id="6679657">in</span><span class="op" id="6679659">.</span><span class="ident" id="6679660">String</span><span class="op" id="6679666">(</span><span class="op" id="6679667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679679">}</span><br>
<span class="lineno">110</span><span class="op" id="6679681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6679684">var</span>&nbsp;<span class="ident" id="6679688">ipMaskTests</span>&nbsp;<span class="op" id="6679700">=</span>&nbsp;<span class="op" id="6679702">[</span><span class="op" id="6679703">]</span><span class="keyword" id="6679704">struct</span>&nbsp;<span class="op" id="6679711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6679714">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6679719">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6679723">mask</span>&nbsp;<span class="ident" id="6679728">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6679736">out</span>&nbsp;&nbsp;<span class="ident" id="6679741">IP</span><br>
<span class="lineno"></span><span class="op" id="6679744">}</span><span class="op" id="6679745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679748">{</span><span class="ident" id="6679749">IPv4</span><span class="op" id="6679753">(</span><span class="num" id="6679754">192</span><span class="op" id="6679757">,</span>&nbsp;<span class="num" id="6679759">168</span><span class="op" id="6679762">,</span>&nbsp;<span class="num" id="6679764">1</span><span class="op" id="6679765">,</span>&nbsp;<span class="num" id="6679767">127</span><span class="op" id="6679770">)</span><span class="op" id="6679771">,</span>&nbsp;<span class="ident" id="6679773">IPv4Mask</span><span class="op" id="6679781">(</span><span class="num" id="6679782">255</span><span class="op" id="6679785">,</span>&nbsp;<span class="num" id="6679787">255</span><span class="op" id="6679790">,</span>&nbsp;<span class="num" id="6679792">255</span><span class="op" id="6679795">,</span>&nbsp;<span class="num" id="6679797">128</span><span class="op" id="6679800">)</span><span class="op" id="6679801">,</span>&nbsp;<span class="ident" id="6679803">IPv4</span><span class="op" id="6679807">(</span><span class="num" id="6679808">192</span><span class="op" id="6679811">,</span>&nbsp;<span class="num" id="6679813">168</span><span class="op" id="6679816">,</span>&nbsp;<span class="num" id="6679818">1</span><span class="op" id="6679819">,</span>&nbsp;<span class="num" id="6679821">0</span><span class="op" id="6679822">)</span><span class="op" id="6679823">}</span><span class="op" id="6679824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679827">{</span><span class="ident" id="6679828">IPv4</span><span class="op" id="6679832">(</span><span class="num" id="6679833">192</span><span class="op" id="6679836">,</span>&nbsp;<span class="num" id="6679838">168</span><span class="op" id="6679841">,</span>&nbsp;<span class="num" id="6679843">1</span><span class="op" id="6679844">,</span>&nbsp;<span class="num" id="6679846">127</span><span class="op" id="6679849">)</span><span class="op" id="6679850">,</span>&nbsp;<span class="ident" id="6679852">IPMask</span><span class="op" id="6679858">(</span><span class="ident" id="6679859">ParseIP</span><span class="op" id="6679866">(</span><span class="string" id="6679867">&#34;255.255.255.192&#34;</span><span class="op" id="6679884">)</span><span class="op" id="6679885">)</span><span class="op" id="6679886">,</span>&nbsp;<span class="ident" id="6679888">IPv4</span><span class="op" id="6679892">(</span><span class="num" id="6679893">192</span><span class="op" id="6679896">,</span>&nbsp;<span class="num" id="6679898">168</span><span class="op" id="6679901">,</span>&nbsp;<span class="num" id="6679903">1</span><span class="op" id="6679904">,</span>&nbsp;<span class="num" id="6679906">64</span><span class="op" id="6679908">)</span><span class="op" id="6679909">}</span><span class="op" id="6679910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6679913">{</span><span class="ident" id="6679914">IPv4</span><span class="op" id="6679918">(</span><span class="num" id="6679919">192</span><span class="op" id="6679922">,</span>&nbsp;<span class="num" id="6679924">168</span><span class="op" id="6679927">,</span>&nbsp;<span class="num" id="6679929">1</span><span class="op" id="6679930">,</span>&nbsp;<span class="num" id="6679932">127</span><span class="op" id="6679935">)</span><span class="op" id="6679936">,</span>&nbsp;<span class="ident" id="6679938">IPMask</span><span class="op" id="6679944">(</span><span class="ident" id="6679945">ParseIP</span><span class="op" id="6679952">(</span><span class="string" id="6679953">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="6679994">)</span><span class="op" id="6679995">)</span><span class="op" id="6679996">,</span>&nbsp;<span class="ident" id="6679998">IPv4</span><span class="op" id="6680002">(</span><span class="num" id="6680003">192</span><span class="op" id="6680006">,</span>&nbsp;<span class="num" id="6680008">168</span><span class="op" id="6680011">,</span>&nbsp;<span class="num" id="6680013">1</span><span class="op" id="6680014">,</span>&nbsp;<span class="num" id="6680016">96</span><span class="op" id="6680018">)</span><span class="op" id="6680019">}</span><span class="op" id="6680020">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680023">{</span><span class="ident" id="6680024">IPv4</span><span class="op" id="6680028">(</span><span class="num" id="6680029">192</span><span class="op" id="6680032">,</span>&nbsp;<span class="num" id="6680034">168</span><span class="op" id="6680037">,</span>&nbsp;<span class="num" id="6680039">1</span><span class="op" id="6680040">,</span>&nbsp;<span class="num" id="6680042">127</span><span class="op" id="6680045">)</span><span class="op" id="6680046">,</span>&nbsp;<span class="ident" id="6680048">IPv4Mask</span><span class="op" id="6680056">(</span><span class="num" id="6680057">255</span><span class="op" id="6680060">,</span>&nbsp;<span class="num" id="6680062">0</span><span class="op" id="6680063">,</span>&nbsp;<span class="num" id="6680065">255</span><span class="op" id="6680068">,</span>&nbsp;<span class="num" id="6680070">0</span><span class="op" id="6680071">)</span><span class="op" id="6680072">,</span>&nbsp;<span class="ident" id="6680074">IPv4</span><span class="op" id="6680078">(</span><span class="num" id="6680079">192</span><span class="op" id="6680082">,</span>&nbsp;<span class="num" id="6680084">0</span><span class="op" id="6680085">,</span>&nbsp;<span class="num" id="6680087">1</span><span class="op" id="6680088">,</span>&nbsp;<span class="num" id="6680090">0</span><span class="op" id="6680091">)</span><span class="op" id="6680092">}</span><span class="op" id="6680093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680096">{</span><span class="ident" id="6680097">ParseIP</span><span class="op" id="6680104">(</span><span class="string" id="6680105">&#34;2001:db8::1&#34;</span><span class="op" id="6680118">)</span><span class="op" id="6680119">,</span>&nbsp;<span class="ident" id="6680121">IPMask</span><span class="op" id="6680127">(</span><span class="ident" id="6680128">ParseIP</span><span class="op" id="6680135">(</span><span class="string" id="6680136">&#34;ffff:ff80::&#34;</span><span class="op" id="6680149">)</span><span class="op" id="6680150">)</span><span class="op" id="6680151">,</span>&nbsp;<span class="ident" id="6680153">ParseIP</span><span class="op" id="6680160">(</span><span class="string" id="6680161">&#34;2001:d80::&#34;</span><span class="op" id="6680173">)</span><span class="op" id="6680174">}</span><span class="op" id="6680175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680178">{</span><span class="ident" id="6680179">ParseIP</span><span class="op" id="6680186">(</span><span class="string" id="6680187">&#34;2001:db8::1&#34;</span><span class="op" id="6680200">)</span><span class="op" id="6680201">,</span>&nbsp;<span class="ident" id="6680203">IPMask</span><span class="op" id="6680209">(</span><span class="ident" id="6680210">ParseIP</span><span class="op" id="6680217">(</span><span class="string" id="6680218">&#34;f0f0:0f0f::&#34;</span><span class="op" id="6680231">)</span><span class="op" id="6680232">)</span><span class="op" id="6680233">,</span>&nbsp;<span class="ident" id="6680235">ParseIP</span><span class="op" id="6680242">(</span><span class="string" id="6680243">&#34;2000:d08::&#34;</span><span class="op" id="6680255">)</span><span class="op" id="6680256">}</span><span class="op" id="6680257">,</span><br>
<span class="lineno"></span><span class="op" id="6680259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6680262">func</span>&nbsp;<span class="ident" id="6680267">TestIPMask</span><span class="op" id="6680277">(</span><span class="ident" id="6680278">t</span>&nbsp;<span class="op" id="6680280">*</span><span class="ident" id="6680281">testing</span><span class="op" id="6680288">.</span><span class="ident" id="6680289">T</span><span class="op" id="6680290">)</span>&nbsp;<span class="op" id="6680292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680295">for</span>&nbsp;<span class="ident" id="6680299">_</span><span class="op" id="6680300">,</span>&nbsp;<span class="ident" id="6680302">tt</span>&nbsp;<span class="op" id="6680305">:=</span>&nbsp;<span class="keyword" id="6680308">range</span>&nbsp;<span class="ident" id="6680314">ipMaskTests</span>&nbsp;<span class="op" id="6680326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680330">if</span>&nbsp;<span class="ident" id="6680333">out</span>&nbsp;<span class="op" id="6680337">:=</span>&nbsp;<span class="ident" id="6680340">tt</span><span class="op" id="6680342">.</span><span class="ident" id="6680343">in</span><span class="op" id="6680345">.</span><span class="ident" id="6680346">Mask</span><span class="op" id="6680350">(</span><span class="ident" id="6680351">tt</span><span class="op" id="6680353">.</span><span class="ident" id="6680354">mask</span><span class="op" id="6680358">)</span><span class="op" id="6680359">;</span>&nbsp;<span class="ident" id="6680361">out</span>&nbsp;<span class="op" id="6680365">==</span>&nbsp;<span class="builtintype" id="6680368">nil</span>&nbsp;<span class="op" id="6680372">||</span>&nbsp;<span class="op" id="6680375">!</span><span class="ident" id="6680376">tt</span><span class="op" id="6680378">.</span><span class="ident" id="6680379">out</span><span class="op" id="6680382">.</span><span class="ident" id="6680383">Equal</span><span class="op" id="6680388">(</span><span class="ident" id="6680389">out</span><span class="op" id="6680392">)</span>&nbsp;<span class="op" id="6680394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680399">t</span><span class="op" id="6680400">.</span><span class="ident" id="6680401">Errorf</span><span class="op" id="6680407">(</span><span class="string" id="6680408">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6680439">,</span>&nbsp;<span class="ident" id="6680441">tt</span><span class="op" id="6680443">.</span><span class="ident" id="6680444">in</span><span class="op" id="6680446">,</span>&nbsp;<span class="ident" id="6680448">tt</span><span class="op" id="6680450">.</span><span class="ident" id="6680451">mask</span><span class="op" id="6680455">,</span>&nbsp;<span class="ident" id="6680457">out</span><span class="op" id="6680460">,</span>&nbsp;<span class="ident" id="6680462">tt</span><span class="op" id="6680464">.</span><span class="ident" id="6680465">out</span><span class="op" id="6680468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680472">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680475">}</span><br>
<span class="lineno"></span><span class="op" id="6680477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6680480">var</span>&nbsp;<span class="ident" id="6680484">ipMaskStringTests</span>&nbsp;<span class="op" id="6680502">=</span>&nbsp;<span class="op" id="6680504">[</span><span class="op" id="6680505">]</span><span class="keyword" id="6680506">struct</span>&nbsp;<span class="op" id="6680513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680516">in</span>&nbsp;&nbsp;<span class="ident" id="6680520">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680528">out</span>&nbsp;<span class="builtintype" id="6680532">string</span><br>
<span class="lineno"></span><span class="op" id="6680539">}</span><span class="op" id="6680540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680543">{</span><span class="ident" id="6680544">IPv4Mask</span><span class="op" id="6680552">(</span><span class="num" id="6680553">255</span><span class="op" id="6680556">,</span>&nbsp;<span class="num" id="6680558">255</span><span class="op" id="6680561">,</span>&nbsp;<span class="num" id="6680563">255</span><span class="op" id="6680566">,</span>&nbsp;<span class="num" id="6680568">240</span><span class="op" id="6680571">)</span><span class="op" id="6680572">,</span>&nbsp;<span class="string" id="6680574">&#34;fffffff0&#34;</span><span class="op" id="6680584">}</span><span class="op" id="6680585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680588">{</span><span class="ident" id="6680589">IPv4Mask</span><span class="op" id="6680597">(</span><span class="num" id="6680598">255</span><span class="op" id="6680601">,</span>&nbsp;<span class="num" id="6680603">0</span><span class="op" id="6680604">,</span>&nbsp;<span class="num" id="6680606">128</span><span class="op" id="6680609">,</span>&nbsp;<span class="num" id="6680611">0</span><span class="op" id="6680612">)</span><span class="op" id="6680613">,</span>&nbsp;<span class="string" id="6680615">&#34;ff008000&#34;</span><span class="op" id="6680625">}</span><span class="op" id="6680626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680629">{</span><span class="ident" id="6680630">IPMask</span><span class="op" id="6680636">(</span><span class="ident" id="6680637">ParseIP</span><span class="op" id="6680644">(</span><span class="string" id="6680645">&#34;ffff:ff80::&#34;</span><span class="op" id="6680658">)</span><span class="op" id="6680659">)</span><span class="op" id="6680660">,</span>&nbsp;<span class="string" id="6680662">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="6680696">}</span><span class="op" id="6680697">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680700">{</span><span class="ident" id="6680701">IPMask</span><span class="op" id="6680707">(</span><span class="ident" id="6680708">ParseIP</span><span class="op" id="6680715">(</span><span class="string" id="6680716">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="6680735">)</span><span class="op" id="6680736">)</span><span class="op" id="6680737">,</span>&nbsp;<span class="string" id="6680739">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="6680773">}</span><span class="op" id="6680774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680777">{</span><span class="builtintype" id="6680778">nil</span><span class="op" id="6680781">,</span>&nbsp;<span class="string" id="6680783">&#34;&lt;nil&gt;&#34;</span><span class="op" id="6680790">}</span><span class="op" id="6680791">,</span><br>
<span class="lineno"></span><span class="op" id="6680793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6680796">func</span>&nbsp;<span class="ident" id="6680801">TestIPMaskString</span><span class="op" id="6680817">(</span><span class="ident" id="6680818">t</span>&nbsp;<span class="op" id="6680820">*</span><span class="ident" id="6680821">testing</span><span class="op" id="6680828">.</span><span class="ident" id="6680829">T</span><span class="op" id="6680830">)</span>&nbsp;<span class="op" id="6680832">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680835">for</span>&nbsp;<span class="ident" id="6680839">_</span><span class="op" id="6680840">,</span>&nbsp;<span class="ident" id="6680842">tt</span>&nbsp;<span class="op" id="6680845">:=</span>&nbsp;<span class="keyword" id="6680848">range</span>&nbsp;<span class="ident" id="6680854">ipMaskStringTests</span>&nbsp;<span class="op" id="6680872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6680876">if</span>&nbsp;<span class="ident" id="6680879">out</span>&nbsp;<span class="op" id="6680883">:=</span>&nbsp;<span class="ident" id="6680886">tt</span><span class="op" id="6680888">.</span><span class="ident" id="6680889">in</span><span class="op" id="6680891">.</span><span class="ident" id="6680892">String</span><span class="op" id="6680898">(</span><span class="op" id="6680899">)</span><span class="op" id="6680900">;</span>&nbsp;<span class="ident" id="6680902">out</span>&nbsp;<span class="op" id="6680906">!=</span>&nbsp;<span class="ident" id="6680909">tt</span><span class="op" id="6680911">.</span><span class="ident" id="6680912">out</span>&nbsp;<span class="op" id="6680916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6680921">t</span><span class="op" id="6680922">.</span><span class="ident" id="6680923">Errorf</span><span class="op" id="6680929">(</span><span class="string" id="6680930">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6680963">,</span>&nbsp;<span class="ident" id="6680965">tt</span><span class="op" id="6680967">.</span><span class="ident" id="6680968">in</span><span class="op" id="6680970">,</span>&nbsp;<span class="ident" id="6680972">out</span><span class="op" id="6680975">,</span>&nbsp;<span class="ident" id="6680977">tt</span><span class="op" id="6680979">.</span><span class="ident" id="6680980">out</span><span class="op" id="6680983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6680990">}</span><br>
<span class="lineno">150</span><span class="op" id="6680992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6680995">func</span>&nbsp;<span class="ident" id="6681000">BenchmarkIPMaskString</span><span class="op" id="6681021">(</span><span class="ident" id="6681022">b</span>&nbsp;<span class="op" id="6681024">*</span><span class="ident" id="6681025">testing</span><span class="op" id="6681032">.</span><span class="ident" id="6681033">B</span><span class="op" id="6681034">)</span>&nbsp;<span class="op" id="6681036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681039">for</span>&nbsp;<span class="ident" id="6681043">i</span>&nbsp;<span class="op" id="6681045">:=</span>&nbsp;<span class="num" id="6681048">0</span><span class="op" id="6681049">;</span>&nbsp;<span class="ident" id="6681051">i</span>&nbsp;<span class="op" id="6681053">&lt;</span>&nbsp;<span class="ident" id="6681055">b</span><span class="op" id="6681056">.</span><span class="ident" id="6681057">N</span><span class="op" id="6681058">;</span>&nbsp;<span class="ident" id="6681060">i</span><span class="op" id="6681061">++</span>&nbsp;<span class="op" id="6681064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6681068">for</span>&nbsp;<span class="ident" id="6681072">_</span><span class="op" id="6681073">,</span>&nbsp;<span class="ident" id="6681075">tt</span>&nbsp;<span class="op" id="6681078">:=</span>&nbsp;<span class="keyword" id="6681081">range</span>&nbsp;<span class="ident" id="6681087">ipMaskStringTests</span>&nbsp;<span class="op" id="6681105">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681110">tt</span><span class="op" id="6681112">.</span><span class="ident" id="6681113">in</span><span class="op" id="6681115">.</span><span class="ident" id="6681116">String</span><span class="op" id="6681122">(</span><span class="op" id="6681123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681130">}</span><br>
<span class="lineno"></span><span class="op" id="6681132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6681135">var</span>&nbsp;<span class="ident" id="6681139">parseCIDRTests</span>&nbsp;<span class="op" id="6681154">=</span>&nbsp;<span class="op" id="6681156">[</span><span class="op" id="6681157">]</span><span class="keyword" id="6681158">struct</span>&nbsp;<span class="op" id="6681165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681168">in</span>&nbsp;&nbsp;<span class="builtintype" id="6681172">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681180">ip</span>&nbsp;&nbsp;<span class="ident" id="6681184">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681188">net</span>&nbsp;<span class="op" id="6681192">*</span><span class="ident" id="6681193">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6681200">err</span>&nbsp;<span class="builtintype" id="6681204">error</span><br>
<span class="lineno">165</span><span class="op" id="6681210">}</span><span class="op" id="6681211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681214">{</span><span class="string" id="6681215">&#34;135.104.0.0/32&#34;</span><span class="op" id="6681231">,</span>&nbsp;<span class="ident" id="6681233">IPv4</span><span class="op" id="6681237">(</span><span class="num" id="6681238">135</span><span class="op" id="6681241">,</span>&nbsp;<span class="num" id="6681243">104</span><span class="op" id="6681246">,</span>&nbsp;<span class="num" id="6681248">0</span><span class="op" id="6681249">,</span>&nbsp;<span class="num" id="6681251">0</span><span class="op" id="6681252">)</span><span class="op" id="6681253">,</span>&nbsp;<span class="op" id="6681255">&amp;</span><span class="ident" id="6681256">IPNet</span><span class="op" id="6681261">{</span><span class="ident" id="6681262">IP</span><span class="op" id="6681264">:</span>&nbsp;<span class="ident" id="6681266">IPv4</span><span class="op" id="6681270">(</span><span class="num" id="6681271">135</span><span class="op" id="6681274">,</span>&nbsp;<span class="num" id="6681276">104</span><span class="op" id="6681279">,</span>&nbsp;<span class="num" id="6681281">0</span><span class="op" id="6681282">,</span>&nbsp;<span class="num" id="6681284">0</span><span class="op" id="6681285">)</span><span class="op" id="6681286">,</span>&nbsp;<span class="ident" id="6681288">Mask</span><span class="op" id="6681292">:</span>&nbsp;<span class="ident" id="6681294">IPv4Mask</span><span class="op" id="6681302">(</span><span class="num" id="6681303">255</span><span class="op" id="6681306">,</span>&nbsp;<span class="num" id="6681308">255</span><span class="op" id="6681311">,</span>&nbsp;<span class="num" id="6681313">255</span><span class="op" id="6681316">,</span>&nbsp;<span class="num" id="6681318">255</span><span class="op" id="6681321">)</span><span class="op" id="6681322">}</span><span class="op" id="6681323">,</span>&nbsp;<span class="builtintype" id="6681325">nil</span><span class="op" id="6681328">}</span><span class="op" id="6681329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681332">{</span><span class="string" id="6681333">&#34;0.0.0.0/24&#34;</span><span class="op" id="6681345">,</span>&nbsp;<span class="ident" id="6681347">IPv4</span><span class="op" id="6681351">(</span><span class="num" id="6681352">0</span><span class="op" id="6681353">,</span>&nbsp;<span class="num" id="6681355">0</span><span class="op" id="6681356">,</span>&nbsp;<span class="num" id="6681358">0</span><span class="op" id="6681359">,</span>&nbsp;<span class="num" id="6681361">0</span><span class="op" id="6681362">)</span><span class="op" id="6681363">,</span>&nbsp;<span class="op" id="6681365">&amp;</span><span class="ident" id="6681366">IPNet</span><span class="op" id="6681371">{</span><span class="ident" id="6681372">IP</span><span class="op" id="6681374">:</span>&nbsp;<span class="ident" id="6681376">IPv4</span><span class="op" id="6681380">(</span><span class="num" id="6681381">0</span><span class="op" id="6681382">,</span>&nbsp;<span class="num" id="6681384">0</span><span class="op" id="6681385">,</span>&nbsp;<span class="num" id="6681387">0</span><span class="op" id="6681388">,</span>&nbsp;<span class="num" id="6681390">0</span><span class="op" id="6681391">)</span><span class="op" id="6681392">,</span>&nbsp;<span class="ident" id="6681394">Mask</span><span class="op" id="6681398">:</span>&nbsp;<span class="ident" id="6681400">IPv4Mask</span><span class="op" id="6681408">(</span><span class="num" id="6681409">255</span><span class="op" id="6681412">,</span>&nbsp;<span class="num" id="6681414">255</span><span class="op" id="6681417">,</span>&nbsp;<span class="num" id="6681419">255</span><span class="op" id="6681422">,</span>&nbsp;<span class="num" id="6681424">0</span><span class="op" id="6681425">)</span><span class="op" id="6681426">}</span><span class="op" id="6681427">,</span>&nbsp;<span class="builtintype" id="6681429">nil</span><span class="op" id="6681432">}</span><span class="op" id="6681433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681436">{</span><span class="string" id="6681437">&#34;135.104.0.0/24&#34;</span><span class="op" id="6681453">,</span>&nbsp;<span class="ident" id="6681455">IPv4</span><span class="op" id="6681459">(</span><span class="num" id="6681460">135</span><span class="op" id="6681463">,</span>&nbsp;<span class="num" id="6681465">104</span><span class="op" id="6681468">,</span>&nbsp;<span class="num" id="6681470">0</span><span class="op" id="6681471">,</span>&nbsp;<span class="num" id="6681473">0</span><span class="op" id="6681474">)</span><span class="op" id="6681475">,</span>&nbsp;<span class="op" id="6681477">&amp;</span><span class="ident" id="6681478">IPNet</span><span class="op" id="6681483">{</span><span class="ident" id="6681484">IP</span><span class="op" id="6681486">:</span>&nbsp;<span class="ident" id="6681488">IPv4</span><span class="op" id="6681492">(</span><span class="num" id="6681493">135</span><span class="op" id="6681496">,</span>&nbsp;<span class="num" id="6681498">104</span><span class="op" id="6681501">,</span>&nbsp;<span class="num" id="6681503">0</span><span class="op" id="6681504">,</span>&nbsp;<span class="num" id="6681506">0</span><span class="op" id="6681507">)</span><span class="op" id="6681508">,</span>&nbsp;<span class="ident" id="6681510">Mask</span><span class="op" id="6681514">:</span>&nbsp;<span class="ident" id="6681516">IPv4Mask</span><span class="op" id="6681524">(</span><span class="num" id="6681525">255</span><span class="op" id="6681528">,</span>&nbsp;<span class="num" id="6681530">255</span><span class="op" id="6681533">,</span>&nbsp;<span class="num" id="6681535">255</span><span class="op" id="6681538">,</span>&nbsp;<span class="num" id="6681540">0</span><span class="op" id="6681541">)</span><span class="op" id="6681542">}</span><span class="op" id="6681543">,</span>&nbsp;<span class="builtintype" id="6681545">nil</span><span class="op" id="6681548">}</span><span class="op" id="6681549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681552">{</span><span class="string" id="6681553">&#34;135.104.0.1/32&#34;</span><span class="op" id="6681569">,</span>&nbsp;<span class="ident" id="6681571">IPv4</span><span class="op" id="6681575">(</span><span class="num" id="6681576">135</span><span class="op" id="6681579">,</span>&nbsp;<span class="num" id="6681581">104</span><span class="op" id="6681584">,</span>&nbsp;<span class="num" id="6681586">0</span><span class="op" id="6681587">,</span>&nbsp;<span class="num" id="6681589">1</span><span class="op" id="6681590">)</span><span class="op" id="6681591">,</span>&nbsp;<span class="op" id="6681593">&amp;</span><span class="ident" id="6681594">IPNet</span><span class="op" id="6681599">{</span><span class="ident" id="6681600">IP</span><span class="op" id="6681602">:</span>&nbsp;<span class="ident" id="6681604">IPv4</span><span class="op" id="6681608">(</span><span class="num" id="6681609">135</span><span class="op" id="6681612">,</span>&nbsp;<span class="num" id="6681614">104</span><span class="op" id="6681617">,</span>&nbsp;<span class="num" id="6681619">0</span><span class="op" id="6681620">,</span>&nbsp;<span class="num" id="6681622">1</span><span class="op" id="6681623">)</span><span class="op" id="6681624">,</span>&nbsp;<span class="ident" id="6681626">Mask</span><span class="op" id="6681630">:</span>&nbsp;<span class="ident" id="6681632">IPv4Mask</span><span class="op" id="6681640">(</span><span class="num" id="6681641">255</span><span class="op" id="6681644">,</span>&nbsp;<span class="num" id="6681646">255</span><span class="op" id="6681649">,</span>&nbsp;<span class="num" id="6681651">255</span><span class="op" id="6681654">,</span>&nbsp;<span class="num" id="6681656">255</span><span class="op" id="6681659">)</span><span class="op" id="6681660">}</span><span class="op" id="6681661">,</span>&nbsp;<span class="builtintype" id="6681663">nil</span><span class="op" id="6681666">}</span><span class="op" id="6681667">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681670">{</span><span class="string" id="6681671">&#34;135.104.0.1/24&#34;</span><span class="op" id="6681687">,</span>&nbsp;<span class="ident" id="6681689">IPv4</span><span class="op" id="6681693">(</span><span class="num" id="6681694">135</span><span class="op" id="6681697">,</span>&nbsp;<span class="num" id="6681699">104</span><span class="op" id="6681702">,</span>&nbsp;<span class="num" id="6681704">0</span><span class="op" id="6681705">,</span>&nbsp;<span class="num" id="6681707">1</span><span class="op" id="6681708">)</span><span class="op" id="6681709">,</span>&nbsp;<span class="op" id="6681711">&amp;</span><span class="ident" id="6681712">IPNet</span><span class="op" id="6681717">{</span><span class="ident" id="6681718">IP</span><span class="op" id="6681720">:</span>&nbsp;<span class="ident" id="6681722">IPv4</span><span class="op" id="6681726">(</span><span class="num" id="6681727">135</span><span class="op" id="6681730">,</span>&nbsp;<span class="num" id="6681732">104</span><span class="op" id="6681735">,</span>&nbsp;<span class="num" id="6681737">0</span><span class="op" id="6681738">,</span>&nbsp;<span class="num" id="6681740">0</span><span class="op" id="6681741">)</span><span class="op" id="6681742">,</span>&nbsp;<span class="ident" id="6681744">Mask</span><span class="op" id="6681748">:</span>&nbsp;<span class="ident" id="6681750">IPv4Mask</span><span class="op" id="6681758">(</span><span class="num" id="6681759">255</span><span class="op" id="6681762">,</span>&nbsp;<span class="num" id="6681764">255</span><span class="op" id="6681767">,</span>&nbsp;<span class="num" id="6681769">255</span><span class="op" id="6681772">,</span>&nbsp;<span class="num" id="6681774">0</span><span class="op" id="6681775">)</span><span class="op" id="6681776">}</span><span class="op" id="6681777">,</span>&nbsp;<span class="builtintype" id="6681779">nil</span><span class="op" id="6681782">}</span><span class="op" id="6681783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681786">{</span><span class="string" id="6681787">&#34;::1/128&#34;</span><span class="op" id="6681796">,</span>&nbsp;<span class="ident" id="6681798">ParseIP</span><span class="op" id="6681805">(</span><span class="string" id="6681806">&#34;::1&#34;</span><span class="op" id="6681811">)</span><span class="op" id="6681812">,</span>&nbsp;<span class="op" id="6681814">&amp;</span><span class="ident" id="6681815">IPNet</span><span class="op" id="6681820">{</span><span class="ident" id="6681821">IP</span><span class="op" id="6681823">:</span>&nbsp;<span class="ident" id="6681825">ParseIP</span><span class="op" id="6681832">(</span><span class="string" id="6681833">&#34;::1&#34;</span><span class="op" id="6681838">)</span><span class="op" id="6681839">,</span>&nbsp;<span class="ident" id="6681841">Mask</span><span class="op" id="6681845">:</span>&nbsp;<span class="ident" id="6681847">IPMask</span><span class="op" id="6681853">(</span><span class="ident" id="6681854">ParseIP</span><span class="op" id="6681861">(</span><span class="string" id="6681862">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="6681903">)</span><span class="op" id="6681904">)</span><span class="op" id="6681905">}</span><span class="op" id="6681906">,</span>&nbsp;<span class="builtintype" id="6681908">nil</span><span class="op" id="6681911">}</span><span class="op" id="6681912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6681915">{</span><span class="string" id="6681916">&#34;abcd:2345::/127&#34;</span><span class="op" id="6681933">,</span>&nbsp;<span class="ident" id="6681935">ParseIP</span><span class="op" id="6681942">(</span><span class="string" id="6681943">&#34;abcd:2345::&#34;</span><span class="op" id="6681956">)</span><span class="op" id="6681957">,</span>&nbsp;<span class="op" id="6681959">&amp;</span><span class="ident" id="6681960">IPNet</span><span class="op" id="6681965">{</span><span class="ident" id="6681966">IP</span><span class="op" id="6681968">:</span>&nbsp;<span class="ident" id="6681970">ParseIP</span><span class="op" id="6681977">(</span><span class="string" id="6681978">&#34;abcd:2345::&#34;</span><span class="op" id="6681991">)</span><span class="op" id="6681992">,</span>&nbsp;<span class="ident" id="6681994">Mask</span><span class="op" id="6681998">:</span>&nbsp;<span class="ident" id="6682000">IPMask</span><span class="op" id="6682006">(</span><span class="ident" id="6682007">ParseIP</span><span class="op" id="6682014">(</span><span class="string" id="6682015">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="6682056">)</span><span class="op" id="6682057">)</span><span class="op" id="6682058">}</span><span class="op" id="6682059">,</span>&nbsp;<span class="builtintype" id="6682061">nil</span><span class="op" id="6682064">}</span><span class="op" id="6682065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682068">{</span><span class="string" id="6682069">&#34;abcd:2345::/65&#34;</span><span class="op" id="6682085">,</span>&nbsp;<span class="ident" id="6682087">ParseIP</span><span class="op" id="6682094">(</span><span class="string" id="6682095">&#34;abcd:2345::&#34;</span><span class="op" id="6682108">)</span><span class="op" id="6682109">,</span>&nbsp;<span class="op" id="6682111">&amp;</span><span class="ident" id="6682112">IPNet</span><span class="op" id="6682117">{</span><span class="ident" id="6682118">IP</span><span class="op" id="6682120">:</span>&nbsp;<span class="ident" id="6682122">ParseIP</span><span class="op" id="6682129">(</span><span class="string" id="6682130">&#34;abcd:2345::&#34;</span><span class="op" id="6682143">)</span><span class="op" id="6682144">,</span>&nbsp;<span class="ident" id="6682146">Mask</span><span class="op" id="6682150">:</span>&nbsp;<span class="ident" id="6682152">IPMask</span><span class="op" id="6682158">(</span><span class="ident" id="6682159">ParseIP</span><span class="op" id="6682166">(</span><span class="string" id="6682167">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="6682195">)</span><span class="op" id="6682196">)</span><span class="op" id="6682197">}</span><span class="op" id="6682198">,</span>&nbsp;<span class="builtintype" id="6682200">nil</span><span class="op" id="6682203">}</span><span class="op" id="6682204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682207">{</span><span class="string" id="6682208">&#34;abcd:2345::/64&#34;</span><span class="op" id="6682224">,</span>&nbsp;<span class="ident" id="6682226">ParseIP</span><span class="op" id="6682233">(</span><span class="string" id="6682234">&#34;abcd:2345::&#34;</span><span class="op" id="6682247">)</span><span class="op" id="6682248">,</span>&nbsp;<span class="op" id="6682250">&amp;</span><span class="ident" id="6682251">IPNet</span><span class="op" id="6682256">{</span><span class="ident" id="6682257">IP</span><span class="op" id="6682259">:</span>&nbsp;<span class="ident" id="6682261">ParseIP</span><span class="op" id="6682268">(</span><span class="string" id="6682269">&#34;abcd:2345::&#34;</span><span class="op" id="6682282">)</span><span class="op" id="6682283">,</span>&nbsp;<span class="ident" id="6682285">Mask</span><span class="op" id="6682289">:</span>&nbsp;<span class="ident" id="6682291">IPMask</span><span class="op" id="6682297">(</span><span class="ident" id="6682298">ParseIP</span><span class="op" id="6682305">(</span><span class="string" id="6682306">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="6682329">)</span><span class="op" id="6682330">)</span><span class="op" id="6682331">}</span><span class="op" id="6682332">,</span>&nbsp;<span class="builtintype" id="6682334">nil</span><span class="op" id="6682337">}</span><span class="op" id="6682338">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682341">{</span><span class="string" id="6682342">&#34;abcd:2345::/63&#34;</span><span class="op" id="6682358">,</span>&nbsp;<span class="ident" id="6682360">ParseIP</span><span class="op" id="6682367">(</span><span class="string" id="6682368">&#34;abcd:2345::&#34;</span><span class="op" id="6682381">)</span><span class="op" id="6682382">,</span>&nbsp;<span class="op" id="6682384">&amp;</span><span class="ident" id="6682385">IPNet</span><span class="op" id="6682390">{</span><span class="ident" id="6682391">IP</span><span class="op" id="6682393">:</span>&nbsp;<span class="ident" id="6682395">ParseIP</span><span class="op" id="6682402">(</span><span class="string" id="6682403">&#34;abcd:2345::&#34;</span><span class="op" id="6682416">)</span><span class="op" id="6682417">,</span>&nbsp;<span class="ident" id="6682419">Mask</span><span class="op" id="6682423">:</span>&nbsp;<span class="ident" id="6682425">IPMask</span><span class="op" id="6682431">(</span><span class="ident" id="6682432">ParseIP</span><span class="op" id="6682439">(</span><span class="string" id="6682440">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="6682463">)</span><span class="op" id="6682464">)</span><span class="op" id="6682465">}</span><span class="op" id="6682466">,</span>&nbsp;<span class="builtintype" id="6682468">nil</span><span class="op" id="6682471">}</span><span class="op" id="6682472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682475">{</span><span class="string" id="6682476">&#34;abcd:2345::/33&#34;</span><span class="op" id="6682492">,</span>&nbsp;<span class="ident" id="6682494">ParseIP</span><span class="op" id="6682501">(</span><span class="string" id="6682502">&#34;abcd:2345::&#34;</span><span class="op" id="6682515">)</span><span class="op" id="6682516">,</span>&nbsp;<span class="op" id="6682518">&amp;</span><span class="ident" id="6682519">IPNet</span><span class="op" id="6682524">{</span><span class="ident" id="6682525">IP</span><span class="op" id="6682527">:</span>&nbsp;<span class="ident" id="6682529">ParseIP</span><span class="op" id="6682536">(</span><span class="string" id="6682537">&#34;abcd:2345::&#34;</span><span class="op" id="6682550">)</span><span class="op" id="6682551">,</span>&nbsp;<span class="ident" id="6682553">Mask</span><span class="op" id="6682557">:</span>&nbsp;<span class="ident" id="6682559">IPMask</span><span class="op" id="6682565">(</span><span class="ident" id="6682566">ParseIP</span><span class="op" id="6682573">(</span><span class="string" id="6682574">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="6682592">)</span><span class="op" id="6682593">)</span><span class="op" id="6682594">}</span><span class="op" id="6682595">,</span>&nbsp;<span class="builtintype" id="6682597">nil</span><span class="op" id="6682600">}</span><span class="op" id="6682601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682604">{</span><span class="string" id="6682605">&#34;abcd:2345::/32&#34;</span><span class="op" id="6682621">,</span>&nbsp;<span class="ident" id="6682623">ParseIP</span><span class="op" id="6682630">(</span><span class="string" id="6682631">&#34;abcd:2345::&#34;</span><span class="op" id="6682644">)</span><span class="op" id="6682645">,</span>&nbsp;<span class="op" id="6682647">&amp;</span><span class="ident" id="6682648">IPNet</span><span class="op" id="6682653">{</span><span class="ident" id="6682654">IP</span><span class="op" id="6682656">:</span>&nbsp;<span class="ident" id="6682658">ParseIP</span><span class="op" id="6682665">(</span><span class="string" id="6682666">&#34;abcd:2345::&#34;</span><span class="op" id="6682679">)</span><span class="op" id="6682680">,</span>&nbsp;<span class="ident" id="6682682">Mask</span><span class="op" id="6682686">:</span>&nbsp;<span class="ident" id="6682688">IPMask</span><span class="op" id="6682694">(</span><span class="ident" id="6682695">ParseIP</span><span class="op" id="6682702">(</span><span class="string" id="6682703">&#34;ffff:ffff::&#34;</span><span class="op" id="6682716">)</span><span class="op" id="6682717">)</span><span class="op" id="6682718">}</span><span class="op" id="6682719">,</span>&nbsp;<span class="builtintype" id="6682721">nil</span><span class="op" id="6682724">}</span><span class="op" id="6682725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682728">{</span><span class="string" id="6682729">&#34;abcd:2344::/31&#34;</span><span class="op" id="6682745">,</span>&nbsp;<span class="ident" id="6682747">ParseIP</span><span class="op" id="6682754">(</span><span class="string" id="6682755">&#34;abcd:2344::&#34;</span><span class="op" id="6682768">)</span><span class="op" id="6682769">,</span>&nbsp;<span class="op" id="6682771">&amp;</span><span class="ident" id="6682772">IPNet</span><span class="op" id="6682777">{</span><span class="ident" id="6682778">IP</span><span class="op" id="6682780">:</span>&nbsp;<span class="ident" id="6682782">ParseIP</span><span class="op" id="6682789">(</span><span class="string" id="6682790">&#34;abcd:2344::&#34;</span><span class="op" id="6682803">)</span><span class="op" id="6682804">,</span>&nbsp;<span class="ident" id="6682806">Mask</span><span class="op" id="6682810">:</span>&nbsp;<span class="ident" id="6682812">IPMask</span><span class="op" id="6682818">(</span><span class="ident" id="6682819">ParseIP</span><span class="op" id="6682826">(</span><span class="string" id="6682827">&#34;ffff:fffe::&#34;</span><span class="op" id="6682840">)</span><span class="op" id="6682841">)</span><span class="op" id="6682842">}</span><span class="op" id="6682843">,</span>&nbsp;<span class="builtintype" id="6682845">nil</span><span class="op" id="6682848">}</span><span class="op" id="6682849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682852">{</span><span class="string" id="6682853">&#34;abcd:2300::/24&#34;</span><span class="op" id="6682869">,</span>&nbsp;<span class="ident" id="6682871">ParseIP</span><span class="op" id="6682878">(</span><span class="string" id="6682879">&#34;abcd:2300::&#34;</span><span class="op" id="6682892">)</span><span class="op" id="6682893">,</span>&nbsp;<span class="op" id="6682895">&amp;</span><span class="ident" id="6682896">IPNet</span><span class="op" id="6682901">{</span><span class="ident" id="6682902">IP</span><span class="op" id="6682904">:</span>&nbsp;<span class="ident" id="6682906">ParseIP</span><span class="op" id="6682913">(</span><span class="string" id="6682914">&#34;abcd:2300::&#34;</span><span class="op" id="6682927">)</span><span class="op" id="6682928">,</span>&nbsp;<span class="ident" id="6682930">Mask</span><span class="op" id="6682934">:</span>&nbsp;<span class="ident" id="6682936">IPMask</span><span class="op" id="6682942">(</span><span class="ident" id="6682943">ParseIP</span><span class="op" id="6682950">(</span><span class="string" id="6682951">&#34;ffff:ff00::&#34;</span><span class="op" id="6682964">)</span><span class="op" id="6682965">)</span><span class="op" id="6682966">}</span><span class="op" id="6682967">,</span>&nbsp;<span class="builtintype" id="6682969">nil</span><span class="op" id="6682972">}</span><span class="op" id="6682973">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682976">{</span><span class="string" id="6682977">&#34;abcd:2345::/24&#34;</span><span class="op" id="6682993">,</span>&nbsp;<span class="ident" id="6682995">ParseIP</span><span class="op" id="6683002">(</span><span class="string" id="6683003">&#34;abcd:2345::&#34;</span><span class="op" id="6683016">)</span><span class="op" id="6683017">,</span>&nbsp;<span class="op" id="6683019">&amp;</span><span class="ident" id="6683020">IPNet</span><span class="op" id="6683025">{</span><span class="ident" id="6683026">IP</span><span class="op" id="6683028">:</span>&nbsp;<span class="ident" id="6683030">ParseIP</span><span class="op" id="6683037">(</span><span class="string" id="6683038">&#34;abcd:2300::&#34;</span><span class="op" id="6683051">)</span><span class="op" id="6683052">,</span>&nbsp;<span class="ident" id="6683054">Mask</span><span class="op" id="6683058">:</span>&nbsp;<span class="ident" id="6683060">IPMask</span><span class="op" id="6683066">(</span><span class="ident" id="6683067">ParseIP</span><span class="op" id="6683074">(</span><span class="string" id="6683075">&#34;ffff:ff00::&#34;</span><span class="op" id="6683088">)</span><span class="op" id="6683089">)</span><span class="op" id="6683090">}</span><span class="op" id="6683091">,</span>&nbsp;<span class="builtintype" id="6683093">nil</span><span class="op" id="6683096">}</span><span class="op" id="6683097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683100">{</span><span class="string" id="6683101">&#34;2001:DB8::/48&#34;</span><span class="op" id="6683116">,</span>&nbsp;<span class="ident" id="6683118">ParseIP</span><span class="op" id="6683125">(</span><span class="string" id="6683126">&#34;2001:DB8::&#34;</span><span class="op" id="6683138">)</span><span class="op" id="6683139">,</span>&nbsp;<span class="op" id="6683141">&amp;</span><span class="ident" id="6683142">IPNet</span><span class="op" id="6683147">{</span><span class="ident" id="6683148">IP</span><span class="op" id="6683150">:</span>&nbsp;<span class="ident" id="6683152">ParseIP</span><span class="op" id="6683159">(</span><span class="string" id="6683160">&#34;2001:DB8::&#34;</span><span class="op" id="6683172">)</span><span class="op" id="6683173">,</span>&nbsp;<span class="ident" id="6683175">Mask</span><span class="op" id="6683179">:</span>&nbsp;<span class="ident" id="6683181">IPMask</span><span class="op" id="6683187">(</span><span class="ident" id="6683188">ParseIP</span><span class="op" id="6683195">(</span><span class="string" id="6683196">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6683214">)</span><span class="op" id="6683215">)</span><span class="op" id="6683216">}</span><span class="op" id="6683217">,</span>&nbsp;<span class="builtintype" id="6683219">nil</span><span class="op" id="6683222">}</span><span class="op" id="6683223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683226">{</span><span class="string" id="6683227">&#34;2001:DB8::1/48&#34;</span><span class="op" id="6683243">,</span>&nbsp;<span class="ident" id="6683245">ParseIP</span><span class="op" id="6683252">(</span><span class="string" id="6683253">&#34;2001:DB8::1&#34;</span><span class="op" id="6683266">)</span><span class="op" id="6683267">,</span>&nbsp;<span class="op" id="6683269">&amp;</span><span class="ident" id="6683270">IPNet</span><span class="op" id="6683275">{</span><span class="ident" id="6683276">IP</span><span class="op" id="6683278">:</span>&nbsp;<span class="ident" id="6683280">ParseIP</span><span class="op" id="6683287">(</span><span class="string" id="6683288">&#34;2001:DB8::&#34;</span><span class="op" id="6683300">)</span><span class="op" id="6683301">,</span>&nbsp;<span class="ident" id="6683303">Mask</span><span class="op" id="6683307">:</span>&nbsp;<span class="ident" id="6683309">IPMask</span><span class="op" id="6683315">(</span><span class="ident" id="6683316">ParseIP</span><span class="op" id="6683323">(</span><span class="string" id="6683324">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="6683342">)</span><span class="op" id="6683343">)</span><span class="op" id="6683344">}</span><span class="op" id="6683345">,</span>&nbsp;<span class="builtintype" id="6683347">nil</span><span class="op" id="6683350">}</span><span class="op" id="6683351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683354">{</span><span class="string" id="6683355">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6683382">,</span>&nbsp;<span class="builtintype" id="6683384">nil</span><span class="op" id="6683387">,</span>&nbsp;<span class="builtintype" id="6683389">nil</span><span class="op" id="6683392">,</span>&nbsp;<span class="op" id="6683394">&amp;</span><span class="ident" id="6683395">ParseError</span><span class="op" id="6683405">{</span><span class="string" id="6683406">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6683420">,</span>&nbsp;<span class="string" id="6683422">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="6683449">}</span><span class="op" id="6683450">}</span><span class="op" id="6683451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683454">{</span><span class="string" id="6683455">&#34;192.168.1.1/35&#34;</span><span class="op" id="6683471">,</span>&nbsp;<span class="builtintype" id="6683473">nil</span><span class="op" id="6683476">,</span>&nbsp;<span class="builtintype" id="6683478">nil</span><span class="op" id="6683481">,</span>&nbsp;<span class="op" id="6683483">&amp;</span><span class="ident" id="6683484">ParseError</span><span class="op" id="6683494">{</span><span class="string" id="6683495">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6683509">,</span>&nbsp;<span class="string" id="6683511">&#34;192.168.1.1/35&#34;</span><span class="op" id="6683527">}</span><span class="op" id="6683528">}</span><span class="op" id="6683529">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683532">{</span><span class="string" id="6683533">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6683549">,</span>&nbsp;<span class="builtintype" id="6683551">nil</span><span class="op" id="6683554">,</span>&nbsp;<span class="builtintype" id="6683556">nil</span><span class="op" id="6683559">,</span>&nbsp;<span class="op" id="6683561">&amp;</span><span class="ident" id="6683562">ParseError</span><span class="op" id="6683572">{</span><span class="string" id="6683573">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6683587">,</span>&nbsp;<span class="string" id="6683589">&#34;2001:db8::1/-1&#34;</span><span class="op" id="6683605">}</span><span class="op" id="6683606">}</span><span class="op" id="6683607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683610">{</span><span class="string" id="6683611">&#34;&#34;</span><span class="op" id="6683613">,</span>&nbsp;<span class="builtintype" id="6683615">nil</span><span class="op" id="6683618">,</span>&nbsp;<span class="builtintype" id="6683620">nil</span><span class="op" id="6683623">,</span>&nbsp;<span class="op" id="6683625">&amp;</span><span class="ident" id="6683626">ParseError</span><span class="op" id="6683636">{</span><span class="string" id="6683637">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="6683651">,</span>&nbsp;<span class="string" id="6683653">&#34;&#34;</span><span class="op" id="6683655">}</span><span class="op" id="6683656">}</span><span class="op" id="6683657">,</span><br>
<span class="lineno"></span><span class="op" id="6683659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6683662">func</span>&nbsp;<span class="ident" id="6683667">TestParseCIDR</span><span class="op" id="6683680">(</span><span class="ident" id="6683681">t</span>&nbsp;<span class="op" id="6683683">*</span><span class="ident" id="6683684">testing</span><span class="op" id="6683691">.</span><span class="ident" id="6683692">T</span><span class="op" id="6683693">)</span>&nbsp;<span class="op" id="6683695">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683698">for</span>&nbsp;<span class="ident" id="6683702">_</span><span class="op" id="6683703">,</span>&nbsp;<span class="ident" id="6683705">tt</span>&nbsp;<span class="op" id="6683708">:=</span>&nbsp;<span class="keyword" id="6683711">range</span>&nbsp;<span class="ident" id="6683717">parseCIDRTests</span>&nbsp;<span class="op" id="6683732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683736">ip</span><span class="op" id="6683738">,</span>&nbsp;<span class="ident" id="6683740">net</span><span class="op" id="6683743">,</span>&nbsp;<span class="ident" id="6683745">err</span>&nbsp;<span class="op" id="6683749">:=</span>&nbsp;<span class="ident" id="6683752">ParseCIDR</span><span class="op" id="6683761">(</span><span class="ident" id="6683762">tt</span><span class="op" id="6683764">.</span><span class="ident" id="6683765">in</span><span class="op" id="6683767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683771">if</span>&nbsp;<span class="op" id="6683774">!</span><span class="ident" id="6683775">reflect</span><span class="op" id="6683782">.</span><span class="ident" id="6683783">DeepEqual</span><span class="op" id="6683792">(</span><span class="ident" id="6683793">err</span><span class="op" id="6683796">,</span>&nbsp;<span class="ident" id="6683798">tt</span><span class="op" id="6683800">.</span><span class="ident" id="6683801">err</span><span class="op" id="6683804">)</span>&nbsp;<span class="op" id="6683806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683811">t</span><span class="op" id="6683812">.</span><span class="ident" id="6683813">Errorf</span><span class="op" id="6683819">(</span><span class="string" id="6683820">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6683857">,</span>&nbsp;<span class="ident" id="6683859">tt</span><span class="op" id="6683861">.</span><span class="ident" id="6683862">in</span><span class="op" id="6683864">,</span>&nbsp;<span class="ident" id="6683866">ip</span><span class="op" id="6683868">,</span>&nbsp;<span class="ident" id="6683870">net</span><span class="op" id="6683873">,</span>&nbsp;<span class="ident" id="6683875">tt</span><span class="op" id="6683877">.</span><span class="ident" id="6683878">ip</span><span class="op" id="6683880">,</span>&nbsp;<span class="ident" id="6683882">tt</span><span class="op" id="6683884">.</span><span class="ident" id="6683885">net</span><span class="op" id="6683888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683892">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683896">if</span>&nbsp;<span class="ident" id="6683899">err</span>&nbsp;<span class="op" id="6683903">==</span>&nbsp;<span class="builtintype" id="6683906">nil</span>&nbsp;<span class="op" id="6683910">&amp;&amp;</span>&nbsp;<span class="op" id="6683913">(</span><span class="op" id="6683914">!</span><span class="ident" id="6683915">tt</span><span class="op" id="6683917">.</span><span class="ident" id="6683918">ip</span><span class="op" id="6683920">.</span><span class="ident" id="6683921">Equal</span><span class="op" id="6683926">(</span><span class="ident" id="6683927">ip</span><span class="op" id="6683929">)</span>&nbsp;<span class="op" id="6683931">||</span>&nbsp;<span class="op" id="6683934">!</span><span class="ident" id="6683935">tt</span><span class="op" id="6683937">.</span><span class="ident" id="6683938">net</span><span class="op" id="6683941">.</span><span class="ident" id="6683942">IP</span><span class="op" id="6683944">.</span><span class="ident" id="6683945">Equal</span><span class="op" id="6683950">(</span><span class="ident" id="6683951">net</span><span class="op" id="6683954">.</span><span class="ident" id="6683955">IP</span><span class="op" id="6683957">)</span>&nbsp;<span class="op" id="6683959">||</span>&nbsp;<span class="op" id="6683962">!</span><span class="ident" id="6683963">reflect</span><span class="op" id="6683970">.</span><span class="ident" id="6683971">DeepEqual</span><span class="op" id="6683980">(</span><span class="ident" id="6683981">net</span><span class="op" id="6683984">.</span><span class="ident" id="6683985">Mask</span><span class="op" id="6683989">,</span>&nbsp;<span class="ident" id="6683991">tt</span><span class="op" id="6683993">.</span><span class="ident" id="6683994">net</span><span class="op" id="6683997">.</span><span class="ident" id="6683998">Mask</span><span class="op" id="6684002">)</span><span class="op" id="6684003">)</span>&nbsp;<span class="op" id="6684005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684010">t</span><span class="op" id="6684011">.</span><span class="ident" id="6684012">Errorf</span><span class="op" id="6684018">(</span><span class="string" id="6684019">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="6684068">,</span>&nbsp;<span class="ident" id="6684070">tt</span><span class="op" id="6684072">.</span><span class="ident" id="6684073">in</span><span class="op" id="6684075">,</span>&nbsp;<span class="ident" id="6684077">ip</span><span class="op" id="6684079">,</span>&nbsp;<span class="ident" id="6684081">net</span><span class="op" id="6684084">.</span><span class="ident" id="6684085">IP</span><span class="op" id="6684087">,</span>&nbsp;<span class="ident" id="6684089">net</span><span class="op" id="6684092">.</span><span class="ident" id="6684093">Mask</span><span class="op" id="6684097">,</span>&nbsp;<span class="ident" id="6684099">tt</span><span class="op" id="6684101">.</span><span class="ident" id="6684102">ip</span><span class="op" id="6684104">,</span>&nbsp;<span class="ident" id="6684106">tt</span><span class="op" id="6684108">.</span><span class="ident" id="6684109">net</span><span class="op" id="6684112">.</span><span class="ident" id="6684113">IP</span><span class="op" id="6684115">,</span>&nbsp;<span class="ident" id="6684117">tt</span><span class="op" id="6684119">.</span><span class="ident" id="6684120">net</span><span class="op" id="6684123">.</span><span class="ident" id="6684124">Mask</span><span class="op" id="6684128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684135">}</span><br>
<span class="lineno"></span><span class="op" id="6684137">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6684140">var</span>&nbsp;<span class="ident" id="6684144">ipNetContainsTests</span>&nbsp;<span class="op" id="6684163">=</span>&nbsp;<span class="op" id="6684165">[</span><span class="op" id="6684166">]</span><span class="keyword" id="6684167">struct</span>&nbsp;<span class="op" id="6684174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684177">ip</span>&nbsp;&nbsp;<span class="ident" id="6684181">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684185">net</span>&nbsp;<span class="op" id="6684189">*</span><span class="ident" id="6684190">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684197">ok</span>&nbsp;&nbsp;<span class="builtintype" id="6684201">bool</span><br>
<span class="lineno">205</span><span class="op" id="6684206">}</span><span class="op" id="6684207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684210">{</span><span class="ident" id="6684211">IPv4</span><span class="op" id="6684215">(</span><span class="num" id="6684216">172</span><span class="op" id="6684219">,</span>&nbsp;<span class="num" id="6684221">16</span><span class="op" id="6684223">,</span>&nbsp;<span class="num" id="6684225">1</span><span class="op" id="6684226">,</span>&nbsp;<span class="num" id="6684228">1</span><span class="op" id="6684229">)</span><span class="op" id="6684230">,</span>&nbsp;<span class="op" id="6684232">&amp;</span><span class="ident" id="6684233">IPNet</span><span class="op" id="6684238">{</span><span class="ident" id="6684239">IP</span><span class="op" id="6684241">:</span>&nbsp;<span class="ident" id="6684243">IPv4</span><span class="op" id="6684247">(</span><span class="num" id="6684248">172</span><span class="op" id="6684251">,</span>&nbsp;<span class="num" id="6684253">16</span><span class="op" id="6684255">,</span>&nbsp;<span class="num" id="6684257">0</span><span class="op" id="6684258">,</span>&nbsp;<span class="num" id="6684260">0</span><span class="op" id="6684261">)</span><span class="op" id="6684262">,</span>&nbsp;<span class="ident" id="6684264">Mask</span><span class="op" id="6684268">:</span>&nbsp;<span class="ident" id="6684270">CIDRMask</span><span class="op" id="6684278">(</span><span class="num" id="6684279">12</span><span class="op" id="6684281">,</span>&nbsp;<span class="num" id="6684283">32</span><span class="op" id="6684285">)</span><span class="op" id="6684286">}</span><span class="op" id="6684287">,</span>&nbsp;<span class="builtintype" id="6684289">true</span><span class="op" id="6684293">}</span><span class="op" id="6684294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684297">{</span><span class="ident" id="6684298">IPv4</span><span class="op" id="6684302">(</span><span class="num" id="6684303">172</span><span class="op" id="6684306">,</span>&nbsp;<span class="num" id="6684308">24</span><span class="op" id="6684310">,</span>&nbsp;<span class="num" id="6684312">0</span><span class="op" id="6684313">,</span>&nbsp;<span class="num" id="6684315">1</span><span class="op" id="6684316">)</span><span class="op" id="6684317">,</span>&nbsp;<span class="op" id="6684319">&amp;</span><span class="ident" id="6684320">IPNet</span><span class="op" id="6684325">{</span><span class="ident" id="6684326">IP</span><span class="op" id="6684328">:</span>&nbsp;<span class="ident" id="6684330">IPv4</span><span class="op" id="6684334">(</span><span class="num" id="6684335">172</span><span class="op" id="6684338">,</span>&nbsp;<span class="num" id="6684340">16</span><span class="op" id="6684342">,</span>&nbsp;<span class="num" id="6684344">0</span><span class="op" id="6684345">,</span>&nbsp;<span class="num" id="6684347">0</span><span class="op" id="6684348">)</span><span class="op" id="6684349">,</span>&nbsp;<span class="ident" id="6684351">Mask</span><span class="op" id="6684355">:</span>&nbsp;<span class="ident" id="6684357">CIDRMask</span><span class="op" id="6684365">(</span><span class="num" id="6684366">13</span><span class="op" id="6684368">,</span>&nbsp;<span class="num" id="6684370">32</span><span class="op" id="6684372">)</span><span class="op" id="6684373">}</span><span class="op" id="6684374">,</span>&nbsp;<span class="builtintype" id="6684376">false</span><span class="op" id="6684381">}</span><span class="op" id="6684382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684385">{</span><span class="ident" id="6684386">IPv4</span><span class="op" id="6684390">(</span><span class="num" id="6684391">192</span><span class="op" id="6684394">,</span>&nbsp;<span class="num" id="6684396">168</span><span class="op" id="6684399">,</span>&nbsp;<span class="num" id="6684401">0</span><span class="op" id="6684402">,</span>&nbsp;<span class="num" id="6684404">3</span><span class="op" id="6684405">)</span><span class="op" id="6684406">,</span>&nbsp;<span class="op" id="6684408">&amp;</span><span class="ident" id="6684409">IPNet</span><span class="op" id="6684414">{</span><span class="ident" id="6684415">IP</span><span class="op" id="6684417">:</span>&nbsp;<span class="ident" id="6684419">IPv4</span><span class="op" id="6684423">(</span><span class="num" id="6684424">192</span><span class="op" id="6684427">,</span>&nbsp;<span class="num" id="6684429">168</span><span class="op" id="6684432">,</span>&nbsp;<span class="num" id="6684434">0</span><span class="op" id="6684435">,</span>&nbsp;<span class="num" id="6684437">0</span><span class="op" id="6684438">)</span><span class="op" id="6684439">,</span>&nbsp;<span class="ident" id="6684441">Mask</span><span class="op" id="6684445">:</span>&nbsp;<span class="ident" id="6684447">IPv4Mask</span><span class="op" id="6684455">(</span><span class="num" id="6684456">0</span><span class="op" id="6684457">,</span>&nbsp;<span class="num" id="6684459">0</span><span class="op" id="6684460">,</span>&nbsp;<span class="num" id="6684462">255</span><span class="op" id="6684465">,</span>&nbsp;<span class="num" id="6684467">252</span><span class="op" id="6684470">)</span><span class="op" id="6684471">}</span><span class="op" id="6684472">,</span>&nbsp;<span class="builtintype" id="6684474">true</span><span class="op" id="6684478">}</span><span class="op" id="6684479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684482">{</span><span class="ident" id="6684483">IPv4</span><span class="op" id="6684487">(</span><span class="num" id="6684488">192</span><span class="op" id="6684491">,</span>&nbsp;<span class="num" id="6684493">168</span><span class="op" id="6684496">,</span>&nbsp;<span class="num" id="6684498">0</span><span class="op" id="6684499">,</span>&nbsp;<span class="num" id="6684501">4</span><span class="op" id="6684502">)</span><span class="op" id="6684503">,</span>&nbsp;<span class="op" id="6684505">&amp;</span><span class="ident" id="6684506">IPNet</span><span class="op" id="6684511">{</span><span class="ident" id="6684512">IP</span><span class="op" id="6684514">:</span>&nbsp;<span class="ident" id="6684516">IPv4</span><span class="op" id="6684520">(</span><span class="num" id="6684521">192</span><span class="op" id="6684524">,</span>&nbsp;<span class="num" id="6684526">168</span><span class="op" id="6684529">,</span>&nbsp;<span class="num" id="6684531">0</span><span class="op" id="6684532">,</span>&nbsp;<span class="num" id="6684534">0</span><span class="op" id="6684535">)</span><span class="op" id="6684536">,</span>&nbsp;<span class="ident" id="6684538">Mask</span><span class="op" id="6684542">:</span>&nbsp;<span class="ident" id="6684544">IPv4Mask</span><span class="op" id="6684552">(</span><span class="num" id="6684553">0</span><span class="op" id="6684554">,</span>&nbsp;<span class="num" id="6684556">255</span><span class="op" id="6684559">,</span>&nbsp;<span class="num" id="6684561">0</span><span class="op" id="6684562">,</span>&nbsp;<span class="num" id="6684564">252</span><span class="op" id="6684567">)</span><span class="op" id="6684568">}</span><span class="op" id="6684569">,</span>&nbsp;<span class="builtintype" id="6684571">false</span><span class="op" id="6684576">}</span><span class="op" id="6684577">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684580">{</span><span class="ident" id="6684581">ParseIP</span><span class="op" id="6684588">(</span><span class="string" id="6684589">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6684606">)</span><span class="op" id="6684607">,</span>&nbsp;<span class="op" id="6684609">&amp;</span><span class="ident" id="6684610">IPNet</span><span class="op" id="6684615">{</span><span class="ident" id="6684616">IP</span><span class="op" id="6684618">:</span>&nbsp;<span class="ident" id="6684620">ParseIP</span><span class="op" id="6684627">(</span><span class="string" id="6684628">&#34;2001:db8:1::&#34;</span><span class="op" id="6684642">)</span><span class="op" id="6684643">,</span>&nbsp;<span class="ident" id="6684645">Mask</span><span class="op" id="6684649">:</span>&nbsp;<span class="ident" id="6684651">CIDRMask</span><span class="op" id="6684659">(</span><span class="num" id="6684660">47</span><span class="op" id="6684662">,</span>&nbsp;<span class="num" id="6684664">128</span><span class="op" id="6684667">)</span><span class="op" id="6684668">}</span><span class="op" id="6684669">,</span>&nbsp;<span class="builtintype" id="6684671">true</span><span class="op" id="6684675">}</span><span class="op" id="6684676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684679">{</span><span class="ident" id="6684680">ParseIP</span><span class="op" id="6684687">(</span><span class="string" id="6684688">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6684705">)</span><span class="op" id="6684706">,</span>&nbsp;<span class="op" id="6684708">&amp;</span><span class="ident" id="6684709">IPNet</span><span class="op" id="6684714">{</span><span class="ident" id="6684715">IP</span><span class="op" id="6684717">:</span>&nbsp;<span class="ident" id="6684719">ParseIP</span><span class="op" id="6684726">(</span><span class="string" id="6684727">&#34;2001:db8:2::&#34;</span><span class="op" id="6684741">)</span><span class="op" id="6684742">,</span>&nbsp;<span class="ident" id="6684744">Mask</span><span class="op" id="6684748">:</span>&nbsp;<span class="ident" id="6684750">CIDRMask</span><span class="op" id="6684758">(</span><span class="num" id="6684759">47</span><span class="op" id="6684761">,</span>&nbsp;<span class="num" id="6684763">128</span><span class="op" id="6684766">)</span><span class="op" id="6684767">}</span><span class="op" id="6684768">,</span>&nbsp;<span class="builtintype" id="6684770">false</span><span class="op" id="6684775">}</span><span class="op" id="6684776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684779">{</span><span class="ident" id="6684780">ParseIP</span><span class="op" id="6684787">(</span><span class="string" id="6684788">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6684805">)</span><span class="op" id="6684806">,</span>&nbsp;<span class="op" id="6684808">&amp;</span><span class="ident" id="6684809">IPNet</span><span class="op" id="6684814">{</span><span class="ident" id="6684815">IP</span><span class="op" id="6684817">:</span>&nbsp;<span class="ident" id="6684819">ParseIP</span><span class="op" id="6684826">(</span><span class="string" id="6684827">&#34;2001:db8:1::&#34;</span><span class="op" id="6684841">)</span><span class="op" id="6684842">,</span>&nbsp;<span class="ident" id="6684844">Mask</span><span class="op" id="6684848">:</span>&nbsp;<span class="ident" id="6684850">IPMask</span><span class="op" id="6684856">(</span><span class="ident" id="6684857">ParseIP</span><span class="op" id="6684864">(</span><span class="string" id="6684865">&#34;ffff:0:ffff::&#34;</span><span class="op" id="6684880">)</span><span class="op" id="6684881">)</span><span class="op" id="6684882">}</span><span class="op" id="6684883">,</span>&nbsp;<span class="builtintype" id="6684885">true</span><span class="op" id="6684889">}</span><span class="op" id="6684890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684893">{</span><span class="ident" id="6684894">ParseIP</span><span class="op" id="6684901">(</span><span class="string" id="6684902">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="6684919">)</span><span class="op" id="6684920">,</span>&nbsp;<span class="op" id="6684922">&amp;</span><span class="ident" id="6684923">IPNet</span><span class="op" id="6684928">{</span><span class="ident" id="6684929">IP</span><span class="op" id="6684931">:</span>&nbsp;<span class="ident" id="6684933">ParseIP</span><span class="op" id="6684940">(</span><span class="string" id="6684941">&#34;2001:db8:1::&#34;</span><span class="op" id="6684955">)</span><span class="op" id="6684956">,</span>&nbsp;<span class="ident" id="6684958">Mask</span><span class="op" id="6684962">:</span>&nbsp;<span class="ident" id="6684964">IPMask</span><span class="op" id="6684970">(</span><span class="ident" id="6684971">ParseIP</span><span class="op" id="6684978">(</span><span class="string" id="6684979">&#34;0:0:0:ffff::&#34;</span><span class="op" id="6684993">)</span><span class="op" id="6684994">)</span><span class="op" id="6684995">}</span><span class="op" id="6684996">,</span>&nbsp;<span class="builtintype" id="6684998">false</span><span class="op" id="6685003">}</span><span class="op" id="6685004">,</span><br>
<span class="lineno"></span><span class="op" id="6685006">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="6685009">func</span>&nbsp;<span class="ident" id="6685014">TestIPNetContains</span><span class="op" id="6685031">(</span><span class="ident" id="6685032">t</span>&nbsp;<span class="op" id="6685034">*</span><span class="ident" id="6685035">testing</span><span class="op" id="6685042">.</span><span class="ident" id="6685043">T</span><span class="op" id="6685044">)</span>&nbsp;<span class="op" id="6685046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685049">for</span>&nbsp;<span class="ident" id="6685053">_</span><span class="op" id="6685054">,</span>&nbsp;<span class="ident" id="6685056">tt</span>&nbsp;<span class="op" id="6685059">:=</span>&nbsp;<span class="keyword" id="6685062">range</span>&nbsp;<span class="ident" id="6685068">ipNetContainsTests</span>&nbsp;<span class="op" id="6685087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685091">if</span>&nbsp;<span class="ident" id="6685094">ok</span>&nbsp;<span class="op" id="6685097">:=</span>&nbsp;<span class="ident" id="6685100">tt</span><span class="op" id="6685102">.</span><span class="ident" id="6685103">net</span><span class="op" id="6685106">.</span><span class="ident" id="6685107">Contains</span><span class="op" id="6685115">(</span><span class="ident" id="6685116">tt</span><span class="op" id="6685118">.</span><span class="ident" id="6685119">ip</span><span class="op" id="6685121">)</span><span class="op" id="6685122">;</span>&nbsp;<span class="ident" id="6685124">ok</span>&nbsp;<span class="op" id="6685127">!=</span>&nbsp;<span class="ident" id="6685130">tt</span><span class="op" id="6685132">.</span><span class="ident" id="6685133">ok</span>&nbsp;<span class="op" id="6685136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685141">t</span><span class="op" id="6685142">.</span><span class="ident" id="6685143">Errorf</span><span class="op" id="6685149">(</span><span class="string" id="6685150">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6685188">,</span>&nbsp;<span class="ident" id="6685190">tt</span><span class="op" id="6685192">.</span><span class="ident" id="6685193">net</span><span class="op" id="6685196">,</span>&nbsp;<span class="ident" id="6685198">tt</span><span class="op" id="6685200">.</span><span class="ident" id="6685201">ip</span><span class="op" id="6685203">,</span>&nbsp;<span class="ident" id="6685205">ok</span><span class="op" id="6685207">,</span>&nbsp;<span class="ident" id="6685209">tt</span><span class="op" id="6685211">.</span><span class="ident" id="6685212">ok</span><span class="op" id="6685214">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685221">}</span><br>
<span class="lineno"></span><span class="op" id="6685223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6685226">var</span>&nbsp;<span class="ident" id="6685230">ipNetStringTests</span>&nbsp;<span class="op" id="6685247">=</span>&nbsp;<span class="op" id="6685249">[</span><span class="op" id="6685250">]</span><span class="keyword" id="6685251">struct</span>&nbsp;<span class="op" id="6685258">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685261">in</span>&nbsp;&nbsp;<span class="op" id="6685265">*</span><span class="ident" id="6685266">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685273">out</span>&nbsp;<span class="builtintype" id="6685277">string</span><br>
<span class="lineno"></span><span class="op" id="6685284">}</span><span class="op" id="6685285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685288">{</span><span class="op" id="6685289">&amp;</span><span class="ident" id="6685290">IPNet</span><span class="op" id="6685295">{</span><span class="ident" id="6685296">IP</span><span class="op" id="6685298">:</span>&nbsp;<span class="ident" id="6685300">IPv4</span><span class="op" id="6685304">(</span><span class="num" id="6685305">192</span><span class="op" id="6685308">,</span>&nbsp;<span class="num" id="6685310">168</span><span class="op" id="6685313">,</span>&nbsp;<span class="num" id="6685315">1</span><span class="op" id="6685316">,</span>&nbsp;<span class="num" id="6685318">0</span><span class="op" id="6685319">)</span><span class="op" id="6685320">,</span>&nbsp;<span class="ident" id="6685322">Mask</span><span class="op" id="6685326">:</span>&nbsp;<span class="ident" id="6685328">CIDRMask</span><span class="op" id="6685336">(</span><span class="num" id="6685337">26</span><span class="op" id="6685339">,</span>&nbsp;<span class="num" id="6685341">32</span><span class="op" id="6685343">)</span><span class="op" id="6685344">}</span><span class="op" id="6685345">,</span>&nbsp;<span class="string" id="6685347">&#34;192.168.1.0/26&#34;</span><span class="op" id="6685363">}</span><span class="op" id="6685364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685367">{</span><span class="op" id="6685368">&amp;</span><span class="ident" id="6685369">IPNet</span><span class="op" id="6685374">{</span><span class="ident" id="6685375">IP</span><span class="op" id="6685377">:</span>&nbsp;<span class="ident" id="6685379">IPv4</span><span class="op" id="6685383">(</span><span class="num" id="6685384">192</span><span class="op" id="6685387">,</span>&nbsp;<span class="num" id="6685389">168</span><span class="op" id="6685392">,</span>&nbsp;<span class="num" id="6685394">1</span><span class="op" id="6685395">,</span>&nbsp;<span class="num" id="6685397">0</span><span class="op" id="6685398">)</span><span class="op" id="6685399">,</span>&nbsp;<span class="ident" id="6685401">Mask</span><span class="op" id="6685405">:</span>&nbsp;<span class="ident" id="6685407">IPv4Mask</span><span class="op" id="6685415">(</span><span class="num" id="6685416">255</span><span class="op" id="6685419">,</span>&nbsp;<span class="num" id="6685421">0</span><span class="op" id="6685422">,</span>&nbsp;<span class="num" id="6685424">255</span><span class="op" id="6685427">,</span>&nbsp;<span class="num" id="6685429">0</span><span class="op" id="6685430">)</span><span class="op" id="6685431">}</span><span class="op" id="6685432">,</span>&nbsp;<span class="string" id="6685434">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="6685456">}</span><span class="op" id="6685457">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685460">{</span><span class="op" id="6685461">&amp;</span><span class="ident" id="6685462">IPNet</span><span class="op" id="6685467">{</span><span class="ident" id="6685468">IP</span><span class="op" id="6685470">:</span>&nbsp;<span class="ident" id="6685472">ParseIP</span><span class="op" id="6685479">(</span><span class="string" id="6685480">&#34;2001:db8::&#34;</span><span class="op" id="6685492">)</span><span class="op" id="6685493">,</span>&nbsp;<span class="ident" id="6685495">Mask</span><span class="op" id="6685499">:</span>&nbsp;<span class="ident" id="6685501">CIDRMask</span><span class="op" id="6685509">(</span><span class="num" id="6685510">55</span><span class="op" id="6685512">,</span>&nbsp;<span class="num" id="6685514">128</span><span class="op" id="6685517">)</span><span class="op" id="6685518">}</span><span class="op" id="6685519">,</span>&nbsp;<span class="string" id="6685521">&#34;2001:db8::/55&#34;</span><span class="op" id="6685536">}</span><span class="op" id="6685537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685540">{</span><span class="op" id="6685541">&amp;</span><span class="ident" id="6685542">IPNet</span><span class="op" id="6685547">{</span><span class="ident" id="6685548">IP</span><span class="op" id="6685550">:</span>&nbsp;<span class="ident" id="6685552">ParseIP</span><span class="op" id="6685559">(</span><span class="string" id="6685560">&#34;2001:db8::&#34;</span><span class="op" id="6685572">)</span><span class="op" id="6685573">,</span>&nbsp;<span class="ident" id="6685575">Mask</span><span class="op" id="6685579">:</span>&nbsp;<span class="ident" id="6685581">IPMask</span><span class="op" id="6685587">(</span><span class="ident" id="6685588">ParseIP</span><span class="op" id="6685595">(</span><span class="string" id="6685596">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="6685616">)</span><span class="op" id="6685617">)</span><span class="op" id="6685618">}</span><span class="op" id="6685619">,</span>&nbsp;<span class="string" id="6685621">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="6685666">}</span><span class="op" id="6685667">,</span><br>
<span class="lineno"></span><span class="op" id="6685669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6685672">func</span>&nbsp;<span class="ident" id="6685677">TestIPNetString</span><span class="op" id="6685692">(</span><span class="ident" id="6685693">t</span>&nbsp;<span class="op" id="6685695">*</span><span class="ident" id="6685696">testing</span><span class="op" id="6685703">.</span><span class="ident" id="6685704">T</span><span class="op" id="6685705">)</span>&nbsp;<span class="op" id="6685707">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685710">for</span>&nbsp;<span class="ident" id="6685714">_</span><span class="op" id="6685715">,</span>&nbsp;<span class="ident" id="6685717">tt</span>&nbsp;<span class="op" id="6685720">:=</span>&nbsp;<span class="keyword" id="6685723">range</span>&nbsp;<span class="ident" id="6685729">ipNetStringTests</span>&nbsp;<span class="op" id="6685746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685750">if</span>&nbsp;<span class="ident" id="6685753">out</span>&nbsp;<span class="op" id="6685757">:=</span>&nbsp;<span class="ident" id="6685760">tt</span><span class="op" id="6685762">.</span><span class="ident" id="6685763">in</span><span class="op" id="6685765">.</span><span class="ident" id="6685766">String</span><span class="op" id="6685772">(</span><span class="op" id="6685773">)</span><span class="op" id="6685774">;</span>&nbsp;<span class="ident" id="6685776">out</span>&nbsp;<span class="op" id="6685780">!=</span>&nbsp;<span class="ident" id="6685783">tt</span><span class="op" id="6685785">.</span><span class="ident" id="6685786">out</span>&nbsp;<span class="op" id="6685790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685795">t</span><span class="op" id="6685796">.</span><span class="ident" id="6685797">Errorf</span><span class="op" id="6685803">(</span><span class="string" id="6685804">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6685836">,</span>&nbsp;<span class="ident" id="6685838">tt</span><span class="op" id="6685840">.</span><span class="ident" id="6685841">in</span><span class="op" id="6685843">,</span>&nbsp;<span class="ident" id="6685845">out</span><span class="op" id="6685848">,</span>&nbsp;<span class="ident" id="6685850">tt</span><span class="op" id="6685852">.</span><span class="ident" id="6685853">out</span><span class="op" id="6685856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685863">}</span><br>
<span class="lineno">240</span><span class="op" id="6685865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6685868">var</span>&nbsp;<span class="ident" id="6685872">cidrMaskTests</span>&nbsp;<span class="op" id="6685886">=</span>&nbsp;<span class="op" id="6685888">[</span><span class="op" id="6685889">]</span><span class="keyword" id="6685890">struct</span>&nbsp;<span class="op" id="6685897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685900">ones</span>&nbsp;<span class="builtintype" id="6685905">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685910">bits</span>&nbsp;<span class="builtintype" id="6685915">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685920">out</span>&nbsp;&nbsp;<span class="ident" id="6685925">IPMask</span><br>
<span class="lineno"></span><span class="op" id="6685932">}</span><span class="op" id="6685933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685936">{</span><span class="num" id="6685937">0</span><span class="op" id="6685938">,</span>&nbsp;<span class="num" id="6685940">32</span><span class="op" id="6685942">,</span>&nbsp;<span class="ident" id="6685944">IPv4Mask</span><span class="op" id="6685952">(</span><span class="num" id="6685953">0</span><span class="op" id="6685954">,</span>&nbsp;<span class="num" id="6685956">0</span><span class="op" id="6685957">,</span>&nbsp;<span class="num" id="6685959">0</span><span class="op" id="6685960">,</span>&nbsp;<span class="num" id="6685962">0</span><span class="op" id="6685963">)</span><span class="op" id="6685964">}</span><span class="op" id="6685965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685968">{</span><span class="num" id="6685969">12</span><span class="op" id="6685971">,</span>&nbsp;<span class="num" id="6685973">32</span><span class="op" id="6685975">,</span>&nbsp;<span class="ident" id="6685977">IPv4Mask</span><span class="op" id="6685985">(</span><span class="num" id="6685986">255</span><span class="op" id="6685989">,</span>&nbsp;<span class="num" id="6685991">240</span><span class="op" id="6685994">,</span>&nbsp;<span class="num" id="6685996">0</span><span class="op" id="6685997">,</span>&nbsp;<span class="num" id="6685999">0</span><span class="op" id="6686000">)</span><span class="op" id="6686001">}</span><span class="op" id="6686002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686005">{</span><span class="num" id="6686006">24</span><span class="op" id="6686008">,</span>&nbsp;<span class="num" id="6686010">32</span><span class="op" id="6686012">,</span>&nbsp;<span class="ident" id="6686014">IPv4Mask</span><span class="op" id="6686022">(</span><span class="num" id="6686023">255</span><span class="op" id="6686026">,</span>&nbsp;<span class="num" id="6686028">255</span><span class="op" id="6686031">,</span>&nbsp;<span class="num" id="6686033">255</span><span class="op" id="6686036">,</span>&nbsp;<span class="num" id="6686038">0</span><span class="op" id="6686039">)</span><span class="op" id="6686040">}</span><span class="op" id="6686041">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686044">{</span><span class="num" id="6686045">32</span><span class="op" id="6686047">,</span>&nbsp;<span class="num" id="6686049">32</span><span class="op" id="6686051">,</span>&nbsp;<span class="ident" id="6686053">IPv4Mask</span><span class="op" id="6686061">(</span><span class="num" id="6686062">255</span><span class="op" id="6686065">,</span>&nbsp;<span class="num" id="6686067">255</span><span class="op" id="6686070">,</span>&nbsp;<span class="num" id="6686072">255</span><span class="op" id="6686075">,</span>&nbsp;<span class="num" id="6686077">255</span><span class="op" id="6686080">)</span><span class="op" id="6686081">}</span><span class="op" id="6686082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686085">{</span><span class="num" id="6686086">0</span><span class="op" id="6686087">,</span>&nbsp;<span class="num" id="6686089">128</span><span class="op" id="6686092">,</span>&nbsp;<span class="ident" id="6686094">IPMask</span><span class="op" id="6686100">{</span><span class="num" id="6686101">0</span><span class="op" id="6686102">,</span>&nbsp;<span class="num" id="6686104">0</span><span class="op" id="6686105">,</span>&nbsp;<span class="num" id="6686107">0</span><span class="op" id="6686108">,</span>&nbsp;<span class="num" id="6686110">0</span><span class="op" id="6686111">,</span>&nbsp;<span class="num" id="6686113">0</span><span class="op" id="6686114">,</span>&nbsp;<span class="num" id="6686116">0</span><span class="op" id="6686117">,</span>&nbsp;<span class="num" id="6686119">0</span><span class="op" id="6686120">,</span>&nbsp;<span class="num" id="6686122">0</span><span class="op" id="6686123">,</span>&nbsp;<span class="num" id="6686125">0</span><span class="op" id="6686126">,</span>&nbsp;<span class="num" id="6686128">0</span><span class="op" id="6686129">,</span>&nbsp;<span class="num" id="6686131">0</span><span class="op" id="6686132">,</span>&nbsp;<span class="num" id="6686134">0</span><span class="op" id="6686135">,</span>&nbsp;<span class="num" id="6686137">0</span><span class="op" id="6686138">,</span>&nbsp;<span class="num" id="6686140">0</span><span class="op" id="6686141">,</span>&nbsp;<span class="num" id="6686143">0</span><span class="op" id="6686144">,</span>&nbsp;<span class="num" id="6686146">0</span><span class="op" id="6686147">}</span><span class="op" id="6686148">}</span><span class="op" id="6686149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686152">{</span><span class="num" id="6686153">4</span><span class="op" id="6686154">,</span>&nbsp;<span class="num" id="6686156">128</span><span class="op" id="6686159">,</span>&nbsp;<span class="ident" id="6686161">IPMask</span><span class="op" id="6686167">{</span><span class="num" id="6686168">0xf0</span><span class="op" id="6686172">,</span>&nbsp;<span class="num" id="6686174">0</span><span class="op" id="6686175">,</span>&nbsp;<span class="num" id="6686177">0</span><span class="op" id="6686178">,</span>&nbsp;<span class="num" id="6686180">0</span><span class="op" id="6686181">,</span>&nbsp;<span class="num" id="6686183">0</span><span class="op" id="6686184">,</span>&nbsp;<span class="num" id="6686186">0</span><span class="op" id="6686187">,</span>&nbsp;<span class="num" id="6686189">0</span><span class="op" id="6686190">,</span>&nbsp;<span class="num" id="6686192">0</span><span class="op" id="6686193">,</span>&nbsp;<span class="num" id="6686195">0</span><span class="op" id="6686196">,</span>&nbsp;<span class="num" id="6686198">0</span><span class="op" id="6686199">,</span>&nbsp;<span class="num" id="6686201">0</span><span class="op" id="6686202">,</span>&nbsp;<span class="num" id="6686204">0</span><span class="op" id="6686205">,</span>&nbsp;<span class="num" id="6686207">0</span><span class="op" id="6686208">,</span>&nbsp;<span class="num" id="6686210">0</span><span class="op" id="6686211">,</span>&nbsp;<span class="num" id="6686213">0</span><span class="op" id="6686214">,</span>&nbsp;<span class="num" id="6686216">0</span><span class="op" id="6686217">}</span><span class="op" id="6686218">}</span><span class="op" id="6686219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686222">{</span><span class="num" id="6686223">48</span><span class="op" id="6686225">,</span>&nbsp;<span class="num" id="6686227">128</span><span class="op" id="6686230">,</span>&nbsp;<span class="ident" id="6686232">IPMask</span><span class="op" id="6686238">{</span><span class="num" id="6686239">0xff</span><span class="op" id="6686243">,</span>&nbsp;<span class="num" id="6686245">0xff</span><span class="op" id="6686249">,</span>&nbsp;<span class="num" id="6686251">0xff</span><span class="op" id="6686255">,</span>&nbsp;<span class="num" id="6686257">0xff</span><span class="op" id="6686261">,</span>&nbsp;<span class="num" id="6686263">0xff</span><span class="op" id="6686267">,</span>&nbsp;<span class="num" id="6686269">0xff</span><span class="op" id="6686273">,</span>&nbsp;<span class="num" id="6686275">0</span><span class="op" id="6686276">,</span>&nbsp;<span class="num" id="6686278">0</span><span class="op" id="6686279">,</span>&nbsp;<span class="num" id="6686281">0</span><span class="op" id="6686282">,</span>&nbsp;<span class="num" id="6686284">0</span><span class="op" id="6686285">,</span>&nbsp;<span class="num" id="6686287">0</span><span class="op" id="6686288">,</span>&nbsp;<span class="num" id="6686290">0</span><span class="op" id="6686291">,</span>&nbsp;<span class="num" id="6686293">0</span><span class="op" id="6686294">,</span>&nbsp;<span class="num" id="6686296">0</span><span class="op" id="6686297">,</span>&nbsp;<span class="num" id="6686299">0</span><span class="op" id="6686300">,</span>&nbsp;<span class="num" id="6686302">0</span><span class="op" id="6686303">}</span><span class="op" id="6686304">}</span><span class="op" id="6686305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686308">{</span><span class="num" id="6686309">128</span><span class="op" id="6686312">,</span>&nbsp;<span class="num" id="6686314">128</span><span class="op" id="6686317">,</span>&nbsp;<span class="ident" id="6686319">IPMask</span><span class="op" id="6686325">{</span><span class="num" id="6686326">0xff</span><span class="op" id="6686330">,</span>&nbsp;<span class="num" id="6686332">0xff</span><span class="op" id="6686336">,</span>&nbsp;<span class="num" id="6686338">0xff</span><span class="op" id="6686342">,</span>&nbsp;<span class="num" id="6686344">0xff</span><span class="op" id="6686348">,</span>&nbsp;<span class="num" id="6686350">0xff</span><span class="op" id="6686354">,</span>&nbsp;<span class="num" id="6686356">0xff</span><span class="op" id="6686360">,</span>&nbsp;<span class="num" id="6686362">0xff</span><span class="op" id="6686366">,</span>&nbsp;<span class="num" id="6686368">0xff</span><span class="op" id="6686372">,</span>&nbsp;<span class="num" id="6686374">0xff</span><span class="op" id="6686378">,</span>&nbsp;<span class="num" id="6686380">0xff</span><span class="op" id="6686384">,</span>&nbsp;<span class="num" id="6686386">0xff</span><span class="op" id="6686390">,</span>&nbsp;<span class="num" id="6686392">0xff</span><span class="op" id="6686396">,</span>&nbsp;<span class="num" id="6686398">0xff</span><span class="op" id="6686402">,</span>&nbsp;<span class="num" id="6686404">0xff</span><span class="op" id="6686408">,</span>&nbsp;<span class="num" id="6686410">0xff</span><span class="op" id="6686414">,</span>&nbsp;<span class="num" id="6686416">0xff</span><span class="op" id="6686420">}</span><span class="op" id="6686421">}</span><span class="op" id="6686422">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686425">{</span><span class="num" id="6686426">33</span><span class="op" id="6686428">,</span>&nbsp;<span class="num" id="6686430">32</span><span class="op" id="6686432">,</span>&nbsp;<span class="builtintype" id="6686434">nil</span><span class="op" id="6686437">}</span><span class="op" id="6686438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686441">{</span><span class="num" id="6686442">32</span><span class="op" id="6686444">,</span>&nbsp;<span class="num" id="6686446">33</span><span class="op" id="6686448">,</span>&nbsp;<span class="builtintype" id="6686450">nil</span><span class="op" id="6686453">}</span><span class="op" id="6686454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686457">{</span><span class="op" id="6686458">-</span><span class="num" id="6686459">1</span><span class="op" id="6686460">,</span>&nbsp;<span class="num" id="6686462">128</span><span class="op" id="6686465">,</span>&nbsp;<span class="builtintype" id="6686467">nil</span><span class="op" id="6686470">}</span><span class="op" id="6686471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686474">{</span><span class="num" id="6686475">128</span><span class="op" id="6686478">,</span>&nbsp;<span class="op" id="6686480">-</span><span class="num" id="6686481">1</span><span class="op" id="6686482">,</span>&nbsp;<span class="builtintype" id="6686484">nil</span><span class="op" id="6686487">}</span><span class="op" id="6686488">,</span><br>
<span class="lineno"></span><span class="op" id="6686490">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="6686493">func</span>&nbsp;<span class="ident" id="6686498">TestCIDRMask</span><span class="op" id="6686510">(</span><span class="ident" id="6686511">t</span>&nbsp;<span class="op" id="6686513">*</span><span class="ident" id="6686514">testing</span><span class="op" id="6686521">.</span><span class="ident" id="6686522">T</span><span class="op" id="6686523">)</span>&nbsp;<span class="op" id="6686525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686528">for</span>&nbsp;<span class="ident" id="6686532">_</span><span class="op" id="6686533">,</span>&nbsp;<span class="ident" id="6686535">tt</span>&nbsp;<span class="op" id="6686538">:=</span>&nbsp;<span class="keyword" id="6686541">range</span>&nbsp;<span class="ident" id="6686547">cidrMaskTests</span>&nbsp;<span class="op" id="6686561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686565">if</span>&nbsp;<span class="ident" id="6686568">out</span>&nbsp;<span class="op" id="6686572">:=</span>&nbsp;<span class="ident" id="6686575">CIDRMask</span><span class="op" id="6686583">(</span><span class="ident" id="6686584">tt</span><span class="op" id="6686586">.</span><span class="ident" id="6686587">ones</span><span class="op" id="6686591">,</span>&nbsp;<span class="ident" id="6686593">tt</span><span class="op" id="6686595">.</span><span class="ident" id="6686596">bits</span><span class="op" id="6686600">)</span><span class="op" id="6686601">;</span>&nbsp;<span class="op" id="6686603">!</span><span class="ident" id="6686604">reflect</span><span class="op" id="6686611">.</span><span class="ident" id="6686612">DeepEqual</span><span class="op" id="6686621">(</span><span class="ident" id="6686622">out</span><span class="op" id="6686625">,</span>&nbsp;<span class="ident" id="6686627">tt</span><span class="op" id="6686629">.</span><span class="ident" id="6686630">out</span><span class="op" id="6686633">)</span>&nbsp;<span class="op" id="6686635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686640">t</span><span class="op" id="6686641">.</span><span class="ident" id="6686642">Errorf</span><span class="op" id="6686648">(</span><span class="string" id="6686649">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6686681">,</span>&nbsp;<span class="ident" id="6686683">tt</span><span class="op" id="6686685">.</span><span class="ident" id="6686686">ones</span><span class="op" id="6686690">,</span>&nbsp;<span class="ident" id="6686692">tt</span><span class="op" id="6686694">.</span><span class="ident" id="6686695">bits</span><span class="op" id="6686699">,</span>&nbsp;<span class="ident" id="6686701">out</span><span class="op" id="6686704">,</span>&nbsp;<span class="ident" id="6686706">tt</span><span class="op" id="6686708">.</span><span class="ident" id="6686709">out</span><span class="op" id="6686712">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686719">}</span><br>
<span class="lineno"></span><span class="op" id="6686721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6686724">var</span>&nbsp;<span class="op" id="6686728">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686731">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686746">=</span>&nbsp;<span class="ident" id="6686748">IP</span><span class="op" id="6686750">{</span><span class="num" id="6686751">192</span><span class="op" id="6686754">,</span>&nbsp;<span class="num" id="6686756">168</span><span class="op" id="6686759">,</span>&nbsp;<span class="num" id="6686761">0</span><span class="op" id="6686762">,</span>&nbsp;<span class="num" id="6686764">1</span><span class="op" id="6686765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686768">v4mappedv6addr</span>&nbsp;<span class="op" id="6686783">=</span>&nbsp;<span class="ident" id="6686785">IP</span><span class="op" id="6686787">{</span><span class="num" id="6686788">0</span><span class="op" id="6686789">,</span>&nbsp;<span class="num" id="6686791">0</span><span class="op" id="6686792">,</span>&nbsp;<span class="num" id="6686794">0</span><span class="op" id="6686795">,</span>&nbsp;<span class="num" id="6686797">0</span><span class="op" id="6686798">,</span>&nbsp;<span class="num" id="6686800">0</span><span class="op" id="6686801">,</span>&nbsp;<span class="num" id="6686803">0</span><span class="op" id="6686804">,</span>&nbsp;<span class="num" id="6686806">0</span><span class="op" id="6686807">,</span>&nbsp;<span class="num" id="6686809">0</span><span class="op" id="6686810">,</span>&nbsp;<span class="num" id="6686812">0</span><span class="op" id="6686813">,</span>&nbsp;<span class="num" id="6686815">0</span><span class="op" id="6686816">,</span>&nbsp;<span class="num" id="6686818">0xff</span><span class="op" id="6686822">,</span>&nbsp;<span class="num" id="6686824">0xff</span><span class="op" id="6686828">,</span>&nbsp;<span class="num" id="6686830">192</span><span class="op" id="6686833">,</span>&nbsp;<span class="num" id="6686835">168</span><span class="op" id="6686838">,</span>&nbsp;<span class="num" id="6686840">0</span><span class="op" id="6686841">,</span>&nbsp;<span class="num" id="6686843">1</span><span class="op" id="6686844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686847">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686862">=</span>&nbsp;<span class="ident" id="6686864">IP</span><span class="op" id="6686866">{</span><span class="num" id="6686867">0x20</span><span class="op" id="6686871">,</span>&nbsp;<span class="num" id="6686873">0x1</span><span class="op" id="6686876">,</span>&nbsp;<span class="num" id="6686878">0xd</span><span class="op" id="6686881">,</span>&nbsp;<span class="num" id="6686883">0xb8</span><span class="op" id="6686887">,</span>&nbsp;<span class="num" id="6686889">0</span><span class="op" id="6686890">,</span>&nbsp;<span class="num" id="6686892">0</span><span class="op" id="6686893">,</span>&nbsp;<span class="num" id="6686895">0</span><span class="op" id="6686896">,</span>&nbsp;<span class="num" id="6686898">0</span><span class="op" id="6686899">,</span>&nbsp;<span class="num" id="6686901">0</span><span class="op" id="6686902">,</span>&nbsp;<span class="num" id="6686904">0</span><span class="op" id="6686905">,</span>&nbsp;<span class="num" id="6686907">0x1</span><span class="op" id="6686910">,</span>&nbsp;<span class="num" id="6686912">0x23</span><span class="op" id="6686916">,</span>&nbsp;<span class="num" id="6686918">0</span><span class="op" id="6686919">,</span>&nbsp;<span class="num" id="6686921">0x12</span><span class="op" id="6686925">,</span>&nbsp;<span class="num" id="6686927">0</span><span class="op" id="6686928">,</span>&nbsp;<span class="num" id="6686930">0x1</span><span class="op" id="6686933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686936">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686951">=</span>&nbsp;<span class="ident" id="6686953">IPMask</span><span class="op" id="6686959">{</span><span class="num" id="6686960">255</span><span class="op" id="6686963">,</span>&nbsp;<span class="num" id="6686965">255</span><span class="op" id="6686968">,</span>&nbsp;<span class="num" id="6686970">255</span><span class="op" id="6686973">,</span>&nbsp;<span class="num" id="6686975">0</span><span class="op" id="6686976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686979">v4mappedv6mask</span>&nbsp;<span class="op" id="6686994">=</span>&nbsp;<span class="ident" id="6686996">IPMask</span><span class="op" id="6687002">{</span><span class="num" id="6687003">0xff</span><span class="op" id="6687007">,</span>&nbsp;<span class="num" id="6687009">0xff</span><span class="op" id="6687013">,</span>&nbsp;<span class="num" id="6687015">0xff</span><span class="op" id="6687019">,</span>&nbsp;<span class="num" id="6687021">0xff</span><span class="op" id="6687025">,</span>&nbsp;<span class="num" id="6687027">0xff</span><span class="op" id="6687031">,</span>&nbsp;<span class="num" id="6687033">0xff</span><span class="op" id="6687037">,</span>&nbsp;<span class="num" id="6687039">0xff</span><span class="op" id="6687043">,</span>&nbsp;<span class="num" id="6687045">0xff</span><span class="op" id="6687049">,</span>&nbsp;<span class="num" id="6687051">0xff</span><span class="op" id="6687055">,</span>&nbsp;<span class="num" id="6687057">0xff</span><span class="op" id="6687061">,</span>&nbsp;<span class="num" id="6687063">0xff</span><span class="op" id="6687067">,</span>&nbsp;<span class="num" id="6687069">0xff</span><span class="op" id="6687073">,</span>&nbsp;<span class="num" id="6687075">255</span><span class="op" id="6687078">,</span>&nbsp;<span class="num" id="6687080">255</span><span class="op" id="6687083">,</span>&nbsp;<span class="num" id="6687085">255</span><span class="op" id="6687088">,</span>&nbsp;<span class="num" id="6687090">0</span><span class="op" id="6687091">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687094">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687109">=</span>&nbsp;<span class="ident" id="6687111">IPMask</span><span class="op" id="6687117">{</span><span class="num" id="6687118">0xff</span><span class="op" id="6687122">,</span>&nbsp;<span class="num" id="6687124">0xff</span><span class="op" id="6687128">,</span>&nbsp;<span class="num" id="6687130">0xff</span><span class="op" id="6687134">,</span>&nbsp;<span class="num" id="6687136">0xff</span><span class="op" id="6687140">,</span>&nbsp;<span class="num" id="6687142">0xff</span><span class="op" id="6687146">,</span>&nbsp;<span class="num" id="6687148">0xff</span><span class="op" id="6687152">,</span>&nbsp;<span class="num" id="6687154">0xff</span><span class="op" id="6687158">,</span>&nbsp;<span class="num" id="6687160">0xff</span><span class="op" id="6687164">,</span>&nbsp;<span class="num" id="6687166">0</span><span class="op" id="6687167">,</span>&nbsp;<span class="num" id="6687169">0</span><span class="op" id="6687170">,</span>&nbsp;<span class="num" id="6687172">0</span><span class="op" id="6687173">,</span>&nbsp;<span class="num" id="6687175">0</span><span class="op" id="6687176">,</span>&nbsp;<span class="num" id="6687178">0</span><span class="op" id="6687179">,</span>&nbsp;<span class="num" id="6687181">0</span><span class="op" id="6687182">,</span>&nbsp;<span class="num" id="6687184">0</span><span class="op" id="6687185">,</span>&nbsp;<span class="num" id="6687187">0</span><span class="op" id="6687188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687191">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687206">=</span>&nbsp;<span class="ident" id="6687208">IP</span><span class="op" id="6687210">{</span><span class="num" id="6687211">192</span><span class="op" id="6687214">,</span>&nbsp;<span class="num" id="6687216">168</span><span class="op" id="6687219">,</span>&nbsp;<span class="num" id="6687221">0</span><span class="op" id="6687222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687225">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687240">=</span>&nbsp;<span class="ident" id="6687242">IPMask</span><span class="op" id="6687248">{</span><span class="num" id="6687249">255</span><span class="op" id="6687252">,</span>&nbsp;<span class="num" id="6687254">255</span><span class="op" id="6687257">,</span>&nbsp;<span class="num" id="6687259">0</span><span class="op" id="6687260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687263">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687278">=</span>&nbsp;<span class="ident" id="6687280">IPMask</span><span class="op" id="6687286">{</span><span class="num" id="6687287">0</span><span class="op" id="6687288">,</span>&nbsp;<span class="num" id="6687290">0</span><span class="op" id="6687291">,</span>&nbsp;<span class="num" id="6687293">0</span><span class="op" id="6687294">,</span>&nbsp;<span class="num" id="6687296">0</span><span class="op" id="6687297">}</span><br>
<span class="lineno"></span><span class="op" id="6687299">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6687302">var</span>&nbsp;<span class="ident" id="6687306">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6687332">=</span>&nbsp;<span class="op" id="6687334">[</span><span class="op" id="6687335">]</span><span class="keyword" id="6687336">struct</span>&nbsp;<span class="op" id="6687343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687346">in</span>&nbsp;&nbsp;<span class="ident" id="6687350">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687357">out</span>&nbsp;<span class="ident" id="6687361">IPNet</span><br>
<span class="lineno"></span><span class="op" id="6687367">}</span><span class="op" id="6687368">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687371">{</span><span class="ident" id="6687372">IPNet</span><span class="op" id="6687377">{</span><span class="ident" id="6687378">IP</span><span class="op" id="6687380">:</span>&nbsp;<span class="ident" id="6687382">v4addr</span><span class="op" id="6687388">,</span>&nbsp;<span class="ident" id="6687390">Mask</span><span class="op" id="6687394">:</span>&nbsp;<span class="ident" id="6687396">v4mask</span><span class="op" id="6687402">}</span><span class="op" id="6687403">,</span>&nbsp;<span class="ident" id="6687405">IPNet</span><span class="op" id="6687410">{</span><span class="ident" id="6687411">IP</span><span class="op" id="6687413">:</span>&nbsp;<span class="ident" id="6687415">v4addr</span><span class="op" id="6687421">,</span>&nbsp;<span class="ident" id="6687423">Mask</span><span class="op" id="6687427">:</span>&nbsp;<span class="ident" id="6687429">v4mask</span><span class="op" id="6687435">}</span><span class="op" id="6687436">}</span><span class="op" id="6687437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687440">{</span><span class="ident" id="6687441">IPNet</span><span class="op" id="6687446">{</span><span class="ident" id="6687447">IP</span><span class="op" id="6687449">:</span>&nbsp;<span class="ident" id="6687451">v4addr</span><span class="op" id="6687457">,</span>&nbsp;<span class="ident" id="6687459">Mask</span><span class="op" id="6687463">:</span>&nbsp;<span class="ident" id="6687465">v4mappedv6mask</span><span class="op" id="6687479">}</span><span class="op" id="6687480">,</span>&nbsp;<span class="ident" id="6687482">IPNet</span><span class="op" id="6687487">{</span><span class="ident" id="6687488">IP</span><span class="op" id="6687490">:</span>&nbsp;<span class="ident" id="6687492">v4addr</span><span class="op" id="6687498">,</span>&nbsp;<span class="ident" id="6687500">Mask</span><span class="op" id="6687504">:</span>&nbsp;<span class="ident" id="6687506">v4mask</span><span class="op" id="6687512">}</span><span class="op" id="6687513">}</span><span class="op" id="6687514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687517">{</span><span class="ident" id="6687518">IPNet</span><span class="op" id="6687523">{</span><span class="ident" id="6687524">IP</span><span class="op" id="6687526">:</span>&nbsp;<span class="ident" id="6687528">v4mappedv6addr</span><span class="op" id="6687542">,</span>&nbsp;<span class="ident" id="6687544">Mask</span><span class="op" id="6687548">:</span>&nbsp;<span class="ident" id="6687550">v4mappedv6mask</span><span class="op" id="6687564">}</span><span class="op" id="6687565">,</span>&nbsp;<span class="ident" id="6687567">IPNet</span><span class="op" id="6687572">{</span><span class="ident" id="6687573">IP</span><span class="op" id="6687575">:</span>&nbsp;<span class="ident" id="6687577">v4addr</span><span class="op" id="6687583">,</span>&nbsp;<span class="ident" id="6687585">Mask</span><span class="op" id="6687589">:</span>&nbsp;<span class="ident" id="6687591">v4mask</span><span class="op" id="6687597">}</span><span class="op" id="6687598">}</span><span class="op" id="6687599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687602">{</span><span class="ident" id="6687603">IPNet</span><span class="op" id="6687608">{</span><span class="ident" id="6687609">IP</span><span class="op" id="6687611">:</span>&nbsp;<span class="ident" id="6687613">v4mappedv6addr</span><span class="op" id="6687627">,</span>&nbsp;<span class="ident" id="6687629">Mask</span><span class="op" id="6687633">:</span>&nbsp;<span class="ident" id="6687635">v6mask</span><span class="op" id="6687641">}</span><span class="op" id="6687642">,</span>&nbsp;<span class="ident" id="6687644">IPNet</span><span class="op" id="6687649">{</span><span class="ident" id="6687650">IP</span><span class="op" id="6687652">:</span>&nbsp;<span class="ident" id="6687654">v4addr</span><span class="op" id="6687660">,</span>&nbsp;<span class="ident" id="6687662">Mask</span><span class="op" id="6687666">:</span>&nbsp;<span class="ident" id="6687668">v4maskzero</span><span class="op" id="6687678">}</span><span class="op" id="6687679">}</span><span class="op" id="6687680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687683">{</span><span class="ident" id="6687684">IPNet</span><span class="op" id="6687689">{</span><span class="ident" id="6687690">IP</span><span class="op" id="6687692">:</span>&nbsp;<span class="ident" id="6687694">v4addr</span><span class="op" id="6687700">,</span>&nbsp;<span class="ident" id="6687702">Mask</span><span class="op" id="6687706">:</span>&nbsp;<span class="ident" id="6687708">v6mask</span><span class="op" id="6687714">}</span><span class="op" id="6687715">,</span>&nbsp;<span class="ident" id="6687717">IPNet</span><span class="op" id="6687722">{</span><span class="ident" id="6687723">IP</span><span class="op" id="6687725">:</span>&nbsp;<span class="ident" id="6687727">v4addr</span><span class="op" id="6687733">,</span>&nbsp;<span class="ident" id="6687735">Mask</span><span class="op" id="6687739">:</span>&nbsp;<span class="ident" id="6687741">v4maskzero</span><span class="op" id="6687751">}</span><span class="op" id="6687752">}</span><span class="op" id="6687753">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687756">{</span><span class="ident" id="6687757">IPNet</span><span class="op" id="6687762">{</span><span class="ident" id="6687763">IP</span><span class="op" id="6687765">:</span>&nbsp;<span class="ident" id="6687767">v6addr</span><span class="op" id="6687773">,</span>&nbsp;<span class="ident" id="6687775">Mask</span><span class="op" id="6687779">:</span>&nbsp;<span class="ident" id="6687781">v6mask</span><span class="op" id="6687787">}</span><span class="op" id="6687788">,</span>&nbsp;<span class="ident" id="6687790">IPNet</span><span class="op" id="6687795">{</span><span class="ident" id="6687796">IP</span><span class="op" id="6687798">:</span>&nbsp;<span class="ident" id="6687800">v6addr</span><span class="op" id="6687806">,</span>&nbsp;<span class="ident" id="6687808">Mask</span><span class="op" id="6687812">:</span>&nbsp;<span class="ident" id="6687814">v6mask</span><span class="op" id="6687820">}</span><span class="op" id="6687821">}</span><span class="op" id="6687822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687825">{</span><span class="ident" id="6687826">IPNet</span><span class="op" id="6687831">{</span><span class="ident" id="6687832">IP</span><span class="op" id="6687834">:</span>&nbsp;<span class="ident" id="6687836">v6addr</span><span class="op" id="6687842">,</span>&nbsp;<span class="ident" id="6687844">Mask</span><span class="op" id="6687848">:</span>&nbsp;<span class="ident" id="6687850">v4mappedv6mask</span><span class="op" id="6687864">}</span><span class="op" id="6687865">,</span>&nbsp;<span class="ident" id="6687867">IPNet</span><span class="op" id="6687872">{</span><span class="ident" id="6687873">IP</span><span class="op" id="6687875">:</span>&nbsp;<span class="ident" id="6687877">v6addr</span><span class="op" id="6687883">,</span>&nbsp;<span class="ident" id="6687885">Mask</span><span class="op" id="6687889">:</span>&nbsp;<span class="ident" id="6687891">v4mappedv6mask</span><span class="op" id="6687905">}</span><span class="op" id="6687906">}</span><span class="op" id="6687907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687910">{</span><span class="ident" id="6687911">in</span><span class="op" id="6687913">:</span>&nbsp;<span class="ident" id="6687915">IPNet</span><span class="op" id="6687920">{</span><span class="ident" id="6687921">IP</span><span class="op" id="6687923">:</span>&nbsp;<span class="ident" id="6687925">v6addr</span><span class="op" id="6687931">,</span>&nbsp;<span class="ident" id="6687933">Mask</span><span class="op" id="6687937">:</span>&nbsp;<span class="ident" id="6687939">v4mask</span><span class="op" id="6687945">}</span><span class="op" id="6687946">}</span><span class="op" id="6687947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687950">{</span><span class="ident" id="6687951">in</span><span class="op" id="6687953">:</span>&nbsp;<span class="ident" id="6687955">IPNet</span><span class="op" id="6687960">{</span><span class="ident" id="6687961">IP</span><span class="op" id="6687963">:</span>&nbsp;<span class="ident" id="6687965">v4addr</span><span class="op" id="6687971">,</span>&nbsp;<span class="ident" id="6687973">Mask</span><span class="op" id="6687977">:</span>&nbsp;<span class="ident" id="6687979">badmask</span><span class="op" id="6687986">}</span><span class="op" id="6687987">}</span><span class="op" id="6687988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687991">{</span><span class="ident" id="6687992">in</span><span class="op" id="6687994">:</span>&nbsp;<span class="ident" id="6687996">IPNet</span><span class="op" id="6688001">{</span><span class="ident" id="6688002">IP</span><span class="op" id="6688004">:</span>&nbsp;<span class="ident" id="6688006">v4mappedv6addr</span><span class="op" id="6688020">,</span>&nbsp;<span class="ident" id="6688022">Mask</span><span class="op" id="6688026">:</span>&nbsp;<span class="ident" id="6688028">badmask</span><span class="op" id="6688035">}</span><span class="op" id="6688036">}</span><span class="op" id="6688037">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688040">{</span><span class="ident" id="6688041">in</span><span class="op" id="6688043">:</span>&nbsp;<span class="ident" id="6688045">IPNet</span><span class="op" id="6688050">{</span><span class="ident" id="6688051">IP</span><span class="op" id="6688053">:</span>&nbsp;<span class="ident" id="6688055">v6addr</span><span class="op" id="6688061">,</span>&nbsp;<span class="ident" id="6688063">Mask</span><span class="op" id="6688067">:</span>&nbsp;<span class="ident" id="6688069">badmask</span><span class="op" id="6688076">}</span><span class="op" id="6688077">}</span><span class="op" id="6688078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688081">{</span><span class="ident" id="6688082">in</span><span class="op" id="6688084">:</span>&nbsp;<span class="ident" id="6688086">IPNet</span><span class="op" id="6688091">{</span><span class="ident" id="6688092">IP</span><span class="op" id="6688094">:</span>&nbsp;<span class="ident" id="6688096">badaddr</span><span class="op" id="6688103">,</span>&nbsp;<span class="ident" id="6688105">Mask</span><span class="op" id="6688109">:</span>&nbsp;<span class="ident" id="6688111">v4mask</span><span class="op" id="6688117">}</span><span class="op" id="6688118">}</span><span class="op" id="6688119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688122">{</span><span class="ident" id="6688123">in</span><span class="op" id="6688125">:</span>&nbsp;<span class="ident" id="6688127">IPNet</span><span class="op" id="6688132">{</span><span class="ident" id="6688133">IP</span><span class="op" id="6688135">:</span>&nbsp;<span class="ident" id="6688137">badaddr</span><span class="op" id="6688144">,</span>&nbsp;<span class="ident" id="6688146">Mask</span><span class="op" id="6688150">:</span>&nbsp;<span class="ident" id="6688152">v4mappedv6mask</span><span class="op" id="6688166">}</span><span class="op" id="6688167">}</span><span class="op" id="6688168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688171">{</span><span class="ident" id="6688172">in</span><span class="op" id="6688174">:</span>&nbsp;<span class="ident" id="6688176">IPNet</span><span class="op" id="6688181">{</span><span class="ident" id="6688182">IP</span><span class="op" id="6688184">:</span>&nbsp;<span class="ident" id="6688186">badaddr</span><span class="op" id="6688193">,</span>&nbsp;<span class="ident" id="6688195">Mask</span><span class="op" id="6688199">:</span>&nbsp;<span class="ident" id="6688201">v6mask</span><span class="op" id="6688207">}</span><span class="op" id="6688208">}</span><span class="op" id="6688209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688212">{</span><span class="ident" id="6688213">in</span><span class="op" id="6688215">:</span>&nbsp;<span class="ident" id="6688217">IPNet</span><span class="op" id="6688222">{</span><span class="ident" id="6688223">IP</span><span class="op" id="6688225">:</span>&nbsp;<span class="ident" id="6688227">badaddr</span><span class="op" id="6688234">,</span>&nbsp;<span class="ident" id="6688236">Mask</span><span class="op" id="6688240">:</span>&nbsp;<span class="ident" id="6688242">badmask</span><span class="op" id="6688249">}</span><span class="op" id="6688250">}</span><span class="op" id="6688251">,</span><br>
<span class="lineno">300</span><span class="op" id="6688253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6688256">func</span>&nbsp;<span class="ident" id="6688261">TestNetworkNumberAndMask</span><span class="op" id="6688285">(</span><span class="ident" id="6688286">t</span>&nbsp;<span class="op" id="6688288">*</span><span class="ident" id="6688289">testing</span><span class="op" id="6688296">.</span><span class="ident" id="6688297">T</span><span class="op" id="6688298">)</span>&nbsp;<span class="op" id="6688300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688303">for</span>&nbsp;<span class="ident" id="6688307">_</span><span class="op" id="6688308">,</span>&nbsp;<span class="ident" id="6688310">tt</span>&nbsp;<span class="op" id="6688313">:=</span>&nbsp;<span class="keyword" id="6688316">range</span>&nbsp;<span class="ident" id="6688322">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="6688348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688352">ip</span><span class="op" id="6688354">,</span>&nbsp;<span class="ident" id="6688356">m</span>&nbsp;<span class="op" id="6688358">:=</span>&nbsp;<span class="ident" id="6688361">networkNumberAndMask</span><span class="op" id="6688381">(</span><span class="op" id="6688382">&amp;</span><span class="ident" id="6688383">tt</span><span class="op" id="6688385">.</span><span class="ident" id="6688386">in</span><span class="op" id="6688388">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688392">out</span>&nbsp;<span class="op" id="6688396">:=</span>&nbsp;<span class="op" id="6688399">&amp;</span><span class="ident" id="6688400">IPNet</span><span class="op" id="6688405">{</span><span class="ident" id="6688406">IP</span><span class="op" id="6688408">:</span>&nbsp;<span class="ident" id="6688410">ip</span><span class="op" id="6688412">,</span>&nbsp;<span class="ident" id="6688414">Mask</span><span class="op" id="6688418">:</span>&nbsp;<span class="ident" id="6688420">m</span><span class="op" id="6688421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688425">if</span>&nbsp;<span class="op" id="6688428">!</span><span class="ident" id="6688429">reflect</span><span class="op" id="6688436">.</span><span class="ident" id="6688437">DeepEqual</span><span class="op" id="6688446">(</span><span class="op" id="6688447">&amp;</span><span class="ident" id="6688448">tt</span><span class="op" id="6688450">.</span><span class="ident" id="6688451">out</span><span class="op" id="6688454">,</span>&nbsp;<span class="ident" id="6688456">out</span><span class="op" id="6688459">)</span>&nbsp;<span class="op" id="6688461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688466">t</span><span class="op" id="6688467">.</span><span class="ident" id="6688468">Errorf</span><span class="op" id="6688474">(</span><span class="string" id="6688475">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6688515">,</span>&nbsp;<span class="ident" id="6688517">tt</span><span class="op" id="6688519">.</span><span class="ident" id="6688520">in</span><span class="op" id="6688522">,</span>&nbsp;<span class="ident" id="6688524">out</span><span class="op" id="6688527">,</span>&nbsp;<span class="op" id="6688529">&amp;</span><span class="ident" id="6688530">tt</span><span class="op" id="6688532">.</span><span class="ident" id="6688533">out</span><span class="op" id="6688536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688543">}</span><br>
<span class="lineno">310</span><span class="op" id="6688545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6688548">var</span>&nbsp;<span class="ident" id="6688552">splitJoinTests</span>&nbsp;<span class="op" id="6688567">=</span>&nbsp;<span class="op" id="6688569">[</span><span class="op" id="6688570">]</span><span class="keyword" id="6688571">struct</span>&nbsp;<span class="op" id="6688578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688581">host</span>&nbsp;<span class="builtintype" id="6688586">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688594">port</span>&nbsp;<span class="builtintype" id="6688599">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688607">join</span>&nbsp;<span class="builtintype" id="6688612">string</span><br>
<span class="lineno"></span><span class="op" id="6688619">}</span><span class="op" id="6688620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688623">{</span><span class="string" id="6688624">&#34;www.google.com&#34;</span><span class="op" id="6688640">,</span>&nbsp;<span class="string" id="6688642">&#34;80&#34;</span><span class="op" id="6688646">,</span>&nbsp;<span class="string" id="6688648">&#34;www.google.com:80&#34;</span><span class="op" id="6688667">}</span><span class="op" id="6688668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688671">{</span><span class="string" id="6688672">&#34;127.0.0.1&#34;</span><span class="op" id="6688683">,</span>&nbsp;<span class="string" id="6688685">&#34;1234&#34;</span><span class="op" id="6688691">,</span>&nbsp;<span class="string" id="6688693">&#34;127.0.0.1:1234&#34;</span><span class="op" id="6688709">}</span><span class="op" id="6688710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688713">{</span><span class="string" id="6688714">&#34;::1&#34;</span><span class="op" id="6688719">,</span>&nbsp;<span class="string" id="6688721">&#34;80&#34;</span><span class="op" id="6688725">,</span>&nbsp;<span class="string" id="6688727">&#34;[::1]:80&#34;</span><span class="op" id="6688737">}</span><span class="op" id="6688738">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688741">{</span><span class="string" id="6688742">&#34;fe80::1%lo0&#34;</span><span class="op" id="6688755">,</span>&nbsp;<span class="string" id="6688757">&#34;80&#34;</span><span class="op" id="6688761">,</span>&nbsp;<span class="string" id="6688763">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="6688781">}</span><span class="op" id="6688782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688785">{</span><span class="string" id="6688786">&#34;localhost%lo0&#34;</span><span class="op" id="6688801">,</span>&nbsp;<span class="string" id="6688803">&#34;80&#34;</span><span class="op" id="6688807">,</span>&nbsp;<span class="string" id="6688809">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="6688829">}</span><span class="op" id="6688830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688833">{</span><span class="string" id="6688834">&#34;&#34;</span><span class="op" id="6688836">,</span>&nbsp;<span class="string" id="6688838">&#34;0&#34;</span><span class="op" id="6688841">,</span>&nbsp;<span class="string" id="6688843">&#34;:0&#34;</span><span class="op" id="6688847">}</span><span class="op" id="6688848">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688852">{</span><span class="string" id="6688853">&#34;google.com&#34;</span><span class="op" id="6688865">,</span>&nbsp;<span class="string" id="6688867">&#34;https%foo&#34;</span><span class="op" id="6688878">,</span>&nbsp;<span class="string" id="6688880">&#34;google.com:https%foo&#34;</span><span class="op" id="6688902">}</span><span class="op" id="6688903">,</span>&nbsp;<span class="comment" id="6688905">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688925">{</span><span class="string" id="6688926">&#34;127.0.0.1&#34;</span><span class="op" id="6688937">,</span>&nbsp;<span class="string" id="6688939">&#34;&#34;</span><span class="op" id="6688941">,</span>&nbsp;<span class="string" id="6688943">&#34;127.0.0.1:&#34;</span><span class="op" id="6688955">}</span><span class="op" id="6688956">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6688978">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688999">{</span><span class="string" id="6689000">&#34;www.google.com&#34;</span><span class="op" id="6689016">,</span>&nbsp;<span class="string" id="6689018">&#34;&#34;</span><span class="op" id="6689020">,</span>&nbsp;<span class="string" id="6689022">&#34;www.google.com:&#34;</span><span class="op" id="6689039">}</span><span class="op" id="6689040">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6689052">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="6689072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6689075">var</span>&nbsp;<span class="ident" id="6689079">splitFailureTests</span>&nbsp;<span class="op" id="6689097">=</span>&nbsp;<span class="op" id="6689099">[</span><span class="op" id="6689100">]</span><span class="keyword" id="6689101">struct</span>&nbsp;<span class="op" id="6689108">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689111">hostPort</span>&nbsp;<span class="builtintype" id="6689120">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689128">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6689137">string</span><br>
<span class="lineno"></span><span class="op" id="6689144">}</span><span class="op" id="6689145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689148">{</span><span class="string" id="6689149">&#34;www.google.com&#34;</span><span class="op" id="6689165">,</span>&nbsp;<span class="string" id="6689167">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689192">}</span><span class="op" id="6689193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689196">{</span><span class="string" id="6689197">&#34;127.0.0.1&#34;</span><span class="op" id="6689208">,</span>&nbsp;<span class="string" id="6689210">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689235">}</span><span class="op" id="6689236">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689239">{</span><span class="string" id="6689240">&#34;[::1]&#34;</span><span class="op" id="6689247">,</span>&nbsp;<span class="string" id="6689249">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689274">}</span><span class="op" id="6689275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689278">{</span><span class="string" id="6689279">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="6689294">,</span>&nbsp;<span class="string" id="6689296">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689321">}</span><span class="op" id="6689322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689325">{</span><span class="string" id="6689326">&#34;[localhost%lo0]&#34;</span><span class="op" id="6689343">,</span>&nbsp;<span class="string" id="6689345">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689370">}</span><span class="op" id="6689371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689374">{</span><span class="string" id="6689375">&#34;localhost%lo0&#34;</span><span class="op" id="6689390">,</span>&nbsp;<span class="string" id="6689392">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689417">}</span><span class="op" id="6689418">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689422">{</span><span class="string" id="6689423">&#34;::1&#34;</span><span class="op" id="6689428">,</span>&nbsp;<span class="string" id="6689430">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689458">}</span><span class="op" id="6689459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689462">{</span><span class="string" id="6689463">&#34;fe80::1%lo0&#34;</span><span class="op" id="6689476">,</span>&nbsp;<span class="string" id="6689478">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689506">}</span><span class="op" id="6689507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689510">{</span><span class="string" id="6689511">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="6689527">,</span>&nbsp;<span class="string" id="6689529">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689557">}</span><span class="op" id="6689558">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689562">{</span><span class="string" id="6689563">&#34;localhost%lo0:80&#34;</span><span class="op" id="6689581">,</span>&nbsp;<span class="string" id="6689583">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689612">}</span><span class="op" id="6689613">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6689617">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689660">{</span><span class="string" id="6689661">&#34;[foo:bar]&#34;</span><span class="op" id="6689672">,</span>&nbsp;<span class="string" id="6689674">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689699">}</span><span class="op" id="6689700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689703">{</span><span class="string" id="6689704">&#34;[foo:bar]baz&#34;</span><span class="op" id="6689718">,</span>&nbsp;<span class="string" id="6689720">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689745">}</span><span class="op" id="6689746">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689749">{</span><span class="string" id="6689750">&#34;[foo]bar:baz&#34;</span><span class="op" id="6689764">,</span>&nbsp;<span class="string" id="6689766">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689791">}</span><span class="op" id="6689792">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689796">{</span><span class="string" id="6689797">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="6689814">,</span>&nbsp;<span class="string" id="6689816">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689844">}</span><span class="op" id="6689845">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689849">{</span><span class="string" id="6689850">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="6689866">,</span>&nbsp;<span class="string" id="6689868">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689895">}</span><span class="op" id="6689896">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689899">{</span><span class="string" id="6689900">&#34;foo[bar]:baz&#34;</span><span class="op" id="6689914">,</span>&nbsp;<span class="string" id="6689916">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689943">}</span><span class="op" id="6689944">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689948">{</span><span class="string" id="6689949">&#34;foo]bar:baz&#34;</span><span class="op" id="6689962">,</span>&nbsp;<span class="string" id="6689964">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="6689991">}</span><span class="op" id="6689992">,</span><br>
<span class="lineno"></span><span class="op" id="6689994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6689997">func</span>&nbsp;<span class="ident" id="6690002">TestSplitHostPort</span><span class="op" id="6690019">(</span><span class="ident" id="6690020">t</span>&nbsp;<span class="op" id="6690022">*</span><span class="ident" id="6690023">testing</span><span class="op" id="6690030">.</span><span class="ident" id="6690031">T</span><span class="op" id="6690032">)</span>&nbsp;<span class="op" id="6690034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690037">for</span>&nbsp;<span class="ident" id="6690041">_</span><span class="op" id="6690042">,</span>&nbsp;<span class="ident" id="6690044">tt</span>&nbsp;<span class="op" id="6690047">:=</span>&nbsp;<span class="keyword" id="6690050">range</span>&nbsp;<span class="ident" id="6690056">splitJoinTests</span>&nbsp;<span class="op" id="6690071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690075">if</span>&nbsp;<span class="ident" id="6690078">host</span><span class="op" id="6690082">,</span>&nbsp;<span class="ident" id="6690084">port</span><span class="op" id="6690088">,</span>&nbsp;<span class="ident" id="6690090">err</span>&nbsp;<span class="op" id="6690094">:=</span>&nbsp;<span class="ident" id="6690097">SplitHostPort</span><span class="op" id="6690110">(</span><span class="ident" id="6690111">tt</span><span class="op" id="6690113">.</span><span class="ident" id="6690114">join</span><span class="op" id="6690118">)</span><span class="op" id="6690119">;</span>&nbsp;<span class="ident" id="6690121">host</span>&nbsp;<span class="op" id="6690126">!=</span>&nbsp;<span class="ident" id="6690129">tt</span><span class="op" id="6690131">.</span><span class="ident" id="6690132">host</span>&nbsp;<span class="op" id="6690137">||</span>&nbsp;<span class="ident" id="6690140">port</span>&nbsp;<span class="op" id="6690145">!=</span>&nbsp;<span class="ident" id="6690148">tt</span><span class="op" id="6690150">.</span><span class="ident" id="6690151">port</span>&nbsp;<span class="op" id="6690156">||</span>&nbsp;<span class="ident" id="6690159">err</span>&nbsp;<span class="op" id="6690163">!=</span>&nbsp;<span class="builtintype" id="6690166">nil</span>&nbsp;<span class="op" id="6690170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690175">t</span><span class="op" id="6690176">.</span><span class="ident" id="6690177">Errorf</span><span class="op" id="6690183">(</span><span class="string" id="6690184">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="6690234">,</span>&nbsp;<span class="ident" id="6690236">tt</span><span class="op" id="6690238">.</span><span class="ident" id="6690239">join</span><span class="op" id="6690243">,</span>&nbsp;<span class="ident" id="6690245">host</span><span class="op" id="6690249">,</span>&nbsp;<span class="ident" id="6690251">port</span><span class="op" id="6690255">,</span>&nbsp;<span class="ident" id="6690257">err</span><span class="op" id="6690260">,</span>&nbsp;<span class="ident" id="6690262">tt</span><span class="op" id="6690264">.</span><span class="ident" id="6690265">host</span><span class="op" id="6690269">,</span>&nbsp;<span class="ident" id="6690271">tt</span><span class="op" id="6690273">.</span><span class="ident" id="6690274">port</span><span class="op" id="6690278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690282">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690288">for</span>&nbsp;<span class="ident" id="6690292">_</span><span class="op" id="6690293">,</span>&nbsp;<span class="ident" id="6690295">tt</span>&nbsp;<span class="op" id="6690298">:=</span>&nbsp;<span class="keyword" id="6690301">range</span>&nbsp;<span class="ident" id="6690307">splitFailureTests</span>&nbsp;<span class="op" id="6690325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690329">if</span>&nbsp;<span class="ident" id="6690332">_</span><span class="op" id="6690333">,</span>&nbsp;<span class="ident" id="6690335">_</span><span class="op" id="6690336">,</span>&nbsp;<span class="ident" id="6690338">err</span>&nbsp;<span class="op" id="6690342">:=</span>&nbsp;<span class="ident" id="6690345">SplitHostPort</span><span class="op" id="6690358">(</span><span class="ident" id="6690359">tt</span><span class="op" id="6690361">.</span><span class="ident" id="6690362">hostPort</span><span class="op" id="6690370">)</span><span class="op" id="6690371">;</span>&nbsp;<span class="ident" id="6690373">err</span>&nbsp;<span class="op" id="6690377">==</span>&nbsp;<span class="builtintype" id="6690380">nil</span>&nbsp;<span class="op" id="6690384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690389">t</span><span class="op" id="6690390">.</span><span class="ident" id="6690391">Errorf</span><span class="op" id="6690397">(</span><span class="string" id="6690398">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="6690436">,</span>&nbsp;<span class="ident" id="6690438">tt</span><span class="op" id="6690440">.</span><span class="ident" id="6690441">hostPort</span><span class="op" id="6690449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690453">}</span>&nbsp;<span class="keyword" id="6690455">else</span>&nbsp;<span class="op" id="6690460">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690465">e</span>&nbsp;<span class="op" id="6690467">:=</span>&nbsp;<span class="ident" id="6690470">err</span><span class="op" id="6690473">.</span><span class="op" id="6690474">(</span><span class="op" id="6690475">*</span><span class="ident" id="6690476">AddrError</span><span class="op" id="6690485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690490">if</span>&nbsp;<span class="ident" id="6690493">e</span><span class="op" id="6690494">.</span><span class="ident" id="6690495">Err</span>&nbsp;<span class="op" id="6690499">!=</span>&nbsp;<span class="ident" id="6690502">tt</span><span class="op" id="6690504">.</span><span class="ident" id="6690505">err</span>&nbsp;<span class="op" id="6690509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690515">t</span><span class="op" id="6690516">.</span><span class="ident" id="6690517">Errorf</span><span class="op" id="6690523">(</span><span class="string" id="6690524">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6690563">,</span>&nbsp;<span class="ident" id="6690565">tt</span><span class="op" id="6690567">.</span><span class="ident" id="6690568">hostPort</span><span class="op" id="6690576">,</span>&nbsp;<span class="ident" id="6690578">e</span><span class="op" id="6690579">.</span><span class="ident" id="6690580">Err</span><span class="op" id="6690583">,</span>&nbsp;<span class="ident" id="6690585">tt</span><span class="op" id="6690587">.</span><span class="ident" id="6690588">err</span><span class="op" id="6690591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690600">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690603">}</span><br>
<span class="lineno"></span><span class="op" id="6690605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6690608">func</span>&nbsp;<span class="ident" id="6690613">TestJoinHostPort</span><span class="op" id="6690629">(</span><span class="ident" id="6690630">t</span>&nbsp;<span class="op" id="6690632">*</span><span class="ident" id="6690633">testing</span><span class="op" id="6690640">.</span><span class="ident" id="6690641">T</span><span class="op" id="6690642">)</span>&nbsp;<span class="op" id="6690644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690647">for</span>&nbsp;<span class="ident" id="6690651">_</span><span class="op" id="6690652">,</span>&nbsp;<span class="ident" id="6690654">tt</span>&nbsp;<span class="op" id="6690657">:=</span>&nbsp;<span class="keyword" id="6690660">range</span>&nbsp;<span class="ident" id="6690666">splitJoinTests</span>&nbsp;<span class="op" id="6690681">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690685">if</span>&nbsp;<span class="ident" id="6690688">join</span>&nbsp;<span class="op" id="6690693">:=</span>&nbsp;<span class="ident" id="6690696">JoinHostPort</span><span class="op" id="6690708">(</span><span class="ident" id="6690709">tt</span><span class="op" id="6690711">.</span><span class="ident" id="6690712">host</span><span class="op" id="6690716">,</span>&nbsp;<span class="ident" id="6690718">tt</span><span class="op" id="6690720">.</span><span class="ident" id="6690721">port</span><span class="op" id="6690725">)</span><span class="op" id="6690726">;</span>&nbsp;<span class="ident" id="6690728">join</span>&nbsp;<span class="op" id="6690733">!=</span>&nbsp;<span class="ident" id="6690736">tt</span><span class="op" id="6690738">.</span><span class="ident" id="6690739">join</span>&nbsp;<span class="op" id="6690744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690749">t</span><span class="op" id="6690750">.</span><span class="ident" id="6690751">Errorf</span><span class="op" id="6690757">(</span><span class="string" id="6690758">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6690794">,</span>&nbsp;<span class="ident" id="6690796">tt</span><span class="op" id="6690798">.</span><span class="ident" id="6690799">host</span><span class="op" id="6690803">,</span>&nbsp;<span class="ident" id="6690805">tt</span><span class="op" id="6690807">.</span><span class="ident" id="6690808">port</span><span class="op" id="6690812">,</span>&nbsp;<span class="ident" id="6690814">join</span><span class="op" id="6690818">,</span>&nbsp;<span class="ident" id="6690820">tt</span><span class="op" id="6690822">.</span><span class="ident" id="6690823">join</span><span class="op" id="6690827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690834">}</span><br>
<span class="lineno"></span><span class="op" id="6690836">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="6690839">var</span>&nbsp;<span class="ident" id="6690843">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6690861">=</span>&nbsp;<span class="op" id="6690863">[</span><span class="op" id="6690864">]</span><span class="keyword" id="6690865">struct</span>&nbsp;<span class="op" id="6690872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690875">in</span>&nbsp;&nbsp;<span class="ident" id="6690879">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690883">af4</span>&nbsp;<span class="builtintype" id="6690887">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690893">af6</span>&nbsp;<span class="builtintype" id="6690897">bool</span><br>
<span class="lineno">390</span><span class="op" id="6690902">}</span><span class="op" id="6690903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690906">{</span><span class="ident" id="6690907">IPv4bcast</span><span class="op" id="6690916">,</span>&nbsp;<span class="builtintype" id="6690918">true</span><span class="op" id="6690922">,</span>&nbsp;<span class="builtintype" id="6690924">false</span><span class="op" id="6690929">}</span><span class="op" id="6690930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690933">{</span><span class="ident" id="6690934">IPv4allsys</span><span class="op" id="6690944">,</span>&nbsp;<span class="builtintype" id="6690946">true</span><span class="op" id="6690950">,</span>&nbsp;<span class="builtintype" id="6690952">false</span><span class="op" id="6690957">}</span><span class="op" id="6690958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690961">{</span><span class="ident" id="6690962">IPv4allrouter</span><span class="op" id="6690975">,</span>&nbsp;<span class="builtintype" id="6690977">true</span><span class="op" id="6690981">,</span>&nbsp;<span class="builtintype" id="6690983">false</span><span class="op" id="6690988">}</span><span class="op" id="6690989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690992">{</span><span class="ident" id="6690993">IPv4zero</span><span class="op" id="6691001">,</span>&nbsp;<span class="builtintype" id="6691003">true</span><span class="op" id="6691007">,</span>&nbsp;<span class="builtintype" id="6691009">false</span><span class="op" id="6691014">}</span><span class="op" id="6691015">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691018">{</span><span class="ident" id="6691019">IPv4</span><span class="op" id="6691023">(</span><span class="num" id="6691024">224</span><span class="op" id="6691027">,</span>&nbsp;<span class="num" id="6691029">0</span><span class="op" id="6691030">,</span>&nbsp;<span class="num" id="6691032">0</span><span class="op" id="6691033">,</span>&nbsp;<span class="num" id="6691035">1</span><span class="op" id="6691036">)</span><span class="op" id="6691037">,</span>&nbsp;<span class="builtintype" id="6691039">true</span><span class="op" id="6691043">,</span>&nbsp;<span class="builtintype" id="6691045">false</span><span class="op" id="6691050">}</span><span class="op" id="6691051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691054">{</span><span class="ident" id="6691055">IPv4</span><span class="op" id="6691059">(</span><span class="num" id="6691060">127</span><span class="op" id="6691063">,</span>&nbsp;<span class="num" id="6691065">0</span><span class="op" id="6691066">,</span>&nbsp;<span class="num" id="6691068">0</span><span class="op" id="6691069">,</span>&nbsp;<span class="num" id="6691071">1</span><span class="op" id="6691072">)</span><span class="op" id="6691073">,</span>&nbsp;<span class="builtintype" id="6691075">true</span><span class="op" id="6691079">,</span>&nbsp;<span class="builtintype" id="6691081">false</span><span class="op" id="6691086">}</span><span class="op" id="6691087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691090">{</span><span class="ident" id="6691091">IPv4</span><span class="op" id="6691095">(</span><span class="num" id="6691096">240</span><span class="op" id="6691099">,</span>&nbsp;<span class="num" id="6691101">0</span><span class="op" id="6691102">,</span>&nbsp;<span class="num" id="6691104">0</span><span class="op" id="6691105">,</span>&nbsp;<span class="num" id="6691107">1</span><span class="op" id="6691108">)</span><span class="op" id="6691109">,</span>&nbsp;<span class="builtintype" id="6691111">true</span><span class="op" id="6691115">,</span>&nbsp;<span class="builtintype" id="6691117">false</span><span class="op" id="6691122">}</span><span class="op" id="6691123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691126">{</span><span class="ident" id="6691127">IPv6unspecified</span><span class="op" id="6691142">,</span>&nbsp;<span class="builtintype" id="6691144">false</span><span class="op" id="6691149">,</span>&nbsp;<span class="builtintype" id="6691151">true</span><span class="op" id="6691155">}</span><span class="op" id="6691156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691159">{</span><span class="ident" id="6691160">IPv6loopback</span><span class="op" id="6691172">,</span>&nbsp;<span class="builtintype" id="6691174">false</span><span class="op" id="6691179">,</span>&nbsp;<span class="builtintype" id="6691181">true</span><span class="op" id="6691185">}</span><span class="op" id="6691186">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691189">{</span><span class="ident" id="6691190">IPv6interfacelocalallnodes</span><span class="op" id="6691216">,</span>&nbsp;<span class="builtintype" id="6691218">false</span><span class="op" id="6691223">,</span>&nbsp;<span class="builtintype" id="6691225">true</span><span class="op" id="6691229">}</span><span class="op" id="6691230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691233">{</span><span class="ident" id="6691234">IPv6linklocalallnodes</span><span class="op" id="6691255">,</span>&nbsp;<span class="builtintype" id="6691257">false</span><span class="op" id="6691262">,</span>&nbsp;<span class="builtintype" id="6691264">true</span><span class="op" id="6691268">}</span><span class="op" id="6691269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691272">{</span><span class="ident" id="6691273">IPv6linklocalallrouters</span><span class="op" id="6691296">,</span>&nbsp;<span class="builtintype" id="6691298">false</span><span class="op" id="6691303">,</span>&nbsp;<span class="builtintype" id="6691305">true</span><span class="op" id="6691309">}</span><span class="op" id="6691310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691313">{</span><span class="ident" id="6691314">ParseIP</span><span class="op" id="6691321">(</span><span class="string" id="6691322">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="6691337">)</span><span class="op" id="6691338">,</span>&nbsp;<span class="builtintype" id="6691340">false</span><span class="op" id="6691345">,</span>&nbsp;<span class="builtintype" id="6691347">true</span><span class="op" id="6691351">}</span><span class="op" id="6691352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691355">{</span><span class="ident" id="6691356">ParseIP</span><span class="op" id="6691363">(</span><span class="string" id="6691364">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="6691379">)</span><span class="op" id="6691380">,</span>&nbsp;<span class="builtintype" id="6691382">false</span><span class="op" id="6691387">,</span>&nbsp;<span class="builtintype" id="6691389">true</span><span class="op" id="6691393">}</span><span class="op" id="6691394">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691397">{</span><span class="ident" id="6691398">ParseIP</span><span class="op" id="6691405">(</span><span class="string" id="6691406">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="6691426">)</span><span class="op" id="6691427">,</span>&nbsp;<span class="builtintype" id="6691429">false</span><span class="op" id="6691434">,</span>&nbsp;<span class="builtintype" id="6691436">true</span><span class="op" id="6691440">}</span><span class="op" id="6691441">,</span><br>
<span class="lineno"></span><span class="op" id="6691443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6691446">func</span>&nbsp;<span class="ident" id="6691451">TestIPAddrFamily</span><span class="op" id="6691467">(</span><span class="ident" id="6691468">t</span>&nbsp;<span class="op" id="6691470">*</span><span class="ident" id="6691471">testing</span><span class="op" id="6691478">.</span><span class="ident" id="6691479">T</span><span class="op" id="6691480">)</span>&nbsp;<span class="op" id="6691482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6691485">for</span>&nbsp;<span class="ident" id="6691489">_</span><span class="op" id="6691490">,</span>&nbsp;<span class="ident" id="6691492">tt</span>&nbsp;<span class="op" id="6691495">:=</span>&nbsp;<span class="keyword" id="6691498">range</span>&nbsp;<span class="ident" id="6691504">ipAddrFamilyTests</span>&nbsp;<span class="op" id="6691522">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6691526">if</span>&nbsp;<span class="ident" id="6691529">af</span>&nbsp;<span class="op" id="6691532">:=</span>&nbsp;<span class="ident" id="6691535">tt</span><span class="op" id="6691537">.</span><span class="ident" id="6691538">in</span><span class="op" id="6691540">.</span><span class="ident" id="6691541">To4</span><span class="op" id="6691544">(</span><span class="op" id="6691545">)</span>&nbsp;<span class="op" id="6691547">!=</span>&nbsp;<span class="builtintype" id="6691550">nil</span><span class="op" id="6691553">;</span>&nbsp;<span class="ident" id="6691555">af</span>&nbsp;<span class="op" id="6691558">!=</span>&nbsp;<span class="ident" id="6691561">tt</span><span class="op" id="6691563">.</span><span class="ident" id="6691564">af4</span>&nbsp;<span class="op" id="6691568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691573">t</span><span class="op" id="6691574">.</span><span class="ident" id="6691575">Errorf</span><span class="op" id="6691581">(</span><span class="string" id="6691582">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6691634">,</span>&nbsp;<span class="ident" id="6691636">tt</span><span class="op" id="6691638">.</span><span class="ident" id="6691639">in</span><span class="op" id="6691641">,</span>&nbsp;<span class="ident" id="6691643">af</span><span class="op" id="6691645">,</span>&nbsp;<span class="ident" id="6691647">tt</span><span class="op" id="6691649">.</span><span class="ident" id="6691650">af4</span><span class="op" id="6691653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6691661">if</span>&nbsp;<span class="ident" id="6691664">af</span>&nbsp;<span class="op" id="6691667">:=</span>&nbsp;<span class="builtinfunc" id="6691670">len</span><span class="op" id="6691673">(</span><span class="ident" id="6691674">tt</span><span class="op" id="6691676">.</span><span class="ident" id="6691677">in</span><span class="op" id="6691679">)</span>&nbsp;<span class="op" id="6691681">==</span>&nbsp;<span class="ident" id="6691684">IPv6len</span>&nbsp;<span class="op" id="6691692">&amp;&amp;</span>&nbsp;<span class="ident" id="6691695">tt</span><span class="op" id="6691697">.</span><span class="ident" id="6691698">in</span><span class="op" id="6691700">.</span><span class="ident" id="6691701">To4</span><span class="op" id="6691704">(</span><span class="op" id="6691705">)</span>&nbsp;<span class="op" id="6691707">==</span>&nbsp;<span class="builtintype" id="6691710">nil</span><span class="op" id="6691713">;</span>&nbsp;<span class="ident" id="6691715">af</span>&nbsp;<span class="op" id="6691718">!=</span>&nbsp;<span class="ident" id="6691721">tt</span><span class="op" id="6691723">.</span><span class="ident" id="6691724">af6</span>&nbsp;<span class="op" id="6691728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691733">t</span><span class="op" id="6691734">.</span><span class="ident" id="6691735">Errorf</span><span class="op" id="6691741">(</span><span class="string" id="6691742">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6691794">,</span>&nbsp;<span class="ident" id="6691796">tt</span><span class="op" id="6691798">.</span><span class="ident" id="6691799">in</span><span class="op" id="6691801">,</span>&nbsp;<span class="ident" id="6691803">af</span><span class="op" id="6691805">,</span>&nbsp;<span class="ident" id="6691807">tt</span><span class="op" id="6691809">.</span><span class="ident" id="6691810">af6</span><span class="op" id="6691813">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691820">}</span><br>
<span class="lineno"></span><span class="op" id="6691822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6691825">var</span>&nbsp;<span class="ident" id="6691829">ipAddrScopeTests</span>&nbsp;<span class="op" id="6691846">=</span>&nbsp;<span class="op" id="6691848">[</span><span class="op" id="6691849">]</span><span class="keyword" id="6691850">struct</span>&nbsp;<span class="op" id="6691857">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691860">scope</span>&nbsp;<span class="keyword" id="6691866">func</span><span class="op" id="6691870">(</span><span class="ident" id="6691871">IP</span><span class="op" id="6691873">)</span>&nbsp;<span class="builtintype" id="6691875">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691881">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691887">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691891">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6691897">bool</span><br>
<span class="lineno"></span><span class="op" id="6691902">}</span><span class="op" id="6691903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691906">{</span><span class="ident" id="6691907">IP</span><span class="op" id="6691909">.</span><span class="ident" id="6691910">IsUnspecified</span><span class="op" id="6691923">,</span>&nbsp;<span class="ident" id="6691925">IPv4zero</span><span class="op" id="6691933">,</span>&nbsp;<span class="builtintype" id="6691935">true</span><span class="op" id="6691939">}</span><span class="op" id="6691940">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691943">{</span><span class="ident" id="6691944">IP</span><span class="op" id="6691946">.</span><span class="ident" id="6691947">IsUnspecified</span><span class="op" id="6691960">,</span>&nbsp;<span class="ident" id="6691962">IPv4</span><span class="op" id="6691966">(</span><span class="num" id="6691967">127</span><span class="op" id="6691970">,</span>&nbsp;<span class="num" id="6691972">0</span><span class="op" id="6691973">,</span>&nbsp;<span class="num" id="6691975">0</span><span class="op" id="6691976">,</span>&nbsp;<span class="num" id="6691978">1</span><span class="op" id="6691979">)</span><span class="op" id="6691980">,</span>&nbsp;<span class="builtintype" id="6691982">false</span><span class="op" id="6691987">}</span><span class="op" id="6691988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691991">{</span><span class="ident" id="6691992">IP</span><span class="op" id="6691994">.</span><span class="ident" id="6691995">IsUnspecified</span><span class="op" id="6692008">,</span>&nbsp;<span class="ident" id="6692010">IPv6unspecified</span><span class="op" id="6692025">,</span>&nbsp;<span class="builtintype" id="6692027">true</span><span class="op" id="6692031">}</span><span class="op" id="6692032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692035">{</span><span class="ident" id="6692036">IP</span><span class="op" id="6692038">.</span><span class="ident" id="6692039">IsUnspecified</span><span class="op" id="6692052">,</span>&nbsp;<span class="ident" id="6692054">IPv6interfacelocalallnodes</span><span class="op" id="6692080">,</span>&nbsp;<span class="builtintype" id="6692082">false</span><span class="op" id="6692087">}</span><span class="op" id="6692088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692091">{</span><span class="ident" id="6692092">IP</span><span class="op" id="6692094">.</span><span class="ident" id="6692095">IsLoopback</span><span class="op" id="6692105">,</span>&nbsp;<span class="ident" id="6692107">IPv4</span><span class="op" id="6692111">(</span><span class="num" id="6692112">127</span><span class="op" id="6692115">,</span>&nbsp;<span class="num" id="6692117">0</span><span class="op" id="6692118">,</span>&nbsp;<span class="num" id="6692120">0</span><span class="op" id="6692121">,</span>&nbsp;<span class="num" id="6692123">1</span><span class="op" id="6692124">)</span><span class="op" id="6692125">,</span>&nbsp;<span class="builtintype" id="6692127">true</span><span class="op" id="6692131">}</span><span class="op" id="6692132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692135">{</span><span class="ident" id="6692136">IP</span><span class="op" id="6692138">.</span><span class="ident" id="6692139">IsLoopback</span><span class="op" id="6692149">,</span>&nbsp;<span class="ident" id="6692151">IPv4</span><span class="op" id="6692155">(</span><span class="num" id="6692156">127</span><span class="op" id="6692159">,</span>&nbsp;<span class="num" id="6692161">255</span><span class="op" id="6692164">,</span>&nbsp;<span class="num" id="6692166">255</span><span class="op" id="6692169">,</span>&nbsp;<span class="num" id="6692171">254</span><span class="op" id="6692174">)</span><span class="op" id="6692175">,</span>&nbsp;<span class="builtintype" id="6692177">true</span><span class="op" id="6692181">}</span><span class="op" id="6692182">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692185">{</span><span class="ident" id="6692186">IP</span><span class="op" id="6692188">.</span><span class="ident" id="6692189">IsLoopback</span><span class="op" id="6692199">,</span>&nbsp;<span class="ident" id="6692201">IPv4</span><span class="op" id="6692205">(</span><span class="num" id="6692206">128</span><span class="op" id="6692209">,</span>&nbsp;<span class="num" id="6692211">1</span><span class="op" id="6692212">,</span>&nbsp;<span class="num" id="6692214">2</span><span class="op" id="6692215">,</span>&nbsp;<span class="num" id="6692217">3</span><span class="op" id="6692218">)</span><span class="op" id="6692219">,</span>&nbsp;<span class="builtintype" id="6692221">false</span><span class="op" id="6692226">}</span><span class="op" id="6692227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692230">{</span><span class="ident" id="6692231">IP</span><span class="op" id="6692233">.</span><span class="ident" id="6692234">IsLoopback</span><span class="op" id="6692244">,</span>&nbsp;<span class="ident" id="6692246">IPv6loopback</span><span class="op" id="6692258">,</span>&nbsp;<span class="builtintype" id="6692260">true</span><span class="op" id="6692264">}</span><span class="op" id="6692265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692268">{</span><span class="ident" id="6692269">IP</span><span class="op" id="6692271">.</span><span class="ident" id="6692272">IsLoopback</span><span class="op" id="6692282">,</span>&nbsp;<span class="ident" id="6692284">IPv6linklocalallrouters</span><span class="op" id="6692307">,</span>&nbsp;<span class="builtintype" id="6692309">false</span><span class="op" id="6692314">}</span><span class="op" id="6692315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692318">{</span><span class="ident" id="6692319">IP</span><span class="op" id="6692321">.</span><span class="ident" id="6692322">IsMulticast</span><span class="op" id="6692333">,</span>&nbsp;<span class="ident" id="6692335">IPv4</span><span class="op" id="6692339">(</span><span class="num" id="6692340">224</span><span class="op" id="6692343">,</span>&nbsp;<span class="num" id="6692345">0</span><span class="op" id="6692346">,</span>&nbsp;<span class="num" id="6692348">0</span><span class="op" id="6692349">,</span>&nbsp;<span class="num" id="6692351">0</span><span class="op" id="6692352">)</span><span class="op" id="6692353">,</span>&nbsp;<span class="builtintype" id="6692355">true</span><span class="op" id="6692359">}</span><span class="op" id="6692360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692363">{</span><span class="ident" id="6692364">IP</span><span class="op" id="6692366">.</span><span class="ident" id="6692367">IsMulticast</span><span class="op" id="6692378">,</span>&nbsp;<span class="ident" id="6692380">IPv4</span><span class="op" id="6692384">(</span><span class="num" id="6692385">239</span><span class="op" id="6692388">,</span>&nbsp;<span class="num" id="6692390">0</span><span class="op" id="6692391">,</span>&nbsp;<span class="num" id="6692393">0</span><span class="op" id="6692394">,</span>&nbsp;<span class="num" id="6692396">0</span><span class="op" id="6692397">)</span><span class="op" id="6692398">,</span>&nbsp;<span class="builtintype" id="6692400">true</span><span class="op" id="6692404">}</span><span class="op" id="6692405">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692408">{</span><span class="ident" id="6692409">IP</span><span class="op" id="6692411">.</span><span class="ident" id="6692412">IsMulticast</span><span class="op" id="6692423">,</span>&nbsp;<span class="ident" id="6692425">IPv4</span><span class="op" id="6692429">(</span><span class="num" id="6692430">240</span><span class="op" id="6692433">,</span>&nbsp;<span class="num" id="6692435">0</span><span class="op" id="6692436">,</span>&nbsp;<span class="num" id="6692438">0</span><span class="op" id="6692439">,</span>&nbsp;<span class="num" id="6692441">0</span><span class="op" id="6692442">)</span><span class="op" id="6692443">,</span>&nbsp;<span class="builtintype" id="6692445">false</span><span class="op" id="6692450">}</span><span class="op" id="6692451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692454">{</span><span class="ident" id="6692455">IP</span><span class="op" id="6692457">.</span><span class="ident" id="6692458">IsMulticast</span><span class="op" id="6692469">,</span>&nbsp;<span class="ident" id="6692471">IPv6linklocalallnodes</span><span class="op" id="6692492">,</span>&nbsp;<span class="builtintype" id="6692494">true</span><span class="op" id="6692498">}</span><span class="op" id="6692499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692502">{</span><span class="ident" id="6692503">IP</span><span class="op" id="6692505">.</span><span class="ident" id="6692506">IsMulticast</span><span class="op" id="6692517">,</span>&nbsp;<span class="ident" id="6692519">IP</span><span class="op" id="6692521">{</span><span class="num" id="6692522">0xff</span><span class="op" id="6692526">,</span>&nbsp;<span class="num" id="6692528">0x05</span><span class="op" id="6692532">,</span>&nbsp;<span class="num" id="6692534">0</span><span class="op" id="6692535">,</span>&nbsp;<span class="num" id="6692537">0</span><span class="op" id="6692538">,</span>&nbsp;<span class="num" id="6692540">0</span><span class="op" id="6692541">,</span>&nbsp;<span class="num" id="6692543">0</span><span class="op" id="6692544">,</span>&nbsp;<span class="num" id="6692546">0</span><span class="op" id="6692547">,</span>&nbsp;<span class="num" id="6692549">0</span><span class="op" id="6692550">,</span>&nbsp;<span class="num" id="6692552">0</span><span class="op" id="6692553">,</span>&nbsp;<span class="num" id="6692555">0</span><span class="op" id="6692556">,</span>&nbsp;<span class="num" id="6692558">0</span><span class="op" id="6692559">,</span>&nbsp;<span class="num" id="6692561">0</span><span class="op" id="6692562">,</span>&nbsp;<span class="num" id="6692564">0</span><span class="op" id="6692565">,</span>&nbsp;<span class="num" id="6692567">0</span><span class="op" id="6692568">,</span>&nbsp;<span class="num" id="6692570">0</span><span class="op" id="6692571">,</span>&nbsp;<span class="num" id="6692573">0</span><span class="op" id="6692574">}</span><span class="op" id="6692575">,</span>&nbsp;<span class="builtintype" id="6692577">true</span><span class="op" id="6692581">}</span><span class="op" id="6692582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692585">{</span><span class="ident" id="6692586">IP</span><span class="op" id="6692588">.</span><span class="ident" id="6692589">IsMulticast</span><span class="op" id="6692600">,</span>&nbsp;<span class="ident" id="6692602">IP</span><span class="op" id="6692604">{</span><span class="num" id="6692605">0xfe</span><span class="op" id="6692609">,</span>&nbsp;<span class="num" id="6692611">0x80</span><span class="op" id="6692615">,</span>&nbsp;<span class="num" id="6692617">0</span><span class="op" id="6692618">,</span>&nbsp;<span class="num" id="6692620">0</span><span class="op" id="6692621">,</span>&nbsp;<span class="num" id="6692623">0</span><span class="op" id="6692624">,</span>&nbsp;<span class="num" id="6692626">0</span><span class="op" id="6692627">,</span>&nbsp;<span class="num" id="6692629">0</span><span class="op" id="6692630">,</span>&nbsp;<span class="num" id="6692632">0</span><span class="op" id="6692633">,</span>&nbsp;<span class="num" id="6692635">0</span><span class="op" id="6692636">,</span>&nbsp;<span class="num" id="6692638">0</span><span class="op" id="6692639">,</span>&nbsp;<span class="num" id="6692641">0</span><span class="op" id="6692642">,</span>&nbsp;<span class="num" id="6692644">0</span><span class="op" id="6692645">,</span>&nbsp;<span class="num" id="6692647">0</span><span class="op" id="6692648">,</span>&nbsp;<span class="num" id="6692650">0</span><span class="op" id="6692651">,</span>&nbsp;<span class="num" id="6692653">0</span><span class="op" id="6692654">,</span>&nbsp;<span class="num" id="6692656">0</span><span class="op" id="6692657">}</span><span class="op" id="6692658">,</span>&nbsp;<span class="builtintype" id="6692660">false</span><span class="op" id="6692665">}</span><span class="op" id="6692666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692669">{</span><span class="ident" id="6692670">IP</span><span class="op" id="6692672">.</span><span class="ident" id="6692673">IsLinkLocalMulticast</span><span class="op" id="6692693">,</span>&nbsp;<span class="ident" id="6692695">IPv4</span><span class="op" id="6692699">(</span><span class="num" id="6692700">224</span><span class="op" id="6692703">,</span>&nbsp;<span class="num" id="6692705">0</span><span class="op" id="6692706">,</span>&nbsp;<span class="num" id="6692708">0</span><span class="op" id="6692709">,</span>&nbsp;<span class="num" id="6692711">0</span><span class="op" id="6692712">)</span><span class="op" id="6692713">,</span>&nbsp;<span class="builtintype" id="6692715">true</span><span class="op" id="6692719">}</span><span class="op" id="6692720">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692723">{</span><span class="ident" id="6692724">IP</span><span class="op" id="6692726">.</span><span class="ident" id="6692727">IsLinkLocalMulticast</span><span class="op" id="6692747">,</span>&nbsp;<span class="ident" id="6692749">IPv4</span><span class="op" id="6692753">(</span><span class="num" id="6692754">239</span><span class="op" id="6692757">,</span>&nbsp;<span class="num" id="6692759">0</span><span class="op" id="6692760">,</span>&nbsp;<span class="num" id="6692762">0</span><span class="op" id="6692763">,</span>&nbsp;<span class="num" id="6692765">0</span><span class="op" id="6692766">)</span><span class="op" id="6692767">,</span>&nbsp;<span class="builtintype" id="6692769">false</span><span class="op" id="6692774">}</span><span class="op" id="6692775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692778">{</span><span class="ident" id="6692779">IP</span><span class="op" id="6692781">.</span><span class="ident" id="6692782">IsLinkLocalMulticast</span><span class="op" id="6692802">,</span>&nbsp;<span class="ident" id="6692804">IPv6linklocalallrouters</span><span class="op" id="6692827">,</span>&nbsp;<span class="builtintype" id="6692829">true</span><span class="op" id="6692833">}</span><span class="op" id="6692834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692837">{</span><span class="ident" id="6692838">IP</span><span class="op" id="6692840">.</span><span class="ident" id="6692841">IsLinkLocalMulticast</span><span class="op" id="6692861">,</span>&nbsp;<span class="ident" id="6692863">IP</span><span class="op" id="6692865">{</span><span class="num" id="6692866">0xff</span><span class="op" id="6692870">,</span>&nbsp;<span class="num" id="6692872">0x05</span><span class="op" id="6692876">,</span>&nbsp;<span class="num" id="6692878">0</span><span class="op" id="6692879">,</span>&nbsp;<span class="num" id="6692881">0</span><span class="op" id="6692882">,</span>&nbsp;<span class="num" id="6692884">0</span><span class="op" id="6692885">,</span>&nbsp;<span class="num" id="6692887">0</span><span class="op" id="6692888">,</span>&nbsp;<span class="num" id="6692890">0</span><span class="op" id="6692891">,</span>&nbsp;<span class="num" id="6692893">0</span><span class="op" id="6692894">,</span>&nbsp;<span class="num" id="6692896">0</span><span class="op" id="6692897">,</span>&nbsp;<span class="num" id="6692899">0</span><span class="op" id="6692900">,</span>&nbsp;<span class="num" id="6692902">0</span><span class="op" id="6692903">,</span>&nbsp;<span class="num" id="6692905">0</span><span class="op" id="6692906">,</span>&nbsp;<span class="num" id="6692908">0</span><span class="op" id="6692909">,</span>&nbsp;<span class="num" id="6692911">0</span><span class="op" id="6692912">,</span>&nbsp;<span class="num" id="6692914">0</span><span class="op" id="6692915">,</span>&nbsp;<span class="num" id="6692917">0</span><span class="op" id="6692918">}</span><span class="op" id="6692919">,</span>&nbsp;<span class="builtintype" id="6692921">false</span><span class="op" id="6692926">}</span><span class="op" id="6692927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692930">{</span><span class="ident" id="6692931">IP</span><span class="op" id="6692933">.</span><span class="ident" id="6692934">IsLinkLocalUnicast</span><span class="op" id="6692952">,</span>&nbsp;<span class="ident" id="6692954">IPv4</span><span class="op" id="6692958">(</span><span class="num" id="6692959">169</span><span class="op" id="6692962">,</span>&nbsp;<span class="num" id="6692964">254</span><span class="op" id="6692967">,</span>&nbsp;<span class="num" id="6692969">0</span><span class="op" id="6692970">,</span>&nbsp;<span class="num" id="6692972">0</span><span class="op" id="6692973">)</span><span class="op" id="6692974">,</span>&nbsp;<span class="builtintype" id="6692976">true</span><span class="op" id="6692980">}</span><span class="op" id="6692981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6692984">{</span><span class="ident" id="6692985">IP</span><span class="op" id="6692987">.</span><span class="ident" id="6692988">IsLinkLocalUnicast</span><span class="op" id="6693006">,</span>&nbsp;<span class="ident" id="6693008">IPv4</span><span class="op" id="6693012">(</span><span class="num" id="6693013">169</span><span class="op" id="6693016">,</span>&nbsp;<span class="num" id="6693018">255</span><span class="op" id="6693021">,</span>&nbsp;<span class="num" id="6693023">0</span><span class="op" id="6693024">,</span>&nbsp;<span class="num" id="6693026">0</span><span class="op" id="6693027">)</span><span class="op" id="6693028">,</span>&nbsp;<span class="builtintype" id="6693030">false</span><span class="op" id="6693035">}</span><span class="op" id="6693036">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693039">{</span><span class="ident" id="6693040">IP</span><span class="op" id="6693042">.</span><span class="ident" id="6693043">IsLinkLocalUnicast</span><span class="op" id="6693061">,</span>&nbsp;<span class="ident" id="6693063">IP</span><span class="op" id="6693065">{</span><span class="num" id="6693066">0xfe</span><span class="op" id="6693070">,</span>&nbsp;<span class="num" id="6693072">0x80</span><span class="op" id="6693076">,</span>&nbsp;<span class="num" id="6693078">0</span><span class="op" id="6693079">,</span>&nbsp;<span class="num" id="6693081">0</span><span class="op" id="6693082">,</span>&nbsp;<span class="num" id="6693084">0</span><span class="op" id="6693085">,</span>&nbsp;<span class="num" id="6693087">0</span><span class="op" id="6693088">,</span>&nbsp;<span class="num" id="6693090">0</span><span class="op" id="6693091">,</span>&nbsp;<span class="num" id="6693093">0</span><span class="op" id="6693094">,</span>&nbsp;<span class="num" id="6693096">0</span><span class="op" id="6693097">,</span>&nbsp;<span class="num" id="6693099">0</span><span class="op" id="6693100">,</span>&nbsp;<span class="num" id="6693102">0</span><span class="op" id="6693103">,</span>&nbsp;<span class="num" id="6693105">0</span><span class="op" id="6693106">,</span>&nbsp;<span class="num" id="6693108">0</span><span class="op" id="6693109">,</span>&nbsp;<span class="num" id="6693111">0</span><span class="op" id="6693112">,</span>&nbsp;<span class="num" id="6693114">0</span><span class="op" id="6693115">,</span>&nbsp;<span class="num" id="6693117">0</span><span class="op" id="6693118">}</span><span class="op" id="6693119">,</span>&nbsp;<span class="builtintype" id="6693121">true</span><span class="op" id="6693125">}</span><span class="op" id="6693126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693129">{</span><span class="ident" id="6693130">IP</span><span class="op" id="6693132">.</span><span class="ident" id="6693133">IsLinkLocalUnicast</span><span class="op" id="6693151">,</span>&nbsp;<span class="ident" id="6693153">IP</span><span class="op" id="6693155">{</span><span class="num" id="6693156">0xfe</span><span class="op" id="6693160">,</span>&nbsp;<span class="num" id="6693162">0xc0</span><span class="op" id="6693166">,</span>&nbsp;<span class="num" id="6693168">0</span><span class="op" id="6693169">,</span>&nbsp;<span class="num" id="6693171">0</span><span class="op" id="6693172">,</span>&nbsp;<span class="num" id="6693174">0</span><span class="op" id="6693175">,</span>&nbsp;<span class="num" id="6693177">0</span><span class="op" id="6693178">,</span>&nbsp;<span class="num" id="6693180">0</span><span class="op" id="6693181">,</span>&nbsp;<span class="num" id="6693183">0</span><span class="op" id="6693184">,</span>&nbsp;<span class="num" id="6693186">0</span><span class="op" id="6693187">,</span>&nbsp;<span class="num" id="6693189">0</span><span class="op" id="6693190">,</span>&nbsp;<span class="num" id="6693192">0</span><span class="op" id="6693193">,</span>&nbsp;<span class="num" id="6693195">0</span><span class="op" id="6693196">,</span>&nbsp;<span class="num" id="6693198">0</span><span class="op" id="6693199">,</span>&nbsp;<span class="num" id="6693201">0</span><span class="op" id="6693202">,</span>&nbsp;<span class="num" id="6693204">0</span><span class="op" id="6693205">,</span>&nbsp;<span class="num" id="6693207">0</span><span class="op" id="6693208">}</span><span class="op" id="6693209">,</span>&nbsp;<span class="builtintype" id="6693211">false</span><span class="op" id="6693216">}</span><span class="op" id="6693217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693220">{</span><span class="ident" id="6693221">IP</span><span class="op" id="6693223">.</span><span class="ident" id="6693224">IsGlobalUnicast</span><span class="op" id="6693239">,</span>&nbsp;<span class="ident" id="6693241">IPv4</span><span class="op" id="6693245">(</span><span class="num" id="6693246">240</span><span class="op" id="6693249">,</span>&nbsp;<span class="num" id="6693251">0</span><span class="op" id="6693252">,</span>&nbsp;<span class="num" id="6693254">0</span><span class="op" id="6693255">,</span>&nbsp;<span class="num" id="6693257">0</span><span class="op" id="6693258">)</span><span class="op" id="6693259">,</span>&nbsp;<span class="builtintype" id="6693261">true</span><span class="op" id="6693265">}</span><span class="op" id="6693266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693269">{</span><span class="ident" id="6693270">IP</span><span class="op" id="6693272">.</span><span class="ident" id="6693273">IsGlobalUnicast</span><span class="op" id="6693288">,</span>&nbsp;<span class="ident" id="6693290">IPv4</span><span class="op" id="6693294">(</span><span class="num" id="6693295">232</span><span class="op" id="6693298">,</span>&nbsp;<span class="num" id="6693300">0</span><span class="op" id="6693301">,</span>&nbsp;<span class="num" id="6693303">0</span><span class="op" id="6693304">,</span>&nbsp;<span class="num" id="6693306">0</span><span class="op" id="6693307">)</span><span class="op" id="6693308">,</span>&nbsp;<span class="builtintype" id="6693310">false</span><span class="op" id="6693315">}</span><span class="op" id="6693316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693319">{</span><span class="ident" id="6693320">IP</span><span class="op" id="6693322">.</span><span class="ident" id="6693323">IsGlobalUnicast</span><span class="op" id="6693338">,</span>&nbsp;<span class="ident" id="6693340">IPv4</span><span class="op" id="6693344">(</span><span class="num" id="6693345">169</span><span class="op" id="6693348">,</span>&nbsp;<span class="num" id="6693350">254</span><span class="op" id="6693353">,</span>&nbsp;<span class="num" id="6693355">0</span><span class="op" id="6693356">,</span>&nbsp;<span class="num" id="6693358">0</span><span class="op" id="6693359">)</span><span class="op" id="6693360">,</span>&nbsp;<span class="builtintype" id="6693362">false</span><span class="op" id="6693367">}</span><span class="op" id="6693368">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693371">{</span><span class="ident" id="6693372">IP</span><span class="op" id="6693374">.</span><span class="ident" id="6693375">IsGlobalUnicast</span><span class="op" id="6693390">,</span>&nbsp;<span class="ident" id="6693392">IP</span><span class="op" id="6693394">{</span><span class="num" id="6693395">0x20</span><span class="op" id="6693399">,</span>&nbsp;<span class="num" id="6693401">0x1</span><span class="op" id="6693404">,</span>&nbsp;<span class="num" id="6693406">0xd</span><span class="op" id="6693409">,</span>&nbsp;<span class="num" id="6693411">0xb8</span><span class="op" id="6693415">,</span>&nbsp;<span class="num" id="6693417">0</span><span class="op" id="6693418">,</span>&nbsp;<span class="num" id="6693420">0</span><span class="op" id="6693421">,</span>&nbsp;<span class="num" id="6693423">0</span><span class="op" id="6693424">,</span>&nbsp;<span class="num" id="6693426">0</span><span class="op" id="6693427">,</span>&nbsp;<span class="num" id="6693429">0</span><span class="op" id="6693430">,</span>&nbsp;<span class="num" id="6693432">0</span><span class="op" id="6693433">,</span>&nbsp;<span class="num" id="6693435">0x1</span><span class="op" id="6693438">,</span>&nbsp;<span class="num" id="6693440">0x23</span><span class="op" id="6693444">,</span>&nbsp;<span class="num" id="6693446">0</span><span class="op" id="6693447">,</span>&nbsp;<span class="num" id="6693449">0x12</span><span class="op" id="6693453">,</span>&nbsp;<span class="num" id="6693455">0</span><span class="op" id="6693456">,</span>&nbsp;<span class="num" id="6693458">0x1</span><span class="op" id="6693461">}</span><span class="op" id="6693462">,</span>&nbsp;<span class="builtintype" id="6693464">true</span><span class="op" id="6693468">}</span><span class="op" id="6693469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693472">{</span><span class="ident" id="6693473">IP</span><span class="op" id="6693475">.</span><span class="ident" id="6693476">IsGlobalUnicast</span><span class="op" id="6693491">,</span>&nbsp;<span class="ident" id="6693493">IP</span><span class="op" id="6693495">{</span><span class="num" id="6693496">0xfe</span><span class="op" id="6693500">,</span>&nbsp;<span class="num" id="6693502">0x80</span><span class="op" id="6693506">,</span>&nbsp;<span class="num" id="6693508">0</span><span class="op" id="6693509">,</span>&nbsp;<span class="num" id="6693511">0</span><span class="op" id="6693512">,</span>&nbsp;<span class="num" id="6693514">0</span><span class="op" id="6693515">,</span>&nbsp;<span class="num" id="6693517">0</span><span class="op" id="6693518">,</span>&nbsp;<span class="num" id="6693520">0</span><span class="op" id="6693521">,</span>&nbsp;<span class="num" id="6693523">0</span><span class="op" id="6693524">,</span>&nbsp;<span class="num" id="6693526">0</span><span class="op" id="6693527">,</span>&nbsp;<span class="num" id="6693529">0</span><span class="op" id="6693530">,</span>&nbsp;<span class="num" id="6693532">0</span><span class="op" id="6693533">,</span>&nbsp;<span class="num" id="6693535">0</span><span class="op" id="6693536">,</span>&nbsp;<span class="num" id="6693538">0</span><span class="op" id="6693539">,</span>&nbsp;<span class="num" id="6693541">0</span><span class="op" id="6693542">,</span>&nbsp;<span class="num" id="6693544">0</span><span class="op" id="6693545">,</span>&nbsp;<span class="num" id="6693547">0</span><span class="op" id="6693548">}</span><span class="op" id="6693549">,</span>&nbsp;<span class="builtintype" id="6693551">false</span><span class="op" id="6693556">}</span><span class="op" id="6693557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693560">{</span><span class="ident" id="6693561">IP</span><span class="op" id="6693563">.</span><span class="ident" id="6693564">IsGlobalUnicast</span><span class="op" id="6693579">,</span>&nbsp;<span class="ident" id="6693581">IP</span><span class="op" id="6693583">{</span><span class="num" id="6693584">0xff</span><span class="op" id="6693588">,</span>&nbsp;<span class="num" id="6693590">0x05</span><span class="op" id="6693594">,</span>&nbsp;<span class="num" id="6693596">0</span><span class="op" id="6693597">,</span>&nbsp;<span class="num" id="6693599">0</span><span class="op" id="6693600">,</span>&nbsp;<span class="num" id="6693602">0</span><span class="op" id="6693603">,</span>&nbsp;<span class="num" id="6693605">0</span><span class="op" id="6693606">,</span>&nbsp;<span class="num" id="6693608">0</span><span class="op" id="6693609">,</span>&nbsp;<span class="num" id="6693611">0</span><span class="op" id="6693612">,</span>&nbsp;<span class="num" id="6693614">0</span><span class="op" id="6693615">,</span>&nbsp;<span class="num" id="6693617">0</span><span class="op" id="6693618">,</span>&nbsp;<span class="num" id="6693620">0</span><span class="op" id="6693621">,</span>&nbsp;<span class="num" id="6693623">0</span><span class="op" id="6693624">,</span>&nbsp;<span class="num" id="6693626">0</span><span class="op" id="6693627">,</span>&nbsp;<span class="num" id="6693629">0</span><span class="op" id="6693630">,</span>&nbsp;<span class="num" id="6693632">0</span><span class="op" id="6693633">,</span>&nbsp;<span class="num" id="6693635">0</span><span class="op" id="6693636">}</span><span class="op" id="6693637">,</span>&nbsp;<span class="builtintype" id="6693639">false</span><span class="op" id="6693644">}</span><span class="op" id="6693645">,</span><br>
<span class="lineno"></span><span class="op" id="6693647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="6693650">func</span>&nbsp;<span class="ident" id="6693655">name</span><span class="op" id="6693659">(</span><span class="ident" id="6693660">f</span>&nbsp;<span class="keyword" id="6693662">interface</span><span class="op" id="6693671">{</span><span class="op" id="6693672">}</span><span class="op" id="6693673">)</span>&nbsp;<span class="builtintype" id="6693675">string</span>&nbsp;<span class="op" id="6693682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6693685">return</span>&nbsp;<span class="ident" id="6693692">runtime</span><span class="op" id="6693699">.</span><span class="ident" id="6693700">FuncForPC</span><span class="op" id="6693709">(</span><span class="ident" id="6693710">reflect</span><span class="op" id="6693717">.</span><span class="ident" id="6693718">ValueOf</span><span class="op" id="6693725">(</span><span class="ident" id="6693726">f</span><span class="op" id="6693727">)</span><span class="op" id="6693728">.</span><span class="ident" id="6693729">Pointer</span><span class="op" id="6693736">(</span><span class="op" id="6693737">)</span><span class="op" id="6693738">)</span><span class="op" id="6693739">.</span><span class="ident" id="6693740">Name</span><span class="op" id="6693744">(</span><span class="op" id="6693745">)</span><br>
<span class="lineno"></span><span class="op" id="6693747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6693750">func</span>&nbsp;<span class="ident" id="6693755">TestIPAddrScope</span><span class="op" id="6693770">(</span><span class="ident" id="6693771">t</span>&nbsp;<span class="op" id="6693773">*</span><span class="ident" id="6693774">testing</span><span class="op" id="6693781">.</span><span class="ident" id="6693782">T</span><span class="op" id="6693783">)</span>&nbsp;<span class="op" id="6693785">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6693788">for</span>&nbsp;<span class="ident" id="6693792">_</span><span class="op" id="6693793">,</span>&nbsp;<span class="ident" id="6693795">tt</span>&nbsp;<span class="op" id="6693798">:=</span>&nbsp;<span class="keyword" id="6693801">range</span>&nbsp;<span class="ident" id="6693807">ipAddrScopeTests</span>&nbsp;<span class="op" id="6693824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6693828">if</span>&nbsp;<span class="ident" id="6693831">ok</span>&nbsp;<span class="op" id="6693834">:=</span>&nbsp;<span class="ident" id="6693837">tt</span><span class="op" id="6693839">.</span><span class="ident" id="6693840">scope</span><span class="op" id="6693845">(</span><span class="ident" id="6693846">tt</span><span class="op" id="6693848">.</span><span class="ident" id="6693849">in</span><span class="op" id="6693851">)</span><span class="op" id="6693852">;</span>&nbsp;<span class="ident" id="6693854">ok</span>&nbsp;<span class="op" id="6693857">!=</span>&nbsp;<span class="ident" id="6693860">tt</span><span class="op" id="6693862">.</span><span class="ident" id="6693863">ok</span>&nbsp;<span class="op" id="6693866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6693871">t</span><span class="op" id="6693872">.</span><span class="ident" id="6693873">Errorf</span><span class="op" id="6693879">(</span><span class="string" id="6693880">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6693902">,</span>&nbsp;<span class="ident" id="6693904">name</span><span class="op" id="6693908">(</span><span class="ident" id="6693909">tt</span><span class="op" id="6693911">.</span><span class="ident" id="6693912">scope</span><span class="op" id="6693917">)</span><span class="op" id="6693918">,</span>&nbsp;<span class="ident" id="6693920">tt</span><span class="op" id="6693922">.</span><span class="ident" id="6693923">in</span><span class="op" id="6693925">,</span>&nbsp;<span class="ident" id="6693927">ok</span><span class="op" id="6693929">,</span>&nbsp;<span class="ident" id="6693931">tt</span><span class="op" id="6693933">.</span><span class="ident" id="6693934">ok</span><span class="op" id="6693936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6693943">}</span><br>
<span class="lineno">465</span><span class="op" id="6693945">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
