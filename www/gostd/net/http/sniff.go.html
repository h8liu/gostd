<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html" class="current">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3566073">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3566129">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3566183">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3566234">package</span>&nbsp;<span class="ident" id="3566242">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3566248">import</span>&nbsp;<span class="op" id="3566255">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3566258">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3566267">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3566285">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3566288">//&nbsp;The&nbsp;algorithm&nbsp;uses&nbsp;at&nbsp;most&nbsp;sniffLen&nbsp;bytes&nbsp;to&nbsp;make&nbsp;its&nbsp;decision.</span><br>
<span class="lineno"></span><span class="keyword" id="3566355">const</span>&nbsp;<span class="ident" id="3566361">sniffLen</span>&nbsp;<span class="op" id="3566370">=</span>&nbsp;<span class="num" id="3566372">512</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3566377">//&nbsp;DetectContentType&nbsp;implements&nbsp;the&nbsp;algorithm&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="3566433">//&nbsp;at&nbsp;http://mimesniff.spec.whatwg.org/&nbsp;to&nbsp;determine&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3566490">//&nbsp;Content-Type&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;&nbsp;It&nbsp;considers&nbsp;at&nbsp;most&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3566551">//&nbsp;first&nbsp;512&nbsp;bytes&nbsp;of&nbsp;data.&nbsp;&nbsp;DetectContentType&nbsp;always&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3566613">//&nbsp;a&nbsp;valid&nbsp;MIME&nbsp;type:&nbsp;if&nbsp;it&nbsp;cannot&nbsp;determine&nbsp;a&nbsp;more&nbsp;specific&nbsp;one,&nbsp;it</span><br>
<span class="lineno">20</span><span class="comment" id="3566682">//&nbsp;returns&nbsp;&#34;application/octet-stream&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3566721">func</span>&nbsp;<span class="ident" id="3566726">DetectContentType</span><span class="op" id="3566743">(</span><span class="ident" id="3566744">data</span>&nbsp;<span class="op" id="3566749">[</span><span class="op" id="3566750">]</span><span class="builtintype" id="3566751">byte</span><span class="op" id="3566755">)</span>&nbsp;<span class="builtintype" id="3566757">string</span>&nbsp;<span class="op" id="3566764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3566767">if</span>&nbsp;<span class="builtinfunc" id="3566770">len</span><span class="op" id="3566773">(</span><span class="ident" id="3566774">data</span><span class="op" id="3566778">)</span>&nbsp;<span class="op" id="3566780">&gt;</span>&nbsp;<span class="ident" id="3566782">sniffLen</span>&nbsp;<span class="op" id="3566791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3566795">data</span>&nbsp;<span class="op" id="3566800">=</span>&nbsp;<span class="ident" id="3566802">data</span><span class="op" id="3566806">[</span><span class="op" id="3566807">:</span><span class="ident" id="3566808">sniffLen</span><span class="op" id="3566816">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3566819">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3566823">//&nbsp;Index&nbsp;of&nbsp;the&nbsp;first&nbsp;non-whitespace&nbsp;byte&nbsp;in&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3566875">firstNonWS</span>&nbsp;<span class="op" id="3566886">:=</span>&nbsp;<span class="num" id="3566889">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3566892">for</span>&nbsp;<span class="op" id="3566896">;</span>&nbsp;<span class="ident" id="3566898">firstNonWS</span>&nbsp;<span class="op" id="3566909">&lt;</span>&nbsp;<span class="builtinfunc" id="3566911">len</span><span class="op" id="3566914">(</span><span class="ident" id="3566915">data</span><span class="op" id="3566919">)</span>&nbsp;<span class="op" id="3566921">&amp;&amp;</span>&nbsp;<span class="ident" id="3566924">isWS</span><span class="op" id="3566928">(</span><span class="ident" id="3566929">data</span><span class="op" id="3566933">[</span><span class="ident" id="3566934">firstNonWS</span><span class="op" id="3566944">]</span><span class="op" id="3566945">)</span><span class="op" id="3566946">;</span>&nbsp;<span class="ident" id="3566948">firstNonWS</span><span class="op" id="3566958">++</span>&nbsp;<span class="op" id="3566961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3566964">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3566968">for</span>&nbsp;<span class="ident" id="3566972">_</span><span class="op" id="3566973">,</span>&nbsp;<span class="ident" id="3566975">sig</span>&nbsp;<span class="op" id="3566979">:=</span>&nbsp;<span class="keyword" id="3566982">range</span>&nbsp;<span class="ident" id="3566988">sniffSignatures</span>&nbsp;<span class="op" id="3567004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3567008">if</span>&nbsp;<span class="ident" id="3567011">ct</span>&nbsp;<span class="op" id="3567014">:=</span>&nbsp;<span class="ident" id="3567017">sig</span><span class="op" id="3567020">.</span><span class="ident" id="3567021">match</span><span class="op" id="3567026">(</span><span class="ident" id="3567027">data</span><span class="op" id="3567031">,</span>&nbsp;<span class="ident" id="3567033">firstNonWS</span><span class="op" id="3567043">)</span><span class="op" id="3567044">;</span>&nbsp;<span class="ident" id="3567046">ct</span>&nbsp;<span class="op" id="3567049">!=</span>&nbsp;<span class="string" id="3567052">&#34;&#34;</span>&nbsp;<span class="op" id="3567055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3567060">return</span>&nbsp;<span class="ident" id="3567067">ct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3567072">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3567075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3567079">return</span>&nbsp;<span class="string" id="3567086">&#34;application/octet-stream&#34;</span>&nbsp;<span class="comment" id="3567113">//&nbsp;fallback</span><br>
<span class="lineno"></span><span class="op" id="3567125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3567128">func</span>&nbsp;<span class="ident" id="3567133">isWS</span><span class="op" id="3567137">(</span><span class="ident" id="3567138">b</span>&nbsp;<span class="builtintype" id="3567140">byte</span><span class="op" id="3567144">)</span>&nbsp;<span class="builtintype" id="3567146">bool</span>&nbsp;<span class="op" id="3567151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3567154">return</span>&nbsp;<span class="ident" id="3567161">bytes</span><span class="op" id="3567166">.</span><span class="ident" id="3567167">IndexByte</span><span class="op" id="3567176">(</span><span class="op" id="3567177">[</span><span class="op" id="3567178">]</span><span class="builtintype" id="3567179">byte</span><span class="op" id="3567183">(</span><span class="string" id="3567184">&#34;\t\n\x0C\r&nbsp;&#34;</span><span class="op" id="3567197">)</span><span class="op" id="3567198">,</span>&nbsp;<span class="ident" id="3567200">b</span><span class="op" id="3567201">)</span>&nbsp;<span class="op" id="3567203">!=</span>&nbsp;<span class="op" id="3567206">-</span><span class="num" id="3567207">1</span><br>
<span class="lineno"></span><span class="op" id="3567209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3567212">type</span>&nbsp;<span class="ident" id="3567217">sniffSig</span>&nbsp;<span class="keyword" id="3567226">interface</span>&nbsp;<span class="op" id="3567236">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3567239">//&nbsp;match&nbsp;returns&nbsp;the&nbsp;MIME&nbsp;type&nbsp;of&nbsp;the&nbsp;data,&nbsp;or&nbsp;&#34;&#34;&nbsp;if&nbsp;unknown.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567302">match</span><span class="op" id="3567307">(</span><span class="ident" id="3567308">data</span>&nbsp;<span class="op" id="3567313">[</span><span class="op" id="3567314">]</span><span class="builtintype" id="3567315">byte</span><span class="op" id="3567319">,</span>&nbsp;<span class="ident" id="3567321">firstNonWS</span>&nbsp;<span class="builtintype" id="3567332">int</span><span class="op" id="3567335">)</span>&nbsp;<span class="builtintype" id="3567337">string</span><br>
<span class="lineno"></span><span class="op" id="3567344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3567347">//&nbsp;Data&nbsp;matching&nbsp;the&nbsp;table&nbsp;in&nbsp;section&nbsp;6.</span><br>
<span class="lineno">50</span><span class="keyword" id="3567388">var</span>&nbsp;<span class="ident" id="3567392">sniffSignatures</span>&nbsp;<span class="op" id="3567408">=</span>&nbsp;<span class="op" id="3567410">[</span><span class="op" id="3567411">]</span><span class="ident" id="3567412">sniffSig</span><span class="op" id="3567420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567423">htmlSig</span><span class="op" id="3567430">(</span><span class="string" id="3567431">&#34;&lt;!DOCTYPE&nbsp;HTML&#34;</span><span class="op" id="3567447">)</span><span class="op" id="3567448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567451">htmlSig</span><span class="op" id="3567458">(</span><span class="string" id="3567459">&#34;&lt;HTML&#34;</span><span class="op" id="3567466">)</span><span class="op" id="3567467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567470">htmlSig</span><span class="op" id="3567477">(</span><span class="string" id="3567478">&#34;&lt;HEAD&#34;</span><span class="op" id="3567485">)</span><span class="op" id="3567486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567489">htmlSig</span><span class="op" id="3567496">(</span><span class="string" id="3567497">&#34;&lt;SCRIPT&#34;</span><span class="op" id="3567506">)</span><span class="op" id="3567507">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567510">htmlSig</span><span class="op" id="3567517">(</span><span class="string" id="3567518">&#34;&lt;IFRAME&#34;</span><span class="op" id="3567527">)</span><span class="op" id="3567528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567531">htmlSig</span><span class="op" id="3567538">(</span><span class="string" id="3567539">&#34;&lt;H1&#34;</span><span class="op" id="3567544">)</span><span class="op" id="3567545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567548">htmlSig</span><span class="op" id="3567555">(</span><span class="string" id="3567556">&#34;&lt;DIV&#34;</span><span class="op" id="3567562">)</span><span class="op" id="3567563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567566">htmlSig</span><span class="op" id="3567573">(</span><span class="string" id="3567574">&#34;&lt;FONT&#34;</span><span class="op" id="3567581">)</span><span class="op" id="3567582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567585">htmlSig</span><span class="op" id="3567592">(</span><span class="string" id="3567593">&#34;&lt;TABLE&#34;</span><span class="op" id="3567601">)</span><span class="op" id="3567602">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567605">htmlSig</span><span class="op" id="3567612">(</span><span class="string" id="3567613">&#34;&lt;A&#34;</span><span class="op" id="3567617">)</span><span class="op" id="3567618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567621">htmlSig</span><span class="op" id="3567628">(</span><span class="string" id="3567629">&#34;&lt;STYLE&#34;</span><span class="op" id="3567637">)</span><span class="op" id="3567638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567641">htmlSig</span><span class="op" id="3567648">(</span><span class="string" id="3567649">&#34;&lt;TITLE&#34;</span><span class="op" id="3567657">)</span><span class="op" id="3567658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567661">htmlSig</span><span class="op" id="3567668">(</span><span class="string" id="3567669">&#34;&lt;B&#34;</span><span class="op" id="3567673">)</span><span class="op" id="3567674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567677">htmlSig</span><span class="op" id="3567684">(</span><span class="string" id="3567685">&#34;&lt;BODY&#34;</span><span class="op" id="3567692">)</span><span class="op" id="3567693">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567696">htmlSig</span><span class="op" id="3567703">(</span><span class="string" id="3567704">&#34;&lt;BR&#34;</span><span class="op" id="3567709">)</span><span class="op" id="3567710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567713">htmlSig</span><span class="op" id="3567720">(</span><span class="string" id="3567721">&#34;&lt;P&#34;</span><span class="op" id="3567725">)</span><span class="op" id="3567726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3567729">htmlSig</span><span class="op" id="3567736">(</span><span class="string" id="3567737">&#34;&lt;!--&#34;</span><span class="op" id="3567743">)</span><span class="op" id="3567744">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3567748">&amp;</span><span class="ident" id="3567749">maskedSig</span><span class="op" id="3567758">{</span><span class="ident" id="3567759">mask</span><span class="op" id="3567763">:</span>&nbsp;<span class="op" id="3567765">[</span><span class="op" id="3567766">]</span><span class="builtintype" id="3567767">byte</span><span class="op" id="3567771">(</span><span class="string" id="3567772">&#34;\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3567794">)</span><span class="op" id="3567795">,</span>&nbsp;<span class="ident" id="3567797">pat</span><span class="op" id="3567800">:</span>&nbsp;<span class="op" id="3567802">[</span><span class="op" id="3567803">]</span><span class="builtintype" id="3567804">byte</span><span class="op" id="3567808">(</span><span class="string" id="3567809">&#34;&lt;?xml&#34;</span><span class="op" id="3567816">)</span><span class="op" id="3567817">,</span>&nbsp;<span class="ident" id="3567819">skipWS</span><span class="op" id="3567825">:</span>&nbsp;<span class="builtintype" id="3567827">true</span><span class="op" id="3567831">,</span>&nbsp;<span class="ident" id="3567833">ct</span><span class="op" id="3567835">:</span>&nbsp;<span class="string" id="3567837">&#34;text/xml;&nbsp;charset=utf-8&#34;</span><span class="op" id="3567862">}</span><span class="op" id="3567863">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3567867">&amp;</span><span class="ident" id="3567868">exactSig</span><span class="op" id="3567876">{</span><span class="op" id="3567877">[</span><span class="op" id="3567878">]</span><span class="builtintype" id="3567879">byte</span><span class="op" id="3567883">(</span><span class="string" id="3567884">&#34;%PDF-&#34;</span><span class="op" id="3567891">)</span><span class="op" id="3567892">,</span>&nbsp;<span class="string" id="3567894">&#34;application/pdf&#34;</span><span class="op" id="3567911">}</span><span class="op" id="3567912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3567915">&amp;</span><span class="ident" id="3567916">exactSig</span><span class="op" id="3567924">{</span><span class="op" id="3567925">[</span><span class="op" id="3567926">]</span><span class="builtintype" id="3567927">byte</span><span class="op" id="3567931">(</span><span class="string" id="3567932">&#34;%!PS-Adobe-&#34;</span><span class="op" id="3567945">)</span><span class="op" id="3567946">,</span>&nbsp;<span class="string" id="3567948">&#34;application/postscript&#34;</span><span class="op" id="3567972">}</span><span class="op" id="3567973">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3567977">//&nbsp;UTF&nbsp;BOMs.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3567991">&amp;</span><span class="ident" id="3567992">maskedSig</span><span class="op" id="3568001">{</span><span class="ident" id="3568002">mask</span><span class="op" id="3568006">:</span>&nbsp;<span class="op" id="3568008">[</span><span class="op" id="3568009">]</span><span class="builtintype" id="3568010">byte</span><span class="op" id="3568014">(</span><span class="string" id="3568015">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3568033">)</span><span class="op" id="3568034">,</span>&nbsp;<span class="ident" id="3568036">pat</span><span class="op" id="3568039">:</span>&nbsp;<span class="op" id="3568041">[</span><span class="op" id="3568042">]</span><span class="builtintype" id="3568043">byte</span><span class="op" id="3568047">(</span><span class="string" id="3568048">&#34;\xFE\xFF\x00\x00&#34;</span><span class="op" id="3568066">)</span><span class="op" id="3568067">,</span>&nbsp;<span class="ident" id="3568069">ct</span><span class="op" id="3568071">:</span>&nbsp;<span class="string" id="3568073">&#34;text/plain;&nbsp;charset=utf-16be&#34;</span><span class="op" id="3568103">}</span><span class="op" id="3568104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568107">&amp;</span><span class="ident" id="3568108">maskedSig</span><span class="op" id="3568117">{</span><span class="ident" id="3568118">mask</span><span class="op" id="3568122">:</span>&nbsp;<span class="op" id="3568124">[</span><span class="op" id="3568125">]</span><span class="builtintype" id="3568126">byte</span><span class="op" id="3568130">(</span><span class="string" id="3568131">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3568149">)</span><span class="op" id="3568150">,</span>&nbsp;<span class="ident" id="3568152">pat</span><span class="op" id="3568155">:</span>&nbsp;<span class="op" id="3568157">[</span><span class="op" id="3568158">]</span><span class="builtintype" id="3568159">byte</span><span class="op" id="3568163">(</span><span class="string" id="3568164">&#34;\xFF\xFE\x00\x00&#34;</span><span class="op" id="3568182">)</span><span class="op" id="3568183">,</span>&nbsp;<span class="ident" id="3568185">ct</span><span class="op" id="3568187">:</span>&nbsp;<span class="string" id="3568189">&#34;text/plain;&nbsp;charset=utf-16le&#34;</span><span class="op" id="3568219">}</span><span class="op" id="3568220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568223">&amp;</span><span class="ident" id="3568224">maskedSig</span><span class="op" id="3568233">{</span><span class="ident" id="3568234">mask</span><span class="op" id="3568238">:</span>&nbsp;<span class="op" id="3568240">[</span><span class="op" id="3568241">]</span><span class="builtintype" id="3568242">byte</span><span class="op" id="3568246">(</span><span class="string" id="3568247">&#34;\xFF\xFF\xFF\x00&#34;</span><span class="op" id="3568265">)</span><span class="op" id="3568266">,</span>&nbsp;<span class="ident" id="3568268">pat</span><span class="op" id="3568271">:</span>&nbsp;<span class="op" id="3568273">[</span><span class="op" id="3568274">]</span><span class="builtintype" id="3568275">byte</span><span class="op" id="3568279">(</span><span class="string" id="3568280">&#34;\xEF\xBB\xBF\x00&#34;</span><span class="op" id="3568298">)</span><span class="op" id="3568299">,</span>&nbsp;<span class="ident" id="3568301">ct</span><span class="op" id="3568303">:</span>&nbsp;<span class="string" id="3568305">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="3568332">}</span><span class="op" id="3568333">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568337">&amp;</span><span class="ident" id="3568338">exactSig</span><span class="op" id="3568346">{</span><span class="op" id="3568347">[</span><span class="op" id="3568348">]</span><span class="builtintype" id="3568349">byte</span><span class="op" id="3568353">(</span><span class="string" id="3568354">&#34;GIF87a&#34;</span><span class="op" id="3568362">)</span><span class="op" id="3568363">,</span>&nbsp;<span class="string" id="3568365">&#34;image/gif&#34;</span><span class="op" id="3568376">}</span><span class="op" id="3568377">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568380">&amp;</span><span class="ident" id="3568381">exactSig</span><span class="op" id="3568389">{</span><span class="op" id="3568390">[</span><span class="op" id="3568391">]</span><span class="builtintype" id="3568392">byte</span><span class="op" id="3568396">(</span><span class="string" id="3568397">&#34;GIF89a&#34;</span><span class="op" id="3568405">)</span><span class="op" id="3568406">,</span>&nbsp;<span class="string" id="3568408">&#34;image/gif&#34;</span><span class="op" id="3568419">}</span><span class="op" id="3568420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568423">&amp;</span><span class="ident" id="3568424">exactSig</span><span class="op" id="3568432">{</span><span class="op" id="3568433">[</span><span class="op" id="3568434">]</span><span class="builtintype" id="3568435">byte</span><span class="op" id="3568439">(</span><span class="string" id="3568440">&#34;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&#34;</span><span class="op" id="3568474">)</span><span class="op" id="3568475">,</span>&nbsp;<span class="string" id="3568477">&#34;image/png&#34;</span><span class="op" id="3568488">}</span><span class="op" id="3568489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568492">&amp;</span><span class="ident" id="3568493">exactSig</span><span class="op" id="3568501">{</span><span class="op" id="3568502">[</span><span class="op" id="3568503">]</span><span class="builtintype" id="3568504">byte</span><span class="op" id="3568508">(</span><span class="string" id="3568509">&#34;\xFF\xD8\xFF&#34;</span><span class="op" id="3568523">)</span><span class="op" id="3568524">,</span>&nbsp;<span class="string" id="3568526">&#34;image/jpeg&#34;</span><span class="op" id="3568538">}</span><span class="op" id="3568539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568542">&amp;</span><span class="ident" id="3568543">exactSig</span><span class="op" id="3568551">{</span><span class="op" id="3568552">[</span><span class="op" id="3568553">]</span><span class="builtintype" id="3568554">byte</span><span class="op" id="3568558">(</span><span class="string" id="3568559">&#34;BM&#34;</span><span class="op" id="3568563">)</span><span class="op" id="3568564">,</span>&nbsp;<span class="string" id="3568566">&#34;image/bmp&#34;</span><span class="op" id="3568577">}</span><span class="op" id="3568578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568581">&amp;</span><span class="ident" id="3568582">maskedSig</span><span class="op" id="3568591">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3568595">mask</span><span class="op" id="3568599">:</span>&nbsp;<span class="op" id="3568601">[</span><span class="op" id="3568602">]</span><span class="builtintype" id="3568603">byte</span><span class="op" id="3568607">(</span><span class="string" id="3568608">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3568666">)</span><span class="op" id="3568667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3568671">pat</span><span class="op" id="3568674">:</span>&nbsp;&nbsp;<span class="op" id="3568677">[</span><span class="op" id="3568678">]</span><span class="builtintype" id="3568679">byte</span><span class="op" id="3568683">(</span><span class="string" id="3568684">&#34;RIFF\x00\x00\x00\x00WEBPVP&#34;</span><span class="op" id="3568712">)</span><span class="op" id="3568713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3568717">ct</span><span class="op" id="3568719">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3568723">&#34;image/webp&#34;</span><span class="op" id="3568735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568738">}</span><span class="op" id="3568739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568742">&amp;</span><span class="ident" id="3568743">exactSig</span><span class="op" id="3568751">{</span><span class="op" id="3568752">[</span><span class="op" id="3568753">]</span><span class="builtintype" id="3568754">byte</span><span class="op" id="3568758">(</span><span class="string" id="3568759">&#34;\x00\x00\x01\x00&#34;</span><span class="op" id="3568777">)</span><span class="op" id="3568778">,</span>&nbsp;<span class="string" id="3568780">&#34;image/vnd.microsoft.icon&#34;</span><span class="op" id="3568806">}</span><span class="op" id="3568807">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568810">&amp;</span><span class="ident" id="3568811">exactSig</span><span class="op" id="3568819">{</span><span class="op" id="3568820">[</span><span class="op" id="3568821">]</span><span class="builtintype" id="3568822">byte</span><span class="op" id="3568826">(</span><span class="string" id="3568827">&#34;\x4F\x67\x67\x53\x00&#34;</span><span class="op" id="3568849">)</span><span class="op" id="3568850">,</span>&nbsp;<span class="string" id="3568852">&#34;application/ogg&#34;</span><span class="op" id="3568869">}</span><span class="op" id="3568870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3568873">&amp;</span><span class="ident" id="3568874">maskedSig</span><span class="op" id="3568883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3568887">mask</span><span class="op" id="3568891">:</span>&nbsp;<span class="op" id="3568893">[</span><span class="op" id="3568894">]</span><span class="builtintype" id="3568895">byte</span><span class="op" id="3568899">(</span><span class="string" id="3568900">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3568950">)</span><span class="op" id="3568951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3568955">pat</span><span class="op" id="3568958">:</span>&nbsp;&nbsp;<span class="op" id="3568961">[</span><span class="op" id="3568962">]</span><span class="builtintype" id="3568963">byte</span><span class="op" id="3568967">(</span><span class="string" id="3568968">&#34;RIFF\x00\x00\x00\x00WAVE&#34;</span><span class="op" id="3568994">)</span><span class="op" id="3568995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3568999">ct</span><span class="op" id="3569001">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3569005">&#34;audio/wave&#34;</span><span class="op" id="3569017">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569020">}</span><span class="op" id="3569021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569024">&amp;</span><span class="ident" id="3569025">exactSig</span><span class="op" id="3569033">{</span><span class="op" id="3569034">[</span><span class="op" id="3569035">]</span><span class="builtintype" id="3569036">byte</span><span class="op" id="3569040">(</span><span class="string" id="3569041">&#34;\x1A\x45\xDF\xA3&#34;</span><span class="op" id="3569059">)</span><span class="op" id="3569060">,</span>&nbsp;<span class="string" id="3569062">&#34;video/webm&#34;</span><span class="op" id="3569074">}</span><span class="op" id="3569075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569078">&amp;</span><span class="ident" id="3569079">exactSig</span><span class="op" id="3569087">{</span><span class="op" id="3569088">[</span><span class="op" id="3569089">]</span><span class="builtintype" id="3569090">byte</span><span class="op" id="3569094">(</span><span class="string" id="3569095">&#34;\x52\x61\x72\x20\x1A\x07\x00&#34;</span><span class="op" id="3569125">)</span><span class="op" id="3569126">,</span>&nbsp;<span class="string" id="3569128">&#34;application/x-rar-compressed&#34;</span><span class="op" id="3569158">}</span><span class="op" id="3569159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569162">&amp;</span><span class="ident" id="3569163">exactSig</span><span class="op" id="3569171">{</span><span class="op" id="3569172">[</span><span class="op" id="3569173">]</span><span class="builtintype" id="3569174">byte</span><span class="op" id="3569178">(</span><span class="string" id="3569179">&#34;\x50\x4B\x03\x04&#34;</span><span class="op" id="3569197">)</span><span class="op" id="3569198">,</span>&nbsp;<span class="string" id="3569200">&#34;application/zip&#34;</span><span class="op" id="3569217">}</span><span class="op" id="3569218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569221">&amp;</span><span class="ident" id="3569222">exactSig</span><span class="op" id="3569230">{</span><span class="op" id="3569231">[</span><span class="op" id="3569232">]</span><span class="builtintype" id="3569233">byte</span><span class="op" id="3569237">(</span><span class="string" id="3569238">&#34;\x1F\x8B\x08&#34;</span><span class="op" id="3569252">)</span><span class="op" id="3569253">,</span>&nbsp;<span class="string" id="3569255">&#34;application/x-gzip&#34;</span><span class="op" id="3569275">}</span><span class="op" id="3569276">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3569280">//&nbsp;TODO(dsymonds):&nbsp;Re-enable&nbsp;this&nbsp;when&nbsp;the&nbsp;spec&nbsp;is&nbsp;sorted&nbsp;w.r.t.&nbsp;MP4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3569351">//mp4Sig(0),</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3569366">textSig</span><span class="op" id="3569373">(</span><span class="num" id="3569374">0</span><span class="op" id="3569375">)</span><span class="op" id="3569376">,</span>&nbsp;<span class="comment" id="3569378">//&nbsp;should&nbsp;be&nbsp;last</span><br>
<span class="lineno">105</span><span class="op" id="3569396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3569399">type</span>&nbsp;<span class="ident" id="3569404">exactSig</span>&nbsp;<span class="keyword" id="3569413">struct</span>&nbsp;<span class="op" id="3569420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3569423">sig</span>&nbsp;<span class="op" id="3569427">[</span><span class="op" id="3569428">]</span><span class="builtintype" id="3569429">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3569435">ct</span>&nbsp;&nbsp;<span class="builtintype" id="3569439">string</span><br>
<span class="lineno">110</span><span class="op" id="3569446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3569449">func</span>&nbsp;<span class="op" id="3569454">(</span><span class="ident" id="3569455">e</span>&nbsp;<span class="op" id="3569457">*</span><span class="ident" id="3569458">exactSig</span><span class="op" id="3569466">)</span>&nbsp;<span class="ident" id="3569468">match</span><span class="op" id="3569473">(</span><span class="ident" id="3569474">data</span>&nbsp;<span class="op" id="3569479">[</span><span class="op" id="3569480">]</span><span class="builtintype" id="3569481">byte</span><span class="op" id="3569485">,</span>&nbsp;<span class="ident" id="3569487">firstNonWS</span>&nbsp;<span class="builtintype" id="3569498">int</span><span class="op" id="3569501">)</span>&nbsp;<span class="builtintype" id="3569503">string</span>&nbsp;<span class="op" id="3569510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569513">if</span>&nbsp;<span class="ident" id="3569516">bytes</span><span class="op" id="3569521">.</span><span class="ident" id="3569522">HasPrefix</span><span class="op" id="3569531">(</span><span class="ident" id="3569532">data</span><span class="op" id="3569536">,</span>&nbsp;<span class="ident" id="3569538">e</span><span class="op" id="3569539">.</span><span class="ident" id="3569540">sig</span><span class="op" id="3569543">)</span>&nbsp;<span class="op" id="3569545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569549">return</span>&nbsp;<span class="ident" id="3569556">e</span><span class="op" id="3569557">.</span><span class="ident" id="3569558">ct</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569565">return</span>&nbsp;<span class="string" id="3569572">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3569575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3569578">type</span>&nbsp;<span class="ident" id="3569583">maskedSig</span>&nbsp;<span class="keyword" id="3569593">struct</span>&nbsp;<span class="op" id="3569600">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3569603">mask</span><span class="op" id="3569607">,</span>&nbsp;<span class="ident" id="3569609">pat</span>&nbsp;<span class="op" id="3569613">[</span><span class="op" id="3569614">]</span><span class="builtintype" id="3569615">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3569621">skipWS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3569631">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3569637">ct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3569647">string</span><br>
<span class="lineno"></span><span class="op" id="3569654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="3569657">func</span>&nbsp;<span class="op" id="3569662">(</span><span class="ident" id="3569663">m</span>&nbsp;<span class="op" id="3569665">*</span><span class="ident" id="3569666">maskedSig</span><span class="op" id="3569675">)</span>&nbsp;<span class="ident" id="3569677">match</span><span class="op" id="3569682">(</span><span class="ident" id="3569683">data</span>&nbsp;<span class="op" id="3569688">[</span><span class="op" id="3569689">]</span><span class="builtintype" id="3569690">byte</span><span class="op" id="3569694">,</span>&nbsp;<span class="ident" id="3569696">firstNonWS</span>&nbsp;<span class="builtintype" id="3569707">int</span><span class="op" id="3569710">)</span>&nbsp;<span class="builtintype" id="3569712">string</span>&nbsp;<span class="op" id="3569719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569722">if</span>&nbsp;<span class="ident" id="3569725">m</span><span class="op" id="3569726">.</span><span class="ident" id="3569727">skipWS</span>&nbsp;<span class="op" id="3569734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3569738">data</span>&nbsp;<span class="op" id="3569743">=</span>&nbsp;<span class="ident" id="3569745">data</span><span class="op" id="3569749">[</span><span class="ident" id="3569750">firstNonWS</span><span class="op" id="3569760">:</span><span class="op" id="3569761">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569767">if</span>&nbsp;<span class="builtinfunc" id="3569770">len</span><span class="op" id="3569773">(</span><span class="ident" id="3569774">data</span><span class="op" id="3569778">)</span>&nbsp;<span class="op" id="3569780">&lt;</span>&nbsp;<span class="builtinfunc" id="3569782">len</span><span class="op" id="3569785">(</span><span class="ident" id="3569786">m</span><span class="op" id="3569787">.</span><span class="ident" id="3569788">mask</span><span class="op" id="3569792">)</span>&nbsp;<span class="op" id="3569794">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569798">return</span>&nbsp;<span class="string" id="3569805">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569812">for</span>&nbsp;<span class="ident" id="3569816">i</span><span class="op" id="3569817">,</span>&nbsp;<span class="ident" id="3569819">mask</span>&nbsp;<span class="op" id="3569824">:=</span>&nbsp;<span class="keyword" id="3569827">range</span>&nbsp;<span class="ident" id="3569833">m</span><span class="op" id="3569834">.</span><span class="ident" id="3569835">mask</span>&nbsp;<span class="op" id="3569840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3569844">db</span>&nbsp;<span class="op" id="3569847">:=</span>&nbsp;<span class="ident" id="3569850">data</span><span class="op" id="3569854">[</span><span class="ident" id="3569855">i</span><span class="op" id="3569856">]</span>&nbsp;<span class="op" id="3569858">&amp;</span>&nbsp;<span class="ident" id="3569860">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569867">if</span>&nbsp;<span class="ident" id="3569870">db</span>&nbsp;<span class="op" id="3569873">!=</span>&nbsp;<span class="ident" id="3569876">m</span><span class="op" id="3569877">.</span><span class="ident" id="3569878">pat</span><span class="op" id="3569881">[</span><span class="ident" id="3569882">i</span><span class="op" id="3569883">]</span>&nbsp;<span class="op" id="3569885">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569890">return</span>&nbsp;<span class="string" id="3569897">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3569905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3569908">return</span>&nbsp;<span class="ident" id="3569915">m</span><span class="op" id="3569916">.</span><span class="ident" id="3569917">ct</span><br>
<span class="lineno"></span><span class="op" id="3569920">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="3569923">type</span>&nbsp;<span class="ident" id="3569928">htmlSig</span>&nbsp;<span class="op" id="3569936">[</span><span class="op" id="3569937">]</span><span class="builtintype" id="3569938">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3569944">func</span>&nbsp;<span class="op" id="3569949">(</span><span class="ident" id="3569950">h</span>&nbsp;<span class="ident" id="3569952">htmlSig</span><span class="op" id="3569959">)</span>&nbsp;<span class="ident" id="3569961">match</span><span class="op" id="3569966">(</span><span class="ident" id="3569967">data</span>&nbsp;<span class="op" id="3569972">[</span><span class="op" id="3569973">]</span><span class="builtintype" id="3569974">byte</span><span class="op" id="3569978">,</span>&nbsp;<span class="ident" id="3569980">firstNonWS</span>&nbsp;<span class="builtintype" id="3569991">int</span><span class="op" id="3569994">)</span>&nbsp;<span class="builtintype" id="3569996">string</span>&nbsp;<span class="op" id="3570003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3570006">data</span>&nbsp;<span class="op" id="3570011">=</span>&nbsp;<span class="ident" id="3570013">data</span><span class="op" id="3570017">[</span><span class="ident" id="3570018">firstNonWS</span><span class="op" id="3570028">:</span><span class="op" id="3570029">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570032">if</span>&nbsp;<span class="builtinfunc" id="3570035">len</span><span class="op" id="3570038">(</span><span class="ident" id="3570039">data</span><span class="op" id="3570043">)</span>&nbsp;<span class="op" id="3570045">&lt;</span>&nbsp;<span class="builtinfunc" id="3570047">len</span><span class="op" id="3570050">(</span><span class="ident" id="3570051">h</span><span class="op" id="3570052">)</span><span class="op" id="3570053">+</span><span class="num" id="3570054">1</span>&nbsp;<span class="op" id="3570056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570060">return</span>&nbsp;<span class="string" id="3570067">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570074">for</span>&nbsp;<span class="ident" id="3570078">i</span><span class="op" id="3570079">,</span>&nbsp;<span class="ident" id="3570081">b</span>&nbsp;<span class="op" id="3570083">:=</span>&nbsp;<span class="keyword" id="3570086">range</span>&nbsp;<span class="ident" id="3570092">h</span>&nbsp;<span class="op" id="3570094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3570098">db</span>&nbsp;<span class="op" id="3570101">:=</span>&nbsp;<span class="ident" id="3570104">data</span><span class="op" id="3570108">[</span><span class="ident" id="3570109">i</span><span class="op" id="3570110">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570114">if</span>&nbsp;<span class="string" id="3570117">&#39;A&#39;</span>&nbsp;<span class="op" id="3570121">&lt;=</span>&nbsp;<span class="ident" id="3570124">b</span>&nbsp;<span class="op" id="3570126">&amp;&amp;</span>&nbsp;<span class="ident" id="3570129">b</span>&nbsp;<span class="op" id="3570131">&lt;=</span>&nbsp;<span class="string" id="3570134">&#39;Z&#39;</span>&nbsp;<span class="op" id="3570138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3570143">db</span>&nbsp;<span class="op" id="3570146">&amp;=</span>&nbsp;<span class="num" id="3570149">0xDF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570160">if</span>&nbsp;<span class="ident" id="3570163">b</span>&nbsp;<span class="op" id="3570165">!=</span>&nbsp;<span class="ident" id="3570168">db</span>&nbsp;<span class="op" id="3570171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570176">return</span>&nbsp;<span class="string" id="3570183">&#34;&#34;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3570194">//&nbsp;Next&nbsp;byte&nbsp;must&nbsp;be&nbsp;space&nbsp;or&nbsp;right&nbsp;angle&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570246">if</span>&nbsp;<span class="ident" id="3570249">db</span>&nbsp;<span class="op" id="3570252">:=</span>&nbsp;<span class="ident" id="3570255">data</span><span class="op" id="3570259">[</span><span class="builtinfunc" id="3570260">len</span><span class="op" id="3570263">(</span><span class="ident" id="3570264">h</span><span class="op" id="3570265">)</span><span class="op" id="3570266">]</span><span class="op" id="3570267">;</span>&nbsp;<span class="ident" id="3570269">db</span>&nbsp;<span class="op" id="3570272">!=</span>&nbsp;<span class="string" id="3570275">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3570279">&amp;&amp;</span>&nbsp;<span class="ident" id="3570282">db</span>&nbsp;<span class="op" id="3570285">!=</span>&nbsp;<span class="string" id="3570288">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="3570292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570296">return</span>&nbsp;<span class="string" id="3570303">&#34;&#34;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570310">return</span>&nbsp;<span class="string" id="3570317">&#34;text/html;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3570344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3570347">type</span>&nbsp;<span class="ident" id="3570352">mp4Sig</span>&nbsp;<span class="builtintype" id="3570359">int</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="3570364">func</span>&nbsp;<span class="op" id="3570369">(</span><span class="ident" id="3570370">mp4Sig</span><span class="op" id="3570376">)</span>&nbsp;<span class="ident" id="3570378">match</span><span class="op" id="3570383">(</span><span class="ident" id="3570384">data</span>&nbsp;<span class="op" id="3570389">[</span><span class="op" id="3570390">]</span><span class="builtintype" id="3570391">byte</span><span class="op" id="3570395">,</span>&nbsp;<span class="ident" id="3570397">firstNonWS</span>&nbsp;<span class="builtintype" id="3570408">int</span><span class="op" id="3570411">)</span>&nbsp;<span class="builtintype" id="3570413">string</span>&nbsp;<span class="op" id="3570420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3570423">//&nbsp;c.f.&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570445">if</span>&nbsp;<span class="builtinfunc" id="3570448">len</span><span class="op" id="3570451">(</span><span class="ident" id="3570452">data</span><span class="op" id="3570456">)</span>&nbsp;<span class="op" id="3570458">&lt;</span>&nbsp;<span class="num" id="3570460">8</span>&nbsp;<span class="op" id="3570462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570466">return</span>&nbsp;<span class="string" id="3570473">&#34;&#34;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3570480">boxSize</span>&nbsp;<span class="op" id="3570488">:=</span>&nbsp;<span class="builtintype" id="3570491">int</span><span class="op" id="3570494">(</span><span class="ident" id="3570495">binary</span><span class="op" id="3570501">.</span><span class="ident" id="3570502">BigEndian</span><span class="op" id="3570511">.</span><span class="ident" id="3570512">Uint32</span><span class="op" id="3570518">(</span><span class="ident" id="3570519">data</span><span class="op" id="3570523">[</span><span class="op" id="3570524">:</span><span class="num" id="3570525">4</span><span class="op" id="3570526">]</span><span class="op" id="3570527">)</span><span class="op" id="3570528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570531">if</span>&nbsp;<span class="ident" id="3570534">boxSize</span><span class="op" id="3570541">%</span><span class="num" id="3570542">4</span>&nbsp;<span class="op" id="3570544">!=</span>&nbsp;<span class="num" id="3570547">0</span>&nbsp;<span class="op" id="3570549">||</span>&nbsp;<span class="builtinfunc" id="3570552">len</span><span class="op" id="3570555">(</span><span class="ident" id="3570556">data</span><span class="op" id="3570560">)</span>&nbsp;<span class="op" id="3570562">&lt;</span>&nbsp;<span class="ident" id="3570564">boxSize</span>&nbsp;<span class="op" id="3570572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570576">return</span>&nbsp;<span class="string" id="3570583">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570587">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570590">if</span>&nbsp;<span class="op" id="3570593">!</span><span class="ident" id="3570594">bytes</span><span class="op" id="3570599">.</span><span class="ident" id="3570600">Equal</span><span class="op" id="3570605">(</span><span class="ident" id="3570606">data</span><span class="op" id="3570610">[</span><span class="num" id="3570611">4</span><span class="op" id="3570612">:</span><span class="num" id="3570613">8</span><span class="op" id="3570614">]</span><span class="op" id="3570615">,</span>&nbsp;<span class="op" id="3570617">[</span><span class="op" id="3570618">]</span><span class="builtintype" id="3570619">byte</span><span class="op" id="3570623">(</span><span class="string" id="3570624">&#34;ftyp&#34;</span><span class="op" id="3570630">)</span><span class="op" id="3570631">)</span>&nbsp;<span class="op" id="3570633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570637">return</span>&nbsp;<span class="string" id="3570644">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570651">for</span>&nbsp;<span class="ident" id="3570655">st</span>&nbsp;<span class="op" id="3570658">:=</span>&nbsp;<span class="num" id="3570661">8</span><span class="op" id="3570662">;</span>&nbsp;<span class="ident" id="3570664">st</span>&nbsp;<span class="op" id="3570667">&lt;</span>&nbsp;<span class="ident" id="3570669">boxSize</span><span class="op" id="3570676">;</span>&nbsp;<span class="ident" id="3570678">st</span>&nbsp;<span class="op" id="3570681">+=</span>&nbsp;<span class="num" id="3570684">4</span>&nbsp;<span class="op" id="3570686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570690">if</span>&nbsp;<span class="ident" id="3570693">st</span>&nbsp;<span class="op" id="3570696">==</span>&nbsp;<span class="num" id="3570699">12</span>&nbsp;<span class="op" id="3570702">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3570707">//&nbsp;minor&nbsp;version&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570734">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3570745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3570749">seg</span>&nbsp;<span class="op" id="3570753">:=</span>&nbsp;<span class="builtintype" id="3570756">string</span><span class="op" id="3570762">(</span><span class="ident" id="3570763">data</span><span class="op" id="3570767">[</span><span class="ident" id="3570768">st</span>&nbsp;<span class="op" id="3570771">:</span>&nbsp;<span class="ident" id="3570773">st</span><span class="op" id="3570775">+</span><span class="num" id="3570776">3</span><span class="op" id="3570777">]</span><span class="op" id="3570778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570782">switch</span>&nbsp;<span class="ident" id="3570789">seg</span>&nbsp;<span class="op" id="3570793">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570797">case</span>&nbsp;<span class="string" id="3570802">&#34;mp4&#34;</span><span class="op" id="3570807">,</span>&nbsp;<span class="string" id="3570809">&#34;iso&#34;</span><span class="op" id="3570814">,</span>&nbsp;<span class="string" id="3570816">&#34;M4V&#34;</span><span class="op" id="3570821">,</span>&nbsp;<span class="string" id="3570823">&#34;M4P&#34;</span><span class="op" id="3570828">,</span>&nbsp;<span class="string" id="3570830">&#34;M4B&#34;</span><span class="op" id="3570835">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3570840">return</span>&nbsp;<span class="string" id="3570847">&#34;video/mp4&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3570862">/*&nbsp;The&nbsp;remainder&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;spec.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;M4A&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;audio/mp4&#34;<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;3gp&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;video/3gpp&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;jp2&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;image/jp2&#34;&nbsp;//&nbsp;JPEG&nbsp;2000<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3571036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3571039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3571042">return</span>&nbsp;<span class="string" id="3571049">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3571052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="3571055">type</span>&nbsp;<span class="ident" id="3571060">textSig</span>&nbsp;<span class="builtintype" id="3571068">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3571073">func</span>&nbsp;<span class="op" id="3571078">(</span><span class="ident" id="3571079">textSig</span><span class="op" id="3571086">)</span>&nbsp;<span class="ident" id="3571088">match</span><span class="op" id="3571093">(</span><span class="ident" id="3571094">data</span>&nbsp;<span class="op" id="3571099">[</span><span class="op" id="3571100">]</span><span class="builtintype" id="3571101">byte</span><span class="op" id="3571105">,</span>&nbsp;<span class="ident" id="3571107">firstNonWS</span>&nbsp;<span class="builtintype" id="3571118">int</span><span class="op" id="3571121">)</span>&nbsp;<span class="builtintype" id="3571123">string</span>&nbsp;<span class="op" id="3571130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3571133">//&nbsp;c.f.&nbsp;section&nbsp;5,&nbsp;step&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3571161">for</span>&nbsp;<span class="ident" id="3571165">_</span><span class="op" id="3571166">,</span>&nbsp;<span class="ident" id="3571168">b</span>&nbsp;<span class="op" id="3571170">:=</span>&nbsp;<span class="keyword" id="3571173">range</span>&nbsp;<span class="ident" id="3571179">data</span><span class="op" id="3571183">[</span><span class="ident" id="3571184">firstNonWS</span><span class="op" id="3571194">:</span><span class="op" id="3571195">]</span>&nbsp;<span class="op" id="3571197">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3571201">switch</span>&nbsp;<span class="op" id="3571208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3571212">case</span>&nbsp;<span class="num" id="3571217">0x00</span>&nbsp;<span class="op" id="3571222">&lt;=</span>&nbsp;<span class="ident" id="3571225">b</span>&nbsp;<span class="op" id="3571227">&amp;&amp;</span>&nbsp;<span class="ident" id="3571230">b</span>&nbsp;<span class="op" id="3571232">&lt;=</span>&nbsp;<span class="num" id="3571235">0x08</span><span class="op" id="3571239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3571244">b</span>&nbsp;<span class="op" id="3571246">==</span>&nbsp;<span class="num" id="3571249">0x0B</span><span class="op" id="3571253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="3571258">0x0E</span>&nbsp;<span class="op" id="3571263">&lt;=</span>&nbsp;<span class="ident" id="3571266">b</span>&nbsp;<span class="op" id="3571268">&amp;&amp;</span>&nbsp;<span class="ident" id="3571271">b</span>&nbsp;<span class="op" id="3571273">&lt;=</span>&nbsp;<span class="num" id="3571276">0x1A</span><span class="op" id="3571280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="3571285">0x1C</span>&nbsp;<span class="op" id="3571290">&lt;=</span>&nbsp;<span class="ident" id="3571293">b</span>&nbsp;<span class="op" id="3571295">&amp;&amp;</span>&nbsp;<span class="ident" id="3571298">b</span>&nbsp;<span class="op" id="3571300">&lt;=</span>&nbsp;<span class="num" id="3571303">0x1F</span><span class="op" id="3571307">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3571312">return</span>&nbsp;<span class="string" id="3571319">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3571324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3571327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3571330">return</span>&nbsp;<span class="string" id="3571337">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3571365">}</span>
</div>
</body>
</html>
