<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7714517">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7714572">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7714626">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7714677">package</span>&nbsp;<span class="ident" id="7714685">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7714692">import</span>&nbsp;<span class="op" id="7714699">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7714702">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7714717">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7714727">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7714730">func</span>&nbsp;<span class="ident" id="7714735">TestYCbCr</span><span class="op" id="7714744">(</span><span class="ident" id="7714745">t</span>&nbsp;<span class="op" id="7714747">*</span><span class="ident" id="7714748">testing</span><span class="op" id="7714755">.</span><span class="ident" id="7714756">T</span><span class="op" id="7714757">)</span>&nbsp;<span class="op" id="7714759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714762">rects</span>&nbsp;<span class="op" id="7714768">:=</span>&nbsp;<span class="op" id="7714771">[</span><span class="op" id="7714772">]</span><span class="ident" id="7714773">Rectangle</span><span class="op" id="7714782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714786">Rect</span><span class="op" id="7714790">(</span><span class="num" id="7714791">0</span><span class="op" id="7714792">,</span>&nbsp;<span class="num" id="7714794">0</span><span class="op" id="7714795">,</span>&nbsp;<span class="num" id="7714797">16</span><span class="op" id="7714799">,</span>&nbsp;<span class="num" id="7714801">16</span><span class="op" id="7714803">)</span><span class="op" id="7714804">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714808">Rect</span><span class="op" id="7714812">(</span><span class="num" id="7714813">1</span><span class="op" id="7714814">,</span>&nbsp;<span class="num" id="7714816">0</span><span class="op" id="7714817">,</span>&nbsp;<span class="num" id="7714819">16</span><span class="op" id="7714821">,</span>&nbsp;<span class="num" id="7714823">16</span><span class="op" id="7714825">)</span><span class="op" id="7714826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714830">Rect</span><span class="op" id="7714834">(</span><span class="num" id="7714835">0</span><span class="op" id="7714836">,</span>&nbsp;<span class="num" id="7714838">1</span><span class="op" id="7714839">,</span>&nbsp;<span class="num" id="7714841">16</span><span class="op" id="7714843">,</span>&nbsp;<span class="num" id="7714845">16</span><span class="op" id="7714847">)</span><span class="op" id="7714848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714852">Rect</span><span class="op" id="7714856">(</span><span class="num" id="7714857">1</span><span class="op" id="7714858">,</span>&nbsp;<span class="num" id="7714860">1</span><span class="op" id="7714861">,</span>&nbsp;<span class="num" id="7714863">16</span><span class="op" id="7714865">,</span>&nbsp;<span class="num" id="7714867">16</span><span class="op" id="7714869">)</span><span class="op" id="7714870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714874">Rect</span><span class="op" id="7714878">(</span><span class="num" id="7714879">1</span><span class="op" id="7714880">,</span>&nbsp;<span class="num" id="7714882">1</span><span class="op" id="7714883">,</span>&nbsp;<span class="num" id="7714885">15</span><span class="op" id="7714887">,</span>&nbsp;<span class="num" id="7714889">16</span><span class="op" id="7714891">)</span><span class="op" id="7714892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714896">Rect</span><span class="op" id="7714900">(</span><span class="num" id="7714901">1</span><span class="op" id="7714902">,</span>&nbsp;<span class="num" id="7714904">1</span><span class="op" id="7714905">,</span>&nbsp;<span class="num" id="7714907">16</span><span class="op" id="7714909">,</span>&nbsp;<span class="num" id="7714911">15</span><span class="op" id="7714913">)</span><span class="op" id="7714914">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714918">Rect</span><span class="op" id="7714922">(</span><span class="num" id="7714923">1</span><span class="op" id="7714924">,</span>&nbsp;<span class="num" id="7714926">1</span><span class="op" id="7714927">,</span>&nbsp;<span class="num" id="7714929">15</span><span class="op" id="7714931">,</span>&nbsp;<span class="num" id="7714933">15</span><span class="op" id="7714935">)</span><span class="op" id="7714936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714940">Rect</span><span class="op" id="7714944">(</span><span class="num" id="7714945">2</span><span class="op" id="7714946">,</span>&nbsp;<span class="num" id="7714948">3</span><span class="op" id="7714949">,</span>&nbsp;<span class="num" id="7714951">14</span><span class="op" id="7714953">,</span>&nbsp;<span class="num" id="7714955">15</span><span class="op" id="7714957">)</span><span class="op" id="7714958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714962">Rect</span><span class="op" id="7714966">(</span><span class="num" id="7714967">7</span><span class="op" id="7714968">,</span>&nbsp;<span class="num" id="7714970">0</span><span class="op" id="7714971">,</span>&nbsp;<span class="num" id="7714973">7</span><span class="op" id="7714974">,</span>&nbsp;<span class="num" id="7714976">16</span><span class="op" id="7714978">)</span><span class="op" id="7714979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714983">Rect</span><span class="op" id="7714987">(</span><span class="num" id="7714988">0</span><span class="op" id="7714989">,</span>&nbsp;<span class="num" id="7714991">8</span><span class="op" id="7714992">,</span>&nbsp;<span class="num" id="7714994">16</span><span class="op" id="7714996">,</span>&nbsp;<span class="num" id="7714998">8</span><span class="op" id="7714999">)</span><span class="op" id="7715000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715004">Rect</span><span class="op" id="7715008">(</span><span class="num" id="7715009">0</span><span class="op" id="7715010">,</span>&nbsp;<span class="num" id="7715012">0</span><span class="op" id="7715013">,</span>&nbsp;<span class="num" id="7715015">10</span><span class="op" id="7715017">,</span>&nbsp;<span class="num" id="7715019">11</span><span class="op" id="7715021">)</span><span class="op" id="7715022">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715026">Rect</span><span class="op" id="7715030">(</span><span class="num" id="7715031">5</span><span class="op" id="7715032">,</span>&nbsp;<span class="num" id="7715034">6</span><span class="op" id="7715035">,</span>&nbsp;<span class="num" id="7715037">16</span><span class="op" id="7715039">,</span>&nbsp;<span class="num" id="7715041">16</span><span class="op" id="7715043">)</span><span class="op" id="7715044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715048">Rect</span><span class="op" id="7715052">(</span><span class="num" id="7715053">7</span><span class="op" id="7715054">,</span>&nbsp;<span class="num" id="7715056">7</span><span class="op" id="7715057">,</span>&nbsp;<span class="num" id="7715059">8</span><span class="op" id="7715060">,</span>&nbsp;<span class="num" id="7715062">8</span><span class="op" id="7715063">)</span><span class="op" id="7715064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715068">Rect</span><span class="op" id="7715072">(</span><span class="num" id="7715073">7</span><span class="op" id="7715074">,</span>&nbsp;<span class="num" id="7715076">8</span><span class="op" id="7715077">,</span>&nbsp;<span class="num" id="7715079">8</span><span class="op" id="7715080">,</span>&nbsp;<span class="num" id="7715082">9</span><span class="op" id="7715083">)</span><span class="op" id="7715084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715088">Rect</span><span class="op" id="7715092">(</span><span class="num" id="7715093">8</span><span class="op" id="7715094">,</span>&nbsp;<span class="num" id="7715096">7</span><span class="op" id="7715097">,</span>&nbsp;<span class="num" id="7715099">9</span><span class="op" id="7715100">,</span>&nbsp;<span class="num" id="7715102">8</span><span class="op" id="7715103">)</span><span class="op" id="7715104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715108">Rect</span><span class="op" id="7715112">(</span><span class="num" id="7715113">8</span><span class="op" id="7715114">,</span>&nbsp;<span class="num" id="7715116">8</span><span class="op" id="7715117">,</span>&nbsp;<span class="num" id="7715119">9</span><span class="op" id="7715120">,</span>&nbsp;<span class="num" id="7715122">9</span><span class="op" id="7715123">)</span><span class="op" id="7715124">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715128">Rect</span><span class="op" id="7715132">(</span><span class="num" id="7715133">7</span><span class="op" id="7715134">,</span>&nbsp;<span class="num" id="7715136">7</span><span class="op" id="7715137">,</span>&nbsp;<span class="num" id="7715139">17</span><span class="op" id="7715141">,</span>&nbsp;<span class="num" id="7715143">17</span><span class="op" id="7715145">)</span><span class="op" id="7715146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715150">Rect</span><span class="op" id="7715154">(</span><span class="num" id="7715155">8</span><span class="op" id="7715156">,</span>&nbsp;<span class="num" id="7715158">8</span><span class="op" id="7715159">,</span>&nbsp;<span class="num" id="7715161">17</span><span class="op" id="7715163">,</span>&nbsp;<span class="num" id="7715165">17</span><span class="op" id="7715167">)</span><span class="op" id="7715168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715172">Rect</span><span class="op" id="7715176">(</span><span class="num" id="7715177">9</span><span class="op" id="7715178">,</span>&nbsp;<span class="num" id="7715180">9</span><span class="op" id="7715181">,</span>&nbsp;<span class="num" id="7715183">17</span><span class="op" id="7715185">,</span>&nbsp;<span class="num" id="7715187">17</span><span class="op" id="7715189">)</span><span class="op" id="7715190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715194">Rect</span><span class="op" id="7715198">(</span><span class="num" id="7715199">10</span><span class="op" id="7715201">,</span>&nbsp;<span class="num" id="7715203">10</span><span class="op" id="7715205">,</span>&nbsp;<span class="num" id="7715207">17</span><span class="op" id="7715209">,</span>&nbsp;<span class="num" id="7715211">17</span><span class="op" id="7715213">)</span><span class="op" id="7715214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7715217">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715220">subsampleRatios</span>&nbsp;<span class="op" id="7715236">:=</span>&nbsp;<span class="op" id="7715239">[</span><span class="op" id="7715240">]</span><span class="ident" id="7715241">YCbCrSubsampleRatio</span><span class="op" id="7715260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715264">YCbCrSubsampleRatio444</span><span class="op" id="7715286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715290">YCbCrSubsampleRatio422</span><span class="op" id="7715312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715316">YCbCrSubsampleRatio420</span><span class="op" id="7715338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715342">YCbCrSubsampleRatio440</span><span class="op" id="7715364">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7715367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715370">deltas</span>&nbsp;<span class="op" id="7715377">:=</span>&nbsp;<span class="op" id="7715380">[</span><span class="op" id="7715381">]</span><span class="ident" id="7715382">Point</span><span class="op" id="7715387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715391">Pt</span><span class="op" id="7715393">(</span><span class="num" id="7715394">0</span><span class="op" id="7715395">,</span>&nbsp;<span class="num" id="7715397">0</span><span class="op" id="7715398">)</span><span class="op" id="7715399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715403">Pt</span><span class="op" id="7715405">(</span><span class="num" id="7715406">1000</span><span class="op" id="7715410">,</span>&nbsp;<span class="num" id="7715412">1001</span><span class="op" id="7715416">)</span><span class="op" id="7715417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715421">Pt</span><span class="op" id="7715423">(</span><span class="num" id="7715424">5001</span><span class="op" id="7715428">,</span>&nbsp;<span class="op" id="7715430">-</span><span class="num" id="7715431">400</span><span class="op" id="7715434">)</span><span class="op" id="7715435">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715439">Pt</span><span class="op" id="7715441">(</span><span class="op" id="7715442">-</span><span class="num" id="7715443">701</span><span class="op" id="7715446">,</span>&nbsp;<span class="op" id="7715448">-</span><span class="num" id="7715449">801</span><span class="op" id="7715452">)</span><span class="op" id="7715453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7715456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7715459">for</span>&nbsp;<span class="ident" id="7715463">_</span><span class="op" id="7715464">,</span>&nbsp;<span class="ident" id="7715466">r</span>&nbsp;<span class="op" id="7715468">:=</span>&nbsp;<span class="keyword" id="7715471">range</span>&nbsp;<span class="ident" id="7715477">rects</span>&nbsp;<span class="op" id="7715483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7715487">for</span>&nbsp;<span class="ident" id="7715491">_</span><span class="op" id="7715492">,</span>&nbsp;<span class="ident" id="7715494">subsampleRatio</span>&nbsp;<span class="op" id="7715509">:=</span>&nbsp;<span class="keyword" id="7715512">range</span>&nbsp;<span class="ident" id="7715518">subsampleRatios</span>&nbsp;<span class="op" id="7715534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7715539">for</span>&nbsp;<span class="ident" id="7715543">_</span><span class="op" id="7715544">,</span>&nbsp;<span class="ident" id="7715546">delta</span>&nbsp;<span class="op" id="7715552">:=</span>&nbsp;<span class="keyword" id="7715555">range</span>&nbsp;<span class="ident" id="7715561">deltas</span>&nbsp;<span class="op" id="7715568">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715574">testYCbCr</span><span class="op" id="7715583">(</span><span class="ident" id="7715584">t</span><span class="op" id="7715585">,</span>&nbsp;<span class="ident" id="7715587">r</span><span class="op" id="7715588">,</span>&nbsp;<span class="ident" id="7715590">subsampleRatio</span><span class="op" id="7715604">,</span>&nbsp;<span class="ident" id="7715606">delta</span><span class="op" id="7715611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7715616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7715620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7715624">if</span>&nbsp;<span class="ident" id="7715627">testing</span><span class="op" id="7715634">.</span><span class="ident" id="7715635">Short</span><span class="op" id="7715640">(</span><span class="op" id="7715641">)</span>&nbsp;<span class="op" id="7715643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7715648">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7715656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7715659">}</span><br>
<span class="lineno"></span><span class="op" id="7715661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7715664">func</span>&nbsp;<span class="ident" id="7715669">testYCbCr</span><span class="op" id="7715678">(</span><span class="ident" id="7715679">t</span>&nbsp;<span class="op" id="7715681">*</span><span class="ident" id="7715682">testing</span><span class="op" id="7715689">.</span><span class="ident" id="7715690">T</span><span class="op" id="7715691">,</span>&nbsp;<span class="ident" id="7715693">r</span>&nbsp;<span class="ident" id="7715695">Rectangle</span><span class="op" id="7715704">,</span>&nbsp;<span class="ident" id="7715706">subsampleRatio</span>&nbsp;<span class="ident" id="7715721">YCbCrSubsampleRatio</span><span class="op" id="7715740">,</span>&nbsp;<span class="ident" id="7715742">delta</span>&nbsp;<span class="ident" id="7715748">Point</span><span class="op" id="7715753">)</span>&nbsp;<span class="op" id="7715755">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7715758">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715839">r1</span>&nbsp;<span class="op" id="7715842">:=</span>&nbsp;<span class="ident" id="7715845">r</span><span class="op" id="7715846">.</span><span class="ident" id="7715847">Add</span><span class="op" id="7715850">(</span><span class="ident" id="7715851">delta</span><span class="op" id="7715856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7715859">m</span>&nbsp;<span class="op" id="7715861">:=</span>&nbsp;<span class="ident" id="7715864">NewYCbCr</span><span class="op" id="7715872">(</span><span class="ident" id="7715873">r1</span><span class="op" id="7715875">,</span>&nbsp;<span class="ident" id="7715877">subsampleRatio</span><span class="op" id="7715891">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7715895">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7715997">if</span>&nbsp;<span class="builtinfunc" id="7716000">len</span><span class="op" id="7716003">(</span><span class="ident" id="7716004">m</span><span class="op" id="7716005">.</span><span class="ident" id="7716006">Y</span><span class="op" id="7716007">)</span>&nbsp;<span class="op" id="7716009">&gt;</span>&nbsp;<span class="num" id="7716011">100</span><span class="op" id="7716014">*</span><span class="num" id="7716015">100</span>&nbsp;<span class="op" id="7716019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716023">t</span><span class="op" id="7716024">.</span><span class="ident" id="7716025">Errorf</span><span class="op" id="7716031">(</span><span class="string" id="7716032">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="7716094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716099">r</span><span class="op" id="7716100">,</span>&nbsp;<span class="ident" id="7716102">subsampleRatio</span><span class="op" id="7716116">,</span>&nbsp;<span class="ident" id="7716118">delta</span><span class="op" id="7716123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716127">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7716135">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7716139">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7716226">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716308">for</span>&nbsp;<span class="ident" id="7716312">y</span>&nbsp;<span class="op" id="7716314">:=</span>&nbsp;<span class="ident" id="7716317">r1</span><span class="op" id="7716319">.</span><span class="ident" id="7716320">Min</span><span class="op" id="7716323">.</span><span class="ident" id="7716324">Y</span><span class="op" id="7716325">;</span>&nbsp;<span class="ident" id="7716327">y</span>&nbsp;<span class="op" id="7716329">&lt;</span>&nbsp;<span class="ident" id="7716331">r1</span><span class="op" id="7716333">.</span><span class="ident" id="7716334">Max</span><span class="op" id="7716337">.</span><span class="ident" id="7716338">Y</span><span class="op" id="7716339">;</span>&nbsp;<span class="ident" id="7716341">y</span><span class="op" id="7716342">++</span>&nbsp;<span class="op" id="7716345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716349">for</span>&nbsp;<span class="ident" id="7716353">x</span>&nbsp;<span class="op" id="7716355">:=</span>&nbsp;<span class="ident" id="7716358">r1</span><span class="op" id="7716360">.</span><span class="ident" id="7716361">Min</span><span class="op" id="7716364">.</span><span class="ident" id="7716365">X</span><span class="op" id="7716366">;</span>&nbsp;<span class="ident" id="7716368">x</span>&nbsp;<span class="op" id="7716370">&lt;</span>&nbsp;<span class="ident" id="7716372">r1</span><span class="op" id="7716374">.</span><span class="ident" id="7716375">Max</span><span class="op" id="7716378">.</span><span class="ident" id="7716379">X</span><span class="op" id="7716380">;</span>&nbsp;<span class="ident" id="7716382">x</span><span class="op" id="7716383">++</span>&nbsp;<span class="op" id="7716386">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716391">yi</span>&nbsp;<span class="op" id="7716394">:=</span>&nbsp;<span class="ident" id="7716397">m</span><span class="op" id="7716398">.</span><span class="ident" id="7716399">YOffset</span><span class="op" id="7716406">(</span><span class="ident" id="7716407">x</span><span class="op" id="7716408">,</span>&nbsp;<span class="ident" id="7716410">y</span><span class="op" id="7716411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716416">ci</span>&nbsp;<span class="op" id="7716419">:=</span>&nbsp;<span class="ident" id="7716422">m</span><span class="op" id="7716423">.</span><span class="ident" id="7716424">COffset</span><span class="op" id="7716431">(</span><span class="ident" id="7716432">x</span><span class="op" id="7716433">,</span>&nbsp;<span class="ident" id="7716435">y</span><span class="op" id="7716436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716441">m</span><span class="op" id="7716442">.</span><span class="ident" id="7716443">Y</span><span class="op" id="7716444">[</span><span class="ident" id="7716445">yi</span><span class="op" id="7716447">]</span>&nbsp;<span class="op" id="7716449">=</span>&nbsp;<span class="builtintype" id="7716451">uint8</span><span class="op" id="7716456">(</span><span class="num" id="7716457">16</span><span class="op" id="7716459">*</span><span class="ident" id="7716460">y</span>&nbsp;<span class="op" id="7716462">+</span>&nbsp;<span class="ident" id="7716464">x</span><span class="op" id="7716465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716470">m</span><span class="op" id="7716471">.</span><span class="ident" id="7716472">Cb</span><span class="op" id="7716474">[</span><span class="ident" id="7716475">ci</span><span class="op" id="7716477">]</span>&nbsp;<span class="op" id="7716479">=</span>&nbsp;<span class="builtintype" id="7716481">uint8</span><span class="op" id="7716486">(</span><span class="ident" id="7716487">y</span>&nbsp;<span class="op" id="7716489">+</span>&nbsp;<span class="num" id="7716491">16</span><span class="op" id="7716493">*</span><span class="ident" id="7716494">x</span><span class="op" id="7716495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716500">m</span><span class="op" id="7716501">.</span><span class="ident" id="7716502">Cr</span><span class="op" id="7716504">[</span><span class="ident" id="7716505">ci</span><span class="op" id="7716507">]</span>&nbsp;<span class="op" id="7716509">=</span>&nbsp;<span class="builtintype" id="7716511">uint8</span><span class="op" id="7716516">(</span><span class="ident" id="7716517">y</span>&nbsp;<span class="op" id="7716519">+</span>&nbsp;<span class="num" id="7716521">16</span><span class="op" id="7716523">*</span><span class="ident" id="7716524">x</span><span class="op" id="7716525">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7716529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7716532">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7716536">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716570">for</span>&nbsp;<span class="ident" id="7716574">y0</span>&nbsp;<span class="op" id="7716577">:=</span>&nbsp;<span class="ident" id="7716580">delta</span><span class="op" id="7716585">.</span><span class="ident" id="7716586">Y</span>&nbsp;<span class="op" id="7716588">+</span>&nbsp;<span class="num" id="7716590">3</span><span class="op" id="7716591">;</span>&nbsp;<span class="ident" id="7716593">y0</span>&nbsp;<span class="op" id="7716596">&lt;</span>&nbsp;<span class="ident" id="7716598">delta</span><span class="op" id="7716603">.</span><span class="ident" id="7716604">Y</span><span class="op" id="7716605">+</span><span class="num" id="7716606">7</span><span class="op" id="7716607">;</span>&nbsp;<span class="ident" id="7716609">y0</span><span class="op" id="7716611">++</span>&nbsp;<span class="op" id="7716614">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716618">for</span>&nbsp;<span class="ident" id="7716622">y1</span>&nbsp;<span class="op" id="7716625">:=</span>&nbsp;<span class="ident" id="7716628">delta</span><span class="op" id="7716633">.</span><span class="ident" id="7716634">Y</span>&nbsp;<span class="op" id="7716636">+</span>&nbsp;<span class="num" id="7716638">8</span><span class="op" id="7716639">;</span>&nbsp;<span class="ident" id="7716641">y1</span>&nbsp;<span class="op" id="7716644">&lt;</span>&nbsp;<span class="ident" id="7716646">delta</span><span class="op" id="7716651">.</span><span class="ident" id="7716652">Y</span><span class="op" id="7716653">+</span><span class="num" id="7716654">13</span><span class="op" id="7716656">;</span>&nbsp;<span class="ident" id="7716658">y1</span><span class="op" id="7716660">++</span>&nbsp;<span class="op" id="7716663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716668">for</span>&nbsp;<span class="ident" id="7716672">x0</span>&nbsp;<span class="op" id="7716675">:=</span>&nbsp;<span class="ident" id="7716678">delta</span><span class="op" id="7716683">.</span><span class="ident" id="7716684">X</span>&nbsp;<span class="op" id="7716686">+</span>&nbsp;<span class="num" id="7716688">3</span><span class="op" id="7716689">;</span>&nbsp;<span class="ident" id="7716691">x0</span>&nbsp;<span class="op" id="7716694">&lt;</span>&nbsp;<span class="ident" id="7716696">delta</span><span class="op" id="7716701">.</span><span class="ident" id="7716702">X</span><span class="op" id="7716703">+</span><span class="num" id="7716704">7</span><span class="op" id="7716705">;</span>&nbsp;<span class="ident" id="7716707">x0</span><span class="op" id="7716709">++</span>&nbsp;<span class="op" id="7716712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716718">for</span>&nbsp;<span class="ident" id="7716722">x1</span>&nbsp;<span class="op" id="7716725">:=</span>&nbsp;<span class="ident" id="7716728">delta</span><span class="op" id="7716733">.</span><span class="ident" id="7716734">X</span>&nbsp;<span class="op" id="7716736">+</span>&nbsp;<span class="num" id="7716738">8</span><span class="op" id="7716739">;</span>&nbsp;<span class="ident" id="7716741">x1</span>&nbsp;<span class="op" id="7716744">&lt;</span>&nbsp;<span class="ident" id="7716746">delta</span><span class="op" id="7716751">.</span><span class="ident" id="7716752">X</span><span class="op" id="7716753">+</span><span class="num" id="7716754">13</span><span class="op" id="7716756">;</span>&nbsp;<span class="ident" id="7716758">x1</span><span class="op" id="7716760">++</span>&nbsp;<span class="op" id="7716763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716770">subRect</span>&nbsp;<span class="op" id="7716778">:=</span>&nbsp;<span class="ident" id="7716781">Rect</span><span class="op" id="7716785">(</span><span class="ident" id="7716786">x0</span><span class="op" id="7716788">,</span>&nbsp;<span class="ident" id="7716790">y0</span><span class="op" id="7716792">,</span>&nbsp;<span class="ident" id="7716794">x1</span><span class="op" id="7716796">,</span>&nbsp;<span class="ident" id="7716798">y1</span><span class="op" id="7716800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7716807">sub</span>&nbsp;<span class="op" id="7716811">:=</span>&nbsp;<span class="ident" id="7716814">m</span><span class="op" id="7716815">.</span><span class="ident" id="7716816">SubImage</span><span class="op" id="7716824">(</span><span class="ident" id="7716825">subRect</span><span class="op" id="7716832">)</span><span class="op" id="7716833">.</span><span class="op" id="7716834">(</span><span class="op" id="7716835">*</span><span class="ident" id="7716836">YCbCr</span><span class="op" id="7716841">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7716849">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716942">for</span>&nbsp;<span class="ident" id="7716946">y</span>&nbsp;<span class="op" id="7716948">:=</span>&nbsp;<span class="ident" id="7716951">sub</span><span class="op" id="7716954">.</span><span class="ident" id="7716955">Rect</span><span class="op" id="7716959">.</span><span class="ident" id="7716960">Min</span><span class="op" id="7716963">.</span><span class="ident" id="7716964">Y</span><span class="op" id="7716965">;</span>&nbsp;<span class="ident" id="7716967">y</span>&nbsp;<span class="op" id="7716969">&lt;</span>&nbsp;<span class="ident" id="7716971">sub</span><span class="op" id="7716974">.</span><span class="ident" id="7716975">Rect</span><span class="op" id="7716979">.</span><span class="ident" id="7716980">Max</span><span class="op" id="7716983">.</span><span class="ident" id="7716984">Y</span><span class="op" id="7716985">;</span>&nbsp;<span class="ident" id="7716987">y</span><span class="op" id="7716988">++</span>&nbsp;<span class="op" id="7716991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7716999">for</span>&nbsp;<span class="ident" id="7717003">x</span>&nbsp;<span class="op" id="7717005">:=</span>&nbsp;<span class="ident" id="7717008">sub</span><span class="op" id="7717011">.</span><span class="ident" id="7717012">Rect</span><span class="op" id="7717016">.</span><span class="ident" id="7717017">Min</span><span class="op" id="7717020">.</span><span class="ident" id="7717021">X</span><span class="op" id="7717022">;</span>&nbsp;<span class="ident" id="7717024">x</span>&nbsp;<span class="op" id="7717026">&lt;</span>&nbsp;<span class="ident" id="7717028">sub</span><span class="op" id="7717031">.</span><span class="ident" id="7717032">Rect</span><span class="op" id="7717036">.</span><span class="ident" id="7717037">Max</span><span class="op" id="7717040">.</span><span class="ident" id="7717041">X</span><span class="op" id="7717042">;</span>&nbsp;<span class="ident" id="7717044">x</span><span class="op" id="7717045">++</span>&nbsp;<span class="op" id="7717048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7717057">color0</span>&nbsp;<span class="op" id="7717064">:=</span>&nbsp;<span class="ident" id="7717067">m</span><span class="op" id="7717068">.</span><span class="ident" id="7717069">At</span><span class="op" id="7717071">(</span><span class="ident" id="7717072">x</span><span class="op" id="7717073">,</span>&nbsp;<span class="ident" id="7717075">y</span><span class="op" id="7717076">)</span><span class="op" id="7717077">.</span><span class="op" id="7717078">(</span><span class="ident" id="7717079">color</span><span class="op" id="7717084">.</span><span class="ident" id="7717085">YCbCr</span><span class="op" id="7717090">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7717099">color1</span>&nbsp;<span class="op" id="7717106">:=</span>&nbsp;<span class="ident" id="7717109">sub</span><span class="op" id="7717112">.</span><span class="ident" id="7717113">At</span><span class="op" id="7717115">(</span><span class="ident" id="7717116">x</span><span class="op" id="7717117">,</span>&nbsp;<span class="ident" id="7717119">y</span><span class="op" id="7717120">)</span><span class="op" id="7717121">.</span><span class="op" id="7717122">(</span><span class="ident" id="7717123">color</span><span class="op" id="7717128">.</span><span class="ident" id="7717129">YCbCr</span><span class="op" id="7717134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7717143">if</span>&nbsp;<span class="ident" id="7717146">color0</span>&nbsp;<span class="op" id="7717153">!=</span>&nbsp;<span class="ident" id="7717156">color1</span>&nbsp;<span class="op" id="7717163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7717173">t</span><span class="op" id="7717174">.</span><span class="ident" id="7717175">Errorf</span><span class="op" id="7717181">(</span><span class="string" id="7717182">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="7717251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7717262">r</span><span class="op" id="7717263">,</span>&nbsp;<span class="ident" id="7717265">subsampleRatio</span><span class="op" id="7717279">,</span>&nbsp;<span class="ident" id="7717281">delta</span><span class="op" id="7717286">,</span>&nbsp;<span class="ident" id="7717288">x</span><span class="op" id="7717289">,</span>&nbsp;<span class="ident" id="7717291">y</span><span class="op" id="7717292">,</span>&nbsp;<span class="ident" id="7717294">color0</span><span class="op" id="7717300">,</span>&nbsp;<span class="ident" id="7717302">color1</span><span class="op" id="7717308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7717318">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717358">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717365">}</span><br>
<span class="lineno"></span><span class="op" id="7717367">}</span>
</div>
</body>
</html>
