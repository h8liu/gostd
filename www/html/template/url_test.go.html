<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6817293">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6817348">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6817402">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6817453">package</span>&nbsp;<span class="ident" id="6817461">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6817471">import</span>&nbsp;<span class="op" id="6817478">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6817481">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6817491">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6817494">func</span>&nbsp;<span class="ident" id="6817499">TestURLNormalizer</span><span class="op" id="6817516">(</span><span class="ident" id="6817517">t</span>&nbsp;<span class="op" id="6817519">*</span><span class="ident" id="6817520">testing</span><span class="op" id="6817527">.</span><span class="ident" id="6817528">T</span><span class="op" id="6817529">)</span>&nbsp;<span class="op" id="6817531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817534">tests</span>&nbsp;<span class="op" id="6817540">:=</span>&nbsp;<span class="op" id="6817543">[</span><span class="op" id="6817544">]</span><span class="keyword" id="6817545">struct</span>&nbsp;<span class="op" id="6817552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817556">url</span><span class="op" id="6817559">,</span>&nbsp;<span class="ident" id="6817561">want</span>&nbsp;<span class="builtintype" id="6817566">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817574">}</span><span class="op" id="6817575">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817579">{</span><span class="string" id="6817580">&#34;&#34;</span><span class="op" id="6817582">,</span>&nbsp;<span class="string" id="6817584">&#34;&#34;</span><span class="op" id="6817586">}</span><span class="op" id="6817587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6817596">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="6817649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6817654">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="6817707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817711">}</span><span class="op" id="6817712">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817716">{</span><span class="string" id="6817717">&#34;&nbsp;&#34;</span><span class="op" id="6817720">,</span>&nbsp;<span class="string" id="6817722">&#34;%20&#34;</span><span class="op" id="6817727">}</span><span class="op" id="6817728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817732">{</span><span class="string" id="6817733">&#34;%7c&#34;</span><span class="op" id="6817738">,</span>&nbsp;<span class="string" id="6817740">&#34;%7c&#34;</span><span class="op" id="6817745">}</span><span class="op" id="6817746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817750">{</span><span class="string" id="6817751">&#34;%7C&#34;</span><span class="op" id="6817756">,</span>&nbsp;<span class="string" id="6817758">&#34;%7C&#34;</span><span class="op" id="6817763">}</span><span class="op" id="6817764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817768">{</span><span class="string" id="6817769">&#34;%2&#34;</span><span class="op" id="6817773">,</span>&nbsp;<span class="string" id="6817775">&#34;%252&#34;</span><span class="op" id="6817781">}</span><span class="op" id="6817782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817786">{</span><span class="string" id="6817787">&#34;%&#34;</span><span class="op" id="6817790">,</span>&nbsp;<span class="string" id="6817792">&#34;%25&#34;</span><span class="op" id="6817797">}</span><span class="op" id="6817798">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817802">{</span><span class="string" id="6817803">&#34;%z&#34;</span><span class="op" id="6817807">,</span>&nbsp;<span class="string" id="6817809">&#34;%25z&#34;</span><span class="op" id="6817815">}</span><span class="op" id="6817816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817820">{</span><span class="string" id="6817821">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="6817841">,</span>&nbsp;<span class="string" id="6817843">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="6817868">}</span><span class="op" id="6817869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6817872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6817875">for</span>&nbsp;<span class="ident" id="6817879">_</span><span class="op" id="6817880">,</span>&nbsp;<span class="ident" id="6817882">test</span>&nbsp;<span class="op" id="6817887">:=</span>&nbsp;<span class="keyword" id="6817890">range</span>&nbsp;<span class="ident" id="6817896">tests</span>&nbsp;<span class="op" id="6817902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6817906">if</span>&nbsp;<span class="ident" id="6817909">got</span>&nbsp;<span class="op" id="6817913">:=</span>&nbsp;<span class="ident" id="6817916">urlNormalizer</span><span class="op" id="6817929">(</span><span class="ident" id="6817930">test</span><span class="op" id="6817934">.</span><span class="ident" id="6817935">url</span><span class="op" id="6817938">)</span><span class="op" id="6817939">;</span>&nbsp;<span class="ident" id="6817941">test</span><span class="op" id="6817945">.</span><span class="ident" id="6817946">want</span>&nbsp;<span class="op" id="6817951">!=</span>&nbsp;<span class="ident" id="6817954">got</span>&nbsp;<span class="op" id="6817958">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6817963">t</span><span class="op" id="6817964">.</span><span class="ident" id="6817965">Errorf</span><span class="op" id="6817971">(</span><span class="string" id="6817972">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="6818003">,</span>&nbsp;<span class="ident" id="6818005">test</span><span class="op" id="6818009">.</span><span class="ident" id="6818010">url</span><span class="op" id="6818013">,</span>&nbsp;<span class="ident" id="6818015">test</span><span class="op" id="6818019">.</span><span class="ident" id="6818020">want</span><span class="op" id="6818024">,</span>&nbsp;<span class="ident" id="6818026">got</span><span class="op" id="6818029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6818037">if</span>&nbsp;<span class="ident" id="6818040">test</span><span class="op" id="6818044">.</span><span class="ident" id="6818045">want</span>&nbsp;<span class="op" id="6818050">!=</span>&nbsp;<span class="ident" id="6818053">urlNormalizer</span><span class="op" id="6818066">(</span><span class="ident" id="6818067">test</span><span class="op" id="6818071">.</span><span class="ident" id="6818072">want</span><span class="op" id="6818076">)</span>&nbsp;<span class="op" id="6818078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818083">t</span><span class="op" id="6818084">.</span><span class="ident" id="6818085">Errorf</span><span class="op" id="6818091">(</span><span class="string" id="6818092">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="6818112">,</span>&nbsp;<span class="ident" id="6818114">test</span><span class="op" id="6818118">.</span><span class="ident" id="6818119">want</span><span class="op" id="6818123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818127">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818130">}</span><br>
<span class="lineno"></span><span class="op" id="6818132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6818135">func</span>&nbsp;<span class="ident" id="6818140">TestURLFilters</span><span class="op" id="6818154">(</span><span class="ident" id="6818155">t</span>&nbsp;<span class="op" id="6818157">*</span><span class="ident" id="6818158">testing</span><span class="op" id="6818165">.</span><span class="ident" id="6818166">T</span><span class="op" id="6818167">)</span>&nbsp;<span class="op" id="6818169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818172">input</span>&nbsp;<span class="op" id="6818178">:=</span>&nbsp;<span class="op" id="6818181">(</span><span class="string" id="6818182">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="6818243">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818247">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="6818314">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818318">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="6818337">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818341">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="6818360">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818364">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="6818383">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818387">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="6818406">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818410">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6818429">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818433">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="6818455">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818459">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="6818501">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818505">tests</span>&nbsp;<span class="op" id="6818511">:=</span>&nbsp;<span class="op" id="6818514">[</span><span class="op" id="6818515">]</span><span class="keyword" id="6818516">struct</span>&nbsp;<span class="op" id="6818523">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818527">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6818535">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818544">escaper</span>&nbsp;<span class="keyword" id="6818552">func</span><span class="op" id="6818556">(</span><span class="op" id="6818557">...</span><span class="keyword" id="6818560">interface</span><span class="op" id="6818569">{</span><span class="op" id="6818570">}</span><span class="op" id="6818571">)</span>&nbsp;<span class="builtintype" id="6818573">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818582">escaped</span>&nbsp;<span class="builtintype" id="6818590">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818598">}</span><span class="op" id="6818599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6818603">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818608">&#34;urlEscaper&#34;</span><span class="op" id="6818620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6818625">urlEscaper</span><span class="op" id="6818635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818640">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="6818691">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818697">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="6818748">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818754">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="6818801">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818807">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="6818838">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818844">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="6818865">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818871">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="6818898">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818904">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6818925">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818931">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="6818958">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6818964">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="6819017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819021">}</span><span class="op" id="6819022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819031">&#34;urlNormalizer&#34;</span><span class="op" id="6819046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6819051">urlNormalizer</span><span class="op" id="6819064">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819069">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="6819120">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819126">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="6819177">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819183">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="6819214">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819220">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="6819243">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819249">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="6819268">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819274">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="6819297">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819303">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="6819324">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819330">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="6819357">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6819363">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="6819416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819420">}</span><span class="op" id="6819421">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819428">for</span>&nbsp;<span class="ident" id="6819432">_</span><span class="op" id="6819433">,</span>&nbsp;<span class="ident" id="6819435">test</span>&nbsp;<span class="op" id="6819440">:=</span>&nbsp;<span class="keyword" id="6819443">range</span>&nbsp;<span class="ident" id="6819449">tests</span>&nbsp;<span class="op" id="6819455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819459">if</span>&nbsp;<span class="ident" id="6819462">s</span>&nbsp;<span class="op" id="6819464">:=</span>&nbsp;<span class="ident" id="6819467">test</span><span class="op" id="6819471">.</span><span class="ident" id="6819472">escaper</span><span class="op" id="6819479">(</span><span class="ident" id="6819480">input</span><span class="op" id="6819485">)</span><span class="op" id="6819486">;</span>&nbsp;<span class="ident" id="6819488">s</span>&nbsp;<span class="op" id="6819490">!=</span>&nbsp;<span class="ident" id="6819493">test</span><span class="op" id="6819497">.</span><span class="ident" id="6819498">escaped</span>&nbsp;<span class="op" id="6819506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6819511">t</span><span class="op" id="6819512">.</span><span class="ident" id="6819513">Errorf</span><span class="op" id="6819519">(</span><span class="string" id="6819520">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="6819547">,</span>&nbsp;<span class="ident" id="6819549">test</span><span class="op" id="6819553">.</span><span class="ident" id="6819554">name</span><span class="op" id="6819558">,</span>&nbsp;<span class="ident" id="6819560">test</span><span class="op" id="6819564">.</span><span class="ident" id="6819565">escaped</span><span class="op" id="6819572">,</span>&nbsp;<span class="ident" id="6819574">s</span><span class="op" id="6819575">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819580">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819594">}</span><br>
<span class="lineno"></span><span class="op" id="6819596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6819599">func</span>&nbsp;<span class="ident" id="6819604">BenchmarkURLEscaper</span><span class="op" id="6819623">(</span><span class="ident" id="6819624">b</span>&nbsp;<span class="op" id="6819626">*</span><span class="ident" id="6819627">testing</span><span class="op" id="6819634">.</span><span class="ident" id="6819635">B</span><span class="op" id="6819636">)</span>&nbsp;<span class="op" id="6819638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819641">for</span>&nbsp;<span class="ident" id="6819645">i</span>&nbsp;<span class="op" id="6819647">:=</span>&nbsp;<span class="num" id="6819650">0</span><span class="op" id="6819651">;</span>&nbsp;<span class="ident" id="6819653">i</span>&nbsp;<span class="op" id="6819655">&lt;</span>&nbsp;<span class="ident" id="6819657">b</span><span class="op" id="6819658">.</span><span class="ident" id="6819659">N</span><span class="op" id="6819660">;</span>&nbsp;<span class="ident" id="6819662">i</span><span class="op" id="6819663">++</span>&nbsp;<span class="op" id="6819666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6819670">urlEscaper</span><span class="op" id="6819680">(</span><span class="string" id="6819681">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="6819730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819733">}</span><br>
<span class="lineno"></span><span class="op" id="6819735">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="6819738">func</span>&nbsp;<span class="ident" id="6819743">BenchmarkURLEscaperNoSpecials</span><span class="op" id="6819772">(</span><span class="ident" id="6819773">b</span>&nbsp;<span class="op" id="6819775">*</span><span class="ident" id="6819776">testing</span><span class="op" id="6819783">.</span><span class="ident" id="6819784">B</span><span class="op" id="6819785">)</span>&nbsp;<span class="op" id="6819787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819790">for</span>&nbsp;<span class="ident" id="6819794">i</span>&nbsp;<span class="op" id="6819796">:=</span>&nbsp;<span class="num" id="6819799">0</span><span class="op" id="6819800">;</span>&nbsp;<span class="ident" id="6819802">i</span>&nbsp;<span class="op" id="6819804">&lt;</span>&nbsp;<span class="ident" id="6819806">b</span><span class="op" id="6819807">.</span><span class="ident" id="6819808">N</span><span class="op" id="6819809">;</span>&nbsp;<span class="ident" id="6819811">i</span><span class="op" id="6819812">++</span>&nbsp;<span class="op" id="6819815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6819819">urlEscaper</span><span class="op" id="6819829">(</span><span class="string" id="6819830">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="6819868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6819871">}</span><br>
<span class="lineno">100</span><span class="op" id="6819873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6819876">func</span>&nbsp;<span class="ident" id="6819881">BenchmarkURLNormalizer</span><span class="op" id="6819903">(</span><span class="ident" id="6819904">b</span>&nbsp;<span class="op" id="6819906">*</span><span class="ident" id="6819907">testing</span><span class="op" id="6819914">.</span><span class="ident" id="6819915">B</span><span class="op" id="6819916">)</span>&nbsp;<span class="op" id="6819918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6819921">for</span>&nbsp;<span class="ident" id="6819925">i</span>&nbsp;<span class="op" id="6819927">:=</span>&nbsp;<span class="num" id="6819930">0</span><span class="op" id="6819931">;</span>&nbsp;<span class="ident" id="6819933">i</span>&nbsp;<span class="op" id="6819935">&lt;</span>&nbsp;<span class="ident" id="6819937">b</span><span class="op" id="6819938">.</span><span class="ident" id="6819939">N</span><span class="op" id="6819940">;</span>&nbsp;<span class="ident" id="6819942">i</span><span class="op" id="6819943">++</span>&nbsp;<span class="op" id="6819946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6819950">urlNormalizer</span><span class="op" id="6819963">(</span><span class="string" id="6819964">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="6820012">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820015">}</span><br>
<span class="lineno"></span><span class="op" id="6820017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6820020">func</span>&nbsp;<span class="ident" id="6820025">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="6820057">(</span><span class="ident" id="6820058">b</span>&nbsp;<span class="op" id="6820060">*</span><span class="ident" id="6820061">testing</span><span class="op" id="6820068">.</span><span class="ident" id="6820069">B</span><span class="op" id="6820070">)</span>&nbsp;<span class="op" id="6820072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6820075">for</span>&nbsp;<span class="ident" id="6820079">i</span>&nbsp;<span class="op" id="6820081">:=</span>&nbsp;<span class="num" id="6820084">0</span><span class="op" id="6820085">;</span>&nbsp;<span class="ident" id="6820087">i</span>&nbsp;<span class="op" id="6820089">&lt;</span>&nbsp;<span class="ident" id="6820091">b</span><span class="op" id="6820092">.</span><span class="ident" id="6820093">N</span><span class="op" id="6820094">;</span>&nbsp;<span class="ident" id="6820096">i</span><span class="op" id="6820097">++</span>&nbsp;<span class="op" id="6820100">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6820104">urlNormalizer</span><span class="op" id="6820117">(</span><span class="string" id="6820118">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="6820167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6820170">}</span><br>
<span class="lineno"></span><span class="op" id="6820172">}</span>
</div>
</body>
</html>
