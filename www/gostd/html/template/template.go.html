<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html" class="current">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4946223">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4946278">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4946332">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4946383">package</span>&nbsp;<span class="ident" id="4946391">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4946401">import</span>&nbsp;<span class="op" id="4946408">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4946411">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4946418">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4946424">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4946437">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4946454">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4946462">&#34;text/template&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4946479">&#34;text/template/parse&#34;</span><br>
<span class="lineno">15</span><span class="op" id="4946501">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4946504">//&nbsp;Template&nbsp;is&nbsp;a&nbsp;specialized&nbsp;Template&nbsp;from&nbsp;&#34;text/template&#34;&nbsp;that&nbsp;produces&nbsp;a&nbsp;safe</span><br>
<span class="lineno"></span><span class="comment" id="4946584">//&nbsp;HTML&nbsp;document&nbsp;fragment.</span><br>
<span class="lineno"></span><span class="keyword" id="4946611">type</span>&nbsp;<span class="ident" id="4946616">Template</span>&nbsp;<span class="keyword" id="4946625">struct</span>&nbsp;<span class="op" id="4946632">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4946635">//&nbsp;Sticky&nbsp;error&nbsp;if&nbsp;escaping&nbsp;fails.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4946671">escapeErr</span>&nbsp;<span class="builtintype" id="4946681">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4946688">//&nbsp;We&nbsp;could&nbsp;embed&nbsp;the&nbsp;text/template&nbsp;field,&nbsp;but&nbsp;it&#39;s&nbsp;safer&nbsp;not&nbsp;to&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4946762">//&nbsp;we&nbsp;need&nbsp;to&nbsp;keep&nbsp;our&nbsp;version&nbsp;of&nbsp;the&nbsp;name&nbsp;space&nbsp;and&nbsp;the&nbsp;underlying</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4946831">//&nbsp;template&#39;s&nbsp;in&nbsp;sync.</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4946855">text</span>&nbsp;<span class="op" id="4946860">*</span><span class="ident" id="4946861"><a href="/gostd/html/template/template.go.html#4946462">template</a></span><span class="op" id="4946869">.</span><span class="ident" id="4946870"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4946880">//&nbsp;The&nbsp;underlying&nbsp;template&#39;s&nbsp;parse&nbsp;tree,&nbsp;updated&nbsp;to&nbsp;be&nbsp;HTML-safe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4946947">Tree</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4946958">*</span><span class="ident" id="4946959"><a href="/gostd/html/template/template.go.html#4946479">parse</a></span><span class="op" id="4946964">.</span><span class="ident" id="4946965"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4946971">*</span><span class="ident" id="4946972"><a href="/gostd/html/template/template.go.html#4947228">nameSpace</a></span>&nbsp;<span class="comment" id="4946982">//&nbsp;common&nbsp;to&nbsp;all&nbsp;associated&nbsp;templates</span><br>
<span class="lineno"></span><span class="op" id="4947020">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="comment" id="4947023">//&nbsp;escapeOK&nbsp;is&nbsp;a&nbsp;sentinel&nbsp;value&nbsp;used&nbsp;to&nbsp;indicate&nbsp;valid&nbsp;escaping.</span><br>
<span class="lineno"></span><span class="keyword" id="4947088">var</span>&nbsp;<span class="ident" id="4947092">escapeOK</span>&nbsp;<span class="op" id="4947101">=</span>&nbsp;<span class="ident" id="4947103"><a href="/gostd/html/template/template.go.html#4946411">fmt</a></span><span class="op" id="4947106">.</span><span class="ident" id="4947107"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="4947113">(</span><span class="string" id="4947114">&#34;template&nbsp;escaped&nbsp;correctly&#34;</span><span class="op" id="4947142">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4947145">//&nbsp;nameSpace&nbsp;is&nbsp;the&nbsp;data&nbsp;structure&nbsp;shared&nbsp;by&nbsp;all&nbsp;templates&nbsp;in&nbsp;an&nbsp;association.</span><br>
<span class="lineno">35</span><span class="keyword" id="4947223">type</span>&nbsp;<span class="ident" id="4947228">nameSpace</span>&nbsp;<span class="keyword" id="4947238">struct</span>&nbsp;<span class="op" id="4947245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947248">mu</span>&nbsp;&nbsp;<span class="ident" id="4947252"><a href="/gostd/html/template/template.go.html#4946454">sync</a></span><span class="op" id="4947256">.</span><span class="ident" id="4947257"><a href="/gostd/sync/mutex.go.html#1443974">Mutex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947264">set</span>&nbsp;<span class="keyword" id="4947268">map</span><span class="op" id="4947271">[</span><span class="builtintype" id="4947272">string</span><span class="op" id="4947278">]</span><span class="op" id="4947279">*</span><span class="ident" id="4947280"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><br>
<span class="lineno"></span><span class="op" id="4947289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="4947292">//&nbsp;Templates&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;templates&nbsp;associated&nbsp;with&nbsp;t,&nbsp;including&nbsp;t</span><br>
<span class="lineno"></span><span class="comment" id="4947369">//&nbsp;itself.</span><br>
<span class="lineno"></span><span class="keyword" id="4947380">func</span>&nbsp;<span class="op" id="4947385">(</span><span class="ident" id="4947386">t</span>&nbsp;<span class="op" id="4947388">*</span><span class="ident" id="4947389"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4947397">)</span>&nbsp;<span class="ident" id="4947399">Templates</span><span class="op" id="4947408">(</span><span class="op" id="4947409">)</span>&nbsp;<span class="op" id="4947411">[</span><span class="op" id="4947412">]</span><span class="op" id="4947413">*</span><span class="ident" id="4947414"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span>&nbsp;<span class="op" id="4947423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947426">ns</span>&nbsp;<span class="op" id="4947429">:=</span>&nbsp;<span class="ident" id="4947432"><a href="/gostd/html/template/template.go.html#4947386">t</a></span><span class="op" id="4947433">.</span><span class="ident" id="4947434"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947445"><a href="/gostd/html/template/template.go.html#4947426">ns</a></span><span class="op" id="4947447">.</span><span class="ident" id="4947448"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4947450">.</span><span class="ident" id="4947451"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4947455">(</span><span class="op" id="4947456">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947459">defer</span>&nbsp;<span class="ident" id="4947465"><a href="/gostd/html/template/template.go.html#4947426">ns</a></span><span class="op" id="4947467">.</span><span class="ident" id="4947468"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4947470">.</span><span class="ident" id="4947471"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4947477">(</span><span class="op" id="4947478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4947481">//&nbsp;Return&nbsp;a&nbsp;slice&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;expose&nbsp;the&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947528">m</span>&nbsp;<span class="op" id="4947530">:=</span>&nbsp;<span class="builtinfunc" id="4947533">make</span><span class="op" id="4947537">(</span><span class="op" id="4947538">[</span><span class="op" id="4947539">]</span><span class="op" id="4947540">*</span><span class="ident" id="4947541"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4947549">,</span>&nbsp;<span class="num" id="4947551">0</span><span class="op" id="4947552">,</span>&nbsp;<span class="builtinfunc" id="4947554">len</span><span class="op" id="4947557">(</span><span class="ident" id="4947558"><a href="/gostd/html/template/template.go.html#4947426">ns</a></span><span class="op" id="4947560">.</span><span class="ident" id="4947561"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4947564">)</span><span class="op" id="4947565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947568">for</span>&nbsp;<span class="ident" id="4947572">_</span><span class="op" id="4947573">,</span>&nbsp;<span class="ident" id="4947575">v</span>&nbsp;<span class="op" id="4947577">:=</span>&nbsp;<span class="keyword" id="4947580">range</span>&nbsp;<span class="ident" id="4947586"><a href="/gostd/html/template/template.go.html#4947426">ns</a></span><span class="op" id="4947588">.</span><span class="ident" id="4947589"><a href="/gostd/html/template/template.go.html#4947264">set</a></span>&nbsp;<span class="op" id="4947593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947597"><a href="/gostd/html/template/template.go.html#4947528">m</a></span>&nbsp;<span class="op" id="4947599">=</span>&nbsp;<span class="builtinfunc" id="4947601">append</span><span class="op" id="4947607">(</span><span class="ident" id="4947608"><a href="/gostd/html/template/template.go.html#4947528">m</a></span><span class="op" id="4947609">,</span>&nbsp;<span class="ident" id="4947611"><a href="/gostd/html/template/template.go.html#4947575">v</a></span><span class="op" id="4947612">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4947615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947618">return</span>&nbsp;<span class="ident" id="4947625"><a href="/gostd/html/template/template.go.html#4947528">m</a></span><br>
<span class="lineno"></span><span class="op" id="4947627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4947630">//&nbsp;escape&nbsp;escapes&nbsp;all&nbsp;associated&nbsp;templates.</span><br>
<span class="lineno">55</span><span class="keyword" id="4947674">func</span>&nbsp;<span class="op" id="4947679">(</span><span class="ident" id="4947680">t</span>&nbsp;<span class="op" id="4947682">*</span><span class="ident" id="4947683"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4947691">)</span>&nbsp;<span class="ident" id="4947693">escape</span><span class="op" id="4947699">(</span><span class="op" id="4947700">)</span>&nbsp;<span class="builtintype" id="4947702">error</span>&nbsp;<span class="op" id="4947708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4947711"><a href="/gostd/html/template/template.go.html#4947680">t</a></span><span class="op" id="4947712">.</span><span class="ident" id="4947713"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4947722">.</span><span class="ident" id="4947723"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4947725">.</span><span class="ident" id="4947726"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4947730">(</span><span class="op" id="4947731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947734">defer</span>&nbsp;<span class="ident" id="4947740"><a href="/gostd/html/template/template.go.html#4947680">t</a></span><span class="op" id="4947741">.</span><span class="ident" id="4947742"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4947751">.</span><span class="ident" id="4947752"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4947754">.</span><span class="ident" id="4947755"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4947761">(</span><span class="op" id="4947762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947765">if</span>&nbsp;<span class="ident" id="4947768"><a href="/gostd/html/template/template.go.html#4947680">t</a></span><span class="op" id="4947769">.</span><span class="ident" id="4947770"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4947780">==</span>&nbsp;<span class="builtintype" id="4947783">nil</span>&nbsp;<span class="op" id="4947787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947791">if</span>&nbsp;<span class="ident" id="4947794">err</span>&nbsp;<span class="op" id="4947798">:=</span>&nbsp;<span class="ident" id="4947801"><a href="/gostd/html/template/escape.go.html#4904232">escapeTemplate</a></span><span class="op" id="4947815">(</span><span class="ident" id="4947816"><a href="/gostd/html/template/template.go.html#4947680">t</a></span><span class="op" id="4947817">,</span>&nbsp;<span class="ident" id="4947819"><a href="/gostd/html/template/template.go.html#4947680">t</a></span><span class="op" id="4947820">.</span><span class="ident" id="4947821"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4947825">.</span><span class="ident" id="4947826"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="4947830">,</span>&nbsp;<span class="ident" id="4947832"><a href="/gostd/html/template/template.go.html#4947680">t</a></span><span class="op" id="4947833">.</span><span class="ident" id="4947834"><a href="/gostd/html/template/template.go.html#4953778">Name</a></span><span class="op" id="4947838">(</span><span class="op" id="4947839">)</span><span class="op" id="4947840">)</span><span class="op" id="4947841">;</span>&nbsp;<span class="ident" id="4947843"><a href="/gostd/html/template/template.go.html#4947794">err</a></span>&nbsp;<span class="op" id="4947847">!=</span>&nbsp;<span class="builtintype" id="4947850">nil</span>&nbsp;<span class="op" id="4947854">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947859">return</span>&nbsp;<span class="ident" id="4947866"><a href="/gostd/html/template/template.go.html#4947794">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4947872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4947875">}</span>&nbsp;<span class="keyword" id="4947877">else</span>&nbsp;<span class="keyword" id="4947882">if</span>&nbsp;<span class="ident" id="4947885"><a href="/gostd/html/template/template.go.html#4947680">t</a></span><span class="op" id="4947886">.</span><span class="ident" id="4947887"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4947897">!=</span>&nbsp;<span class="ident" id="4947900"><a href="/gostd/html/template/template.go.html#4947092">escapeOK</a></span>&nbsp;<span class="op" id="4947909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947913">return</span>&nbsp;<span class="ident" id="4947920"><a href="/gostd/html/template/template.go.html#4947680">t</a></span><span class="op" id="4947921">.</span><span class="ident" id="4947922"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4947933">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4947936">return</span>&nbsp;<span class="builtintype" id="4947943">nil</span><br>
<span class="lineno"></span><span class="op" id="4947947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4947950">//&nbsp;Execute&nbsp;applies&nbsp;a&nbsp;parsed&nbsp;template&nbsp;to&nbsp;the&nbsp;specified&nbsp;data&nbsp;object,</span><br>
<span class="lineno"></span><span class="comment" id="4948017">//&nbsp;writing&nbsp;the&nbsp;output&nbsp;to&nbsp;wr.</span><br>
<span class="lineno">70</span><span class="comment" id="4948046">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs&nbsp;executing&nbsp;the&nbsp;template&nbsp;or&nbsp;writing&nbsp;its&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="4948114">//&nbsp;execution&nbsp;stops,&nbsp;but&nbsp;partial&nbsp;results&nbsp;may&nbsp;already&nbsp;have&nbsp;been&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4948187">//&nbsp;the&nbsp;output&nbsp;writer.</span><br>
<span class="lineno"></span><span class="comment" id="4948209">//&nbsp;A&nbsp;template&nbsp;may&nbsp;be&nbsp;executed&nbsp;safely&nbsp;in&nbsp;parallel.</span><br>
<span class="lineno"></span><span class="keyword" id="4948259">func</span>&nbsp;<span class="op" id="4948264">(</span><span class="ident" id="4948265">t</span>&nbsp;<span class="op" id="4948267">*</span><span class="ident" id="4948268"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4948276">)</span>&nbsp;<span class="ident" id="4948278">Execute</span><span class="op" id="4948285">(</span><span class="ident" id="4948286">wr</span>&nbsp;<span class="ident" id="4948289"><a href="/gostd/html/template/template.go.html#4946418">io</a></span><span class="op" id="4948291">.</span><span class="ident" id="4948292"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="4948298">,</span>&nbsp;<span class="ident" id="4948300">data</span>&nbsp;<span class="keyword" id="4948305">interface</span><span class="op" id="4948314">{</span><span class="op" id="4948315">}</span><span class="op" id="4948316">)</span>&nbsp;<span class="builtintype" id="4948318">error</span>&nbsp;<span class="op" id="4948324">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948327">if</span>&nbsp;<span class="ident" id="4948330">err</span>&nbsp;<span class="op" id="4948334">:=</span>&nbsp;<span class="ident" id="4948337"><a href="/gostd/html/template/template.go.html#4948265">t</a></span><span class="op" id="4948338">.</span><span class="ident" id="4948339"><a href="/gostd/html/template/template.go.html#4947693">escape</a></span><span class="op" id="4948345">(</span><span class="op" id="4948346">)</span><span class="op" id="4948347">;</span>&nbsp;<span class="ident" id="4948349"><a href="/gostd/html/template/template.go.html#4948330">err</a></span>&nbsp;<span class="op" id="4948353">!=</span>&nbsp;<span class="builtintype" id="4948356">nil</span>&nbsp;<span class="op" id="4948360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948364">return</span>&nbsp;<span class="ident" id="4948371"><a href="/gostd/html/template/template.go.html#4948330">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4948376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948379">return</span>&nbsp;<span class="ident" id="4948386"><a href="/gostd/html/template/template.go.html#4948265">t</a></span><span class="op" id="4948387">.</span><span class="ident" id="4948388"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4948392">.</span><span class="ident" id="4948393"><a href="/gostd/text/template/exec.go.html#3697581">Execute</a></span><span class="op" id="4948400">(</span><span class="ident" id="4948401"><a href="/gostd/html/template/template.go.html#4948286">wr</a></span><span class="op" id="4948403">,</span>&nbsp;<span class="ident" id="4948405"><a href="/gostd/html/template/template.go.html#4948300">data</a></span><span class="op" id="4948409">)</span><br>
<span class="lineno"></span><span class="op" id="4948411">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="4948414">//&nbsp;ExecuteTemplate&nbsp;applies&nbsp;the&nbsp;template&nbsp;associated&nbsp;with&nbsp;t&nbsp;that&nbsp;has&nbsp;the&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="4948491">//&nbsp;name&nbsp;to&nbsp;the&nbsp;specified&nbsp;data&nbsp;object&nbsp;and&nbsp;writes&nbsp;the&nbsp;output&nbsp;to&nbsp;wr.</span><br>
<span class="lineno"></span><span class="comment" id="4948557">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs&nbsp;executing&nbsp;the&nbsp;template&nbsp;or&nbsp;writing&nbsp;its&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="4948625">//&nbsp;execution&nbsp;stops,&nbsp;but&nbsp;partial&nbsp;results&nbsp;may&nbsp;already&nbsp;have&nbsp;been&nbsp;written&nbsp;to</span><br>
<span class="lineno">85</span><span class="comment" id="4948698">//&nbsp;the&nbsp;output&nbsp;writer.</span><br>
<span class="lineno"></span><span class="comment" id="4948720">//&nbsp;A&nbsp;template&nbsp;may&nbsp;be&nbsp;executed&nbsp;safely&nbsp;in&nbsp;parallel.</span><br>
<span class="lineno"></span><span class="keyword" id="4948770">func</span>&nbsp;<span class="op" id="4948775">(</span><span class="ident" id="4948776">t</span>&nbsp;<span class="op" id="4948778">*</span><span class="ident" id="4948779"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4948787">)</span>&nbsp;<span class="ident" id="4948789">ExecuteTemplate</span><span class="op" id="4948804">(</span><span class="ident" id="4948805">wr</span>&nbsp;<span class="ident" id="4948808"><a href="/gostd/html/template/template.go.html#4946418">io</a></span><span class="op" id="4948810">.</span><span class="ident" id="4948811"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="4948817">,</span>&nbsp;<span class="ident" id="4948819">name</span>&nbsp;<span class="builtintype" id="4948824">string</span><span class="op" id="4948830">,</span>&nbsp;<span class="ident" id="4948832">data</span>&nbsp;<span class="keyword" id="4948837">interface</span><span class="op" id="4948846">{</span><span class="op" id="4948847">}</span><span class="op" id="4948848">)</span>&nbsp;<span class="builtintype" id="4948850">error</span>&nbsp;<span class="op" id="4948856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4948859">tmpl</span><span class="op" id="4948863">,</span>&nbsp;<span class="ident" id="4948865">err</span>&nbsp;<span class="op" id="4948869">:=</span>&nbsp;<span class="ident" id="4948872"><a href="/gostd/html/template/template.go.html#4948776">t</a></span><span class="op" id="4948873">.</span><span class="ident" id="4948874"><a href="/gostd/html/template/template.go.html#4949157">lookupAndEscapeTemplate</a></span><span class="op" id="4948897">(</span><span class="ident" id="4948898"><a href="/gostd/html/template/template.go.html#4948819">name</a></span><span class="op" id="4948902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948905">if</span>&nbsp;<span class="ident" id="4948908"><a href="/gostd/html/template/template.go.html#4948865">err</a></span>&nbsp;<span class="op" id="4948912">!=</span>&nbsp;<span class="builtintype" id="4948915">nil</span>&nbsp;<span class="op" id="4948919">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948923">return</span>&nbsp;<span class="ident" id="4948930"><a href="/gostd/html/template/template.go.html#4948865">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4948935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4948938">return</span>&nbsp;<span class="ident" id="4948945"><a href="/gostd/html/template/template.go.html#4948859">tmpl</a></span><span class="op" id="4948949">.</span><span class="ident" id="4948950"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4948954">.</span><span class="ident" id="4948955"><a href="/gostd/text/template/exec.go.html#3697581">Execute</a></span><span class="op" id="4948962">(</span><span class="ident" id="4948963"><a href="/gostd/html/template/template.go.html#4948805">wr</a></span><span class="op" id="4948965">,</span>&nbsp;<span class="ident" id="4948967"><a href="/gostd/html/template/template.go.html#4948832">data</a></span><span class="op" id="4948971">)</span><br>
<span class="lineno"></span><span class="op" id="4948973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4948976">//&nbsp;lookupAndEscapeTemplate&nbsp;guarantees&nbsp;that&nbsp;the&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno"></span><span class="comment" id="4949052">//&nbsp;is&nbsp;escaped,&nbsp;or&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;it&nbsp;cannot&nbsp;be.&nbsp;It&nbsp;returns&nbsp;the&nbsp;named</span><br>
<span class="lineno"></span><span class="comment" id="4949125">//&nbsp;template.</span><br>
<span class="lineno"></span><span class="keyword" id="4949138">func</span>&nbsp;<span class="op" id="4949143">(</span><span class="ident" id="4949144">t</span>&nbsp;<span class="op" id="4949146">*</span><span class="ident" id="4949147"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4949155">)</span>&nbsp;<span class="ident" id="4949157">lookupAndEscapeTemplate</span><span class="op" id="4949180">(</span><span class="ident" id="4949181">name</span>&nbsp;<span class="builtintype" id="4949186">string</span><span class="op" id="4949192">)</span>&nbsp;<span class="op" id="4949194">(</span><span class="ident" id="4949195">tmpl</span>&nbsp;<span class="op" id="4949200">*</span><span class="ident" id="4949201"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4949209">,</span>&nbsp;<span class="ident" id="4949211">err</span>&nbsp;<span class="builtintype" id="4949215">error</span><span class="op" id="4949220">)</span>&nbsp;<span class="op" id="4949222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949225"><a href="/gostd/html/template/template.go.html#4949144">t</a></span><span class="op" id="4949226">.</span><span class="ident" id="4949227"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4949236">.</span><span class="ident" id="4949237"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4949239">.</span><span class="ident" id="4949240"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4949244">(</span><span class="op" id="4949245">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949248">defer</span>&nbsp;<span class="ident" id="4949254"><a href="/gostd/html/template/template.go.html#4949144">t</a></span><span class="op" id="4949255">.</span><span class="ident" id="4949256"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4949265">.</span><span class="ident" id="4949266"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4949268">.</span><span class="ident" id="4949269"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4949275">(</span><span class="op" id="4949276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949279"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span>&nbsp;<span class="op" id="4949284">=</span>&nbsp;<span class="ident" id="4949286"><a href="/gostd/html/template/template.go.html#4949144">t</a></span><span class="op" id="4949287">.</span><span class="ident" id="4949288"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4949291">[</span><span class="ident" id="4949292"><a href="/gostd/html/template/template.go.html#4949181">name</a></span><span class="op" id="4949296">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949299">if</span>&nbsp;<span class="ident" id="4949302"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span>&nbsp;<span class="op" id="4949307">==</span>&nbsp;<span class="builtintype" id="4949310">nil</span>&nbsp;<span class="op" id="4949314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949318">return</span>&nbsp;<span class="builtintype" id="4949325">nil</span><span class="op" id="4949328">,</span>&nbsp;<span class="ident" id="4949330"><a href="/gostd/html/template/template.go.html#4946411">fmt</a></span><span class="op" id="4949333">.</span><span class="ident" id="4949334"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="4949340">(</span><span class="string" id="4949341">&#34;html/template:&nbsp;%q&nbsp;is&nbsp;undefined&#34;</span><span class="op" id="4949373">,</span>&nbsp;<span class="ident" id="4949375"><a href="/gostd/html/template/template.go.html#4949181">name</a></span><span class="op" id="4949379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949382">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949385">if</span>&nbsp;<span class="ident" id="4949388"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949392">.</span><span class="ident" id="4949393"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4949403">!=</span>&nbsp;<span class="builtintype" id="4949406">nil</span>&nbsp;<span class="op" id="4949410">&amp;&amp;</span>&nbsp;<span class="ident" id="4949413"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949417">.</span><span class="ident" id="4949418"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4949428">!=</span>&nbsp;<span class="ident" id="4949431"><a href="/gostd/html/template/template.go.html#4947092">escapeOK</a></span>&nbsp;<span class="op" id="4949440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949444">return</span>&nbsp;<span class="builtintype" id="4949451">nil</span><span class="op" id="4949454">,</span>&nbsp;<span class="ident" id="4949456"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949460">.</span><span class="ident" id="4949461"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949475">if</span>&nbsp;<span class="ident" id="4949478"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949482">.</span><span class="ident" id="4949483"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4949487">.</span><span class="ident" id="4949488"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span>&nbsp;<span class="op" id="4949493">==</span>&nbsp;<span class="builtintype" id="4949496">nil</span>&nbsp;<span class="op" id="4949500">||</span>&nbsp;<span class="ident" id="4949503"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949507">.</span><span class="ident" id="4949508"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4949512">.</span><span class="ident" id="4949513"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span>&nbsp;<span class="op" id="4949518">==</span>&nbsp;<span class="builtintype" id="4949521">nil</span>&nbsp;<span class="op" id="4949525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949529">return</span>&nbsp;<span class="builtintype" id="4949536">nil</span><span class="op" id="4949539">,</span>&nbsp;<span class="ident" id="4949541"><a href="/gostd/html/template/template.go.html#4946411">fmt</a></span><span class="op" id="4949544">.</span><span class="ident" id="4949545"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="4949551">(</span><span class="string" id="4949552">&#34;html/template:&nbsp;%q&nbsp;is&nbsp;an&nbsp;incomplete&nbsp;template&#34;</span><span class="op" id="4949597">,</span>&nbsp;<span class="ident" id="4949599"><a href="/gostd/html/template/template.go.html#4949181">name</a></span><span class="op" id="4949603">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949609">if</span>&nbsp;<span class="ident" id="4949612"><a href="/gostd/html/template/template.go.html#4949144">t</a></span><span class="op" id="4949613">.</span><span class="ident" id="4949614"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4949618">.</span><span class="ident" id="4949619"><a href="/gostd/text/template/template.go.html#3743399">Lookup</a></span><span class="op" id="4949625">(</span><span class="ident" id="4949626"><a href="/gostd/html/template/template.go.html#4949181">name</a></span><span class="op" id="4949630">)</span>&nbsp;<span class="op" id="4949632">==</span>&nbsp;<span class="builtintype" id="4949635">nil</span>&nbsp;<span class="op" id="4949639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4949643">panic</span><span class="op" id="4949648">(</span><span class="string" id="4949649">&#34;html/template&nbsp;internal&nbsp;error:&nbsp;template&nbsp;escaping&nbsp;out&nbsp;of&nbsp;sync&#34;</span><span class="op" id="4949710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949716">if</span>&nbsp;<span class="ident" id="4949719"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949723">.</span><span class="ident" id="4949724"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4949734">==</span>&nbsp;<span class="builtintype" id="4949737">nil</span>&nbsp;<span class="op" id="4949741">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4949745"><a href="/gostd/html/template/template.go.html#4949211">err</a></span>&nbsp;<span class="op" id="4949749">=</span>&nbsp;<span class="ident" id="4949751"><a href="/gostd/html/template/escape.go.html#4904232">escapeTemplate</a></span><span class="op" id="4949765">(</span><span class="ident" id="4949766"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949770">,</span>&nbsp;<span class="ident" id="4949772"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949776">.</span><span class="ident" id="4949777"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4949781">.</span><span class="ident" id="4949782"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="4949786">,</span>&nbsp;<span class="ident" id="4949788"><a href="/gostd/html/template/template.go.html#4949181">name</a></span><span class="op" id="4949792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4949795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4949798">return</span>&nbsp;<span class="ident" id="4949805"><a href="/gostd/html/template/template.go.html#4949195">tmpl</a></span><span class="op" id="4949809">,</span>&nbsp;<span class="ident" id="4949811"><a href="/gostd/html/template/template.go.html#4949211">err</a></span><br>
<span class="lineno"></span><span class="op" id="4949815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="comment" id="4949818">//&nbsp;Parse&nbsp;parses&nbsp;a&nbsp;string&nbsp;into&nbsp;a&nbsp;template.&nbsp;Nested&nbsp;template&nbsp;definitions</span><br>
<span class="lineno"></span><span class="comment" id="4949888">//&nbsp;will&nbsp;be&nbsp;associated&nbsp;with&nbsp;the&nbsp;top-level&nbsp;template&nbsp;t.&nbsp;Parse&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="4949954">//&nbsp;called&nbsp;multiple&nbsp;times&nbsp;to&nbsp;parse&nbsp;definitions&nbsp;of&nbsp;templates&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span><span class="comment" id="4950026">//&nbsp;with&nbsp;t.&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;if&nbsp;a&nbsp;resulting&nbsp;template&nbsp;is&nbsp;non-empty&nbsp;(contains</span><br>
<span class="lineno"></span><span class="comment" id="4950099">//&nbsp;content&nbsp;other&nbsp;than&nbsp;template&nbsp;definitions)&nbsp;and&nbsp;would&nbsp;replace&nbsp;a</span><br>
<span class="lineno">125</span><span class="comment" id="4950163">//&nbsp;non-empty&nbsp;template&nbsp;with&nbsp;the&nbsp;same&nbsp;name.&nbsp;&nbsp;(In&nbsp;multiple&nbsp;calls&nbsp;to&nbsp;Parse</span><br>
<span class="lineno"></span><span class="comment" id="4950234">//&nbsp;with&nbsp;the&nbsp;same&nbsp;receiver&nbsp;template,&nbsp;only&nbsp;one&nbsp;call&nbsp;can&nbsp;contain&nbsp;text</span><br>
<span class="lineno"></span><span class="comment" id="4950301">//&nbsp;other&nbsp;than&nbsp;space,&nbsp;comments,&nbsp;and&nbsp;template&nbsp;definitions.)</span><br>
<span class="lineno"></span><span class="keyword" id="4950359">func</span>&nbsp;<span class="op" id="4950364">(</span><span class="ident" id="4950365">t</span>&nbsp;<span class="op" id="4950367">*</span><span class="ident" id="4950368"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4950376">)</span>&nbsp;<span class="ident" id="4950378">Parse</span><span class="op" id="4950383">(</span><span class="ident" id="4950384">src</span>&nbsp;<span class="builtintype" id="4950388">string</span><span class="op" id="4950394">)</span>&nbsp;<span class="op" id="4950396">(</span><span class="op" id="4950397">*</span><span class="ident" id="4950398"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4950406">,</span>&nbsp;<span class="builtintype" id="4950408">error</span><span class="op" id="4950413">)</span>&nbsp;<span class="op" id="4950415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950418"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4950419">.</span><span class="ident" id="4950420"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4950429">.</span><span class="ident" id="4950430"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4950432">.</span><span class="ident" id="4950433"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4950437">(</span><span class="op" id="4950438">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950441"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4950442">.</span><span class="ident" id="4950443"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4950453">=</span>&nbsp;<span class="builtintype" id="4950455">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950460"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4950461">.</span><span class="ident" id="4950462"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4950471">.</span><span class="ident" id="4950472"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4950474">.</span><span class="ident" id="4950475"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4950481">(</span><span class="op" id="4950482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950485">ret</span><span class="op" id="4950488">,</span>&nbsp;<span class="ident" id="4950490">err</span>&nbsp;<span class="op" id="4950494">:=</span>&nbsp;<span class="ident" id="4950497"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4950498">.</span><span class="ident" id="4950499"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4950503">.</span><span class="ident" id="4950504"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="4950509">(</span><span class="ident" id="4950510"><a href="/gostd/html/template/template.go.html#4950384">src</a></span><span class="op" id="4950513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950516">if</span>&nbsp;<span class="ident" id="4950519"><a href="/gostd/html/template/template.go.html#4950490">err</a></span>&nbsp;<span class="op" id="4950523">!=</span>&nbsp;<span class="builtintype" id="4950526">nil</span>&nbsp;<span class="op" id="4950530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950534">return</span>&nbsp;<span class="builtintype" id="4950541">nil</span><span class="op" id="4950544">,</span>&nbsp;<span class="ident" id="4950546"><a href="/gostd/html/template/template.go.html#4950490">err</a></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4950551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4950554">//&nbsp;In&nbsp;general,&nbsp;all&nbsp;the&nbsp;named&nbsp;templates&nbsp;might&nbsp;have&nbsp;changed&nbsp;underfoot.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4950624">//&nbsp;Regardless,&nbsp;some&nbsp;new&nbsp;ones&nbsp;may&nbsp;have&nbsp;been&nbsp;defined.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4950677">//&nbsp;The&nbsp;template.Template&nbsp;set&nbsp;has&nbsp;been&nbsp;updated;&nbsp;update&nbsp;ours.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950738"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4950739">.</span><span class="ident" id="4950740"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4950749">.</span><span class="ident" id="4950750"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4950752">.</span><span class="ident" id="4950753"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4950757">(</span><span class="op" id="4950758">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950761">defer</span>&nbsp;<span class="ident" id="4950767"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4950768">.</span><span class="ident" id="4950769"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4950778">.</span><span class="ident" id="4950779"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4950781">.</span><span class="ident" id="4950782"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4950788">(</span><span class="op" id="4950789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950792">for</span>&nbsp;<span class="ident" id="4950796">_</span><span class="op" id="4950797">,</span>&nbsp;<span class="ident" id="4950799">v</span>&nbsp;<span class="op" id="4950801">:=</span>&nbsp;<span class="keyword" id="4950804">range</span>&nbsp;<span class="ident" id="4950810"><a href="/gostd/html/template/template.go.html#4950485">ret</a></span><span class="op" id="4950813">.</span><span class="ident" id="4950814"><a href="/gostd/text/template/template.go.html#3742183">Templates</a></span><span class="op" id="4950823">(</span><span class="op" id="4950824">)</span>&nbsp;<span class="op" id="4950826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950830">name</span>&nbsp;<span class="op" id="4950835">:=</span>&nbsp;<span class="ident" id="4950838"><a href="/gostd/html/template/template.go.html#4950799">v</a></span><span class="op" id="4950839">.</span><span class="ident" id="4950840"><a href="/gostd/text/template/template.go.html#3739983">Name</a></span><span class="op" id="4950844">(</span><span class="op" id="4950845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950849">tmpl</span>&nbsp;<span class="op" id="4950854">:=</span>&nbsp;<span class="ident" id="4950857"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4950858">.</span><span class="ident" id="4950859"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4950862">[</span><span class="ident" id="4950863"><a href="/gostd/html/template/template.go.html#4950830">name</a></span><span class="op" id="4950867">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4950871">if</span>&nbsp;<span class="ident" id="4950874"><a href="/gostd/html/template/template.go.html#4950849">tmpl</a></span>&nbsp;<span class="op" id="4950879">==</span>&nbsp;<span class="builtintype" id="4950882">nil</span>&nbsp;<span class="op" id="4950886">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950891"><a href="/gostd/html/template/template.go.html#4950849">tmpl</a></span>&nbsp;<span class="op" id="4950896">=</span>&nbsp;<span class="ident" id="4950898"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4950899">.</span><span class="builtinfunc" id="4950900"><a href="/gostd/html/template/template.go.html#4953577">new</a></span><span class="op" id="4950903">(</span><span class="ident" id="4950904"><a href="/gostd/html/template/template.go.html#4950830">name</a></span><span class="op" id="4950908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4950912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4950916">//&nbsp;Restore&nbsp;our&nbsp;record&nbsp;of&nbsp;this&nbsp;text/template&nbsp;to&nbsp;its&nbsp;unescaped&nbsp;original&nbsp;state.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4950995"><a href="/gostd/html/template/template.go.html#4950849">tmpl</a></span><span class="op" id="4950999">.</span><span class="ident" id="4951000"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4951010">=</span>&nbsp;<span class="builtintype" id="4951012">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951018"><a href="/gostd/html/template/template.go.html#4950849">tmpl</a></span><span class="op" id="4951022">.</span><span class="ident" id="4951023"><a href="/gostd/html/template/template.go.html#4946855">text</a></span>&nbsp;<span class="op" id="4951028">=</span>&nbsp;<span class="ident" id="4951030"><a href="/gostd/html/template/template.go.html#4950799">v</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951034"><a href="/gostd/html/template/template.go.html#4950849">tmpl</a></span><span class="op" id="4951038">.</span><span class="ident" id="4951039"><a href="/gostd/html/template/template.go.html#4946947">Tree</a></span>&nbsp;<span class="op" id="4951044">=</span>&nbsp;<span class="ident" id="4951046"><a href="/gostd/html/template/template.go.html#4950799">v</a></span><span class="op" id="4951047">.</span><span class="ident" id="4951048"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951057">return</span>&nbsp;<span class="ident" id="4951064"><a href="/gostd/html/template/template.go.html#4950365">t</a></span><span class="op" id="4951065">,</span>&nbsp;<span class="builtintype" id="4951067">nil</span><br>
<span class="lineno"></span><span class="op" id="4951071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="4951074">//&nbsp;AddParseTree&nbsp;creates&nbsp;a&nbsp;new&nbsp;template&nbsp;with&nbsp;the&nbsp;name&nbsp;and&nbsp;parse&nbsp;tree</span><br>
<span class="lineno"></span><span class="comment" id="4951142">//&nbsp;and&nbsp;associates&nbsp;it&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="4951171">//</span><br>
<span class="lineno"></span><span class="comment" id="4951174">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;t&nbsp;has&nbsp;already&nbsp;been&nbsp;executed.</span><br>
<span class="lineno"></span><span class="keyword" id="4951229">func</span>&nbsp;<span class="op" id="4951234">(</span><span class="ident" id="4951235">t</span>&nbsp;<span class="op" id="4951237">*</span><span class="ident" id="4951238"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4951246">)</span>&nbsp;<span class="ident" id="4951248">AddParseTree</span><span class="op" id="4951260">(</span><span class="ident" id="4951261">name</span>&nbsp;<span class="builtintype" id="4951266">string</span><span class="op" id="4951272">,</span>&nbsp;<span class="ident" id="4951274">tree</span>&nbsp;<span class="op" id="4951279">*</span><span class="ident" id="4951280"><a href="/gostd/html/template/template.go.html#4946479">parse</a></span><span class="op" id="4951285">.</span><span class="ident" id="4951286"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="4951290">)</span>&nbsp;<span class="op" id="4951292">(</span><span class="op" id="4951293">*</span><span class="ident" id="4951294"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4951302">,</span>&nbsp;<span class="builtintype" id="4951304">error</span><span class="op" id="4951309">)</span>&nbsp;<span class="op" id="4951311">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951314"><a href="/gostd/html/template/template.go.html#4951235">t</a></span><span class="op" id="4951315">.</span><span class="ident" id="4951316"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4951325">.</span><span class="ident" id="4951326"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4951328">.</span><span class="ident" id="4951329"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4951333">(</span><span class="op" id="4951334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951337">defer</span>&nbsp;<span class="ident" id="4951343"><a href="/gostd/html/template/template.go.html#4951235">t</a></span><span class="op" id="4951344">.</span><span class="ident" id="4951345"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4951354">.</span><span class="ident" id="4951355"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4951357">.</span><span class="ident" id="4951358"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4951364">(</span><span class="op" id="4951365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951368">if</span>&nbsp;<span class="ident" id="4951371"><a href="/gostd/html/template/template.go.html#4951235">t</a></span><span class="op" id="4951372">.</span><span class="ident" id="4951373"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4951383">!=</span>&nbsp;<span class="builtintype" id="4951386">nil</span>&nbsp;<span class="op" id="4951390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951394">return</span>&nbsp;<span class="builtintype" id="4951401">nil</span><span class="op" id="4951404">,</span>&nbsp;<span class="ident" id="4951406"><a href="/gostd/html/template/template.go.html#4946411">fmt</a></span><span class="op" id="4951409">.</span><span class="ident" id="4951410"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="4951416">(</span><span class="string" id="4951417">&#34;html/template:&nbsp;cannot&nbsp;AddParseTree&nbsp;to&nbsp;%q&nbsp;after&nbsp;it&nbsp;has&nbsp;executed&#34;</span><span class="op" id="4951481">,</span>&nbsp;<span class="ident" id="4951483"><a href="/gostd/html/template/template.go.html#4951235">t</a></span><span class="op" id="4951484">.</span><span class="ident" id="4951485"><a href="/gostd/html/template/template.go.html#4953778">Name</a></span><span class="op" id="4951489">(</span><span class="op" id="4951490">)</span><span class="op" id="4951491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951494">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951497">text</span><span class="op" id="4951501">,</span>&nbsp;<span class="ident" id="4951503">err</span>&nbsp;<span class="op" id="4951507">:=</span>&nbsp;<span class="ident" id="4951510"><a href="/gostd/html/template/template.go.html#4951235">t</a></span><span class="op" id="4951511">.</span><span class="ident" id="4951512"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4951516">.</span><span class="ident" id="4951517"><a href="/gostd/text/template/template.go.html#3741818">AddParseTree</a></span><span class="op" id="4951529">(</span><span class="ident" id="4951530"><a href="/gostd/html/template/template.go.html#4951261">name</a></span><span class="op" id="4951534">,</span>&nbsp;<span class="ident" id="4951536"><a href="/gostd/html/template/template.go.html#4951274">tree</a></span><span class="op" id="4951540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951543">if</span>&nbsp;<span class="ident" id="4951546"><a href="/gostd/html/template/template.go.html#4951503">err</a></span>&nbsp;<span class="op" id="4951550">!=</span>&nbsp;<span class="builtintype" id="4951553">nil</span>&nbsp;<span class="op" id="4951557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951561">return</span>&nbsp;<span class="builtintype" id="4951568">nil</span><span class="op" id="4951571">,</span>&nbsp;<span class="ident" id="4951573"><a href="/gostd/html/template/template.go.html#4951503">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951581">ret</span>&nbsp;<span class="op" id="4951585">:=</span>&nbsp;<span class="op" id="4951588">&amp;</span><span class="ident" id="4951589"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4951597">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4951601">nil</span><span class="op" id="4951604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951608"><a href="/gostd/html/template/template.go.html#4951497">text</a></span><span class="op" id="4951612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951616"><a href="/gostd/html/template/template.go.html#4951497">text</a></span><span class="op" id="4951620">.</span><span class="ident" id="4951621"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span><span class="op" id="4951625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951629"><a href="/gostd/html/template/template.go.html#4951235">t</a></span><span class="op" id="4951630">.</span><span class="ident" id="4951631"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4951640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4951643">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4951646"><a href="/gostd/html/template/template.go.html#4951235">t</a></span><span class="op" id="4951647">.</span><span class="ident" id="4951648"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4951651">[</span><span class="ident" id="4951652"><a href="/gostd/html/template/template.go.html#4951261">name</a></span><span class="op" id="4951656">]</span>&nbsp;<span class="op" id="4951658">=</span>&nbsp;<span class="ident" id="4951660"><a href="/gostd/html/template/template.go.html#4951581">ret</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4951665">return</span>&nbsp;<span class="ident" id="4951672"><a href="/gostd/html/template/template.go.html#4951581">ret</a></span><span class="op" id="4951675">,</span>&nbsp;<span class="builtintype" id="4951677">nil</span><br>
<span class="lineno"></span><span class="op" id="4951681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4951684">//&nbsp;Clone&nbsp;returns&nbsp;a&nbsp;duplicate&nbsp;of&nbsp;the&nbsp;template,&nbsp;including&nbsp;all&nbsp;associated</span><br>
<span class="lineno">180</span><span class="comment" id="4951755">//&nbsp;templates.&nbsp;The&nbsp;actual&nbsp;representation&nbsp;is&nbsp;not&nbsp;copied,&nbsp;but&nbsp;the&nbsp;name&nbsp;space&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4951832">//&nbsp;associated&nbsp;templates&nbsp;is,&nbsp;so&nbsp;further&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;in&nbsp;the&nbsp;copy&nbsp;will&nbsp;add</span><br>
<span class="lineno"></span><span class="comment" id="4951907">//&nbsp;templates&nbsp;to&nbsp;the&nbsp;copy&nbsp;but&nbsp;not&nbsp;to&nbsp;the&nbsp;original.&nbsp;Clone&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;prepare</span><br>
<span class="lineno"></span><span class="comment" id="4951986">//&nbsp;common&nbsp;templates&nbsp;and&nbsp;use&nbsp;them&nbsp;with&nbsp;variant&nbsp;definitions&nbsp;for&nbsp;other&nbsp;templates</span><br>
<span class="lineno"></span><span class="comment" id="4952064">//&nbsp;by&nbsp;adding&nbsp;the&nbsp;variants&nbsp;after&nbsp;the&nbsp;clone&nbsp;is&nbsp;made.</span><br>
<span class="lineno">185</span><span class="comment" id="4952115">//</span><br>
<span class="lineno"></span><span class="comment" id="4952118">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;t&nbsp;has&nbsp;already&nbsp;been&nbsp;executed.</span><br>
<span class="lineno"></span><span class="keyword" id="4952173">func</span>&nbsp;<span class="op" id="4952178">(</span><span class="ident" id="4952179">t</span>&nbsp;<span class="op" id="4952181">*</span><span class="ident" id="4952182"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4952190">)</span>&nbsp;<span class="ident" id="4952192">Clone</span><span class="op" id="4952197">(</span><span class="op" id="4952198">)</span>&nbsp;<span class="op" id="4952200">(</span><span class="op" id="4952201">*</span><span class="ident" id="4952202"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4952210">,</span>&nbsp;<span class="builtintype" id="4952212">error</span><span class="op" id="4952217">)</span>&nbsp;<span class="op" id="4952219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952222"><a href="/gostd/html/template/template.go.html#4952179">t</a></span><span class="op" id="4952223">.</span><span class="ident" id="4952224"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4952233">.</span><span class="ident" id="4952234"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4952236">.</span><span class="ident" id="4952237"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4952241">(</span><span class="op" id="4952242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952245">defer</span>&nbsp;<span class="ident" id="4952251"><a href="/gostd/html/template/template.go.html#4952179">t</a></span><span class="op" id="4952252">.</span><span class="ident" id="4952253"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4952262">.</span><span class="ident" id="4952263"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4952265">.</span><span class="ident" id="4952266"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4952272">(</span><span class="op" id="4952273">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952276">if</span>&nbsp;<span class="ident" id="4952279"><a href="/gostd/html/template/template.go.html#4952179">t</a></span><span class="op" id="4952280">.</span><span class="ident" id="4952281"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4952291">!=</span>&nbsp;<span class="builtintype" id="4952294">nil</span>&nbsp;<span class="op" id="4952298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952302">return</span>&nbsp;<span class="builtintype" id="4952309">nil</span><span class="op" id="4952312">,</span>&nbsp;<span class="ident" id="4952314"><a href="/gostd/html/template/template.go.html#4946411">fmt</a></span><span class="op" id="4952317">.</span><span class="ident" id="4952318"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="4952324">(</span><span class="string" id="4952325">&#34;html/template:&nbsp;cannot&nbsp;Clone&nbsp;%q&nbsp;after&nbsp;it&nbsp;has&nbsp;executed&#34;</span><span class="op" id="4952379">,</span>&nbsp;<span class="ident" id="4952381"><a href="/gostd/html/template/template.go.html#4952179">t</a></span><span class="op" id="4952382">.</span><span class="ident" id="4952383"><a href="/gostd/html/template/template.go.html#4953778">Name</a></span><span class="op" id="4952387">(</span><span class="op" id="4952388">)</span><span class="op" id="4952389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952395">textClone</span><span class="op" id="4952404">,</span>&nbsp;<span class="ident" id="4952406">err</span>&nbsp;<span class="op" id="4952410">:=</span>&nbsp;<span class="ident" id="4952413"><a href="/gostd/html/template/template.go.html#4952179">t</a></span><span class="op" id="4952414">.</span><span class="ident" id="4952415"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4952419">.</span><span class="ident" id="4952420"><a href="/gostd/text/template/template.go.html#3741048">Clone</a></span><span class="op" id="4952425">(</span><span class="op" id="4952426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952429">if</span>&nbsp;<span class="ident" id="4952432"><a href="/gostd/html/template/template.go.html#4952406">err</a></span>&nbsp;<span class="op" id="4952436">!=</span>&nbsp;<span class="builtintype" id="4952439">nil</span>&nbsp;<span class="op" id="4952443">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952447">return</span>&nbsp;<span class="builtintype" id="4952454">nil</span><span class="op" id="4952457">,</span>&nbsp;<span class="ident" id="4952459"><a href="/gostd/html/template/template.go.html#4952406">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952467">ret</span>&nbsp;<span class="op" id="4952471">:=</span>&nbsp;<span class="op" id="4952474">&amp;</span><span class="ident" id="4952475"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4952483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4952487">nil</span><span class="op" id="4952490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952494"><a href="/gostd/html/template/template.go.html#4952395">textClone</a></span><span class="op" id="4952503">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952507"><a href="/gostd/html/template/template.go.html#4952395">textClone</a></span><span class="op" id="4952516">.</span><span class="ident" id="4952517"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span><span class="op" id="4952521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952525">&amp;</span><span class="ident" id="4952526"><a href="/gostd/html/template/template.go.html#4947228">nameSpace</a></span><span class="op" id="4952535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952540"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4952543">:</span>&nbsp;<span class="builtinfunc" id="4952545">make</span><span class="op" id="4952549">(</span><span class="keyword" id="4952550">map</span><span class="op" id="4952553">[</span><span class="builtintype" id="4952554">string</span><span class="op" id="4952560">]</span><span class="op" id="4952561">*</span><span class="ident" id="4952562"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4952570">)</span><span class="op" id="4952571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952575">}</span><span class="op" id="4952576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952579">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952582">for</span>&nbsp;<span class="ident" id="4952586">_</span><span class="op" id="4952587">,</span>&nbsp;<span class="ident" id="4952589">x</span>&nbsp;<span class="op" id="4952591">:=</span>&nbsp;<span class="keyword" id="4952594">range</span>&nbsp;<span class="ident" id="4952600"><a href="/gostd/html/template/template.go.html#4952395">textClone</a></span><span class="op" id="4952609">.</span><span class="ident" id="4952610"><a href="/gostd/text/template/template.go.html#3742183">Templates</a></span><span class="op" id="4952619">(</span><span class="op" id="4952620">)</span>&nbsp;<span class="op" id="4952622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952626">name</span>&nbsp;<span class="op" id="4952631">:=</span>&nbsp;<span class="ident" id="4952634"><a href="/gostd/html/template/template.go.html#4952589">x</a></span><span class="op" id="4952635">.</span><span class="ident" id="4952636"><a href="/gostd/text/template/template.go.html#3739983">Name</a></span><span class="op" id="4952640">(</span><span class="op" id="4952641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952645">src</span>&nbsp;<span class="op" id="4952649">:=</span>&nbsp;<span class="ident" id="4952652"><a href="/gostd/html/template/template.go.html#4952179">t</a></span><span class="op" id="4952653">.</span><span class="ident" id="4952654"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4952657">[</span><span class="ident" id="4952658"><a href="/gostd/html/template/template.go.html#4952626">name</a></span><span class="op" id="4952662">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952666">if</span>&nbsp;<span class="ident" id="4952669"><a href="/gostd/html/template/template.go.html#4952645">src</a></span>&nbsp;<span class="op" id="4952673">==</span>&nbsp;<span class="builtintype" id="4952676">nil</span>&nbsp;<span class="op" id="4952680">||</span>&nbsp;<span class="ident" id="4952683"><a href="/gostd/html/template/template.go.html#4952645">src</a></span><span class="op" id="4952686">.</span><span class="ident" id="4952687"><a href="/gostd/html/template/template.go.html#4946671">escapeErr</a></span>&nbsp;<span class="op" id="4952697">!=</span>&nbsp;<span class="builtintype" id="4952700">nil</span>&nbsp;<span class="op" id="4952704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952709">return</span>&nbsp;<span class="builtintype" id="4952716">nil</span><span class="op" id="4952719">,</span>&nbsp;<span class="ident" id="4952721"><a href="/gostd/html/template/template.go.html#4946411">fmt</a></span><span class="op" id="4952724">.</span><span class="ident" id="4952725"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="4952731">(</span><span class="string" id="4952732">&#34;html/template:&nbsp;cannot&nbsp;Clone&nbsp;%q&nbsp;after&nbsp;it&nbsp;has&nbsp;executed&#34;</span><span class="op" id="4952786">,</span>&nbsp;<span class="ident" id="4952788"><a href="/gostd/html/template/template.go.html#4952179">t</a></span><span class="op" id="4952789">.</span><span class="ident" id="4952790"><a href="/gostd/html/template/template.go.html#4953778">Name</a></span><span class="op" id="4952794">(</span><span class="op" id="4952795">)</span><span class="op" id="4952796">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952804"><a href="/gostd/html/template/template.go.html#4952589">x</a></span><span class="op" id="4952805">.</span><span class="ident" id="4952806"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span>&nbsp;<span class="op" id="4952811">=</span>&nbsp;<span class="ident" id="4952813"><a href="/gostd/html/template/template.go.html#4952589">x</a></span><span class="op" id="4952814">.</span><span class="ident" id="4952815"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span><span class="op" id="4952819">.</span><span class="ident" id="4952820"><a href="/gostd/text/template/parse/parse.go.html#3181749">Copy</a></span><span class="op" id="4952824">(</span><span class="op" id="4952825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952829"><a href="/gostd/html/template/template.go.html#4952467">ret</a></span><span class="op" id="4952832">.</span><span class="ident" id="4952833"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4952836">[</span><span class="ident" id="4952837"><a href="/gostd/html/template/template.go.html#4952626">name</a></span><span class="op" id="4952841">]</span>&nbsp;<span class="op" id="4952843">=</span>&nbsp;<span class="op" id="4952845">&amp;</span><span class="ident" id="4952846"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4952854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4952859">nil</span><span class="op" id="4952862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952867"><a href="/gostd/html/template/template.go.html#4952589">x</a></span><span class="op" id="4952868">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952873"><a href="/gostd/html/template/template.go.html#4952589">x</a></span><span class="op" id="4952874">.</span><span class="ident" id="4952875"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span><span class="op" id="4952879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4952884"><a href="/gostd/html/template/template.go.html#4952467">ret</a></span><span class="op" id="4952887">.</span><span class="ident" id="4952888"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4952897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4952904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4952907">return</span>&nbsp;<span class="ident" id="4952914"><a href="/gostd/html/template/template.go.html#4952467">ret</a></span><span class="op" id="4952917">,</span>&nbsp;<span class="builtintype" id="4952919">nil</span><br>
<span class="lineno">220</span><span class="op" id="4952923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4952926">//&nbsp;New&nbsp;allocates&nbsp;a&nbsp;new&nbsp;HTML&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="4952984">func</span>&nbsp;<span class="ident" id="4952989">New</span><span class="op" id="4952992">(</span><span class="ident" id="4952993">name</span>&nbsp;<span class="builtintype" id="4952998">string</span><span class="op" id="4953004">)</span>&nbsp;<span class="op" id="4953006">*</span><span class="ident" id="4953007"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span>&nbsp;<span class="op" id="4953016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953019">tmpl</span>&nbsp;<span class="op" id="4953024">:=</span>&nbsp;<span class="op" id="4953027">&amp;</span><span class="ident" id="4953028"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4953036">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4953040">nil</span><span class="op" id="4953043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953047"><a href="/gostd/html/template/template.go.html#4946462">template</a></span><span class="op" id="4953055">.</span><span class="ident" id="4953056"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="4953059">(</span><span class="ident" id="4953060"><a href="/gostd/html/template/template.go.html#4952993">name</a></span><span class="op" id="4953064">)</span><span class="op" id="4953065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4953069">nil</span><span class="op" id="4953072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953076">&amp;</span><span class="ident" id="4953077"><a href="/gostd/html/template/template.go.html#4947228">nameSpace</a></span><span class="op" id="4953086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953091"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4953094">:</span>&nbsp;<span class="builtinfunc" id="4953096">make</span><span class="op" id="4953100">(</span><span class="keyword" id="4953101">map</span><span class="op" id="4953104">[</span><span class="builtintype" id="4953105">string</span><span class="op" id="4953111">]</span><span class="op" id="4953112">*</span><span class="ident" id="4953113"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4953121">)</span><span class="op" id="4953122">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953126">}</span><span class="op" id="4953127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953133"><a href="/gostd/html/template/template.go.html#4953019">tmpl</a></span><span class="op" id="4953137">.</span><span class="ident" id="4953138"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4953141">[</span><span class="ident" id="4953142"><a href="/gostd/html/template/template.go.html#4952993">name</a></span><span class="op" id="4953146">]</span>&nbsp;<span class="op" id="4953148">=</span>&nbsp;<span class="ident" id="4953150"><a href="/gostd/html/template/template.go.html#4953019">tmpl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953156">return</span>&nbsp;<span class="ident" id="4953163"><a href="/gostd/html/template/template.go.html#4953019">tmpl</a></span><br>
<span class="lineno"></span><span class="op" id="4953168">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="comment" id="4953171">//&nbsp;New&nbsp;allocates&nbsp;a&nbsp;new&nbsp;HTML&nbsp;template&nbsp;associated&nbsp;with&nbsp;the&nbsp;given&nbsp;one</span><br>
<span class="lineno"></span><span class="comment" id="4953238">//&nbsp;and&nbsp;with&nbsp;the&nbsp;same&nbsp;delimiters.&nbsp;The&nbsp;association,&nbsp;which&nbsp;is&nbsp;transitive,</span><br>
<span class="lineno"></span><span class="comment" id="4953309">//&nbsp;allows&nbsp;one&nbsp;template&nbsp;to&nbsp;invoke&nbsp;another&nbsp;with&nbsp;a&nbsp;{{template}}&nbsp;action.</span><br>
<span class="lineno"></span><span class="keyword" id="4953378">func</span>&nbsp;<span class="op" id="4953383">(</span><span class="ident" id="4953384">t</span>&nbsp;<span class="op" id="4953386">*</span><span class="ident" id="4953387"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4953395">)</span>&nbsp;<span class="ident" id="4953397">New</span><span class="op" id="4953400">(</span><span class="ident" id="4953401">name</span>&nbsp;<span class="builtintype" id="4953406">string</span><span class="op" id="4953412">)</span>&nbsp;<span class="op" id="4953414">*</span><span class="ident" id="4953415"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span>&nbsp;<span class="op" id="4953424">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953427"><a href="/gostd/html/template/template.go.html#4953384">t</a></span><span class="op" id="4953428">.</span><span class="ident" id="4953429"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4953438">.</span><span class="ident" id="4953439"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4953441">.</span><span class="ident" id="4953442"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4953446">(</span><span class="op" id="4953447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953450">defer</span>&nbsp;<span class="ident" id="4953456"><a href="/gostd/html/template/template.go.html#4953384">t</a></span><span class="op" id="4953457">.</span><span class="ident" id="4953458"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4953467">.</span><span class="ident" id="4953468"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4953470">.</span><span class="ident" id="4953471"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4953477">(</span><span class="op" id="4953478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953481">return</span>&nbsp;<span class="ident" id="4953488"><a href="/gostd/html/template/template.go.html#4953384">t</a></span><span class="op" id="4953489">.</span><span class="builtinfunc" id="4953490"><a href="/gostd/html/template/template.go.html#4953577">new</a></span><span class="op" id="4953493">(</span><span class="ident" id="4953494"><a href="/gostd/html/template/template.go.html#4953401">name</a></span><span class="op" id="4953498">)</span><br>
<span class="lineno"></span><span class="op" id="4953500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="4953503">//&nbsp;new&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;New,&nbsp;without&nbsp;the&nbsp;lock.</span><br>
<span class="lineno"></span><span class="keyword" id="4953558">func</span>&nbsp;<span class="op" id="4953563">(</span><span class="ident" id="4953564">t</span>&nbsp;<span class="op" id="4953566">*</span><span class="ident" id="4953567"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4953575">)</span>&nbsp;<span class="builtinfunc" id="4953577">new</span><span class="op" id="4953580">(</span><span class="ident" id="4953581">name</span>&nbsp;<span class="builtintype" id="4953586">string</span><span class="op" id="4953592">)</span>&nbsp;<span class="op" id="4953594">*</span><span class="ident" id="4953595"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span>&nbsp;<span class="op" id="4953604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953607">tmpl</span>&nbsp;<span class="op" id="4953612">:=</span>&nbsp;<span class="op" id="4953615">&amp;</span><span class="ident" id="4953616"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4953624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4953628">nil</span><span class="op" id="4953631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953635"><a href="/gostd/html/template/template.go.html#4953564">t</a></span><span class="op" id="4953636">.</span><span class="ident" id="4953637"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4953641">.</span><span class="ident" id="4953642"><a href="/gostd/text/template/template.go.html#3740238">New</a></span><span class="op" id="4953645">(</span><span class="ident" id="4953646"><a href="/gostd/html/template/template.go.html#4953581">name</a></span><span class="op" id="4953650">)</span><span class="op" id="4953651">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4953655">nil</span><span class="op" id="4953658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953662"><a href="/gostd/html/template/template.go.html#4953564">t</a></span><span class="op" id="4953663">.</span><span class="ident" id="4953664"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4953673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4953676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4953679"><a href="/gostd/html/template/template.go.html#4953607">tmpl</a></span><span class="op" id="4953683">.</span><span class="ident" id="4953684"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4953687">[</span><span class="ident" id="4953688"><a href="/gostd/html/template/template.go.html#4953581">name</a></span><span class="op" id="4953692">]</span>&nbsp;<span class="op" id="4953694">=</span>&nbsp;<span class="ident" id="4953696"><a href="/gostd/html/template/template.go.html#4953607">tmpl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953702">return</span>&nbsp;<span class="ident" id="4953709"><a href="/gostd/html/template/template.go.html#4953607">tmpl</a></span><br>
<span class="lineno">255</span><span class="op" id="4953714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4953717">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;template.</span><br>
<span class="lineno"></span><span class="keyword" id="4953759">func</span>&nbsp;<span class="op" id="4953764">(</span><span class="ident" id="4953765">t</span>&nbsp;<span class="op" id="4953767">*</span><span class="ident" id="4953768"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4953776">)</span>&nbsp;<span class="ident" id="4953778">Name</span><span class="op" id="4953782">(</span><span class="op" id="4953783">)</span>&nbsp;<span class="builtintype" id="4953785">string</span>&nbsp;<span class="op" id="4953792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4953795">return</span>&nbsp;<span class="ident" id="4953802"><a href="/gostd/html/template/template.go.html#4953765">t</a></span><span class="op" id="4953803">.</span><span class="ident" id="4953804"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4953808">.</span><span class="ident" id="4953809"><a href="/gostd/text/template/template.go.html#3739983">Name</a></span><span class="op" id="4953813">(</span><span class="op" id="4953814">)</span><br>
<span class="lineno">260</span><span class="op" id="4953816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4953819">//&nbsp;FuncMap&nbsp;is&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;map&nbsp;defining&nbsp;the&nbsp;mapping&nbsp;from&nbsp;names&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4953888">//&nbsp;functions.&nbsp;Each&nbsp;function&nbsp;must&nbsp;have&nbsp;either&nbsp;a&nbsp;single&nbsp;return&nbsp;value,&nbsp;or&nbsp;two</span><br>
<span class="lineno"></span><span class="comment" id="4953963">//&nbsp;return&nbsp;values&nbsp;of&nbsp;which&nbsp;the&nbsp;second&nbsp;has&nbsp;type&nbsp;error.&nbsp;In&nbsp;that&nbsp;case,&nbsp;if&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="4954037">//&nbsp;second&nbsp;(error)&nbsp;argument&nbsp;evaluates&nbsp;to&nbsp;non-nil&nbsp;during&nbsp;execution,&nbsp;execution</span><br>
<span class="lineno"></span><span class="comment" id="4954113">//&nbsp;terminates&nbsp;and&nbsp;Execute&nbsp;returns&nbsp;that&nbsp;error.&nbsp;FuncMap&nbsp;has&nbsp;the&nbsp;same&nbsp;base&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="4954190">//&nbsp;as&nbsp;FuncMap&nbsp;in&nbsp;&#34;text/template&#34;,&nbsp;copied&nbsp;here&nbsp;so&nbsp;clients&nbsp;need&nbsp;not&nbsp;import</span><br>
<span class="lineno"></span><span class="comment" id="4954263">//&nbsp;&#34;text/template&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="4954283">type</span>&nbsp;<span class="ident" id="4954288">FuncMap</span>&nbsp;<span class="keyword" id="4954296">map</span><span class="op" id="4954299">[</span><span class="builtintype" id="4954300">string</span><span class="op" id="4954306">]</span><span class="keyword" id="4954307">interface</span><span class="op" id="4954316">{</span><span class="op" id="4954317">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="4954320">//&nbsp;Funcs&nbsp;adds&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;argument&nbsp;map&nbsp;to&nbsp;the&nbsp;template&#39;s&nbsp;function&nbsp;map.</span><br>
<span class="lineno"></span><span class="comment" id="4954399">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;a&nbsp;value&nbsp;in&nbsp;the&nbsp;map&nbsp;is&nbsp;not&nbsp;a&nbsp;function&nbsp;with&nbsp;appropriate&nbsp;return</span><br>
<span class="lineno"></span><span class="comment" id="4954476">//&nbsp;type.&nbsp;However,&nbsp;it&nbsp;is&nbsp;legal&nbsp;to&nbsp;overwrite&nbsp;elements&nbsp;of&nbsp;the&nbsp;map.&nbsp;The&nbsp;return</span><br>
<span class="lineno"></span><span class="comment" id="4954551">//&nbsp;value&nbsp;is&nbsp;the&nbsp;template,&nbsp;so&nbsp;calls&nbsp;can&nbsp;be&nbsp;chained.</span><br>
<span class="lineno">275</span><span class="keyword" id="4954602">func</span>&nbsp;<span class="op" id="4954607">(</span><span class="ident" id="4954608">t</span>&nbsp;<span class="op" id="4954610">*</span><span class="ident" id="4954611"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4954619">)</span>&nbsp;<span class="ident" id="4954621">Funcs</span><span class="op" id="4954626">(</span><span class="ident" id="4954627">funcMap</span>&nbsp;<span class="ident" id="4954635"><a href="/gostd/html/template/template.go.html#4954288">FuncMap</a></span><span class="op" id="4954642">)</span>&nbsp;<span class="op" id="4954644">*</span><span class="ident" id="4954645"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span>&nbsp;<span class="op" id="4954654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4954657"><a href="/gostd/html/template/template.go.html#4954608">t</a></span><span class="op" id="4954658">.</span><span class="ident" id="4954659"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4954663">.</span><span class="ident" id="4954664"><a href="/gostd/text/template/template.go.html#3743134">Funcs</a></span><span class="op" id="4954669">(</span><span class="ident" id="4954670"><a href="/gostd/html/template/template.go.html#4946462">template</a></span><span class="op" id="4954678">.</span><span class="ident" id="4954679"><a href="/gostd/text/template/funcs.go.html#3720973">FuncMap</a></span><span class="op" id="4954686">(</span><span class="ident" id="4954687"><a href="/gostd/html/template/template.go.html#4954627">funcMap</a></span><span class="op" id="4954694">)</span><span class="op" id="4954695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4954698">return</span>&nbsp;<span class="ident" id="4954705"><a href="/gostd/html/template/template.go.html#4954608">t</a></span><br>
<span class="lineno"></span><span class="op" id="4954707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="4954710">//&nbsp;Delims&nbsp;sets&nbsp;the&nbsp;action&nbsp;delimiters&nbsp;to&nbsp;the&nbsp;specified&nbsp;strings,&nbsp;to&nbsp;be&nbsp;used&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4954787">//&nbsp;subsequent&nbsp;calls&nbsp;to&nbsp;Parse,&nbsp;ParseFiles,&nbsp;or&nbsp;ParseGlob.&nbsp;Nested&nbsp;template</span><br>
<span class="lineno"></span><span class="comment" id="4954859">//&nbsp;definitions&nbsp;will&nbsp;inherit&nbsp;the&nbsp;settings.&nbsp;An&nbsp;empty&nbsp;delimiter&nbsp;stands&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4954935">//&nbsp;corresponding&nbsp;default:&nbsp;{{&nbsp;or&nbsp;}}.</span><br>
<span class="lineno"></span><span class="comment" id="4954971">//&nbsp;The&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;template,&nbsp;so&nbsp;calls&nbsp;can&nbsp;be&nbsp;chained.</span><br>
<span class="lineno">285</span><span class="keyword" id="4955033">func</span>&nbsp;<span class="op" id="4955038">(</span><span class="ident" id="4955039">t</span>&nbsp;<span class="op" id="4955041">*</span><span class="ident" id="4955042"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4955050">)</span>&nbsp;<span class="ident" id="4955052">Delims</span><span class="op" id="4955058">(</span><span class="ident" id="4955059">left</span><span class="op" id="4955063">,</span>&nbsp;<span class="ident" id="4955065">right</span>&nbsp;<span class="builtintype" id="4955071">string</span><span class="op" id="4955077">)</span>&nbsp;<span class="op" id="4955079">*</span><span class="ident" id="4955080"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span>&nbsp;<span class="op" id="4955089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4955092"><a href="/gostd/html/template/template.go.html#4955039">t</a></span><span class="op" id="4955093">.</span><span class="ident" id="4955094"><a href="/gostd/html/template/template.go.html#4946855">text</a></span><span class="op" id="4955098">.</span><span class="ident" id="4955099"><a href="/gostd/text/template/template.go.html#3742739">Delims</a></span><span class="op" id="4955105">(</span><span class="ident" id="4955106"><a href="/gostd/html/template/template.go.html#4955059">left</a></span><span class="op" id="4955110">,</span>&nbsp;<span class="ident" id="4955112"><a href="/gostd/html/template/template.go.html#4955065">right</a></span><span class="op" id="4955117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955120">return</span>&nbsp;<span class="ident" id="4955127"><a href="/gostd/html/template/template.go.html#4955039">t</a></span><br>
<span class="lineno"></span><span class="op" id="4955129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span><span class="comment" id="4955132">//&nbsp;Lookup&nbsp;returns&nbsp;the&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name&nbsp;that&nbsp;is&nbsp;associated&nbsp;with&nbsp;t,</span><br>
<span class="lineno"></span><span class="comment" id="4955210">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;template.</span><br>
<span class="lineno"></span><span class="keyword" id="4955250">func</span>&nbsp;<span class="op" id="4955255">(</span><span class="ident" id="4955256">t</span>&nbsp;<span class="op" id="4955258">*</span><span class="ident" id="4955259"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4955267">)</span>&nbsp;<span class="ident" id="4955269">Lookup</span><span class="op" id="4955275">(</span><span class="ident" id="4955276">name</span>&nbsp;<span class="builtintype" id="4955281">string</span><span class="op" id="4955287">)</span>&nbsp;<span class="op" id="4955289">*</span><span class="ident" id="4955290"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span>&nbsp;<span class="op" id="4955299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4955302"><a href="/gostd/html/template/template.go.html#4955256">t</a></span><span class="op" id="4955303">.</span><span class="ident" id="4955304"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4955313">.</span><span class="ident" id="4955314"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4955316">.</span><span class="ident" id="4955317"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="4955321">(</span><span class="op" id="4955322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955325">defer</span>&nbsp;<span class="ident" id="4955331"><a href="/gostd/html/template/template.go.html#4955256">t</a></span><span class="op" id="4955332">.</span><span class="ident" id="4955333"><a href="/gostd/html/template/template.go.html#4946971">nameSpace</a></span><span class="op" id="4955342">.</span><span class="ident" id="4955343"><a href="/gostd/html/template/template.go.html#4947248">mu</a></span><span class="op" id="4955345">.</span><span class="ident" id="4955346"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="4955352">(</span><span class="op" id="4955353">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955356">return</span>&nbsp;<span class="ident" id="4955363"><a href="/gostd/html/template/template.go.html#4955256">t</a></span><span class="op" id="4955364">.</span><span class="ident" id="4955365"><a href="/gostd/html/template/template.go.html#4947264">set</a></span><span class="op" id="4955368">[</span><span class="ident" id="4955369"><a href="/gostd/html/template/template.go.html#4955276">name</a></span><span class="op" id="4955373">]</span><br>
<span class="lineno"></span><span class="op" id="4955375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4955378">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="4955459">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable&nbsp;initializations</span><br>
<span class="lineno">300</span><span class="comment" id="4955549">//&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="4955560">//&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;html&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="4955621">func</span>&nbsp;<span class="ident" id="4955626">Must</span><span class="op" id="4955630">(</span><span class="ident" id="4955631">t</span>&nbsp;<span class="op" id="4955633">*</span><span class="ident" id="4955634"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4955642">,</span>&nbsp;<span class="ident" id="4955644">err</span>&nbsp;<span class="builtintype" id="4955648">error</span><span class="op" id="4955653">)</span>&nbsp;<span class="op" id="4955655">*</span><span class="ident" id="4955656"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span>&nbsp;<span class="op" id="4955665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955668">if</span>&nbsp;<span class="ident" id="4955671"><a href="/gostd/html/template/template.go.html#4955644">err</a></span>&nbsp;<span class="op" id="4955675">!=</span>&nbsp;<span class="builtintype" id="4955678">nil</span>&nbsp;<span class="op" id="4955682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4955686">panic</span><span class="op" id="4955691">(</span><span class="ident" id="4955692"><a href="/gostd/html/template/template.go.html#4955644">err</a></span><span class="op" id="4955695">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4955698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4955701">return</span>&nbsp;<span class="ident" id="4955708"><a href="/gostd/html/template/template.go.html#4955631">t</a></span><br>
<span class="lineno"></span><span class="op" id="4955710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4955713">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno">310</span><span class="comment" id="4955791">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4955870">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="4955943">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="4956015">func</span>&nbsp;<span class="ident" id="4956020">ParseFiles</span><span class="op" id="4956030">(</span><span class="ident" id="4956031">filenames</span>&nbsp;<span class="op" id="4956041">...</span><span class="builtintype" id="4956044">string</span><span class="op" id="4956050">)</span>&nbsp;<span class="op" id="4956052">(</span><span class="op" id="4956053">*</span><span class="ident" id="4956054"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4956062">,</span>&nbsp;<span class="builtintype" id="4956064">error</span><span class="op" id="4956069">)</span>&nbsp;<span class="op" id="4956071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956074">return</span>&nbsp;<span class="ident" id="4956081"><a href="/gostd/html/template/template.go.html#4956568">parseFiles</a></span><span class="op" id="4956091">(</span><span class="builtintype" id="4956092">nil</span><span class="op" id="4956095">,</span>&nbsp;<span class="ident" id="4956097"><a href="/gostd/html/template/template.go.html#4956031">filenames</a></span><span class="op" id="4956106">...</span><span class="op" id="4956109">)</span><br>
<span class="lineno">315</span><span class="op" id="4956111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4956114">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4956195">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="4956269">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno">320</span><span class="keyword" id="4956324">func</span>&nbsp;<span class="op" id="4956329">(</span><span class="ident" id="4956330">t</span>&nbsp;<span class="op" id="4956332">*</span><span class="ident" id="4956333"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4956341">)</span>&nbsp;<span class="ident" id="4956343">ParseFiles</span><span class="op" id="4956353">(</span><span class="ident" id="4956354">filenames</span>&nbsp;<span class="op" id="4956364">...</span><span class="builtintype" id="4956367">string</span><span class="op" id="4956373">)</span>&nbsp;<span class="op" id="4956375">(</span><span class="op" id="4956376">*</span><span class="ident" id="4956377"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4956385">,</span>&nbsp;<span class="builtintype" id="4956387">error</span><span class="op" id="4956392">)</span>&nbsp;<span class="op" id="4956394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956397">return</span>&nbsp;<span class="ident" id="4956404"><a href="/gostd/html/template/template.go.html#4956568">parseFiles</a></span><span class="op" id="4956414">(</span><span class="ident" id="4956415"><a href="/gostd/html/template/template.go.html#4956330">t</a></span><span class="op" id="4956416">,</span>&nbsp;<span class="ident" id="4956418"><a href="/gostd/html/template/template.go.html#4956354">filenames</a></span><span class="op" id="4956427">...</span><span class="op" id="4956430">)</span><br>
<span class="lineno"></span><span class="op" id="4956432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4956435">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno">325</span><span class="comment" id="4956508">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="4956563">func</span>&nbsp;<span class="ident" id="4956568">parseFiles</span><span class="op" id="4956578">(</span><span class="ident" id="4956579">t</span>&nbsp;<span class="op" id="4956581">*</span><span class="ident" id="4956582"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4956590">,</span>&nbsp;<span class="ident" id="4956592">filenames</span>&nbsp;<span class="op" id="4956602">...</span><span class="builtintype" id="4956605">string</span><span class="op" id="4956611">)</span>&nbsp;<span class="op" id="4956613">(</span><span class="op" id="4956614">*</span><span class="ident" id="4956615"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4956623">,</span>&nbsp;<span class="builtintype" id="4956625">error</span><span class="op" id="4956630">)</span>&nbsp;<span class="op" id="4956632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956635">if</span>&nbsp;<span class="builtinfunc" id="4956638">len</span><span class="op" id="4956641">(</span><span class="ident" id="4956642"><a href="/gostd/html/template/template.go.html#4956592">filenames</a></span><span class="op" id="4956651">)</span>&nbsp;<span class="op" id="4956653">==</span>&nbsp;<span class="num" id="4956656">0</span>&nbsp;<span class="op" id="4956658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4956662">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956708">return</span>&nbsp;<span class="builtintype" id="4956715">nil</span><span class="op" id="4956718">,</span>&nbsp;<span class="ident" id="4956720"><a href="/gostd/html/template/template.go.html#4946411">fmt</a></span><span class="op" id="4956723">.</span><span class="ident" id="4956724"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="4956730">(</span><span class="string" id="4956731">&#34;html/template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="4956784">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956790">for</span>&nbsp;<span class="ident" id="4956794">_</span><span class="op" id="4956795">,</span>&nbsp;<span class="ident" id="4956797">filename</span>&nbsp;<span class="op" id="4956806">:=</span>&nbsp;<span class="keyword" id="4956809">range</span>&nbsp;<span class="ident" id="4956815"><a href="/gostd/html/template/template.go.html#4956592">filenames</a></span>&nbsp;<span class="op" id="4956825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4956829">b</span><span class="op" id="4956830">,</span>&nbsp;<span class="ident" id="4956832">err</span>&nbsp;<span class="op" id="4956836">:=</span>&nbsp;<span class="ident" id="4956839"><a href="/gostd/html/template/template.go.html#4946424">ioutil</a></span><span class="op" id="4956845">.</span><span class="ident" id="4956846"><a href="/gostd/io/ioutil/ioutil.go.html#3765434">ReadFile</a></span><span class="op" id="4956854">(</span><span class="ident" id="4956855"><a href="/gostd/html/template/template.go.html#4956797">filename</a></span><span class="op" id="4956863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956867">if</span>&nbsp;<span class="ident" id="4956870"><a href="/gostd/html/template/template.go.html#4956832">err</a></span>&nbsp;<span class="op" id="4956874">!=</span>&nbsp;<span class="builtintype" id="4956877">nil</span>&nbsp;<span class="op" id="4956881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4956886">return</span>&nbsp;<span class="builtintype" id="4956893">nil</span><span class="op" id="4956896">,</span>&nbsp;<span class="ident" id="4956898"><a href="/gostd/html/template/template.go.html#4956832">err</a></span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4956904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4956908">s</span>&nbsp;<span class="op" id="4956910">:=</span>&nbsp;<span class="builtintype" id="4956913">string</span><span class="op" id="4956919">(</span><span class="ident" id="4956920"><a href="/gostd/html/template/template.go.html#4956829">b</a></span><span class="op" id="4956921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4956925">name</span>&nbsp;<span class="op" id="4956930">:=</span>&nbsp;<span class="ident" id="4956933"><a href="/gostd/html/template/template.go.html#4946437">filepath</a></span><span class="op" id="4956941">.</span><span class="ident" id="4956942"><a href="/gostd/path/filepath/path.go.html#3789969">Base</a></span><span class="op" id="4956946">(</span><span class="ident" id="4956947"><a href="/gostd/html/template/template.go.html#4956797">filename</a></span><span class="op" id="4956955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4956959">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4957024">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4957087">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4957157">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4957208">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4957262">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957328">var</span>&nbsp;<span class="ident" id="4957332">tmpl</span>&nbsp;<span class="op" id="4957337">*</span><span class="ident" id="4957338"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957349">if</span>&nbsp;<span class="ident" id="4957352"><a href="/gostd/html/template/template.go.html#4956579">t</a></span>&nbsp;<span class="op" id="4957354">==</span>&nbsp;<span class="builtintype" id="4957357">nil</span>&nbsp;<span class="op" id="4957361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4957366"><a href="/gostd/html/template/template.go.html#4956579">t</a></span>&nbsp;<span class="op" id="4957368">=</span>&nbsp;<span class="ident" id="4957370"><a href="/gostd/html/template/template.go.html#4952989">New</a></span><span class="op" id="4957373">(</span><span class="ident" id="4957374"><a href="/gostd/html/template/template.go.html#4956925">name</a></span><span class="op" id="4957378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957386">if</span>&nbsp;<span class="ident" id="4957389"><a href="/gostd/html/template/template.go.html#4956925">name</a></span>&nbsp;<span class="op" id="4957394">==</span>&nbsp;<span class="ident" id="4957397"><a href="/gostd/html/template/template.go.html#4956579">t</a></span><span class="op" id="4957398">.</span><span class="ident" id="4957399"><a href="/gostd/html/template/template.go.html#4953778">Name</a></span><span class="op" id="4957403">(</span><span class="op" id="4957404">)</span>&nbsp;<span class="op" id="4957406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4957411"><a href="/gostd/html/template/template.go.html#4957332">tmpl</a></span>&nbsp;<span class="op" id="4957416">=</span>&nbsp;<span class="ident" id="4957418"><a href="/gostd/html/template/template.go.html#4956579">t</a></span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957422">}</span>&nbsp;<span class="keyword" id="4957424">else</span>&nbsp;<span class="op" id="4957429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4957434"><a href="/gostd/html/template/template.go.html#4957332">tmpl</a></span>&nbsp;<span class="op" id="4957439">=</span>&nbsp;<span class="ident" id="4957441"><a href="/gostd/html/template/template.go.html#4956579">t</a></span><span class="op" id="4957442">.</span><span class="ident" id="4957443"><a href="/gostd/html/template/template.go.html#4953397">New</a></span><span class="op" id="4957446">(</span><span class="ident" id="4957447"><a href="/gostd/html/template/template.go.html#4956925">name</a></span><span class="op" id="4957451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4957459">_</span><span class="op" id="4957460">,</span>&nbsp;<span class="ident" id="4957462"><a href="/gostd/html/template/template.go.html#4956832">err</a></span>&nbsp;<span class="op" id="4957466">=</span>&nbsp;<span class="ident" id="4957468"><a href="/gostd/html/template/template.go.html#4957332">tmpl</a></span><span class="op" id="4957472">.</span><span class="ident" id="4957473"><a href="/gostd/html/template/template.go.html#4950378">Parse</a></span><span class="op" id="4957478">(</span><span class="ident" id="4957479"><a href="/gostd/html/template/template.go.html#4956908">s</a></span><span class="op" id="4957480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957484">if</span>&nbsp;<span class="ident" id="4957487"><a href="/gostd/html/template/template.go.html#4956832">err</a></span>&nbsp;<span class="op" id="4957491">!=</span>&nbsp;<span class="builtintype" id="4957494">nil</span>&nbsp;<span class="op" id="4957498">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957503">return</span>&nbsp;<span class="builtintype" id="4957510">nil</span><span class="op" id="4957513">,</span>&nbsp;<span class="ident" id="4957515"><a href="/gostd/html/template/template.go.html#4956832">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4957524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957527">return</span>&nbsp;<span class="ident" id="4957534"><a href="/gostd/html/template/template.go.html#4956579">t</a></span><span class="op" id="4957535">,</span>&nbsp;<span class="builtintype" id="4957537">nil</span><br>
<span class="lineno"></span><span class="op" id="4957541">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="comment" id="4957544">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4957625">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="4957701">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4957777">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno">365</span><span class="comment" id="4957850">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="4957911">func</span>&nbsp;<span class="ident" id="4957916">ParseGlob</span><span class="op" id="4957925">(</span><span class="ident" id="4957926">pattern</span>&nbsp;<span class="builtintype" id="4957934">string</span><span class="op" id="4957940">)</span>&nbsp;<span class="op" id="4957942">(</span><span class="op" id="4957943">*</span><span class="ident" id="4957944"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4957952">,</span>&nbsp;<span class="builtintype" id="4957954">error</span><span class="op" id="4957959">)</span>&nbsp;<span class="op" id="4957961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4957964">return</span>&nbsp;<span class="ident" id="4957971"><a href="/gostd/html/template/template.go.html#4958489">parseGlob</a></span><span class="op" id="4957980">(</span><span class="builtintype" id="4957981">nil</span><span class="op" id="4957984">,</span>&nbsp;<span class="ident" id="4957986"><a href="/gostd/html/template/template.go.html#4957926">pattern</a></span><span class="op" id="4957993">)</span><br>
<span class="lineno"></span><span class="op" id="4957995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="comment" id="4957998">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4958074">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4958147">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="4958224">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4958300">//&nbsp;pattern.</span><br>
<span class="lineno">375</span><span class="keyword" id="4958312">func</span>&nbsp;<span class="op" id="4958317">(</span><span class="ident" id="4958318">t</span>&nbsp;<span class="op" id="4958320">*</span><span class="ident" id="4958321"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4958329">)</span>&nbsp;<span class="ident" id="4958331">ParseGlob</span><span class="op" id="4958340">(</span><span class="ident" id="4958341">pattern</span>&nbsp;<span class="builtintype" id="4958349">string</span><span class="op" id="4958355">)</span>&nbsp;<span class="op" id="4958357">(</span><span class="op" id="4958358">*</span><span class="ident" id="4958359"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4958367">,</span>&nbsp;<span class="builtintype" id="4958369">error</span><span class="op" id="4958374">)</span>&nbsp;<span class="op" id="4958376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4958379">return</span>&nbsp;<span class="ident" id="4958386"><a href="/gostd/html/template/template.go.html#4958489">parseGlob</a></span><span class="op" id="4958395">(</span><span class="ident" id="4958396"><a href="/gostd/html/template/template.go.html#4958318">t</a></span><span class="op" id="4958397">,</span>&nbsp;<span class="ident" id="4958399"><a href="/gostd/html/template/template.go.html#4958341">pattern</a></span><span class="op" id="4958406">)</span><br>
<span class="lineno"></span><span class="op" id="4958408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4958411">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno">380</span><span class="keyword" id="4958484">func</span>&nbsp;<span class="ident" id="4958489">parseGlob</span><span class="op" id="4958498">(</span><span class="ident" id="4958499">t</span>&nbsp;<span class="op" id="4958501">*</span><span class="ident" id="4958502"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4958510">,</span>&nbsp;<span class="ident" id="4958512">pattern</span>&nbsp;<span class="builtintype" id="4958520">string</span><span class="op" id="4958526">)</span>&nbsp;<span class="op" id="4958528">(</span><span class="op" id="4958529">*</span><span class="ident" id="4958530"><a href="/gostd/html/template/template.go.html#4946616">Template</a></span><span class="op" id="4958538">,</span>&nbsp;<span class="builtintype" id="4958540">error</span><span class="op" id="4958545">)</span>&nbsp;<span class="op" id="4958547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4958550">filenames</span><span class="op" id="4958559">,</span>&nbsp;<span class="ident" id="4958561">err</span>&nbsp;<span class="op" id="4958565">:=</span>&nbsp;<span class="ident" id="4958568"><a href="/gostd/html/template/template.go.html#4946437">filepath</a></span><span class="op" id="4958576">.</span><span class="ident" id="4958577"><a href="/gostd/path/filepath/match.go.html#3776591">Glob</a></span><span class="op" id="4958581">(</span><span class="ident" id="4958582"><a href="/gostd/html/template/template.go.html#4958512">pattern</a></span><span class="op" id="4958589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4958592">if</span>&nbsp;<span class="ident" id="4958595"><a href="/gostd/html/template/template.go.html#4958561">err</a></span>&nbsp;<span class="op" id="4958599">!=</span>&nbsp;<span class="builtintype" id="4958602">nil</span>&nbsp;<span class="op" id="4958606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4958610">return</span>&nbsp;<span class="builtintype" id="4958617">nil</span><span class="op" id="4958620">,</span>&nbsp;<span class="ident" id="4958622"><a href="/gostd/html/template/template.go.html#4958561">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4958627">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4958630">if</span>&nbsp;<span class="builtinfunc" id="4958633">len</span><span class="op" id="4958636">(</span><span class="ident" id="4958637"><a href="/gostd/html/template/template.go.html#4958550">filenames</a></span><span class="op" id="4958646">)</span>&nbsp;<span class="op" id="4958648">==</span>&nbsp;<span class="num" id="4958651">0</span>&nbsp;<span class="op" id="4958653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4958657">return</span>&nbsp;<span class="builtintype" id="4958664">nil</span><span class="op" id="4958667">,</span>&nbsp;<span class="ident" id="4958669"><a href="/gostd/html/template/template.go.html#4946411">fmt</a></span><span class="op" id="4958672">.</span><span class="ident" id="4958673"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="4958679">(</span><span class="string" id="4958680">&#34;html/template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="4958726">,</span>&nbsp;<span class="ident" id="4958728"><a href="/gostd/html/template/template.go.html#4958512">pattern</a></span><span class="op" id="4958735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4958738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4958741">return</span>&nbsp;<span class="ident" id="4958748"><a href="/gostd/html/template/template.go.html#4956568">parseFiles</a></span><span class="op" id="4958758">(</span><span class="ident" id="4958759"><a href="/gostd/html/template/template.go.html#4958499">t</a></span><span class="op" id="4958760">,</span>&nbsp;<span class="ident" id="4958762"><a href="/gostd/html/template/template.go.html#4958550">filenames</a></span><span class="op" id="4958771">...</span><span class="op" id="4958774">)</span><br>
<span class="lineno"></span><span class="op" id="4958776">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
