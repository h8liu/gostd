<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6112631">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6112686">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6112740">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6112791">//&nbsp;Package&nbsp;csv&nbsp;reads&nbsp;and&nbsp;writes&nbsp;comma-separated&nbsp;values&nbsp;(CSV)&nbsp;files.</span><br>
<span class="lineno"></span><span class="comment" id="6112859">//</span><br>
<span class="lineno"></span><span class="comment" id="6112862">//&nbsp;A&nbsp;csv&nbsp;file&nbsp;contains&nbsp;zero&nbsp;or&nbsp;more&nbsp;records&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;fields&nbsp;per&nbsp;record.</span><br>
<span class="lineno"></span><span class="comment" id="6112940">//&nbsp;Each&nbsp;record&nbsp;is&nbsp;separated&nbsp;by&nbsp;the&nbsp;newline&nbsp;character.&nbsp;The&nbsp;final&nbsp;record&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="6113015">//&nbsp;optionally&nbsp;be&nbsp;followed&nbsp;by&nbsp;a&nbsp;newline&nbsp;character.</span><br>
<span class="lineno">10</span><span class="comment" id="6113065">//</span><br>
<span class="lineno"></span><span class="comment" id="6113068">//&nbsp;&nbsp;&nbsp;&nbspfield1,field2,field3</span><br>
<span class="lineno"></span><span class="comment" id="6113092">//</span><br>
<span class="lineno"></span><span class="comment" id="6113095">//&nbsp;White&nbsp;space&nbsp;is&nbsp;considered&nbsp;part&nbsp;of&nbsp;a&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="6113141">//</span><br>
<span class="lineno">15</span><span class="comment" id="6113144">//&nbsp;Carriage&nbsp;returns&nbsp;before&nbsp;newline&nbsp;characters&nbsp;are&nbsp;silently&nbsp;removed.</span><br>
<span class="lineno"></span><span class="comment" id="6113212">//</span><br>
<span class="lineno"></span><span class="comment" id="6113215">//&nbsp;Blank&nbsp;lines&nbsp;are&nbsp;ignored.&nbsp;&nbsp;A&nbsp;line&nbsp;with&nbsp;only&nbsp;whitespace&nbsp;characters&nbsp;(excluding</span><br>
<span class="lineno"></span><span class="comment" id="6113294">//&nbsp;the&nbsp;ending&nbsp;newline&nbsp;character)&nbsp;is&nbsp;not&nbsp;considered&nbsp;a&nbsp;blank&nbsp;line.</span><br>
<span class="lineno"></span><span class="comment" id="6113359">//</span><br>
<span class="lineno">20</span><span class="comment" id="6113362">//&nbsp;Fields&nbsp;which&nbsp;start&nbsp;and&nbsp;stop&nbsp;with&nbsp;the&nbsp;quote&nbsp;character&nbsp;&#34;&nbsp;are&nbsp;called</span><br>
<span class="lineno"></span><span class="comment" id="6113431">//&nbsp;quoted-fields.&nbsp;&nbsp;The&nbsp;beginning&nbsp;and&nbsp;ending&nbsp;quote&nbsp;are&nbsp;not&nbsp;part&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6113501">//&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="6113511">//</span><br>
<span class="lineno"></span><span class="comment" id="6113514">//&nbsp;The&nbsp;source:</span><br>
<span class="lineno">25</span><span class="comment" id="6113529">//</span><br>
<span class="lineno"></span><span class="comment" id="6113532">//&nbsp;&nbsp;&nbsp;&nbspnormal&nbsp;string,&#34;quoted-field&#34;</span><br>
<span class="lineno"></span><span class="comment" id="6113564">//</span><br>
<span class="lineno"></span><span class="comment" id="6113567">//&nbsp;results&nbsp;in&nbsp;the&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="6113592">//</span><br>
<span class="lineno">30</span><span class="comment" id="6113595">//&nbsp;&nbsp;&nbsp;&nbsp{`normal&nbsp;string`,&nbsp;`quoted-field`}</span><br>
<span class="lineno"></span><span class="comment" id="6113632">//</span><br>
<span class="lineno"></span><span class="comment" id="6113635">//&nbsp;Within&nbsp;a&nbsp;quoted-field&nbsp;a&nbsp;quote&nbsp;character&nbsp;followed&nbsp;by&nbsp;a&nbsp;second&nbsp;quote</span><br>
<span class="lineno"></span><span class="comment" id="6113705">//&nbsp;character&nbsp;is&nbsp;considered&nbsp;a&nbsp;single&nbsp;quote.</span><br>
<span class="lineno"></span><span class="comment" id="6113748">//</span><br>
<span class="lineno">35</span><span class="comment" id="6113751">//&nbsp;&nbsp;&nbsp;&nbsp&#34;the&nbsp;&#34;&#34;word&#34;&#34;&nbsp;is&nbsp;true&#34;,&#34;a&nbsp;&#34;&#34;quoted-field&#34;&#34;&#34;</span><br>
<span class="lineno"></span><span class="comment" id="6113798">//</span><br>
<span class="lineno"></span><span class="comment" id="6113801">//&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6113815">//</span><br>
<span class="lineno"></span><span class="comment" id="6113818">//&nbsp;&nbsp;&nbsp;&nbsp{`the&nbsp;&#34;word&#34;&nbsp;is&nbsp;true`,&nbsp;`a&nbsp;&#34;quoted-field&#34;`}</span><br>
<span class="lineno">40</span><span class="comment" id="6113864">//</span><br>
<span class="lineno"></span><span class="comment" id="6113867">//&nbsp;Newlines&nbsp;and&nbsp;commas&nbsp;may&nbsp;be&nbsp;included&nbsp;in&nbsp;a&nbsp;quoted-field</span><br>
<span class="lineno"></span><span class="comment" id="6113924">//</span><br>
<span class="lineno"></span><span class="comment" id="6113927">//&nbsp;&nbsp;&nbsp;&nbsp&#34;Multi-line</span><br>
<span class="lineno"></span><span class="comment" id="6113942">//&nbsp;&nbsp;&nbsp;&nbspfield&#34;,&#34;comma&nbsp;is&nbsp;,&#34;</span><br>
<span class="lineno">45</span><span class="comment" id="6113965">//</span><br>
<span class="lineno"></span><span class="comment" id="6113968">//&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6113982">//</span><br>
<span class="lineno"></span><span class="comment" id="6113985">//&nbsp;&nbsp;&nbsp;&nbsp{`Multi-line</span><br>
<span class="lineno"></span><span class="comment" id="6114001">//&nbsp;&nbsp;&nbsp;&nbspfield`,&nbsp;`comma&nbsp;is&nbsp;,`}</span><br>
<span class="lineno">50</span><span class="keyword" id="6114026">package</span>&nbsp;<span class="ident" id="6114034">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6114039">import</span>&nbsp;<span class="op" id="6114046">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6114049">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6114058">&#34;bytes&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6114067">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6114077">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6114084">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6114090">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="6114100">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="6114103">//&nbsp;A&nbsp;ParseError&nbsp;is&nbsp;returned&nbsp;for&nbsp;parsing&nbsp;errors.</span><br>
<span class="lineno"></span><span class="comment" id="6114151">//&nbsp;The&nbsp;first&nbsp;line&nbsp;is&nbsp;1.&nbsp;&nbsp;The&nbsp;first&nbsp;column&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="6114199">type</span>&nbsp;<span class="ident" id="6114204">ParseError</span>&nbsp;<span class="keyword" id="6114215">struct</span>&nbsp;<span class="op" id="6114222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6114225">Line</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6114232">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6114238">//&nbsp;Line&nbsp;where&nbsp;the&nbsp;error&nbsp;occurred</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6114272">Column</span>&nbsp;<span class="builtintype" id="6114279">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6114285">//&nbsp;Column&nbsp;(rune&nbsp;index)&nbsp;where&nbsp;the&nbsp;error&nbsp;occurred</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6114334">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6114341">error</span>&nbsp;<span class="comment" id="6114347">//&nbsp;The&nbsp;actual&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="6114367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6114370">func</span>&nbsp;<span class="op" id="6114375">(</span><span class="ident" id="6114376">e</span>&nbsp;<span class="op" id="6114378">*</span><span class="ident" id="6114379"><a href="/encoding/csv/reader.go.html#6114204">ParseError</a></span><span class="op" id="6114389">)</span>&nbsp;<span class="ident" id="6114391">Error</span><span class="op" id="6114396">(</span><span class="op" id="6114397">)</span>&nbsp;<span class="builtintype" id="6114399">string</span>&nbsp;<span class="op" id="6114406">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6114409">return</span>&nbsp;<span class="ident" id="6114416"><a href="/encoding/csv/reader.go.html#6114077">fmt</a></span><span class="op" id="6114419">.</span><span class="ident" id="6114420">Sprintf</span><span class="op" id="6114427">(</span><span class="string" id="6114428">&#34;line&nbsp;%d,&nbsp;column&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6114452">,</span>&nbsp;<span class="ident" id="6114454"><a href="/encoding/csv/reader.go.html#6114376">e</a></span><span class="op" id="6114455">.</span><span class="ident" id="6114456">Line</span><span class="op" id="6114460">,</span>&nbsp;<span class="ident" id="6114462"><a href="/encoding/csv/reader.go.html#6114376">e</a></span><span class="op" id="6114463">.</span><span class="ident" id="6114464">Column</span><span class="op" id="6114470">,</span>&nbsp;<span class="ident" id="6114472"><a href="/encoding/csv/reader.go.html#6114376">e</a></span><span class="op" id="6114473">.</span><span class="ident" id="6114474">Err</span><span class="op" id="6114477">)</span><br>
<span class="lineno"></span><span class="op" id="6114479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6114482">//&nbsp;These&nbsp;are&nbsp;the&nbsp;errors&nbsp;that&nbsp;can&nbsp;be&nbsp;returned&nbsp;in&nbsp;ParseError.Error</span><br>
<span class="lineno"></span><span class="keyword" id="6114547">var</span>&nbsp;<span class="op" id="6114551">(</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6114554">ErrTrailingComma</span>&nbsp;<span class="op" id="6114571">=</span>&nbsp;<span class="ident" id="6114573"><a href="/encoding/csv/reader.go.html#6114067">errors</a></span><span class="op" id="6114579">.</span><span class="ident" id="6114580">New</span><span class="op" id="6114583">(</span><span class="string" id="6114584">&#34;extra&nbsp;delimiter&nbsp;at&nbsp;end&nbsp;of&nbsp;line&#34;</span><span class="op" id="6114616">)</span>&nbsp;<span class="comment" id="6114618">//&nbsp;no&nbsp;longer&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6114637">ErrBareQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6114654">=</span>&nbsp;<span class="ident" id="6114656"><a href="/encoding/csv/reader.go.html#6114067">errors</a></span><span class="op" id="6114662">.</span><span class="ident" id="6114663">New</span><span class="op" id="6114666">(</span><span class="string" id="6114667">&#34;bare&nbsp;\&#34;&nbsp;in&nbsp;non-quoted-field&#34;</span><span class="op" id="6114696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6114699">ErrQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6114716">=</span>&nbsp;<span class="ident" id="6114718"><a href="/encoding/csv/reader.go.html#6114067">errors</a></span><span class="op" id="6114724">.</span><span class="ident" id="6114725">New</span><span class="op" id="6114728">(</span><span class="string" id="6114729">&#34;extraneous&nbsp;\&#34;&nbsp;in&nbsp;field&#34;</span><span class="op" id="6114753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6114756">ErrFieldCount</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6114773">=</span>&nbsp;<span class="ident" id="6114775"><a href="/encoding/csv/reader.go.html#6114067">errors</a></span><span class="op" id="6114781">.</span><span class="ident" id="6114782">New</span><span class="op" id="6114785">(</span><span class="string" id="6114786">&#34;wrong&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;line&#34;</span><span class="op" id="6114818">)</span><br>
<span class="lineno"></span><span class="op" id="6114820">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="6114823">//&nbsp;A&nbsp;Reader&nbsp;reads&nbsp;records&nbsp;from&nbsp;a&nbsp;CSV-encoded&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="6114874">//</span><br>
<span class="lineno"></span><span class="comment" id="6114877">//&nbsp;As&nbsp;returned&nbsp;by&nbsp;NewReader,&nbsp;a&nbsp;Reader&nbsp;expects&nbsp;input&nbsp;conforming&nbsp;to&nbsp;RFC&nbsp;4180.</span><br>
<span class="lineno"></span><span class="comment" id="6114953">//&nbsp;The&nbsp;exported&nbsp;fields&nbsp;can&nbsp;be&nbsp;changed&nbsp;to&nbsp;customize&nbsp;the&nbsp;details&nbsp;before&nbsp;the</span><br>
<span class="lineno">85</span><span class="comment" id="6115027">//&nbsp;first&nbsp;call&nbsp;to&nbsp;Read&nbsp;or&nbsp;ReadAll.</span><br>
<span class="lineno"></span><span class="comment" id="6115061">//</span><br>
<span class="lineno"></span><span class="comment" id="6115064">//&nbsp;Comma&nbsp;is&nbsp;the&nbsp;field&nbsp;delimiter.&nbsp;&nbsp;It&nbsp;defaults&nbsp;to&nbsp;&#39;,&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="6115118">//</span><br>
<span class="lineno"></span><span class="comment" id="6115121">//&nbsp;Comment,&nbsp;if&nbsp;not&nbsp;0,&nbsp;is&nbsp;the&nbsp;comment&nbsp;character.&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="6115194">//&nbsp;Comment&nbsp;character&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="6115228">//</span><br>
<span class="lineno"></span><span class="comment" id="6115231">//&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;positive,&nbsp;Read&nbsp;requires&nbsp;each&nbsp;record&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="6115295">//&nbsp;have&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;fields.&nbsp;&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;0,&nbsp;Read&nbsp;sets&nbsp;it&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="6115373">//&nbsp;the&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;the&nbsp;first&nbsp;record,&nbsp;so&nbsp;that&nbsp;future&nbsp;records&nbsp;must</span><br>
<span class="lineno">95</span><span class="comment" id="6115446">//&nbsp;have&nbsp;the&nbsp;same&nbsp;field&nbsp;count.&nbsp;&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;negative,&nbsp;no&nbsp;check&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6115521">//&nbsp;made&nbsp;and&nbsp;records&nbsp;may&nbsp;have&nbsp;a&nbsp;variable&nbsp;number&nbsp;of&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="6115579">//</span><br>
<span class="lineno"></span><span class="comment" id="6115582">//&nbsp;If&nbsp;LazyQuotes&nbsp;is&nbsp;true,&nbsp;a&nbsp;quote&nbsp;may&nbsp;appear&nbsp;in&nbsp;an&nbsp;unquoted&nbsp;field&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6115654">//&nbsp;non-doubled&nbsp;quote&nbsp;may&nbsp;appear&nbsp;in&nbsp;a&nbsp;quoted&nbsp;field.</span><br>
<span class="lineno">100</span><span class="comment" id="6115705">//</span><br>
<span class="lineno"></span><span class="comment" id="6115708">//&nbsp;If&nbsp;TrimLeadingSpace&nbsp;is&nbsp;true,&nbsp;leading&nbsp;white&nbsp;space&nbsp;in&nbsp;a&nbsp;field&nbsp;is&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="6115783">type</span>&nbsp;<span class="ident" id="6115788">Reader</span>&nbsp;<span class="keyword" id="6115795">struct</span>&nbsp;<span class="op" id="6115802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6115805">Comma</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6115822">rune</span>&nbsp;<span class="comment" id="6115827">//&nbsp;field&nbsp;delimiter&nbsp;(set&nbsp;to&nbsp;&#39;,&#39;&nbsp;by&nbsp;NewReader)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6115873">Comment</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6115890">rune</span>&nbsp;<span class="comment" id="6115895">//&nbsp;comment&nbsp;character&nbsp;for&nbsp;start&nbsp;of&nbsp;line</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6115935">FieldsPerRecord</span>&nbsp;&nbsp;<span class="builtintype" id="6115952">int</span>&nbsp;&nbsp;<span class="comment" id="6115957">//&nbsp;number&nbsp;of&nbsp;expected&nbsp;fields&nbsp;per&nbsp;record</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6115998">LazyQuotes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6116015">bool</span>&nbsp;<span class="comment" id="6116020">//&nbsp;allow&nbsp;lazy&nbsp;quotes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116042">TrailingComma</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6116059">bool</span>&nbsp;<span class="comment" id="6116064">//&nbsp;ignored;&nbsp;here&nbsp;for&nbsp;backwards&nbsp;compatibility</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116110">TrimLeadingSpace</span>&nbsp;<span class="builtintype" id="6116127">bool</span>&nbsp;<span class="comment" id="6116132">//&nbsp;trim&nbsp;leading&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116155">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6116172">int</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116177">column</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6116194">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116199">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6116216">*</span><span class="ident" id="6116217"><a href="/encoding/csv/reader.go.html#6114049">bufio</a></span><span class="op" id="6116222">.</span><span class="ident" id="6116223">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116231">field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6116248"><a href="/encoding/csv/reader.go.html#6114058">bytes</a></span><span class="op" id="6116253">.</span><span class="ident" id="6116254">Buffer</span><br>
<span class="lineno"></span><span class="op" id="6116261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="6116264">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="6116317">func</span>&nbsp;<span class="ident" id="6116322">NewReader</span><span class="op" id="6116331">(</span><span class="ident" id="6116332">r</span>&nbsp;<span class="ident" id="6116334"><a href="/encoding/csv/reader.go.html#6114084">io</a></span><span class="op" id="6116336">.</span><span class="ident" id="6116337">Reader</span><span class="op" id="6116343">)</span>&nbsp;<span class="op" id="6116345">*</span><span class="ident" id="6116346"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span>&nbsp;<span class="op" id="6116353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116356">return</span>&nbsp;<span class="op" id="6116363">&amp;</span><span class="ident" id="6116364"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span><span class="op" id="6116370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116374">Comma</span><span class="op" id="6116379">:</span>&nbsp;<span class="string" id="6116381">&#39;,&#39;</span><span class="op" id="6116384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116388">r</span><span class="op" id="6116389">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6116395"><a href="/encoding/csv/reader.go.html#6114049">bufio</a></span><span class="op" id="6116400">.</span><span class="ident" id="6116401">NewReader</span><span class="op" id="6116410">(</span><span class="ident" id="6116411"><a href="/encoding/csv/reader.go.html#6116332">r</a></span><span class="op" id="6116412">)</span><span class="op" id="6116413">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6116416">}</span><br>
<span class="lineno"></span><span class="op" id="6116418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6116421">//&nbsp;error&nbsp;creates&nbsp;a&nbsp;new&nbsp;ParseError&nbsp;based&nbsp;on&nbsp;err.</span><br>
<span class="lineno"></span><span class="keyword" id="6116469">func</span>&nbsp;<span class="op" id="6116474">(</span><span class="ident" id="6116475">r</span>&nbsp;<span class="op" id="6116477">*</span><span class="ident" id="6116478"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span><span class="op" id="6116484">)</span>&nbsp;<span class="builtintype" id="6116486">error</span><span class="op" id="6116491">(</span><span class="ident" id="6116492">err</span>&nbsp;<span class="builtintype" id="6116496">error</span><span class="op" id="6116501">)</span>&nbsp;<span class="builtintype" id="6116503">error</span>&nbsp;<span class="op" id="6116509">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116512">return</span>&nbsp;<span class="op" id="6116519">&amp;</span><span class="ident" id="6116520"><a href="/encoding/csv/reader.go.html#6114204">ParseError</a></span><span class="op" id="6116530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116534">Line</span><span class="op" id="6116538">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6116542"><a href="/encoding/csv/reader.go.html#6116475">r</a></span><span class="op" id="6116543">.</span><span class="ident" id="6116544">line</span><span class="op" id="6116548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116552">Column</span><span class="op" id="6116558">:</span>&nbsp;<span class="ident" id="6116560"><a href="/encoding/csv/reader.go.html#6116475">r</a></span><span class="op" id="6116561">.</span><span class="ident" id="6116562">column</span><span class="op" id="6116568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116572">Err</span><span class="op" id="6116575">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6116580"><a href="/encoding/csv/reader.go.html#6116492">err</a></span><span class="op" id="6116583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6116586">}</span><br>
<span class="lineno">130</span><span class="op" id="6116588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6116591">//&nbsp;Read&nbsp;reads&nbsp;one&nbsp;record&nbsp;from&nbsp;r.&nbsp;&nbsp;The&nbsp;record&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;strings&nbsp;with&nbsp;each</span><br>
<span class="lineno"></span><span class="comment" id="6116668">//&nbsp;string&nbsp;representing&nbsp;one&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="6116702">func</span>&nbsp;<span class="op" id="6116707">(</span><span class="ident" id="6116708">r</span>&nbsp;<span class="op" id="6116710">*</span><span class="ident" id="6116711"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span><span class="op" id="6116717">)</span>&nbsp;<span class="ident" id="6116719">Read</span><span class="op" id="6116723">(</span><span class="op" id="6116724">)</span>&nbsp;<span class="op" id="6116726">(</span><span class="ident" id="6116727">record</span>&nbsp;<span class="op" id="6116734">[</span><span class="op" id="6116735">]</span><span class="builtintype" id="6116736">string</span><span class="op" id="6116742">,</span>&nbsp;<span class="ident" id="6116744">err</span>&nbsp;<span class="builtintype" id="6116748">error</span><span class="op" id="6116753">)</span>&nbsp;<span class="op" id="6116755">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116758">for</span>&nbsp;<span class="op" id="6116762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116766"><a href="/encoding/csv/reader.go.html#6116727">record</a></span><span class="op" id="6116772">,</span>&nbsp;<span class="ident" id="6116774"><a href="/encoding/csv/reader.go.html#6116744">err</a></span>&nbsp;<span class="op" id="6116778">=</span>&nbsp;<span class="ident" id="6116780"><a href="/encoding/csv/reader.go.html#6116708">r</a></span><span class="op" id="6116781">.</span><span class="ident" id="6116782">parseRecord</span><span class="op" id="6116793">(</span><span class="op" id="6116794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116798">if</span>&nbsp;<span class="ident" id="6116801"><a href="/encoding/csv/reader.go.html#6116727">record</a></span>&nbsp;<span class="op" id="6116808">!=</span>&nbsp;<span class="ident" id="6116811">nil</span>&nbsp;<span class="op" id="6116815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116820">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6116828">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116832">if</span>&nbsp;<span class="ident" id="6116835"><a href="/encoding/csv/reader.go.html#6116744">err</a></span>&nbsp;<span class="op" id="6116839">!=</span>&nbsp;<span class="ident" id="6116842">nil</span>&nbsp;<span class="op" id="6116846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116851">return</span>&nbsp;<span class="ident" id="6116858">nil</span><span class="op" id="6116861">,</span>&nbsp;<span class="ident" id="6116863"><a href="/encoding/csv/reader.go.html#6116744">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6116869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6116872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116876">if</span>&nbsp;<span class="ident" id="6116879"><a href="/encoding/csv/reader.go.html#6116708">r</a></span><span class="op" id="6116880">.</span><span class="ident" id="6116881">FieldsPerRecord</span>&nbsp;<span class="op" id="6116897">&gt;</span>&nbsp;<span class="num" id="6116899">0</span>&nbsp;<span class="op" id="6116901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116905">if</span>&nbsp;<span class="builtinfunc" id="6116908">len</span><span class="op" id="6116911">(</span><span class="ident" id="6116912"><a href="/encoding/csv/reader.go.html#6116727">record</a></span><span class="op" id="6116918">)</span>&nbsp;<span class="op" id="6116920">!=</span>&nbsp;<span class="ident" id="6116923"><a href="/encoding/csv/reader.go.html#6116708">r</a></span><span class="op" id="6116924">.</span><span class="ident" id="6116925">FieldsPerRecord</span>&nbsp;<span class="op" id="6116941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6116946"><a href="/encoding/csv/reader.go.html#6116708">r</a></span><span class="op" id="6116947">.</span><span class="ident" id="6116948">column</span>&nbsp;<span class="op" id="6116955">=</span>&nbsp;<span class="num" id="6116957">0</span>&nbsp;<span class="comment" id="6116959">//&nbsp;report&nbsp;at&nbsp;start&nbsp;of&nbsp;record</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6116991">return</span>&nbsp;<span class="ident" id="6116998"><a href="/encoding/csv/reader.go.html#6116727">record</a></span><span class="op" id="6117004">,</span>&nbsp;<span class="ident" id="6117006"><a href="/encoding/csv/reader.go.html#6116708">r</a></span><span class="op" id="6117007">.</span><span class="builtintype" id="6117008">error</span><span class="op" id="6117013">(</span><span class="ident" id="6117014"><a href="/encoding/csv/reader.go.html#6114756">ErrFieldCount</a></span><span class="op" id="6117027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6117031">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6117034">}</span>&nbsp;<span class="keyword" id="6117036">else</span>&nbsp;<span class="keyword" id="6117041">if</span>&nbsp;<span class="ident" id="6117044"><a href="/encoding/csv/reader.go.html#6116708">r</a></span><span class="op" id="6117045">.</span><span class="ident" id="6117046">FieldsPerRecord</span>&nbsp;<span class="op" id="6117062">==</span>&nbsp;<span class="num" id="6117065">0</span>&nbsp;<span class="op" id="6117067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6117071"><a href="/encoding/csv/reader.go.html#6116708">r</a></span><span class="op" id="6117072">.</span><span class="ident" id="6117073">FieldsPerRecord</span>&nbsp;<span class="op" id="6117089">=</span>&nbsp;<span class="builtinfunc" id="6117091">len</span><span class="op" id="6117094">(</span><span class="ident" id="6117095"><a href="/encoding/csv/reader.go.html#6116727">record</a></span><span class="op" id="6117101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6117104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6117107">return</span>&nbsp;<span class="ident" id="6117114"><a href="/encoding/csv/reader.go.html#6116727">record</a></span><span class="op" id="6117120">,</span>&nbsp;<span class="ident" id="6117122">nil</span><br>
<span class="lineno"></span><span class="op" id="6117126">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="6117129">//&nbsp;ReadAll&nbsp;reads&nbsp;all&nbsp;the&nbsp;remaining&nbsp;records&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="6117180">//&nbsp;Each&nbsp;record&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="6117217">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadAll&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6117293">//&nbsp;defined&nbsp;to&nbsp;read&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;end&nbsp;of&nbsp;file&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be</span><br>
<span class="lineno">160</span><span class="comment" id="6117371">//&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="6117384">func</span>&nbsp;<span class="op" id="6117389">(</span><span class="ident" id="6117390">r</span>&nbsp;<span class="op" id="6117392">*</span><span class="ident" id="6117393"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span><span class="op" id="6117399">)</span>&nbsp;<span class="ident" id="6117401">ReadAll</span><span class="op" id="6117408">(</span><span class="op" id="6117409">)</span>&nbsp;<span class="op" id="6117411">(</span><span class="ident" id="6117412">records</span>&nbsp;<span class="op" id="6117420">[</span><span class="op" id="6117421">]</span><span class="op" id="6117422">[</span><span class="op" id="6117423">]</span><span class="builtintype" id="6117424">string</span><span class="op" id="6117430">,</span>&nbsp;<span class="ident" id="6117432">err</span>&nbsp;<span class="builtintype" id="6117436">error</span><span class="op" id="6117441">)</span>&nbsp;<span class="op" id="6117443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6117446">for</span>&nbsp;<span class="op" id="6117450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6117454">record</span><span class="op" id="6117460">,</span>&nbsp;<span class="ident" id="6117462">err</span>&nbsp;<span class="op" id="6117466">:=</span>&nbsp;<span class="ident" id="6117469"><a href="/encoding/csv/reader.go.html#6117390">r</a></span><span class="op" id="6117470">.</span><span class="ident" id="6117471">Read</span><span class="op" id="6117475">(</span><span class="op" id="6117476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6117480">if</span>&nbsp;<span class="ident" id="6117483"><a href="/encoding/csv/reader.go.html#6117462">err</a></span>&nbsp;<span class="op" id="6117487">==</span>&nbsp;<span class="ident" id="6117490"><a href="/encoding/csv/reader.go.html#6114084">io</a></span><span class="op" id="6117492">.</span><span class="ident" id="6117493">EOF</span>&nbsp;<span class="op" id="6117497">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6117502">return</span>&nbsp;<span class="ident" id="6117509"><a href="/encoding/csv/reader.go.html#6117412">records</a></span><span class="op" id="6117516">,</span>&nbsp;<span class="ident" id="6117518">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6117524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6117528">if</span>&nbsp;<span class="ident" id="6117531"><a href="/encoding/csv/reader.go.html#6117462">err</a></span>&nbsp;<span class="op" id="6117535">!=</span>&nbsp;<span class="ident" id="6117538">nil</span>&nbsp;<span class="op" id="6117542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6117547">return</span>&nbsp;<span class="ident" id="6117554">nil</span><span class="op" id="6117557">,</span>&nbsp;<span class="ident" id="6117559"><a href="/encoding/csv/reader.go.html#6117462">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6117565">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6117569"><a href="/encoding/csv/reader.go.html#6117412">records</a></span>&nbsp;<span class="op" id="6117577">=</span>&nbsp;<span class="builtinfunc" id="6117579">append</span><span class="op" id="6117585">(</span><span class="ident" id="6117586"><a href="/encoding/csv/reader.go.html#6117412">records</a></span><span class="op" id="6117593">,</span>&nbsp;<span class="ident" id="6117595"><a href="/encoding/csv/reader.go.html#6117454">record</a></span><span class="op" id="6117601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6117604">}</span><br>
<span class="lineno"></span><span class="op" id="6117606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6117609">//&nbsp;readRune&nbsp;reads&nbsp;one&nbsp;rune&nbsp;from&nbsp;r,&nbsp;folding&nbsp;\r\n&nbsp;to&nbsp;\n&nbsp;and&nbsp;keeping&nbsp;track</span><br>
<span class="lineno">175</span><span class="comment" id="6117681">//&nbsp;of&nbsp;how&nbsp;far&nbsp;into&nbsp;the&nbsp;line&nbsp;we&nbsp;have&nbsp;read.&nbsp;&nbsp;r.column&nbsp;will&nbsp;point&nbsp;to&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span><span class="comment" id="6117757">//&nbsp;of&nbsp;this&nbsp;rune,&nbsp;not&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;rune.</span><br>
<span class="lineno"></span><span class="keyword" id="6117800">func</span>&nbsp;<span class="op" id="6117805">(</span><span class="ident" id="6117806">r</span>&nbsp;<span class="op" id="6117808">*</span><span class="ident" id="6117809"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span><span class="op" id="6117815">)</span>&nbsp;<span class="ident" id="6117817">readRune</span><span class="op" id="6117825">(</span><span class="op" id="6117826">)</span>&nbsp;<span class="op" id="6117828">(</span><span class="builtintype" id="6117829">rune</span><span class="op" id="6117833">,</span>&nbsp;<span class="builtintype" id="6117835">error</span><span class="op" id="6117840">)</span>&nbsp;<span class="op" id="6117842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6117845">r1</span><span class="op" id="6117847">,</span>&nbsp;<span class="ident" id="6117849">_</span><span class="op" id="6117850">,</span>&nbsp;<span class="ident" id="6117852">err</span>&nbsp;<span class="op" id="6117856">:=</span>&nbsp;<span class="ident" id="6117859"><a href="/encoding/csv/reader.go.html#6117806">r</a></span><span class="op" id="6117860">.</span><span class="ident" id="6117861">r</span><span class="op" id="6117862">.</span><span class="ident" id="6117863">ReadRune</span><span class="op" id="6117871">(</span><span class="op" id="6117872">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6117876">//&nbsp;Handle&nbsp;\r\n&nbsp;here.&nbsp;&nbsp;We&nbsp;make&nbsp;the&nbsp;simplifying&nbsp;assumption&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6117939">//&nbsp;anytime&nbsp;\r&nbsp;is&nbsp;followed&nbsp;by&nbsp;\n&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;folded&nbsp;to&nbsp;\n.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6118001">//&nbsp;We&nbsp;will&nbsp;not&nbsp;detect&nbsp;files&nbsp;which&nbsp;contain&nbsp;both&nbsp;\r\n&nbsp;and&nbsp;bare&nbsp;\n.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118067">if</span>&nbsp;<span class="ident" id="6118070"><a href="/encoding/csv/reader.go.html#6117845">r1</a></span>&nbsp;<span class="op" id="6118073">==</span>&nbsp;<span class="string" id="6118076">&#39;\r&#39;</span>&nbsp;<span class="op" id="6118081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6118085"><a href="/encoding/csv/reader.go.html#6117845">r1</a></span><span class="op" id="6118087">,</span>&nbsp;<span class="ident" id="6118089">_</span><span class="op" id="6118090">,</span>&nbsp;<span class="ident" id="6118092"><a href="/encoding/csv/reader.go.html#6117852">err</a></span>&nbsp;<span class="op" id="6118096">=</span>&nbsp;<span class="ident" id="6118098"><a href="/encoding/csv/reader.go.html#6117806">r</a></span><span class="op" id="6118099">.</span><span class="ident" id="6118100">r</span><span class="op" id="6118101">.</span><span class="ident" id="6118102">ReadRune</span><span class="op" id="6118110">(</span><span class="op" id="6118111">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118115">if</span>&nbsp;<span class="ident" id="6118118"><a href="/encoding/csv/reader.go.html#6117852">err</a></span>&nbsp;<span class="op" id="6118122">==</span>&nbsp;<span class="ident" id="6118125">nil</span>&nbsp;<span class="op" id="6118129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118134">if</span>&nbsp;<span class="ident" id="6118137"><a href="/encoding/csv/reader.go.html#6117845">r1</a></span>&nbsp;<span class="op" id="6118140">!=</span>&nbsp;<span class="string" id="6118143">&#39;\n&#39;</span>&nbsp;<span class="op" id="6118148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6118154"><a href="/encoding/csv/reader.go.html#6117806">r</a></span><span class="op" id="6118155">.</span><span class="ident" id="6118156">r</span><span class="op" id="6118157">.</span><span class="ident" id="6118158">UnreadRune</span><span class="op" id="6118168">(</span><span class="op" id="6118169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6118175"><a href="/encoding/csv/reader.go.html#6117845">r1</a></span>&nbsp;<span class="op" id="6118178">=</span>&nbsp;<span class="string" id="6118180">&#39;\r&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6118188">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6118192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6118195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6118198"><a href="/encoding/csv/reader.go.html#6117806">r</a></span><span class="op" id="6118199">.</span><span class="ident" id="6118200">column</span><span class="op" id="6118206">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118210">return</span>&nbsp;<span class="ident" id="6118217"><a href="/encoding/csv/reader.go.html#6117845">r1</a></span><span class="op" id="6118219">,</span>&nbsp;<span class="ident" id="6118221"><a href="/encoding/csv/reader.go.html#6117852">err</a></span><br>
<span class="lineno"></span><span class="op" id="6118225">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="6118228">//&nbsp;skip&nbsp;reads&nbsp;runes&nbsp;up&nbsp;to&nbsp;and&nbsp;including&nbsp;the&nbsp;rune&nbsp;delim&nbsp;or&nbsp;until&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="6118299">func</span>&nbsp;<span class="op" id="6118304">(</span><span class="ident" id="6118305">r</span>&nbsp;<span class="op" id="6118307">*</span><span class="ident" id="6118308"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span><span class="op" id="6118314">)</span>&nbsp;<span class="ident" id="6118316">skip</span><span class="op" id="6118320">(</span><span class="ident" id="6118321">delim</span>&nbsp;<span class="builtintype" id="6118327">rune</span><span class="op" id="6118331">)</span>&nbsp;<span class="builtintype" id="6118333">error</span>&nbsp;<span class="op" id="6118339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118342">for</span>&nbsp;<span class="op" id="6118346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6118350">r1</span><span class="op" id="6118352">,</span>&nbsp;<span class="ident" id="6118354">err</span>&nbsp;<span class="op" id="6118358">:=</span>&nbsp;<span class="ident" id="6118361"><a href="/encoding/csv/reader.go.html#6118305">r</a></span><span class="op" id="6118362">.</span><span class="ident" id="6118363">readRune</span><span class="op" id="6118371">(</span><span class="op" id="6118372">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118376">if</span>&nbsp;<span class="ident" id="6118379"><a href="/encoding/csv/reader.go.html#6118354">err</a></span>&nbsp;<span class="op" id="6118383">!=</span>&nbsp;<span class="ident" id="6118386">nil</span>&nbsp;<span class="op" id="6118390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118395">return</span>&nbsp;<span class="ident" id="6118402"><a href="/encoding/csv/reader.go.html#6118354">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6118408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118412">if</span>&nbsp;<span class="ident" id="6118415"><a href="/encoding/csv/reader.go.html#6118350">r1</a></span>&nbsp;<span class="op" id="6118418">==</span>&nbsp;<span class="ident" id="6118421"><a href="/encoding/csv/reader.go.html#6118321">delim</a></span>&nbsp;<span class="op" id="6118427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118432">return</span>&nbsp;<span class="ident" id="6118439">nil</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6118445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6118448">}</span><br>
<span class="lineno"></span><span class="op" id="6118450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6118453">//&nbsp;parseRecord&nbsp;reads&nbsp;and&nbsp;parses&nbsp;a&nbsp;single&nbsp;csv&nbsp;record&nbsp;from&nbsp;r.</span><br>
<span class="lineno">210</span><span class="keyword" id="6118513">func</span>&nbsp;<span class="op" id="6118518">(</span><span class="ident" id="6118519">r</span>&nbsp;<span class="op" id="6118521">*</span><span class="ident" id="6118522"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span><span class="op" id="6118528">)</span>&nbsp;<span class="ident" id="6118530">parseRecord</span><span class="op" id="6118541">(</span><span class="op" id="6118542">)</span>&nbsp;<span class="op" id="6118544">(</span><span class="ident" id="6118545">fields</span>&nbsp;<span class="op" id="6118552">[</span><span class="op" id="6118553">]</span><span class="builtintype" id="6118554">string</span><span class="op" id="6118560">,</span>&nbsp;<span class="ident" id="6118562">err</span>&nbsp;<span class="builtintype" id="6118566">error</span><span class="op" id="6118571">)</span>&nbsp;<span class="op" id="6118573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6118576">//&nbsp;Each&nbsp;record&nbsp;starts&nbsp;on&nbsp;a&nbsp;new&nbsp;line.&nbsp;&nbsp;We&nbsp;increment&nbsp;our&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6118637">//&nbsp;number&nbsp;(lines&nbsp;start&nbsp;at&nbsp;1,&nbsp;not&nbsp;0)&nbsp;and&nbsp;set&nbsp;column&nbsp;to&nbsp;-1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6118695">//&nbsp;so&nbsp;as&nbsp;we&nbsp;increment&nbsp;in&nbsp;readRune&nbsp;it&nbsp;points&nbsp;to&nbsp;the&nbsp;character&nbsp;we&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6118766"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6118767">.</span><span class="ident" id="6118768">line</span><span class="op" id="6118772">++</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6118776"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6118777">.</span><span class="ident" id="6118778">column</span>&nbsp;<span class="op" id="6118785">=</span>&nbsp;<span class="op" id="6118787">-</span><span class="num" id="6118788">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6118792">//&nbsp;Peek&nbsp;at&nbsp;the&nbsp;first&nbsp;rune.&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;an&nbsp;error&nbsp;we&nbsp;are&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6118852">//&nbsp;If&nbsp;we&nbsp;are&nbsp;support&nbsp;comments&nbsp;and&nbsp;it&nbsp;is&nbsp;the&nbsp;comment&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6118915">//&nbsp;then&nbsp;skip&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;line.</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6118950">r1</span><span class="op" id="6118952">,</span>&nbsp;<span class="ident" id="6118954">_</span><span class="op" id="6118955">,</span>&nbsp;<span class="ident" id="6118957"><a href="/encoding/csv/reader.go.html#6118562">err</a></span>&nbsp;<span class="op" id="6118961">:=</span>&nbsp;<span class="ident" id="6118964"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6118965">.</span><span class="ident" id="6118966">r</span><span class="op" id="6118967">.</span><span class="ident" id="6118968">ReadRune</span><span class="op" id="6118976">(</span><span class="op" id="6118977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118980">if</span>&nbsp;<span class="ident" id="6118983"><a href="/encoding/csv/reader.go.html#6118562">err</a></span>&nbsp;<span class="op" id="6118987">!=</span>&nbsp;<span class="ident" id="6118990">nil</span>&nbsp;<span class="op" id="6118994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6118998">return</span>&nbsp;<span class="ident" id="6119005">nil</span><span class="op" id="6119008">,</span>&nbsp;<span class="ident" id="6119010"><a href="/encoding/csv/reader.go.html#6118562">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119015">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119019">if</span>&nbsp;<span class="ident" id="6119022"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6119023">.</span><span class="ident" id="6119024">Comment</span>&nbsp;<span class="op" id="6119032">!=</span>&nbsp;<span class="num" id="6119035">0</span>&nbsp;<span class="op" id="6119037">&amp;&amp;</span>&nbsp;<span class="ident" id="6119040"><a href="/encoding/csv/reader.go.html#6118950">r1</a></span>&nbsp;<span class="op" id="6119043">==</span>&nbsp;<span class="ident" id="6119046"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6119047">.</span><span class="ident" id="6119048">Comment</span>&nbsp;<span class="op" id="6119056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119060">return</span>&nbsp;<span class="ident" id="6119067">nil</span><span class="op" id="6119070">,</span>&nbsp;<span class="ident" id="6119072"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6119073">.</span><span class="ident" id="6119074">skip</span><span class="op" id="6119078">(</span><span class="string" id="6119079">&#39;\n&#39;</span><span class="op" id="6119083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6119089"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6119090">.</span><span class="ident" id="6119091">r</span><span class="op" id="6119092">.</span><span class="ident" id="6119093">UnreadRune</span><span class="op" id="6119103">(</span><span class="op" id="6119104">)</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6119108">//&nbsp;At&nbsp;this&nbsp;point&nbsp;we&nbsp;have&nbsp;at&nbsp;least&nbsp;one&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119154">for</span>&nbsp;<span class="op" id="6119158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6119162">haveField</span><span class="op" id="6119171">,</span>&nbsp;<span class="ident" id="6119173">delim</span><span class="op" id="6119178">,</span>&nbsp;<span class="ident" id="6119180">err</span>&nbsp;<span class="op" id="6119184">:=</span>&nbsp;<span class="ident" id="6119187"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6119188">.</span><span class="ident" id="6119189">parseField</span><span class="op" id="6119199">(</span><span class="op" id="6119200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119204">if</span>&nbsp;<span class="ident" id="6119207"><a href="/encoding/csv/reader.go.html#6119162">haveField</a></span>&nbsp;<span class="op" id="6119217">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6119222"><a href="/encoding/csv/reader.go.html#6118545">fields</a></span>&nbsp;<span class="op" id="6119229">=</span>&nbsp;<span class="builtinfunc" id="6119231">append</span><span class="op" id="6119237">(</span><span class="ident" id="6119238"><a href="/encoding/csv/reader.go.html#6118545">fields</a></span><span class="op" id="6119244">,</span>&nbsp;<span class="ident" id="6119246"><a href="/encoding/csv/reader.go.html#6118519">r</a></span><span class="op" id="6119247">.</span><span class="ident" id="6119248">field</span><span class="op" id="6119253">.</span><span class="ident" id="6119254">String</span><span class="op" id="6119260">(</span><span class="op" id="6119261">)</span><span class="op" id="6119262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119270">if</span>&nbsp;<span class="ident" id="6119273"><a href="/encoding/csv/reader.go.html#6119173">delim</a></span>&nbsp;<span class="op" id="6119279">==</span>&nbsp;<span class="string" id="6119282">&#39;\n&#39;</span>&nbsp;<span class="op" id="6119287">||</span>&nbsp;<span class="ident" id="6119290"><a href="/encoding/csv/reader.go.html#6119180">err</a></span>&nbsp;<span class="op" id="6119294">==</span>&nbsp;<span class="ident" id="6119297"><a href="/encoding/csv/reader.go.html#6114084">io</a></span><span class="op" id="6119299">.</span><span class="ident" id="6119300">EOF</span>&nbsp;<span class="op" id="6119304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119309">return</span>&nbsp;<span class="ident" id="6119316"><a href="/encoding/csv/reader.go.html#6118545">fields</a></span><span class="op" id="6119322">,</span>&nbsp;<span class="ident" id="6119324"><a href="/encoding/csv/reader.go.html#6119180">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119330">}</span>&nbsp;<span class="keyword" id="6119332">else</span>&nbsp;<span class="keyword" id="6119337">if</span>&nbsp;<span class="ident" id="6119340"><a href="/encoding/csv/reader.go.html#6119180">err</a></span>&nbsp;<span class="op" id="6119344">!=</span>&nbsp;<span class="ident" id="6119347">nil</span>&nbsp;<span class="op" id="6119351">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119356">return</span>&nbsp;<span class="ident" id="6119363">nil</span><span class="op" id="6119366">,</span>&nbsp;<span class="ident" id="6119368"><a href="/encoding/csv/reader.go.html#6119180">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119377">}</span><br>
<span class="lineno"></span><span class="op" id="6119379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="6119382">//&nbsp;parseField&nbsp;parses&nbsp;the&nbsp;next&nbsp;field&nbsp;in&nbsp;the&nbsp;record.&nbsp;&nbsp;The&nbsp;read&nbsp;field&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6119452">//&nbsp;located&nbsp;in&nbsp;r.field.&nbsp;&nbsp;Delim&nbsp;is&nbsp;the&nbsp;first&nbsp;character&nbsp;not&nbsp;part&nbsp;of&nbsp;the&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="6119527">//&nbsp;(r.Comma&nbsp;or&nbsp;&#39;\n&#39;).</span><br>
<span class="lineno"></span><span class="keyword" id="6119549">func</span>&nbsp;<span class="op" id="6119554">(</span><span class="ident" id="6119555">r</span>&nbsp;<span class="op" id="6119557">*</span><span class="ident" id="6119558"><a href="/encoding/csv/reader.go.html#6115788">Reader</a></span><span class="op" id="6119564">)</span>&nbsp;<span class="ident" id="6119566">parseField</span><span class="op" id="6119576">(</span><span class="op" id="6119577">)</span>&nbsp;<span class="op" id="6119579">(</span><span class="ident" id="6119580">haveField</span>&nbsp;<span class="builtintype" id="6119590">bool</span><span class="op" id="6119594">,</span>&nbsp;<span class="ident" id="6119596">delim</span>&nbsp;<span class="builtintype" id="6119602">rune</span><span class="op" id="6119606">,</span>&nbsp;<span class="ident" id="6119608">err</span>&nbsp;<span class="builtintype" id="6119612">error</span><span class="op" id="6119617">)</span>&nbsp;<span class="op" id="6119619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6119622"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6119623">.</span><span class="ident" id="6119624">field</span><span class="op" id="6119629">.</span><span class="ident" id="6119630">Reset</span><span class="op" id="6119635">(</span><span class="op" id="6119636">)</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6119640">r1</span><span class="op" id="6119642">,</span>&nbsp;<span class="ident" id="6119644"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6119648">:=</span>&nbsp;<span class="ident" id="6119651"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6119652">.</span><span class="ident" id="6119653">readRune</span><span class="op" id="6119661">(</span><span class="op" id="6119662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119665">for</span>&nbsp;<span class="ident" id="6119669"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6119673">==</span>&nbsp;<span class="ident" id="6119676">nil</span>&nbsp;<span class="op" id="6119680">&amp;&amp;</span>&nbsp;<span class="ident" id="6119683"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6119684">.</span><span class="ident" id="6119685">TrimLeadingSpace</span>&nbsp;<span class="op" id="6119702">&amp;&amp;</span>&nbsp;<span class="ident" id="6119705"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6119708">!=</span>&nbsp;<span class="string" id="6119711">&#39;\n&#39;</span>&nbsp;<span class="op" id="6119716">&amp;&amp;</span>&nbsp;<span class="ident" id="6119719"><a href="/encoding/csv/reader.go.html#6114090">unicode</a></span><span class="op" id="6119726">.</span><span class="ident" id="6119727">IsSpace</span><span class="op" id="6119734">(</span><span class="ident" id="6119735"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6119737">)</span>&nbsp;<span class="op" id="6119739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6119743"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6119745">,</span>&nbsp;<span class="ident" id="6119747"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6119751">=</span>&nbsp;<span class="ident" id="6119753"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6119754">.</span><span class="ident" id="6119755">readRune</span><span class="op" id="6119763">(</span><span class="op" id="6119764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119767">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119771">if</span>&nbsp;<span class="ident" id="6119774"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6119778">==</span>&nbsp;<span class="ident" id="6119781"><a href="/encoding/csv/reader.go.html#6114084">io</a></span><span class="op" id="6119783">.</span><span class="ident" id="6119784">EOF</span>&nbsp;<span class="op" id="6119788">&amp;&amp;</span>&nbsp;<span class="ident" id="6119791"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6119792">.</span><span class="ident" id="6119793">column</span>&nbsp;<span class="op" id="6119800">!=</span>&nbsp;<span class="num" id="6119803">0</span>&nbsp;<span class="op" id="6119805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119809">return</span>&nbsp;<span class="builtintype" id="6119816">true</span><span class="op" id="6119820">,</span>&nbsp;<span class="num" id="6119822">0</span><span class="op" id="6119823">,</span>&nbsp;<span class="ident" id="6119825"><a href="/encoding/csv/reader.go.html#6119608">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119833">if</span>&nbsp;<span class="ident" id="6119836"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6119840">!=</span>&nbsp;<span class="ident" id="6119843">nil</span>&nbsp;<span class="op" id="6119847">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119851">return</span>&nbsp;<span class="builtintype" id="6119858">false</span><span class="op" id="6119863">,</span>&nbsp;<span class="num" id="6119865">0</span><span class="op" id="6119866">,</span>&nbsp;<span class="ident" id="6119868"><a href="/encoding/csv/reader.go.html#6119608">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6119873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119877">switch</span>&nbsp;<span class="ident" id="6119884"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6119887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119890">case</span>&nbsp;<span class="ident" id="6119895"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6119896">.</span><span class="ident" id="6119897">Comma</span><span class="op" id="6119902">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6119906">//&nbsp;will&nbsp;check&nbsp;below</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119928">case</span>&nbsp;<span class="string" id="6119933">&#39;\n&#39;</span><span class="op" id="6119937">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6119941">//&nbsp;We&nbsp;are&nbsp;a&nbsp;trailing&nbsp;empty&nbsp;field&nbsp;or&nbsp;a&nbsp;blank&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6119992">if</span>&nbsp;<span class="ident" id="6119995"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6119996">.</span><span class="ident" id="6119997">column</span>&nbsp;<span class="op" id="6120004">==</span>&nbsp;<span class="num" id="6120007">0</span>&nbsp;<span class="op" id="6120009">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120014">return</span>&nbsp;<span class="builtintype" id="6120021">false</span><span class="op" id="6120026">,</span>&nbsp;<span class="ident" id="6120028"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120030">,</span>&nbsp;<span class="ident" id="6120032">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120042">return</span>&nbsp;<span class="builtintype" id="6120049">true</span><span class="op" id="6120053">,</span>&nbsp;<span class="ident" id="6120055"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120057">,</span>&nbsp;<span class="ident" id="6120059">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120065">case</span>&nbsp;<span class="string" id="6120070">&#39;&#34;&#39;</span><span class="op" id="6120073">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6120077">//&nbsp;quoted&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120094">Quoted</span><span class="op" id="6120100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120104">for</span>&nbsp;<span class="op" id="6120108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120113"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120115">,</span>&nbsp;<span class="ident" id="6120117"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6120121">=</span>&nbsp;<span class="ident" id="6120123"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120124">.</span><span class="ident" id="6120125">readRune</span><span class="op" id="6120133">(</span><span class="op" id="6120134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120139">if</span>&nbsp;<span class="ident" id="6120142"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6120146">!=</span>&nbsp;<span class="ident" id="6120149">nil</span>&nbsp;<span class="op" id="6120153">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120159">if</span>&nbsp;<span class="ident" id="6120162"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6120166">==</span>&nbsp;<span class="ident" id="6120169"><a href="/encoding/csv/reader.go.html#6114084">io</a></span><span class="op" id="6120171">.</span><span class="ident" id="6120172">EOF</span>&nbsp;<span class="op" id="6120176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120183">if</span>&nbsp;<span class="ident" id="6120186"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120187">.</span><span class="ident" id="6120188">LazyQuotes</span>&nbsp;<span class="op" id="6120199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120207">return</span>&nbsp;<span class="builtintype" id="6120214">true</span><span class="op" id="6120218">,</span>&nbsp;<span class="num" id="6120220">0</span><span class="op" id="6120221">,</span>&nbsp;<span class="ident" id="6120223"><a href="/encoding/csv/reader.go.html#6119608">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120239">return</span>&nbsp;<span class="builtintype" id="6120246">false</span><span class="op" id="6120251">,</span>&nbsp;<span class="num" id="6120253">0</span><span class="op" id="6120254">,</span>&nbsp;<span class="ident" id="6120256"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120257">.</span><span class="builtintype" id="6120258">error</span><span class="op" id="6120263">(</span><span class="ident" id="6120264"><a href="/encoding/csv/reader.go.html#6114699">ErrQuote</a></span><span class="op" id="6120272">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120284">return</span>&nbsp;<span class="builtintype" id="6120291">false</span><span class="op" id="6120296">,</span>&nbsp;<span class="num" id="6120298">0</span><span class="op" id="6120299">,</span>&nbsp;<span class="ident" id="6120301"><a href="/encoding/csv/reader.go.html#6119608">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120313">switch</span>&nbsp;<span class="ident" id="6120320"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6120323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120328">case</span>&nbsp;<span class="string" id="6120333">&#39;&#34;&#39;</span><span class="op" id="6120336">:</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120342"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120344">,</span>&nbsp;<span class="ident" id="6120346"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6120350">=</span>&nbsp;<span class="ident" id="6120352"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120353">.</span><span class="ident" id="6120354">readRune</span><span class="op" id="6120362">(</span><span class="op" id="6120363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120369">if</span>&nbsp;<span class="ident" id="6120372"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6120376">!=</span>&nbsp;<span class="ident" id="6120379">nil</span>&nbsp;<span class="op" id="6120383">||</span>&nbsp;<span class="ident" id="6120386"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6120389">==</span>&nbsp;<span class="ident" id="6120392"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120393">.</span><span class="ident" id="6120394">Comma</span>&nbsp;<span class="op" id="6120400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120407">break</span>&nbsp;<span class="ident" id="6120413">Quoted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120430">if</span>&nbsp;<span class="ident" id="6120433"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6120436">==</span>&nbsp;<span class="string" id="6120439">&#39;\n&#39;</span>&nbsp;<span class="op" id="6120444">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120451">return</span>&nbsp;<span class="builtintype" id="6120458">true</span><span class="op" id="6120462">,</span>&nbsp;<span class="ident" id="6120464"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120466">,</span>&nbsp;<span class="ident" id="6120468">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120482">if</span>&nbsp;<span class="ident" id="6120485"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6120488">!=</span>&nbsp;<span class="string" id="6120491">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="6120495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120502">if</span>&nbsp;<span class="op" id="6120505">!</span><span class="ident" id="6120506"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120507">.</span><span class="ident" id="6120508">LazyQuotes</span>&nbsp;<span class="op" id="6120519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120527"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120528">.</span><span class="ident" id="6120529">column</span><span class="op" id="6120535">--</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120544">return</span>&nbsp;<span class="builtintype" id="6120551">false</span><span class="op" id="6120556">,</span>&nbsp;<span class="num" id="6120558">0</span><span class="op" id="6120559">,</span>&nbsp;<span class="ident" id="6120561"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120562">.</span><span class="builtintype" id="6120563">error</span><span class="op" id="6120568">(</span><span class="ident" id="6120569"><a href="/encoding/csv/reader.go.html#6114699">ErrQuote</a></span><span class="op" id="6120577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6120591">//&nbsp;accept&nbsp;the&nbsp;bare&nbsp;quote</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120621"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120622">.</span><span class="ident" id="6120623">field</span><span class="op" id="6120628">.</span><span class="ident" id="6120629">WriteRune</span><span class="op" id="6120638">(</span><span class="string" id="6120639">&#39;&#34;&#39;</span><span class="op" id="6120642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120648">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120653">case</span>&nbsp;<span class="string" id="6120658">&#39;\n&#39;</span><span class="op" id="6120662">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120668"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120669">.</span><span class="ident" id="6120670">line</span><span class="op" id="6120674">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120681"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120682">.</span><span class="ident" id="6120683">column</span>&nbsp;<span class="op" id="6120690">=</span>&nbsp;<span class="op" id="6120692">-</span><span class="num" id="6120693">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120703"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120704">.</span><span class="ident" id="6120705">field</span><span class="op" id="6120710">.</span><span class="ident" id="6120711">WriteRune</span><span class="op" id="6120720">(</span><span class="ident" id="6120721"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120723">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120731">default</span><span class="op" id="6120738">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6120742">//&nbsp;unquoted&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120762">for</span>&nbsp;<span class="op" id="6120766">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120771"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120772">.</span><span class="ident" id="6120773">field</span><span class="op" id="6120778">.</span><span class="ident" id="6120779">WriteRune</span><span class="op" id="6120788">(</span><span class="ident" id="6120789"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6120796"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120798">,</span>&nbsp;<span class="ident" id="6120800"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6120804">=</span>&nbsp;<span class="ident" id="6120806"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120807">.</span><span class="ident" id="6120808">readRune</span><span class="op" id="6120816">(</span><span class="op" id="6120817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120822">if</span>&nbsp;<span class="ident" id="6120825"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6120829">!=</span>&nbsp;<span class="ident" id="6120832">nil</span>&nbsp;<span class="op" id="6120836">||</span>&nbsp;<span class="ident" id="6120839"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6120842">==</span>&nbsp;<span class="ident" id="6120845"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120846">.</span><span class="ident" id="6120847">Comma</span>&nbsp;<span class="op" id="6120853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120859">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120868">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120873">if</span>&nbsp;<span class="ident" id="6120876"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6120879">==</span>&nbsp;<span class="string" id="6120882">&#39;\n&#39;</span>&nbsp;<span class="op" id="6120887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120893">return</span>&nbsp;<span class="builtintype" id="6120900">true</span><span class="op" id="6120904">,</span>&nbsp;<span class="ident" id="6120906"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6120908">,</span>&nbsp;<span class="ident" id="6120910">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6120917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120922">if</span>&nbsp;<span class="op" id="6120925">!</span><span class="ident" id="6120926"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120927">.</span><span class="ident" id="6120928">LazyQuotes</span>&nbsp;<span class="op" id="6120939">&amp;&amp;</span>&nbsp;<span class="ident" id="6120942"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span>&nbsp;<span class="op" id="6120945">==</span>&nbsp;<span class="string" id="6120948">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="6120952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6120958">return</span>&nbsp;<span class="builtintype" id="6120965">false</span><span class="op" id="6120970">,</span>&nbsp;<span class="num" id="6120972">0</span><span class="op" id="6120973">,</span>&nbsp;<span class="ident" id="6120975"><a href="/encoding/csv/reader.go.html#6119555">r</a></span><span class="op" id="6120976">.</span><span class="builtintype" id="6120977">error</span><span class="op" id="6120982">(</span><span class="ident" id="6120983"><a href="/encoding/csv/reader.go.html#6114637">ErrBareQuote</a></span><span class="op" id="6120995">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6121000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6121004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6121007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6121011">if</span>&nbsp;<span class="ident" id="6121014"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6121018">!=</span>&nbsp;<span class="ident" id="6121021">nil</span>&nbsp;<span class="op" id="6121025">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6121029">if</span>&nbsp;<span class="ident" id="6121032"><a href="/encoding/csv/reader.go.html#6119608">err</a></span>&nbsp;<span class="op" id="6121036">==</span>&nbsp;<span class="ident" id="6121039"><a href="/encoding/csv/reader.go.html#6114084">io</a></span><span class="op" id="6121041">.</span><span class="ident" id="6121042">EOF</span>&nbsp;<span class="op" id="6121046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6121051">return</span>&nbsp;<span class="builtintype" id="6121058">true</span><span class="op" id="6121062">,</span>&nbsp;<span class="num" id="6121064">0</span><span class="op" id="6121065">,</span>&nbsp;<span class="ident" id="6121067"><a href="/encoding/csv/reader.go.html#6119608">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6121073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6121077">return</span>&nbsp;<span class="builtintype" id="6121084">false</span><span class="op" id="6121089">,</span>&nbsp;<span class="num" id="6121091">0</span><span class="op" id="6121092">,</span>&nbsp;<span class="ident" id="6121094"><a href="/encoding/csv/reader.go.html#6119608">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6121099">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6121103">return</span>&nbsp;<span class="builtintype" id="6121110">true</span><span class="op" id="6121114">,</span>&nbsp;<span class="ident" id="6121116"><a href="/encoding/csv/reader.go.html#6119640">r1</a></span><span class="op" id="6121118">,</span>&nbsp;<span class="ident" id="6121120">nil</span><br>
<span class="lineno"></span><span class="op" id="6121124">}</span>
</div>
</body>
</html>
