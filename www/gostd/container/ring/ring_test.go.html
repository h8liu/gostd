<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/ring</h2>
<ul>
<li><a href="/gostd/container/ring/ring.go.html">ring.go</a></li>
<li><a href="/gostd/container/ring/ring_test.go.html" class="current">ring_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7423657">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7423712">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7423766">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7423817">package</span>&nbsp;<span class="ident" id="7423825">ring</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423831">import</span>&nbsp;<span class="op" id="7423838">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423841">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423848">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7423858">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7423861">//&nbsp;For&nbsp;debugging&nbsp;-&nbsp;keep&nbsp;around.</span><br>
<span class="lineno"></span><span class="keyword" id="7423893">func</span>&nbsp;<span class="ident" id="7423898">dump</span><span class="op" id="7423902">(</span><span class="ident" id="7423903">r</span>&nbsp;<span class="op" id="7423905">*</span><span class="ident" id="7423906">Ring</span><span class="op" id="7423910">)</span>&nbsp;<span class="op" id="7423912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7423915">if</span>&nbsp;<span class="ident" id="7423918">r</span>&nbsp;<span class="op" id="7423920">==</span>&nbsp;<span class="builtintype" id="7423923">nil</span>&nbsp;<span class="op" id="7423927">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423931">fmt</span><span class="op" id="7423934">.</span><span class="ident" id="7423935">Println</span><span class="op" id="7423942">(</span><span class="string" id="7423943">&#34;empty&#34;</span><span class="op" id="7423950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7423954">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423965">i</span><span class="op" id="7423966">,</span>&nbsp;<span class="ident" id="7423968">n</span>&nbsp;<span class="op" id="7423970">:=</span>&nbsp;<span class="num" id="7423973">0</span><span class="op" id="7423974">,</span>&nbsp;<span class="ident" id="7423976">r</span><span class="op" id="7423977">.</span><span class="ident" id="7423978">Len</span><span class="op" id="7423981">(</span><span class="op" id="7423982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7423985">for</span>&nbsp;<span class="ident" id="7423989">p</span>&nbsp;<span class="op" id="7423991">:=</span>&nbsp;<span class="ident" id="7423994">r</span><span class="op" id="7423995">;</span>&nbsp;<span class="ident" id="7423997">i</span>&nbsp;<span class="op" id="7423999">&lt;</span>&nbsp;<span class="ident" id="7424001">n</span><span class="op" id="7424002">;</span>&nbsp;<span class="ident" id="7424004">p</span>&nbsp;<span class="op" id="7424006">=</span>&nbsp;<span class="ident" id="7424008">p</span><span class="op" id="7424009">.</span><span class="ident" id="7424010">next</span>&nbsp;<span class="op" id="7424015">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424019">fmt</span><span class="op" id="7424022">.</span><span class="ident" id="7424023">Printf</span><span class="op" id="7424029">(</span><span class="string" id="7424030">&#34;%4d:&nbsp;%p&nbsp;=&nbsp;{&lt;-&nbsp;%p&nbsp;|&nbsp;%p&nbsp;-&gt;}\n&#34;</span><span class="op" id="7424059">,</span>&nbsp;<span class="ident" id="7424061">i</span><span class="op" id="7424062">,</span>&nbsp;<span class="ident" id="7424064">p</span><span class="op" id="7424065">,</span>&nbsp;<span class="ident" id="7424067">p</span><span class="op" id="7424068">.</span><span class="ident" id="7424069">prev</span><span class="op" id="7424073">,</span>&nbsp;<span class="ident" id="7424075">p</span><span class="op" id="7424076">.</span><span class="ident" id="7424077">next</span><span class="op" id="7424081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424085">i</span><span class="op" id="7424086">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424093">fmt</span><span class="op" id="7424096">.</span><span class="ident" id="7424097">Println</span><span class="op" id="7424104">(</span><span class="op" id="7424105">)</span><br>
<span class="lineno"></span><span class="op" id="7424107">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7424110">func</span>&nbsp;<span class="ident" id="7424115">verify</span><span class="op" id="7424121">(</span><span class="ident" id="7424122">t</span>&nbsp;<span class="op" id="7424124">*</span><span class="ident" id="7424125">testing</span><span class="op" id="7424132">.</span><span class="ident" id="7424133">T</span><span class="op" id="7424134">,</span>&nbsp;<span class="ident" id="7424136">r</span>&nbsp;<span class="op" id="7424138">*</span><span class="ident" id="7424139">Ring</span><span class="op" id="7424143">,</span>&nbsp;<span class="ident" id="7424145">N</span>&nbsp;<span class="builtintype" id="7424147">int</span><span class="op" id="7424150">,</span>&nbsp;<span class="ident" id="7424152">sum</span>&nbsp;<span class="builtintype" id="7424156">int</span><span class="op" id="7424159">)</span>&nbsp;<span class="op" id="7424161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7424164">//&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424172">n</span>&nbsp;<span class="op" id="7424174">:=</span>&nbsp;<span class="ident" id="7424177">r</span><span class="op" id="7424178">.</span><span class="ident" id="7424179">Len</span><span class="op" id="7424182">(</span><span class="op" id="7424183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424186">if</span>&nbsp;<span class="ident" id="7424189">n</span>&nbsp;<span class="op" id="7424191">!=</span>&nbsp;<span class="ident" id="7424194">N</span>&nbsp;<span class="op" id="7424196">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424200">t</span><span class="op" id="7424201">.</span><span class="ident" id="7424202">Errorf</span><span class="op" id="7424208">(</span><span class="string" id="7424209">&#34;r.Len()&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7424237">,</span>&nbsp;<span class="ident" id="7424239">n</span><span class="op" id="7424240">,</span>&nbsp;<span class="ident" id="7424242">N</span><span class="op" id="7424243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7424250">//&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424264">n</span>&nbsp;<span class="op" id="7424266">=</span>&nbsp;<span class="num" id="7424268">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424271">s</span>&nbsp;<span class="op" id="7424273">:=</span>&nbsp;<span class="num" id="7424276">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424279">r</span><span class="op" id="7424280">.</span><span class="ident" id="7424281">Do</span><span class="op" id="7424283">(</span><span class="keyword" id="7424284">func</span><span class="op" id="7424288">(</span><span class="ident" id="7424289">p</span>&nbsp;<span class="keyword" id="7424291">interface</span><span class="op" id="7424300">{</span><span class="op" id="7424301">}</span><span class="op" id="7424302">)</span>&nbsp;<span class="op" id="7424304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424308">n</span><span class="op" id="7424309">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424314">if</span>&nbsp;<span class="ident" id="7424317">p</span>&nbsp;<span class="op" id="7424319">!=</span>&nbsp;<span class="builtintype" id="7424322">nil</span>&nbsp;<span class="op" id="7424326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424331">s</span>&nbsp;<span class="op" id="7424333">+=</span>&nbsp;<span class="ident" id="7424336">p</span><span class="op" id="7424337">.</span><span class="op" id="7424338">(</span><span class="builtintype" id="7424339">int</span><span class="op" id="7424342">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424349">}</span><span class="op" id="7424350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424353">if</span>&nbsp;<span class="ident" id="7424356">n</span>&nbsp;<span class="op" id="7424358">!=</span>&nbsp;<span class="ident" id="7424361">N</span>&nbsp;<span class="op" id="7424363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424367">t</span><span class="op" id="7424368">.</span><span class="ident" id="7424369">Errorf</span><span class="op" id="7424375">(</span><span class="string" id="7424376">&#34;number&nbsp;of&nbsp;forward&nbsp;iterations&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7424425">,</span>&nbsp;<span class="ident" id="7424427">n</span><span class="op" id="7424428">,</span>&nbsp;<span class="ident" id="7424430">N</span><span class="op" id="7424431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424434">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424437">if</span>&nbsp;<span class="ident" id="7424440">sum</span>&nbsp;<span class="op" id="7424444">&gt;=</span>&nbsp;<span class="num" id="7424447">0</span>&nbsp;<span class="op" id="7424449">&amp;&amp;</span>&nbsp;<span class="ident" id="7424452">s</span>&nbsp;<span class="op" id="7424454">!=</span>&nbsp;<span class="ident" id="7424457">sum</span>&nbsp;<span class="op" id="7424461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424465">t</span><span class="op" id="7424466">.</span><span class="ident" id="7424467">Errorf</span><span class="op" id="7424473">(</span><span class="string" id="7424474">&#34;forward&nbsp;ring&nbsp;sum&nbsp;=&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7424510">,</span>&nbsp;<span class="ident" id="7424512">s</span><span class="op" id="7424513">,</span>&nbsp;<span class="ident" id="7424515">sum</span><span class="op" id="7424518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424525">if</span>&nbsp;<span class="ident" id="7424528">r</span>&nbsp;<span class="op" id="7424530">==</span>&nbsp;<span class="builtintype" id="7424533">nil</span>&nbsp;<span class="op" id="7424537">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424541">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7424553">//&nbsp;connections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424569">if</span>&nbsp;<span class="ident" id="7424572">r</span><span class="op" id="7424573">.</span><span class="ident" id="7424574">next</span>&nbsp;<span class="op" id="7424579">!=</span>&nbsp;<span class="builtintype" id="7424582">nil</span>&nbsp;<span class="op" id="7424586">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424590">var</span>&nbsp;<span class="ident" id="7424594">p</span>&nbsp;<span class="op" id="7424596">*</span><span class="ident" id="7424597">Ring</span>&nbsp;<span class="comment" id="7424602">//&nbsp;previous&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424624">for</span>&nbsp;<span class="ident" id="7424628">q</span>&nbsp;<span class="op" id="7424630">:=</span>&nbsp;<span class="ident" id="7424633">r</span><span class="op" id="7424634">;</span>&nbsp;<span class="ident" id="7424636">p</span>&nbsp;<span class="op" id="7424638">==</span>&nbsp;<span class="builtintype" id="7424641">nil</span>&nbsp;<span class="op" id="7424645">||</span>&nbsp;<span class="ident" id="7424648">q</span>&nbsp;<span class="op" id="7424650">!=</span>&nbsp;<span class="ident" id="7424653">r</span><span class="op" id="7424654">;</span>&nbsp;<span class="ident" id="7424656">q</span>&nbsp;<span class="op" id="7424658">=</span>&nbsp;<span class="ident" id="7424660">q</span><span class="op" id="7424661">.</span><span class="ident" id="7424662">next</span>&nbsp;<span class="op" id="7424667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424672">if</span>&nbsp;<span class="ident" id="7424675">p</span>&nbsp;<span class="op" id="7424677">!=</span>&nbsp;<span class="builtintype" id="7424680">nil</span>&nbsp;<span class="op" id="7424684">&amp;&amp;</span>&nbsp;<span class="ident" id="7424687">p</span>&nbsp;<span class="op" id="7424689">!=</span>&nbsp;<span class="ident" id="7424692">q</span><span class="op" id="7424693">.</span><span class="ident" id="7424694">prev</span>&nbsp;<span class="op" id="7424699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424705">t</span><span class="op" id="7424706">.</span><span class="ident" id="7424707">Errorf</span><span class="op" id="7424713">(</span><span class="string" id="7424714">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;q.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7424749">,</span>&nbsp;<span class="ident" id="7424751">p</span><span class="op" id="7424752">,</span>&nbsp;<span class="ident" id="7424754">q</span><span class="op" id="7424755">.</span><span class="ident" id="7424756">prev</span><span class="op" id="7424760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424765">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424770">p</span>&nbsp;<span class="op" id="7424772">=</span>&nbsp;<span class="ident" id="7424774">q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424782">if</span>&nbsp;<span class="ident" id="7424785">p</span>&nbsp;<span class="op" id="7424787">!=</span>&nbsp;<span class="ident" id="7424790">r</span><span class="op" id="7424791">.</span><span class="ident" id="7424792">prev</span>&nbsp;<span class="op" id="7424797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424802">t</span><span class="op" id="7424803">.</span><span class="ident" id="7424804">Errorf</span><span class="op" id="7424810">(</span><span class="string" id="7424811">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;r.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="7424846">,</span>&nbsp;<span class="ident" id="7424848">p</span><span class="op" id="7424849">,</span>&nbsp;<span class="ident" id="7424851">r</span><span class="op" id="7424852">.</span><span class="ident" id="7424853">prev</span><span class="op" id="7424857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424861">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7424868">//&nbsp;Next,&nbsp;Prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424883">if</span>&nbsp;<span class="ident" id="7424886">r</span><span class="op" id="7424887">.</span><span class="ident" id="7424888">Next</span><span class="op" id="7424892">(</span><span class="op" id="7424893">)</span>&nbsp;<span class="op" id="7424895">!=</span>&nbsp;<span class="ident" id="7424898">r</span><span class="op" id="7424899">.</span><span class="ident" id="7424900">next</span>&nbsp;<span class="op" id="7424905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424909">t</span><span class="op" id="7424910">.</span><span class="ident" id="7424911">Errorf</span><span class="op" id="7424917">(</span><span class="string" id="7424918">&#34;r.Next()&nbsp;!=&nbsp;r.next&#34;</span><span class="op" id="7424938">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424944">if</span>&nbsp;<span class="ident" id="7424947">r</span><span class="op" id="7424948">.</span><span class="ident" id="7424949">Prev</span><span class="op" id="7424953">(</span><span class="op" id="7424954">)</span>&nbsp;<span class="op" id="7424956">!=</span>&nbsp;<span class="ident" id="7424959">r</span><span class="op" id="7424960">.</span><span class="ident" id="7424961">prev</span>&nbsp;<span class="op" id="7424966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424970">t</span><span class="op" id="7424971">.</span><span class="ident" id="7424972">Errorf</span><span class="op" id="7424978">(</span><span class="string" id="7424979">&#34;r.Prev()&nbsp;!=&nbsp;r.prev&#34;</span><span class="op" id="7424999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7425006">//&nbsp;Move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425015">if</span>&nbsp;<span class="ident" id="7425018">r</span><span class="op" id="7425019">.</span><span class="ident" id="7425020">Move</span><span class="op" id="7425024">(</span><span class="num" id="7425025">0</span><span class="op" id="7425026">)</span>&nbsp;<span class="op" id="7425028">!=</span>&nbsp;<span class="ident" id="7425031">r</span>&nbsp;<span class="op" id="7425033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425037">t</span><span class="op" id="7425038">.</span><span class="ident" id="7425039">Errorf</span><span class="op" id="7425045">(</span><span class="string" id="7425046">&#34;r.Move(0)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7425062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425068">if</span>&nbsp;<span class="ident" id="7425071">r</span><span class="op" id="7425072">.</span><span class="ident" id="7425073">Move</span><span class="op" id="7425077">(</span><span class="ident" id="7425078">N</span><span class="op" id="7425079">)</span>&nbsp;<span class="op" id="7425081">!=</span>&nbsp;<span class="ident" id="7425084">r</span>&nbsp;<span class="op" id="7425086">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425090">t</span><span class="op" id="7425091">.</span><span class="ident" id="7425092">Errorf</span><span class="op" id="7425098">(</span><span class="string" id="7425099">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7425116">,</span>&nbsp;<span class="ident" id="7425118">N</span><span class="op" id="7425119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425125">if</span>&nbsp;<span class="ident" id="7425128">r</span><span class="op" id="7425129">.</span><span class="ident" id="7425130">Move</span><span class="op" id="7425134">(</span><span class="op" id="7425135">-</span><span class="ident" id="7425136">N</span><span class="op" id="7425137">)</span>&nbsp;<span class="op" id="7425139">!=</span>&nbsp;<span class="ident" id="7425142">r</span>&nbsp;<span class="op" id="7425144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425148">t</span><span class="op" id="7425149">.</span><span class="ident" id="7425150">Errorf</span><span class="op" id="7425156">(</span><span class="string" id="7425157">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="7425174">,</span>&nbsp;<span class="op" id="7425176">-</span><span class="ident" id="7425177">N</span><span class="op" id="7425178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425181">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425184">for</span>&nbsp;<span class="ident" id="7425188">i</span>&nbsp;<span class="op" id="7425190">:=</span>&nbsp;<span class="num" id="7425193">0</span><span class="op" id="7425194">;</span>&nbsp;<span class="ident" id="7425196">i</span>&nbsp;<span class="op" id="7425198">&lt;</span>&nbsp;<span class="num" id="7425200">10</span><span class="op" id="7425202">;</span>&nbsp;<span class="ident" id="7425204">i</span><span class="op" id="7425205">++</span>&nbsp;<span class="op" id="7425208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425212">ni</span>&nbsp;<span class="op" id="7425215">:=</span>&nbsp;<span class="ident" id="7425218">N</span>&nbsp;<span class="op" id="7425220">+</span>&nbsp;<span class="ident" id="7425222">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425226">mi</span>&nbsp;<span class="op" id="7425229">:=</span>&nbsp;<span class="ident" id="7425232">ni</span>&nbsp;<span class="op" id="7425235">%</span>&nbsp;<span class="ident" id="7425237">N</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425241">if</span>&nbsp;<span class="ident" id="7425244">r</span><span class="op" id="7425245">.</span><span class="ident" id="7425246">Move</span><span class="op" id="7425250">(</span><span class="ident" id="7425251">ni</span><span class="op" id="7425253">)</span>&nbsp;<span class="op" id="7425255">!=</span>&nbsp;<span class="ident" id="7425258">r</span><span class="op" id="7425259">.</span><span class="ident" id="7425260">Move</span><span class="op" id="7425264">(</span><span class="ident" id="7425265">mi</span><span class="op" id="7425267">)</span>&nbsp;<span class="op" id="7425269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425274">t</span><span class="op" id="7425275">.</span><span class="ident" id="7425276">Errorf</span><span class="op" id="7425282">(</span><span class="string" id="7425283">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7425309">,</span>&nbsp;<span class="ident" id="7425311">ni</span><span class="op" id="7425313">,</span>&nbsp;<span class="ident" id="7425315">mi</span><span class="op" id="7425317">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425325">if</span>&nbsp;<span class="ident" id="7425328">r</span><span class="op" id="7425329">.</span><span class="ident" id="7425330">Move</span><span class="op" id="7425334">(</span><span class="op" id="7425335">-</span><span class="ident" id="7425336">ni</span><span class="op" id="7425338">)</span>&nbsp;<span class="op" id="7425340">!=</span>&nbsp;<span class="ident" id="7425343">r</span><span class="op" id="7425344">.</span><span class="ident" id="7425345">Move</span><span class="op" id="7425349">(</span><span class="op" id="7425350">-</span><span class="ident" id="7425351">mi</span><span class="op" id="7425353">)</span>&nbsp;<span class="op" id="7425355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425360">t</span><span class="op" id="7425361">.</span><span class="ident" id="7425362">Errorf</span><span class="op" id="7425368">(</span><span class="string" id="7425369">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="7425395">,</span>&nbsp;<span class="op" id="7425397">-</span><span class="ident" id="7425398">ni</span><span class="op" id="7425400">,</span>&nbsp;<span class="op" id="7425402">-</span><span class="ident" id="7425403">mi</span><span class="op" id="7425405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425412">}</span><br>
<span class="lineno">95</span><span class="op" id="7425414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425417">func</span>&nbsp;<span class="ident" id="7425422">TestCornerCases</span><span class="op" id="7425437">(</span><span class="ident" id="7425438">t</span>&nbsp;<span class="op" id="7425440">*</span><span class="ident" id="7425441">testing</span><span class="op" id="7425448">.</span><span class="ident" id="7425449">T</span><span class="op" id="7425450">)</span>&nbsp;<span class="op" id="7425452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425455">var</span>&nbsp;<span class="op" id="7425459">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425463">r0</span>&nbsp;<span class="op" id="7425466">*</span><span class="ident" id="7425467">Ring</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425474">r1</span>&nbsp;<span class="ident" id="7425477">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7425486">//&nbsp;Basics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425497">verify</span><span class="op" id="7425503">(</span><span class="ident" id="7425504">t</span><span class="op" id="7425505">,</span>&nbsp;<span class="ident" id="7425507">r0</span><span class="op" id="7425509">,</span>&nbsp;<span class="num" id="7425511">0</span><span class="op" id="7425512">,</span>&nbsp;<span class="num" id="7425514">0</span><span class="op" id="7425515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425518">verify</span><span class="op" id="7425524">(</span><span class="ident" id="7425525">t</span><span class="op" id="7425526">,</span>&nbsp;<span class="op" id="7425528">&amp;</span><span class="ident" id="7425529">r1</span><span class="op" id="7425531">,</span>&nbsp;<span class="num" id="7425533">1</span><span class="op" id="7425534">,</span>&nbsp;<span class="num" id="7425536">0</span><span class="op" id="7425537">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7425540">//&nbsp;Insert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425551">r1</span><span class="op" id="7425553">.</span><span class="ident" id="7425554">Link</span><span class="op" id="7425558">(</span><span class="ident" id="7425559">r0</span><span class="op" id="7425561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425564">verify</span><span class="op" id="7425570">(</span><span class="ident" id="7425571">t</span><span class="op" id="7425572">,</span>&nbsp;<span class="ident" id="7425574">r0</span><span class="op" id="7425576">,</span>&nbsp;<span class="num" id="7425578">0</span><span class="op" id="7425579">,</span>&nbsp;<span class="num" id="7425581">0</span><span class="op" id="7425582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425585">verify</span><span class="op" id="7425591">(</span><span class="ident" id="7425592">t</span><span class="op" id="7425593">,</span>&nbsp;<span class="op" id="7425595">&amp;</span><span class="ident" id="7425596">r1</span><span class="op" id="7425598">,</span>&nbsp;<span class="num" id="7425600">1</span><span class="op" id="7425601">,</span>&nbsp;<span class="num" id="7425603">0</span><span class="op" id="7425604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7425607">//&nbsp;Insert</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425618">r1</span><span class="op" id="7425620">.</span><span class="ident" id="7425621">Link</span><span class="op" id="7425625">(</span><span class="ident" id="7425626">r0</span><span class="op" id="7425628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425631">verify</span><span class="op" id="7425637">(</span><span class="ident" id="7425638">t</span><span class="op" id="7425639">,</span>&nbsp;<span class="ident" id="7425641">r0</span><span class="op" id="7425643">,</span>&nbsp;<span class="num" id="7425645">0</span><span class="op" id="7425646">,</span>&nbsp;<span class="num" id="7425648">0</span><span class="op" id="7425649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425652">verify</span><span class="op" id="7425658">(</span><span class="ident" id="7425659">t</span><span class="op" id="7425660">,</span>&nbsp;<span class="op" id="7425662">&amp;</span><span class="ident" id="7425663">r1</span><span class="op" id="7425665">,</span>&nbsp;<span class="num" id="7425667">1</span><span class="op" id="7425668">,</span>&nbsp;<span class="num" id="7425670">0</span><span class="op" id="7425671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7425674">//&nbsp;Unlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425685">r1</span><span class="op" id="7425687">.</span><span class="ident" id="7425688">Unlink</span><span class="op" id="7425694">(</span><span class="num" id="7425695">0</span><span class="op" id="7425696">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425699">verify</span><span class="op" id="7425705">(</span><span class="ident" id="7425706">t</span><span class="op" id="7425707">,</span>&nbsp;<span class="op" id="7425709">&amp;</span><span class="ident" id="7425710">r1</span><span class="op" id="7425712">,</span>&nbsp;<span class="num" id="7425714">1</span><span class="op" id="7425715">,</span>&nbsp;<span class="num" id="7425717">0</span><span class="op" id="7425718">)</span><br>
<span class="lineno"></span><span class="op" id="7425720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425723">func</span>&nbsp;<span class="ident" id="7425728">makeN</span><span class="op" id="7425733">(</span><span class="ident" id="7425734">n</span>&nbsp;<span class="builtintype" id="7425736">int</span><span class="op" id="7425739">)</span>&nbsp;<span class="op" id="7425741">*</span><span class="ident" id="7425742">Ring</span>&nbsp;<span class="op" id="7425747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425750">r</span>&nbsp;<span class="op" id="7425752">:=</span>&nbsp;<span class="ident" id="7425755">New</span><span class="op" id="7425758">(</span><span class="ident" id="7425759">n</span><span class="op" id="7425760">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425763">for</span>&nbsp;<span class="ident" id="7425767">i</span>&nbsp;<span class="op" id="7425769">:=</span>&nbsp;<span class="num" id="7425772">1</span><span class="op" id="7425773">;</span>&nbsp;<span class="ident" id="7425775">i</span>&nbsp;<span class="op" id="7425777">&lt;=</span>&nbsp;<span class="ident" id="7425780">n</span><span class="op" id="7425781">;</span>&nbsp;<span class="ident" id="7425783">i</span><span class="op" id="7425784">++</span>&nbsp;<span class="op" id="7425787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425791">r</span><span class="op" id="7425792">.</span><span class="ident" id="7425793">Value</span>&nbsp;<span class="op" id="7425799">=</span>&nbsp;<span class="ident" id="7425801">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425805">r</span>&nbsp;<span class="op" id="7425807">=</span>&nbsp;<span class="ident" id="7425809">r</span><span class="op" id="7425810">.</span><span class="ident" id="7425811">Next</span><span class="op" id="7425815">(</span><span class="op" id="7425816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425822">return</span>&nbsp;<span class="ident" id="7425829">r</span><br>
<span class="lineno">125</span><span class="op" id="7425831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425834">func</span>&nbsp;<span class="ident" id="7425839">sumN</span><span class="op" id="7425843">(</span><span class="ident" id="7425844">n</span>&nbsp;<span class="builtintype" id="7425846">int</span><span class="op" id="7425849">)</span>&nbsp;<span class="builtintype" id="7425851">int</span>&nbsp;<span class="op" id="7425855">{</span>&nbsp;<span class="keyword" id="7425857">return</span>&nbsp;<span class="op" id="7425864">(</span><span class="ident" id="7425865">n</span><span class="op" id="7425866">*</span><span class="ident" id="7425867">n</span>&nbsp;<span class="op" id="7425869">+</span>&nbsp;<span class="ident" id="7425871">n</span><span class="op" id="7425872">)</span>&nbsp;<span class="op" id="7425874">/</span>&nbsp;<span class="num" id="7425876">2</span>&nbsp;<span class="op" id="7425878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425881">func</span>&nbsp;<span class="ident" id="7425886">TestNew</span><span class="op" id="7425893">(</span><span class="ident" id="7425894">t</span>&nbsp;<span class="op" id="7425896">*</span><span class="ident" id="7425897">testing</span><span class="op" id="7425904">.</span><span class="ident" id="7425905">T</span><span class="op" id="7425906">)</span>&nbsp;<span class="op" id="7425908">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425911">for</span>&nbsp;<span class="ident" id="7425915">i</span>&nbsp;<span class="op" id="7425917">:=</span>&nbsp;<span class="num" id="7425920">0</span><span class="op" id="7425921">;</span>&nbsp;<span class="ident" id="7425923">i</span>&nbsp;<span class="op" id="7425925">&lt;</span>&nbsp;<span class="num" id="7425927">10</span><span class="op" id="7425929">;</span>&nbsp;<span class="ident" id="7425931">i</span><span class="op" id="7425932">++</span>&nbsp;<span class="op" id="7425935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425939">r</span>&nbsp;<span class="op" id="7425941">:=</span>&nbsp;<span class="ident" id="7425944">New</span><span class="op" id="7425947">(</span><span class="ident" id="7425948">i</span><span class="op" id="7425949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425953">verify</span><span class="op" id="7425959">(</span><span class="ident" id="7425960">t</span><span class="op" id="7425961">,</span>&nbsp;<span class="ident" id="7425963">r</span><span class="op" id="7425964">,</span>&nbsp;<span class="ident" id="7425966">i</span><span class="op" id="7425967">,</span>&nbsp;<span class="op" id="7425969">-</span><span class="num" id="7425970">1</span><span class="op" id="7425971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7425977">for</span>&nbsp;<span class="ident" id="7425981">i</span>&nbsp;<span class="op" id="7425983">:=</span>&nbsp;<span class="num" id="7425986">0</span><span class="op" id="7425987">;</span>&nbsp;<span class="ident" id="7425989">i</span>&nbsp;<span class="op" id="7425991">&lt;</span>&nbsp;<span class="num" id="7425993">10</span><span class="op" id="7425995">;</span>&nbsp;<span class="ident" id="7425997">i</span><span class="op" id="7425998">++</span>&nbsp;<span class="op" id="7426001">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426005">r</span>&nbsp;<span class="op" id="7426007">:=</span>&nbsp;<span class="ident" id="7426010">makeN</span><span class="op" id="7426015">(</span><span class="ident" id="7426016">i</span><span class="op" id="7426017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426021">verify</span><span class="op" id="7426027">(</span><span class="ident" id="7426028">t</span><span class="op" id="7426029">,</span>&nbsp;<span class="ident" id="7426031">r</span><span class="op" id="7426032">,</span>&nbsp;<span class="ident" id="7426034">i</span><span class="op" id="7426035">,</span>&nbsp;<span class="ident" id="7426037">sumN</span><span class="op" id="7426041">(</span><span class="ident" id="7426042">i</span><span class="op" id="7426043">)</span><span class="op" id="7426044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426047">}</span><br>
<span class="lineno"></span><span class="op" id="7426049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7426052">func</span>&nbsp;<span class="ident" id="7426057">TestLink1</span><span class="op" id="7426066">(</span><span class="ident" id="7426067">t</span>&nbsp;<span class="op" id="7426069">*</span><span class="ident" id="7426070">testing</span><span class="op" id="7426077">.</span><span class="ident" id="7426078">T</span><span class="op" id="7426079">)</span>&nbsp;<span class="op" id="7426081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426084">r1a</span>&nbsp;<span class="op" id="7426088">:=</span>&nbsp;<span class="ident" id="7426091">makeN</span><span class="op" id="7426096">(</span><span class="num" id="7426097">1</span><span class="op" id="7426098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7426101">var</span>&nbsp;<span class="ident" id="7426105">r1b</span>&nbsp;<span class="ident" id="7426109">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426115">r2a</span>&nbsp;<span class="op" id="7426119">:=</span>&nbsp;<span class="ident" id="7426122">r1a</span><span class="op" id="7426125">.</span><span class="ident" id="7426126">Link</span><span class="op" id="7426130">(</span><span class="op" id="7426131">&amp;</span><span class="ident" id="7426132">r1b</span><span class="op" id="7426135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426138">verify</span><span class="op" id="7426144">(</span><span class="ident" id="7426145">t</span><span class="op" id="7426146">,</span>&nbsp;<span class="ident" id="7426148">r2a</span><span class="op" id="7426151">,</span>&nbsp;<span class="num" id="7426153">2</span><span class="op" id="7426154">,</span>&nbsp;<span class="num" id="7426156">1</span><span class="op" id="7426157">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7426160">if</span>&nbsp;<span class="ident" id="7426163">r2a</span>&nbsp;<span class="op" id="7426167">!=</span>&nbsp;<span class="ident" id="7426170">r1a</span>&nbsp;<span class="op" id="7426174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426178">t</span><span class="op" id="7426179">.</span><span class="ident" id="7426180">Errorf</span><span class="op" id="7426186">(</span><span class="string" id="7426187">&#34;a)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7426213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426220">r2b</span>&nbsp;<span class="op" id="7426224">:=</span>&nbsp;<span class="ident" id="7426227">r2a</span><span class="op" id="7426230">.</span><span class="ident" id="7426231">Link</span><span class="op" id="7426235">(</span><span class="ident" id="7426236">r2a</span><span class="op" id="7426239">.</span><span class="ident" id="7426240">Next</span><span class="op" id="7426244">(</span><span class="op" id="7426245">)</span><span class="op" id="7426246">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426249">verify</span><span class="op" id="7426255">(</span><span class="ident" id="7426256">t</span><span class="op" id="7426257">,</span>&nbsp;<span class="ident" id="7426259">r2b</span><span class="op" id="7426262">,</span>&nbsp;<span class="num" id="7426264">2</span><span class="op" id="7426265">,</span>&nbsp;<span class="num" id="7426267">1</span><span class="op" id="7426268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7426271">if</span>&nbsp;<span class="ident" id="7426274">r2b</span>&nbsp;<span class="op" id="7426278">!=</span>&nbsp;<span class="ident" id="7426281">r2a</span><span class="op" id="7426284">.</span><span class="ident" id="7426285">Next</span><span class="op" id="7426289">(</span><span class="op" id="7426290">)</span>&nbsp;<span class="op" id="7426292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426296">t</span><span class="op" id="7426297">.</span><span class="ident" id="7426298">Errorf</span><span class="op" id="7426304">(</span><span class="string" id="7426305">&#34;b)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="7426331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426338">r1c</span>&nbsp;<span class="op" id="7426342">:=</span>&nbsp;<span class="ident" id="7426345">r2b</span><span class="op" id="7426348">.</span><span class="ident" id="7426349">Link</span><span class="op" id="7426353">(</span><span class="ident" id="7426354">r2b</span><span class="op" id="7426357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426360">verify</span><span class="op" id="7426366">(</span><span class="ident" id="7426367">t</span><span class="op" id="7426368">,</span>&nbsp;<span class="ident" id="7426370">r1c</span><span class="op" id="7426373">,</span>&nbsp;<span class="num" id="7426375">1</span><span class="op" id="7426376">,</span>&nbsp;<span class="num" id="7426378">1</span><span class="op" id="7426379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426382">verify</span><span class="op" id="7426388">(</span><span class="ident" id="7426389">t</span><span class="op" id="7426390">,</span>&nbsp;<span class="ident" id="7426392">r2b</span><span class="op" id="7426395">,</span>&nbsp;<span class="num" id="7426397">1</span><span class="op" id="7426398">,</span>&nbsp;<span class="num" id="7426400">0</span><span class="op" id="7426401">)</span><br>
<span class="lineno"></span><span class="op" id="7426403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7426406">func</span>&nbsp;<span class="ident" id="7426411">TestLink2</span><span class="op" id="7426420">(</span><span class="ident" id="7426421">t</span>&nbsp;<span class="op" id="7426423">*</span><span class="ident" id="7426424">testing</span><span class="op" id="7426431">.</span><span class="ident" id="7426432">T</span><span class="op" id="7426433">)</span>&nbsp;<span class="op" id="7426435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7426438">var</span>&nbsp;<span class="ident" id="7426442">r0</span>&nbsp;<span class="op" id="7426445">*</span><span class="ident" id="7426446">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426452">r1a</span>&nbsp;<span class="op" id="7426456">:=</span>&nbsp;<span class="op" id="7426459">&amp;</span><span class="ident" id="7426460">Ring</span><span class="op" id="7426464">{</span><span class="ident" id="7426465">Value</span><span class="op" id="7426470">:</span>&nbsp;<span class="num" id="7426472">42</span><span class="op" id="7426474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426477">r1b</span>&nbsp;<span class="op" id="7426481">:=</span>&nbsp;<span class="op" id="7426484">&amp;</span><span class="ident" id="7426485">Ring</span><span class="op" id="7426489">{</span><span class="ident" id="7426490">Value</span><span class="op" id="7426495">:</span>&nbsp;<span class="num" id="7426497">77</span><span class="op" id="7426499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426502">r10</span>&nbsp;<span class="op" id="7426506">:=</span>&nbsp;<span class="ident" id="7426509">makeN</span><span class="op" id="7426514">(</span><span class="num" id="7426515">10</span><span class="op" id="7426517">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426521">r1a</span><span class="op" id="7426524">.</span><span class="ident" id="7426525">Link</span><span class="op" id="7426529">(</span><span class="ident" id="7426530">r0</span><span class="op" id="7426532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426535">verify</span><span class="op" id="7426541">(</span><span class="ident" id="7426542">t</span><span class="op" id="7426543">,</span>&nbsp;<span class="ident" id="7426545">r1a</span><span class="op" id="7426548">,</span>&nbsp;<span class="num" id="7426550">1</span><span class="op" id="7426551">,</span>&nbsp;<span class="num" id="7426553">42</span><span class="op" id="7426555">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426559">r1a</span><span class="op" id="7426562">.</span><span class="ident" id="7426563">Link</span><span class="op" id="7426567">(</span><span class="ident" id="7426568">r1b</span><span class="op" id="7426571">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426574">verify</span><span class="op" id="7426580">(</span><span class="ident" id="7426581">t</span><span class="op" id="7426582">,</span>&nbsp;<span class="ident" id="7426584">r1a</span><span class="op" id="7426587">,</span>&nbsp;<span class="num" id="7426589">2</span><span class="op" id="7426590">,</span>&nbsp;<span class="num" id="7426592">42</span><span class="op" id="7426594">+</span><span class="num" id="7426595">77</span><span class="op" id="7426597">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426601">r10</span><span class="op" id="7426604">.</span><span class="ident" id="7426605">Link</span><span class="op" id="7426609">(</span><span class="ident" id="7426610">r0</span><span class="op" id="7426612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426615">verify</span><span class="op" id="7426621">(</span><span class="ident" id="7426622">t</span><span class="op" id="7426623">,</span>&nbsp;<span class="ident" id="7426625">r10</span><span class="op" id="7426628">,</span>&nbsp;<span class="num" id="7426630">10</span><span class="op" id="7426632">,</span>&nbsp;<span class="ident" id="7426634">sumN</span><span class="op" id="7426638">(</span><span class="num" id="7426639">10</span><span class="op" id="7426641">)</span><span class="op" id="7426642">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426646">r10</span><span class="op" id="7426649">.</span><span class="ident" id="7426650">Link</span><span class="op" id="7426654">(</span><span class="ident" id="7426655">r1a</span><span class="op" id="7426658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426661">verify</span><span class="op" id="7426667">(</span><span class="ident" id="7426668">t</span><span class="op" id="7426669">,</span>&nbsp;<span class="ident" id="7426671">r10</span><span class="op" id="7426674">,</span>&nbsp;<span class="num" id="7426676">12</span><span class="op" id="7426678">,</span>&nbsp;<span class="ident" id="7426680">sumN</span><span class="op" id="7426684">(</span><span class="num" id="7426685">10</span><span class="op" id="7426687">)</span><span class="op" id="7426688">+</span><span class="num" id="7426689">42</span><span class="op" id="7426691">+</span><span class="num" id="7426692">77</span><span class="op" id="7426694">)</span><br>
<span class="lineno"></span><span class="op" id="7426696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7426699">func</span>&nbsp;<span class="ident" id="7426704">TestLink3</span><span class="op" id="7426713">(</span><span class="ident" id="7426714">t</span>&nbsp;<span class="op" id="7426716">*</span><span class="ident" id="7426717">testing</span><span class="op" id="7426724">.</span><span class="ident" id="7426725">T</span><span class="op" id="7426726">)</span>&nbsp;<span class="op" id="7426728">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7426731">var</span>&nbsp;<span class="ident" id="7426735">r</span>&nbsp;<span class="ident" id="7426737">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426743">n</span>&nbsp;<span class="op" id="7426745">:=</span>&nbsp;<span class="num" id="7426748">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7426751">for</span>&nbsp;<span class="ident" id="7426755">i</span>&nbsp;<span class="op" id="7426757">:=</span>&nbsp;<span class="num" id="7426760">1</span><span class="op" id="7426761">;</span>&nbsp;<span class="ident" id="7426763">i</span>&nbsp;<span class="op" id="7426765">&lt;</span>&nbsp;<span class="num" id="7426767">100</span><span class="op" id="7426770">;</span>&nbsp;<span class="ident" id="7426772">i</span><span class="op" id="7426773">++</span>&nbsp;<span class="op" id="7426776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426780">n</span>&nbsp;<span class="op" id="7426782">+=</span>&nbsp;<span class="ident" id="7426785">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426789">verify</span><span class="op" id="7426795">(</span><span class="ident" id="7426796">t</span><span class="op" id="7426797">,</span>&nbsp;<span class="ident" id="7426799">r</span><span class="op" id="7426800">.</span><span class="ident" id="7426801">Link</span><span class="op" id="7426805">(</span><span class="ident" id="7426806">New</span><span class="op" id="7426809">(</span><span class="ident" id="7426810">i</span><span class="op" id="7426811">)</span><span class="op" id="7426812">)</span><span class="op" id="7426813">,</span>&nbsp;<span class="ident" id="7426815">n</span><span class="op" id="7426816">,</span>&nbsp;<span class="op" id="7426818">-</span><span class="num" id="7426819">1</span><span class="op" id="7426820">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426823">}</span><br>
<span class="lineno"></span><span class="op" id="7426825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7426828">func</span>&nbsp;<span class="ident" id="7426833">TestUnlink</span><span class="op" id="7426843">(</span><span class="ident" id="7426844">t</span>&nbsp;<span class="op" id="7426846">*</span><span class="ident" id="7426847">testing</span><span class="op" id="7426854">.</span><span class="ident" id="7426855">T</span><span class="op" id="7426856">)</span>&nbsp;<span class="op" id="7426858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426861">r10</span>&nbsp;<span class="op" id="7426865">:=</span>&nbsp;<span class="ident" id="7426868">makeN</span><span class="op" id="7426873">(</span><span class="num" id="7426874">10</span><span class="op" id="7426876">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426879">s10</span>&nbsp;<span class="op" id="7426883">:=</span>&nbsp;<span class="ident" id="7426886">r10</span><span class="op" id="7426889">.</span><span class="ident" id="7426890">Move</span><span class="op" id="7426894">(</span><span class="num" id="7426895">6</span><span class="op" id="7426896">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426900">sum10</span>&nbsp;<span class="op" id="7426906">:=</span>&nbsp;<span class="ident" id="7426909">sumN</span><span class="op" id="7426913">(</span><span class="num" id="7426914">10</span><span class="op" id="7426916">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426920">verify</span><span class="op" id="7426926">(</span><span class="ident" id="7426927">t</span><span class="op" id="7426928">,</span>&nbsp;<span class="ident" id="7426930">r10</span><span class="op" id="7426933">,</span>&nbsp;<span class="num" id="7426935">10</span><span class="op" id="7426937">,</span>&nbsp;<span class="ident" id="7426939">sum10</span><span class="op" id="7426944">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426947">verify</span><span class="op" id="7426953">(</span><span class="ident" id="7426954">t</span><span class="op" id="7426955">,</span>&nbsp;<span class="ident" id="7426957">s10</span><span class="op" id="7426960">,</span>&nbsp;<span class="num" id="7426962">10</span><span class="op" id="7426964">,</span>&nbsp;<span class="ident" id="7426966">sum10</span><span class="op" id="7426971">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426975">r0</span>&nbsp;<span class="op" id="7426978">:=</span>&nbsp;<span class="ident" id="7426981">r10</span><span class="op" id="7426984">.</span><span class="ident" id="7426985">Unlink</span><span class="op" id="7426991">(</span><span class="num" id="7426992">0</span><span class="op" id="7426993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426996">verify</span><span class="op" id="7427002">(</span><span class="ident" id="7427003">t</span><span class="op" id="7427004">,</span>&nbsp;<span class="ident" id="7427006">r0</span><span class="op" id="7427008">,</span>&nbsp;<span class="num" id="7427010">0</span><span class="op" id="7427011">,</span>&nbsp;<span class="num" id="7427013">0</span><span class="op" id="7427014">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427018">r1</span>&nbsp;<span class="op" id="7427021">:=</span>&nbsp;<span class="ident" id="7427024">r10</span><span class="op" id="7427027">.</span><span class="ident" id="7427028">Unlink</span><span class="op" id="7427034">(</span><span class="num" id="7427035">1</span><span class="op" id="7427036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427039">verify</span><span class="op" id="7427045">(</span><span class="ident" id="7427046">t</span><span class="op" id="7427047">,</span>&nbsp;<span class="ident" id="7427049">r1</span><span class="op" id="7427051">,</span>&nbsp;<span class="num" id="7427053">1</span><span class="op" id="7427054">,</span>&nbsp;<span class="num" id="7427056">2</span><span class="op" id="7427057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427060">verify</span><span class="op" id="7427066">(</span><span class="ident" id="7427067">t</span><span class="op" id="7427068">,</span>&nbsp;<span class="ident" id="7427070">r10</span><span class="op" id="7427073">,</span>&nbsp;<span class="num" id="7427075">9</span><span class="op" id="7427076">,</span>&nbsp;<span class="ident" id="7427078">sum10</span><span class="op" id="7427083">-</span><span class="num" id="7427084">2</span><span class="op" id="7427085">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427089">r9</span>&nbsp;<span class="op" id="7427092">:=</span>&nbsp;<span class="ident" id="7427095">r10</span><span class="op" id="7427098">.</span><span class="ident" id="7427099">Unlink</span><span class="op" id="7427105">(</span><span class="num" id="7427106">9</span><span class="op" id="7427107">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427110">verify</span><span class="op" id="7427116">(</span><span class="ident" id="7427117">t</span><span class="op" id="7427118">,</span>&nbsp;<span class="ident" id="7427120">r9</span><span class="op" id="7427122">,</span>&nbsp;<span class="num" id="7427124">9</span><span class="op" id="7427125">,</span>&nbsp;<span class="ident" id="7427127">sum10</span><span class="op" id="7427132">-</span><span class="num" id="7427133">2</span><span class="op" id="7427134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427137">verify</span><span class="op" id="7427143">(</span><span class="ident" id="7427144">t</span><span class="op" id="7427145">,</span>&nbsp;<span class="ident" id="7427147">r10</span><span class="op" id="7427150">,</span>&nbsp;<span class="num" id="7427152">9</span><span class="op" id="7427153">,</span>&nbsp;<span class="ident" id="7427155">sum10</span><span class="op" id="7427160">-</span><span class="num" id="7427161">2</span><span class="op" id="7427162">)</span><br>
<span class="lineno"></span><span class="op" id="7427164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7427167">func</span>&nbsp;<span class="ident" id="7427172">TestLinkUnlink</span><span class="op" id="7427186">(</span><span class="ident" id="7427187">t</span>&nbsp;<span class="op" id="7427189">*</span><span class="ident" id="7427190">testing</span><span class="op" id="7427197">.</span><span class="ident" id="7427198">T</span><span class="op" id="7427199">)</span>&nbsp;<span class="op" id="7427201">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427204">for</span>&nbsp;<span class="ident" id="7427208">i</span>&nbsp;<span class="op" id="7427210">:=</span>&nbsp;<span class="num" id="7427213">1</span><span class="op" id="7427214">;</span>&nbsp;<span class="ident" id="7427216">i</span>&nbsp;<span class="op" id="7427218">&lt;</span>&nbsp;<span class="num" id="7427220">4</span><span class="op" id="7427221">;</span>&nbsp;<span class="ident" id="7427223">i</span><span class="op" id="7427224">++</span>&nbsp;<span class="op" id="7427227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427231">ri</span>&nbsp;<span class="op" id="7427234">:=</span>&nbsp;<span class="ident" id="7427237">New</span><span class="op" id="7427240">(</span><span class="ident" id="7427241">i</span><span class="op" id="7427242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427246">for</span>&nbsp;<span class="ident" id="7427250">j</span>&nbsp;<span class="op" id="7427252">:=</span>&nbsp;<span class="num" id="7427255">0</span><span class="op" id="7427256">;</span>&nbsp;<span class="ident" id="7427258">j</span>&nbsp;<span class="op" id="7427260">&lt;</span>&nbsp;<span class="ident" id="7427262">i</span><span class="op" id="7427263">;</span>&nbsp;<span class="ident" id="7427265">j</span><span class="op" id="7427266">++</span>&nbsp;<span class="op" id="7427269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427274">rj</span>&nbsp;<span class="op" id="7427277">:=</span>&nbsp;<span class="ident" id="7427280">ri</span><span class="op" id="7427282">.</span><span class="ident" id="7427283">Unlink</span><span class="op" id="7427289">(</span><span class="ident" id="7427290">j</span><span class="op" id="7427291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427296">verify</span><span class="op" id="7427302">(</span><span class="ident" id="7427303">t</span><span class="op" id="7427304">,</span>&nbsp;<span class="ident" id="7427306">rj</span><span class="op" id="7427308">,</span>&nbsp;<span class="ident" id="7427310">j</span><span class="op" id="7427311">,</span>&nbsp;<span class="op" id="7427313">-</span><span class="num" id="7427314">1</span><span class="op" id="7427315">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427320">verify</span><span class="op" id="7427326">(</span><span class="ident" id="7427327">t</span><span class="op" id="7427328">,</span>&nbsp;<span class="ident" id="7427330">ri</span><span class="op" id="7427332">,</span>&nbsp;<span class="ident" id="7427334">i</span><span class="op" id="7427335">-</span><span class="ident" id="7427336">j</span><span class="op" id="7427337">,</span>&nbsp;<span class="op" id="7427339">-</span><span class="num" id="7427340">1</span><span class="op" id="7427341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427346">ri</span><span class="op" id="7427348">.</span><span class="ident" id="7427349">Link</span><span class="op" id="7427353">(</span><span class="ident" id="7427354">rj</span><span class="op" id="7427356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427361">verify</span><span class="op" id="7427367">(</span><span class="ident" id="7427368">t</span><span class="op" id="7427369">,</span>&nbsp;<span class="ident" id="7427371">ri</span><span class="op" id="7427373">,</span>&nbsp;<span class="ident" id="7427375">i</span><span class="op" id="7427376">,</span>&nbsp;<span class="op" id="7427378">-</span><span class="num" id="7427379">1</span><span class="op" id="7427380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7427387">}</span><br>
<span class="lineno">220</span><span class="op" id="7427389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7427392">//&nbsp;Test&nbsp;that&nbsp;calling&nbsp;Move()&nbsp;on&nbsp;an&nbsp;empty&nbsp;Ring&nbsp;initializes&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="7427453">func</span>&nbsp;<span class="ident" id="7427458">TestMoveEmptyRing</span><span class="op" id="7427475">(</span><span class="ident" id="7427476">t</span>&nbsp;<span class="op" id="7427478">*</span><span class="ident" id="7427479">testing</span><span class="op" id="7427486">.</span><span class="ident" id="7427487">T</span><span class="op" id="7427488">)</span>&nbsp;<span class="op" id="7427490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7427493">var</span>&nbsp;<span class="ident" id="7427497">r</span>&nbsp;<span class="ident" id="7427499">Ring</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427506">r</span><span class="op" id="7427507">.</span><span class="ident" id="7427508">Move</span><span class="op" id="7427512">(</span><span class="num" id="7427513">1</span><span class="op" id="7427514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7427517">verify</span><span class="op" id="7427523">(</span><span class="ident" id="7427524">t</span><span class="op" id="7427525">,</span>&nbsp;<span class="op" id="7427527">&amp;</span><span class="ident" id="7427528">r</span><span class="op" id="7427529">,</span>&nbsp;<span class="num" id="7427531">1</span><span class="op" id="7427532">,</span>&nbsp;<span class="num" id="7427534">0</span><span class="op" id="7427535">)</span><br>
<span class="lineno"></span><span class="op" id="7427537">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
