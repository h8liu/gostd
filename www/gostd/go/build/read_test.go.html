<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/build</h2>
<ul>
<li><a href="/gostd/go/build/build.go.html">build.go</a></li>
<li><a href="/gostd/go/build/build_test.go.html">build_test.go</a></li>
<li><a href="/gostd/go/build/deps_test.go.html">deps_test.go</a></li>
<li><a href="/gostd/go/build/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/build/read.go.html">read.go</a></li>
<li><a href="/gostd/go/build/read_test.go.html" class="current">read_test.go</a></li>
<li><a href="/gostd/go/build/syslist.go.html">syslist.go</a></li>
<li><a href="/gostd/go/build/syslist_test.go.html">syslist_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7422829">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7422885">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7422939">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7422990">package</span>&nbsp;<span class="ident" id="7422998">build</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423005">import</span>&nbsp;<span class="op" id="7423012">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423015">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423021">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423032">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7423042">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423045">const</span>&nbsp;<span class="ident" id="7423051">quote</span>&nbsp;<span class="op" id="7423057">=</span>&nbsp;<span class="string" id="7423059">&#34;`&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7423064">type</span>&nbsp;<span class="ident" id="7423069">readTest</span>&nbsp;<span class="keyword" id="7423078">struct</span>&nbsp;<span class="op" id="7423085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7423088">//&nbsp;Test&nbsp;input&nbsp;contains&nbsp;ℙ&nbsp;where&nbsp;readImports&nbsp;should&nbsp;stop.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423147">in</span>&nbsp;&nbsp;<span class="builtintype" id="7423151">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7423159">err</span>&nbsp;<span class="builtintype" id="7423163">string</span><br>
<span class="lineno"></span><span class="op" id="7423170">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7423173">var</span>&nbsp;<span class="ident" id="7423177">readImportsTests</span>&nbsp;<span class="op" id="7423194">=</span>&nbsp;<span class="op" id="7423196">[</span><span class="op" id="7423197">]</span><span class="ident" id="7423198">readTest</span><span class="op" id="7423206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423213">`package&nbsp;p`</span><span class="op" id="7423224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423228">&#34;&#34;</span><span class="op" id="7423230">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423233">}</span><span class="op" id="7423234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423241">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7423264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423268">&#34;&#34;</span><span class="op" id="7423270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423273">}</span><span class="op" id="7423274">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423281">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7423306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423310">&#34;&#34;</span><span class="op" id="7423312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423315">}</span><span class="op" id="7423316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423319">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423323">`package&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;;ℙvar&nbsp;x&nbsp;=&nbsp;1`</span><span class="op" id="7423359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423363">&#34;&#34;</span><span class="op" id="7423365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423368">}</span><span class="op" id="7423369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423376">`package&nbsp;p<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;a&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;(<br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;x&#34;&nbsp;/*&nbsp;comment&nbsp;*/<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;&#34;x&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&#34;x&#34;&nbsp;//&nbsp;comment<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`</span>&nbsp;<span class="op" id="7423537">+</span>&nbsp;<span class="ident" id="7423539">quote</span>&nbsp;<span class="op" id="7423545">+</span>&nbsp;<span class="string" id="7423547">`x`</span>&nbsp;<span class="op" id="7423551">+</span>&nbsp;<span class="ident" id="7423553">quote</span>&nbsp;<span class="op" id="7423559">+</span>&nbsp;<span class="string" id="7423561">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;/*comment*/&nbsp;`</span>&nbsp;<span class="op" id="7423582">+</span>&nbsp;<span class="ident" id="7423584">quote</span>&nbsp;<span class="op" id="7423590">+</span>&nbsp;<span class="string" id="7423592">`x`</span>&nbsp;<span class="op" id="7423596">+</span>&nbsp;<span class="ident" id="7423598">quote</span>&nbsp;<span class="op" id="7423604">+</span>&nbsp;<span class="string" id="7423606">`<br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;`</span>&nbsp;<span class="op" id="7423615">+</span>&nbsp;<span class="ident" id="7423617">quote</span>&nbsp;<span class="op" id="7423623">+</span>&nbsp;<span class="string" id="7423625">`x`</span>&nbsp;<span class="op" id="7423629">+</span>&nbsp;<span class="ident" id="7423631">quote</span>&nbsp;<span class="op" id="7423637">+</span>&nbsp;<span class="string" id="7423639">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;(<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;()<br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import()import()import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import();import();import()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ℙvar&nbsp;x&nbsp;=&nbsp;1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`</span><span class="op" id="7423749">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423753">&#34;&#34;</span><span class="op" id="7423755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423758">}</span><span class="op" id="7423759">,</span><br>
<span class="lineno"></span><span class="op" id="7423761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7423764">var</span>&nbsp;<span class="ident" id="7423768">readCommentsTests</span>&nbsp;<span class="op" id="7423786">=</span>&nbsp;<span class="op" id="7423788">[</span><span class="op" id="7423789">]</span><span class="ident" id="7423790">readTest</span><span class="op" id="7423798">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423805">`ℙpackage&nbsp;p`</span><span class="op" id="7423819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423823">&#34;&#34;</span><span class="op" id="7423825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423828">}</span><span class="op" id="7423829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423832">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423836">`ℙpackage&nbsp;p;&nbsp;import&nbsp;&#34;x&#34;`</span><span class="op" id="7423862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423866">&#34;&#34;</span><span class="op" id="7423868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423871">}</span><span class="op" id="7423872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423879">`ℙpackage&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x&#34;`</span><span class="op" id="7423907">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423911">&#34;&#34;</span><span class="op" id="7423913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423916">}</span><span class="op" id="7423917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7423920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7423924">`//&nbsp;foo<br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;bar&nbsp;*/<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;quux&nbsp;*/&nbsp;//&nbsp;baz<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*/&nbsp;zot&nbsp;*/<br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;asdf<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ℙHello,&nbsp;world`</span><span class="op" id="7424011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7424015">&#34;&#34;</span><span class="op" id="7424017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424020">}</span><span class="op" id="7424021">,</span><br>
<span class="lineno">95</span><span class="op" id="7424023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7424026">func</span>&nbsp;<span class="ident" id="7424031">testRead</span><span class="op" id="7424039">(</span><span class="ident" id="7424040">t</span>&nbsp;<span class="op" id="7424042">*</span><span class="ident" id="7424043">testing</span><span class="op" id="7424050">.</span><span class="ident" id="7424051">T</span><span class="op" id="7424052">,</span>&nbsp;<span class="ident" id="7424054">tests</span>&nbsp;<span class="op" id="7424060">[</span><span class="op" id="7424061">]</span><span class="ident" id="7424062">readTest</span><span class="op" id="7424070">,</span>&nbsp;<span class="ident" id="7424072">read</span>&nbsp;<span class="keyword" id="7424077">func</span><span class="op" id="7424081">(</span><span class="ident" id="7424082">io</span><span class="op" id="7424084">.</span><span class="ident" id="7424085">Reader</span><span class="op" id="7424091">)</span>&nbsp;<span class="op" id="7424093">(</span><span class="op" id="7424094">[</span><span class="op" id="7424095">]</span><span class="builtintype" id="7424096">byte</span><span class="op" id="7424100">,</span>&nbsp;<span class="builtintype" id="7424102">error</span><span class="op" id="7424107">)</span><span class="op" id="7424108">)</span>&nbsp;<span class="op" id="7424110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424113">for</span>&nbsp;<span class="ident" id="7424117">i</span><span class="op" id="7424118">,</span>&nbsp;<span class="ident" id="7424120">tt</span>&nbsp;<span class="op" id="7424123">:=</span>&nbsp;<span class="keyword" id="7424126">range</span>&nbsp;<span class="ident" id="7424132">tests</span>&nbsp;<span class="op" id="7424138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424142">var</span>&nbsp;<span class="ident" id="7424146">in</span><span class="op" id="7424148">,</span>&nbsp;<span class="ident" id="7424150">testOut</span>&nbsp;<span class="builtintype" id="7424158">string</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424167">j</span>&nbsp;<span class="op" id="7424169">:=</span>&nbsp;<span class="ident" id="7424172">strings</span><span class="op" id="7424179">.</span><span class="ident" id="7424180">Index</span><span class="op" id="7424185">(</span><span class="ident" id="7424186">tt</span><span class="op" id="7424188">.</span><span class="ident" id="7424189">in</span><span class="op" id="7424191">,</span>&nbsp;<span class="string" id="7424193">&#34;ℙ&#34;</span><span class="op" id="7424198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424202">if</span>&nbsp;<span class="ident" id="7424205">j</span>&nbsp;<span class="op" id="7424207">&lt;</span>&nbsp;<span class="num" id="7424209">0</span>&nbsp;<span class="op" id="7424211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424216">in</span>&nbsp;<span class="op" id="7424219">=</span>&nbsp;<span class="ident" id="7424221">tt</span><span class="op" id="7424223">.</span><span class="ident" id="7424224">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424230">testOut</span>&nbsp;<span class="op" id="7424238">=</span>&nbsp;<span class="ident" id="7424240">tt</span><span class="op" id="7424242">.</span><span class="ident" id="7424243">in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424248">}</span>&nbsp;<span class="keyword" id="7424250">else</span>&nbsp;<span class="op" id="7424255">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424260">in</span>&nbsp;<span class="op" id="7424263">=</span>&nbsp;<span class="ident" id="7424265">tt</span><span class="op" id="7424267">.</span><span class="ident" id="7424268">in</span><span class="op" id="7424270">[</span><span class="op" id="7424271">:</span><span class="ident" id="7424272">j</span><span class="op" id="7424273">]</span>&nbsp;<span class="op" id="7424275">+</span>&nbsp;<span class="ident" id="7424277">tt</span><span class="op" id="7424279">.</span><span class="ident" id="7424280">in</span><span class="op" id="7424282">[</span><span class="ident" id="7424283">j</span><span class="op" id="7424284">+</span><span class="builtinfunc" id="7424285">len</span><span class="op" id="7424288">(</span><span class="string" id="7424289">&#34;ℙ&#34;</span><span class="op" id="7424294">)</span><span class="op" id="7424295">:</span><span class="op" id="7424296">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424301">testOut</span>&nbsp;<span class="op" id="7424309">=</span>&nbsp;<span class="ident" id="7424311">tt</span><span class="op" id="7424313">.</span><span class="ident" id="7424314">in</span><span class="op" id="7424316">[</span><span class="op" id="7424317">:</span><span class="ident" id="7424318">j</span><span class="op" id="7424319">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424327">r</span>&nbsp;<span class="op" id="7424329">:=</span>&nbsp;<span class="ident" id="7424332">strings</span><span class="op" id="7424339">.</span><span class="ident" id="7424340">NewReader</span><span class="op" id="7424349">(</span><span class="ident" id="7424350">in</span><span class="op" id="7424352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424356">buf</span><span class="op" id="7424359">,</span>&nbsp;<span class="ident" id="7424361">err</span>&nbsp;<span class="op" id="7424365">:=</span>&nbsp;<span class="ident" id="7424368">read</span><span class="op" id="7424372">(</span><span class="ident" id="7424373">r</span><span class="op" id="7424374">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424378">if</span>&nbsp;<span class="ident" id="7424381">err</span>&nbsp;<span class="op" id="7424385">!=</span>&nbsp;<span class="builtintype" id="7424388">nil</span>&nbsp;<span class="op" id="7424392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424397">if</span>&nbsp;<span class="ident" id="7424400">tt</span><span class="op" id="7424402">.</span><span class="ident" id="7424403">err</span>&nbsp;<span class="op" id="7424407">==</span>&nbsp;<span class="string" id="7424410">&#34;&#34;</span>&nbsp;<span class="op" id="7424413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424419">t</span><span class="op" id="7424420">.</span><span class="ident" id="7424421">Errorf</span><span class="op" id="7424427">(</span><span class="string" id="7424428">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;success&nbsp;(%q)&#34;</span><span class="op" id="7424464">,</span>&nbsp;<span class="ident" id="7424466">i</span><span class="op" id="7424467">,</span>&nbsp;<span class="ident" id="7424469">err</span><span class="op" id="7424472">,</span>&nbsp;<span class="builtintype" id="7424474">string</span><span class="op" id="7424480">(</span><span class="ident" id="7424481">buf</span><span class="op" id="7424484">)</span><span class="op" id="7424485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424491">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424503">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424508">if</span>&nbsp;<span class="op" id="7424511">!</span><span class="ident" id="7424512">strings</span><span class="op" id="7424519">.</span><span class="ident" id="7424520">Contains</span><span class="op" id="7424528">(</span><span class="ident" id="7424529">err</span><span class="op" id="7424532">.</span><span class="ident" id="7424533">Error</span><span class="op" id="7424538">(</span><span class="op" id="7424539">)</span><span class="op" id="7424540">,</span>&nbsp;<span class="ident" id="7424542">tt</span><span class="op" id="7424544">.</span><span class="ident" id="7424545">err</span><span class="op" id="7424548">)</span>&nbsp;<span class="op" id="7424550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424556">t</span><span class="op" id="7424557">.</span><span class="ident" id="7424558">Errorf</span><span class="op" id="7424564">(</span><span class="string" id="7424565">&#34;#%d:&nbsp;err=%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7424591">,</span>&nbsp;<span class="ident" id="7424593">i</span><span class="op" id="7424594">,</span>&nbsp;<span class="ident" id="7424596">err</span><span class="op" id="7424599">,</span>&nbsp;<span class="ident" id="7424601">tt</span><span class="op" id="7424603">.</span><span class="ident" id="7424604">err</span><span class="op" id="7424607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424613">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424630">continue</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424645">if</span>&nbsp;<span class="ident" id="7424648">err</span>&nbsp;<span class="op" id="7424652">==</span>&nbsp;<span class="builtintype" id="7424655">nil</span>&nbsp;<span class="op" id="7424659">&amp;&amp;</span>&nbsp;<span class="ident" id="7424662">tt</span><span class="op" id="7424664">.</span><span class="ident" id="7424665">err</span>&nbsp;<span class="op" id="7424669">!=</span>&nbsp;<span class="string" id="7424672">&#34;&#34;</span>&nbsp;<span class="op" id="7424675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424680">t</span><span class="op" id="7424681">.</span><span class="ident" id="7424682">Errorf</span><span class="op" id="7424688">(</span><span class="string" id="7424689">&#34;#%d:&nbsp;success,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7424716">,</span>&nbsp;<span class="ident" id="7424718">i</span><span class="op" id="7424719">,</span>&nbsp;<span class="ident" id="7424721">tt</span><span class="op" id="7424723">.</span><span class="ident" id="7424724">err</span><span class="op" id="7424727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424732">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424743">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424748">out</span>&nbsp;<span class="op" id="7424752">:=</span>&nbsp;<span class="builtintype" id="7424755">string</span><span class="op" id="7424761">(</span><span class="ident" id="7424762">buf</span><span class="op" id="7424765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7424769">if</span>&nbsp;<span class="ident" id="7424772">out</span>&nbsp;<span class="op" id="7424776">!=</span>&nbsp;<span class="ident" id="7424779">testOut</span>&nbsp;<span class="op" id="7424787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424792">t</span><span class="op" id="7424793">.</span><span class="ident" id="7424794">Errorf</span><span class="op" id="7424800">(</span><span class="string" id="7424801">&#34;#%d:&nbsp;wrong&nbsp;output:\nhave&nbsp;%q\nwant&nbsp;%q\n&#34;</span><span class="op" id="7424841">,</span>&nbsp;<span class="ident" id="7424843">i</span><span class="op" id="7424844">,</span>&nbsp;<span class="ident" id="7424846">out</span><span class="op" id="7424849">,</span>&nbsp;<span class="ident" id="7424851">testOut</span><span class="op" id="7424858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424862">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7424865">}</span><br>
<span class="lineno"></span><span class="op" id="7424867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7424870">func</span>&nbsp;<span class="ident" id="7424875">TestReadImports</span><span class="op" id="7424890">(</span><span class="ident" id="7424891">t</span>&nbsp;<span class="op" id="7424893">*</span><span class="ident" id="7424894">testing</span><span class="op" id="7424901">.</span><span class="ident" id="7424902">T</span><span class="op" id="7424903">)</span>&nbsp;<span class="op" id="7424905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7424908">testRead</span><span class="op" id="7424916">(</span><span class="ident" id="7424917">t</span><span class="op" id="7424918">,</span>&nbsp;<span class="ident" id="7424920">readImportsTests</span><span class="op" id="7424936">,</span>&nbsp;<span class="keyword" id="7424938">func</span><span class="op" id="7424942">(</span><span class="ident" id="7424943">r</span>&nbsp;<span class="ident" id="7424945">io</span><span class="op" id="7424947">.</span><span class="ident" id="7424948">Reader</span><span class="op" id="7424954">)</span>&nbsp;<span class="op" id="7424956">(</span><span class="op" id="7424957">[</span><span class="op" id="7424958">]</span><span class="builtintype" id="7424959">byte</span><span class="op" id="7424963">,</span>&nbsp;<span class="builtintype" id="7424965">error</span><span class="op" id="7424970">)</span>&nbsp;<span class="op" id="7424972">{</span>&nbsp;<span class="keyword" id="7424974">return</span>&nbsp;<span class="ident" id="7424981">readImports</span><span class="op" id="7424992">(</span><span class="ident" id="7424993">r</span><span class="op" id="7424994">,</span>&nbsp;<span class="builtintype" id="7424996">true</span><span class="op" id="7425000">)</span>&nbsp;<span class="op" id="7425002">}</span><span class="op" id="7425003">)</span><br>
<span class="lineno">135</span><span class="op" id="7425005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425008">func</span>&nbsp;<span class="ident" id="7425013">TestReadComments</span><span class="op" id="7425029">(</span><span class="ident" id="7425030">t</span>&nbsp;<span class="op" id="7425032">*</span><span class="ident" id="7425033">testing</span><span class="op" id="7425040">.</span><span class="ident" id="7425041">T</span><span class="op" id="7425042">)</span>&nbsp;<span class="op" id="7425044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7425047">testRead</span><span class="op" id="7425055">(</span><span class="ident" id="7425056">t</span><span class="op" id="7425057">,</span>&nbsp;<span class="ident" id="7425059">readCommentsTests</span><span class="op" id="7425076">,</span>&nbsp;<span class="ident" id="7425078">readComments</span><span class="op" id="7425090">)</span><br>
<span class="lineno"></span><span class="op" id="7425092">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="7425095">var</span>&nbsp;<span class="ident" id="7425099">readFailuresTests</span>&nbsp;<span class="op" id="7425117">=</span>&nbsp;<span class="op" id="7425119">[</span><span class="op" id="7425120">]</span><span class="ident" id="7425121">readTest</span><span class="op" id="7425129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425136">`package`</span><span class="op" id="7425145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425149">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425163">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425166">}</span><span class="op" id="7425167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425174">&#34;package&nbsp;p\n\x00\nimport&nbsp;`math`\n&#34;</span><span class="op" id="7425208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425212">&#34;unexpected&nbsp;NUL&nbsp;in&nbsp;input&#34;</span><span class="op" id="7425237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425240">}</span><span class="op" id="7425241">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425248">`package&nbsp;p;&nbsp;import`</span><span class="op" id="7425267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425271">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425288">}</span><span class="op" id="7425289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425292">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425296">`package&nbsp;p;&nbsp;import&nbsp;&#34;`</span><span class="op" id="7425317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425321">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425338">}</span><span class="op" id="7425339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425346">&#34;package&nbsp;p;&nbsp;import&nbsp;`&nbsp;\n\n&#34;</span><span class="op" id="7425372">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425376">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425393">}</span><span class="op" id="7425394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425401">`package&nbsp;p;&nbsp;import&nbsp;&#34;x`</span><span class="op" id="7425423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425427">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425441">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425444">}</span><span class="op" id="7425445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425452">`package&nbsp;p;&nbsp;import&nbsp;_`</span><span class="op" id="7425473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425477">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425494">}</span><span class="op" id="7425495">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425502">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;`</span><span class="op" id="7425525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425529">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425546">}</span><span class="op" id="7425547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425550">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425554">`package&nbsp;p;&nbsp;import&nbsp;_&nbsp;&#34;x`</span><span class="op" id="7425578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425582">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425599">}</span><span class="op" id="7425600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425607">`package&nbsp;p;&nbsp;import&nbsp;.`</span><span class="op" id="7425628">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425632">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425649">}</span><span class="op" id="7425650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425657">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;`</span><span class="op" id="7425680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425684">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425698">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425701">}</span><span class="op" id="7425702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425709">`package&nbsp;p;&nbsp;import&nbsp;.&nbsp;&#34;x`</span><span class="op" id="7425733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425737">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425754">}</span><span class="op" id="7425755">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425762">`package&nbsp;p;&nbsp;import&nbsp;(`</span><span class="op" id="7425783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425787">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425804">}</span><span class="op" id="7425805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425808">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425812">`package&nbsp;p;&nbsp;import&nbsp;(&#34;`</span><span class="op" id="7425834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425838">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425855">}</span><span class="op" id="7425856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425863">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x`</span><span class="op" id="7425886">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425890">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425907">}</span><span class="op" id="7425908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425915">`package&nbsp;p;&nbsp;import&nbsp;(&#34;x&#34;`</span><span class="op" id="7425939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7425943">&#34;syntax&nbsp;error&#34;</span><span class="op" id="7425957">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7425960">}</span><span class="op" id="7425961">,</span><br>
<span class="lineno"></span><span class="op" id="7425963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7425966">func</span>&nbsp;<span class="ident" id="7425971">TestReadFailures</span><span class="op" id="7425987">(</span><span class="ident" id="7425988">t</span>&nbsp;<span class="op" id="7425990">*</span><span class="ident" id="7425991">testing</span><span class="op" id="7425998">.</span><span class="ident" id="7425999">T</span><span class="op" id="7426000">)</span>&nbsp;<span class="op" id="7426002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7426005">//&nbsp;Errors&nbsp;should&nbsp;be&nbsp;reported&nbsp;(true&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426062">testRead</span><span class="op" id="7426070">(</span><span class="ident" id="7426071">t</span><span class="op" id="7426072">,</span>&nbsp;<span class="ident" id="7426074">readFailuresTests</span><span class="op" id="7426091">,</span>&nbsp;<span class="keyword" id="7426093">func</span><span class="op" id="7426097">(</span><span class="ident" id="7426098">r</span>&nbsp;<span class="ident" id="7426100">io</span><span class="op" id="7426102">.</span><span class="ident" id="7426103">Reader</span><span class="op" id="7426109">)</span>&nbsp;<span class="op" id="7426111">(</span><span class="op" id="7426112">[</span><span class="op" id="7426113">]</span><span class="builtintype" id="7426114">byte</span><span class="op" id="7426118">,</span>&nbsp;<span class="builtintype" id="7426120">error</span><span class="op" id="7426125">)</span>&nbsp;<span class="op" id="7426127">{</span>&nbsp;<span class="keyword" id="7426129">return</span>&nbsp;<span class="ident" id="7426136">readImports</span><span class="op" id="7426147">(</span><span class="ident" id="7426148">r</span><span class="op" id="7426149">,</span>&nbsp;<span class="builtintype" id="7426151">true</span><span class="op" id="7426155">)</span>&nbsp;<span class="op" id="7426157">}</span><span class="op" id="7426158">)</span><br>
<span class="lineno"></span><span class="op" id="7426160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7426163">func</span>&nbsp;<span class="ident" id="7426168">TestReadFailuresIgnored</span><span class="op" id="7426191">(</span><span class="ident" id="7426192">t</span>&nbsp;<span class="op" id="7426194">*</span><span class="ident" id="7426195">testing</span><span class="op" id="7426202">.</span><span class="ident" id="7426203">T</span><span class="op" id="7426204">)</span>&nbsp;<span class="op" id="7426206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7426209">//&nbsp;Syntax&nbsp;errors&nbsp;should&nbsp;not&nbsp;be&nbsp;reported&nbsp;(false&nbsp;arg&nbsp;to&nbsp;readImports).</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7426278">//&nbsp;Instead,&nbsp;entire&nbsp;file&nbsp;should&nbsp;be&nbsp;the&nbsp;output&nbsp;and&nbsp;no&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7426338">//&nbsp;Convert&nbsp;tests&nbsp;not&nbsp;to&nbsp;return&nbsp;syntax&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426385">tests</span>&nbsp;<span class="op" id="7426391">:=</span>&nbsp;<span class="builtinfunc" id="7426394">make</span><span class="op" id="7426398">(</span><span class="op" id="7426399">[</span><span class="op" id="7426400">]</span><span class="ident" id="7426401">readTest</span><span class="op" id="7426409">,</span>&nbsp;<span class="builtinfunc" id="7426411">len</span><span class="op" id="7426414">(</span><span class="ident" id="7426415">readFailuresTests</span><span class="op" id="7426432">)</span><span class="op" id="7426433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7426436">copy</span><span class="op" id="7426440">(</span><span class="ident" id="7426441">tests</span><span class="op" id="7426446">,</span>&nbsp;<span class="ident" id="7426448">readFailuresTests</span><span class="op" id="7426465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7426468">for</span>&nbsp;<span class="ident" id="7426472">i</span>&nbsp;<span class="op" id="7426474">:=</span>&nbsp;<span class="keyword" id="7426477">range</span>&nbsp;<span class="ident" id="7426483">tests</span>&nbsp;<span class="op" id="7426489">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426493">tt</span>&nbsp;<span class="op" id="7426496">:=</span>&nbsp;<span class="op" id="7426499">&amp;</span><span class="ident" id="7426500">tests</span><span class="op" id="7426505">[</span><span class="ident" id="7426506">i</span><span class="op" id="7426507">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7426511">if</span>&nbsp;<span class="op" id="7426514">!</span><span class="ident" id="7426515">strings</span><span class="op" id="7426522">.</span><span class="ident" id="7426523">Contains</span><span class="op" id="7426531">(</span><span class="ident" id="7426532">tt</span><span class="op" id="7426534">.</span><span class="ident" id="7426535">err</span><span class="op" id="7426538">,</span>&nbsp;<span class="string" id="7426540">&#34;NUL&#34;</span><span class="op" id="7426545">)</span>&nbsp;<span class="op" id="7426547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426552">tt</span><span class="op" id="7426554">.</span><span class="ident" id="7426555">err</span>&nbsp;<span class="op" id="7426559">=</span>&nbsp;<span class="string" id="7426561">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7426569">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7426572">testRead</span><span class="op" id="7426580">(</span><span class="ident" id="7426581">t</span><span class="op" id="7426582">,</span>&nbsp;<span class="ident" id="7426584">tests</span><span class="op" id="7426589">,</span>&nbsp;<span class="keyword" id="7426591">func</span><span class="op" id="7426595">(</span><span class="ident" id="7426596">r</span>&nbsp;<span class="ident" id="7426598">io</span><span class="op" id="7426600">.</span><span class="ident" id="7426601">Reader</span><span class="op" id="7426607">)</span>&nbsp;<span class="op" id="7426609">(</span><span class="op" id="7426610">[</span><span class="op" id="7426611">]</span><span class="builtintype" id="7426612">byte</span><span class="op" id="7426616">,</span>&nbsp;<span class="builtintype" id="7426618">error</span><span class="op" id="7426623">)</span>&nbsp;<span class="op" id="7426625">{</span>&nbsp;<span class="keyword" id="7426627">return</span>&nbsp;<span class="ident" id="7426634">readImports</span><span class="op" id="7426645">(</span><span class="ident" id="7426646">r</span><span class="op" id="7426647">,</span>&nbsp;<span class="builtintype" id="7426649">false</span><span class="op" id="7426654">)</span>&nbsp;<span class="op" id="7426656">}</span><span class="op" id="7426657">)</span><br>
<span class="lineno"></span><span class="op" id="7426659">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
