<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html" class="current">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1611192">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1611247">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1611301">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1611352">package</span>&nbsp;<span class="ident" id="1611360">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1611369">import</span>&nbsp;<span class="string" id="1611376">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1611386">//&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;that&nbsp;a&nbsp;print&nbsp;of&nbsp;a&nbsp;value&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno">10</span><span class="comment" id="1611445">//&nbsp;should&nbsp;use&nbsp;printhex&nbsp;instead&nbsp;of&nbsp;printuint&nbsp;(decimal).</span><br>
<span class="lineno"></span><span class="keyword" id="1611500">type</span>&nbsp;<span class="ident" id="1611505">hex</span>&nbsp;<span class="ident" id="1611509">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1611517">func</span>&nbsp;<span class="ident" id="1611522">bytes</span><span class="op" id="1611527">(</span><span class="ident" id="1611528">s</span>&nbsp;<span class="builtintype" id="1611530">string</span><span class="op" id="1611536">)</span>&nbsp;<span class="op" id="1611538">(</span><span class="ident" id="1611539">ret</span>&nbsp;<span class="op" id="1611543">[</span><span class="op" id="1611544">]</span><span class="builtintype" id="1611545">byte</span><span class="op" id="1611549">)</span>&nbsp;<span class="op" id="1611551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1611554">rp</span>&nbsp;<span class="op" id="1611557">:=</span>&nbsp;<span class="op" id="1611560">(</span><span class="op" id="1611561">*</span><span class="ident" id="1611562">slice</span><span class="op" id="1611567">)</span><span class="op" id="1611568">(</span><span class="ident" id="1611569">unsafe</span><span class="op" id="1611575">.</span><span class="ident" id="1611576">Pointer</span><span class="op" id="1611583">(</span><span class="op" id="1611584">&amp;</span><span class="ident" id="1611585">ret</span><span class="op" id="1611588">)</span><span class="op" id="1611589">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1611592">sp</span>&nbsp;<span class="op" id="1611595">:=</span>&nbsp;<span class="op" id="1611598">(</span><span class="op" id="1611599">*</span><span class="ident" id="1611600">_string</span><span class="op" id="1611607">)</span><span class="op" id="1611608">(</span><span class="ident" id="1611609">noescape</span><span class="op" id="1611617">(</span><span class="ident" id="1611618">unsafe</span><span class="op" id="1611624">.</span><span class="ident" id="1611625">Pointer</span><span class="op" id="1611632">(</span><span class="op" id="1611633">&amp;</span><span class="ident" id="1611634">s</span><span class="op" id="1611635">)</span><span class="op" id="1611636">)</span><span class="op" id="1611637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1611640">rp</span><span class="op" id="1611642">.</span><span class="ident" id="1611643">array</span>&nbsp;<span class="op" id="1611649">=</span>&nbsp;<span class="ident" id="1611651">sp</span><span class="op" id="1611653">.</span><span class="ident" id="1611654">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1611659">rp</span><span class="op" id="1611661">.</span><span class="builtinfunc" id="1611662">len</span>&nbsp;<span class="op" id="1611666">=</span>&nbsp;<span class="builtintype" id="1611668">uint</span><span class="op" id="1611672">(</span><span class="ident" id="1611673">sp</span><span class="op" id="1611675">.</span><span class="builtinfunc" id="1611676">len</span><span class="op" id="1611679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1611682">rp</span><span class="op" id="1611684">.</span><span class="builtinfunc" id="1611685">cap</span>&nbsp;<span class="op" id="1611689">=</span>&nbsp;<span class="builtintype" id="1611691">uint</span><span class="op" id="1611695">(</span><span class="ident" id="1611696">sp</span><span class="op" id="1611698">.</span><span class="builtinfunc" id="1611699">len</span><span class="op" id="1611702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1611705">return</span><br>
<span class="lineno">20</span><span class="op" id="1611712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1611715">//&nbsp;printf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1611794">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1611865">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno">25</span><span class="comment" id="1611909">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1611922">func</span>&nbsp;<span class="ident" id="1611927">printf</span><span class="op" id="1611933">(</span><span class="ident" id="1611934">s</span>&nbsp;<span class="op" id="1611936">*</span><span class="builtintype" id="1611937">byte</span><span class="op" id="1611941">)</span>&nbsp;<span class="op" id="1611943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1611946">vprintf</span><span class="op" id="1611953">(</span><span class="ident" id="1611954">gostringnocopy</span><span class="op" id="1611968">(</span><span class="ident" id="1611969">s</span><span class="op" id="1611970">)</span><span class="op" id="1611971">,</span>&nbsp;<span class="ident" id="1611973">add</span><span class="op" id="1611976">(</span><span class="ident" id="1611977">unsafe</span><span class="op" id="1611983">.</span><span class="ident" id="1611984">Pointer</span><span class="op" id="1611991">(</span><span class="op" id="1611992">&amp;</span><span class="ident" id="1611993">s</span><span class="op" id="1611994">)</span><span class="op" id="1611995">,</span>&nbsp;<span class="ident" id="1611997">unsafe</span><span class="op" id="1612003">.</span><span class="ident" id="1612004">Sizeof</span><span class="op" id="1612010">(</span><span class="ident" id="1612011">s</span><span class="op" id="1612012">)</span><span class="op" id="1612013">)</span><span class="op" id="1612014">)</span><br>
<span class="lineno"></span><span class="op" id="1612016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="1612019">//&nbsp;sprintf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1612099">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1612170">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno"></span><span class="comment" id="1612214">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1612227">func</span>&nbsp;<span class="ident" id="1612232">snprintf</span><span class="op" id="1612240">(</span><span class="ident" id="1612241">dst</span>&nbsp;<span class="op" id="1612245">*</span><span class="builtintype" id="1612246">byte</span><span class="op" id="1612250">,</span>&nbsp;<span class="ident" id="1612252">n</span>&nbsp;<span class="builtintype" id="1612254">int32</span><span class="op" id="1612259">,</span>&nbsp;<span class="ident" id="1612261">s</span>&nbsp;<span class="op" id="1612263">*</span><span class="builtintype" id="1612264">byte</span><span class="op" id="1612268">)</span>&nbsp;<span class="op" id="1612270">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612273">buf</span>&nbsp;<span class="op" id="1612277">:=</span>&nbsp;<span class="op" id="1612280">(</span><span class="op" id="1612281">*</span><span class="op" id="1612282">[</span><span class="num" id="1612283">1</span>&nbsp;<span class="op" id="1612285">&lt;&lt;</span>&nbsp;<span class="num" id="1612288">30</span><span class="op" id="1612290">]</span><span class="builtintype" id="1612291">byte</span><span class="op" id="1612295">)</span><span class="op" id="1612296">(</span><span class="ident" id="1612297">unsafe</span><span class="op" id="1612303">.</span><span class="ident" id="1612304">Pointer</span><span class="op" id="1612311">(</span><span class="ident" id="1612312">dst</span><span class="op" id="1612315">)</span><span class="op" id="1612316">)</span><span class="op" id="1612317">[</span><span class="num" id="1612318">0</span><span class="op" id="1612319">:</span><span class="ident" id="1612320">n</span><span class="op" id="1612321">:</span><span class="ident" id="1612322">n</span><span class="op" id="1612323">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612327">gp</span>&nbsp;<span class="op" id="1612330">:=</span>&nbsp;<span class="ident" id="1612333">getg</span><span class="op" id="1612337">(</span><span class="op" id="1612338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612341">gp</span><span class="op" id="1612343">.</span><span class="ident" id="1612344">writebuf</span>&nbsp;<span class="op" id="1612353">=</span>&nbsp;<span class="ident" id="1612355">buf</span><span class="op" id="1612358">[</span><span class="num" id="1612359">0</span><span class="op" id="1612360">:</span><span class="num" id="1612361">0</span>&nbsp;<span class="op" id="1612363">:</span>&nbsp;<span class="ident" id="1612365">n</span><span class="op" id="1612366">-</span><span class="num" id="1612367">1</span><span class="op" id="1612368">]</span>&nbsp;<span class="comment" id="1612370">//&nbsp;leave&nbsp;room&nbsp;for&nbsp;NUL,&nbsp;this&nbsp;is&nbsp;called&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612416">vprintf</span><span class="op" id="1612423">(</span><span class="ident" id="1612424">gostringnocopy</span><span class="op" id="1612438">(</span><span class="ident" id="1612439">s</span><span class="op" id="1612440">)</span><span class="op" id="1612441">,</span>&nbsp;<span class="ident" id="1612443">add</span><span class="op" id="1612446">(</span><span class="ident" id="1612447">unsafe</span><span class="op" id="1612453">.</span><span class="ident" id="1612454">Pointer</span><span class="op" id="1612461">(</span><span class="op" id="1612462">&amp;</span><span class="ident" id="1612463">s</span><span class="op" id="1612464">)</span><span class="op" id="1612465">,</span>&nbsp;<span class="ident" id="1612467">unsafe</span><span class="op" id="1612473">.</span><span class="ident" id="1612474">Sizeof</span><span class="op" id="1612480">(</span><span class="ident" id="1612481">s</span><span class="op" id="1612482">)</span><span class="op" id="1612483">)</span><span class="op" id="1612484">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612487">buf</span><span class="op" id="1612490">[</span><span class="builtinfunc" id="1612491">len</span><span class="op" id="1612494">(</span><span class="ident" id="1612495">gp</span><span class="op" id="1612497">.</span><span class="ident" id="1612498">writebuf</span><span class="op" id="1612506">)</span><span class="op" id="1612507">]</span>&nbsp;<span class="op" id="1612509">=</span>&nbsp;<span class="string" id="1612511">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612519">gp</span><span class="op" id="1612521">.</span><span class="ident" id="1612522">writebuf</span>&nbsp;<span class="op" id="1612531">=</span>&nbsp;<span class="ident" id="1612533">nil</span><br>
<span class="lineno"></span><span class="op" id="1612537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1612540">//var&nbsp;debuglock&nbsp;mutex</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1612563">//&nbsp;write&nbsp;to&nbsp;goroutine-local&nbsp;buffer&nbsp;if&nbsp;diverting&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="1612619">//&nbsp;or&nbsp;else&nbsp;standard&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1612646">func</span>&nbsp;<span class="ident" id="1612651">gwrite</span><span class="op" id="1612657">(</span><span class="ident" id="1612658">b</span>&nbsp;<span class="op" id="1612660">[</span><span class="op" id="1612661">]</span><span class="builtintype" id="1612662">byte</span><span class="op" id="1612666">)</span>&nbsp;<span class="op" id="1612668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1612671">if</span>&nbsp;<span class="builtinfunc" id="1612674">len</span><span class="op" id="1612677">(</span><span class="ident" id="1612678">b</span><span class="op" id="1612679">)</span>&nbsp;<span class="op" id="1612681">==</span>&nbsp;<span class="num" id="1612684">0</span>&nbsp;<span class="op" id="1612686">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1612690">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1612698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612701">gp</span>&nbsp;<span class="op" id="1612704">:=</span>&nbsp;<span class="ident" id="1612707">getg</span><span class="op" id="1612711">(</span><span class="op" id="1612712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1612715">if</span>&nbsp;<span class="ident" id="1612718">gp</span>&nbsp;<span class="op" id="1612721">==</span>&nbsp;<span class="ident" id="1612724">nil</span>&nbsp;<span class="op" id="1612728">||</span>&nbsp;<span class="ident" id="1612731">gp</span><span class="op" id="1612733">.</span><span class="ident" id="1612734">writebuf</span>&nbsp;<span class="op" id="1612743">==</span>&nbsp;<span class="ident" id="1612746">nil</span>&nbsp;<span class="op" id="1612750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612754">write</span><span class="op" id="1612759">(</span><span class="num" id="1612760">2</span><span class="op" id="1612761">,</span>&nbsp;<span class="ident" id="1612763">unsafe</span><span class="op" id="1612769">.</span><span class="ident" id="1612770">Pointer</span><span class="op" id="1612777">(</span><span class="op" id="1612778">&amp;</span><span class="ident" id="1612779">b</span><span class="op" id="1612780">[</span><span class="num" id="1612781">0</span><span class="op" id="1612782">]</span><span class="op" id="1612783">)</span><span class="op" id="1612784">,</span>&nbsp;<span class="builtintype" id="1612786">int32</span><span class="op" id="1612791">(</span><span class="builtinfunc" id="1612792">len</span><span class="op" id="1612795">(</span><span class="ident" id="1612796">b</span><span class="op" id="1612797">)</span><span class="op" id="1612798">)</span><span class="op" id="1612799">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1612803">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1612811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612815">n</span>&nbsp;<span class="op" id="1612817">:=</span>&nbsp;<span class="builtinfunc" id="1612820">copy</span><span class="op" id="1612824">(</span><span class="ident" id="1612825">gp</span><span class="op" id="1612827">.</span><span class="ident" id="1612828">writebuf</span><span class="op" id="1612836">[</span><span class="builtinfunc" id="1612837">len</span><span class="op" id="1612840">(</span><span class="ident" id="1612841">gp</span><span class="op" id="1612843">.</span><span class="ident" id="1612844">writebuf</span><span class="op" id="1612852">)</span><span class="op" id="1612853">:</span><span class="builtinfunc" id="1612854">cap</span><span class="op" id="1612857">(</span><span class="ident" id="1612858">gp</span><span class="op" id="1612860">.</span><span class="ident" id="1612861">writebuf</span><span class="op" id="1612869">)</span><span class="op" id="1612870">]</span><span class="op" id="1612871">,</span>&nbsp;<span class="ident" id="1612873">b</span><span class="op" id="1612874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612877">gp</span><span class="op" id="1612879">.</span><span class="ident" id="1612880">writebuf</span>&nbsp;<span class="op" id="1612889">=</span>&nbsp;<span class="ident" id="1612891">gp</span><span class="op" id="1612893">.</span><span class="ident" id="1612894">writebuf</span><span class="op" id="1612902">[</span><span class="op" id="1612903">:</span><span class="builtinfunc" id="1612904">len</span><span class="op" id="1612907">(</span><span class="ident" id="1612908">gp</span><span class="op" id="1612910">.</span><span class="ident" id="1612911">writebuf</span><span class="op" id="1612919">)</span><span class="op" id="1612920">+</span><span class="ident" id="1612921">n</span><span class="op" id="1612922">]</span><br>
<span class="lineno">60</span><span class="op" id="1612924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1612927">func</span>&nbsp;<span class="ident" id="1612932">prints</span><span class="op" id="1612938">(</span><span class="ident" id="1612939">s</span>&nbsp;<span class="op" id="1612941">*</span><span class="builtintype" id="1612942">byte</span><span class="op" id="1612946">)</span>&nbsp;<span class="op" id="1612948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1612951">b</span>&nbsp;<span class="op" id="1612953">:=</span>&nbsp;<span class="op" id="1612956">(</span><span class="op" id="1612957">*</span><span class="op" id="1612958">[</span><span class="num" id="1612959">1</span>&nbsp;<span class="op" id="1612961">&lt;&lt;</span>&nbsp;<span class="num" id="1612964">30</span><span class="op" id="1612966">]</span><span class="builtintype" id="1612967">byte</span><span class="op" id="1612971">)</span><span class="op" id="1612972">(</span><span class="ident" id="1612973">unsafe</span><span class="op" id="1612979">.</span><span class="ident" id="1612980">Pointer</span><span class="op" id="1612987">(</span><span class="ident" id="1612988">s</span><span class="op" id="1612989">)</span><span class="op" id="1612990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1612993">for</span>&nbsp;<span class="ident" id="1612997">i</span>&nbsp;<span class="op" id="1612999">:=</span>&nbsp;<span class="num" id="1613002">0</span><span class="op" id="1613003">;</span>&nbsp;<span class="op" id="1613005">;</span>&nbsp;<span class="ident" id="1613007">i</span><span class="op" id="1613008">++</span>&nbsp;<span class="op" id="1613011">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613015">if</span>&nbsp;<span class="ident" id="1613018">b</span><span class="op" id="1613019">[</span><span class="ident" id="1613020">i</span><span class="op" id="1613021">]</span>&nbsp;<span class="op" id="1613023">==</span>&nbsp;<span class="num" id="1613026">0</span>&nbsp;<span class="op" id="1613028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613033">gwrite</span><span class="op" id="1613039">(</span><span class="ident" id="1613040">b</span><span class="op" id="1613041">[</span><span class="op" id="1613042">:</span><span class="ident" id="1613043">i</span><span class="op" id="1613044">]</span><span class="op" id="1613045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613050">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1613059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1613062">}</span><br>
<span class="lineno">70</span><span class="op" id="1613064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1613067">func</span>&nbsp;<span class="ident" id="1613072">printsp</span><span class="op" id="1613079">(</span><span class="op" id="1613080">)</span>&nbsp;<span class="op" id="1613082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1613085">print</span><span class="op" id="1613090">(</span><span class="string" id="1613091">&#34;&nbsp;&#34;</span><span class="op" id="1613094">)</span><br>
<span class="lineno"></span><span class="op" id="1613096">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="1613099">func</span>&nbsp;<span class="ident" id="1613104">printnl</span><span class="op" id="1613111">(</span><span class="op" id="1613112">)</span>&nbsp;<span class="op" id="1613114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1613117">print</span><span class="op" id="1613122">(</span><span class="string" id="1613123">&#34;\n&#34;</span><span class="op" id="1613127">)</span><br>
<span class="lineno"></span><span class="op" id="1613129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="1613132">//&nbsp;Very&nbsp;simple&nbsp;printf.&nbsp;&nbsp;Only&nbsp;for&nbsp;debugging&nbsp;prints.</span><br>
<span class="lineno"></span><span class="comment" id="1613183">//&nbsp;Do&nbsp;not&nbsp;add&nbsp;to&nbsp;this&nbsp;without&nbsp;checking&nbsp;with&nbsp;Rob.</span><br>
<span class="lineno"></span><span class="keyword" id="1613232">func</span>&nbsp;<span class="ident" id="1613237">vprintf</span><span class="op" id="1613244">(</span><span class="ident" id="1613245">str</span>&nbsp;<span class="builtintype" id="1613249">string</span><span class="op" id="1613255">,</span>&nbsp;<span class="ident" id="1613257">arg</span>&nbsp;<span class="ident" id="1613261">unsafe</span><span class="op" id="1613267">.</span><span class="ident" id="1613268">Pointer</span><span class="op" id="1613275">)</span>&nbsp;<span class="op" id="1613277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1613280">//lock(&amp;debuglock);</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613302">s</span>&nbsp;<span class="op" id="1613304">:=</span>&nbsp;<span class="ident" id="1613307">bytes</span><span class="op" id="1613312">(</span><span class="ident" id="1613313">str</span><span class="op" id="1613316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613319">start</span>&nbsp;<span class="op" id="1613325">:=</span>&nbsp;<span class="num" id="1613328">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613331">i</span>&nbsp;<span class="op" id="1613333">:=</span>&nbsp;<span class="num" id="1613336">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613339">for</span>&nbsp;<span class="op" id="1613343">;</span>&nbsp;<span class="ident" id="1613345">i</span>&nbsp;<span class="op" id="1613347">&lt;</span>&nbsp;<span class="builtinfunc" id="1613349">len</span><span class="op" id="1613352">(</span><span class="ident" id="1613353">s</span><span class="op" id="1613354">)</span><span class="op" id="1613355">;</span>&nbsp;<span class="ident" id="1613357">i</span><span class="op" id="1613358">++</span>&nbsp;<span class="op" id="1613361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613365">if</span>&nbsp;<span class="ident" id="1613368">s</span><span class="op" id="1613369">[</span><span class="ident" id="1613370">i</span><span class="op" id="1613371">]</span>&nbsp;<span class="op" id="1613373">!=</span>&nbsp;<span class="string" id="1613376">&#39;%&#39;</span>&nbsp;<span class="op" id="1613380">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613385">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1613396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613400">if</span>&nbsp;<span class="ident" id="1613403">i</span>&nbsp;<span class="op" id="1613405">&gt;</span>&nbsp;<span class="ident" id="1613407">start</span>&nbsp;<span class="op" id="1613413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613418">gwrite</span><span class="op" id="1613424">(</span><span class="ident" id="1613425">s</span><span class="op" id="1613426">[</span><span class="ident" id="1613427">start</span><span class="op" id="1613432">:</span><span class="ident" id="1613433">i</span><span class="op" id="1613434">]</span><span class="op" id="1613435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1613439">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613443">if</span>&nbsp;<span class="ident" id="1613446">i</span><span class="op" id="1613447">++</span><span class="op" id="1613449">;</span>&nbsp;<span class="ident" id="1613451">i</span>&nbsp;<span class="op" id="1613453">&gt;=</span>&nbsp;<span class="builtinfunc" id="1613456">len</span><span class="op" id="1613459">(</span><span class="ident" id="1613460">s</span><span class="op" id="1613461">)</span>&nbsp;<span class="op" id="1613463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613468">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1613476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613480">var</span>&nbsp;<span class="ident" id="1613484">siz</span>&nbsp;<span class="builtintype" id="1613488">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613498">switch</span>&nbsp;<span class="ident" id="1613505">s</span><span class="op" id="1613506">[</span><span class="ident" id="1613507">i</span><span class="op" id="1613508">]</span>&nbsp;<span class="op" id="1613510">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613514">case</span>&nbsp;<span class="string" id="1613519">&#39;t&#39;</span><span class="op" id="1613522">,</span>&nbsp;<span class="string" id="1613524">&#39;c&#39;</span><span class="op" id="1613527">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613532">siz</span>&nbsp;<span class="op" id="1613536">=</span>&nbsp;<span class="num" id="1613538">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613542">case</span>&nbsp;<span class="string" id="1613547">&#39;d&#39;</span><span class="op" id="1613550">,</span>&nbsp;<span class="string" id="1613552">&#39;x&#39;</span><span class="op" id="1613555">:</span>&nbsp;<span class="comment" id="1613557">//&nbsp;32-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613570">arg</span>&nbsp;<span class="op" id="1613574">=</span>&nbsp;<span class="ident" id="1613576">roundup</span><span class="op" id="1613583">(</span><span class="ident" id="1613584">arg</span><span class="op" id="1613587">,</span>&nbsp;<span class="num" id="1613589">4</span><span class="op" id="1613590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613595">siz</span>&nbsp;<span class="op" id="1613599">=</span>&nbsp;<span class="num" id="1613601">4</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613605">case</span>&nbsp;<span class="string" id="1613610">&#39;D&#39;</span><span class="op" id="1613613">,</span>&nbsp;<span class="string" id="1613615">&#39;U&#39;</span><span class="op" id="1613618">,</span>&nbsp;<span class="string" id="1613620">&#39;X&#39;</span><span class="op" id="1613623">,</span>&nbsp;<span class="string" id="1613625">&#39;f&#39;</span><span class="op" id="1613628">:</span>&nbsp;<span class="comment" id="1613630">//&nbsp;64-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613643">arg</span>&nbsp;<span class="op" id="1613647">=</span>&nbsp;<span class="ident" id="1613649">roundup</span><span class="op" id="1613656">(</span><span class="ident" id="1613657">arg</span><span class="op" id="1613660">,</span>&nbsp;<span class="ident" id="1613662">unsafe</span><span class="op" id="1613668">.</span><span class="ident" id="1613669">Sizeof</span><span class="op" id="1613675">(</span><span class="ident" id="1613676">uintreg</span><span class="op" id="1613683">(</span><span class="num" id="1613684">0</span><span class="op" id="1613685">)</span><span class="op" id="1613686">)</span><span class="op" id="1613687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613692">siz</span>&nbsp;<span class="op" id="1613696">=</span>&nbsp;<span class="num" id="1613698">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613702">case</span>&nbsp;<span class="string" id="1613707">&#39;C&#39;</span><span class="op" id="1613710">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613715">arg</span>&nbsp;<span class="op" id="1613719">=</span>&nbsp;<span class="ident" id="1613721">roundup</span><span class="op" id="1613728">(</span><span class="ident" id="1613729">arg</span><span class="op" id="1613732">,</span>&nbsp;<span class="ident" id="1613734">unsafe</span><span class="op" id="1613740">.</span><span class="ident" id="1613741">Sizeof</span><span class="op" id="1613747">(</span><span class="ident" id="1613748">uintreg</span><span class="op" id="1613755">(</span><span class="num" id="1613756">0</span><span class="op" id="1613757">)</span><span class="op" id="1613758">)</span><span class="op" id="1613759">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613764">siz</span>&nbsp;<span class="op" id="1613768">=</span>&nbsp;<span class="num" id="1613770">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613775">case</span>&nbsp;<span class="string" id="1613780">&#39;p&#39;</span><span class="op" id="1613783">,</span>&nbsp;<span class="string" id="1613785">&#39;s&#39;</span><span class="op" id="1613788">:</span>&nbsp;<span class="comment" id="1613790">//&nbsp;pointer-sized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613810">arg</span>&nbsp;<span class="op" id="1613814">=</span>&nbsp;<span class="ident" id="1613816">roundup</span><span class="op" id="1613823">(</span><span class="ident" id="1613824">arg</span><span class="op" id="1613827">,</span>&nbsp;<span class="ident" id="1613829">unsafe</span><span class="op" id="1613835">.</span><span class="ident" id="1613836">Sizeof</span><span class="op" id="1613842">(</span><span class="builtintype" id="1613843">uintptr</span><span class="op" id="1613850">(</span><span class="num" id="1613851">0</span><span class="op" id="1613852">)</span><span class="op" id="1613853">)</span><span class="op" id="1613854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613859">siz</span>&nbsp;<span class="op" id="1613863">=</span>&nbsp;<span class="ident" id="1613865">unsafe</span><span class="op" id="1613871">.</span><span class="ident" id="1613872">Sizeof</span><span class="op" id="1613878">(</span><span class="builtintype" id="1613879">uintptr</span><span class="op" id="1613886">(</span><span class="num" id="1613887">0</span><span class="op" id="1613888">)</span><span class="op" id="1613889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1613893">case</span>&nbsp;<span class="string" id="1613898">&#39;S&#39;</span><span class="op" id="1613901">:</span>&nbsp;<span class="comment" id="1613903">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613936">arg</span>&nbsp;<span class="op" id="1613940">=</span>&nbsp;<span class="ident" id="1613942">roundup</span><span class="op" id="1613949">(</span><span class="ident" id="1613950">arg</span><span class="op" id="1613953">,</span>&nbsp;<span class="ident" id="1613955">unsafe</span><span class="op" id="1613961">.</span><span class="ident" id="1613962">Sizeof</span><span class="op" id="1613968">(</span><span class="builtintype" id="1613969">uintptr</span><span class="op" id="1613976">(</span><span class="num" id="1613977">0</span><span class="op" id="1613978">)</span><span class="op" id="1613979">)</span><span class="op" id="1613980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1613985">siz</span>&nbsp;<span class="op" id="1613989">=</span>&nbsp;<span class="ident" id="1613991">unsafe</span><span class="op" id="1613997">.</span><span class="ident" id="1613998">Sizeof</span><span class="op" id="1614004">(</span><span class="builtintype" id="1614005">string</span><span class="op" id="1614011">(</span><span class="string" id="1614012">&#34;&#34;</span><span class="op" id="1614014">)</span><span class="op" id="1614015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614019">case</span>&nbsp;<span class="string" id="1614024">&#39;a&#39;</span><span class="op" id="1614027">:</span>&nbsp;<span class="comment" id="1614029">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614062">arg</span>&nbsp;<span class="op" id="1614066">=</span>&nbsp;<span class="ident" id="1614068">roundup</span><span class="op" id="1614075">(</span><span class="ident" id="1614076">arg</span><span class="op" id="1614079">,</span>&nbsp;<span class="ident" id="1614081">unsafe</span><span class="op" id="1614087">.</span><span class="ident" id="1614088">Sizeof</span><span class="op" id="1614094">(</span><span class="builtintype" id="1614095">uintptr</span><span class="op" id="1614102">(</span><span class="num" id="1614103">0</span><span class="op" id="1614104">)</span><span class="op" id="1614105">)</span><span class="op" id="1614106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614111">siz</span>&nbsp;<span class="op" id="1614115">=</span>&nbsp;<span class="ident" id="1614117">unsafe</span><span class="op" id="1614123">.</span><span class="ident" id="1614124">Sizeof</span><span class="op" id="1614130">(</span><span class="op" id="1614131">[</span><span class="op" id="1614132">]</span><span class="builtintype" id="1614133">byte</span><span class="op" id="1614137">{</span><span class="op" id="1614138">}</span><span class="op" id="1614139">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614143">case</span>&nbsp;<span class="string" id="1614148">&#39;i&#39;</span><span class="op" id="1614151">,</span>&nbsp;<span class="string" id="1614153">&#39;e&#39;</span><span class="op" id="1614156">:</span>&nbsp;<span class="comment" id="1614158">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614191">arg</span>&nbsp;<span class="op" id="1614195">=</span>&nbsp;<span class="ident" id="1614197">roundup</span><span class="op" id="1614204">(</span><span class="ident" id="1614205">arg</span><span class="op" id="1614208">,</span>&nbsp;<span class="ident" id="1614210">unsafe</span><span class="op" id="1614216">.</span><span class="ident" id="1614217">Sizeof</span><span class="op" id="1614223">(</span><span class="builtintype" id="1614224">uintptr</span><span class="op" id="1614231">(</span><span class="num" id="1614232">0</span><span class="op" id="1614233">)</span><span class="op" id="1614234">)</span><span class="op" id="1614235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614240">siz</span>&nbsp;<span class="op" id="1614244">=</span>&nbsp;<span class="ident" id="1614246">unsafe</span><span class="op" id="1614252">.</span><span class="ident" id="1614253">Sizeof</span><span class="op" id="1614259">(</span><span class="keyword" id="1614260">interface</span><span class="op" id="1614269">{</span><span class="op" id="1614270">}</span><span class="op" id="1614271">(</span><span class="ident" id="1614272">nil</span><span class="op" id="1614275">)</span><span class="op" id="1614276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1614280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614284">switch</span>&nbsp;<span class="ident" id="1614291">s</span><span class="op" id="1614292">[</span><span class="ident" id="1614293">i</span><span class="op" id="1614294">]</span>&nbsp;<span class="op" id="1614296">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614300">case</span>&nbsp;<span class="string" id="1614305">&#39;a&#39;</span><span class="op" id="1614308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614313">printslice</span><span class="op" id="1614323">(</span><span class="op" id="1614324">*</span><span class="op" id="1614325">(</span><span class="op" id="1614326">*</span><span class="op" id="1614327">[</span><span class="op" id="1614328">]</span><span class="builtintype" id="1614329">byte</span><span class="op" id="1614333">)</span><span class="op" id="1614334">(</span><span class="ident" id="1614335">arg</span><span class="op" id="1614338">)</span><span class="op" id="1614339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614343">case</span>&nbsp;<span class="string" id="1614348">&#39;c&#39;</span><span class="op" id="1614351">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614356">printbyte</span><span class="op" id="1614365">(</span><span class="op" id="1614366">*</span><span class="op" id="1614367">(</span><span class="op" id="1614368">*</span><span class="builtintype" id="1614369">byte</span><span class="op" id="1614373">)</span><span class="op" id="1614374">(</span><span class="ident" id="1614375">arg</span><span class="op" id="1614378">)</span><span class="op" id="1614379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614383">case</span>&nbsp;<span class="string" id="1614388">&#39;d&#39;</span><span class="op" id="1614391">:</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614396">printint</span><span class="op" id="1614404">(</span><span class="ident" id="1614405">int64</span><span class="op" id="1614410">(</span><span class="op" id="1614411">*</span><span class="op" id="1614412">(</span><span class="op" id="1614413">*</span><span class="builtintype" id="1614414">int32</span><span class="op" id="1614419">)</span><span class="op" id="1614420">(</span><span class="ident" id="1614421">arg</span><span class="op" id="1614424">)</span><span class="op" id="1614425">)</span><span class="op" id="1614426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614430">case</span>&nbsp;<span class="string" id="1614435">&#39;D&#39;</span><span class="op" id="1614438">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614443">printint</span><span class="op" id="1614451">(</span><span class="ident" id="1614452">int64</span><span class="op" id="1614457">(</span><span class="op" id="1614458">*</span><span class="op" id="1614459">(</span><span class="op" id="1614460">*</span><span class="ident" id="1614461">int64</span><span class="op" id="1614466">)</span><span class="op" id="1614467">(</span><span class="ident" id="1614468">arg</span><span class="op" id="1614471">)</span><span class="op" id="1614472">)</span><span class="op" id="1614473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614477">case</span>&nbsp;<span class="string" id="1614482">&#39;e&#39;</span><span class="op" id="1614485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614490">printeface</span><span class="op" id="1614500">(</span><span class="op" id="1614501">*</span><span class="op" id="1614502">(</span><span class="op" id="1614503">*</span><span class="keyword" id="1614504">interface</span><span class="op" id="1614513">{</span><span class="op" id="1614514">}</span><span class="op" id="1614515">)</span><span class="op" id="1614516">(</span><span class="ident" id="1614517">arg</span><span class="op" id="1614520">)</span><span class="op" id="1614521">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614525">case</span>&nbsp;<span class="string" id="1614530">&#39;f&#39;</span><span class="op" id="1614533">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614538">printfloat</span><span class="op" id="1614548">(</span><span class="op" id="1614549">*</span><span class="op" id="1614550">(</span><span class="op" id="1614551">*</span><span class="builtintype" id="1614552">float64</span><span class="op" id="1614559">)</span><span class="op" id="1614560">(</span><span class="ident" id="1614561">arg</span><span class="op" id="1614564">)</span><span class="op" id="1614565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614569">case</span>&nbsp;<span class="string" id="1614574">&#39;C&#39;</span><span class="op" id="1614577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614582">printcomplex</span><span class="op" id="1614594">(</span><span class="op" id="1614595">*</span><span class="op" id="1614596">(</span><span class="op" id="1614597">*</span><span class="builtintype" id="1614598">complex128</span><span class="op" id="1614608">)</span><span class="op" id="1614609">(</span><span class="ident" id="1614610">arg</span><span class="op" id="1614613">)</span><span class="op" id="1614614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614618">case</span>&nbsp;<span class="string" id="1614623">&#39;i&#39;</span><span class="op" id="1614626">:</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614631">printiface</span><span class="op" id="1614641">(</span><span class="op" id="1614642">*</span><span class="op" id="1614643">(</span><span class="op" id="1614644">*</span><span class="ident" id="1614645">fInterface</span><span class="op" id="1614655">)</span><span class="op" id="1614656">(</span><span class="ident" id="1614657">arg</span><span class="op" id="1614660">)</span><span class="op" id="1614661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614665">case</span>&nbsp;<span class="string" id="1614670">&#39;p&#39;</span><span class="op" id="1614673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614678">printpointer</span><span class="op" id="1614690">(</span><span class="op" id="1614691">*</span><span class="op" id="1614692">(</span><span class="op" id="1614693">*</span><span class="ident" id="1614694">unsafe</span><span class="op" id="1614700">.</span><span class="ident" id="1614701">Pointer</span><span class="op" id="1614708">)</span><span class="op" id="1614709">(</span><span class="ident" id="1614710">arg</span><span class="op" id="1614713">)</span><span class="op" id="1614714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614718">case</span>&nbsp;<span class="string" id="1614723">&#39;s&#39;</span><span class="op" id="1614726">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614731">prints</span><span class="op" id="1614737">(</span><span class="op" id="1614738">*</span><span class="op" id="1614739">(</span><span class="op" id="1614740">*</span><span class="op" id="1614741">*</span><span class="builtintype" id="1614742">byte</span><span class="op" id="1614746">)</span><span class="op" id="1614747">(</span><span class="ident" id="1614748">arg</span><span class="op" id="1614751">)</span><span class="op" id="1614752">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614756">case</span>&nbsp;<span class="string" id="1614761">&#39;S&#39;</span><span class="op" id="1614764">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614769">printstring</span><span class="op" id="1614780">(</span><span class="op" id="1614781">*</span><span class="op" id="1614782">(</span><span class="op" id="1614783">*</span><span class="builtintype" id="1614784">string</span><span class="op" id="1614790">)</span><span class="op" id="1614791">(</span><span class="ident" id="1614792">arg</span><span class="op" id="1614795">)</span><span class="op" id="1614796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614800">case</span>&nbsp;<span class="string" id="1614805">&#39;t&#39;</span><span class="op" id="1614808">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614813">printbool</span><span class="op" id="1614822">(</span><span class="op" id="1614823">*</span><span class="op" id="1614824">(</span><span class="op" id="1614825">*</span><span class="builtintype" id="1614826">bool</span><span class="op" id="1614830">)</span><span class="op" id="1614831">(</span><span class="ident" id="1614832">arg</span><span class="op" id="1614835">)</span><span class="op" id="1614836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614840">case</span>&nbsp;<span class="string" id="1614845">&#39;U&#39;</span><span class="op" id="1614848">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614853">printuint</span><span class="op" id="1614862">(</span><span class="op" id="1614863">*</span><span class="op" id="1614864">(</span><span class="op" id="1614865">*</span><span class="ident" id="1614866">uint64</span><span class="op" id="1614872">)</span><span class="op" id="1614873">(</span><span class="ident" id="1614874">arg</span><span class="op" id="1614877">)</span><span class="op" id="1614878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614882">case</span>&nbsp;<span class="string" id="1614887">&#39;x&#39;</span><span class="op" id="1614890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614895">printhex</span><span class="op" id="1614903">(</span><span class="ident" id="1614904">uint64</span><span class="op" id="1614910">(</span><span class="op" id="1614911">*</span><span class="op" id="1614912">(</span><span class="op" id="1614913">*</span><span class="builtintype" id="1614914">uint32</span><span class="op" id="1614920">)</span><span class="op" id="1614921">(</span><span class="ident" id="1614922">arg</span><span class="op" id="1614925">)</span><span class="op" id="1614926">)</span><span class="op" id="1614927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1614931">case</span>&nbsp;<span class="string" id="1614936">&#39;X&#39;</span><span class="op" id="1614939">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614944">printhex</span><span class="op" id="1614952">(</span><span class="op" id="1614953">*</span><span class="op" id="1614954">(</span><span class="op" id="1614955">*</span><span class="ident" id="1614956">uint64</span><span class="op" id="1614962">)</span><span class="op" id="1614963">(</span><span class="ident" id="1614964">arg</span><span class="op" id="1614967">)</span><span class="op" id="1614968">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1614972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614976">arg</span>&nbsp;<span class="op" id="1614980">=</span>&nbsp;<span class="ident" id="1614982">add</span><span class="op" id="1614985">(</span><span class="ident" id="1614986">arg</span><span class="op" id="1614989">,</span>&nbsp;<span class="ident" id="1614991">siz</span><span class="op" id="1614994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1614998">start</span>&nbsp;<span class="op" id="1615004">=</span>&nbsp;<span class="ident" id="1615006">i</span>&nbsp;<span class="op" id="1615008">+</span>&nbsp;<span class="num" id="1615010">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615016">if</span>&nbsp;<span class="ident" id="1615019">start</span>&nbsp;<span class="op" id="1615025">&lt;</span>&nbsp;<span class="ident" id="1615027">i</span>&nbsp;<span class="op" id="1615029">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615033">gwrite</span><span class="op" id="1615039">(</span><span class="ident" id="1615040">s</span><span class="op" id="1615041">[</span><span class="ident" id="1615042">start</span><span class="op" id="1615047">:</span><span class="ident" id="1615048">i</span><span class="op" id="1615049">]</span><span class="op" id="1615050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1615057">//unlock(&amp;debuglock);</span><br>
<span class="lineno"></span><span class="op" id="1615079">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="1615082">func</span>&nbsp;<span class="ident" id="1615087">printpc</span><span class="op" id="1615094">(</span><span class="ident" id="1615095">p</span>&nbsp;<span class="ident" id="1615097">unsafe</span><span class="op" id="1615103">.</span><span class="ident" id="1615104">Pointer</span><span class="op" id="1615111">)</span>&nbsp;<span class="op" id="1615113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1615116">print</span><span class="op" id="1615121">(</span><span class="string" id="1615122">&#34;PC=&#34;</span><span class="op" id="1615127">,</span>&nbsp;<span class="ident" id="1615129">hex</span><span class="op" id="1615132">(</span><span class="builtintype" id="1615133">uintptr</span><span class="op" id="1615140">(</span><span class="ident" id="1615141">p</span><span class="op" id="1615142">)</span><span class="op" id="1615143">)</span><span class="op" id="1615144">)</span><br>
<span class="lineno"></span><span class="op" id="1615146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="1615149">func</span>&nbsp;<span class="ident" id="1615154">printbool</span><span class="op" id="1615163">(</span><span class="ident" id="1615164">v</span>&nbsp;<span class="builtintype" id="1615166">bool</span><span class="op" id="1615170">)</span>&nbsp;<span class="op" id="1615172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615175">if</span>&nbsp;<span class="ident" id="1615178">v</span>&nbsp;<span class="op" id="1615180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1615184">print</span><span class="op" id="1615189">(</span><span class="string" id="1615190">&#34;true&#34;</span><span class="op" id="1615196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615199">}</span>&nbsp;<span class="keyword" id="1615201">else</span>&nbsp;<span class="op" id="1615206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1615210">print</span><span class="op" id="1615215">(</span><span class="string" id="1615216">&#34;false&#34;</span><span class="op" id="1615223">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615226">}</span><br>
<span class="lineno"></span><span class="op" id="1615228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1615231">func</span>&nbsp;<span class="ident" id="1615236">printbyte</span><span class="op" id="1615245">(</span><span class="ident" id="1615246">c</span>&nbsp;<span class="builtintype" id="1615248">byte</span><span class="op" id="1615252">)</span>&nbsp;<span class="op" id="1615254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615257">gwrite</span><span class="op" id="1615263">(</span><span class="op" id="1615264">(</span><span class="op" id="1615265">*</span><span class="op" id="1615266">[</span><span class="num" id="1615267">1</span><span class="op" id="1615268">]</span><span class="builtintype" id="1615269">byte</span><span class="op" id="1615273">)</span><span class="op" id="1615274">(</span><span class="ident" id="1615275">unsafe</span><span class="op" id="1615281">.</span><span class="ident" id="1615282">Pointer</span><span class="op" id="1615289">(</span><span class="op" id="1615290">&amp;</span><span class="ident" id="1615291">c</span><span class="op" id="1615292">)</span><span class="op" id="1615293">)</span><span class="op" id="1615294">[</span><span class="op" id="1615295">:</span><span class="op" id="1615296">]</span><span class="op" id="1615297">)</span><br>
<span class="lineno">180</span><span class="op" id="1615299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1615302">func</span>&nbsp;<span class="ident" id="1615307">printfloat</span><span class="op" id="1615317">(</span><span class="ident" id="1615318">v</span>&nbsp;<span class="builtintype" id="1615320">float64</span><span class="op" id="1615327">)</span>&nbsp;<span class="op" id="1615329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615332">switch</span>&nbsp;<span class="op" id="1615339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615342">case</span>&nbsp;<span class="ident" id="1615347">v</span>&nbsp;<span class="op" id="1615349">!=</span>&nbsp;<span class="ident" id="1615352">v</span><span class="op" id="1615353">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1615357">print</span><span class="op" id="1615362">(</span><span class="string" id="1615363">&#34;NaN&#34;</span><span class="op" id="1615368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615372">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615380">case</span>&nbsp;<span class="ident" id="1615385">v</span><span class="op" id="1615386">+</span><span class="ident" id="1615387">v</span>&nbsp;<span class="op" id="1615389">==</span>&nbsp;<span class="ident" id="1615392">v</span>&nbsp;<span class="op" id="1615394">&amp;&amp;</span>&nbsp;<span class="ident" id="1615397">v</span>&nbsp;<span class="op" id="1615399">&gt;</span>&nbsp;<span class="num" id="1615401">0</span><span class="op" id="1615402">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1615406">print</span><span class="op" id="1615411">(</span><span class="string" id="1615412">&#34;+Inf&#34;</span><span class="op" id="1615418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615422">return</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615430">case</span>&nbsp;<span class="ident" id="1615435">v</span><span class="op" id="1615436">+</span><span class="ident" id="1615437">v</span>&nbsp;<span class="op" id="1615439">==</span>&nbsp;<span class="ident" id="1615442">v</span>&nbsp;<span class="op" id="1615444">&amp;&amp;</span>&nbsp;<span class="ident" id="1615447">v</span>&nbsp;<span class="op" id="1615449">&lt;</span>&nbsp;<span class="num" id="1615451">0</span><span class="op" id="1615452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1615456">print</span><span class="op" id="1615461">(</span><span class="string" id="1615462">&#34;-Inf&#34;</span><span class="op" id="1615468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615472">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615484">const</span>&nbsp;<span class="ident" id="1615490">n</span>&nbsp;<span class="op" id="1615492">=</span>&nbsp;<span class="num" id="1615494">7</span>&nbsp;<span class="comment" id="1615496">//&nbsp;digits&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615515">var</span>&nbsp;<span class="ident" id="1615519">buf</span>&nbsp;<span class="op" id="1615523">[</span><span class="ident" id="1615524">n</span>&nbsp;<span class="op" id="1615526">+</span>&nbsp;<span class="num" id="1615528">7</span><span class="op" id="1615529">]</span><span class="builtintype" id="1615530">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615536">buf</span><span class="op" id="1615539">[</span><span class="num" id="1615540">0</span><span class="op" id="1615541">]</span>&nbsp;<span class="op" id="1615543">=</span>&nbsp;<span class="string" id="1615545">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615550">e</span>&nbsp;<span class="op" id="1615552">:=</span>&nbsp;<span class="num" id="1615555">0</span>&nbsp;<span class="comment" id="1615557">//&nbsp;exp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615565">if</span>&nbsp;<span class="ident" id="1615568">v</span>&nbsp;<span class="op" id="1615570">==</span>&nbsp;<span class="num" id="1615573">0</span>&nbsp;<span class="op" id="1615575">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615579">if</span>&nbsp;<span class="num" id="1615582">1</span><span class="op" id="1615583">/</span><span class="ident" id="1615584">v</span>&nbsp;<span class="op" id="1615586">&lt;</span>&nbsp;<span class="num" id="1615588">0</span>&nbsp;<span class="op" id="1615590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615595">buf</span><span class="op" id="1615598">[</span><span class="num" id="1615599">0</span><span class="op" id="1615600">]</span>&nbsp;<span class="op" id="1615602">=</span>&nbsp;<span class="string" id="1615604">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615613">}</span>&nbsp;<span class="keyword" id="1615615">else</span>&nbsp;<span class="op" id="1615620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615624">if</span>&nbsp;<span class="ident" id="1615627">v</span>&nbsp;<span class="op" id="1615629">&lt;</span>&nbsp;<span class="num" id="1615631">0</span>&nbsp;<span class="op" id="1615633">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615638">v</span>&nbsp;<span class="op" id="1615640">=</span>&nbsp;<span class="op" id="1615642">-</span><span class="ident" id="1615643">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615648">buf</span><span class="op" id="1615651">[</span><span class="num" id="1615652">0</span><span class="op" id="1615653">]</span>&nbsp;<span class="op" id="1615655">=</span>&nbsp;<span class="string" id="1615657">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1615668">//&nbsp;normalize</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615683">for</span>&nbsp;<span class="ident" id="1615687">v</span>&nbsp;<span class="op" id="1615689">&gt;=</span>&nbsp;<span class="num" id="1615692">10</span>&nbsp;<span class="op" id="1615695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615700">e</span><span class="op" id="1615701">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615707">v</span>&nbsp;<span class="op" id="1615709">/=</span>&nbsp;<span class="num" id="1615712">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615721">for</span>&nbsp;<span class="ident" id="1615725">v</span>&nbsp;<span class="op" id="1615727">&lt;</span>&nbsp;<span class="num" id="1615729">1</span>&nbsp;<span class="op" id="1615731">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615736">e</span><span class="op" id="1615737">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615743">v</span>&nbsp;<span class="op" id="1615745">*=</span>&nbsp;<span class="num" id="1615748">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1615758">//&nbsp;round</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615769">h</span>&nbsp;<span class="op" id="1615771">:=</span>&nbsp;<span class="num" id="1615774">5.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615780">for</span>&nbsp;<span class="ident" id="1615784">i</span>&nbsp;<span class="op" id="1615786">:=</span>&nbsp;<span class="num" id="1615789">0</span><span class="op" id="1615790">;</span>&nbsp;<span class="ident" id="1615792">i</span>&nbsp;<span class="op" id="1615794">&lt;</span>&nbsp;<span class="ident" id="1615796">n</span><span class="op" id="1615797">;</span>&nbsp;<span class="ident" id="1615799">i</span><span class="op" id="1615800">++</span>&nbsp;<span class="op" id="1615803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615808">h</span>&nbsp;<span class="op" id="1615810">/=</span>&nbsp;<span class="num" id="1615813">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615822">v</span>&nbsp;<span class="op" id="1615824">+=</span>&nbsp;<span class="ident" id="1615827">h</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615831">if</span>&nbsp;<span class="ident" id="1615834">v</span>&nbsp;<span class="op" id="1615836">&gt;=</span>&nbsp;<span class="num" id="1615839">10</span>&nbsp;<span class="op" id="1615842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615847">e</span><span class="op" id="1615848">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615854">v</span>&nbsp;<span class="op" id="1615856">/=</span>&nbsp;<span class="num" id="1615859">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615867">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1615871">//&nbsp;format&nbsp;+d.dddd+edd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1615894">for</span>&nbsp;<span class="ident" id="1615898">i</span>&nbsp;<span class="op" id="1615900">:=</span>&nbsp;<span class="num" id="1615903">0</span><span class="op" id="1615904">;</span>&nbsp;<span class="ident" id="1615906">i</span>&nbsp;<span class="op" id="1615908">&lt;</span>&nbsp;<span class="ident" id="1615910">n</span><span class="op" id="1615911">;</span>&nbsp;<span class="ident" id="1615913">i</span><span class="op" id="1615914">++</span>&nbsp;<span class="op" id="1615917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615921">s</span>&nbsp;<span class="op" id="1615923">:=</span>&nbsp;<span class="builtintype" id="1615926">int</span><span class="op" id="1615929">(</span><span class="ident" id="1615930">v</span><span class="op" id="1615931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615935">buf</span><span class="op" id="1615938">[</span><span class="ident" id="1615939">i</span><span class="op" id="1615940">+</span><span class="num" id="1615941">2</span><span class="op" id="1615942">]</span>&nbsp;<span class="op" id="1615944">=</span>&nbsp;<span class="builtintype" id="1615946">byte</span><span class="op" id="1615950">(</span><span class="ident" id="1615951">s</span>&nbsp;<span class="op" id="1615953">+</span>&nbsp;<span class="string" id="1615955">&#39;0&#39;</span><span class="op" id="1615958">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615962">v</span>&nbsp;<span class="op" id="1615964">-=</span>&nbsp;<span class="builtintype" id="1615967">float64</span><span class="op" id="1615974">(</span><span class="ident" id="1615975">s</span><span class="op" id="1615976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615980">v</span>&nbsp;<span class="op" id="1615982">*=</span>&nbsp;<span class="num" id="1615985">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1615989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1615992">buf</span><span class="op" id="1615995">[</span><span class="num" id="1615996">1</span><span class="op" id="1615997">]</span>&nbsp;<span class="op" id="1615999">=</span>&nbsp;<span class="ident" id="1616001">buf</span><span class="op" id="1616004">[</span><span class="num" id="1616005">2</span><span class="op" id="1616006">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616009">buf</span><span class="op" id="1616012">[</span><span class="num" id="1616013">2</span><span class="op" id="1616014">]</span>&nbsp;<span class="op" id="1616016">=</span>&nbsp;<span class="string" id="1616018">&#39;.&#39;</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616024">buf</span><span class="op" id="1616027">[</span><span class="ident" id="1616028">n</span><span class="op" id="1616029">+</span><span class="num" id="1616030">2</span><span class="op" id="1616031">]</span>&nbsp;<span class="op" id="1616033">=</span>&nbsp;<span class="string" id="1616035">&#39;e&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616040">buf</span><span class="op" id="1616043">[</span><span class="ident" id="1616044">n</span><span class="op" id="1616045">+</span><span class="num" id="1616046">3</span><span class="op" id="1616047">]</span>&nbsp;<span class="op" id="1616049">=</span>&nbsp;<span class="string" id="1616051">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616056">if</span>&nbsp;<span class="ident" id="1616059">e</span>&nbsp;<span class="op" id="1616061">&lt;</span>&nbsp;<span class="num" id="1616063">0</span>&nbsp;<span class="op" id="1616065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616069">e</span>&nbsp;<span class="op" id="1616071">=</span>&nbsp;<span class="op" id="1616073">-</span><span class="ident" id="1616074">e</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616078">buf</span><span class="op" id="1616081">[</span><span class="ident" id="1616082">n</span><span class="op" id="1616083">+</span><span class="num" id="1616084">3</span><span class="op" id="1616085">]</span>&nbsp;<span class="op" id="1616087">=</span>&nbsp;<span class="string" id="1616089">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616098">buf</span><span class="op" id="1616101">[</span><span class="ident" id="1616102">n</span><span class="op" id="1616103">+</span><span class="num" id="1616104">4</span><span class="op" id="1616105">]</span>&nbsp;<span class="op" id="1616107">=</span>&nbsp;<span class="builtintype" id="1616109">byte</span><span class="op" id="1616113">(</span><span class="ident" id="1616114">e</span><span class="op" id="1616115">/</span><span class="num" id="1616116">100</span><span class="op" id="1616119">)</span>&nbsp;<span class="op" id="1616121">+</span>&nbsp;<span class="string" id="1616123">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616128">buf</span><span class="op" id="1616131">[</span><span class="ident" id="1616132">n</span><span class="op" id="1616133">+</span><span class="num" id="1616134">5</span><span class="op" id="1616135">]</span>&nbsp;<span class="op" id="1616137">=</span>&nbsp;<span class="builtintype" id="1616139">byte</span><span class="op" id="1616143">(</span><span class="ident" id="1616144">e</span><span class="op" id="1616145">/</span><span class="num" id="1616146">10</span><span class="op" id="1616148">)</span><span class="op" id="1616149">%</span><span class="num" id="1616150">10</span>&nbsp;<span class="op" id="1616153">+</span>&nbsp;<span class="string" id="1616155">&#39;0&#39;</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616160">buf</span><span class="op" id="1616163">[</span><span class="ident" id="1616164">n</span><span class="op" id="1616165">+</span><span class="num" id="1616166">6</span><span class="op" id="1616167">]</span>&nbsp;<span class="op" id="1616169">=</span>&nbsp;<span class="builtintype" id="1616171">byte</span><span class="op" id="1616175">(</span><span class="ident" id="1616176">e</span><span class="op" id="1616177">%</span><span class="num" id="1616178">10</span><span class="op" id="1616180">)</span>&nbsp;<span class="op" id="1616182">+</span>&nbsp;<span class="string" id="1616184">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616189">gwrite</span><span class="op" id="1616195">(</span><span class="ident" id="1616196">buf</span><span class="op" id="1616199">[</span><span class="op" id="1616200">:</span><span class="op" id="1616201">]</span><span class="op" id="1616202">)</span><br>
<span class="lineno"></span><span class="op" id="1616204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616207">func</span>&nbsp;<span class="ident" id="1616212">printcomplex</span><span class="op" id="1616224">(</span><span class="ident" id="1616225">c</span>&nbsp;<span class="builtintype" id="1616227">complex128</span><span class="op" id="1616237">)</span>&nbsp;<span class="op" id="1616239">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1616242">print</span><span class="op" id="1616247">(</span><span class="string" id="1616248">&#34;(&#34;</span><span class="op" id="1616251">,</span>&nbsp;<span class="builtinfunc" id="1616253">real</span><span class="op" id="1616257">(</span><span class="ident" id="1616258">c</span><span class="op" id="1616259">)</span><span class="op" id="1616260">,</span>&nbsp;<span class="builtinfunc" id="1616262">imag</span><span class="op" id="1616266">(</span><span class="ident" id="1616267">c</span><span class="op" id="1616268">)</span><span class="op" id="1616269">,</span>&nbsp;<span class="string" id="1616271">&#34;i)&#34;</span><span class="op" id="1616275">)</span><br>
<span class="lineno"></span><span class="op" id="1616277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616280">func</span>&nbsp;<span class="ident" id="1616285">printuint</span><span class="op" id="1616294">(</span><span class="ident" id="1616295">v</span>&nbsp;<span class="ident" id="1616297">uint64</span><span class="op" id="1616303">)</span>&nbsp;<span class="op" id="1616305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616308">var</span>&nbsp;<span class="ident" id="1616312">buf</span>&nbsp;<span class="op" id="1616316">[</span><span class="num" id="1616317">100</span><span class="op" id="1616320">]</span><span class="builtintype" id="1616321">byte</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616327">i</span>&nbsp;<span class="op" id="1616329">:=</span>&nbsp;<span class="builtinfunc" id="1616332">len</span><span class="op" id="1616335">(</span><span class="ident" id="1616336">buf</span><span class="op" id="1616339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616342">for</span>&nbsp;<span class="ident" id="1616346">i</span><span class="op" id="1616347">--</span><span class="op" id="1616349">;</span>&nbsp;<span class="ident" id="1616351">i</span>&nbsp;<span class="op" id="1616353">&gt;</span>&nbsp;<span class="num" id="1616355">0</span><span class="op" id="1616356">;</span>&nbsp;<span class="ident" id="1616358">i</span><span class="op" id="1616359">--</span>&nbsp;<span class="op" id="1616362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616366">buf</span><span class="op" id="1616369">[</span><span class="ident" id="1616370">i</span><span class="op" id="1616371">]</span>&nbsp;<span class="op" id="1616373">=</span>&nbsp;<span class="builtintype" id="1616375">byte</span><span class="op" id="1616379">(</span><span class="ident" id="1616380">v</span><span class="op" id="1616381">%</span><span class="num" id="1616382">10</span>&nbsp;<span class="op" id="1616385">+</span>&nbsp;<span class="string" id="1616387">&#39;0&#39;</span><span class="op" id="1616390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616394">if</span>&nbsp;<span class="ident" id="1616397">v</span>&nbsp;<span class="op" id="1616399">&lt;</span>&nbsp;<span class="num" id="1616401">10</span>&nbsp;<span class="op" id="1616404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616409">break</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616421">v</span>&nbsp;<span class="op" id="1616423">/=</span>&nbsp;<span class="num" id="1616426">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616433">gwrite</span><span class="op" id="1616439">(</span><span class="ident" id="1616440">buf</span><span class="op" id="1616443">[</span><span class="ident" id="1616444">i</span><span class="op" id="1616445">:</span><span class="op" id="1616446">]</span><span class="op" id="1616447">)</span><br>
<span class="lineno"></span><span class="op" id="1616449">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1616452">func</span>&nbsp;<span class="ident" id="1616457">printint</span><span class="op" id="1616465">(</span><span class="ident" id="1616466">v</span>&nbsp;<span class="ident" id="1616468">int64</span><span class="op" id="1616473">)</span>&nbsp;<span class="op" id="1616475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616478">if</span>&nbsp;<span class="ident" id="1616481">v</span>&nbsp;<span class="op" id="1616483">&lt;</span>&nbsp;<span class="num" id="1616485">0</span>&nbsp;<span class="op" id="1616487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1616491">print</span><span class="op" id="1616496">(</span><span class="string" id="1616497">&#34;-&#34;</span><span class="op" id="1616500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616504">v</span>&nbsp;<span class="op" id="1616506">=</span>&nbsp;<span class="op" id="1616508">-</span><span class="ident" id="1616509">v</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616515">printuint</span><span class="op" id="1616524">(</span><span class="ident" id="1616525">uint64</span><span class="op" id="1616531">(</span><span class="ident" id="1616532">v</span><span class="op" id="1616533">)</span><span class="op" id="1616534">)</span><br>
<span class="lineno"></span><span class="op" id="1616536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616539">func</span>&nbsp;<span class="ident" id="1616544">printhex</span><span class="op" id="1616552">(</span><span class="ident" id="1616553">v</span>&nbsp;<span class="ident" id="1616555">uint64</span><span class="op" id="1616561">)</span>&nbsp;<span class="op" id="1616563">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616566">const</span>&nbsp;<span class="ident" id="1616572">dig</span>&nbsp;<span class="op" id="1616576">=</span>&nbsp;<span class="string" id="1616578">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616598">var</span>&nbsp;<span class="ident" id="1616602">buf</span>&nbsp;<span class="op" id="1616606">[</span><span class="num" id="1616607">100</span><span class="op" id="1616610">]</span><span class="builtintype" id="1616611">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616617">i</span>&nbsp;<span class="op" id="1616619">:=</span>&nbsp;<span class="builtinfunc" id="1616622">len</span><span class="op" id="1616625">(</span><span class="ident" id="1616626">buf</span><span class="op" id="1616629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616632">for</span>&nbsp;<span class="ident" id="1616636">i</span><span class="op" id="1616637">--</span><span class="op" id="1616639">;</span>&nbsp;<span class="ident" id="1616641">i</span>&nbsp;<span class="op" id="1616643">&gt;</span>&nbsp;<span class="num" id="1616645">0</span><span class="op" id="1616646">;</span>&nbsp;<span class="ident" id="1616648">i</span><span class="op" id="1616649">--</span>&nbsp;<span class="op" id="1616652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616656">buf</span><span class="op" id="1616659">[</span><span class="ident" id="1616660">i</span><span class="op" id="1616661">]</span>&nbsp;<span class="op" id="1616663">=</span>&nbsp;<span class="ident" id="1616665">dig</span><span class="op" id="1616668">[</span><span class="ident" id="1616669">v</span><span class="op" id="1616670">%</span><span class="num" id="1616671">16</span><span class="op" id="1616673">]</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616677">if</span>&nbsp;<span class="ident" id="1616680">v</span>&nbsp;<span class="op" id="1616682">&lt;</span>&nbsp;<span class="num" id="1616684">16</span>&nbsp;<span class="op" id="1616687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616692">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616704">v</span>&nbsp;<span class="op" id="1616706">/=</span>&nbsp;<span class="num" id="1616709">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616713">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616716">i</span><span class="op" id="1616717">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616721">buf</span><span class="op" id="1616724">[</span><span class="ident" id="1616725">i</span><span class="op" id="1616726">]</span>&nbsp;<span class="op" id="1616728">=</span>&nbsp;<span class="string" id="1616730">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616735">i</span><span class="op" id="1616736">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616740">buf</span><span class="op" id="1616743">[</span><span class="ident" id="1616744">i</span><span class="op" id="1616745">]</span>&nbsp;<span class="op" id="1616747">=</span>&nbsp;<span class="string" id="1616749">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616754">gwrite</span><span class="op" id="1616760">(</span><span class="ident" id="1616761">buf</span><span class="op" id="1616764">[</span><span class="ident" id="1616765">i</span><span class="op" id="1616766">:</span><span class="op" id="1616767">]</span><span class="op" id="1616768">)</span><br>
<span class="lineno">295</span><span class="op" id="1616770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616773">func</span>&nbsp;<span class="ident" id="1616778">printpointer</span><span class="op" id="1616790">(</span><span class="ident" id="1616791">p</span>&nbsp;<span class="ident" id="1616793">unsafe</span><span class="op" id="1616799">.</span><span class="ident" id="1616800">Pointer</span><span class="op" id="1616807">)</span>&nbsp;<span class="op" id="1616809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616812">printhex</span><span class="op" id="1616820">(</span><span class="ident" id="1616821">uint64</span><span class="op" id="1616827">(</span><span class="builtintype" id="1616828">uintptr</span><span class="op" id="1616835">(</span><span class="ident" id="1616836">p</span><span class="op" id="1616837">)</span><span class="op" id="1616838">)</span><span class="op" id="1616839">)</span><br>
<span class="lineno"></span><span class="op" id="1616841">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="keyword" id="1616844">func</span>&nbsp;<span class="ident" id="1616849">printstring</span><span class="op" id="1616860">(</span><span class="ident" id="1616861">s</span>&nbsp;<span class="builtintype" id="1616863">string</span><span class="op" id="1616869">)</span>&nbsp;<span class="op" id="1616871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616874">if</span>&nbsp;<span class="builtintype" id="1616877">uintptr</span><span class="op" id="1616884">(</span><span class="builtinfunc" id="1616885">len</span><span class="op" id="1616888">(</span><span class="ident" id="1616889">s</span><span class="op" id="1616890">)</span><span class="op" id="1616891">)</span>&nbsp;<span class="op" id="1616893">&gt;</span>&nbsp;<span class="ident" id="1616895">maxstring</span>&nbsp;<span class="op" id="1616905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616909">gwrite</span><span class="op" id="1616915">(</span><span class="ident" id="1616916">bytes</span><span class="op" id="1616921">(</span><span class="string" id="1616922">&#34;[string&nbsp;too&nbsp;long]&#34;</span><span class="op" id="1616941">)</span><span class="op" id="1616942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1616946">return</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1616954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1616957">gwrite</span><span class="op" id="1616963">(</span><span class="ident" id="1616964">bytes</span><span class="op" id="1616969">(</span><span class="ident" id="1616970">s</span><span class="op" id="1616971">)</span><span class="op" id="1616972">)</span><br>
<span class="lineno"></span><span class="op" id="1616974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1616977">func</span>&nbsp;<span class="ident" id="1616982">printslice</span><span class="op" id="1616992">(</span><span class="ident" id="1616993">s</span>&nbsp;<span class="op" id="1616995">[</span><span class="op" id="1616996">]</span><span class="builtintype" id="1616997">byte</span><span class="op" id="1617001">)</span>&nbsp;<span class="op" id="1617003">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617006">sp</span>&nbsp;<span class="op" id="1617009">:=</span>&nbsp;<span class="op" id="1617012">(</span><span class="op" id="1617013">*</span><span class="ident" id="1617014">slice</span><span class="op" id="1617019">)</span><span class="op" id="1617020">(</span><span class="ident" id="1617021">unsafe</span><span class="op" id="1617027">.</span><span class="ident" id="1617028">Pointer</span><span class="op" id="1617035">(</span><span class="op" id="1617036">&amp;</span><span class="ident" id="1617037">s</span><span class="op" id="1617038">)</span><span class="op" id="1617039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1617042">print</span><span class="op" id="1617047">(</span><span class="string" id="1617048">&#34;[&#34;</span><span class="op" id="1617051">,</span>&nbsp;<span class="builtinfunc" id="1617053">len</span><span class="op" id="1617056">(</span><span class="ident" id="1617057">s</span><span class="op" id="1617058">)</span><span class="op" id="1617059">,</span>&nbsp;<span class="string" id="1617061">&#34;/&#34;</span><span class="op" id="1617064">,</span>&nbsp;<span class="builtinfunc" id="1617066">cap</span><span class="op" id="1617069">(</span><span class="ident" id="1617070">s</span><span class="op" id="1617071">)</span><span class="op" id="1617072">,</span>&nbsp;<span class="string" id="1617074">&#34;]&#34;</span><span class="op" id="1617077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617080">printpointer</span><span class="op" id="1617092">(</span><span class="ident" id="1617093">unsafe</span><span class="op" id="1617099">.</span><span class="ident" id="1617100">Pointer</span><span class="op" id="1617107">(</span><span class="ident" id="1617108">sp</span><span class="op" id="1617110">.</span><span class="ident" id="1617111">array</span><span class="op" id="1617116">)</span><span class="op" id="1617117">)</span><br>
<span class="lineno"></span><span class="op" id="1617119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1617122">func</span>&nbsp;<span class="ident" id="1617127">printeface</span><span class="op" id="1617137">(</span><span class="ident" id="1617138">e</span>&nbsp;<span class="keyword" id="1617140">interface</span><span class="op" id="1617149">{</span><span class="op" id="1617150">}</span><span class="op" id="1617151">)</span>&nbsp;<span class="op" id="1617153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617156">ep</span>&nbsp;<span class="op" id="1617159">:=</span>&nbsp;<span class="op" id="1617162">(</span><span class="op" id="1617163">*</span><span class="ident" id="1617164">eface</span><span class="op" id="1617169">)</span><span class="op" id="1617170">(</span><span class="ident" id="1617171">unsafe</span><span class="op" id="1617177">.</span><span class="ident" id="1617178">Pointer</span><span class="op" id="1617185">(</span><span class="op" id="1617186">&amp;</span><span class="ident" id="1617187">e</span><span class="op" id="1617188">)</span><span class="op" id="1617189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1617192">print</span><span class="op" id="1617197">(</span><span class="string" id="1617198">&#34;(&#34;</span><span class="op" id="1617201">,</span>&nbsp;<span class="ident" id="1617203">ep</span><span class="op" id="1617205">.</span><span class="ident" id="1617206">_type</span><span class="op" id="1617211">,</span>&nbsp;<span class="string" id="1617213">&#34;,&#34;</span><span class="op" id="1617216">,</span>&nbsp;<span class="ident" id="1617218">ep</span><span class="op" id="1617220">.</span><span class="ident" id="1617221">data</span><span class="op" id="1617225">,</span>&nbsp;<span class="string" id="1617227">&#34;)&#34;</span><span class="op" id="1617230">)</span><br>
<span class="lineno"></span><span class="op" id="1617232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1617235">func</span>&nbsp;<span class="ident" id="1617240">printiface</span><span class="op" id="1617250">(</span><span class="ident" id="1617251">i</span>&nbsp;<span class="ident" id="1617253">fInterface</span><span class="op" id="1617263">)</span>&nbsp;<span class="op" id="1617265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1617268">ip</span>&nbsp;<span class="op" id="1617271">:=</span>&nbsp;<span class="op" id="1617274">(</span><span class="op" id="1617275">*</span><span class="ident" id="1617276">iface</span><span class="op" id="1617281">)</span><span class="op" id="1617282">(</span><span class="ident" id="1617283">unsafe</span><span class="op" id="1617289">.</span><span class="ident" id="1617290">Pointer</span><span class="op" id="1617297">(</span><span class="op" id="1617298">&amp;</span><span class="ident" id="1617299">i</span><span class="op" id="1617300">)</span><span class="op" id="1617301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1617304">print</span><span class="op" id="1617309">(</span><span class="string" id="1617310">&#34;(&#34;</span><span class="op" id="1617313">,</span>&nbsp;<span class="ident" id="1617315">ip</span><span class="op" id="1617317">.</span><span class="ident" id="1617318">tab</span><span class="op" id="1617321">,</span>&nbsp;<span class="string" id="1617323">&#34;,&#34;</span><span class="op" id="1617326">,</span>&nbsp;<span class="ident" id="1617328">ip</span><span class="op" id="1617330">.</span><span class="ident" id="1617331">data</span><span class="op" id="1617335">,</span>&nbsp;<span class="string" id="1617337">&#34;)&#34;</span><span class="op" id="1617340">)</span><br>
<span class="lineno"></span><span class="op" id="1617342">}</span>
</div>
</body>
</html>
