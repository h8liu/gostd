<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4532405">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4532460">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4532514">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4532565">//&nbsp;The&nbsp;wire&nbsp;protocol&nbsp;for&nbsp;HTTP&#39;s&nbsp;&#34;chunked&#34;&nbsp;Transfer-Encoding.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4532627">//&nbsp;Package&nbsp;internal&nbsp;contains&nbsp;HTTP&nbsp;internals&nbsp;shared&nbsp;by&nbsp;net/http&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4532694">//&nbsp;net/http/httputil.</span><br>
<span class="lineno"></span><span class="keyword" id="4532716">package</span>&nbsp;<span class="ident" id="4532724">internal</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="4532734">import</span>&nbsp;<span class="op" id="4532741">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4532744">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4532753">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4532762">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4532772">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4532779">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4532784">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4532787">const</span>&nbsp;<span class="ident" id="4532793">maxLineLength</span>&nbsp;<span class="op" id="4532807">=</span>&nbsp;<span class="num" id="4532809">4096</span>&nbsp;<span class="comment" id="4532814">//&nbsp;assumed&nbsp;&lt;=&nbsp;bufio.defaultBufSize</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="4532850">var</span>&nbsp;<span class="ident" id="4532854">ErrLineTooLong</span>&nbsp;<span class="op" id="4532869">=</span>&nbsp;<span class="ident" id="4532871"><a href="/net/http/internal/chunked.go.html#4532762">errors</a></span><span class="op" id="4532877">.</span><span class="ident" id="4532878">New</span><span class="op" id="4532881">(</span><span class="string" id="4532882">&#34;header&nbsp;line&nbsp;too&nbsp;long&#34;</span><span class="op" id="4532904">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4532907">//&nbsp;NewChunkedReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;chunkedReader&nbsp;that&nbsp;translates&nbsp;the&nbsp;data&nbsp;read&nbsp;from&nbsp;r</span><br>
<span class="lineno"></span><span class="comment" id="4532992">//&nbsp;out&nbsp;of&nbsp;HTTP&nbsp;&#34;chunked&#34;&nbsp;format&nbsp;before&nbsp;returning&nbsp;it.</span><br>
<span class="lineno">25</span><span class="comment" id="4533045">//&nbsp;The&nbsp;chunkedReader&nbsp;returns&nbsp;io.EOF&nbsp;when&nbsp;the&nbsp;final&nbsp;0-length&nbsp;chunk&nbsp;is&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="4533120">//</span><br>
<span class="lineno"></span><span class="comment" id="4533123">//&nbsp;NewChunkedReader&nbsp;is&nbsp;not&nbsp;needed&nbsp;by&nbsp;normal&nbsp;applications.&nbsp;The&nbsp;http&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="4533198">//&nbsp;automatically&nbsp;decodes&nbsp;chunking&nbsp;when&nbsp;reading&nbsp;response&nbsp;bodies.</span><br>
<span class="lineno"></span><span class="keyword" id="4533262">func</span>&nbsp;<span class="ident" id="4533267">NewChunkedReader</span><span class="op" id="4533283">(</span><span class="ident" id="4533284">r</span>&nbsp;<span class="ident" id="4533286"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4533288">.</span><span class="ident" id="4533289">Reader</span><span class="op" id="4533295">)</span>&nbsp;<span class="ident" id="4533297"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4533299">.</span><span class="ident" id="4533300">Reader</span>&nbsp;<span class="op" id="4533307">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533310">br</span><span class="op" id="4533312">,</span>&nbsp;<span class="ident" id="4533314">ok</span>&nbsp;<span class="op" id="4533317">:=</span>&nbsp;<span class="ident" id="4533320"><a href="/net/http/internal/chunked.go.html#4533284">r</a></span><span class="op" id="4533321">.</span><span class="op" id="4533322">(</span><span class="op" id="4533323">*</span><span class="ident" id="4533324"><a href="/net/http/internal/chunked.go.html#4532744">bufio</a></span><span class="op" id="4533329">.</span><span class="ident" id="4533330">Reader</span><span class="op" id="4533336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533339">if</span>&nbsp;<span class="op" id="4533342">!</span><span class="ident" id="4533343"><a href="/net/http/internal/chunked.go.html#4533314">ok</a></span>&nbsp;<span class="op" id="4533346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533350"><a href="/net/http/internal/chunked.go.html#4533310">br</a></span>&nbsp;<span class="op" id="4533353">=</span>&nbsp;<span class="ident" id="4533355"><a href="/net/http/internal/chunked.go.html#4532744">bufio</a></span><span class="op" id="4533360">.</span><span class="ident" id="4533361">NewReader</span><span class="op" id="4533370">(</span><span class="ident" id="4533371"><a href="/net/http/internal/chunked.go.html#4533284">r</a></span><span class="op" id="4533372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4533375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533378">return</span>&nbsp;<span class="op" id="4533385">&amp;</span><span class="ident" id="4533386"><a href="/net/http/internal/chunked.go.html#4533415">chunkedReader</a></span><span class="op" id="4533399">{</span><span class="ident" id="4533400">r</span><span class="op" id="4533401">:</span>&nbsp;<span class="ident" id="4533403"><a href="/net/http/internal/chunked.go.html#4533310">br</a></span><span class="op" id="4533405">}</span><br>
<span class="lineno">35</span><span class="op" id="4533407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4533410">type</span>&nbsp;<span class="ident" id="4533415">chunkedReader</span>&nbsp;<span class="keyword" id="4533429">struct</span>&nbsp;<span class="op" id="4533436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533439">r</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4533443">*</span><span class="ident" id="4533444"><a href="/net/http/internal/chunked.go.html#4532744">bufio</a></span><span class="op" id="4533449">.</span><span class="ident" id="4533450">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533458">n</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4533462">uint64</span>&nbsp;<span class="comment" id="4533469">//&nbsp;unread&nbsp;bytes&nbsp;in&nbsp;chunk</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533495">err</span>&nbsp;<span class="builtintype" id="4533499">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533506">buf</span>&nbsp;<span class="op" id="4533510">[</span><span class="num" id="4533511">2</span><span class="op" id="4533512">]</span><span class="builtintype" id="4533513">byte</span><br>
<span class="lineno"></span><span class="op" id="4533518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4533521">func</span>&nbsp;<span class="op" id="4533526">(</span><span class="ident" id="4533527">cr</span>&nbsp;<span class="op" id="4533530">*</span><span class="ident" id="4533531"><a href="/net/http/internal/chunked.go.html#4533415">chunkedReader</a></span><span class="op" id="4533544">)</span>&nbsp;<span class="ident" id="4533546">beginChunk</span><span class="op" id="4533556">(</span><span class="op" id="4533557">)</span>&nbsp;<span class="op" id="4533559">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4533562">//&nbsp;chunk-size&nbsp;CRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533582">var</span>&nbsp;<span class="ident" id="4533586">line</span>&nbsp;<span class="op" id="4533591">[</span><span class="op" id="4533592">]</span><span class="builtintype" id="4533593">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533599"><a href="/net/http/internal/chunked.go.html#4533586">line</a></span><span class="op" id="4533603">,</span>&nbsp;<span class="ident" id="4533605"><a href="/net/http/internal/chunked.go.html#4533527">cr</a></span><span class="op" id="4533607">.</span><span class="ident" id="4533608">err</span>&nbsp;<span class="op" id="4533612">=</span>&nbsp;<span class="ident" id="4533614"><a href="/net/http/internal/chunked.go.html#4534958">readLine</a></span><span class="op" id="4533622">(</span><span class="ident" id="4533623"><a href="/net/http/internal/chunked.go.html#4533527">cr</a></span><span class="op" id="4533625">.</span><span class="ident" id="4533626">r</span><span class="op" id="4533627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533630">if</span>&nbsp;<span class="ident" id="4533633"><a href="/net/http/internal/chunked.go.html#4533527">cr</a></span><span class="op" id="4533635">.</span><span class="ident" id="4533636">err</span>&nbsp;<span class="op" id="4533640">!=</span>&nbsp;<span class="ident" id="4533643">nil</span>&nbsp;<span class="op" id="4533647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533651">return</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4533659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533662"><a href="/net/http/internal/chunked.go.html#4533527">cr</a></span><span class="op" id="4533664">.</span><span class="ident" id="4533665">n</span><span class="op" id="4533666">,</span>&nbsp;<span class="ident" id="4533668"><a href="/net/http/internal/chunked.go.html#4533527">cr</a></span><span class="op" id="4533670">.</span><span class="ident" id="4533671">err</span>&nbsp;<span class="op" id="4533675">=</span>&nbsp;<span class="ident" id="4533677"><a href="/net/http/internal/chunked.go.html#4537153">parseHexUint</a></span><span class="op" id="4533689">(</span><span class="ident" id="4533690"><a href="/net/http/internal/chunked.go.html#4533586">line</a></span><span class="op" id="4533694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533697">if</span>&nbsp;<span class="ident" id="4533700"><a href="/net/http/internal/chunked.go.html#4533527">cr</a></span><span class="op" id="4533702">.</span><span class="ident" id="4533703">err</span>&nbsp;<span class="op" id="4533707">!=</span>&nbsp;<span class="ident" id="4533710">nil</span>&nbsp;<span class="op" id="4533714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533718">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4533726">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533729">if</span>&nbsp;<span class="ident" id="4533732"><a href="/net/http/internal/chunked.go.html#4533527">cr</a></span><span class="op" id="4533734">.</span><span class="ident" id="4533735">n</span>&nbsp;<span class="op" id="4533737">==</span>&nbsp;<span class="num" id="4533740">0</span>&nbsp;<span class="op" id="4533742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533746"><a href="/net/http/internal/chunked.go.html#4533527">cr</a></span><span class="op" id="4533748">.</span><span class="ident" id="4533749">err</span>&nbsp;<span class="op" id="4533753">=</span>&nbsp;<span class="ident" id="4533755"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4533757">.</span><span class="ident" id="4533758">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4533763">}</span><br>
<span class="lineno"></span><span class="op" id="4533765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4533768">func</span>&nbsp;<span class="op" id="4533773">(</span><span class="ident" id="4533774">cr</span>&nbsp;<span class="op" id="4533777">*</span><span class="ident" id="4533778"><a href="/net/http/internal/chunked.go.html#4533415">chunkedReader</a></span><span class="op" id="4533791">)</span>&nbsp;<span class="ident" id="4533793">chunkHeaderAvailable</span><span class="op" id="4533813">(</span><span class="op" id="4533814">)</span>&nbsp;<span class="builtintype" id="4533816">bool</span>&nbsp;<span class="op" id="4533821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533824">n</span>&nbsp;<span class="op" id="4533826">:=</span>&nbsp;<span class="ident" id="4533829"><a href="/net/http/internal/chunked.go.html#4533774">cr</a></span><span class="op" id="4533831">.</span><span class="ident" id="4533832">r</span><span class="op" id="4533833">.</span><span class="ident" id="4533834">Buffered</span><span class="op" id="4533842">(</span><span class="op" id="4533843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533846">if</span>&nbsp;<span class="ident" id="4533849"><a href="/net/http/internal/chunked.go.html#4533824">n</a></span>&nbsp;<span class="op" id="4533851">&gt;</span>&nbsp;<span class="num" id="4533853">0</span>&nbsp;<span class="op" id="4533855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4533859">peek</span><span class="op" id="4533863">,</span>&nbsp;<span class="ident" id="4533865">_</span>&nbsp;<span class="op" id="4533867">:=</span>&nbsp;<span class="ident" id="4533870"><a href="/net/http/internal/chunked.go.html#4533774">cr</a></span><span class="op" id="4533872">.</span><span class="ident" id="4533873">r</span><span class="op" id="4533874">.</span><span class="ident" id="4533875">Peek</span><span class="op" id="4533879">(</span><span class="ident" id="4533880"><a href="/net/http/internal/chunked.go.html#4533824">n</a></span><span class="op" id="4533881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533885">return</span>&nbsp;<span class="ident" id="4533892"><a href="/net/http/internal/chunked.go.html#4532753">bytes</a></span><span class="op" id="4533897">.</span><span class="ident" id="4533898">IndexByte</span><span class="op" id="4533907">(</span><span class="ident" id="4533908"><a href="/net/http/internal/chunked.go.html#4533859">peek</a></span><span class="op" id="4533912">,</span>&nbsp;<span class="string" id="4533914">&#39;\n&#39;</span><span class="op" id="4533918">)</span>&nbsp;<span class="op" id="4533920">&gt;=</span>&nbsp;<span class="num" id="4533923">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4533926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4533929">return</span>&nbsp;<span class="ident" id="4533936">false</span><br>
<span class="lineno"></span><span class="op" id="4533942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4533945">func</span>&nbsp;<span class="op" id="4533950">(</span><span class="ident" id="4533951">cr</span>&nbsp;<span class="op" id="4533954">*</span><span class="ident" id="4533955"><a href="/net/http/internal/chunked.go.html#4533415">chunkedReader</a></span><span class="op" id="4533968">)</span>&nbsp;<span class="ident" id="4533970">Read</span><span class="op" id="4533974">(</span><span class="ident" id="4533975">b</span>&nbsp;<span class="op" id="4533977">[</span><span class="op" id="4533978">]</span><span class="builtintype" id="4533979">uint8</span><span class="op" id="4533984">)</span>&nbsp;<span class="op" id="4533986">(</span><span class="ident" id="4533987">n</span>&nbsp;<span class="builtintype" id="4533989">int</span><span class="op" id="4533992">,</span>&nbsp;<span class="ident" id="4533994">err</span>&nbsp;<span class="builtintype" id="4533998">error</span><span class="op" id="4534003">)</span>&nbsp;<span class="op" id="4534005">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534008">for</span>&nbsp;<span class="ident" id="4534012"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534014">.</span><span class="ident" id="4534015">err</span>&nbsp;<span class="op" id="4534019">==</span>&nbsp;<span class="ident" id="4534022">nil</span>&nbsp;<span class="op" id="4534026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534030">if</span>&nbsp;<span class="ident" id="4534033"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534035">.</span><span class="ident" id="4534036">n</span>&nbsp;<span class="op" id="4534038">==</span>&nbsp;<span class="num" id="4534041">0</span>&nbsp;<span class="op" id="4534043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534048">if</span>&nbsp;<span class="ident" id="4534051"><a href="/net/http/internal/chunked.go.html#4533987">n</a></span>&nbsp;<span class="op" id="4534053">&gt;</span>&nbsp;<span class="num" id="4534055">0</span>&nbsp;<span class="op" id="4534057">&amp;&amp;</span>&nbsp;<span class="op" id="4534060">!</span><span class="ident" id="4534061"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534063">.</span><span class="ident" id="4534064">chunkHeaderAvailable</span><span class="op" id="4534084">(</span><span class="op" id="4534085">)</span>&nbsp;<span class="op" id="4534087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4534093">//&nbsp;We&#39;ve&nbsp;read&nbsp;enough.&nbsp;Don&#39;t&nbsp;potentially&nbsp;block</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4534143">//&nbsp;reading&nbsp;a&nbsp;new&nbsp;chunk&nbsp;header.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534178">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4534187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4534192"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534194">.</span><span class="ident" id="4534195">beginChunk</span><span class="op" id="4534205">(</span><span class="op" id="4534206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534211">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4534222">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534226">if</span>&nbsp;<span class="builtinfunc" id="4534229">len</span><span class="op" id="4534232">(</span><span class="ident" id="4534233"><a href="/net/http/internal/chunked.go.html#4533975">b</a></span><span class="op" id="4534234">)</span>&nbsp;<span class="op" id="4534236">==</span>&nbsp;<span class="num" id="4534239">0</span>&nbsp;<span class="op" id="4534241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534246">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4534254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4534258">rbuf</span>&nbsp;<span class="op" id="4534263">:=</span>&nbsp;<span class="ident" id="4534266"><a href="/net/http/internal/chunked.go.html#4533975">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534270">if</span>&nbsp;<span class="ident" id="4534273">uint64</span><span class="op" id="4534279">(</span><span class="builtinfunc" id="4534280">len</span><span class="op" id="4534283">(</span><span class="ident" id="4534284"><a href="/net/http/internal/chunked.go.html#4534258">rbuf</a></span><span class="op" id="4534288">)</span><span class="op" id="4534289">)</span>&nbsp;<span class="op" id="4534291">&gt;</span>&nbsp;<span class="ident" id="4534293"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534295">.</span><span class="ident" id="4534296">n</span>&nbsp;<span class="op" id="4534298">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4534303"><a href="/net/http/internal/chunked.go.html#4534258">rbuf</a></span>&nbsp;<span class="op" id="4534308">=</span>&nbsp;<span class="ident" id="4534310"><a href="/net/http/internal/chunked.go.html#4534258">rbuf</a></span><span class="op" id="4534314">[</span><span class="op" id="4534315">:</span><span class="ident" id="4534316"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534318">.</span><span class="ident" id="4534319">n</span><span class="op" id="4534320">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4534324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534328">var</span>&nbsp;<span class="ident" id="4534332">n0</span>&nbsp;<span class="builtintype" id="4534335">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4534341"><a href="/net/http/internal/chunked.go.html#4534332">n0</a></span><span class="op" id="4534343">,</span>&nbsp;<span class="ident" id="4534345"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534347">.</span><span class="ident" id="4534348">err</span>&nbsp;<span class="op" id="4534352">=</span>&nbsp;<span class="ident" id="4534354"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534356">.</span><span class="ident" id="4534357">r</span><span class="op" id="4534358">.</span><span class="ident" id="4534359">Read</span><span class="op" id="4534363">(</span><span class="ident" id="4534364"><a href="/net/http/internal/chunked.go.html#4534258">rbuf</a></span><span class="op" id="4534368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4534372"><a href="/net/http/internal/chunked.go.html#4533987">n</a></span>&nbsp;<span class="op" id="4534374">+=</span>&nbsp;<span class="ident" id="4534377"><a href="/net/http/internal/chunked.go.html#4534332">n0</a></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4534382"><a href="/net/http/internal/chunked.go.html#4533975">b</a></span>&nbsp;<span class="op" id="4534384">=</span>&nbsp;<span class="ident" id="4534386"><a href="/net/http/internal/chunked.go.html#4533975">b</a></span><span class="op" id="4534387">[</span><span class="ident" id="4534388"><a href="/net/http/internal/chunked.go.html#4534332">n0</a></span><span class="op" id="4534390">:</span><span class="op" id="4534391">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4534395"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534397">.</span><span class="ident" id="4534398">n</span>&nbsp;<span class="op" id="4534400">-=</span>&nbsp;<span class="ident" id="4534403">uint64</span><span class="op" id="4534409">(</span><span class="ident" id="4534410"><a href="/net/http/internal/chunked.go.html#4534332">n0</a></span><span class="op" id="4534412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4534416">//&nbsp;If&nbsp;we&#39;re&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;chunk,&nbsp;read&nbsp;the&nbsp;next&nbsp;two</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4534471">//&nbsp;bytes&nbsp;to&nbsp;verify&nbsp;they&nbsp;are&nbsp;&#34;\r\n&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534509">if</span>&nbsp;<span class="ident" id="4534512"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534514">.</span><span class="ident" id="4534515">n</span>&nbsp;<span class="op" id="4534517">==</span>&nbsp;<span class="num" id="4534520">0</span>&nbsp;<span class="op" id="4534522">&amp;&amp;</span>&nbsp;<span class="ident" id="4534525"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534527">.</span><span class="ident" id="4534528">err</span>&nbsp;<span class="op" id="4534532">==</span>&nbsp;<span class="ident" id="4534535">nil</span>&nbsp;<span class="op" id="4534539">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534544">if</span>&nbsp;<span class="ident" id="4534547">_</span><span class="op" id="4534548">,</span>&nbsp;<span class="ident" id="4534550"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534552">.</span><span class="ident" id="4534553">err</span>&nbsp;<span class="op" id="4534557">=</span>&nbsp;<span class="ident" id="4534559"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4534561">.</span><span class="ident" id="4534562">ReadFull</span><span class="op" id="4534570">(</span><span class="ident" id="4534571"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534573">.</span><span class="ident" id="4534574">r</span><span class="op" id="4534575">,</span>&nbsp;<span class="ident" id="4534577"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534579">.</span><span class="ident" id="4534580">buf</span><span class="op" id="4534583">[</span><span class="op" id="4534584">:</span><span class="num" id="4534585">2</span><span class="op" id="4534586">]</span><span class="op" id="4534587">)</span><span class="op" id="4534588">;</span>&nbsp;<span class="ident" id="4534590"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534592">.</span><span class="ident" id="4534593">err</span>&nbsp;<span class="op" id="4534597">==</span>&nbsp;<span class="ident" id="4534600">nil</span>&nbsp;<span class="op" id="4534604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534610">if</span>&nbsp;<span class="ident" id="4534613"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534615">.</span><span class="ident" id="4534616">buf</span><span class="op" id="4534619">[</span><span class="num" id="4534620">0</span><span class="op" id="4534621">]</span>&nbsp;<span class="op" id="4534623">!=</span>&nbsp;<span class="string" id="4534626">&#39;\r&#39;</span>&nbsp;<span class="op" id="4534631">||</span>&nbsp;<span class="ident" id="4534634"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534636">.</span><span class="ident" id="4534637">buf</span><span class="op" id="4534640">[</span><span class="num" id="4534641">1</span><span class="op" id="4534642">]</span>&nbsp;<span class="op" id="4534644">!=</span>&nbsp;<span class="string" id="4534647">&#39;\n&#39;</span>&nbsp;<span class="op" id="4534652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4534659"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534661">.</span><span class="ident" id="4534662">err</span>&nbsp;<span class="op" id="4534666">=</span>&nbsp;<span class="ident" id="4534668"><a href="/net/http/internal/chunked.go.html#4532762">errors</a></span><span class="op" id="4534674">.</span><span class="ident" id="4534675">New</span><span class="op" id="4534678">(</span><span class="string" id="4534679">&#34;malformed&nbsp;chunked&nbsp;encoding&#34;</span><span class="op" id="4534707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4534713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4534718">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4534722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4534725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4534728">return</span>&nbsp;<span class="ident" id="4534735"><a href="/net/http/internal/chunked.go.html#4533987">n</a></span><span class="op" id="4534736">,</span>&nbsp;<span class="ident" id="4534738"><a href="/net/http/internal/chunked.go.html#4533951">cr</a></span><span class="op" id="4534740">.</span><span class="ident" id="4534741">err</span><br>
<span class="lineno"></span><span class="op" id="4534745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4534748">//&nbsp;Read&nbsp;a&nbsp;line&nbsp;of&nbsp;bytes&nbsp;(up&nbsp;to&nbsp;\n)&nbsp;from&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="4534791">//&nbsp;Give&nbsp;up&nbsp;if&nbsp;the&nbsp;line&nbsp;exceeds&nbsp;maxLineLength.</span><br>
<span class="lineno"></span><span class="comment" id="4534837">//&nbsp;The&nbsp;returned&nbsp;bytes&nbsp;are&nbsp;a&nbsp;pointer&nbsp;into&nbsp;storage&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="4534889">//&nbsp;the&nbsp;bufio,&nbsp;so&nbsp;they&nbsp;are&nbsp;only&nbsp;valid&nbsp;until&nbsp;the&nbsp;next&nbsp;bufio&nbsp;read.</span><br>
<span class="lineno"></span><span class="keyword" id="4534953">func</span>&nbsp;<span class="ident" id="4534958">readLine</span><span class="op" id="4534966">(</span><span class="ident" id="4534967">b</span>&nbsp;<span class="op" id="4534969">*</span><span class="ident" id="4534970"><a href="/net/http/internal/chunked.go.html#4532744">bufio</a></span><span class="op" id="4534975">.</span><span class="ident" id="4534976">Reader</span><span class="op" id="4534982">)</span>&nbsp;<span class="op" id="4534984">(</span><span class="ident" id="4534985">p</span>&nbsp;<span class="op" id="4534987">[</span><span class="op" id="4534988">]</span><span class="builtintype" id="4534989">byte</span><span class="op" id="4534993">,</span>&nbsp;<span class="ident" id="4534995">err</span>&nbsp;<span class="builtintype" id="4534999">error</span><span class="op" id="4535004">)</span>&nbsp;<span class="op" id="4535006">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535009">if</span>&nbsp;<span class="ident" id="4535012"><a href="/net/http/internal/chunked.go.html#4534985">p</a></span><span class="op" id="4535013">,</span>&nbsp;<span class="ident" id="4535015"><a href="/net/http/internal/chunked.go.html#4534995">err</a></span>&nbsp;<span class="op" id="4535019">=</span>&nbsp;<span class="ident" id="4535021"><a href="/net/http/internal/chunked.go.html#4534967">b</a></span><span class="op" id="4535022">.</span><span class="ident" id="4535023">ReadSlice</span><span class="op" id="4535032">(</span><span class="string" id="4535033">&#39;\n&#39;</span><span class="op" id="4535037">)</span><span class="op" id="4535038">;</span>&nbsp;<span class="ident" id="4535040"><a href="/net/http/internal/chunked.go.html#4534995">err</a></span>&nbsp;<span class="op" id="4535044">!=</span>&nbsp;<span class="ident" id="4535047">nil</span>&nbsp;<span class="op" id="4535051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4535055">//&nbsp;We&nbsp;always&nbsp;know&nbsp;when&nbsp;EOF&nbsp;is&nbsp;coming.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4535095">//&nbsp;If&nbsp;the&nbsp;caller&nbsp;asked&nbsp;for&nbsp;a&nbsp;line,&nbsp;there&nbsp;should&nbsp;be&nbsp;a&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535156">if</span>&nbsp;<span class="ident" id="4535159"><a href="/net/http/internal/chunked.go.html#4534995">err</a></span>&nbsp;<span class="op" id="4535163">==</span>&nbsp;<span class="ident" id="4535166"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4535168">.</span><span class="ident" id="4535169">EOF</span>&nbsp;<span class="op" id="4535173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4535178"><a href="/net/http/internal/chunked.go.html#4534995">err</a></span>&nbsp;<span class="op" id="4535182">=</span>&nbsp;<span class="ident" id="4535184"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4535186">.</span><span class="ident" id="4535187">ErrUnexpectedEOF</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4535206">}</span>&nbsp;<span class="keyword" id="4535208">else</span>&nbsp;<span class="keyword" id="4535213">if</span>&nbsp;<span class="ident" id="4535216"><a href="/net/http/internal/chunked.go.html#4534995">err</a></span>&nbsp;<span class="op" id="4535220">==</span>&nbsp;<span class="ident" id="4535223"><a href="/net/http/internal/chunked.go.html#4532744">bufio</a></span><span class="op" id="4535228">.</span><span class="ident" id="4535229">ErrBufferFull</span>&nbsp;<span class="op" id="4535243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4535248"><a href="/net/http/internal/chunked.go.html#4534995">err</a></span>&nbsp;<span class="op" id="4535252">=</span>&nbsp;<span class="ident" id="4535254"><a href="/net/http/internal/chunked.go.html#4532854">ErrLineTooLong</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4535271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535275">return</span>&nbsp;<span class="ident" id="4535282">nil</span><span class="op" id="4535285">,</span>&nbsp;<span class="ident" id="4535287"><a href="/net/http/internal/chunked.go.html#4534995">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4535292">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535295">if</span>&nbsp;<span class="builtinfunc" id="4535298">len</span><span class="op" id="4535301">(</span><span class="ident" id="4535302"><a href="/net/http/internal/chunked.go.html#4534985">p</a></span><span class="op" id="4535303">)</span>&nbsp;<span class="op" id="4535305">&gt;=</span>&nbsp;<span class="ident" id="4535308"><a href="/net/http/internal/chunked.go.html#4532793">maxLineLength</a></span>&nbsp;<span class="op" id="4535322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535326">return</span>&nbsp;<span class="ident" id="4535333">nil</span><span class="op" id="4535336">,</span>&nbsp;<span class="ident" id="4535338"><a href="/net/http/internal/chunked.go.html#4532854">ErrLineTooLong</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4535354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535357">return</span>&nbsp;<span class="ident" id="4535364"><a href="/net/http/internal/chunked.go.html#4535403">trimTrailingWhitespace</a></span><span class="op" id="4535386">(</span><span class="ident" id="4535387"><a href="/net/http/internal/chunked.go.html#4534985">p</a></span><span class="op" id="4535388">)</span><span class="op" id="4535389">,</span>&nbsp;<span class="ident" id="4535391">nil</span><br>
<span class="lineno"></span><span class="op" id="4535395">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4535398">func</span>&nbsp;<span class="ident" id="4535403">trimTrailingWhitespace</span><span class="op" id="4535425">(</span><span class="ident" id="4535426">b</span>&nbsp;<span class="op" id="4535428">[</span><span class="op" id="4535429">]</span><span class="builtintype" id="4535430">byte</span><span class="op" id="4535434">)</span>&nbsp;<span class="op" id="4535436">[</span><span class="op" id="4535437">]</span><span class="builtintype" id="4535438">byte</span>&nbsp;<span class="op" id="4535443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535446">for</span>&nbsp;<span class="builtinfunc" id="4535450">len</span><span class="op" id="4535453">(</span><span class="ident" id="4535454"><a href="/net/http/internal/chunked.go.html#4535426">b</a></span><span class="op" id="4535455">)</span>&nbsp;<span class="op" id="4535457">&gt;</span>&nbsp;<span class="num" id="4535459">0</span>&nbsp;<span class="op" id="4535461">&amp;&amp;</span>&nbsp;<span class="ident" id="4535464"><a href="/net/http/internal/chunked.go.html#4535532">isASCIISpace</a></span><span class="op" id="4535476">(</span><span class="ident" id="4535477"><a href="/net/http/internal/chunked.go.html#4535426">b</a></span><span class="op" id="4535478">[</span><span class="builtinfunc" id="4535479">len</span><span class="op" id="4535482">(</span><span class="ident" id="4535483"><a href="/net/http/internal/chunked.go.html#4535426">b</a></span><span class="op" id="4535484">)</span><span class="op" id="4535485">-</span><span class="num" id="4535486">1</span><span class="op" id="4535487">]</span><span class="op" id="4535488">)</span>&nbsp;<span class="op" id="4535490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4535494"><a href="/net/http/internal/chunked.go.html#4535426">b</a></span>&nbsp;<span class="op" id="4535496">=</span>&nbsp;<span class="ident" id="4535498"><a href="/net/http/internal/chunked.go.html#4535426">b</a></span><span class="op" id="4535499">[</span><span class="op" id="4535500">:</span><span class="builtinfunc" id="4535501">len</span><span class="op" id="4535504">(</span><span class="ident" id="4535505"><a href="/net/http/internal/chunked.go.html#4535426">b</a></span><span class="op" id="4535506">)</span><span class="op" id="4535507">-</span><span class="num" id="4535508">1</span><span class="op" id="4535509">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4535512">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535515">return</span>&nbsp;<span class="ident" id="4535522"><a href="/net/http/internal/chunked.go.html#4535426">b</a></span><br>
<span class="lineno"></span><span class="op" id="4535524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4535527">func</span>&nbsp;<span class="ident" id="4535532">isASCIISpace</span><span class="op" id="4535544">(</span><span class="ident" id="4535545">b</span>&nbsp;<span class="builtintype" id="4535547">byte</span><span class="op" id="4535551">)</span>&nbsp;<span class="builtintype" id="4535553">bool</span>&nbsp;<span class="op" id="4535558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4535561">return</span>&nbsp;<span class="ident" id="4535568"><a href="/net/http/internal/chunked.go.html#4535545">b</a></span>&nbsp;<span class="op" id="4535570">==</span>&nbsp;<span class="string" id="4535573">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4535577">||</span>&nbsp;<span class="ident" id="4535580"><a href="/net/http/internal/chunked.go.html#4535545">b</a></span>&nbsp;<span class="op" id="4535582">==</span>&nbsp;<span class="string" id="4535585">&#39;\t&#39;</span>&nbsp;<span class="op" id="4535590">||</span>&nbsp;<span class="ident" id="4535593"><a href="/net/http/internal/chunked.go.html#4535545">b</a></span>&nbsp;<span class="op" id="4535595">==</span>&nbsp;<span class="string" id="4535598">&#39;\n&#39;</span>&nbsp;<span class="op" id="4535603">||</span>&nbsp;<span class="ident" id="4535606"><a href="/net/http/internal/chunked.go.html#4535545">b</a></span>&nbsp;<span class="op" id="4535608">==</span>&nbsp;<span class="string" id="4535611">&#39;\r&#39;</span><br>
<span class="lineno">135</span><span class="op" id="4535616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4535619">//&nbsp;NewChunkedWriter&nbsp;returns&nbsp;a&nbsp;new&nbsp;chunkedWriter&nbsp;that&nbsp;translates&nbsp;writes&nbsp;into&nbsp;HTTP</span><br>
<span class="lineno"></span><span class="comment" id="4535700">//&nbsp;&#34;chunked&#34;&nbsp;format&nbsp;before&nbsp;writing&nbsp;them&nbsp;to&nbsp;w.&nbsp;Closing&nbsp;the&nbsp;returned&nbsp;chunkedWriter</span><br>
<span class="lineno"></span><span class="comment" id="4535781">//&nbsp;sends&nbsp;the&nbsp;final&nbsp;0-length&nbsp;chunk&nbsp;that&nbsp;marks&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;stream.</span><br>
<span class="lineno">140</span><span class="comment" id="4535849">//</span><br>
<span class="lineno"></span><span class="comment" id="4535852">//&nbsp;NewChunkedWriter&nbsp;is&nbsp;not&nbsp;needed&nbsp;by&nbsp;normal&nbsp;applications.&nbsp;The&nbsp;http</span><br>
<span class="lineno"></span><span class="comment" id="4535919">//&nbsp;package&nbsp;adds&nbsp;chunking&nbsp;automatically&nbsp;if&nbsp;handlers&nbsp;don&#39;t&nbsp;set&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4535982">//&nbsp;Content-Length&nbsp;header.&nbsp;Using&nbsp;newChunkedWriter&nbsp;inside&nbsp;a&nbsp;handler</span><br>
<span class="lineno"></span><span class="comment" id="4536048">//&nbsp;would&nbsp;result&nbsp;in&nbsp;double&nbsp;chunking&nbsp;or&nbsp;chunking&nbsp;with&nbsp;a&nbsp;Content-Length</span><br>
<span class="lineno">145</span><span class="comment" id="4536117">//&nbsp;length,&nbsp;both&nbsp;of&nbsp;which&nbsp;are&nbsp;wrong.</span><br>
<span class="lineno"></span><span class="keyword" id="4536153">func</span>&nbsp;<span class="ident" id="4536158">NewChunkedWriter</span><span class="op" id="4536174">(</span><span class="ident" id="4536175">w</span>&nbsp;<span class="ident" id="4536177"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4536179">.</span><span class="ident" id="4536180">Writer</span><span class="op" id="4536186">)</span>&nbsp;<span class="ident" id="4536188"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4536190">.</span><span class="ident" id="4536191">WriteCloser</span>&nbsp;<span class="op" id="4536203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536206">return</span>&nbsp;<span class="op" id="4536213">&amp;</span><span class="ident" id="4536214"><a href="/net/http/internal/chunked.go.html#4536376">chunkedWriter</a></span><span class="op" id="4536227">{</span><span class="ident" id="4536228"><a href="/net/http/internal/chunked.go.html#4536175">w</a></span><span class="op" id="4536229">}</span><br>
<span class="lineno"></span><span class="op" id="4536231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="comment" id="4536234">//&nbsp;Writing&nbsp;to&nbsp;chunkedWriter&nbsp;translates&nbsp;to&nbsp;writing&nbsp;in&nbsp;HTTP&nbsp;chunked&nbsp;Transfer</span><br>
<span class="lineno"></span><span class="comment" id="4536309">//&nbsp;Encoding&nbsp;wire&nbsp;format&nbsp;to&nbsp;the&nbsp;underlying&nbsp;Wire&nbsp;chunkedWriter.</span><br>
<span class="lineno"></span><span class="keyword" id="4536371">type</span>&nbsp;<span class="ident" id="4536376">chunkedWriter</span>&nbsp;<span class="keyword" id="4536390">struct</span>&nbsp;<span class="op" id="4536397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4536400">Wire</span>&nbsp;<span class="ident" id="4536405"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4536407">.</span><span class="ident" id="4536408">Writer</span><br>
<span class="lineno"></span><span class="op" id="4536415">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="4536418">//&nbsp;Write&nbsp;the&nbsp;contents&nbsp;of&nbsp;data&nbsp;as&nbsp;one&nbsp;chunk&nbsp;to&nbsp;Wire.</span><br>
<span class="lineno"></span><span class="comment" id="4536470">//&nbsp;NOTE:&nbsp;Note&nbsp;that&nbsp;the&nbsp;corresponding&nbsp;chunk-writing&nbsp;procedure&nbsp;in&nbsp;Conn.Write&nbsp;has</span><br>
<span class="lineno"></span><span class="comment" id="4536549">//&nbsp;a&nbsp;bug&nbsp;since&nbsp;it&nbsp;does&nbsp;not&nbsp;check&nbsp;for&nbsp;success&nbsp;of&nbsp;io.WriteString</span><br>
<span class="lineno"></span><span class="keyword" id="4536612">func</span>&nbsp;<span class="op" id="4536617">(</span><span class="ident" id="4536618">cw</span>&nbsp;<span class="op" id="4536621">*</span><span class="ident" id="4536622"><a href="/net/http/internal/chunked.go.html#4536376">chunkedWriter</a></span><span class="op" id="4536635">)</span>&nbsp;<span class="ident" id="4536637">Write</span><span class="op" id="4536642">(</span><span class="ident" id="4536643">data</span>&nbsp;<span class="op" id="4536648">[</span><span class="op" id="4536649">]</span><span class="builtintype" id="4536650">byte</span><span class="op" id="4536654">)</span>&nbsp;<span class="op" id="4536656">(</span><span class="ident" id="4536657">n</span>&nbsp;<span class="builtintype" id="4536659">int</span><span class="op" id="4536662">,</span>&nbsp;<span class="ident" id="4536664">err</span>&nbsp;<span class="builtintype" id="4536668">error</span><span class="op" id="4536673">)</span>&nbsp;<span class="op" id="4536675">{</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4536679">//&nbsp;Don&#39;t&nbsp;send&nbsp;0-length&nbsp;data.&nbsp;It&nbsp;looks&nbsp;like&nbsp;EOF&nbsp;for&nbsp;chunked&nbsp;encoding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536749">if</span>&nbsp;<span class="builtinfunc" id="4536752">len</span><span class="op" id="4536755">(</span><span class="ident" id="4536756"><a href="/net/http/internal/chunked.go.html#4536643">data</a></span><span class="op" id="4536760">)</span>&nbsp;<span class="op" id="4536762">==</span>&nbsp;<span class="num" id="4536765">0</span>&nbsp;<span class="op" id="4536767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536771">return</span>&nbsp;<span class="num" id="4536778">0</span><span class="op" id="4536779">,</span>&nbsp;<span class="ident" id="4536781">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4536786">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536790">if</span>&nbsp;<span class="ident" id="4536793">_</span><span class="op" id="4536794">,</span>&nbsp;<span class="ident" id="4536796"><a href="/net/http/internal/chunked.go.html#4536664">err</a></span>&nbsp;<span class="op" id="4536800">=</span>&nbsp;<span class="ident" id="4536802"><a href="/net/http/internal/chunked.go.html#4532772">fmt</a></span><span class="op" id="4536805">.</span><span class="ident" id="4536806">Fprintf</span><span class="op" id="4536813">(</span><span class="ident" id="4536814"><a href="/net/http/internal/chunked.go.html#4536618">cw</a></span><span class="op" id="4536816">.</span><span class="ident" id="4536817">Wire</span><span class="op" id="4536821">,</span>&nbsp;<span class="string" id="4536823">&#34;%x\r\n&#34;</span><span class="op" id="4536831">,</span>&nbsp;<span class="builtinfunc" id="4536833">len</span><span class="op" id="4536836">(</span><span class="ident" id="4536837"><a href="/net/http/internal/chunked.go.html#4536643">data</a></span><span class="op" id="4536841">)</span><span class="op" id="4536842">)</span><span class="op" id="4536843">;</span>&nbsp;<span class="ident" id="4536845"><a href="/net/http/internal/chunked.go.html#4536664">err</a></span>&nbsp;<span class="op" id="4536849">!=</span>&nbsp;<span class="ident" id="4536852">nil</span>&nbsp;<span class="op" id="4536856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536860">return</span>&nbsp;<span class="num" id="4536867">0</span><span class="op" id="4536868">,</span>&nbsp;<span class="ident" id="4536870"><a href="/net/http/internal/chunked.go.html#4536664">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4536875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536878">if</span>&nbsp;<span class="ident" id="4536881"><a href="/net/http/internal/chunked.go.html#4536657">n</a></span><span class="op" id="4536882">,</span>&nbsp;<span class="ident" id="4536884"><a href="/net/http/internal/chunked.go.html#4536664">err</a></span>&nbsp;<span class="op" id="4536888">=</span>&nbsp;<span class="ident" id="4536890"><a href="/net/http/internal/chunked.go.html#4536618">cw</a></span><span class="op" id="4536892">.</span><span class="ident" id="4536893">Wire</span><span class="op" id="4536897">.</span><span class="ident" id="4536898">Write</span><span class="op" id="4536903">(</span><span class="ident" id="4536904"><a href="/net/http/internal/chunked.go.html#4536643">data</a></span><span class="op" id="4536908">)</span><span class="op" id="4536909">;</span>&nbsp;<span class="ident" id="4536911"><a href="/net/http/internal/chunked.go.html#4536664">err</a></span>&nbsp;<span class="op" id="4536915">!=</span>&nbsp;<span class="ident" id="4536918">nil</span>&nbsp;<span class="op" id="4536922">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536926">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4536934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536937">if</span>&nbsp;<span class="ident" id="4536940"><a href="/net/http/internal/chunked.go.html#4536657">n</a></span>&nbsp;<span class="op" id="4536942">!=</span>&nbsp;<span class="builtinfunc" id="4536945">len</span><span class="op" id="4536948">(</span><span class="ident" id="4536949"><a href="/net/http/internal/chunked.go.html#4536643">data</a></span><span class="op" id="4536953">)</span>&nbsp;<span class="op" id="4536955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4536959"><a href="/net/http/internal/chunked.go.html#4536664">err</a></span>&nbsp;<span class="op" id="4536963">=</span>&nbsp;<span class="ident" id="4536965"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4536967">.</span><span class="ident" id="4536968">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4536984">return</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4536992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4536995">_</span><span class="op" id="4536996">,</span>&nbsp;<span class="ident" id="4536998"><a href="/net/http/internal/chunked.go.html#4536664">err</a></span>&nbsp;<span class="op" id="4537002">=</span>&nbsp;<span class="ident" id="4537004"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4537006">.</span><span class="ident" id="4537007">WriteString</span><span class="op" id="4537018">(</span><span class="ident" id="4537019"><a href="/net/http/internal/chunked.go.html#4536618">cw</a></span><span class="op" id="4537021">.</span><span class="ident" id="4537022">Wire</span><span class="op" id="4537026">,</span>&nbsp;<span class="string" id="4537028">&#34;\r\n&#34;</span><span class="op" id="4537034">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537038">return</span><br>
<span class="lineno"></span><span class="op" id="4537045">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="4537048">func</span>&nbsp;<span class="op" id="4537053">(</span><span class="ident" id="4537054">cw</span>&nbsp;<span class="op" id="4537057">*</span><span class="ident" id="4537058"><a href="/net/http/internal/chunked.go.html#4536376">chunkedWriter</a></span><span class="op" id="4537071">)</span>&nbsp;<span class="ident" id="4537073">Close</span><span class="op" id="4537078">(</span><span class="op" id="4537079">)</span>&nbsp;<span class="builtintype" id="4537081">error</span>&nbsp;<span class="op" id="4537087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537090">_</span><span class="op" id="4537091">,</span>&nbsp;<span class="ident" id="4537093">err</span>&nbsp;<span class="op" id="4537097">:=</span>&nbsp;<span class="ident" id="4537100"><a href="/net/http/internal/chunked.go.html#4532779">io</a></span><span class="op" id="4537102">.</span><span class="ident" id="4537103">WriteString</span><span class="op" id="4537114">(</span><span class="ident" id="4537115"><a href="/net/http/internal/chunked.go.html#4537054">cw</a></span><span class="op" id="4537117">.</span><span class="ident" id="4537118">Wire</span><span class="op" id="4537122">,</span>&nbsp;<span class="string" id="4537124">&#34;0\r\n&#34;</span><span class="op" id="4537131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537134">return</span>&nbsp;<span class="ident" id="4537141"><a href="/net/http/internal/chunked.go.html#4537093">err</a></span><br>
<span class="lineno"></span><span class="op" id="4537145">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="4537148">func</span>&nbsp;<span class="ident" id="4537153">parseHexUint</span><span class="op" id="4537165">(</span><span class="ident" id="4537166">v</span>&nbsp;<span class="op" id="4537168">[</span><span class="op" id="4537169">]</span><span class="builtintype" id="4537170">byte</span><span class="op" id="4537174">)</span>&nbsp;<span class="op" id="4537176">(</span><span class="ident" id="4537177">n</span>&nbsp;<span class="ident" id="4537179">uint64</span><span class="op" id="4537185">,</span>&nbsp;<span class="ident" id="4537187">err</span>&nbsp;<span class="builtintype" id="4537191">error</span><span class="op" id="4537196">)</span>&nbsp;<span class="op" id="4537198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537201">for</span>&nbsp;<span class="ident" id="4537205">_</span><span class="op" id="4537206">,</span>&nbsp;<span class="ident" id="4537208">b</span>&nbsp;<span class="op" id="4537210">:=</span>&nbsp;<span class="keyword" id="4537213">range</span>&nbsp;<span class="ident" id="4537219"><a href="/net/http/internal/chunked.go.html#4537166">v</a></span>&nbsp;<span class="op" id="4537221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537225"><a href="/net/http/internal/chunked.go.html#4537177">n</a></span>&nbsp;<span class="op" id="4537227">&lt;&lt;=</span>&nbsp;<span class="num" id="4537231">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537235">switch</span>&nbsp;<span class="op" id="4537242">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537246">case</span>&nbsp;<span class="string" id="4537251">&#39;0&#39;</span>&nbsp;<span class="op" id="4537255">&lt;=</span>&nbsp;<span class="ident" id="4537258"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537260">&amp;&amp;</span>&nbsp;<span class="ident" id="4537263"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537265">&lt;=</span>&nbsp;<span class="string" id="4537268">&#39;9&#39;</span><span class="op" id="4537271">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537276"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537278">=</span>&nbsp;<span class="ident" id="4537280"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537282">-</span>&nbsp;<span class="string" id="4537284">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537290">case</span>&nbsp;<span class="string" id="4537295">&#39;a&#39;</span>&nbsp;<span class="op" id="4537299">&lt;=</span>&nbsp;<span class="ident" id="4537302"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537304">&amp;&amp;</span>&nbsp;<span class="ident" id="4537307"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537309">&lt;=</span>&nbsp;<span class="string" id="4537312">&#39;f&#39;</span><span class="op" id="4537315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537320"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537322">=</span>&nbsp;<span class="ident" id="4537324"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537326">-</span>&nbsp;<span class="string" id="4537328">&#39;a&#39;</span>&nbsp;<span class="op" id="4537332">+</span>&nbsp;<span class="num" id="4537334">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537339">case</span>&nbsp;<span class="string" id="4537344">&#39;A&#39;</span>&nbsp;<span class="op" id="4537348">&lt;=</span>&nbsp;<span class="ident" id="4537351"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537353">&amp;&amp;</span>&nbsp;<span class="ident" id="4537356"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537358">&lt;=</span>&nbsp;<span class="string" id="4537361">&#39;F&#39;</span><span class="op" id="4537364">:</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537369"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537371">=</span>&nbsp;<span class="ident" id="4537373"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span>&nbsp;<span class="op" id="4537375">-</span>&nbsp;<span class="string" id="4537377">&#39;A&#39;</span>&nbsp;<span class="op" id="4537381">+</span>&nbsp;<span class="num" id="4537383">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537388">default</span><span class="op" id="4537395">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537400">return</span>&nbsp;<span class="num" id="4537407">0</span><span class="op" id="4537408">,</span>&nbsp;<span class="ident" id="4537410"><a href="/net/http/internal/chunked.go.html#4532762">errors</a></span><span class="op" id="4537416">.</span><span class="ident" id="4537417">New</span><span class="op" id="4537420">(</span><span class="string" id="4537421">&#34;invalid&nbsp;byte&nbsp;in&nbsp;chunk&nbsp;length&#34;</span><span class="op" id="4537451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4537455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4537459"><a href="/net/http/internal/chunked.go.html#4537177">n</a></span>&nbsp;<span class="op" id="4537461">|=</span>&nbsp;<span class="ident" id="4537464">uint64</span><span class="op" id="4537470">(</span><span class="ident" id="4537471"><a href="/net/http/internal/chunked.go.html#4537208">b</a></span><span class="op" id="4537472">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4537475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4537478">return</span><br>
<span class="lineno"></span><span class="op" id="4537485">}</span>
</div>
</body>
</html>
