<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html" class="current">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2780330">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2780385">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2780439">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2780490">//&nbsp;Package&nbsp;reflect&nbsp;implements&nbsp;run-time&nbsp;reflection,&nbsp;allowing&nbsp;a&nbsp;program&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2780563">//&nbsp;manipulate&nbsp;objects&nbsp;with&nbsp;arbitrary&nbsp;types.&nbsp;&nbsp;The&nbsp;typical&nbsp;use&nbsp;is&nbsp;to&nbsp;take&nbsp;a&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2780643">//&nbsp;with&nbsp;static&nbsp;type&nbsp;interface{}&nbsp;and&nbsp;extract&nbsp;its&nbsp;dynamic&nbsp;type&nbsp;information&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2780719">//&nbsp;calling&nbsp;TypeOf,&nbsp;which&nbsp;returns&nbsp;a&nbsp;Type.</span><br>
<span class="lineno"></span><span class="comment" id="2780760">//</span><br>
<span class="lineno">10</span><span class="comment" id="2780763">//&nbsp;A&nbsp;call&nbsp;to&nbsp;ValueOf&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;the&nbsp;run-time&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="2780832">//&nbsp;Zero&nbsp;takes&nbsp;a&nbsp;Type&nbsp;and&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;a&nbsp;zero&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2780899">//&nbsp;for&nbsp;that&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2780917">//</span><br>
<span class="lineno"></span><span class="comment" id="2780920">//&nbsp;See&nbsp;&#34;The&nbsp;Laws&nbsp;of&nbsp;Reflection&#34;&nbsp;for&nbsp;an&nbsp;introduction&nbsp;to&nbsp;reflection&nbsp;in&nbsp;Go:</span><br>
<span class="lineno">15</span><span class="comment" id="2780993">//&nbsp;http://golang.org/doc/articles/laws_of_reflection.html</span><br>
<span class="lineno"></span><span class="keyword" id="2781051">package</span>&nbsp;<span class="ident" id="2781059">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2781068">import</span>&nbsp;<span class="op" id="2781075">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2781078">&#34;runtime&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2781089">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2781100">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2781108">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="2781117">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2781120">//&nbsp;Type&nbsp;is&nbsp;the&nbsp;representation&nbsp;of&nbsp;a&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2781164">//</span><br>
<span class="lineno"></span><span class="comment" id="2781167">//&nbsp;Not&nbsp;all&nbsp;methods&nbsp;apply&nbsp;to&nbsp;all&nbsp;kinds&nbsp;of&nbsp;types.&nbsp;&nbsp;Restrictions,</span><br>
<span class="lineno"></span><span class="comment" id="2781230">//&nbsp;if&nbsp;any,&nbsp;are&nbsp;noted&nbsp;in&nbsp;the&nbsp;documentation&nbsp;for&nbsp;each&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2781289">//&nbsp;Use&nbsp;the&nbsp;Kind&nbsp;method&nbsp;to&nbsp;find&nbsp;out&nbsp;the&nbsp;kind&nbsp;of&nbsp;type&nbsp;before</span><br>
<span class="lineno">30</span><span class="comment" id="2781348">//&nbsp;calling&nbsp;kind-specific&nbsp;methods.&nbsp;&nbsp;Calling&nbsp;a&nbsp;method</span><br>
<span class="lineno"></span><span class="comment" id="2781400">//&nbsp;inappropriate&nbsp;to&nbsp;the&nbsp;kind&nbsp;of&nbsp;type&nbsp;causes&nbsp;a&nbsp;run-time&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="2781462">type</span>&nbsp;<span class="ident" id="2781467">Type</span>&nbsp;<span class="keyword" id="2781472">interface</span>&nbsp;<span class="op" id="2781482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781485">//&nbsp;Methods&nbsp;applicable&nbsp;to&nbsp;all&nbsp;types.</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781523">//&nbsp;Align&nbsp;returns&nbsp;the&nbsp;alignment&nbsp;in&nbsp;bytes&nbsp;of&nbsp;a&nbsp;value&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781578">//&nbsp;this&nbsp;type&nbsp;when&nbsp;allocated&nbsp;in&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2781618">Align</span><span class="op" id="2781623">(</span><span class="op" id="2781624">)</span>&nbsp;<span class="builtintype" id="2781626">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781632">//&nbsp;FieldAlign&nbsp;returns&nbsp;the&nbsp;alignment&nbsp;in&nbsp;bytes&nbsp;of&nbsp;a&nbsp;value&nbsp;of</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781692">//&nbsp;this&nbsp;type&nbsp;when&nbsp;used&nbsp;as&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2781740">FieldAlign</span><span class="op" id="2781750">(</span><span class="op" id="2781751">)</span>&nbsp;<span class="builtintype" id="2781753">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781759">//&nbsp;Method&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;method&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781820">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumMethod()).</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781877">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781881">//&nbsp;For&nbsp;a&nbsp;non-interface&nbsp;type&nbsp;T&nbsp;or&nbsp;*T,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;and&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2781955">//&nbsp;fields&nbsp;describe&nbsp;a&nbsp;function&nbsp;whose&nbsp;first&nbsp;argument&nbsp;is&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782024">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782028">//&nbsp;For&nbsp;an&nbsp;interface&nbsp;type,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;field&nbsp;gives&nbsp;the</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782098">//&nbsp;method&nbsp;signature,&nbsp;without&nbsp;a&nbsp;receiver,&nbsp;and&nbsp;the&nbsp;Func&nbsp;field&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2782167">Method</span><span class="op" id="2782173">(</span><span class="builtintype" id="2782174">int</span><span class="op" id="2782177">)</span>&nbsp;<span class="ident" id="2782179"><a href="/gostd/reflect/type.go.html#2792957">Method</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782188">//&nbsp;MethodByName&nbsp;returns&nbsp;the&nbsp;method&nbsp;with&nbsp;that&nbsp;name&nbsp;in&nbsp;the&nbsp;type&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782253">//&nbsp;method&nbsp;set&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if&nbsp;the&nbsp;method&nbsp;was&nbsp;found.</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782318">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782322">//&nbsp;For&nbsp;a&nbsp;non-interface&nbsp;type&nbsp;T&nbsp;or&nbsp;*T,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;and&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782396">//&nbsp;fields&nbsp;describe&nbsp;a&nbsp;function&nbsp;whose&nbsp;first&nbsp;argument&nbsp;is&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782465">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782469">//&nbsp;For&nbsp;an&nbsp;interface&nbsp;type,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;field&nbsp;gives&nbsp;the</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782539">//&nbsp;method&nbsp;signature,&nbsp;without&nbsp;a&nbsp;receiver,&nbsp;and&nbsp;the&nbsp;Func&nbsp;field&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2782608">MethodByName</span><span class="op" id="2782620">(</span><span class="builtintype" id="2782621">string</span><span class="op" id="2782627">)</span>&nbsp;<span class="op" id="2782629">(</span><span class="ident" id="2782630"><a href="/gostd/reflect/type.go.html#2792957">Method</a></span><span class="op" id="2782636">,</span>&nbsp;<span class="builtintype" id="2782638">bool</span><span class="op" id="2782642">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782646">//&nbsp;NumMethod&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;methods&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2782716">NumMethod</span><span class="op" id="2782725">(</span><span class="op" id="2782726">)</span>&nbsp;<span class="builtintype" id="2782728">int</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782734">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;type&#39;s&nbsp;name&nbsp;within&nbsp;its&nbsp;package.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782787">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;empty&nbsp;string&nbsp;for&nbsp;unnamed&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2782837">Name</span><span class="op" id="2782841">(</span><span class="op" id="2782842">)</span>&nbsp;<span class="builtintype" id="2782844">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782853">//&nbsp;PkgPath&nbsp;returns&nbsp;a&nbsp;named&nbsp;type&#39;s&nbsp;package&nbsp;path,&nbsp;that&nbsp;is,&nbsp;the&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782927">//&nbsp;that&nbsp;uniquely&nbsp;identifies&nbsp;the&nbsp;package,&nbsp;such&nbsp;as&nbsp;&#34;encoding/base64&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2782996">//&nbsp;If&nbsp;the&nbsp;type&nbsp;was&nbsp;predeclared&nbsp;(string,&nbsp;error)&nbsp;or&nbsp;unnamed&nbsp;(*T,&nbsp;struct{},&nbsp;[]int),</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783078">//&nbsp;the&nbsp;package&nbsp;path&nbsp;will&nbsp;be&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2783125">PkgPath</span><span class="op" id="2783132">(</span><span class="op" id="2783133">)</span>&nbsp;<span class="builtintype" id="2783135">string</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783144">//&nbsp;Size&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;needed&nbsp;to&nbsp;store</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783197">//&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;given&nbsp;type;&nbsp;it&nbsp;is&nbsp;analogous&nbsp;to&nbsp;unsafe.Sizeof.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2783262">Size</span><span class="op" id="2783266">(</span><span class="op" id="2783267">)</span>&nbsp;<span class="builtintype" id="2783269">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783279">//&nbsp;String&nbsp;returns&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783335">//&nbsp;The&nbsp;string&nbsp;representation&nbsp;may&nbsp;use&nbsp;shortened&nbsp;package&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783397">//&nbsp;(e.g.,&nbsp;base64&nbsp;instead&nbsp;of&nbsp;&#34;encoding/base64&#34;)&nbsp;and&nbsp;is&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783456">//&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;unique&nbsp;among&nbsp;types.&nbsp;&nbsp;To&nbsp;test&nbsp;for&nbsp;equality,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783520">//&nbsp;compare&nbsp;the&nbsp;Types&nbsp;directly.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2783552">String</span><span class="op" id="2783558">(</span><span class="op" id="2783559">)</span>&nbsp;<span class="builtintype" id="2783561">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783570">//&nbsp;Kind&nbsp;returns&nbsp;the&nbsp;specific&nbsp;kind&nbsp;of&nbsp;this&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2783619">Kind</span><span class="op" id="2783623">(</span><span class="op" id="2783624">)</span>&nbsp;<span class="ident" id="2783626"><a href="/gostd/reflect/type.go.html#2787856">Kind</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783633">//&nbsp;Implements&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;implements&nbsp;the&nbsp;interface&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2783706">Implements</span><span class="op" id="2783716">(</span><span class="ident" id="2783717">u</span>&nbsp;<span class="ident" id="2783719"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2783723">)</span>&nbsp;<span class="builtintype" id="2783725">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783732">//&nbsp;AssignableTo&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;type&nbsp;is&nbsp;assignable&nbsp;to&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2783810">AssignableTo</span><span class="op" id="2783822">(</span><span class="ident" id="2783823">u</span>&nbsp;<span class="ident" id="2783825"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2783829">)</span>&nbsp;<span class="builtintype" id="2783831">bool</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783838">//&nbsp;ConvertibleTo&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;type&nbsp;is&nbsp;convertible&nbsp;to&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2783918">ConvertibleTo</span><span class="op" id="2783931">(</span><span class="ident" id="2783932">u</span>&nbsp;<span class="ident" id="2783934"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2783938">)</span>&nbsp;<span class="builtintype" id="2783940">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2783947">//&nbsp;Comparable&nbsp;returns&nbsp;true&nbsp;if&nbsp;values&nbsp;of&nbsp;this&nbsp;type&nbsp;are&nbsp;comparable.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2784014">Comparable</span><span class="op" id="2784024">(</span><span class="op" id="2784025">)</span>&nbsp;<span class="builtintype" id="2784027">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784034">//&nbsp;Methods&nbsp;applicable&nbsp;only&nbsp;to&nbsp;some&nbsp;types,&nbsp;depending&nbsp;on&nbsp;Kind.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784096">//&nbsp;The&nbsp;methods&nbsp;allowed&nbsp;for&nbsp;each&nbsp;kind&nbsp;are:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784139">//</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784143">//&nbsp;&nbsp;&nbsp;&nbsp;Int*,&nbsp;Uint*,&nbsp;Float*,&nbsp;Complex*:&nbsp;Bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784183">//&nbsp;&nbsp;&nbsp;&nbsp;Array:&nbsp;Elem,&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784204">//&nbsp;&nbsp;&nbsp;&nbsp;Chan:&nbsp;ChanDir,&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784228">//&nbsp;&nbsp;&nbsp;&nbsp;Func:&nbsp;In,&nbsp;NumIn,&nbsp;Out,&nbsp;NumOut,&nbsp;IsVariadic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784274">//&nbsp;&nbsp;&nbsp;&nbsp;Map:&nbsp;Key,&nbsp;Elem</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784293">//&nbsp;&nbsp;&nbsp;&nbsp;Ptr:&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784307">//&nbsp;&nbsp;&nbsp;&nbsp;Slice:&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784323">//&nbsp;&nbsp;&nbsp;&nbsp;Struct:&nbsp;Field,&nbsp;FieldByIndex,&nbsp;FieldByName,&nbsp;FieldByNameFunc,&nbsp;NumField</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784396">//&nbsp;Bits&nbsp;returns&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;type&nbsp;in&nbsp;bits.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784443">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784494">//&nbsp;sized&nbsp;or&nbsp;unsized&nbsp;Int,&nbsp;Uint,&nbsp;Float,&nbsp;or&nbsp;Complex&nbsp;kinds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2784551">Bits</span><span class="op" id="2784555">(</span><span class="op" id="2784556">)</span>&nbsp;<span class="builtintype" id="2784558">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784564">//&nbsp;ChanDir&nbsp;returns&nbsp;a&nbsp;channel&nbsp;type&#39;s&nbsp;direction.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784612">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Chan.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2784658">ChanDir</span><span class="op" id="2784665">(</span><span class="op" id="2784666">)</span>&nbsp;<span class="ident" id="2784668"><a href="/gostd/reflect/type.go.html#2790420">ChanDir</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784678">//&nbsp;IsVariadic&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;final&nbsp;input&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784749">//&nbsp;is&nbsp;a&nbsp;&#34;...&#34;&nbsp;parameter.&nbsp;&nbsp;If&nbsp;so,&nbsp;t.In(t.NumIn()&nbsp;-&nbsp;1)&nbsp;returns&nbsp;the&nbsp;parameter&#39;s</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784827">//&nbsp;implicit&nbsp;actual&nbsp;type&nbsp;[]T.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784857">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784861">//&nbsp;For&nbsp;concreteness,&nbsp;if&nbsp;t&nbsp;represents&nbsp;func(x&nbsp;int,&nbsp;y&nbsp;...&nbsp;float64),&nbsp;then</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784932">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784936">//&nbsp;&nbsp;&nbsp;&nbsp;t.NumIn()&nbsp;==&nbsp;2</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784955">//&nbsp;&nbsp;&nbsp;&nbsp;t.In(0)&nbsp;is&nbsp;the&nbsp;reflect.Type&nbsp;for&nbsp;&#34;int&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2784997">//&nbsp;&nbsp;&nbsp;&nbsp;t.In(1)&nbsp;is&nbsp;the&nbsp;reflect.Type&nbsp;for&nbsp;&#34;[]float64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785045">//&nbsp;&nbsp;&nbsp;&nbsp;t.IsVariadic()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785072">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785076">//&nbsp;IsVariadic&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2785130">IsVariadic</span><span class="op" id="2785140">(</span><span class="op" id="2785141">)</span>&nbsp;<span class="builtintype" id="2785143">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785150">//&nbsp;Elem&nbsp;returns&nbsp;a&nbsp;type&#39;s&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785190">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array,&nbsp;Chan,&nbsp;Map,&nbsp;Ptr,&nbsp;or&nbsp;Slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2785263">Elem</span><span class="op" id="2785267">(</span><span class="op" id="2785268">)</span>&nbsp;<span class="ident" id="2785270"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785277">//&nbsp;Field&nbsp;returns&nbsp;a&nbsp;struct&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785323">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785371">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumField()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2785427">Field</span><span class="op" id="2785432">(</span><span class="ident" id="2785433">i</span>&nbsp;<span class="builtintype" id="2785435">int</span><span class="op" id="2785438">)</span>&nbsp;<span class="ident" id="2785440"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785454">//&nbsp;FieldByIndex&nbsp;returns&nbsp;the&nbsp;nested&nbsp;field&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785510">//&nbsp;to&nbsp;the&nbsp;index&nbsp;sequence.&nbsp;&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;Field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785572">//&nbsp;successively&nbsp;for&nbsp;each&nbsp;index&nbsp;i.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785607">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2785655">FieldByIndex</span><span class="op" id="2785667">(</span><span class="ident" id="2785668">index</span>&nbsp;<span class="op" id="2785674">[</span><span class="op" id="2785675">]</span><span class="builtintype" id="2785676">int</span><span class="op" id="2785679">)</span>&nbsp;<span class="ident" id="2785681"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785695">//&nbsp;FieldByName&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785756">//&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2785809">FieldByName</span><span class="op" id="2785820">(</span><span class="ident" id="2785821">name</span>&nbsp;<span class="builtintype" id="2785826">string</span><span class="op" id="2785832">)</span>&nbsp;<span class="op" id="2785834">(</span><span class="ident" id="2785835"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2785846">,</span>&nbsp;<span class="builtintype" id="2785848">bool</span><span class="op" id="2785852">)</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785856">//&nbsp;FieldByNameFunc&nbsp;returns&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;with&nbsp;a&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785919">//&nbsp;that&nbsp;satisfies&nbsp;the&nbsp;match&nbsp;function&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2785985">//&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786010">FieldByNameFunc</span><span class="op" id="2786025">(</span><span class="ident" id="2786026">match</span>&nbsp;<span class="keyword" id="2786032">func</span><span class="op" id="2786036">(</span><span class="builtintype" id="2786037">string</span><span class="op" id="2786043">)</span>&nbsp;<span class="builtintype" id="2786045">bool</span><span class="op" id="2786049">)</span>&nbsp;<span class="op" id="2786051">(</span><span class="ident" id="2786052"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2786063">,</span>&nbsp;<span class="builtintype" id="2786065">bool</span><span class="op" id="2786069">)</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786073">//&nbsp;In&nbsp;returns&nbsp;the&nbsp;type&nbsp;of&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;input&nbsp;parameter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786140">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786186">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumIn()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786239">In</span><span class="op" id="2786241">(</span><span class="ident" id="2786242">i</span>&nbsp;<span class="builtintype" id="2786244">int</span><span class="op" id="2786247">)</span>&nbsp;<span class="ident" id="2786249"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786256">//&nbsp;Key&nbsp;returns&nbsp;a&nbsp;map&nbsp;type&#39;s&nbsp;key&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786295">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786340">Key</span><span class="op" id="2786343">(</span><span class="op" id="2786344">)</span>&nbsp;<span class="ident" id="2786346"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786353">//&nbsp;Len&nbsp;returns&nbsp;an&nbsp;array&nbsp;type&#39;s&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786393">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786440">Len</span><span class="op" id="2786443">(</span><span class="op" id="2786444">)</span>&nbsp;<span class="builtintype" id="2786446">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786452">//&nbsp;NumField&nbsp;returns&nbsp;a&nbsp;struct&nbsp;type&#39;s&nbsp;field&nbsp;count.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786502">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786550">NumField</span><span class="op" id="2786558">(</span><span class="op" id="2786559">)</span>&nbsp;<span class="builtintype" id="2786561">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786567">//&nbsp;NumIn&nbsp;returns&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;input&nbsp;parameter&nbsp;count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786626">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786672">NumIn</span><span class="op" id="2786677">(</span><span class="op" id="2786678">)</span>&nbsp;<span class="builtintype" id="2786680">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786686">//&nbsp;NumOut&nbsp;returns&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;output&nbsp;parameter&nbsp;count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786747">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786793">NumOut</span><span class="op" id="2786799">(</span><span class="op" id="2786800">)</span>&nbsp;<span class="builtintype" id="2786802">int</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786808">//&nbsp;Out&nbsp;returns&nbsp;the&nbsp;type&nbsp;of&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;output&nbsp;parameter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786877">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2786923">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumOut()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786977">Out</span><span class="op" id="2786980">(</span><span class="ident" id="2786981">i</span>&nbsp;<span class="builtintype" id="2786983">int</span><span class="op" id="2786986">)</span>&nbsp;<span class="ident" id="2786988"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2786995">common</span><span class="op" id="2787001">(</span><span class="op" id="2787002">)</span>&nbsp;<span class="op" id="2787004">*</span><span class="ident" id="2787005"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787012">uncommon</span><span class="op" id="2787020">(</span><span class="op" id="2787021">)</span>&nbsp;<span class="op" id="2787023">*</span><span class="ident" id="2787024"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span><br>
<span class="lineno"></span><span class="op" id="2787037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="2787040">//&nbsp;BUG(rsc):&nbsp;FieldByName&nbsp;and&nbsp;related&nbsp;functions&nbsp;consider&nbsp;struct&nbsp;field&nbsp;names&nbsp;to&nbsp;be&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2787127">//&nbsp;if&nbsp;the&nbsp;names&nbsp;are&nbsp;equal,&nbsp;even&nbsp;if&nbsp;they&nbsp;are&nbsp;unexported&nbsp;names&nbsp;originating</span><br>
<span class="lineno"></span><span class="comment" id="2787200">//&nbsp;in&nbsp;different&nbsp;packages.&nbsp;The&nbsp;practical&nbsp;effect&nbsp;of&nbsp;this&nbsp;is&nbsp;that&nbsp;the&nbsp;result&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2787277">//&nbsp;t.FieldByName(&#34;x&#34;)&nbsp;is&nbsp;not&nbsp;well&nbsp;defined&nbsp;if&nbsp;the&nbsp;struct&nbsp;type&nbsp;t&nbsp;contains</span><br>
<span class="lineno"></span><span class="comment" id="2787349">//&nbsp;multiple&nbsp;fields&nbsp;named&nbsp;x&nbsp;(embedded&nbsp;from&nbsp;different&nbsp;packages).</span><br>
<span class="lineno">200</span><span class="comment" id="2787412">//&nbsp;FieldByName&nbsp;may&nbsp;return&nbsp;one&nbsp;of&nbsp;the&nbsp;fields&nbsp;named&nbsp;x&nbsp;or&nbsp;may&nbsp;report&nbsp;that&nbsp;there&nbsp;are&nbsp;none.</span><br>
<span class="lineno"></span><span class="comment" id="2787499">//&nbsp;See&nbsp;golang.org/issue/4876&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2787547">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;These&nbsp;data&nbsp;structures&nbsp;are&nbsp;known&nbsp;to&nbsp;the&nbsp;compiler&nbsp;(../../cmd/gc/reflect.c).<br>
<span class="lineno">205</span>&nbsp;*&nbsp;A&nbsp;few&nbsp;are&nbsp;known&nbsp;to&nbsp;../runtime/type.go&nbsp;to&nbsp;convey&nbsp;to&nbsp;debuggers.<br>
<span class="lineno"></span>&nbsp;*&nbsp;They&nbsp;are&nbsp;also&nbsp;known&nbsp;to&nbsp;../runtime/type.h.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2787742">//&nbsp;A&nbsp;Kind&nbsp;represents&nbsp;the&nbsp;specific&nbsp;kind&nbsp;of&nbsp;type&nbsp;that&nbsp;a&nbsp;Type&nbsp;represents.</span><br>
<span class="lineno">210</span><span class="comment" id="2787813">//&nbsp;The&nbsp;zero&nbsp;Kind&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;kind.</span><br>
<span class="lineno"></span><span class="keyword" id="2787851">type</span>&nbsp;<span class="ident" id="2787856">Kind</span>&nbsp;<span class="builtintype" id="2787861">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2787867">const</span>&nbsp;<span class="op" id="2787873">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787876">Invalid</span>&nbsp;<span class="ident" id="2787884"><a href="/gostd/reflect/type.go.html#2787856">Kind</a></span>&nbsp;<span class="op" id="2787889">=</span>&nbsp;<span class="ident" id="2787891">iota</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787897">Bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787903">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787908">Int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787914">Int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787921">Int32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787928">Int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787935">Uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787941">Uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787948">Uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787956">Uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787964">Uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787972">Uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787981">Float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787990">Float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2787999">Complex64</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788010">Complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788022">Array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788029">Chan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788035">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788041">Interface</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788052">Map</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788057">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788062">Slice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788069">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788077">Struct</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788085">UnsafePointer</span><br>
<span class="lineno"></span><span class="op" id="2788099">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2788102">//&nbsp;rtype&nbsp;is&nbsp;the&nbsp;common&nbsp;implementation&nbsp;of&nbsp;most&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="2788156">//&nbsp;It&nbsp;is&nbsp;embedded&nbsp;in&nbsp;other,&nbsp;public&nbsp;struct&nbsp;types,&nbsp;but&nbsp;always</span><br>
<span class="lineno">245</span><span class="comment" id="2788216">//&nbsp;with&nbsp;a&nbsp;unique&nbsp;tag&nbsp;like&nbsp;`reflect:&#34;array&#34;`&nbsp;or&nbsp;`reflect:&#34;ptr&#34;`</span><br>
<span class="lineno"></span><span class="comment" id="2788279">//&nbsp;so&nbsp;that&nbsp;code&nbsp;cannot&nbsp;convert&nbsp;from,&nbsp;say,&nbsp;*arrayType&nbsp;to&nbsp;*ptrType.</span><br>
<span class="lineno"></span><span class="keyword" id="2788345">type</span>&nbsp;<span class="ident" id="2788350">rtype</span>&nbsp;<span class="keyword" id="2788356">struct</span>&nbsp;<span class="op" id="2788363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788366">size</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2788380">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788389">hash</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2788403">uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2788421">//&nbsp;hash&nbsp;of&nbsp;type;&nbsp;avoids&nbsp;computation&nbsp;in&nbsp;hash&nbsp;tables</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788473">_</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2788487">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2788505">//&nbsp;unused/padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788524">align</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2788538">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2788556">//&nbsp;alignment&nbsp;of&nbsp;variable&nbsp;with&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788597">fieldAlign</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2788611">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2788629">//&nbsp;alignment&nbsp;of&nbsp;struct&nbsp;field&nbsp;with&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788674">kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2788688">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2788706">//&nbsp;enumeration&nbsp;for&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788728">alg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2788742">*</span><span class="ident" id="2788743"><a href="/gostd/reflect/type.go.html#2789181">typeAlg</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2788760">//&nbsp;algorithm&nbsp;table&nbsp;(../runtime/runtime.h:/Alg)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2788808">gc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2788822">[</span><span class="num" id="2788823">2</span><span class="op" id="2788824">]</span><span class="ident" id="2788825"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2788831">.</span><span class="ident" id="2788832">Pointer</span>&nbsp;<span class="comment" id="2788840">//&nbsp;garbage&nbsp;collection&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2788868">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2788882">*</span><span class="builtintype" id="2788883">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2788900">//&nbsp;string&nbsp;form;&nbsp;unnecessary&nbsp;but&nbsp;undeniably&nbsp;useful</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2788951">*</span><span class="ident" id="2788952"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2788983">//&nbsp;(relatively)&nbsp;uncommon&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789016">ptrToThis</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2789030">*</span><span class="ident" id="2789031"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789048">//&nbsp;type&nbsp;for&nbsp;pointer&nbsp;to&nbsp;this&nbsp;type,&nbsp;if&nbsp;used&nbsp;in&nbsp;binary&nbsp;or&nbsp;has&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789116">zero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789130"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2789136">.</span><span class="ident" id="2789137">Pointer</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789148">//&nbsp;pointer&nbsp;to&nbsp;zero&nbsp;value</span><br>
<span class="lineno">260</span><span class="op" id="2789173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2789176">type</span>&nbsp;<span class="ident" id="2789181">typeAlg</span>&nbsp;<span class="keyword" id="2789189">struct</span>&nbsp;<span class="op" id="2789196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789199">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789245">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789285">hash</span>&nbsp;<span class="keyword" id="2789290">func</span><span class="op" id="2789294">(</span><span class="ident" id="2789295"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2789301">.</span><span class="ident" id="2789302">Pointer</span><span class="op" id="2789309">,</span>&nbsp;<span class="builtintype" id="2789311">uintptr</span><span class="op" id="2789318">,</span>&nbsp;<span class="builtintype" id="2789320">uintptr</span><span class="op" id="2789327">)</span>&nbsp;<span class="builtintype" id="2789329">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789338">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789386">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789438">equal</span>&nbsp;<span class="keyword" id="2789444">func</span><span class="op" id="2789448">(</span><span class="ident" id="2789449"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2789455">.</span><span class="ident" id="2789456">Pointer</span><span class="op" id="2789463">,</span>&nbsp;<span class="ident" id="2789465"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2789471">.</span><span class="ident" id="2789472">Pointer</span><span class="op" id="2789479">,</span>&nbsp;<span class="builtintype" id="2789481">uintptr</span><span class="op" id="2789488">)</span>&nbsp;<span class="builtintype" id="2789490">bool</span><br>
<span class="lineno"></span><span class="op" id="2789495">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="2789498">//&nbsp;Method&nbsp;on&nbsp;non-interface&nbsp;type</span><br>
<span class="lineno"></span><span class="keyword" id="2789530">type</span>&nbsp;<span class="ident" id="2789535">method</span>&nbsp;<span class="keyword" id="2789542">struct</span>&nbsp;<span class="op" id="2789549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789552">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2789560">*</span><span class="builtintype" id="2789561">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789575">//&nbsp;name&nbsp;of&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789594">pkgPath</span>&nbsp;<span class="op" id="2789602">*</span><span class="builtintype" id="2789603">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789617">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789667">mtyp</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2789675">*</span><span class="ident" id="2789676"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789690">//&nbsp;method&nbsp;type&nbsp;(without&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789725">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2789733">*</span><span class="ident" id="2789734"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2789748">//&nbsp;.(*FuncType)&nbsp;underneath&nbsp;(with&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789792">ifn</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789800"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2789806">.</span><span class="ident" id="2789807">Pointer</span>&nbsp;<span class="comment" id="2789815">//&nbsp;fn&nbsp;used&nbsp;in&nbsp;interface&nbsp;call&nbsp;(one-word&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789865">tfn</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2789873"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2789879">.</span><span class="ident" id="2789880">Pointer</span>&nbsp;<span class="comment" id="2789888">//&nbsp;fn&nbsp;used&nbsp;for&nbsp;normal&nbsp;method&nbsp;call</span><br>
<span class="lineno"></span><span class="op" id="2789922">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="comment" id="2789925">//&nbsp;uncommonType&nbsp;is&nbsp;present&nbsp;only&nbsp;for&nbsp;types&nbsp;with&nbsp;names&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span><span class="comment" id="2789989">//&nbsp;(if&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;type,&nbsp;the&nbsp;uncommonTypes&nbsp;for&nbsp;T&nbsp;and&nbsp;*T&nbsp;have&nbsp;methods).</span><br>
<span class="lineno"></span><span class="comment" id="2790061">//&nbsp;Using&nbsp;a&nbsp;pointer&nbsp;to&nbsp;this&nbsp;struct&nbsp;reduces&nbsp;the&nbsp;overall&nbsp;size&nbsp;required</span><br>
<span class="lineno"></span><span class="comment" id="2790129">//&nbsp;to&nbsp;describe&nbsp;an&nbsp;unnamed&nbsp;type&nbsp;with&nbsp;no&nbsp;methods.</span><br>
<span class="lineno">285</span><span class="keyword" id="2790177">type</span>&nbsp;<span class="ident" id="2790182">uncommonType</span>&nbsp;<span class="keyword" id="2790195">struct</span>&nbsp;<span class="op" id="2790202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790205">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2790213">*</span><span class="builtintype" id="2790214">string</span>&nbsp;&nbsp;<span class="comment" id="2790222">//&nbsp;name&nbsp;of&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790239">pkgPath</span>&nbsp;<span class="op" id="2790247">*</span><span class="builtintype" id="2790248">string</span>&nbsp;&nbsp;<span class="comment" id="2790256">//&nbsp;import&nbsp;path;&nbsp;nil&nbsp;for&nbsp;built-in&nbsp;types&nbsp;like&nbsp;int,&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790313">methods</span>&nbsp;<span class="op" id="2790321">[</span><span class="op" id="2790322">]</span><span class="ident" id="2790323"><a href="/gostd/reflect/type.go.html#2789535">method</a></span>&nbsp;<span class="comment" id="2790330">//&nbsp;methods&nbsp;associated&nbsp;with&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="2790362">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="2790365">//&nbsp;ChanDir&nbsp;represents&nbsp;a&nbsp;channel&nbsp;type&#39;s&nbsp;direction.</span><br>
<span class="lineno"></span><span class="keyword" id="2790415">type</span>&nbsp;<span class="ident" id="2790420">ChanDir</span>&nbsp;<span class="builtintype" id="2790428">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2790433">const</span>&nbsp;<span class="op" id="2790439">(</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790442">RecvDir</span>&nbsp;<span class="ident" id="2790450"><a href="/gostd/reflect/type.go.html#2790420">ChanDir</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2790470">=</span>&nbsp;<span class="num" id="2790472">1</span>&nbsp;<span class="op" id="2790474">&lt;&lt;</span>&nbsp;<span class="ident" id="2790477">iota</span>&nbsp;<span class="comment" id="2790482">//&nbsp;&lt;-chan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790493">SendDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2790533">//&nbsp;chan&lt;-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790544">BothDir</span>&nbsp;<span class="op" id="2790552">=</span>&nbsp;<span class="ident" id="2790554"><a href="/gostd/reflect/type.go.html#2790442">RecvDir</a></span>&nbsp;<span class="op" id="2790562">|</span>&nbsp;<span class="ident" id="2790564"><a href="/gostd/reflect/type.go.html#2790493">SendDir</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2790584">//&nbsp;chan</span><br>
<span class="lineno"></span><span class="op" id="2790592">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="comment" id="2790595">//&nbsp;arrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;array&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2790639">type</span>&nbsp;<span class="ident" id="2790644">arrayType</span>&nbsp;<span class="keyword" id="2790654">struct</span>&nbsp;<span class="op" id="2790661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790664"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="string" id="2790670">`reflect:&#34;array&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790689">elem</span>&nbsp;&nbsp;<span class="op" id="2790695">*</span><span class="ident" id="2790696"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2790702">//&nbsp;array&nbsp;element&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790725">slice</span>&nbsp;<span class="op" id="2790731">*</span><span class="ident" id="2790732"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2790738">//&nbsp;slice&nbsp;type</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2790753">len</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2790759">uintptr</span><br>
<span class="lineno"></span><span class="op" id="2790767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2790770">//&nbsp;chanType&nbsp;represents&nbsp;a&nbsp;channel&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2790809">type</span>&nbsp;<span class="ident" id="2790814">chanType</span>&nbsp;<span class="keyword" id="2790823">struct</span>&nbsp;<span class="op" id="2790830">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790833"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="string" id="2790839">`reflect:&#34;chan&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790857">elem</span>&nbsp;&nbsp;<span class="op" id="2790863">*</span><span class="ident" id="2790864"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2790871">//&nbsp;channel&nbsp;element&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2790896">dir</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2790902">uintptr</span>&nbsp;<span class="comment" id="2790910">//&nbsp;channel&nbsp;direction&nbsp;(ChanDir)</span><br>
<span class="lineno"></span><span class="op" id="2790941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="comment" id="2790944">//&nbsp;funcType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2790984">type</span>&nbsp;<span class="ident" id="2790989">funcType</span>&nbsp;<span class="keyword" id="2790998">struct</span>&nbsp;<span class="op" id="2791005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791008"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2791018">`reflect:&#34;func&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791036">dotdotdot</span>&nbsp;<span class="builtintype" id="2791046">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2791055">//&nbsp;last&nbsp;input&nbsp;parameter&nbsp;is&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791087">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2791097">[</span><span class="op" id="2791098">]</span><span class="op" id="2791099">*</span><span class="ident" id="2791100"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2791106">//&nbsp;input&nbsp;parameter&nbsp;types</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791132">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2791142">[</span><span class="op" id="2791143">]</span><span class="op" id="2791144">*</span><span class="ident" id="2791145"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2791151">//&nbsp;output&nbsp;parameter&nbsp;types</span><br>
<span class="lineno"></span><span class="op" id="2791177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2791180">//&nbsp;imethod&nbsp;represents&nbsp;a&nbsp;method&nbsp;on&nbsp;an&nbsp;interface&nbsp;type</span><br>
<span class="lineno"></span><span class="keyword" id="2791232">type</span>&nbsp;<span class="ident" id="2791237">imethod</span>&nbsp;<span class="keyword" id="2791245">struct</span>&nbsp;<span class="op" id="2791252">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791255">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2791263">*</span><span class="builtintype" id="2791264">string</span>&nbsp;<span class="comment" id="2791271">//&nbsp;name&nbsp;of&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791290">pkgPath</span>&nbsp;<span class="op" id="2791298">*</span><span class="builtintype" id="2791299">string</span>&nbsp;<span class="comment" id="2791306">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791356">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2791364">*</span><span class="ident" id="2791365"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2791372">//&nbsp;.(*FuncType)&nbsp;underneath</span><br>
<span class="lineno"></span><span class="op" id="2791399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="comment" id="2791402">//&nbsp;interfaceType&nbsp;represents&nbsp;an&nbsp;interface&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2791449">type</span>&nbsp;<span class="ident" id="2791454">interfaceType</span>&nbsp;<span class="keyword" id="2791468">struct</span>&nbsp;<span class="op" id="2791475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791478"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;&nbsp;<span class="string" id="2791486">`reflect:&#34;interface&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791509">methods</span>&nbsp;<span class="op" id="2791517">[</span><span class="op" id="2791518">]</span><span class="ident" id="2791519"><a href="/gostd/reflect/type.go.html#2791237">imethod</a></span>&nbsp;<span class="comment" id="2791527">//&nbsp;sorted&nbsp;by&nbsp;hash</span><br>
<span class="lineno"></span><span class="op" id="2791545">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="comment" id="2791548">//&nbsp;mapType&nbsp;represents&nbsp;a&nbsp;map&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2791582">type</span>&nbsp;<span class="ident" id="2791587">mapType</span>&nbsp;<span class="keyword" id="2791595">struct</span>&nbsp;<span class="op" id="2791602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791605"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2791619">`reflect:&#34;map&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791636">key</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2791650">*</span><span class="ident" id="2791651"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2791657">//&nbsp;map&nbsp;key&nbsp;type</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791674">elem</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2791688">*</span><span class="ident" id="2791689"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2791695">//&nbsp;map&nbsp;element&nbsp;(value)&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791724">bucket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2791738">*</span><span class="ident" id="2791739"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2791745">//&nbsp;internal&nbsp;bucket&nbsp;structure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791775">hmap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2791789">*</span><span class="ident" id="2791790"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2791796">//&nbsp;internal&nbsp;map&nbsp;header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791820">keysize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2791834">uint8</span>&nbsp;&nbsp;<span class="comment" id="2791841">//&nbsp;size&nbsp;of&nbsp;key&nbsp;slot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791862">indirectkey</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2791876">uint8</span>&nbsp;&nbsp;<span class="comment" id="2791883">//&nbsp;store&nbsp;ptr&nbsp;to&nbsp;key&nbsp;instead&nbsp;of&nbsp;key&nbsp;itself</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791926">valuesize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2791940">uint8</span>&nbsp;&nbsp;<span class="comment" id="2791947">//&nbsp;size&nbsp;of&nbsp;value&nbsp;slot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2791970">indirectvalue</span>&nbsp;<span class="builtintype" id="2791984">uint8</span>&nbsp;&nbsp;<span class="comment" id="2791991">//&nbsp;store&nbsp;ptr&nbsp;to&nbsp;value&nbsp;instead&nbsp;of&nbsp;value&nbsp;itself</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792038">bucketsize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2792052">uint16</span>&nbsp;<span class="comment" id="2792059">//&nbsp;size&nbsp;of&nbsp;bucket</span><br>
<span class="lineno"></span><span class="op" id="2792077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="2792080">//&nbsp;ptrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2792118">type</span>&nbsp;<span class="ident" id="2792123">ptrType</span>&nbsp;<span class="keyword" id="2792131">struct</span>&nbsp;<span class="op" id="2792138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792141"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="string" id="2792147">`reflect:&#34;ptr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792164">elem</span>&nbsp;&nbsp;<span class="op" id="2792170">*</span><span class="ident" id="2792171"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2792177">//&nbsp;pointer&nbsp;element&nbsp;(pointed&nbsp;at)&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="2792214">}</span><br>
<span class="lineno">355</span><br>
<span class="lineno"></span><span class="comment" id="2792217">//&nbsp;sliceType&nbsp;represents&nbsp;a&nbsp;slice&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2792255">type</span>&nbsp;<span class="ident" id="2792260">sliceType</span>&nbsp;<span class="keyword" id="2792270">struct</span>&nbsp;<span class="op" id="2792277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792280"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="string" id="2792286">`reflect:&#34;slice&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792305">elem</span>&nbsp;&nbsp;<span class="op" id="2792311">*</span><span class="ident" id="2792312"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2792318">//&nbsp;slice&nbsp;element&nbsp;type</span><br>
<span class="lineno">360</span><span class="op" id="2792340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2792343">//&nbsp;Struct&nbsp;field</span><br>
<span class="lineno"></span><span class="keyword" id="2792359">type</span>&nbsp;<span class="ident" id="2792364">structField</span>&nbsp;<span class="keyword" id="2792376">struct</span>&nbsp;<span class="op" id="2792383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792386">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2792394">*</span><span class="builtintype" id="2792395">string</span>&nbsp;<span class="comment" id="2792402">//&nbsp;nil&nbsp;for&nbsp;embedded&nbsp;fields</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792430">pkgPath</span>&nbsp;<span class="op" id="2792438">*</span><span class="builtintype" id="2792439">string</span>&nbsp;<span class="comment" id="2792446">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792496">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2792504">*</span><span class="ident" id="2792505"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2792512">//&nbsp;type&nbsp;of&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792530">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2792538">*</span><span class="builtintype" id="2792539">string</span>&nbsp;<span class="comment" id="2792546">//&nbsp;nil&nbsp;if&nbsp;no&nbsp;tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792564">offset</span>&nbsp;&nbsp;<span class="builtintype" id="2792572">uintptr</span>&nbsp;<span class="comment" id="2792580">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;field&nbsp;within&nbsp;struct</span><br>
<span class="lineno"></span><span class="op" id="2792618">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span><span class="comment" id="2792621">//&nbsp;structType&nbsp;represents&nbsp;a&nbsp;struct&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2792661">type</span>&nbsp;<span class="ident" id="2792666">structType</span>&nbsp;<span class="keyword" id="2792677">struct</span>&nbsp;<span class="op" id="2792684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792687"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;&nbsp;<span class="string" id="2792694">`reflect:&#34;struct&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2792714">fields</span>&nbsp;<span class="op" id="2792721">[</span><span class="op" id="2792722">]</span><span class="ident" id="2792723"><a href="/gostd/reflect/type.go.html#2792364">structField</a></span>&nbsp;<span class="comment" id="2792735">//&nbsp;sorted&nbsp;by&nbsp;offset</span><br>
<span class="lineno">375</span><span class="op" id="2792755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2792758">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;the&nbsp;exact&nbsp;layout&nbsp;of&nbsp;all&nbsp;the&nbsp;data&nbsp;structures&nbsp;above.<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;compiler&nbsp;does&nbsp;not&nbsp;know&nbsp;about&nbsp;the&nbsp;data&nbsp;structures&nbsp;and&nbsp;methods&nbsp;below.<br>
<span class="lineno">380</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2792914">//&nbsp;Method&nbsp;represents&nbsp;a&nbsp;single&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2792952">type</span>&nbsp;<span class="ident" id="2792957">Method</span>&nbsp;<span class="keyword" id="2792964">struct</span>&nbsp;<span class="op" id="2792971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2792974">//&nbsp;Name&nbsp;is&nbsp;the&nbsp;method&nbsp;name.</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2793003">//&nbsp;PkgPath&nbsp;is&nbsp;the&nbsp;package&nbsp;path&nbsp;that&nbsp;qualifies&nbsp;a&nbsp;lower&nbsp;case&nbsp;(unexported)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2793076">//&nbsp;method&nbsp;name.&nbsp;&nbsp;It&nbsp;is&nbsp;empty&nbsp;for&nbsp;upper&nbsp;case&nbsp;(exported)&nbsp;method&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2793146">//&nbsp;The&nbsp;combination&nbsp;of&nbsp;PkgPath&nbsp;and&nbsp;Name&nbsp;uniquely&nbsp;identifies&nbsp;a&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2793215">//&nbsp;in&nbsp;a&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2793236">//&nbsp;See&nbsp;http://golang.org/ref/spec#Uniqueness_of_identifiers</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793297">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2793305">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793313">PkgPath</span>&nbsp;<span class="builtintype" id="2793321">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793330">Type</span>&nbsp;&nbsp;<span class="ident" id="2793336"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;&nbsp;<span class="comment" id="2793342">//&nbsp;method&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793358">Func</span>&nbsp;&nbsp;<span class="ident" id="2793364"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span>&nbsp;<span class="comment" id="2793370">//&nbsp;func&nbsp;with&nbsp;receiver&nbsp;as&nbsp;first&nbsp;argument</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793411">Index</span>&nbsp;<span class="builtintype" id="2793417">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2793423">//&nbsp;index&nbsp;for&nbsp;Type.Method</span><br>
<span class="lineno"></span><span class="op" id="2793448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2793451">const</span>&nbsp;<span class="op" id="2793457">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793460">kindDirectIface</span>&nbsp;<span class="op" id="2793476">=</span>&nbsp;<span class="num" id="2793478">1</span>&nbsp;<span class="op" id="2793480">&lt;&lt;</span>&nbsp;<span class="num" id="2793483">5</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793486">kindGCProg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2793502">=</span>&nbsp;<span class="num" id="2793504">1</span>&nbsp;<span class="op" id="2793506">&lt;&lt;</span>&nbsp;<span class="num" id="2793509">6</span>&nbsp;<span class="comment" id="2793511">//&nbsp;Type.gc&nbsp;points&nbsp;to&nbsp;GC&nbsp;program</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793544">kindNoPointers</span>&nbsp;&nbsp;<span class="op" id="2793560">=</span>&nbsp;<span class="num" id="2793562">1</span>&nbsp;<span class="op" id="2793564">&lt;&lt;</span>&nbsp;<span class="num" id="2793567">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793570">kindMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2793586">=</span>&nbsp;<span class="op" id="2793588">(</span><span class="num" id="2793589">1</span>&nbsp;<span class="op" id="2793591">&lt;&lt;</span>&nbsp;<span class="num" id="2793594">5</span><span class="op" id="2793595">)</span>&nbsp;<span class="op" id="2793597">-</span>&nbsp;<span class="num" id="2793599">1</span><br>
<span class="lineno"></span><span class="op" id="2793601">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="2793604">func</span>&nbsp;<span class="op" id="2793609">(</span><span class="ident" id="2793610">k</span>&nbsp;<span class="ident" id="2793612"><a href="/gostd/reflect/type.go.html#2787856">Kind</a></span><span class="op" id="2793616">)</span>&nbsp;<span class="ident" id="2793618">String</span><span class="op" id="2793624">(</span><span class="op" id="2793625">)</span>&nbsp;<span class="builtintype" id="2793627">string</span>&nbsp;<span class="op" id="2793634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2793637">if</span>&nbsp;<span class="builtintype" id="2793640">int</span><span class="op" id="2793643">(</span><span class="ident" id="2793644"><a href="/gostd/reflect/type.go.html#2793610">k</a></span><span class="op" id="2793645">)</span>&nbsp;<span class="op" id="2793647">&lt;</span>&nbsp;<span class="builtinfunc" id="2793649">len</span><span class="op" id="2793652">(</span><span class="ident" id="2793653"><a href="/gostd/reflect/type.go.html#2793736">kindNames</a></span><span class="op" id="2793662">)</span>&nbsp;<span class="op" id="2793664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2793668">return</span>&nbsp;<span class="ident" id="2793675"><a href="/gostd/reflect/type.go.html#2793736">kindNames</a></span><span class="op" id="2793684">[</span><span class="ident" id="2793685"><a href="/gostd/reflect/type.go.html#2793610">k</a></span><span class="op" id="2793686">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2793689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2793692">return</span>&nbsp;<span class="string" id="2793699">&#34;kind&#34;</span>&nbsp;<span class="op" id="2793706">+</span>&nbsp;<span class="ident" id="2793708"><a href="/gostd/reflect/type.go.html#2781089">strconv</a></span><span class="op" id="2793715">.</span><span class="ident" id="2793716"><a href="/gostd/strconv/itoa.go.html#2407288">Itoa</a></span><span class="op" id="2793720">(</span><span class="builtintype" id="2793721">int</span><span class="op" id="2793724">(</span><span class="ident" id="2793725"><a href="/gostd/reflect/type.go.html#2793610">k</a></span><span class="op" id="2793726">)</span><span class="op" id="2793727">)</span><br>
<span class="lineno">410</span><span class="op" id="2793729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2793732">var</span>&nbsp;<span class="ident" id="2793736">kindNames</span>&nbsp;<span class="op" id="2793746">=</span>&nbsp;<span class="op" id="2793748">[</span><span class="op" id="2793749">]</span><span class="builtintype" id="2793750">string</span><span class="op" id="2793756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793759"><a href="/gostd/reflect/type.go.html#2787876">Invalid</a></span><span class="op" id="2793766">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793774">&#34;invalid&#34;</span><span class="op" id="2793783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793786"><a href="/gostd/reflect/type.go.html#2787897">Bool</a></span><span class="op" id="2793790">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793801">&#34;bool&#34;</span><span class="op" id="2793807">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793810"><a href="/gostd/reflect/type.go.html#2787903">Int</a></span><span class="op" id="2793813">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793825">&#34;int&#34;</span><span class="op" id="2793830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793833"><a href="/gostd/reflect/type.go.html#2787908">Int8</a></span><span class="op" id="2793837">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793848">&#34;int8&#34;</span><span class="op" id="2793854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793857"><a href="/gostd/reflect/type.go.html#2787914">Int16</a></span><span class="op" id="2793862">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793872">&#34;int16&#34;</span><span class="op" id="2793879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793882"><a href="/gostd/reflect/type.go.html#2787921">Int32</a></span><span class="op" id="2793887">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793897">&#34;int32&#34;</span><span class="op" id="2793904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793907"><a href="/gostd/reflect/type.go.html#2787928">Int64</a></span><span class="op" id="2793912">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793922">&#34;int64&#34;</span><span class="op" id="2793929">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793932"><a href="/gostd/reflect/type.go.html#2787935">Uint</a></span><span class="op" id="2793936">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793947">&#34;uint&#34;</span><span class="op" id="2793953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793956"><a href="/gostd/reflect/type.go.html#2787941">Uint8</a></span><span class="op" id="2793961">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793971">&#34;uint8&#34;</span><span class="op" id="2793978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2793981"><a href="/gostd/reflect/type.go.html#2787948">Uint16</a></span><span class="op" id="2793987">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2793996">&#34;uint16&#34;</span><span class="op" id="2794004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794007"><a href="/gostd/reflect/type.go.html#2787956">Uint32</a></span><span class="op" id="2794013">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794022">&#34;uint32&#34;</span><span class="op" id="2794030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794033"><a href="/gostd/reflect/type.go.html#2787964">Uint64</a></span><span class="op" id="2794039">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794048">&#34;uint64&#34;</span><span class="op" id="2794056">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794059"><a href="/gostd/reflect/type.go.html#2787972">Uintptr</a></span><span class="op" id="2794066">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794074">&#34;uintptr&#34;</span><span class="op" id="2794083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794086"><a href="/gostd/reflect/type.go.html#2787981">Float32</a></span><span class="op" id="2794093">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794101">&#34;float32&#34;</span><span class="op" id="2794110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794113"><a href="/gostd/reflect/type.go.html#2787990">Float64</a></span><span class="op" id="2794120">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794128">&#34;float64&#34;</span><span class="op" id="2794137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794140"><a href="/gostd/reflect/type.go.html#2787999">Complex64</a></span><span class="op" id="2794149">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794155">&#34;complex64&#34;</span><span class="op" id="2794166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794169"><a href="/gostd/reflect/type.go.html#2788010">Complex128</a></span><span class="op" id="2794179">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794184">&#34;complex128&#34;</span><span class="op" id="2794196">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794199"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="2794204">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794214">&#34;array&#34;</span><span class="op" id="2794221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794224"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span><span class="op" id="2794228">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794239">&#34;chan&#34;</span><span class="op" id="2794245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794248"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span><span class="op" id="2794252">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794263">&#34;func&#34;</span><span class="op" id="2794269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794272"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span><span class="op" id="2794281">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794287">&#34;interface&#34;</span><span class="op" id="2794298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794301"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="2794304">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794316">&#34;map&#34;</span><span class="op" id="2794321">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794324"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span><span class="op" id="2794327">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794339">&#34;ptr&#34;</span><span class="op" id="2794344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794347"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2794352">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794362">&#34;slice&#34;</span><span class="op" id="2794369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794372"><a href="/gostd/reflect/type.go.html#2788069">String</a></span><span class="op" id="2794378">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794387">&#34;string&#34;</span><span class="op" id="2794395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794398"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span><span class="op" id="2794404">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2794413">&#34;struct&#34;</span><span class="op" id="2794421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794424"><a href="/gostd/reflect/type.go.html#2788085">UnsafePointer</a></span><span class="op" id="2794437">:</span>&nbsp;<span class="string" id="2794439">&#34;unsafe.Pointer&#34;</span><span class="op" id="2794455">,</span><br>
<span class="lineno">440</span><span class="op" id="2794457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2794460">func</span>&nbsp;<span class="op" id="2794465">(</span><span class="ident" id="2794466">t</span>&nbsp;<span class="op" id="2794468">*</span><span class="ident" id="2794469"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span><span class="op" id="2794481">)</span>&nbsp;<span class="ident" id="2794483">uncommon</span><span class="op" id="2794491">(</span><span class="op" id="2794492">)</span>&nbsp;<span class="op" id="2794494">*</span><span class="ident" id="2794495"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span>&nbsp;<span class="op" id="2794508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794511">return</span>&nbsp;<span class="ident" id="2794518"><a href="/gostd/reflect/type.go.html#2794466">t</a></span><br>
<span class="lineno"></span><span class="op" id="2794520">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span><span class="keyword" id="2794523">func</span>&nbsp;<span class="op" id="2794528">(</span><span class="ident" id="2794529">t</span>&nbsp;<span class="op" id="2794531">*</span><span class="ident" id="2794532"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span><span class="op" id="2794544">)</span>&nbsp;<span class="ident" id="2794546">PkgPath</span><span class="op" id="2794553">(</span><span class="op" id="2794554">)</span>&nbsp;<span class="builtintype" id="2794556">string</span>&nbsp;<span class="op" id="2794563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794566">if</span>&nbsp;<span class="ident" id="2794569"><a href="/gostd/reflect/type.go.html#2794529">t</a></span>&nbsp;<span class="op" id="2794571">==</span>&nbsp;<span class="builtintype" id="2794574">nil</span>&nbsp;<span class="op" id="2794578">||</span>&nbsp;<span class="ident" id="2794581"><a href="/gostd/reflect/type.go.html#2794529">t</a></span><span class="op" id="2794582">.</span><span class="ident" id="2794583"><a href="/gostd/reflect/type.go.html#2790239">pkgPath</a></span>&nbsp;<span class="op" id="2794591">==</span>&nbsp;<span class="builtintype" id="2794594">nil</span>&nbsp;<span class="op" id="2794598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794602">return</span>&nbsp;<span class="string" id="2794609">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2794613">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794616">return</span>&nbsp;<span class="op" id="2794623">*</span><span class="ident" id="2794624"><a href="/gostd/reflect/type.go.html#2794529">t</a></span><span class="op" id="2794625">.</span><span class="ident" id="2794626"><a href="/gostd/reflect/type.go.html#2790239">pkgPath</a></span><br>
<span class="lineno"></span><span class="op" id="2794634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2794637">func</span>&nbsp;<span class="op" id="2794642">(</span><span class="ident" id="2794643">t</span>&nbsp;<span class="op" id="2794645">*</span><span class="ident" id="2794646"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span><span class="op" id="2794658">)</span>&nbsp;<span class="ident" id="2794660">Name</span><span class="op" id="2794664">(</span><span class="op" id="2794665">)</span>&nbsp;<span class="builtintype" id="2794667">string</span>&nbsp;<span class="op" id="2794674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794677">if</span>&nbsp;<span class="ident" id="2794680"><a href="/gostd/reflect/type.go.html#2794643">t</a></span>&nbsp;<span class="op" id="2794682">==</span>&nbsp;<span class="builtintype" id="2794685">nil</span>&nbsp;<span class="op" id="2794689">||</span>&nbsp;<span class="ident" id="2794692"><a href="/gostd/reflect/type.go.html#2794643">t</a></span><span class="op" id="2794693">.</span><span class="ident" id="2794694"><a href="/gostd/reflect/type.go.html#2790205">name</a></span>&nbsp;<span class="op" id="2794699">==</span>&nbsp;<span class="builtintype" id="2794702">nil</span>&nbsp;<span class="op" id="2794706">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794710">return</span>&nbsp;<span class="string" id="2794717">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2794721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794724">return</span>&nbsp;<span class="op" id="2794731">*</span><span class="ident" id="2794732"><a href="/gostd/reflect/type.go.html#2794643">t</a></span><span class="op" id="2794733">.</span><span class="ident" id="2794734"><a href="/gostd/reflect/type.go.html#2790205">name</a></span><br>
<span class="lineno"></span><span class="op" id="2794739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">460</span><span class="keyword" id="2794742">func</span>&nbsp;<span class="op" id="2794747">(</span><span class="ident" id="2794748">t</span>&nbsp;<span class="op" id="2794750">*</span><span class="ident" id="2794751"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2794756">)</span>&nbsp;<span class="ident" id="2794758">String</span><span class="op" id="2794764">(</span><span class="op" id="2794765">)</span>&nbsp;<span class="builtintype" id="2794767">string</span>&nbsp;<span class="op" id="2794774">{</span>&nbsp;<span class="keyword" id="2794776">return</span>&nbsp;<span class="op" id="2794783">*</span><span class="ident" id="2794784"><a href="/gostd/reflect/type.go.html#2794748">t</a></span><span class="op" id="2794785">.</span><span class="builtintype" id="2794786"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2794793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2794796">func</span>&nbsp;<span class="op" id="2794801">(</span><span class="ident" id="2794802">t</span>&nbsp;<span class="op" id="2794804">*</span><span class="ident" id="2794805"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2794810">)</span>&nbsp;<span class="ident" id="2794812">Size</span><span class="op" id="2794816">(</span><span class="op" id="2794817">)</span>&nbsp;<span class="builtintype" id="2794819">uintptr</span>&nbsp;<span class="op" id="2794827">{</span>&nbsp;<span class="keyword" id="2794829">return</span>&nbsp;<span class="ident" id="2794836"><a href="/gostd/reflect/type.go.html#2794802">t</a></span><span class="op" id="2794837">.</span><span class="ident" id="2794838"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2794843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2794846">func</span>&nbsp;<span class="op" id="2794851">(</span><span class="ident" id="2794852">t</span>&nbsp;<span class="op" id="2794854">*</span><span class="ident" id="2794855"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2794860">)</span>&nbsp;<span class="ident" id="2794862">Bits</span><span class="op" id="2794866">(</span><span class="op" id="2794867">)</span>&nbsp;<span class="builtintype" id="2794869">int</span>&nbsp;<span class="op" id="2794873">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794876">if</span>&nbsp;<span class="ident" id="2794879"><a href="/gostd/reflect/type.go.html#2794852">t</a></span>&nbsp;<span class="op" id="2794881">==</span>&nbsp;<span class="builtintype" id="2794884">nil</span>&nbsp;<span class="op" id="2794888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2794892">panic</span><span class="op" id="2794897">(</span><span class="string" id="2794898">&#34;reflect:&nbsp;Bits&nbsp;of&nbsp;nil&nbsp;Type&#34;</span><span class="op" id="2794925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2794928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2794931">k</span>&nbsp;<span class="op" id="2794933">:=</span>&nbsp;<span class="ident" id="2794936"><a href="/gostd/reflect/type.go.html#2794852">t</a></span><span class="op" id="2794937">.</span><span class="ident" id="2794938"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2794942">(</span><span class="op" id="2794943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2794946">if</span>&nbsp;<span class="ident" id="2794949"><a href="/gostd/reflect/type.go.html#2794931">k</a></span>&nbsp;<span class="op" id="2794951">&lt;</span>&nbsp;<span class="ident" id="2794953"><a href="/gostd/reflect/type.go.html#2787903">Int</a></span>&nbsp;<span class="op" id="2794957">||</span>&nbsp;<span class="ident" id="2794960"><a href="/gostd/reflect/type.go.html#2794931">k</a></span>&nbsp;<span class="op" id="2794962">&gt;</span>&nbsp;<span class="ident" id="2794964"><a href="/gostd/reflect/type.go.html#2788010">Complex128</a></span>&nbsp;<span class="op" id="2794975">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2794979">panic</span><span class="op" id="2794984">(</span><span class="string" id="2794985">&#34;reflect:&nbsp;Bits&nbsp;of&nbsp;non-arithmetic&nbsp;Type&nbsp;&#34;</span>&nbsp;<span class="op" id="2795025">+</span>&nbsp;<span class="ident" id="2795027"><a href="/gostd/reflect/type.go.html#2794852">t</a></span><span class="op" id="2795028">.</span><span class="ident" id="2795029"><a href="/gostd/reflect/type.go.html#2794758">String</a></span><span class="op" id="2795035">(</span><span class="op" id="2795036">)</span><span class="op" id="2795037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2795040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795043">return</span>&nbsp;<span class="builtintype" id="2795050">int</span><span class="op" id="2795053">(</span><span class="ident" id="2795054"><a href="/gostd/reflect/type.go.html#2794852">t</a></span><span class="op" id="2795055">.</span><span class="ident" id="2795056"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2795060">)</span>&nbsp;<span class="op" id="2795062">*</span>&nbsp;<span class="num" id="2795064">8</span><br>
<span class="lineno"></span><span class="op" id="2795066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="keyword" id="2795069">func</span>&nbsp;<span class="op" id="2795074">(</span><span class="ident" id="2795075">t</span>&nbsp;<span class="op" id="2795077">*</span><span class="ident" id="2795078"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2795083">)</span>&nbsp;<span class="ident" id="2795085">Align</span><span class="op" id="2795090">(</span><span class="op" id="2795091">)</span>&nbsp;<span class="builtintype" id="2795093">int</span>&nbsp;<span class="op" id="2795097">{</span>&nbsp;<span class="keyword" id="2795099">return</span>&nbsp;<span class="builtintype" id="2795106">int</span><span class="op" id="2795109">(</span><span class="ident" id="2795110"><a href="/gostd/reflect/type.go.html#2795075">t</a></span><span class="op" id="2795111">.</span><span class="ident" id="2795112"><a href="/gostd/reflect/type.go.html#2788524">align</a></span><span class="op" id="2795117">)</span>&nbsp;<span class="op" id="2795119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2795122">func</span>&nbsp;<span class="op" id="2795127">(</span><span class="ident" id="2795128">t</span>&nbsp;<span class="op" id="2795130">*</span><span class="ident" id="2795131"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2795136">)</span>&nbsp;<span class="ident" id="2795138">FieldAlign</span><span class="op" id="2795148">(</span><span class="op" id="2795149">)</span>&nbsp;<span class="builtintype" id="2795151">int</span>&nbsp;<span class="op" id="2795155">{</span>&nbsp;<span class="keyword" id="2795157">return</span>&nbsp;<span class="builtintype" id="2795164">int</span><span class="op" id="2795167">(</span><span class="ident" id="2795168"><a href="/gostd/reflect/type.go.html#2795128">t</a></span><span class="op" id="2795169">.</span><span class="ident" id="2795170"><a href="/gostd/reflect/type.go.html#2788597">fieldAlign</a></span><span class="op" id="2795180">)</span>&nbsp;<span class="op" id="2795182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2795185">func</span>&nbsp;<span class="op" id="2795190">(</span><span class="ident" id="2795191">t</span>&nbsp;<span class="op" id="2795193">*</span><span class="ident" id="2795194"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2795199">)</span>&nbsp;<span class="ident" id="2795201">Kind</span><span class="op" id="2795205">(</span><span class="op" id="2795206">)</span>&nbsp;<span class="ident" id="2795208"><a href="/gostd/reflect/type.go.html#2787856">Kind</a></span>&nbsp;<span class="op" id="2795213">{</span>&nbsp;<span class="keyword" id="2795215">return</span>&nbsp;<span class="ident" id="2795222"><a href="/gostd/reflect/type.go.html#2787856">Kind</a></span><span class="op" id="2795226">(</span><span class="ident" id="2795227"><a href="/gostd/reflect/type.go.html#2795191">t</a></span><span class="op" id="2795228">.</span><span class="ident" id="2795229"><a href="/gostd/reflect/type.go.html#2788674">kind</a></span>&nbsp;<span class="op" id="2795234">&amp;</span>&nbsp;<span class="ident" id="2795236"><a href="/gostd/reflect/type.go.html#2793570">kindMask</a></span><span class="op" id="2795244">)</span>&nbsp;<span class="op" id="2795246">}</span><br>
<span class="lineno">480</span><br>
<span class="lineno"></span><span class="keyword" id="2795249">func</span>&nbsp;<span class="op" id="2795254">(</span><span class="ident" id="2795255">t</span>&nbsp;<span class="op" id="2795257">*</span><span class="ident" id="2795258"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2795263">)</span>&nbsp;<span class="ident" id="2795265">pointers</span><span class="op" id="2795273">(</span><span class="op" id="2795274">)</span>&nbsp;<span class="builtintype" id="2795276">bool</span>&nbsp;<span class="op" id="2795281">{</span>&nbsp;<span class="keyword" id="2795283">return</span>&nbsp;<span class="ident" id="2795290"><a href="/gostd/reflect/type.go.html#2795255">t</a></span><span class="op" id="2795291">.</span><span class="ident" id="2795292"><a href="/gostd/reflect/type.go.html#2788674">kind</a></span><span class="op" id="2795296">&amp;</span><span class="ident" id="2795297"><a href="/gostd/reflect/type.go.html#2793544">kindNoPointers</a></span>&nbsp;<span class="op" id="2795312">==</span>&nbsp;<span class="num" id="2795315">0</span>&nbsp;<span class="op" id="2795317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2795320">func</span>&nbsp;<span class="op" id="2795325">(</span><span class="ident" id="2795326">t</span>&nbsp;<span class="op" id="2795328">*</span><span class="ident" id="2795329"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2795334">)</span>&nbsp;<span class="ident" id="2795336">common</span><span class="op" id="2795342">(</span><span class="op" id="2795343">)</span>&nbsp;<span class="op" id="2795345">*</span><span class="ident" id="2795346"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="op" id="2795352">{</span>&nbsp;<span class="keyword" id="2795354">return</span>&nbsp;<span class="ident" id="2795361"><a href="/gostd/reflect/type.go.html#2795326">t</a></span>&nbsp;<span class="op" id="2795363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="keyword" id="2795366">func</span>&nbsp;<span class="op" id="2795371">(</span><span class="ident" id="2795372">t</span>&nbsp;<span class="op" id="2795374">*</span><span class="ident" id="2795375"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span><span class="op" id="2795387">)</span>&nbsp;<span class="ident" id="2795389">Method</span><span class="op" id="2795395">(</span><span class="ident" id="2795396">i</span>&nbsp;<span class="builtintype" id="2795398">int</span><span class="op" id="2795401">)</span>&nbsp;<span class="op" id="2795403">(</span><span class="ident" id="2795404">m</span>&nbsp;<span class="ident" id="2795406"><a href="/gostd/reflect/type.go.html#2792957">Method</a></span><span class="op" id="2795412">)</span>&nbsp;<span class="op" id="2795414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795417">if</span>&nbsp;<span class="ident" id="2795420"><a href="/gostd/reflect/type.go.html#2795372">t</a></span>&nbsp;<span class="op" id="2795422">==</span>&nbsp;<span class="builtintype" id="2795425">nil</span>&nbsp;<span class="op" id="2795429">||</span>&nbsp;<span class="ident" id="2795432"><a href="/gostd/reflect/type.go.html#2795396">i</a></span>&nbsp;<span class="op" id="2795434">&lt;</span>&nbsp;<span class="num" id="2795436">0</span>&nbsp;<span class="op" id="2795438">||</span>&nbsp;<span class="ident" id="2795441"><a href="/gostd/reflect/type.go.html#2795396">i</a></span>&nbsp;<span class="op" id="2795443">&gt;=</span>&nbsp;<span class="builtinfunc" id="2795446">len</span><span class="op" id="2795449">(</span><span class="ident" id="2795450"><a href="/gostd/reflect/type.go.html#2795372">t</a></span><span class="op" id="2795451">.</span><span class="ident" id="2795452"><a href="/gostd/reflect/type.go.html#2790313">methods</a></span><span class="op" id="2795459">)</span>&nbsp;<span class="op" id="2795461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2795465">panic</span><span class="op" id="2795470">(</span><span class="string" id="2795471">&#34;reflect:&nbsp;Method&nbsp;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2795507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2795510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795513">p</span>&nbsp;<span class="op" id="2795515">:=</span>&nbsp;<span class="op" id="2795518">&amp;</span><span class="ident" id="2795519"><a href="/gostd/reflect/type.go.html#2795372">t</a></span><span class="op" id="2795520">.</span><span class="ident" id="2795521"><a href="/gostd/reflect/type.go.html#2790313">methods</a></span><span class="op" id="2795528">[</span><span class="ident" id="2795529"><a href="/gostd/reflect/type.go.html#2795396">i</a></span><span class="op" id="2795530">]</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795533">if</span>&nbsp;<span class="ident" id="2795536"><a href="/gostd/reflect/type.go.html#2795513">p</a></span><span class="op" id="2795537">.</span><span class="ident" id="2795538"><a href="/gostd/reflect/type.go.html#2789552">name</a></span>&nbsp;<span class="op" id="2795543">!=</span>&nbsp;<span class="builtintype" id="2795546">nil</span>&nbsp;<span class="op" id="2795550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795554"><a href="/gostd/reflect/type.go.html#2795404">m</a></span><span class="op" id="2795555">.</span><span class="ident" id="2795556"><a href="/gostd/reflect/type.go.html#2793297">Name</a></span>&nbsp;<span class="op" id="2795561">=</span>&nbsp;<span class="op" id="2795563">*</span><span class="ident" id="2795564"><a href="/gostd/reflect/type.go.html#2795513">p</a></span><span class="op" id="2795565">.</span><span class="ident" id="2795566"><a href="/gostd/reflect/type.go.html#2789552">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2795572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795575">fl</span>&nbsp;<span class="op" id="2795578">:=</span>&nbsp;<span class="ident" id="2795581"><a href="/gostd/reflect/value.go.html#2834688">flag</a></span><span class="op" id="2795585">(</span><span class="ident" id="2795586"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span><span class="op" id="2795590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795593">if</span>&nbsp;<span class="ident" id="2795596"><a href="/gostd/reflect/type.go.html#2795513">p</a></span><span class="op" id="2795597">.</span><span class="ident" id="2795598"><a href="/gostd/reflect/type.go.html#2789594">pkgPath</a></span>&nbsp;<span class="op" id="2795606">!=</span>&nbsp;<span class="builtintype" id="2795609">nil</span>&nbsp;<span class="op" id="2795613">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795617"><a href="/gostd/reflect/type.go.html#2795404">m</a></span><span class="op" id="2795618">.</span><span class="ident" id="2795619"><a href="/gostd/reflect/type.go.html#2793313">PkgPath</a></span>&nbsp;<span class="op" id="2795627">=</span>&nbsp;<span class="op" id="2795629">*</span><span class="ident" id="2795630"><a href="/gostd/reflect/type.go.html#2795513">p</a></span><span class="op" id="2795631">.</span><span class="ident" id="2795632"><a href="/gostd/reflect/type.go.html#2789594">pkgPath</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795642"><a href="/gostd/reflect/type.go.html#2795575">fl</a></span>&nbsp;<span class="op" id="2795645">|=</span>&nbsp;<span class="ident" id="2795648"><a href="/gostd/reflect/value.go.html#2834804">flagRO</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2795656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795659">mt</span>&nbsp;<span class="op" id="2795662">:=</span>&nbsp;<span class="ident" id="2795665"><a href="/gostd/reflect/type.go.html#2795513">p</a></span><span class="op" id="2795666">.</span><span class="ident" id="2795667"><a href="/gostd/reflect/type.go.html#2789725">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795672"><a href="/gostd/reflect/type.go.html#2795404">m</a></span><span class="op" id="2795673">.</span><span class="ident" id="2795674"><a href="/gostd/reflect/type.go.html#2793330">Type</a></span>&nbsp;<span class="op" id="2795679">=</span>&nbsp;<span class="ident" id="2795681"><a href="/gostd/reflect/type.go.html#2795659">mt</a></span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795685">fn</span>&nbsp;<span class="op" id="2795688">:=</span>&nbsp;<span class="ident" id="2795691"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2795697">.</span><span class="ident" id="2795698">Pointer</span><span class="op" id="2795705">(</span><span class="op" id="2795706">&amp;</span><span class="ident" id="2795707"><a href="/gostd/reflect/type.go.html#2795513">p</a></span><span class="op" id="2795708">.</span><span class="ident" id="2795709"><a href="/gostd/reflect/type.go.html#2789865">tfn</a></span><span class="op" id="2795712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795715"><a href="/gostd/reflect/type.go.html#2795404">m</a></span><span class="op" id="2795716">.</span><span class="ident" id="2795717"><a href="/gostd/reflect/type.go.html#2793358">Func</a></span>&nbsp;<span class="op" id="2795722">=</span>&nbsp;<span class="ident" id="2795724"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="2795729">{</span><span class="ident" id="2795730"><a href="/gostd/reflect/type.go.html#2795659">mt</a></span><span class="op" id="2795732">,</span>&nbsp;<span class="ident" id="2795734"><a href="/gostd/reflect/type.go.html#2795685">fn</a></span><span class="op" id="2795736">,</span>&nbsp;<span class="ident" id="2795738"><a href="/gostd/reflect/type.go.html#2795575">fl</a></span><span class="op" id="2795740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2795743"><a href="/gostd/reflect/type.go.html#2795404">m</a></span><span class="op" id="2795744">.</span><span class="ident" id="2795745"><a href="/gostd/reflect/type.go.html#2793411">Index</a></span>&nbsp;<span class="op" id="2795751">=</span>&nbsp;<span class="ident" id="2795753"><a href="/gostd/reflect/type.go.html#2795396">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795756">return</span><br>
<span class="lineno"></span><span class="op" id="2795763">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="2795766">func</span>&nbsp;<span class="op" id="2795771">(</span><span class="ident" id="2795772">t</span>&nbsp;<span class="op" id="2795774">*</span><span class="ident" id="2795775"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span><span class="op" id="2795787">)</span>&nbsp;<span class="ident" id="2795789">NumMethod</span><span class="op" id="2795798">(</span><span class="op" id="2795799">)</span>&nbsp;<span class="builtintype" id="2795801">int</span>&nbsp;<span class="op" id="2795805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795808">if</span>&nbsp;<span class="ident" id="2795811"><a href="/gostd/reflect/type.go.html#2795772">t</a></span>&nbsp;<span class="op" id="2795813">==</span>&nbsp;<span class="builtintype" id="2795816">nil</span>&nbsp;<span class="op" id="2795820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795824">return</span>&nbsp;<span class="num" id="2795831">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2795834">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795837">return</span>&nbsp;<span class="builtinfunc" id="2795844">len</span><span class="op" id="2795847">(</span><span class="ident" id="2795848"><a href="/gostd/reflect/type.go.html#2795772">t</a></span><span class="op" id="2795849">.</span><span class="ident" id="2795850"><a href="/gostd/reflect/type.go.html#2790313">methods</a></span><span class="op" id="2795857">)</span><br>
<span class="lineno"></span><span class="op" id="2795859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2795862">func</span>&nbsp;<span class="op" id="2795867">(</span><span class="ident" id="2795868">t</span>&nbsp;<span class="op" id="2795870">*</span><span class="ident" id="2795871"><a href="/gostd/reflect/type.go.html#2790182">uncommonType</a></span><span class="op" id="2795883">)</span>&nbsp;<span class="ident" id="2795885">MethodByName</span><span class="op" id="2795897">(</span><span class="ident" id="2795898">name</span>&nbsp;<span class="builtintype" id="2795903">string</span><span class="op" id="2795909">)</span>&nbsp;<span class="op" id="2795911">(</span><span class="ident" id="2795912">m</span>&nbsp;<span class="ident" id="2795914"><a href="/gostd/reflect/type.go.html#2792957">Method</a></span><span class="op" id="2795920">,</span>&nbsp;<span class="ident" id="2795922">ok</span>&nbsp;<span class="builtintype" id="2795925">bool</span><span class="op" id="2795929">)</span>&nbsp;<span class="op" id="2795931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795934">if</span>&nbsp;<span class="ident" id="2795937"><a href="/gostd/reflect/type.go.html#2795868">t</a></span>&nbsp;<span class="op" id="2795939">==</span>&nbsp;<span class="builtintype" id="2795942">nil</span>&nbsp;<span class="op" id="2795946">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795950">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2795958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795961">var</span>&nbsp;<span class="ident" id="2795965">p</span>&nbsp;<span class="op" id="2795967">*</span><span class="ident" id="2795968"><a href="/gostd/reflect/type.go.html#2789535">method</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2795976">for</span>&nbsp;<span class="ident" id="2795980">i</span>&nbsp;<span class="op" id="2795982">:=</span>&nbsp;<span class="keyword" id="2795985">range</span>&nbsp;<span class="ident" id="2795991"><a href="/gostd/reflect/type.go.html#2795868">t</a></span><span class="op" id="2795992">.</span><span class="ident" id="2795993"><a href="/gostd/reflect/type.go.html#2790313">methods</a></span>&nbsp;<span class="op" id="2796001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2796005"><a href="/gostd/reflect/type.go.html#2795965">p</a></span>&nbsp;<span class="op" id="2796007">=</span>&nbsp;<span class="op" id="2796009">&amp;</span><span class="ident" id="2796010"><a href="/gostd/reflect/type.go.html#2795868">t</a></span><span class="op" id="2796011">.</span><span class="ident" id="2796012"><a href="/gostd/reflect/type.go.html#2790313">methods</a></span><span class="op" id="2796019">[</span><span class="ident" id="2796020"><a href="/gostd/reflect/type.go.html#2795980">i</a></span><span class="op" id="2796021">]</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796025">if</span>&nbsp;<span class="ident" id="2796028"><a href="/gostd/reflect/type.go.html#2795965">p</a></span><span class="op" id="2796029">.</span><span class="ident" id="2796030"><a href="/gostd/reflect/type.go.html#2789552">name</a></span>&nbsp;<span class="op" id="2796035">!=</span>&nbsp;<span class="builtintype" id="2796038">nil</span>&nbsp;<span class="op" id="2796042">&amp;&amp;</span>&nbsp;<span class="op" id="2796045">*</span><span class="ident" id="2796046"><a href="/gostd/reflect/type.go.html#2795965">p</a></span><span class="op" id="2796047">.</span><span class="ident" id="2796048"><a href="/gostd/reflect/type.go.html#2789552">name</a></span>&nbsp;<span class="op" id="2796053">==</span>&nbsp;<span class="ident" id="2796056"><a href="/gostd/reflect/type.go.html#2795898">name</a></span>&nbsp;<span class="op" id="2796061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796066">return</span>&nbsp;<span class="ident" id="2796073"><a href="/gostd/reflect/type.go.html#2795868">t</a></span><span class="op" id="2796074">.</span><span class="ident" id="2796075"><a href="/gostd/reflect/type.go.html#2795389">Method</a></span><span class="op" id="2796081">(</span><span class="ident" id="2796082"><a href="/gostd/reflect/type.go.html#2795980">i</a></span><span class="op" id="2796083">)</span><span class="op" id="2796084">,</span>&nbsp;<span class="builtintype" id="2796086">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2796093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2796096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796099">return</span><br>
<span class="lineno">525</span><span class="op" id="2796106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2796109">//&nbsp;TODO(rsc):&nbsp;6g&nbsp;supplies&nbsp;these,&nbsp;but&nbsp;they&nbsp;are&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="2796159">//&nbsp;as&nbsp;efficient&nbsp;as&nbsp;they&nbsp;could&nbsp;be:&nbsp;they&nbsp;have&nbsp;commonType</span><br>
<span class="lineno"></span><span class="comment" id="2796214">//&nbsp;as&nbsp;the&nbsp;receiver&nbsp;instead&nbsp;of&nbsp;*rtype.</span><br>
<span class="lineno">530</span><span class="keyword" id="2796252">func</span>&nbsp;<span class="op" id="2796257">(</span><span class="ident" id="2796258">t</span>&nbsp;<span class="op" id="2796260">*</span><span class="ident" id="2796261"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2796266">)</span>&nbsp;<span class="ident" id="2796268">NumMethod</span><span class="op" id="2796277">(</span><span class="op" id="2796278">)</span>&nbsp;<span class="builtintype" id="2796280">int</span>&nbsp;<span class="op" id="2796284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796287">if</span>&nbsp;<span class="ident" id="2796290"><a href="/gostd/reflect/type.go.html#2796258">t</a></span><span class="op" id="2796291">.</span><span class="ident" id="2796292"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2796296">(</span><span class="op" id="2796297">)</span>&nbsp;<span class="op" id="2796299">==</span>&nbsp;<span class="ident" id="2796302"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span>&nbsp;<span class="op" id="2796312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2796316">tt</span>&nbsp;<span class="op" id="2796319">:=</span>&nbsp;<span class="op" id="2796322">(</span><span class="op" id="2796323">*</span><span class="ident" id="2796324"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2796337">)</span><span class="op" id="2796338">(</span><span class="ident" id="2796339"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2796345">.</span><span class="ident" id="2796346">Pointer</span><span class="op" id="2796353">(</span><span class="ident" id="2796354"><a href="/gostd/reflect/type.go.html#2796258">t</a></span><span class="op" id="2796355">)</span><span class="op" id="2796356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796360">return</span>&nbsp;<span class="ident" id="2796367"><a href="/gostd/reflect/type.go.html#2796316">tt</a></span><span class="op" id="2796369">.</span><span class="ident" id="2796370"><a href="/gostd/reflect/type.go.html#2800345">NumMethod</a></span><span class="op" id="2796379">(</span><span class="op" id="2796380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2796383">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796386">return</span>&nbsp;<span class="ident" id="2796393"><a href="/gostd/reflect/type.go.html#2796258">t</a></span><span class="op" id="2796394">.</span><span class="ident" id="2796395"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span><span class="op" id="2796407">.</span><span class="ident" id="2796408"><a href="/gostd/reflect/type.go.html#2795789">NumMethod</a></span><span class="op" id="2796417">(</span><span class="op" id="2796418">)</span><br>
<span class="lineno"></span><span class="op" id="2796420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2796423">func</span>&nbsp;<span class="op" id="2796428">(</span><span class="ident" id="2796429">t</span>&nbsp;<span class="op" id="2796431">*</span><span class="ident" id="2796432"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2796437">)</span>&nbsp;<span class="ident" id="2796439">Method</span><span class="op" id="2796445">(</span><span class="ident" id="2796446">i</span>&nbsp;<span class="builtintype" id="2796448">int</span><span class="op" id="2796451">)</span>&nbsp;<span class="op" id="2796453">(</span><span class="ident" id="2796454">m</span>&nbsp;<span class="ident" id="2796456"><a href="/gostd/reflect/type.go.html#2792957">Method</a></span><span class="op" id="2796462">)</span>&nbsp;<span class="op" id="2796464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796467">if</span>&nbsp;<span class="ident" id="2796470"><a href="/gostd/reflect/type.go.html#2796429">t</a></span><span class="op" id="2796471">.</span><span class="ident" id="2796472"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2796476">(</span><span class="op" id="2796477">)</span>&nbsp;<span class="op" id="2796479">==</span>&nbsp;<span class="ident" id="2796482"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span>&nbsp;<span class="op" id="2796492">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2796496">tt</span>&nbsp;<span class="op" id="2796499">:=</span>&nbsp;<span class="op" id="2796502">(</span><span class="op" id="2796503">*</span><span class="ident" id="2796504"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2796517">)</span><span class="op" id="2796518">(</span><span class="ident" id="2796519"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2796525">.</span><span class="ident" id="2796526">Pointer</span><span class="op" id="2796533">(</span><span class="ident" id="2796534"><a href="/gostd/reflect/type.go.html#2796429">t</a></span><span class="op" id="2796535">)</span><span class="op" id="2796536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796540">return</span>&nbsp;<span class="ident" id="2796547"><a href="/gostd/reflect/type.go.html#2796496">tt</a></span><span class="op" id="2796549">.</span><span class="ident" id="2796550"><a href="/gostd/reflect/type.go.html#2800031">Method</a></span><span class="op" id="2796556">(</span><span class="ident" id="2796557"><a href="/gostd/reflect/type.go.html#2796446">i</a></span><span class="op" id="2796558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2796561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796564">return</span>&nbsp;<span class="ident" id="2796571"><a href="/gostd/reflect/type.go.html#2796429">t</a></span><span class="op" id="2796572">.</span><span class="ident" id="2796573"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span><span class="op" id="2796585">.</span><span class="ident" id="2796586"><a href="/gostd/reflect/type.go.html#2795389">Method</a></span><span class="op" id="2796592">(</span><span class="ident" id="2796593"><a href="/gostd/reflect/type.go.html#2796446">i</a></span><span class="op" id="2796594">)</span><br>
<span class="lineno"></span><span class="op" id="2796596">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="2796599">func</span>&nbsp;<span class="op" id="2796604">(</span><span class="ident" id="2796605">t</span>&nbsp;<span class="op" id="2796607">*</span><span class="ident" id="2796608"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2796613">)</span>&nbsp;<span class="ident" id="2796615">MethodByName</span><span class="op" id="2796627">(</span><span class="ident" id="2796628">name</span>&nbsp;<span class="builtintype" id="2796633">string</span><span class="op" id="2796639">)</span>&nbsp;<span class="op" id="2796641">(</span><span class="ident" id="2796642">m</span>&nbsp;<span class="ident" id="2796644"><a href="/gostd/reflect/type.go.html#2792957">Method</a></span><span class="op" id="2796650">,</span>&nbsp;<span class="ident" id="2796652">ok</span>&nbsp;<span class="builtintype" id="2796655">bool</span><span class="op" id="2796659">)</span>&nbsp;<span class="op" id="2796661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796664">if</span>&nbsp;<span class="ident" id="2796667"><a href="/gostd/reflect/type.go.html#2796605">t</a></span><span class="op" id="2796668">.</span><span class="ident" id="2796669"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2796673">(</span><span class="op" id="2796674">)</span>&nbsp;<span class="op" id="2796676">==</span>&nbsp;<span class="ident" id="2796679"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span>&nbsp;<span class="op" id="2796689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2796693">tt</span>&nbsp;<span class="op" id="2796696">:=</span>&nbsp;<span class="op" id="2796699">(</span><span class="op" id="2796700">*</span><span class="ident" id="2796701"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2796714">)</span><span class="op" id="2796715">(</span><span class="ident" id="2796716"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2796722">.</span><span class="ident" id="2796723">Pointer</span><span class="op" id="2796730">(</span><span class="ident" id="2796731"><a href="/gostd/reflect/type.go.html#2796605">t</a></span><span class="op" id="2796732">)</span><span class="op" id="2796733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796737">return</span>&nbsp;<span class="ident" id="2796744"><a href="/gostd/reflect/type.go.html#2796693">tt</a></span><span class="op" id="2796746">.</span><span class="ident" id="2796747"><a href="/gostd/reflect/type.go.html#2800481">MethodByName</a></span><span class="op" id="2796759">(</span><span class="ident" id="2796760"><a href="/gostd/reflect/type.go.html#2796628">name</a></span><span class="op" id="2796764">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2796767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796770">return</span>&nbsp;<span class="ident" id="2796777"><a href="/gostd/reflect/type.go.html#2796605">t</a></span><span class="op" id="2796778">.</span><span class="ident" id="2796779"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span><span class="op" id="2796791">.</span><span class="ident" id="2796792"><a href="/gostd/reflect/type.go.html#2795885">MethodByName</a></span><span class="op" id="2796804">(</span><span class="ident" id="2796805"><a href="/gostd/reflect/type.go.html#2796628">name</a></span><span class="op" id="2796809">)</span><br>
<span class="lineno"></span><span class="op" id="2796811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2796814">func</span>&nbsp;<span class="op" id="2796819">(</span><span class="ident" id="2796820">t</span>&nbsp;<span class="op" id="2796822">*</span><span class="ident" id="2796823"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2796828">)</span>&nbsp;<span class="ident" id="2796830">PkgPath</span><span class="op" id="2796837">(</span><span class="op" id="2796838">)</span>&nbsp;<span class="builtintype" id="2796840">string</span>&nbsp;<span class="op" id="2796847">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796850">return</span>&nbsp;<span class="ident" id="2796857"><a href="/gostd/reflect/type.go.html#2796820">t</a></span><span class="op" id="2796858">.</span><span class="ident" id="2796859"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span><span class="op" id="2796871">.</span><span class="ident" id="2796872"><a href="/gostd/reflect/type.go.html#2794546">PkgPath</a></span><span class="op" id="2796879">(</span><span class="op" id="2796880">)</span><br>
<span class="lineno"></span><span class="op" id="2796882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2796885">func</span>&nbsp;<span class="op" id="2796890">(</span><span class="ident" id="2796891">t</span>&nbsp;<span class="op" id="2796893">*</span><span class="ident" id="2796894"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2796899">)</span>&nbsp;<span class="ident" id="2796901">Name</span><span class="op" id="2796905">(</span><span class="op" id="2796906">)</span>&nbsp;<span class="builtintype" id="2796908">string</span>&nbsp;<span class="op" id="2796915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796918">return</span>&nbsp;<span class="ident" id="2796925"><a href="/gostd/reflect/type.go.html#2796891">t</a></span><span class="op" id="2796926">.</span><span class="ident" id="2796927"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span><span class="op" id="2796939">.</span><span class="ident" id="2796940"><a href="/gostd/reflect/type.go.html#2794660">Name</a></span><span class="op" id="2796944">(</span><span class="op" id="2796945">)</span><br>
<span class="lineno">560</span><span class="op" id="2796947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2796950">func</span>&nbsp;<span class="op" id="2796955">(</span><span class="ident" id="2796956">t</span>&nbsp;<span class="op" id="2796958">*</span><span class="ident" id="2796959"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2796964">)</span>&nbsp;<span class="ident" id="2796966">ChanDir</span><span class="op" id="2796973">(</span><span class="op" id="2796974">)</span>&nbsp;<span class="ident" id="2796976"><a href="/gostd/reflect/type.go.html#2790420">ChanDir</a></span>&nbsp;<span class="op" id="2796984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2796987">if</span>&nbsp;<span class="ident" id="2796990"><a href="/gostd/reflect/type.go.html#2796956">t</a></span><span class="op" id="2796991">.</span><span class="ident" id="2796992"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2796996">(</span><span class="op" id="2796997">)</span>&nbsp;<span class="op" id="2796999">!=</span>&nbsp;<span class="ident" id="2797002"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span>&nbsp;<span class="op" id="2797007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2797011">panic</span><span class="op" id="2797016">(</span><span class="string" id="2797017">&#34;reflect:&nbsp;ChanDir&nbsp;of&nbsp;non-chan&nbsp;type&#34;</span><span class="op" id="2797052">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2797055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2797058">tt</span>&nbsp;<span class="op" id="2797061">:=</span>&nbsp;<span class="op" id="2797064">(</span><span class="op" id="2797065">*</span><span class="ident" id="2797066"><a href="/gostd/reflect/type.go.html#2790814">chanType</a></span><span class="op" id="2797074">)</span><span class="op" id="2797075">(</span><span class="ident" id="2797076"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2797082">.</span><span class="ident" id="2797083">Pointer</span><span class="op" id="2797090">(</span><span class="ident" id="2797091"><a href="/gostd/reflect/type.go.html#2796956">t</a></span><span class="op" id="2797092">)</span><span class="op" id="2797093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797096">return</span>&nbsp;<span class="ident" id="2797103"><a href="/gostd/reflect/type.go.html#2790420">ChanDir</a></span><span class="op" id="2797110">(</span><span class="ident" id="2797111"><a href="/gostd/reflect/type.go.html#2797058">tt</a></span><span class="op" id="2797113">.</span><span class="ident" id="2797114"><a href="/gostd/reflect/type.go.html#2790896">dir</a></span><span class="op" id="2797117">)</span><br>
<span class="lineno"></span><span class="op" id="2797119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="keyword" id="2797122">func</span>&nbsp;<span class="op" id="2797127">(</span><span class="ident" id="2797128">t</span>&nbsp;<span class="op" id="2797130">*</span><span class="ident" id="2797131"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2797136">)</span>&nbsp;<span class="ident" id="2797138">IsVariadic</span><span class="op" id="2797148">(</span><span class="op" id="2797149">)</span>&nbsp;<span class="builtintype" id="2797151">bool</span>&nbsp;<span class="op" id="2797156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797159">if</span>&nbsp;<span class="ident" id="2797162"><a href="/gostd/reflect/type.go.html#2797128">t</a></span><span class="op" id="2797163">.</span><span class="ident" id="2797164"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2797168">(</span><span class="op" id="2797169">)</span>&nbsp;<span class="op" id="2797171">!=</span>&nbsp;<span class="ident" id="2797174"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span>&nbsp;<span class="op" id="2797179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2797183">panic</span><span class="op" id="2797188">(</span><span class="string" id="2797189">&#34;reflect:&nbsp;IsVariadic&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2797227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2797230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2797233">tt</span>&nbsp;<span class="op" id="2797236">:=</span>&nbsp;<span class="op" id="2797239">(</span><span class="op" id="2797240">*</span><span class="ident" id="2797241"><a href="/gostd/reflect/type.go.html#2790989">funcType</a></span><span class="op" id="2797249">)</span><span class="op" id="2797250">(</span><span class="ident" id="2797251"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2797257">.</span><span class="ident" id="2797258">Pointer</span><span class="op" id="2797265">(</span><span class="ident" id="2797266"><a href="/gostd/reflect/type.go.html#2797128">t</a></span><span class="op" id="2797267">)</span><span class="op" id="2797268">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797271">return</span>&nbsp;<span class="ident" id="2797278"><a href="/gostd/reflect/type.go.html#2797233">tt</a></span><span class="op" id="2797280">.</span><span class="ident" id="2797281"><a href="/gostd/reflect/type.go.html#2791036">dotdotdot</a></span><br>
<span class="lineno"></span><span class="op" id="2797291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2797294">func</span>&nbsp;<span class="op" id="2797299">(</span><span class="ident" id="2797300">t</span>&nbsp;<span class="op" id="2797302">*</span><span class="ident" id="2797303"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2797308">)</span>&nbsp;<span class="ident" id="2797310">Elem</span><span class="op" id="2797314">(</span><span class="op" id="2797315">)</span>&nbsp;<span class="ident" id="2797317"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2797322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797325">switch</span>&nbsp;<span class="ident" id="2797332"><a href="/gostd/reflect/type.go.html#2797300">t</a></span><span class="op" id="2797333">.</span><span class="ident" id="2797334"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2797338">(</span><span class="op" id="2797339">)</span>&nbsp;<span class="op" id="2797341">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797344">case</span>&nbsp;<span class="ident" id="2797349"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="2797354">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2797358">tt</span>&nbsp;<span class="op" id="2797361">:=</span>&nbsp;<span class="op" id="2797364">(</span><span class="op" id="2797365">*</span><span class="ident" id="2797366"><a href="/gostd/reflect/type.go.html#2790644">arrayType</a></span><span class="op" id="2797375">)</span><span class="op" id="2797376">(</span><span class="ident" id="2797377"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2797383">.</span><span class="ident" id="2797384">Pointer</span><span class="op" id="2797391">(</span><span class="ident" id="2797392"><a href="/gostd/reflect/type.go.html#2797300">t</a></span><span class="op" id="2797393">)</span><span class="op" id="2797394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797398">return</span>&nbsp;<span class="ident" id="2797405"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2797411">(</span><span class="ident" id="2797412"><a href="/gostd/reflect/type.go.html#2797358">tt</a></span><span class="op" id="2797414">.</span><span class="ident" id="2797415"><a href="/gostd/reflect/type.go.html#2790689">elem</a></span><span class="op" id="2797419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797422">case</span>&nbsp;<span class="ident" id="2797427"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span><span class="op" id="2797431">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2797435">tt</span>&nbsp;<span class="op" id="2797438">:=</span>&nbsp;<span class="op" id="2797441">(</span><span class="op" id="2797442">*</span><span class="ident" id="2797443"><a href="/gostd/reflect/type.go.html#2790814">chanType</a></span><span class="op" id="2797451">)</span><span class="op" id="2797452">(</span><span class="ident" id="2797453"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2797459">.</span><span class="ident" id="2797460">Pointer</span><span class="op" id="2797467">(</span><span class="ident" id="2797468"><a href="/gostd/reflect/type.go.html#2797300">t</a></span><span class="op" id="2797469">)</span><span class="op" id="2797470">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797474">return</span>&nbsp;<span class="ident" id="2797481"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2797487">(</span><span class="ident" id="2797488"><a href="/gostd/reflect/type.go.html#2797435">tt</a></span><span class="op" id="2797490">.</span><span class="ident" id="2797491"><a href="/gostd/reflect/type.go.html#2790857">elem</a></span><span class="op" id="2797495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797498">case</span>&nbsp;<span class="ident" id="2797503"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="2797506">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2797510">tt</span>&nbsp;<span class="op" id="2797513">:=</span>&nbsp;<span class="op" id="2797516">(</span><span class="op" id="2797517">*</span><span class="ident" id="2797518"><a href="/gostd/reflect/type.go.html#2791587">mapType</a></span><span class="op" id="2797525">)</span><span class="op" id="2797526">(</span><span class="ident" id="2797527"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2797533">.</span><span class="ident" id="2797534">Pointer</span><span class="op" id="2797541">(</span><span class="ident" id="2797542"><a href="/gostd/reflect/type.go.html#2797300">t</a></span><span class="op" id="2797543">)</span><span class="op" id="2797544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797548">return</span>&nbsp;<span class="ident" id="2797555"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2797561">(</span><span class="ident" id="2797562"><a href="/gostd/reflect/type.go.html#2797510">tt</a></span><span class="op" id="2797564">.</span><span class="ident" id="2797565"><a href="/gostd/reflect/type.go.html#2791674">elem</a></span><span class="op" id="2797569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797572">case</span>&nbsp;<span class="ident" id="2797577"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span><span class="op" id="2797580">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2797584">tt</span>&nbsp;<span class="op" id="2797587">:=</span>&nbsp;<span class="op" id="2797590">(</span><span class="op" id="2797591">*</span><span class="ident" id="2797592"><a href="/gostd/reflect/type.go.html#2792123">ptrType</a></span><span class="op" id="2797599">)</span><span class="op" id="2797600">(</span><span class="ident" id="2797601"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2797607">.</span><span class="ident" id="2797608">Pointer</span><span class="op" id="2797615">(</span><span class="ident" id="2797616"><a href="/gostd/reflect/type.go.html#2797300">t</a></span><span class="op" id="2797617">)</span><span class="op" id="2797618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797622">return</span>&nbsp;<span class="ident" id="2797629"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2797635">(</span><span class="ident" id="2797636"><a href="/gostd/reflect/type.go.html#2797584">tt</a></span><span class="op" id="2797638">.</span><span class="ident" id="2797639"><a href="/gostd/reflect/type.go.html#2792164">elem</a></span><span class="op" id="2797643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797646">case</span>&nbsp;<span class="ident" id="2797651"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2797656">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2797660">tt</span>&nbsp;<span class="op" id="2797663">:=</span>&nbsp;<span class="op" id="2797666">(</span><span class="op" id="2797667">*</span><span class="ident" id="2797668"><a href="/gostd/reflect/type.go.html#2792260">sliceType</a></span><span class="op" id="2797677">)</span><span class="op" id="2797678">(</span><span class="ident" id="2797679"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2797685">.</span><span class="ident" id="2797686">Pointer</span><span class="op" id="2797693">(</span><span class="ident" id="2797694"><a href="/gostd/reflect/type.go.html#2797300">t</a></span><span class="op" id="2797695">)</span><span class="op" id="2797696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797700">return</span>&nbsp;<span class="ident" id="2797707"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2797713">(</span><span class="ident" id="2797714"><a href="/gostd/reflect/type.go.html#2797660">tt</a></span><span class="op" id="2797716">.</span><span class="ident" id="2797717"><a href="/gostd/reflect/type.go.html#2792305">elem</a></span><span class="op" id="2797721">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2797724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2797727">panic</span><span class="op" id="2797732">(</span><span class="string" id="2797733">&#34;reflect:&nbsp;Elem&nbsp;of&nbsp;invalid&nbsp;type&#34;</span><span class="op" id="2797764">)</span><br>
<span class="lineno"></span><span class="op" id="2797766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2797769">func</span>&nbsp;<span class="op" id="2797774">(</span><span class="ident" id="2797775">t</span>&nbsp;<span class="op" id="2797777">*</span><span class="ident" id="2797778"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2797783">)</span>&nbsp;<span class="ident" id="2797785">Field</span><span class="op" id="2797790">(</span><span class="ident" id="2797791">i</span>&nbsp;<span class="builtintype" id="2797793">int</span><span class="op" id="2797796">)</span>&nbsp;<span class="ident" id="2797798"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span>&nbsp;<span class="op" id="2797810">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797813">if</span>&nbsp;<span class="ident" id="2797816"><a href="/gostd/reflect/type.go.html#2797775">t</a></span><span class="op" id="2797817">.</span><span class="ident" id="2797818"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2797822">(</span><span class="op" id="2797823">)</span>&nbsp;<span class="op" id="2797825">!=</span>&nbsp;<span class="ident" id="2797828"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span>&nbsp;<span class="op" id="2797835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2797839">panic</span><span class="op" id="2797844">(</span><span class="string" id="2797845">&#34;reflect:&nbsp;Field&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2797880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2797883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2797886">tt</span>&nbsp;<span class="op" id="2797889">:=</span>&nbsp;<span class="op" id="2797892">(</span><span class="op" id="2797893">*</span><span class="ident" id="2797894"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2797904">)</span><span class="op" id="2797905">(</span><span class="ident" id="2797906"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2797912">.</span><span class="ident" id="2797913">Pointer</span><span class="op" id="2797920">(</span><span class="ident" id="2797921"><a href="/gostd/reflect/type.go.html#2797775">t</a></span><span class="op" id="2797922">)</span><span class="op" id="2797923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2797926">return</span>&nbsp;<span class="ident" id="2797933"><a href="/gostd/reflect/type.go.html#2797886">tt</a></span><span class="op" id="2797935">.</span><span class="ident" id="2797936"><a href="/gostd/reflect/type.go.html#2802751">Field</a></span><span class="op" id="2797941">(</span><span class="ident" id="2797942"><a href="/gostd/reflect/type.go.html#2797791">i</a></span><span class="op" id="2797943">)</span><br>
<span class="lineno">605</span><span class="op" id="2797945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2797948">func</span>&nbsp;<span class="op" id="2797953">(</span><span class="ident" id="2797954">t</span>&nbsp;<span class="op" id="2797956">*</span><span class="ident" id="2797957"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2797962">)</span>&nbsp;<span class="ident" id="2797964">FieldByIndex</span><span class="op" id="2797976">(</span><span class="ident" id="2797977">index</span>&nbsp;<span class="op" id="2797983">[</span><span class="op" id="2797984">]</span><span class="builtintype" id="2797985">int</span><span class="op" id="2797988">)</span>&nbsp;<span class="ident" id="2797990"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span>&nbsp;<span class="op" id="2798002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798005">if</span>&nbsp;<span class="ident" id="2798008"><a href="/gostd/reflect/type.go.html#2797954">t</a></span><span class="op" id="2798009">.</span><span class="ident" id="2798010"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2798014">(</span><span class="op" id="2798015">)</span>&nbsp;<span class="op" id="2798017">!=</span>&nbsp;<span class="ident" id="2798020"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span>&nbsp;<span class="op" id="2798027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2798031">panic</span><span class="op" id="2798036">(</span><span class="string" id="2798037">&#34;reflect:&nbsp;FieldByIndex&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2798079">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2798082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2798085">tt</span>&nbsp;<span class="op" id="2798088">:=</span>&nbsp;<span class="op" id="2798091">(</span><span class="op" id="2798092">*</span><span class="ident" id="2798093"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2798103">)</span><span class="op" id="2798104">(</span><span class="ident" id="2798105"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2798111">.</span><span class="ident" id="2798112">Pointer</span><span class="op" id="2798119">(</span><span class="ident" id="2798120"><a href="/gostd/reflect/type.go.html#2797954">t</a></span><span class="op" id="2798121">)</span><span class="op" id="2798122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798125">return</span>&nbsp;<span class="ident" id="2798132"><a href="/gostd/reflect/type.go.html#2798085">tt</a></span><span class="op" id="2798134">.</span><span class="ident" id="2798135"><a href="/gostd/reflect/type.go.html#2803779">FieldByIndex</a></span><span class="op" id="2798147">(</span><span class="ident" id="2798148"><a href="/gostd/reflect/type.go.html#2797977">index</a></span><span class="op" id="2798153">)</span><br>
<span class="lineno"></span><span class="op" id="2798155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span><span class="keyword" id="2798158">func</span>&nbsp;<span class="op" id="2798163">(</span><span class="ident" id="2798164">t</span>&nbsp;<span class="op" id="2798166">*</span><span class="ident" id="2798167"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2798172">)</span>&nbsp;<span class="ident" id="2798174">FieldByName</span><span class="op" id="2798185">(</span><span class="ident" id="2798186">name</span>&nbsp;<span class="builtintype" id="2798191">string</span><span class="op" id="2798197">)</span>&nbsp;<span class="op" id="2798199">(</span><span class="ident" id="2798200"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2798211">,</span>&nbsp;<span class="builtintype" id="2798213">bool</span><span class="op" id="2798217">)</span>&nbsp;<span class="op" id="2798219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798222">if</span>&nbsp;<span class="ident" id="2798225"><a href="/gostd/reflect/type.go.html#2798164">t</a></span><span class="op" id="2798226">.</span><span class="ident" id="2798227"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2798231">(</span><span class="op" id="2798232">)</span>&nbsp;<span class="op" id="2798234">!=</span>&nbsp;<span class="ident" id="2798237"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span>&nbsp;<span class="op" id="2798244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2798248">panic</span><span class="op" id="2798253">(</span><span class="string" id="2798254">&#34;reflect:&nbsp;FieldByName&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2798295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2798298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2798301">tt</span>&nbsp;<span class="op" id="2798304">:=</span>&nbsp;<span class="op" id="2798307">(</span><span class="op" id="2798308">*</span><span class="ident" id="2798309"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2798319">)</span><span class="op" id="2798320">(</span><span class="ident" id="2798321"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2798327">.</span><span class="ident" id="2798328">Pointer</span><span class="op" id="2798335">(</span><span class="ident" id="2798336"><a href="/gostd/reflect/type.go.html#2798164">t</a></span><span class="op" id="2798337">)</span><span class="op" id="2798338">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798341">return</span>&nbsp;<span class="ident" id="2798348"><a href="/gostd/reflect/type.go.html#2798301">tt</a></span><span class="op" id="2798350">.</span><span class="ident" id="2798351"><a href="/gostd/reflect/type.go.html#2808177">FieldByName</a></span><span class="op" id="2798362">(</span><span class="ident" id="2798363"><a href="/gostd/reflect/type.go.html#2798186">name</a></span><span class="op" id="2798367">)</span><br>
<span class="lineno"></span><span class="op" id="2798369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2798372">func</span>&nbsp;<span class="op" id="2798377">(</span><span class="ident" id="2798378">t</span>&nbsp;<span class="op" id="2798380">*</span><span class="ident" id="2798381"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2798386">)</span>&nbsp;<span class="ident" id="2798388">FieldByNameFunc</span><span class="op" id="2798403">(</span><span class="ident" id="2798404">match</span>&nbsp;<span class="keyword" id="2798410">func</span><span class="op" id="2798414">(</span><span class="builtintype" id="2798415">string</span><span class="op" id="2798421">)</span>&nbsp;<span class="builtintype" id="2798423">bool</span><span class="op" id="2798427">)</span>&nbsp;<span class="op" id="2798429">(</span><span class="ident" id="2798430"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2798441">,</span>&nbsp;<span class="builtintype" id="2798443">bool</span><span class="op" id="2798447">)</span>&nbsp;<span class="op" id="2798449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798452">if</span>&nbsp;<span class="ident" id="2798455"><a href="/gostd/reflect/type.go.html#2798378">t</a></span><span class="op" id="2798456">.</span><span class="ident" id="2798457"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2798461">(</span><span class="op" id="2798462">)</span>&nbsp;<span class="op" id="2798464">!=</span>&nbsp;<span class="ident" id="2798467"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span>&nbsp;<span class="op" id="2798474">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2798478">panic</span><span class="op" id="2798483">(</span><span class="string" id="2798484">&#34;reflect:&nbsp;FieldByNameFunc&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2798529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2798532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2798535">tt</span>&nbsp;<span class="op" id="2798538">:=</span>&nbsp;<span class="op" id="2798541">(</span><span class="op" id="2798542">*</span><span class="ident" id="2798543"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2798553">)</span><span class="op" id="2798554">(</span><span class="ident" id="2798555"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2798561">.</span><span class="ident" id="2798562">Pointer</span><span class="op" id="2798569">(</span><span class="ident" id="2798570"><a href="/gostd/reflect/type.go.html#2798378">t</a></span><span class="op" id="2798571">)</span><span class="op" id="2798572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798575">return</span>&nbsp;<span class="ident" id="2798582"><a href="/gostd/reflect/type.go.html#2798535">tt</a></span><span class="op" id="2798584">.</span><span class="ident" id="2798585"><a href="/gostd/reflect/type.go.html#2804336">FieldByNameFunc</a></span><span class="op" id="2798600">(</span><span class="ident" id="2798601"><a href="/gostd/reflect/type.go.html#2798404">match</a></span><span class="op" id="2798606">)</span><br>
<span class="lineno"></span><span class="op" id="2798608">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="2798611">func</span>&nbsp;<span class="op" id="2798616">(</span><span class="ident" id="2798617">t</span>&nbsp;<span class="op" id="2798619">*</span><span class="ident" id="2798620"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2798625">)</span>&nbsp;<span class="ident" id="2798627">In</span><span class="op" id="2798629">(</span><span class="ident" id="2798630">i</span>&nbsp;<span class="builtintype" id="2798632">int</span><span class="op" id="2798635">)</span>&nbsp;<span class="ident" id="2798637"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2798642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798645">if</span>&nbsp;<span class="ident" id="2798648"><a href="/gostd/reflect/type.go.html#2798617">t</a></span><span class="op" id="2798649">.</span><span class="ident" id="2798650"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2798654">(</span><span class="op" id="2798655">)</span>&nbsp;<span class="op" id="2798657">!=</span>&nbsp;<span class="ident" id="2798660"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span>&nbsp;<span class="op" id="2798665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2798669">panic</span><span class="op" id="2798674">(</span><span class="string" id="2798675">&#34;reflect:&nbsp;In&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2798705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2798708">}</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2798711">tt</span>&nbsp;<span class="op" id="2798714">:=</span>&nbsp;<span class="op" id="2798717">(</span><span class="op" id="2798718">*</span><span class="ident" id="2798719"><a href="/gostd/reflect/type.go.html#2790989">funcType</a></span><span class="op" id="2798727">)</span><span class="op" id="2798728">(</span><span class="ident" id="2798729"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2798735">.</span><span class="ident" id="2798736">Pointer</span><span class="op" id="2798743">(</span><span class="ident" id="2798744"><a href="/gostd/reflect/type.go.html#2798617">t</a></span><span class="op" id="2798745">)</span><span class="op" id="2798746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798749">return</span>&nbsp;<span class="ident" id="2798756"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2798762">(</span><span class="ident" id="2798763"><a href="/gostd/reflect/type.go.html#2798711">tt</a></span><span class="op" id="2798765">.</span><span class="ident" id="2798766"><a href="/gostd/reflect/type.go.html#2791087">in</a></span><span class="op" id="2798768">[</span><span class="ident" id="2798769"><a href="/gostd/reflect/type.go.html#2798630">i</a></span><span class="op" id="2798770">]</span><span class="op" id="2798771">)</span><br>
<span class="lineno"></span><span class="op" id="2798773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2798776">func</span>&nbsp;<span class="op" id="2798781">(</span><span class="ident" id="2798782">t</span>&nbsp;<span class="op" id="2798784">*</span><span class="ident" id="2798785"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2798790">)</span>&nbsp;<span class="ident" id="2798792">Key</span><span class="op" id="2798795">(</span><span class="op" id="2798796">)</span>&nbsp;<span class="ident" id="2798798"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2798803">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798806">if</span>&nbsp;<span class="ident" id="2798809"><a href="/gostd/reflect/type.go.html#2798782">t</a></span><span class="op" id="2798810">.</span><span class="ident" id="2798811"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2798815">(</span><span class="op" id="2798816">)</span>&nbsp;<span class="op" id="2798818">!=</span>&nbsp;<span class="ident" id="2798821"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span>&nbsp;<span class="op" id="2798825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2798829">panic</span><span class="op" id="2798834">(</span><span class="string" id="2798835">&#34;reflect:&nbsp;Key&nbsp;of&nbsp;non-map&nbsp;type&#34;</span><span class="op" id="2798865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2798868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2798871">tt</span>&nbsp;<span class="op" id="2798874">:=</span>&nbsp;<span class="op" id="2798877">(</span><span class="op" id="2798878">*</span><span class="ident" id="2798879"><a href="/gostd/reflect/type.go.html#2791587">mapType</a></span><span class="op" id="2798886">)</span><span class="op" id="2798887">(</span><span class="ident" id="2798888"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2798894">.</span><span class="ident" id="2798895">Pointer</span><span class="op" id="2798902">(</span><span class="ident" id="2798903"><a href="/gostd/reflect/type.go.html#2798782">t</a></span><span class="op" id="2798904">)</span><span class="op" id="2798905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798908">return</span>&nbsp;<span class="ident" id="2798915"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2798921">(</span><span class="ident" id="2798922"><a href="/gostd/reflect/type.go.html#2798871">tt</a></span><span class="op" id="2798924">.</span><span class="ident" id="2798925"><a href="/gostd/reflect/type.go.html#2791636">key</a></span><span class="op" id="2798928">)</span><br>
<span class="lineno">645</span><span class="op" id="2798930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2798933">func</span>&nbsp;<span class="op" id="2798938">(</span><span class="ident" id="2798939">t</span>&nbsp;<span class="op" id="2798941">*</span><span class="ident" id="2798942"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2798947">)</span>&nbsp;<span class="ident" id="2798949">Len</span><span class="op" id="2798952">(</span><span class="op" id="2798953">)</span>&nbsp;<span class="builtintype" id="2798955">int</span>&nbsp;<span class="op" id="2798959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2798962">if</span>&nbsp;<span class="ident" id="2798965"><a href="/gostd/reflect/type.go.html#2798939">t</a></span><span class="op" id="2798966">.</span><span class="ident" id="2798967"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2798971">(</span><span class="op" id="2798972">)</span>&nbsp;<span class="op" id="2798974">!=</span>&nbsp;<span class="ident" id="2798977"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span>&nbsp;<span class="op" id="2798983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2798987">panic</span><span class="op" id="2798992">(</span><span class="string" id="2798993">&#34;reflect:&nbsp;Len&nbsp;of&nbsp;non-array&nbsp;type&#34;</span><span class="op" id="2799025">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2799028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2799031">tt</span>&nbsp;<span class="op" id="2799034">:=</span>&nbsp;<span class="op" id="2799037">(</span><span class="op" id="2799038">*</span><span class="ident" id="2799039"><a href="/gostd/reflect/type.go.html#2790644">arrayType</a></span><span class="op" id="2799048">)</span><span class="op" id="2799049">(</span><span class="ident" id="2799050"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2799056">.</span><span class="ident" id="2799057">Pointer</span><span class="op" id="2799064">(</span><span class="ident" id="2799065"><a href="/gostd/reflect/type.go.html#2798939">t</a></span><span class="op" id="2799066">)</span><span class="op" id="2799067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799070">return</span>&nbsp;<span class="builtintype" id="2799077">int</span><span class="op" id="2799080">(</span><span class="ident" id="2799081"><a href="/gostd/reflect/type.go.html#2799031">tt</a></span><span class="op" id="2799083">.</span><span class="builtinfunc" id="2799084"><a href="/gostd/reflect/type.go.html#2790753">len</a></span><span class="op" id="2799087">)</span><br>
<span class="lineno"></span><span class="op" id="2799089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">655</span><span class="keyword" id="2799092">func</span>&nbsp;<span class="op" id="2799097">(</span><span class="ident" id="2799098">t</span>&nbsp;<span class="op" id="2799100">*</span><span class="ident" id="2799101"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2799106">)</span>&nbsp;<span class="ident" id="2799108">NumField</span><span class="op" id="2799116">(</span><span class="op" id="2799117">)</span>&nbsp;<span class="builtintype" id="2799119">int</span>&nbsp;<span class="op" id="2799123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799126">if</span>&nbsp;<span class="ident" id="2799129"><a href="/gostd/reflect/type.go.html#2799098">t</a></span><span class="op" id="2799130">.</span><span class="ident" id="2799131"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2799135">(</span><span class="op" id="2799136">)</span>&nbsp;<span class="op" id="2799138">!=</span>&nbsp;<span class="ident" id="2799141"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span>&nbsp;<span class="op" id="2799148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2799152">panic</span><span class="op" id="2799157">(</span><span class="string" id="2799158">&#34;reflect:&nbsp;NumField&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2799196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2799199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2799202">tt</span>&nbsp;<span class="op" id="2799205">:=</span>&nbsp;<span class="op" id="2799208">(</span><span class="op" id="2799209">*</span><span class="ident" id="2799210"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2799220">)</span><span class="op" id="2799221">(</span><span class="ident" id="2799222"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2799228">.</span><span class="ident" id="2799229">Pointer</span><span class="op" id="2799236">(</span><span class="ident" id="2799237"><a href="/gostd/reflect/type.go.html#2799098">t</a></span><span class="op" id="2799238">)</span><span class="op" id="2799239">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799242">return</span>&nbsp;<span class="builtinfunc" id="2799249">len</span><span class="op" id="2799252">(</span><span class="ident" id="2799253"><a href="/gostd/reflect/type.go.html#2799202">tt</a></span><span class="op" id="2799255">.</span><span class="ident" id="2799256"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2799262">)</span><br>
<span class="lineno"></span><span class="op" id="2799264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2799267">func</span>&nbsp;<span class="op" id="2799272">(</span><span class="ident" id="2799273">t</span>&nbsp;<span class="op" id="2799275">*</span><span class="ident" id="2799276"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2799281">)</span>&nbsp;<span class="ident" id="2799283">NumIn</span><span class="op" id="2799288">(</span><span class="op" id="2799289">)</span>&nbsp;<span class="builtintype" id="2799291">int</span>&nbsp;<span class="op" id="2799295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799298">if</span>&nbsp;<span class="ident" id="2799301"><a href="/gostd/reflect/type.go.html#2799273">t</a></span><span class="op" id="2799302">.</span><span class="ident" id="2799303"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2799307">(</span><span class="op" id="2799308">)</span>&nbsp;<span class="op" id="2799310">!=</span>&nbsp;<span class="ident" id="2799313"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span>&nbsp;<span class="op" id="2799318">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2799322">panic</span><span class="op" id="2799327">(</span><span class="string" id="2799328">&#34;reflect:&nbsp;NumIn&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2799361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2799364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2799367">tt</span>&nbsp;<span class="op" id="2799370">:=</span>&nbsp;<span class="op" id="2799373">(</span><span class="op" id="2799374">*</span><span class="ident" id="2799375"><a href="/gostd/reflect/type.go.html#2790989">funcType</a></span><span class="op" id="2799383">)</span><span class="op" id="2799384">(</span><span class="ident" id="2799385"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2799391">.</span><span class="ident" id="2799392">Pointer</span><span class="op" id="2799399">(</span><span class="ident" id="2799400"><a href="/gostd/reflect/type.go.html#2799273">t</a></span><span class="op" id="2799401">)</span><span class="op" id="2799402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799405">return</span>&nbsp;<span class="builtinfunc" id="2799412">len</span><span class="op" id="2799415">(</span><span class="ident" id="2799416"><a href="/gostd/reflect/type.go.html#2799367">tt</a></span><span class="op" id="2799418">.</span><span class="ident" id="2799419"><a href="/gostd/reflect/type.go.html#2791087">in</a></span><span class="op" id="2799421">)</span><br>
<span class="lineno"></span><span class="op" id="2799423">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="2799426">func</span>&nbsp;<span class="op" id="2799431">(</span><span class="ident" id="2799432">t</span>&nbsp;<span class="op" id="2799434">*</span><span class="ident" id="2799435"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2799440">)</span>&nbsp;<span class="ident" id="2799442">NumOut</span><span class="op" id="2799448">(</span><span class="op" id="2799449">)</span>&nbsp;<span class="builtintype" id="2799451">int</span>&nbsp;<span class="op" id="2799455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799458">if</span>&nbsp;<span class="ident" id="2799461"><a href="/gostd/reflect/type.go.html#2799432">t</a></span><span class="op" id="2799462">.</span><span class="ident" id="2799463"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2799467">(</span><span class="op" id="2799468">)</span>&nbsp;<span class="op" id="2799470">!=</span>&nbsp;<span class="ident" id="2799473"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span>&nbsp;<span class="op" id="2799478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2799482">panic</span><span class="op" id="2799487">(</span><span class="string" id="2799488">&#34;reflect:&nbsp;NumOut&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2799522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2799525">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2799528">tt</span>&nbsp;<span class="op" id="2799531">:=</span>&nbsp;<span class="op" id="2799534">(</span><span class="op" id="2799535">*</span><span class="ident" id="2799536"><a href="/gostd/reflect/type.go.html#2790989">funcType</a></span><span class="op" id="2799544">)</span><span class="op" id="2799545">(</span><span class="ident" id="2799546"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2799552">.</span><span class="ident" id="2799553">Pointer</span><span class="op" id="2799560">(</span><span class="ident" id="2799561"><a href="/gostd/reflect/type.go.html#2799432">t</a></span><span class="op" id="2799562">)</span><span class="op" id="2799563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799566">return</span>&nbsp;<span class="builtinfunc" id="2799573">len</span><span class="op" id="2799576">(</span><span class="ident" id="2799577"><a href="/gostd/reflect/type.go.html#2799528">tt</a></span><span class="op" id="2799579">.</span><span class="ident" id="2799580"><a href="/gostd/reflect/type.go.html#2791132">out</a></span><span class="op" id="2799583">)</span><br>
<span class="lineno"></span><span class="op" id="2799585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2799588">func</span>&nbsp;<span class="op" id="2799593">(</span><span class="ident" id="2799594">t</span>&nbsp;<span class="op" id="2799596">*</span><span class="ident" id="2799597"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2799602">)</span>&nbsp;<span class="ident" id="2799604">Out</span><span class="op" id="2799607">(</span><span class="ident" id="2799608">i</span>&nbsp;<span class="builtintype" id="2799610">int</span><span class="op" id="2799613">)</span>&nbsp;<span class="ident" id="2799615"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2799620">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799623">if</span>&nbsp;<span class="ident" id="2799626"><a href="/gostd/reflect/type.go.html#2799594">t</a></span><span class="op" id="2799627">.</span><span class="ident" id="2799628"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2799632">(</span><span class="op" id="2799633">)</span>&nbsp;<span class="op" id="2799635">!=</span>&nbsp;<span class="ident" id="2799638"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span>&nbsp;<span class="op" id="2799643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2799647">panic</span><span class="op" id="2799652">(</span><span class="string" id="2799653">&#34;reflect:&nbsp;Out&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2799684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2799687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2799690">tt</span>&nbsp;<span class="op" id="2799693">:=</span>&nbsp;<span class="op" id="2799696">(</span><span class="op" id="2799697">*</span><span class="ident" id="2799698"><a href="/gostd/reflect/type.go.html#2790989">funcType</a></span><span class="op" id="2799706">)</span><span class="op" id="2799707">(</span><span class="ident" id="2799708"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2799714">.</span><span class="ident" id="2799715">Pointer</span><span class="op" id="2799722">(</span><span class="ident" id="2799723"><a href="/gostd/reflect/type.go.html#2799594">t</a></span><span class="op" id="2799724">)</span><span class="op" id="2799725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799728">return</span>&nbsp;<span class="ident" id="2799735"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2799741">(</span><span class="ident" id="2799742"><a href="/gostd/reflect/type.go.html#2799690">tt</a></span><span class="op" id="2799744">.</span><span class="ident" id="2799745"><a href="/gostd/reflect/type.go.html#2791132">out</a></span><span class="op" id="2799748">[</span><span class="ident" id="2799749"><a href="/gostd/reflect/type.go.html#2799608">i</a></span><span class="op" id="2799750">]</span><span class="op" id="2799751">)</span><br>
<span class="lineno">685</span><span class="op" id="2799753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2799756">func</span>&nbsp;<span class="op" id="2799761">(</span><span class="ident" id="2799762">d</span>&nbsp;<span class="ident" id="2799764"><a href="/gostd/reflect/type.go.html#2790420">ChanDir</a></span><span class="op" id="2799771">)</span>&nbsp;<span class="ident" id="2799773">String</span><span class="op" id="2799779">(</span><span class="op" id="2799780">)</span>&nbsp;<span class="builtintype" id="2799782">string</span>&nbsp;<span class="op" id="2799789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799792">switch</span>&nbsp;<span class="ident" id="2799799"><a href="/gostd/reflect/type.go.html#2799762">d</a></span>&nbsp;<span class="op" id="2799801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799804">case</span>&nbsp;<span class="ident" id="2799809"><a href="/gostd/reflect/type.go.html#2790493">SendDir</a></span><span class="op" id="2799816">:</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799820">return</span>&nbsp;<span class="string" id="2799827">&#34;chan&lt;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799837">case</span>&nbsp;<span class="ident" id="2799842"><a href="/gostd/reflect/type.go.html#2790442">RecvDir</a></span><span class="op" id="2799849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799853">return</span>&nbsp;<span class="string" id="2799860">&#34;&lt;-chan&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799870">case</span>&nbsp;<span class="ident" id="2799875"><a href="/gostd/reflect/type.go.html#2790544">BothDir</a></span><span class="op" id="2799882">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799886">return</span>&nbsp;<span class="string" id="2799893">&#34;chan&#34;</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2799901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2799904">return</span>&nbsp;<span class="string" id="2799911">&#34;ChanDir&#34;</span>&nbsp;<span class="op" id="2799921">+</span>&nbsp;<span class="ident" id="2799923"><a href="/gostd/reflect/type.go.html#2781089">strconv</a></span><span class="op" id="2799930">.</span><span class="ident" id="2799931"><a href="/gostd/strconv/itoa.go.html#2407288">Itoa</a></span><span class="op" id="2799935">(</span><span class="builtintype" id="2799936">int</span><span class="op" id="2799939">(</span><span class="ident" id="2799940"><a href="/gostd/reflect/type.go.html#2799762">d</a></span><span class="op" id="2799941">)</span><span class="op" id="2799942">)</span><br>
<span class="lineno"></span><span class="op" id="2799944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2799947">//&nbsp;Method&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;method&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno">700</span><span class="keyword" id="2800007">func</span>&nbsp;<span class="op" id="2800012">(</span><span class="ident" id="2800013">t</span>&nbsp;<span class="op" id="2800015">*</span><span class="ident" id="2800016"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2800029">)</span>&nbsp;<span class="ident" id="2800031">Method</span><span class="op" id="2800037">(</span><span class="ident" id="2800038">i</span>&nbsp;<span class="builtintype" id="2800040">int</span><span class="op" id="2800043">)</span>&nbsp;<span class="op" id="2800045">(</span><span class="ident" id="2800046">m</span>&nbsp;<span class="ident" id="2800048"><a href="/gostd/reflect/type.go.html#2792957">Method</a></span><span class="op" id="2800054">)</span>&nbsp;<span class="op" id="2800056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800059">if</span>&nbsp;<span class="ident" id="2800062"><a href="/gostd/reflect/type.go.html#2800038">i</a></span>&nbsp;<span class="op" id="2800064">&lt;</span>&nbsp;<span class="num" id="2800066">0</span>&nbsp;<span class="op" id="2800068">||</span>&nbsp;<span class="ident" id="2800071"><a href="/gostd/reflect/type.go.html#2800038">i</a></span>&nbsp;<span class="op" id="2800073">&gt;=</span>&nbsp;<span class="builtinfunc" id="2800076">len</span><span class="op" id="2800079">(</span><span class="ident" id="2800080"><a href="/gostd/reflect/type.go.html#2800013">t</a></span><span class="op" id="2800081">.</span><span class="ident" id="2800082"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2800089">)</span>&nbsp;<span class="op" id="2800091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800095">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2800103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2800106">p</span>&nbsp;<span class="op" id="2800108">:=</span>&nbsp;<span class="op" id="2800111">&amp;</span><span class="ident" id="2800112"><a href="/gostd/reflect/type.go.html#2800013">t</a></span><span class="op" id="2800113">.</span><span class="ident" id="2800114"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2800121">[</span><span class="ident" id="2800122"><a href="/gostd/reflect/type.go.html#2800038">i</a></span><span class="op" id="2800123">]</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2800126"><a href="/gostd/reflect/type.go.html#2800046">m</a></span><span class="op" id="2800127">.</span><span class="ident" id="2800128"><a href="/gostd/reflect/type.go.html#2793297">Name</a></span>&nbsp;<span class="op" id="2800133">=</span>&nbsp;<span class="op" id="2800135">*</span><span class="ident" id="2800136"><a href="/gostd/reflect/type.go.html#2800106">p</a></span><span class="op" id="2800137">.</span><span class="ident" id="2800138"><a href="/gostd/reflect/type.go.html#2791255">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800144">if</span>&nbsp;<span class="ident" id="2800147"><a href="/gostd/reflect/type.go.html#2800106">p</a></span><span class="op" id="2800148">.</span><span class="ident" id="2800149"><a href="/gostd/reflect/type.go.html#2791290">pkgPath</a></span>&nbsp;<span class="op" id="2800157">!=</span>&nbsp;<span class="builtintype" id="2800160">nil</span>&nbsp;<span class="op" id="2800164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2800168"><a href="/gostd/reflect/type.go.html#2800046">m</a></span><span class="op" id="2800169">.</span><span class="ident" id="2800170"><a href="/gostd/reflect/type.go.html#2793313">PkgPath</a></span>&nbsp;<span class="op" id="2800178">=</span>&nbsp;<span class="op" id="2800180">*</span><span class="ident" id="2800181"><a href="/gostd/reflect/type.go.html#2800106">p</a></span><span class="op" id="2800182">.</span><span class="ident" id="2800183"><a href="/gostd/reflect/type.go.html#2791290">pkgPath</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2800192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2800195"><a href="/gostd/reflect/type.go.html#2800046">m</a></span><span class="op" id="2800196">.</span><span class="ident" id="2800197"><a href="/gostd/reflect/type.go.html#2793330">Type</a></span>&nbsp;<span class="op" id="2800202">=</span>&nbsp;<span class="ident" id="2800204"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2800210">(</span><span class="ident" id="2800211"><a href="/gostd/reflect/type.go.html#2800106">p</a></span><span class="op" id="2800212">.</span><span class="ident" id="2800213"><a href="/gostd/reflect/type.go.html#2791356">typ</a></span><span class="op" id="2800216">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2800219"><a href="/gostd/reflect/type.go.html#2800046">m</a></span><span class="op" id="2800220">.</span><span class="ident" id="2800221"><a href="/gostd/reflect/type.go.html#2793411">Index</a></span>&nbsp;<span class="op" id="2800227">=</span>&nbsp;<span class="ident" id="2800229"><a href="/gostd/reflect/type.go.html#2800038">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800232">return</span><br>
<span class="lineno"></span><span class="op" id="2800239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2800242">//&nbsp;NumMethod&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;interface&nbsp;methods&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno">715</span><span class="keyword" id="2800321">func</span>&nbsp;<span class="op" id="2800326">(</span><span class="ident" id="2800327">t</span>&nbsp;<span class="op" id="2800329">*</span><span class="ident" id="2800330"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2800343">)</span>&nbsp;<span class="ident" id="2800345">NumMethod</span><span class="op" id="2800354">(</span><span class="op" id="2800355">)</span>&nbsp;<span class="builtintype" id="2800357">int</span>&nbsp;<span class="op" id="2800361">{</span>&nbsp;<span class="keyword" id="2800363">return</span>&nbsp;<span class="builtinfunc" id="2800370">len</span><span class="op" id="2800373">(</span><span class="ident" id="2800374"><a href="/gostd/reflect/type.go.html#2800327">t</a></span><span class="op" id="2800375">.</span><span class="ident" id="2800376"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2800383">)</span>&nbsp;<span class="op" id="2800385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2800388">//&nbsp;MethodByName&nbsp;method&nbsp;with&nbsp;the&nbsp;given&nbsp;name&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2800457">func</span>&nbsp;<span class="op" id="2800462">(</span><span class="ident" id="2800463">t</span>&nbsp;<span class="op" id="2800465">*</span><span class="ident" id="2800466"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2800479">)</span>&nbsp;<span class="ident" id="2800481">MethodByName</span><span class="op" id="2800493">(</span><span class="ident" id="2800494">name</span>&nbsp;<span class="builtintype" id="2800499">string</span><span class="op" id="2800505">)</span>&nbsp;<span class="op" id="2800507">(</span><span class="ident" id="2800508">m</span>&nbsp;<span class="ident" id="2800510"><a href="/gostd/reflect/type.go.html#2792957">Method</a></span><span class="op" id="2800516">,</span>&nbsp;<span class="ident" id="2800518">ok</span>&nbsp;<span class="builtintype" id="2800521">bool</span><span class="op" id="2800525">)</span>&nbsp;<span class="op" id="2800527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800530">if</span>&nbsp;<span class="ident" id="2800533"><a href="/gostd/reflect/type.go.html#2800463">t</a></span>&nbsp;<span class="op" id="2800535">==</span>&nbsp;<span class="builtintype" id="2800538">nil</span>&nbsp;<span class="op" id="2800542">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800546">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2800554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800557">var</span>&nbsp;<span class="ident" id="2800561">p</span>&nbsp;<span class="op" id="2800563">*</span><span class="ident" id="2800564"><a href="/gostd/reflect/type.go.html#2791237">imethod</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800573">for</span>&nbsp;<span class="ident" id="2800577">i</span>&nbsp;<span class="op" id="2800579">:=</span>&nbsp;<span class="keyword" id="2800582">range</span>&nbsp;<span class="ident" id="2800588"><a href="/gostd/reflect/type.go.html#2800463">t</a></span><span class="op" id="2800589">.</span><span class="ident" id="2800590"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span>&nbsp;<span class="op" id="2800598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2800602"><a href="/gostd/reflect/type.go.html#2800561">p</a></span>&nbsp;<span class="op" id="2800604">=</span>&nbsp;<span class="op" id="2800606">&amp;</span><span class="ident" id="2800607"><a href="/gostd/reflect/type.go.html#2800463">t</a></span><span class="op" id="2800608">.</span><span class="ident" id="2800609"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2800616">[</span><span class="ident" id="2800617"><a href="/gostd/reflect/type.go.html#2800577">i</a></span><span class="op" id="2800618">]</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800622">if</span>&nbsp;<span class="op" id="2800625">*</span><span class="ident" id="2800626"><a href="/gostd/reflect/type.go.html#2800561">p</a></span><span class="op" id="2800627">.</span><span class="ident" id="2800628"><a href="/gostd/reflect/type.go.html#2791255">name</a></span>&nbsp;<span class="op" id="2800633">==</span>&nbsp;<span class="ident" id="2800636"><a href="/gostd/reflect/type.go.html#2800494">name</a></span>&nbsp;<span class="op" id="2800641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800646">return</span>&nbsp;<span class="ident" id="2800653"><a href="/gostd/reflect/type.go.html#2800463">t</a></span><span class="op" id="2800654">.</span><span class="ident" id="2800655"><a href="/gostd/reflect/type.go.html#2800031">Method</a></span><span class="op" id="2800661">(</span><span class="ident" id="2800662"><a href="/gostd/reflect/type.go.html#2800577">i</a></span><span class="op" id="2800663">)</span><span class="op" id="2800664">,</span>&nbsp;<span class="builtintype" id="2800666">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2800673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2800676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2800679">return</span><br>
<span class="lineno">730</span><span class="op" id="2800686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2800689">//&nbsp;A&nbsp;StructField&nbsp;describes&nbsp;a&nbsp;single&nbsp;field&nbsp;in&nbsp;a&nbsp;struct.</span><br>
<span class="lineno"></span><span class="keyword" id="2800744">type</span>&nbsp;<span class="ident" id="2800749">StructField</span>&nbsp;<span class="keyword" id="2800761">struct</span>&nbsp;<span class="op" id="2800768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2800771">//&nbsp;Name&nbsp;is&nbsp;the&nbsp;field&nbsp;name.</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2800799">//&nbsp;PkgPath&nbsp;is&nbsp;the&nbsp;package&nbsp;path&nbsp;that&nbsp;qualifies&nbsp;a&nbsp;lower&nbsp;case&nbsp;(unexported)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2800872">//&nbsp;field&nbsp;name.&nbsp;&nbsp;It&nbsp;is&nbsp;empty&nbsp;for&nbsp;upper&nbsp;case&nbsp;(exported)&nbsp;field&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2800940">//&nbsp;See&nbsp;http://golang.org/ref/spec#Uniqueness_of_identifiers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801001">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2801009">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801017">PkgPath</span>&nbsp;<span class="builtintype" id="2801025">string</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801034">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801044"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2801054">//&nbsp;field&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801069">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801079"><a href="/gostd/reflect/type.go.html#2801670">StructTag</a></span>&nbsp;<span class="comment" id="2801089">//&nbsp;field&nbsp;tag&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801110">Offset</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2801120">uintptr</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2801130">//&nbsp;offset&nbsp;within&nbsp;struct,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801165">Index</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2801175">[</span><span class="op" id="2801176">]</span><span class="builtintype" id="2801177">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2801185">//&nbsp;index&nbsp;sequence&nbsp;for&nbsp;Type.FieldByIndex</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2801226">Anonymous</span>&nbsp;<span class="builtintype" id="2801236">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2801246">//&nbsp;is&nbsp;an&nbsp;embedded&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="2801270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2801273">//&nbsp;A&nbsp;StructTag&nbsp;is&nbsp;the&nbsp;tag&nbsp;string&nbsp;in&nbsp;a&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="2801325">//</span><br>
<span class="lineno">750</span><span class="comment" id="2801328">//&nbsp;By&nbsp;convention,&nbsp;tag&nbsp;strings&nbsp;are&nbsp;a&nbsp;concatenation&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2801381">//&nbsp;optionally&nbsp;space-separated&nbsp;key:&#34;value&#34;&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="comment" id="2801430">//&nbsp;Each&nbsp;key&nbsp;is&nbsp;a&nbsp;non-empty&nbsp;string&nbsp;consisting&nbsp;of&nbsp;non-control</span><br>
<span class="lineno"></span><span class="comment" id="2801490">//&nbsp;characters&nbsp;other&nbsp;than&nbsp;space&nbsp;(U+0020&nbsp;&#39;&nbsp;&#39;),&nbsp;quote&nbsp;(U+0022&nbsp;&#39;&#34;&#39;),</span><br>
<span class="lineno"></span><span class="comment" id="2801555">//&nbsp;and&nbsp;colon&nbsp;(U+003A&nbsp;&#39;:&#39;).&nbsp;&nbsp;Each&nbsp;value&nbsp;is&nbsp;quoted&nbsp;using&nbsp;U+0022&nbsp;&#39;&#34;&#39;</span><br>
<span class="lineno">755</span><span class="comment" id="2801621">//&nbsp;characters&nbsp;and&nbsp;Go&nbsp;string&nbsp;literal&nbsp;syntax.</span><br>
<span class="lineno"></span><span class="keyword" id="2801665">type</span>&nbsp;<span class="ident" id="2801670">StructTag</span>&nbsp;<span class="builtintype" id="2801680">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2801688">//&nbsp;Get&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;key&nbsp;in&nbsp;the&nbsp;tag&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2801752">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;key&nbsp;in&nbsp;the&nbsp;tag,&nbsp;Get&nbsp;returns&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno">760</span><span class="comment" id="2801821">//&nbsp;If&nbsp;the&nbsp;tag&nbsp;does&nbsp;not&nbsp;have&nbsp;the&nbsp;conventional&nbsp;format,&nbsp;the&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2801884">//&nbsp;returned&nbsp;by&nbsp;Get&nbsp;is&nbsp;unspecified.</span><br>
<span class="lineno"></span><span class="keyword" id="2801919">func</span>&nbsp;<span class="op" id="2801924">(</span><span class="ident" id="2801925">tag</span>&nbsp;<span class="ident" id="2801929"><a href="/gostd/reflect/type.go.html#2801670">StructTag</a></span><span class="op" id="2801938">)</span>&nbsp;<span class="ident" id="2801940">Get</span><span class="op" id="2801943">(</span><span class="ident" id="2801944">key</span>&nbsp;<span class="builtintype" id="2801948">string</span><span class="op" id="2801954">)</span>&nbsp;<span class="builtintype" id="2801956">string</span>&nbsp;<span class="op" id="2801963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2801966">for</span>&nbsp;<span class="ident" id="2801970"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span>&nbsp;<span class="op" id="2801974">!=</span>&nbsp;<span class="string" id="2801977">&#34;&#34;</span>&nbsp;<span class="op" id="2801980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2801984">//&nbsp;skip&nbsp;leading&nbsp;space</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802008">i</span>&nbsp;<span class="op" id="2802010">:=</span>&nbsp;<span class="num" id="2802013">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802017">for</span>&nbsp;<span class="ident" id="2802021"><a href="/gostd/reflect/type.go.html#2802008">i</a></span>&nbsp;<span class="op" id="2802023">&lt;</span>&nbsp;<span class="builtinfunc" id="2802025">len</span><span class="op" id="2802028">(</span><span class="ident" id="2802029"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802032">)</span>&nbsp;<span class="op" id="2802034">&amp;&amp;</span>&nbsp;<span class="ident" id="2802037"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802040">[</span><span class="ident" id="2802041"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802042">]</span>&nbsp;<span class="op" id="2802044">==</span>&nbsp;<span class="string" id="2802047">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="2802051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802056"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802057">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802066"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span>&nbsp;<span class="op" id="2802070">=</span>&nbsp;<span class="ident" id="2802072"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802075">[</span><span class="ident" id="2802076"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802077">:</span><span class="op" id="2802078">]</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802082">if</span>&nbsp;<span class="ident" id="2802085"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span>&nbsp;<span class="op" id="2802089">==</span>&nbsp;<span class="string" id="2802092">&#34;&#34;</span>&nbsp;<span class="op" id="2802095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802100">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2802113">//&nbsp;scan&nbsp;to&nbsp;colon.</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2802133">//&nbsp;a&nbsp;space&nbsp;or&nbsp;a&nbsp;quote&nbsp;is&nbsp;a&nbsp;syntax&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802175"><a href="/gostd/reflect/type.go.html#2802008">i</a></span>&nbsp;<span class="op" id="2802177">=</span>&nbsp;<span class="num" id="2802179">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802183">for</span>&nbsp;<span class="ident" id="2802187"><a href="/gostd/reflect/type.go.html#2802008">i</a></span>&nbsp;<span class="op" id="2802189">&lt;</span>&nbsp;<span class="builtinfunc" id="2802191">len</span><span class="op" id="2802194">(</span><span class="ident" id="2802195"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802198">)</span>&nbsp;<span class="op" id="2802200">&amp;&amp;</span>&nbsp;<span class="ident" id="2802203"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802206">[</span><span class="ident" id="2802207"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802208">]</span>&nbsp;<span class="op" id="2802210">!=</span>&nbsp;<span class="string" id="2802213">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="2802217">&amp;&amp;</span>&nbsp;<span class="ident" id="2802220"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802223">[</span><span class="ident" id="2802224"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802225">]</span>&nbsp;<span class="op" id="2802227">!=</span>&nbsp;<span class="string" id="2802230">&#39;:&#39;</span>&nbsp;<span class="op" id="2802234">&amp;&amp;</span>&nbsp;<span class="ident" id="2802237"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802240">[</span><span class="ident" id="2802241"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802242">]</span>&nbsp;<span class="op" id="2802244">!=</span>&nbsp;<span class="string" id="2802247">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2802251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802256"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802257">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802262">}</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802266">if</span>&nbsp;<span class="ident" id="2802269"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802270">+</span><span class="num" id="2802271">1</span>&nbsp;<span class="op" id="2802273">&gt;=</span>&nbsp;<span class="builtinfunc" id="2802276">len</span><span class="op" id="2802279">(</span><span class="ident" id="2802280"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802283">)</span>&nbsp;<span class="op" id="2802285">||</span>&nbsp;<span class="ident" id="2802288"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802291">[</span><span class="ident" id="2802292"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802293">]</span>&nbsp;<span class="op" id="2802295">!=</span>&nbsp;<span class="string" id="2802298">&#39;:&#39;</span>&nbsp;<span class="op" id="2802302">||</span>&nbsp;<span class="ident" id="2802305"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802308">[</span><span class="ident" id="2802309"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802310">+</span><span class="num" id="2802311">1</span><span class="op" id="2802312">]</span>&nbsp;<span class="op" id="2802314">!=</span>&nbsp;<span class="string" id="2802317">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2802321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802326">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802338">name</span>&nbsp;<span class="op" id="2802343">:=</span>&nbsp;<span class="builtintype" id="2802346">string</span><span class="op" id="2802352">(</span><span class="ident" id="2802353"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802356">[</span><span class="op" id="2802357">:</span><span class="ident" id="2802358"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802359">]</span><span class="op" id="2802360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802364"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span>&nbsp;<span class="op" id="2802368">=</span>&nbsp;<span class="ident" id="2802370"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802373">[</span><span class="ident" id="2802374"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802375">+</span><span class="num" id="2802376">1</span><span class="op" id="2802377">:</span><span class="op" id="2802378">]</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2802383">//&nbsp;scan&nbsp;quoted&nbsp;string&nbsp;to&nbsp;find&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802421"><a href="/gostd/reflect/type.go.html#2802008">i</a></span>&nbsp;<span class="op" id="2802423">=</span>&nbsp;<span class="num" id="2802425">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802429">for</span>&nbsp;<span class="ident" id="2802433"><a href="/gostd/reflect/type.go.html#2802008">i</a></span>&nbsp;<span class="op" id="2802435">&lt;</span>&nbsp;<span class="builtinfunc" id="2802437">len</span><span class="op" id="2802440">(</span><span class="ident" id="2802441"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802444">)</span>&nbsp;<span class="op" id="2802446">&amp;&amp;</span>&nbsp;<span class="ident" id="2802449"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802452">[</span><span class="ident" id="2802453"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802454">]</span>&nbsp;<span class="op" id="2802456">!=</span>&nbsp;<span class="string" id="2802459">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2802463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802468">if</span>&nbsp;<span class="ident" id="2802471"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802474">[</span><span class="ident" id="2802475"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802476">]</span>&nbsp;<span class="op" id="2802478">==</span>&nbsp;<span class="string" id="2802481">&#39;\\&#39;</span>&nbsp;<span class="op" id="2802486">{</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802492"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802493">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802504"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802505">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802514">if</span>&nbsp;<span class="ident" id="2802517"><a href="/gostd/reflect/type.go.html#2802008">i</a></span>&nbsp;<span class="op" id="2802519">&gt;=</span>&nbsp;<span class="builtinfunc" id="2802522">len</span><span class="op" id="2802525">(</span><span class="ident" id="2802526"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802529">)</span>&nbsp;<span class="op" id="2802531">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802536">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802548">qvalue</span>&nbsp;<span class="op" id="2802555">:=</span>&nbsp;<span class="builtintype" id="2802558">string</span><span class="op" id="2802564">(</span><span class="ident" id="2802565"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802568">[</span><span class="op" id="2802569">:</span><span class="ident" id="2802570"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802571">+</span><span class="num" id="2802572">1</span><span class="op" id="2802573">]</span><span class="op" id="2802574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802578"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span>&nbsp;<span class="op" id="2802582">=</span>&nbsp;<span class="ident" id="2802584"><a href="/gostd/reflect/type.go.html#2801925">tag</a></span><span class="op" id="2802587">[</span><span class="ident" id="2802588"><a href="/gostd/reflect/type.go.html#2802008">i</a></span><span class="op" id="2802589">+</span><span class="num" id="2802590">1</span><span class="op" id="2802591">:</span><span class="op" id="2802592">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802597">if</span>&nbsp;<span class="ident" id="2802600"><a href="/gostd/reflect/type.go.html#2801944">key</a></span>&nbsp;<span class="op" id="2802604">==</span>&nbsp;<span class="ident" id="2802607"><a href="/gostd/reflect/type.go.html#2802338">name</a></span>&nbsp;<span class="op" id="2802612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802617">value</span><span class="op" id="2802622">,</span>&nbsp;<span class="ident" id="2802624">_</span>&nbsp;<span class="op" id="2802626">:=</span>&nbsp;<span class="ident" id="2802629"><a href="/gostd/reflect/type.go.html#2781089">strconv</a></span><span class="op" id="2802636">.</span><span class="ident" id="2802637"><a href="/gostd/strconv/quote.go.html#2417743">Unquote</a></span><span class="op" id="2802644">(</span><span class="ident" id="2802645"><a href="/gostd/reflect/type.go.html#2802548">qvalue</a></span><span class="op" id="2802651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802656">return</span>&nbsp;<span class="ident" id="2802663"><a href="/gostd/reflect/type.go.html#2802617">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802674">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802677">return</span>&nbsp;<span class="string" id="2802684">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="2802687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2802690">//&nbsp;Field&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="2802730">func</span>&nbsp;<span class="op" id="2802735">(</span><span class="ident" id="2802736">t</span>&nbsp;<span class="op" id="2802738">*</span><span class="ident" id="2802739"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2802749">)</span>&nbsp;<span class="ident" id="2802751">Field</span><span class="op" id="2802756">(</span><span class="ident" id="2802757">i</span>&nbsp;<span class="builtintype" id="2802759">int</span><span class="op" id="2802762">)</span>&nbsp;<span class="op" id="2802764">(</span><span class="ident" id="2802765">f</span>&nbsp;<span class="ident" id="2802767"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2802778">)</span>&nbsp;<span class="op" id="2802780">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802783">if</span>&nbsp;<span class="ident" id="2802786"><a href="/gostd/reflect/type.go.html#2802757">i</a></span>&nbsp;<span class="op" id="2802788">&lt;</span>&nbsp;<span class="num" id="2802790">0</span>&nbsp;<span class="op" id="2802792">||</span>&nbsp;<span class="ident" id="2802795"><a href="/gostd/reflect/type.go.html#2802757">i</a></span>&nbsp;<span class="op" id="2802797">&gt;=</span>&nbsp;<span class="builtinfunc" id="2802800">len</span><span class="op" id="2802803">(</span><span class="ident" id="2802804"><a href="/gostd/reflect/type.go.html#2802736">t</a></span><span class="op" id="2802805">.</span><span class="ident" id="2802806"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2802812">)</span>&nbsp;<span class="op" id="2802814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802818">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802829">p</span>&nbsp;<span class="op" id="2802831">:=</span>&nbsp;<span class="op" id="2802834">&amp;</span><span class="ident" id="2802835"><a href="/gostd/reflect/type.go.html#2802736">t</a></span><span class="op" id="2802836">.</span><span class="ident" id="2802837"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2802843">[</span><span class="ident" id="2802844"><a href="/gostd/reflect/type.go.html#2802757">i</a></span><span class="op" id="2802845">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802848"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2802849">.</span><span class="ident" id="2802850"><a href="/gostd/reflect/type.go.html#2801034">Type</a></span>&nbsp;<span class="op" id="2802855">=</span>&nbsp;<span class="ident" id="2802857"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2802863">(</span><span class="ident" id="2802864"><a href="/gostd/reflect/type.go.html#2802829">p</a></span><span class="op" id="2802865">.</span><span class="ident" id="2802866"><a href="/gostd/reflect/type.go.html#2792496">typ</a></span><span class="op" id="2802869">)</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802872">if</span>&nbsp;<span class="ident" id="2802875"><a href="/gostd/reflect/type.go.html#2802829">p</a></span><span class="op" id="2802876">.</span><span class="ident" id="2802877"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2802882">!=</span>&nbsp;<span class="builtintype" id="2802885">nil</span>&nbsp;<span class="op" id="2802889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802893"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2802894">.</span><span class="ident" id="2802895"><a href="/gostd/reflect/type.go.html#2801001">Name</a></span>&nbsp;<span class="op" id="2802900">=</span>&nbsp;<span class="op" id="2802902">*</span><span class="ident" id="2802903"><a href="/gostd/reflect/type.go.html#2802829">p</a></span><span class="op" id="2802904">.</span><span class="ident" id="2802905"><a href="/gostd/reflect/type.go.html#2792386">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802911">}</span>&nbsp;<span class="keyword" id="2802913">else</span>&nbsp;<span class="op" id="2802918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802922">t</span>&nbsp;<span class="op" id="2802924">:=</span>&nbsp;<span class="ident" id="2802927"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2802928">.</span><span class="ident" id="2802929"><a href="/gostd/reflect/type.go.html#2801034">Type</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2802936">if</span>&nbsp;<span class="ident" id="2802939"><a href="/gostd/reflect/type.go.html#2802922">t</a></span><span class="op" id="2802940">.</span><span class="ident" id="2802941"><a href="/gostd/reflect/type.go.html#2783619">Kind</a></span><span class="op" id="2802945">(</span><span class="op" id="2802946">)</span>&nbsp;<span class="op" id="2802948">==</span>&nbsp;<span class="ident" id="2802951"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span>&nbsp;<span class="op" id="2802955">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802960"><a href="/gostd/reflect/type.go.html#2802922">t</a></span>&nbsp;<span class="op" id="2802962">=</span>&nbsp;<span class="ident" id="2802964"><a href="/gostd/reflect/type.go.html#2802922">t</a></span><span class="op" id="2802965">.</span><span class="ident" id="2802966"><a href="/gostd/reflect/type.go.html#2785263">Elem</a></span><span class="op" id="2802970">(</span><span class="op" id="2802971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2802975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802979"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2802980">.</span><span class="ident" id="2802981"><a href="/gostd/reflect/type.go.html#2801001">Name</a></span>&nbsp;<span class="op" id="2802986">=</span>&nbsp;<span class="ident" id="2802988"><a href="/gostd/reflect/type.go.html#2802922">t</a></span><span class="op" id="2802989">.</span><span class="ident" id="2802990"><a href="/gostd/reflect/type.go.html#2782837">Name</a></span><span class="op" id="2802994">(</span><span class="op" id="2802995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2802999"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2803000">.</span><span class="ident" id="2803001"><a href="/gostd/reflect/type.go.html#2801226">Anonymous</a></span>&nbsp;<span class="op" id="2803011">=</span>&nbsp;<span class="builtintype" id="2803013">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2803019">}</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2803022">if</span>&nbsp;<span class="ident" id="2803025"><a href="/gostd/reflect/type.go.html#2802829">p</a></span><span class="op" id="2803026">.</span><span class="ident" id="2803027"><a href="/gostd/reflect/type.go.html#2792430">pkgPath</a></span>&nbsp;<span class="op" id="2803035">!=</span>&nbsp;<span class="builtintype" id="2803038">nil</span>&nbsp;<span class="op" id="2803042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2803046"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2803047">.</span><span class="ident" id="2803048"><a href="/gostd/reflect/type.go.html#2801017">PkgPath</a></span>&nbsp;<span class="op" id="2803056">=</span>&nbsp;<span class="op" id="2803058">*</span><span class="ident" id="2803059"><a href="/gostd/reflect/type.go.html#2802829">p</a></span><span class="op" id="2803060">.</span><span class="ident" id="2803061"><a href="/gostd/reflect/type.go.html#2792430">pkgPath</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2803070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2803073">if</span>&nbsp;<span class="ident" id="2803076"><a href="/gostd/reflect/type.go.html#2802829">p</a></span><span class="op" id="2803077">.</span><span class="ident" id="2803078"><a href="/gostd/reflect/type.go.html#2792530">tag</a></span>&nbsp;<span class="op" id="2803082">!=</span>&nbsp;<span class="builtintype" id="2803085">nil</span>&nbsp;<span class="op" id="2803089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2803093"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2803094">.</span><span class="ident" id="2803095"><a href="/gostd/reflect/type.go.html#2801069">Tag</a></span>&nbsp;<span class="op" id="2803099">=</span>&nbsp;<span class="ident" id="2803101"><a href="/gostd/reflect/type.go.html#2801670">StructTag</a></span><span class="op" id="2803110">(</span><span class="op" id="2803111">*</span><span class="ident" id="2803112"><a href="/gostd/reflect/type.go.html#2802829">p</a></span><span class="op" id="2803113">.</span><span class="ident" id="2803114"><a href="/gostd/reflect/type.go.html#2792530">tag</a></span><span class="op" id="2803117">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2803120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2803123"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2803124">.</span><span class="ident" id="2803125"><a href="/gostd/reflect/type.go.html#2801110">Offset</a></span>&nbsp;<span class="op" id="2803132">=</span>&nbsp;<span class="ident" id="2803134"><a href="/gostd/reflect/type.go.html#2802829">p</a></span><span class="op" id="2803135">.</span><span class="ident" id="2803136"><a href="/gostd/reflect/type.go.html#2792564">offset</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2803145">//&nbsp;NOTE(rsc):&nbsp;This&nbsp;is&nbsp;the&nbsp;only&nbsp;allocation&nbsp;in&nbsp;the&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2803205">//&nbsp;presented&nbsp;by&nbsp;a&nbsp;reflect.Type.&nbsp;&nbsp;It&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;avoid,</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2803266">//&nbsp;at&nbsp;least&nbsp;in&nbsp;the&nbsp;common&nbsp;cases,&nbsp;but&nbsp;we&nbsp;need&nbsp;to&nbsp;make&nbsp;sure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2803325">//&nbsp;that&nbsp;misbehaving&nbsp;clients&nbsp;of&nbsp;reflect&nbsp;cannot&nbsp;affect&nbsp;other</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2803385">//&nbsp;uses&nbsp;of&nbsp;reflect.&nbsp;&nbsp;One&nbsp;possibility&nbsp;is&nbsp;CL&nbsp;5371098,&nbsp;but&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2803445">//&nbsp;postponed&nbsp;that&nbsp;ugliness&nbsp;until&nbsp;there&nbsp;is&nbsp;a&nbsp;demonstrated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2803503">//&nbsp;need&nbsp;for&nbsp;the&nbsp;performance.&nbsp;&nbsp;This&nbsp;is&nbsp;issue&nbsp;2320.</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2803554"><a href="/gostd/reflect/type.go.html#2802765">f</a></span><span class="op" id="2803555">.</span><span class="ident" id="2803556"><a href="/gostd/reflect/type.go.html#2801165">Index</a></span>&nbsp;<span class="op" id="2803562">=</span>&nbsp;<span class="op" id="2803564">[</span><span class="op" id="2803565">]</span><span class="builtintype" id="2803566">int</span><span class="op" id="2803569">{</span><span class="ident" id="2803570"><a href="/gostd/reflect/type.go.html#2802757">i</a></span><span class="op" id="2803571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2803574">return</span><br>
<span class="lineno"></span><span class="op" id="2803581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2803584">//&nbsp;TODO(gri):&nbsp;Should&nbsp;there&nbsp;be&nbsp;an&nbsp;error/bool&nbsp;indicator&nbsp;if&nbsp;the&nbsp;index</span><br>
<span class="lineno">845</span><span class="comment" id="2803651">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;wrong&nbsp;for&nbsp;FieldByIndex?</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2803693">//&nbsp;FieldByIndex&nbsp;returns&nbsp;the&nbsp;nested&nbsp;field&nbsp;corresponding&nbsp;to&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="2803758">func</span>&nbsp;<span class="op" id="2803763">(</span><span class="ident" id="2803764">t</span>&nbsp;<span class="op" id="2803766">*</span><span class="ident" id="2803767"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2803777">)</span>&nbsp;<span class="ident" id="2803779">FieldByIndex</span><span class="op" id="2803791">(</span><span class="ident" id="2803792">index</span>&nbsp;<span class="op" id="2803798">[</span><span class="op" id="2803799">]</span><span class="builtintype" id="2803800">int</span><span class="op" id="2803803">)</span>&nbsp;<span class="op" id="2803805">(</span><span class="ident" id="2803806">f</span>&nbsp;<span class="ident" id="2803808"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2803819">)</span>&nbsp;<span class="op" id="2803821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2803824"><a href="/gostd/reflect/type.go.html#2803806">f</a></span><span class="op" id="2803825">.</span><span class="ident" id="2803826"><a href="/gostd/reflect/type.go.html#2801034">Type</a></span>&nbsp;<span class="op" id="2803831">=</span>&nbsp;<span class="ident" id="2803833"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2803839">(</span><span class="op" id="2803840">&amp;</span><span class="ident" id="2803841"><a href="/gostd/reflect/type.go.html#2803764">t</a></span><span class="op" id="2803842">.</span><span class="ident" id="2803843"><a href="/gostd/reflect/type.go.html#2792687">rtype</a></span><span class="op" id="2803848">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2803851">for</span>&nbsp;<span class="ident" id="2803855">i</span><span class="op" id="2803856">,</span>&nbsp;<span class="ident" id="2803858">x</span>&nbsp;<span class="op" id="2803860">:=</span>&nbsp;<span class="keyword" id="2803863">range</span>&nbsp;<span class="ident" id="2803869"><a href="/gostd/reflect/type.go.html#2803792">index</a></span>&nbsp;<span class="op" id="2803875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2803879">if</span>&nbsp;<span class="ident" id="2803882"><a href="/gostd/reflect/type.go.html#2803855">i</a></span>&nbsp;<span class="op" id="2803884">&gt;</span>&nbsp;<span class="num" id="2803886">0</span>&nbsp;<span class="op" id="2803888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2803893">ft</span>&nbsp;<span class="op" id="2803896">:=</span>&nbsp;<span class="ident" id="2803899"><a href="/gostd/reflect/type.go.html#2803806">f</a></span><span class="op" id="2803900">.</span><span class="ident" id="2803901"><a href="/gostd/reflect/type.go.html#2801034">Type</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2803909">if</span>&nbsp;<span class="ident" id="2803912"><a href="/gostd/reflect/type.go.html#2803893">ft</a></span><span class="op" id="2803914">.</span><span class="ident" id="2803915"><a href="/gostd/reflect/type.go.html#2783619">Kind</a></span><span class="op" id="2803919">(</span><span class="op" id="2803920">)</span>&nbsp;<span class="op" id="2803922">==</span>&nbsp;<span class="ident" id="2803925"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span>&nbsp;<span class="op" id="2803929">&amp;&amp;</span>&nbsp;<span class="ident" id="2803932"><a href="/gostd/reflect/type.go.html#2803893">ft</a></span><span class="op" id="2803934">.</span><span class="ident" id="2803935"><a href="/gostd/reflect/type.go.html#2785263">Elem</a></span><span class="op" id="2803939">(</span><span class="op" id="2803940">)</span><span class="op" id="2803941">.</span><span class="ident" id="2803942"><a href="/gostd/reflect/type.go.html#2783619">Kind</a></span><span class="op" id="2803946">(</span><span class="op" id="2803947">)</span>&nbsp;<span class="op" id="2803949">==</span>&nbsp;<span class="ident" id="2803952"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span>&nbsp;<span class="op" id="2803959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2803965"><a href="/gostd/reflect/type.go.html#2803893">ft</a></span>&nbsp;<span class="op" id="2803968">=</span>&nbsp;<span class="ident" id="2803970"><a href="/gostd/reflect/type.go.html#2803893">ft</a></span><span class="op" id="2803972">.</span><span class="ident" id="2803973"><a href="/gostd/reflect/type.go.html#2785263">Elem</a></span><span class="op" id="2803977">(</span><span class="op" id="2803978">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2803983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2803988"><a href="/gostd/reflect/type.go.html#2803806">f</a></span><span class="op" id="2803989">.</span><span class="ident" id="2803990"><a href="/gostd/reflect/type.go.html#2801034">Type</a></span>&nbsp;<span class="op" id="2803995">=</span>&nbsp;<span class="ident" id="2803997"><a href="/gostd/reflect/type.go.html#2803893">ft</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2804002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2804006"><a href="/gostd/reflect/type.go.html#2803806">f</a></span>&nbsp;<span class="op" id="2804008">=</span>&nbsp;<span class="ident" id="2804010"><a href="/gostd/reflect/type.go.html#2803806">f</a></span><span class="op" id="2804011">.</span><span class="ident" id="2804012"><a href="/gostd/reflect/type.go.html#2801034">Type</a></span><span class="op" id="2804016">.</span><span class="ident" id="2804017"><a href="/gostd/reflect/type.go.html#2785427">Field</a></span><span class="op" id="2804022">(</span><span class="ident" id="2804023"><a href="/gostd/reflect/type.go.html#2803858">x</a></span><span class="op" id="2804024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2804027">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2804030">return</span><br>
<span class="lineno"></span><span class="op" id="2804037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2804040">//&nbsp;A&nbsp;fieldScan&nbsp;represents&nbsp;an&nbsp;item&nbsp;on&nbsp;the&nbsp;fieldByNameFunc&nbsp;scan&nbsp;work&nbsp;list.</span><br>
<span class="lineno"></span><span class="keyword" id="2804113">type</span>&nbsp;<span class="ident" id="2804118">fieldScan</span>&nbsp;<span class="keyword" id="2804128">struct</span>&nbsp;<span class="op" id="2804135">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2804138">typ</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2804144">*</span><span class="ident" id="2804145"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2804157">index</span>&nbsp;<span class="op" id="2804163">[</span><span class="op" id="2804164">]</span><span class="builtintype" id="2804165">int</span><br>
<span class="lineno"></span><span class="op" id="2804169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2804172">//&nbsp;FieldByNameFunc&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;a&nbsp;name&nbsp;that&nbsp;satisfies&nbsp;the</span><br>
<span class="lineno">870</span><span class="comment" id="2804247">//&nbsp;match&nbsp;function&nbsp;and&nbsp;a&nbsp;boolean&nbsp;to&nbsp;indicate&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="2804315">func</span>&nbsp;<span class="op" id="2804320">(</span><span class="ident" id="2804321">t</span>&nbsp;<span class="op" id="2804323">*</span><span class="ident" id="2804324"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2804334">)</span>&nbsp;<span class="ident" id="2804336">FieldByNameFunc</span><span class="op" id="2804351">(</span><span class="ident" id="2804352">match</span>&nbsp;<span class="keyword" id="2804358">func</span><span class="op" id="2804362">(</span><span class="builtintype" id="2804363">string</span><span class="op" id="2804369">)</span>&nbsp;<span class="builtintype" id="2804371">bool</span><span class="op" id="2804375">)</span>&nbsp;<span class="op" id="2804377">(</span><span class="ident" id="2804378">result</span>&nbsp;<span class="ident" id="2804385"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2804396">,</span>&nbsp;<span class="ident" id="2804398">ok</span>&nbsp;<span class="builtintype" id="2804401">bool</span><span class="op" id="2804405">)</span>&nbsp;<span class="op" id="2804407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2804410">//&nbsp;This&nbsp;uses&nbsp;the&nbsp;same&nbsp;condition&nbsp;that&nbsp;the&nbsp;Go&nbsp;language&nbsp;does:&nbsp;there&nbsp;must&nbsp;be&nbsp;a&nbsp;unique&nbsp;instance</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2804502">//&nbsp;of&nbsp;the&nbsp;match&nbsp;at&nbsp;a&nbsp;given&nbsp;depth&nbsp;level.&nbsp;If&nbsp;there&nbsp;are&nbsp;multiple&nbsp;instances&nbsp;of&nbsp;a&nbsp;match&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2804593">//&nbsp;same&nbsp;depth,&nbsp;they&nbsp;annihilate&nbsp;each&nbsp;other&nbsp;and&nbsp;inhibit&nbsp;any&nbsp;possible&nbsp;match&nbsp;at&nbsp;a&nbsp;lower&nbsp;level.</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2804685">//&nbsp;The&nbsp;algorithm&nbsp;is&nbsp;breadth&nbsp;first&nbsp;search,&nbsp;one&nbsp;depth&nbsp;level&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2804756">//&nbsp;The&nbsp;current&nbsp;and&nbsp;next&nbsp;slices&nbsp;are&nbsp;work&nbsp;queues:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2804805">//&nbsp;current&nbsp;lists&nbsp;the&nbsp;fields&nbsp;to&nbsp;visit&nbsp;on&nbsp;this&nbsp;depth&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2804864">//&nbsp;and&nbsp;next&nbsp;lists&nbsp;the&nbsp;fields&nbsp;on&nbsp;the&nbsp;next&nbsp;lower&nbsp;level.</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2804919">current</span>&nbsp;<span class="op" id="2804927">:=</span>&nbsp;<span class="op" id="2804930">[</span><span class="op" id="2804931">]</span><span class="ident" id="2804932"><a href="/gostd/reflect/type.go.html#2804118">fieldScan</a></span><span class="op" id="2804941">{</span><span class="op" id="2804942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2804945">next</span>&nbsp;<span class="op" id="2804950">:=</span>&nbsp;<span class="op" id="2804953">[</span><span class="op" id="2804954">]</span><span class="ident" id="2804955"><a href="/gostd/reflect/type.go.html#2804118">fieldScan</a></span><span class="op" id="2804964">{</span><span class="op" id="2804965">{</span><span class="ident" id="2804966"><a href="/gostd/reflect/type.go.html#2804138">typ</a></span><span class="op" id="2804969">:</span>&nbsp;<span class="ident" id="2804971"><a href="/gostd/reflect/type.go.html#2804321">t</a></span><span class="op" id="2804972">}</span><span class="op" id="2804973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2804977">//&nbsp;nextCount&nbsp;records&nbsp;the&nbsp;number&nbsp;of&nbsp;times&nbsp;an&nbsp;embedded&nbsp;type&nbsp;has&nbsp;been</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805045">//&nbsp;encountered&nbsp;and&nbsp;considered&nbsp;for&nbsp;queueing&nbsp;in&nbsp;the&nbsp;&#39;next&#39;&nbsp;slice.</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805110">//&nbsp;We&nbsp;only&nbsp;queue&nbsp;the&nbsp;first&nbsp;one,&nbsp;but&nbsp;we&nbsp;increment&nbsp;the&nbsp;count&nbsp;on&nbsp;each.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805179">//&nbsp;If&nbsp;a&nbsp;struct&nbsp;type&nbsp;T&nbsp;can&nbsp;be&nbsp;reached&nbsp;more&nbsp;than&nbsp;once&nbsp;at&nbsp;a&nbsp;given&nbsp;depth&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805256">//&nbsp;then&nbsp;it&nbsp;annihilates&nbsp;itself&nbsp;and&nbsp;need&nbsp;not&nbsp;be&nbsp;considered&nbsp;at&nbsp;all&nbsp;when&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805329">//&nbsp;process&nbsp;that&nbsp;next&nbsp;depth&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2805364">var</span>&nbsp;<span class="ident" id="2805368">nextCount</span>&nbsp;<span class="keyword" id="2805378">map</span><span class="op" id="2805381">[</span><span class="op" id="2805382">*</span><span class="ident" id="2805383"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2805393">]</span><span class="builtintype" id="2805394">int</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805400">//&nbsp;visited&nbsp;records&nbsp;the&nbsp;structs&nbsp;that&nbsp;have&nbsp;been&nbsp;considered&nbsp;already.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805467">//&nbsp;Embedded&nbsp;pointer&nbsp;fields&nbsp;can&nbsp;create&nbsp;cycles&nbsp;in&nbsp;the&nbsp;graph&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805529">//&nbsp;reachable&nbsp;embedded&nbsp;types;&nbsp;visited&nbsp;avoids&nbsp;following&nbsp;those&nbsp;cycles.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805598">//&nbsp;It&nbsp;also&nbsp;avoids&nbsp;duplicated&nbsp;effort:&nbsp;if&nbsp;we&nbsp;didn&#39;t&nbsp;find&nbsp;the&nbsp;field&nbsp;in&nbsp;an</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805670">//&nbsp;embedded&nbsp;type&nbsp;T&nbsp;at&nbsp;level&nbsp;2,&nbsp;we&nbsp;won&#39;t&nbsp;find&nbsp;it&nbsp;in&nbsp;one&nbsp;at&nbsp;level&nbsp;4&nbsp;either.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2805745">visited</span>&nbsp;<span class="op" id="2805753">:=</span>&nbsp;<span class="keyword" id="2805756">map</span><span class="op" id="2805759">[</span><span class="op" id="2805760">*</span><span class="ident" id="2805761"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2805771">]</span><span class="builtintype" id="2805772">bool</span><span class="op" id="2805776">{</span><span class="op" id="2805777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2805781">for</span>&nbsp;<span class="builtinfunc" id="2805785">len</span><span class="op" id="2805788">(</span><span class="ident" id="2805789"><a href="/gostd/reflect/type.go.html#2804945">next</a></span><span class="op" id="2805793">)</span>&nbsp;<span class="op" id="2805795">&gt;</span>&nbsp;<span class="num" id="2805797">0</span>&nbsp;<span class="op" id="2805799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2805803"><a href="/gostd/reflect/type.go.html#2804919">current</a></span><span class="op" id="2805810">,</span>&nbsp;<span class="ident" id="2805812"><a href="/gostd/reflect/type.go.html#2804945">next</a></span>&nbsp;<span class="op" id="2805817">=</span>&nbsp;<span class="ident" id="2805819"><a href="/gostd/reflect/type.go.html#2804945">next</a></span><span class="op" id="2805823">,</span>&nbsp;<span class="ident" id="2805825"><a href="/gostd/reflect/type.go.html#2804919">current</a></span><span class="op" id="2805832">[</span><span class="op" id="2805833">:</span><span class="num" id="2805834">0</span><span class="op" id="2805835">]</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2805839">count</span>&nbsp;<span class="op" id="2805845">:=</span>&nbsp;<span class="ident" id="2805848"><a href="/gostd/reflect/type.go.html#2805368">nextCount</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2805860"><a href="/gostd/reflect/type.go.html#2805368">nextCount</a></span>&nbsp;<span class="op" id="2805870">=</span>&nbsp;<span class="builtintype" id="2805872">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805879">//&nbsp;Process&nbsp;all&nbsp;the&nbsp;fields&nbsp;at&nbsp;this&nbsp;depth,&nbsp;now&nbsp;listed&nbsp;in&nbsp;&#39;current&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2805947">//&nbsp;The&nbsp;loop&nbsp;queues&nbsp;embedded&nbsp;fields&nbsp;found&nbsp;in&nbsp;&#39;next&#39;,&nbsp;for&nbsp;processing&nbsp;during&nbsp;the&nbsp;next</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806032">//&nbsp;iteration.&nbsp;The&nbsp;multiplicity&nbsp;of&nbsp;the&nbsp;&#39;current&#39;&nbsp;field&nbsp;counts&nbsp;is&nbsp;recorded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806107">//&nbsp;in&nbsp;&#39;count&#39;;&nbsp;the&nbsp;multiplicity&nbsp;of&nbsp;the&nbsp;&#39;next&#39;&nbsp;field&nbsp;counts&nbsp;is&nbsp;recorded&nbsp;in&nbsp;&#39;nextCount&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806196">for</span>&nbsp;<span class="ident" id="2806200">_</span><span class="op" id="2806201">,</span>&nbsp;<span class="ident" id="2806203">scan</span>&nbsp;<span class="op" id="2806208">:=</span>&nbsp;<span class="keyword" id="2806211">range</span>&nbsp;<span class="ident" id="2806217"><a href="/gostd/reflect/type.go.html#2804919">current</a></span>&nbsp;<span class="op" id="2806225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2806230">t</span>&nbsp;<span class="op" id="2806232">:=</span>&nbsp;<span class="ident" id="2806235"><a href="/gostd/reflect/type.go.html#2806203">scan</a></span><span class="op" id="2806239">.</span><span class="ident" id="2806240"><a href="/gostd/reflect/type.go.html#2804138">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806247">if</span>&nbsp;<span class="ident" id="2806250"><a href="/gostd/reflect/type.go.html#2805745">visited</a></span><span class="op" id="2806257">[</span><span class="ident" id="2806258"><a href="/gostd/reflect/type.go.html#2806230">t</a></span><span class="op" id="2806259">]</span>&nbsp;<span class="op" id="2806261">{</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806267">//&nbsp;We&#39;ve&nbsp;looked&nbsp;through&nbsp;this&nbsp;type&nbsp;before,&nbsp;at&nbsp;a&nbsp;higher&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806332">//&nbsp;That&nbsp;higher&nbsp;level&nbsp;would&nbsp;shadow&nbsp;the&nbsp;lower&nbsp;level&nbsp;we&#39;re&nbsp;now&nbsp;at,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806400">//&nbsp;so&nbsp;this&nbsp;one&nbsp;can&#39;t&nbsp;be&nbsp;useful&nbsp;to&nbsp;us.&nbsp;Ignore&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806453">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2806465">}</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2806470"><a href="/gostd/reflect/type.go.html#2805745">visited</a></span><span class="op" id="2806477">[</span><span class="ident" id="2806478"><a href="/gostd/reflect/type.go.html#2806230">t</a></span><span class="op" id="2806479">]</span>&nbsp;<span class="op" id="2806481">=</span>&nbsp;<span class="builtintype" id="2806483">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806491">for</span>&nbsp;<span class="ident" id="2806495">i</span>&nbsp;<span class="op" id="2806497">:=</span>&nbsp;<span class="keyword" id="2806500">range</span>&nbsp;<span class="ident" id="2806506"><a href="/gostd/reflect/type.go.html#2806230">t</a></span><span class="op" id="2806507">.</span><span class="ident" id="2806508"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span>&nbsp;<span class="op" id="2806515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2806521">f</span>&nbsp;<span class="op" id="2806523">:=</span>&nbsp;<span class="op" id="2806526">&amp;</span><span class="ident" id="2806527"><a href="/gostd/reflect/type.go.html#2806230">t</a></span><span class="op" id="2806528">.</span><span class="ident" id="2806529"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2806535">[</span><span class="ident" id="2806536"><a href="/gostd/reflect/type.go.html#2806495">i</a></span><span class="op" id="2806537">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806543">//&nbsp;Find&nbsp;name&nbsp;and&nbsp;type&nbsp;for&nbsp;field&nbsp;f.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806582">var</span>&nbsp;<span class="ident" id="2806586">fname</span>&nbsp;<span class="builtintype" id="2806592">string</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806603">var</span>&nbsp;<span class="ident" id="2806607">ntyp</span>&nbsp;<span class="op" id="2806612">*</span><span class="ident" id="2806613"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806623">if</span>&nbsp;<span class="ident" id="2806626"><a href="/gostd/reflect/type.go.html#2806521">f</a></span><span class="op" id="2806627">.</span><span class="ident" id="2806628"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2806633">!=</span>&nbsp;<span class="builtintype" id="2806636">nil</span>&nbsp;<span class="op" id="2806640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2806647"><a href="/gostd/reflect/type.go.html#2806586">fname</a></span>&nbsp;<span class="op" id="2806653">=</span>&nbsp;<span class="op" id="2806655">*</span><span class="ident" id="2806656"><a href="/gostd/reflect/type.go.html#2806521">f</a></span><span class="op" id="2806657">.</span><span class="ident" id="2806658"><a href="/gostd/reflect/type.go.html#2792386">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2806667">}</span>&nbsp;<span class="keyword" id="2806669">else</span>&nbsp;<span class="op" id="2806674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806681">//&nbsp;Anonymous&nbsp;field&nbsp;of&nbsp;type&nbsp;T&nbsp;or&nbsp;*T.</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806722">//&nbsp;Name&nbsp;taken&nbsp;from&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2806752"><a href="/gostd/reflect/type.go.html#2806607">ntyp</a></span>&nbsp;<span class="op" id="2806757">=</span>&nbsp;<span class="ident" id="2806759"><a href="/gostd/reflect/type.go.html#2806521">f</a></span><span class="op" id="2806760">.</span><span class="ident" id="2806761"><a href="/gostd/reflect/type.go.html#2792496">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806770">if</span>&nbsp;<span class="ident" id="2806773"><a href="/gostd/reflect/type.go.html#2806607">ntyp</a></span><span class="op" id="2806777">.</span><span class="ident" id="2806778"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2806782">(</span><span class="op" id="2806783">)</span>&nbsp;<span class="op" id="2806785">==</span>&nbsp;<span class="ident" id="2806788"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span>&nbsp;<span class="op" id="2806792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2806800"><a href="/gostd/reflect/type.go.html#2806607">ntyp</a></span>&nbsp;<span class="op" id="2806805">=</span>&nbsp;<span class="ident" id="2806807"><a href="/gostd/reflect/type.go.html#2806607">ntyp</a></span><span class="op" id="2806811">.</span><span class="ident" id="2806812"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2806816">(</span><span class="op" id="2806817">)</span><span class="op" id="2806818">.</span><span class="ident" id="2806819"><a href="/gostd/reflect/type.go.html#2786995">common</a></span><span class="op" id="2806825">(</span><span class="op" id="2806826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2806833">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2806840"><a href="/gostd/reflect/type.go.html#2806586">fname</a></span>&nbsp;<span class="op" id="2806846">=</span>&nbsp;<span class="ident" id="2806848"><a href="/gostd/reflect/type.go.html#2806607">ntyp</a></span><span class="op" id="2806852">.</span><span class="ident" id="2806853"><a href="/gostd/reflect/type.go.html#2796901">Name</a></span><span class="op" id="2806857">(</span><span class="op" id="2806858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2806864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806871">//&nbsp;Does&nbsp;it&nbsp;match?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806893">if</span>&nbsp;<span class="ident" id="2806896"><a href="/gostd/reflect/type.go.html#2804352">match</a></span><span class="op" id="2806901">(</span><span class="ident" id="2806902"><a href="/gostd/reflect/type.go.html#2806586">fname</a></span><span class="op" id="2806907">)</span>&nbsp;<span class="op" id="2806909">{</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806916">//&nbsp;Potential&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2806940">if</span>&nbsp;<span class="ident" id="2806943"><a href="/gostd/reflect/type.go.html#2805839">count</a></span><span class="op" id="2806948">[</span><span class="ident" id="2806949"><a href="/gostd/reflect/type.go.html#2806230">t</a></span><span class="op" id="2806950">]</span>&nbsp;<span class="op" id="2806952">&gt;</span>&nbsp;<span class="num" id="2806954">1</span>&nbsp;<span class="op" id="2806956">||</span>&nbsp;<span class="ident" id="2806959"><a href="/gostd/reflect/type.go.html#2804398">ok</a></span>&nbsp;<span class="op" id="2806962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2806970">//&nbsp;Name&nbsp;appeared&nbsp;multiple&nbsp;times&nbsp;at&nbsp;this&nbsp;level:&nbsp;annihilate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807035">return</span>&nbsp;<span class="ident" id="2807042"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2807053">{</span><span class="op" id="2807054">}</span><span class="op" id="2807055">,</span>&nbsp;<span class="builtintype" id="2807057">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2807068">}</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807075"><a href="/gostd/reflect/type.go.html#2804378">result</a></span>&nbsp;<span class="op" id="2807082">=</span>&nbsp;<span class="ident" id="2807084"><a href="/gostd/reflect/type.go.html#2806230">t</a></span><span class="op" id="2807085">.</span><span class="ident" id="2807086"><a href="/gostd/reflect/type.go.html#2802751">Field</a></span><span class="op" id="2807091">(</span><span class="ident" id="2807092"><a href="/gostd/reflect/type.go.html#2806495">i</a></span><span class="op" id="2807093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807100"><a href="/gostd/reflect/type.go.html#2804378">result</a></span><span class="op" id="2807106">.</span><span class="ident" id="2807107"><a href="/gostd/reflect/type.go.html#2801165">Index</a></span>&nbsp;<span class="op" id="2807113">=</span>&nbsp;<span class="builtintype" id="2807115">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807124"><a href="/gostd/reflect/type.go.html#2804378">result</a></span><span class="op" id="2807130">.</span><span class="ident" id="2807131"><a href="/gostd/reflect/type.go.html#2801165">Index</a></span>&nbsp;<span class="op" id="2807137">=</span>&nbsp;<span class="builtinfunc" id="2807139">append</span><span class="op" id="2807145">(</span><span class="ident" id="2807146"><a href="/gostd/reflect/type.go.html#2804378">result</a></span><span class="op" id="2807152">.</span><span class="ident" id="2807153"><a href="/gostd/reflect/type.go.html#2801165">Index</a></span><span class="op" id="2807158">,</span>&nbsp;<span class="ident" id="2807160"><a href="/gostd/reflect/type.go.html#2806203">scan</a></span><span class="op" id="2807164">.</span><span class="ident" id="2807165"><a href="/gostd/reflect/type.go.html#2804157">index</a></span><span class="op" id="2807170">...</span><span class="op" id="2807173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807180"><a href="/gostd/reflect/type.go.html#2804378">result</a></span><span class="op" id="2807186">.</span><span class="ident" id="2807187"><a href="/gostd/reflect/type.go.html#2801165">Index</a></span>&nbsp;<span class="op" id="2807193">=</span>&nbsp;<span class="builtinfunc" id="2807195">append</span><span class="op" id="2807201">(</span><span class="ident" id="2807202"><a href="/gostd/reflect/type.go.html#2804378">result</a></span><span class="op" id="2807208">.</span><span class="ident" id="2807209"><a href="/gostd/reflect/type.go.html#2801165">Index</a></span><span class="op" id="2807214">,</span>&nbsp;<span class="ident" id="2807216"><a href="/gostd/reflect/type.go.html#2806495">i</a></span><span class="op" id="2807217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807224"><a href="/gostd/reflect/type.go.html#2804398">ok</a></span>&nbsp;<span class="op" id="2807227">=</span>&nbsp;<span class="builtintype" id="2807229">true</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807239">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2807252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2807259">//&nbsp;Queue&nbsp;embedded&nbsp;struct&nbsp;fields&nbsp;for&nbsp;processing&nbsp;with&nbsp;next&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2807327">//&nbsp;but&nbsp;only&nbsp;if&nbsp;we&nbsp;haven&#39;t&nbsp;seen&nbsp;a&nbsp;match&nbsp;yet&nbsp;at&nbsp;this&nbsp;level&nbsp;and&nbsp;only</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2807397">//&nbsp;if&nbsp;the&nbsp;embedded&nbsp;types&nbsp;haven&#39;t&nbsp;already&nbsp;been&nbsp;queued.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807455">if</span>&nbsp;<span class="ident" id="2807458"><a href="/gostd/reflect/type.go.html#2804398">ok</a></span>&nbsp;<span class="op" id="2807461">||</span>&nbsp;<span class="ident" id="2807464"><a href="/gostd/reflect/type.go.html#2806607">ntyp</a></span>&nbsp;<span class="op" id="2807469">==</span>&nbsp;<span class="builtintype" id="2807472">nil</span>&nbsp;<span class="op" id="2807476">||</span>&nbsp;<span class="ident" id="2807479"><a href="/gostd/reflect/type.go.html#2806607">ntyp</a></span><span class="op" id="2807483">.</span><span class="ident" id="2807484"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2807488">(</span><span class="op" id="2807489">)</span>&nbsp;<span class="op" id="2807491">!=</span>&nbsp;<span class="ident" id="2807494"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span>&nbsp;<span class="op" id="2807501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807508">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2807521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807527">styp</span>&nbsp;<span class="op" id="2807532">:=</span>&nbsp;<span class="op" id="2807535">(</span><span class="op" id="2807536">*</span><span class="ident" id="2807537"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2807547">)</span><span class="op" id="2807548">(</span><span class="ident" id="2807549"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2807555">.</span><span class="ident" id="2807556">Pointer</span><span class="op" id="2807563">(</span><span class="ident" id="2807564"><a href="/gostd/reflect/type.go.html#2806607">ntyp</a></span><span class="op" id="2807568">)</span><span class="op" id="2807569">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807575">if</span>&nbsp;<span class="ident" id="2807578"><a href="/gostd/reflect/type.go.html#2805368">nextCount</a></span><span class="op" id="2807587">[</span><span class="ident" id="2807588"><a href="/gostd/reflect/type.go.html#2807527">styp</a></span><span class="op" id="2807592">]</span>&nbsp;<span class="op" id="2807594">&gt;</span>&nbsp;<span class="num" id="2807596">0</span>&nbsp;<span class="op" id="2807598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807605"><a href="/gostd/reflect/type.go.html#2805368">nextCount</a></span><span class="op" id="2807614">[</span><span class="ident" id="2807615"><a href="/gostd/reflect/type.go.html#2807527">styp</a></span><span class="op" id="2807619">]</span>&nbsp;<span class="op" id="2807621">=</span>&nbsp;<span class="num" id="2807623">2</span>&nbsp;<span class="comment" id="2807625">//&nbsp;exact&nbsp;multiple&nbsp;doesn&#39;t&nbsp;matter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807663">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2807676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807682">if</span>&nbsp;<span class="ident" id="2807685"><a href="/gostd/reflect/type.go.html#2805368">nextCount</a></span>&nbsp;<span class="op" id="2807695">==</span>&nbsp;<span class="builtintype" id="2807698">nil</span>&nbsp;<span class="op" id="2807702">{</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807709"><a href="/gostd/reflect/type.go.html#2805368">nextCount</a></span>&nbsp;<span class="op" id="2807719">=</span>&nbsp;<span class="keyword" id="2807721">map</span><span class="op" id="2807724">[</span><span class="op" id="2807725">*</span><span class="ident" id="2807726"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2807736">]</span><span class="builtintype" id="2807737">int</span><span class="op" id="2807740">{</span><span class="op" id="2807741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2807747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807753"><a href="/gostd/reflect/type.go.html#2805368">nextCount</a></span><span class="op" id="2807762">[</span><span class="ident" id="2807763"><a href="/gostd/reflect/type.go.html#2807527">styp</a></span><span class="op" id="2807767">]</span>&nbsp;<span class="op" id="2807769">=</span>&nbsp;<span class="num" id="2807771">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807777">if</span>&nbsp;<span class="ident" id="2807780"><a href="/gostd/reflect/type.go.html#2805839">count</a></span><span class="op" id="2807785">[</span><span class="ident" id="2807786"><a href="/gostd/reflect/type.go.html#2806230">t</a></span><span class="op" id="2807787">]</span>&nbsp;<span class="op" id="2807789">&gt;</span>&nbsp;<span class="num" id="2807791">1</span>&nbsp;<span class="op" id="2807793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807800"><a href="/gostd/reflect/type.go.html#2805368">nextCount</a></span><span class="op" id="2807809">[</span><span class="ident" id="2807810"><a href="/gostd/reflect/type.go.html#2807527">styp</a></span><span class="op" id="2807814">]</span>&nbsp;<span class="op" id="2807816">=</span>&nbsp;<span class="num" id="2807818">2</span>&nbsp;<span class="comment" id="2807820">//&nbsp;exact&nbsp;multiple&nbsp;doesn&#39;t&nbsp;matter</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2807857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2807863">var</span>&nbsp;<span class="ident" id="2807867">index</span>&nbsp;<span class="op" id="2807873">[</span><span class="op" id="2807874">]</span><span class="builtintype" id="2807875">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807883"><a href="/gostd/reflect/type.go.html#2807867">index</a></span>&nbsp;<span class="op" id="2807889">=</span>&nbsp;<span class="builtinfunc" id="2807891">append</span><span class="op" id="2807897">(</span><span class="ident" id="2807898"><a href="/gostd/reflect/type.go.html#2807867">index</a></span><span class="op" id="2807903">,</span>&nbsp;<span class="ident" id="2807905"><a href="/gostd/reflect/type.go.html#2806203">scan</a></span><span class="op" id="2807909">.</span><span class="ident" id="2807910"><a href="/gostd/reflect/type.go.html#2804157">index</a></span><span class="op" id="2807915">...</span><span class="op" id="2807918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807924"><a href="/gostd/reflect/type.go.html#2807867">index</a></span>&nbsp;<span class="op" id="2807930">=</span>&nbsp;<span class="builtinfunc" id="2807932">append</span><span class="op" id="2807938">(</span><span class="ident" id="2807939"><a href="/gostd/reflect/type.go.html#2807867">index</a></span><span class="op" id="2807944">,</span>&nbsp;<span class="ident" id="2807946"><a href="/gostd/reflect/type.go.html#2806495">i</a></span><span class="op" id="2807947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2807953"><a href="/gostd/reflect/type.go.html#2804945">next</a></span>&nbsp;<span class="op" id="2807958">=</span>&nbsp;<span class="builtinfunc" id="2807960">append</span><span class="op" id="2807966">(</span><span class="ident" id="2807967"><a href="/gostd/reflect/type.go.html#2804945">next</a></span><span class="op" id="2807971">,</span>&nbsp;<span class="ident" id="2807973"><a href="/gostd/reflect/type.go.html#2804118">fieldScan</a></span><span class="op" id="2807982">{</span><span class="ident" id="2807983"><a href="/gostd/reflect/type.go.html#2807527">styp</a></span><span class="op" id="2807987">,</span>&nbsp;<span class="ident" id="2807989"><a href="/gostd/reflect/type.go.html#2807867">index</a></span><span class="op" id="2807994">}</span><span class="op" id="2807995">)</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808008">if</span>&nbsp;<span class="ident" id="2808011"><a href="/gostd/reflect/type.go.html#2804398">ok</a></span>&nbsp;<span class="op" id="2808014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808019">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808027">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808033">return</span><br>
<span class="lineno"></span><span class="op" id="2808040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2808043">//&nbsp;FieldByName&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno">980</span><span class="comment" id="2808103">//&nbsp;and&nbsp;a&nbsp;boolean&nbsp;to&nbsp;indicate&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="2808156">func</span>&nbsp;<span class="op" id="2808161">(</span><span class="ident" id="2808162">t</span>&nbsp;<span class="op" id="2808164">*</span><span class="ident" id="2808165"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2808175">)</span>&nbsp;<span class="ident" id="2808177">FieldByName</span><span class="op" id="2808188">(</span><span class="ident" id="2808189">name</span>&nbsp;<span class="builtintype" id="2808194">string</span><span class="op" id="2808200">)</span>&nbsp;<span class="op" id="2808202">(</span><span class="ident" id="2808203">f</span>&nbsp;<span class="ident" id="2808205"><a href="/gostd/reflect/type.go.html#2800749">StructField</a></span><span class="op" id="2808216">,</span>&nbsp;<span class="ident" id="2808218">present</span>&nbsp;<span class="builtintype" id="2808226">bool</span><span class="op" id="2808230">)</span>&nbsp;<span class="op" id="2808232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2808235">//&nbsp;Quick&nbsp;check&nbsp;for&nbsp;top-level&nbsp;name,&nbsp;or&nbsp;struct&nbsp;without&nbsp;anonymous&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2808307">hasAnon</span>&nbsp;<span class="op" id="2808315">:=</span>&nbsp;<span class="builtintype" id="2808318">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808325">if</span>&nbsp;<span class="ident" id="2808328"><a href="/gostd/reflect/type.go.html#2808189">name</a></span>&nbsp;<span class="op" id="2808333">!=</span>&nbsp;<span class="string" id="2808336">&#34;&#34;</span>&nbsp;<span class="op" id="2808339">{</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808343">for</span>&nbsp;<span class="ident" id="2808347">i</span>&nbsp;<span class="op" id="2808349">:=</span>&nbsp;<span class="keyword" id="2808352">range</span>&nbsp;<span class="ident" id="2808358"><a href="/gostd/reflect/type.go.html#2808162">t</a></span><span class="op" id="2808359">.</span><span class="ident" id="2808360"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span>&nbsp;<span class="op" id="2808367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2808372">tf</span>&nbsp;<span class="op" id="2808375">:=</span>&nbsp;<span class="op" id="2808378">&amp;</span><span class="ident" id="2808379"><a href="/gostd/reflect/type.go.html#2808162">t</a></span><span class="op" id="2808380">.</span><span class="ident" id="2808381"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2808387">[</span><span class="ident" id="2808388"><a href="/gostd/reflect/type.go.html#2808347">i</a></span><span class="op" id="2808389">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808394">if</span>&nbsp;<span class="ident" id="2808397"><a href="/gostd/reflect/type.go.html#2808372">tf</a></span><span class="op" id="2808399">.</span><span class="ident" id="2808400"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2808405">==</span>&nbsp;<span class="builtintype" id="2808408">nil</span>&nbsp;<span class="op" id="2808412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2808418"><a href="/gostd/reflect/type.go.html#2808307">hasAnon</a></span>&nbsp;<span class="op" id="2808426">=</span>&nbsp;<span class="builtintype" id="2808428">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808437">continue</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808454">if</span>&nbsp;<span class="op" id="2808457">*</span><span class="ident" id="2808458"><a href="/gostd/reflect/type.go.html#2808372">tf</a></span><span class="op" id="2808460">.</span><span class="ident" id="2808461"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2808466">==</span>&nbsp;<span class="ident" id="2808469"><a href="/gostd/reflect/type.go.html#2808189">name</a></span>&nbsp;<span class="op" id="2808474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808480">return</span>&nbsp;<span class="ident" id="2808487"><a href="/gostd/reflect/type.go.html#2808162">t</a></span><span class="op" id="2808488">.</span><span class="ident" id="2808489"><a href="/gostd/reflect/type.go.html#2802751">Field</a></span><span class="op" id="2808494">(</span><span class="ident" id="2808495"><a href="/gostd/reflect/type.go.html#2808347">i</a></span><span class="op" id="2808496">)</span><span class="op" id="2808497">,</span>&nbsp;<span class="builtintype" id="2808499">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808511">}</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808517">if</span>&nbsp;<span class="op" id="2808520">!</span><span class="ident" id="2808521"><a href="/gostd/reflect/type.go.html#2808307">hasAnon</a></span>&nbsp;<span class="op" id="2808529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808533">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2808541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808544">return</span>&nbsp;<span class="ident" id="2808551"><a href="/gostd/reflect/type.go.html#2808162">t</a></span><span class="op" id="2808552">.</span><span class="ident" id="2808553"><a href="/gostd/reflect/type.go.html#2804336">FieldByNameFunc</a></span><span class="op" id="2808568">(</span><span class="keyword" id="2808569">func</span><span class="op" id="2808573">(</span><span class="ident" id="2808574">s</span>&nbsp;<span class="builtintype" id="2808576">string</span><span class="op" id="2808582">)</span>&nbsp;<span class="builtintype" id="2808584">bool</span>&nbsp;<span class="op" id="2808589">{</span>&nbsp;<span class="keyword" id="2808591">return</span>&nbsp;<span class="ident" id="2808598"><a href="/gostd/reflect/type.go.html#2808574">s</a></span>&nbsp;<span class="op" id="2808600">==</span>&nbsp;<span class="ident" id="2808603"><a href="/gostd/reflect/type.go.html#2808189">name</a></span>&nbsp;<span class="op" id="2808608">}</span><span class="op" id="2808609">)</span><br>
<span class="lineno">1000</span><span class="op" id="2808611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2808614">//&nbsp;TypeOf&nbsp;returns&nbsp;the&nbsp;reflection&nbsp;Type&nbsp;of&nbsp;the&nbsp;value&nbsp;in&nbsp;the&nbsp;interface{}.</span><br>
<span class="lineno"></span><span class="comment" id="2808685">//&nbsp;TypeOf(nil)&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2808713">func</span>&nbsp;<span class="ident" id="2808718">TypeOf</span><span class="op" id="2808724">(</span><span class="ident" id="2808725">i</span>&nbsp;<span class="keyword" id="2808727">interface</span><span class="op" id="2808736">{</span><span class="op" id="2808737">}</span><span class="op" id="2808738">)</span>&nbsp;<span class="ident" id="2808740"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2808745">{</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2808748">eface</span>&nbsp;<span class="op" id="2808754">:=</span>&nbsp;<span class="op" id="2808757">*</span><span class="op" id="2808758">(</span><span class="op" id="2808759">*</span><span class="ident" id="2808760"><a href="/gostd/reflect/value.go.html#2837557">emptyInterface</a></span><span class="op" id="2808774">)</span><span class="op" id="2808775">(</span><span class="ident" id="2808776"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2808782">.</span><span class="ident" id="2808783">Pointer</span><span class="op" id="2808790">(</span><span class="op" id="2808791">&amp;</span><span class="ident" id="2808792"><a href="/gostd/reflect/type.go.html#2808725">i</a></span><span class="op" id="2808793">)</span><span class="op" id="2808794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2808797">return</span>&nbsp;<span class="ident" id="2808804"><a href="/gostd/reflect/type.go.html#2827903">toType</a></span><span class="op" id="2808810">(</span><span class="ident" id="2808811"><a href="/gostd/reflect/type.go.html#2808748">eface</a></span><span class="op" id="2808816">.</span><span class="ident" id="2808817"><a href="/gostd/reflect/value.go.html#2837582">typ</a></span><span class="op" id="2808820">)</span><br>
<span class="lineno"></span><span class="op" id="2808822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2808825">//&nbsp;ptrMap&nbsp;is&nbsp;the&nbsp;cache&nbsp;for&nbsp;PtrTo.</span><br>
<span class="lineno">1010</span><span class="keyword" id="2808859">var</span>&nbsp;<span class="ident" id="2808863">ptrMap</span>&nbsp;<span class="keyword" id="2808870">struct</span>&nbsp;<span class="op" id="2808877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2808880"><a href="/gostd/reflect/type.go.html#2781100">sync</a></span><span class="op" id="2808884">.</span><span class="ident" id="2808885"><a href="/gostd/sync/rwmutex.go.html#1456076">RWMutex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2808894">m</span>&nbsp;<span class="keyword" id="2808896">map</span><span class="op" id="2808899">[</span><span class="op" id="2808900">*</span><span class="ident" id="2808901"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2808906">]</span><span class="op" id="2808907">*</span><span class="ident" id="2808908"><a href="/gostd/reflect/type.go.html#2792123">ptrType</a></span><br>
<span class="lineno"></span><span class="op" id="2808916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1015</span><span class="comment" id="2808919">//&nbsp;PtrTo&nbsp;returns&nbsp;the&nbsp;pointer&nbsp;type&nbsp;with&nbsp;element&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="2808969">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;type&nbsp;Foo,&nbsp;PtrTo(t)&nbsp;represents&nbsp;*Foo.</span><br>
<span class="lineno"></span><span class="keyword" id="2809037">func</span>&nbsp;<span class="ident" id="2809042">PtrTo</span><span class="op" id="2809047">(</span><span class="ident" id="2809048">t</span>&nbsp;<span class="ident" id="2809050"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2809054">)</span>&nbsp;<span class="ident" id="2809056"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2809061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809064">return</span>&nbsp;<span class="ident" id="2809071"><a href="/gostd/reflect/type.go.html#2809048">t</a></span><span class="op" id="2809072">.</span><span class="op" id="2809073">(</span><span class="op" id="2809074">*</span><span class="ident" id="2809075"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2809080">)</span><span class="op" id="2809081">.</span><span class="ident" id="2809082"><a href="/gostd/reflect/type.go.html#2809109">ptrTo</a></span><span class="op" id="2809087">(</span><span class="op" id="2809088">)</span><br>
<span class="lineno"></span><span class="op" id="2809090">}</span><br>
<span class="lineno">1020</span><br>
<span class="lineno"></span><span class="keyword" id="2809093">func</span>&nbsp;<span class="op" id="2809098">(</span><span class="ident" id="2809099">t</span>&nbsp;<span class="op" id="2809101">*</span><span class="ident" id="2809102"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2809107">)</span>&nbsp;<span class="ident" id="2809109">ptrTo</span><span class="op" id="2809114">(</span><span class="op" id="2809115">)</span>&nbsp;<span class="op" id="2809117">*</span><span class="ident" id="2809118"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="op" id="2809124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809127">if</span>&nbsp;<span class="ident" id="2809130">p</span>&nbsp;<span class="op" id="2809132">:=</span>&nbsp;<span class="ident" id="2809135"><a href="/gostd/reflect/type.go.html#2809099">t</a></span><span class="op" id="2809136">.</span><span class="ident" id="2809137"><a href="/gostd/reflect/type.go.html#2789016">ptrToThis</a></span><span class="op" id="2809146">;</span>&nbsp;<span class="ident" id="2809148"><a href="/gostd/reflect/type.go.html#2809130">p</a></span>&nbsp;<span class="op" id="2809150">!=</span>&nbsp;<span class="builtintype" id="2809153">nil</span>&nbsp;<span class="op" id="2809157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809161">return</span>&nbsp;<span class="ident" id="2809168"><a href="/gostd/reflect/type.go.html#2809130">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2809171">}</span><br>
<span class="lineno">1025</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2809175">//&nbsp;Otherwise,&nbsp;synthesize&nbsp;one.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2809206">//&nbsp;This&nbsp;only&nbsp;happens&nbsp;for&nbsp;pointers&nbsp;with&nbsp;no&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2809258">//&nbsp;We&nbsp;keep&nbsp;the&nbsp;mapping&nbsp;in&nbsp;a&nbsp;map&nbsp;on&nbsp;the&nbsp;side,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2809312">//&nbsp;this&nbsp;operation&nbsp;is&nbsp;rare&nbsp;and&nbsp;a&nbsp;separate&nbsp;map&nbsp;lets&nbsp;us&nbsp;keep</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2809371">//&nbsp;the&nbsp;type&nbsp;structures&nbsp;in&nbsp;read-only&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809416"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809422">.</span><span class="ident" id="2809423"><a href="/gostd/sync/rwmutex.go.html#1456490">RLock</a></span><span class="op" id="2809428">(</span><span class="op" id="2809429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809432">if</span>&nbsp;<span class="ident" id="2809435">m</span>&nbsp;<span class="op" id="2809437">:=</span>&nbsp;<span class="ident" id="2809440"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809446">.</span><span class="ident" id="2809447"><a href="/gostd/reflect/type.go.html#2808894">m</a></span><span class="op" id="2809448">;</span>&nbsp;<span class="ident" id="2809450"><a href="/gostd/reflect/type.go.html#2809435">m</a></span>&nbsp;<span class="op" id="2809452">!=</span>&nbsp;<span class="builtintype" id="2809455">nil</span>&nbsp;<span class="op" id="2809459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809463">if</span>&nbsp;<span class="ident" id="2809466">p</span>&nbsp;<span class="op" id="2809468">:=</span>&nbsp;<span class="ident" id="2809471"><a href="/gostd/reflect/type.go.html#2809435">m</a></span><span class="op" id="2809472">[</span><span class="ident" id="2809473"><a href="/gostd/reflect/type.go.html#2809099">t</a></span><span class="op" id="2809474">]</span><span class="op" id="2809475">;</span>&nbsp;<span class="ident" id="2809477"><a href="/gostd/reflect/type.go.html#2809466">p</a></span>&nbsp;<span class="op" id="2809479">!=</span>&nbsp;<span class="builtintype" id="2809482">nil</span>&nbsp;<span class="op" id="2809486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809491"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809497">.</span><span class="ident" id="2809498"><a href="/gostd/sync/rwmutex.go.html#1456952">RUnlock</a></span><span class="op" id="2809505">(</span><span class="op" id="2809506">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809511">return</span>&nbsp;<span class="op" id="2809518">&amp;</span><span class="ident" id="2809519"><a href="/gostd/reflect/type.go.html#2809466">p</a></span><span class="op" id="2809520">.</span><span class="ident" id="2809521"><a href="/gostd/reflect/type.go.html#2792141">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2809529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2809532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809535"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809541">.</span><span class="ident" id="2809542"><a href="/gostd/sync/rwmutex.go.html#1456952">RUnlock</a></span><span class="op" id="2809549">(</span><span class="op" id="2809550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809553"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809559">.</span><span class="ident" id="2809560"><a href="/gostd/sync/rwmutex.go.html#1457713">Lock</a></span><span class="op" id="2809564">(</span><span class="op" id="2809565">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809568">if</span>&nbsp;<span class="ident" id="2809571"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809577">.</span><span class="ident" id="2809578"><a href="/gostd/reflect/type.go.html#2808894">m</a></span>&nbsp;<span class="op" id="2809580">==</span>&nbsp;<span class="builtintype" id="2809583">nil</span>&nbsp;<span class="op" id="2809587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809591"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809597">.</span><span class="ident" id="2809598"><a href="/gostd/reflect/type.go.html#2808894">m</a></span>&nbsp;<span class="op" id="2809600">=</span>&nbsp;<span class="builtinfunc" id="2809602">make</span><span class="op" id="2809606">(</span><span class="keyword" id="2809607">map</span><span class="op" id="2809610">[</span><span class="op" id="2809611">*</span><span class="ident" id="2809612"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2809617">]</span><span class="op" id="2809618">*</span><span class="ident" id="2809619"><a href="/gostd/reflect/type.go.html#2792123">ptrType</a></span><span class="op" id="2809626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2809629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809632">p</span>&nbsp;<span class="op" id="2809634">:=</span>&nbsp;<span class="ident" id="2809637"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809643">.</span><span class="ident" id="2809644"><a href="/gostd/reflect/type.go.html#2808894">m</a></span><span class="op" id="2809645">[</span><span class="ident" id="2809646"><a href="/gostd/reflect/type.go.html#2809099">t</a></span><span class="op" id="2809647">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809650">if</span>&nbsp;<span class="ident" id="2809653"><a href="/gostd/reflect/type.go.html#2809632">p</a></span>&nbsp;<span class="op" id="2809655">!=</span>&nbsp;<span class="builtintype" id="2809658">nil</span>&nbsp;<span class="op" id="2809662">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2809666">//&nbsp;some&nbsp;other&nbsp;goroutine&nbsp;won&nbsp;the&nbsp;race&nbsp;and&nbsp;created&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809720"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2809726">.</span><span class="ident" id="2809727"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="2809733">(</span><span class="op" id="2809734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809738">return</span>&nbsp;<span class="op" id="2809745">&amp;</span><span class="ident" id="2809746"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2809747">.</span><span class="ident" id="2809748"><a href="/gostd/reflect/type.go.html#2792141">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2809755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2809759">//&nbsp;Create&nbsp;a&nbsp;new&nbsp;ptrType&nbsp;starting&nbsp;with&nbsp;the&nbsp;description</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2809814">//&nbsp;of&nbsp;an&nbsp;*unsafe.Pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809841"><a href="/gostd/reflect/type.go.html#2809632">p</a></span>&nbsp;<span class="op" id="2809843">=</span>&nbsp;<span class="builtinfunc" id="2809845">new</span><span class="op" id="2809848">(</span><span class="ident" id="2809849"><a href="/gostd/reflect/type.go.html#2792123">ptrType</a></span><span class="op" id="2809856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2809859">var</span>&nbsp;<span class="ident" id="2809863">iptr</span>&nbsp;<span class="keyword" id="2809868">interface</span><span class="op" id="2809877">{</span><span class="op" id="2809878">}</span>&nbsp;<span class="op" id="2809880">=</span>&nbsp;<span class="op" id="2809882">(</span><span class="op" id="2809883">*</span><span class="ident" id="2809884"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2809890">.</span><span class="ident" id="2809891">Pointer</span><span class="op" id="2809898">)</span><span class="op" id="2809899">(</span><span class="builtintype" id="2809900">nil</span><span class="op" id="2809903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809906">prototype</span>&nbsp;<span class="op" id="2809916">:=</span>&nbsp;<span class="op" id="2809919">*</span><span class="op" id="2809920">(</span><span class="op" id="2809921">*</span><span class="op" id="2809922">*</span><span class="ident" id="2809923"><a href="/gostd/reflect/type.go.html#2792123">ptrType</a></span><span class="op" id="2809930">)</span><span class="op" id="2809931">(</span><span class="ident" id="2809932"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2809938">.</span><span class="ident" id="2809939">Pointer</span><span class="op" id="2809946">(</span><span class="op" id="2809947">&amp;</span><span class="ident" id="2809948"><a href="/gostd/reflect/type.go.html#2809863">iptr</a></span><span class="op" id="2809952">)</span><span class="op" id="2809953">)</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2809956">*</span><span class="ident" id="2809957"><a href="/gostd/reflect/type.go.html#2809632">p</a></span>&nbsp;<span class="op" id="2809959">=</span>&nbsp;<span class="op" id="2809961">*</span><span class="ident" id="2809962"><a href="/gostd/reflect/type.go.html#2809906">prototype</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809974">s</span>&nbsp;<span class="op" id="2809976">:=</span>&nbsp;<span class="string" id="2809979">&#34;*&#34;</span>&nbsp;<span class="op" id="2809983">+</span>&nbsp;<span class="op" id="2809985">*</span><span class="ident" id="2809986"><a href="/gostd/reflect/type.go.html#2809099">t</a></span><span class="op" id="2809987">.</span><span class="builtintype" id="2809988"><a href="/gostd/reflect/type.go.html#2788868">string</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2809996"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2809997">.</span><span class="builtintype" id="2809998"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2810005">=</span>&nbsp;<span class="op" id="2810007">&amp;</span><span class="ident" id="2810008"><a href="/gostd/reflect/type.go.html#2809974">s</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2810012">//&nbsp;For&nbsp;the&nbsp;type&nbsp;structures&nbsp;linked&nbsp;into&nbsp;the&nbsp;binary,&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2810068">//&nbsp;compiler&nbsp;provides&nbsp;a&nbsp;good&nbsp;hash&nbsp;of&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2810117">//&nbsp;Create&nbsp;a&nbsp;good&nbsp;hash&nbsp;for&nbsp;the&nbsp;new&nbsp;string&nbsp;by&nbsp;using</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2810168">//&nbsp;the&nbsp;FNV-1&nbsp;hash&#39;s&nbsp;mixing&nbsp;function&nbsp;to&nbsp;combine&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2810220">//&nbsp;old&nbsp;hash&nbsp;and&nbsp;the&nbsp;new&nbsp;&#34;*&#34;.</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2810250"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2810251">.</span><span class="ident" id="2810252"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span>&nbsp;<span class="op" id="2810257">=</span>&nbsp;<span class="ident" id="2810259"><a href="/gostd/reflect/type.go.html#2810528">fnv1</a></span><span class="op" id="2810263">(</span><span class="ident" id="2810264"><a href="/gostd/reflect/type.go.html#2809099">t</a></span><span class="op" id="2810265">.</span><span class="ident" id="2810266"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2810270">,</span>&nbsp;<span class="string" id="2810272">&#39;*&#39;</span><span class="op" id="2810275">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2810279"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2810280">.</span><span class="ident" id="2810281"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span>&nbsp;<span class="op" id="2810294">=</span>&nbsp;<span class="builtintype" id="2810296">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2810301"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2810302">.</span><span class="ident" id="2810303"><a href="/gostd/reflect/type.go.html#2789016">ptrToThis</a></span>&nbsp;<span class="op" id="2810313">=</span>&nbsp;<span class="builtintype" id="2810315">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2810320"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2810321">.</span><span class="ident" id="2810322"><a href="/gostd/reflect/type.go.html#2789116">zero</a></span>&nbsp;<span class="op" id="2810327">=</span>&nbsp;<span class="ident" id="2810329"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2810335">.</span><span class="ident" id="2810336">Pointer</span><span class="op" id="2810343">(</span><span class="op" id="2810344">&amp;</span><span class="builtinfunc" id="2810345">make</span><span class="op" id="2810349">(</span><span class="op" id="2810350">[</span><span class="op" id="2810351">]</span><span class="builtintype" id="2810352">byte</span><span class="op" id="2810356">,</span>&nbsp;<span class="ident" id="2810358"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2810359">.</span><span class="ident" id="2810360"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2810364">)</span><span class="op" id="2810365">[</span><span class="num" id="2810366">0</span><span class="op" id="2810367">]</span><span class="op" id="2810368">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2810371"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2810372">.</span><span class="ident" id="2810373"><a href="/gostd/reflect/type.go.html#2792164">elem</a></span>&nbsp;<span class="op" id="2810378">=</span>&nbsp;<span class="ident" id="2810380"><a href="/gostd/reflect/type.go.html#2809099">t</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2810384"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2810390">.</span><span class="ident" id="2810391"><a href="/gostd/reflect/type.go.html#2808894">m</a></span><span class="op" id="2810392">[</span><span class="ident" id="2810393"><a href="/gostd/reflect/type.go.html#2809099">t</a></span><span class="op" id="2810394">]</span>&nbsp;<span class="op" id="2810396">=</span>&nbsp;<span class="ident" id="2810398"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2810401"><a href="/gostd/reflect/type.go.html#2808863">ptrMap</a></span><span class="op" id="2810407">.</span><span class="ident" id="2810408"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="2810414">(</span><span class="op" id="2810415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2810418">return</span>&nbsp;<span class="op" id="2810425">&amp;</span><span class="ident" id="2810426"><a href="/gostd/reflect/type.go.html#2809632">p</a></span><span class="op" id="2810427">.</span><span class="ident" id="2810428"><a href="/gostd/reflect/type.go.html#2792141">rtype</a></span><br>
<span class="lineno">1075</span><span class="op" id="2810434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2810437">//&nbsp;fnv1&nbsp;incorporates&nbsp;the&nbsp;list&nbsp;of&nbsp;bytes&nbsp;into&nbsp;the&nbsp;hash&nbsp;x&nbsp;using&nbsp;the&nbsp;FNV-1&nbsp;hash&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="2810523">func</span>&nbsp;<span class="ident" id="2810528">fnv1</span><span class="op" id="2810532">(</span><span class="ident" id="2810533">x</span>&nbsp;<span class="builtintype" id="2810535">uint32</span><span class="op" id="2810541">,</span>&nbsp;<span class="ident" id="2810543">list</span>&nbsp;<span class="op" id="2810548">...</span><span class="builtintype" id="2810551">byte</span><span class="op" id="2810555">)</span>&nbsp;<span class="builtintype" id="2810557">uint32</span>&nbsp;<span class="op" id="2810564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2810567">for</span>&nbsp;<span class="ident" id="2810571">_</span><span class="op" id="2810572">,</span>&nbsp;<span class="ident" id="2810574">b</span>&nbsp;<span class="op" id="2810576">:=</span>&nbsp;<span class="keyword" id="2810579">range</span>&nbsp;<span class="ident" id="2810585"><a href="/gostd/reflect/type.go.html#2810543">list</a></span>&nbsp;<span class="op" id="2810590">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2810594"><a href="/gostd/reflect/type.go.html#2810533">x</a></span>&nbsp;<span class="op" id="2810596">=</span>&nbsp;<span class="ident" id="2810598"><a href="/gostd/reflect/type.go.html#2810533">x</a></span><span class="op" id="2810599">*</span><span class="num" id="2810600">16777619</span>&nbsp;<span class="op" id="2810609">^</span>&nbsp;<span class="builtintype" id="2810611">uint32</span><span class="op" id="2810617">(</span><span class="ident" id="2810618"><a href="/gostd/reflect/type.go.html#2810574">b</a></span><span class="op" id="2810619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2810622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2810625">return</span>&nbsp;<span class="ident" id="2810632"><a href="/gostd/reflect/type.go.html#2810533">x</a></span><br>
<span class="lineno"></span><span class="op" id="2810634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1085</span><span class="keyword" id="2810637">func</span>&nbsp;<span class="op" id="2810642">(</span><span class="ident" id="2810643">t</span>&nbsp;<span class="op" id="2810645">*</span><span class="ident" id="2810646"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2810651">)</span>&nbsp;<span class="ident" id="2810653">Implements</span><span class="op" id="2810663">(</span><span class="ident" id="2810664">u</span>&nbsp;<span class="ident" id="2810666"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2810670">)</span>&nbsp;<span class="builtintype" id="2810672">bool</span>&nbsp;<span class="op" id="2810677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2810680">if</span>&nbsp;<span class="ident" id="2810683"><a href="/gostd/reflect/type.go.html#2810664">u</a></span>&nbsp;<span class="op" id="2810685">==</span>&nbsp;<span class="builtintype" id="2810688">nil</span>&nbsp;<span class="op" id="2810692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2810696">panic</span><span class="op" id="2810701">(</span><span class="string" id="2810702">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.Implements&#34;</span><span class="op" id="2810747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2810750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2810753">if</span>&nbsp;<span class="ident" id="2810756"><a href="/gostd/reflect/type.go.html#2810664">u</a></span><span class="op" id="2810757">.</span><span class="ident" id="2810758"><a href="/gostd/reflect/type.go.html#2783619">Kind</a></span><span class="op" id="2810762">(</span><span class="op" id="2810763">)</span>&nbsp;<span class="op" id="2810765">!=</span>&nbsp;<span class="ident" id="2810768"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span>&nbsp;<span class="op" id="2810778">{</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2810782">panic</span><span class="op" id="2810787">(</span><span class="string" id="2810788">&#34;reflect:&nbsp;non-interface&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.Implements&#34;</span><span class="op" id="2810843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2810846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2810849">return</span>&nbsp;<span class="ident" id="2810856"><a href="/gostd/reflect/type.go.html#2811415">implements</a></span><span class="op" id="2810866">(</span><span class="ident" id="2810867"><a href="/gostd/reflect/type.go.html#2810664">u</a></span><span class="op" id="2810868">.</span><span class="op" id="2810869">(</span><span class="op" id="2810870">*</span><span class="ident" id="2810871"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2810876">)</span><span class="op" id="2810877">,</span>&nbsp;<span class="ident" id="2810879"><a href="/gostd/reflect/type.go.html#2810643">t</a></span><span class="op" id="2810880">)</span><br>
<span class="lineno"></span><span class="op" id="2810882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1095</span><span class="keyword" id="2810885">func</span>&nbsp;<span class="op" id="2810890">(</span><span class="ident" id="2810891">t</span>&nbsp;<span class="op" id="2810893">*</span><span class="ident" id="2810894"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2810899">)</span>&nbsp;<span class="ident" id="2810901">AssignableTo</span><span class="op" id="2810913">(</span><span class="ident" id="2810914">u</span>&nbsp;<span class="ident" id="2810916"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2810920">)</span>&nbsp;<span class="builtintype" id="2810922">bool</span>&nbsp;<span class="op" id="2810927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2810930">if</span>&nbsp;<span class="ident" id="2810933"><a href="/gostd/reflect/type.go.html#2810914">u</a></span>&nbsp;<span class="op" id="2810935">==</span>&nbsp;<span class="builtintype" id="2810938">nil</span>&nbsp;<span class="op" id="2810942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2810946">panic</span><span class="op" id="2810951">(</span><span class="string" id="2810952">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.AssignableTo&#34;</span><span class="op" id="2810999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2811002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2811005">uu</span>&nbsp;<span class="op" id="2811008">:=</span>&nbsp;<span class="ident" id="2811011"><a href="/gostd/reflect/type.go.html#2810914">u</a></span><span class="op" id="2811012">.</span><span class="op" id="2811013">(</span><span class="op" id="2811014">*</span><span class="ident" id="2811015"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2811020">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2811023">return</span>&nbsp;<span class="ident" id="2811030"><a href="/gostd/reflect/type.go.html#2813171">directlyAssignable</a></span><span class="op" id="2811048">(</span><span class="ident" id="2811049"><a href="/gostd/reflect/type.go.html#2811005">uu</a></span><span class="op" id="2811051">,</span>&nbsp;<span class="ident" id="2811053"><a href="/gostd/reflect/type.go.html#2810891">t</a></span><span class="op" id="2811054">)</span>&nbsp;<span class="op" id="2811056">||</span>&nbsp;<span class="ident" id="2811059"><a href="/gostd/reflect/type.go.html#2811415">implements</a></span><span class="op" id="2811069">(</span><span class="ident" id="2811070"><a href="/gostd/reflect/type.go.html#2811005">uu</a></span><span class="op" id="2811072">,</span>&nbsp;<span class="ident" id="2811074"><a href="/gostd/reflect/type.go.html#2810891">t</a></span><span class="op" id="2811075">)</span><br>
<span class="lineno"></span><span class="op" id="2811077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2811080">func</span>&nbsp;<span class="op" id="2811085">(</span><span class="ident" id="2811086">t</span>&nbsp;<span class="op" id="2811088">*</span><span class="ident" id="2811089"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2811094">)</span>&nbsp;<span class="ident" id="2811096">ConvertibleTo</span><span class="op" id="2811109">(</span><span class="ident" id="2811110">u</span>&nbsp;<span class="ident" id="2811112"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2811116">)</span>&nbsp;<span class="builtintype" id="2811118">bool</span>&nbsp;<span class="op" id="2811123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2811126">if</span>&nbsp;<span class="ident" id="2811129"><a href="/gostd/reflect/type.go.html#2811110">u</a></span>&nbsp;<span class="op" id="2811131">==</span>&nbsp;<span class="builtintype" id="2811134">nil</span>&nbsp;<span class="op" id="2811138">{</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2811142">panic</span><span class="op" id="2811147">(</span><span class="string" id="2811148">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.ConvertibleTo&#34;</span><span class="op" id="2811196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2811199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2811202">uu</span>&nbsp;<span class="op" id="2811205">:=</span>&nbsp;<span class="ident" id="2811208"><a href="/gostd/reflect/type.go.html#2811110">u</a></span><span class="op" id="2811209">.</span><span class="op" id="2811210">(</span><span class="op" id="2811211">*</span><span class="ident" id="2811212"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2811217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2811220">return</span>&nbsp;<span class="ident" id="2811227"><a href="/gostd/reflect/value.go.html#2895553">convertOp</a></span><span class="op" id="2811236">(</span><span class="ident" id="2811237"><a href="/gostd/reflect/type.go.html#2811202">uu</a></span><span class="op" id="2811239">,</span>&nbsp;<span class="ident" id="2811241"><a href="/gostd/reflect/type.go.html#2811086">t</a></span><span class="op" id="2811242">)</span>&nbsp;<span class="op" id="2811244">!=</span>&nbsp;<span class="builtintype" id="2811247">nil</span><br>
<span class="lineno"></span><span class="op" id="2811251">}</span><br>
<span class="lineno">1110</span><br>
<span class="lineno"></span><span class="keyword" id="2811254">func</span>&nbsp;<span class="op" id="2811259">(</span><span class="ident" id="2811260">t</span>&nbsp;<span class="op" id="2811262">*</span><span class="ident" id="2811263"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2811268">)</span>&nbsp;<span class="ident" id="2811270">Comparable</span><span class="op" id="2811280">(</span><span class="op" id="2811281">)</span>&nbsp;<span class="builtintype" id="2811283">bool</span>&nbsp;<span class="op" id="2811288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2811291">return</span>&nbsp;<span class="ident" id="2811298"><a href="/gostd/reflect/type.go.html#2811260">t</a></span><span class="op" id="2811299">.</span><span class="ident" id="2811300"><a href="/gostd/reflect/type.go.html#2788728">alg</a></span>&nbsp;<span class="op" id="2811304">!=</span>&nbsp;<span class="builtintype" id="2811307">nil</span>&nbsp;<span class="op" id="2811311">&amp;&amp;</span>&nbsp;<span class="ident" id="2811314"><a href="/gostd/reflect/type.go.html#2811260">t</a></span><span class="op" id="2811315">.</span><span class="ident" id="2811316"><a href="/gostd/reflect/type.go.html#2788728">alg</a></span><span class="op" id="2811319">.</span><span class="ident" id="2811320"><a href="/gostd/reflect/type.go.html#2789438">equal</a></span>&nbsp;<span class="op" id="2811326">!=</span>&nbsp;<span class="builtintype" id="2811329">nil</span><br>
<span class="lineno"></span><span class="op" id="2811333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span><span class="comment" id="2811336">//&nbsp;implements&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;V&nbsp;implements&nbsp;the&nbsp;interface&nbsp;type&nbsp;T.</span><br>
<span class="lineno"></span><span class="keyword" id="2811410">func</span>&nbsp;<span class="ident" id="2811415">implements</span><span class="op" id="2811425">(</span><span class="ident" id="2811426">T</span><span class="op" id="2811427">,</span>&nbsp;<span class="ident" id="2811429">V</span>&nbsp;<span class="op" id="2811431">*</span><span class="ident" id="2811432"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2811437">)</span>&nbsp;<span class="builtintype" id="2811439">bool</span>&nbsp;<span class="op" id="2811444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2811447">if</span>&nbsp;<span class="ident" id="2811450"><a href="/gostd/reflect/type.go.html#2811426">T</a></span><span class="op" id="2811451">.</span><span class="ident" id="2811452"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2811456">(</span><span class="op" id="2811457">)</span>&nbsp;<span class="op" id="2811459">!=</span>&nbsp;<span class="ident" id="2811462"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span>&nbsp;<span class="op" id="2811472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2811476">return</span>&nbsp;<span class="builtintype" id="2811483">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2811490">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2811493">t</span>&nbsp;<span class="op" id="2811495">:=</span>&nbsp;<span class="op" id="2811498">(</span><span class="op" id="2811499">*</span><span class="ident" id="2811500"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2811513">)</span><span class="op" id="2811514">(</span><span class="ident" id="2811515"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2811521">.</span><span class="ident" id="2811522">Pointer</span><span class="op" id="2811529">(</span><span class="ident" id="2811530"><a href="/gostd/reflect/type.go.html#2811426">T</a></span><span class="op" id="2811531">)</span><span class="op" id="2811532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2811535">if</span>&nbsp;<span class="builtinfunc" id="2811538">len</span><span class="op" id="2811541">(</span><span class="ident" id="2811542"><a href="/gostd/reflect/type.go.html#2811493">t</a></span><span class="op" id="2811543">.</span><span class="ident" id="2811544"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2811551">)</span>&nbsp;<span class="op" id="2811553">==</span>&nbsp;<span class="num" id="2811556">0</span>&nbsp;<span class="op" id="2811558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2811562">return</span>&nbsp;<span class="builtintype" id="2811569">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2811575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2811579">//&nbsp;The&nbsp;same&nbsp;algorithm&nbsp;applies&nbsp;in&nbsp;both&nbsp;cases,&nbsp;but&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2811633">//&nbsp;method&nbsp;tables&nbsp;for&nbsp;an&nbsp;interface&nbsp;type&nbsp;and&nbsp;a&nbsp;concrete&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2811693">//&nbsp;are&nbsp;different,&nbsp;so&nbsp;the&nbsp;code&nbsp;is&nbsp;duplicated.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2811739">//&nbsp;In&nbsp;both&nbsp;cases&nbsp;the&nbsp;algorithm&nbsp;is&nbsp;a&nbsp;linear&nbsp;scan&nbsp;over&nbsp;the&nbsp;two</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2811801">//&nbsp;lists&nbsp;-&nbsp;T&#39;s&nbsp;methods&nbsp;and&nbsp;V&#39;s&nbsp;methods&nbsp;-&nbsp;simultaneously.</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2811859">//&nbsp;Since&nbsp;method&nbsp;tables&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;unique&nbsp;sorted&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2811919">//&nbsp;(alphabetical,&nbsp;with&nbsp;no&nbsp;duplicate&nbsp;method&nbsp;names),&nbsp;the&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2811980">//&nbsp;through&nbsp;V&#39;s&nbsp;methods&nbsp;must&nbsp;hit&nbsp;a&nbsp;match&nbsp;for&nbsp;each&nbsp;of&nbsp;T&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2812037">//&nbsp;methods&nbsp;along&nbsp;the&nbsp;way,&nbsp;or&nbsp;else&nbsp;V&nbsp;does&nbsp;not&nbsp;implement&nbsp;T.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2812096">//&nbsp;This&nbsp;lets&nbsp;us&nbsp;run&nbsp;the&nbsp;scan&nbsp;in&nbsp;overall&nbsp;linear&nbsp;time&nbsp;instead&nbsp;of</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2812160">//&nbsp;the&nbsp;quadratic&nbsp;time&nbsp;&nbsp;a&nbsp;naive&nbsp;search&nbsp;would&nbsp;require.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2812214">//&nbsp;See&nbsp;also&nbsp;../runtime/iface.c.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812247">if</span>&nbsp;<span class="ident" id="2812250"><a href="/gostd/reflect/type.go.html#2811429">V</a></span><span class="op" id="2812251">.</span><span class="ident" id="2812252"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2812256">(</span><span class="op" id="2812257">)</span>&nbsp;<span class="op" id="2812259">==</span>&nbsp;<span class="ident" id="2812262"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span>&nbsp;<span class="op" id="2812272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2812276">v</span>&nbsp;<span class="op" id="2812278">:=</span>&nbsp;<span class="op" id="2812281">(</span><span class="op" id="2812282">*</span><span class="ident" id="2812283"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2812296">)</span><span class="op" id="2812297">(</span><span class="ident" id="2812298"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2812304">.</span><span class="ident" id="2812305">Pointer</span><span class="op" id="2812312">(</span><span class="ident" id="2812313"><a href="/gostd/reflect/type.go.html#2811429">V</a></span><span class="op" id="2812314">)</span><span class="op" id="2812315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2812319">i</span>&nbsp;<span class="op" id="2812321">:=</span>&nbsp;<span class="num" id="2812324">0</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812328">for</span>&nbsp;<span class="ident" id="2812332">j</span>&nbsp;<span class="op" id="2812334">:=</span>&nbsp;<span class="num" id="2812337">0</span><span class="op" id="2812338">;</span>&nbsp;<span class="ident" id="2812340"><a href="/gostd/reflect/type.go.html#2812332">j</a></span>&nbsp;<span class="op" id="2812342">&lt;</span>&nbsp;<span class="builtinfunc" id="2812344">len</span><span class="op" id="2812347">(</span><span class="ident" id="2812348"><a href="/gostd/reflect/type.go.html#2812276">v</a></span><span class="op" id="2812349">.</span><span class="ident" id="2812350"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2812357">)</span><span class="op" id="2812358">;</span>&nbsp;<span class="ident" id="2812360"><a href="/gostd/reflect/type.go.html#2812332">j</a></span><span class="op" id="2812361">++</span>&nbsp;<span class="op" id="2812364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2812369">tm</span>&nbsp;<span class="op" id="2812372">:=</span>&nbsp;<span class="op" id="2812375">&amp;</span><span class="ident" id="2812376"><a href="/gostd/reflect/type.go.html#2811493">t</a></span><span class="op" id="2812377">.</span><span class="ident" id="2812378"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2812385">[</span><span class="ident" id="2812386"><a href="/gostd/reflect/type.go.html#2812319">i</a></span><span class="op" id="2812387">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2812392">vm</span>&nbsp;<span class="op" id="2812395">:=</span>&nbsp;<span class="op" id="2812398">&amp;</span><span class="ident" id="2812399"><a href="/gostd/reflect/type.go.html#2812276">v</a></span><span class="op" id="2812400">.</span><span class="ident" id="2812401"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2812408">[</span><span class="ident" id="2812409"><a href="/gostd/reflect/type.go.html#2812332">j</a></span><span class="op" id="2812410">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812415">if</span>&nbsp;<span class="ident" id="2812418"><a href="/gostd/reflect/type.go.html#2812392">vm</a></span><span class="op" id="2812420">.</span><span class="ident" id="2812421"><a href="/gostd/reflect/type.go.html#2791255">name</a></span>&nbsp;<span class="op" id="2812426">==</span>&nbsp;<span class="ident" id="2812429"><a href="/gostd/reflect/type.go.html#2812369">tm</a></span><span class="op" id="2812431">.</span><span class="ident" id="2812432"><a href="/gostd/reflect/type.go.html#2791255">name</a></span>&nbsp;<span class="op" id="2812437">&amp;&amp;</span>&nbsp;<span class="ident" id="2812440"><a href="/gostd/reflect/type.go.html#2812392">vm</a></span><span class="op" id="2812442">.</span><span class="ident" id="2812443"><a href="/gostd/reflect/type.go.html#2791290">pkgPath</a></span>&nbsp;<span class="op" id="2812451">==</span>&nbsp;<span class="ident" id="2812454"><a href="/gostd/reflect/type.go.html#2812369">tm</a></span><span class="op" id="2812456">.</span><span class="ident" id="2812457"><a href="/gostd/reflect/type.go.html#2791290">pkgPath</a></span>&nbsp;<span class="op" id="2812465">&amp;&amp;</span>&nbsp;<span class="ident" id="2812468"><a href="/gostd/reflect/type.go.html#2812392">vm</a></span><span class="op" id="2812470">.</span><span class="ident" id="2812471"><a href="/gostd/reflect/type.go.html#2791356">typ</a></span>&nbsp;<span class="op" id="2812475">==</span>&nbsp;<span class="ident" id="2812478"><a href="/gostd/reflect/type.go.html#2812369">tm</a></span><span class="op" id="2812480">.</span><span class="ident" id="2812481"><a href="/gostd/reflect/type.go.html#2791356">typ</a></span>&nbsp;<span class="op" id="2812485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812491">if</span>&nbsp;<span class="ident" id="2812494"><a href="/gostd/reflect/type.go.html#2812319">i</a></span><span class="op" id="2812495">++</span><span class="op" id="2812497">;</span>&nbsp;<span class="ident" id="2812499"><a href="/gostd/reflect/type.go.html#2812319">i</a></span>&nbsp;<span class="op" id="2812501">&gt;=</span>&nbsp;<span class="builtinfunc" id="2812504">len</span><span class="op" id="2812507">(</span><span class="ident" id="2812508"><a href="/gostd/reflect/type.go.html#2811493">t</a></span><span class="op" id="2812509">.</span><span class="ident" id="2812510"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2812517">)</span>&nbsp;<span class="op" id="2812519">{</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812526">return</span>&nbsp;<span class="builtintype" id="2812533">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2812542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2812547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2812551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812555">return</span>&nbsp;<span class="builtintype" id="2812562">false</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2812569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2812573">v</span>&nbsp;<span class="op" id="2812575">:=</span>&nbsp;<span class="ident" id="2812578"><a href="/gostd/reflect/type.go.html#2811429">V</a></span><span class="op" id="2812579">.</span><span class="ident" id="2812580"><a href="/gostd/reflect/type.go.html#2794483">uncommon</a></span><span class="op" id="2812588">(</span><span class="op" id="2812589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812592">if</span>&nbsp;<span class="ident" id="2812595"><a href="/gostd/reflect/type.go.html#2812573">v</a></span>&nbsp;<span class="op" id="2812597">==</span>&nbsp;<span class="builtintype" id="2812600">nil</span>&nbsp;<span class="op" id="2812604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812608">return</span>&nbsp;<span class="builtintype" id="2812615">false</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2812622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2812625">i</span>&nbsp;<span class="op" id="2812627">:=</span>&nbsp;<span class="num" id="2812630">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812633">for</span>&nbsp;<span class="ident" id="2812637">j</span>&nbsp;<span class="op" id="2812639">:=</span>&nbsp;<span class="num" id="2812642">0</span><span class="op" id="2812643">;</span>&nbsp;<span class="ident" id="2812645"><a href="/gostd/reflect/type.go.html#2812637">j</a></span>&nbsp;<span class="op" id="2812647">&lt;</span>&nbsp;<span class="builtinfunc" id="2812649">len</span><span class="op" id="2812652">(</span><span class="ident" id="2812653"><a href="/gostd/reflect/type.go.html#2812573">v</a></span><span class="op" id="2812654">.</span><span class="ident" id="2812655"><a href="/gostd/reflect/type.go.html#2790313">methods</a></span><span class="op" id="2812662">)</span><span class="op" id="2812663">;</span>&nbsp;<span class="ident" id="2812665"><a href="/gostd/reflect/type.go.html#2812637">j</a></span><span class="op" id="2812666">++</span>&nbsp;<span class="op" id="2812669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2812673">tm</span>&nbsp;<span class="op" id="2812676">:=</span>&nbsp;<span class="op" id="2812679">&amp;</span><span class="ident" id="2812680"><a href="/gostd/reflect/type.go.html#2811493">t</a></span><span class="op" id="2812681">.</span><span class="ident" id="2812682"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2812689">[</span><span class="ident" id="2812690"><a href="/gostd/reflect/type.go.html#2812625">i</a></span><span class="op" id="2812691">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2812695">vm</span>&nbsp;<span class="op" id="2812698">:=</span>&nbsp;<span class="op" id="2812701">&amp;</span><span class="ident" id="2812702"><a href="/gostd/reflect/type.go.html#2812573">v</a></span><span class="op" id="2812703">.</span><span class="ident" id="2812704"><a href="/gostd/reflect/type.go.html#2790313">methods</a></span><span class="op" id="2812711">[</span><span class="ident" id="2812712"><a href="/gostd/reflect/type.go.html#2812637">j</a></span><span class="op" id="2812713">]</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812717">if</span>&nbsp;<span class="ident" id="2812720"><a href="/gostd/reflect/type.go.html#2812695">vm</a></span><span class="op" id="2812722">.</span><span class="ident" id="2812723"><a href="/gostd/reflect/type.go.html#2789552">name</a></span>&nbsp;<span class="op" id="2812728">==</span>&nbsp;<span class="ident" id="2812731"><a href="/gostd/reflect/type.go.html#2812673">tm</a></span><span class="op" id="2812733">.</span><span class="ident" id="2812734"><a href="/gostd/reflect/type.go.html#2791255">name</a></span>&nbsp;<span class="op" id="2812739">&amp;&amp;</span>&nbsp;<span class="ident" id="2812742"><a href="/gostd/reflect/type.go.html#2812695">vm</a></span><span class="op" id="2812744">.</span><span class="ident" id="2812745"><a href="/gostd/reflect/type.go.html#2789594">pkgPath</a></span>&nbsp;<span class="op" id="2812753">==</span>&nbsp;<span class="ident" id="2812756"><a href="/gostd/reflect/type.go.html#2812673">tm</a></span><span class="op" id="2812758">.</span><span class="ident" id="2812759"><a href="/gostd/reflect/type.go.html#2791290">pkgPath</a></span>&nbsp;<span class="op" id="2812767">&amp;&amp;</span>&nbsp;<span class="ident" id="2812770"><a href="/gostd/reflect/type.go.html#2812695">vm</a></span><span class="op" id="2812772">.</span><span class="ident" id="2812773"><a href="/gostd/reflect/type.go.html#2789667">mtyp</a></span>&nbsp;<span class="op" id="2812778">==</span>&nbsp;<span class="ident" id="2812781"><a href="/gostd/reflect/type.go.html#2812673">tm</a></span><span class="op" id="2812783">.</span><span class="ident" id="2812784"><a href="/gostd/reflect/type.go.html#2791356">typ</a></span>&nbsp;<span class="op" id="2812788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812793">if</span>&nbsp;<span class="ident" id="2812796"><a href="/gostd/reflect/type.go.html#2812625">i</a></span><span class="op" id="2812797">++</span><span class="op" id="2812799">;</span>&nbsp;<span class="ident" id="2812801"><a href="/gostd/reflect/type.go.html#2812625">i</a></span>&nbsp;<span class="op" id="2812803">&gt;=</span>&nbsp;<span class="builtinfunc" id="2812806">len</span><span class="op" id="2812809">(</span><span class="ident" id="2812810"><a href="/gostd/reflect/type.go.html#2811493">t</a></span><span class="op" id="2812811">.</span><span class="ident" id="2812812"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2812819">)</span>&nbsp;<span class="op" id="2812821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812827">return</span>&nbsp;<span class="builtintype" id="2812834">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2812842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2812846">}</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2812849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2812852">return</span>&nbsp;<span class="builtintype" id="2812859">false</span><br>
<span class="lineno"></span><span class="op" id="2812865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2812868">//&nbsp;directlyAssignable&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;x&nbsp;of&nbsp;type&nbsp;V&nbsp;can&nbsp;be&nbsp;directly</span><br>
<span class="lineno">1170</span><span class="comment" id="2812942">//&nbsp;assigned&nbsp;(using&nbsp;memmove)&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;T.</span><br>
<span class="lineno"></span><span class="comment" id="2812992">//&nbsp;http://golang.org/doc/go_spec.html#Assignability</span><br>
<span class="lineno"></span><span class="comment" id="2813044">//&nbsp;Ignoring&nbsp;the&nbsp;interface&nbsp;rules&nbsp;(implemented&nbsp;elsewhere)</span><br>
<span class="lineno"></span><span class="comment" id="2813100">//&nbsp;and&nbsp;the&nbsp;ideal&nbsp;constant&nbsp;rules&nbsp;(no&nbsp;ideal&nbsp;constants&nbsp;at&nbsp;run&nbsp;time).</span><br>
<span class="lineno"></span><span class="keyword" id="2813166">func</span>&nbsp;<span class="ident" id="2813171">directlyAssignable</span><span class="op" id="2813189">(</span><span class="ident" id="2813190">T</span><span class="op" id="2813191">,</span>&nbsp;<span class="ident" id="2813193">V</span>&nbsp;<span class="op" id="2813195">*</span><span class="ident" id="2813196"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2813201">)</span>&nbsp;<span class="builtintype" id="2813203">bool</span>&nbsp;<span class="op" id="2813208">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2813211">//&nbsp;x&#39;s&nbsp;type&nbsp;V&nbsp;is&nbsp;identical&nbsp;to&nbsp;T?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813245">if</span>&nbsp;<span class="ident" id="2813248"><a href="/gostd/reflect/type.go.html#2813190">T</a></span>&nbsp;<span class="op" id="2813250">==</span>&nbsp;<span class="ident" id="2813253"><a href="/gostd/reflect/type.go.html#2813193">V</a></span>&nbsp;<span class="op" id="2813255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813259">return</span>&nbsp;<span class="builtintype" id="2813266">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2813272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2813276">//&nbsp;Otherwise&nbsp;at&nbsp;least&nbsp;one&nbsp;of&nbsp;T&nbsp;and&nbsp;V&nbsp;must&nbsp;be&nbsp;unnamed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2813330">//&nbsp;and&nbsp;they&nbsp;must&nbsp;have&nbsp;the&nbsp;same&nbsp;kind.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813368">if</span>&nbsp;<span class="ident" id="2813371"><a href="/gostd/reflect/type.go.html#2813190">T</a></span><span class="op" id="2813372">.</span><span class="ident" id="2813373"><a href="/gostd/reflect/type.go.html#2796901">Name</a></span><span class="op" id="2813377">(</span><span class="op" id="2813378">)</span>&nbsp;<span class="op" id="2813380">!=</span>&nbsp;<span class="string" id="2813383">&#34;&#34;</span>&nbsp;<span class="op" id="2813386">&amp;&amp;</span>&nbsp;<span class="ident" id="2813389"><a href="/gostd/reflect/type.go.html#2813193">V</a></span><span class="op" id="2813390">.</span><span class="ident" id="2813391"><a href="/gostd/reflect/type.go.html#2796901">Name</a></span><span class="op" id="2813395">(</span><span class="op" id="2813396">)</span>&nbsp;<span class="op" id="2813398">!=</span>&nbsp;<span class="string" id="2813401">&#34;&#34;</span>&nbsp;<span class="op" id="2813404">||</span>&nbsp;<span class="ident" id="2813407"><a href="/gostd/reflect/type.go.html#2813190">T</a></span><span class="op" id="2813408">.</span><span class="ident" id="2813409"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2813413">(</span><span class="op" id="2813414">)</span>&nbsp;<span class="op" id="2813416">!=</span>&nbsp;<span class="ident" id="2813419"><a href="/gostd/reflect/type.go.html#2813193">V</a></span><span class="op" id="2813420">.</span><span class="ident" id="2813421"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2813425">(</span><span class="op" id="2813426">)</span>&nbsp;<span class="op" id="2813428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813432">return</span>&nbsp;<span class="builtintype" id="2813439">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2813446">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2813450">//&nbsp;x&#39;s&nbsp;type&nbsp;T&nbsp;and&nbsp;V&nbsp;must&nbsp;&nbsp;have&nbsp;identical&nbsp;underlying&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813510">return</span>&nbsp;<span class="ident" id="2813517"><a href="/gostd/reflect/type.go.html#2813559">haveIdenticalUnderlyingType</a></span><span class="op" id="2813544">(</span><span class="ident" id="2813545"><a href="/gostd/reflect/type.go.html#2813190">T</a></span><span class="op" id="2813546">,</span>&nbsp;<span class="ident" id="2813548"><a href="/gostd/reflect/type.go.html#2813193">V</a></span><span class="op" id="2813549">)</span><br>
<span class="lineno"></span><span class="op" id="2813551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1190</span><span class="keyword" id="2813554">func</span>&nbsp;<span class="ident" id="2813559">haveIdenticalUnderlyingType</span><span class="op" id="2813586">(</span><span class="ident" id="2813587">T</span><span class="op" id="2813588">,</span>&nbsp;<span class="ident" id="2813590">V</span>&nbsp;<span class="op" id="2813592">*</span><span class="ident" id="2813593"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2813598">)</span>&nbsp;<span class="builtintype" id="2813600">bool</span>&nbsp;<span class="op" id="2813605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813608">if</span>&nbsp;<span class="ident" id="2813611"><a href="/gostd/reflect/type.go.html#2813587">T</a></span>&nbsp;<span class="op" id="2813613">==</span>&nbsp;<span class="ident" id="2813616"><a href="/gostd/reflect/type.go.html#2813590">V</a></span>&nbsp;<span class="op" id="2813618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813622">return</span>&nbsp;<span class="builtintype" id="2813629">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2813635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2813639">kind</span>&nbsp;<span class="op" id="2813644">:=</span>&nbsp;<span class="ident" id="2813647"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2813648">.</span><span class="ident" id="2813649"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2813653">(</span><span class="op" id="2813654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813657">if</span>&nbsp;<span class="ident" id="2813660"><a href="/gostd/reflect/type.go.html#2813639">kind</a></span>&nbsp;<span class="op" id="2813665">!=</span>&nbsp;<span class="ident" id="2813668"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2813669">.</span><span class="ident" id="2813670"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2813674">(</span><span class="op" id="2813675">)</span>&nbsp;<span class="op" id="2813677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813681">return</span>&nbsp;<span class="builtintype" id="2813688">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2813695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2813699">//&nbsp;Non-composite&nbsp;types&nbsp;of&nbsp;equal&nbsp;kind&nbsp;have&nbsp;same&nbsp;underlying&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2813763">//&nbsp;(the&nbsp;predefined&nbsp;instance&nbsp;of&nbsp;the&nbsp;type).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813806">if</span>&nbsp;<span class="ident" id="2813809"><a href="/gostd/reflect/type.go.html#2787897">Bool</a></span>&nbsp;<span class="op" id="2813814">&lt;=</span>&nbsp;<span class="ident" id="2813817"><a href="/gostd/reflect/type.go.html#2813639">kind</a></span>&nbsp;<span class="op" id="2813822">&amp;&amp;</span>&nbsp;<span class="ident" id="2813825"><a href="/gostd/reflect/type.go.html#2813639">kind</a></span>&nbsp;<span class="op" id="2813830">&lt;=</span>&nbsp;<span class="ident" id="2813833"><a href="/gostd/reflect/type.go.html#2788010">Complex128</a></span>&nbsp;<span class="op" id="2813844">||</span>&nbsp;<span class="ident" id="2813847"><a href="/gostd/reflect/type.go.html#2813639">kind</a></span>&nbsp;<span class="op" id="2813852">==</span>&nbsp;<span class="ident" id="2813855"><a href="/gostd/reflect/type.go.html#2788069">String</a></span>&nbsp;<span class="op" id="2813862">||</span>&nbsp;<span class="ident" id="2813865"><a href="/gostd/reflect/type.go.html#2813639">kind</a></span>&nbsp;<span class="op" id="2813870">==</span>&nbsp;<span class="ident" id="2813873"><a href="/gostd/reflect/type.go.html#2788085">UnsafePointer</a></span>&nbsp;<span class="op" id="2813887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813891">return</span>&nbsp;<span class="builtintype" id="2813898">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2813904">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2813908">//&nbsp;Composite&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813929">switch</span>&nbsp;<span class="ident" id="2813936"><a href="/gostd/reflect/type.go.html#2813639">kind</a></span>&nbsp;<span class="op" id="2813941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813944">case</span>&nbsp;<span class="ident" id="2813949"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="2813954">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2813958">return</span>&nbsp;<span class="ident" id="2813965"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2813966">.</span><span class="ident" id="2813967"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2813971">(</span><span class="op" id="2813972">)</span>&nbsp;<span class="op" id="2813974">==</span>&nbsp;<span class="ident" id="2813977"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2813978">.</span><span class="ident" id="2813979"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2813983">(</span><span class="op" id="2813984">)</span>&nbsp;<span class="op" id="2813986">&amp;&amp;</span>&nbsp;<span class="ident" id="2813989"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2813990">.</span><span class="ident" id="2813991"><a href="/gostd/reflect/type.go.html#2798949">Len</a></span><span class="op" id="2813994">(</span><span class="op" id="2813995">)</span>&nbsp;<span class="op" id="2813997">==</span>&nbsp;<span class="ident" id="2814000"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2814001">.</span><span class="ident" id="2814002"><a href="/gostd/reflect/type.go.html#2798949">Len</a></span><span class="op" id="2814005">(</span><span class="op" id="2814006">)</span><br>
<span class="lineno">1210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814010">case</span>&nbsp;<span class="ident" id="2814015"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span><span class="op" id="2814019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2814023">//&nbsp;Special&nbsp;case:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2814042">//&nbsp;x&nbsp;is&nbsp;a&nbsp;bidirectional&nbsp;channel&nbsp;value,&nbsp;T&nbsp;is&nbsp;a&nbsp;channel&nbsp;type,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2814104">//&nbsp;and&nbsp;x&#39;s&nbsp;type&nbsp;V&nbsp;and&nbsp;T&nbsp;have&nbsp;identical&nbsp;element&nbsp;types.</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814160">if</span>&nbsp;<span class="ident" id="2814163"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2814164">.</span><span class="ident" id="2814165"><a href="/gostd/reflect/type.go.html#2796966">ChanDir</a></span><span class="op" id="2814172">(</span><span class="op" id="2814173">)</span>&nbsp;<span class="op" id="2814175">==</span>&nbsp;<span class="ident" id="2814178"><a href="/gostd/reflect/type.go.html#2790544">BothDir</a></span>&nbsp;<span class="op" id="2814186">&amp;&amp;</span>&nbsp;<span class="ident" id="2814189"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2814190">.</span><span class="ident" id="2814191"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2814195">(</span><span class="op" id="2814196">)</span>&nbsp;<span class="op" id="2814198">==</span>&nbsp;<span class="ident" id="2814201"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2814202">.</span><span class="ident" id="2814203"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2814207">(</span><span class="op" id="2814208">)</span>&nbsp;<span class="op" id="2814210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814215">return</span>&nbsp;<span class="builtintype" id="2814222">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2814229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2814234">//&nbsp;Otherwise&nbsp;continue&nbsp;test&nbsp;for&nbsp;identical&nbsp;underlying&nbsp;type.</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814294">return</span>&nbsp;<span class="ident" id="2814301"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2814302">.</span><span class="ident" id="2814303"><a href="/gostd/reflect/type.go.html#2796966">ChanDir</a></span><span class="op" id="2814310">(</span><span class="op" id="2814311">)</span>&nbsp;<span class="op" id="2814313">==</span>&nbsp;<span class="ident" id="2814316"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2814317">.</span><span class="ident" id="2814318"><a href="/gostd/reflect/type.go.html#2796966">ChanDir</a></span><span class="op" id="2814325">(</span><span class="op" id="2814326">)</span>&nbsp;<span class="op" id="2814328">&amp;&amp;</span>&nbsp;<span class="ident" id="2814331"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2814332">.</span><span class="ident" id="2814333"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2814337">(</span><span class="op" id="2814338">)</span>&nbsp;<span class="op" id="2814340">==</span>&nbsp;<span class="ident" id="2814343"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2814344">.</span><span class="ident" id="2814345"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2814349">(</span><span class="op" id="2814350">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814354">case</span>&nbsp;<span class="ident" id="2814359"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span><span class="op" id="2814363">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2814367">t</span>&nbsp;<span class="op" id="2814369">:=</span>&nbsp;<span class="op" id="2814372">(</span><span class="op" id="2814373">*</span><span class="ident" id="2814374"><a href="/gostd/reflect/type.go.html#2790989">funcType</a></span><span class="op" id="2814382">)</span><span class="op" id="2814383">(</span><span class="ident" id="2814384"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2814390">.</span><span class="ident" id="2814391">Pointer</span><span class="op" id="2814398">(</span><span class="ident" id="2814399"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2814400">)</span><span class="op" id="2814401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2814405">v</span>&nbsp;<span class="op" id="2814407">:=</span>&nbsp;<span class="op" id="2814410">(</span><span class="op" id="2814411">*</span><span class="ident" id="2814412"><a href="/gostd/reflect/type.go.html#2790989">funcType</a></span><span class="op" id="2814420">)</span><span class="op" id="2814421">(</span><span class="ident" id="2814422"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2814428">.</span><span class="ident" id="2814429">Pointer</span><span class="op" id="2814436">(</span><span class="ident" id="2814437"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2814438">)</span><span class="op" id="2814439">)</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814443">if</span>&nbsp;<span class="ident" id="2814446"><a href="/gostd/reflect/type.go.html#2814367">t</a></span><span class="op" id="2814447">.</span><span class="ident" id="2814448"><a href="/gostd/reflect/type.go.html#2791036">dotdotdot</a></span>&nbsp;<span class="op" id="2814458">!=</span>&nbsp;<span class="ident" id="2814461"><a href="/gostd/reflect/type.go.html#2814405">v</a></span><span class="op" id="2814462">.</span><span class="ident" id="2814463"><a href="/gostd/reflect/type.go.html#2791036">dotdotdot</a></span>&nbsp;<span class="op" id="2814473">||</span>&nbsp;<span class="builtinfunc" id="2814476">len</span><span class="op" id="2814479">(</span><span class="ident" id="2814480"><a href="/gostd/reflect/type.go.html#2814367">t</a></span><span class="op" id="2814481">.</span><span class="ident" id="2814482"><a href="/gostd/reflect/type.go.html#2791087">in</a></span><span class="op" id="2814484">)</span>&nbsp;<span class="op" id="2814486">!=</span>&nbsp;<span class="builtinfunc" id="2814489">len</span><span class="op" id="2814492">(</span><span class="ident" id="2814493"><a href="/gostd/reflect/type.go.html#2814405">v</a></span><span class="op" id="2814494">.</span><span class="ident" id="2814495"><a href="/gostd/reflect/type.go.html#2791087">in</a></span><span class="op" id="2814497">)</span>&nbsp;<span class="op" id="2814499">||</span>&nbsp;<span class="builtinfunc" id="2814502">len</span><span class="op" id="2814505">(</span><span class="ident" id="2814506"><a href="/gostd/reflect/type.go.html#2814367">t</a></span><span class="op" id="2814507">.</span><span class="ident" id="2814508"><a href="/gostd/reflect/type.go.html#2791132">out</a></span><span class="op" id="2814511">)</span>&nbsp;<span class="op" id="2814513">!=</span>&nbsp;<span class="builtinfunc" id="2814516">len</span><span class="op" id="2814519">(</span><span class="ident" id="2814520"><a href="/gostd/reflect/type.go.html#2814405">v</a></span><span class="op" id="2814521">.</span><span class="ident" id="2814522"><a href="/gostd/reflect/type.go.html#2791132">out</a></span><span class="op" id="2814525">)</span>&nbsp;<span class="op" id="2814527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814532">return</span>&nbsp;<span class="builtintype" id="2814539">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2814547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814551">for</span>&nbsp;<span class="ident" id="2814555">i</span><span class="op" id="2814556">,</span>&nbsp;<span class="ident" id="2814558">typ</span>&nbsp;<span class="op" id="2814562">:=</span>&nbsp;<span class="keyword" id="2814565">range</span>&nbsp;<span class="ident" id="2814571"><a href="/gostd/reflect/type.go.html#2814367">t</a></span><span class="op" id="2814572">.</span><span class="ident" id="2814573"><a href="/gostd/reflect/type.go.html#2791087">in</a></span>&nbsp;<span class="op" id="2814576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814581">if</span>&nbsp;<span class="ident" id="2814584"><a href="/gostd/reflect/type.go.html#2814558">typ</a></span>&nbsp;<span class="op" id="2814588">!=</span>&nbsp;<span class="ident" id="2814591"><a href="/gostd/reflect/type.go.html#2814405">v</a></span><span class="op" id="2814592">.</span><span class="ident" id="2814593"><a href="/gostd/reflect/type.go.html#2791087">in</a></span><span class="op" id="2814595">[</span><span class="ident" id="2814596"><a href="/gostd/reflect/type.go.html#2814555">i</a></span><span class="op" id="2814597">]</span>&nbsp;<span class="op" id="2814599">{</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814605">return</span>&nbsp;<span class="builtintype" id="2814612">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2814621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2814625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814629">for</span>&nbsp;<span class="ident" id="2814633">i</span><span class="op" id="2814634">,</span>&nbsp;<span class="ident" id="2814636">typ</span>&nbsp;<span class="op" id="2814640">:=</span>&nbsp;<span class="keyword" id="2814643">range</span>&nbsp;<span class="ident" id="2814649"><a href="/gostd/reflect/type.go.html#2814367">t</a></span><span class="op" id="2814650">.</span><span class="ident" id="2814651"><a href="/gostd/reflect/type.go.html#2791132">out</a></span>&nbsp;<span class="op" id="2814655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814660">if</span>&nbsp;<span class="ident" id="2814663"><a href="/gostd/reflect/type.go.html#2814636">typ</a></span>&nbsp;<span class="op" id="2814667">!=</span>&nbsp;<span class="ident" id="2814670"><a href="/gostd/reflect/type.go.html#2814405">v</a></span><span class="op" id="2814671">.</span><span class="ident" id="2814672"><a href="/gostd/reflect/type.go.html#2791132">out</a></span><span class="op" id="2814675">[</span><span class="ident" id="2814676"><a href="/gostd/reflect/type.go.html#2814633">i</a></span><span class="op" id="2814677">]</span>&nbsp;<span class="op" id="2814679">{</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814685">return</span>&nbsp;<span class="builtintype" id="2814692">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2814701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2814705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814709">return</span>&nbsp;<span class="builtintype" id="2814716">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814723">case</span>&nbsp;<span class="ident" id="2814728"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span><span class="op" id="2814737">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2814741">t</span>&nbsp;<span class="op" id="2814743">:=</span>&nbsp;<span class="op" id="2814746">(</span><span class="op" id="2814747">*</span><span class="ident" id="2814748"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2814761">)</span><span class="op" id="2814762">(</span><span class="ident" id="2814763"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2814769">.</span><span class="ident" id="2814770">Pointer</span><span class="op" id="2814777">(</span><span class="ident" id="2814778"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2814779">)</span><span class="op" id="2814780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2814784">v</span>&nbsp;<span class="op" id="2814786">:=</span>&nbsp;<span class="op" id="2814789">(</span><span class="op" id="2814790">*</span><span class="ident" id="2814791"><a href="/gostd/reflect/type.go.html#2791454">interfaceType</a></span><span class="op" id="2814804">)</span><span class="op" id="2814805">(</span><span class="ident" id="2814806"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2814812">.</span><span class="ident" id="2814813">Pointer</span><span class="op" id="2814820">(</span><span class="ident" id="2814821"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2814822">)</span><span class="op" id="2814823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814827">if</span>&nbsp;<span class="builtinfunc" id="2814830">len</span><span class="op" id="2814833">(</span><span class="ident" id="2814834"><a href="/gostd/reflect/type.go.html#2814741">t</a></span><span class="op" id="2814835">.</span><span class="ident" id="2814836"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2814843">)</span>&nbsp;<span class="op" id="2814845">==</span>&nbsp;<span class="num" id="2814848">0</span>&nbsp;<span class="op" id="2814850">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2814853">len</span><span class="op" id="2814856">(</span><span class="ident" id="2814857"><a href="/gostd/reflect/type.go.html#2814784">v</a></span><span class="op" id="2814858">.</span><span class="ident" id="2814859"><a href="/gostd/reflect/type.go.html#2791509">methods</a></span><span class="op" id="2814866">)</span>&nbsp;<span class="op" id="2814868">==</span>&nbsp;<span class="num" id="2814871">0</span>&nbsp;<span class="op" id="2814873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814878">return</span>&nbsp;<span class="builtintype" id="2814885">true</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2814892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2814896">//&nbsp;Might&nbsp;have&nbsp;the&nbsp;same&nbsp;methods&nbsp;but&nbsp;still</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2814939">//&nbsp;need&nbsp;a&nbsp;run&nbsp;time&nbsp;conversion.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814972">return</span>&nbsp;<span class="builtintype" id="2814979">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814987">case</span>&nbsp;<span class="ident" id="2814992"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="2814995">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2814999">return</span>&nbsp;<span class="ident" id="2815006"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2815007">.</span><span class="ident" id="2815008"><a href="/gostd/reflect/type.go.html#2798792">Key</a></span><span class="op" id="2815011">(</span><span class="op" id="2815012">)</span>&nbsp;<span class="op" id="2815014">==</span>&nbsp;<span class="ident" id="2815017"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2815018">.</span><span class="ident" id="2815019"><a href="/gostd/reflect/type.go.html#2798792">Key</a></span><span class="op" id="2815022">(</span><span class="op" id="2815023">)</span>&nbsp;<span class="op" id="2815025">&amp;&amp;</span>&nbsp;<span class="ident" id="2815028"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2815029">.</span><span class="ident" id="2815030"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2815034">(</span><span class="op" id="2815035">)</span>&nbsp;<span class="op" id="2815037">==</span>&nbsp;<span class="ident" id="2815040"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2815041">.</span><span class="ident" id="2815042"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2815046">(</span><span class="op" id="2815047">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815051">case</span>&nbsp;<span class="ident" id="2815056"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span><span class="op" id="2815059">,</span>&nbsp;<span class="ident" id="2815061"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2815066">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815070">return</span>&nbsp;<span class="ident" id="2815077"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2815078">.</span><span class="ident" id="2815079"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2815083">(</span><span class="op" id="2815084">)</span>&nbsp;<span class="op" id="2815086">==</span>&nbsp;<span class="ident" id="2815089"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2815090">.</span><span class="ident" id="2815091"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2815095">(</span><span class="op" id="2815096">)</span><br>
<span class="lineno">1255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815100">case</span>&nbsp;<span class="ident" id="2815105"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span><span class="op" id="2815111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2815115">t</span>&nbsp;<span class="op" id="2815117">:=</span>&nbsp;<span class="op" id="2815120">(</span><span class="op" id="2815121">*</span><span class="ident" id="2815122"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2815132">)</span><span class="op" id="2815133">(</span><span class="ident" id="2815134"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2815140">.</span><span class="ident" id="2815141">Pointer</span><span class="op" id="2815148">(</span><span class="ident" id="2815149"><a href="/gostd/reflect/type.go.html#2813587">T</a></span><span class="op" id="2815150">)</span><span class="op" id="2815151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2815155">v</span>&nbsp;<span class="op" id="2815157">:=</span>&nbsp;<span class="op" id="2815160">(</span><span class="op" id="2815161">*</span><span class="ident" id="2815162"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2815172">)</span><span class="op" id="2815173">(</span><span class="ident" id="2815174"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2815180">.</span><span class="ident" id="2815181">Pointer</span><span class="op" id="2815188">(</span><span class="ident" id="2815189"><a href="/gostd/reflect/type.go.html#2813590">V</a></span><span class="op" id="2815190">)</span><span class="op" id="2815191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815195">if</span>&nbsp;<span class="builtinfunc" id="2815198">len</span><span class="op" id="2815201">(</span><span class="ident" id="2815202"><a href="/gostd/reflect/type.go.html#2815115">t</a></span><span class="op" id="2815203">.</span><span class="ident" id="2815204"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2815210">)</span>&nbsp;<span class="op" id="2815212">!=</span>&nbsp;<span class="builtinfunc" id="2815215">len</span><span class="op" id="2815218">(</span><span class="ident" id="2815219"><a href="/gostd/reflect/type.go.html#2815155">v</a></span><span class="op" id="2815220">.</span><span class="ident" id="2815221"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2815227">)</span>&nbsp;<span class="op" id="2815229">{</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815234">return</span>&nbsp;<span class="builtintype" id="2815241">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2815249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815253">for</span>&nbsp;<span class="ident" id="2815257">i</span>&nbsp;<span class="op" id="2815259">:=</span>&nbsp;<span class="keyword" id="2815262">range</span>&nbsp;<span class="ident" id="2815268"><a href="/gostd/reflect/type.go.html#2815115">t</a></span><span class="op" id="2815269">.</span><span class="ident" id="2815270"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span>&nbsp;<span class="op" id="2815277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2815282">tf</span>&nbsp;<span class="op" id="2815285">:=</span>&nbsp;<span class="op" id="2815288">&amp;</span><span class="ident" id="2815289"><a href="/gostd/reflect/type.go.html#2815115">t</a></span><span class="op" id="2815290">.</span><span class="ident" id="2815291"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2815297">[</span><span class="ident" id="2815298"><a href="/gostd/reflect/type.go.html#2815257">i</a></span><span class="op" id="2815299">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2815304">vf</span>&nbsp;<span class="op" id="2815307">:=</span>&nbsp;<span class="op" id="2815310">&amp;</span><span class="ident" id="2815311"><a href="/gostd/reflect/type.go.html#2815155">v</a></span><span class="op" id="2815312">.</span><span class="ident" id="2815313"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2815319">[</span><span class="ident" id="2815320"><a href="/gostd/reflect/type.go.html#2815257">i</a></span><span class="op" id="2815321">]</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815326">if</span>&nbsp;<span class="ident" id="2815329"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815331">.</span><span class="ident" id="2815332"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2815337">!=</span>&nbsp;<span class="ident" id="2815340"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815342">.</span><span class="ident" id="2815343"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2815348">&amp;&amp;</span>&nbsp;<span class="op" id="2815351">(</span><span class="ident" id="2815352"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815354">.</span><span class="ident" id="2815355"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2815360">==</span>&nbsp;<span class="builtintype" id="2815363">nil</span>&nbsp;<span class="op" id="2815367">||</span>&nbsp;<span class="ident" id="2815370"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815372">.</span><span class="ident" id="2815373"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2815378">==</span>&nbsp;<span class="builtintype" id="2815381">nil</span>&nbsp;<span class="op" id="2815385">||</span>&nbsp;<span class="op" id="2815388">*</span><span class="ident" id="2815389"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815391">.</span><span class="ident" id="2815392"><a href="/gostd/reflect/type.go.html#2792386">name</a></span>&nbsp;<span class="op" id="2815397">!=</span>&nbsp;<span class="op" id="2815400">*</span><span class="ident" id="2815401"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815403">.</span><span class="ident" id="2815404"><a href="/gostd/reflect/type.go.html#2792386">name</a></span><span class="op" id="2815408">)</span>&nbsp;<span class="op" id="2815410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815416">return</span>&nbsp;<span class="builtintype" id="2815423">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2815432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815437">if</span>&nbsp;<span class="ident" id="2815440"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815442">.</span><span class="ident" id="2815443"><a href="/gostd/reflect/type.go.html#2792430">pkgPath</a></span>&nbsp;<span class="op" id="2815451">!=</span>&nbsp;<span class="ident" id="2815454"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815456">.</span><span class="ident" id="2815457"><a href="/gostd/reflect/type.go.html#2792430">pkgPath</a></span>&nbsp;<span class="op" id="2815465">&amp;&amp;</span>&nbsp;<span class="op" id="2815468">(</span><span class="ident" id="2815469"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815471">.</span><span class="ident" id="2815472"><a href="/gostd/reflect/type.go.html#2792430">pkgPath</a></span>&nbsp;<span class="op" id="2815480">==</span>&nbsp;<span class="builtintype" id="2815483">nil</span>&nbsp;<span class="op" id="2815487">||</span>&nbsp;<span class="ident" id="2815490"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815492">.</span><span class="ident" id="2815493"><a href="/gostd/reflect/type.go.html#2792430">pkgPath</a></span>&nbsp;<span class="op" id="2815501">==</span>&nbsp;<span class="builtintype" id="2815504">nil</span>&nbsp;<span class="op" id="2815508">||</span>&nbsp;<span class="op" id="2815511">*</span><span class="ident" id="2815512"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815514">.</span><span class="ident" id="2815515"><a href="/gostd/reflect/type.go.html#2792430">pkgPath</a></span>&nbsp;<span class="op" id="2815523">!=</span>&nbsp;<span class="op" id="2815526">*</span><span class="ident" id="2815527"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815529">.</span><span class="ident" id="2815530"><a href="/gostd/reflect/type.go.html#2792430">pkgPath</a></span><span class="op" id="2815537">)</span>&nbsp;<span class="op" id="2815539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815545">return</span>&nbsp;<span class="builtintype" id="2815552">false</span><br>
<span class="lineno">1270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2815561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815566">if</span>&nbsp;<span class="ident" id="2815569"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815571">.</span><span class="ident" id="2815572"><a href="/gostd/reflect/type.go.html#2792496">typ</a></span>&nbsp;<span class="op" id="2815576">!=</span>&nbsp;<span class="ident" id="2815579"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815581">.</span><span class="ident" id="2815582"><a href="/gostd/reflect/type.go.html#2792496">typ</a></span>&nbsp;<span class="op" id="2815586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815592">return</span>&nbsp;<span class="builtintype" id="2815599">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2815608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815613">if</span>&nbsp;<span class="ident" id="2815616"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815618">.</span><span class="ident" id="2815619"><a href="/gostd/reflect/type.go.html#2792530">tag</a></span>&nbsp;<span class="op" id="2815623">!=</span>&nbsp;<span class="ident" id="2815626"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815628">.</span><span class="ident" id="2815629"><a href="/gostd/reflect/type.go.html#2792530">tag</a></span>&nbsp;<span class="op" id="2815633">&amp;&amp;</span>&nbsp;<span class="op" id="2815636">(</span><span class="ident" id="2815637"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815639">.</span><span class="ident" id="2815640"><a href="/gostd/reflect/type.go.html#2792530">tag</a></span>&nbsp;<span class="op" id="2815644">==</span>&nbsp;<span class="builtintype" id="2815647">nil</span>&nbsp;<span class="op" id="2815651">||</span>&nbsp;<span class="ident" id="2815654"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815656">.</span><span class="ident" id="2815657"><a href="/gostd/reflect/type.go.html#2792530">tag</a></span>&nbsp;<span class="op" id="2815661">==</span>&nbsp;<span class="builtintype" id="2815664">nil</span>&nbsp;<span class="op" id="2815668">||</span>&nbsp;<span class="op" id="2815671">*</span><span class="ident" id="2815672"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815674">.</span><span class="ident" id="2815675"><a href="/gostd/reflect/type.go.html#2792530">tag</a></span>&nbsp;<span class="op" id="2815679">!=</span>&nbsp;<span class="op" id="2815682">*</span><span class="ident" id="2815683"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815685">.</span><span class="ident" id="2815686"><a href="/gostd/reflect/type.go.html#2792530">tag</a></span><span class="op" id="2815689">)</span>&nbsp;<span class="op" id="2815691">{</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815697">return</span>&nbsp;<span class="builtintype" id="2815704">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2815713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815718">if</span>&nbsp;<span class="ident" id="2815721"><a href="/gostd/reflect/type.go.html#2815282">tf</a></span><span class="op" id="2815723">.</span><span class="ident" id="2815724"><a href="/gostd/reflect/type.go.html#2792564">offset</a></span>&nbsp;<span class="op" id="2815731">!=</span>&nbsp;<span class="ident" id="2815734"><a href="/gostd/reflect/type.go.html#2815304">vf</a></span><span class="op" id="2815736">.</span><span class="ident" id="2815737"><a href="/gostd/reflect/type.go.html#2792564">offset</a></span>&nbsp;<span class="op" id="2815744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815750">return</span>&nbsp;<span class="builtintype" id="2815757">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2815766">}</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2815770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815774">return</span>&nbsp;<span class="builtintype" id="2815781">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2815787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2815791">return</span>&nbsp;<span class="builtintype" id="2815798">false</span><br>
<span class="lineno">1285</span><span class="op" id="2815804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2815807">//&nbsp;typelinks&nbsp;is&nbsp;implemented&nbsp;in&nbsp;package&nbsp;runtime.</span><br>
<span class="lineno"></span><span class="comment" id="2815855">//&nbsp;It&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;all&nbsp;the&nbsp;&#39;typelink&#39;&nbsp;information&nbsp;in&nbsp;the&nbsp;binary,</span><br>
<span class="lineno"></span><span class="comment" id="2815926">//&nbsp;which&nbsp;is&nbsp;to&nbsp;say&nbsp;a&nbsp;slice&nbsp;of&nbsp;known&nbsp;types,&nbsp;sorted&nbsp;by&nbsp;string.</span><br>
<span class="lineno">1290</span><span class="comment" id="2815987">//&nbsp;Note&nbsp;that&nbsp;strings&nbsp;are&nbsp;not&nbsp;unique&nbsp;identifiers&nbsp;for&nbsp;types:</span><br>
<span class="lineno"></span><span class="comment" id="2816046">//&nbsp;there&nbsp;can&nbsp;be&nbsp;more&nbsp;than&nbsp;one&nbsp;with&nbsp;a&nbsp;given&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2816097">//&nbsp;Only&nbsp;types&nbsp;we&nbsp;might&nbsp;want&nbsp;to&nbsp;look&nbsp;up&nbsp;are&nbsp;included:</span><br>
<span class="lineno"></span><span class="comment" id="2816150">//&nbsp;channels,&nbsp;maps,&nbsp;slices,&nbsp;and&nbsp;arrays.</span><br>
<span class="lineno"></span><span class="keyword" id="2816189">func</span>&nbsp;<span class="ident" id="2816194">typelinks</span><span class="op" id="2816203">(</span><span class="op" id="2816204">)</span>&nbsp;<span class="op" id="2816206">[</span><span class="op" id="2816207">]</span><span class="op" id="2816208">*</span><span class="ident" id="2816209"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><br>
<span class="lineno">1295</span><br>
<span class="lineno"></span><span class="comment" id="2816216">//&nbsp;typesByString&nbsp;returns&nbsp;the&nbsp;subslice&nbsp;of&nbsp;typelinks()&nbsp;whose&nbsp;elements&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="2816289">//&nbsp;the&nbsp;given&nbsp;string&nbsp;representation.</span><br>
<span class="lineno"></span><span class="comment" id="2816325">//&nbsp;It&nbsp;may&nbsp;be&nbsp;empty&nbsp;(no&nbsp;known&nbsp;types&nbsp;with&nbsp;that&nbsp;string)&nbsp;or&nbsp;may&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="2816390">//&nbsp;multiple&nbsp;elements&nbsp;(multiple&nbsp;types&nbsp;with&nbsp;that&nbsp;string).</span><br>
<span class="lineno">1300</span><span class="keyword" id="2816446">func</span>&nbsp;<span class="ident" id="2816451">typesByString</span><span class="op" id="2816464">(</span><span class="ident" id="2816465">s</span>&nbsp;<span class="builtintype" id="2816467">string</span><span class="op" id="2816473">)</span>&nbsp;<span class="op" id="2816475">[</span><span class="op" id="2816476">]</span><span class="op" id="2816477">*</span><span class="ident" id="2816478"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="op" id="2816484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2816487">typ</span>&nbsp;<span class="op" id="2816491">:=</span>&nbsp;<span class="ident" id="2816494"><a href="/gostd/reflect/type.go.html#2816194">typelinks</a></span><span class="op" id="2816503">(</span><span class="op" id="2816504">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2816508">//&nbsp;We&nbsp;are&nbsp;looking&nbsp;for&nbsp;the&nbsp;first&nbsp;index&nbsp;i&nbsp;where&nbsp;the&nbsp;string&nbsp;becomes&nbsp;&gt;=&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2816580">//&nbsp;This&nbsp;is&nbsp;a&nbsp;copy&nbsp;of&nbsp;sort.Search,&nbsp;with&nbsp;f(h)&nbsp;replaced&nbsp;by&nbsp;(*typ[h].string&nbsp;&gt;=&nbsp;s).</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2816660">i</span><span class="op" id="2816661">,</span>&nbsp;<span class="ident" id="2816663">j</span>&nbsp;<span class="op" id="2816665">:=</span>&nbsp;<span class="num" id="2816668">0</span><span class="op" id="2816669">,</span>&nbsp;<span class="builtinfunc" id="2816671">len</span><span class="op" id="2816674">(</span><span class="ident" id="2816675"><a href="/gostd/reflect/type.go.html#2816487">typ</a></span><span class="op" id="2816678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2816681">for</span>&nbsp;<span class="ident" id="2816685"><a href="/gostd/reflect/type.go.html#2816660">i</a></span>&nbsp;<span class="op" id="2816687">&lt;</span>&nbsp;<span class="ident" id="2816689"><a href="/gostd/reflect/type.go.html#2816663">j</a></span>&nbsp;<span class="op" id="2816691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2816695">h</span>&nbsp;<span class="op" id="2816697">:=</span>&nbsp;<span class="ident" id="2816700"><a href="/gostd/reflect/type.go.html#2816660">i</a></span>&nbsp;<span class="op" id="2816702">+</span>&nbsp;<span class="op" id="2816704">(</span><span class="ident" id="2816705"><a href="/gostd/reflect/type.go.html#2816663">j</a></span><span class="op" id="2816706">-</span><span class="ident" id="2816707"><a href="/gostd/reflect/type.go.html#2816660">i</a></span><span class="op" id="2816708">)</span><span class="op" id="2816709">/</span><span class="num" id="2816710">2</span>&nbsp;<span class="comment" id="2816712">//&nbsp;avoid&nbsp;overflow&nbsp;when&nbsp;computing&nbsp;h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2816749">//&nbsp;i&nbsp;≤&nbsp;h&nbsp;&lt;&nbsp;j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2816766">if</span>&nbsp;<span class="op" id="2816769">!</span><span class="op" id="2816770">(</span><span class="op" id="2816771">*</span><span class="ident" id="2816772"><a href="/gostd/reflect/type.go.html#2816487">typ</a></span><span class="op" id="2816775">[</span><span class="ident" id="2816776"><a href="/gostd/reflect/type.go.html#2816695">h</a></span><span class="op" id="2816777">]</span><span class="op" id="2816778">.</span><span class="builtintype" id="2816779"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2816786">&gt;=</span>&nbsp;<span class="ident" id="2816789"><a href="/gostd/reflect/type.go.html#2816465">s</a></span><span class="op" id="2816790">)</span>&nbsp;<span class="op" id="2816792">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2816797"><a href="/gostd/reflect/type.go.html#2816660">i</a></span>&nbsp;<span class="op" id="2816799">=</span>&nbsp;<span class="ident" id="2816801"><a href="/gostd/reflect/type.go.html#2816695">h</a></span>&nbsp;<span class="op" id="2816803">+</span>&nbsp;<span class="num" id="2816805">1</span>&nbsp;<span class="comment" id="2816807">//&nbsp;preserves&nbsp;f(i-1)&nbsp;==&nbsp;false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2816838">}</span>&nbsp;<span class="keyword" id="2816840">else</span>&nbsp;<span class="op" id="2816845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2816850"><a href="/gostd/reflect/type.go.html#2816663">j</a></span>&nbsp;<span class="op" id="2816852">=</span>&nbsp;<span class="ident" id="2816854"><a href="/gostd/reflect/type.go.html#2816695">h</a></span>&nbsp;<span class="comment" id="2816856">//&nbsp;preserves&nbsp;f(j)&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2816884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2816887">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2816890">//&nbsp;i&nbsp;==&nbsp;j,&nbsp;f(i-1)&nbsp;==&nbsp;false,&nbsp;and&nbsp;f(j)&nbsp;(=&nbsp;f(i))&nbsp;==&nbsp;true&nbsp;&nbsp;=&gt;&nbsp;&nbsp;answer&nbsp;is&nbsp;i.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2816964">//&nbsp;Having&nbsp;found&nbsp;the&nbsp;first,&nbsp;linear&nbsp;scan&nbsp;forward&nbsp;to&nbsp;find&nbsp;the&nbsp;last.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2817030">//&nbsp;We&nbsp;could&nbsp;do&nbsp;a&nbsp;second&nbsp;binary&nbsp;search,&nbsp;but&nbsp;the&nbsp;caller&nbsp;is&nbsp;going</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2817094">//&nbsp;to&nbsp;do&nbsp;a&nbsp;linear&nbsp;scan&nbsp;anyway.</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817126"><a href="/gostd/reflect/type.go.html#2816663">j</a></span>&nbsp;<span class="op" id="2817128">=</span>&nbsp;<span class="ident" id="2817130"><a href="/gostd/reflect/type.go.html#2816660">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2817133">for</span>&nbsp;<span class="ident" id="2817137"><a href="/gostd/reflect/type.go.html#2816663">j</a></span>&nbsp;<span class="op" id="2817139">&lt;</span>&nbsp;<span class="builtinfunc" id="2817141">len</span><span class="op" id="2817144">(</span><span class="ident" id="2817145"><a href="/gostd/reflect/type.go.html#2816487">typ</a></span><span class="op" id="2817148">)</span>&nbsp;<span class="op" id="2817150">&amp;&amp;</span>&nbsp;<span class="op" id="2817153">*</span><span class="ident" id="2817154"><a href="/gostd/reflect/type.go.html#2816487">typ</a></span><span class="op" id="2817157">[</span><span class="ident" id="2817158"><a href="/gostd/reflect/type.go.html#2816663">j</a></span><span class="op" id="2817159">]</span><span class="op" id="2817160">.</span><span class="builtintype" id="2817161"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2817168">==</span>&nbsp;<span class="ident" id="2817171"><a href="/gostd/reflect/type.go.html#2816465">s</a></span>&nbsp;<span class="op" id="2817173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817177"><a href="/gostd/reflect/type.go.html#2816663">j</a></span><span class="op" id="2817178">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2817182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2817186">//&nbsp;This&nbsp;slice&nbsp;will&nbsp;be&nbsp;empty&nbsp;if&nbsp;the&nbsp;string&nbsp;is&nbsp;not&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2817243">return</span>&nbsp;<span class="ident" id="2817250"><a href="/gostd/reflect/type.go.html#2816487">typ</a></span><span class="op" id="2817253">[</span><span class="ident" id="2817254"><a href="/gostd/reflect/type.go.html#2816660">i</a></span><span class="op" id="2817255">:</span><span class="ident" id="2817256"><a href="/gostd/reflect/type.go.html#2816663">j</a></span><span class="op" id="2817257">]</span><br>
<span class="lineno"></span><span class="op" id="2817259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2817262">//&nbsp;The&nbsp;lookupCache&nbsp;caches&nbsp;ChanOf,&nbsp;MapOf,&nbsp;and&nbsp;SliceOf&nbsp;lookups.</span><br>
<span class="lineno">1330</span><span class="keyword" id="2817324">var</span>&nbsp;<span class="ident" id="2817328">lookupCache</span>&nbsp;<span class="keyword" id="2817340">struct</span>&nbsp;<span class="op" id="2817347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817350"><a href="/gostd/reflect/type.go.html#2781100">sync</a></span><span class="op" id="2817354">.</span><span class="ident" id="2817355"><a href="/gostd/sync/rwmutex.go.html#1456076">RWMutex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817364">m</span>&nbsp;<span class="keyword" id="2817366">map</span><span class="op" id="2817369">[</span><span class="ident" id="2817370"><a href="/gostd/reflect/type.go.html#2817565">cacheKey</a></span><span class="op" id="2817378">]</span><span class="op" id="2817379">*</span><span class="ident" id="2817380"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><br>
<span class="lineno"></span><span class="op" id="2817386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1335</span><span class="comment" id="2817389">//&nbsp;A&nbsp;cacheKey&nbsp;is&nbsp;the&nbsp;key&nbsp;for&nbsp;use&nbsp;in&nbsp;the&nbsp;lookupCache.</span><br>
<span class="lineno"></span><span class="comment" id="2817442">//&nbsp;Four&nbsp;values&nbsp;describe&nbsp;any&nbsp;of&nbsp;the&nbsp;types&nbsp;we&nbsp;are&nbsp;looking&nbsp;for:</span><br>
<span class="lineno"></span><span class="comment" id="2817503">//&nbsp;type&nbsp;kind,&nbsp;one&nbsp;or&nbsp;two&nbsp;subtypes,&nbsp;and&nbsp;an&nbsp;extra&nbsp;integer.</span><br>
<span class="lineno"></span><span class="keyword" id="2817560">type</span>&nbsp;<span class="ident" id="2817565">cacheKey</span>&nbsp;<span class="keyword" id="2817574">struct</span>&nbsp;<span class="op" id="2817581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817584">kind</span>&nbsp;&nbsp;<span class="ident" id="2817590"><a href="/gostd/reflect/type.go.html#2787856">Kind</a></span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817596">t1</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2817602">*</span><span class="ident" id="2817603"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817610">t2</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2817616">*</span><span class="ident" id="2817617"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817624">extra</span>&nbsp;<span class="builtintype" id="2817630">uintptr</span><br>
<span class="lineno"></span><span class="op" id="2817638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1345</span><span class="comment" id="2817641">//&nbsp;cacheGet&nbsp;looks&nbsp;for&nbsp;a&nbsp;type&nbsp;under&nbsp;the&nbsp;key&nbsp;k&nbsp;in&nbsp;the&nbsp;lookupCache.</span><br>
<span class="lineno"></span><span class="comment" id="2817706">//&nbsp;If&nbsp;it&nbsp;finds&nbsp;one,&nbsp;it&nbsp;returns&nbsp;that&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2817748">//&nbsp;If&nbsp;not,&nbsp;it&nbsp;returns&nbsp;nil&nbsp;with&nbsp;the&nbsp;cache&nbsp;locked.</span><br>
<span class="lineno"></span><span class="comment" id="2817797">//&nbsp;The&nbsp;caller&nbsp;is&nbsp;expected&nbsp;to&nbsp;use&nbsp;cachePut&nbsp;to&nbsp;unlock&nbsp;the&nbsp;cache.</span><br>
<span class="lineno"></span><span class="keyword" id="2817860">func</span>&nbsp;<span class="ident" id="2817865">cacheGet</span><span class="op" id="2817873">(</span><span class="ident" id="2817874">k</span>&nbsp;<span class="ident" id="2817876"><a href="/gostd/reflect/type.go.html#2817565">cacheKey</a></span><span class="op" id="2817884">)</span>&nbsp;<span class="ident" id="2817886"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2817891">{</span><br>
<span class="lineno">1350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817894"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2817905">.</span><span class="ident" id="2817906"><a href="/gostd/sync/rwmutex.go.html#1456490">RLock</a></span><span class="op" id="2817911">(</span><span class="op" id="2817912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817915">t</span>&nbsp;<span class="op" id="2817917">:=</span>&nbsp;<span class="ident" id="2817920"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2817931">.</span><span class="ident" id="2817932"><a href="/gostd/reflect/type.go.html#2817364">m</a></span><span class="op" id="2817933">[</span><span class="ident" id="2817934"><a href="/gostd/reflect/type.go.html#2817874">k</a></span><span class="op" id="2817935">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817938"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2817949">.</span><span class="ident" id="2817950"><a href="/gostd/sync/rwmutex.go.html#1456952">RUnlock</a></span><span class="op" id="2817957">(</span><span class="op" id="2817958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2817961">if</span>&nbsp;<span class="ident" id="2817964"><a href="/gostd/reflect/type.go.html#2817915">t</a></span>&nbsp;<span class="op" id="2817966">!=</span>&nbsp;<span class="builtintype" id="2817969">nil</span>&nbsp;<span class="op" id="2817973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2817977">return</span>&nbsp;<span class="ident" id="2817984"><a href="/gostd/reflect/type.go.html#2817915">t</a></span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2817987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2817991"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2818002">.</span><span class="ident" id="2818003"><a href="/gostd/sync/rwmutex.go.html#1457713">Lock</a></span><span class="op" id="2818007">(</span><span class="op" id="2818008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2818011"><a href="/gostd/reflect/type.go.html#2817915">t</a></span>&nbsp;<span class="op" id="2818013">=</span>&nbsp;<span class="ident" id="2818015"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2818026">.</span><span class="ident" id="2818027"><a href="/gostd/reflect/type.go.html#2817364">m</a></span><span class="op" id="2818028">[</span><span class="ident" id="2818029"><a href="/gostd/reflect/type.go.html#2817874">k</a></span><span class="op" id="2818030">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2818033">if</span>&nbsp;<span class="ident" id="2818036"><a href="/gostd/reflect/type.go.html#2817915">t</a></span>&nbsp;<span class="op" id="2818038">!=</span>&nbsp;<span class="builtintype" id="2818041">nil</span>&nbsp;<span class="op" id="2818045">{</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2818049"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2818060">.</span><span class="ident" id="2818061"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="2818067">(</span><span class="op" id="2818068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2818072">return</span>&nbsp;<span class="ident" id="2818079"><a href="/gostd/reflect/type.go.html#2817915">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2818082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2818086">if</span>&nbsp;<span class="ident" id="2818089"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2818100">.</span><span class="ident" id="2818101"><a href="/gostd/reflect/type.go.html#2817364">m</a></span>&nbsp;<span class="op" id="2818103">==</span>&nbsp;<span class="builtintype" id="2818106">nil</span>&nbsp;<span class="op" id="2818110">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2818114"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2818125">.</span><span class="ident" id="2818126"><a href="/gostd/reflect/type.go.html#2817364">m</a></span>&nbsp;<span class="op" id="2818128">=</span>&nbsp;<span class="builtinfunc" id="2818130">make</span><span class="op" id="2818134">(</span><span class="keyword" id="2818135">map</span><span class="op" id="2818138">[</span><span class="ident" id="2818139"><a href="/gostd/reflect/type.go.html#2817565">cacheKey</a></span><span class="op" id="2818147">]</span><span class="op" id="2818148">*</span><span class="ident" id="2818149"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2818154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2818157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2818161">return</span>&nbsp;<span class="builtintype" id="2818168">nil</span><br>
<span class="lineno"></span><span class="op" id="2818172">}</span><br>
<span class="lineno">1370</span><br>
<span class="lineno"></span><span class="comment" id="2818175">//&nbsp;cachePut&nbsp;stores&nbsp;the&nbsp;given&nbsp;type&nbsp;in&nbsp;the&nbsp;cache,&nbsp;unlocks&nbsp;the&nbsp;cache,</span><br>
<span class="lineno"></span><span class="comment" id="2818242">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;type.&nbsp;It&nbsp;is&nbsp;expected&nbsp;that&nbsp;the&nbsp;cache&nbsp;is&nbsp;locked</span><br>
<span class="lineno"></span><span class="comment" id="2818307">//&nbsp;because&nbsp;cacheGet&nbsp;returned&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2818341">func</span>&nbsp;<span class="ident" id="2818346">cachePut</span><span class="op" id="2818354">(</span><span class="ident" id="2818355">k</span>&nbsp;<span class="ident" id="2818357"><a href="/gostd/reflect/type.go.html#2817565">cacheKey</a></span><span class="op" id="2818365">,</span>&nbsp;<span class="ident" id="2818367">t</span>&nbsp;<span class="op" id="2818369">*</span><span class="ident" id="2818370"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2818375">)</span>&nbsp;<span class="ident" id="2818377"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2818382">{</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2818385"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2818396">.</span><span class="ident" id="2818397"><a href="/gostd/reflect/type.go.html#2817364">m</a></span><span class="op" id="2818398">[</span><span class="ident" id="2818399"><a href="/gostd/reflect/type.go.html#2818355">k</a></span><span class="op" id="2818400">]</span>&nbsp;<span class="op" id="2818402">=</span>&nbsp;<span class="ident" id="2818404"><a href="/gostd/reflect/type.go.html#2818367">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2818407"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2818418">.</span><span class="ident" id="2818419"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="2818425">(</span><span class="op" id="2818426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2818429">return</span>&nbsp;<span class="ident" id="2818436"><a href="/gostd/reflect/type.go.html#2818367">t</a></span><br>
<span class="lineno"></span><span class="op" id="2818438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1380</span><span class="comment" id="2818441">//&nbsp;ChanOf&nbsp;returns&nbsp;the&nbsp;channel&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;direction&nbsp;and&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2818519">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;ChanOf(RecvDir,&nbsp;t)&nbsp;represents&nbsp;&lt;-chan&nbsp;int.</span><br>
<span class="lineno"></span><span class="comment" id="2818598">//</span><br>
<span class="lineno"></span><span class="comment" id="2818601">//&nbsp;The&nbsp;gc&nbsp;runtime&nbsp;imposes&nbsp;a&nbsp;limit&nbsp;of&nbsp;64&nbsp;kB&nbsp;on&nbsp;channel&nbsp;element&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="2818670">//&nbsp;If&nbsp;t&#39;s&nbsp;size&nbsp;is&nbsp;equal&nbsp;to&nbsp;or&nbsp;exceeds&nbsp;this&nbsp;limit,&nbsp;ChanOf&nbsp;panics.</span><br>
<span class="lineno">1385</span><span class="keyword" id="2818735">func</span>&nbsp;<span class="ident" id="2818740">ChanOf</span><span class="op" id="2818746">(</span><span class="ident" id="2818747">dir</span>&nbsp;<span class="ident" id="2818751"><a href="/gostd/reflect/type.go.html#2790420">ChanDir</a></span><span class="op" id="2818758">,</span>&nbsp;<span class="ident" id="2818760">t</span>&nbsp;<span class="ident" id="2818762"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2818766">)</span>&nbsp;<span class="ident" id="2818768"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2818773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2818776">typ</span>&nbsp;<span class="op" id="2818780">:=</span>&nbsp;<span class="ident" id="2818783"><a href="/gostd/reflect/type.go.html#2818760">t</a></span><span class="op" id="2818784">.</span><span class="op" id="2818785">(</span><span class="op" id="2818786">*</span><span class="ident" id="2818787"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2818792">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2818796">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2818815">ckey</span>&nbsp;<span class="op" id="2818820">:=</span>&nbsp;<span class="ident" id="2818823"><a href="/gostd/reflect/type.go.html#2817565">cacheKey</a></span><span class="op" id="2818831">{</span><span class="ident" id="2818832"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span><span class="op" id="2818836">,</span>&nbsp;<span class="ident" id="2818838"><a href="/gostd/reflect/type.go.html#2818776">typ</a></span><span class="op" id="2818841">,</span>&nbsp;<span class="builtintype" id="2818843">nil</span><span class="op" id="2818846">,</span>&nbsp;<span class="builtintype" id="2818848">uintptr</span><span class="op" id="2818855">(</span><span class="ident" id="2818856"><a href="/gostd/reflect/type.go.html#2818747">dir</a></span><span class="op" id="2818859">)</span><span class="op" id="2818860">}</span><br>
<span class="lineno">1390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2818863">if</span>&nbsp;<span class="ident" id="2818866">ch</span>&nbsp;<span class="op" id="2818869">:=</span>&nbsp;<span class="ident" id="2818872"><a href="/gostd/reflect/type.go.html#2817865">cacheGet</a></span><span class="op" id="2818880">(</span><span class="ident" id="2818881"><a href="/gostd/reflect/type.go.html#2818815">ckey</a></span><span class="op" id="2818885">)</span><span class="op" id="2818886">;</span>&nbsp;<span class="ident" id="2818888"><a href="/gostd/reflect/type.go.html#2818866">ch</a></span>&nbsp;<span class="op" id="2818891">!=</span>&nbsp;<span class="builtintype" id="2818894">nil</span>&nbsp;<span class="op" id="2818898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2818902">return</span>&nbsp;<span class="ident" id="2818909"><a href="/gostd/reflect/type.go.html#2818866">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2818913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2818917">//&nbsp;This&nbsp;restriction&nbsp;is&nbsp;imposed&nbsp;by&nbsp;the&nbsp;gc&nbsp;compiler&nbsp;and&nbsp;the&nbsp;runtime.</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2818985">if</span>&nbsp;<span class="ident" id="2818988"><a href="/gostd/reflect/type.go.html#2818776">typ</a></span><span class="op" id="2818991">.</span><span class="ident" id="2818992"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2818997">&gt;=</span>&nbsp;<span class="num" id="2819000">1</span><span class="op" id="2819001">&lt;&lt;</span><span class="num" id="2819003">16</span>&nbsp;<span class="op" id="2819006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819010"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2819021">.</span><span class="ident" id="2819022"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="2819028">(</span><span class="op" id="2819029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2819033">panic</span><span class="op" id="2819038">(</span><span class="string" id="2819039">&#34;reflect.ChanOf:&nbsp;element&nbsp;size&nbsp;too&nbsp;large&#34;</span><span class="op" id="2819079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2819082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2819086">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2819111">//&nbsp;TODO:&nbsp;Precedence&nbsp;when&nbsp;constructing&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819158">var</span>&nbsp;<span class="ident" id="2819162">s</span>&nbsp;<span class="builtintype" id="2819164">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819172">switch</span>&nbsp;<span class="ident" id="2819179"><a href="/gostd/reflect/type.go.html#2818747">dir</a></span>&nbsp;<span class="op" id="2819183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819186">default</span><span class="op" id="2819193">:</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819197"><a href="/gostd/reflect/type.go.html#2817328">lookupCache</a></span><span class="op" id="2819208">.</span><span class="ident" id="2819209"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="2819215">(</span><span class="op" id="2819216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2819220">panic</span><span class="op" id="2819225">(</span><span class="string" id="2819226">&#34;reflect.ChanOf:&nbsp;invalid&nbsp;dir&#34;</span><span class="op" id="2819255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819258">case</span>&nbsp;<span class="ident" id="2819263"><a href="/gostd/reflect/type.go.html#2790493">SendDir</a></span><span class="op" id="2819270">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819274"><a href="/gostd/reflect/type.go.html#2819162">s</a></span>&nbsp;<span class="op" id="2819276">=</span>&nbsp;<span class="string" id="2819278">&#34;chan&lt;-&nbsp;&#34;</span>&nbsp;<span class="op" id="2819288">+</span>&nbsp;<span class="op" id="2819290">*</span><span class="ident" id="2819291"><a href="/gostd/reflect/type.go.html#2818776">typ</a></span><span class="op" id="2819294">.</span><span class="builtintype" id="2819295"><a href="/gostd/reflect/type.go.html#2788868">string</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819303">case</span>&nbsp;<span class="ident" id="2819308"><a href="/gostd/reflect/type.go.html#2790442">RecvDir</a></span><span class="op" id="2819315">:</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819319"><a href="/gostd/reflect/type.go.html#2819162">s</a></span>&nbsp;<span class="op" id="2819321">=</span>&nbsp;<span class="string" id="2819323">&#34;&lt;-chan&nbsp;&#34;</span>&nbsp;<span class="op" id="2819333">+</span>&nbsp;<span class="op" id="2819335">*</span><span class="ident" id="2819336"><a href="/gostd/reflect/type.go.html#2818776">typ</a></span><span class="op" id="2819339">.</span><span class="builtintype" id="2819340"><a href="/gostd/reflect/type.go.html#2788868">string</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819348">case</span>&nbsp;<span class="ident" id="2819353"><a href="/gostd/reflect/type.go.html#2790544">BothDir</a></span><span class="op" id="2819360">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819364"><a href="/gostd/reflect/type.go.html#2819162">s</a></span>&nbsp;<span class="op" id="2819366">=</span>&nbsp;<span class="string" id="2819368">&#34;chan&nbsp;&#34;</span>&nbsp;<span class="op" id="2819376">+</span>&nbsp;<span class="op" id="2819378">*</span><span class="ident" id="2819379"><a href="/gostd/reflect/type.go.html#2818776">typ</a></span><span class="op" id="2819382">.</span><span class="builtintype" id="2819383"><a href="/gostd/reflect/type.go.html#2788868">string</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2819391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819394">for</span>&nbsp;<span class="ident" id="2819398">_</span><span class="op" id="2819399">,</span>&nbsp;<span class="ident" id="2819401">tt</span>&nbsp;<span class="op" id="2819404">:=</span>&nbsp;<span class="keyword" id="2819407">range</span>&nbsp;<span class="ident" id="2819413"><a href="/gostd/reflect/type.go.html#2816451">typesByString</a></span><span class="op" id="2819426">(</span><span class="ident" id="2819427"><a href="/gostd/reflect/type.go.html#2819162">s</a></span><span class="op" id="2819428">)</span>&nbsp;<span class="op" id="2819430">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819434">ch</span>&nbsp;<span class="op" id="2819437">:=</span>&nbsp;<span class="op" id="2819440">(</span><span class="op" id="2819441">*</span><span class="ident" id="2819442"><a href="/gostd/reflect/type.go.html#2790814">chanType</a></span><span class="op" id="2819450">)</span><span class="op" id="2819451">(</span><span class="ident" id="2819452"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2819458">.</span><span class="ident" id="2819459">Pointer</span><span class="op" id="2819466">(</span><span class="ident" id="2819467"><a href="/gostd/reflect/type.go.html#2819401">tt</a></span><span class="op" id="2819469">)</span><span class="op" id="2819470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819474">if</span>&nbsp;<span class="ident" id="2819477"><a href="/gostd/reflect/type.go.html#2819434">ch</a></span><span class="op" id="2819479">.</span><span class="ident" id="2819480"><a href="/gostd/reflect/type.go.html#2790857">elem</a></span>&nbsp;<span class="op" id="2819485">==</span>&nbsp;<span class="ident" id="2819488"><a href="/gostd/reflect/type.go.html#2818776">typ</a></span>&nbsp;<span class="op" id="2819492">&amp;&amp;</span>&nbsp;<span class="ident" id="2819495"><a href="/gostd/reflect/type.go.html#2819434">ch</a></span><span class="op" id="2819497">.</span><span class="ident" id="2819498"><a href="/gostd/reflect/type.go.html#2790896">dir</a></span>&nbsp;<span class="op" id="2819502">==</span>&nbsp;<span class="builtintype" id="2819505">uintptr</span><span class="op" id="2819512">(</span><span class="ident" id="2819513"><a href="/gostd/reflect/type.go.html#2818747">dir</a></span><span class="op" id="2819516">)</span>&nbsp;<span class="op" id="2819518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819523">return</span>&nbsp;<span class="ident" id="2819530"><a href="/gostd/reflect/type.go.html#2818346">cachePut</a></span><span class="op" id="2819538">(</span><span class="ident" id="2819539"><a href="/gostd/reflect/type.go.html#2818815">ckey</a></span><span class="op" id="2819543">,</span>&nbsp;<span class="ident" id="2819545"><a href="/gostd/reflect/type.go.html#2819401">tt</a></span><span class="op" id="2819547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2819551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2819554">}</span><br>
<span class="lineno">1420</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2819558">//&nbsp;Make&nbsp;a&nbsp;channel&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819583">var</span>&nbsp;<span class="ident" id="2819587">ichan</span>&nbsp;<span class="keyword" id="2819593">interface</span><span class="op" id="2819602">{</span><span class="op" id="2819603">}</span>&nbsp;<span class="op" id="2819605">=</span>&nbsp;<span class="op" id="2819607">(</span><span class="keyword" id="2819608">chan</span>&nbsp;<span class="ident" id="2819613"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2819619">.</span><span class="ident" id="2819620">Pointer</span><span class="op" id="2819627">)</span><span class="op" id="2819628">(</span><span class="builtintype" id="2819629">nil</span><span class="op" id="2819632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819635">prototype</span>&nbsp;<span class="op" id="2819645">:=</span>&nbsp;<span class="op" id="2819648">*</span><span class="op" id="2819649">(</span><span class="op" id="2819650">*</span><span class="op" id="2819651">*</span><span class="ident" id="2819652"><a href="/gostd/reflect/type.go.html#2790814">chanType</a></span><span class="op" id="2819660">)</span><span class="op" id="2819661">(</span><span class="ident" id="2819662"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2819668">.</span><span class="ident" id="2819669">Pointer</span><span class="op" id="2819676">(</span><span class="op" id="2819677">&amp;</span><span class="ident" id="2819678"><a href="/gostd/reflect/type.go.html#2819587">ichan</a></span><span class="op" id="2819683">)</span><span class="op" id="2819684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819687">ch</span>&nbsp;<span class="op" id="2819690">:=</span>&nbsp;<span class="builtinfunc" id="2819693">new</span><span class="op" id="2819696">(</span><span class="ident" id="2819697"><a href="/gostd/reflect/type.go.html#2790814">chanType</a></span><span class="op" id="2819705">)</span><br>
<span class="lineno">1425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2819708">*</span><span class="ident" id="2819709"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span>&nbsp;<span class="op" id="2819712">=</span>&nbsp;<span class="op" id="2819714">*</span><span class="ident" id="2819715"><a href="/gostd/reflect/type.go.html#2819635">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819726"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span><span class="op" id="2819728">.</span><span class="builtintype" id="2819729"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2819736">=</span>&nbsp;<span class="op" id="2819738">&amp;</span><span class="ident" id="2819739"><a href="/gostd/reflect/type.go.html#2819162">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819742"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span><span class="op" id="2819744">.</span><span class="ident" id="2819745"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span>&nbsp;<span class="op" id="2819750">=</span>&nbsp;<span class="ident" id="2819752"><a href="/gostd/reflect/type.go.html#2810528">fnv1</a></span><span class="op" id="2819756">(</span><span class="ident" id="2819757"><a href="/gostd/reflect/type.go.html#2818776">typ</a></span><span class="op" id="2819760">.</span><span class="ident" id="2819761"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2819765">,</span>&nbsp;<span class="string" id="2819767">&#39;c&#39;</span><span class="op" id="2819770">,</span>&nbsp;<span class="builtintype" id="2819772">byte</span><span class="op" id="2819776">(</span><span class="ident" id="2819777"><a href="/gostd/reflect/type.go.html#2818747">dir</a></span><span class="op" id="2819780">)</span><span class="op" id="2819781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819784"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span><span class="op" id="2819786">.</span><span class="ident" id="2819787"><a href="/gostd/reflect/type.go.html#2790857">elem</a></span>&nbsp;<span class="op" id="2819792">=</span>&nbsp;<span class="ident" id="2819794"><a href="/gostd/reflect/type.go.html#2818776">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819799"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span><span class="op" id="2819801">.</span><span class="ident" id="2819802"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span>&nbsp;<span class="op" id="2819815">=</span>&nbsp;<span class="builtintype" id="2819817">nil</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819822"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span><span class="op" id="2819824">.</span><span class="ident" id="2819825"><a href="/gostd/reflect/type.go.html#2789016">ptrToThis</a></span>&nbsp;<span class="op" id="2819835">=</span>&nbsp;<span class="builtintype" id="2819837">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2819842"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span><span class="op" id="2819844">.</span><span class="ident" id="2819845"><a href="/gostd/reflect/type.go.html#2789116">zero</a></span>&nbsp;<span class="op" id="2819850">=</span>&nbsp;<span class="ident" id="2819852"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2819858">.</span><span class="ident" id="2819859">Pointer</span><span class="op" id="2819866">(</span><span class="op" id="2819867">&amp;</span><span class="builtinfunc" id="2819868">make</span><span class="op" id="2819872">(</span><span class="op" id="2819873">[</span><span class="op" id="2819874">]</span><span class="builtintype" id="2819875">byte</span><span class="op" id="2819879">,</span>&nbsp;<span class="ident" id="2819881"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span><span class="op" id="2819883">.</span><span class="ident" id="2819884"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2819888">)</span><span class="op" id="2819889">[</span><span class="num" id="2819890">0</span><span class="op" id="2819891">]</span><span class="op" id="2819892">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2819896">return</span>&nbsp;<span class="ident" id="2819903"><a href="/gostd/reflect/type.go.html#2818346">cachePut</a></span><span class="op" id="2819911">(</span><span class="ident" id="2819912"><a href="/gostd/reflect/type.go.html#2818815">ckey</a></span><span class="op" id="2819916">,</span>&nbsp;<span class="op" id="2819918">&amp;</span><span class="ident" id="2819919"><a href="/gostd/reflect/type.go.html#2819687">ch</a></span><span class="op" id="2819921">.</span><span class="ident" id="2819922"><a href="/gostd/reflect/type.go.html#2790833">rtype</a></span><span class="op" id="2819927">)</span><br>
<span class="lineno"></span><span class="op" id="2819929">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="keyword" id="2819932">func</span>&nbsp;<span class="ident" id="2819937">ismapkey</span><span class="op" id="2819945">(</span><span class="op" id="2819946">*</span><span class="ident" id="2819947"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2819952">)</span>&nbsp;<span class="builtintype" id="2819954">bool</span>&nbsp;<span class="comment" id="2819959">//&nbsp;implemented&nbsp;in&nbsp;runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2819986">//&nbsp;MapOf&nbsp;returns&nbsp;the&nbsp;map&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;key&nbsp;and&nbsp;element&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="2820054">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;k&nbsp;represents&nbsp;int&nbsp;and&nbsp;e&nbsp;represents&nbsp;string,</span><br>
<span class="lineno">1440</span><span class="comment" id="2820115">//&nbsp;MapOf(k,&nbsp;e)&nbsp;represents&nbsp;map[int]string.</span><br>
<span class="lineno"></span><span class="comment" id="2820157">//</span><br>
<span class="lineno"></span><span class="comment" id="2820160">//&nbsp;If&nbsp;the&nbsp;key&nbsp;type&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;map&nbsp;key&nbsp;type&nbsp;(that&nbsp;is,&nbsp;if&nbsp;it&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="2820228">//&nbsp;not&nbsp;implement&nbsp;Go&#39;s&nbsp;==&nbsp;operator),&nbsp;MapOf&nbsp;panics.</span><br>
<span class="lineno"></span><span class="keyword" id="2820278">func</span>&nbsp;<span class="ident" id="2820283">MapOf</span><span class="op" id="2820288">(</span><span class="ident" id="2820289">key</span><span class="op" id="2820292">,</span>&nbsp;<span class="ident" id="2820294">elem</span>&nbsp;<span class="ident" id="2820299"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2820303">)</span>&nbsp;<span class="ident" id="2820305"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2820310">{</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820313">ktyp</span>&nbsp;<span class="op" id="2820318">:=</span>&nbsp;<span class="ident" id="2820321"><a href="/gostd/reflect/type.go.html#2820289">key</a></span><span class="op" id="2820324">.</span><span class="op" id="2820325">(</span><span class="op" id="2820326">*</span><span class="ident" id="2820327"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2820332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820335">etyp</span>&nbsp;<span class="op" id="2820340">:=</span>&nbsp;<span class="ident" id="2820343"><a href="/gostd/reflect/type.go.html#2820294">elem</a></span><span class="op" id="2820347">.</span><span class="op" id="2820348">(</span><span class="op" id="2820349">*</span><span class="ident" id="2820350"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2820355">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2820359">if</span>&nbsp;<span class="op" id="2820362">!</span><span class="ident" id="2820363"><a href="/gostd/reflect/type.go.html#2819937">ismapkey</a></span><span class="op" id="2820371">(</span><span class="ident" id="2820372"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2820376">)</span>&nbsp;<span class="op" id="2820378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2820382">panic</span><span class="op" id="2820387">(</span><span class="string" id="2820388">&#34;reflect.MapOf:&nbsp;invalid&nbsp;key&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2820423">+</span>&nbsp;<span class="ident" id="2820425"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2820429">.</span><span class="ident" id="2820430"><a href="/gostd/reflect/type.go.html#2794758">String</a></span><span class="op" id="2820436">(</span><span class="op" id="2820437">)</span><span class="op" id="2820438">)</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2820441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2820445">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820464">ckey</span>&nbsp;<span class="op" id="2820469">:=</span>&nbsp;<span class="ident" id="2820472"><a href="/gostd/reflect/type.go.html#2817565">cacheKey</a></span><span class="op" id="2820480">{</span><span class="ident" id="2820481"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="2820484">,</span>&nbsp;<span class="ident" id="2820486"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2820490">,</span>&nbsp;<span class="ident" id="2820492"><a href="/gostd/reflect/type.go.html#2820335">etyp</a></span><span class="op" id="2820496">,</span>&nbsp;<span class="num" id="2820498">0</span><span class="op" id="2820499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2820502">if</span>&nbsp;<span class="ident" id="2820505">mt</span>&nbsp;<span class="op" id="2820508">:=</span>&nbsp;<span class="ident" id="2820511"><a href="/gostd/reflect/type.go.html#2817865">cacheGet</a></span><span class="op" id="2820519">(</span><span class="ident" id="2820520"><a href="/gostd/reflect/type.go.html#2820464">ckey</a></span><span class="op" id="2820524">)</span><span class="op" id="2820525">;</span>&nbsp;<span class="ident" id="2820527"><a href="/gostd/reflect/type.go.html#2820505">mt</a></span>&nbsp;<span class="op" id="2820530">!=</span>&nbsp;<span class="builtintype" id="2820533">nil</span>&nbsp;<span class="op" id="2820537">{</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2820541">return</span>&nbsp;<span class="ident" id="2820548"><a href="/gostd/reflect/type.go.html#2820505">mt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2820552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2820556">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820581">s</span>&nbsp;<span class="op" id="2820583">:=</span>&nbsp;<span class="string" id="2820586">&#34;map[&#34;</span>&nbsp;<span class="op" id="2820593">+</span>&nbsp;<span class="op" id="2820595">*</span><span class="ident" id="2820596"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2820600">.</span><span class="builtintype" id="2820601"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2820608">+</span>&nbsp;<span class="string" id="2820610">&#34;]&#34;</span>&nbsp;<span class="op" id="2820614">+</span>&nbsp;<span class="op" id="2820616">*</span><span class="ident" id="2820617"><a href="/gostd/reflect/type.go.html#2820335">etyp</a></span><span class="op" id="2820621">.</span><span class="builtintype" id="2820622"><a href="/gostd/reflect/type.go.html#2788868">string</a></span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2820630">for</span>&nbsp;<span class="ident" id="2820634">_</span><span class="op" id="2820635">,</span>&nbsp;<span class="ident" id="2820637">tt</span>&nbsp;<span class="op" id="2820640">:=</span>&nbsp;<span class="keyword" id="2820643">range</span>&nbsp;<span class="ident" id="2820649"><a href="/gostd/reflect/type.go.html#2816451">typesByString</a></span><span class="op" id="2820662">(</span><span class="ident" id="2820663"><a href="/gostd/reflect/type.go.html#2820581">s</a></span><span class="op" id="2820664">)</span>&nbsp;<span class="op" id="2820666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820670">mt</span>&nbsp;<span class="op" id="2820673">:=</span>&nbsp;<span class="op" id="2820676">(</span><span class="op" id="2820677">*</span><span class="ident" id="2820678"><a href="/gostd/reflect/type.go.html#2791587">mapType</a></span><span class="op" id="2820685">)</span><span class="op" id="2820686">(</span><span class="ident" id="2820687"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2820693">.</span><span class="ident" id="2820694">Pointer</span><span class="op" id="2820701">(</span><span class="ident" id="2820702"><a href="/gostd/reflect/type.go.html#2820637">tt</a></span><span class="op" id="2820704">)</span><span class="op" id="2820705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2820709">if</span>&nbsp;<span class="ident" id="2820712"><a href="/gostd/reflect/type.go.html#2820670">mt</a></span><span class="op" id="2820714">.</span><span class="ident" id="2820715"><a href="/gostd/reflect/type.go.html#2791636">key</a></span>&nbsp;<span class="op" id="2820719">==</span>&nbsp;<span class="ident" id="2820722"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span>&nbsp;<span class="op" id="2820727">&amp;&amp;</span>&nbsp;<span class="ident" id="2820730"><a href="/gostd/reflect/type.go.html#2820670">mt</a></span><span class="op" id="2820732">.</span><span class="ident" id="2820733"><a href="/gostd/reflect/type.go.html#2791674">elem</a></span>&nbsp;<span class="op" id="2820738">==</span>&nbsp;<span class="ident" id="2820741"><a href="/gostd/reflect/type.go.html#2820335">etyp</a></span>&nbsp;<span class="op" id="2820746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2820751">return</span>&nbsp;<span class="ident" id="2820758"><a href="/gostd/reflect/type.go.html#2818346">cachePut</a></span><span class="op" id="2820766">(</span><span class="ident" id="2820767"><a href="/gostd/reflect/type.go.html#2820464">ckey</a></span><span class="op" id="2820771">,</span>&nbsp;<span class="ident" id="2820773"><a href="/gostd/reflect/type.go.html#2820637">tt</a></span><span class="op" id="2820775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2820779">}</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2820782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2820786">//&nbsp;Make&nbsp;a&nbsp;map&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2820807">var</span>&nbsp;<span class="ident" id="2820811">imap</span>&nbsp;<span class="keyword" id="2820816">interface</span><span class="op" id="2820825">{</span><span class="op" id="2820826">}</span>&nbsp;<span class="op" id="2820828">=</span>&nbsp;<span class="op" id="2820830">(</span><span class="keyword" id="2820831">map</span><span class="op" id="2820834">[</span><span class="ident" id="2820835"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2820841">.</span><span class="ident" id="2820842">Pointer</span><span class="op" id="2820849">]</span><span class="ident" id="2820850"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2820856">.</span><span class="ident" id="2820857">Pointer</span><span class="op" id="2820864">)</span><span class="op" id="2820865">(</span><span class="builtintype" id="2820866">nil</span><span class="op" id="2820869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820872">prototype</span>&nbsp;<span class="op" id="2820882">:=</span>&nbsp;<span class="op" id="2820885">*</span><span class="op" id="2820886">(</span><span class="op" id="2820887">*</span><span class="op" id="2820888">*</span><span class="ident" id="2820889"><a href="/gostd/reflect/type.go.html#2791587">mapType</a></span><span class="op" id="2820896">)</span><span class="op" id="2820897">(</span><span class="ident" id="2820898"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2820904">.</span><span class="ident" id="2820905">Pointer</span><span class="op" id="2820912">(</span><span class="op" id="2820913">&amp;</span><span class="ident" id="2820914"><a href="/gostd/reflect/type.go.html#2820811">imap</a></span><span class="op" id="2820918">)</span><span class="op" id="2820919">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820922">mt</span>&nbsp;<span class="op" id="2820925">:=</span>&nbsp;<span class="builtinfunc" id="2820928">new</span><span class="op" id="2820931">(</span><span class="ident" id="2820932"><a href="/gostd/reflect/type.go.html#2791587">mapType</a></span><span class="op" id="2820939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2820942">*</span><span class="ident" id="2820943"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span>&nbsp;<span class="op" id="2820946">=</span>&nbsp;<span class="op" id="2820948">*</span><span class="ident" id="2820949"><a href="/gostd/reflect/type.go.html#2820872">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820960"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2820962">.</span><span class="builtintype" id="2820963"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2820970">=</span>&nbsp;<span class="op" id="2820972">&amp;</span><span class="ident" id="2820973"><a href="/gostd/reflect/type.go.html#2820581">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2820976"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2820978">.</span><span class="ident" id="2820979"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span>&nbsp;<span class="op" id="2820984">=</span>&nbsp;<span class="ident" id="2820986"><a href="/gostd/reflect/type.go.html#2810528">fnv1</a></span><span class="op" id="2820990">(</span><span class="ident" id="2820991"><a href="/gostd/reflect/type.go.html#2820335">etyp</a></span><span class="op" id="2820995">.</span><span class="ident" id="2820996"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2821000">,</span>&nbsp;<span class="string" id="2821002">&#39;m&#39;</span><span class="op" id="2821005">,</span>&nbsp;<span class="builtintype" id="2821007">byte</span><span class="op" id="2821011">(</span><span class="ident" id="2821012"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2821016">.</span><span class="ident" id="2821017"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2821021">&gt;&gt;</span><span class="num" id="2821023">24</span><span class="op" id="2821025">)</span><span class="op" id="2821026">,</span>&nbsp;<span class="builtintype" id="2821028">byte</span><span class="op" id="2821032">(</span><span class="ident" id="2821033"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2821037">.</span><span class="ident" id="2821038"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2821042">&gt;&gt;</span><span class="num" id="2821044">16</span><span class="op" id="2821046">)</span><span class="op" id="2821047">,</span>&nbsp;<span class="builtintype" id="2821049">byte</span><span class="op" id="2821053">(</span><span class="ident" id="2821054"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2821058">.</span><span class="ident" id="2821059"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2821063">&gt;&gt;</span><span class="num" id="2821065">8</span><span class="op" id="2821066">)</span><span class="op" id="2821067">,</span>&nbsp;<span class="builtintype" id="2821069">byte</span><span class="op" id="2821073">(</span><span class="ident" id="2821074"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2821078">.</span><span class="ident" id="2821079"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2821083">)</span><span class="op" id="2821084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821087"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821089">.</span><span class="ident" id="2821090"><a href="/gostd/reflect/type.go.html#2791636">key</a></span>&nbsp;<span class="op" id="2821094">=</span>&nbsp;<span class="ident" id="2821096"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><br>
<span class="lineno">1475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821102"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821104">.</span><span class="ident" id="2821105"><a href="/gostd/reflect/type.go.html#2791674">elem</a></span>&nbsp;<span class="op" id="2821110">=</span>&nbsp;<span class="ident" id="2821112"><a href="/gostd/reflect/type.go.html#2820335">etyp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821118"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821120">.</span><span class="ident" id="2821121"><a href="/gostd/reflect/type.go.html#2791724">bucket</a></span>&nbsp;<span class="op" id="2821128">=</span>&nbsp;<span class="ident" id="2821130"><a href="/gostd/reflect/type.go.html#2824231">bucketOf</a></span><span class="op" id="2821138">(</span><span class="ident" id="2821139"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2821143">,</span>&nbsp;<span class="ident" id="2821145"><a href="/gostd/reflect/type.go.html#2820335">etyp</a></span><span class="op" id="2821149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2821152">if</span>&nbsp;<span class="ident" id="2821155"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2821159">.</span><span class="ident" id="2821160"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2821165">&gt;</span>&nbsp;<span class="ident" id="2821167"><a href="/gostd/reflect/type.go.html#2824188">maxKeySize</a></span>&nbsp;<span class="op" id="2821178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821182"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821184">.</span><span class="ident" id="2821185"><a href="/gostd/reflect/type.go.html#2791820">keysize</a></span>&nbsp;<span class="op" id="2821193">=</span>&nbsp;<span class="builtintype" id="2821195">uint8</span><span class="op" id="2821200">(</span><span class="ident" id="2821201"><a href="/gostd/reflect/value.go.html#2832599">ptrSize</a></span><span class="op" id="2821208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821212"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821214">.</span><span class="ident" id="2821215"><a href="/gostd/reflect/type.go.html#2791862">indirectkey</a></span>&nbsp;<span class="op" id="2821227">=</span>&nbsp;<span class="num" id="2821229">1</span><br>
<span class="lineno">1480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2821232">}</span>&nbsp;<span class="keyword" id="2821234">else</span>&nbsp;<span class="op" id="2821239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821243"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821245">.</span><span class="ident" id="2821246"><a href="/gostd/reflect/type.go.html#2791820">keysize</a></span>&nbsp;<span class="op" id="2821254">=</span>&nbsp;<span class="builtintype" id="2821256">uint8</span><span class="op" id="2821261">(</span><span class="ident" id="2821262"><a href="/gostd/reflect/type.go.html#2820313">ktyp</a></span><span class="op" id="2821266">.</span><span class="ident" id="2821267"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2821271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821275"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821277">.</span><span class="ident" id="2821278"><a href="/gostd/reflect/type.go.html#2791862">indirectkey</a></span>&nbsp;<span class="op" id="2821290">=</span>&nbsp;<span class="num" id="2821292">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2821295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2821298">if</span>&nbsp;<span class="ident" id="2821301"><a href="/gostd/reflect/type.go.html#2820335">etyp</a></span><span class="op" id="2821305">.</span><span class="ident" id="2821306"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2821311">&gt;</span>&nbsp;<span class="ident" id="2821313"><a href="/gostd/reflect/type.go.html#2824206">maxValSize</a></span>&nbsp;<span class="op" id="2821324">{</span><br>
<span class="lineno">1485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821328"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821330">.</span><span class="ident" id="2821331"><a href="/gostd/reflect/type.go.html#2791926">valuesize</a></span>&nbsp;<span class="op" id="2821341">=</span>&nbsp;<span class="builtintype" id="2821343">uint8</span><span class="op" id="2821348">(</span><span class="ident" id="2821349"><a href="/gostd/reflect/value.go.html#2832599">ptrSize</a></span><span class="op" id="2821356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821360"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821362">.</span><span class="ident" id="2821363"><a href="/gostd/reflect/type.go.html#2791970">indirectvalue</a></span>&nbsp;<span class="op" id="2821377">=</span>&nbsp;<span class="num" id="2821379">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2821382">}</span>&nbsp;<span class="keyword" id="2821384">else</span>&nbsp;<span class="op" id="2821389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821393"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821395">.</span><span class="ident" id="2821396"><a href="/gostd/reflect/type.go.html#2791926">valuesize</a></span>&nbsp;<span class="op" id="2821406">=</span>&nbsp;<span class="builtintype" id="2821408">uint8</span><span class="op" id="2821413">(</span><span class="ident" id="2821414"><a href="/gostd/reflect/type.go.html#2820335">etyp</a></span><span class="op" id="2821418">.</span><span class="ident" id="2821419"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2821423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821427"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821429">.</span><span class="ident" id="2821430"><a href="/gostd/reflect/type.go.html#2791970">indirectvalue</a></span>&nbsp;<span class="op" id="2821444">=</span>&nbsp;<span class="num" id="2821446">0</span><br>
<span class="lineno">1490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2821449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821452"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821454">.</span><span class="ident" id="2821455"><a href="/gostd/reflect/type.go.html#2792038">bucketsize</a></span>&nbsp;<span class="op" id="2821466">=</span>&nbsp;<span class="builtintype" id="2821468">uint16</span><span class="op" id="2821474">(</span><span class="ident" id="2821475"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821477">.</span><span class="ident" id="2821478"><a href="/gostd/reflect/type.go.html#2791724">bucket</a></span><span class="op" id="2821484">.</span><span class="ident" id="2821485"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2821489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821492"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821494">.</span><span class="ident" id="2821495"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span>&nbsp;<span class="op" id="2821508">=</span>&nbsp;<span class="builtintype" id="2821510">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821515"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821517">.</span><span class="ident" id="2821518"><a href="/gostd/reflect/type.go.html#2789016">ptrToThis</a></span>&nbsp;<span class="op" id="2821528">=</span>&nbsp;<span class="builtintype" id="2821530">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821535"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821537">.</span><span class="ident" id="2821538"><a href="/gostd/reflect/type.go.html#2789116">zero</a></span>&nbsp;<span class="op" id="2821543">=</span>&nbsp;<span class="ident" id="2821545"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2821551">.</span><span class="ident" id="2821552">Pointer</span><span class="op" id="2821559">(</span><span class="op" id="2821560">&amp;</span><span class="builtinfunc" id="2821561">make</span><span class="op" id="2821565">(</span><span class="op" id="2821566">[</span><span class="op" id="2821567">]</span><span class="builtintype" id="2821568">byte</span><span class="op" id="2821572">,</span>&nbsp;<span class="ident" id="2821574"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821576">.</span><span class="ident" id="2821577"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2821581">)</span><span class="op" id="2821582">[</span><span class="num" id="2821583">0</span><span class="op" id="2821584">]</span><span class="op" id="2821585">)</span><br>
<span class="lineno">1495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2821589">return</span>&nbsp;<span class="ident" id="2821596"><a href="/gostd/reflect/type.go.html#2818346">cachePut</a></span><span class="op" id="2821604">(</span><span class="ident" id="2821605"><a href="/gostd/reflect/type.go.html#2820464">ckey</a></span><span class="op" id="2821609">,</span>&nbsp;<span class="op" id="2821611">&amp;</span><span class="ident" id="2821612"><a href="/gostd/reflect/type.go.html#2820922">mt</a></span><span class="op" id="2821614">.</span><span class="ident" id="2821615"><a href="/gostd/reflect/type.go.html#2791605">rtype</a></span><span class="op" id="2821620">)</span><br>
<span class="lineno"></span><span class="op" id="2821622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2821625">//&nbsp;gcProg&nbsp;is&nbsp;a&nbsp;helper&nbsp;type&nbsp;for&nbsp;generatation&nbsp;of&nbsp;GC&nbsp;pointer&nbsp;info.</span><br>
<span class="lineno">1500</span><span class="keyword" id="2821689">type</span>&nbsp;<span class="ident" id="2821694">gcProg</span>&nbsp;<span class="keyword" id="2821701">struct</span>&nbsp;<span class="op" id="2821708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821711">gc</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2821716">[</span><span class="op" id="2821717">]</span><span class="builtintype" id="2821718">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821724">size</span>&nbsp;<span class="builtintype" id="2821729">uintptr</span>&nbsp;<span class="comment" id="2821737">//&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span><span class="op" id="2821762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1505</span><span class="keyword" id="2821765">func</span>&nbsp;<span class="op" id="2821770">(</span><span class="ident" id="2821771">gc</span>&nbsp;<span class="op" id="2821774">*</span><span class="ident" id="2821775"><a href="/gostd/reflect/type.go.html#2821694">gcProg</a></span><span class="op" id="2821781">)</span>&nbsp;<span class="builtinfunc" id="2821783">append</span><span class="op" id="2821789">(</span><span class="ident" id="2821790">v</span>&nbsp;<span class="builtintype" id="2821792">byte</span><span class="op" id="2821796">)</span>&nbsp;<span class="op" id="2821798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821801"><a href="/gostd/reflect/type.go.html#2821771">gc</a></span><span class="op" id="2821803">.</span><span class="ident" id="2821804"><a href="/gostd/reflect/type.go.html#2823702">align</a></span><span class="op" id="2821809">(</span><span class="ident" id="2821810"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2821816">.</span><span class="ident" id="2821817">Sizeof</span><span class="op" id="2821823">(</span><span class="builtintype" id="2821824">uintptr</span><span class="op" id="2821831">(</span><span class="num" id="2821832">0</span><span class="op" id="2821833">)</span><span class="op" id="2821834">)</span><span class="op" id="2821835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821838"><a href="/gostd/reflect/type.go.html#2821771">gc</a></span><span class="op" id="2821840">.</span><span class="ident" id="2821841"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2821851">(</span><span class="ident" id="2821852"><a href="/gostd/reflect/type.go.html#2821790">v</a></span><span class="op" id="2821853">)</span><br>
<span class="lineno"></span><span class="op" id="2821855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1510</span><span class="comment" id="2821858">//&nbsp;Appends&nbsp;t&#39;s&nbsp;type&nbsp;info&nbsp;to&nbsp;the&nbsp;current&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="2821907">func</span>&nbsp;<span class="op" id="2821912">(</span><span class="ident" id="2821913">gc</span>&nbsp;<span class="op" id="2821916">*</span><span class="ident" id="2821917"><a href="/gostd/reflect/type.go.html#2821694">gcProg</a></span><span class="op" id="2821923">)</span>&nbsp;<span class="ident" id="2821925">appendProg</span><span class="op" id="2821935">(</span><span class="ident" id="2821936">t</span>&nbsp;<span class="op" id="2821938">*</span><span class="ident" id="2821939"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2821944">)</span>&nbsp;<span class="op" id="2821946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821949"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2821951">.</span><span class="ident" id="2821952"><a href="/gostd/reflect/type.go.html#2823702">align</a></span><span class="op" id="2821957">(</span><span class="builtintype" id="2821958">uintptr</span><span class="op" id="2821965">(</span><span class="ident" id="2821966"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2821967">.</span><span class="ident" id="2821968"><a href="/gostd/reflect/type.go.html#2788524">align</a></span><span class="op" id="2821973">)</span><span class="op" id="2821974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2821977">if</span>&nbsp;<span class="op" id="2821980">!</span><span class="ident" id="2821981"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2821982">.</span><span class="ident" id="2821983"><a href="/gostd/reflect/type.go.html#2795265">pointers</a></span><span class="op" id="2821991">(</span><span class="op" id="2821992">)</span>&nbsp;<span class="op" id="2821994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2821998"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822000">.</span><span class="ident" id="2822001"><a href="/gostd/reflect/type.go.html#2821724">size</a></span>&nbsp;<span class="op" id="2822006">+=</span>&nbsp;<span class="ident" id="2822009"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2822010">.</span><span class="ident" id="2822011"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><br>
<span class="lineno">1515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822018">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2822026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822029">switch</span>&nbsp;<span class="ident" id="2822036"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2822037">.</span><span class="ident" id="2822038"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2822042">(</span><span class="op" id="2822043">)</span>&nbsp;<span class="op" id="2822045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822048">default</span><span class="op" id="2822055">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2822059">panic</span><span class="op" id="2822064">(</span><span class="string" id="2822065">&#34;reflect:&nbsp;non-pointer&nbsp;type&nbsp;marked&nbsp;as&nbsp;having&nbsp;pointers&#34;</span><span class="op" id="2822118">)</span><br>
<span class="lineno">1520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822121">case</span>&nbsp;<span class="ident" id="2822126"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span><span class="op" id="2822129">,</span>&nbsp;<span class="ident" id="2822131"><a href="/gostd/reflect/type.go.html#2788085">UnsafePointer</a></span><span class="op" id="2822144">,</span>&nbsp;<span class="ident" id="2822146"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span><span class="op" id="2822150">,</span>&nbsp;<span class="ident" id="2822152"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span><span class="op" id="2822156">,</span>&nbsp;<span class="ident" id="2822158"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="2822161">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822165"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822167">.</span><span class="ident" id="2822168"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822178">(</span><span class="ident" id="2822179"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2822190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822193">case</span>&nbsp;<span class="ident" id="2822198"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2822203">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822207"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822209">.</span><span class="ident" id="2822210"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822220">(</span><span class="ident" id="2822221"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2822232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822236"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822238">.</span><span class="ident" id="2822239"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822249">(</span><span class="ident" id="2822250"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2822260">)</span><br>
<span class="lineno">1525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822264"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822266">.</span><span class="ident" id="2822267"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822277">(</span><span class="ident" id="2822278"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2822288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822291">case</span>&nbsp;<span class="ident" id="2822296"><a href="/gostd/reflect/type.go.html#2788069">String</a></span><span class="op" id="2822302">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822306"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822308">.</span><span class="ident" id="2822309"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822319">(</span><span class="ident" id="2822320"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2822331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822335"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822337">.</span><span class="ident" id="2822338"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822348">(</span><span class="ident" id="2822349"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2822359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822362">case</span>&nbsp;<span class="ident" id="2822367"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="2822372">:</span><br>
<span class="lineno">1530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822376">c</span>&nbsp;<span class="op" id="2822378">:=</span>&nbsp;<span class="ident" id="2822381"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2822382">.</span><span class="ident" id="2822383"><a href="/gostd/reflect/type.go.html#2798949">Len</a></span><span class="op" id="2822386">(</span><span class="op" id="2822387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822391">e</span>&nbsp;<span class="op" id="2822393">:=</span>&nbsp;<span class="ident" id="2822396"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2822397">.</span><span class="ident" id="2822398"><a href="/gostd/reflect/type.go.html#2797310">Elem</a></span><span class="op" id="2822402">(</span><span class="op" id="2822403">)</span><span class="op" id="2822404">.</span><span class="ident" id="2822405"><a href="/gostd/reflect/type.go.html#2786995">common</a></span><span class="op" id="2822411">(</span><span class="op" id="2822412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822416">for</span>&nbsp;<span class="ident" id="2822420">i</span>&nbsp;<span class="op" id="2822422">:=</span>&nbsp;<span class="num" id="2822425">0</span><span class="op" id="2822426">;</span>&nbsp;<span class="ident" id="2822428"><a href="/gostd/reflect/type.go.html#2822420">i</a></span>&nbsp;<span class="op" id="2822430">&lt;</span>&nbsp;<span class="ident" id="2822432"><a href="/gostd/reflect/type.go.html#2822376">c</a></span><span class="op" id="2822433">;</span>&nbsp;<span class="ident" id="2822435"><a href="/gostd/reflect/type.go.html#2822420">i</a></span><span class="op" id="2822436">++</span>&nbsp;<span class="op" id="2822439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822444"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822446">.</span><span class="ident" id="2822447"><a href="/gostd/reflect/type.go.html#2821925">appendProg</a></span><span class="op" id="2822457">(</span><span class="ident" id="2822458"><a href="/gostd/reflect/type.go.html#2822391">e</a></span><span class="op" id="2822459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2822463">}</span><br>
<span class="lineno">1535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822466">case</span>&nbsp;<span class="ident" id="2822471"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span><span class="op" id="2822480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822484"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822486">.</span><span class="ident" id="2822487"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822497">(</span><span class="ident" id="2822498"><a href="/gostd/reflect/type.go.html#2823861">bitsMultiWord</a></span><span class="op" id="2822511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822515">if</span>&nbsp;<span class="ident" id="2822518"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2822519">.</span><span class="ident" id="2822520"><a href="/gostd/reflect/type.go.html#2796268">NumMethod</a></span><span class="op" id="2822529">(</span><span class="op" id="2822530">)</span>&nbsp;<span class="op" id="2822532">==</span>&nbsp;<span class="num" id="2822535">0</span>&nbsp;<span class="op" id="2822537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822542"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822544">.</span><span class="ident" id="2822545"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822555">(</span><span class="ident" id="2822556"><a href="/gostd/reflect/type.go.html#2823896">bitsEface</a></span><span class="op" id="2822565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2822569">}</span>&nbsp;<span class="keyword" id="2822571">else</span>&nbsp;<span class="op" id="2822576">{</span><br>
<span class="lineno">1540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822581"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822583">.</span><span class="ident" id="2822584"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2822594">(</span><span class="ident" id="2822595"><a href="/gostd/reflect/type.go.html#2823881">bitsIface</a></span><span class="op" id="2822604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2822608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822611">case</span>&nbsp;<span class="ident" id="2822616"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span><span class="op" id="2822622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822626">c</span>&nbsp;<span class="op" id="2822628">:=</span>&nbsp;<span class="ident" id="2822631"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2822632">.</span><span class="ident" id="2822633"><a href="/gostd/reflect/type.go.html#2799108">NumField</a></span><span class="op" id="2822641">(</span><span class="op" id="2822642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822646">for</span>&nbsp;<span class="ident" id="2822650">i</span>&nbsp;<span class="op" id="2822652">:=</span>&nbsp;<span class="num" id="2822655">0</span><span class="op" id="2822656">;</span>&nbsp;<span class="ident" id="2822658"><a href="/gostd/reflect/type.go.html#2822650">i</a></span>&nbsp;<span class="op" id="2822660">&lt;</span>&nbsp;<span class="ident" id="2822662"><a href="/gostd/reflect/type.go.html#2822626">c</a></span><span class="op" id="2822663">;</span>&nbsp;<span class="ident" id="2822665"><a href="/gostd/reflect/type.go.html#2822650">i</a></span><span class="op" id="2822666">++</span>&nbsp;<span class="op" id="2822669">{</span><br>
<span class="lineno">1545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822674"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822676">.</span><span class="ident" id="2822677"><a href="/gostd/reflect/type.go.html#2821925">appendProg</a></span><span class="op" id="2822687">(</span><span class="ident" id="2822688"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2822689">.</span><span class="ident" id="2822690"><a href="/gostd/reflect/type.go.html#2797785">Field</a></span><span class="op" id="2822695">(</span><span class="ident" id="2822696"><a href="/gostd/reflect/type.go.html#2822650">i</a></span><span class="op" id="2822697">)</span><span class="op" id="2822698">.</span><span class="ident" id="2822699"><a href="/gostd/reflect/type.go.html#2801034">Type</a></span><span class="op" id="2822703">.</span><span class="ident" id="2822704"><a href="/gostd/reflect/type.go.html#2786995">common</a></span><span class="op" id="2822710">(</span><span class="op" id="2822711">)</span><span class="op" id="2822712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2822716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822720"><a href="/gostd/reflect/type.go.html#2821913">gc</a></span><span class="op" id="2822722">.</span><span class="ident" id="2822723"><a href="/gostd/reflect/type.go.html#2823702">align</a></span><span class="op" id="2822728">(</span><span class="builtintype" id="2822729">uintptr</span><span class="op" id="2822736">(</span><span class="ident" id="2822737"><a href="/gostd/reflect/type.go.html#2821936">t</a></span><span class="op" id="2822738">.</span><span class="ident" id="2822739"><a href="/gostd/reflect/type.go.html#2788524">align</a></span><span class="op" id="2822744">)</span><span class="op" id="2822745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2822748">}</span><br>
<span class="lineno"></span><span class="op" id="2822750">}</span><br>
<span class="lineno">1550</span><br>
<span class="lineno"></span><span class="keyword" id="2822753">func</span>&nbsp;<span class="op" id="2822758">(</span><span class="ident" id="2822759">gc</span>&nbsp;<span class="op" id="2822762">*</span><span class="ident" id="2822763"><a href="/gostd/reflect/type.go.html#2821694">gcProg</a></span><span class="op" id="2822769">)</span>&nbsp;<span class="ident" id="2822771">appendWord</span><span class="op" id="2822781">(</span><span class="ident" id="2822782">v</span>&nbsp;<span class="builtintype" id="2822784">byte</span><span class="op" id="2822788">)</span>&nbsp;<span class="op" id="2822790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822793">ptrsize</span>&nbsp;<span class="op" id="2822801">:=</span>&nbsp;<span class="ident" id="2822804"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2822810">.</span><span class="ident" id="2822811">Sizeof</span><span class="op" id="2822817">(</span><span class="builtintype" id="2822818">uintptr</span><span class="op" id="2822825">(</span><span class="num" id="2822826">0</span><span class="op" id="2822827">)</span><span class="op" id="2822828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822831">if</span>&nbsp;<span class="ident" id="2822834"><a href="/gostd/reflect/type.go.html#2822759">gc</a></span><span class="op" id="2822836">.</span><span class="ident" id="2822837"><a href="/gostd/reflect/type.go.html#2821724">size</a></span><span class="op" id="2822841">%</span><span class="ident" id="2822842"><a href="/gostd/reflect/type.go.html#2822793">ptrsize</a></span>&nbsp;<span class="op" id="2822850">!=</span>&nbsp;<span class="num" id="2822853">0</span>&nbsp;<span class="op" id="2822855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2822859">panic</span><span class="op" id="2822864">(</span><span class="string" id="2822865">&#34;reflect:&nbsp;unaligned&nbsp;GC&nbsp;program&#34;</span><span class="op" id="2822896">)</span><br>
<span class="lineno">1555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2822899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822902">nptr</span>&nbsp;<span class="op" id="2822907">:=</span>&nbsp;<span class="ident" id="2822910"><a href="/gostd/reflect/type.go.html#2822759">gc</a></span><span class="op" id="2822912">.</span><span class="ident" id="2822913"><a href="/gostd/reflect/type.go.html#2821724">size</a></span>&nbsp;<span class="op" id="2822918">/</span>&nbsp;<span class="ident" id="2822920"><a href="/gostd/reflect/type.go.html#2822793">ptrsize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2822929">for</span>&nbsp;<span class="builtintype" id="2822933">uintptr</span><span class="op" id="2822940">(</span><span class="builtinfunc" id="2822941">len</span><span class="op" id="2822944">(</span><span class="ident" id="2822945"><a href="/gostd/reflect/type.go.html#2822759">gc</a></span><span class="op" id="2822947">.</span><span class="ident" id="2822948"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span><span class="op" id="2822950">)</span><span class="op" id="2822951">)</span>&nbsp;<span class="op" id="2822953">&lt;</span>&nbsp;<span class="ident" id="2822955"><a href="/gostd/reflect/type.go.html#2822902">nptr</a></span><span class="op" id="2822959">/</span><span class="num" id="2822960">2</span><span class="op" id="2822961">+</span><span class="num" id="2822962">1</span>&nbsp;<span class="op" id="2822964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2822968"><a href="/gostd/reflect/type.go.html#2822759">gc</a></span><span class="op" id="2822970">.</span><span class="ident" id="2822971"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span>&nbsp;<span class="op" id="2822974">=</span>&nbsp;<span class="builtinfunc" id="2822976">append</span><span class="op" id="2822982">(</span><span class="ident" id="2822983"><a href="/gostd/reflect/type.go.html#2822759">gc</a></span><span class="op" id="2822985">.</span><span class="ident" id="2822986"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span><span class="op" id="2822988">,</span>&nbsp;<span class="num" id="2822990">0x44</span><span class="op" id="2822994">)</span>&nbsp;<span class="comment" id="2822996">//&nbsp;BitsScalar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2823011">}</span><br>
<span class="lineno">1560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823014"><a href="/gostd/reflect/type.go.html#2822759">gc</a></span><span class="op" id="2823016">.</span><span class="ident" id="2823017"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span><span class="op" id="2823019">[</span><span class="ident" id="2823020"><a href="/gostd/reflect/type.go.html#2822902">nptr</a></span><span class="op" id="2823024">/</span><span class="num" id="2823025">2</span><span class="op" id="2823026">]</span>&nbsp;<span class="op" id="2823028">&amp;=</span>&nbsp;<span class="op" id="2823031">^</span><span class="op" id="2823032">(</span><span class="num" id="2823033">3</span>&nbsp;<span class="op" id="2823035">&lt;&lt;</span>&nbsp;<span class="op" id="2823038">(</span><span class="op" id="2823039">(</span><span class="ident" id="2823040"><a href="/gostd/reflect/type.go.html#2822902">nptr</a></span><span class="op" id="2823044">%</span><span class="num" id="2823045">2</span><span class="op" id="2823046">)</span><span class="op" id="2823047">*</span><span class="num" id="2823048">4</span>&nbsp;<span class="op" id="2823050">+</span>&nbsp;<span class="num" id="2823052">2</span><span class="op" id="2823053">)</span><span class="op" id="2823054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823057"><a href="/gostd/reflect/type.go.html#2822759">gc</a></span><span class="op" id="2823059">.</span><span class="ident" id="2823060"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span><span class="op" id="2823062">[</span><span class="ident" id="2823063"><a href="/gostd/reflect/type.go.html#2822902">nptr</a></span><span class="op" id="2823067">/</span><span class="num" id="2823068">2</span><span class="op" id="2823069">]</span>&nbsp;<span class="op" id="2823071">|=</span>&nbsp;<span class="ident" id="2823074"><a href="/gostd/reflect/type.go.html#2822782">v</a></span>&nbsp;<span class="op" id="2823076">&lt;&lt;</span>&nbsp;<span class="op" id="2823079">(</span><span class="op" id="2823080">(</span><span class="ident" id="2823081"><a href="/gostd/reflect/type.go.html#2822902">nptr</a></span><span class="op" id="2823085">%</span><span class="num" id="2823086">2</span><span class="op" id="2823087">)</span><span class="op" id="2823088">*</span><span class="num" id="2823089">4</span>&nbsp;<span class="op" id="2823091">+</span>&nbsp;<span class="num" id="2823093">2</span><span class="op" id="2823094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823097"><a href="/gostd/reflect/type.go.html#2822759">gc</a></span><span class="op" id="2823099">.</span><span class="ident" id="2823100"><a href="/gostd/reflect/type.go.html#2821724">size</a></span>&nbsp;<span class="op" id="2823105">+=</span>&nbsp;<span class="ident" id="2823108"><a href="/gostd/reflect/type.go.html#2822793">ptrsize</a></span><br>
<span class="lineno"></span><span class="op" id="2823116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1565</span><span class="keyword" id="2823119">func</span>&nbsp;<span class="op" id="2823124">(</span><span class="ident" id="2823125">gc</span>&nbsp;<span class="op" id="2823128">*</span><span class="ident" id="2823129"><a href="/gostd/reflect/type.go.html#2821694">gcProg</a></span><span class="op" id="2823135">)</span>&nbsp;<span class="ident" id="2823137">finalize</span><span class="op" id="2823145">(</span><span class="op" id="2823146">)</span>&nbsp;<span class="ident" id="2823148"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2823154">.</span><span class="ident" id="2823155">Pointer</span>&nbsp;<span class="op" id="2823163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2823166">if</span>&nbsp;<span class="ident" id="2823169"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823171">.</span><span class="ident" id="2823172"><a href="/gostd/reflect/type.go.html#2821724">size</a></span>&nbsp;<span class="op" id="2823177">==</span>&nbsp;<span class="num" id="2823180">0</span>&nbsp;<span class="op" id="2823182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2823186">return</span>&nbsp;<span class="builtintype" id="2823193">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2823198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823201">ptrsize</span>&nbsp;<span class="op" id="2823209">:=</span>&nbsp;<span class="ident" id="2823212"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2823218">.</span><span class="ident" id="2823219">Sizeof</span><span class="op" id="2823225">(</span><span class="builtintype" id="2823226">uintptr</span><span class="op" id="2823233">(</span><span class="num" id="2823234">0</span><span class="op" id="2823235">)</span><span class="op" id="2823236">)</span><br>
<span class="lineno">1570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823239"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823241">.</span><span class="ident" id="2823242"><a href="/gostd/reflect/type.go.html#2823702">align</a></span><span class="op" id="2823247">(</span><span class="ident" id="2823248"><a href="/gostd/reflect/type.go.html#2823201">ptrsize</a></span><span class="op" id="2823255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823258">nptr</span>&nbsp;<span class="op" id="2823263">:=</span>&nbsp;<span class="ident" id="2823266"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823268">.</span><span class="ident" id="2823269"><a href="/gostd/reflect/type.go.html#2821724">size</a></span>&nbsp;<span class="op" id="2823274">/</span>&nbsp;<span class="ident" id="2823276"><a href="/gostd/reflect/type.go.html#2823201">ptrsize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2823285">for</span>&nbsp;<span class="builtintype" id="2823289">uintptr</span><span class="op" id="2823296">(</span><span class="builtinfunc" id="2823297">len</span><span class="op" id="2823300">(</span><span class="ident" id="2823301"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823303">.</span><span class="ident" id="2823304"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span><span class="op" id="2823306">)</span><span class="op" id="2823307">)</span>&nbsp;<span class="op" id="2823309">&lt;</span>&nbsp;<span class="ident" id="2823311"><a href="/gostd/reflect/type.go.html#2823258">nptr</a></span><span class="op" id="2823315">/</span><span class="num" id="2823316">2</span><span class="op" id="2823317">+</span><span class="num" id="2823318">1</span>&nbsp;<span class="op" id="2823320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823324"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823326">.</span><span class="ident" id="2823327"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span>&nbsp;<span class="op" id="2823330">=</span>&nbsp;<span class="builtinfunc" id="2823332">append</span><span class="op" id="2823338">(</span><span class="ident" id="2823339"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823341">.</span><span class="ident" id="2823342"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span><span class="op" id="2823344">,</span>&nbsp;<span class="num" id="2823346">0x44</span><span class="op" id="2823350">)</span>&nbsp;<span class="comment" id="2823352">//&nbsp;BitsScalar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2823367">}</span><br>
<span class="lineno">1575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2823370">//&nbsp;If&nbsp;number&nbsp;of&nbsp;words&nbsp;is&nbsp;odd,&nbsp;repeat&nbsp;the&nbsp;mask&nbsp;twice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2823424">//&nbsp;Compiler&nbsp;does&nbsp;the&nbsp;same.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2823452">if</span>&nbsp;<span class="ident" id="2823455"><a href="/gostd/reflect/type.go.html#2823258">nptr</a></span><span class="op" id="2823459">%</span><span class="num" id="2823460">2</span>&nbsp;<span class="op" id="2823462">!=</span>&nbsp;<span class="num" id="2823465">0</span>&nbsp;<span class="op" id="2823467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2823471">for</span>&nbsp;<span class="ident" id="2823475">i</span>&nbsp;<span class="op" id="2823477">:=</span>&nbsp;<span class="builtintype" id="2823480">uintptr</span><span class="op" id="2823487">(</span><span class="num" id="2823488">0</span><span class="op" id="2823489">)</span><span class="op" id="2823490">;</span>&nbsp;<span class="ident" id="2823492"><a href="/gostd/reflect/type.go.html#2823475">i</a></span>&nbsp;<span class="op" id="2823494">&lt;</span>&nbsp;<span class="ident" id="2823496"><a href="/gostd/reflect/type.go.html#2823258">nptr</a></span><span class="op" id="2823500">;</span>&nbsp;<span class="ident" id="2823502"><a href="/gostd/reflect/type.go.html#2823475">i</a></span><span class="op" id="2823503">++</span>&nbsp;<span class="op" id="2823506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823511"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823513">.</span><span class="ident" id="2823514"><a href="/gostd/reflect/type.go.html#2822771">appendWord</a></span><span class="op" id="2823524">(</span><span class="ident" id="2823525"><a href="/gostd/reflect/type.go.html#2823599">extractGCWord</a></span><span class="op" id="2823538">(</span><span class="ident" id="2823539"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823541">.</span><span class="ident" id="2823542"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span><span class="op" id="2823544">,</span>&nbsp;<span class="ident" id="2823546"><a href="/gostd/reflect/type.go.html#2823475">i</a></span><span class="op" id="2823547">)</span><span class="op" id="2823548">)</span><br>
<span class="lineno">1580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2823552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2823555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2823558">return</span>&nbsp;<span class="ident" id="2823565"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2823571">.</span><span class="ident" id="2823572">Pointer</span><span class="op" id="2823579">(</span><span class="op" id="2823580">&amp;</span><span class="ident" id="2823581"><a href="/gostd/reflect/type.go.html#2823125">gc</a></span><span class="op" id="2823583">.</span><span class="ident" id="2823584"><a href="/gostd/reflect/type.go.html#2821711">gc</a></span><span class="op" id="2823586">[</span><span class="num" id="2823587">0</span><span class="op" id="2823588">]</span><span class="op" id="2823589">)</span><br>
<span class="lineno"></span><span class="op" id="2823591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1585</span><span class="keyword" id="2823594">func</span>&nbsp;<span class="ident" id="2823599">extractGCWord</span><span class="op" id="2823612">(</span><span class="ident" id="2823613">gc</span>&nbsp;<span class="op" id="2823616">[</span><span class="op" id="2823617">]</span><span class="builtintype" id="2823618">byte</span><span class="op" id="2823622">,</span>&nbsp;<span class="ident" id="2823624">i</span>&nbsp;<span class="builtintype" id="2823626">uintptr</span><span class="op" id="2823633">)</span>&nbsp;<span class="builtintype" id="2823635">byte</span>&nbsp;<span class="op" id="2823640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2823643">return</span>&nbsp;<span class="op" id="2823650">(</span><span class="ident" id="2823651"><a href="/gostd/reflect/type.go.html#2823613">gc</a></span><span class="op" id="2823653">[</span><span class="ident" id="2823654"><a href="/gostd/reflect/type.go.html#2823624">i</a></span><span class="op" id="2823655">/</span><span class="num" id="2823656">2</span><span class="op" id="2823657">]</span>&nbsp;<span class="op" id="2823659">&gt;&gt;</span>&nbsp;<span class="op" id="2823662">(</span><span class="op" id="2823663">(</span><span class="ident" id="2823664"><a href="/gostd/reflect/type.go.html#2823624">i</a></span><span class="op" id="2823665">%</span><span class="num" id="2823666">2</span><span class="op" id="2823667">)</span><span class="op" id="2823668">*</span><span class="num" id="2823669">4</span>&nbsp;<span class="op" id="2823671">+</span>&nbsp;<span class="num" id="2823673">2</span><span class="op" id="2823674">)</span><span class="op" id="2823675">)</span>&nbsp;<span class="op" id="2823677">&amp;</span>&nbsp;<span class="num" id="2823679">3</span><br>
<span class="lineno"></span><span class="op" id="2823681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2823684">func</span>&nbsp;<span class="op" id="2823689">(</span><span class="ident" id="2823690">gc</span>&nbsp;<span class="op" id="2823693">*</span><span class="ident" id="2823694"><a href="/gostd/reflect/type.go.html#2821694">gcProg</a></span><span class="op" id="2823700">)</span>&nbsp;<span class="ident" id="2823702">align</span><span class="op" id="2823707">(</span><span class="ident" id="2823708">a</span>&nbsp;<span class="builtintype" id="2823710">uintptr</span><span class="op" id="2823717">)</span>&nbsp;<span class="op" id="2823719">{</span><br>
<span class="lineno">1590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823722"><a href="/gostd/reflect/type.go.html#2823690">gc</a></span><span class="op" id="2823724">.</span><span class="ident" id="2823725"><a href="/gostd/reflect/type.go.html#2821724">size</a></span>&nbsp;<span class="op" id="2823730">=</span>&nbsp;<span class="ident" id="2823732"><a href="/gostd/reflect/value.go.html#2849952">align</a></span><span class="op" id="2823737">(</span><span class="ident" id="2823738"><a href="/gostd/reflect/type.go.html#2823690">gc</a></span><span class="op" id="2823740">.</span><span class="ident" id="2823741"><a href="/gostd/reflect/type.go.html#2821724">size</a></span><span class="op" id="2823745">,</span>&nbsp;<span class="ident" id="2823747"><a href="/gostd/reflect/type.go.html#2823708">a</a></span><span class="op" id="2823748">)</span><br>
<span class="lineno"></span><span class="op" id="2823750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2823753">//&nbsp;These&nbsp;constants&nbsp;must&nbsp;stay&nbsp;in&nbsp;sync&nbsp;with&nbsp;../runtime/mgc0.h.</span><br>
<span class="lineno"></span><span class="keyword" id="2823814">const</span>&nbsp;<span class="op" id="2823820">(</span><br>
<span class="lineno">1595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823823">bitsScalar</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2823837">=</span>&nbsp;<span class="num" id="2823839">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823842">bitsPointer</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2823856">=</span>&nbsp;<span class="num" id="2823858">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823861">bitsMultiWord</span>&nbsp;<span class="op" id="2823875">=</span>&nbsp;<span class="num" id="2823877">3</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823881">bitsIface</span>&nbsp;<span class="op" id="2823891">=</span>&nbsp;<span class="num" id="2823893">2</span><br>
<span class="lineno">1600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2823896">bitsEface</span>&nbsp;<span class="op" id="2823906">=</span>&nbsp;<span class="num" id="2823908">3</span><br>
<span class="lineno"></span><span class="op" id="2823910">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2823913">//&nbsp;Make&nbsp;sure&nbsp;these&nbsp;routines&nbsp;stay&nbsp;in&nbsp;sync&nbsp;with&nbsp;../../runtime/hashmap.go!</span><br>
<span class="lineno"></span><span class="comment" id="2823985">//&nbsp;These&nbsp;types&nbsp;exist&nbsp;only&nbsp;for&nbsp;GC,&nbsp;so&nbsp;we&nbsp;only&nbsp;fill&nbsp;out&nbsp;GC&nbsp;relevant&nbsp;info.</span><br>
<span class="lineno">1605</span><span class="comment" id="2824057">//&nbsp;Currently,&nbsp;that&#39;s&nbsp;just&nbsp;size&nbsp;and&nbsp;the&nbsp;GC&nbsp;program.&nbsp;&nbsp;We&nbsp;also&nbsp;fill&nbsp;in&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2824132">//&nbsp;for&nbsp;possible&nbsp;debugging&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="2824163">const</span>&nbsp;<span class="op" id="2824169">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824172">bucketSize</span>&nbsp;<span class="op" id="2824183">=</span>&nbsp;<span class="num" id="2824185">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824188">maxKeySize</span>&nbsp;<span class="op" id="2824199">=</span>&nbsp;<span class="num" id="2824201">128</span><br>
<span class="lineno">1610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824206">maxValSize</span>&nbsp;<span class="op" id="2824217">=</span>&nbsp;<span class="num" id="2824219">128</span><br>
<span class="lineno"></span><span class="op" id="2824223">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2824226">func</span>&nbsp;<span class="ident" id="2824231">bucketOf</span><span class="op" id="2824239">(</span><span class="ident" id="2824240">ktyp</span><span class="op" id="2824244">,</span>&nbsp;<span class="ident" id="2824246">etyp</span>&nbsp;<span class="op" id="2824251">*</span><span class="ident" id="2824252"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2824257">)</span>&nbsp;<span class="op" id="2824259">*</span><span class="ident" id="2824260"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="op" id="2824266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2824269">if</span>&nbsp;<span class="ident" id="2824272"><a href="/gostd/reflect/type.go.html#2824240">ktyp</a></span><span class="op" id="2824276">.</span><span class="ident" id="2824277"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2824282">&gt;</span>&nbsp;<span class="ident" id="2824284"><a href="/gostd/reflect/type.go.html#2824188">maxKeySize</a></span>&nbsp;<span class="op" id="2824295">{</span><br>
<span class="lineno">1615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824299"><a href="/gostd/reflect/type.go.html#2824240">ktyp</a></span>&nbsp;<span class="op" id="2824304">=</span>&nbsp;<span class="ident" id="2824306"><a href="/gostd/reflect/type.go.html#2809042">PtrTo</a></span><span class="op" id="2824311">(</span><span class="ident" id="2824312"><a href="/gostd/reflect/type.go.html#2824240">ktyp</a></span><span class="op" id="2824316">)</span><span class="op" id="2824317">.</span><span class="op" id="2824318">(</span><span class="op" id="2824319">*</span><span class="ident" id="2824320"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2824325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2824328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2824331">if</span>&nbsp;<span class="ident" id="2824334"><a href="/gostd/reflect/type.go.html#2824246">etyp</a></span><span class="op" id="2824338">.</span><span class="ident" id="2824339"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2824344">&gt;</span>&nbsp;<span class="ident" id="2824346"><a href="/gostd/reflect/type.go.html#2824206">maxValSize</a></span>&nbsp;<span class="op" id="2824357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824361"><a href="/gostd/reflect/type.go.html#2824246">etyp</a></span>&nbsp;<span class="op" id="2824366">=</span>&nbsp;<span class="ident" id="2824368"><a href="/gostd/reflect/type.go.html#2809042">PtrTo</a></span><span class="op" id="2824373">(</span><span class="ident" id="2824374"><a href="/gostd/reflect/type.go.html#2824246">etyp</a></span><span class="op" id="2824378">)</span><span class="op" id="2824379">.</span><span class="op" id="2824380">(</span><span class="op" id="2824381">*</span><span class="ident" id="2824382"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2824387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2824390">}</span><br>
<span class="lineno">1620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824393">ptrsize</span>&nbsp;<span class="op" id="2824401">:=</span>&nbsp;<span class="ident" id="2824404"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2824410">.</span><span class="ident" id="2824411">Sizeof</span><span class="op" id="2824417">(</span><span class="builtintype" id="2824418">uintptr</span><span class="op" id="2824425">(</span><span class="num" id="2824426">0</span><span class="op" id="2824427">)</span><span class="op" id="2824428">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2824432">var</span>&nbsp;<span class="ident" id="2824436">gc</span>&nbsp;<span class="ident" id="2824439"><a href="/gostd/reflect/type.go.html#2821694">gcProg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2824447">//&nbsp;topbits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2824459">for</span>&nbsp;<span class="ident" id="2824463">i</span>&nbsp;<span class="op" id="2824465">:=</span>&nbsp;<span class="num" id="2824468">0</span><span class="op" id="2824469">;</span>&nbsp;<span class="ident" id="2824471"><a href="/gostd/reflect/type.go.html#2824463">i</a></span>&nbsp;<span class="op" id="2824473">&lt;</span>&nbsp;<span class="builtintype" id="2824475">int</span><span class="op" id="2824478">(</span><span class="ident" id="2824479"><a href="/gostd/reflect/type.go.html#2824172">bucketSize</a></span><span class="op" id="2824489">*</span><span class="ident" id="2824490"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2824496">.</span><span class="ident" id="2824497">Sizeof</span><span class="op" id="2824503">(</span><span class="builtintype" id="2824504">uint8</span><span class="op" id="2824509">(</span><span class="num" id="2824510">0</span><span class="op" id="2824511">)</span><span class="op" id="2824512">)</span><span class="op" id="2824513">/</span><span class="ident" id="2824514"><a href="/gostd/reflect/type.go.html#2824393">ptrsize</a></span><span class="op" id="2824521">)</span><span class="op" id="2824522">;</span>&nbsp;<span class="ident" id="2824524"><a href="/gostd/reflect/type.go.html#2824463">i</a></span><span class="op" id="2824525">++</span>&nbsp;<span class="op" id="2824528">{</span><br>
<span class="lineno">1625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824532"><a href="/gostd/reflect/type.go.html#2824436">gc</a></span><span class="op" id="2824534">.</span><span class="builtinfunc" id="2824535"><a href="/gostd/reflect/type.go.html#2821783">append</a></span><span class="op" id="2824541">(</span><span class="ident" id="2824542"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2824552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2824555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824558"><a href="/gostd/reflect/type.go.html#2824436">gc</a></span><span class="op" id="2824560">.</span><span class="builtinfunc" id="2824561"><a href="/gostd/reflect/type.go.html#2821783">append</a></span><span class="op" id="2824567">(</span><span class="ident" id="2824568"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2824579">)</span>&nbsp;<span class="comment" id="2824581">//&nbsp;overflow</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2824594">if</span>&nbsp;<span class="ident" id="2824597"><a href="/gostd/reflect/type.go.html#2781078">runtime</a></span><span class="op" id="2824604">.</span><span class="ident" id="2824605"><a href="/gostd/runtime/extern.go.html#1533781">GOARCH</a></span>&nbsp;<span class="op" id="2824612">==</span>&nbsp;<span class="string" id="2824615">&#34;amd64p32&#34;</span>&nbsp;<span class="op" id="2824626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824630"><a href="/gostd/reflect/type.go.html#2824436">gc</a></span><span class="op" id="2824632">.</span><span class="builtinfunc" id="2824633"><a href="/gostd/reflect/type.go.html#2821783">append</a></span><span class="op" id="2824639">(</span><span class="ident" id="2824640"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2824650">)</span><br>
<span class="lineno">1630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2824653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2824656">//&nbsp;keys</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2824665">for</span>&nbsp;<span class="ident" id="2824669">i</span>&nbsp;<span class="op" id="2824671">:=</span>&nbsp;<span class="num" id="2824674">0</span><span class="op" id="2824675">;</span>&nbsp;<span class="ident" id="2824677"><a href="/gostd/reflect/type.go.html#2824669">i</a></span>&nbsp;<span class="op" id="2824679">&lt;</span>&nbsp;<span class="ident" id="2824681"><a href="/gostd/reflect/type.go.html#2824172">bucketSize</a></span><span class="op" id="2824691">;</span>&nbsp;<span class="ident" id="2824693"><a href="/gostd/reflect/type.go.html#2824669">i</a></span><span class="op" id="2824694">++</span>&nbsp;<span class="op" id="2824697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824701"><a href="/gostd/reflect/type.go.html#2824436">gc</a></span><span class="op" id="2824703">.</span><span class="ident" id="2824704"><a href="/gostd/reflect/type.go.html#2821925">appendProg</a></span><span class="op" id="2824714">(</span><span class="ident" id="2824715"><a href="/gostd/reflect/type.go.html#2824240">ktyp</a></span><span class="op" id="2824719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2824722">}</span><br>
<span class="lineno">1635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2824725">//&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2824736">for</span>&nbsp;<span class="ident" id="2824740">i</span>&nbsp;<span class="op" id="2824742">:=</span>&nbsp;<span class="num" id="2824745">0</span><span class="op" id="2824746">;</span>&nbsp;<span class="ident" id="2824748"><a href="/gostd/reflect/type.go.html#2824740">i</a></span>&nbsp;<span class="op" id="2824750">&lt;</span>&nbsp;<span class="ident" id="2824752"><a href="/gostd/reflect/type.go.html#2824172">bucketSize</a></span><span class="op" id="2824762">;</span>&nbsp;<span class="ident" id="2824764"><a href="/gostd/reflect/type.go.html#2824740">i</a></span><span class="op" id="2824765">++</span>&nbsp;<span class="op" id="2824768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824772"><a href="/gostd/reflect/type.go.html#2824436">gc</a></span><span class="op" id="2824774">.</span><span class="ident" id="2824775"><a href="/gostd/reflect/type.go.html#2821925">appendProg</a></span><span class="op" id="2824785">(</span><span class="ident" id="2824786"><a href="/gostd/reflect/type.go.html#2824246">etyp</a></span><span class="op" id="2824790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2824793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824797">b</span>&nbsp;<span class="op" id="2824799">:=</span>&nbsp;<span class="builtinfunc" id="2824802">new</span><span class="op" id="2824805">(</span><span class="ident" id="2824806"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2824811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824814"><a href="/gostd/reflect/type.go.html#2824797">b</a></span><span class="op" id="2824815">.</span><span class="ident" id="2824816"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2824821">=</span>&nbsp;<span class="ident" id="2824823"><a href="/gostd/reflect/type.go.html#2824436">gc</a></span><span class="op" id="2824825">.</span><span class="ident" id="2824826"><a href="/gostd/reflect/type.go.html#2821724">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824832"><a href="/gostd/reflect/type.go.html#2824797">b</a></span><span class="op" id="2824833">.</span><span class="ident" id="2824834"><a href="/gostd/reflect/type.go.html#2788808">gc</a></span><span class="op" id="2824836">[</span><span class="num" id="2824837">0</span><span class="op" id="2824838">]</span>&nbsp;<span class="op" id="2824840">=</span>&nbsp;<span class="ident" id="2824842"><a href="/gostd/reflect/type.go.html#2824436">gc</a></span><span class="op" id="2824844">.</span><span class="ident" id="2824845"><a href="/gostd/reflect/type.go.html#2823137">finalize</a></span><span class="op" id="2824853">(</span><span class="op" id="2824854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824857">s</span>&nbsp;<span class="op" id="2824859">:=</span>&nbsp;<span class="string" id="2824862">&#34;bucket(&#34;</span>&nbsp;<span class="op" id="2824872">+</span>&nbsp;<span class="op" id="2824874">*</span><span class="ident" id="2824875"><a href="/gostd/reflect/type.go.html#2824240">ktyp</a></span><span class="op" id="2824879">.</span><span class="builtintype" id="2824880"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2824887">+</span>&nbsp;<span class="string" id="2824889">&#34;,&#34;</span>&nbsp;<span class="op" id="2824893">+</span>&nbsp;<span class="op" id="2824895">*</span><span class="ident" id="2824896"><a href="/gostd/reflect/type.go.html#2824246">etyp</a></span><span class="op" id="2824900">.</span><span class="builtintype" id="2824901"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2824908">+</span>&nbsp;<span class="string" id="2824910">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2824915"><a href="/gostd/reflect/type.go.html#2824797">b</a></span><span class="op" id="2824916">.</span><span class="builtintype" id="2824917"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2824924">=</span>&nbsp;<span class="op" id="2824926">&amp;</span><span class="ident" id="2824927"><a href="/gostd/reflect/type.go.html#2824857">s</a></span><br>
<span class="lineno">1645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2824930">return</span>&nbsp;<span class="ident" id="2824937"><a href="/gostd/reflect/type.go.html#2824797">b</a></span><br>
<span class="lineno"></span><span class="op" id="2824939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2824942">//&nbsp;SliceOf&nbsp;returns&nbsp;the&nbsp;slice&nbsp;type&nbsp;with&nbsp;element&nbsp;type&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="2824997">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;SliceOf(t)&nbsp;represents&nbsp;[]int.</span><br>
<span class="lineno">1650</span><span class="keyword" id="2825063">func</span>&nbsp;<span class="ident" id="2825068">SliceOf</span><span class="op" id="2825075">(</span><span class="ident" id="2825076">t</span>&nbsp;<span class="ident" id="2825078"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2825082">)</span>&nbsp;<span class="ident" id="2825084"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2825089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825092">typ</span>&nbsp;<span class="op" id="2825096">:=</span>&nbsp;<span class="ident" id="2825099"><a href="/gostd/reflect/type.go.html#2825076">t</a></span><span class="op" id="2825100">.</span><span class="op" id="2825101">(</span><span class="op" id="2825102">*</span><span class="ident" id="2825103"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2825108">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2825112">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825131">ckey</span>&nbsp;<span class="op" id="2825136">:=</span>&nbsp;<span class="ident" id="2825139"><a href="/gostd/reflect/type.go.html#2817565">cacheKey</a></span><span class="op" id="2825147">{</span><span class="ident" id="2825148"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2825153">,</span>&nbsp;<span class="ident" id="2825155"><a href="/gostd/reflect/type.go.html#2825092">typ</a></span><span class="op" id="2825158">,</span>&nbsp;<span class="builtintype" id="2825160">nil</span><span class="op" id="2825163">,</span>&nbsp;<span class="num" id="2825165">0</span><span class="op" id="2825166">}</span><br>
<span class="lineno">1655</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2825169">if</span>&nbsp;<span class="ident" id="2825172">slice</span>&nbsp;<span class="op" id="2825178">:=</span>&nbsp;<span class="ident" id="2825181"><a href="/gostd/reflect/type.go.html#2817865">cacheGet</a></span><span class="op" id="2825189">(</span><span class="ident" id="2825190"><a href="/gostd/reflect/type.go.html#2825131">ckey</a></span><span class="op" id="2825194">)</span><span class="op" id="2825195">;</span>&nbsp;<span class="ident" id="2825197"><a href="/gostd/reflect/type.go.html#2825172">slice</a></span>&nbsp;<span class="op" id="2825203">!=</span>&nbsp;<span class="builtintype" id="2825206">nil</span>&nbsp;<span class="op" id="2825210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2825214">return</span>&nbsp;<span class="ident" id="2825221"><a href="/gostd/reflect/type.go.html#2825172">slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2825228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2825232">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno">1660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825257">s</span>&nbsp;<span class="op" id="2825259">:=</span>&nbsp;<span class="string" id="2825262">&#34;[]&#34;</span>&nbsp;<span class="op" id="2825267">+</span>&nbsp;<span class="op" id="2825269">*</span><span class="ident" id="2825270"><a href="/gostd/reflect/type.go.html#2825092">typ</a></span><span class="op" id="2825273">.</span><span class="builtintype" id="2825274"><a href="/gostd/reflect/type.go.html#2788868">string</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2825282">for</span>&nbsp;<span class="ident" id="2825286">_</span><span class="op" id="2825287">,</span>&nbsp;<span class="ident" id="2825289">tt</span>&nbsp;<span class="op" id="2825292">:=</span>&nbsp;<span class="keyword" id="2825295">range</span>&nbsp;<span class="ident" id="2825301"><a href="/gostd/reflect/type.go.html#2816451">typesByString</a></span><span class="op" id="2825314">(</span><span class="ident" id="2825315"><a href="/gostd/reflect/type.go.html#2825257">s</a></span><span class="op" id="2825316">)</span>&nbsp;<span class="op" id="2825318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825322">slice</span>&nbsp;<span class="op" id="2825328">:=</span>&nbsp;<span class="op" id="2825331">(</span><span class="op" id="2825332">*</span><span class="ident" id="2825333"><a href="/gostd/reflect/type.go.html#2792260">sliceType</a></span><span class="op" id="2825342">)</span><span class="op" id="2825343">(</span><span class="ident" id="2825344"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2825350">.</span><span class="ident" id="2825351">Pointer</span><span class="op" id="2825358">(</span><span class="ident" id="2825359"><a href="/gostd/reflect/type.go.html#2825289">tt</a></span><span class="op" id="2825361">)</span><span class="op" id="2825362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2825366">if</span>&nbsp;<span class="ident" id="2825369"><a href="/gostd/reflect/type.go.html#2825322">slice</a></span><span class="op" id="2825374">.</span><span class="ident" id="2825375"><a href="/gostd/reflect/type.go.html#2792305">elem</a></span>&nbsp;<span class="op" id="2825380">==</span>&nbsp;<span class="ident" id="2825383"><a href="/gostd/reflect/type.go.html#2825092">typ</a></span>&nbsp;<span class="op" id="2825387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2825392">return</span>&nbsp;<span class="ident" id="2825399"><a href="/gostd/reflect/type.go.html#2818346">cachePut</a></span><span class="op" id="2825407">(</span><span class="ident" id="2825408"><a href="/gostd/reflect/type.go.html#2825131">ckey</a></span><span class="op" id="2825412">,</span>&nbsp;<span class="ident" id="2825414"><a href="/gostd/reflect/type.go.html#2825289">tt</a></span><span class="op" id="2825416">)</span><br>
<span class="lineno">1665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2825420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2825423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2825427">//&nbsp;Make&nbsp;a&nbsp;slice&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2825450">var</span>&nbsp;<span class="ident" id="2825454">islice</span>&nbsp;<span class="keyword" id="2825461">interface</span><span class="op" id="2825470">{</span><span class="op" id="2825471">}</span>&nbsp;<span class="op" id="2825473">=</span>&nbsp;<span class="op" id="2825475">(</span><span class="op" id="2825476">[</span><span class="op" id="2825477">]</span><span class="ident" id="2825478"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2825484">.</span><span class="ident" id="2825485">Pointer</span><span class="op" id="2825492">)</span><span class="op" id="2825493">(</span><span class="builtintype" id="2825494">nil</span><span class="op" id="2825497">)</span><br>
<span class="lineno">1670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825500">prototype</span>&nbsp;<span class="op" id="2825510">:=</span>&nbsp;<span class="op" id="2825513">*</span><span class="op" id="2825514">(</span><span class="op" id="2825515">*</span><span class="op" id="2825516">*</span><span class="ident" id="2825517"><a href="/gostd/reflect/type.go.html#2792260">sliceType</a></span><span class="op" id="2825526">)</span><span class="op" id="2825527">(</span><span class="ident" id="2825528"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2825534">.</span><span class="ident" id="2825535">Pointer</span><span class="op" id="2825542">(</span><span class="op" id="2825543">&amp;</span><span class="ident" id="2825544"><a href="/gostd/reflect/type.go.html#2825454">islice</a></span><span class="op" id="2825550">)</span><span class="op" id="2825551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825554">slice</span>&nbsp;<span class="op" id="2825560">:=</span>&nbsp;<span class="builtinfunc" id="2825563">new</span><span class="op" id="2825566">(</span><span class="ident" id="2825567"><a href="/gostd/reflect/type.go.html#2792260">sliceType</a></span><span class="op" id="2825576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2825579">*</span><span class="ident" id="2825580"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span>&nbsp;<span class="op" id="2825586">=</span>&nbsp;<span class="op" id="2825588">*</span><span class="ident" id="2825589"><a href="/gostd/reflect/type.go.html#2825500">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825600"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span><span class="op" id="2825605">.</span><span class="builtintype" id="2825606"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2825613">=</span>&nbsp;<span class="op" id="2825615">&amp;</span><span class="ident" id="2825616"><a href="/gostd/reflect/type.go.html#2825257">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825619"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span><span class="op" id="2825624">.</span><span class="ident" id="2825625"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span>&nbsp;<span class="op" id="2825630">=</span>&nbsp;<span class="ident" id="2825632"><a href="/gostd/reflect/type.go.html#2810528">fnv1</a></span><span class="op" id="2825636">(</span><span class="ident" id="2825637"><a href="/gostd/reflect/type.go.html#2825092">typ</a></span><span class="op" id="2825640">.</span><span class="ident" id="2825641"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2825645">,</span>&nbsp;<span class="string" id="2825647">&#39;[&#39;</span><span class="op" id="2825650">)</span><br>
<span class="lineno">1675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825653"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span><span class="op" id="2825658">.</span><span class="ident" id="2825659"><a href="/gostd/reflect/type.go.html#2792305">elem</a></span>&nbsp;<span class="op" id="2825664">=</span>&nbsp;<span class="ident" id="2825666"><a href="/gostd/reflect/type.go.html#2825092">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825671"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span><span class="op" id="2825676">.</span><span class="ident" id="2825677"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span>&nbsp;<span class="op" id="2825690">=</span>&nbsp;<span class="builtintype" id="2825692">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825697"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span><span class="op" id="2825702">.</span><span class="ident" id="2825703"><a href="/gostd/reflect/type.go.html#2789016">ptrToThis</a></span>&nbsp;<span class="op" id="2825713">=</span>&nbsp;<span class="builtintype" id="2825715">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2825720"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span><span class="op" id="2825725">.</span><span class="ident" id="2825726"><a href="/gostd/reflect/type.go.html#2789116">zero</a></span>&nbsp;<span class="op" id="2825731">=</span>&nbsp;<span class="ident" id="2825733"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2825739">.</span><span class="ident" id="2825740">Pointer</span><span class="op" id="2825747">(</span><span class="op" id="2825748">&amp;</span><span class="builtinfunc" id="2825749">make</span><span class="op" id="2825753">(</span><span class="op" id="2825754">[</span><span class="op" id="2825755">]</span><span class="builtintype" id="2825756">byte</span><span class="op" id="2825760">,</span>&nbsp;<span class="ident" id="2825762"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span><span class="op" id="2825767">.</span><span class="ident" id="2825768"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2825772">)</span><span class="op" id="2825773">[</span><span class="num" id="2825774">0</span><span class="op" id="2825775">]</span><span class="op" id="2825776">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2825780">return</span>&nbsp;<span class="ident" id="2825787"><a href="/gostd/reflect/type.go.html#2818346">cachePut</a></span><span class="op" id="2825795">(</span><span class="ident" id="2825796"><a href="/gostd/reflect/type.go.html#2825131">ckey</a></span><span class="op" id="2825800">,</span>&nbsp;<span class="op" id="2825802">&amp;</span><span class="ident" id="2825803"><a href="/gostd/reflect/type.go.html#2825554">slice</a></span><span class="op" id="2825808">.</span><span class="ident" id="2825809"><a href="/gostd/reflect/type.go.html#2792280">rtype</a></span><span class="op" id="2825814">)</span><br>
<span class="lineno"></span><span class="op" id="2825816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2825819">//&nbsp;ArrayOf&nbsp;returns&nbsp;the&nbsp;array&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;count&nbsp;and&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2825892">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;ArrayOf(5,&nbsp;t)&nbsp;represents&nbsp;[5]int.</span><br>
<span class="lineno">1685</span><span class="comment" id="2825962">//</span><br>
<span class="lineno"></span><span class="comment" id="2825965">//&nbsp;If&nbsp;the&nbsp;resulting&nbsp;type&nbsp;would&nbsp;be&nbsp;larger&nbsp;than&nbsp;the&nbsp;available&nbsp;address&nbsp;space,</span><br>
<span class="lineno"></span><span class="comment" id="2826040">//&nbsp;ArrayOf&nbsp;panics.</span><br>
<span class="lineno"></span><span class="comment" id="2826059">//</span><br>
<span class="lineno"></span><span class="comment" id="2826062">//&nbsp;TODO(rsc):&nbsp;Unexported&nbsp;for&nbsp;now.&nbsp;Export&nbsp;once&nbsp;the&nbsp;alg&nbsp;field&nbsp;is&nbsp;set&nbsp;correctly</span><br>
<span class="lineno">1690</span><span class="comment" id="2826139">//&nbsp;for&nbsp;the&nbsp;type.&nbsp;This&nbsp;may&nbsp;require&nbsp;significant&nbsp;work.</span><br>
<span class="lineno"></span><span class="comment" id="2826191">//</span><br>
<span class="lineno"></span><span class="comment" id="2826194">//&nbsp;TODO(rsc):&nbsp;TestArrayOf&nbsp;is&nbsp;also&nbsp;disabled.&nbsp;Re-enable.</span><br>
<span class="lineno"></span><span class="keyword" id="2826249">func</span>&nbsp;<span class="ident" id="2826254">arrayOf</span><span class="op" id="2826261">(</span><span class="ident" id="2826262">count</span>&nbsp;<span class="builtintype" id="2826268">int</span><span class="op" id="2826271">,</span>&nbsp;<span class="ident" id="2826273">elem</span>&nbsp;<span class="ident" id="2826278"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="2826282">)</span>&nbsp;<span class="ident" id="2826284"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2826289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826292">typ</span>&nbsp;<span class="op" id="2826296">:=</span>&nbsp;<span class="ident" id="2826299"><a href="/gostd/reflect/type.go.html#2826273">elem</a></span><span class="op" id="2826303">.</span><span class="op" id="2826304">(</span><span class="op" id="2826305">*</span><span class="ident" id="2826306"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2826311">)</span><br>
<span class="lineno">1695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826314">slice</span>&nbsp;<span class="op" id="2826320">:=</span>&nbsp;<span class="ident" id="2826323"><a href="/gostd/reflect/type.go.html#2825068">SliceOf</a></span><span class="op" id="2826330">(</span><span class="ident" id="2826331"><a href="/gostd/reflect/type.go.html#2826273">elem</a></span><span class="op" id="2826335">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2826339">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826358">ckey</span>&nbsp;<span class="op" id="2826363">:=</span>&nbsp;<span class="ident" id="2826366"><a href="/gostd/reflect/type.go.html#2817565">cacheKey</a></span><span class="op" id="2826374">{</span><span class="ident" id="2826375"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="2826380">,</span>&nbsp;<span class="ident" id="2826382"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span><span class="op" id="2826385">,</span>&nbsp;<span class="builtintype" id="2826387">nil</span><span class="op" id="2826390">,</span>&nbsp;<span class="builtintype" id="2826392">uintptr</span><span class="op" id="2826399">(</span><span class="ident" id="2826400"><a href="/gostd/reflect/type.go.html#2826262">count</a></span><span class="op" id="2826405">)</span><span class="op" id="2826406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2826409">if</span>&nbsp;<span class="ident" id="2826412">slice</span>&nbsp;<span class="op" id="2826418">:=</span>&nbsp;<span class="ident" id="2826421"><a href="/gostd/reflect/type.go.html#2817865">cacheGet</a></span><span class="op" id="2826429">(</span><span class="ident" id="2826430"><a href="/gostd/reflect/type.go.html#2826358">ckey</a></span><span class="op" id="2826434">)</span><span class="op" id="2826435">;</span>&nbsp;<span class="ident" id="2826437"><a href="/gostd/reflect/type.go.html#2826412">slice</a></span>&nbsp;<span class="op" id="2826443">!=</span>&nbsp;<span class="builtintype" id="2826446">nil</span>&nbsp;<span class="op" id="2826450">{</span><br>
<span class="lineno">1700</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2826454">return</span>&nbsp;<span class="ident" id="2826461"><a href="/gostd/reflect/type.go.html#2826412">slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2826468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2826472">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826497">s</span>&nbsp;<span class="op" id="2826499">:=</span>&nbsp;<span class="string" id="2826502">&#34;[&#34;</span>&nbsp;<span class="op" id="2826506">+</span>&nbsp;<span class="ident" id="2826508"><a href="/gostd/reflect/type.go.html#2781089">strconv</a></span><span class="op" id="2826515">.</span><span class="ident" id="2826516"><a href="/gostd/strconv/itoa.go.html#2407288">Itoa</a></span><span class="op" id="2826520">(</span><span class="ident" id="2826521"><a href="/gostd/reflect/type.go.html#2826262">count</a></span><span class="op" id="2826526">)</span>&nbsp;<span class="op" id="2826528">+</span>&nbsp;<span class="string" id="2826530">&#34;]&#34;</span>&nbsp;<span class="op" id="2826534">+</span>&nbsp;<span class="op" id="2826536">*</span><span class="ident" id="2826537"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span><span class="op" id="2826540">.</span><span class="builtintype" id="2826541"><a href="/gostd/reflect/type.go.html#2788868">string</a></span><br>
<span class="lineno">1705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2826549">for</span>&nbsp;<span class="ident" id="2826553">_</span><span class="op" id="2826554">,</span>&nbsp;<span class="ident" id="2826556">tt</span>&nbsp;<span class="op" id="2826559">:=</span>&nbsp;<span class="keyword" id="2826562">range</span>&nbsp;<span class="ident" id="2826568"><a href="/gostd/reflect/type.go.html#2816451">typesByString</a></span><span class="op" id="2826581">(</span><span class="ident" id="2826582"><a href="/gostd/reflect/type.go.html#2826497">s</a></span><span class="op" id="2826583">)</span>&nbsp;<span class="op" id="2826585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826589">slice</span>&nbsp;<span class="op" id="2826595">:=</span>&nbsp;<span class="op" id="2826598">(</span><span class="op" id="2826599">*</span><span class="ident" id="2826600"><a href="/gostd/reflect/type.go.html#2792260">sliceType</a></span><span class="op" id="2826609">)</span><span class="op" id="2826610">(</span><span class="ident" id="2826611"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2826617">.</span><span class="ident" id="2826618">Pointer</span><span class="op" id="2826625">(</span><span class="ident" id="2826626"><a href="/gostd/reflect/type.go.html#2826556">tt</a></span><span class="op" id="2826628">)</span><span class="op" id="2826629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2826633">if</span>&nbsp;<span class="ident" id="2826636"><a href="/gostd/reflect/type.go.html#2826589">slice</a></span><span class="op" id="2826641">.</span><span class="ident" id="2826642"><a href="/gostd/reflect/type.go.html#2792305">elem</a></span>&nbsp;<span class="op" id="2826647">==</span>&nbsp;<span class="ident" id="2826650"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span>&nbsp;<span class="op" id="2826654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2826659">return</span>&nbsp;<span class="ident" id="2826666"><a href="/gostd/reflect/type.go.html#2818346">cachePut</a></span><span class="op" id="2826674">(</span><span class="ident" id="2826675"><a href="/gostd/reflect/type.go.html#2826358">ckey</a></span><span class="op" id="2826679">,</span>&nbsp;<span class="ident" id="2826681"><a href="/gostd/reflect/type.go.html#2826556">tt</a></span><span class="op" id="2826683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2826687">}</span><br>
<span class="lineno">1710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2826690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2826694">//&nbsp;Make&nbsp;an&nbsp;array&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2826718">var</span>&nbsp;<span class="ident" id="2826722">iarray</span>&nbsp;<span class="keyword" id="2826729">interface</span><span class="op" id="2826738">{</span><span class="op" id="2826739">}</span>&nbsp;<span class="op" id="2826741">=</span>&nbsp;<span class="op" id="2826743">[</span><span class="num" id="2826744">1</span><span class="op" id="2826745">]</span><span class="ident" id="2826746"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2826752">.</span><span class="ident" id="2826753">Pointer</span><span class="op" id="2826760">{</span><span class="op" id="2826761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826764">prototype</span>&nbsp;<span class="op" id="2826774">:=</span>&nbsp;<span class="op" id="2826777">*</span><span class="op" id="2826778">(</span><span class="op" id="2826779">*</span><span class="op" id="2826780">*</span><span class="ident" id="2826781"><a href="/gostd/reflect/type.go.html#2790644">arrayType</a></span><span class="op" id="2826790">)</span><span class="op" id="2826791">(</span><span class="ident" id="2826792"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2826798">.</span><span class="ident" id="2826799">Pointer</span><span class="op" id="2826806">(</span><span class="op" id="2826807">&amp;</span><span class="ident" id="2826808"><a href="/gostd/reflect/type.go.html#2826722">iarray</a></span><span class="op" id="2826814">)</span><span class="op" id="2826815">)</span><br>
<span class="lineno">1715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826818">array</span>&nbsp;<span class="op" id="2826824">:=</span>&nbsp;<span class="builtinfunc" id="2826827">new</span><span class="op" id="2826830">(</span><span class="ident" id="2826831"><a href="/gostd/reflect/type.go.html#2790644">arrayType</a></span><span class="op" id="2826840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2826843">*</span><span class="ident" id="2826844"><a href="/gostd/reflect/type.go.html#2826818">array</a></span>&nbsp;<span class="op" id="2826850">=</span>&nbsp;<span class="op" id="2826852">*</span><span class="ident" id="2826853"><a href="/gostd/reflect/type.go.html#2826764">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2826864">//&nbsp;TODO:&nbsp;Set&nbsp;extra&nbsp;kind&nbsp;bits&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826905"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2826910">.</span><span class="builtintype" id="2826911"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2826918">=</span>&nbsp;<span class="op" id="2826920">&amp;</span><span class="ident" id="2826921"><a href="/gostd/reflect/type.go.html#2826497">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2826924"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2826929">.</span><span class="ident" id="2826930"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span>&nbsp;<span class="op" id="2826935">=</span>&nbsp;<span class="ident" id="2826937"><a href="/gostd/reflect/type.go.html#2810528">fnv1</a></span><span class="op" id="2826941">(</span><span class="ident" id="2826942"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span><span class="op" id="2826945">.</span><span class="ident" id="2826946"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2826950">,</span>&nbsp;<span class="string" id="2826952">&#39;[&#39;</span><span class="op" id="2826955">)</span><br>
<span class="lineno">1720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2826958">for</span>&nbsp;<span class="ident" id="2826962">n</span>&nbsp;<span class="op" id="2826964">:=</span>&nbsp;<span class="builtintype" id="2826967">uint32</span><span class="op" id="2826973">(</span><span class="ident" id="2826974"><a href="/gostd/reflect/type.go.html#2826262">count</a></span><span class="op" id="2826979">)</span><span class="op" id="2826980">;</span>&nbsp;<span class="ident" id="2826982"><a href="/gostd/reflect/type.go.html#2826962">n</a></span>&nbsp;<span class="op" id="2826984">&gt;</span>&nbsp;<span class="num" id="2826986">0</span><span class="op" id="2826987">;</span>&nbsp;<span class="ident" id="2826989"><a href="/gostd/reflect/type.go.html#2826962">n</a></span>&nbsp;<span class="op" id="2826991">&gt;&gt;=</span>&nbsp;<span class="num" id="2826995">8</span>&nbsp;<span class="op" id="2826997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827001"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827006">.</span><span class="ident" id="2827007"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span>&nbsp;<span class="op" id="2827012">=</span>&nbsp;<span class="ident" id="2827014"><a href="/gostd/reflect/type.go.html#2810528">fnv1</a></span><span class="op" id="2827018">(</span><span class="ident" id="2827019"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827024">.</span><span class="ident" id="2827025"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2827029">,</span>&nbsp;<span class="builtintype" id="2827031">byte</span><span class="op" id="2827035">(</span><span class="ident" id="2827036"><a href="/gostd/reflect/type.go.html#2826962">n</a></span><span class="op" id="2827037">)</span><span class="op" id="2827038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2827041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827044"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827049">.</span><span class="ident" id="2827050"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span>&nbsp;<span class="op" id="2827055">=</span>&nbsp;<span class="ident" id="2827057"><a href="/gostd/reflect/type.go.html#2810528">fnv1</a></span><span class="op" id="2827061">(</span><span class="ident" id="2827062"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827067">.</span><span class="ident" id="2827068"><a href="/gostd/reflect/type.go.html#2788389">hash</a></span><span class="op" id="2827072">,</span>&nbsp;<span class="string" id="2827074">&#39;]&#39;</span><span class="op" id="2827077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827080"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827085">.</span><span class="ident" id="2827086"><a href="/gostd/reflect/type.go.html#2790689">elem</a></span>&nbsp;<span class="op" id="2827091">=</span>&nbsp;<span class="ident" id="2827093"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span><br>
<span class="lineno">1725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827098">max</span>&nbsp;<span class="op" id="2827102">:=</span>&nbsp;<span class="op" id="2827105">^</span><span class="builtintype" id="2827106">uintptr</span><span class="op" id="2827113">(</span><span class="num" id="2827114">0</span><span class="op" id="2827115">)</span>&nbsp;<span class="op" id="2827117">/</span>&nbsp;<span class="ident" id="2827119"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span><span class="op" id="2827122">.</span><span class="ident" id="2827123"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2827129">if</span>&nbsp;<span class="builtintype" id="2827132">uintptr</span><span class="op" id="2827139">(</span><span class="ident" id="2827140"><a href="/gostd/reflect/type.go.html#2826262">count</a></span><span class="op" id="2827145">)</span>&nbsp;<span class="op" id="2827147">&gt;</span>&nbsp;<span class="ident" id="2827149"><a href="/gostd/reflect/type.go.html#2827098">max</a></span>&nbsp;<span class="op" id="2827153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2827157">panic</span><span class="op" id="2827162">(</span><span class="string" id="2827163">&#34;reflect.ArrayOf:&nbsp;array&nbsp;size&nbsp;would&nbsp;exceed&nbsp;virtual&nbsp;address&nbsp;space&#34;</span><span class="op" id="2827227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2827230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827233"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827238">.</span><span class="ident" id="2827239"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2827244">=</span>&nbsp;<span class="ident" id="2827246"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span><span class="op" id="2827249">.</span><span class="ident" id="2827250"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2827255">*</span>&nbsp;<span class="builtintype" id="2827257">uintptr</span><span class="op" id="2827264">(</span><span class="ident" id="2827265"><a href="/gostd/reflect/type.go.html#2826262">count</a></span><span class="op" id="2827270">)</span><br>
<span class="lineno">1730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827273"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827278">.</span><span class="ident" id="2827279"><a href="/gostd/reflect/type.go.html#2788524">align</a></span>&nbsp;<span class="op" id="2827285">=</span>&nbsp;<span class="ident" id="2827287"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span><span class="op" id="2827290">.</span><span class="ident" id="2827291"><a href="/gostd/reflect/type.go.html#2788524">align</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827298"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827303">.</span><span class="ident" id="2827304"><a href="/gostd/reflect/type.go.html#2788597">fieldAlign</a></span>&nbsp;<span class="op" id="2827315">=</span>&nbsp;<span class="ident" id="2827317"><a href="/gostd/reflect/type.go.html#2826292">typ</a></span><span class="op" id="2827320">.</span><span class="ident" id="2827321"><a href="/gostd/reflect/type.go.html#2788597">fieldAlign</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2827333">//&nbsp;TODO:&nbsp;array.alg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2827353">//&nbsp;TODO:&nbsp;array.gc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2827372">//&nbsp;TODO:</span><br>
<span class="lineno">1735</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827382"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827387">.</span><span class="ident" id="2827388"><a href="/gostd/reflect/type.go.html#2788951">uncommonType</a></span>&nbsp;<span class="op" id="2827401">=</span>&nbsp;<span class="builtintype" id="2827403">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827408"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827413">.</span><span class="ident" id="2827414"><a href="/gostd/reflect/type.go.html#2789016">ptrToThis</a></span>&nbsp;<span class="op" id="2827424">=</span>&nbsp;<span class="builtintype" id="2827426">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827431"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827436">.</span><span class="ident" id="2827437"><a href="/gostd/reflect/type.go.html#2789116">zero</a></span>&nbsp;<span class="op" id="2827442">=</span>&nbsp;<span class="ident" id="2827444"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2827450">.</span><span class="ident" id="2827451">Pointer</span><span class="op" id="2827458">(</span><span class="op" id="2827459">&amp;</span><span class="builtinfunc" id="2827460">make</span><span class="op" id="2827464">(</span><span class="op" id="2827465">[</span><span class="op" id="2827466">]</span><span class="builtintype" id="2827467">byte</span><span class="op" id="2827471">,</span>&nbsp;<span class="ident" id="2827473"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827478">.</span><span class="ident" id="2827479"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><span class="op" id="2827483">)</span><span class="op" id="2827484">[</span><span class="num" id="2827485">0</span><span class="op" id="2827486">]</span><span class="op" id="2827487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827490"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827495">.</span><span class="builtinfunc" id="2827496"><a href="/gostd/reflect/type.go.html#2790753">len</a></span>&nbsp;<span class="op" id="2827500">=</span>&nbsp;<span class="builtintype" id="2827502">uintptr</span><span class="op" id="2827509">(</span><span class="ident" id="2827510"><a href="/gostd/reflect/type.go.html#2826262">count</a></span><span class="op" id="2827515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827518"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827523">.</span><span class="ident" id="2827524"><a href="/gostd/reflect/type.go.html#2790725">slice</a></span>&nbsp;<span class="op" id="2827530">=</span>&nbsp;<span class="ident" id="2827532"><a href="/gostd/reflect/type.go.html#2826314">slice</a></span><span class="op" id="2827537">.</span><span class="op" id="2827538">(</span><span class="op" id="2827539">*</span><span class="ident" id="2827540"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2827545">)</span><br>
<span class="lineno">1740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2827549">return</span>&nbsp;<span class="ident" id="2827556"><a href="/gostd/reflect/type.go.html#2818346">cachePut</a></span><span class="op" id="2827564">(</span><span class="ident" id="2827565"><a href="/gostd/reflect/type.go.html#2826358">ckey</a></span><span class="op" id="2827569">,</span>&nbsp;<span class="op" id="2827571">&amp;</span><span class="ident" id="2827572"><a href="/gostd/reflect/type.go.html#2826818">array</a></span><span class="op" id="2827577">.</span><span class="ident" id="2827578"><a href="/gostd/reflect/type.go.html#2790664">rtype</a></span><span class="op" id="2827583">)</span><br>
<span class="lineno"></span><span class="op" id="2827585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2827588">//&nbsp;toType&nbsp;converts&nbsp;from&nbsp;a&nbsp;*rtype&nbsp;to&nbsp;a&nbsp;Type&nbsp;that&nbsp;can&nbsp;be&nbsp;returned</span><br>
<span class="lineno">1745</span><span class="comment" id="2827652">//&nbsp;to&nbsp;the&nbsp;client&nbsp;of&nbsp;package&nbsp;reflect.&nbsp;In&nbsp;gc,&nbsp;the&nbsp;only&nbsp;concern&nbsp;is&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2827721">//&nbsp;a&nbsp;nil&nbsp;*rtype&nbsp;must&nbsp;be&nbsp;replaced&nbsp;by&nbsp;a&nbsp;nil&nbsp;Type,&nbsp;but&nbsp;in&nbsp;gccgo&nbsp;this</span><br>
<span class="lineno"></span><span class="comment" id="2827787">//&nbsp;function&nbsp;takes&nbsp;care&nbsp;of&nbsp;ensuring&nbsp;that&nbsp;multiple&nbsp;*rtype&nbsp;for&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="2827856">//&nbsp;type&nbsp;are&nbsp;coalesced&nbsp;into&nbsp;a&nbsp;single&nbsp;Type.</span><br>
<span class="lineno"></span><span class="keyword" id="2827898">func</span>&nbsp;<span class="ident" id="2827903">toType</span><span class="op" id="2827909">(</span><span class="ident" id="2827910">t</span>&nbsp;<span class="op" id="2827912">*</span><span class="ident" id="2827913"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2827918">)</span>&nbsp;<span class="ident" id="2827920"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span>&nbsp;<span class="op" id="2827925">{</span><br>
<span class="lineno">1750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2827928">if</span>&nbsp;<span class="ident" id="2827931"><a href="/gostd/reflect/type.go.html#2827910">t</a></span>&nbsp;<span class="op" id="2827933">==</span>&nbsp;<span class="builtintype" id="2827936">nil</span>&nbsp;<span class="op" id="2827940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2827944">return</span>&nbsp;<span class="builtintype" id="2827951">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2827956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2827959">return</span>&nbsp;<span class="ident" id="2827966"><a href="/gostd/reflect/type.go.html#2827910">t</a></span><br>
<span class="lineno"></span><span class="op" id="2827968">}</span><br>
<span class="lineno">1755</span><br>
<span class="lineno"></span><span class="keyword" id="2827971">type</span>&nbsp;<span class="ident" id="2827976">layoutKey</span>&nbsp;<span class="keyword" id="2827986">struct</span>&nbsp;<span class="op" id="2827993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2827996">t</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2828001">*</span><span class="ident" id="2828002"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2828008">//&nbsp;function&nbsp;signature</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2828031">rcvr</span>&nbsp;<span class="op" id="2828036">*</span><span class="ident" id="2828037"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span>&nbsp;<span class="comment" id="2828043">//&nbsp;receiver&nbsp;type,&nbsp;or&nbsp;nil&nbsp;if&nbsp;none</span><br>
<span class="lineno"></span><span class="op" id="2828076">}</span><br>
<span class="lineno">1760</span><br>
<span class="lineno"></span><span class="keyword" id="2828079">type</span>&nbsp;<span class="ident" id="2828084">layoutType</span>&nbsp;<span class="keyword" id="2828095">struct</span>&nbsp;<span class="op" id="2828102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2828105">t</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2828115">*</span><span class="ident" id="2828116"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2828123">argSize</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2828133">uintptr</span>&nbsp;<span class="comment" id="2828141">//&nbsp;size&nbsp;of&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2828163">retOffset</span>&nbsp;<span class="builtintype" id="2828173">uintptr</span>&nbsp;<span class="comment" id="2828181">//&nbsp;offset&nbsp;of&nbsp;return&nbsp;values.</span><br>
<span class="lineno">1765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2828210">stack</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2828220">*</span><span class="ident" id="2828221"><a href="/gostd/reflect/type.go.html#2831088">bitVector</a></span><br>
<span class="lineno"></span><span class="op" id="2828231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2828234">var</span>&nbsp;<span class="ident" id="2828238">layoutCache</span>&nbsp;<span class="keyword" id="2828250">struct</span>&nbsp;<span class="op" id="2828257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2828260"><a href="/gostd/reflect/type.go.html#2781100">sync</a></span><span class="op" id="2828264">.</span><span class="ident" id="2828265"><a href="/gostd/sync/rwmutex.go.html#1456076">RWMutex</a></span><br>
<span class="lineno">1770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2828274">m</span>&nbsp;<span class="keyword" id="2828276">map</span><span class="op" id="2828279">[</span><span class="ident" id="2828280"><a href="/gostd/reflect/type.go.html#2827976">layoutKey</a></span><span class="op" id="2828289">]</span><span class="ident" id="2828290"><a href="/gostd/reflect/type.go.html#2828084">layoutType</a></span><br>
<span class="lineno"></span><span class="op" id="2828301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2828304">//&nbsp;funcLayout&nbsp;computes&nbsp;a&nbsp;struct&nbsp;type&nbsp;representing&nbsp;the&nbsp;layout&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2828372">//&nbsp;function&nbsp;arguments&nbsp;and&nbsp;return&nbsp;values&nbsp;for&nbsp;the&nbsp;function&nbsp;type&nbsp;t.</span><br>
<span class="lineno">1775</span><span class="comment" id="2828437">//&nbsp;If&nbsp;rcvr&nbsp;!=&nbsp;nil,&nbsp;rcvr&nbsp;specifies&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="comment" id="2828497">//&nbsp;The&nbsp;returned&nbsp;type&nbsp;exists&nbsp;only&nbsp;for&nbsp;GC,&nbsp;so&nbsp;we&nbsp;only&nbsp;fill&nbsp;out&nbsp;GC&nbsp;relevant&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="2828576">//&nbsp;Currently,&nbsp;that&#39;s&nbsp;just&nbsp;size&nbsp;and&nbsp;the&nbsp;GC&nbsp;program.&nbsp;&nbsp;We&nbsp;also&nbsp;fill&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2828644">//&nbsp;the&nbsp;name&nbsp;for&nbsp;possible&nbsp;debugging&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="2828684">func</span>&nbsp;<span class="ident" id="2828689">funcLayout</span><span class="op" id="2828699">(</span><span class="ident" id="2828700">t</span>&nbsp;<span class="op" id="2828702">*</span><span class="ident" id="2828703"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2828708">,</span>&nbsp;<span class="ident" id="2828710">rcvr</span>&nbsp;<span class="op" id="2828715">*</span><span class="ident" id="2828716"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2828721">)</span>&nbsp;<span class="op" id="2828723">(</span><span class="ident" id="2828724">frametype</span>&nbsp;<span class="op" id="2828734">*</span><span class="ident" id="2828735"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2828740">,</span>&nbsp;<span class="ident" id="2828742">argSize</span><span class="op" id="2828749">,</span>&nbsp;<span class="ident" id="2828751">retOffset</span>&nbsp;<span class="builtintype" id="2828761">uintptr</span><span class="op" id="2828768">,</span>&nbsp;<span class="ident" id="2828770">stack</span>&nbsp;<span class="op" id="2828776">*</span><span class="ident" id="2828777"><a href="/gostd/reflect/type.go.html#2831088">bitVector</a></span><span class="op" id="2828786">)</span>&nbsp;<span class="op" id="2828788">{</span><br>
<span class="lineno">1780</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2828791">if</span>&nbsp;<span class="ident" id="2828794"><a href="/gostd/reflect/type.go.html#2828700">t</a></span><span class="op" id="2828795">.</span><span class="ident" id="2828796"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2828800">(</span><span class="op" id="2828801">)</span>&nbsp;<span class="op" id="2828803">!=</span>&nbsp;<span class="ident" id="2828806"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span>&nbsp;<span class="op" id="2828811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2828815">panic</span><span class="op" id="2828820">(</span><span class="string" id="2828821">&#34;reflect:&nbsp;funcLayout&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2828859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2828862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2828865">if</span>&nbsp;<span class="ident" id="2828868"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span>&nbsp;<span class="op" id="2828873">!=</span>&nbsp;<span class="builtintype" id="2828876">nil</span>&nbsp;<span class="op" id="2828880">&amp;&amp;</span>&nbsp;<span class="ident" id="2828883"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span><span class="op" id="2828887">.</span><span class="ident" id="2828888"><a href="/gostd/reflect/type.go.html#2795201">Kind</a></span><span class="op" id="2828892">(</span><span class="op" id="2828893">)</span>&nbsp;<span class="op" id="2828895">==</span>&nbsp;<span class="ident" id="2828898"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span>&nbsp;<span class="op" id="2828908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2828912">panic</span><span class="op" id="2828917">(</span><span class="string" id="2828918">&#34;reflect:&nbsp;funcLayout&nbsp;with&nbsp;interface&nbsp;receiver&nbsp;&#34;</span>&nbsp;<span class="op" id="2828965">+</span>&nbsp;<span class="ident" id="2828967"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span><span class="op" id="2828971">.</span><span class="ident" id="2828972"><a href="/gostd/reflect/type.go.html#2794758">String</a></span><span class="op" id="2828978">(</span><span class="op" id="2828979">)</span><span class="op" id="2828980">)</span><br>
<span class="lineno">1785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2828983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2828986">k</span>&nbsp;<span class="op" id="2828988">:=</span>&nbsp;<span class="ident" id="2828991"><a href="/gostd/reflect/type.go.html#2827976">layoutKey</a></span><span class="op" id="2829000">{</span><span class="ident" id="2829001"><a href="/gostd/reflect/type.go.html#2828700">t</a></span><span class="op" id="2829002">,</span>&nbsp;<span class="ident" id="2829004"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span><span class="op" id="2829008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829011"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2829022">.</span><span class="ident" id="2829023"><a href="/gostd/sync/rwmutex.go.html#1456490">RLock</a></span><span class="op" id="2829028">(</span><span class="op" id="2829029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2829032">if</span>&nbsp;<span class="ident" id="2829035">x</span>&nbsp;<span class="op" id="2829037">:=</span>&nbsp;<span class="ident" id="2829040"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2829051">.</span><span class="ident" id="2829052"><a href="/gostd/reflect/type.go.html#2828274">m</a></span><span class="op" id="2829053">[</span><span class="ident" id="2829054"><a href="/gostd/reflect/type.go.html#2828986">k</a></span><span class="op" id="2829055">]</span><span class="op" id="2829056">;</span>&nbsp;<span class="ident" id="2829058"><a href="/gostd/reflect/type.go.html#2829035">x</a></span><span class="op" id="2829059">.</span><span class="ident" id="2829060"><a href="/gostd/reflect/type.go.html#2828105">t</a></span>&nbsp;<span class="op" id="2829062">!=</span>&nbsp;<span class="builtintype" id="2829065">nil</span>&nbsp;<span class="op" id="2829069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829073"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2829084">.</span><span class="ident" id="2829085"><a href="/gostd/sync/rwmutex.go.html#1456952">RUnlock</a></span><span class="op" id="2829092">(</span><span class="op" id="2829093">)</span><br>
<span class="lineno">1790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2829097">return</span>&nbsp;<span class="ident" id="2829104"><a href="/gostd/reflect/type.go.html#2829035">x</a></span><span class="op" id="2829105">.</span><span class="ident" id="2829106"><a href="/gostd/reflect/type.go.html#2828105">t</a></span><span class="op" id="2829107">,</span>&nbsp;<span class="ident" id="2829109"><a href="/gostd/reflect/type.go.html#2829035">x</a></span><span class="op" id="2829110">.</span><span class="ident" id="2829111"><a href="/gostd/reflect/type.go.html#2828123">argSize</a></span><span class="op" id="2829118">,</span>&nbsp;<span class="ident" id="2829120"><a href="/gostd/reflect/type.go.html#2829035">x</a></span><span class="op" id="2829121">.</span><span class="ident" id="2829122"><a href="/gostd/reflect/type.go.html#2828163">retOffset</a></span><span class="op" id="2829131">,</span>&nbsp;<span class="ident" id="2829133"><a href="/gostd/reflect/type.go.html#2829035">x</a></span><span class="op" id="2829134">.</span><span class="ident" id="2829135"><a href="/gostd/reflect/type.go.html#2828210">stack</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2829142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829145"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2829156">.</span><span class="ident" id="2829157"><a href="/gostd/sync/rwmutex.go.html#1456952">RUnlock</a></span><span class="op" id="2829164">(</span><span class="op" id="2829165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829168"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2829179">.</span><span class="ident" id="2829180"><a href="/gostd/sync/rwmutex.go.html#1457713">Lock</a></span><span class="op" id="2829184">(</span><span class="op" id="2829185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2829188">if</span>&nbsp;<span class="ident" id="2829191">x</span>&nbsp;<span class="op" id="2829193">:=</span>&nbsp;<span class="ident" id="2829196"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2829207">.</span><span class="ident" id="2829208"><a href="/gostd/reflect/type.go.html#2828274">m</a></span><span class="op" id="2829209">[</span><span class="ident" id="2829210"><a href="/gostd/reflect/type.go.html#2828986">k</a></span><span class="op" id="2829211">]</span><span class="op" id="2829212">;</span>&nbsp;<span class="ident" id="2829214"><a href="/gostd/reflect/type.go.html#2829191">x</a></span><span class="op" id="2829215">.</span><span class="ident" id="2829216"><a href="/gostd/reflect/type.go.html#2828105">t</a></span>&nbsp;<span class="op" id="2829218">!=</span>&nbsp;<span class="builtintype" id="2829221">nil</span>&nbsp;<span class="op" id="2829225">{</span><br>
<span class="lineno">1795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829229"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2829240">.</span><span class="ident" id="2829241"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="2829247">(</span><span class="op" id="2829248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2829252">return</span>&nbsp;<span class="ident" id="2829259"><a href="/gostd/reflect/type.go.html#2829191">x</a></span><span class="op" id="2829260">.</span><span class="ident" id="2829261"><a href="/gostd/reflect/type.go.html#2828105">t</a></span><span class="op" id="2829262">,</span>&nbsp;<span class="ident" id="2829264"><a href="/gostd/reflect/type.go.html#2829191">x</a></span><span class="op" id="2829265">.</span><span class="ident" id="2829266"><a href="/gostd/reflect/type.go.html#2828123">argSize</a></span><span class="op" id="2829273">,</span>&nbsp;<span class="ident" id="2829275"><a href="/gostd/reflect/type.go.html#2829191">x</a></span><span class="op" id="2829276">.</span><span class="ident" id="2829277"><a href="/gostd/reflect/type.go.html#2828163">retOffset</a></span><span class="op" id="2829286">,</span>&nbsp;<span class="ident" id="2829288"><a href="/gostd/reflect/type.go.html#2829191">x</a></span><span class="op" id="2829289">.</span><span class="ident" id="2829290"><a href="/gostd/reflect/type.go.html#2828210">stack</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2829297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829301">tt</span>&nbsp;<span class="op" id="2829304">:=</span>&nbsp;<span class="op" id="2829307">(</span><span class="op" id="2829308">*</span><span class="ident" id="2829309"><a href="/gostd/reflect/type.go.html#2790989">funcType</a></span><span class="op" id="2829317">)</span><span class="op" id="2829318">(</span><span class="ident" id="2829319"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2829325">.</span><span class="ident" id="2829326">Pointer</span><span class="op" id="2829333">(</span><span class="ident" id="2829334"><a href="/gostd/reflect/type.go.html#2828700">t</a></span><span class="op" id="2829335">)</span><span class="op" id="2829336">)</span><br>
<span class="lineno">1800</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2829340">//&nbsp;compute&nbsp;gc&nbsp;program&nbsp;&amp;&nbsp;stack&nbsp;bitmap&nbsp;for&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829392"><a href="/gostd/reflect/type.go.html#2828770">stack</a></span>&nbsp;<span class="op" id="2829398">=</span>&nbsp;<span class="builtinfunc" id="2829400">new</span><span class="op" id="2829403">(</span><span class="ident" id="2829404"><a href="/gostd/reflect/type.go.html#2831088">bitVector</a></span><span class="op" id="2829413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2829416">var</span>&nbsp;<span class="ident" id="2829420">gc</span>&nbsp;<span class="ident" id="2829423"><a href="/gostd/reflect/type.go.html#2821694">gcProg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2829431">var</span>&nbsp;<span class="ident" id="2829435">offset</span>&nbsp;<span class="builtintype" id="2829442">uintptr</span><br>
<span class="lineno">1805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2829451">if</span>&nbsp;<span class="ident" id="2829454"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span>&nbsp;<span class="op" id="2829459">!=</span>&nbsp;<span class="builtintype" id="2829462">nil</span>&nbsp;<span class="op" id="2829466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2829470">//&nbsp;Reflect&nbsp;uses&nbsp;the&nbsp;&#34;interface&#34;&nbsp;calling&nbsp;convention&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2829527">//&nbsp;methods,&nbsp;where&nbsp;receivers&nbsp;take&nbsp;one&nbsp;word&nbsp;of&nbsp;argument</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2829583">//&nbsp;space&nbsp;no&nbsp;matter&nbsp;how&nbsp;big&nbsp;they&nbsp;actually&nbsp;are.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2829631">if</span>&nbsp;<span class="ident" id="2829634"><a href="/gostd/reflect/type.go.html#2830965">ifaceIndir</a></span><span class="op" id="2829644">(</span><span class="ident" id="2829645"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span><span class="op" id="2829649">)</span>&nbsp;<span class="op" id="2829651">{</span><br>
<span class="lineno">1810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2829656">//&nbsp;we&nbsp;pass&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829697"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2829699">.</span><span class="builtinfunc" id="2829700"><a href="/gostd/reflect/type.go.html#2821783">append</a></span><span class="op" id="2829706">(</span><span class="ident" id="2829707"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2829718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829723"><a href="/gostd/reflect/type.go.html#2828770">stack</a></span><span class="op" id="2829728">.</span><span class="ident" id="2829729"><a href="/gostd/reflect/type.go.html#2831211">append2</a></span><span class="op" id="2829736">(</span><span class="ident" id="2829737"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2829748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2829752">}</span>&nbsp;<span class="keyword" id="2829754">else</span>&nbsp;<span class="keyword" id="2829759">if</span>&nbsp;<span class="ident" id="2829762"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span><span class="op" id="2829766">.</span><span class="ident" id="2829767"><a href="/gostd/reflect/type.go.html#2795265">pointers</a></span><span class="op" id="2829775">(</span><span class="op" id="2829776">)</span>&nbsp;<span class="op" id="2829778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2829783">//&nbsp;rcvr&nbsp;is&nbsp;a&nbsp;one-word&nbsp;pointer&nbsp;object.&nbsp;&nbsp;Its&nbsp;gc&nbsp;program</span><br>
<span class="lineno">1815</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2829840">//&nbsp;is&nbsp;just&nbsp;what&nbsp;we&nbsp;need&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829873"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2829875">.</span><span class="builtinfunc" id="2829876"><a href="/gostd/reflect/type.go.html#2821783">append</a></span><span class="op" id="2829882">(</span><span class="ident" id="2829883"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2829894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829899"><a href="/gostd/reflect/type.go.html#2828770">stack</a></span><span class="op" id="2829904">.</span><span class="ident" id="2829905"><a href="/gostd/reflect/type.go.html#2831211">append2</a></span><span class="op" id="2829912">(</span><span class="ident" id="2829913"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2829924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2829928">}</span>&nbsp;<span class="keyword" id="2829930">else</span>&nbsp;<span class="op" id="2829935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829940"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2829942">.</span><span class="builtinfunc" id="2829943"><a href="/gostd/reflect/type.go.html#2821783">append</a></span><span class="op" id="2829949">(</span><span class="ident" id="2829950"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2829960">)</span><br>
<span class="lineno">1820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829965"><a href="/gostd/reflect/type.go.html#2828770">stack</a></span><span class="op" id="2829970">.</span><span class="ident" id="2829971"><a href="/gostd/reflect/type.go.html#2831211">append2</a></span><span class="op" id="2829978">(</span><span class="ident" id="2829979"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2829989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2829993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2829997"><a href="/gostd/reflect/type.go.html#2829435">offset</a></span>&nbsp;<span class="op" id="2830004">+=</span>&nbsp;<span class="ident" id="2830007"><a href="/gostd/reflect/value.go.html#2832599">ptrSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2830019">for</span>&nbsp;<span class="ident" id="2830023">_</span><span class="op" id="2830024">,</span>&nbsp;<span class="ident" id="2830026">arg</span>&nbsp;<span class="op" id="2830030">:=</span>&nbsp;<span class="keyword" id="2830033">range</span>&nbsp;<span class="ident" id="2830039"><a href="/gostd/reflect/type.go.html#2829301">tt</a></span><span class="op" id="2830041">.</span><span class="ident" id="2830042"><a href="/gostd/reflect/type.go.html#2791087">in</a></span>&nbsp;<span class="op" id="2830045">{</span><br>
<span class="lineno">1825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830049"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830051">.</span><span class="ident" id="2830052"><a href="/gostd/reflect/type.go.html#2821925">appendProg</a></span><span class="op" id="2830062">(</span><span class="ident" id="2830063"><a href="/gostd/reflect/type.go.html#2830026">arg</a></span><span class="op" id="2830066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830070"><a href="/gostd/reflect/type.go.html#2831416">addTypeBits</a></span><span class="op" id="2830081">(</span><span class="ident" id="2830082"><a href="/gostd/reflect/type.go.html#2828770">stack</a></span><span class="op" id="2830087">,</span>&nbsp;<span class="op" id="2830089">&amp;</span><span class="ident" id="2830090"><a href="/gostd/reflect/type.go.html#2829435">offset</a></span><span class="op" id="2830096">,</span>&nbsp;<span class="ident" id="2830098"><a href="/gostd/reflect/type.go.html#2830026">arg</a></span><span class="op" id="2830101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830107"><a href="/gostd/reflect/type.go.html#2828742">argSize</a></span>&nbsp;<span class="op" id="2830115">=</span>&nbsp;<span class="ident" id="2830117"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830119">.</span><span class="ident" id="2830120"><a href="/gostd/reflect/type.go.html#2821724">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2830126">if</span>&nbsp;<span class="ident" id="2830129"><a href="/gostd/reflect/type.go.html#2781078">runtime</a></span><span class="op" id="2830136">.</span><span class="ident" id="2830137"><a href="/gostd/runtime/extern.go.html#1533781">GOARCH</a></span>&nbsp;<span class="op" id="2830144">==</span>&nbsp;<span class="string" id="2830147">&#34;amd64p32&#34;</span>&nbsp;<span class="op" id="2830158">{</span><br>
<span class="lineno">1830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830162"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830164">.</span><span class="ident" id="2830165"><a href="/gostd/reflect/type.go.html#2823702">align</a></span><span class="op" id="2830170">(</span><span class="num" id="2830171">8</span><span class="op" id="2830172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830178"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830180">.</span><span class="ident" id="2830181"><a href="/gostd/reflect/type.go.html#2823702">align</a></span><span class="op" id="2830186">(</span><span class="ident" id="2830187"><a href="/gostd/reflect/value.go.html#2832599">ptrSize</a></span><span class="op" id="2830194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830197"><a href="/gostd/reflect/type.go.html#2828751">retOffset</a></span>&nbsp;<span class="op" id="2830207">=</span>&nbsp;<span class="ident" id="2830209"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830211">.</span><span class="ident" id="2830212"><a href="/gostd/reflect/type.go.html#2821724">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2830218">for</span>&nbsp;<span class="ident" id="2830222">_</span><span class="op" id="2830223">,</span>&nbsp;<span class="ident" id="2830225">res</span>&nbsp;<span class="op" id="2830229">:=</span>&nbsp;<span class="keyword" id="2830232">range</span>&nbsp;<span class="ident" id="2830238"><a href="/gostd/reflect/type.go.html#2829301">tt</a></span><span class="op" id="2830240">.</span><span class="ident" id="2830241"><a href="/gostd/reflect/type.go.html#2791132">out</a></span>&nbsp;<span class="op" id="2830245">{</span><br>
<span class="lineno">1835</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830249"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830251">.</span><span class="ident" id="2830252"><a href="/gostd/reflect/type.go.html#2821925">appendProg</a></span><span class="op" id="2830262">(</span><span class="ident" id="2830263"><a href="/gostd/reflect/type.go.html#2830225">res</a></span><span class="op" id="2830266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830270">//&nbsp;stack&nbsp;map&nbsp;does&nbsp;not&nbsp;need&nbsp;result&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830313"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830315">.</span><span class="ident" id="2830316"><a href="/gostd/reflect/type.go.html#2823702">align</a></span><span class="op" id="2830321">(</span><span class="ident" id="2830322"><a href="/gostd/reflect/value.go.html#2832599">ptrSize</a></span><span class="op" id="2830329">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1840</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830333">//&nbsp;build&nbsp;dummy&nbsp;rtype&nbsp;holding&nbsp;gc&nbsp;program</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830374">x</span>&nbsp;<span class="op" id="2830376">:=</span>&nbsp;<span class="builtinfunc" id="2830379">new</span><span class="op" id="2830382">(</span><span class="ident" id="2830383"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2830388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830391"><a href="/gostd/reflect/type.go.html#2830374">x</a></span><span class="op" id="2830392">.</span><span class="ident" id="2830393"><a href="/gostd/reflect/type.go.html#2788366">size</a></span>&nbsp;<span class="op" id="2830398">=</span>&nbsp;<span class="ident" id="2830400"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830402">.</span><span class="ident" id="2830403"><a href="/gostd/reflect/type.go.html#2821724">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830409"><a href="/gostd/reflect/type.go.html#2830374">x</a></span><span class="op" id="2830410">.</span><span class="ident" id="2830411"><a href="/gostd/reflect/type.go.html#2788808">gc</a></span><span class="op" id="2830413">[</span><span class="num" id="2830414">0</span><span class="op" id="2830415">]</span>&nbsp;<span class="op" id="2830417">=</span>&nbsp;<span class="ident" id="2830419"><a href="/gostd/reflect/type.go.html#2829420">gc</a></span><span class="op" id="2830421">.</span><span class="ident" id="2830422"><a href="/gostd/reflect/type.go.html#2823137">finalize</a></span><span class="op" id="2830430">(</span><span class="op" id="2830431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2830434">var</span>&nbsp;<span class="ident" id="2830438">s</span>&nbsp;<span class="builtintype" id="2830440">string</span><br>
<span class="lineno">1845</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2830448">if</span>&nbsp;<span class="ident" id="2830451"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span>&nbsp;<span class="op" id="2830456">!=</span>&nbsp;<span class="builtintype" id="2830459">nil</span>&nbsp;<span class="op" id="2830463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830467"><a href="/gostd/reflect/type.go.html#2830438">s</a></span>&nbsp;<span class="op" id="2830469">=</span>&nbsp;<span class="string" id="2830471">&#34;methodargs(&#34;</span>&nbsp;<span class="op" id="2830485">+</span>&nbsp;<span class="op" id="2830487">*</span><span class="ident" id="2830488"><a href="/gostd/reflect/type.go.html#2828710">rcvr</a></span><span class="op" id="2830492">.</span><span class="builtintype" id="2830493"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2830500">+</span>&nbsp;<span class="string" id="2830502">&#34;)(&#34;</span>&nbsp;<span class="op" id="2830507">+</span>&nbsp;<span class="op" id="2830509">*</span><span class="ident" id="2830510"><a href="/gostd/reflect/type.go.html#2828700">t</a></span><span class="op" id="2830511">.</span><span class="builtintype" id="2830512"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2830519">+</span>&nbsp;<span class="string" id="2830521">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830526">}</span>&nbsp;<span class="keyword" id="2830528">else</span>&nbsp;<span class="op" id="2830533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830537"><a href="/gostd/reflect/type.go.html#2830438">s</a></span>&nbsp;<span class="op" id="2830539">=</span>&nbsp;<span class="string" id="2830541">&#34;funcargs(&#34;</span>&nbsp;<span class="op" id="2830553">+</span>&nbsp;<span class="op" id="2830555">*</span><span class="ident" id="2830556"><a href="/gostd/reflect/type.go.html#2828700">t</a></span><span class="op" id="2830557">.</span><span class="builtintype" id="2830558"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2830565">+</span>&nbsp;<span class="string" id="2830567">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830572">}</span><br>
<span class="lineno">1850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830575"><a href="/gostd/reflect/type.go.html#2830374">x</a></span><span class="op" id="2830576">.</span><span class="builtintype" id="2830577"><a href="/gostd/reflect/type.go.html#2788868">string</a></span>&nbsp;<span class="op" id="2830584">=</span>&nbsp;<span class="op" id="2830586">&amp;</span><span class="ident" id="2830587"><a href="/gostd/reflect/type.go.html#2830438">s</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830591">//&nbsp;cache&nbsp;result&nbsp;for&nbsp;future&nbsp;callers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2830627">if</span>&nbsp;<span class="ident" id="2830630"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2830641">.</span><span class="ident" id="2830642"><a href="/gostd/reflect/type.go.html#2828274">m</a></span>&nbsp;<span class="op" id="2830644">==</span>&nbsp;<span class="builtintype" id="2830647">nil</span>&nbsp;<span class="op" id="2830651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830655"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2830666">.</span><span class="ident" id="2830667"><a href="/gostd/reflect/type.go.html#2828274">m</a></span>&nbsp;<span class="op" id="2830669">=</span>&nbsp;<span class="builtinfunc" id="2830671">make</span><span class="op" id="2830675">(</span><span class="keyword" id="2830676">map</span><span class="op" id="2830679">[</span><span class="ident" id="2830680"><a href="/gostd/reflect/type.go.html#2827976">layoutKey</a></span><span class="op" id="2830689">]</span><span class="ident" id="2830690"><a href="/gostd/reflect/type.go.html#2828084">layoutType</a></span><span class="op" id="2830700">)</span><br>
<span class="lineno">1855</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830706"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2830717">.</span><span class="ident" id="2830718"><a href="/gostd/reflect/type.go.html#2828274">m</a></span><span class="op" id="2830719">[</span><span class="ident" id="2830720"><a href="/gostd/reflect/type.go.html#2828986">k</a></span><span class="op" id="2830721">]</span>&nbsp;<span class="op" id="2830723">=</span>&nbsp;<span class="ident" id="2830725"><a href="/gostd/reflect/type.go.html#2828084">layoutType</a></span><span class="op" id="2830735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830739"><a href="/gostd/reflect/type.go.html#2828105">t</a></span><span class="op" id="2830740">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830750"><a href="/gostd/reflect/type.go.html#2830374">x</a></span><span class="op" id="2830751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830755"><a href="/gostd/reflect/type.go.html#2828123">argSize</a></span><span class="op" id="2830762">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2830766"><a href="/gostd/reflect/type.go.html#2828742">argSize</a></span><span class="op" id="2830773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830777"><a href="/gostd/reflect/type.go.html#2828163">retOffset</a></span><span class="op" id="2830786">:</span>&nbsp;<span class="ident" id="2830788"><a href="/gostd/reflect/type.go.html#2828751">retOffset</a></span><span class="op" id="2830797">,</span><br>
<span class="lineno">1860</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830801"><a href="/gostd/reflect/type.go.html#2828210">stack</a></span><span class="op" id="2830806">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830812"><a href="/gostd/reflect/type.go.html#2828770">stack</a></span><span class="op" id="2830817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2830823"><a href="/gostd/reflect/type.go.html#2828238">layoutCache</a></span><span class="op" id="2830834">.</span><span class="ident" id="2830835"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="2830841">(</span><span class="op" id="2830842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2830845">return</span>&nbsp;<span class="ident" id="2830852"><a href="/gostd/reflect/type.go.html#2830374">x</a></span><span class="op" id="2830853">,</span>&nbsp;<span class="ident" id="2830855"><a href="/gostd/reflect/type.go.html#2828742">argSize</a></span><span class="op" id="2830862">,</span>&nbsp;<span class="ident" id="2830864"><a href="/gostd/reflect/type.go.html#2828751">retOffset</a></span><span class="op" id="2830873">,</span>&nbsp;<span class="ident" id="2830875"><a href="/gostd/reflect/type.go.html#2828770">stack</a></span><br>
<span class="lineno"></span><span class="op" id="2830881">}</span><br>
<span class="lineno">1865</span><br>
<span class="lineno"></span><span class="comment" id="2830884">//&nbsp;ifaceIndir&nbsp;reports&nbsp;whether&nbsp;t&nbsp;is&nbsp;stored&nbsp;indirectly&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2830960">func</span>&nbsp;<span class="ident" id="2830965">ifaceIndir</span><span class="op" id="2830975">(</span><span class="ident" id="2830976">t</span>&nbsp;<span class="op" id="2830978">*</span><span class="ident" id="2830979"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2830984">)</span>&nbsp;<span class="builtintype" id="2830986">bool</span>&nbsp;<span class="op" id="2830991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2830994">return</span>&nbsp;<span class="ident" id="2831001"><a href="/gostd/reflect/type.go.html#2830976">t</a></span><span class="op" id="2831002">.</span><span class="ident" id="2831003"><a href="/gostd/reflect/type.go.html#2788674">kind</a></span><span class="op" id="2831007">&amp;</span><span class="ident" id="2831008"><a href="/gostd/reflect/type.go.html#2793460">kindDirectIface</a></span>&nbsp;<span class="op" id="2831024">==</span>&nbsp;<span class="num" id="2831027">0</span><br>
<span class="lineno"></span><span class="op" id="2831029">}</span><br>
<span class="lineno">1870</span><br>
<span class="lineno"></span><span class="comment" id="2831032">//&nbsp;Layout&nbsp;matches&nbsp;runtime.BitVector&nbsp;(well&nbsp;enough).</span><br>
<span class="lineno"></span><span class="keyword" id="2831083">type</span>&nbsp;<span class="ident" id="2831088">bitVector</span>&nbsp;<span class="keyword" id="2831098">struct</span>&nbsp;<span class="op" id="2831105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831108">n</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2831113">uint32</span>&nbsp;<span class="comment" id="2831120">//&nbsp;number&nbsp;of&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831139">data</span>&nbsp;<span class="op" id="2831144">[</span><span class="op" id="2831145">]</span><span class="builtintype" id="2831146">byte</span><br>
<span class="lineno">1875</span><span class="op" id="2831151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2831154">//&nbsp;append&nbsp;a&nbsp;bit&nbsp;pair&nbsp;to&nbsp;the&nbsp;bitmap.</span><br>
<span class="lineno"></span><span class="keyword" id="2831190">func</span>&nbsp;<span class="op" id="2831195">(</span><span class="ident" id="2831196">bv</span>&nbsp;<span class="op" id="2831199">*</span><span class="ident" id="2831200"><a href="/gostd/reflect/type.go.html#2831088">bitVector</a></span><span class="op" id="2831209">)</span>&nbsp;<span class="ident" id="2831211">append2</span><span class="op" id="2831218">(</span><span class="ident" id="2831219">bits</span>&nbsp;<span class="builtintype" id="2831224">uint8</span><span class="op" id="2831229">)</span>&nbsp;<span class="op" id="2831231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831234">//&nbsp;assume&nbsp;bv.n&nbsp;is&nbsp;a&nbsp;multiple&nbsp;of&nbsp;2,&nbsp;since&nbsp;append2&nbsp;is&nbsp;the&nbsp;only&nbsp;operation.</span><br>
<span class="lineno">1880</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831307">if</span>&nbsp;<span class="ident" id="2831310"><a href="/gostd/reflect/type.go.html#2831196">bv</a></span><span class="op" id="2831312">.</span><span class="ident" id="2831313"><a href="/gostd/reflect/type.go.html#2831108">n</a></span><span class="op" id="2831314">%</span><span class="num" id="2831315">8</span>&nbsp;<span class="op" id="2831317">==</span>&nbsp;<span class="num" id="2831320">0</span>&nbsp;<span class="op" id="2831322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831326"><a href="/gostd/reflect/type.go.html#2831196">bv</a></span><span class="op" id="2831328">.</span><span class="ident" id="2831329"><a href="/gostd/reflect/type.go.html#2831139">data</a></span>&nbsp;<span class="op" id="2831334">=</span>&nbsp;<span class="builtinfunc" id="2831336">append</span><span class="op" id="2831342">(</span><span class="ident" id="2831343"><a href="/gostd/reflect/type.go.html#2831196">bv</a></span><span class="op" id="2831345">.</span><span class="ident" id="2831346"><a href="/gostd/reflect/type.go.html#2831139">data</a></span><span class="op" id="2831350">,</span>&nbsp;<span class="num" id="2831352">0</span><span class="op" id="2831353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831359"><a href="/gostd/reflect/type.go.html#2831196">bv</a></span><span class="op" id="2831361">.</span><span class="ident" id="2831362"><a href="/gostd/reflect/type.go.html#2831139">data</a></span><span class="op" id="2831366">[</span><span class="ident" id="2831367"><a href="/gostd/reflect/type.go.html#2831196">bv</a></span><span class="op" id="2831369">.</span><span class="ident" id="2831370"><a href="/gostd/reflect/type.go.html#2831108">n</a></span><span class="op" id="2831371">/</span><span class="num" id="2831372">8</span><span class="op" id="2831373">]</span>&nbsp;<span class="op" id="2831375">|=</span>&nbsp;<span class="ident" id="2831378"><a href="/gostd/reflect/type.go.html#2831219">bits</a></span>&nbsp;<span class="op" id="2831383">&lt;&lt;</span>&nbsp;<span class="op" id="2831386">(</span><span class="ident" id="2831387"><a href="/gostd/reflect/type.go.html#2831196">bv</a></span><span class="op" id="2831389">.</span><span class="ident" id="2831390"><a href="/gostd/reflect/type.go.html#2831108">n</a></span>&nbsp;<span class="op" id="2831392">%</span>&nbsp;<span class="num" id="2831394">8</span><span class="op" id="2831395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831398"><a href="/gostd/reflect/type.go.html#2831196">bv</a></span><span class="op" id="2831400">.</span><span class="ident" id="2831401"><a href="/gostd/reflect/type.go.html#2831108">n</a></span>&nbsp;<span class="op" id="2831403">+=</span>&nbsp;<span class="num" id="2831406">2</span><br>
<span class="lineno">1885</span><span class="op" id="2831408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2831411">func</span>&nbsp;<span class="ident" id="2831416">addTypeBits</span><span class="op" id="2831427">(</span><span class="ident" id="2831428">bv</span>&nbsp;<span class="op" id="2831431">*</span><span class="ident" id="2831432"><a href="/gostd/reflect/type.go.html#2831088">bitVector</a></span><span class="op" id="2831441">,</span>&nbsp;<span class="ident" id="2831443">offset</span>&nbsp;<span class="op" id="2831450">*</span><span class="builtintype" id="2831451">uintptr</span><span class="op" id="2831458">,</span>&nbsp;<span class="ident" id="2831460">t</span>&nbsp;<span class="op" id="2831462">*</span><span class="ident" id="2831463"><a href="/gostd/reflect/type.go.html#2788350">rtype</a></span><span class="op" id="2831468">)</span>&nbsp;<span class="op" id="2831470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831473">*</span><span class="ident" id="2831474"><a href="/gostd/reflect/type.go.html#2831443">offset</a></span>&nbsp;<span class="op" id="2831481">=</span>&nbsp;<span class="ident" id="2831483"><a href="/gostd/reflect/value.go.html#2849952">align</a></span><span class="op" id="2831488">(</span><span class="op" id="2831489">*</span><span class="ident" id="2831490"><a href="/gostd/reflect/type.go.html#2831443">offset</a></span><span class="op" id="2831496">,</span>&nbsp;<span class="builtintype" id="2831498">uintptr</span><span class="op" id="2831505">(</span><span class="ident" id="2831506"><a href="/gostd/reflect/type.go.html#2831460">t</a></span><span class="op" id="2831507">.</span><span class="ident" id="2831508"><a href="/gostd/reflect/type.go.html#2788524">align</a></span><span class="op" id="2831513">)</span><span class="op" id="2831514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831517">if</span>&nbsp;<span class="ident" id="2831520"><a href="/gostd/reflect/type.go.html#2831460">t</a></span><span class="op" id="2831521">.</span><span class="ident" id="2831522"><a href="/gostd/reflect/type.go.html#2788674">kind</a></span><span class="op" id="2831526">&amp;</span><span class="ident" id="2831527"><a href="/gostd/reflect/type.go.html#2793544">kindNoPointers</a></span>&nbsp;<span class="op" id="2831542">!=</span>&nbsp;<span class="num" id="2831545">0</span>&nbsp;<span class="op" id="2831547">{</span><br>
<span class="lineno">1890</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831551">*</span><span class="ident" id="2831552"><a href="/gostd/reflect/type.go.html#2831443">offset</a></span>&nbsp;<span class="op" id="2831559">+=</span>&nbsp;<span class="ident" id="2831562"><a href="/gostd/reflect/type.go.html#2831460">t</a></span><span class="op" id="2831563">.</span><span class="ident" id="2831564"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831571">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831583">switch</span>&nbsp;<span class="ident" id="2831590"><a href="/gostd/reflect/type.go.html#2787856">Kind</a></span><span class="op" id="2831594">(</span><span class="ident" id="2831595"><a href="/gostd/reflect/type.go.html#2831460">t</a></span><span class="op" id="2831596">.</span><span class="ident" id="2831597"><a href="/gostd/reflect/type.go.html#2788674">kind</a></span>&nbsp;<span class="op" id="2831602">&amp;</span>&nbsp;<span class="ident" id="2831604"><a href="/gostd/reflect/type.go.html#2793570">kindMask</a></span><span class="op" id="2831612">)</span>&nbsp;<span class="op" id="2831614">{</span><br>
<span class="lineno">1895</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831617">case</span>&nbsp;<span class="ident" id="2831622"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span><span class="op" id="2831626">,</span>&nbsp;<span class="ident" id="2831628"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span><span class="op" id="2831632">,</span>&nbsp;<span class="ident" id="2831634"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="2831637">,</span>&nbsp;<span class="ident" id="2831639"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span><span class="op" id="2831642">,</span>&nbsp;<span class="ident" id="2831644"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2831649">,</span>&nbsp;<span class="ident" id="2831651"><a href="/gostd/reflect/type.go.html#2788069">String</a></span><span class="op" id="2831657">,</span>&nbsp;<span class="ident" id="2831659"><a href="/gostd/reflect/type.go.html#2788085">UnsafePointer</a></span><span class="op" id="2831672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831676">//&nbsp;1&nbsp;pointer&nbsp;at&nbsp;start&nbsp;of&nbsp;representation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831718">for</span>&nbsp;<span class="ident" id="2831722"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2831724">.</span><span class="ident" id="2831725"><a href="/gostd/reflect/type.go.html#2831108">n</a></span>&nbsp;<span class="op" id="2831727">&lt;</span>&nbsp;<span class="num" id="2831729">2</span><span class="op" id="2831730">*</span><span class="builtintype" id="2831731">uint32</span><span class="op" id="2831737">(</span><span class="op" id="2831738">*</span><span class="ident" id="2831739"><a href="/gostd/reflect/type.go.html#2831443">offset</a></span><span class="op" id="2831745">/</span><span class="builtintype" id="2831746">uintptr</span><span class="op" id="2831753">(</span><span class="ident" id="2831754"><a href="/gostd/reflect/value.go.html#2832599">ptrSize</a></span><span class="op" id="2831761">)</span><span class="op" id="2831762">)</span>&nbsp;<span class="op" id="2831764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831769"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2831771">.</span><span class="ident" id="2831772"><a href="/gostd/reflect/type.go.html#2831211">append2</a></span><span class="op" id="2831779">(</span><span class="ident" id="2831780"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2831790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831794">}</span><br>
<span class="lineno">1900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831798"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2831800">.</span><span class="ident" id="2831801"><a href="/gostd/reflect/type.go.html#2831211">append2</a></span><span class="op" id="2831808">(</span><span class="ident" id="2831809"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2831820">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831824">case</span>&nbsp;<span class="ident" id="2831829"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span><span class="op" id="2831838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831842">//&nbsp;2&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831858">for</span>&nbsp;<span class="ident" id="2831862"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2831864">.</span><span class="ident" id="2831865"><a href="/gostd/reflect/type.go.html#2831108">n</a></span>&nbsp;<span class="op" id="2831867">&lt;</span>&nbsp;<span class="num" id="2831869">2</span><span class="op" id="2831870">*</span><span class="builtintype" id="2831871">uint32</span><span class="op" id="2831877">(</span><span class="op" id="2831878">*</span><span class="ident" id="2831879"><a href="/gostd/reflect/type.go.html#2831443">offset</a></span><span class="op" id="2831885">/</span><span class="builtintype" id="2831886">uintptr</span><span class="op" id="2831893">(</span><span class="ident" id="2831894"><a href="/gostd/reflect/value.go.html#2832599">ptrSize</a></span><span class="op" id="2831901">)</span><span class="op" id="2831902">)</span>&nbsp;<span class="op" id="2831904">{</span><br>
<span class="lineno">1905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831909"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2831911">.</span><span class="ident" id="2831912"><a href="/gostd/reflect/type.go.html#2831211">append2</a></span><span class="op" id="2831919">(</span><span class="ident" id="2831920"><a href="/gostd/reflect/type.go.html#2823823">bitsScalar</a></span><span class="op" id="2831930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831938"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2831940">.</span><span class="ident" id="2831941"><a href="/gostd/reflect/type.go.html#2831211">append2</a></span><span class="op" id="2831948">(</span><span class="ident" id="2831949"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2831960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831964"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2831966">.</span><span class="ident" id="2831967"><a href="/gostd/reflect/type.go.html#2831211">append2</a></span><span class="op" id="2831974">(</span><span class="ident" id="2831975"><a href="/gostd/reflect/type.go.html#2823842">bitsPointer</a></span><span class="op" id="2831986">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1910</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2831990">case</span>&nbsp;<span class="ident" id="2831995"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="2832000">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2832004">//&nbsp;repeat&nbsp;inner&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2832027">tt</span>&nbsp;<span class="op" id="2832030">:=</span>&nbsp;<span class="op" id="2832033">(</span><span class="op" id="2832034">*</span><span class="ident" id="2832035"><a href="/gostd/reflect/type.go.html#2790644">arrayType</a></span><span class="op" id="2832044">)</span><span class="op" id="2832045">(</span><span class="ident" id="2832046"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2832052">.</span><span class="ident" id="2832053">Pointer</span><span class="op" id="2832060">(</span><span class="ident" id="2832061"><a href="/gostd/reflect/type.go.html#2831460">t</a></span><span class="op" id="2832062">)</span><span class="op" id="2832063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2832067">for</span>&nbsp;<span class="ident" id="2832071">i</span>&nbsp;<span class="op" id="2832073">:=</span>&nbsp;<span class="num" id="2832076">0</span><span class="op" id="2832077">;</span>&nbsp;<span class="ident" id="2832079"><a href="/gostd/reflect/type.go.html#2832071">i</a></span>&nbsp;<span class="op" id="2832081">&lt;</span>&nbsp;<span class="builtintype" id="2832083">int</span><span class="op" id="2832086">(</span><span class="ident" id="2832087"><a href="/gostd/reflect/type.go.html#2832027">tt</a></span><span class="op" id="2832089">.</span><span class="builtinfunc" id="2832090"><a href="/gostd/reflect/type.go.html#2790753">len</a></span><span class="op" id="2832093">)</span><span class="op" id="2832094">;</span>&nbsp;<span class="ident" id="2832096"><a href="/gostd/reflect/type.go.html#2832071">i</a></span><span class="op" id="2832097">++</span>&nbsp;<span class="op" id="2832100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2832105"><a href="/gostd/reflect/type.go.html#2831416">addTypeBits</a></span><span class="op" id="2832116">(</span><span class="ident" id="2832117"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2832119">,</span>&nbsp;<span class="ident" id="2832121"><a href="/gostd/reflect/type.go.html#2831443">offset</a></span><span class="op" id="2832127">,</span>&nbsp;<span class="ident" id="2832129"><a href="/gostd/reflect/type.go.html#2832027">tt</a></span><span class="op" id="2832131">.</span><span class="ident" id="2832132"><a href="/gostd/reflect/type.go.html#2790689">elem</a></span><span class="op" id="2832136">)</span><br>
<span class="lineno">1915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2832140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2832144">case</span>&nbsp;<span class="ident" id="2832149"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span><span class="op" id="2832155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2832159">//&nbsp;apply&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2832177">tt</span>&nbsp;<span class="op" id="2832180">:=</span>&nbsp;<span class="op" id="2832183">(</span><span class="op" id="2832184">*</span><span class="ident" id="2832185"><a href="/gostd/reflect/type.go.html#2792666">structType</a></span><span class="op" id="2832195">)</span><span class="op" id="2832196">(</span><span class="ident" id="2832197"><a href="/gostd/reflect/type.go.html#2781108">unsafe</a></span><span class="op" id="2832203">.</span><span class="ident" id="2832204">Pointer</span><span class="op" id="2832211">(</span><span class="ident" id="2832212"><a href="/gostd/reflect/type.go.html#2831460">t</a></span><span class="op" id="2832213">)</span><span class="op" id="2832214">)</span><br>
<span class="lineno">1920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2832218">start</span>&nbsp;<span class="op" id="2832224">:=</span>&nbsp;<span class="op" id="2832227">*</span><span class="ident" id="2832228"><a href="/gostd/reflect/type.go.html#2831443">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2832237">for</span>&nbsp;<span class="ident" id="2832241">i</span>&nbsp;<span class="op" id="2832243">:=</span>&nbsp;<span class="keyword" id="2832246">range</span>&nbsp;<span class="ident" id="2832252"><a href="/gostd/reflect/type.go.html#2832177">tt</a></span><span class="op" id="2832254">.</span><span class="ident" id="2832255"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span>&nbsp;<span class="op" id="2832262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2832267">f</span>&nbsp;<span class="op" id="2832269">:=</span>&nbsp;<span class="op" id="2832272">&amp;</span><span class="ident" id="2832273"><a href="/gostd/reflect/type.go.html#2832177">tt</a></span><span class="op" id="2832275">.</span><span class="ident" id="2832276"><a href="/gostd/reflect/type.go.html#2792714">fields</a></span><span class="op" id="2832282">[</span><span class="ident" id="2832283"><a href="/gostd/reflect/type.go.html#2832241">i</a></span><span class="op" id="2832284">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2832289">off</span>&nbsp;<span class="op" id="2832293">:=</span>&nbsp;<span class="ident" id="2832296"><a href="/gostd/reflect/type.go.html#2832218">start</a></span>&nbsp;<span class="op" id="2832302">+</span>&nbsp;<span class="ident" id="2832304"><a href="/gostd/reflect/type.go.html#2832267">f</a></span><span class="op" id="2832305">.</span><span class="ident" id="2832306"><a href="/gostd/reflect/type.go.html#2792564">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2832316"><a href="/gostd/reflect/type.go.html#2831416">addTypeBits</a></span><span class="op" id="2832327">(</span><span class="ident" id="2832328"><a href="/gostd/reflect/type.go.html#2831428">bv</a></span><span class="op" id="2832330">,</span>&nbsp;<span class="op" id="2832332">&amp;</span><span class="ident" id="2832333"><a href="/gostd/reflect/type.go.html#2832289">off</a></span><span class="op" id="2832336">,</span>&nbsp;<span class="ident" id="2832338"><a href="/gostd/reflect/type.go.html#2832267">f</a></span><span class="op" id="2832339">.</span><span class="ident" id="2832340"><a href="/gostd/reflect/type.go.html#2792496">typ</a></span><span class="op" id="2832343">)</span><br>
<span class="lineno">1925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2832347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2832350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2832354">*</span><span class="ident" id="2832355"><a href="/gostd/reflect/type.go.html#2831443">offset</a></span>&nbsp;<span class="op" id="2832362">+=</span>&nbsp;<span class="ident" id="2832365"><a href="/gostd/reflect/type.go.html#2831460">t</a></span><span class="op" id="2832366">.</span><span class="ident" id="2832367"><a href="/gostd/reflect/type.go.html#2788366">size</a></span><br>
<span class="lineno"></span><span class="op" id="2832372">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
