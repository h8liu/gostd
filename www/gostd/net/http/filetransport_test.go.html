<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html" class="current">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8233605">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8233660">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8233714">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8233765">package</span>&nbsp;<span class="ident" id="8233773">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233779">import</span>&nbsp;<span class="op" id="8233786">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8233789">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8233802">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8233808">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8233825">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8233835">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233838">func</span>&nbsp;<span class="ident" id="8233843">checker</span><span class="op" id="8233850">(</span><span class="ident" id="8233851">t</span>&nbsp;<span class="op" id="8233853">*</span><span class="ident" id="8233854">testing</span><span class="op" id="8233861">.</span><span class="ident" id="8233862">T</span><span class="op" id="8233863">)</span>&nbsp;<span class="keyword" id="8233865">func</span><span class="op" id="8233869">(</span><span class="builtintype" id="8233870">string</span><span class="op" id="8233876">,</span>&nbsp;<span class="builtintype" id="8233878">error</span><span class="op" id="8233883">)</span>&nbsp;<span class="op" id="8233885">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8233888">return</span>&nbsp;<span class="keyword" id="8233895">func</span><span class="op" id="8233899">(</span><span class="ident" id="8233900">call</span>&nbsp;<span class="builtintype" id="8233905">string</span><span class="op" id="8233911">,</span>&nbsp;<span class="ident" id="8233913">err</span>&nbsp;<span class="builtintype" id="8233917">error</span><span class="op" id="8233922">)</span>&nbsp;<span class="op" id="8233924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8233928">if</span>&nbsp;<span class="ident" id="8233931">err</span>&nbsp;<span class="op" id="8233935">==</span>&nbsp;<span class="ident" id="8233938">nil</span>&nbsp;<span class="op" id="8233942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8233947">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8233956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8233960">t</span><span class="op" id="8233961">.</span><span class="ident" id="8233962">Fatalf</span><span class="op" id="8233968">(</span><span class="string" id="8233969">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="8233977">,</span>&nbsp;<span class="ident" id="8233979">call</span><span class="op" id="8233983">,</span>&nbsp;<span class="ident" id="8233985">err</span><span class="op" id="8233988">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8233991">}</span><br>
<span class="lineno"></span><span class="op" id="8233993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8233996">func</span>&nbsp;<span class="ident" id="8234001">TestFileTransport</span><span class="op" id="8234018">(</span><span class="ident" id="8234019">t</span>&nbsp;<span class="op" id="8234021">*</span><span class="ident" id="8234022">testing</span><span class="op" id="8234029">.</span><span class="ident" id="8234030">T</span><span class="op" id="8234031">)</span>&nbsp;<span class="op" id="8234033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234036">check</span>&nbsp;<span class="op" id="8234042">:=</span>&nbsp;<span class="ident" id="8234045">checker</span><span class="op" id="8234052">(</span><span class="ident" id="8234053">t</span><span class="op" id="8234054">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234058">dname</span><span class="op" id="8234063">,</span>&nbsp;<span class="ident" id="8234065">err</span>&nbsp;<span class="op" id="8234069">:=</span>&nbsp;<span class="ident" id="8234072">ioutil</span><span class="op" id="8234078">.</span><span class="ident" id="8234079">TempDir</span><span class="op" id="8234086">(</span><span class="string" id="8234087">&#34;&#34;</span><span class="op" id="8234089">,</span>&nbsp;<span class="string" id="8234091">&#34;&#34;</span><span class="op" id="8234093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234096">check</span><span class="op" id="8234101">(</span><span class="string" id="8234102">&#34;TempDir&#34;</span><span class="op" id="8234111">,</span>&nbsp;<span class="ident" id="8234113">err</span><span class="op" id="8234116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234119">fname</span>&nbsp;<span class="op" id="8234125">:=</span>&nbsp;<span class="ident" id="8234128">filepath</span><span class="op" id="8234136">.</span><span class="ident" id="8234137">Join</span><span class="op" id="8234141">(</span><span class="ident" id="8234142">dname</span><span class="op" id="8234147">,</span>&nbsp;<span class="string" id="8234149">&#34;foo.txt&#34;</span><span class="op" id="8234158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234161">err</span>&nbsp;<span class="op" id="8234165">=</span>&nbsp;<span class="ident" id="8234167">ioutil</span><span class="op" id="8234173">.</span><span class="ident" id="8234174">WriteFile</span><span class="op" id="8234183">(</span><span class="ident" id="8234184">fname</span><span class="op" id="8234189">,</span>&nbsp;<span class="op" id="8234191">[</span><span class="op" id="8234192">]</span><span class="builtintype" id="8234193">byte</span><span class="op" id="8234197">(</span><span class="string" id="8234198">&#34;Bar&#34;</span><span class="op" id="8234203">)</span><span class="op" id="8234204">,</span>&nbsp;<span class="num" id="8234206">0644</span><span class="op" id="8234210">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234213">check</span><span class="op" id="8234218">(</span><span class="string" id="8234219">&#34;WriteFile&#34;</span><span class="op" id="8234230">,</span>&nbsp;<span class="ident" id="8234232">err</span><span class="op" id="8234235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8234238">defer</span>&nbsp;<span class="ident" id="8234244">os</span><span class="op" id="8234246">.</span><span class="ident" id="8234247">Remove</span><span class="op" id="8234253">(</span><span class="ident" id="8234254">dname</span><span class="op" id="8234259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8234262">defer</span>&nbsp;<span class="ident" id="8234268">os</span><span class="op" id="8234270">.</span><span class="ident" id="8234271">Remove</span><span class="op" id="8234277">(</span><span class="ident" id="8234278">fname</span><span class="op" id="8234283">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234287">tr</span>&nbsp;<span class="op" id="8234290">:=</span>&nbsp;<span class="op" id="8234293">&amp;</span><span class="ident" id="8234294">Transport</span><span class="op" id="8234303">{</span><span class="op" id="8234304">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234307">tr</span><span class="op" id="8234309">.</span><span class="ident" id="8234310">RegisterProtocol</span><span class="op" id="8234326">(</span><span class="string" id="8234327">&#34;file&#34;</span><span class="op" id="8234333">,</span>&nbsp;<span class="ident" id="8234335">NewFileTransport</span><span class="op" id="8234351">(</span><span class="ident" id="8234352">Dir</span><span class="op" id="8234355">(</span><span class="ident" id="8234356">dname</span><span class="op" id="8234361">)</span><span class="op" id="8234362">)</span><span class="op" id="8234363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234366">c</span>&nbsp;<span class="op" id="8234368">:=</span>&nbsp;<span class="op" id="8234371">&amp;</span><span class="ident" id="8234372">Client</span><span class="op" id="8234378">{</span><span class="ident" id="8234379">Transport</span><span class="op" id="8234388">:</span>&nbsp;<span class="ident" id="8234390">tr</span><span class="op" id="8234392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234396">fooURLs</span>&nbsp;<span class="op" id="8234404">:=</span>&nbsp;<span class="op" id="8234407">[</span><span class="op" id="8234408">]</span><span class="builtintype" id="8234409">string</span><span class="op" id="8234415">{</span><span class="string" id="8234416">&#34;file:///foo.txt&#34;</span><span class="op" id="8234433">,</span>&nbsp;<span class="string" id="8234435">&#34;file://../foo.txt&#34;</span><span class="op" id="8234454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8234457">for</span>&nbsp;<span class="ident" id="8234461">_</span><span class="op" id="8234462">,</span>&nbsp;<span class="ident" id="8234464">urlstr</span>&nbsp;<span class="op" id="8234471">:=</span>&nbsp;<span class="keyword" id="8234474">range</span>&nbsp;<span class="ident" id="8234480">fooURLs</span>&nbsp;<span class="op" id="8234488">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234492">res</span><span class="op" id="8234495">,</span>&nbsp;<span class="ident" id="8234497">err</span>&nbsp;<span class="op" id="8234501">:=</span>&nbsp;<span class="ident" id="8234504">c</span><span class="op" id="8234505">.</span><span class="ident" id="8234506">Get</span><span class="op" id="8234509">(</span><span class="ident" id="8234510">urlstr</span><span class="op" id="8234516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234520">check</span><span class="op" id="8234525">(</span><span class="string" id="8234526">&#34;Get&nbsp;&#34;</span><span class="op" id="8234532">+</span><span class="ident" id="8234533">urlstr</span><span class="op" id="8234539">,</span>&nbsp;<span class="ident" id="8234541">err</span><span class="op" id="8234544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8234548">if</span>&nbsp;<span class="ident" id="8234551">res</span><span class="op" id="8234554">.</span><span class="ident" id="8234555">StatusCode</span>&nbsp;<span class="op" id="8234566">!=</span>&nbsp;<span class="num" id="8234569">200</span>&nbsp;<span class="op" id="8234573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234578">t</span><span class="op" id="8234579">.</span><span class="ident" id="8234580">Errorf</span><span class="op" id="8234586">(</span><span class="string" id="8234587">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="8234622">,</span>&nbsp;<span class="ident" id="8234624">urlstr</span><span class="op" id="8234630">,</span>&nbsp;<span class="ident" id="8234632">res</span><span class="op" id="8234635">.</span><span class="ident" id="8234636">StatusCode</span><span class="op" id="8234646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234650">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8234654">if</span>&nbsp;<span class="ident" id="8234657">res</span><span class="op" id="8234660">.</span><span class="ident" id="8234661">ContentLength</span>&nbsp;<span class="op" id="8234675">!=</span>&nbsp;<span class="op" id="8234678">-</span><span class="num" id="8234679">1</span>&nbsp;<span class="op" id="8234681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234686">t</span><span class="op" id="8234687">.</span><span class="ident" id="8234688">Errorf</span><span class="op" id="8234694">(</span><span class="string" id="8234695">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="8234732">,</span>&nbsp;<span class="ident" id="8234734">urlstr</span><span class="op" id="8234740">,</span>&nbsp;<span class="ident" id="8234742">res</span><span class="op" id="8234745">.</span><span class="ident" id="8234746">ContentLength</span><span class="op" id="8234759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8234767">if</span>&nbsp;<span class="ident" id="8234770">res</span><span class="op" id="8234773">.</span><span class="ident" id="8234774">Body</span>&nbsp;<span class="op" id="8234779">==</span>&nbsp;<span class="ident" id="8234782">nil</span>&nbsp;<span class="op" id="8234786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234791">t</span><span class="op" id="8234792">.</span><span class="ident" id="8234793">Fatalf</span><span class="op" id="8234799">(</span><span class="string" id="8234800">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="8234818">,</span>&nbsp;<span class="ident" id="8234820">urlstr</span><span class="op" id="8234826">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8234830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234834">slurp</span><span class="op" id="8234839">,</span>&nbsp;<span class="ident" id="8234841">err</span>&nbsp;<span class="op" id="8234845">:=</span>&nbsp;<span class="ident" id="8234848">ioutil</span><span class="op" id="8234854">.</span><span class="ident" id="8234855">ReadAll</span><span class="op" id="8234862">(</span><span class="ident" id="8234863">res</span><span class="op" id="8234866">.</span><span class="ident" id="8234867">Body</span><span class="op" id="8234871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234875">check</span><span class="op" id="8234880">(</span><span class="string" id="8234881">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="8234891">+</span><span class="ident" id="8234892">urlstr</span><span class="op" id="8234898">,</span>&nbsp;<span class="ident" id="8234900">err</span><span class="op" id="8234903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8234907">if</span>&nbsp;<span class="builtintype" id="8234910">string</span><span class="op" id="8234916">(</span><span class="ident" id="8234917">slurp</span><span class="op" id="8234922">)</span>&nbsp;<span class="op" id="8234924">!=</span>&nbsp;<span class="string" id="8234927">&#34;Bar&#34;</span>&nbsp;<span class="op" id="8234933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8234938">t</span><span class="op" id="8234939">.</span><span class="ident" id="8234940">Errorf</span><span class="op" id="8234946">(</span><span class="string" id="8234947">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8234980">,</span>&nbsp;<span class="ident" id="8234982">urlstr</span><span class="op" id="8234988">,</span>&nbsp;<span class="builtintype" id="8234990">string</span><span class="op" id="8234996">(</span><span class="ident" id="8234997">slurp</span><span class="op" id="8235002">)</span><span class="op" id="8235003">,</span>&nbsp;<span class="string" id="8235005">&#34;Bar&#34;</span><span class="op" id="8235010">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8235021">const</span>&nbsp;<span class="ident" id="8235027">badURL</span>&nbsp;<span class="op" id="8235034">=</span>&nbsp;<span class="string" id="8235036">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8235062">res</span><span class="op" id="8235065">,</span>&nbsp;<span class="ident" id="8235067">err</span>&nbsp;<span class="op" id="8235071">:=</span>&nbsp;<span class="ident" id="8235074">c</span><span class="op" id="8235075">.</span><span class="ident" id="8235076">Get</span><span class="op" id="8235079">(</span><span class="ident" id="8235080">badURL</span><span class="op" id="8235086">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8235089">check</span><span class="op" id="8235094">(</span><span class="string" id="8235095">&#34;Get&nbsp;&#34;</span><span class="op" id="8235101">+</span><span class="ident" id="8235102">badURL</span><span class="op" id="8235108">,</span>&nbsp;<span class="ident" id="8235110">err</span><span class="op" id="8235113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8235116">if</span>&nbsp;<span class="ident" id="8235119">res</span><span class="op" id="8235122">.</span><span class="ident" id="8235123">StatusCode</span>&nbsp;<span class="op" id="8235134">!=</span>&nbsp;<span class="num" id="8235137">404</span>&nbsp;<span class="op" id="8235141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8235145">t</span><span class="op" id="8235146">.</span><span class="ident" id="8235147">Errorf</span><span class="op" id="8235153">(</span><span class="string" id="8235154">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="8235189">,</span>&nbsp;<span class="ident" id="8235191">badURL</span><span class="op" id="8235197">,</span>&nbsp;<span class="ident" id="8235199">res</span><span class="op" id="8235202">.</span><span class="ident" id="8235203">StatusCode</span><span class="op" id="8235213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8235216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8235219">res</span><span class="op" id="8235222">.</span><span class="ident" id="8235223">Body</span><span class="op" id="8235227">.</span><span class="ident" id="8235228">Close</span><span class="op" id="8235233">(</span><span class="op" id="8235234">)</span><br>
<span class="lineno">65</span><span class="op" id="8235236">}</span>
</div>
</body>
</html>
