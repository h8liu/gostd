<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html" class="current">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3611719">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3611775">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3611829">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3611880">package</span>&nbsp;<span class="ident" id="3611888">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3611894">import</span>&nbsp;<span class="op" id="3611901">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3611904">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3611913">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3611931">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3611934">//&nbsp;The&nbsp;algorithm&nbsp;uses&nbsp;at&nbsp;most&nbsp;sniffLen&nbsp;bytes&nbsp;to&nbsp;make&nbsp;its&nbsp;decision.</span><br>
<span class="lineno"></span><span class="keyword" id="3612001">const</span>&nbsp;<span class="ident" id="3612007">sniffLen</span>&nbsp;<span class="op" id="3612016">=</span>&nbsp;<span class="num" id="3612018">512</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3612023">//&nbsp;DetectContentType&nbsp;implements&nbsp;the&nbsp;algorithm&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="3612079">//&nbsp;at&nbsp;http://mimesniff.spec.whatwg.org/&nbsp;to&nbsp;determine&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3612136">//&nbsp;Content-Type&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;&nbsp;It&nbsp;considers&nbsp;at&nbsp;most&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3612197">//&nbsp;first&nbsp;512&nbsp;bytes&nbsp;of&nbsp;data.&nbsp;&nbsp;DetectContentType&nbsp;always&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3612259">//&nbsp;a&nbsp;valid&nbsp;MIME&nbsp;type:&nbsp;if&nbsp;it&nbsp;cannot&nbsp;determine&nbsp;a&nbsp;more&nbsp;specific&nbsp;one,&nbsp;it</span><br>
<span class="lineno">20</span><span class="comment" id="3612328">//&nbsp;returns&nbsp;&#34;application/octet-stream&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3612367">func</span>&nbsp;<span class="ident" id="3612372">DetectContentType</span><span class="op" id="3612389">(</span><span class="ident" id="3612390">data</span>&nbsp;<span class="op" id="3612395">[</span><span class="op" id="3612396">]</span><span class="builtintype" id="3612397">byte</span><span class="op" id="3612401">)</span>&nbsp;<span class="builtintype" id="3612403">string</span>&nbsp;<span class="op" id="3612410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612413">if</span>&nbsp;<span class="builtinfunc" id="3612416">len</span><span class="op" id="3612419">(</span><span class="ident" id="3612420">data</span><span class="op" id="3612424">)</span>&nbsp;<span class="op" id="3612426">&gt;</span>&nbsp;<span class="ident" id="3612428">sniffLen</span>&nbsp;<span class="op" id="3612437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612441">data</span>&nbsp;<span class="op" id="3612446">=</span>&nbsp;<span class="ident" id="3612448">data</span><span class="op" id="3612452">[</span><span class="op" id="3612453">:</span><span class="ident" id="3612454">sniffLen</span><span class="op" id="3612462">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3612465">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3612469">//&nbsp;Index&nbsp;of&nbsp;the&nbsp;first&nbsp;non-whitespace&nbsp;byte&nbsp;in&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612521">firstNonWS</span>&nbsp;<span class="op" id="3612532">:=</span>&nbsp;<span class="num" id="3612535">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612538">for</span>&nbsp;<span class="op" id="3612542">;</span>&nbsp;<span class="ident" id="3612544">firstNonWS</span>&nbsp;<span class="op" id="3612555">&lt;</span>&nbsp;<span class="builtinfunc" id="3612557">len</span><span class="op" id="3612560">(</span><span class="ident" id="3612561">data</span><span class="op" id="3612565">)</span>&nbsp;<span class="op" id="3612567">&amp;&amp;</span>&nbsp;<span class="ident" id="3612570">isWS</span><span class="op" id="3612574">(</span><span class="ident" id="3612575">data</span><span class="op" id="3612579">[</span><span class="ident" id="3612580">firstNonWS</span><span class="op" id="3612590">]</span><span class="op" id="3612591">)</span><span class="op" id="3612592">;</span>&nbsp;<span class="ident" id="3612594">firstNonWS</span><span class="op" id="3612604">++</span>&nbsp;<span class="op" id="3612607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3612610">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612614">for</span>&nbsp;<span class="ident" id="3612618">_</span><span class="op" id="3612619">,</span>&nbsp;<span class="ident" id="3612621">sig</span>&nbsp;<span class="op" id="3612625">:=</span>&nbsp;<span class="keyword" id="3612628">range</span>&nbsp;<span class="ident" id="3612634">sniffSignatures</span>&nbsp;<span class="op" id="3612650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612654">if</span>&nbsp;<span class="ident" id="3612657">ct</span>&nbsp;<span class="op" id="3612660">:=</span>&nbsp;<span class="ident" id="3612663">sig</span><span class="op" id="3612666">.</span><span class="ident" id="3612667">match</span><span class="op" id="3612672">(</span><span class="ident" id="3612673">data</span><span class="op" id="3612677">,</span>&nbsp;<span class="ident" id="3612679">firstNonWS</span><span class="op" id="3612689">)</span><span class="op" id="3612690">;</span>&nbsp;<span class="ident" id="3612692">ct</span>&nbsp;<span class="op" id="3612695">!=</span>&nbsp;<span class="string" id="3612698">&#34;&#34;</span>&nbsp;<span class="op" id="3612701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612706">return</span>&nbsp;<span class="ident" id="3612713">ct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3612718">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3612721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612725">return</span>&nbsp;<span class="string" id="3612732">&#34;application/octet-stream&#34;</span>&nbsp;<span class="comment" id="3612759">//&nbsp;fallback</span><br>
<span class="lineno"></span><span class="op" id="3612771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3612774">func</span>&nbsp;<span class="ident" id="3612779">isWS</span><span class="op" id="3612783">(</span><span class="ident" id="3612784">b</span>&nbsp;<span class="builtintype" id="3612786">byte</span><span class="op" id="3612790">)</span>&nbsp;<span class="builtintype" id="3612792">bool</span>&nbsp;<span class="op" id="3612797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612800">return</span>&nbsp;<span class="ident" id="3612807">bytes</span><span class="op" id="3612812">.</span><span class="ident" id="3612813">IndexByte</span><span class="op" id="3612822">(</span><span class="op" id="3612823">[</span><span class="op" id="3612824">]</span><span class="builtintype" id="3612825">byte</span><span class="op" id="3612829">(</span><span class="string" id="3612830">&#34;\t\n\x0C\r&nbsp;&#34;</span><span class="op" id="3612843">)</span><span class="op" id="3612844">,</span>&nbsp;<span class="ident" id="3612846">b</span><span class="op" id="3612847">)</span>&nbsp;<span class="op" id="3612849">!=</span>&nbsp;<span class="op" id="3612852">-</span><span class="num" id="3612853">1</span><br>
<span class="lineno"></span><span class="op" id="3612855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3612858">type</span>&nbsp;<span class="ident" id="3612863">sniffSig</span>&nbsp;<span class="keyword" id="3612872">interface</span>&nbsp;<span class="op" id="3612882">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3612885">//&nbsp;match&nbsp;returns&nbsp;the&nbsp;MIME&nbsp;type&nbsp;of&nbsp;the&nbsp;data,&nbsp;or&nbsp;&#34;&#34;&nbsp;if&nbsp;unknown.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612948">match</span><span class="op" id="3612953">(</span><span class="ident" id="3612954">data</span>&nbsp;<span class="op" id="3612959">[</span><span class="op" id="3612960">]</span><span class="builtintype" id="3612961">byte</span><span class="op" id="3612965">,</span>&nbsp;<span class="ident" id="3612967">firstNonWS</span>&nbsp;<span class="builtintype" id="3612978">int</span><span class="op" id="3612981">)</span>&nbsp;<span class="builtintype" id="3612983">string</span><br>
<span class="lineno"></span><span class="op" id="3612990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3612993">//&nbsp;Data&nbsp;matching&nbsp;the&nbsp;table&nbsp;in&nbsp;section&nbsp;6.</span><br>
<span class="lineno">50</span><span class="keyword" id="3613034">var</span>&nbsp;<span class="ident" id="3613038">sniffSignatures</span>&nbsp;<span class="op" id="3613054">=</span>&nbsp;<span class="op" id="3613056">[</span><span class="op" id="3613057">]</span><span class="ident" id="3613058">sniffSig</span><span class="op" id="3613066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613069">htmlSig</span><span class="op" id="3613076">(</span><span class="string" id="3613077">&#34;&lt;!DOCTYPE&nbsp;HTML&#34;</span><span class="op" id="3613093">)</span><span class="op" id="3613094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613097">htmlSig</span><span class="op" id="3613104">(</span><span class="string" id="3613105">&#34;&lt;HTML&#34;</span><span class="op" id="3613112">)</span><span class="op" id="3613113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613116">htmlSig</span><span class="op" id="3613123">(</span><span class="string" id="3613124">&#34;&lt;HEAD&#34;</span><span class="op" id="3613131">)</span><span class="op" id="3613132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613135">htmlSig</span><span class="op" id="3613142">(</span><span class="string" id="3613143">&#34;&lt;SCRIPT&#34;</span><span class="op" id="3613152">)</span><span class="op" id="3613153">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613156">htmlSig</span><span class="op" id="3613163">(</span><span class="string" id="3613164">&#34;&lt;IFRAME&#34;</span><span class="op" id="3613173">)</span><span class="op" id="3613174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613177">htmlSig</span><span class="op" id="3613184">(</span><span class="string" id="3613185">&#34;&lt;H1&#34;</span><span class="op" id="3613190">)</span><span class="op" id="3613191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613194">htmlSig</span><span class="op" id="3613201">(</span><span class="string" id="3613202">&#34;&lt;DIV&#34;</span><span class="op" id="3613208">)</span><span class="op" id="3613209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613212">htmlSig</span><span class="op" id="3613219">(</span><span class="string" id="3613220">&#34;&lt;FONT&#34;</span><span class="op" id="3613227">)</span><span class="op" id="3613228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613231">htmlSig</span><span class="op" id="3613238">(</span><span class="string" id="3613239">&#34;&lt;TABLE&#34;</span><span class="op" id="3613247">)</span><span class="op" id="3613248">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613251">htmlSig</span><span class="op" id="3613258">(</span><span class="string" id="3613259">&#34;&lt;A&#34;</span><span class="op" id="3613263">)</span><span class="op" id="3613264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613267">htmlSig</span><span class="op" id="3613274">(</span><span class="string" id="3613275">&#34;&lt;STYLE&#34;</span><span class="op" id="3613283">)</span><span class="op" id="3613284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613287">htmlSig</span><span class="op" id="3613294">(</span><span class="string" id="3613295">&#34;&lt;TITLE&#34;</span><span class="op" id="3613303">)</span><span class="op" id="3613304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613307">htmlSig</span><span class="op" id="3613314">(</span><span class="string" id="3613315">&#34;&lt;B&#34;</span><span class="op" id="3613319">)</span><span class="op" id="3613320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613323">htmlSig</span><span class="op" id="3613330">(</span><span class="string" id="3613331">&#34;&lt;BODY&#34;</span><span class="op" id="3613338">)</span><span class="op" id="3613339">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613342">htmlSig</span><span class="op" id="3613349">(</span><span class="string" id="3613350">&#34;&lt;BR&#34;</span><span class="op" id="3613355">)</span><span class="op" id="3613356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613359">htmlSig</span><span class="op" id="3613366">(</span><span class="string" id="3613367">&#34;&lt;P&#34;</span><span class="op" id="3613371">)</span><span class="op" id="3613372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613375">htmlSig</span><span class="op" id="3613382">(</span><span class="string" id="3613383">&#34;&lt;!--&#34;</span><span class="op" id="3613389">)</span><span class="op" id="3613390">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613394">&amp;</span><span class="ident" id="3613395">maskedSig</span><span class="op" id="3613404">{</span><span class="ident" id="3613405">mask</span><span class="op" id="3613409">:</span>&nbsp;<span class="op" id="3613411">[</span><span class="op" id="3613412">]</span><span class="builtintype" id="3613413">byte</span><span class="op" id="3613417">(</span><span class="string" id="3613418">&#34;\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3613440">)</span><span class="op" id="3613441">,</span>&nbsp;<span class="ident" id="3613443">pat</span><span class="op" id="3613446">:</span>&nbsp;<span class="op" id="3613448">[</span><span class="op" id="3613449">]</span><span class="builtintype" id="3613450">byte</span><span class="op" id="3613454">(</span><span class="string" id="3613455">&#34;&lt;?xml&#34;</span><span class="op" id="3613462">)</span><span class="op" id="3613463">,</span>&nbsp;<span class="ident" id="3613465">skipWS</span><span class="op" id="3613471">:</span>&nbsp;<span class="builtintype" id="3613473">true</span><span class="op" id="3613477">,</span>&nbsp;<span class="ident" id="3613479">ct</span><span class="op" id="3613481">:</span>&nbsp;<span class="string" id="3613483">&#34;text/xml;&nbsp;charset=utf-8&#34;</span><span class="op" id="3613508">}</span><span class="op" id="3613509">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613513">&amp;</span><span class="ident" id="3613514">exactSig</span><span class="op" id="3613522">{</span><span class="op" id="3613523">[</span><span class="op" id="3613524">]</span><span class="builtintype" id="3613525">byte</span><span class="op" id="3613529">(</span><span class="string" id="3613530">&#34;%PDF-&#34;</span><span class="op" id="3613537">)</span><span class="op" id="3613538">,</span>&nbsp;<span class="string" id="3613540">&#34;application/pdf&#34;</span><span class="op" id="3613557">}</span><span class="op" id="3613558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613561">&amp;</span><span class="ident" id="3613562">exactSig</span><span class="op" id="3613570">{</span><span class="op" id="3613571">[</span><span class="op" id="3613572">]</span><span class="builtintype" id="3613573">byte</span><span class="op" id="3613577">(</span><span class="string" id="3613578">&#34;%!PS-Adobe-&#34;</span><span class="op" id="3613591">)</span><span class="op" id="3613592">,</span>&nbsp;<span class="string" id="3613594">&#34;application/postscript&#34;</span><span class="op" id="3613618">}</span><span class="op" id="3613619">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3613623">//&nbsp;UTF&nbsp;BOMs.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613637">&amp;</span><span class="ident" id="3613638">maskedSig</span><span class="op" id="3613647">{</span><span class="ident" id="3613648">mask</span><span class="op" id="3613652">:</span>&nbsp;<span class="op" id="3613654">[</span><span class="op" id="3613655">]</span><span class="builtintype" id="3613656">byte</span><span class="op" id="3613660">(</span><span class="string" id="3613661">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3613679">)</span><span class="op" id="3613680">,</span>&nbsp;<span class="ident" id="3613682">pat</span><span class="op" id="3613685">:</span>&nbsp;<span class="op" id="3613687">[</span><span class="op" id="3613688">]</span><span class="builtintype" id="3613689">byte</span><span class="op" id="3613693">(</span><span class="string" id="3613694">&#34;\xFE\xFF\x00\x00&#34;</span><span class="op" id="3613712">)</span><span class="op" id="3613713">,</span>&nbsp;<span class="ident" id="3613715">ct</span><span class="op" id="3613717">:</span>&nbsp;<span class="string" id="3613719">&#34;text/plain;&nbsp;charset=utf-16be&#34;</span><span class="op" id="3613749">}</span><span class="op" id="3613750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613753">&amp;</span><span class="ident" id="3613754">maskedSig</span><span class="op" id="3613763">{</span><span class="ident" id="3613764">mask</span><span class="op" id="3613768">:</span>&nbsp;<span class="op" id="3613770">[</span><span class="op" id="3613771">]</span><span class="builtintype" id="3613772">byte</span><span class="op" id="3613776">(</span><span class="string" id="3613777">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3613795">)</span><span class="op" id="3613796">,</span>&nbsp;<span class="ident" id="3613798">pat</span><span class="op" id="3613801">:</span>&nbsp;<span class="op" id="3613803">[</span><span class="op" id="3613804">]</span><span class="builtintype" id="3613805">byte</span><span class="op" id="3613809">(</span><span class="string" id="3613810">&#34;\xFF\xFE\x00\x00&#34;</span><span class="op" id="3613828">)</span><span class="op" id="3613829">,</span>&nbsp;<span class="ident" id="3613831">ct</span><span class="op" id="3613833">:</span>&nbsp;<span class="string" id="3613835">&#34;text/plain;&nbsp;charset=utf-16le&#34;</span><span class="op" id="3613865">}</span><span class="op" id="3613866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613869">&amp;</span><span class="ident" id="3613870">maskedSig</span><span class="op" id="3613879">{</span><span class="ident" id="3613880">mask</span><span class="op" id="3613884">:</span>&nbsp;<span class="op" id="3613886">[</span><span class="op" id="3613887">]</span><span class="builtintype" id="3613888">byte</span><span class="op" id="3613892">(</span><span class="string" id="3613893">&#34;\xFF\xFF\xFF\x00&#34;</span><span class="op" id="3613911">)</span><span class="op" id="3613912">,</span>&nbsp;<span class="ident" id="3613914">pat</span><span class="op" id="3613917">:</span>&nbsp;<span class="op" id="3613919">[</span><span class="op" id="3613920">]</span><span class="builtintype" id="3613921">byte</span><span class="op" id="3613925">(</span><span class="string" id="3613926">&#34;\xEF\xBB\xBF\x00&#34;</span><span class="op" id="3613944">)</span><span class="op" id="3613945">,</span>&nbsp;<span class="ident" id="3613947">ct</span><span class="op" id="3613949">:</span>&nbsp;<span class="string" id="3613951">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="3613978">}</span><span class="op" id="3613979">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613983">&amp;</span><span class="ident" id="3613984">exactSig</span><span class="op" id="3613992">{</span><span class="op" id="3613993">[</span><span class="op" id="3613994">]</span><span class="builtintype" id="3613995">byte</span><span class="op" id="3613999">(</span><span class="string" id="3614000">&#34;GIF87a&#34;</span><span class="op" id="3614008">)</span><span class="op" id="3614009">,</span>&nbsp;<span class="string" id="3614011">&#34;image/gif&#34;</span><span class="op" id="3614022">}</span><span class="op" id="3614023">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614026">&amp;</span><span class="ident" id="3614027">exactSig</span><span class="op" id="3614035">{</span><span class="op" id="3614036">[</span><span class="op" id="3614037">]</span><span class="builtintype" id="3614038">byte</span><span class="op" id="3614042">(</span><span class="string" id="3614043">&#34;GIF89a&#34;</span><span class="op" id="3614051">)</span><span class="op" id="3614052">,</span>&nbsp;<span class="string" id="3614054">&#34;image/gif&#34;</span><span class="op" id="3614065">}</span><span class="op" id="3614066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614069">&amp;</span><span class="ident" id="3614070">exactSig</span><span class="op" id="3614078">{</span><span class="op" id="3614079">[</span><span class="op" id="3614080">]</span><span class="builtintype" id="3614081">byte</span><span class="op" id="3614085">(</span><span class="string" id="3614086">&#34;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&#34;</span><span class="op" id="3614120">)</span><span class="op" id="3614121">,</span>&nbsp;<span class="string" id="3614123">&#34;image/png&#34;</span><span class="op" id="3614134">}</span><span class="op" id="3614135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614138">&amp;</span><span class="ident" id="3614139">exactSig</span><span class="op" id="3614147">{</span><span class="op" id="3614148">[</span><span class="op" id="3614149">]</span><span class="builtintype" id="3614150">byte</span><span class="op" id="3614154">(</span><span class="string" id="3614155">&#34;\xFF\xD8\xFF&#34;</span><span class="op" id="3614169">)</span><span class="op" id="3614170">,</span>&nbsp;<span class="string" id="3614172">&#34;image/jpeg&#34;</span><span class="op" id="3614184">}</span><span class="op" id="3614185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614188">&amp;</span><span class="ident" id="3614189">exactSig</span><span class="op" id="3614197">{</span><span class="op" id="3614198">[</span><span class="op" id="3614199">]</span><span class="builtintype" id="3614200">byte</span><span class="op" id="3614204">(</span><span class="string" id="3614205">&#34;BM&#34;</span><span class="op" id="3614209">)</span><span class="op" id="3614210">,</span>&nbsp;<span class="string" id="3614212">&#34;image/bmp&#34;</span><span class="op" id="3614223">}</span><span class="op" id="3614224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614227">&amp;</span><span class="ident" id="3614228">maskedSig</span><span class="op" id="3614237">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614241">mask</span><span class="op" id="3614245">:</span>&nbsp;<span class="op" id="3614247">[</span><span class="op" id="3614248">]</span><span class="builtintype" id="3614249">byte</span><span class="op" id="3614253">(</span><span class="string" id="3614254">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3614312">)</span><span class="op" id="3614313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614317">pat</span><span class="op" id="3614320">:</span>&nbsp;&nbsp;<span class="op" id="3614323">[</span><span class="op" id="3614324">]</span><span class="builtintype" id="3614325">byte</span><span class="op" id="3614329">(</span><span class="string" id="3614330">&#34;RIFF\x00\x00\x00\x00WEBPVP&#34;</span><span class="op" id="3614358">)</span><span class="op" id="3614359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614363">ct</span><span class="op" id="3614365">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3614369">&#34;image/webp&#34;</span><span class="op" id="3614381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614384">}</span><span class="op" id="3614385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614388">&amp;</span><span class="ident" id="3614389">exactSig</span><span class="op" id="3614397">{</span><span class="op" id="3614398">[</span><span class="op" id="3614399">]</span><span class="builtintype" id="3614400">byte</span><span class="op" id="3614404">(</span><span class="string" id="3614405">&#34;\x00\x00\x01\x00&#34;</span><span class="op" id="3614423">)</span><span class="op" id="3614424">,</span>&nbsp;<span class="string" id="3614426">&#34;image/vnd.microsoft.icon&#34;</span><span class="op" id="3614452">}</span><span class="op" id="3614453">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614456">&amp;</span><span class="ident" id="3614457">exactSig</span><span class="op" id="3614465">{</span><span class="op" id="3614466">[</span><span class="op" id="3614467">]</span><span class="builtintype" id="3614468">byte</span><span class="op" id="3614472">(</span><span class="string" id="3614473">&#34;\x4F\x67\x67\x53\x00&#34;</span><span class="op" id="3614495">)</span><span class="op" id="3614496">,</span>&nbsp;<span class="string" id="3614498">&#34;application/ogg&#34;</span><span class="op" id="3614515">}</span><span class="op" id="3614516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614519">&amp;</span><span class="ident" id="3614520">maskedSig</span><span class="op" id="3614529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614533">mask</span><span class="op" id="3614537">:</span>&nbsp;<span class="op" id="3614539">[</span><span class="op" id="3614540">]</span><span class="builtintype" id="3614541">byte</span><span class="op" id="3614545">(</span><span class="string" id="3614546">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3614596">)</span><span class="op" id="3614597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614601">pat</span><span class="op" id="3614604">:</span>&nbsp;&nbsp;<span class="op" id="3614607">[</span><span class="op" id="3614608">]</span><span class="builtintype" id="3614609">byte</span><span class="op" id="3614613">(</span><span class="string" id="3614614">&#34;RIFF\x00\x00\x00\x00WAVE&#34;</span><span class="op" id="3614640">)</span><span class="op" id="3614641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614645">ct</span><span class="op" id="3614647">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3614651">&#34;audio/wave&#34;</span><span class="op" id="3614663">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614666">}</span><span class="op" id="3614667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614670">&amp;</span><span class="ident" id="3614671">exactSig</span><span class="op" id="3614679">{</span><span class="op" id="3614680">[</span><span class="op" id="3614681">]</span><span class="builtintype" id="3614682">byte</span><span class="op" id="3614686">(</span><span class="string" id="3614687">&#34;\x1A\x45\xDF\xA3&#34;</span><span class="op" id="3614705">)</span><span class="op" id="3614706">,</span>&nbsp;<span class="string" id="3614708">&#34;video/webm&#34;</span><span class="op" id="3614720">}</span><span class="op" id="3614721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614724">&amp;</span><span class="ident" id="3614725">exactSig</span><span class="op" id="3614733">{</span><span class="op" id="3614734">[</span><span class="op" id="3614735">]</span><span class="builtintype" id="3614736">byte</span><span class="op" id="3614740">(</span><span class="string" id="3614741">&#34;\x52\x61\x72\x20\x1A\x07\x00&#34;</span><span class="op" id="3614771">)</span><span class="op" id="3614772">,</span>&nbsp;<span class="string" id="3614774">&#34;application/x-rar-compressed&#34;</span><span class="op" id="3614804">}</span><span class="op" id="3614805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614808">&amp;</span><span class="ident" id="3614809">exactSig</span><span class="op" id="3614817">{</span><span class="op" id="3614818">[</span><span class="op" id="3614819">]</span><span class="builtintype" id="3614820">byte</span><span class="op" id="3614824">(</span><span class="string" id="3614825">&#34;\x50\x4B\x03\x04&#34;</span><span class="op" id="3614843">)</span><span class="op" id="3614844">,</span>&nbsp;<span class="string" id="3614846">&#34;application/zip&#34;</span><span class="op" id="3614863">}</span><span class="op" id="3614864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614867">&amp;</span><span class="ident" id="3614868">exactSig</span><span class="op" id="3614876">{</span><span class="op" id="3614877">[</span><span class="op" id="3614878">]</span><span class="builtintype" id="3614879">byte</span><span class="op" id="3614883">(</span><span class="string" id="3614884">&#34;\x1F\x8B\x08&#34;</span><span class="op" id="3614898">)</span><span class="op" id="3614899">,</span>&nbsp;<span class="string" id="3614901">&#34;application/x-gzip&#34;</span><span class="op" id="3614921">}</span><span class="op" id="3614922">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3614926">//&nbsp;TODO(dsymonds):&nbsp;Re-enable&nbsp;this&nbsp;when&nbsp;the&nbsp;spec&nbsp;is&nbsp;sorted&nbsp;w.r.t.&nbsp;MP4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3614997">//mp4Sig(0),</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615012">textSig</span><span class="op" id="3615019">(</span><span class="num" id="3615020">0</span><span class="op" id="3615021">)</span><span class="op" id="3615022">,</span>&nbsp;<span class="comment" id="3615024">//&nbsp;should&nbsp;be&nbsp;last</span><br>
<span class="lineno">105</span><span class="op" id="3615042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3615045">type</span>&nbsp;<span class="ident" id="3615050">exactSig</span>&nbsp;<span class="keyword" id="3615059">struct</span>&nbsp;<span class="op" id="3615066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615069">sig</span>&nbsp;<span class="op" id="3615073">[</span><span class="op" id="3615074">]</span><span class="builtintype" id="3615075">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615081">ct</span>&nbsp;&nbsp;<span class="builtintype" id="3615085">string</span><br>
<span class="lineno">110</span><span class="op" id="3615092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3615095">func</span>&nbsp;<span class="op" id="3615100">(</span><span class="ident" id="3615101">e</span>&nbsp;<span class="op" id="3615103">*</span><span class="ident" id="3615104">exactSig</span><span class="op" id="3615112">)</span>&nbsp;<span class="ident" id="3615114">match</span><span class="op" id="3615119">(</span><span class="ident" id="3615120">data</span>&nbsp;<span class="op" id="3615125">[</span><span class="op" id="3615126">]</span><span class="builtintype" id="3615127">byte</span><span class="op" id="3615131">,</span>&nbsp;<span class="ident" id="3615133">firstNonWS</span>&nbsp;<span class="builtintype" id="3615144">int</span><span class="op" id="3615147">)</span>&nbsp;<span class="builtintype" id="3615149">string</span>&nbsp;<span class="op" id="3615156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615159">if</span>&nbsp;<span class="ident" id="3615162">bytes</span><span class="op" id="3615167">.</span><span class="ident" id="3615168">HasPrefix</span><span class="op" id="3615177">(</span><span class="ident" id="3615178">data</span><span class="op" id="3615182">,</span>&nbsp;<span class="ident" id="3615184">e</span><span class="op" id="3615185">.</span><span class="ident" id="3615186">sig</span><span class="op" id="3615189">)</span>&nbsp;<span class="op" id="3615191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615195">return</span>&nbsp;<span class="ident" id="3615202">e</span><span class="op" id="3615203">.</span><span class="ident" id="3615204">ct</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615211">return</span>&nbsp;<span class="string" id="3615218">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3615221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3615224">type</span>&nbsp;<span class="ident" id="3615229">maskedSig</span>&nbsp;<span class="keyword" id="3615239">struct</span>&nbsp;<span class="op" id="3615246">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615249">mask</span><span class="op" id="3615253">,</span>&nbsp;<span class="ident" id="3615255">pat</span>&nbsp;<span class="op" id="3615259">[</span><span class="op" id="3615260">]</span><span class="builtintype" id="3615261">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615267">skipWS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3615277">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615283">ct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3615293">string</span><br>
<span class="lineno"></span><span class="op" id="3615300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="3615303">func</span>&nbsp;<span class="op" id="3615308">(</span><span class="ident" id="3615309">m</span>&nbsp;<span class="op" id="3615311">*</span><span class="ident" id="3615312">maskedSig</span><span class="op" id="3615321">)</span>&nbsp;<span class="ident" id="3615323">match</span><span class="op" id="3615328">(</span><span class="ident" id="3615329">data</span>&nbsp;<span class="op" id="3615334">[</span><span class="op" id="3615335">]</span><span class="builtintype" id="3615336">byte</span><span class="op" id="3615340">,</span>&nbsp;<span class="ident" id="3615342">firstNonWS</span>&nbsp;<span class="builtintype" id="3615353">int</span><span class="op" id="3615356">)</span>&nbsp;<span class="builtintype" id="3615358">string</span>&nbsp;<span class="op" id="3615365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615368">if</span>&nbsp;<span class="ident" id="3615371">m</span><span class="op" id="3615372">.</span><span class="ident" id="3615373">skipWS</span>&nbsp;<span class="op" id="3615380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615384">data</span>&nbsp;<span class="op" id="3615389">=</span>&nbsp;<span class="ident" id="3615391">data</span><span class="op" id="3615395">[</span><span class="ident" id="3615396">firstNonWS</span><span class="op" id="3615406">:</span><span class="op" id="3615407">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615413">if</span>&nbsp;<span class="builtinfunc" id="3615416">len</span><span class="op" id="3615419">(</span><span class="ident" id="3615420">data</span><span class="op" id="3615424">)</span>&nbsp;<span class="op" id="3615426">&lt;</span>&nbsp;<span class="builtinfunc" id="3615428">len</span><span class="op" id="3615431">(</span><span class="ident" id="3615432">m</span><span class="op" id="3615433">.</span><span class="ident" id="3615434">mask</span><span class="op" id="3615438">)</span>&nbsp;<span class="op" id="3615440">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615444">return</span>&nbsp;<span class="string" id="3615451">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615458">for</span>&nbsp;<span class="ident" id="3615462">i</span><span class="op" id="3615463">,</span>&nbsp;<span class="ident" id="3615465">mask</span>&nbsp;<span class="op" id="3615470">:=</span>&nbsp;<span class="keyword" id="3615473">range</span>&nbsp;<span class="ident" id="3615479">m</span><span class="op" id="3615480">.</span><span class="ident" id="3615481">mask</span>&nbsp;<span class="op" id="3615486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615490">db</span>&nbsp;<span class="op" id="3615493">:=</span>&nbsp;<span class="ident" id="3615496">data</span><span class="op" id="3615500">[</span><span class="ident" id="3615501">i</span><span class="op" id="3615502">]</span>&nbsp;<span class="op" id="3615504">&amp;</span>&nbsp;<span class="ident" id="3615506">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615513">if</span>&nbsp;<span class="ident" id="3615516">db</span>&nbsp;<span class="op" id="3615519">!=</span>&nbsp;<span class="ident" id="3615522">m</span><span class="op" id="3615523">.</span><span class="ident" id="3615524">pat</span><span class="op" id="3615527">[</span><span class="ident" id="3615528">i</span><span class="op" id="3615529">]</span>&nbsp;<span class="op" id="3615531">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615536">return</span>&nbsp;<span class="string" id="3615543">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615554">return</span>&nbsp;<span class="ident" id="3615561">m</span><span class="op" id="3615562">.</span><span class="ident" id="3615563">ct</span><br>
<span class="lineno"></span><span class="op" id="3615566">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="3615569">type</span>&nbsp;<span class="ident" id="3615574">htmlSig</span>&nbsp;<span class="op" id="3615582">[</span><span class="op" id="3615583">]</span><span class="builtintype" id="3615584">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3615590">func</span>&nbsp;<span class="op" id="3615595">(</span><span class="ident" id="3615596">h</span>&nbsp;<span class="ident" id="3615598">htmlSig</span><span class="op" id="3615605">)</span>&nbsp;<span class="ident" id="3615607">match</span><span class="op" id="3615612">(</span><span class="ident" id="3615613">data</span>&nbsp;<span class="op" id="3615618">[</span><span class="op" id="3615619">]</span><span class="builtintype" id="3615620">byte</span><span class="op" id="3615624">,</span>&nbsp;<span class="ident" id="3615626">firstNonWS</span>&nbsp;<span class="builtintype" id="3615637">int</span><span class="op" id="3615640">)</span>&nbsp;<span class="builtintype" id="3615642">string</span>&nbsp;<span class="op" id="3615649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615652">data</span>&nbsp;<span class="op" id="3615657">=</span>&nbsp;<span class="ident" id="3615659">data</span><span class="op" id="3615663">[</span><span class="ident" id="3615664">firstNonWS</span><span class="op" id="3615674">:</span><span class="op" id="3615675">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615678">if</span>&nbsp;<span class="builtinfunc" id="3615681">len</span><span class="op" id="3615684">(</span><span class="ident" id="3615685">data</span><span class="op" id="3615689">)</span>&nbsp;<span class="op" id="3615691">&lt;</span>&nbsp;<span class="builtinfunc" id="3615693">len</span><span class="op" id="3615696">(</span><span class="ident" id="3615697">h</span><span class="op" id="3615698">)</span><span class="op" id="3615699">+</span><span class="num" id="3615700">1</span>&nbsp;<span class="op" id="3615702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615706">return</span>&nbsp;<span class="string" id="3615713">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615720">for</span>&nbsp;<span class="ident" id="3615724">i</span><span class="op" id="3615725">,</span>&nbsp;<span class="ident" id="3615727">b</span>&nbsp;<span class="op" id="3615729">:=</span>&nbsp;<span class="keyword" id="3615732">range</span>&nbsp;<span class="ident" id="3615738">h</span>&nbsp;<span class="op" id="3615740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615744">db</span>&nbsp;<span class="op" id="3615747">:=</span>&nbsp;<span class="ident" id="3615750">data</span><span class="op" id="3615754">[</span><span class="ident" id="3615755">i</span><span class="op" id="3615756">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615760">if</span>&nbsp;<span class="string" id="3615763">&#39;A&#39;</span>&nbsp;<span class="op" id="3615767">&lt;=</span>&nbsp;<span class="ident" id="3615770">b</span>&nbsp;<span class="op" id="3615772">&amp;&amp;</span>&nbsp;<span class="ident" id="3615775">b</span>&nbsp;<span class="op" id="3615777">&lt;=</span>&nbsp;<span class="string" id="3615780">&#39;Z&#39;</span>&nbsp;<span class="op" id="3615784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615789">db</span>&nbsp;<span class="op" id="3615792">&amp;=</span>&nbsp;<span class="num" id="3615795">0xDF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615806">if</span>&nbsp;<span class="ident" id="3615809">b</span>&nbsp;<span class="op" id="3615811">!=</span>&nbsp;<span class="ident" id="3615814">db</span>&nbsp;<span class="op" id="3615817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615822">return</span>&nbsp;<span class="string" id="3615829">&#34;&#34;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3615840">//&nbsp;Next&nbsp;byte&nbsp;must&nbsp;be&nbsp;space&nbsp;or&nbsp;right&nbsp;angle&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615892">if</span>&nbsp;<span class="ident" id="3615895">db</span>&nbsp;<span class="op" id="3615898">:=</span>&nbsp;<span class="ident" id="3615901">data</span><span class="op" id="3615905">[</span><span class="builtinfunc" id="3615906">len</span><span class="op" id="3615909">(</span><span class="ident" id="3615910">h</span><span class="op" id="3615911">)</span><span class="op" id="3615912">]</span><span class="op" id="3615913">;</span>&nbsp;<span class="ident" id="3615915">db</span>&nbsp;<span class="op" id="3615918">!=</span>&nbsp;<span class="string" id="3615921">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3615925">&amp;&amp;</span>&nbsp;<span class="ident" id="3615928">db</span>&nbsp;<span class="op" id="3615931">!=</span>&nbsp;<span class="string" id="3615934">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="3615938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615942">return</span>&nbsp;<span class="string" id="3615949">&#34;&#34;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615956">return</span>&nbsp;<span class="string" id="3615963">&#34;text/html;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3615990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3615993">type</span>&nbsp;<span class="ident" id="3615998">mp4Sig</span>&nbsp;<span class="builtintype" id="3616005">int</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="3616010">func</span>&nbsp;<span class="op" id="3616015">(</span><span class="ident" id="3616016">mp4Sig</span><span class="op" id="3616022">)</span>&nbsp;<span class="ident" id="3616024">match</span><span class="op" id="3616029">(</span><span class="ident" id="3616030">data</span>&nbsp;<span class="op" id="3616035">[</span><span class="op" id="3616036">]</span><span class="builtintype" id="3616037">byte</span><span class="op" id="3616041">,</span>&nbsp;<span class="ident" id="3616043">firstNonWS</span>&nbsp;<span class="builtintype" id="3616054">int</span><span class="op" id="3616057">)</span>&nbsp;<span class="builtintype" id="3616059">string</span>&nbsp;<span class="op" id="3616066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616069">//&nbsp;c.f.&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616091">if</span>&nbsp;<span class="builtinfunc" id="3616094">len</span><span class="op" id="3616097">(</span><span class="ident" id="3616098">data</span><span class="op" id="3616102">)</span>&nbsp;<span class="op" id="3616104">&lt;</span>&nbsp;<span class="num" id="3616106">8</span>&nbsp;<span class="op" id="3616108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616112">return</span>&nbsp;<span class="string" id="3616119">&#34;&#34;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616126">boxSize</span>&nbsp;<span class="op" id="3616134">:=</span>&nbsp;<span class="builtintype" id="3616137">int</span><span class="op" id="3616140">(</span><span class="ident" id="3616141">binary</span><span class="op" id="3616147">.</span><span class="ident" id="3616148">BigEndian</span><span class="op" id="3616157">.</span><span class="ident" id="3616158">Uint32</span><span class="op" id="3616164">(</span><span class="ident" id="3616165">data</span><span class="op" id="3616169">[</span><span class="op" id="3616170">:</span><span class="num" id="3616171">4</span><span class="op" id="3616172">]</span><span class="op" id="3616173">)</span><span class="op" id="3616174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616177">if</span>&nbsp;<span class="ident" id="3616180">boxSize</span><span class="op" id="3616187">%</span><span class="num" id="3616188">4</span>&nbsp;<span class="op" id="3616190">!=</span>&nbsp;<span class="num" id="3616193">0</span>&nbsp;<span class="op" id="3616195">||</span>&nbsp;<span class="builtinfunc" id="3616198">len</span><span class="op" id="3616201">(</span><span class="ident" id="3616202">data</span><span class="op" id="3616206">)</span>&nbsp;<span class="op" id="3616208">&lt;</span>&nbsp;<span class="ident" id="3616210">boxSize</span>&nbsp;<span class="op" id="3616218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616222">return</span>&nbsp;<span class="string" id="3616229">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616233">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616236">if</span>&nbsp;<span class="op" id="3616239">!</span><span class="ident" id="3616240">bytes</span><span class="op" id="3616245">.</span><span class="ident" id="3616246">Equal</span><span class="op" id="3616251">(</span><span class="ident" id="3616252">data</span><span class="op" id="3616256">[</span><span class="num" id="3616257">4</span><span class="op" id="3616258">:</span><span class="num" id="3616259">8</span><span class="op" id="3616260">]</span><span class="op" id="3616261">,</span>&nbsp;<span class="op" id="3616263">[</span><span class="op" id="3616264">]</span><span class="builtintype" id="3616265">byte</span><span class="op" id="3616269">(</span><span class="string" id="3616270">&#34;ftyp&#34;</span><span class="op" id="3616276">)</span><span class="op" id="3616277">)</span>&nbsp;<span class="op" id="3616279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616283">return</span>&nbsp;<span class="string" id="3616290">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616297">for</span>&nbsp;<span class="ident" id="3616301">st</span>&nbsp;<span class="op" id="3616304">:=</span>&nbsp;<span class="num" id="3616307">8</span><span class="op" id="3616308">;</span>&nbsp;<span class="ident" id="3616310">st</span>&nbsp;<span class="op" id="3616313">&lt;</span>&nbsp;<span class="ident" id="3616315">boxSize</span><span class="op" id="3616322">;</span>&nbsp;<span class="ident" id="3616324">st</span>&nbsp;<span class="op" id="3616327">+=</span>&nbsp;<span class="num" id="3616330">4</span>&nbsp;<span class="op" id="3616332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616336">if</span>&nbsp;<span class="ident" id="3616339">st</span>&nbsp;<span class="op" id="3616342">==</span>&nbsp;<span class="num" id="3616345">12</span>&nbsp;<span class="op" id="3616348">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616353">//&nbsp;minor&nbsp;version&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616380">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616395">seg</span>&nbsp;<span class="op" id="3616399">:=</span>&nbsp;<span class="builtintype" id="3616402">string</span><span class="op" id="3616408">(</span><span class="ident" id="3616409">data</span><span class="op" id="3616413">[</span><span class="ident" id="3616414">st</span>&nbsp;<span class="op" id="3616417">:</span>&nbsp;<span class="ident" id="3616419">st</span><span class="op" id="3616421">+</span><span class="num" id="3616422">3</span><span class="op" id="3616423">]</span><span class="op" id="3616424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616428">switch</span>&nbsp;<span class="ident" id="3616435">seg</span>&nbsp;<span class="op" id="3616439">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616443">case</span>&nbsp;<span class="string" id="3616448">&#34;mp4&#34;</span><span class="op" id="3616453">,</span>&nbsp;<span class="string" id="3616455">&#34;iso&#34;</span><span class="op" id="3616460">,</span>&nbsp;<span class="string" id="3616462">&#34;M4V&#34;</span><span class="op" id="3616467">,</span>&nbsp;<span class="string" id="3616469">&#34;M4P&#34;</span><span class="op" id="3616474">,</span>&nbsp;<span class="string" id="3616476">&#34;M4B&#34;</span><span class="op" id="3616481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616486">return</span>&nbsp;<span class="string" id="3616493">&#34;video/mp4&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616508">/*&nbsp;The&nbsp;remainder&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;spec.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;M4A&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;audio/mp4&#34;<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;3gp&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;video/3gpp&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#34;jp2&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;image/jp2&#34;&nbsp;//&nbsp;JPEG&nbsp;2000<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616688">return</span>&nbsp;<span class="string" id="3616695">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3616698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="3616701">type</span>&nbsp;<span class="ident" id="3616706">textSig</span>&nbsp;<span class="builtintype" id="3616714">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3616719">func</span>&nbsp;<span class="op" id="3616724">(</span><span class="ident" id="3616725">textSig</span><span class="op" id="3616732">)</span>&nbsp;<span class="ident" id="3616734">match</span><span class="op" id="3616739">(</span><span class="ident" id="3616740">data</span>&nbsp;<span class="op" id="3616745">[</span><span class="op" id="3616746">]</span><span class="builtintype" id="3616747">byte</span><span class="op" id="3616751">,</span>&nbsp;<span class="ident" id="3616753">firstNonWS</span>&nbsp;<span class="builtintype" id="3616764">int</span><span class="op" id="3616767">)</span>&nbsp;<span class="builtintype" id="3616769">string</span>&nbsp;<span class="op" id="3616776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616779">//&nbsp;c.f.&nbsp;section&nbsp;5,&nbsp;step&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616807">for</span>&nbsp;<span class="ident" id="3616811">_</span><span class="op" id="3616812">,</span>&nbsp;<span class="ident" id="3616814">b</span>&nbsp;<span class="op" id="3616816">:=</span>&nbsp;<span class="keyword" id="3616819">range</span>&nbsp;<span class="ident" id="3616825">data</span><span class="op" id="3616829">[</span><span class="ident" id="3616830">firstNonWS</span><span class="op" id="3616840">:</span><span class="op" id="3616841">]</span>&nbsp;<span class="op" id="3616843">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616847">switch</span>&nbsp;<span class="op" id="3616854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616858">case</span>&nbsp;<span class="num" id="3616863">0x00</span>&nbsp;<span class="op" id="3616868">&lt;=</span>&nbsp;<span class="ident" id="3616871">b</span>&nbsp;<span class="op" id="3616873">&amp;&amp;</span>&nbsp;<span class="ident" id="3616876">b</span>&nbsp;<span class="op" id="3616878">&lt;=</span>&nbsp;<span class="num" id="3616881">0x08</span><span class="op" id="3616885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616890">b</span>&nbsp;<span class="op" id="3616892">==</span>&nbsp;<span class="num" id="3616895">0x0B</span><span class="op" id="3616899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="3616904">0x0E</span>&nbsp;<span class="op" id="3616909">&lt;=</span>&nbsp;<span class="ident" id="3616912">b</span>&nbsp;<span class="op" id="3616914">&amp;&amp;</span>&nbsp;<span class="ident" id="3616917">b</span>&nbsp;<span class="op" id="3616919">&lt;=</span>&nbsp;<span class="num" id="3616922">0x1A</span><span class="op" id="3616926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="3616931">0x1C</span>&nbsp;<span class="op" id="3616936">&lt;=</span>&nbsp;<span class="ident" id="3616939">b</span>&nbsp;<span class="op" id="3616941">&amp;&amp;</span>&nbsp;<span class="ident" id="3616944">b</span>&nbsp;<span class="op" id="3616946">&lt;=</span>&nbsp;<span class="num" id="3616949">0x1F</span><span class="op" id="3616953">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616958">return</span>&nbsp;<span class="string" id="3616965">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616976">return</span>&nbsp;<span class="string" id="3616983">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3617011">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
