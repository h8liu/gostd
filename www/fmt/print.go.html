<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1899643">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1899698">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1899752">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1899803">package</span>&nbsp;<span class="ident" id="1899811">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1899816">import</span>&nbsp;<span class="op" id="1899823">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1899826">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1899836">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1899842">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1899848">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1899859">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1899867">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="1899882">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1899885">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="1899951">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="1899988">var</span>&nbsp;<span class="op" id="1899992">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1899995">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="1900012">=</span>&nbsp;<span class="op" id="1900014">[</span><span class="op" id="1900015">]</span><span class="builtintype" id="1900016">byte</span><span class="op" id="1900020">(</span><span class="string" id="1900021">&#34;,&nbsp;&#34;</span><span class="op" id="1900025">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900028">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900045">=</span>&nbsp;<span class="op" id="1900047">[</span><span class="op" id="1900048">]</span><span class="builtintype" id="1900049">byte</span><span class="op" id="1900053">(</span><span class="string" id="1900054">&#34;&lt;nil&gt;&#34;</span><span class="op" id="1900061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900064">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900081">=</span>&nbsp;<span class="op" id="1900083">[</span><span class="op" id="1900084">]</span><span class="builtintype" id="1900085">byte</span><span class="op" id="1900089">(</span><span class="string" id="1900090">&#34;(nil)&#34;</span><span class="op" id="1900097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900100">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900117">=</span>&nbsp;<span class="op" id="1900119">[</span><span class="op" id="1900120">]</span><span class="builtintype" id="1900121">byte</span><span class="op" id="1900125">(</span><span class="string" id="1900126">&#34;nil&#34;</span><span class="op" id="1900131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900134">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900151">=</span>&nbsp;<span class="op" id="1900153">[</span><span class="op" id="1900154">]</span><span class="builtintype" id="1900155">byte</span><span class="op" id="1900159">(</span><span class="string" id="1900160">&#34;map[&#34;</span><span class="op" id="1900166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900169">percentBangBytes</span>&nbsp;<span class="op" id="1900186">=</span>&nbsp;<span class="op" id="1900188">[</span><span class="op" id="1900189">]</span><span class="builtintype" id="1900190">byte</span><span class="op" id="1900194">(</span><span class="string" id="1900195">&#34;%!&#34;</span><span class="op" id="1900199">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900202">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900219">=</span>&nbsp;<span class="op" id="1900221">[</span><span class="op" id="1900222">]</span><span class="builtintype" id="1900223">byte</span><span class="op" id="1900227">(</span><span class="string" id="1900228">&#34;(MISSING)&#34;</span><span class="op" id="1900239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900242">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900259">=</span>&nbsp;<span class="op" id="1900261">[</span><span class="op" id="1900262">]</span><span class="builtintype" id="1900263">byte</span><span class="op" id="1900267">(</span><span class="string" id="1900268">&#34;(BADINDEX)&#34;</span><span class="op" id="1900280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900283">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900300">=</span>&nbsp;<span class="op" id="1900302">[</span><span class="op" id="1900303">]</span><span class="builtintype" id="1900304">byte</span><span class="op" id="1900308">(</span><span class="string" id="1900309">&#34;(PANIC=&#34;</span><span class="op" id="1900318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900321">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900338">=</span>&nbsp;<span class="op" id="1900340">[</span><span class="op" id="1900341">]</span><span class="builtintype" id="1900342">byte</span><span class="op" id="1900346">(</span><span class="string" id="1900347">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="1900358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900361">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900378">=</span>&nbsp;<span class="op" id="1900380">[</span><span class="op" id="1900381">]</span><span class="builtintype" id="1900382">byte</span><span class="op" id="1900386">(</span><span class="string" id="1900387">&#34;i)&#34;</span><span class="op" id="1900391">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900394">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900411">=</span>&nbsp;<span class="op" id="1900413">[</span><span class="op" id="1900414">]</span><span class="builtintype" id="1900415">byte</span><span class="op" id="1900419">(</span><span class="string" id="1900420">&#34;[]byte{&#34;</span><span class="op" id="1900429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900432">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900449">=</span>&nbsp;<span class="op" id="1900451">[</span><span class="op" id="1900452">]</span><span class="builtintype" id="1900453">byte</span><span class="op" id="1900457">(</span><span class="string" id="1900458">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="1900472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900475">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900492">=</span>&nbsp;<span class="op" id="1900494">[</span><span class="op" id="1900495">]</span><span class="builtintype" id="1900496">byte</span><span class="op" id="1900500">(</span><span class="string" id="1900501">&#34;%!(BADPREC)&#34;</span><span class="op" id="1900514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900517">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1900534">=</span>&nbsp;<span class="op" id="1900536">[</span><span class="op" id="1900537">]</span><span class="builtintype" id="1900538">byte</span><span class="op" id="1900542">(</span><span class="string" id="1900543">&#34;%!(NOVERB)&#34;</span><span class="op" id="1900555">)</span><br>
<span class="lineno"></span><span class="op" id="1900557">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="1900560">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="1900627">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="1900699">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="1900760">type</span>&nbsp;<span class="ident" id="1900765">State</span>&nbsp;<span class="keyword" id="1900771">interface</span>&nbsp;<span class="op" id="1900781">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1900784">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900858">Write</span><span class="op" id="1900863">(</span><span class="ident" id="1900864">b</span>&nbsp;<span class="op" id="1900866">[</span><span class="op" id="1900867">]</span><span class="builtintype" id="1900868">byte</span><span class="op" id="1900872">)</span>&nbsp;<span class="op" id="1900874">(</span><span class="ident" id="1900875">ret</span>&nbsp;<span class="builtintype" id="1900879">int</span><span class="op" id="1900882">,</span>&nbsp;<span class="ident" id="1900884">err</span>&nbsp;<span class="builtintype" id="1900888">error</span><span class="op" id="1900893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1900896">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1900973">Width</span><span class="op" id="1900978">(</span><span class="op" id="1900979">)</span>&nbsp;<span class="op" id="1900981">(</span><span class="ident" id="1900982">wid</span>&nbsp;<span class="builtintype" id="1900986">int</span><span class="op" id="1900989">,</span>&nbsp;<span class="ident" id="1900991">ok</span>&nbsp;<span class="builtintype" id="1900994">bool</span><span class="op" id="1900998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1901001">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1901086">Precision</span><span class="op" id="1901095">(</span><span class="op" id="1901096">)</span>&nbsp;<span class="op" id="1901098">(</span><span class="ident" id="1901099">prec</span>&nbsp;<span class="builtintype" id="1901104">int</span><span class="op" id="1901107">,</span>&nbsp;<span class="ident" id="1901109">ok</span>&nbsp;<span class="builtintype" id="1901112">bool</span><span class="op" id="1901116">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1901120">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1901184">Flag</span><span class="op" id="1901188">(</span><span class="ident" id="1901189">c</span>&nbsp;<span class="builtintype" id="1901191">int</span><span class="op" id="1901194">)</span>&nbsp;<span class="builtintype" id="1901196">bool</span><br>
<span class="lineno"></span><span class="op" id="1901201">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="1901204">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="1901281">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="1901350">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="1901377">type</span>&nbsp;<span class="ident" id="1901382">Formatter</span>&nbsp;<span class="keyword" id="1901392">interface</span>&nbsp;<span class="op" id="1901402">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1901405">Format</span><span class="op" id="1901411">(</span><span class="ident" id="1901412">f</span>&nbsp;<span class="ident" id="1901414">State</span><span class="op" id="1901419">,</span>&nbsp;<span class="ident" id="1901421">c</span>&nbsp;<span class="builtintype" id="1901423">rune</span><span class="op" id="1901427">)</span><br>
<span class="lineno"></span><span class="op" id="1901429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1901432">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="1901498">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="1901553">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="1901619">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="1901687">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="1901705">type</span>&nbsp;<span class="ident" id="1901710">Stringer</span>&nbsp;<span class="keyword" id="1901719">interface</span>&nbsp;<span class="op" id="1901729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1901732">String</span><span class="op" id="1901738">(</span><span class="op" id="1901739">)</span>&nbsp;<span class="builtintype" id="1901741">string</span><br>
<span class="lineno">65</span><span class="op" id="1901748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1901751">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="1901821">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="1901868">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="1901936">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="1901956">type</span>&nbsp;<span class="ident" id="1901961">GoStringer</span>&nbsp;<span class="keyword" id="1901972">interface</span>&nbsp;<span class="op" id="1901982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1901985">GoString</span><span class="op" id="1901993">(</span><span class="op" id="1901994">)</span>&nbsp;<span class="builtintype" id="1901996">string</span><br>
<span class="lineno"></span><span class="op" id="1902003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="1902006">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="1902078">type</span>&nbsp;<span class="ident" id="1902083">buffer</span>&nbsp;<span class="op" id="1902090">[</span><span class="op" id="1902091">]</span><span class="builtintype" id="1902092">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1902098">func</span>&nbsp;<span class="op" id="1902103">(</span><span class="ident" id="1902104">b</span>&nbsp;<span class="op" id="1902106">*</span><span class="ident" id="1902107">buffer</span><span class="op" id="1902113">)</span>&nbsp;<span class="ident" id="1902115">Write</span><span class="op" id="1902120">(</span><span class="ident" id="1902121">p</span>&nbsp;<span class="op" id="1902123">[</span><span class="op" id="1902124">]</span><span class="builtintype" id="1902125">byte</span><span class="op" id="1902129">)</span>&nbsp;<span class="op" id="1902131">(</span><span class="ident" id="1902132">n</span>&nbsp;<span class="builtintype" id="1902134">int</span><span class="op" id="1902137">,</span>&nbsp;<span class="ident" id="1902139">err</span>&nbsp;<span class="builtintype" id="1902143">error</span><span class="op" id="1902148">)</span>&nbsp;<span class="op" id="1902150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1902153">*</span><span class="ident" id="1902154">b</span>&nbsp;<span class="op" id="1902156">=</span>&nbsp;<span class="builtinfunc" id="1902158">append</span><span class="op" id="1902164">(</span><span class="op" id="1902165">*</span><span class="ident" id="1902166">b</span><span class="op" id="1902167">,</span>&nbsp;<span class="ident" id="1902169">p</span><span class="op" id="1902170">...</span><span class="op" id="1902173">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1902176">return</span>&nbsp;<span class="builtinfunc" id="1902183">len</span><span class="op" id="1902186">(</span><span class="ident" id="1902187">p</span><span class="op" id="1902188">)</span><span class="op" id="1902189">,</span>&nbsp;<span class="ident" id="1902191">nil</span><br>
<span class="lineno"></span><span class="op" id="1902195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1902198">func</span>&nbsp;<span class="op" id="1902203">(</span><span class="ident" id="1902204">b</span>&nbsp;<span class="op" id="1902206">*</span><span class="ident" id="1902207">buffer</span><span class="op" id="1902213">)</span>&nbsp;<span class="ident" id="1902215">WriteString</span><span class="op" id="1902226">(</span><span class="ident" id="1902227">s</span>&nbsp;<span class="builtintype" id="1902229">string</span><span class="op" id="1902235">)</span>&nbsp;<span class="op" id="1902237">(</span><span class="ident" id="1902238">n</span>&nbsp;<span class="builtintype" id="1902240">int</span><span class="op" id="1902243">,</span>&nbsp;<span class="ident" id="1902245">err</span>&nbsp;<span class="builtintype" id="1902249">error</span><span class="op" id="1902254">)</span>&nbsp;<span class="op" id="1902256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1902259">*</span><span class="ident" id="1902260">b</span>&nbsp;<span class="op" id="1902262">=</span>&nbsp;<span class="builtinfunc" id="1902264">append</span><span class="op" id="1902270">(</span><span class="op" id="1902271">*</span><span class="ident" id="1902272">b</span><span class="op" id="1902273">,</span>&nbsp;<span class="ident" id="1902275">s</span><span class="op" id="1902276">...</span><span class="op" id="1902279">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1902282">return</span>&nbsp;<span class="builtinfunc" id="1902289">len</span><span class="op" id="1902292">(</span><span class="ident" id="1902293">s</span><span class="op" id="1902294">)</span><span class="op" id="1902295">,</span>&nbsp;<span class="ident" id="1902297">nil</span><br>
<span class="lineno"></span><span class="op" id="1902301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1902304">func</span>&nbsp;<span class="op" id="1902309">(</span><span class="ident" id="1902310">b</span>&nbsp;<span class="op" id="1902312">*</span><span class="ident" id="1902313">buffer</span><span class="op" id="1902319">)</span>&nbsp;<span class="ident" id="1902321">WriteByte</span><span class="op" id="1902330">(</span><span class="ident" id="1902331">c</span>&nbsp;<span class="builtintype" id="1902333">byte</span><span class="op" id="1902337">)</span>&nbsp;<span class="builtintype" id="1902339">error</span>&nbsp;<span class="op" id="1902345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1902348">*</span><span class="ident" id="1902349">b</span>&nbsp;<span class="op" id="1902351">=</span>&nbsp;<span class="builtinfunc" id="1902353">append</span><span class="op" id="1902359">(</span><span class="op" id="1902360">*</span><span class="ident" id="1902361">b</span><span class="op" id="1902362">,</span>&nbsp;<span class="ident" id="1902364">c</span><span class="op" id="1902365">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1902368">return</span>&nbsp;<span class="ident" id="1902375">nil</span><br>
<span class="lineno"></span><span class="op" id="1902379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1902382">func</span>&nbsp;<span class="op" id="1902387">(</span><span class="ident" id="1902388">bp</span>&nbsp;<span class="op" id="1902391">*</span><span class="ident" id="1902392">buffer</span><span class="op" id="1902398">)</span>&nbsp;<span class="ident" id="1902400">WriteRune</span><span class="op" id="1902409">(</span><span class="ident" id="1902410">r</span>&nbsp;<span class="builtintype" id="1902412">rune</span><span class="op" id="1902416">)</span>&nbsp;<span class="builtintype" id="1902418">error</span>&nbsp;<span class="op" id="1902424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1902427">if</span>&nbsp;<span class="ident" id="1902430">r</span>&nbsp;<span class="op" id="1902432">&lt;</span>&nbsp;<span class="ident" id="1902434">utf8</span><span class="op" id="1902438">.</span><span class="ident" id="1902439">RuneSelf</span>&nbsp;<span class="op" id="1902448">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1902452">*</span><span class="ident" id="1902453">bp</span>&nbsp;<span class="op" id="1902456">=</span>&nbsp;<span class="builtinfunc" id="1902458">append</span><span class="op" id="1902464">(</span><span class="op" id="1902465">*</span><span class="ident" id="1902466">bp</span><span class="op" id="1902468">,</span>&nbsp;<span class="builtintype" id="1902470">byte</span><span class="op" id="1902474">(</span><span class="ident" id="1902475">r</span><span class="op" id="1902476">)</span><span class="op" id="1902477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1902481">return</span>&nbsp;<span class="ident" id="1902488">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1902493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902497">b</span>&nbsp;<span class="op" id="1902499">:=</span>&nbsp;<span class="op" id="1902502">*</span><span class="ident" id="1902503">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902507">n</span>&nbsp;<span class="op" id="1902509">:=</span>&nbsp;<span class="builtinfunc" id="1902512">len</span><span class="op" id="1902515">(</span><span class="ident" id="1902516">b</span><span class="op" id="1902517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1902520">for</span>&nbsp;<span class="ident" id="1902524">n</span><span class="op" id="1902525">+</span><span class="ident" id="1902526">utf8</span><span class="op" id="1902530">.</span><span class="ident" id="1902531">UTFMax</span>&nbsp;<span class="op" id="1902538">&gt;</span>&nbsp;<span class="builtinfunc" id="1902540">cap</span><span class="op" id="1902543">(</span><span class="ident" id="1902544">b</span><span class="op" id="1902545">)</span>&nbsp;<span class="op" id="1902547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902551">b</span>&nbsp;<span class="op" id="1902553">=</span>&nbsp;<span class="builtinfunc" id="1902555">append</span><span class="op" id="1902561">(</span><span class="ident" id="1902562">b</span><span class="op" id="1902563">,</span>&nbsp;<span class="num" id="1902565">0</span><span class="op" id="1902566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1902569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902572">w</span>&nbsp;<span class="op" id="1902574">:=</span>&nbsp;<span class="ident" id="1902577">utf8</span><span class="op" id="1902581">.</span><span class="ident" id="1902582">EncodeRune</span><span class="op" id="1902592">(</span><span class="ident" id="1902593">b</span><span class="op" id="1902594">[</span><span class="ident" id="1902595">n</span><span class="op" id="1902596">:</span><span class="ident" id="1902597">n</span><span class="op" id="1902598">+</span><span class="ident" id="1902599">utf8</span><span class="op" id="1902603">.</span><span class="ident" id="1902604">UTFMax</span><span class="op" id="1902610">]</span><span class="op" id="1902611">,</span>&nbsp;<span class="ident" id="1902613">r</span><span class="op" id="1902614">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1902617">*</span><span class="ident" id="1902618">bp</span>&nbsp;<span class="op" id="1902621">=</span>&nbsp;<span class="ident" id="1902623">b</span><span class="op" id="1902624">[</span><span class="op" id="1902625">:</span><span class="ident" id="1902626">n</span><span class="op" id="1902627">+</span><span class="ident" id="1902628">w</span><span class="op" id="1902629">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1902632">return</span>&nbsp;<span class="ident" id="1902639">nil</span><br>
<span class="lineno"></span><span class="op" id="1902643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1902646">type</span>&nbsp;<span class="ident" id="1902651">pp</span>&nbsp;<span class="keyword" id="1902654">struct</span>&nbsp;<span class="op" id="1902661">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902664">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1902674">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902679">panicking</span>&nbsp;<span class="builtintype" id="1902689">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902695">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="1902705">bool</span>&nbsp;<span class="comment" id="1902710">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902742">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1902752">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1902760">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902811">arg</span>&nbsp;<span class="keyword" id="1902815">interface</span><span class="op" id="1902824">{</span><span class="op" id="1902825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1902828">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1902894">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1902949">value</span>&nbsp;<span class="ident" id="1902955">reflect</span><span class="op" id="1902962">.</span><span class="ident" id="1902963">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1902970">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903044">reordered</span>&nbsp;<span class="builtintype" id="1903054">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1903060">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903139">goodArgNum</span>&nbsp;<span class="builtintype" id="1903150">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903156">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1903167">[</span><span class="ident" id="1903168">utf8</span><span class="op" id="1903172">.</span><span class="ident" id="1903173">UTFMax</span><span class="op" id="1903179">]</span><span class="builtintype" id="1903180">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903186">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1903197">fmt</span><br>
<span class="lineno">125</span><span class="op" id="1903201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1903204">var</span>&nbsp;<span class="ident" id="1903208">ppFree</span>&nbsp;<span class="op" id="1903215">=</span>&nbsp;<span class="ident" id="1903217">sync</span><span class="op" id="1903221">.</span><span class="ident" id="1903222">Pool</span><span class="op" id="1903226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903229">New</span><span class="op" id="1903232">:</span>&nbsp;<span class="keyword" id="1903234">func</span><span class="op" id="1903238">(</span><span class="op" id="1903239">)</span>&nbsp;<span class="keyword" id="1903241">interface</span><span class="op" id="1903250">{</span><span class="op" id="1903251">}</span>&nbsp;<span class="op" id="1903253">{</span>&nbsp;<span class="keyword" id="1903255">return</span>&nbsp;<span class="builtinfunc" id="1903262">new</span><span class="op" id="1903265">(</span><span class="ident" id="1903266">pp</span><span class="op" id="1903268">)</span>&nbsp;<span class="op" id="1903270">}</span><span class="op" id="1903271">,</span><br>
<span class="lineno"></span><span class="op" id="1903273">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="1903276">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="1903339">func</span>&nbsp;<span class="ident" id="1903344">newPrinter</span><span class="op" id="1903354">(</span><span class="op" id="1903355">)</span>&nbsp;<span class="op" id="1903357">*</span><span class="ident" id="1903358">pp</span>&nbsp;<span class="op" id="1903361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903364">p</span>&nbsp;<span class="op" id="1903366">:=</span>&nbsp;<span class="ident" id="1903369">ppFree</span><span class="op" id="1903375">.</span><span class="ident" id="1903376">Get</span><span class="op" id="1903379">(</span><span class="op" id="1903380">)</span><span class="op" id="1903381">.</span><span class="op" id="1903382">(</span><span class="op" id="1903383">*</span><span class="ident" id="1903384">pp</span><span class="op" id="1903386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903389">p</span><span class="op" id="1903390">.</span><span class="ident" id="1903391">panicking</span>&nbsp;<span class="op" id="1903401">=</span>&nbsp;<span class="ident" id="1903403">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903410">p</span><span class="op" id="1903411">.</span><span class="ident" id="1903412">erroring</span>&nbsp;<span class="op" id="1903421">=</span>&nbsp;<span class="ident" id="1903423">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903430">p</span><span class="op" id="1903431">.</span><span class="ident" id="1903432">fmt</span><span class="op" id="1903435">.</span><span class="ident" id="1903436">init</span><span class="op" id="1903440">(</span><span class="op" id="1903441">&amp;</span><span class="ident" id="1903442">p</span><span class="op" id="1903443">.</span><span class="ident" id="1903444">buf</span><span class="op" id="1903447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1903450">return</span>&nbsp;<span class="ident" id="1903457">p</span><br>
<span class="lineno"></span><span class="op" id="1903459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="1903462">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="1903540">func</span>&nbsp;<span class="op" id="1903545">(</span><span class="ident" id="1903546">p</span>&nbsp;<span class="op" id="1903548">*</span><span class="ident" id="1903549">pp</span><span class="op" id="1903551">)</span>&nbsp;<span class="ident" id="1903553">free</span><span class="op" id="1903557">(</span><span class="op" id="1903558">)</span>&nbsp;<span class="op" id="1903560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1903563">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1903615">if</span>&nbsp;<span class="builtinfunc" id="1903618">cap</span><span class="op" id="1903621">(</span><span class="ident" id="1903622">p</span><span class="op" id="1903623">.</span><span class="ident" id="1903624">buf</span><span class="op" id="1903627">)</span>&nbsp;<span class="op" id="1903629">&gt;</span>&nbsp;<span class="num" id="1903631">1024</span>&nbsp;<span class="op" id="1903636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1903640">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1903648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903651">p</span><span class="op" id="1903652">.</span><span class="ident" id="1903653">buf</span>&nbsp;<span class="op" id="1903657">=</span>&nbsp;<span class="ident" id="1903659">p</span><span class="op" id="1903660">.</span><span class="ident" id="1903661">buf</span><span class="op" id="1903664">[</span><span class="op" id="1903665">:</span><span class="num" id="1903666">0</span><span class="op" id="1903667">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903670">p</span><span class="op" id="1903671">.</span><span class="ident" id="1903672">arg</span>&nbsp;<span class="op" id="1903676">=</span>&nbsp;<span class="ident" id="1903678">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903683">p</span><span class="op" id="1903684">.</span><span class="ident" id="1903685">value</span>&nbsp;<span class="op" id="1903691">=</span>&nbsp;<span class="ident" id="1903693">reflect</span><span class="op" id="1903700">.</span><span class="ident" id="1903701">Value</span><span class="op" id="1903706">{</span><span class="op" id="1903707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1903710">ppFree</span><span class="op" id="1903716">.</span><span class="ident" id="1903717">Put</span><span class="op" id="1903720">(</span><span class="ident" id="1903721">p</span><span class="op" id="1903722">)</span><br>
<span class="lineno">150</span><span class="op" id="1903724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1903727">func</span>&nbsp;<span class="op" id="1903732">(</span><span class="ident" id="1903733">p</span>&nbsp;<span class="op" id="1903735">*</span><span class="ident" id="1903736">pp</span><span class="op" id="1903738">)</span>&nbsp;<span class="ident" id="1903740">Width</span><span class="op" id="1903745">(</span><span class="op" id="1903746">)</span>&nbsp;<span class="op" id="1903748">(</span><span class="ident" id="1903749">wid</span>&nbsp;<span class="builtintype" id="1903753">int</span><span class="op" id="1903756">,</span>&nbsp;<span class="ident" id="1903758">ok</span>&nbsp;<span class="builtintype" id="1903761">bool</span><span class="op" id="1903765">)</span>&nbsp;<span class="op" id="1903767">{</span>&nbsp;<span class="keyword" id="1903769">return</span>&nbsp;<span class="ident" id="1903776">p</span><span class="op" id="1903777">.</span><span class="ident" id="1903778">fmt</span><span class="op" id="1903781">.</span><span class="ident" id="1903782">wid</span><span class="op" id="1903785">,</span>&nbsp;<span class="ident" id="1903787">p</span><span class="op" id="1903788">.</span><span class="ident" id="1903789">fmt</span><span class="op" id="1903792">.</span><span class="ident" id="1903793">widPresent</span>&nbsp;<span class="op" id="1903804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1903807">func</span>&nbsp;<span class="op" id="1903812">(</span><span class="ident" id="1903813">p</span>&nbsp;<span class="op" id="1903815">*</span><span class="ident" id="1903816">pp</span><span class="op" id="1903818">)</span>&nbsp;<span class="ident" id="1903820">Precision</span><span class="op" id="1903829">(</span><span class="op" id="1903830">)</span>&nbsp;<span class="op" id="1903832">(</span><span class="ident" id="1903833">prec</span>&nbsp;<span class="builtintype" id="1903838">int</span><span class="op" id="1903841">,</span>&nbsp;<span class="ident" id="1903843">ok</span>&nbsp;<span class="builtintype" id="1903846">bool</span><span class="op" id="1903850">)</span>&nbsp;<span class="op" id="1903852">{</span>&nbsp;<span class="keyword" id="1903854">return</span>&nbsp;<span class="ident" id="1903861">p</span><span class="op" id="1903862">.</span><span class="ident" id="1903863">fmt</span><span class="op" id="1903866">.</span><span class="ident" id="1903867">prec</span><span class="op" id="1903871">,</span>&nbsp;<span class="ident" id="1903873">p</span><span class="op" id="1903874">.</span><span class="ident" id="1903875">fmt</span><span class="op" id="1903878">.</span><span class="ident" id="1903879">precPresent</span>&nbsp;<span class="op" id="1903891">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="1903894">func</span>&nbsp;<span class="op" id="1903899">(</span><span class="ident" id="1903900">p</span>&nbsp;<span class="op" id="1903902">*</span><span class="ident" id="1903903">pp</span><span class="op" id="1903905">)</span>&nbsp;<span class="ident" id="1903907">Flag</span><span class="op" id="1903911">(</span><span class="ident" id="1903912">b</span>&nbsp;<span class="builtintype" id="1903914">int</span><span class="op" id="1903917">)</span>&nbsp;<span class="builtintype" id="1903919">bool</span>&nbsp;<span class="op" id="1903924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1903927">switch</span>&nbsp;<span class="ident" id="1903934">b</span>&nbsp;<span class="op" id="1903936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1903939">case</span>&nbsp;<span class="string" id="1903944">&#39;-&#39;</span><span class="op" id="1903947">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1903951">return</span>&nbsp;<span class="ident" id="1903958">p</span><span class="op" id="1903959">.</span><span class="ident" id="1903960">fmt</span><span class="op" id="1903963">.</span><span class="ident" id="1903964">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1903971">case</span>&nbsp;<span class="string" id="1903976">&#39;+&#39;</span><span class="op" id="1903979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1903983">return</span>&nbsp;<span class="ident" id="1903990">p</span><span class="op" id="1903991">.</span><span class="ident" id="1903992">fmt</span><span class="op" id="1903995">.</span><span class="ident" id="1903996">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904002">case</span>&nbsp;<span class="string" id="1904007">&#39;#&#39;</span><span class="op" id="1904010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904014">return</span>&nbsp;<span class="ident" id="1904021">p</span><span class="op" id="1904022">.</span><span class="ident" id="1904023">fmt</span><span class="op" id="1904026">.</span><span class="ident" id="1904027">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904034">case</span>&nbsp;<span class="string" id="1904039">&#39;&nbsp;&#39;</span><span class="op" id="1904042">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904046">return</span>&nbsp;<span class="ident" id="1904053">p</span><span class="op" id="1904054">.</span><span class="ident" id="1904055">fmt</span><span class="op" id="1904058">.</span><span class="ident" id="1904059">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904066">case</span>&nbsp;<span class="string" id="1904071">&#39;0&#39;</span><span class="op" id="1904074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904078">return</span>&nbsp;<span class="ident" id="1904085">p</span><span class="op" id="1904086">.</span><span class="ident" id="1904087">fmt</span><span class="op" id="1904090">.</span><span class="ident" id="1904091">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1904097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904100">return</span>&nbsp;<span class="ident" id="1904107">false</span><br>
<span class="lineno">170</span><span class="op" id="1904113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1904116">func</span>&nbsp;<span class="op" id="1904121">(</span><span class="ident" id="1904122">p</span>&nbsp;<span class="op" id="1904124">*</span><span class="ident" id="1904125">pp</span><span class="op" id="1904127">)</span>&nbsp;<span class="ident" id="1904129">add</span><span class="op" id="1904132">(</span><span class="ident" id="1904133">c</span>&nbsp;<span class="builtintype" id="1904135">rune</span><span class="op" id="1904139">)</span>&nbsp;<span class="op" id="1904141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1904144">p</span><span class="op" id="1904145">.</span><span class="ident" id="1904146">buf</span><span class="op" id="1904149">.</span><span class="ident" id="1904150">WriteRune</span><span class="op" id="1904159">(</span><span class="ident" id="1904160">c</span><span class="op" id="1904161">)</span><br>
<span class="lineno"></span><span class="op" id="1904163">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="1904166">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1904237">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="1904271">func</span>&nbsp;<span class="op" id="1904276">(</span><span class="ident" id="1904277">p</span>&nbsp;<span class="op" id="1904279">*</span><span class="ident" id="1904280">pp</span><span class="op" id="1904282">)</span>&nbsp;<span class="ident" id="1904284">Write</span><span class="op" id="1904289">(</span><span class="ident" id="1904290">b</span>&nbsp;<span class="op" id="1904292">[</span><span class="op" id="1904293">]</span><span class="builtintype" id="1904294">byte</span><span class="op" id="1904298">)</span>&nbsp;<span class="op" id="1904300">(</span><span class="ident" id="1904301">ret</span>&nbsp;<span class="builtintype" id="1904305">int</span><span class="op" id="1904308">,</span>&nbsp;<span class="ident" id="1904310">err</span>&nbsp;<span class="builtintype" id="1904314">error</span><span class="op" id="1904319">)</span>&nbsp;<span class="op" id="1904321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904324">return</span>&nbsp;<span class="ident" id="1904331">p</span><span class="op" id="1904332">.</span><span class="ident" id="1904333">buf</span><span class="op" id="1904336">.</span><span class="ident" id="1904337">Write</span><span class="op" id="1904342">(</span><span class="ident" id="1904343">b</span><span class="op" id="1904344">)</span><br>
<span class="lineno">180</span><span class="op" id="1904346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1904349">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1904405">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="1904473">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1904548">func</span>&nbsp;<span class="ident" id="1904553">Fprintf</span><span class="op" id="1904560">(</span><span class="ident" id="1904561">w</span>&nbsp;<span class="ident" id="1904563">io</span><span class="op" id="1904565">.</span><span class="ident" id="1904566">Writer</span><span class="op" id="1904572">,</span>&nbsp;<span class="ident" id="1904574">format</span>&nbsp;<span class="builtintype" id="1904581">string</span><span class="op" id="1904587">,</span>&nbsp;<span class="ident" id="1904589">a</span>&nbsp;<span class="op" id="1904591">...</span><span class="keyword" id="1904594">interface</span><span class="op" id="1904603">{</span><span class="op" id="1904604">}</span><span class="op" id="1904605">)</span>&nbsp;<span class="op" id="1904607">(</span><span class="ident" id="1904608">n</span>&nbsp;<span class="builtintype" id="1904610">int</span><span class="op" id="1904613">,</span>&nbsp;<span class="ident" id="1904615">err</span>&nbsp;<span class="builtintype" id="1904619">error</span><span class="op" id="1904624">)</span>&nbsp;<span class="op" id="1904626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1904629">p</span>&nbsp;<span class="op" id="1904631">:=</span>&nbsp;<span class="ident" id="1904634">newPrinter</span><span class="op" id="1904644">(</span><span class="op" id="1904645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1904648">p</span><span class="op" id="1904649">.</span><span class="ident" id="1904650">doPrintf</span><span class="op" id="1904658">(</span><span class="ident" id="1904659">format</span><span class="op" id="1904665">,</span>&nbsp;<span class="ident" id="1904667">a</span><span class="op" id="1904668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1904671">n</span><span class="op" id="1904672">,</span>&nbsp;<span class="ident" id="1904674">err</span>&nbsp;<span class="op" id="1904678">=</span>&nbsp;<span class="ident" id="1904680">w</span><span class="op" id="1904681">.</span><span class="ident" id="1904682">Write</span><span class="op" id="1904687">(</span><span class="ident" id="1904688">p</span><span class="op" id="1904689">.</span><span class="ident" id="1904690">buf</span><span class="op" id="1904693">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1904696">p</span><span class="op" id="1904697">.</span><span class="ident" id="1904698">free</span><span class="op" id="1904702">(</span><span class="op" id="1904703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904706">return</span><br>
<span class="lineno"></span><span class="op" id="1904713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1904716">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="1904797">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1904872">func</span>&nbsp;<span class="ident" id="1904877">Printf</span><span class="op" id="1904883">(</span><span class="ident" id="1904884">format</span>&nbsp;<span class="builtintype" id="1904891">string</span><span class="op" id="1904897">,</span>&nbsp;<span class="ident" id="1904899">a</span>&nbsp;<span class="op" id="1904901">...</span><span class="keyword" id="1904904">interface</span><span class="op" id="1904913">{</span><span class="op" id="1904914">}</span><span class="op" id="1904915">)</span>&nbsp;<span class="op" id="1904917">(</span><span class="ident" id="1904918">n</span>&nbsp;<span class="builtintype" id="1904920">int</span><span class="op" id="1904923">,</span>&nbsp;<span class="ident" id="1904925">err</span>&nbsp;<span class="builtintype" id="1904929">error</span><span class="op" id="1904934">)</span>&nbsp;<span class="op" id="1904936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1904939">return</span>&nbsp;<span class="ident" id="1904946">Fprintf</span><span class="op" id="1904953">(</span><span class="ident" id="1904954">os</span><span class="op" id="1904956">.</span><span class="ident" id="1904957">Stdout</span><span class="op" id="1904963">,</span>&nbsp;<span class="ident" id="1904965">format</span><span class="op" id="1904971">,</span>&nbsp;<span class="ident" id="1904973">a</span><span class="op" id="1904974">...</span><span class="op" id="1904977">)</span><br>
<span class="lineno"></span><span class="op" id="1904979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="1904982">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1905067">func</span>&nbsp;<span class="ident" id="1905072">Sprintf</span><span class="op" id="1905079">(</span><span class="ident" id="1905080">format</span>&nbsp;<span class="builtintype" id="1905087">string</span><span class="op" id="1905093">,</span>&nbsp;<span class="ident" id="1905095">a</span>&nbsp;<span class="op" id="1905097">...</span><span class="keyword" id="1905100">interface</span><span class="op" id="1905109">{</span><span class="op" id="1905110">}</span><span class="op" id="1905111">)</span>&nbsp;<span class="builtintype" id="1905113">string</span>&nbsp;<span class="op" id="1905120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1905123">p</span>&nbsp;<span class="op" id="1905125">:=</span>&nbsp;<span class="ident" id="1905128">newPrinter</span><span class="op" id="1905138">(</span><span class="op" id="1905139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1905142">p</span><span class="op" id="1905143">.</span><span class="ident" id="1905144">doPrintf</span><span class="op" id="1905152">(</span><span class="ident" id="1905153">format</span><span class="op" id="1905159">,</span>&nbsp;<span class="ident" id="1905161">a</span><span class="op" id="1905162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1905165">s</span>&nbsp;<span class="op" id="1905167">:=</span>&nbsp;<span class="builtintype" id="1905170">string</span><span class="op" id="1905176">(</span><span class="ident" id="1905177">p</span><span class="op" id="1905178">.</span><span class="ident" id="1905179">buf</span><span class="op" id="1905182">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1905185">p</span><span class="op" id="1905186">.</span><span class="ident" id="1905187">free</span><span class="op" id="1905191">(</span><span class="op" id="1905192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1905195">return</span>&nbsp;<span class="ident" id="1905202">s</span><br>
<span class="lineno"></span><span class="op" id="1905204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1905207">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="1905280">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1905316">func</span>&nbsp;<span class="ident" id="1905321">Errorf</span><span class="op" id="1905327">(</span><span class="ident" id="1905328">format</span>&nbsp;<span class="builtintype" id="1905335">string</span><span class="op" id="1905341">,</span>&nbsp;<span class="ident" id="1905343">a</span>&nbsp;<span class="op" id="1905345">...</span><span class="keyword" id="1905348">interface</span><span class="op" id="1905357">{</span><span class="op" id="1905358">}</span><span class="op" id="1905359">)</span>&nbsp;<span class="builtintype" id="1905361">error</span>&nbsp;<span class="op" id="1905367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1905370">return</span>&nbsp;<span class="ident" id="1905377">errors</span><span class="op" id="1905383">.</span><span class="ident" id="1905384">New</span><span class="op" id="1905387">(</span><span class="ident" id="1905388">Sprintf</span><span class="op" id="1905395">(</span><span class="ident" id="1905396">format</span><span class="op" id="1905402">,</span>&nbsp;<span class="ident" id="1905404">a</span><span class="op" id="1905405">...</span><span class="op" id="1905408">)</span><span class="op" id="1905409">)</span><br>
<span class="lineno"></span><span class="op" id="1905411">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="1905414">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1905461">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="1905539">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="1905602">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="1905677">func</span>&nbsp;<span class="ident" id="1905682">Fprint</span><span class="op" id="1905688">(</span><span class="ident" id="1905689">w</span>&nbsp;<span class="ident" id="1905691">io</span><span class="op" id="1905693">.</span><span class="ident" id="1905694">Writer</span><span class="op" id="1905700">,</span>&nbsp;<span class="ident" id="1905702">a</span>&nbsp;<span class="op" id="1905704">...</span><span class="keyword" id="1905707">interface</span><span class="op" id="1905716">{</span><span class="op" id="1905717">}</span><span class="op" id="1905718">)</span>&nbsp;<span class="op" id="1905720">(</span><span class="ident" id="1905721">n</span>&nbsp;<span class="builtintype" id="1905723">int</span><span class="op" id="1905726">,</span>&nbsp;<span class="ident" id="1905728">err</span>&nbsp;<span class="builtintype" id="1905732">error</span><span class="op" id="1905737">)</span>&nbsp;<span class="op" id="1905739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1905742">p</span>&nbsp;<span class="op" id="1905744">:=</span>&nbsp;<span class="ident" id="1905747">newPrinter</span><span class="op" id="1905757">(</span><span class="op" id="1905758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1905761">p</span><span class="op" id="1905762">.</span><span class="ident" id="1905763">doPrint</span><span class="op" id="1905770">(</span><span class="ident" id="1905771">a</span><span class="op" id="1905772">,</span>&nbsp;<span class="ident" id="1905774">false</span><span class="op" id="1905779">,</span>&nbsp;<span class="ident" id="1905781">false</span><span class="op" id="1905786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1905789">n</span><span class="op" id="1905790">,</span>&nbsp;<span class="ident" id="1905792">err</span>&nbsp;<span class="op" id="1905796">=</span>&nbsp;<span class="ident" id="1905798">w</span><span class="op" id="1905799">.</span><span class="ident" id="1905800">Write</span><span class="op" id="1905805">(</span><span class="ident" id="1905806">p</span><span class="op" id="1905807">.</span><span class="ident" id="1905808">buf</span><span class="op" id="1905811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1905814">p</span><span class="op" id="1905815">.</span><span class="ident" id="1905816">free</span><span class="op" id="1905820">(</span><span class="op" id="1905821">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1905824">return</span><br>
<span class="lineno"></span><span class="op" id="1905831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1905834">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="1905925">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="1905988">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1906063">func</span>&nbsp;<span class="ident" id="1906068">Print</span><span class="op" id="1906073">(</span><span class="ident" id="1906074">a</span>&nbsp;<span class="op" id="1906076">...</span><span class="keyword" id="1906079">interface</span><span class="op" id="1906088">{</span><span class="op" id="1906089">}</span><span class="op" id="1906090">)</span>&nbsp;<span class="op" id="1906092">(</span><span class="ident" id="1906093">n</span>&nbsp;<span class="builtintype" id="1906095">int</span><span class="op" id="1906098">,</span>&nbsp;<span class="ident" id="1906100">err</span>&nbsp;<span class="builtintype" id="1906104">error</span><span class="op" id="1906109">)</span>&nbsp;<span class="op" id="1906111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1906114">return</span>&nbsp;<span class="ident" id="1906121">Fprint</span><span class="op" id="1906127">(</span><span class="ident" id="1906128">os</span><span class="op" id="1906130">.</span><span class="ident" id="1906131">Stdout</span><span class="op" id="1906137">,</span>&nbsp;<span class="ident" id="1906139">a</span><span class="op" id="1906140">...</span><span class="op" id="1906143">)</span><br>
<span class="lineno"></span><span class="op" id="1906145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="1906148">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="1906243">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1906306">func</span>&nbsp;<span class="ident" id="1906311">Sprint</span><span class="op" id="1906317">(</span><span class="ident" id="1906318">a</span>&nbsp;<span class="op" id="1906320">...</span><span class="keyword" id="1906323">interface</span><span class="op" id="1906332">{</span><span class="op" id="1906333">}</span><span class="op" id="1906334">)</span>&nbsp;<span class="builtintype" id="1906336">string</span>&nbsp;<span class="op" id="1906343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1906346">p</span>&nbsp;<span class="op" id="1906348">:=</span>&nbsp;<span class="ident" id="1906351">newPrinter</span><span class="op" id="1906361">(</span><span class="op" id="1906362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1906365">p</span><span class="op" id="1906366">.</span><span class="ident" id="1906367">doPrint</span><span class="op" id="1906374">(</span><span class="ident" id="1906375">a</span><span class="op" id="1906376">,</span>&nbsp;<span class="ident" id="1906378">false</span><span class="op" id="1906383">,</span>&nbsp;<span class="ident" id="1906385">false</span><span class="op" id="1906390">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1906393">s</span>&nbsp;<span class="op" id="1906395">:=</span>&nbsp;<span class="builtintype" id="1906398">string</span><span class="op" id="1906404">(</span><span class="ident" id="1906405">p</span><span class="op" id="1906406">.</span><span class="ident" id="1906407">buf</span><span class="op" id="1906410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1906413">p</span><span class="op" id="1906414">.</span><span class="ident" id="1906415">free</span><span class="op" id="1906419">(</span><span class="op" id="1906420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1906423">return</span>&nbsp;<span class="ident" id="1906430">s</span><br>
<span class="lineno"></span><span class="op" id="1906432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="1906435">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="1906495">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="1906552">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1906580">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="1906660">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="1906731">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1906806">func</span>&nbsp;<span class="ident" id="1906811">Fprintln</span><span class="op" id="1906819">(</span><span class="ident" id="1906820">w</span>&nbsp;<span class="ident" id="1906822">io</span><span class="op" id="1906824">.</span><span class="ident" id="1906825">Writer</span><span class="op" id="1906831">,</span>&nbsp;<span class="ident" id="1906833">a</span>&nbsp;<span class="op" id="1906835">...</span><span class="keyword" id="1906838">interface</span><span class="op" id="1906847">{</span><span class="op" id="1906848">}</span><span class="op" id="1906849">)</span>&nbsp;<span class="op" id="1906851">(</span><span class="ident" id="1906852">n</span>&nbsp;<span class="builtintype" id="1906854">int</span><span class="op" id="1906857">,</span>&nbsp;<span class="ident" id="1906859">err</span>&nbsp;<span class="builtintype" id="1906863">error</span><span class="op" id="1906868">)</span>&nbsp;<span class="op" id="1906870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1906873">p</span>&nbsp;<span class="op" id="1906875">:=</span>&nbsp;<span class="ident" id="1906878">newPrinter</span><span class="op" id="1906888">(</span><span class="op" id="1906889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1906892">p</span><span class="op" id="1906893">.</span><span class="ident" id="1906894">doPrint</span><span class="op" id="1906901">(</span><span class="ident" id="1906902">a</span><span class="op" id="1906903">,</span>&nbsp;<span class="ident" id="1906905">true</span><span class="op" id="1906909">,</span>&nbsp;<span class="ident" id="1906911">true</span><span class="op" id="1906915">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1906918">n</span><span class="op" id="1906919">,</span>&nbsp;<span class="ident" id="1906921">err</span>&nbsp;<span class="op" id="1906925">=</span>&nbsp;<span class="ident" id="1906927">w</span><span class="op" id="1906928">.</span><span class="ident" id="1906929">Write</span><span class="op" id="1906934">(</span><span class="ident" id="1906935">p</span><span class="op" id="1906936">.</span><span class="ident" id="1906937">buf</span><span class="op" id="1906940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1906943">p</span><span class="op" id="1906944">.</span><span class="ident" id="1906945">free</span><span class="op" id="1906949">(</span><span class="op" id="1906950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1906953">return</span><br>
<span class="lineno"></span><span class="op" id="1906960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="1906963">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="1907056">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="1907127">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1907202">func</span>&nbsp;<span class="ident" id="1907207">Println</span><span class="op" id="1907214">(</span><span class="ident" id="1907215">a</span>&nbsp;<span class="op" id="1907217">...</span><span class="keyword" id="1907220">interface</span><span class="op" id="1907229">{</span><span class="op" id="1907230">}</span><span class="op" id="1907231">)</span>&nbsp;<span class="op" id="1907233">(</span><span class="ident" id="1907234">n</span>&nbsp;<span class="builtintype" id="1907236">int</span><span class="op" id="1907239">,</span>&nbsp;<span class="ident" id="1907241">err</span>&nbsp;<span class="builtintype" id="1907245">error</span><span class="op" id="1907250">)</span>&nbsp;<span class="op" id="1907252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1907255">return</span>&nbsp;<span class="ident" id="1907262">Fprintln</span><span class="op" id="1907270">(</span><span class="ident" id="1907271">os</span><span class="op" id="1907273">.</span><span class="ident" id="1907274">Stdout</span><span class="op" id="1907280">,</span>&nbsp;<span class="ident" id="1907282">a</span><span class="op" id="1907283">...</span><span class="op" id="1907286">)</span><br>
<span class="lineno">265</span><span class="op" id="1907288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1907291">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="1907388">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="1907459">func</span>&nbsp;<span class="ident" id="1907464">Sprintln</span><span class="op" id="1907472">(</span><span class="ident" id="1907473">a</span>&nbsp;<span class="op" id="1907475">...</span><span class="keyword" id="1907478">interface</span><span class="op" id="1907487">{</span><span class="op" id="1907488">}</span><span class="op" id="1907489">)</span>&nbsp;<span class="builtintype" id="1907491">string</span>&nbsp;<span class="op" id="1907498">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1907501">p</span>&nbsp;<span class="op" id="1907503">:=</span>&nbsp;<span class="ident" id="1907506">newPrinter</span><span class="op" id="1907516">(</span><span class="op" id="1907517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1907520">p</span><span class="op" id="1907521">.</span><span class="ident" id="1907522">doPrint</span><span class="op" id="1907529">(</span><span class="ident" id="1907530">a</span><span class="op" id="1907531">,</span>&nbsp;<span class="ident" id="1907533">true</span><span class="op" id="1907537">,</span>&nbsp;<span class="ident" id="1907539">true</span><span class="op" id="1907543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1907546">s</span>&nbsp;<span class="op" id="1907548">:=</span>&nbsp;<span class="builtintype" id="1907551">string</span><span class="op" id="1907557">(</span><span class="ident" id="1907558">p</span><span class="op" id="1907559">.</span><span class="ident" id="1907560">buf</span><span class="op" id="1907563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1907566">p</span><span class="op" id="1907567">.</span><span class="ident" id="1907568">free</span><span class="op" id="1907572">(</span><span class="op" id="1907573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1907576">return</span>&nbsp;<span class="ident" id="1907583">s</span><br>
<span class="lineno">275</span><span class="op" id="1907585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1907588">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="1907641">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1907703">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="1907764">func</span>&nbsp;<span class="ident" id="1907769">getField</span><span class="op" id="1907777">(</span><span class="ident" id="1907778">v</span>&nbsp;<span class="ident" id="1907780">reflect</span><span class="op" id="1907787">.</span><span class="ident" id="1907788">Value</span><span class="op" id="1907793">,</span>&nbsp;<span class="ident" id="1907795">i</span>&nbsp;<span class="builtintype" id="1907797">int</span><span class="op" id="1907800">)</span>&nbsp;<span class="ident" id="1907802">reflect</span><span class="op" id="1907809">.</span><span class="ident" id="1907810">Value</span>&nbsp;<span class="op" id="1907816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1907819">val</span>&nbsp;<span class="op" id="1907823">:=</span>&nbsp;<span class="ident" id="1907826">v</span><span class="op" id="1907827">.</span><span class="ident" id="1907828">Field</span><span class="op" id="1907833">(</span><span class="ident" id="1907834">i</span><span class="op" id="1907835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1907838">if</span>&nbsp;<span class="ident" id="1907841">val</span><span class="op" id="1907844">.</span><span class="ident" id="1907845">Kind</span><span class="op" id="1907849">(</span><span class="op" id="1907850">)</span>&nbsp;<span class="op" id="1907852">==</span>&nbsp;<span class="ident" id="1907855">reflect</span><span class="op" id="1907862">.</span><span class="ident" id="1907863">Interface</span>&nbsp;<span class="op" id="1907873">&amp;&amp;</span>&nbsp;<span class="op" id="1907876">!</span><span class="ident" id="1907877">val</span><span class="op" id="1907880">.</span><span class="ident" id="1907881">IsNil</span><span class="op" id="1907886">(</span><span class="op" id="1907887">)</span>&nbsp;<span class="op" id="1907889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1907893">val</span>&nbsp;<span class="op" id="1907897">=</span>&nbsp;<span class="ident" id="1907899">val</span><span class="op" id="1907902">.</span><span class="ident" id="1907903">Elem</span><span class="op" id="1907907">(</span><span class="op" id="1907908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1907911">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1907914">return</span>&nbsp;<span class="ident" id="1907921">val</span><br>
<span class="lineno"></span><span class="op" id="1907925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1907928">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="1908020">func</span>&nbsp;<span class="ident" id="1908025">parsenum</span><span class="op" id="1908033">(</span><span class="ident" id="1908034">s</span>&nbsp;<span class="builtintype" id="1908036">string</span><span class="op" id="1908042">,</span>&nbsp;<span class="ident" id="1908044">start</span><span class="op" id="1908049">,</span>&nbsp;<span class="ident" id="1908051">end</span>&nbsp;<span class="builtintype" id="1908055">int</span><span class="op" id="1908058">)</span>&nbsp;<span class="op" id="1908060">(</span><span class="ident" id="1908061">num</span>&nbsp;<span class="builtintype" id="1908065">int</span><span class="op" id="1908068">,</span>&nbsp;<span class="ident" id="1908070">isnum</span>&nbsp;<span class="builtintype" id="1908076">bool</span><span class="op" id="1908080">,</span>&nbsp;<span class="ident" id="1908082">newi</span>&nbsp;<span class="builtintype" id="1908087">int</span><span class="op" id="1908090">)</span>&nbsp;<span class="op" id="1908092">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908095">if</span>&nbsp;<span class="ident" id="1908098">start</span>&nbsp;<span class="op" id="1908104">&gt;=</span>&nbsp;<span class="ident" id="1908107">end</span>&nbsp;<span class="op" id="1908111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908115">return</span>&nbsp;<span class="num" id="1908122">0</span><span class="op" id="1908123">,</span>&nbsp;<span class="ident" id="1908125">false</span><span class="op" id="1908130">,</span>&nbsp;<span class="ident" id="1908132">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1908137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908140">for</span>&nbsp;<span class="ident" id="1908144">newi</span>&nbsp;<span class="op" id="1908149">=</span>&nbsp;<span class="ident" id="1908151">start</span><span class="op" id="1908156">;</span>&nbsp;<span class="ident" id="1908158">newi</span>&nbsp;<span class="op" id="1908163">&lt;</span>&nbsp;<span class="ident" id="1908165">end</span>&nbsp;<span class="op" id="1908169">&amp;&amp;</span>&nbsp;<span class="string" id="1908172">&#39;0&#39;</span>&nbsp;<span class="op" id="1908176">&lt;=</span>&nbsp;<span class="ident" id="1908179">s</span><span class="op" id="1908180">[</span><span class="ident" id="1908181">newi</span><span class="op" id="1908185">]</span>&nbsp;<span class="op" id="1908187">&amp;&amp;</span>&nbsp;<span class="ident" id="1908190">s</span><span class="op" id="1908191">[</span><span class="ident" id="1908192">newi</span><span class="op" id="1908196">]</span>&nbsp;<span class="op" id="1908198">&lt;=</span>&nbsp;<span class="string" id="1908201">&#39;9&#39;</span><span class="op" id="1908204">;</span>&nbsp;<span class="ident" id="1908206">newi</span><span class="op" id="1908210">++</span>&nbsp;<span class="op" id="1908213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908217">num</span>&nbsp;<span class="op" id="1908221">=</span>&nbsp;<span class="ident" id="1908223">num</span><span class="op" id="1908226">*</span><span class="num" id="1908227">10</span>&nbsp;<span class="op" id="1908230">+</span>&nbsp;<span class="builtintype" id="1908232">int</span><span class="op" id="1908235">(</span><span class="ident" id="1908236">s</span><span class="op" id="1908237">[</span><span class="ident" id="1908238">newi</span><span class="op" id="1908242">]</span><span class="op" id="1908243">-</span><span class="string" id="1908244">&#39;0&#39;</span><span class="op" id="1908247">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908251">isnum</span>&nbsp;<span class="op" id="1908257">=</span>&nbsp;<span class="ident" id="1908259">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1908265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908268">return</span><br>
<span class="lineno"></span><span class="op" id="1908275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="1908278">func</span>&nbsp;<span class="op" id="1908283">(</span><span class="ident" id="1908284">p</span>&nbsp;<span class="op" id="1908286">*</span><span class="ident" id="1908287">pp</span><span class="op" id="1908289">)</span>&nbsp;<span class="ident" id="1908291">unknownType</span><span class="op" id="1908302">(</span><span class="ident" id="1908303">v</span>&nbsp;<span class="ident" id="1908305">reflect</span><span class="op" id="1908312">.</span><span class="ident" id="1908313">Value</span><span class="op" id="1908318">)</span>&nbsp;<span class="op" id="1908320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908323">if</span>&nbsp;<span class="op" id="1908326">!</span><span class="ident" id="1908327">v</span><span class="op" id="1908328">.</span><span class="ident" id="1908329">IsValid</span><span class="op" id="1908336">(</span><span class="op" id="1908337">)</span>&nbsp;<span class="op" id="1908339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908343">p</span><span class="op" id="1908344">.</span><span class="ident" id="1908345">buf</span><span class="op" id="1908348">.</span><span class="ident" id="1908349">Write</span><span class="op" id="1908354">(</span><span class="ident" id="1908355">nilAngleBytes</span><span class="op" id="1908368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908372">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1908380">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908383">p</span><span class="op" id="1908384">.</span><span class="ident" id="1908385">buf</span><span class="op" id="1908388">.</span><span class="ident" id="1908389">WriteByte</span><span class="op" id="1908398">(</span><span class="string" id="1908399">&#39;?&#39;</span><span class="op" id="1908402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908405">p</span><span class="op" id="1908406">.</span><span class="ident" id="1908407">buf</span><span class="op" id="1908410">.</span><span class="ident" id="1908411">WriteString</span><span class="op" id="1908422">(</span><span class="ident" id="1908423">v</span><span class="op" id="1908424">.</span><span class="ident" id="1908425">Type</span><span class="op" id="1908429">(</span><span class="op" id="1908430">)</span><span class="op" id="1908431">.</span><span class="ident" id="1908432">String</span><span class="op" id="1908438">(</span><span class="op" id="1908439">)</span><span class="op" id="1908440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908443">p</span><span class="op" id="1908444">.</span><span class="ident" id="1908445">buf</span><span class="op" id="1908448">.</span><span class="ident" id="1908449">WriteByte</span><span class="op" id="1908458">(</span><span class="string" id="1908459">&#39;?&#39;</span><span class="op" id="1908462">)</span><br>
<span class="lineno"></span><span class="op" id="1908464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="1908467">func</span>&nbsp;<span class="op" id="1908472">(</span><span class="ident" id="1908473">p</span>&nbsp;<span class="op" id="1908475">*</span><span class="ident" id="1908476">pp</span><span class="op" id="1908478">)</span>&nbsp;<span class="ident" id="1908480">badVerb</span><span class="op" id="1908487">(</span><span class="ident" id="1908488">verb</span>&nbsp;<span class="builtintype" id="1908493">rune</span><span class="op" id="1908497">)</span>&nbsp;<span class="op" id="1908499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908502">p</span><span class="op" id="1908503">.</span><span class="ident" id="1908504">erroring</span>&nbsp;<span class="op" id="1908513">=</span>&nbsp;<span class="ident" id="1908515">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908521">p</span><span class="op" id="1908522">.</span><span class="ident" id="1908523">add</span><span class="op" id="1908526">(</span><span class="string" id="1908527">&#39;%&#39;</span><span class="op" id="1908530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908533">p</span><span class="op" id="1908534">.</span><span class="ident" id="1908535">add</span><span class="op" id="1908538">(</span><span class="string" id="1908539">&#39;!&#39;</span><span class="op" id="1908542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908545">p</span><span class="op" id="1908546">.</span><span class="ident" id="1908547">add</span><span class="op" id="1908550">(</span><span class="ident" id="1908551">verb</span><span class="op" id="1908555">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908558">p</span><span class="op" id="1908559">.</span><span class="ident" id="1908560">add</span><span class="op" id="1908563">(</span><span class="string" id="1908564">&#39;(&#39;</span><span class="op" id="1908567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908570">switch</span>&nbsp;<span class="op" id="1908577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908580">case</span>&nbsp;<span class="ident" id="1908585">p</span><span class="op" id="1908586">.</span><span class="ident" id="1908587">arg</span>&nbsp;<span class="op" id="1908591">!=</span>&nbsp;<span class="ident" id="1908594">nil</span><span class="op" id="1908597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908601">p</span><span class="op" id="1908602">.</span><span class="ident" id="1908603">buf</span><span class="op" id="1908606">.</span><span class="ident" id="1908607">WriteString</span><span class="op" id="1908618">(</span><span class="ident" id="1908619">reflect</span><span class="op" id="1908626">.</span><span class="ident" id="1908627">TypeOf</span><span class="op" id="1908633">(</span><span class="ident" id="1908634">p</span><span class="op" id="1908635">.</span><span class="ident" id="1908636">arg</span><span class="op" id="1908639">)</span><span class="op" id="1908640">.</span><span class="ident" id="1908641">String</span><span class="op" id="1908647">(</span><span class="op" id="1908648">)</span><span class="op" id="1908649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908653">p</span><span class="op" id="1908654">.</span><span class="ident" id="1908655">add</span><span class="op" id="1908658">(</span><span class="string" id="1908659">&#39;=&#39;</span><span class="op" id="1908662">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908666">p</span><span class="op" id="1908667">.</span><span class="ident" id="1908668">printArg</span><span class="op" id="1908676">(</span><span class="ident" id="1908677">p</span><span class="op" id="1908678">.</span><span class="ident" id="1908679">arg</span><span class="op" id="1908682">,</span>&nbsp;<span class="string" id="1908684">&#39;v&#39;</span><span class="op" id="1908687">,</span>&nbsp;<span class="num" id="1908689">0</span><span class="op" id="1908690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908693">case</span>&nbsp;<span class="ident" id="1908698">p</span><span class="op" id="1908699">.</span><span class="ident" id="1908700">value</span><span class="op" id="1908705">.</span><span class="ident" id="1908706">IsValid</span><span class="op" id="1908713">(</span><span class="op" id="1908714">)</span><span class="op" id="1908715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908719">p</span><span class="op" id="1908720">.</span><span class="ident" id="1908721">buf</span><span class="op" id="1908724">.</span><span class="ident" id="1908725">WriteString</span><span class="op" id="1908736">(</span><span class="ident" id="1908737">p</span><span class="op" id="1908738">.</span><span class="ident" id="1908739">value</span><span class="op" id="1908744">.</span><span class="ident" id="1908745">Type</span><span class="op" id="1908749">(</span><span class="op" id="1908750">)</span><span class="op" id="1908751">.</span><span class="ident" id="1908752">String</span><span class="op" id="1908758">(</span><span class="op" id="1908759">)</span><span class="op" id="1908760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908764">p</span><span class="op" id="1908765">.</span><span class="ident" id="1908766">add</span><span class="op" id="1908769">(</span><span class="string" id="1908770">&#39;=&#39;</span><span class="op" id="1908773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908777">p</span><span class="op" id="1908778">.</span><span class="ident" id="1908779">printValue</span><span class="op" id="1908789">(</span><span class="ident" id="1908790">p</span><span class="op" id="1908791">.</span><span class="ident" id="1908792">value</span><span class="op" id="1908797">,</span>&nbsp;<span class="string" id="1908799">&#39;v&#39;</span><span class="op" id="1908802">,</span>&nbsp;<span class="num" id="1908804">0</span><span class="op" id="1908805">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908808">default</span><span class="op" id="1908815">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908819">p</span><span class="op" id="1908820">.</span><span class="ident" id="1908821">buf</span><span class="op" id="1908824">.</span><span class="ident" id="1908825">Write</span><span class="op" id="1908830">(</span><span class="ident" id="1908831">nilAngleBytes</span><span class="op" id="1908844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1908847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908850">p</span><span class="op" id="1908851">.</span><span class="ident" id="1908852">add</span><span class="op" id="1908855">(</span><span class="string" id="1908856">&#39;)&#39;</span><span class="op" id="1908859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908862">p</span><span class="op" id="1908863">.</span><span class="ident" id="1908864">erroring</span>&nbsp;<span class="op" id="1908873">=</span>&nbsp;<span class="ident" id="1908875">false</span><br>
<span class="lineno">330</span><span class="op" id="1908881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1908884">func</span>&nbsp;<span class="op" id="1908889">(</span><span class="ident" id="1908890">p</span>&nbsp;<span class="op" id="1908892">*</span><span class="ident" id="1908893">pp</span><span class="op" id="1908895">)</span>&nbsp;<span class="ident" id="1908897">fmtBool</span><span class="op" id="1908904">(</span><span class="ident" id="1908905">v</span>&nbsp;<span class="builtintype" id="1908907">bool</span><span class="op" id="1908911">,</span>&nbsp;<span class="ident" id="1908913">verb</span>&nbsp;<span class="builtintype" id="1908918">rune</span><span class="op" id="1908922">)</span>&nbsp;<span class="op" id="1908924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908927">switch</span>&nbsp;<span class="ident" id="1908934">verb</span>&nbsp;<span class="op" id="1908939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908942">case</span>&nbsp;<span class="string" id="1908947">&#39;t&#39;</span><span class="op" id="1908950">,</span>&nbsp;<span class="string" id="1908952">&#39;v&#39;</span><span class="op" id="1908955">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908959">p</span><span class="op" id="1908960">.</span><span class="ident" id="1908961">fmt</span><span class="op" id="1908964">.</span><span class="ident" id="1908965">fmt_boolean</span><span class="op" id="1908976">(</span><span class="ident" id="1908977">v</span><span class="op" id="1908978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1908981">default</span><span class="op" id="1908988">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1908992">p</span><span class="op" id="1908993">.</span><span class="ident" id="1908994">badVerb</span><span class="op" id="1909001">(</span><span class="ident" id="1909002">verb</span><span class="op" id="1909006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1909009">}</span><br>
<span class="lineno"></span><span class="op" id="1909011">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="1909014">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="1909057">func</span>&nbsp;<span class="op" id="1909062">(</span><span class="ident" id="1909063">p</span>&nbsp;<span class="op" id="1909065">*</span><span class="ident" id="1909066">pp</span><span class="op" id="1909068">)</span>&nbsp;<span class="ident" id="1909070">fmtC</span><span class="op" id="1909074">(</span><span class="ident" id="1909075">c</span>&nbsp;<span class="ident" id="1909077">int64</span><span class="op" id="1909082">)</span>&nbsp;<span class="op" id="1909084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909087">r</span>&nbsp;<span class="op" id="1909089">:=</span>&nbsp;<span class="builtintype" id="1909092">rune</span><span class="op" id="1909096">(</span><span class="ident" id="1909097">c</span><span class="op" id="1909098">)</span>&nbsp;<span class="comment" id="1909100">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909124">if</span>&nbsp;<span class="ident" id="1909127">int64</span><span class="op" id="1909132">(</span><span class="ident" id="1909133">r</span><span class="op" id="1909134">)</span>&nbsp;<span class="op" id="1909136">!=</span>&nbsp;<span class="ident" id="1909139">c</span>&nbsp;<span class="op" id="1909141">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909145">r</span>&nbsp;<span class="op" id="1909147">=</span>&nbsp;<span class="ident" id="1909149">utf8</span><span class="op" id="1909153">.</span><span class="ident" id="1909154">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1909165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909168">w</span>&nbsp;<span class="op" id="1909170">:=</span>&nbsp;<span class="ident" id="1909173">utf8</span><span class="op" id="1909177">.</span><span class="ident" id="1909178">EncodeRune</span><span class="op" id="1909188">(</span><span class="ident" id="1909189">p</span><span class="op" id="1909190">.</span><span class="ident" id="1909191">runeBuf</span><span class="op" id="1909198">[</span><span class="num" id="1909199">0</span><span class="op" id="1909200">:</span><span class="ident" id="1909201">utf8</span><span class="op" id="1909205">.</span><span class="ident" id="1909206">UTFMax</span><span class="op" id="1909212">]</span><span class="op" id="1909213">,</span>&nbsp;<span class="ident" id="1909215">r</span><span class="op" id="1909216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909219">p</span><span class="op" id="1909220">.</span><span class="ident" id="1909221">fmt</span><span class="op" id="1909224">.</span><span class="ident" id="1909225">pad</span><span class="op" id="1909228">(</span><span class="ident" id="1909229">p</span><span class="op" id="1909230">.</span><span class="ident" id="1909231">runeBuf</span><span class="op" id="1909238">[</span><span class="num" id="1909239">0</span><span class="op" id="1909240">:</span><span class="ident" id="1909241">w</span><span class="op" id="1909242">]</span><span class="op" id="1909243">)</span><br>
<span class="lineno"></span><span class="op" id="1909245">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="1909248">func</span>&nbsp;<span class="op" id="1909253">(</span><span class="ident" id="1909254">p</span>&nbsp;<span class="op" id="1909256">*</span><span class="ident" id="1909257">pp</span><span class="op" id="1909259">)</span>&nbsp;<span class="ident" id="1909261">fmtInt64</span><span class="op" id="1909269">(</span><span class="ident" id="1909270">v</span>&nbsp;<span class="ident" id="1909272">int64</span><span class="op" id="1909277">,</span>&nbsp;<span class="ident" id="1909279">verb</span>&nbsp;<span class="builtintype" id="1909284">rune</span><span class="op" id="1909288">)</span>&nbsp;<span class="op" id="1909290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909293">switch</span>&nbsp;<span class="ident" id="1909300">verb</span>&nbsp;<span class="op" id="1909305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909308">case</span>&nbsp;<span class="string" id="1909313">&#39;b&#39;</span><span class="op" id="1909316">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909320">p</span><span class="op" id="1909321">.</span><span class="ident" id="1909322">fmt</span><span class="op" id="1909325">.</span><span class="ident" id="1909326">integer</span><span class="op" id="1909333">(</span><span class="ident" id="1909334">v</span><span class="op" id="1909335">,</span>&nbsp;<span class="num" id="1909337">2</span><span class="op" id="1909338">,</span>&nbsp;<span class="ident" id="1909340">signed</span><span class="op" id="1909346">,</span>&nbsp;<span class="ident" id="1909348">ldigits</span><span class="op" id="1909355">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909358">case</span>&nbsp;<span class="string" id="1909363">&#39;c&#39;</span><span class="op" id="1909366">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909370">p</span><span class="op" id="1909371">.</span><span class="ident" id="1909372">fmtC</span><span class="op" id="1909376">(</span><span class="ident" id="1909377">v</span><span class="op" id="1909378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909381">case</span>&nbsp;<span class="string" id="1909386">&#39;d&#39;</span><span class="op" id="1909389">,</span>&nbsp;<span class="string" id="1909391">&#39;v&#39;</span><span class="op" id="1909394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909398">p</span><span class="op" id="1909399">.</span><span class="ident" id="1909400">fmt</span><span class="op" id="1909403">.</span><span class="ident" id="1909404">integer</span><span class="op" id="1909411">(</span><span class="ident" id="1909412">v</span><span class="op" id="1909413">,</span>&nbsp;<span class="num" id="1909415">10</span><span class="op" id="1909417">,</span>&nbsp;<span class="ident" id="1909419">signed</span><span class="op" id="1909425">,</span>&nbsp;<span class="ident" id="1909427">ldigits</span><span class="op" id="1909434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909437">case</span>&nbsp;<span class="string" id="1909442">&#39;o&#39;</span><span class="op" id="1909445">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909449">p</span><span class="op" id="1909450">.</span><span class="ident" id="1909451">fmt</span><span class="op" id="1909454">.</span><span class="ident" id="1909455">integer</span><span class="op" id="1909462">(</span><span class="ident" id="1909463">v</span><span class="op" id="1909464">,</span>&nbsp;<span class="num" id="1909466">8</span><span class="op" id="1909467">,</span>&nbsp;<span class="ident" id="1909469">signed</span><span class="op" id="1909475">,</span>&nbsp;<span class="ident" id="1909477">ldigits</span><span class="op" id="1909484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909487">case</span>&nbsp;<span class="string" id="1909492">&#39;q&#39;</span><span class="op" id="1909495">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909499">if</span>&nbsp;<span class="num" id="1909502">0</span>&nbsp;<span class="op" id="1909504">&lt;=</span>&nbsp;<span class="ident" id="1909507">v</span>&nbsp;<span class="op" id="1909509">&amp;&amp;</span>&nbsp;<span class="ident" id="1909512">v</span>&nbsp;<span class="op" id="1909514">&lt;=</span>&nbsp;<span class="ident" id="1909517">utf8</span><span class="op" id="1909521">.</span><span class="ident" id="1909522">MaxRune</span>&nbsp;<span class="op" id="1909530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909535">p</span><span class="op" id="1909536">.</span><span class="ident" id="1909537">fmt</span><span class="op" id="1909540">.</span><span class="ident" id="1909541">fmt_qc</span><span class="op" id="1909547">(</span><span class="ident" id="1909548">v</span><span class="op" id="1909549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1909553">}</span>&nbsp;<span class="keyword" id="1909555">else</span>&nbsp;<span class="op" id="1909560">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909565">p</span><span class="op" id="1909566">.</span><span class="ident" id="1909567">badVerb</span><span class="op" id="1909574">(</span><span class="ident" id="1909575">verb</span><span class="op" id="1909579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1909583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909586">case</span>&nbsp;<span class="string" id="1909591">&#39;x&#39;</span><span class="op" id="1909594">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909598">p</span><span class="op" id="1909599">.</span><span class="ident" id="1909600">fmt</span><span class="op" id="1909603">.</span><span class="ident" id="1909604">integer</span><span class="op" id="1909611">(</span><span class="ident" id="1909612">v</span><span class="op" id="1909613">,</span>&nbsp;<span class="num" id="1909615">16</span><span class="op" id="1909617">,</span>&nbsp;<span class="ident" id="1909619">signed</span><span class="op" id="1909625">,</span>&nbsp;<span class="ident" id="1909627">ldigits</span><span class="op" id="1909634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909637">case</span>&nbsp;<span class="string" id="1909642">&#39;U&#39;</span><span class="op" id="1909645">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909649">p</span><span class="op" id="1909650">.</span><span class="ident" id="1909651">fmtUnicode</span><span class="op" id="1909661">(</span><span class="ident" id="1909662">v</span><span class="op" id="1909663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909666">case</span>&nbsp;<span class="string" id="1909671">&#39;X&#39;</span><span class="op" id="1909674">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909678">p</span><span class="op" id="1909679">.</span><span class="ident" id="1909680">fmt</span><span class="op" id="1909683">.</span><span class="ident" id="1909684">integer</span><span class="op" id="1909691">(</span><span class="ident" id="1909692">v</span><span class="op" id="1909693">,</span>&nbsp;<span class="num" id="1909695">16</span><span class="op" id="1909697">,</span>&nbsp;<span class="ident" id="1909699">signed</span><span class="op" id="1909705">,</span>&nbsp;<span class="ident" id="1909707">udigits</span><span class="op" id="1909714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1909717">default</span><span class="op" id="1909724">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909728">p</span><span class="op" id="1909729">.</span><span class="ident" id="1909730">badVerb</span><span class="op" id="1909737">(</span><span class="ident" id="1909738">verb</span><span class="op" id="1909742">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1909745">}</span><br>
<span class="lineno"></span><span class="op" id="1909747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1909750">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1909820">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="1909881">func</span>&nbsp;<span class="op" id="1909886">(</span><span class="ident" id="1909887">p</span>&nbsp;<span class="op" id="1909889">*</span><span class="ident" id="1909890">pp</span><span class="op" id="1909892">)</span>&nbsp;<span class="ident" id="1909894">fmt0x64</span><span class="op" id="1909901">(</span><span class="ident" id="1909902">v</span>&nbsp;<span class="ident" id="1909904">uint64</span><span class="op" id="1909910">,</span>&nbsp;<span class="ident" id="1909912">leading0x</span>&nbsp;<span class="builtintype" id="1909922">bool</span><span class="op" id="1909926">)</span>&nbsp;<span class="op" id="1909928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909931">sharp</span>&nbsp;<span class="op" id="1909937">:=</span>&nbsp;<span class="ident" id="1909940">p</span><span class="op" id="1909941">.</span><span class="ident" id="1909942">fmt</span><span class="op" id="1909945">.</span><span class="ident" id="1909946">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909953">p</span><span class="op" id="1909954">.</span><span class="ident" id="1909955">fmt</span><span class="op" id="1909958">.</span><span class="ident" id="1909959">sharp</span>&nbsp;<span class="op" id="1909965">=</span>&nbsp;<span class="ident" id="1909967">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1909978">p</span><span class="op" id="1909979">.</span><span class="ident" id="1909980">fmt</span><span class="op" id="1909983">.</span><span class="ident" id="1909984">integer</span><span class="op" id="1909991">(</span><span class="ident" id="1909992">int64</span><span class="op" id="1909997">(</span><span class="ident" id="1909998">v</span><span class="op" id="1909999">)</span><span class="op" id="1910000">,</span>&nbsp;<span class="num" id="1910002">16</span><span class="op" id="1910004">,</span>&nbsp;<span class="ident" id="1910006">unsigned</span><span class="op" id="1910014">,</span>&nbsp;<span class="ident" id="1910016">ldigits</span><span class="op" id="1910023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910026">p</span><span class="op" id="1910027">.</span><span class="ident" id="1910028">fmt</span><span class="op" id="1910031">.</span><span class="ident" id="1910032">sharp</span>&nbsp;<span class="op" id="1910038">=</span>&nbsp;<span class="ident" id="1910040">sharp</span><br>
<span class="lineno">385</span><span class="op" id="1910046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1910049">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="1910098">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="1910169">func</span>&nbsp;<span class="op" id="1910174">(</span><span class="ident" id="1910175">p</span>&nbsp;<span class="op" id="1910177">*</span><span class="ident" id="1910178">pp</span><span class="op" id="1910180">)</span>&nbsp;<span class="ident" id="1910182">fmtUnicode</span><span class="op" id="1910192">(</span><span class="ident" id="1910193">v</span>&nbsp;<span class="ident" id="1910195">int64</span><span class="op" id="1910200">)</span>&nbsp;<span class="op" id="1910202">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910205">precPresent</span>&nbsp;<span class="op" id="1910217">:=</span>&nbsp;<span class="ident" id="1910220">p</span><span class="op" id="1910221">.</span><span class="ident" id="1910222">fmt</span><span class="op" id="1910225">.</span><span class="ident" id="1910226">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910239">sharp</span>&nbsp;<span class="op" id="1910245">:=</span>&nbsp;<span class="ident" id="1910248">p</span><span class="op" id="1910249">.</span><span class="ident" id="1910250">fmt</span><span class="op" id="1910253">.</span><span class="ident" id="1910254">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910261">p</span><span class="op" id="1910262">.</span><span class="ident" id="1910263">fmt</span><span class="op" id="1910266">.</span><span class="ident" id="1910267">sharp</span>&nbsp;<span class="op" id="1910273">=</span>&nbsp;<span class="ident" id="1910275">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910282">prec</span>&nbsp;<span class="op" id="1910287">:=</span>&nbsp;<span class="ident" id="1910290">p</span><span class="op" id="1910291">.</span><span class="ident" id="1910292">fmt</span><span class="op" id="1910295">.</span><span class="ident" id="1910296">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1910302">if</span>&nbsp;<span class="op" id="1910305">!</span><span class="ident" id="1910306">precPresent</span>&nbsp;<span class="op" id="1910318">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1910322">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910391">p</span><span class="op" id="1910392">.</span><span class="ident" id="1910393">fmt</span><span class="op" id="1910396">.</span><span class="ident" id="1910397">prec</span>&nbsp;<span class="op" id="1910402">=</span>&nbsp;<span class="num" id="1910404">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910408">p</span><span class="op" id="1910409">.</span><span class="ident" id="1910410">fmt</span><span class="op" id="1910413">.</span><span class="ident" id="1910414">precPresent</span>&nbsp;<span class="op" id="1910426">=</span>&nbsp;<span class="ident" id="1910428">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1910434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910437">p</span><span class="op" id="1910438">.</span><span class="ident" id="1910439">fmt</span><span class="op" id="1910442">.</span><span class="ident" id="1910443">unicode</span>&nbsp;<span class="op" id="1910451">=</span>&nbsp;<span class="ident" id="1910453">true</span>&nbsp;<span class="comment" id="1910458">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910473">p</span><span class="op" id="1910474">.</span><span class="ident" id="1910475">fmt</span><span class="op" id="1910478">.</span><span class="ident" id="1910479">uniQuote</span>&nbsp;<span class="op" id="1910488">=</span>&nbsp;<span class="ident" id="1910490">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910497">p</span><span class="op" id="1910498">.</span><span class="ident" id="1910499">fmt</span><span class="op" id="1910502">.</span><span class="ident" id="1910503">integer</span><span class="op" id="1910510">(</span><span class="ident" id="1910511">int64</span><span class="op" id="1910516">(</span><span class="ident" id="1910517">v</span><span class="op" id="1910518">)</span><span class="op" id="1910519">,</span>&nbsp;<span class="num" id="1910521">16</span><span class="op" id="1910523">,</span>&nbsp;<span class="ident" id="1910525">unsigned</span><span class="op" id="1910533">,</span>&nbsp;<span class="ident" id="1910535">udigits</span><span class="op" id="1910542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910545">p</span><span class="op" id="1910546">.</span><span class="ident" id="1910547">fmt</span><span class="op" id="1910550">.</span><span class="ident" id="1910551">unicode</span>&nbsp;<span class="op" id="1910559">=</span>&nbsp;<span class="ident" id="1910561">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910568">p</span><span class="op" id="1910569">.</span><span class="ident" id="1910570">fmt</span><span class="op" id="1910573">.</span><span class="ident" id="1910574">uniQuote</span>&nbsp;<span class="op" id="1910583">=</span>&nbsp;<span class="ident" id="1910585">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910592">p</span><span class="op" id="1910593">.</span><span class="ident" id="1910594">fmt</span><span class="op" id="1910597">.</span><span class="ident" id="1910598">prec</span>&nbsp;<span class="op" id="1910603">=</span>&nbsp;<span class="ident" id="1910605">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910611">p</span><span class="op" id="1910612">.</span><span class="ident" id="1910613">fmt</span><span class="op" id="1910616">.</span><span class="ident" id="1910617">precPresent</span>&nbsp;<span class="op" id="1910629">=</span>&nbsp;<span class="ident" id="1910631">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910644">p</span><span class="op" id="1910645">.</span><span class="ident" id="1910646">fmt</span><span class="op" id="1910649">.</span><span class="ident" id="1910650">sharp</span>&nbsp;<span class="op" id="1910656">=</span>&nbsp;<span class="ident" id="1910658">sharp</span><br>
<span class="lineno"></span><span class="op" id="1910664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1910667">func</span>&nbsp;<span class="op" id="1910672">(</span><span class="ident" id="1910673">p</span>&nbsp;<span class="op" id="1910675">*</span><span class="ident" id="1910676">pp</span><span class="op" id="1910678">)</span>&nbsp;<span class="ident" id="1910680">fmtUint64</span><span class="op" id="1910689">(</span><span class="ident" id="1910690">v</span>&nbsp;<span class="ident" id="1910692">uint64</span><span class="op" id="1910698">,</span>&nbsp;<span class="ident" id="1910700">verb</span>&nbsp;<span class="builtintype" id="1910705">rune</span><span class="op" id="1910709">)</span>&nbsp;<span class="op" id="1910711">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1910714">switch</span>&nbsp;<span class="ident" id="1910721">verb</span>&nbsp;<span class="op" id="1910726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1910729">case</span>&nbsp;<span class="string" id="1910734">&#39;b&#39;</span><span class="op" id="1910737">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910741">p</span><span class="op" id="1910742">.</span><span class="ident" id="1910743">fmt</span><span class="op" id="1910746">.</span><span class="ident" id="1910747">integer</span><span class="op" id="1910754">(</span><span class="ident" id="1910755">int64</span><span class="op" id="1910760">(</span><span class="ident" id="1910761">v</span><span class="op" id="1910762">)</span><span class="op" id="1910763">,</span>&nbsp;<span class="num" id="1910765">2</span><span class="op" id="1910766">,</span>&nbsp;<span class="ident" id="1910768">unsigned</span><span class="op" id="1910776">,</span>&nbsp;<span class="ident" id="1910778">ldigits</span><span class="op" id="1910785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1910788">case</span>&nbsp;<span class="string" id="1910793">&#39;c&#39;</span><span class="op" id="1910796">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910800">p</span><span class="op" id="1910801">.</span><span class="ident" id="1910802">fmtC</span><span class="op" id="1910806">(</span><span class="ident" id="1910807">int64</span><span class="op" id="1910812">(</span><span class="ident" id="1910813">v</span><span class="op" id="1910814">)</span><span class="op" id="1910815">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1910818">case</span>&nbsp;<span class="string" id="1910823">&#39;d&#39;</span><span class="op" id="1910826">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910830">p</span><span class="op" id="1910831">.</span><span class="ident" id="1910832">fmt</span><span class="op" id="1910835">.</span><span class="ident" id="1910836">integer</span><span class="op" id="1910843">(</span><span class="ident" id="1910844">int64</span><span class="op" id="1910849">(</span><span class="ident" id="1910850">v</span><span class="op" id="1910851">)</span><span class="op" id="1910852">,</span>&nbsp;<span class="num" id="1910854">10</span><span class="op" id="1910856">,</span>&nbsp;<span class="ident" id="1910858">unsigned</span><span class="op" id="1910866">,</span>&nbsp;<span class="ident" id="1910868">ldigits</span><span class="op" id="1910875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1910878">case</span>&nbsp;<span class="string" id="1910883">&#39;v&#39;</span><span class="op" id="1910886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1910890">if</span>&nbsp;<span class="ident" id="1910893">p</span><span class="op" id="1910894">.</span><span class="ident" id="1910895">fmt</span><span class="op" id="1910898">.</span><span class="ident" id="1910899">sharpV</span>&nbsp;<span class="op" id="1910906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910911">p</span><span class="op" id="1910912">.</span><span class="ident" id="1910913">fmt0x64</span><span class="op" id="1910920">(</span><span class="ident" id="1910921">v</span><span class="op" id="1910922">,</span>&nbsp;<span class="ident" id="1910924">true</span><span class="op" id="1910928">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1910932">}</span>&nbsp;<span class="keyword" id="1910934">else</span>&nbsp;<span class="op" id="1910939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1910944">p</span><span class="op" id="1910945">.</span><span class="ident" id="1910946">fmt</span><span class="op" id="1910949">.</span><span class="ident" id="1910950">integer</span><span class="op" id="1910957">(</span><span class="ident" id="1910958">int64</span><span class="op" id="1910963">(</span><span class="ident" id="1910964">v</span><span class="op" id="1910965">)</span><span class="op" id="1910966">,</span>&nbsp;<span class="num" id="1910968">10</span><span class="op" id="1910970">,</span>&nbsp;<span class="ident" id="1910972">unsigned</span><span class="op" id="1910980">,</span>&nbsp;<span class="ident" id="1910982">ldigits</span><span class="op" id="1910989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1910993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1910996">case</span>&nbsp;<span class="string" id="1911001">&#39;o&#39;</span><span class="op" id="1911004">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911008">p</span><span class="op" id="1911009">.</span><span class="ident" id="1911010">fmt</span><span class="op" id="1911013">.</span><span class="ident" id="1911014">integer</span><span class="op" id="1911021">(</span><span class="ident" id="1911022">int64</span><span class="op" id="1911027">(</span><span class="ident" id="1911028">v</span><span class="op" id="1911029">)</span><span class="op" id="1911030">,</span>&nbsp;<span class="num" id="1911032">8</span><span class="op" id="1911033">,</span>&nbsp;<span class="ident" id="1911035">unsigned</span><span class="op" id="1911043">,</span>&nbsp;<span class="ident" id="1911045">ldigits</span><span class="op" id="1911052">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911055">case</span>&nbsp;<span class="string" id="1911060">&#39;q&#39;</span><span class="op" id="1911063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911067">if</span>&nbsp;<span class="num" id="1911070">0</span>&nbsp;<span class="op" id="1911072">&lt;=</span>&nbsp;<span class="ident" id="1911075">v</span>&nbsp;<span class="op" id="1911077">&amp;&amp;</span>&nbsp;<span class="ident" id="1911080">v</span>&nbsp;<span class="op" id="1911082">&lt;=</span>&nbsp;<span class="ident" id="1911085">utf8</span><span class="op" id="1911089">.</span><span class="ident" id="1911090">MaxRune</span>&nbsp;<span class="op" id="1911098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911103">p</span><span class="op" id="1911104">.</span><span class="ident" id="1911105">fmt</span><span class="op" id="1911108">.</span><span class="ident" id="1911109">fmt_qc</span><span class="op" id="1911115">(</span><span class="ident" id="1911116">int64</span><span class="op" id="1911121">(</span><span class="ident" id="1911122">v</span><span class="op" id="1911123">)</span><span class="op" id="1911124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1911128">}</span>&nbsp;<span class="keyword" id="1911130">else</span>&nbsp;<span class="op" id="1911135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911140">p</span><span class="op" id="1911141">.</span><span class="ident" id="1911142">badVerb</span><span class="op" id="1911149">(</span><span class="ident" id="1911150">verb</span><span class="op" id="1911154">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1911158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911161">case</span>&nbsp;<span class="string" id="1911166">&#39;x&#39;</span><span class="op" id="1911169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911173">p</span><span class="op" id="1911174">.</span><span class="ident" id="1911175">fmt</span><span class="op" id="1911178">.</span><span class="ident" id="1911179">integer</span><span class="op" id="1911186">(</span><span class="ident" id="1911187">int64</span><span class="op" id="1911192">(</span><span class="ident" id="1911193">v</span><span class="op" id="1911194">)</span><span class="op" id="1911195">,</span>&nbsp;<span class="num" id="1911197">16</span><span class="op" id="1911199">,</span>&nbsp;<span class="ident" id="1911201">unsigned</span><span class="op" id="1911209">,</span>&nbsp;<span class="ident" id="1911211">ldigits</span><span class="op" id="1911218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911221">case</span>&nbsp;<span class="string" id="1911226">&#39;X&#39;</span><span class="op" id="1911229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911233">p</span><span class="op" id="1911234">.</span><span class="ident" id="1911235">fmt</span><span class="op" id="1911238">.</span><span class="ident" id="1911239">integer</span><span class="op" id="1911246">(</span><span class="ident" id="1911247">int64</span><span class="op" id="1911252">(</span><span class="ident" id="1911253">v</span><span class="op" id="1911254">)</span><span class="op" id="1911255">,</span>&nbsp;<span class="num" id="1911257">16</span><span class="op" id="1911259">,</span>&nbsp;<span class="ident" id="1911261">unsigned</span><span class="op" id="1911269">,</span>&nbsp;<span class="ident" id="1911271">udigits</span><span class="op" id="1911278">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911281">case</span>&nbsp;<span class="string" id="1911286">&#39;U&#39;</span><span class="op" id="1911289">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911293">p</span><span class="op" id="1911294">.</span><span class="ident" id="1911295">fmtUnicode</span><span class="op" id="1911305">(</span><span class="ident" id="1911306">int64</span><span class="op" id="1911311">(</span><span class="ident" id="1911312">v</span><span class="op" id="1911313">)</span><span class="op" id="1911314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911317">default</span><span class="op" id="1911324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911328">p</span><span class="op" id="1911329">.</span><span class="ident" id="1911330">badVerb</span><span class="op" id="1911337">(</span><span class="ident" id="1911338">verb</span><span class="op" id="1911342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1911345">}</span><br>
<span class="lineno">440</span><span class="op" id="1911347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1911350">func</span>&nbsp;<span class="op" id="1911355">(</span><span class="ident" id="1911356">p</span>&nbsp;<span class="op" id="1911358">*</span><span class="ident" id="1911359">pp</span><span class="op" id="1911361">)</span>&nbsp;<span class="ident" id="1911363">fmtFloat32</span><span class="op" id="1911373">(</span><span class="ident" id="1911374">v</span>&nbsp;<span class="builtintype" id="1911376">float32</span><span class="op" id="1911383">,</span>&nbsp;<span class="ident" id="1911385">verb</span>&nbsp;<span class="builtintype" id="1911390">rune</span><span class="op" id="1911394">)</span>&nbsp;<span class="op" id="1911396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911399">switch</span>&nbsp;<span class="ident" id="1911406">verb</span>&nbsp;<span class="op" id="1911411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911414">case</span>&nbsp;<span class="string" id="1911419">&#39;b&#39;</span><span class="op" id="1911422">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911426">p</span><span class="op" id="1911427">.</span><span class="ident" id="1911428">fmt</span><span class="op" id="1911431">.</span><span class="ident" id="1911432">fmt_fb32</span><span class="op" id="1911440">(</span><span class="ident" id="1911441">v</span><span class="op" id="1911442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911445">case</span>&nbsp;<span class="string" id="1911450">&#39;e&#39;</span><span class="op" id="1911453">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911457">p</span><span class="op" id="1911458">.</span><span class="ident" id="1911459">fmt</span><span class="op" id="1911462">.</span><span class="ident" id="1911463">fmt_e32</span><span class="op" id="1911470">(</span><span class="ident" id="1911471">v</span><span class="op" id="1911472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911475">case</span>&nbsp;<span class="string" id="1911480">&#39;E&#39;</span><span class="op" id="1911483">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911487">p</span><span class="op" id="1911488">.</span><span class="ident" id="1911489">fmt</span><span class="op" id="1911492">.</span><span class="ident" id="1911493">fmt_E32</span><span class="op" id="1911500">(</span><span class="ident" id="1911501">v</span><span class="op" id="1911502">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911505">case</span>&nbsp;<span class="string" id="1911510">&#39;f&#39;</span><span class="op" id="1911513">,</span>&nbsp;<span class="string" id="1911515">&#39;F&#39;</span><span class="op" id="1911518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911522">p</span><span class="op" id="1911523">.</span><span class="ident" id="1911524">fmt</span><span class="op" id="1911527">.</span><span class="ident" id="1911528">fmt_f32</span><span class="op" id="1911535">(</span><span class="ident" id="1911536">v</span><span class="op" id="1911537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911540">case</span>&nbsp;<span class="string" id="1911545">&#39;g&#39;</span><span class="op" id="1911548">,</span>&nbsp;<span class="string" id="1911550">&#39;v&#39;</span><span class="op" id="1911553">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911557">p</span><span class="op" id="1911558">.</span><span class="ident" id="1911559">fmt</span><span class="op" id="1911562">.</span><span class="ident" id="1911563">fmt_g32</span><span class="op" id="1911570">(</span><span class="ident" id="1911571">v</span><span class="op" id="1911572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911575">case</span>&nbsp;<span class="string" id="1911580">&#39;G&#39;</span><span class="op" id="1911583">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911587">p</span><span class="op" id="1911588">.</span><span class="ident" id="1911589">fmt</span><span class="op" id="1911592">.</span><span class="ident" id="1911593">fmt_G32</span><span class="op" id="1911600">(</span><span class="ident" id="1911601">v</span><span class="op" id="1911602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911605">default</span><span class="op" id="1911612">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911616">p</span><span class="op" id="1911617">.</span><span class="ident" id="1911618">badVerb</span><span class="op" id="1911625">(</span><span class="ident" id="1911626">verb</span><span class="op" id="1911630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1911633">}</span><br>
<span class="lineno"></span><span class="op" id="1911635">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="1911638">func</span>&nbsp;<span class="op" id="1911643">(</span><span class="ident" id="1911644">p</span>&nbsp;<span class="op" id="1911646">*</span><span class="ident" id="1911647">pp</span><span class="op" id="1911649">)</span>&nbsp;<span class="ident" id="1911651">fmtFloat64</span><span class="op" id="1911661">(</span><span class="ident" id="1911662">v</span>&nbsp;<span class="builtintype" id="1911664">float64</span><span class="op" id="1911671">,</span>&nbsp;<span class="ident" id="1911673">verb</span>&nbsp;<span class="builtintype" id="1911678">rune</span><span class="op" id="1911682">)</span>&nbsp;<span class="op" id="1911684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911687">switch</span>&nbsp;<span class="ident" id="1911694">verb</span>&nbsp;<span class="op" id="1911699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911702">case</span>&nbsp;<span class="string" id="1911707">&#39;b&#39;</span><span class="op" id="1911710">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911714">p</span><span class="op" id="1911715">.</span><span class="ident" id="1911716">fmt</span><span class="op" id="1911719">.</span><span class="ident" id="1911720">fmt_fb64</span><span class="op" id="1911728">(</span><span class="ident" id="1911729">v</span><span class="op" id="1911730">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911733">case</span>&nbsp;<span class="string" id="1911738">&#39;e&#39;</span><span class="op" id="1911741">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911745">p</span><span class="op" id="1911746">.</span><span class="ident" id="1911747">fmt</span><span class="op" id="1911750">.</span><span class="ident" id="1911751">fmt_e64</span><span class="op" id="1911758">(</span><span class="ident" id="1911759">v</span><span class="op" id="1911760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911763">case</span>&nbsp;<span class="string" id="1911768">&#39;E&#39;</span><span class="op" id="1911771">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911775">p</span><span class="op" id="1911776">.</span><span class="ident" id="1911777">fmt</span><span class="op" id="1911780">.</span><span class="ident" id="1911781">fmt_E64</span><span class="op" id="1911788">(</span><span class="ident" id="1911789">v</span><span class="op" id="1911790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911793">case</span>&nbsp;<span class="string" id="1911798">&#39;f&#39;</span><span class="op" id="1911801">,</span>&nbsp;<span class="string" id="1911803">&#39;F&#39;</span><span class="op" id="1911806">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911810">p</span><span class="op" id="1911811">.</span><span class="ident" id="1911812">fmt</span><span class="op" id="1911815">.</span><span class="ident" id="1911816">fmt_f64</span><span class="op" id="1911823">(</span><span class="ident" id="1911824">v</span><span class="op" id="1911825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911828">case</span>&nbsp;<span class="string" id="1911833">&#39;g&#39;</span><span class="op" id="1911836">,</span>&nbsp;<span class="string" id="1911838">&#39;v&#39;</span><span class="op" id="1911841">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911845">p</span><span class="op" id="1911846">.</span><span class="ident" id="1911847">fmt</span><span class="op" id="1911850">.</span><span class="ident" id="1911851">fmt_g64</span><span class="op" id="1911858">(</span><span class="ident" id="1911859">v</span><span class="op" id="1911860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911863">case</span>&nbsp;<span class="string" id="1911868">&#39;G&#39;</span><span class="op" id="1911871">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911875">p</span><span class="op" id="1911876">.</span><span class="ident" id="1911877">fmt</span><span class="op" id="1911880">.</span><span class="ident" id="1911881">fmt_G64</span><span class="op" id="1911888">(</span><span class="ident" id="1911889">v</span><span class="op" id="1911890">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911893">default</span><span class="op" id="1911900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1911904">p</span><span class="op" id="1911905">.</span><span class="ident" id="1911906">badVerb</span><span class="op" id="1911913">(</span><span class="ident" id="1911914">verb</span><span class="op" id="1911918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1911921">}</span><br>
<span class="lineno"></span><span class="op" id="1911923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="1911926">func</span>&nbsp;<span class="op" id="1911931">(</span><span class="ident" id="1911932">p</span>&nbsp;<span class="op" id="1911934">*</span><span class="ident" id="1911935">pp</span><span class="op" id="1911937">)</span>&nbsp;<span class="ident" id="1911939">fmtComplex64</span><span class="op" id="1911951">(</span><span class="ident" id="1911952">v</span>&nbsp;<span class="builtintype" id="1911954">complex64</span><span class="op" id="1911963">,</span>&nbsp;<span class="ident" id="1911965">verb</span>&nbsp;<span class="builtintype" id="1911970">rune</span><span class="op" id="1911974">)</span>&nbsp;<span class="op" id="1911976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911979">switch</span>&nbsp;<span class="ident" id="1911986">verb</span>&nbsp;<span class="op" id="1911991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1911994">case</span>&nbsp;<span class="string" id="1911999">&#39;b&#39;</span><span class="op" id="1912002">,</span>&nbsp;<span class="string" id="1912004">&#39;e&#39;</span><span class="op" id="1912007">,</span>&nbsp;<span class="string" id="1912009">&#39;E&#39;</span><span class="op" id="1912012">,</span>&nbsp;<span class="string" id="1912014">&#39;f&#39;</span><span class="op" id="1912017">,</span>&nbsp;<span class="string" id="1912019">&#39;F&#39;</span><span class="op" id="1912022">,</span>&nbsp;<span class="string" id="1912024">&#39;g&#39;</span><span class="op" id="1912027">,</span>&nbsp;<span class="string" id="1912029">&#39;G&#39;</span><span class="op" id="1912032">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912036">p</span><span class="op" id="1912037">.</span><span class="ident" id="1912038">fmt</span><span class="op" id="1912041">.</span><span class="ident" id="1912042">fmt_c64</span><span class="op" id="1912049">(</span><span class="ident" id="1912050">v</span><span class="op" id="1912051">,</span>&nbsp;<span class="ident" id="1912053">verb</span><span class="op" id="1912057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912060">case</span>&nbsp;<span class="string" id="1912065">&#39;v&#39;</span><span class="op" id="1912068">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912072">p</span><span class="op" id="1912073">.</span><span class="ident" id="1912074">fmt</span><span class="op" id="1912077">.</span><span class="ident" id="1912078">fmt_c64</span><span class="op" id="1912085">(</span><span class="ident" id="1912086">v</span><span class="op" id="1912087">,</span>&nbsp;<span class="string" id="1912089">&#39;g&#39;</span><span class="op" id="1912092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912095">default</span><span class="op" id="1912102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912106">p</span><span class="op" id="1912107">.</span><span class="ident" id="1912108">badVerb</span><span class="op" id="1912115">(</span><span class="ident" id="1912116">verb</span><span class="op" id="1912120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912123">}</span><br>
<span class="lineno"></span><span class="op" id="1912125">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="1912128">func</span>&nbsp;<span class="op" id="1912133">(</span><span class="ident" id="1912134">p</span>&nbsp;<span class="op" id="1912136">*</span><span class="ident" id="1912137">pp</span><span class="op" id="1912139">)</span>&nbsp;<span class="ident" id="1912141">fmtComplex128</span><span class="op" id="1912154">(</span><span class="ident" id="1912155">v</span>&nbsp;<span class="builtintype" id="1912157">complex128</span><span class="op" id="1912167">,</span>&nbsp;<span class="ident" id="1912169">verb</span>&nbsp;<span class="builtintype" id="1912174">rune</span><span class="op" id="1912178">)</span>&nbsp;<span class="op" id="1912180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912183">switch</span>&nbsp;<span class="ident" id="1912190">verb</span>&nbsp;<span class="op" id="1912195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912198">case</span>&nbsp;<span class="string" id="1912203">&#39;b&#39;</span><span class="op" id="1912206">,</span>&nbsp;<span class="string" id="1912208">&#39;e&#39;</span><span class="op" id="1912211">,</span>&nbsp;<span class="string" id="1912213">&#39;E&#39;</span><span class="op" id="1912216">,</span>&nbsp;<span class="string" id="1912218">&#39;f&#39;</span><span class="op" id="1912221">,</span>&nbsp;<span class="string" id="1912223">&#39;F&#39;</span><span class="op" id="1912226">,</span>&nbsp;<span class="string" id="1912228">&#39;g&#39;</span><span class="op" id="1912231">,</span>&nbsp;<span class="string" id="1912233">&#39;G&#39;</span><span class="op" id="1912236">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912240">p</span><span class="op" id="1912241">.</span><span class="ident" id="1912242">fmt</span><span class="op" id="1912245">.</span><span class="ident" id="1912246">fmt_c128</span><span class="op" id="1912254">(</span><span class="ident" id="1912255">v</span><span class="op" id="1912256">,</span>&nbsp;<span class="ident" id="1912258">verb</span><span class="op" id="1912262">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912265">case</span>&nbsp;<span class="string" id="1912270">&#39;v&#39;</span><span class="op" id="1912273">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912277">p</span><span class="op" id="1912278">.</span><span class="ident" id="1912279">fmt</span><span class="op" id="1912282">.</span><span class="ident" id="1912283">fmt_c128</span><span class="op" id="1912291">(</span><span class="ident" id="1912292">v</span><span class="op" id="1912293">,</span>&nbsp;<span class="string" id="1912295">&#39;g&#39;</span><span class="op" id="1912298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912301">default</span><span class="op" id="1912308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912312">p</span><span class="op" id="1912313">.</span><span class="ident" id="1912314">badVerb</span><span class="op" id="1912321">(</span><span class="ident" id="1912322">verb</span><span class="op" id="1912326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912329">}</span><br>
<span class="lineno">500</span><span class="op" id="1912331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1912334">func</span>&nbsp;<span class="op" id="1912339">(</span><span class="ident" id="1912340">p</span>&nbsp;<span class="op" id="1912342">*</span><span class="ident" id="1912343">pp</span><span class="op" id="1912345">)</span>&nbsp;<span class="ident" id="1912347">fmtString</span><span class="op" id="1912356">(</span><span class="ident" id="1912357">v</span>&nbsp;<span class="builtintype" id="1912359">string</span><span class="op" id="1912365">,</span>&nbsp;<span class="ident" id="1912367">verb</span>&nbsp;<span class="builtintype" id="1912372">rune</span><span class="op" id="1912376">)</span>&nbsp;<span class="op" id="1912378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912381">switch</span>&nbsp;<span class="ident" id="1912388">verb</span>&nbsp;<span class="op" id="1912393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912396">case</span>&nbsp;<span class="string" id="1912401">&#39;v&#39;</span><span class="op" id="1912404">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912408">if</span>&nbsp;<span class="ident" id="1912411">p</span><span class="op" id="1912412">.</span><span class="ident" id="1912413">fmt</span><span class="op" id="1912416">.</span><span class="ident" id="1912417">sharpV</span>&nbsp;<span class="op" id="1912424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912429">p</span><span class="op" id="1912430">.</span><span class="ident" id="1912431">fmt</span><span class="op" id="1912434">.</span><span class="ident" id="1912435">fmt_q</span><span class="op" id="1912440">(</span><span class="ident" id="1912441">v</span><span class="op" id="1912442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912446">}</span>&nbsp;<span class="keyword" id="1912448">else</span>&nbsp;<span class="op" id="1912453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912458">p</span><span class="op" id="1912459">.</span><span class="ident" id="1912460">fmt</span><span class="op" id="1912463">.</span><span class="ident" id="1912464">fmt_s</span><span class="op" id="1912469">(</span><span class="ident" id="1912470">v</span><span class="op" id="1912471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912475">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912478">case</span>&nbsp;<span class="string" id="1912483">&#39;s&#39;</span><span class="op" id="1912486">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912490">p</span><span class="op" id="1912491">.</span><span class="ident" id="1912492">fmt</span><span class="op" id="1912495">.</span><span class="ident" id="1912496">fmt_s</span><span class="op" id="1912501">(</span><span class="ident" id="1912502">v</span><span class="op" id="1912503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912506">case</span>&nbsp;<span class="string" id="1912511">&#39;x&#39;</span><span class="op" id="1912514">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912518">p</span><span class="op" id="1912519">.</span><span class="ident" id="1912520">fmt</span><span class="op" id="1912523">.</span><span class="ident" id="1912524">fmt_sx</span><span class="op" id="1912530">(</span><span class="ident" id="1912531">v</span><span class="op" id="1912532">,</span>&nbsp;<span class="ident" id="1912534">ldigits</span><span class="op" id="1912541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912544">case</span>&nbsp;<span class="string" id="1912549">&#39;X&#39;</span><span class="op" id="1912552">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912556">p</span><span class="op" id="1912557">.</span><span class="ident" id="1912558">fmt</span><span class="op" id="1912561">.</span><span class="ident" id="1912562">fmt_sx</span><span class="op" id="1912568">(</span><span class="ident" id="1912569">v</span><span class="op" id="1912570">,</span>&nbsp;<span class="ident" id="1912572">udigits</span><span class="op" id="1912579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912582">case</span>&nbsp;<span class="string" id="1912587">&#39;q&#39;</span><span class="op" id="1912590">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912594">p</span><span class="op" id="1912595">.</span><span class="ident" id="1912596">fmt</span><span class="op" id="1912599">.</span><span class="ident" id="1912600">fmt_q</span><span class="op" id="1912605">(</span><span class="ident" id="1912606">v</span><span class="op" id="1912607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912610">default</span><span class="op" id="1912617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912621">p</span><span class="op" id="1912622">.</span><span class="ident" id="1912623">badVerb</span><span class="op" id="1912630">(</span><span class="ident" id="1912631">verb</span><span class="op" id="1912635">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912638">}</span><br>
<span class="lineno"></span><span class="op" id="1912640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1912643">func</span>&nbsp;<span class="op" id="1912648">(</span><span class="ident" id="1912649">p</span>&nbsp;<span class="op" id="1912651">*</span><span class="ident" id="1912652">pp</span><span class="op" id="1912654">)</span>&nbsp;<span class="ident" id="1912656">fmtBytes</span><span class="op" id="1912664">(</span><span class="ident" id="1912665">v</span>&nbsp;<span class="op" id="1912667">[</span><span class="op" id="1912668">]</span><span class="builtintype" id="1912669">byte</span><span class="op" id="1912673">,</span>&nbsp;<span class="ident" id="1912675">verb</span>&nbsp;<span class="builtintype" id="1912680">rune</span><span class="op" id="1912684">,</span>&nbsp;<span class="ident" id="1912686">typ</span>&nbsp;<span class="ident" id="1912690">reflect</span><span class="op" id="1912697">.</span><span class="ident" id="1912698">Type</span><span class="op" id="1912702">,</span>&nbsp;<span class="ident" id="1912704">depth</span>&nbsp;<span class="builtintype" id="1912710">int</span><span class="op" id="1912713">)</span>&nbsp;<span class="op" id="1912715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912718">if</span>&nbsp;<span class="ident" id="1912721">verb</span>&nbsp;<span class="op" id="1912726">==</span>&nbsp;<span class="string" id="1912729">&#39;v&#39;</span>&nbsp;<span class="op" id="1912733">||</span>&nbsp;<span class="ident" id="1912736">verb</span>&nbsp;<span class="op" id="1912741">==</span>&nbsp;<span class="string" id="1912744">&#39;d&#39;</span>&nbsp;<span class="op" id="1912748">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912752">if</span>&nbsp;<span class="ident" id="1912755">p</span><span class="op" id="1912756">.</span><span class="ident" id="1912757">fmt</span><span class="op" id="1912760">.</span><span class="ident" id="1912761">sharpV</span>&nbsp;<span class="op" id="1912768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912773">if</span>&nbsp;<span class="ident" id="1912776">v</span>&nbsp;<span class="op" id="1912778">==</span>&nbsp;<span class="ident" id="1912781">nil</span>&nbsp;<span class="op" id="1912785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912791">if</span>&nbsp;<span class="ident" id="1912794">typ</span>&nbsp;<span class="op" id="1912798">==</span>&nbsp;<span class="ident" id="1912801">nil</span>&nbsp;<span class="op" id="1912805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912812">p</span><span class="op" id="1912813">.</span><span class="ident" id="1912814">buf</span><span class="op" id="1912817">.</span><span class="ident" id="1912818">WriteString</span><span class="op" id="1912829">(</span><span class="string" id="1912830">&#34;[]byte(nil)&#34;</span><span class="op" id="1912843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912849">}</span>&nbsp;<span class="keyword" id="1912851">else</span>&nbsp;<span class="op" id="1912856">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912863">p</span><span class="op" id="1912864">.</span><span class="ident" id="1912865">buf</span><span class="op" id="1912868">.</span><span class="ident" id="1912869">WriteString</span><span class="op" id="1912880">(</span><span class="ident" id="1912881">typ</span><span class="op" id="1912884">.</span><span class="ident" id="1912885">String</span><span class="op" id="1912891">(</span><span class="op" id="1912892">)</span><span class="op" id="1912893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912900">p</span><span class="op" id="1912901">.</span><span class="ident" id="1912902">buf</span><span class="op" id="1912905">.</span><span class="ident" id="1912906">Write</span><span class="op" id="1912911">(</span><span class="ident" id="1912912">nilParenBytes</span><span class="op" id="1912925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912937">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912947">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1912952">if</span>&nbsp;<span class="ident" id="1912955">typ</span>&nbsp;<span class="op" id="1912959">==</span>&nbsp;<span class="ident" id="1912962">nil</span>&nbsp;<span class="op" id="1912966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1912972">p</span><span class="op" id="1912973">.</span><span class="ident" id="1912974">buf</span><span class="op" id="1912977">.</span><span class="ident" id="1912978">Write</span><span class="op" id="1912983">(</span><span class="ident" id="1912984">bytesBytes</span><span class="op" id="1912994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1912999">}</span>&nbsp;<span class="keyword" id="1913001">else</span>&nbsp;<span class="op" id="1913006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913012">p</span><span class="op" id="1913013">.</span><span class="ident" id="1913014">buf</span><span class="op" id="1913017">.</span><span class="ident" id="1913018">WriteString</span><span class="op" id="1913029">(</span><span class="ident" id="1913030">typ</span><span class="op" id="1913033">.</span><span class="ident" id="1913034">String</span><span class="op" id="1913040">(</span><span class="op" id="1913041">)</span><span class="op" id="1913042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913048">p</span><span class="op" id="1913049">.</span><span class="ident" id="1913050">buf</span><span class="op" id="1913053">.</span><span class="ident" id="1913054">WriteByte</span><span class="op" id="1913063">(</span><span class="string" id="1913064">&#39;{&#39;</span><span class="op" id="1913067">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913076">}</span>&nbsp;<span class="keyword" id="1913078">else</span>&nbsp;<span class="op" id="1913083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913088">p</span><span class="op" id="1913089">.</span><span class="ident" id="1913090">buf</span><span class="op" id="1913093">.</span><span class="ident" id="1913094">WriteByte</span><span class="op" id="1913103">(</span><span class="string" id="1913104">&#39;[&#39;</span><span class="op" id="1913107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913115">for</span>&nbsp;<span class="ident" id="1913119">i</span><span class="op" id="1913120">,</span>&nbsp;<span class="ident" id="1913122">c</span>&nbsp;<span class="op" id="1913124">:=</span>&nbsp;<span class="keyword" id="1913127">range</span>&nbsp;<span class="ident" id="1913133">v</span>&nbsp;<span class="op" id="1913135">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913140">if</span>&nbsp;<span class="ident" id="1913143">i</span>&nbsp;<span class="op" id="1913145">&gt;</span>&nbsp;<span class="num" id="1913147">0</span>&nbsp;<span class="op" id="1913149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913155">if</span>&nbsp;<span class="ident" id="1913158">p</span><span class="op" id="1913159">.</span><span class="ident" id="1913160">fmt</span><span class="op" id="1913163">.</span><span class="ident" id="1913164">sharpV</span>&nbsp;<span class="op" id="1913171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913178">p</span><span class="op" id="1913179">.</span><span class="ident" id="1913180">buf</span><span class="op" id="1913183">.</span><span class="ident" id="1913184">Write</span><span class="op" id="1913189">(</span><span class="ident" id="1913190">commaSpaceBytes</span><span class="op" id="1913205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913211">}</span>&nbsp;<span class="keyword" id="1913213">else</span>&nbsp;<span class="op" id="1913218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913225">p</span><span class="op" id="1913226">.</span><span class="ident" id="1913227">buf</span><span class="op" id="1913230">.</span><span class="ident" id="1913231">WriteByte</span><span class="op" id="1913240">(</span><span class="string" id="1913241">&#39;&nbsp;&#39;</span><span class="op" id="1913244">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913260">p</span><span class="op" id="1913261">.</span><span class="ident" id="1913262">printArg</span><span class="op" id="1913270">(</span><span class="ident" id="1913271">c</span><span class="op" id="1913272">,</span>&nbsp;<span class="string" id="1913274">&#39;v&#39;</span><span class="op" id="1913277">,</span>&nbsp;<span class="ident" id="1913279">depth</span><span class="op" id="1913284">+</span><span class="num" id="1913285">1</span><span class="op" id="1913286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913294">if</span>&nbsp;<span class="ident" id="1913297">p</span><span class="op" id="1913298">.</span><span class="ident" id="1913299">fmt</span><span class="op" id="1913302">.</span><span class="ident" id="1913303">sharpV</span>&nbsp;<span class="op" id="1913310">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913315">p</span><span class="op" id="1913316">.</span><span class="ident" id="1913317">buf</span><span class="op" id="1913320">.</span><span class="ident" id="1913321">WriteByte</span><span class="op" id="1913330">(</span><span class="string" id="1913331">&#39;}&#39;</span><span class="op" id="1913334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913338">}</span>&nbsp;<span class="keyword" id="1913340">else</span>&nbsp;<span class="op" id="1913345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913350">p</span><span class="op" id="1913351">.</span><span class="ident" id="1913352">buf</span><span class="op" id="1913355">.</span><span class="ident" id="1913356">WriteByte</span><span class="op" id="1913365">(</span><span class="string" id="1913366">&#39;]&#39;</span><span class="op" id="1913369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913377">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913388">switch</span>&nbsp;<span class="ident" id="1913395">verb</span>&nbsp;<span class="op" id="1913400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913403">case</span>&nbsp;<span class="string" id="1913408">&#39;s&#39;</span><span class="op" id="1913411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913415">p</span><span class="op" id="1913416">.</span><span class="ident" id="1913417">fmt</span><span class="op" id="1913420">.</span><span class="ident" id="1913421">fmt_s</span><span class="op" id="1913426">(</span><span class="builtintype" id="1913427">string</span><span class="op" id="1913433">(</span><span class="ident" id="1913434">v</span><span class="op" id="1913435">)</span><span class="op" id="1913436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913439">case</span>&nbsp;<span class="string" id="1913444">&#39;x&#39;</span><span class="op" id="1913447">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913451">p</span><span class="op" id="1913452">.</span><span class="ident" id="1913453">fmt</span><span class="op" id="1913456">.</span><span class="ident" id="1913457">fmt_bx</span><span class="op" id="1913463">(</span><span class="ident" id="1913464">v</span><span class="op" id="1913465">,</span>&nbsp;<span class="ident" id="1913467">ldigits</span><span class="op" id="1913474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913477">case</span>&nbsp;<span class="string" id="1913482">&#39;X&#39;</span><span class="op" id="1913485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913489">p</span><span class="op" id="1913490">.</span><span class="ident" id="1913491">fmt</span><span class="op" id="1913494">.</span><span class="ident" id="1913495">fmt_bx</span><span class="op" id="1913501">(</span><span class="ident" id="1913502">v</span><span class="op" id="1913503">,</span>&nbsp;<span class="ident" id="1913505">udigits</span><span class="op" id="1913512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913515">case</span>&nbsp;<span class="string" id="1913520">&#39;q&#39;</span><span class="op" id="1913523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913527">p</span><span class="op" id="1913528">.</span><span class="ident" id="1913529">fmt</span><span class="op" id="1913532">.</span><span class="ident" id="1913533">fmt_q</span><span class="op" id="1913538">(</span><span class="builtintype" id="1913539">string</span><span class="op" id="1913545">(</span><span class="ident" id="1913546">v</span><span class="op" id="1913547">)</span><span class="op" id="1913548">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913551">default</span><span class="op" id="1913558">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913562">p</span><span class="op" id="1913563">.</span><span class="ident" id="1913564">badVerb</span><span class="op" id="1913571">(</span><span class="ident" id="1913572">verb</span><span class="op" id="1913576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913579">}</span><br>
<span class="lineno"></span><span class="op" id="1913581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="1913584">func</span>&nbsp;<span class="op" id="1913589">(</span><span class="ident" id="1913590">p</span>&nbsp;<span class="op" id="1913592">*</span><span class="ident" id="1913593">pp</span><span class="op" id="1913595">)</span>&nbsp;<span class="ident" id="1913597">fmtPointer</span><span class="op" id="1913607">(</span><span class="ident" id="1913608">value</span>&nbsp;<span class="ident" id="1913614">reflect</span><span class="op" id="1913621">.</span><span class="ident" id="1913622">Value</span><span class="op" id="1913627">,</span>&nbsp;<span class="ident" id="1913629">verb</span>&nbsp;<span class="builtintype" id="1913634">rune</span><span class="op" id="1913638">)</span>&nbsp;<span class="op" id="1913640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913643">use0x64</span>&nbsp;<span class="op" id="1913651">:=</span>&nbsp;<span class="ident" id="1913654">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913660">switch</span>&nbsp;<span class="ident" id="1913667">verb</span>&nbsp;<span class="op" id="1913672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913675">case</span>&nbsp;<span class="string" id="1913680">&#39;p&#39;</span><span class="op" id="1913683">,</span>&nbsp;<span class="string" id="1913685">&#39;v&#39;</span><span class="op" id="1913688">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1913692">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913699">case</span>&nbsp;<span class="string" id="1913704">&#39;b&#39;</span><span class="op" id="1913707">,</span>&nbsp;<span class="string" id="1913709">&#39;d&#39;</span><span class="op" id="1913712">,</span>&nbsp;<span class="string" id="1913714">&#39;o&#39;</span><span class="op" id="1913717">,</span>&nbsp;<span class="string" id="1913719">&#39;x&#39;</span><span class="op" id="1913722">,</span>&nbsp;<span class="string" id="1913724">&#39;X&#39;</span><span class="op" id="1913727">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913731">use0x64</span>&nbsp;<span class="op" id="1913739">=</span>&nbsp;<span class="ident" id="1913741">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1913749">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913756">default</span><span class="op" id="1913763">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913767">p</span><span class="op" id="1913768">.</span><span class="ident" id="1913769">badVerb</span><span class="op" id="1913776">(</span><span class="ident" id="1913777">verb</span><span class="op" id="1913781">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913785">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913797">var</span>&nbsp;<span class="ident" id="1913801">u</span>&nbsp;<span class="builtintype" id="1913803">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913812">switch</span>&nbsp;<span class="ident" id="1913819">value</span><span class="op" id="1913824">.</span><span class="ident" id="1913825">Kind</span><span class="op" id="1913829">(</span><span class="op" id="1913830">)</span>&nbsp;<span class="op" id="1913832">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913835">case</span>&nbsp;<span class="ident" id="1913840">reflect</span><span class="op" id="1913847">.</span><span class="ident" id="1913848">Chan</span><span class="op" id="1913852">,</span>&nbsp;<span class="ident" id="1913854">reflect</span><span class="op" id="1913861">.</span><span class="ident" id="1913862">Func</span><span class="op" id="1913866">,</span>&nbsp;<span class="ident" id="1913868">reflect</span><span class="op" id="1913875">.</span><span class="ident" id="1913876">Map</span><span class="op" id="1913879">,</span>&nbsp;<span class="ident" id="1913881">reflect</span><span class="op" id="1913888">.</span><span class="ident" id="1913889">Ptr</span><span class="op" id="1913892">,</span>&nbsp;<span class="ident" id="1913894">reflect</span><span class="op" id="1913901">.</span><span class="ident" id="1913902">Slice</span><span class="op" id="1913907">,</span>&nbsp;<span class="ident" id="1913909">reflect</span><span class="op" id="1913916">.</span><span class="ident" id="1913917">UnsafePointer</span><span class="op" id="1913930">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913934">u</span>&nbsp;<span class="op" id="1913936">=</span>&nbsp;<span class="ident" id="1913938">value</span><span class="op" id="1913943">.</span><span class="ident" id="1913944">Pointer</span><span class="op" id="1913951">(</span><span class="op" id="1913952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913955">default</span><span class="op" id="1913962">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1913966">p</span><span class="op" id="1913967">.</span><span class="ident" id="1913968">badVerb</span><span class="op" id="1913975">(</span><span class="ident" id="1913976">verb</span><span class="op" id="1913980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913984">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1913992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1913996">if</span>&nbsp;<span class="ident" id="1913999">p</span><span class="op" id="1914000">.</span><span class="ident" id="1914001">fmt</span><span class="op" id="1914004">.</span><span class="ident" id="1914005">sharpV</span>&nbsp;<span class="op" id="1914012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914016">p</span><span class="op" id="1914017">.</span><span class="ident" id="1914018">add</span><span class="op" id="1914021">(</span><span class="string" id="1914022">&#39;(&#39;</span><span class="op" id="1914025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914029">p</span><span class="op" id="1914030">.</span><span class="ident" id="1914031">buf</span><span class="op" id="1914034">.</span><span class="ident" id="1914035">WriteString</span><span class="op" id="1914046">(</span><span class="ident" id="1914047">value</span><span class="op" id="1914052">.</span><span class="ident" id="1914053">Type</span><span class="op" id="1914057">(</span><span class="op" id="1914058">)</span><span class="op" id="1914059">.</span><span class="ident" id="1914060">String</span><span class="op" id="1914066">(</span><span class="op" id="1914067">)</span><span class="op" id="1914068">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914072">p</span><span class="op" id="1914073">.</span><span class="ident" id="1914074">add</span><span class="op" id="1914077">(</span><span class="string" id="1914078">&#39;)&#39;</span><span class="op" id="1914081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914085">p</span><span class="op" id="1914086">.</span><span class="ident" id="1914087">add</span><span class="op" id="1914090">(</span><span class="string" id="1914091">&#39;(&#39;</span><span class="op" id="1914094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1914098">if</span>&nbsp;<span class="ident" id="1914101">u</span>&nbsp;<span class="op" id="1914103">==</span>&nbsp;<span class="num" id="1914106">0</span>&nbsp;<span class="op" id="1914108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914113">p</span><span class="op" id="1914114">.</span><span class="ident" id="1914115">buf</span><span class="op" id="1914118">.</span><span class="ident" id="1914119">Write</span><span class="op" id="1914124">(</span><span class="ident" id="1914125">nilBytes</span><span class="op" id="1914133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1914137">}</span>&nbsp;<span class="keyword" id="1914139">else</span>&nbsp;<span class="op" id="1914144">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914149">p</span><span class="op" id="1914150">.</span><span class="ident" id="1914151">fmt0x64</span><span class="op" id="1914158">(</span><span class="ident" id="1914159">uint64</span><span class="op" id="1914165">(</span><span class="ident" id="1914166">u</span><span class="op" id="1914167">)</span><span class="op" id="1914168">,</span>&nbsp;<span class="ident" id="1914170">true</span><span class="op" id="1914174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1914178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914182">p</span><span class="op" id="1914183">.</span><span class="ident" id="1914184">add</span><span class="op" id="1914187">(</span><span class="string" id="1914188">&#39;)&#39;</span><span class="op" id="1914191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1914194">}</span>&nbsp;<span class="keyword" id="1914196">else</span>&nbsp;<span class="keyword" id="1914201">if</span>&nbsp;<span class="ident" id="1914204">verb</span>&nbsp;<span class="op" id="1914209">==</span>&nbsp;<span class="string" id="1914212">&#39;v&#39;</span>&nbsp;<span class="op" id="1914216">&amp;&amp;</span>&nbsp;<span class="ident" id="1914219">u</span>&nbsp;<span class="op" id="1914221">==</span>&nbsp;<span class="num" id="1914224">0</span>&nbsp;<span class="op" id="1914226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914230">p</span><span class="op" id="1914231">.</span><span class="ident" id="1914232">buf</span><span class="op" id="1914235">.</span><span class="ident" id="1914236">Write</span><span class="op" id="1914241">(</span><span class="ident" id="1914242">nilAngleBytes</span><span class="op" id="1914255">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1914258">}</span>&nbsp;<span class="keyword" id="1914260">else</span>&nbsp;<span class="op" id="1914265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1914269">if</span>&nbsp;<span class="ident" id="1914272">use0x64</span>&nbsp;<span class="op" id="1914280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914285">p</span><span class="op" id="1914286">.</span><span class="ident" id="1914287">fmt0x64</span><span class="op" id="1914294">(</span><span class="ident" id="1914295">uint64</span><span class="op" id="1914301">(</span><span class="ident" id="1914302">u</span><span class="op" id="1914303">)</span><span class="op" id="1914304">,</span>&nbsp;<span class="op" id="1914306">!</span><span class="ident" id="1914307">p</span><span class="op" id="1914308">.</span><span class="ident" id="1914309">fmt</span><span class="op" id="1914312">.</span><span class="ident" id="1914313">sharp</span><span class="op" id="1914318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1914322">}</span>&nbsp;<span class="keyword" id="1914324">else</span>&nbsp;<span class="op" id="1914329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914334">p</span><span class="op" id="1914335">.</span><span class="ident" id="1914336">fmtUint64</span><span class="op" id="1914345">(</span><span class="ident" id="1914346">uint64</span><span class="op" id="1914352">(</span><span class="ident" id="1914353">u</span><span class="op" id="1914354">)</span><span class="op" id="1914355">,</span>&nbsp;<span class="ident" id="1914357">verb</span><span class="op" id="1914361">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1914365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1914368">}</span><br>
<span class="lineno"></span><span class="op" id="1914370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1914373">var</span>&nbsp;<span class="op" id="1914377">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914380">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1914392">=</span>&nbsp;<span class="ident" id="1914394">reflect</span><span class="op" id="1914401">.</span><span class="ident" id="1914402">TypeOf</span><span class="op" id="1914408">(</span><span class="num" id="1914409">0</span><span class="op" id="1914410">)</span><span class="op" id="1914411">.</span><span class="ident" id="1914412">Bits</span><span class="op" id="1914416">(</span><span class="op" id="1914417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914420">uintptrBits</span>&nbsp;<span class="op" id="1914432">=</span>&nbsp;<span class="ident" id="1914434">reflect</span><span class="op" id="1914441">.</span><span class="ident" id="1914442">TypeOf</span><span class="op" id="1914448">(</span><span class="builtintype" id="1914449">uintptr</span><span class="op" id="1914456">(</span><span class="num" id="1914457">0</span><span class="op" id="1914458">)</span><span class="op" id="1914459">)</span><span class="op" id="1914460">.</span><span class="ident" id="1914461">Bits</span><span class="op" id="1914465">(</span><span class="op" id="1914466">)</span><br>
<span class="lineno"></span><span class="op" id="1914468">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1914471">func</span>&nbsp;<span class="op" id="1914476">(</span><span class="ident" id="1914477">p</span>&nbsp;<span class="op" id="1914479">*</span><span class="ident" id="1914480">pp</span><span class="op" id="1914482">)</span>&nbsp;<span class="ident" id="1914484">catchPanic</span><span class="op" id="1914494">(</span><span class="ident" id="1914495">arg</span>&nbsp;<span class="keyword" id="1914499">interface</span><span class="op" id="1914508">{</span><span class="op" id="1914509">}</span><span class="op" id="1914510">,</span>&nbsp;<span class="ident" id="1914512">verb</span>&nbsp;<span class="builtintype" id="1914517">rune</span><span class="op" id="1914521">)</span>&nbsp;<span class="op" id="1914523">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1914526">if</span>&nbsp;<span class="ident" id="1914529">err</span>&nbsp;<span class="op" id="1914533">:=</span>&nbsp;<span class="builtinfunc" id="1914536">recover</span><span class="op" id="1914543">(</span><span class="op" id="1914544">)</span><span class="op" id="1914545">;</span>&nbsp;<span class="ident" id="1914547">err</span>&nbsp;<span class="op" id="1914551">!=</span>&nbsp;<span class="ident" id="1914554">nil</span>&nbsp;<span class="op" id="1914558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1914562">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1914635">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1914704">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1914771">if</span>&nbsp;<span class="ident" id="1914774">v</span>&nbsp;<span class="op" id="1914776">:=</span>&nbsp;<span class="ident" id="1914779">reflect</span><span class="op" id="1914786">.</span><span class="ident" id="1914787">ValueOf</span><span class="op" id="1914794">(</span><span class="ident" id="1914795">arg</span><span class="op" id="1914798">)</span><span class="op" id="1914799">;</span>&nbsp;<span class="ident" id="1914801">v</span><span class="op" id="1914802">.</span><span class="ident" id="1914803">Kind</span><span class="op" id="1914807">(</span><span class="op" id="1914808">)</span>&nbsp;<span class="op" id="1914810">==</span>&nbsp;<span class="ident" id="1914813">reflect</span><span class="op" id="1914820">.</span><span class="ident" id="1914821">Ptr</span>&nbsp;<span class="op" id="1914825">&amp;&amp;</span>&nbsp;<span class="ident" id="1914828">v</span><span class="op" id="1914829">.</span><span class="ident" id="1914830">IsNil</span><span class="op" id="1914835">(</span><span class="op" id="1914836">)</span>&nbsp;<span class="op" id="1914838">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1914843">p</span><span class="op" id="1914844">.</span><span class="ident" id="1914845">buf</span><span class="op" id="1914848">.</span><span class="ident" id="1914849">Write</span><span class="op" id="1914854">(</span><span class="ident" id="1914855">nilAngleBytes</span><span class="op" id="1914868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1914873">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1914882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1914886">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1914959">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1914996">if</span>&nbsp;<span class="ident" id="1914999">p</span><span class="op" id="1915000">.</span><span class="ident" id="1915001">panicking</span>&nbsp;<span class="op" id="1915011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1915016">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1915079">panic</span><span class="op" id="1915084">(</span><span class="ident" id="1915085">err</span><span class="op" id="1915088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1915092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915096">p</span><span class="op" id="1915097">.</span><span class="ident" id="1915098">fmt</span><span class="op" id="1915101">.</span><span class="ident" id="1915102">clearflags</span><span class="op" id="1915112">(</span><span class="op" id="1915113">)</span>&nbsp;<span class="comment" id="1915115">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915179">p</span><span class="op" id="1915180">.</span><span class="ident" id="1915181">buf</span><span class="op" id="1915184">.</span><span class="ident" id="1915185">Write</span><span class="op" id="1915190">(</span><span class="ident" id="1915191">percentBangBytes</span><span class="op" id="1915207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915211">p</span><span class="op" id="1915212">.</span><span class="ident" id="1915213">add</span><span class="op" id="1915216">(</span><span class="ident" id="1915217">verb</span><span class="op" id="1915221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915225">p</span><span class="op" id="1915226">.</span><span class="ident" id="1915227">buf</span><span class="op" id="1915230">.</span><span class="ident" id="1915231">Write</span><span class="op" id="1915236">(</span><span class="ident" id="1915237">panicBytes</span><span class="op" id="1915247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915251">p</span><span class="op" id="1915252">.</span><span class="ident" id="1915253">panicking</span>&nbsp;<span class="op" id="1915263">=</span>&nbsp;<span class="ident" id="1915265">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915272">p</span><span class="op" id="1915273">.</span><span class="ident" id="1915274">printArg</span><span class="op" id="1915282">(</span><span class="ident" id="1915283">err</span><span class="op" id="1915286">,</span>&nbsp;<span class="string" id="1915288">&#39;v&#39;</span><span class="op" id="1915291">,</span>&nbsp;<span class="num" id="1915293">0</span><span class="op" id="1915294">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915298">p</span><span class="op" id="1915299">.</span><span class="ident" id="1915300">panicking</span>&nbsp;<span class="op" id="1915310">=</span>&nbsp;<span class="ident" id="1915312">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915320">p</span><span class="op" id="1915321">.</span><span class="ident" id="1915322">buf</span><span class="op" id="1915325">.</span><span class="ident" id="1915326">WriteByte</span><span class="op" id="1915335">(</span><span class="string" id="1915336">&#39;)&#39;</span><span class="op" id="1915339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1915342">}</span><br>
<span class="lineno"></span><span class="op" id="1915344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="1915347">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="1915436">func</span>&nbsp;<span class="op" id="1915441">(</span><span class="ident" id="1915442">p</span>&nbsp;<span class="op" id="1915444">*</span><span class="ident" id="1915445">pp</span><span class="op" id="1915447">)</span>&nbsp;<span class="ident" id="1915449">clearSpecialFlags</span><span class="op" id="1915466">(</span><span class="op" id="1915467">)</span>&nbsp;<span class="op" id="1915469">(</span><span class="ident" id="1915470">plusV</span><span class="op" id="1915475">,</span>&nbsp;<span class="ident" id="1915477">sharpV</span>&nbsp;<span class="builtintype" id="1915484">bool</span><span class="op" id="1915488">)</span>&nbsp;<span class="op" id="1915490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915493">plusV</span>&nbsp;<span class="op" id="1915499">=</span>&nbsp;<span class="ident" id="1915501">p</span><span class="op" id="1915502">.</span><span class="ident" id="1915503">fmt</span><span class="op" id="1915506">.</span><span class="ident" id="1915507">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1915514">if</span>&nbsp;<span class="ident" id="1915517">plusV</span>&nbsp;<span class="op" id="1915523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915527">p</span><span class="op" id="1915528">.</span><span class="ident" id="1915529">fmt</span><span class="op" id="1915532">.</span><span class="ident" id="1915533">plus</span>&nbsp;<span class="op" id="1915538">=</span>&nbsp;<span class="ident" id="1915540">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915547">p</span><span class="op" id="1915548">.</span><span class="ident" id="1915549">fmt</span><span class="op" id="1915552">.</span><span class="ident" id="1915553">plusV</span>&nbsp;<span class="op" id="1915559">=</span>&nbsp;<span class="ident" id="1915561">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1915568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915571">sharpV</span>&nbsp;<span class="op" id="1915578">=</span>&nbsp;<span class="ident" id="1915580">p</span><span class="op" id="1915581">.</span><span class="ident" id="1915582">fmt</span><span class="op" id="1915585">.</span><span class="ident" id="1915586">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1915594">if</span>&nbsp;<span class="ident" id="1915597">sharpV</span>&nbsp;<span class="op" id="1915604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915608">p</span><span class="op" id="1915609">.</span><span class="ident" id="1915610">fmt</span><span class="op" id="1915613">.</span><span class="ident" id="1915614">sharp</span>&nbsp;<span class="op" id="1915620">=</span>&nbsp;<span class="ident" id="1915622">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915629">p</span><span class="op" id="1915630">.</span><span class="ident" id="1915631">fmt</span><span class="op" id="1915634">.</span><span class="ident" id="1915635">sharpV</span>&nbsp;<span class="op" id="1915642">=</span>&nbsp;<span class="ident" id="1915644">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1915651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1915654">return</span><br>
<span class="lineno"></span><span class="op" id="1915661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="1915664">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="1915742">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="1915797">func</span>&nbsp;<span class="op" id="1915802">(</span><span class="ident" id="1915803">p</span>&nbsp;<span class="op" id="1915805">*</span><span class="ident" id="1915806">pp</span><span class="op" id="1915808">)</span>&nbsp;<span class="ident" id="1915810">restoreSpecialFlags</span><span class="op" id="1915829">(</span><span class="ident" id="1915830">plusV</span><span class="op" id="1915835">,</span>&nbsp;<span class="ident" id="1915837">sharpV</span>&nbsp;<span class="builtintype" id="1915844">bool</span><span class="op" id="1915848">)</span>&nbsp;<span class="op" id="1915850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1915853">if</span>&nbsp;<span class="ident" id="1915856">plusV</span>&nbsp;<span class="op" id="1915862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915866">p</span><span class="op" id="1915867">.</span><span class="ident" id="1915868">fmt</span><span class="op" id="1915871">.</span><span class="ident" id="1915872">plus</span>&nbsp;<span class="op" id="1915877">=</span>&nbsp;<span class="ident" id="1915879">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915887">p</span><span class="op" id="1915888">.</span><span class="ident" id="1915889">fmt</span><span class="op" id="1915892">.</span><span class="ident" id="1915893">plusV</span>&nbsp;<span class="op" id="1915899">=</span>&nbsp;<span class="ident" id="1915901">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1915907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1915910">if</span>&nbsp;<span class="ident" id="1915913">sharpV</span>&nbsp;<span class="op" id="1915920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915924">p</span><span class="op" id="1915925">.</span><span class="ident" id="1915926">fmt</span><span class="op" id="1915929">.</span><span class="ident" id="1915930">sharp</span>&nbsp;<span class="op" id="1915936">=</span>&nbsp;<span class="ident" id="1915938">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1915946">p</span><span class="op" id="1915947">.</span><span class="ident" id="1915948">fmt</span><span class="op" id="1915951">.</span><span class="ident" id="1915952">sharpV</span>&nbsp;<span class="op" id="1915959">=</span>&nbsp;<span class="ident" id="1915961">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1915967">}</span><br>
<span class="lineno"></span><span class="op" id="1915969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1915972">func</span>&nbsp;<span class="op" id="1915977">(</span><span class="ident" id="1915978">p</span>&nbsp;<span class="op" id="1915980">*</span><span class="ident" id="1915981">pp</span><span class="op" id="1915983">)</span>&nbsp;<span class="ident" id="1915985">handleMethods</span><span class="op" id="1915998">(</span><span class="ident" id="1915999">verb</span>&nbsp;<span class="builtintype" id="1916004">rune</span><span class="op" id="1916008">,</span>&nbsp;<span class="ident" id="1916010">depth</span>&nbsp;<span class="builtintype" id="1916016">int</span><span class="op" id="1916019">)</span>&nbsp;<span class="op" id="1916021">(</span><span class="ident" id="1916022">handled</span>&nbsp;<span class="builtintype" id="1916030">bool</span><span class="op" id="1916034">)</span>&nbsp;<span class="op" id="1916036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916039">if</span>&nbsp;<span class="ident" id="1916042">p</span><span class="op" id="1916043">.</span><span class="ident" id="1916044">erroring</span>&nbsp;<span class="op" id="1916053">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916057">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1916065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916068">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916091">if</span>&nbsp;<span class="ident" id="1916094">formatter</span><span class="op" id="1916103">,</span>&nbsp;<span class="ident" id="1916105">ok</span>&nbsp;<span class="op" id="1916108">:=</span>&nbsp;<span class="ident" id="1916111">p</span><span class="op" id="1916112">.</span><span class="ident" id="1916113">arg</span><span class="op" id="1916116">.</span><span class="op" id="1916117">(</span><span class="ident" id="1916118">Formatter</span><span class="op" id="1916127">)</span><span class="op" id="1916128">;</span>&nbsp;<span class="ident" id="1916130">ok</span>&nbsp;<span class="op" id="1916133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1916137">handled</span>&nbsp;<span class="op" id="1916145">=</span>&nbsp;<span class="ident" id="1916147">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916154">defer</span>&nbsp;<span class="ident" id="1916160">p</span><span class="op" id="1916161">.</span><span class="ident" id="1916162">restoreSpecialFlags</span><span class="op" id="1916181">(</span><span class="ident" id="1916182">p</span><span class="op" id="1916183">.</span><span class="ident" id="1916184">clearSpecialFlags</span><span class="op" id="1916201">(</span><span class="op" id="1916202">)</span><span class="op" id="1916203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916207">defer</span>&nbsp;<span class="ident" id="1916213">p</span><span class="op" id="1916214">.</span><span class="ident" id="1916215">catchPanic</span><span class="op" id="1916225">(</span><span class="ident" id="1916226">p</span><span class="op" id="1916227">.</span><span class="ident" id="1916228">arg</span><span class="op" id="1916231">,</span>&nbsp;<span class="ident" id="1916233">verb</span><span class="op" id="1916237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1916241">formatter</span><span class="op" id="1916250">.</span><span class="ident" id="1916251">Format</span><span class="op" id="1916257">(</span><span class="ident" id="1916258">p</span><span class="op" id="1916259">,</span>&nbsp;<span class="ident" id="1916261">verb</span><span class="op" id="1916265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916269">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1916277">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916281">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916372">if</span>&nbsp;<span class="ident" id="1916375">p</span><span class="op" id="1916376">.</span><span class="ident" id="1916377">fmt</span><span class="op" id="1916380">.</span><span class="ident" id="1916381">sharpV</span>&nbsp;<span class="op" id="1916388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916392">if</span>&nbsp;<span class="ident" id="1916395">stringer</span><span class="op" id="1916403">,</span>&nbsp;<span class="ident" id="1916405">ok</span>&nbsp;<span class="op" id="1916408">:=</span>&nbsp;<span class="ident" id="1916411">p</span><span class="op" id="1916412">.</span><span class="ident" id="1916413">arg</span><span class="op" id="1916416">.</span><span class="op" id="1916417">(</span><span class="ident" id="1916418">GoStringer</span><span class="op" id="1916428">)</span><span class="op" id="1916429">;</span>&nbsp;<span class="ident" id="1916431">ok</span>&nbsp;<span class="op" id="1916434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1916439">handled</span>&nbsp;<span class="op" id="1916447">=</span>&nbsp;<span class="ident" id="1916449">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916457">defer</span>&nbsp;<span class="ident" id="1916463">p</span><span class="op" id="1916464">.</span><span class="ident" id="1916465">catchPanic</span><span class="op" id="1916475">(</span><span class="ident" id="1916476">p</span><span class="op" id="1916477">.</span><span class="ident" id="1916478">arg</span><span class="op" id="1916481">,</span>&nbsp;<span class="ident" id="1916483">verb</span><span class="op" id="1916487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916492">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1916538">p</span><span class="op" id="1916539">.</span><span class="ident" id="1916540">fmt</span><span class="op" id="1916543">.</span><span class="ident" id="1916544">fmt_s</span><span class="op" id="1916549">(</span><span class="ident" id="1916550">stringer</span><span class="op" id="1916558">.</span><span class="ident" id="1916559">GoString</span><span class="op" id="1916567">(</span><span class="op" id="1916568">)</span><span class="op" id="1916569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916574">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1916583">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1916586">}</span>&nbsp;<span class="keyword" id="1916588">else</span>&nbsp;<span class="op" id="1916593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916597">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916660">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916722">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916779">switch</span>&nbsp;<span class="ident" id="1916786">verb</span>&nbsp;<span class="op" id="1916791">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1916795">case</span>&nbsp;<span class="string" id="1916800">&#39;v&#39;</span><span class="op" id="1916803">,</span>&nbsp;<span class="string" id="1916805">&#39;s&#39;</span><span class="op" id="1916808">,</span>&nbsp;<span class="string" id="1916810">&#39;x&#39;</span><span class="op" id="1916813">,</span>&nbsp;<span class="string" id="1916815">&#39;X&#39;</span><span class="op" id="1916818">,</span>&nbsp;<span class="string" id="1916820">&#39;q&#39;</span><span class="op" id="1916823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916828">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916862">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916912">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1916959">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917004">switch</span>&nbsp;<span class="ident" id="1917011">v</span>&nbsp;<span class="op" id="1917013">:=</span>&nbsp;<span class="ident" id="1917016">p</span><span class="op" id="1917017">.</span><span class="ident" id="1917018">arg</span><span class="op" id="1917021">.</span><span class="op" id="1917022">(</span><span class="keyword" id="1917023">type</span><span class="op" id="1917027">)</span>&nbsp;<span class="op" id="1917029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917034">case</span>&nbsp;<span class="builtintype" id="1917039">error</span><span class="op" id="1917044">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917050">handled</span>&nbsp;<span class="op" id="1917058">=</span>&nbsp;<span class="ident" id="1917060">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917069">defer</span>&nbsp;<span class="ident" id="1917075">p</span><span class="op" id="1917076">.</span><span class="ident" id="1917077">catchPanic</span><span class="op" id="1917087">(</span><span class="ident" id="1917088">p</span><span class="op" id="1917089">.</span><span class="ident" id="1917090">arg</span><span class="op" id="1917093">,</span>&nbsp;<span class="ident" id="1917095">verb</span><span class="op" id="1917099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917105">p</span><span class="op" id="1917106">.</span><span class="ident" id="1917107">printArg</span><span class="op" id="1917115">(</span><span class="ident" id="1917116">v</span><span class="op" id="1917117">.</span><span class="ident" id="1917118">Error</span><span class="op" id="1917123">(</span><span class="op" id="1917124">)</span><span class="op" id="1917125">,</span>&nbsp;<span class="ident" id="1917127">verb</span><span class="op" id="1917131">,</span>&nbsp;<span class="ident" id="1917133">depth</span><span class="op" id="1917138">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917144">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917155">case</span>&nbsp;<span class="ident" id="1917160">Stringer</span><span class="op" id="1917168">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917174">handled</span>&nbsp;<span class="op" id="1917182">=</span>&nbsp;<span class="ident" id="1917184">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917193">defer</span>&nbsp;<span class="ident" id="1917199">p</span><span class="op" id="1917200">.</span><span class="ident" id="1917201">catchPanic</span><span class="op" id="1917211">(</span><span class="ident" id="1917212">p</span><span class="op" id="1917213">.</span><span class="ident" id="1917214">arg</span><span class="op" id="1917217">,</span>&nbsp;<span class="ident" id="1917219">verb</span><span class="op" id="1917223">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917229">p</span><span class="op" id="1917230">.</span><span class="ident" id="1917231">printArg</span><span class="op" id="1917239">(</span><span class="ident" id="1917240">v</span><span class="op" id="1917241">.</span><span class="ident" id="1917242">String</span><span class="op" id="1917248">(</span><span class="op" id="1917249">)</span><span class="op" id="1917250">,</span>&nbsp;<span class="ident" id="1917252">verb</span><span class="op" id="1917256">,</span>&nbsp;<span class="ident" id="1917258">depth</span><span class="op" id="1917263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917269">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1917279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1917283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1917286">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917289">return</span>&nbsp;<span class="ident" id="1917296">false</span><br>
<span class="lineno"></span><span class="op" id="1917302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1917305">func</span>&nbsp;<span class="op" id="1917310">(</span><span class="ident" id="1917311">p</span>&nbsp;<span class="op" id="1917313">*</span><span class="ident" id="1917314">pp</span><span class="op" id="1917316">)</span>&nbsp;<span class="ident" id="1917318">printArg</span><span class="op" id="1917326">(</span><span class="ident" id="1917327">arg</span>&nbsp;<span class="keyword" id="1917331">interface</span><span class="op" id="1917340">{</span><span class="op" id="1917341">}</span><span class="op" id="1917342">,</span>&nbsp;<span class="ident" id="1917344">verb</span>&nbsp;<span class="builtintype" id="1917349">rune</span><span class="op" id="1917353">,</span>&nbsp;<span class="ident" id="1917355">depth</span>&nbsp;<span class="builtintype" id="1917361">int</span><span class="op" id="1917364">)</span>&nbsp;<span class="op" id="1917366">(</span><span class="ident" id="1917367">wasString</span>&nbsp;<span class="builtintype" id="1917377">bool</span><span class="op" id="1917381">)</span>&nbsp;<span class="op" id="1917383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917386">p</span><span class="op" id="1917387">.</span><span class="ident" id="1917388">arg</span>&nbsp;<span class="op" id="1917392">=</span>&nbsp;<span class="ident" id="1917394">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917399">p</span><span class="op" id="1917400">.</span><span class="ident" id="1917401">value</span>&nbsp;<span class="op" id="1917407">=</span>&nbsp;<span class="ident" id="1917409">reflect</span><span class="op" id="1917416">.</span><span class="ident" id="1917417">Value</span><span class="op" id="1917422">{</span><span class="op" id="1917423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917427">if</span>&nbsp;<span class="ident" id="1917430">arg</span>&nbsp;<span class="op" id="1917434">==</span>&nbsp;<span class="ident" id="1917437">nil</span>&nbsp;<span class="op" id="1917441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917445">if</span>&nbsp;<span class="ident" id="1917448">verb</span>&nbsp;<span class="op" id="1917453">==</span>&nbsp;<span class="string" id="1917456">&#39;T&#39;</span>&nbsp;<span class="op" id="1917460">||</span>&nbsp;<span class="ident" id="1917463">verb</span>&nbsp;<span class="op" id="1917468">==</span>&nbsp;<span class="string" id="1917471">&#39;v&#39;</span>&nbsp;<span class="op" id="1917475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917480">p</span><span class="op" id="1917481">.</span><span class="ident" id="1917482">fmt</span><span class="op" id="1917485">.</span><span class="ident" id="1917486">pad</span><span class="op" id="1917489">(</span><span class="ident" id="1917490">nilAngleBytes</span><span class="op" id="1917503">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1917507">}</span>&nbsp;<span class="keyword" id="1917509">else</span>&nbsp;<span class="op" id="1917514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917519">p</span><span class="op" id="1917520">.</span><span class="ident" id="1917521">badVerb</span><span class="op" id="1917528">(</span><span class="ident" id="1917529">verb</span><span class="op" id="1917533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1917537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917541">return</span>&nbsp;<span class="ident" id="1917548">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1917555">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1917559">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1917598">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917683">switch</span>&nbsp;<span class="ident" id="1917690">verb</span>&nbsp;<span class="op" id="1917695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917698">case</span>&nbsp;<span class="string" id="1917703">&#39;T&#39;</span><span class="op" id="1917706">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917710">p</span><span class="op" id="1917711">.</span><span class="ident" id="1917712">printArg</span><span class="op" id="1917720">(</span><span class="ident" id="1917721">reflect</span><span class="op" id="1917728">.</span><span class="ident" id="1917729">TypeOf</span><span class="op" id="1917735">(</span><span class="ident" id="1917736">arg</span><span class="op" id="1917739">)</span><span class="op" id="1917740">.</span><span class="ident" id="1917741">String</span><span class="op" id="1917747">(</span><span class="op" id="1917748">)</span><span class="op" id="1917749">,</span>&nbsp;<span class="string" id="1917751">&#39;s&#39;</span><span class="op" id="1917754">,</span>&nbsp;<span class="num" id="1917756">0</span><span class="op" id="1917757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917761">return</span>&nbsp;<span class="ident" id="1917768">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917775">case</span>&nbsp;<span class="string" id="1917780">&#39;p&#39;</span><span class="op" id="1917783">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917787">p</span><span class="op" id="1917788">.</span><span class="ident" id="1917789">fmtPointer</span><span class="op" id="1917799">(</span><span class="ident" id="1917800">reflect</span><span class="op" id="1917807">.</span><span class="ident" id="1917808">ValueOf</span><span class="op" id="1917815">(</span><span class="ident" id="1917816">arg</span><span class="op" id="1917819">)</span><span class="op" id="1917820">,</span>&nbsp;<span class="ident" id="1917822">verb</span><span class="op" id="1917826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917830">return</span>&nbsp;<span class="ident" id="1917837">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1917844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1917848">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917895">switch</span>&nbsp;<span class="ident" id="1917902">f</span>&nbsp;<span class="op" id="1917904">:=</span>&nbsp;<span class="ident" id="1917907">arg</span><span class="op" id="1917910">.</span><span class="op" id="1917911">(</span><span class="keyword" id="1917912">type</span><span class="op" id="1917916">)</span>&nbsp;<span class="op" id="1917918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917921">case</span>&nbsp;<span class="builtintype" id="1917926">bool</span><span class="op" id="1917930">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917934">p</span><span class="op" id="1917935">.</span><span class="ident" id="1917936">fmtBool</span><span class="op" id="1917943">(</span><span class="ident" id="1917944">f</span><span class="op" id="1917945">,</span>&nbsp;<span class="ident" id="1917947">verb</span><span class="op" id="1917951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917954">case</span>&nbsp;<span class="builtintype" id="1917959">float32</span><span class="op" id="1917966">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1917970">p</span><span class="op" id="1917971">.</span><span class="ident" id="1917972">fmtFloat32</span><span class="op" id="1917982">(</span><span class="ident" id="1917983">f</span><span class="op" id="1917984">,</span>&nbsp;<span class="ident" id="1917986">verb</span><span class="op" id="1917990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1917993">case</span>&nbsp;<span class="builtintype" id="1917998">float64</span><span class="op" id="1918005">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918009">p</span><span class="op" id="1918010">.</span><span class="ident" id="1918011">fmtFloat64</span><span class="op" id="1918021">(</span><span class="ident" id="1918022">f</span><span class="op" id="1918023">,</span>&nbsp;<span class="ident" id="1918025">verb</span><span class="op" id="1918029">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918032">case</span>&nbsp;<span class="builtintype" id="1918037">complex64</span><span class="op" id="1918046">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918050">p</span><span class="op" id="1918051">.</span><span class="ident" id="1918052">fmtComplex64</span><span class="op" id="1918064">(</span><span class="ident" id="1918065">f</span><span class="op" id="1918066">,</span>&nbsp;<span class="ident" id="1918068">verb</span><span class="op" id="1918072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918075">case</span>&nbsp;<span class="builtintype" id="1918080">complex128</span><span class="op" id="1918090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918094">p</span><span class="op" id="1918095">.</span><span class="ident" id="1918096">fmtComplex128</span><span class="op" id="1918109">(</span><span class="ident" id="1918110">f</span><span class="op" id="1918111">,</span>&nbsp;<span class="ident" id="1918113">verb</span><span class="op" id="1918117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918120">case</span>&nbsp;<span class="builtintype" id="1918125">int</span><span class="op" id="1918128">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918132">p</span><span class="op" id="1918133">.</span><span class="ident" id="1918134">fmtInt64</span><span class="op" id="1918142">(</span><span class="ident" id="1918143">int64</span><span class="op" id="1918148">(</span><span class="ident" id="1918149">f</span><span class="op" id="1918150">)</span><span class="op" id="1918151">,</span>&nbsp;<span class="ident" id="1918153">verb</span><span class="op" id="1918157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918160">case</span>&nbsp;<span class="builtintype" id="1918165">int8</span><span class="op" id="1918169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918173">p</span><span class="op" id="1918174">.</span><span class="ident" id="1918175">fmtInt64</span><span class="op" id="1918183">(</span><span class="ident" id="1918184">int64</span><span class="op" id="1918189">(</span><span class="ident" id="1918190">f</span><span class="op" id="1918191">)</span><span class="op" id="1918192">,</span>&nbsp;<span class="ident" id="1918194">verb</span><span class="op" id="1918198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918201">case</span>&nbsp;<span class="builtintype" id="1918206">int16</span><span class="op" id="1918211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918215">p</span><span class="op" id="1918216">.</span><span class="ident" id="1918217">fmtInt64</span><span class="op" id="1918225">(</span><span class="ident" id="1918226">int64</span><span class="op" id="1918231">(</span><span class="ident" id="1918232">f</span><span class="op" id="1918233">)</span><span class="op" id="1918234">,</span>&nbsp;<span class="ident" id="1918236">verb</span><span class="op" id="1918240">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918243">case</span>&nbsp;<span class="builtintype" id="1918248">int32</span><span class="op" id="1918253">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918257">p</span><span class="op" id="1918258">.</span><span class="ident" id="1918259">fmtInt64</span><span class="op" id="1918267">(</span><span class="ident" id="1918268">int64</span><span class="op" id="1918273">(</span><span class="ident" id="1918274">f</span><span class="op" id="1918275">)</span><span class="op" id="1918276">,</span>&nbsp;<span class="ident" id="1918278">verb</span><span class="op" id="1918282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918285">case</span>&nbsp;<span class="ident" id="1918290">int64</span><span class="op" id="1918295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918299">p</span><span class="op" id="1918300">.</span><span class="ident" id="1918301">fmtInt64</span><span class="op" id="1918309">(</span><span class="ident" id="1918310">f</span><span class="op" id="1918311">,</span>&nbsp;<span class="ident" id="1918313">verb</span><span class="op" id="1918317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918320">case</span>&nbsp;<span class="builtintype" id="1918325">uint</span><span class="op" id="1918329">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918333">p</span><span class="op" id="1918334">.</span><span class="ident" id="1918335">fmtUint64</span><span class="op" id="1918344">(</span><span class="ident" id="1918345">uint64</span><span class="op" id="1918351">(</span><span class="ident" id="1918352">f</span><span class="op" id="1918353">)</span><span class="op" id="1918354">,</span>&nbsp;<span class="ident" id="1918356">verb</span><span class="op" id="1918360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918363">case</span>&nbsp;<span class="builtintype" id="1918368">uint8</span><span class="op" id="1918373">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918377">p</span><span class="op" id="1918378">.</span><span class="ident" id="1918379">fmtUint64</span><span class="op" id="1918388">(</span><span class="ident" id="1918389">uint64</span><span class="op" id="1918395">(</span><span class="ident" id="1918396">f</span><span class="op" id="1918397">)</span><span class="op" id="1918398">,</span>&nbsp;<span class="ident" id="1918400">verb</span><span class="op" id="1918404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918407">case</span>&nbsp;<span class="builtintype" id="1918412">uint16</span><span class="op" id="1918418">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918422">p</span><span class="op" id="1918423">.</span><span class="ident" id="1918424">fmtUint64</span><span class="op" id="1918433">(</span><span class="ident" id="1918434">uint64</span><span class="op" id="1918440">(</span><span class="ident" id="1918441">f</span><span class="op" id="1918442">)</span><span class="op" id="1918443">,</span>&nbsp;<span class="ident" id="1918445">verb</span><span class="op" id="1918449">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918452">case</span>&nbsp;<span class="builtintype" id="1918457">uint32</span><span class="op" id="1918463">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918467">p</span><span class="op" id="1918468">.</span><span class="ident" id="1918469">fmtUint64</span><span class="op" id="1918478">(</span><span class="ident" id="1918479">uint64</span><span class="op" id="1918485">(</span><span class="ident" id="1918486">f</span><span class="op" id="1918487">)</span><span class="op" id="1918488">,</span>&nbsp;<span class="ident" id="1918490">verb</span><span class="op" id="1918494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918497">case</span>&nbsp;<span class="ident" id="1918502">uint64</span><span class="op" id="1918508">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918512">p</span><span class="op" id="1918513">.</span><span class="ident" id="1918514">fmtUint64</span><span class="op" id="1918523">(</span><span class="ident" id="1918524">f</span><span class="op" id="1918525">,</span>&nbsp;<span class="ident" id="1918527">verb</span><span class="op" id="1918531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918534">case</span>&nbsp;<span class="builtintype" id="1918539">uintptr</span><span class="op" id="1918546">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918550">p</span><span class="op" id="1918551">.</span><span class="ident" id="1918552">fmtUint64</span><span class="op" id="1918561">(</span><span class="ident" id="1918562">uint64</span><span class="op" id="1918568">(</span><span class="ident" id="1918569">f</span><span class="op" id="1918570">)</span><span class="op" id="1918571">,</span>&nbsp;<span class="ident" id="1918573">verb</span><span class="op" id="1918577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918580">case</span>&nbsp;<span class="builtintype" id="1918585">string</span><span class="op" id="1918591">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918595">p</span><span class="op" id="1918596">.</span><span class="ident" id="1918597">fmtString</span><span class="op" id="1918606">(</span><span class="ident" id="1918607">f</span><span class="op" id="1918608">,</span>&nbsp;<span class="ident" id="1918610">verb</span><span class="op" id="1918614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918618">wasString</span>&nbsp;<span class="op" id="1918628">=</span>&nbsp;<span class="ident" id="1918630">verb</span>&nbsp;<span class="op" id="1918635">==</span>&nbsp;<span class="string" id="1918638">&#39;s&#39;</span>&nbsp;<span class="op" id="1918642">||</span>&nbsp;<span class="ident" id="1918645">verb</span>&nbsp;<span class="op" id="1918650">==</span>&nbsp;<span class="string" id="1918653">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918658">case</span>&nbsp;<span class="op" id="1918663">[</span><span class="op" id="1918664">]</span><span class="builtintype" id="1918665">byte</span><span class="op" id="1918669">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918673">p</span><span class="op" id="1918674">.</span><span class="ident" id="1918675">fmtBytes</span><span class="op" id="1918683">(</span><span class="ident" id="1918684">f</span><span class="op" id="1918685">,</span>&nbsp;<span class="ident" id="1918687">verb</span><span class="op" id="1918691">,</span>&nbsp;<span class="ident" id="1918693">nil</span><span class="op" id="1918696">,</span>&nbsp;<span class="ident" id="1918698">depth</span><span class="op" id="1918703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918707">wasString</span>&nbsp;<span class="op" id="1918717">=</span>&nbsp;<span class="ident" id="1918719">verb</span>&nbsp;<span class="op" id="1918724">==</span>&nbsp;<span class="string" id="1918727">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918732">default</span><span class="op" id="1918739">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1918743">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918798">if</span>&nbsp;<span class="ident" id="1918801">handled</span>&nbsp;<span class="op" id="1918809">:=</span>&nbsp;<span class="ident" id="1918812">p</span><span class="op" id="1918813">.</span><span class="ident" id="1918814">handleMethods</span><span class="op" id="1918827">(</span><span class="ident" id="1918828">verb</span><span class="op" id="1918832">,</span>&nbsp;<span class="ident" id="1918834">depth</span><span class="op" id="1918839">)</span><span class="op" id="1918840">;</span>&nbsp;<span class="ident" id="1918842">handled</span>&nbsp;<span class="op" id="1918850">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918855">return</span>&nbsp;<span class="ident" id="1918862">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1918870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1918874">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918902">return</span>&nbsp;<span class="ident" id="1918909">p</span><span class="op" id="1918910">.</span><span class="ident" id="1918911">printReflectValue</span><span class="op" id="1918928">(</span><span class="ident" id="1918929">reflect</span><span class="op" id="1918936">.</span><span class="ident" id="1918937">ValueOf</span><span class="op" id="1918944">(</span><span class="ident" id="1918945">arg</span><span class="op" id="1918948">)</span><span class="op" id="1918949">,</span>&nbsp;<span class="ident" id="1918951">verb</span><span class="op" id="1918955">,</span>&nbsp;<span class="ident" id="1918957">depth</span><span class="op" id="1918962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1918965">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1918968">p</span><span class="op" id="1918969">.</span><span class="ident" id="1918970">arg</span>&nbsp;<span class="op" id="1918974">=</span>&nbsp;<span class="ident" id="1918976">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1918981">return</span><br>
<span class="lineno"></span><span class="op" id="1918988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1918991">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="1919081">func</span>&nbsp;<span class="op" id="1919086">(</span><span class="ident" id="1919087">p</span>&nbsp;<span class="op" id="1919089">*</span><span class="ident" id="1919090">pp</span><span class="op" id="1919092">)</span>&nbsp;<span class="ident" id="1919094">printValue</span><span class="op" id="1919104">(</span><span class="ident" id="1919105">value</span>&nbsp;<span class="ident" id="1919111">reflect</span><span class="op" id="1919118">.</span><span class="ident" id="1919119">Value</span><span class="op" id="1919124">,</span>&nbsp;<span class="ident" id="1919126">verb</span>&nbsp;<span class="builtintype" id="1919131">rune</span><span class="op" id="1919135">,</span>&nbsp;<span class="ident" id="1919137">depth</span>&nbsp;<span class="builtintype" id="1919143">int</span><span class="op" id="1919146">)</span>&nbsp;<span class="op" id="1919148">(</span><span class="ident" id="1919149">wasString</span>&nbsp;<span class="builtintype" id="1919159">bool</span><span class="op" id="1919163">)</span>&nbsp;<span class="op" id="1919165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919168">if</span>&nbsp;<span class="op" id="1919171">!</span><span class="ident" id="1919172">value</span><span class="op" id="1919177">.</span><span class="ident" id="1919178">IsValid</span><span class="op" id="1919185">(</span><span class="op" id="1919186">)</span>&nbsp;<span class="op" id="1919188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919192">if</span>&nbsp;<span class="ident" id="1919195">verb</span>&nbsp;<span class="op" id="1919200">==</span>&nbsp;<span class="string" id="1919203">&#39;T&#39;</span>&nbsp;<span class="op" id="1919207">||</span>&nbsp;<span class="ident" id="1919210">verb</span>&nbsp;<span class="op" id="1919215">==</span>&nbsp;<span class="string" id="1919218">&#39;v&#39;</span>&nbsp;<span class="op" id="1919222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1919227">p</span><span class="op" id="1919228">.</span><span class="ident" id="1919229">buf</span><span class="op" id="1919232">.</span><span class="ident" id="1919233">Write</span><span class="op" id="1919238">(</span><span class="ident" id="1919239">nilAngleBytes</span><span class="op" id="1919252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1919256">}</span>&nbsp;<span class="keyword" id="1919258">else</span>&nbsp;<span class="op" id="1919263">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1919268">p</span><span class="op" id="1919269">.</span><span class="ident" id="1919270">badVerb</span><span class="op" id="1919277">(</span><span class="ident" id="1919278">verb</span><span class="op" id="1919282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1919286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919290">return</span>&nbsp;<span class="ident" id="1919297">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1919304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1919308">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1919347">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919432">switch</span>&nbsp;<span class="ident" id="1919439">verb</span>&nbsp;<span class="op" id="1919444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919447">case</span>&nbsp;<span class="string" id="1919452">&#39;T&#39;</span><span class="op" id="1919455">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1919459">p</span><span class="op" id="1919460">.</span><span class="ident" id="1919461">printArg</span><span class="op" id="1919469">(</span><span class="ident" id="1919470">value</span><span class="op" id="1919475">.</span><span class="ident" id="1919476">Type</span><span class="op" id="1919480">(</span><span class="op" id="1919481">)</span><span class="op" id="1919482">.</span><span class="ident" id="1919483">String</span><span class="op" id="1919489">(</span><span class="op" id="1919490">)</span><span class="op" id="1919491">,</span>&nbsp;<span class="string" id="1919493">&#39;s&#39;</span><span class="op" id="1919496">,</span>&nbsp;<span class="num" id="1919498">0</span><span class="op" id="1919499">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919503">return</span>&nbsp;<span class="ident" id="1919510">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919517">case</span>&nbsp;<span class="string" id="1919522">&#39;p&#39;</span><span class="op" id="1919525">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1919529">p</span><span class="op" id="1919530">.</span><span class="ident" id="1919531">fmtPointer</span><span class="op" id="1919541">(</span><span class="ident" id="1919542">value</span><span class="op" id="1919547">,</span>&nbsp;<span class="ident" id="1919549">verb</span><span class="op" id="1919553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919557">return</span>&nbsp;<span class="ident" id="1919564">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1919571">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1919575">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1919615">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1919702">p</span><span class="op" id="1919703">.</span><span class="ident" id="1919704">arg</span>&nbsp;<span class="op" id="1919708">=</span>&nbsp;<span class="ident" id="1919710">nil</span>&nbsp;<span class="comment" id="1919714">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919754">if</span>&nbsp;<span class="ident" id="1919757">value</span><span class="op" id="1919762">.</span><span class="ident" id="1919763">CanInterface</span><span class="op" id="1919775">(</span><span class="op" id="1919776">)</span>&nbsp;<span class="op" id="1919778">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1919782">p</span><span class="op" id="1919783">.</span><span class="ident" id="1919784">arg</span>&nbsp;<span class="op" id="1919788">=</span>&nbsp;<span class="ident" id="1919790">value</span><span class="op" id="1919795">.</span><span class="ident" id="1919796">Interface</span><span class="op" id="1919805">(</span><span class="op" id="1919806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1919809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919812">if</span>&nbsp;<span class="ident" id="1919815">handled</span>&nbsp;<span class="op" id="1919823">:=</span>&nbsp;<span class="ident" id="1919826">p</span><span class="op" id="1919827">.</span><span class="ident" id="1919828">handleMethods</span><span class="op" id="1919841">(</span><span class="ident" id="1919842">verb</span><span class="op" id="1919846">,</span>&nbsp;<span class="ident" id="1919848">depth</span><span class="op" id="1919853">)</span><span class="op" id="1919854">;</span>&nbsp;<span class="ident" id="1919856">handled</span>&nbsp;<span class="op" id="1919864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919868">return</span>&nbsp;<span class="ident" id="1919875">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1919882">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1919886">return</span>&nbsp;<span class="ident" id="1919893">p</span><span class="op" id="1919894">.</span><span class="ident" id="1919895">printReflectValue</span><span class="op" id="1919912">(</span><span class="ident" id="1919913">value</span><span class="op" id="1919918">,</span>&nbsp;<span class="ident" id="1919920">verb</span><span class="op" id="1919924">,</span>&nbsp;<span class="ident" id="1919926">depth</span><span class="op" id="1919931">)</span><br>
<span class="lineno"></span><span class="op" id="1919933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1919936">var</span>&nbsp;<span class="ident" id="1919940">byteType</span>&nbsp;<span class="op" id="1919949">=</span>&nbsp;<span class="ident" id="1919951">reflect</span><span class="op" id="1919958">.</span><span class="ident" id="1919959">TypeOf</span><span class="op" id="1919965">(</span><span class="builtintype" id="1919966">byte</span><span class="op" id="1919970">(</span><span class="num" id="1919971">0</span><span class="op" id="1919972">)</span><span class="op" id="1919973">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="1919976">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="1920047">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="1920086">func</span>&nbsp;<span class="op" id="1920091">(</span><span class="ident" id="1920092">p</span>&nbsp;<span class="op" id="1920094">*</span><span class="ident" id="1920095">pp</span><span class="op" id="1920097">)</span>&nbsp;<span class="ident" id="1920099">printReflectValue</span><span class="op" id="1920116">(</span><span class="ident" id="1920117">value</span>&nbsp;<span class="ident" id="1920123">reflect</span><span class="op" id="1920130">.</span><span class="ident" id="1920131">Value</span><span class="op" id="1920136">,</span>&nbsp;<span class="ident" id="1920138">verb</span>&nbsp;<span class="builtintype" id="1920143">rune</span><span class="op" id="1920147">,</span>&nbsp;<span class="ident" id="1920149">depth</span>&nbsp;<span class="builtintype" id="1920155">int</span><span class="op" id="1920158">)</span>&nbsp;<span class="op" id="1920160">(</span><span class="ident" id="1920161">wasString</span>&nbsp;<span class="builtintype" id="1920171">bool</span><span class="op" id="1920175">)</span>&nbsp;<span class="op" id="1920177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920180">oldValue</span>&nbsp;<span class="op" id="1920189">:=</span>&nbsp;<span class="ident" id="1920192">p</span><span class="op" id="1920193">.</span><span class="ident" id="1920194">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920201">p</span><span class="op" id="1920202">.</span><span class="ident" id="1920203">value</span>&nbsp;<span class="op" id="1920209">=</span>&nbsp;<span class="ident" id="1920211">value</span><br>
<span class="lineno"></span><span class="ident" id="1920217">BigSwitch</span><span class="op" id="1920226">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920229">switch</span>&nbsp;<span class="ident" id="1920236">f</span>&nbsp;<span class="op" id="1920238">:=</span>&nbsp;<span class="ident" id="1920241">value</span><span class="op" id="1920246">;</span>&nbsp;<span class="ident" id="1920248">f</span><span class="op" id="1920249">.</span><span class="ident" id="1920250">Kind</span><span class="op" id="1920254">(</span><span class="op" id="1920255">)</span>&nbsp;<span class="op" id="1920257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920260">case</span>&nbsp;<span class="ident" id="1920265">reflect</span><span class="op" id="1920272">.</span><span class="ident" id="1920273">Bool</span><span class="op" id="1920277">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920281">p</span><span class="op" id="1920282">.</span><span class="ident" id="1920283">fmtBool</span><span class="op" id="1920290">(</span><span class="ident" id="1920291">f</span><span class="op" id="1920292">.</span><span class="ident" id="1920293">Bool</span><span class="op" id="1920297">(</span><span class="op" id="1920298">)</span><span class="op" id="1920299">,</span>&nbsp;<span class="ident" id="1920301">verb</span><span class="op" id="1920305">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920308">case</span>&nbsp;<span class="ident" id="1920313">reflect</span><span class="op" id="1920320">.</span><span class="ident" id="1920321">Int</span><span class="op" id="1920324">,</span>&nbsp;<span class="ident" id="1920326">reflect</span><span class="op" id="1920333">.</span><span class="ident" id="1920334">Int8</span><span class="op" id="1920338">,</span>&nbsp;<span class="ident" id="1920340">reflect</span><span class="op" id="1920347">.</span><span class="ident" id="1920348">Int16</span><span class="op" id="1920353">,</span>&nbsp;<span class="ident" id="1920355">reflect</span><span class="op" id="1920362">.</span><span class="ident" id="1920363">Int32</span><span class="op" id="1920368">,</span>&nbsp;<span class="ident" id="1920370">reflect</span><span class="op" id="1920377">.</span><span class="ident" id="1920378">Int64</span><span class="op" id="1920383">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920387">p</span><span class="op" id="1920388">.</span><span class="ident" id="1920389">fmtInt64</span><span class="op" id="1920397">(</span><span class="ident" id="1920398">f</span><span class="op" id="1920399">.</span><span class="ident" id="1920400">Int</span><span class="op" id="1920403">(</span><span class="op" id="1920404">)</span><span class="op" id="1920405">,</span>&nbsp;<span class="ident" id="1920407">verb</span><span class="op" id="1920411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920414">case</span>&nbsp;<span class="ident" id="1920419">reflect</span><span class="op" id="1920426">.</span><span class="ident" id="1920427">Uint</span><span class="op" id="1920431">,</span>&nbsp;<span class="ident" id="1920433">reflect</span><span class="op" id="1920440">.</span><span class="ident" id="1920441">Uint8</span><span class="op" id="1920446">,</span>&nbsp;<span class="ident" id="1920448">reflect</span><span class="op" id="1920455">.</span><span class="ident" id="1920456">Uint16</span><span class="op" id="1920462">,</span>&nbsp;<span class="ident" id="1920464">reflect</span><span class="op" id="1920471">.</span><span class="ident" id="1920472">Uint32</span><span class="op" id="1920478">,</span>&nbsp;<span class="ident" id="1920480">reflect</span><span class="op" id="1920487">.</span><span class="ident" id="1920488">Uint64</span><span class="op" id="1920494">,</span>&nbsp;<span class="ident" id="1920496">reflect</span><span class="op" id="1920503">.</span><span class="ident" id="1920504">Uintptr</span><span class="op" id="1920511">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920515">p</span><span class="op" id="1920516">.</span><span class="ident" id="1920517">fmtUint64</span><span class="op" id="1920526">(</span><span class="ident" id="1920527">f</span><span class="op" id="1920528">.</span><span class="ident" id="1920529">Uint</span><span class="op" id="1920533">(</span><span class="op" id="1920534">)</span><span class="op" id="1920535">,</span>&nbsp;<span class="ident" id="1920537">verb</span><span class="op" id="1920541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920544">case</span>&nbsp;<span class="ident" id="1920549">reflect</span><span class="op" id="1920556">.</span><span class="ident" id="1920557">Float32</span><span class="op" id="1920564">,</span>&nbsp;<span class="ident" id="1920566">reflect</span><span class="op" id="1920573">.</span><span class="ident" id="1920574">Float64</span><span class="op" id="1920581">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920585">if</span>&nbsp;<span class="ident" id="1920588">f</span><span class="op" id="1920589">.</span><span class="ident" id="1920590">Type</span><span class="op" id="1920594">(</span><span class="op" id="1920595">)</span><span class="op" id="1920596">.</span><span class="ident" id="1920597">Size</span><span class="op" id="1920601">(</span><span class="op" id="1920602">)</span>&nbsp;<span class="op" id="1920604">==</span>&nbsp;<span class="num" id="1920607">4</span>&nbsp;<span class="op" id="1920609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920614">p</span><span class="op" id="1920615">.</span><span class="ident" id="1920616">fmtFloat32</span><span class="op" id="1920626">(</span><span class="builtintype" id="1920627">float32</span><span class="op" id="1920634">(</span><span class="ident" id="1920635">f</span><span class="op" id="1920636">.</span><span class="ident" id="1920637">Float</span><span class="op" id="1920642">(</span><span class="op" id="1920643">)</span><span class="op" id="1920644">)</span><span class="op" id="1920645">,</span>&nbsp;<span class="ident" id="1920647">verb</span><span class="op" id="1920651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1920655">}</span>&nbsp;<span class="keyword" id="1920657">else</span>&nbsp;<span class="op" id="1920662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920667">p</span><span class="op" id="1920668">.</span><span class="ident" id="1920669">fmtFloat64</span><span class="op" id="1920679">(</span><span class="ident" id="1920680">f</span><span class="op" id="1920681">.</span><span class="ident" id="1920682">Float</span><span class="op" id="1920687">(</span><span class="op" id="1920688">)</span><span class="op" id="1920689">,</span>&nbsp;<span class="ident" id="1920691">verb</span><span class="op" id="1920695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1920699">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920702">case</span>&nbsp;<span class="ident" id="1920707">reflect</span><span class="op" id="1920714">.</span><span class="ident" id="1920715">Complex64</span><span class="op" id="1920724">,</span>&nbsp;<span class="ident" id="1920726">reflect</span><span class="op" id="1920733">.</span><span class="ident" id="1920734">Complex128</span><span class="op" id="1920744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920748">if</span>&nbsp;<span class="ident" id="1920751">f</span><span class="op" id="1920752">.</span><span class="ident" id="1920753">Type</span><span class="op" id="1920757">(</span><span class="op" id="1920758">)</span><span class="op" id="1920759">.</span><span class="ident" id="1920760">Size</span><span class="op" id="1920764">(</span><span class="op" id="1920765">)</span>&nbsp;<span class="op" id="1920767">==</span>&nbsp;<span class="num" id="1920770">8</span>&nbsp;<span class="op" id="1920772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920777">p</span><span class="op" id="1920778">.</span><span class="ident" id="1920779">fmtComplex64</span><span class="op" id="1920791">(</span><span class="builtintype" id="1920792">complex64</span><span class="op" id="1920801">(</span><span class="ident" id="1920802">f</span><span class="op" id="1920803">.</span><span class="ident" id="1920804">Complex</span><span class="op" id="1920811">(</span><span class="op" id="1920812">)</span><span class="op" id="1920813">)</span><span class="op" id="1920814">,</span>&nbsp;<span class="ident" id="1920816">verb</span><span class="op" id="1920820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1920824">}</span>&nbsp;<span class="keyword" id="1920826">else</span>&nbsp;<span class="op" id="1920831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920836">p</span><span class="op" id="1920837">.</span><span class="ident" id="1920838">fmtComplex128</span><span class="op" id="1920851">(</span><span class="ident" id="1920852">f</span><span class="op" id="1920853">.</span><span class="ident" id="1920854">Complex</span><span class="op" id="1920861">(</span><span class="op" id="1920862">)</span><span class="op" id="1920863">,</span>&nbsp;<span class="ident" id="1920865">verb</span><span class="op" id="1920869">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1920873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920876">case</span>&nbsp;<span class="ident" id="1920881">reflect</span><span class="op" id="1920888">.</span><span class="ident" id="1920889">String</span><span class="op" id="1920895">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920899">p</span><span class="op" id="1920900">.</span><span class="ident" id="1920901">fmtString</span><span class="op" id="1920910">(</span><span class="ident" id="1920911">f</span><span class="op" id="1920912">.</span><span class="ident" id="1920913">String</span><span class="op" id="1920919">(</span><span class="op" id="1920920">)</span><span class="op" id="1920921">,</span>&nbsp;<span class="ident" id="1920923">verb</span><span class="op" id="1920927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920930">case</span>&nbsp;<span class="ident" id="1920935">reflect</span><span class="op" id="1920942">.</span><span class="ident" id="1920943">Map</span><span class="op" id="1920946">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1920950">if</span>&nbsp;<span class="ident" id="1920953">p</span><span class="op" id="1920954">.</span><span class="ident" id="1920955">fmt</span><span class="op" id="1920958">.</span><span class="ident" id="1920959">sharpV</span>&nbsp;<span class="op" id="1920966">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1920971">p</span><span class="op" id="1920972">.</span><span class="ident" id="1920973">buf</span><span class="op" id="1920976">.</span><span class="ident" id="1920977">WriteString</span><span class="op" id="1920988">(</span><span class="ident" id="1920989">f</span><span class="op" id="1920990">.</span><span class="ident" id="1920991">Type</span><span class="op" id="1920995">(</span><span class="op" id="1920996">)</span><span class="op" id="1920997">.</span><span class="ident" id="1920998">String</span><span class="op" id="1921004">(</span><span class="op" id="1921005">)</span><span class="op" id="1921006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921011">if</span>&nbsp;<span class="ident" id="1921014">f</span><span class="op" id="1921015">.</span><span class="ident" id="1921016">IsNil</span><span class="op" id="1921021">(</span><span class="op" id="1921022">)</span>&nbsp;<span class="op" id="1921024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921030">p</span><span class="op" id="1921031">.</span><span class="ident" id="1921032">buf</span><span class="op" id="1921035">.</span><span class="ident" id="1921036">WriteString</span><span class="op" id="1921047">(</span><span class="string" id="1921048">&#34;(nil)&#34;</span><span class="op" id="1921055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921061">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921070">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921075">p</span><span class="op" id="1921076">.</span><span class="ident" id="1921077">buf</span><span class="op" id="1921080">.</span><span class="ident" id="1921081">WriteByte</span><span class="op" id="1921090">(</span><span class="string" id="1921091">&#39;{&#39;</span><span class="op" id="1921094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921098">}</span>&nbsp;<span class="keyword" id="1921100">else</span>&nbsp;<span class="op" id="1921105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921110">p</span><span class="op" id="1921111">.</span><span class="ident" id="1921112">buf</span><span class="op" id="1921115">.</span><span class="ident" id="1921116">Write</span><span class="op" id="1921121">(</span><span class="ident" id="1921122">mapBytes</span><span class="op" id="1921130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921138">keys</span>&nbsp;<span class="op" id="1921143">:=</span>&nbsp;<span class="ident" id="1921146">f</span><span class="op" id="1921147">.</span><span class="ident" id="1921148">MapKeys</span><span class="op" id="1921155">(</span><span class="op" id="1921156">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921160">for</span>&nbsp;<span class="ident" id="1921164">i</span><span class="op" id="1921165">,</span>&nbsp;<span class="ident" id="1921167">key</span>&nbsp;<span class="op" id="1921171">:=</span>&nbsp;<span class="keyword" id="1921174">range</span>&nbsp;<span class="ident" id="1921180">keys</span>&nbsp;<span class="op" id="1921185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921190">if</span>&nbsp;<span class="ident" id="1921193">i</span>&nbsp;<span class="op" id="1921195">&gt;</span>&nbsp;<span class="num" id="1921197">0</span>&nbsp;<span class="op" id="1921199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921205">if</span>&nbsp;<span class="ident" id="1921208">p</span><span class="op" id="1921209">.</span><span class="ident" id="1921210">fmt</span><span class="op" id="1921213">.</span><span class="ident" id="1921214">sharpV</span>&nbsp;<span class="op" id="1921221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921228">p</span><span class="op" id="1921229">.</span><span class="ident" id="1921230">buf</span><span class="op" id="1921233">.</span><span class="ident" id="1921234">Write</span><span class="op" id="1921239">(</span><span class="ident" id="1921240">commaSpaceBytes</span><span class="op" id="1921255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921261">}</span>&nbsp;<span class="keyword" id="1921263">else</span>&nbsp;<span class="op" id="1921268">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921275">p</span><span class="op" id="1921276">.</span><span class="ident" id="1921277">buf</span><span class="op" id="1921280">.</span><span class="ident" id="1921281">WriteByte</span><span class="op" id="1921290">(</span><span class="string" id="1921291">&#39;&nbsp;&#39;</span><span class="op" id="1921294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921310">p</span><span class="op" id="1921311">.</span><span class="ident" id="1921312">printValue</span><span class="op" id="1921322">(</span><span class="ident" id="1921323">key</span><span class="op" id="1921326">,</span>&nbsp;<span class="ident" id="1921328">verb</span><span class="op" id="1921332">,</span>&nbsp;<span class="ident" id="1921334">depth</span><span class="op" id="1921339">+</span><span class="num" id="1921340">1</span><span class="op" id="1921341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921346">p</span><span class="op" id="1921347">.</span><span class="ident" id="1921348">buf</span><span class="op" id="1921351">.</span><span class="ident" id="1921352">WriteByte</span><span class="op" id="1921361">(</span><span class="string" id="1921362">&#39;:&#39;</span><span class="op" id="1921365">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921370">p</span><span class="op" id="1921371">.</span><span class="ident" id="1921372">printValue</span><span class="op" id="1921382">(</span><span class="ident" id="1921383">f</span><span class="op" id="1921384">.</span><span class="ident" id="1921385">MapIndex</span><span class="op" id="1921393">(</span><span class="ident" id="1921394">key</span><span class="op" id="1921397">)</span><span class="op" id="1921398">,</span>&nbsp;<span class="ident" id="1921400">verb</span><span class="op" id="1921404">,</span>&nbsp;<span class="ident" id="1921406">depth</span><span class="op" id="1921411">+</span><span class="num" id="1921412">1</span><span class="op" id="1921413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921421">if</span>&nbsp;<span class="ident" id="1921424">p</span><span class="op" id="1921425">.</span><span class="ident" id="1921426">fmt</span><span class="op" id="1921429">.</span><span class="ident" id="1921430">sharpV</span>&nbsp;<span class="op" id="1921437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921442">p</span><span class="op" id="1921443">.</span><span class="ident" id="1921444">buf</span><span class="op" id="1921447">.</span><span class="ident" id="1921448">WriteByte</span><span class="op" id="1921457">(</span><span class="string" id="1921458">&#39;}&#39;</span><span class="op" id="1921461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921465">}</span>&nbsp;<span class="keyword" id="1921467">else</span>&nbsp;<span class="op" id="1921472">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921477">p</span><span class="op" id="1921478">.</span><span class="ident" id="1921479">buf</span><span class="op" id="1921482">.</span><span class="ident" id="1921483">WriteByte</span><span class="op" id="1921492">(</span><span class="string" id="1921493">&#39;]&#39;</span><span class="op" id="1921496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921503">case</span>&nbsp;<span class="ident" id="1921508">reflect</span><span class="op" id="1921515">.</span><span class="ident" id="1921516">Struct</span><span class="op" id="1921522">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921526">if</span>&nbsp;<span class="ident" id="1921529">p</span><span class="op" id="1921530">.</span><span class="ident" id="1921531">fmt</span><span class="op" id="1921534">.</span><span class="ident" id="1921535">sharpV</span>&nbsp;<span class="op" id="1921542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921547">p</span><span class="op" id="1921548">.</span><span class="ident" id="1921549">buf</span><span class="op" id="1921552">.</span><span class="ident" id="1921553">WriteString</span><span class="op" id="1921564">(</span><span class="ident" id="1921565">value</span><span class="op" id="1921570">.</span><span class="ident" id="1921571">Type</span><span class="op" id="1921575">(</span><span class="op" id="1921576">)</span><span class="op" id="1921577">.</span><span class="ident" id="1921578">String</span><span class="op" id="1921584">(</span><span class="op" id="1921585">)</span><span class="op" id="1921586">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921594">p</span><span class="op" id="1921595">.</span><span class="ident" id="1921596">add</span><span class="op" id="1921599">(</span><span class="string" id="1921600">&#39;{&#39;</span><span class="op" id="1921603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921607">v</span>&nbsp;<span class="op" id="1921609">:=</span>&nbsp;<span class="ident" id="1921612">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921616">t</span>&nbsp;<span class="op" id="1921618">:=</span>&nbsp;<span class="ident" id="1921621">v</span><span class="op" id="1921622">.</span><span class="ident" id="1921623">Type</span><span class="op" id="1921627">(</span><span class="op" id="1921628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921632">for</span>&nbsp;<span class="ident" id="1921636">i</span>&nbsp;<span class="op" id="1921638">:=</span>&nbsp;<span class="num" id="1921641">0</span><span class="op" id="1921642">;</span>&nbsp;<span class="ident" id="1921644">i</span>&nbsp;<span class="op" id="1921646">&lt;</span>&nbsp;<span class="ident" id="1921648">v</span><span class="op" id="1921649">.</span><span class="ident" id="1921650">NumField</span><span class="op" id="1921658">(</span><span class="op" id="1921659">)</span><span class="op" id="1921660">;</span>&nbsp;<span class="ident" id="1921662">i</span><span class="op" id="1921663">++</span>&nbsp;<span class="op" id="1921666">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921671">if</span>&nbsp;<span class="ident" id="1921674">i</span>&nbsp;<span class="op" id="1921676">&gt;</span>&nbsp;<span class="num" id="1921678">0</span>&nbsp;<span class="op" id="1921680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921686">if</span>&nbsp;<span class="ident" id="1921689">p</span><span class="op" id="1921690">.</span><span class="ident" id="1921691">fmt</span><span class="op" id="1921694">.</span><span class="ident" id="1921695">sharpV</span>&nbsp;<span class="op" id="1921702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921709">p</span><span class="op" id="1921710">.</span><span class="ident" id="1921711">buf</span><span class="op" id="1921714">.</span><span class="ident" id="1921715">Write</span><span class="op" id="1921720">(</span><span class="ident" id="1921721">commaSpaceBytes</span><span class="op" id="1921736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921742">}</span>&nbsp;<span class="keyword" id="1921744">else</span>&nbsp;<span class="op" id="1921749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921756">p</span><span class="op" id="1921757">.</span><span class="ident" id="1921758">buf</span><span class="op" id="1921761">.</span><span class="ident" id="1921762">WriteByte</span><span class="op" id="1921771">(</span><span class="string" id="1921772">&#39;&nbsp;&#39;</span><span class="op" id="1921775">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921791">if</span>&nbsp;<span class="ident" id="1921794">p</span><span class="op" id="1921795">.</span><span class="ident" id="1921796">fmt</span><span class="op" id="1921799">.</span><span class="ident" id="1921800">plusV</span>&nbsp;<span class="op" id="1921806">||</span>&nbsp;<span class="ident" id="1921809">p</span><span class="op" id="1921810">.</span><span class="ident" id="1921811">fmt</span><span class="op" id="1921814">.</span><span class="ident" id="1921815">sharpV</span>&nbsp;<span class="op" id="1921822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1921828">if</span>&nbsp;<span class="ident" id="1921831">f</span>&nbsp;<span class="op" id="1921833">:=</span>&nbsp;<span class="ident" id="1921836">t</span><span class="op" id="1921837">.</span><span class="ident" id="1921838">Field</span><span class="op" id="1921843">(</span><span class="ident" id="1921844">i</span><span class="op" id="1921845">)</span><span class="op" id="1921846">;</span>&nbsp;<span class="ident" id="1921848">f</span><span class="op" id="1921849">.</span><span class="ident" id="1921850">Name</span>&nbsp;<span class="op" id="1921855">!=</span>&nbsp;<span class="string" id="1921858">&#34;&#34;</span>&nbsp;<span class="op" id="1921861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921868">p</span><span class="op" id="1921869">.</span><span class="ident" id="1921870">buf</span><span class="op" id="1921873">.</span><span class="ident" id="1921874">WriteString</span><span class="op" id="1921885">(</span><span class="ident" id="1921886">f</span><span class="op" id="1921887">.</span><span class="ident" id="1921888">Name</span><span class="op" id="1921892">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921899">p</span><span class="op" id="1921900">.</span><span class="ident" id="1921901">buf</span><span class="op" id="1921904">.</span><span class="ident" id="1921905">WriteByte</span><span class="op" id="1921914">(</span><span class="string" id="1921915">&#39;:&#39;</span><span class="op" id="1921918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921934">p</span><span class="op" id="1921935">.</span><span class="ident" id="1921936">printValue</span><span class="op" id="1921946">(</span><span class="ident" id="1921947">getField</span><span class="op" id="1921955">(</span><span class="ident" id="1921956">v</span><span class="op" id="1921957">,</span>&nbsp;<span class="ident" id="1921959">i</span><span class="op" id="1921960">)</span><span class="op" id="1921961">,</span>&nbsp;<span class="ident" id="1921963">verb</span><span class="op" id="1921967">,</span>&nbsp;<span class="ident" id="1921969">depth</span><span class="op" id="1921974">+</span><span class="num" id="1921975">1</span><span class="op" id="1921976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1921980">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1921984">p</span><span class="op" id="1921985">.</span><span class="ident" id="1921986">buf</span><span class="op" id="1921989">.</span><span class="ident" id="1921990">WriteByte</span><span class="op" id="1921999">(</span><span class="string" id="1922000">&#39;}&#39;</span><span class="op" id="1922003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1922006">case</span>&nbsp;<span class="ident" id="1922011">reflect</span><span class="op" id="1922018">.</span><span class="ident" id="1922019">Interface</span><span class="op" id="1922028">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1922032">value</span>&nbsp;<span class="op" id="1922038">:=</span>&nbsp;<span class="ident" id="1922041">f</span><span class="op" id="1922042">.</span><span class="ident" id="1922043">Elem</span><span class="op" id="1922047">(</span><span class="op" id="1922048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1922052">if</span>&nbsp;<span class="op" id="1922055">!</span><span class="ident" id="1922056">value</span><span class="op" id="1922061">.</span><span class="ident" id="1922062">IsValid</span><span class="op" id="1922069">(</span><span class="op" id="1922070">)</span>&nbsp;<span class="op" id="1922072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1922077">if</span>&nbsp;<span class="ident" id="1922080">p</span><span class="op" id="1922081">.</span><span class="ident" id="1922082">fmt</span><span class="op" id="1922085">.</span><span class="ident" id="1922086">sharpV</span>&nbsp;<span class="op" id="1922093">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1922099">p</span><span class="op" id="1922100">.</span><span class="ident" id="1922101">buf</span><span class="op" id="1922104">.</span><span class="ident" id="1922105">WriteString</span><span class="op" id="1922116">(</span><span class="ident" id="1922117">f</span><span class="op" id="1922118">.</span><span class="ident" id="1922119">Type</span><span class="op" id="1922123">(</span><span class="op" id="1922124">)</span><span class="op" id="1922125">.</span><span class="ident" id="1922126">String</span><span class="op" id="1922132">(</span><span class="op" id="1922133">)</span><span class="op" id="1922134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1922140">p</span><span class="op" id="1922141">.</span><span class="ident" id="1922142">buf</span><span class="op" id="1922145">.</span><span class="ident" id="1922146">Write</span><span class="op" id="1922151">(</span><span class="ident" id="1922152">nilParenBytes</span><span class="op" id="1922165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1922170">}</span>&nbsp;<span class="keyword" id="1922172">else</span>&nbsp;<span class="op" id="1922177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1922183">p</span><span class="op" id="1922184">.</span><span class="ident" id="1922185">buf</span><span class="op" id="1922188">.</span><span class="ident" id="1922189">Write</span><span class="op" id="1922194">(</span><span class="ident" id="1922195">nilAngleBytes</span><span class="op" id="1922208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1922213">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1922217">}</span>&nbsp;<span class="keyword" id="1922219">else</span>&nbsp;<span class="op" id="1922224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1922229">wasString</span>&nbsp;<span class="op" id="1922239">=</span>&nbsp;<span class="ident" id="1922241">p</span><span class="op" id="1922242">.</span><span class="ident" id="1922243">printValue</span><span class="op" id="1922253">(</span><span class="ident" id="1922254">value</span><span class="op" id="1922259">,</span>&nbsp;<span class="ident" id="1922261">verb</span><span class="op" id="1922265">,</span>&nbsp;<span class="ident" id="1922267">depth</span><span class="op" id="1922272">+</span><span class="num" id="1922273">1</span><span class="op" id="1922274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1922278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1922281">case</span>&nbsp;<span class="ident" id="1922286">reflect</span><span class="op" id="1922293">.</span><span class="ident" id="1922294">Array</span><span class="op" id="1922299">,</span>&nbsp;<span class="ident" id="1922301">reflect</span><span class="op" id="1922308">.</span><span class="ident" id="1922309">Slice</span><span class="op" id="1922314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1922318">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1922348">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1922397">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1922465">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1922528">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1922589">if</span>&nbsp;<span class="ident" id="1922592">typ</span>&nbsp;<span class="op" id="1922596">:=</span>&nbsp;<span class="ident" id="1922599">f</span><span class="op" id="1922600">.</span><span class="ident" id="1922601">Type</span><span class="op" id="1922605">(</span><span class="op" id="1922606">)</span><span class="op" id="1922607">;</span>&nbsp;<span class="ident" id="1922609">typ</span><span class="op" id="1922612">.</span><span class="ident" id="1922613">Elem</span><span class="op" id="1922617">(</span><span class="op" id="1922618">)</span><span class="op" id="1922619">.</span><span class="ident" id="1922620">Kind</span><span class="op" id="1922624">(</span><span class="op" id="1922625">)</span>&nbsp;<span class="op" id="1922627">==</span>&nbsp;<span class="ident" id="1922630">reflect</span><span class="op" id="1922637">.</span><span class="ident" id="1922638">Uint8</span>&nbsp;<span class="op" id="1922644">&amp;&amp;</span>&nbsp;<span class="op" id="1922647">(</span><span class="ident" id="1922648">typ</span><span class="op" id="1922651">.</span><span class="ident" id="1922652">Elem</span><span class="op" id="1922656">(</span><span class="op" id="1922657">)</span>&nbsp;<span class="op" id="1922659">==</span>&nbsp;<span class="ident" id="1922662">byteType</span>&nbsp;<span class="op" id="1922671">||</span>&nbsp;<span class="ident" id="1922674">verb</span>&nbsp;<span class="op" id="1922679">==</span>&nbsp;<span class="string" id="1922682">&#39;s&#39;</span>&nbsp;<span class="op" id="1922686">||</span>&nbsp;<span class="ident" id="1922689">verb</span>&nbsp;<span class="op" id="1922694">==</span>&nbsp;<span class="string" id="1922697">&#39;q&#39;</span>&nbsp;<span class="op" id="1922701">||</span>&nbsp;<span class="ident" id="1922704">verb</span>&nbsp;<span class="op" id="1922709">==</span>&nbsp;<span class="string" id="1922712">&#39;x&#39;</span><span class="op" id="1922715">)</span>&nbsp;<span class="op" id="1922717">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1922722">var</span>&nbsp;<span class="ident" id="1922726">bytes</span>&nbsp;<span class="op" id="1922732">[</span><span class="op" id="1922733">]</span><span class="builtintype" id="1922734">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1922742">if</span>&nbsp;<span class="ident" id="1922745">f</span><span class="op" id="1922746">.</span><span class="ident" id="1922747">Kind</span><span class="op" id="1922751">(</span><span class="op" id="1922752">)</span>&nbsp;<span class="op" id="1922754">==</span>&nbsp;<span class="ident" id="1922757">reflect</span><span class="op" id="1922764">.</span><span class="ident" id="1922765">Slice</span>&nbsp;<span class="op" id="1922771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1922777">bytes</span>&nbsp;<span class="op" id="1922783">=</span>&nbsp;<span class="ident" id="1922785">f</span><span class="op" id="1922786">.</span><span class="ident" id="1922787">Bytes</span><span class="op" id="1922792">(</span><span class="op" id="1922793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1922798">}</span>&nbsp;<span class="keyword" id="1922800">else</span>&nbsp;<span class="keyword" id="1922805">if</span>&nbsp;<span class="ident" id="1922808">f</span><span class="op" id="1922809">.</span><span class="ident" id="1922810">CanAddr</span><span class="op" id="1922817">(</span><span class="op" id="1922818">)</span>&nbsp;<span class="op" id="1922820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1922826">bytes</span>&nbsp;<span class="op" id="1922832">=</span>&nbsp;<span class="ident" id="1922834">f</span><span class="op" id="1922835">.</span><span class="ident" id="1922836">Slice</span><span class="op" id="1922841">(</span><span class="num" id="1922842">0</span><span class="op" id="1922843">,</span>&nbsp;<span class="ident" id="1922845">f</span><span class="op" id="1922846">.</span><span class="ident" id="1922847">Len</span><span class="op" id="1922850">(</span><span class="op" id="1922851">)</span><span class="op" id="1922852">)</span><span class="op" id="1922853">.</span><span class="ident" id="1922854">Bytes</span><span class="op" id="1922859">(</span><span class="op" id="1922860">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1922865">}</span>&nbsp;<span class="keyword" id="1922867">else</span>&nbsp;<span class="op" id="1922872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1922878">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1922950">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1923027">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923074">bytes</span>&nbsp;<span class="op" id="1923080">=</span>&nbsp;<span class="builtinfunc" id="1923082">make</span><span class="op" id="1923086">(</span><span class="op" id="1923087">[</span><span class="op" id="1923088">]</span><span class="builtintype" id="1923089">byte</span><span class="op" id="1923093">,</span>&nbsp;<span class="ident" id="1923095">f</span><span class="op" id="1923096">.</span><span class="ident" id="1923097">Len</span><span class="op" id="1923100">(</span><span class="op" id="1923101">)</span><span class="op" id="1923102">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923108">for</span>&nbsp;<span class="ident" id="1923112">i</span>&nbsp;<span class="op" id="1923114">:=</span>&nbsp;<span class="keyword" id="1923117">range</span>&nbsp;<span class="ident" id="1923123">bytes</span>&nbsp;<span class="op" id="1923129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923136">bytes</span><span class="op" id="1923141">[</span><span class="ident" id="1923142">i</span><span class="op" id="1923143">]</span>&nbsp;<span class="op" id="1923145">=</span>&nbsp;<span class="builtintype" id="1923147">byte</span><span class="op" id="1923151">(</span><span class="ident" id="1923152">f</span><span class="op" id="1923153">.</span><span class="ident" id="1923154">Index</span><span class="op" id="1923159">(</span><span class="ident" id="1923160">i</span><span class="op" id="1923161">)</span><span class="op" id="1923162">.</span><span class="ident" id="1923163">Uint</span><span class="op" id="1923167">(</span><span class="op" id="1923168">)</span><span class="op" id="1923169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923185">p</span><span class="op" id="1923186">.</span><span class="ident" id="1923187">fmtBytes</span><span class="op" id="1923195">(</span><span class="ident" id="1923196">bytes</span><span class="op" id="1923201">,</span>&nbsp;<span class="ident" id="1923203">verb</span><span class="op" id="1923207">,</span>&nbsp;<span class="ident" id="1923209">typ</span><span class="op" id="1923212">,</span>&nbsp;<span class="ident" id="1923214">depth</span><span class="op" id="1923219">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923224">wasString</span>&nbsp;<span class="op" id="1923234">=</span>&nbsp;<span class="ident" id="1923236">verb</span>&nbsp;<span class="op" id="1923241">==</span>&nbsp;<span class="string" id="1923244">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923251">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923263">if</span>&nbsp;<span class="ident" id="1923266">p</span><span class="op" id="1923267">.</span><span class="ident" id="1923268">fmt</span><span class="op" id="1923271">.</span><span class="ident" id="1923272">sharpV</span>&nbsp;<span class="op" id="1923279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923284">p</span><span class="op" id="1923285">.</span><span class="ident" id="1923286">buf</span><span class="op" id="1923289">.</span><span class="ident" id="1923290">WriteString</span><span class="op" id="1923301">(</span><span class="ident" id="1923302">value</span><span class="op" id="1923307">.</span><span class="ident" id="1923308">Type</span><span class="op" id="1923312">(</span><span class="op" id="1923313">)</span><span class="op" id="1923314">.</span><span class="ident" id="1923315">String</span><span class="op" id="1923321">(</span><span class="op" id="1923322">)</span><span class="op" id="1923323">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923328">if</span>&nbsp;<span class="ident" id="1923331">f</span><span class="op" id="1923332">.</span><span class="ident" id="1923333">Kind</span><span class="op" id="1923337">(</span><span class="op" id="1923338">)</span>&nbsp;<span class="op" id="1923340">==</span>&nbsp;<span class="ident" id="1923343">reflect</span><span class="op" id="1923350">.</span><span class="ident" id="1923351">Slice</span>&nbsp;<span class="op" id="1923357">&amp;&amp;</span>&nbsp;<span class="ident" id="1923360">f</span><span class="op" id="1923361">.</span><span class="ident" id="1923362">IsNil</span><span class="op" id="1923367">(</span><span class="op" id="1923368">)</span>&nbsp;<span class="op" id="1923370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923376">p</span><span class="op" id="1923377">.</span><span class="ident" id="1923378">buf</span><span class="op" id="1923381">.</span><span class="ident" id="1923382">WriteString</span><span class="op" id="1923393">(</span><span class="string" id="1923394">&#34;(nil)&#34;</span><span class="op" id="1923401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923407">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923421">p</span><span class="op" id="1923422">.</span><span class="ident" id="1923423">buf</span><span class="op" id="1923426">.</span><span class="ident" id="1923427">WriteByte</span><span class="op" id="1923436">(</span><span class="string" id="1923437">&#39;{&#39;</span><span class="op" id="1923440">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923444">}</span>&nbsp;<span class="keyword" id="1923446">else</span>&nbsp;<span class="op" id="1923451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923456">p</span><span class="op" id="1923457">.</span><span class="ident" id="1923458">buf</span><span class="op" id="1923461">.</span><span class="ident" id="1923462">WriteByte</span><span class="op" id="1923471">(</span><span class="string" id="1923472">&#39;[&#39;</span><span class="op" id="1923475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923483">for</span>&nbsp;<span class="ident" id="1923487">i</span>&nbsp;<span class="op" id="1923489">:=</span>&nbsp;<span class="num" id="1923492">0</span><span class="op" id="1923493">;</span>&nbsp;<span class="ident" id="1923495">i</span>&nbsp;<span class="op" id="1923497">&lt;</span>&nbsp;<span class="ident" id="1923499">f</span><span class="op" id="1923500">.</span><span class="ident" id="1923501">Len</span><span class="op" id="1923504">(</span><span class="op" id="1923505">)</span><span class="op" id="1923506">;</span>&nbsp;<span class="ident" id="1923508">i</span><span class="op" id="1923509">++</span>&nbsp;<span class="op" id="1923512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923517">if</span>&nbsp;<span class="ident" id="1923520">i</span>&nbsp;<span class="op" id="1923522">&gt;</span>&nbsp;<span class="num" id="1923524">0</span>&nbsp;<span class="op" id="1923526">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923532">if</span>&nbsp;<span class="ident" id="1923535">p</span><span class="op" id="1923536">.</span><span class="ident" id="1923537">fmt</span><span class="op" id="1923540">.</span><span class="ident" id="1923541">sharpV</span>&nbsp;<span class="op" id="1923548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923555">p</span><span class="op" id="1923556">.</span><span class="ident" id="1923557">buf</span><span class="op" id="1923560">.</span><span class="ident" id="1923561">Write</span><span class="op" id="1923566">(</span><span class="ident" id="1923567">commaSpaceBytes</span><span class="op" id="1923582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923588">}</span>&nbsp;<span class="keyword" id="1923590">else</span>&nbsp;<span class="op" id="1923595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923602">p</span><span class="op" id="1923603">.</span><span class="ident" id="1923604">buf</span><span class="op" id="1923607">.</span><span class="ident" id="1923608">WriteByte</span><span class="op" id="1923617">(</span><span class="string" id="1923618">&#39;&nbsp;&#39;</span><span class="op" id="1923621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923627">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923637">p</span><span class="op" id="1923638">.</span><span class="ident" id="1923639">printValue</span><span class="op" id="1923649">(</span><span class="ident" id="1923650">f</span><span class="op" id="1923651">.</span><span class="ident" id="1923652">Index</span><span class="op" id="1923657">(</span><span class="ident" id="1923658">i</span><span class="op" id="1923659">)</span><span class="op" id="1923660">,</span>&nbsp;<span class="ident" id="1923662">verb</span><span class="op" id="1923666">,</span>&nbsp;<span class="ident" id="1923668">depth</span><span class="op" id="1923673">+</span><span class="num" id="1923674">1</span><span class="op" id="1923675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923683">if</span>&nbsp;<span class="ident" id="1923686">p</span><span class="op" id="1923687">.</span><span class="ident" id="1923688">fmt</span><span class="op" id="1923691">.</span><span class="ident" id="1923692">sharpV</span>&nbsp;<span class="op" id="1923699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923704">p</span><span class="op" id="1923705">.</span><span class="ident" id="1923706">buf</span><span class="op" id="1923709">.</span><span class="ident" id="1923710">WriteByte</span><span class="op" id="1923719">(</span><span class="string" id="1923720">&#39;}&#39;</span><span class="op" id="1923723">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923727">}</span>&nbsp;<span class="keyword" id="1923729">else</span>&nbsp;<span class="op" id="1923734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923739">p</span><span class="op" id="1923740">.</span><span class="ident" id="1923741">buf</span><span class="op" id="1923744">.</span><span class="ident" id="1923745">WriteByte</span><span class="op" id="1923754">(</span><span class="string" id="1923755">&#39;]&#39;</span><span class="op" id="1923758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1923762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923765">case</span>&nbsp;<span class="ident" id="1923770">reflect</span><span class="op" id="1923777">.</span><span class="ident" id="1923778">Ptr</span><span class="op" id="1923781">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1923785">v</span>&nbsp;<span class="op" id="1923787">:=</span>&nbsp;<span class="ident" id="1923790">f</span><span class="op" id="1923791">.</span><span class="ident" id="1923792">Pointer</span><span class="op" id="1923799">(</span><span class="op" id="1923800">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1923804">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1923863">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923899">if</span>&nbsp;<span class="ident" id="1923902">v</span>&nbsp;<span class="op" id="1923904">!=</span>&nbsp;<span class="num" id="1923907">0</span>&nbsp;<span class="op" id="1923909">&amp;&amp;</span>&nbsp;<span class="ident" id="1923912">depth</span>&nbsp;<span class="op" id="1923918">==</span>&nbsp;<span class="num" id="1923921">0</span>&nbsp;<span class="op" id="1923923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923928">switch</span>&nbsp;<span class="ident" id="1923935">a</span>&nbsp;<span class="op" id="1923937">:=</span>&nbsp;<span class="ident" id="1923940">f</span><span class="op" id="1923941">.</span><span class="ident" id="1923942">Elem</span><span class="op" id="1923946">(</span><span class="op" id="1923947">)</span><span class="op" id="1923948">;</span>&nbsp;<span class="ident" id="1923950">a</span><span class="op" id="1923951">.</span><span class="ident" id="1923952">Kind</span><span class="op" id="1923956">(</span><span class="op" id="1923957">)</span>&nbsp;<span class="op" id="1923959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1923964">case</span>&nbsp;<span class="ident" id="1923969">reflect</span><span class="op" id="1923976">.</span><span class="ident" id="1923977">Array</span><span class="op" id="1923982">,</span>&nbsp;<span class="ident" id="1923984">reflect</span><span class="op" id="1923991">.</span><span class="ident" id="1923992">Slice</span><span class="op" id="1923997">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924003">p</span><span class="op" id="1924004">.</span><span class="ident" id="1924005">buf</span><span class="op" id="1924008">.</span><span class="ident" id="1924009">WriteByte</span><span class="op" id="1924018">(</span><span class="string" id="1924019">&#39;&amp;&#39;</span><span class="op" id="1924022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924028">p</span><span class="op" id="1924029">.</span><span class="ident" id="1924030">printValue</span><span class="op" id="1924040">(</span><span class="ident" id="1924041">a</span><span class="op" id="1924042">,</span>&nbsp;<span class="ident" id="1924044">verb</span><span class="op" id="1924048">,</span>&nbsp;<span class="ident" id="1924050">depth</span><span class="op" id="1924055">+</span><span class="num" id="1924056">1</span><span class="op" id="1924057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924063">break</span>&nbsp;<span class="ident" id="1924069">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924082">case</span>&nbsp;<span class="ident" id="1924087">reflect</span><span class="op" id="1924094">.</span><span class="ident" id="1924095">Struct</span><span class="op" id="1924101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924107">p</span><span class="op" id="1924108">.</span><span class="ident" id="1924109">buf</span><span class="op" id="1924112">.</span><span class="ident" id="1924113">WriteByte</span><span class="op" id="1924122">(</span><span class="string" id="1924123">&#39;&amp;&#39;</span><span class="op" id="1924126">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924132">p</span><span class="op" id="1924133">.</span><span class="ident" id="1924134">printValue</span><span class="op" id="1924144">(</span><span class="ident" id="1924145">a</span><span class="op" id="1924146">,</span>&nbsp;<span class="ident" id="1924148">verb</span><span class="op" id="1924152">,</span>&nbsp;<span class="ident" id="1924154">depth</span><span class="op" id="1924159">+</span><span class="num" id="1924160">1</span><span class="op" id="1924161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924167">break</span>&nbsp;<span class="ident" id="1924173">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924186">case</span>&nbsp;<span class="ident" id="1924191">reflect</span><span class="op" id="1924198">.</span><span class="ident" id="1924199">Map</span><span class="op" id="1924202">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924208">p</span><span class="op" id="1924209">.</span><span class="ident" id="1924210">buf</span><span class="op" id="1924213">.</span><span class="ident" id="1924214">WriteByte</span><span class="op" id="1924223">(</span><span class="string" id="1924224">&#39;&amp;&#39;</span><span class="op" id="1924227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924233">p</span><span class="op" id="1924234">.</span><span class="ident" id="1924235">printValue</span><span class="op" id="1924245">(</span><span class="ident" id="1924246">a</span><span class="op" id="1924247">,</span>&nbsp;<span class="ident" id="1924249">verb</span><span class="op" id="1924253">,</span>&nbsp;<span class="ident" id="1924255">depth</span><span class="op" id="1924260">+</span><span class="num" id="1924261">1</span><span class="op" id="1924262">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924268">break</span>&nbsp;<span class="ident" id="1924274">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1924287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1924291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924295">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924308">case</span>&nbsp;<span class="ident" id="1924313">reflect</span><span class="op" id="1924320">.</span><span class="ident" id="1924321">Chan</span><span class="op" id="1924325">,</span>&nbsp;<span class="ident" id="1924327">reflect</span><span class="op" id="1924334">.</span><span class="ident" id="1924335">Func</span><span class="op" id="1924339">,</span>&nbsp;<span class="ident" id="1924341">reflect</span><span class="op" id="1924348">.</span><span class="ident" id="1924349">UnsafePointer</span><span class="op" id="1924362">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924366">p</span><span class="op" id="1924367">.</span><span class="ident" id="1924368">fmtPointer</span><span class="op" id="1924378">(</span><span class="ident" id="1924379">value</span><span class="op" id="1924384">,</span>&nbsp;<span class="ident" id="1924386">verb</span><span class="op" id="1924390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924393">default</span><span class="op" id="1924400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924404">p</span><span class="op" id="1924405">.</span><span class="ident" id="1924406">unknownType</span><span class="op" id="1924417">(</span><span class="ident" id="1924418">f</span><span class="op" id="1924419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1924422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924425">p</span><span class="op" id="1924426">.</span><span class="ident" id="1924427">value</span>&nbsp;<span class="op" id="1924433">=</span>&nbsp;<span class="ident" id="1924435">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924445">return</span>&nbsp;<span class="ident" id="1924452">wasString</span><br>
<span class="lineno"></span><span class="op" id="1924462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1924465">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="1924571">func</span>&nbsp;<span class="ident" id="1924576">intFromArg</span><span class="op" id="1924586">(</span><span class="ident" id="1924587">a</span>&nbsp;<span class="op" id="1924589">[</span><span class="op" id="1924590">]</span><span class="keyword" id="1924591">interface</span><span class="op" id="1924600">{</span><span class="op" id="1924601">}</span><span class="op" id="1924602">,</span>&nbsp;<span class="ident" id="1924604">argNum</span>&nbsp;<span class="builtintype" id="1924611">int</span><span class="op" id="1924614">)</span>&nbsp;<span class="op" id="1924616">(</span><span class="ident" id="1924617">num</span>&nbsp;<span class="builtintype" id="1924621">int</span><span class="op" id="1924624">,</span>&nbsp;<span class="ident" id="1924626">isInt</span>&nbsp;<span class="builtintype" id="1924632">bool</span><span class="op" id="1924636">,</span>&nbsp;<span class="ident" id="1924638">newArgNum</span>&nbsp;<span class="builtintype" id="1924648">int</span><span class="op" id="1924651">)</span>&nbsp;<span class="op" id="1924653">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924656">newArgNum</span>&nbsp;<span class="op" id="1924666">=</span>&nbsp;<span class="ident" id="1924668">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924676">if</span>&nbsp;<span class="ident" id="1924679">argNum</span>&nbsp;<span class="op" id="1924686">&lt;</span>&nbsp;<span class="builtinfunc" id="1924688">len</span><span class="op" id="1924691">(</span><span class="ident" id="1924692">a</span><span class="op" id="1924693">)</span>&nbsp;<span class="op" id="1924695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924699">num</span><span class="op" id="1924702">,</span>&nbsp;<span class="ident" id="1924704">isInt</span>&nbsp;<span class="op" id="1924710">=</span>&nbsp;<span class="ident" id="1924712">a</span><span class="op" id="1924713">[</span><span class="ident" id="1924714">argNum</span><span class="op" id="1924720">]</span><span class="op" id="1924721">.</span><span class="op" id="1924722">(</span><span class="builtintype" id="1924723">int</span><span class="op" id="1924726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1924730">newArgNum</span>&nbsp;<span class="op" id="1924740">=</span>&nbsp;<span class="ident" id="1924742">argNum</span>&nbsp;<span class="op" id="1924749">+</span>&nbsp;<span class="num" id="1924751">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1924754">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1924757">return</span><br>
<span class="lineno"></span><span class="op" id="1924764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1924767">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="1924836">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="1924909">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="1924969">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="1925038">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="1925108">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="1925178">func</span>&nbsp;<span class="ident" id="1925183">parseArgNumber</span><span class="op" id="1925197">(</span><span class="ident" id="1925198">format</span>&nbsp;<span class="builtintype" id="1925205">string</span><span class="op" id="1925211">)</span>&nbsp;<span class="op" id="1925213">(</span><span class="ident" id="1925214">index</span>&nbsp;<span class="builtintype" id="1925220">int</span><span class="op" id="1925223">,</span>&nbsp;<span class="ident" id="1925225">wid</span>&nbsp;<span class="builtintype" id="1925229">int</span><span class="op" id="1925232">,</span>&nbsp;<span class="ident" id="1925234">ok</span>&nbsp;<span class="builtintype" id="1925237">bool</span><span class="op" id="1925241">)</span>&nbsp;<span class="op" id="1925243">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1925246">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1925272">for</span>&nbsp;<span class="ident" id="1925276">i</span>&nbsp;<span class="op" id="1925278">:=</span>&nbsp;<span class="num" id="1925281">1</span><span class="op" id="1925282">;</span>&nbsp;<span class="ident" id="1925284">i</span>&nbsp;<span class="op" id="1925286">&lt;</span>&nbsp;<span class="builtinfunc" id="1925288">len</span><span class="op" id="1925291">(</span><span class="ident" id="1925292">format</span><span class="op" id="1925298">)</span><span class="op" id="1925299">;</span>&nbsp;<span class="ident" id="1925301">i</span><span class="op" id="1925302">++</span>&nbsp;<span class="op" id="1925305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1925309">if</span>&nbsp;<span class="ident" id="1925312">format</span><span class="op" id="1925318">[</span><span class="ident" id="1925319">i</span><span class="op" id="1925320">]</span>&nbsp;<span class="op" id="1925322">==</span>&nbsp;<span class="string" id="1925325">&#39;]&#39;</span>&nbsp;<span class="op" id="1925329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1925334">width</span><span class="op" id="1925339">,</span>&nbsp;<span class="ident" id="1925341">ok</span><span class="op" id="1925343">,</span>&nbsp;<span class="ident" id="1925345">newi</span>&nbsp;<span class="op" id="1925350">:=</span>&nbsp;<span class="ident" id="1925353">parsenum</span><span class="op" id="1925361">(</span><span class="ident" id="1925362">format</span><span class="op" id="1925368">,</span>&nbsp;<span class="num" id="1925370">1</span><span class="op" id="1925371">,</span>&nbsp;<span class="ident" id="1925373">i</span><span class="op" id="1925374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1925379">if</span>&nbsp;<span class="op" id="1925382">!</span><span class="ident" id="1925383">ok</span>&nbsp;<span class="op" id="1925386">||</span>&nbsp;<span class="ident" id="1925389">newi</span>&nbsp;<span class="op" id="1925394">!=</span>&nbsp;<span class="ident" id="1925397">i</span>&nbsp;<span class="op" id="1925399">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1925405">return</span>&nbsp;<span class="num" id="1925412">0</span><span class="op" id="1925413">,</span>&nbsp;<span class="ident" id="1925415">i</span>&nbsp;<span class="op" id="1925417">+</span>&nbsp;<span class="num" id="1925419">1</span><span class="op" id="1925420">,</span>&nbsp;<span class="ident" id="1925422">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1925431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1925436">return</span>&nbsp;<span class="ident" id="1925443">width</span>&nbsp;<span class="op" id="1925449">-</span>&nbsp;<span class="num" id="1925451">1</span><span class="op" id="1925452">,</span>&nbsp;<span class="ident" id="1925454">i</span>&nbsp;<span class="op" id="1925456">+</span>&nbsp;<span class="num" id="1925458">1</span><span class="op" id="1925459">,</span>&nbsp;<span class="ident" id="1925461">true</span>&nbsp;<span class="comment" id="1925466">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1925515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1925518">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1925521">return</span>&nbsp;<span class="num" id="1925528">0</span><span class="op" id="1925529">,</span>&nbsp;<span class="num" id="1925531">1</span><span class="op" id="1925532">,</span>&nbsp;<span class="ident" id="1925534">false</span><br>
<span class="lineno"></span><span class="op" id="1925540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1925543">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="1925638">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="1925726">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="1925811">func</span>&nbsp;<span class="op" id="1925816">(</span><span class="ident" id="1925817">p</span>&nbsp;<span class="op" id="1925819">*</span><span class="ident" id="1925820">pp</span><span class="op" id="1925822">)</span>&nbsp;<span class="ident" id="1925824">argNumber</span><span class="op" id="1925833">(</span><span class="ident" id="1925834">argNum</span>&nbsp;<span class="builtintype" id="1925841">int</span><span class="op" id="1925844">,</span>&nbsp;<span class="ident" id="1925846">format</span>&nbsp;<span class="builtintype" id="1925853">string</span><span class="op" id="1925859">,</span>&nbsp;<span class="ident" id="1925861">i</span>&nbsp;<span class="builtintype" id="1925863">int</span><span class="op" id="1925866">,</span>&nbsp;<span class="ident" id="1925868">numArgs</span>&nbsp;<span class="builtintype" id="1925876">int</span><span class="op" id="1925879">)</span>&nbsp;<span class="op" id="1925881">(</span><span class="ident" id="1925882">newArgNum</span><span class="op" id="1925891">,</span>&nbsp;<span class="ident" id="1925893">newi</span>&nbsp;<span class="builtintype" id="1925898">int</span><span class="op" id="1925901">,</span>&nbsp;<span class="ident" id="1925903">found</span>&nbsp;<span class="builtintype" id="1925909">bool</span><span class="op" id="1925913">)</span>&nbsp;<span class="op" id="1925915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1925918">if</span>&nbsp;<span class="builtinfunc" id="1925921">len</span><span class="op" id="1925924">(</span><span class="ident" id="1925925">format</span><span class="op" id="1925931">)</span>&nbsp;<span class="op" id="1925933">&lt;=</span>&nbsp;<span class="ident" id="1925936">i</span>&nbsp;<span class="op" id="1925938">||</span>&nbsp;<span class="ident" id="1925941">format</span><span class="op" id="1925947">[</span><span class="ident" id="1925948">i</span><span class="op" id="1925949">]</span>&nbsp;<span class="op" id="1925951">!=</span>&nbsp;<span class="string" id="1925954">&#39;[&#39;</span>&nbsp;<span class="op" id="1925958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1925962">return</span>&nbsp;<span class="ident" id="1925969">argNum</span><span class="op" id="1925975">,</span>&nbsp;<span class="ident" id="1925977">i</span><span class="op" id="1925978">,</span>&nbsp;<span class="ident" id="1925980">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1925987">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1925990">p</span><span class="op" id="1925991">.</span><span class="ident" id="1925992">reordered</span>&nbsp;<span class="op" id="1926002">=</span>&nbsp;<span class="ident" id="1926004">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926010">index</span><span class="op" id="1926015">,</span>&nbsp;<span class="ident" id="1926017">wid</span><span class="op" id="1926020">,</span>&nbsp;<span class="ident" id="1926022">ok</span>&nbsp;<span class="op" id="1926025">:=</span>&nbsp;<span class="ident" id="1926028">parseArgNumber</span><span class="op" id="1926042">(</span><span class="ident" id="1926043">format</span><span class="op" id="1926049">[</span><span class="ident" id="1926050">i</span><span class="op" id="1926051">:</span><span class="op" id="1926052">]</span><span class="op" id="1926053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926056">if</span>&nbsp;<span class="ident" id="1926059">ok</span>&nbsp;<span class="op" id="1926062">&amp;&amp;</span>&nbsp;<span class="num" id="1926065">0</span>&nbsp;<span class="op" id="1926067">&lt;=</span>&nbsp;<span class="ident" id="1926070">index</span>&nbsp;<span class="op" id="1926076">&amp;&amp;</span>&nbsp;<span class="ident" id="1926079">index</span>&nbsp;<span class="op" id="1926085">&lt;</span>&nbsp;<span class="ident" id="1926087">numArgs</span>&nbsp;<span class="op" id="1926095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926099">return</span>&nbsp;<span class="ident" id="1926106">index</span><span class="op" id="1926111">,</span>&nbsp;<span class="ident" id="1926113">i</span>&nbsp;<span class="op" id="1926115">+</span>&nbsp;<span class="ident" id="1926117">wid</span><span class="op" id="1926120">,</span>&nbsp;<span class="ident" id="1926122">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1926128">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926131">p</span><span class="op" id="1926132">.</span><span class="ident" id="1926133">goodArgNum</span>&nbsp;<span class="op" id="1926144">=</span>&nbsp;<span class="ident" id="1926146">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926153">return</span>&nbsp;<span class="ident" id="1926160">argNum</span><span class="op" id="1926166">,</span>&nbsp;<span class="ident" id="1926168">i</span>&nbsp;<span class="op" id="1926170">+</span>&nbsp;<span class="ident" id="1926172">wid</span><span class="op" id="1926175">,</span>&nbsp;<span class="ident" id="1926177">true</span><br>
<span class="lineno"></span><span class="op" id="1926182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1926185">func</span>&nbsp;<span class="op" id="1926190">(</span><span class="ident" id="1926191">p</span>&nbsp;<span class="op" id="1926193">*</span><span class="ident" id="1926194">pp</span><span class="op" id="1926196">)</span>&nbsp;<span class="ident" id="1926198">doPrintf</span><span class="op" id="1926206">(</span><span class="ident" id="1926207">format</span>&nbsp;<span class="builtintype" id="1926214">string</span><span class="op" id="1926220">,</span>&nbsp;<span class="ident" id="1926222">a</span>&nbsp;<span class="op" id="1926224">[</span><span class="op" id="1926225">]</span><span class="keyword" id="1926226">interface</span><span class="op" id="1926235">{</span><span class="op" id="1926236">}</span><span class="op" id="1926237">)</span>&nbsp;<span class="op" id="1926239">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926242">end</span>&nbsp;<span class="op" id="1926246">:=</span>&nbsp;<span class="builtinfunc" id="1926249">len</span><span class="op" id="1926252">(</span><span class="ident" id="1926253">format</span><span class="op" id="1926259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926262">argNum</span>&nbsp;<span class="op" id="1926269">:=</span>&nbsp;<span class="num" id="1926272">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1926282">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926333">afterIndex</span>&nbsp;<span class="op" id="1926344">:=</span>&nbsp;<span class="ident" id="1926347">false</span>&nbsp;<span class="comment" id="1926353">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926404">p</span><span class="op" id="1926405">.</span><span class="ident" id="1926406">reordered</span>&nbsp;<span class="op" id="1926416">=</span>&nbsp;<span class="ident" id="1926418">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926425">for</span>&nbsp;<span class="ident" id="1926429">i</span>&nbsp;<span class="op" id="1926431">:=</span>&nbsp;<span class="num" id="1926434">0</span><span class="op" id="1926435">;</span>&nbsp;<span class="ident" id="1926437">i</span>&nbsp;<span class="op" id="1926439">&lt;</span>&nbsp;<span class="ident" id="1926441">end</span><span class="op" id="1926444">;</span>&nbsp;<span class="op" id="1926446">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926450">p</span><span class="op" id="1926451">.</span><span class="ident" id="1926452">goodArgNum</span>&nbsp;<span class="op" id="1926463">=</span>&nbsp;<span class="ident" id="1926465">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926472">lasti</span>&nbsp;<span class="op" id="1926478">:=</span>&nbsp;<span class="ident" id="1926481">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926485">for</span>&nbsp;<span class="ident" id="1926489">i</span>&nbsp;<span class="op" id="1926491">&lt;</span>&nbsp;<span class="ident" id="1926493">end</span>&nbsp;<span class="op" id="1926497">&amp;&amp;</span>&nbsp;<span class="ident" id="1926500">format</span><span class="op" id="1926506">[</span><span class="ident" id="1926507">i</span><span class="op" id="1926508">]</span>&nbsp;<span class="op" id="1926510">!=</span>&nbsp;<span class="string" id="1926513">&#39;%&#39;</span>&nbsp;<span class="op" id="1926517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926522">i</span><span class="op" id="1926523">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1926528">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926532">if</span>&nbsp;<span class="ident" id="1926535">i</span>&nbsp;<span class="op" id="1926537">&gt;</span>&nbsp;<span class="ident" id="1926539">lasti</span>&nbsp;<span class="op" id="1926545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926550">p</span><span class="op" id="1926551">.</span><span class="ident" id="1926552">buf</span><span class="op" id="1926555">.</span><span class="ident" id="1926556">WriteString</span><span class="op" id="1926567">(</span><span class="ident" id="1926568">format</span><span class="op" id="1926574">[</span><span class="ident" id="1926575">lasti</span><span class="op" id="1926580">:</span><span class="ident" id="1926581">i</span><span class="op" id="1926582">]</span><span class="op" id="1926583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1926587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926591">if</span>&nbsp;<span class="ident" id="1926594">i</span>&nbsp;<span class="op" id="1926596">&gt;=</span>&nbsp;<span class="ident" id="1926599">end</span>&nbsp;<span class="op" id="1926603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1926608">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926644">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1926652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1926657">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926679">i</span><span class="op" id="1926680">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1926686">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926709">p</span><span class="op" id="1926710">.</span><span class="ident" id="1926711">fmt</span><span class="op" id="1926714">.</span><span class="ident" id="1926715">clearflags</span><span class="op" id="1926725">(</span><span class="op" id="1926726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926729">F</span><span class="op" id="1926730">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926734">for</span>&nbsp;<span class="op" id="1926738">;</span>&nbsp;<span class="ident" id="1926740">i</span>&nbsp;<span class="op" id="1926742">&lt;</span>&nbsp;<span class="ident" id="1926744">end</span><span class="op" id="1926747">;</span>&nbsp;<span class="ident" id="1926749">i</span><span class="op" id="1926750">++</span>&nbsp;<span class="op" id="1926753">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926758">switch</span>&nbsp;<span class="ident" id="1926765">format</span><span class="op" id="1926771">[</span><span class="ident" id="1926772">i</span><span class="op" id="1926773">]</span>&nbsp;<span class="op" id="1926775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926780">case</span>&nbsp;<span class="string" id="1926785">&#39;#&#39;</span><span class="op" id="1926788">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926794">p</span><span class="op" id="1926795">.</span><span class="ident" id="1926796">fmt</span><span class="op" id="1926799">.</span><span class="ident" id="1926800">sharp</span>&nbsp;<span class="op" id="1926806">=</span>&nbsp;<span class="ident" id="1926808">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926816">case</span>&nbsp;<span class="string" id="1926821">&#39;0&#39;</span><span class="op" id="1926824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926830">p</span><span class="op" id="1926831">.</span><span class="ident" id="1926832">fmt</span><span class="op" id="1926835">.</span><span class="ident" id="1926836">zero</span>&nbsp;<span class="op" id="1926841">=</span>&nbsp;<span class="ident" id="1926843">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926851">case</span>&nbsp;<span class="string" id="1926856">&#39;+&#39;</span><span class="op" id="1926859">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926865">p</span><span class="op" id="1926866">.</span><span class="ident" id="1926867">fmt</span><span class="op" id="1926870">.</span><span class="ident" id="1926871">plus</span>&nbsp;<span class="op" id="1926876">=</span>&nbsp;<span class="ident" id="1926878">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926886">case</span>&nbsp;<span class="string" id="1926891">&#39;-&#39;</span><span class="op" id="1926894">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926900">p</span><span class="op" id="1926901">.</span><span class="ident" id="1926902">fmt</span><span class="op" id="1926905">.</span><span class="ident" id="1926906">minus</span>&nbsp;<span class="op" id="1926912">=</span>&nbsp;<span class="ident" id="1926914">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926922">case</span>&nbsp;<span class="string" id="1926927">&#39;&nbsp;&#39;</span><span class="op" id="1926930">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1926936">p</span><span class="op" id="1926937">.</span><span class="ident" id="1926938">fmt</span><span class="op" id="1926941">.</span><span class="ident" id="1926942">space</span>&nbsp;<span class="op" id="1926948">=</span>&nbsp;<span class="ident" id="1926950">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926958">default</span><span class="op" id="1926965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1926971">break</span>&nbsp;<span class="ident" id="1926977">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1926982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1926986">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1926991">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927035">argNum</span><span class="op" id="1927041">,</span>&nbsp;<span class="ident" id="1927043">i</span><span class="op" id="1927044">,</span>&nbsp;<span class="ident" id="1927046">afterIndex</span>&nbsp;<span class="op" id="1927057">=</span>&nbsp;<span class="ident" id="1927059">p</span><span class="op" id="1927060">.</span><span class="ident" id="1927061">argNumber</span><span class="op" id="1927070">(</span><span class="ident" id="1927071">argNum</span><span class="op" id="1927077">,</span>&nbsp;<span class="ident" id="1927079">format</span><span class="op" id="1927085">,</span>&nbsp;<span class="ident" id="1927087">i</span><span class="op" id="1927088">,</span>&nbsp;<span class="builtinfunc" id="1927090">len</span><span class="op" id="1927093">(</span><span class="ident" id="1927094">a</span><span class="op" id="1927095">)</span><span class="op" id="1927096">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1927101">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1927124">if</span>&nbsp;<span class="ident" id="1927127">i</span>&nbsp;<span class="op" id="1927129">&lt;</span>&nbsp;<span class="ident" id="1927131">end</span>&nbsp;<span class="op" id="1927135">&amp;&amp;</span>&nbsp;<span class="ident" id="1927138">format</span><span class="op" id="1927144">[</span><span class="ident" id="1927145">i</span><span class="op" id="1927146">]</span>&nbsp;<span class="op" id="1927148">==</span>&nbsp;<span class="string" id="1927151">&#39;*&#39;</span>&nbsp;<span class="op" id="1927155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927160">i</span><span class="op" id="1927161">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927167">p</span><span class="op" id="1927168">.</span><span class="ident" id="1927169">fmt</span><span class="op" id="1927172">.</span><span class="ident" id="1927173">wid</span><span class="op" id="1927176">,</span>&nbsp;<span class="ident" id="1927178">p</span><span class="op" id="1927179">.</span><span class="ident" id="1927180">fmt</span><span class="op" id="1927183">.</span><span class="ident" id="1927184">widPresent</span><span class="op" id="1927194">,</span>&nbsp;<span class="ident" id="1927196">argNum</span>&nbsp;<span class="op" id="1927203">=</span>&nbsp;<span class="ident" id="1927205">intFromArg</span><span class="op" id="1927215">(</span><span class="ident" id="1927216">a</span><span class="op" id="1927217">,</span>&nbsp;<span class="ident" id="1927219">argNum</span><span class="op" id="1927225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1927230">if</span>&nbsp;<span class="op" id="1927233">!</span><span class="ident" id="1927234">p</span><span class="op" id="1927235">.</span><span class="ident" id="1927236">fmt</span><span class="op" id="1927239">.</span><span class="ident" id="1927240">widPresent</span>&nbsp;<span class="op" id="1927251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927257">p</span><span class="op" id="1927258">.</span><span class="ident" id="1927259">buf</span><span class="op" id="1927262">.</span><span class="ident" id="1927263">Write</span><span class="op" id="1927268">(</span><span class="ident" id="1927269">badWidthBytes</span><span class="op" id="1927282">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1927287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927292">afterIndex</span>&nbsp;<span class="op" id="1927303">=</span>&nbsp;<span class="ident" id="1927305">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1927313">}</span>&nbsp;<span class="keyword" id="1927315">else</span>&nbsp;<span class="op" id="1927320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927325">p</span><span class="op" id="1927326">.</span><span class="ident" id="1927327">fmt</span><span class="op" id="1927330">.</span><span class="ident" id="1927331">wid</span><span class="op" id="1927334">,</span>&nbsp;<span class="ident" id="1927336">p</span><span class="op" id="1927337">.</span><span class="ident" id="1927338">fmt</span><span class="op" id="1927341">.</span><span class="ident" id="1927342">widPresent</span><span class="op" id="1927352">,</span>&nbsp;<span class="ident" id="1927354">i</span>&nbsp;<span class="op" id="1927356">=</span>&nbsp;<span class="ident" id="1927358">parsenum</span><span class="op" id="1927366">(</span><span class="ident" id="1927367">format</span><span class="op" id="1927373">,</span>&nbsp;<span class="ident" id="1927375">i</span><span class="op" id="1927376">,</span>&nbsp;<span class="ident" id="1927378">end</span><span class="op" id="1927381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1927386">if</span>&nbsp;<span class="ident" id="1927389">afterIndex</span>&nbsp;<span class="op" id="1927400">&amp;&amp;</span>&nbsp;<span class="ident" id="1927403">p</span><span class="op" id="1927404">.</span><span class="ident" id="1927405">fmt</span><span class="op" id="1927408">.</span><span class="ident" id="1927409">widPresent</span>&nbsp;<span class="op" id="1927420">{</span>&nbsp;<span class="comment" id="1927422">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927438">p</span><span class="op" id="1927439">.</span><span class="ident" id="1927440">goodArgNum</span>&nbsp;<span class="op" id="1927451">=</span>&nbsp;<span class="ident" id="1927453">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1927462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1927466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1927471">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1927498">if</span>&nbsp;<span class="ident" id="1927501">i</span><span class="op" id="1927502">+</span><span class="num" id="1927503">1</span>&nbsp;<span class="op" id="1927505">&lt;</span>&nbsp;<span class="ident" id="1927507">end</span>&nbsp;<span class="op" id="1927511">&amp;&amp;</span>&nbsp;<span class="ident" id="1927514">format</span><span class="op" id="1927520">[</span><span class="ident" id="1927521">i</span><span class="op" id="1927522">]</span>&nbsp;<span class="op" id="1927524">==</span>&nbsp;<span class="string" id="1927527">&#39;.&#39;</span>&nbsp;<span class="op" id="1927531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927536">i</span><span class="op" id="1927537">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1927543">if</span>&nbsp;<span class="ident" id="1927546">afterIndex</span>&nbsp;<span class="op" id="1927557">{</span>&nbsp;<span class="comment" id="1927559">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927576">p</span><span class="op" id="1927577">.</span><span class="ident" id="1927578">goodArgNum</span>&nbsp;<span class="op" id="1927589">=</span>&nbsp;<span class="ident" id="1927591">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1927600">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927605">argNum</span><span class="op" id="1927611">,</span>&nbsp;<span class="ident" id="1927613">i</span><span class="op" id="1927614">,</span>&nbsp;<span class="ident" id="1927616">afterIndex</span>&nbsp;<span class="op" id="1927627">=</span>&nbsp;<span class="ident" id="1927629">p</span><span class="op" id="1927630">.</span><span class="ident" id="1927631">argNumber</span><span class="op" id="1927640">(</span><span class="ident" id="1927641">argNum</span><span class="op" id="1927647">,</span>&nbsp;<span class="ident" id="1927649">format</span><span class="op" id="1927655">,</span>&nbsp;<span class="ident" id="1927657">i</span><span class="op" id="1927658">,</span>&nbsp;<span class="builtinfunc" id="1927660">len</span><span class="op" id="1927663">(</span><span class="ident" id="1927664">a</span><span class="op" id="1927665">)</span><span class="op" id="1927666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1927671">if</span>&nbsp;<span class="ident" id="1927674">format</span><span class="op" id="1927680">[</span><span class="ident" id="1927681">i</span><span class="op" id="1927682">]</span>&nbsp;<span class="op" id="1927684">==</span>&nbsp;<span class="string" id="1927687">&#39;*&#39;</span>&nbsp;<span class="op" id="1927691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927697">i</span><span class="op" id="1927698">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927705">p</span><span class="op" id="1927706">.</span><span class="ident" id="1927707">fmt</span><span class="op" id="1927710">.</span><span class="ident" id="1927711">prec</span><span class="op" id="1927715">,</span>&nbsp;<span class="ident" id="1927717">p</span><span class="op" id="1927718">.</span><span class="ident" id="1927719">fmt</span><span class="op" id="1927722">.</span><span class="ident" id="1927723">precPresent</span><span class="op" id="1927734">,</span>&nbsp;<span class="ident" id="1927736">argNum</span>&nbsp;<span class="op" id="1927743">=</span>&nbsp;<span class="ident" id="1927745">intFromArg</span><span class="op" id="1927755">(</span><span class="ident" id="1927756">a</span><span class="op" id="1927757">,</span>&nbsp;<span class="ident" id="1927759">argNum</span><span class="op" id="1927765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1927771">if</span>&nbsp;<span class="op" id="1927774">!</span><span class="ident" id="1927775">p</span><span class="op" id="1927776">.</span><span class="ident" id="1927777">fmt</span><span class="op" id="1927780">.</span><span class="ident" id="1927781">precPresent</span>&nbsp;<span class="op" id="1927793">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927800">p</span><span class="op" id="1927801">.</span><span class="ident" id="1927802">buf</span><span class="op" id="1927805">.</span><span class="ident" id="1927806">Write</span><span class="op" id="1927811">(</span><span class="ident" id="1927812">badPrecBytes</span><span class="op" id="1927824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1927830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927836">afterIndex</span>&nbsp;<span class="op" id="1927847">=</span>&nbsp;<span class="ident" id="1927849">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1927858">}</span>&nbsp;<span class="keyword" id="1927860">else</span>&nbsp;<span class="op" id="1927865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927871">p</span><span class="op" id="1927872">.</span><span class="ident" id="1927873">fmt</span><span class="op" id="1927876">.</span><span class="ident" id="1927877">prec</span><span class="op" id="1927881">,</span>&nbsp;<span class="ident" id="1927883">p</span><span class="op" id="1927884">.</span><span class="ident" id="1927885">fmt</span><span class="op" id="1927888">.</span><span class="ident" id="1927889">precPresent</span><span class="op" id="1927900">,</span>&nbsp;<span class="ident" id="1927902">i</span>&nbsp;<span class="op" id="1927904">=</span>&nbsp;<span class="ident" id="1927906">parsenum</span><span class="op" id="1927914">(</span><span class="ident" id="1927915">format</span><span class="op" id="1927921">,</span>&nbsp;<span class="ident" id="1927923">i</span><span class="op" id="1927924">,</span>&nbsp;<span class="ident" id="1927926">end</span><span class="op" id="1927929">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1927935">if</span>&nbsp;<span class="op" id="1927938">!</span><span class="ident" id="1927939">p</span><span class="op" id="1927940">.</span><span class="ident" id="1927941">fmt</span><span class="op" id="1927944">.</span><span class="ident" id="1927945">precPresent</span>&nbsp;<span class="op" id="1927957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927964">p</span><span class="op" id="1927965">.</span><span class="ident" id="1927966">fmt</span><span class="op" id="1927969">.</span><span class="ident" id="1927970">prec</span>&nbsp;<span class="op" id="1927975">=</span>&nbsp;<span class="num" id="1927977">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1927984">p</span><span class="op" id="1927985">.</span><span class="ident" id="1927986">fmt</span><span class="op" id="1927989">.</span><span class="ident" id="1927990">precPresent</span>&nbsp;<span class="op" id="1928002">=</span>&nbsp;<span class="ident" id="1928004">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928018">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928027">if</span>&nbsp;<span class="op" id="1928030">!</span><span class="ident" id="1928031">afterIndex</span>&nbsp;<span class="op" id="1928042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928047">argNum</span><span class="op" id="1928053">,</span>&nbsp;<span class="ident" id="1928055">i</span><span class="op" id="1928056">,</span>&nbsp;<span class="ident" id="1928058">afterIndex</span>&nbsp;<span class="op" id="1928069">=</span>&nbsp;<span class="ident" id="1928071">p</span><span class="op" id="1928072">.</span><span class="ident" id="1928073">argNumber</span><span class="op" id="1928082">(</span><span class="ident" id="1928083">argNum</span><span class="op" id="1928089">,</span>&nbsp;<span class="ident" id="1928091">format</span><span class="op" id="1928097">,</span>&nbsp;<span class="ident" id="1928099">i</span><span class="op" id="1928100">,</span>&nbsp;<span class="builtinfunc" id="1928102">len</span><span class="op" id="1928105">(</span><span class="ident" id="1928106">a</span><span class="op" id="1928107">)</span><span class="op" id="1928108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928112">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928117">if</span>&nbsp;<span class="ident" id="1928120">i</span>&nbsp;<span class="op" id="1928122">&gt;=</span>&nbsp;<span class="ident" id="1928125">end</span>&nbsp;<span class="op" id="1928129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928134">p</span><span class="op" id="1928135">.</span><span class="ident" id="1928136">buf</span><span class="op" id="1928139">.</span><span class="ident" id="1928140">Write</span><span class="op" id="1928145">(</span><span class="ident" id="1928146">noVerbBytes</span><span class="op" id="1928157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928162">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928173">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928177">c</span><span class="op" id="1928178">,</span>&nbsp;<span class="ident" id="1928180">w</span>&nbsp;<span class="op" id="1928182">:=</span>&nbsp;<span class="ident" id="1928185">utf8</span><span class="op" id="1928189">.</span><span class="ident" id="1928190">DecodeRuneInString</span><span class="op" id="1928208">(</span><span class="ident" id="1928209">format</span><span class="op" id="1928215">[</span><span class="ident" id="1928216">i</span><span class="op" id="1928217">:</span><span class="op" id="1928218">]</span><span class="op" id="1928219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928223">i</span>&nbsp;<span class="op" id="1928225">+=</span>&nbsp;<span class="ident" id="1928228">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1928232">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928277">if</span>&nbsp;<span class="ident" id="1928280">c</span>&nbsp;<span class="op" id="1928282">==</span>&nbsp;<span class="string" id="1928285">&#39;%&#39;</span>&nbsp;<span class="op" id="1928289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928294">p</span><span class="op" id="1928295">.</span><span class="ident" id="1928296">buf</span><span class="op" id="1928299">.</span><span class="ident" id="1928300">WriteByte</span><span class="op" id="1928309">(</span><span class="string" id="1928310">&#39;%&#39;</span><span class="op" id="1928313">)</span>&nbsp;<span class="comment" id="1928315">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928347">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928362">if</span>&nbsp;<span class="op" id="1928365">!</span><span class="ident" id="1928366">p</span><span class="op" id="1928367">.</span><span class="ident" id="1928368">goodArgNum</span>&nbsp;<span class="op" id="1928379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928384">p</span><span class="op" id="1928385">.</span><span class="ident" id="1928386">buf</span><span class="op" id="1928389">.</span><span class="ident" id="1928390">Write</span><span class="op" id="1928395">(</span><span class="ident" id="1928396">percentBangBytes</span><span class="op" id="1928412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928417">p</span><span class="op" id="1928418">.</span><span class="ident" id="1928419">add</span><span class="op" id="1928422">(</span><span class="ident" id="1928423">c</span><span class="op" id="1928424">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928429">p</span><span class="op" id="1928430">.</span><span class="ident" id="1928431">buf</span><span class="op" id="1928434">.</span><span class="ident" id="1928435">Write</span><span class="op" id="1928440">(</span><span class="ident" id="1928441">badIndexBytes</span><span class="op" id="1928454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928459">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928470">}</span>&nbsp;<span class="keyword" id="1928472">else</span>&nbsp;<span class="keyword" id="1928477">if</span>&nbsp;<span class="ident" id="1928480">argNum</span>&nbsp;<span class="op" id="1928487">&gt;=</span>&nbsp;<span class="builtinfunc" id="1928490">len</span><span class="op" id="1928493">(</span><span class="ident" id="1928494">a</span><span class="op" id="1928495">)</span>&nbsp;<span class="op" id="1928497">{</span>&nbsp;<span class="comment" id="1928499">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928521">p</span><span class="op" id="1928522">.</span><span class="ident" id="1928523">buf</span><span class="op" id="1928526">.</span><span class="ident" id="1928527">Write</span><span class="op" id="1928532">(</span><span class="ident" id="1928533">percentBangBytes</span><span class="op" id="1928549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928554">p</span><span class="op" id="1928555">.</span><span class="ident" id="1928556">add</span><span class="op" id="1928559">(</span><span class="ident" id="1928560">c</span><span class="op" id="1928561">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928566">p</span><span class="op" id="1928567">.</span><span class="ident" id="1928568">buf</span><span class="op" id="1928571">.</span><span class="ident" id="1928572">Write</span><span class="op" id="1928577">(</span><span class="ident" id="1928578">missingBytes</span><span class="op" id="1928590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928595">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928610">arg</span>&nbsp;<span class="op" id="1928614">:=</span>&nbsp;<span class="ident" id="1928617">a</span><span class="op" id="1928618">[</span><span class="ident" id="1928619">argNum</span><span class="op" id="1928625">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928629">argNum</span><span class="op" id="1928635">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928641">if</span>&nbsp;<span class="ident" id="1928644">c</span>&nbsp;<span class="op" id="1928646">==</span>&nbsp;<span class="string" id="1928649">&#39;v&#39;</span>&nbsp;<span class="op" id="1928653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928658">if</span>&nbsp;<span class="ident" id="1928661">p</span><span class="op" id="1928662">.</span><span class="ident" id="1928663">fmt</span><span class="op" id="1928666">.</span><span class="ident" id="1928667">sharp</span>&nbsp;<span class="op" id="1928673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1928679">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928747">p</span><span class="op" id="1928748">.</span><span class="ident" id="1928749">fmt</span><span class="op" id="1928752">.</span><span class="ident" id="1928753">sharp</span>&nbsp;<span class="op" id="1928759">=</span>&nbsp;<span class="ident" id="1928761">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928771">p</span><span class="op" id="1928772">.</span><span class="ident" id="1928773">fmt</span><span class="op" id="1928776">.</span><span class="ident" id="1928777">sharpV</span>&nbsp;<span class="op" id="1928784">=</span>&nbsp;<span class="ident" id="1928786">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1928799">if</span>&nbsp;<span class="ident" id="1928802">p</span><span class="op" id="1928803">.</span><span class="ident" id="1928804">fmt</span><span class="op" id="1928807">.</span><span class="ident" id="1928808">plus</span>&nbsp;<span class="op" id="1928813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1928819">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928896">p</span><span class="op" id="1928897">.</span><span class="ident" id="1928898">fmt</span><span class="op" id="1928901">.</span><span class="ident" id="1928902">plus</span>&nbsp;<span class="op" id="1928907">=</span>&nbsp;<span class="ident" id="1928909">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928919">p</span><span class="op" id="1928920">.</span><span class="ident" id="1928921">fmt</span><span class="op" id="1928924">.</span><span class="ident" id="1928925">plusV</span>&nbsp;<span class="op" id="1928931">=</span>&nbsp;<span class="ident" id="1928933">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1928949">p</span><span class="op" id="1928950">.</span><span class="ident" id="1928951">printArg</span><span class="op" id="1928959">(</span><span class="ident" id="1928960">arg</span><span class="op" id="1928963">,</span>&nbsp;<span class="ident" id="1928965">c</span><span class="op" id="1928966">,</span>&nbsp;<span class="num" id="1928968">0</span><span class="op" id="1928969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1928972">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1928976">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1929045">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1929121">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1929167">if</span>&nbsp;<span class="op" id="1929170">!</span><span class="ident" id="1929171">p</span><span class="op" id="1929172">.</span><span class="ident" id="1929173">reordered</span>&nbsp;<span class="op" id="1929183">&amp;&amp;</span>&nbsp;<span class="ident" id="1929186">argNum</span>&nbsp;<span class="op" id="1929193">&lt;</span>&nbsp;<span class="builtinfunc" id="1929195">len</span><span class="op" id="1929198">(</span><span class="ident" id="1929199">a</span><span class="op" id="1929200">)</span>&nbsp;<span class="op" id="1929202">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929206">p</span><span class="op" id="1929207">.</span><span class="ident" id="1929208">buf</span><span class="op" id="1929211">.</span><span class="ident" id="1929212">Write</span><span class="op" id="1929217">(</span><span class="ident" id="1929218">extraBytes</span><span class="op" id="1929228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1929232">for</span>&nbsp;<span class="op" id="1929236">;</span>&nbsp;<span class="ident" id="1929238">argNum</span>&nbsp;<span class="op" id="1929245">&lt;</span>&nbsp;<span class="builtinfunc" id="1929247">len</span><span class="op" id="1929250">(</span><span class="ident" id="1929251">a</span><span class="op" id="1929252">)</span><span class="op" id="1929253">;</span>&nbsp;<span class="ident" id="1929255">argNum</span><span class="op" id="1929261">++</span>&nbsp;<span class="op" id="1929264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929269">arg</span>&nbsp;<span class="op" id="1929273">:=</span>&nbsp;<span class="ident" id="1929276">a</span><span class="op" id="1929277">[</span><span class="ident" id="1929278">argNum</span><span class="op" id="1929284">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1929289">if</span>&nbsp;<span class="ident" id="1929292">arg</span>&nbsp;<span class="op" id="1929296">!=</span>&nbsp;<span class="ident" id="1929299">nil</span>&nbsp;<span class="op" id="1929303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929309">p</span><span class="op" id="1929310">.</span><span class="ident" id="1929311">buf</span><span class="op" id="1929314">.</span><span class="ident" id="1929315">WriteString</span><span class="op" id="1929326">(</span><span class="ident" id="1929327">reflect</span><span class="op" id="1929334">.</span><span class="ident" id="1929335">TypeOf</span><span class="op" id="1929341">(</span><span class="ident" id="1929342">arg</span><span class="op" id="1929345">)</span><span class="op" id="1929346">.</span><span class="ident" id="1929347">String</span><span class="op" id="1929353">(</span><span class="op" id="1929354">)</span><span class="op" id="1929355">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929361">p</span><span class="op" id="1929362">.</span><span class="ident" id="1929363">buf</span><span class="op" id="1929366">.</span><span class="ident" id="1929367">WriteByte</span><span class="op" id="1929376">(</span><span class="string" id="1929377">&#39;=&#39;</span><span class="op" id="1929380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1929385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929390">p</span><span class="op" id="1929391">.</span><span class="ident" id="1929392">printArg</span><span class="op" id="1929400">(</span><span class="ident" id="1929401">arg</span><span class="op" id="1929404">,</span>&nbsp;<span class="string" id="1929406">&#39;v&#39;</span><span class="op" id="1929409">,</span>&nbsp;<span class="num" id="1929411">0</span><span class="op" id="1929412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1929417">if</span>&nbsp;<span class="ident" id="1929420">argNum</span><span class="op" id="1929426">+</span><span class="num" id="1929427">1</span>&nbsp;<span class="op" id="1929429">&lt;</span>&nbsp;<span class="builtinfunc" id="1929431">len</span><span class="op" id="1929434">(</span><span class="ident" id="1929435">a</span><span class="op" id="1929436">)</span>&nbsp;<span class="op" id="1929438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929444">p</span><span class="op" id="1929445">.</span><span class="ident" id="1929446">buf</span><span class="op" id="1929449">.</span><span class="ident" id="1929450">Write</span><span class="op" id="1929455">(</span><span class="ident" id="1929456">commaSpaceBytes</span><span class="op" id="1929471">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1929476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1929480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929484">p</span><span class="op" id="1929485">.</span><span class="ident" id="1929486">buf</span><span class="op" id="1929489">.</span><span class="ident" id="1929490">WriteByte</span><span class="op" id="1929499">(</span><span class="string" id="1929500">&#39;)&#39;</span><span class="op" id="1929503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1929506">}</span><br>
<span class="lineno"></span><span class="op" id="1929508">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="1929511">func</span>&nbsp;<span class="op" id="1929516">(</span><span class="ident" id="1929517">p</span>&nbsp;<span class="op" id="1929519">*</span><span class="ident" id="1929520">pp</span><span class="op" id="1929522">)</span>&nbsp;<span class="ident" id="1929524">doPrint</span><span class="op" id="1929531">(</span><span class="ident" id="1929532">a</span>&nbsp;<span class="op" id="1929534">[</span><span class="op" id="1929535">]</span><span class="keyword" id="1929536">interface</span><span class="op" id="1929545">{</span><span class="op" id="1929546">}</span><span class="op" id="1929547">,</span>&nbsp;<span class="ident" id="1929549">addspace</span><span class="op" id="1929557">,</span>&nbsp;<span class="ident" id="1929559">addnewline</span>&nbsp;<span class="builtintype" id="1929570">bool</span><span class="op" id="1929574">)</span>&nbsp;<span class="op" id="1929576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929579">prevString</span>&nbsp;<span class="op" id="1929590">:=</span>&nbsp;<span class="ident" id="1929593">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1929600">for</span>&nbsp;<span class="ident" id="1929604">argNum</span>&nbsp;<span class="op" id="1929611">:=</span>&nbsp;<span class="num" id="1929614">0</span><span class="op" id="1929615">;</span>&nbsp;<span class="ident" id="1929617">argNum</span>&nbsp;<span class="op" id="1929624">&lt;</span>&nbsp;<span class="builtinfunc" id="1929626">len</span><span class="op" id="1929629">(</span><span class="ident" id="1929630">a</span><span class="op" id="1929631">)</span><span class="op" id="1929632">;</span>&nbsp;<span class="ident" id="1929634">argNum</span><span class="op" id="1929640">++</span>&nbsp;<span class="op" id="1929643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929647">p</span><span class="op" id="1929648">.</span><span class="ident" id="1929649">fmt</span><span class="op" id="1929652">.</span><span class="ident" id="1929653">clearflags</span><span class="op" id="1929663">(</span><span class="op" id="1929664">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1929668">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929714">arg</span>&nbsp;<span class="op" id="1929718">:=</span>&nbsp;<span class="ident" id="1929721">a</span><span class="op" id="1929722">[</span><span class="ident" id="1929723">argNum</span><span class="op" id="1929729">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1929733">if</span>&nbsp;<span class="ident" id="1929736">argNum</span>&nbsp;<span class="op" id="1929743">&gt;</span>&nbsp;<span class="num" id="1929745">0</span>&nbsp;<span class="op" id="1929747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929752">isString</span>&nbsp;<span class="op" id="1929761">:=</span>&nbsp;<span class="ident" id="1929764">arg</span>&nbsp;<span class="op" id="1929768">!=</span>&nbsp;<span class="ident" id="1929771">nil</span>&nbsp;<span class="op" id="1929775">&amp;&amp;</span>&nbsp;<span class="ident" id="1929778">reflect</span><span class="op" id="1929785">.</span><span class="ident" id="1929786">TypeOf</span><span class="op" id="1929792">(</span><span class="ident" id="1929793">arg</span><span class="op" id="1929796">)</span><span class="op" id="1929797">.</span><span class="ident" id="1929798">Kind</span><span class="op" id="1929802">(</span><span class="op" id="1929803">)</span>&nbsp;<span class="op" id="1929805">==</span>&nbsp;<span class="ident" id="1929808">reflect</span><span class="op" id="1929815">.</span><span class="ident" id="1929816">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1929826">if</span>&nbsp;<span class="ident" id="1929829">addspace</span>&nbsp;<span class="op" id="1929838">||</span>&nbsp;<span class="op" id="1929841">!</span><span class="ident" id="1929842">isString</span>&nbsp;<span class="op" id="1929851">&amp;&amp;</span>&nbsp;<span class="op" id="1929854">!</span><span class="ident" id="1929855">prevString</span>&nbsp;<span class="op" id="1929866">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929872">p</span><span class="op" id="1929873">.</span><span class="ident" id="1929874">buf</span><span class="op" id="1929877">.</span><span class="ident" id="1929878">WriteByte</span><span class="op" id="1929887">(</span><span class="string" id="1929888">&#39;&nbsp;&#39;</span><span class="op" id="1929891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1929896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1929900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929904">prevString</span>&nbsp;<span class="op" id="1929915">=</span>&nbsp;<span class="ident" id="1929917">p</span><span class="op" id="1929918">.</span><span class="ident" id="1929919">printArg</span><span class="op" id="1929927">(</span><span class="ident" id="1929928">arg</span><span class="op" id="1929931">,</span>&nbsp;<span class="string" id="1929933">&#39;v&#39;</span><span class="op" id="1929936">,</span>&nbsp;<span class="num" id="1929938">0</span><span class="op" id="1929939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1929942">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1929945">if</span>&nbsp;<span class="ident" id="1929948">addnewline</span>&nbsp;<span class="op" id="1929959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1929963">p</span><span class="op" id="1929964">.</span><span class="ident" id="1929965">buf</span><span class="op" id="1929968">.</span><span class="ident" id="1929969">WriteByte</span><span class="op" id="1929978">(</span><span class="string" id="1929979">&#39;\n&#39;</span><span class="op" id="1929983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1929986">}</span><br>
<span class="lineno"></span><span class="op" id="1929988">}</span>
</div>
</body>
</html>
