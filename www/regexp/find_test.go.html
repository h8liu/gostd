<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7063847">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7063902">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7063956">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7064007">package</span>&nbsp;<span class="ident" id="7064015">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7064023">import</span>&nbsp;<span class="op" id="7064030">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7064033">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7064040">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7064051">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7064061">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7064064">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="7064141">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="7064221">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="7064304">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="7064382">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="7064429">type</span>&nbsp;<span class="ident" id="7064434">FindTest</span>&nbsp;<span class="keyword" id="7064443">struct</span>&nbsp;<span class="op" id="7064450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064453">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7064461">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064469">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7064477">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7064485">matches</span>&nbsp;<span class="op" id="7064493">[</span><span class="op" id="7064494">]</span><span class="op" id="7064495">[</span><span class="op" id="7064496">]</span><span class="builtintype" id="7064497">int</span><br>
<span class="lineno"></span><span class="op" id="7064501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7064504">func</span>&nbsp;<span class="op" id="7064509">(</span><span class="ident" id="7064510">t</span>&nbsp;<span class="ident" id="7064512">FindTest</span><span class="op" id="7064520">)</span>&nbsp;<span class="ident" id="7064522">String</span><span class="op" id="7064528">(</span><span class="op" id="7064529">)</span>&nbsp;<span class="builtintype" id="7064531">string</span>&nbsp;<span class="op" id="7064538">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7064541">return</span>&nbsp;<span class="ident" id="7064548">fmt</span><span class="op" id="7064551">.</span><span class="ident" id="7064552">Sprintf</span><span class="op" id="7064559">(</span><span class="string" id="7064560">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="7064580">,</span>&nbsp;<span class="ident" id="7064582">t</span><span class="op" id="7064583">.</span><span class="ident" id="7064584">pat</span><span class="op" id="7064587">,</span>&nbsp;<span class="ident" id="7064589">t</span><span class="op" id="7064590">.</span><span class="ident" id="7064591">text</span><span class="op" id="7064595">)</span><br>
<span class="lineno"></span><span class="op" id="7064597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7064600">var</span>&nbsp;<span class="ident" id="7064604">findTests</span>&nbsp;<span class="op" id="7064614">=</span>&nbsp;<span class="op" id="7064616">[</span><span class="op" id="7064617">]</span><span class="ident" id="7064618">FindTest</span><span class="op" id="7064626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064629">{</span><span class="string" id="7064630">``</span><span class="op" id="7064632">,</span>&nbsp;<span class="string" id="7064634">``</span><span class="op" id="7064636">,</span>&nbsp;<span class="ident" id="7064638">build</span><span class="op" id="7064643">(</span><span class="num" id="7064644">1</span><span class="op" id="7064645">,</span>&nbsp;<span class="num" id="7064647">0</span><span class="op" id="7064648">,</span>&nbsp;<span class="num" id="7064650">0</span><span class="op" id="7064651">)</span><span class="op" id="7064652">}</span><span class="op" id="7064653">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064656">{</span><span class="string" id="7064657">`^abcdefg`</span><span class="op" id="7064667">,</span>&nbsp;<span class="string" id="7064669">&#34;abcdefg&#34;</span><span class="op" id="7064678">,</span>&nbsp;<span class="ident" id="7064680">build</span><span class="op" id="7064685">(</span><span class="num" id="7064686">1</span><span class="op" id="7064687">,</span>&nbsp;<span class="num" id="7064689">0</span><span class="op" id="7064690">,</span>&nbsp;<span class="num" id="7064692">7</span><span class="op" id="7064693">)</span><span class="op" id="7064694">}</span><span class="op" id="7064695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064698">{</span><span class="string" id="7064699">`a+`</span><span class="op" id="7064703">,</span>&nbsp;<span class="string" id="7064705">&#34;baaab&#34;</span><span class="op" id="7064712">,</span>&nbsp;<span class="ident" id="7064714">build</span><span class="op" id="7064719">(</span><span class="num" id="7064720">1</span><span class="op" id="7064721">,</span>&nbsp;<span class="num" id="7064723">1</span><span class="op" id="7064724">,</span>&nbsp;<span class="num" id="7064726">4</span><span class="op" id="7064727">)</span><span class="op" id="7064728">}</span><span class="op" id="7064729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064732">{</span><span class="string" id="7064733">&#34;abcd..&#34;</span><span class="op" id="7064741">,</span>&nbsp;<span class="string" id="7064743">&#34;abcdef&#34;</span><span class="op" id="7064751">,</span>&nbsp;<span class="ident" id="7064753">build</span><span class="op" id="7064758">(</span><span class="num" id="7064759">1</span><span class="op" id="7064760">,</span>&nbsp;<span class="num" id="7064762">0</span><span class="op" id="7064763">,</span>&nbsp;<span class="num" id="7064765">6</span><span class="op" id="7064766">)</span><span class="op" id="7064767">}</span><span class="op" id="7064768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064771">{</span><span class="string" id="7064772">`a`</span><span class="op" id="7064775">,</span>&nbsp;<span class="string" id="7064777">&#34;a&#34;</span><span class="op" id="7064780">,</span>&nbsp;<span class="ident" id="7064782">build</span><span class="op" id="7064787">(</span><span class="num" id="7064788">1</span><span class="op" id="7064789">,</span>&nbsp;<span class="num" id="7064791">0</span><span class="op" id="7064792">,</span>&nbsp;<span class="num" id="7064794">1</span><span class="op" id="7064795">)</span><span class="op" id="7064796">}</span><span class="op" id="7064797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064800">{</span><span class="string" id="7064801">`x`</span><span class="op" id="7064804">,</span>&nbsp;<span class="string" id="7064806">&#34;y&#34;</span><span class="op" id="7064809">,</span>&nbsp;<span class="ident" id="7064811">nil</span><span class="op" id="7064814">}</span><span class="op" id="7064815">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064818">{</span><span class="string" id="7064819">`b`</span><span class="op" id="7064822">,</span>&nbsp;<span class="string" id="7064824">&#34;abc&#34;</span><span class="op" id="7064829">,</span>&nbsp;<span class="ident" id="7064831">build</span><span class="op" id="7064836">(</span><span class="num" id="7064837">1</span><span class="op" id="7064838">,</span>&nbsp;<span class="num" id="7064840">1</span><span class="op" id="7064841">,</span>&nbsp;<span class="num" id="7064843">2</span><span class="op" id="7064844">)</span><span class="op" id="7064845">}</span><span class="op" id="7064846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064849">{</span><span class="string" id="7064850">`.`</span><span class="op" id="7064853">,</span>&nbsp;<span class="string" id="7064855">&#34;a&#34;</span><span class="op" id="7064858">,</span>&nbsp;<span class="ident" id="7064860">build</span><span class="op" id="7064865">(</span><span class="num" id="7064866">1</span><span class="op" id="7064867">,</span>&nbsp;<span class="num" id="7064869">0</span><span class="op" id="7064870">,</span>&nbsp;<span class="num" id="7064872">1</span><span class="op" id="7064873">)</span><span class="op" id="7064874">}</span><span class="op" id="7064875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064878">{</span><span class="string" id="7064879">`.*`</span><span class="op" id="7064883">,</span>&nbsp;<span class="string" id="7064885">&#34;abcdef&#34;</span><span class="op" id="7064893">,</span>&nbsp;<span class="ident" id="7064895">build</span><span class="op" id="7064900">(</span><span class="num" id="7064901">1</span><span class="op" id="7064902">,</span>&nbsp;<span class="num" id="7064904">0</span><span class="op" id="7064905">,</span>&nbsp;<span class="num" id="7064907">6</span><span class="op" id="7064908">)</span><span class="op" id="7064909">}</span><span class="op" id="7064910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064913">{</span><span class="string" id="7064914">`^`</span><span class="op" id="7064917">,</span>&nbsp;<span class="string" id="7064919">&#34;abcde&#34;</span><span class="op" id="7064926">,</span>&nbsp;<span class="ident" id="7064928">build</span><span class="op" id="7064933">(</span><span class="num" id="7064934">1</span><span class="op" id="7064935">,</span>&nbsp;<span class="num" id="7064937">0</span><span class="op" id="7064938">,</span>&nbsp;<span class="num" id="7064940">0</span><span class="op" id="7064941">)</span><span class="op" id="7064942">}</span><span class="op" id="7064943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064946">{</span><span class="string" id="7064947">`$`</span><span class="op" id="7064950">,</span>&nbsp;<span class="string" id="7064952">&#34;abcde&#34;</span><span class="op" id="7064959">,</span>&nbsp;<span class="ident" id="7064961">build</span><span class="op" id="7064966">(</span><span class="num" id="7064967">1</span><span class="op" id="7064968">,</span>&nbsp;<span class="num" id="7064970">5</span><span class="op" id="7064971">,</span>&nbsp;<span class="num" id="7064973">5</span><span class="op" id="7064974">)</span><span class="op" id="7064975">}</span><span class="op" id="7064976">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7064979">{</span><span class="string" id="7064980">`^abcd$`</span><span class="op" id="7064988">,</span>&nbsp;<span class="string" id="7064990">&#34;abcd&#34;</span><span class="op" id="7064996">,</span>&nbsp;<span class="ident" id="7064998">build</span><span class="op" id="7065003">(</span><span class="num" id="7065004">1</span><span class="op" id="7065005">,</span>&nbsp;<span class="num" id="7065007">0</span><span class="op" id="7065008">,</span>&nbsp;<span class="num" id="7065010">4</span><span class="op" id="7065011">)</span><span class="op" id="7065012">}</span><span class="op" id="7065013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065016">{</span><span class="string" id="7065017">`^bcd&#39;`</span><span class="op" id="7065024">,</span>&nbsp;<span class="string" id="7065026">&#34;abcdef&#34;</span><span class="op" id="7065034">,</span>&nbsp;<span class="ident" id="7065036">nil</span><span class="op" id="7065039">}</span><span class="op" id="7065040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065043">{</span><span class="string" id="7065044">`^abcd$`</span><span class="op" id="7065052">,</span>&nbsp;<span class="string" id="7065054">&#34;abcde&#34;</span><span class="op" id="7065061">,</span>&nbsp;<span class="ident" id="7065063">nil</span><span class="op" id="7065066">}</span><span class="op" id="7065067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065070">{</span><span class="string" id="7065071">`a+`</span><span class="op" id="7065075">,</span>&nbsp;<span class="string" id="7065077">&#34;baaab&#34;</span><span class="op" id="7065084">,</span>&nbsp;<span class="ident" id="7065086">build</span><span class="op" id="7065091">(</span><span class="num" id="7065092">1</span><span class="op" id="7065093">,</span>&nbsp;<span class="num" id="7065095">1</span><span class="op" id="7065096">,</span>&nbsp;<span class="num" id="7065098">4</span><span class="op" id="7065099">)</span><span class="op" id="7065100">}</span><span class="op" id="7065101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065104">{</span><span class="string" id="7065105">`a*`</span><span class="op" id="7065109">,</span>&nbsp;<span class="string" id="7065111">&#34;baaab&#34;</span><span class="op" id="7065118">,</span>&nbsp;<span class="ident" id="7065120">build</span><span class="op" id="7065125">(</span><span class="num" id="7065126">3</span><span class="op" id="7065127">,</span>&nbsp;<span class="num" id="7065129">0</span><span class="op" id="7065130">,</span>&nbsp;<span class="num" id="7065132">0</span><span class="op" id="7065133">,</span>&nbsp;<span class="num" id="7065135">1</span><span class="op" id="7065136">,</span>&nbsp;<span class="num" id="7065138">4</span><span class="op" id="7065139">,</span>&nbsp;<span class="num" id="7065141">5</span><span class="op" id="7065142">,</span>&nbsp;<span class="num" id="7065144">5</span><span class="op" id="7065145">)</span><span class="op" id="7065146">}</span><span class="op" id="7065147">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065150">{</span><span class="string" id="7065151">`[a-z]+`</span><span class="op" id="7065159">,</span>&nbsp;<span class="string" id="7065161">&#34;abcd&#34;</span><span class="op" id="7065167">,</span>&nbsp;<span class="ident" id="7065169">build</span><span class="op" id="7065174">(</span><span class="num" id="7065175">1</span><span class="op" id="7065176">,</span>&nbsp;<span class="num" id="7065178">0</span><span class="op" id="7065179">,</span>&nbsp;<span class="num" id="7065181">4</span><span class="op" id="7065182">)</span><span class="op" id="7065183">}</span><span class="op" id="7065184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065187">{</span><span class="string" id="7065188">`[^a-z]+`</span><span class="op" id="7065197">,</span>&nbsp;<span class="string" id="7065199">&#34;ab1234cd&#34;</span><span class="op" id="7065209">,</span>&nbsp;<span class="ident" id="7065211">build</span><span class="op" id="7065216">(</span><span class="num" id="7065217">1</span><span class="op" id="7065218">,</span>&nbsp;<span class="num" id="7065220">2</span><span class="op" id="7065221">,</span>&nbsp;<span class="num" id="7065223">6</span><span class="op" id="7065224">)</span><span class="op" id="7065225">}</span><span class="op" id="7065226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065229">{</span><span class="string" id="7065230">`[a\-\]z]+`</span><span class="op" id="7065241">,</span>&nbsp;<span class="string" id="7065243">&#34;az]-bcz&#34;</span><span class="op" id="7065252">,</span>&nbsp;<span class="ident" id="7065254">build</span><span class="op" id="7065259">(</span><span class="num" id="7065260">2</span><span class="op" id="7065261">,</span>&nbsp;<span class="num" id="7065263">0</span><span class="op" id="7065264">,</span>&nbsp;<span class="num" id="7065266">4</span><span class="op" id="7065267">,</span>&nbsp;<span class="num" id="7065269">6</span><span class="op" id="7065270">,</span>&nbsp;<span class="num" id="7065272">7</span><span class="op" id="7065273">)</span><span class="op" id="7065274">}</span><span class="op" id="7065275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065278">{</span><span class="string" id="7065279">`[^\n]+`</span><span class="op" id="7065287">,</span>&nbsp;<span class="string" id="7065289">&#34;abcd\n&#34;</span><span class="op" id="7065297">,</span>&nbsp;<span class="ident" id="7065299">build</span><span class="op" id="7065304">(</span><span class="num" id="7065305">1</span><span class="op" id="7065306">,</span>&nbsp;<span class="num" id="7065308">0</span><span class="op" id="7065309">,</span>&nbsp;<span class="num" id="7065311">4</span><span class="op" id="7065312">)</span><span class="op" id="7065313">}</span><span class="op" id="7065314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065317">{</span><span class="string" id="7065318">`[日本語]+`</span><span class="op" id="7065332">,</span>&nbsp;<span class="string" id="7065334">&#34;日本語日本語&#34;</span><span class="op" id="7065354">,</span>&nbsp;<span class="ident" id="7065356">build</span><span class="op" id="7065361">(</span><span class="num" id="7065362">1</span><span class="op" id="7065363">,</span>&nbsp;<span class="num" id="7065365">0</span><span class="op" id="7065366">,</span>&nbsp;<span class="num" id="7065368">18</span><span class="op" id="7065370">)</span><span class="op" id="7065371">}</span><span class="op" id="7065372">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065375">{</span><span class="string" id="7065376">`日本語+`</span><span class="op" id="7065388">,</span>&nbsp;<span class="string" id="7065390">&#34;日本語&#34;</span><span class="op" id="7065401">,</span>&nbsp;<span class="ident" id="7065403">build</span><span class="op" id="7065408">(</span><span class="num" id="7065409">1</span><span class="op" id="7065410">,</span>&nbsp;<span class="num" id="7065412">0</span><span class="op" id="7065413">,</span>&nbsp;<span class="num" id="7065415">9</span><span class="op" id="7065416">)</span><span class="op" id="7065417">}</span><span class="op" id="7065418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065421">{</span><span class="string" id="7065422">`日本語+`</span><span class="op" id="7065434">,</span>&nbsp;<span class="string" id="7065436">&#34;日本語語語語&#34;</span><span class="op" id="7065456">,</span>&nbsp;<span class="ident" id="7065458">build</span><span class="op" id="7065463">(</span><span class="num" id="7065464">1</span><span class="op" id="7065465">,</span>&nbsp;<span class="num" id="7065467">0</span><span class="op" id="7065468">,</span>&nbsp;<span class="num" id="7065470">18</span><span class="op" id="7065472">)</span><span class="op" id="7065473">}</span><span class="op" id="7065474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065477">{</span><span class="string" id="7065478">`()`</span><span class="op" id="7065482">,</span>&nbsp;<span class="string" id="7065484">&#34;&#34;</span><span class="op" id="7065486">,</span>&nbsp;<span class="ident" id="7065488">build</span><span class="op" id="7065493">(</span><span class="num" id="7065494">1</span><span class="op" id="7065495">,</span>&nbsp;<span class="num" id="7065497">0</span><span class="op" id="7065498">,</span>&nbsp;<span class="num" id="7065500">0</span><span class="op" id="7065501">,</span>&nbsp;<span class="num" id="7065503">0</span><span class="op" id="7065504">,</span>&nbsp;<span class="num" id="7065506">0</span><span class="op" id="7065507">)</span><span class="op" id="7065508">}</span><span class="op" id="7065509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065512">{</span><span class="string" id="7065513">`(a)`</span><span class="op" id="7065518">,</span>&nbsp;<span class="string" id="7065520">&#34;a&#34;</span><span class="op" id="7065523">,</span>&nbsp;<span class="ident" id="7065525">build</span><span class="op" id="7065530">(</span><span class="num" id="7065531">1</span><span class="op" id="7065532">,</span>&nbsp;<span class="num" id="7065534">0</span><span class="op" id="7065535">,</span>&nbsp;<span class="num" id="7065537">1</span><span class="op" id="7065538">,</span>&nbsp;<span class="num" id="7065540">0</span><span class="op" id="7065541">,</span>&nbsp;<span class="num" id="7065543">1</span><span class="op" id="7065544">)</span><span class="op" id="7065545">}</span><span class="op" id="7065546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065549">{</span><span class="string" id="7065550">`(.)(.)`</span><span class="op" id="7065558">,</span>&nbsp;<span class="string" id="7065560">&#34;日a&#34;</span><span class="op" id="7065566">,</span>&nbsp;<span class="ident" id="7065568">build</span><span class="op" id="7065573">(</span><span class="num" id="7065574">1</span><span class="op" id="7065575">,</span>&nbsp;<span class="num" id="7065577">0</span><span class="op" id="7065578">,</span>&nbsp;<span class="num" id="7065580">4</span><span class="op" id="7065581">,</span>&nbsp;<span class="num" id="7065583">0</span><span class="op" id="7065584">,</span>&nbsp;<span class="num" id="7065586">3</span><span class="op" id="7065587">,</span>&nbsp;<span class="num" id="7065589">3</span><span class="op" id="7065590">,</span>&nbsp;<span class="num" id="7065592">4</span><span class="op" id="7065593">)</span><span class="op" id="7065594">}</span><span class="op" id="7065595">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065598">{</span><span class="string" id="7065599">`(.*)`</span><span class="op" id="7065605">,</span>&nbsp;<span class="string" id="7065607">&#34;&#34;</span><span class="op" id="7065609">,</span>&nbsp;<span class="ident" id="7065611">build</span><span class="op" id="7065616">(</span><span class="num" id="7065617">1</span><span class="op" id="7065618">,</span>&nbsp;<span class="num" id="7065620">0</span><span class="op" id="7065621">,</span>&nbsp;<span class="num" id="7065623">0</span><span class="op" id="7065624">,</span>&nbsp;<span class="num" id="7065626">0</span><span class="op" id="7065627">,</span>&nbsp;<span class="num" id="7065629">0</span><span class="op" id="7065630">)</span><span class="op" id="7065631">}</span><span class="op" id="7065632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065635">{</span><span class="string" id="7065636">`(.*)`</span><span class="op" id="7065642">,</span>&nbsp;<span class="string" id="7065644">&#34;abcd&#34;</span><span class="op" id="7065650">,</span>&nbsp;<span class="ident" id="7065652">build</span><span class="op" id="7065657">(</span><span class="num" id="7065658">1</span><span class="op" id="7065659">,</span>&nbsp;<span class="num" id="7065661">0</span><span class="op" id="7065662">,</span>&nbsp;<span class="num" id="7065664">4</span><span class="op" id="7065665">,</span>&nbsp;<span class="num" id="7065667">0</span><span class="op" id="7065668">,</span>&nbsp;<span class="num" id="7065670">4</span><span class="op" id="7065671">)</span><span class="op" id="7065672">}</span><span class="op" id="7065673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065676">{</span><span class="string" id="7065677">`(..)(..)`</span><span class="op" id="7065687">,</span>&nbsp;<span class="string" id="7065689">&#34;abcd&#34;</span><span class="op" id="7065695">,</span>&nbsp;<span class="ident" id="7065697">build</span><span class="op" id="7065702">(</span><span class="num" id="7065703">1</span><span class="op" id="7065704">,</span>&nbsp;<span class="num" id="7065706">0</span><span class="op" id="7065707">,</span>&nbsp;<span class="num" id="7065709">4</span><span class="op" id="7065710">,</span>&nbsp;<span class="num" id="7065712">0</span><span class="op" id="7065713">,</span>&nbsp;<span class="num" id="7065715">2</span><span class="op" id="7065716">,</span>&nbsp;<span class="num" id="7065718">2</span><span class="op" id="7065719">,</span>&nbsp;<span class="num" id="7065721">4</span><span class="op" id="7065722">)</span><span class="op" id="7065723">}</span><span class="op" id="7065724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065727">{</span><span class="string" id="7065728">`(([^xyz]*)(d))`</span><span class="op" id="7065744">,</span>&nbsp;<span class="string" id="7065746">&#34;abcd&#34;</span><span class="op" id="7065752">,</span>&nbsp;<span class="ident" id="7065754">build</span><span class="op" id="7065759">(</span><span class="num" id="7065760">1</span><span class="op" id="7065761">,</span>&nbsp;<span class="num" id="7065763">0</span><span class="op" id="7065764">,</span>&nbsp;<span class="num" id="7065766">4</span><span class="op" id="7065767">,</span>&nbsp;<span class="num" id="7065769">0</span><span class="op" id="7065770">,</span>&nbsp;<span class="num" id="7065772">4</span><span class="op" id="7065773">,</span>&nbsp;<span class="num" id="7065775">0</span><span class="op" id="7065776">,</span>&nbsp;<span class="num" id="7065778">3</span><span class="op" id="7065779">,</span>&nbsp;<span class="num" id="7065781">3</span><span class="op" id="7065782">,</span>&nbsp;<span class="num" id="7065784">4</span><span class="op" id="7065785">)</span><span class="op" id="7065786">}</span><span class="op" id="7065787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065790">{</span><span class="string" id="7065791">`((a|b|c)*(d))`</span><span class="op" id="7065806">,</span>&nbsp;<span class="string" id="7065808">&#34;abcd&#34;</span><span class="op" id="7065814">,</span>&nbsp;<span class="ident" id="7065816">build</span><span class="op" id="7065821">(</span><span class="num" id="7065822">1</span><span class="op" id="7065823">,</span>&nbsp;<span class="num" id="7065825">0</span><span class="op" id="7065826">,</span>&nbsp;<span class="num" id="7065828">4</span><span class="op" id="7065829">,</span>&nbsp;<span class="num" id="7065831">0</span><span class="op" id="7065832">,</span>&nbsp;<span class="num" id="7065834">4</span><span class="op" id="7065835">,</span>&nbsp;<span class="num" id="7065837">2</span><span class="op" id="7065838">,</span>&nbsp;<span class="num" id="7065840">3</span><span class="op" id="7065841">,</span>&nbsp;<span class="num" id="7065843">3</span><span class="op" id="7065844">,</span>&nbsp;<span class="num" id="7065846">4</span><span class="op" id="7065847">)</span><span class="op" id="7065848">}</span><span class="op" id="7065849">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065852">{</span><span class="string" id="7065853">`(((a|b|c)*)(d))`</span><span class="op" id="7065870">,</span>&nbsp;<span class="string" id="7065872">&#34;abcd&#34;</span><span class="op" id="7065878">,</span>&nbsp;<span class="ident" id="7065880">build</span><span class="op" id="7065885">(</span><span class="num" id="7065886">1</span><span class="op" id="7065887">,</span>&nbsp;<span class="num" id="7065889">0</span><span class="op" id="7065890">,</span>&nbsp;<span class="num" id="7065892">4</span><span class="op" id="7065893">,</span>&nbsp;<span class="num" id="7065895">0</span><span class="op" id="7065896">,</span>&nbsp;<span class="num" id="7065898">4</span><span class="op" id="7065899">,</span>&nbsp;<span class="num" id="7065901">0</span><span class="op" id="7065902">,</span>&nbsp;<span class="num" id="7065904">3</span><span class="op" id="7065905">,</span>&nbsp;<span class="num" id="7065907">2</span><span class="op" id="7065908">,</span>&nbsp;<span class="num" id="7065910">3</span><span class="op" id="7065911">,</span>&nbsp;<span class="num" id="7065913">3</span><span class="op" id="7065914">,</span>&nbsp;<span class="num" id="7065916">4</span><span class="op" id="7065917">)</span><span class="op" id="7065918">}</span><span class="op" id="7065919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065922">{</span><span class="string" id="7065923">`\a\f\n\r\t\v`</span><span class="op" id="7065937">,</span>&nbsp;<span class="string" id="7065939">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7065953">,</span>&nbsp;<span class="ident" id="7065955">build</span><span class="op" id="7065960">(</span><span class="num" id="7065961">1</span><span class="op" id="7065962">,</span>&nbsp;<span class="num" id="7065964">0</span><span class="op" id="7065965">,</span>&nbsp;<span class="num" id="7065967">6</span><span class="op" id="7065968">)</span><span class="op" id="7065969">}</span><span class="op" id="7065970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7065973">{</span><span class="string" id="7065974">`[\a\f\n\r\t\v]+`</span><span class="op" id="7065991">,</span>&nbsp;<span class="string" id="7065993">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="7066007">,</span>&nbsp;<span class="ident" id="7066009">build</span><span class="op" id="7066014">(</span><span class="num" id="7066015">1</span><span class="op" id="7066016">,</span>&nbsp;<span class="num" id="7066018">0</span><span class="op" id="7066019">,</span>&nbsp;<span class="num" id="7066021">6</span><span class="op" id="7066022">)</span><span class="op" id="7066023">}</span><span class="op" id="7066024">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066028">{</span><span class="string" id="7066029">`a*(|(b))c*`</span><span class="op" id="7066041">,</span>&nbsp;<span class="string" id="7066043">&#34;aacc&#34;</span><span class="op" id="7066049">,</span>&nbsp;<span class="ident" id="7066051">build</span><span class="op" id="7066056">(</span><span class="num" id="7066057">1</span><span class="op" id="7066058">,</span>&nbsp;<span class="num" id="7066060">0</span><span class="op" id="7066061">,</span>&nbsp;<span class="num" id="7066063">4</span><span class="op" id="7066064">,</span>&nbsp;<span class="num" id="7066066">2</span><span class="op" id="7066067">,</span>&nbsp;<span class="num" id="7066069">2</span><span class="op" id="7066070">,</span>&nbsp;<span class="op" id="7066072">-</span><span class="num" id="7066073">1</span><span class="op" id="7066074">,</span>&nbsp;<span class="op" id="7066076">-</span><span class="num" id="7066077">1</span><span class="op" id="7066078">)</span><span class="op" id="7066079">}</span><span class="op" id="7066080">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066083">{</span><span class="string" id="7066084">`(.*).*`</span><span class="op" id="7066092">,</span>&nbsp;<span class="string" id="7066094">&#34;ab&#34;</span><span class="op" id="7066098">,</span>&nbsp;<span class="ident" id="7066100">build</span><span class="op" id="7066105">(</span><span class="num" id="7066106">1</span><span class="op" id="7066107">,</span>&nbsp;<span class="num" id="7066109">0</span><span class="op" id="7066110">,</span>&nbsp;<span class="num" id="7066112">2</span><span class="op" id="7066113">,</span>&nbsp;<span class="num" id="7066115">0</span><span class="op" id="7066116">,</span>&nbsp;<span class="num" id="7066118">2</span><span class="op" id="7066119">)</span><span class="op" id="7066120">}</span><span class="op" id="7066121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066124">{</span><span class="string" id="7066125">`[.]`</span><span class="op" id="7066130">,</span>&nbsp;<span class="string" id="7066132">&#34;.&#34;</span><span class="op" id="7066135">,</span>&nbsp;<span class="ident" id="7066137">build</span><span class="op" id="7066142">(</span><span class="num" id="7066143">1</span><span class="op" id="7066144">,</span>&nbsp;<span class="num" id="7066146">0</span><span class="op" id="7066147">,</span>&nbsp;<span class="num" id="7066149">1</span><span class="op" id="7066150">)</span><span class="op" id="7066151">}</span><span class="op" id="7066152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066155">{</span><span class="string" id="7066156">`/$`</span><span class="op" id="7066160">,</span>&nbsp;<span class="string" id="7066162">&#34;/abc/&#34;</span><span class="op" id="7066169">,</span>&nbsp;<span class="ident" id="7066171">build</span><span class="op" id="7066176">(</span><span class="num" id="7066177">1</span><span class="op" id="7066178">,</span>&nbsp;<span class="num" id="7066180">4</span><span class="op" id="7066181">,</span>&nbsp;<span class="num" id="7066183">5</span><span class="op" id="7066184">)</span><span class="op" id="7066185">}</span><span class="op" id="7066186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066189">{</span><span class="string" id="7066190">`/$`</span><span class="op" id="7066194">,</span>&nbsp;<span class="string" id="7066196">&#34;/abc&#34;</span><span class="op" id="7066202">,</span>&nbsp;<span class="ident" id="7066204">nil</span><span class="op" id="7066207">}</span><span class="op" id="7066208">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7066212">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066233">{</span><span class="string" id="7066234">`.`</span><span class="op" id="7066237">,</span>&nbsp;<span class="string" id="7066239">&#34;abc&#34;</span><span class="op" id="7066244">,</span>&nbsp;<span class="ident" id="7066246">build</span><span class="op" id="7066251">(</span><span class="num" id="7066252">3</span><span class="op" id="7066253">,</span>&nbsp;<span class="num" id="7066255">0</span><span class="op" id="7066256">,</span>&nbsp;<span class="num" id="7066258">1</span><span class="op" id="7066259">,</span>&nbsp;<span class="num" id="7066261">1</span><span class="op" id="7066262">,</span>&nbsp;<span class="num" id="7066264">2</span><span class="op" id="7066265">,</span>&nbsp;<span class="num" id="7066267">2</span><span class="op" id="7066268">,</span>&nbsp;<span class="num" id="7066270">3</span><span class="op" id="7066271">)</span><span class="op" id="7066272">}</span><span class="op" id="7066273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066276">{</span><span class="string" id="7066277">`(.)`</span><span class="op" id="7066282">,</span>&nbsp;<span class="string" id="7066284">&#34;abc&#34;</span><span class="op" id="7066289">,</span>&nbsp;<span class="ident" id="7066291">build</span><span class="op" id="7066296">(</span><span class="num" id="7066297">3</span><span class="op" id="7066298">,</span>&nbsp;<span class="num" id="7066300">0</span><span class="op" id="7066301">,</span>&nbsp;<span class="num" id="7066303">1</span><span class="op" id="7066304">,</span>&nbsp;<span class="num" id="7066306">0</span><span class="op" id="7066307">,</span>&nbsp;<span class="num" id="7066309">1</span><span class="op" id="7066310">,</span>&nbsp;<span class="num" id="7066312">1</span><span class="op" id="7066313">,</span>&nbsp;<span class="num" id="7066315">2</span><span class="op" id="7066316">,</span>&nbsp;<span class="num" id="7066318">1</span><span class="op" id="7066319">,</span>&nbsp;<span class="num" id="7066321">2</span><span class="op" id="7066322">,</span>&nbsp;<span class="num" id="7066324">2</span><span class="op" id="7066325">,</span>&nbsp;<span class="num" id="7066327">3</span><span class="op" id="7066328">,</span>&nbsp;<span class="num" id="7066330">2</span><span class="op" id="7066331">,</span>&nbsp;<span class="num" id="7066333">3</span><span class="op" id="7066334">)</span><span class="op" id="7066335">}</span><span class="op" id="7066336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066339">{</span><span class="string" id="7066340">`.(.)`</span><span class="op" id="7066346">,</span>&nbsp;<span class="string" id="7066348">&#34;abcd&#34;</span><span class="op" id="7066354">,</span>&nbsp;<span class="ident" id="7066356">build</span><span class="op" id="7066361">(</span><span class="num" id="7066362">2</span><span class="op" id="7066363">,</span>&nbsp;<span class="num" id="7066365">0</span><span class="op" id="7066366">,</span>&nbsp;<span class="num" id="7066368">2</span><span class="op" id="7066369">,</span>&nbsp;<span class="num" id="7066371">1</span><span class="op" id="7066372">,</span>&nbsp;<span class="num" id="7066374">2</span><span class="op" id="7066375">,</span>&nbsp;<span class="num" id="7066377">2</span><span class="op" id="7066378">,</span>&nbsp;<span class="num" id="7066380">4</span><span class="op" id="7066381">,</span>&nbsp;<span class="num" id="7066383">3</span><span class="op" id="7066384">,</span>&nbsp;<span class="num" id="7066386">4</span><span class="op" id="7066387">)</span><span class="op" id="7066388">}</span><span class="op" id="7066389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066392">{</span><span class="string" id="7066393">`ab*`</span><span class="op" id="7066398">,</span>&nbsp;<span class="string" id="7066400">&#34;abbaab&#34;</span><span class="op" id="7066408">,</span>&nbsp;<span class="ident" id="7066410">build</span><span class="op" id="7066415">(</span><span class="num" id="7066416">3</span><span class="op" id="7066417">,</span>&nbsp;<span class="num" id="7066419">0</span><span class="op" id="7066420">,</span>&nbsp;<span class="num" id="7066422">3</span><span class="op" id="7066423">,</span>&nbsp;<span class="num" id="7066425">3</span><span class="op" id="7066426">,</span>&nbsp;<span class="num" id="7066428">4</span><span class="op" id="7066429">,</span>&nbsp;<span class="num" id="7066431">4</span><span class="op" id="7066432">,</span>&nbsp;<span class="num" id="7066434">6</span><span class="op" id="7066435">)</span><span class="op" id="7066436">}</span><span class="op" id="7066437">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066440">{</span><span class="string" id="7066441">`a(b*)`</span><span class="op" id="7066448">,</span>&nbsp;<span class="string" id="7066450">&#34;abbaab&#34;</span><span class="op" id="7066458">,</span>&nbsp;<span class="ident" id="7066460">build</span><span class="op" id="7066465">(</span><span class="num" id="7066466">3</span><span class="op" id="7066467">,</span>&nbsp;<span class="num" id="7066469">0</span><span class="op" id="7066470">,</span>&nbsp;<span class="num" id="7066472">3</span><span class="op" id="7066473">,</span>&nbsp;<span class="num" id="7066475">1</span><span class="op" id="7066476">,</span>&nbsp;<span class="num" id="7066478">3</span><span class="op" id="7066479">,</span>&nbsp;<span class="num" id="7066481">3</span><span class="op" id="7066482">,</span>&nbsp;<span class="num" id="7066484">4</span><span class="op" id="7066485">,</span>&nbsp;<span class="num" id="7066487">4</span><span class="op" id="7066488">,</span>&nbsp;<span class="num" id="7066490">4</span><span class="op" id="7066491">,</span>&nbsp;<span class="num" id="7066493">4</span><span class="op" id="7066494">,</span>&nbsp;<span class="num" id="7066496">6</span><span class="op" id="7066497">,</span>&nbsp;<span class="num" id="7066499">5</span><span class="op" id="7066500">,</span>&nbsp;<span class="num" id="7066502">6</span><span class="op" id="7066503">)</span><span class="op" id="7066504">}</span><span class="op" id="7066505">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7066509">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066524">{</span><span class="string" id="7066525">`ab$`</span><span class="op" id="7066530">,</span>&nbsp;<span class="string" id="7066532">&#34;cab&#34;</span><span class="op" id="7066537">,</span>&nbsp;<span class="ident" id="7066539">build</span><span class="op" id="7066544">(</span><span class="num" id="7066545">1</span><span class="op" id="7066546">,</span>&nbsp;<span class="num" id="7066548">1</span><span class="op" id="7066549">,</span>&nbsp;<span class="num" id="7066551">3</span><span class="op" id="7066552">)</span><span class="op" id="7066553">}</span><span class="op" id="7066554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066557">{</span><span class="string" id="7066558">`axxb$`</span><span class="op" id="7066565">,</span>&nbsp;<span class="string" id="7066567">&#34;axxcb&#34;</span><span class="op" id="7066574">,</span>&nbsp;<span class="ident" id="7066576">nil</span><span class="op" id="7066579">}</span><span class="op" id="7066580">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066583">{</span><span class="string" id="7066584">`data`</span><span class="op" id="7066590">,</span>&nbsp;<span class="string" id="7066592">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7066603">,</span>&nbsp;<span class="ident" id="7066605">build</span><span class="op" id="7066610">(</span><span class="num" id="7066611">1</span><span class="op" id="7066612">,</span>&nbsp;<span class="num" id="7066614">5</span><span class="op" id="7066615">,</span>&nbsp;<span class="num" id="7066617">9</span><span class="op" id="7066618">)</span><span class="op" id="7066619">}</span><span class="op" id="7066620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066623">{</span><span class="string" id="7066624">`da(.)a$`</span><span class="op" id="7066633">,</span>&nbsp;<span class="string" id="7066635">&#34;daXY&nbsp;data&#34;</span><span class="op" id="7066646">,</span>&nbsp;<span class="ident" id="7066648">build</span><span class="op" id="7066653">(</span><span class="num" id="7066654">1</span><span class="op" id="7066655">,</span>&nbsp;<span class="num" id="7066657">5</span><span class="op" id="7066658">,</span>&nbsp;<span class="num" id="7066660">9</span><span class="op" id="7066661">,</span>&nbsp;<span class="num" id="7066663">7</span><span class="op" id="7066664">,</span>&nbsp;<span class="num" id="7066666">8</span><span class="op" id="7066667">)</span><span class="op" id="7066668">}</span><span class="op" id="7066669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066672">{</span><span class="string" id="7066673">`zx+`</span><span class="op" id="7066678">,</span>&nbsp;<span class="string" id="7066680">&#34;zzx&#34;</span><span class="op" id="7066685">,</span>&nbsp;<span class="ident" id="7066687">build</span><span class="op" id="7066692">(</span><span class="num" id="7066693">1</span><span class="op" id="7066694">,</span>&nbsp;<span class="num" id="7066696">1</span><span class="op" id="7066697">,</span>&nbsp;<span class="num" id="7066699">3</span><span class="op" id="7066700">)</span><span class="op" id="7066701">}</span><span class="op" id="7066702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066705">{</span><span class="string" id="7066706">`ab$`</span><span class="op" id="7066711">,</span>&nbsp;<span class="string" id="7066713">&#34;abcab&#34;</span><span class="op" id="7066720">,</span>&nbsp;<span class="ident" id="7066722">build</span><span class="op" id="7066727">(</span><span class="num" id="7066728">1</span><span class="op" id="7066729">,</span>&nbsp;<span class="num" id="7066731">3</span><span class="op" id="7066732">,</span>&nbsp;<span class="num" id="7066734">5</span><span class="op" id="7066735">)</span><span class="op" id="7066736">}</span><span class="op" id="7066737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066740">{</span><span class="string" id="7066741">`(aa)*$`</span><span class="op" id="7066749">,</span>&nbsp;<span class="string" id="7066751">&#34;a&#34;</span><span class="op" id="7066754">,</span>&nbsp;<span class="ident" id="7066756">build</span><span class="op" id="7066761">(</span><span class="num" id="7066762">1</span><span class="op" id="7066763">,</span>&nbsp;<span class="num" id="7066765">1</span><span class="op" id="7066766">,</span>&nbsp;<span class="num" id="7066768">1</span><span class="op" id="7066769">,</span>&nbsp;<span class="op" id="7066771">-</span><span class="num" id="7066772">1</span><span class="op" id="7066773">,</span>&nbsp;<span class="op" id="7066775">-</span><span class="num" id="7066776">1</span><span class="op" id="7066777">)</span><span class="op" id="7066778">}</span><span class="op" id="7066779">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066782">{</span><span class="string" id="7066783">`(?:.|(?:.a))`</span><span class="op" id="7066797">,</span>&nbsp;<span class="string" id="7066799">&#34;&#34;</span><span class="op" id="7066801">,</span>&nbsp;<span class="ident" id="7066803">nil</span><span class="op" id="7066806">}</span><span class="op" id="7066807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066810">{</span><span class="string" id="7066811">`(?:A(?:A|a))`</span><span class="op" id="7066825">,</span>&nbsp;<span class="string" id="7066827">&#34;Aa&#34;</span><span class="op" id="7066831">,</span>&nbsp;<span class="ident" id="7066833">build</span><span class="op" id="7066838">(</span><span class="num" id="7066839">1</span><span class="op" id="7066840">,</span>&nbsp;<span class="num" id="7066842">0</span><span class="op" id="7066843">,</span>&nbsp;<span class="num" id="7066845">2</span><span class="op" id="7066846">)</span><span class="op" id="7066847">}</span><span class="op" id="7066848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066851">{</span><span class="string" id="7066852">`(?:A|(?:A|a))`</span><span class="op" id="7066867">,</span>&nbsp;<span class="string" id="7066869">&#34;a&#34;</span><span class="op" id="7066872">,</span>&nbsp;<span class="ident" id="7066874">build</span><span class="op" id="7066879">(</span><span class="num" id="7066880">1</span><span class="op" id="7066881">,</span>&nbsp;<span class="num" id="7066883">0</span><span class="op" id="7066884">,</span>&nbsp;<span class="num" id="7066886">1</span><span class="op" id="7066887">)</span><span class="op" id="7066888">}</span><span class="op" id="7066889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066892">{</span><span class="string" id="7066893">`(a){0}`</span><span class="op" id="7066901">,</span>&nbsp;<span class="string" id="7066903">&#34;&#34;</span><span class="op" id="7066905">,</span>&nbsp;<span class="ident" id="7066907">build</span><span class="op" id="7066912">(</span><span class="num" id="7066913">1</span><span class="op" id="7066914">,</span>&nbsp;<span class="num" id="7066916">0</span><span class="op" id="7066917">,</span>&nbsp;<span class="num" id="7066919">0</span><span class="op" id="7066920">,</span>&nbsp;<span class="op" id="7066922">-</span><span class="num" id="7066923">1</span><span class="op" id="7066924">,</span>&nbsp;<span class="op" id="7066926">-</span><span class="num" id="7066927">1</span><span class="op" id="7066928">)</span><span class="op" id="7066929">}</span><span class="op" id="7066930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066933">{</span><span class="string" id="7066934">`(?-s)(?:(?:^).)`</span><span class="op" id="7066951">,</span>&nbsp;<span class="string" id="7066953">&#34;\n&#34;</span><span class="op" id="7066957">,</span>&nbsp;<span class="ident" id="7066959">nil</span><span class="op" id="7066962">}</span><span class="op" id="7066963">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7066966">{</span><span class="string" id="7066967">`(?s)(?:(?:^).)`</span><span class="op" id="7066983">,</span>&nbsp;<span class="string" id="7066985">&#34;\n&#34;</span><span class="op" id="7066989">,</span>&nbsp;<span class="ident" id="7066991">build</span><span class="op" id="7066996">(</span><span class="num" id="7066997">1</span><span class="op" id="7066998">,</span>&nbsp;<span class="num" id="7067000">0</span><span class="op" id="7067001">,</span>&nbsp;<span class="num" id="7067003">1</span><span class="op" id="7067004">)</span><span class="op" id="7067005">}</span><span class="op" id="7067006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067009">{</span><span class="string" id="7067010">`(?:(?:^).)`</span><span class="op" id="7067022">,</span>&nbsp;<span class="string" id="7067024">&#34;\n&#34;</span><span class="op" id="7067028">,</span>&nbsp;<span class="ident" id="7067030">nil</span><span class="op" id="7067033">}</span><span class="op" id="7067034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067037">{</span><span class="string" id="7067038">`\b`</span><span class="op" id="7067042">,</span>&nbsp;<span class="string" id="7067044">&#34;x&#34;</span><span class="op" id="7067047">,</span>&nbsp;<span class="ident" id="7067049">build</span><span class="op" id="7067054">(</span><span class="num" id="7067055">2</span><span class="op" id="7067056">,</span>&nbsp;<span class="num" id="7067058">0</span><span class="op" id="7067059">,</span>&nbsp;<span class="num" id="7067061">0</span><span class="op" id="7067062">,</span>&nbsp;<span class="num" id="7067064">1</span><span class="op" id="7067065">,</span>&nbsp;<span class="num" id="7067067">1</span><span class="op" id="7067068">)</span><span class="op" id="7067069">}</span><span class="op" id="7067070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067073">{</span><span class="string" id="7067074">`\b`</span><span class="op" id="7067078">,</span>&nbsp;<span class="string" id="7067080">&#34;xx&#34;</span><span class="op" id="7067084">,</span>&nbsp;<span class="ident" id="7067086">build</span><span class="op" id="7067091">(</span><span class="num" id="7067092">2</span><span class="op" id="7067093">,</span>&nbsp;<span class="num" id="7067095">0</span><span class="op" id="7067096">,</span>&nbsp;<span class="num" id="7067098">0</span><span class="op" id="7067099">,</span>&nbsp;<span class="num" id="7067101">2</span><span class="op" id="7067102">,</span>&nbsp;<span class="num" id="7067104">2</span><span class="op" id="7067105">)</span><span class="op" id="7067106">}</span><span class="op" id="7067107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067110">{</span><span class="string" id="7067111">`\b`</span><span class="op" id="7067115">,</span>&nbsp;<span class="string" id="7067117">&#34;x&nbsp;y&#34;</span><span class="op" id="7067122">,</span>&nbsp;<span class="ident" id="7067124">build</span><span class="op" id="7067129">(</span><span class="num" id="7067130">4</span><span class="op" id="7067131">,</span>&nbsp;<span class="num" id="7067133">0</span><span class="op" id="7067134">,</span>&nbsp;<span class="num" id="7067136">0</span><span class="op" id="7067137">,</span>&nbsp;<span class="num" id="7067139">1</span><span class="op" id="7067140">,</span>&nbsp;<span class="num" id="7067142">1</span><span class="op" id="7067143">,</span>&nbsp;<span class="num" id="7067145">2</span><span class="op" id="7067146">,</span>&nbsp;<span class="num" id="7067148">2</span><span class="op" id="7067149">,</span>&nbsp;<span class="num" id="7067151">3</span><span class="op" id="7067152">,</span>&nbsp;<span class="num" id="7067154">3</span><span class="op" id="7067155">)</span><span class="op" id="7067156">}</span><span class="op" id="7067157">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067160">{</span><span class="string" id="7067161">`\b`</span><span class="op" id="7067165">,</span>&nbsp;<span class="string" id="7067167">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7067174">,</span>&nbsp;<span class="ident" id="7067176">build</span><span class="op" id="7067181">(</span><span class="num" id="7067182">4</span><span class="op" id="7067183">,</span>&nbsp;<span class="num" id="7067185">0</span><span class="op" id="7067186">,</span>&nbsp;<span class="num" id="7067188">0</span><span class="op" id="7067189">,</span>&nbsp;<span class="num" id="7067191">2</span><span class="op" id="7067192">,</span>&nbsp;<span class="num" id="7067194">2</span><span class="op" id="7067195">,</span>&nbsp;<span class="num" id="7067197">3</span><span class="op" id="7067198">,</span>&nbsp;<span class="num" id="7067200">3</span><span class="op" id="7067201">,</span>&nbsp;<span class="num" id="7067203">5</span><span class="op" id="7067204">,</span>&nbsp;<span class="num" id="7067206">5</span><span class="op" id="7067207">)</span><span class="op" id="7067208">}</span><span class="op" id="7067209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067212">{</span><span class="string" id="7067213">`\B`</span><span class="op" id="7067217">,</span>&nbsp;<span class="string" id="7067219">&#34;x&#34;</span><span class="op" id="7067222">,</span>&nbsp;<span class="ident" id="7067224">nil</span><span class="op" id="7067227">}</span><span class="op" id="7067228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067231">{</span><span class="string" id="7067232">`\B`</span><span class="op" id="7067236">,</span>&nbsp;<span class="string" id="7067238">&#34;xx&#34;</span><span class="op" id="7067242">,</span>&nbsp;<span class="ident" id="7067244">build</span><span class="op" id="7067249">(</span><span class="num" id="7067250">1</span><span class="op" id="7067251">,</span>&nbsp;<span class="num" id="7067253">1</span><span class="op" id="7067254">,</span>&nbsp;<span class="num" id="7067256">1</span><span class="op" id="7067257">)</span><span class="op" id="7067258">}</span><span class="op" id="7067259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067262">{</span><span class="string" id="7067263">`\B`</span><span class="op" id="7067267">,</span>&nbsp;<span class="string" id="7067269">&#34;x&nbsp;y&#34;</span><span class="op" id="7067274">,</span>&nbsp;<span class="ident" id="7067276">nil</span><span class="op" id="7067279">}</span><span class="op" id="7067280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067283">{</span><span class="string" id="7067284">`\B`</span><span class="op" id="7067288">,</span>&nbsp;<span class="string" id="7067290">&#34;xx&nbsp;yy&#34;</span><span class="op" id="7067297">,</span>&nbsp;<span class="ident" id="7067299">build</span><span class="op" id="7067304">(</span><span class="num" id="7067305">2</span><span class="op" id="7067306">,</span>&nbsp;<span class="num" id="7067308">1</span><span class="op" id="7067309">,</span>&nbsp;<span class="num" id="7067311">1</span><span class="op" id="7067312">,</span>&nbsp;<span class="num" id="7067314">4</span><span class="op" id="7067315">,</span>&nbsp;<span class="num" id="7067317">4</span><span class="op" id="7067318">)</span><span class="op" id="7067319">}</span><span class="op" id="7067320">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7067324">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067338">{</span><span class="string" id="7067339">`[^\S\s]`</span><span class="op" id="7067348">,</span>&nbsp;<span class="string" id="7067350">&#34;abcd&#34;</span><span class="op" id="7067356">,</span>&nbsp;<span class="ident" id="7067358">nil</span><span class="op" id="7067361">}</span><span class="op" id="7067362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067365">{</span><span class="string" id="7067366">`[^\S[:space:]]`</span><span class="op" id="7067382">,</span>&nbsp;<span class="string" id="7067384">&#34;abcd&#34;</span><span class="op" id="7067390">,</span>&nbsp;<span class="ident" id="7067392">nil</span><span class="op" id="7067395">}</span><span class="op" id="7067396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067399">{</span><span class="string" id="7067400">`[^\D\d]`</span><span class="op" id="7067409">,</span>&nbsp;<span class="string" id="7067411">&#34;abcd&#34;</span><span class="op" id="7067417">,</span>&nbsp;<span class="ident" id="7067419">nil</span><span class="op" id="7067422">}</span><span class="op" id="7067423">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067426">{</span><span class="string" id="7067427">`[^\D[:digit:]]`</span><span class="op" id="7067443">,</span>&nbsp;<span class="string" id="7067445">&#34;abcd&#34;</span><span class="op" id="7067451">,</span>&nbsp;<span class="ident" id="7067453">nil</span><span class="op" id="7067456">}</span><span class="op" id="7067457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067460">{</span><span class="string" id="7067461">`(?i)\W`</span><span class="op" id="7067469">,</span>&nbsp;<span class="string" id="7067471">&#34;x&#34;</span><span class="op" id="7067474">,</span>&nbsp;<span class="ident" id="7067476">nil</span><span class="op" id="7067479">}</span><span class="op" id="7067480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067483">{</span><span class="string" id="7067484">`(?i)\W`</span><span class="op" id="7067492">,</span>&nbsp;<span class="string" id="7067494">&#34;k&#34;</span><span class="op" id="7067497">,</span>&nbsp;<span class="ident" id="7067499">nil</span><span class="op" id="7067502">}</span><span class="op" id="7067503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067506">{</span><span class="string" id="7067507">`(?i)\W`</span><span class="op" id="7067515">,</span>&nbsp;<span class="string" id="7067517">&#34;s&#34;</span><span class="op" id="7067520">,</span>&nbsp;<span class="ident" id="7067522">nil</span><span class="op" id="7067525">}</span><span class="op" id="7067526">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7067530">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067571">{</span><span class="string" id="7067572">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="7067636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7067640">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7067673">,</span>&nbsp;<span class="ident" id="7067675">build</span><span class="op" id="7067680">(</span><span class="num" id="7067681">1</span><span class="op" id="7067682">,</span>&nbsp;<span class="num" id="7067684">0</span><span class="op" id="7067685">,</span>&nbsp;<span class="num" id="7067687">31</span><span class="op" id="7067689">)</span><span class="op" id="7067690">}</span><span class="op" id="7067691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067694">{</span><span class="string" id="7067695">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="7067762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7067766">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="7067799">,</span>&nbsp;<span class="ident" id="7067801">build</span><span class="op" id="7067806">(</span><span class="num" id="7067807">1</span><span class="op" id="7067808">,</span>&nbsp;<span class="num" id="7067810">0</span><span class="op" id="7067811">,</span>&nbsp;<span class="num" id="7067813">31</span><span class="op" id="7067815">)</span><span class="op" id="7067816">}</span><span class="op" id="7067817">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067820">{</span><span class="string" id="7067821">&#34;\\`&#34;</span><span class="op" id="7067826">,</span>&nbsp;<span class="string" id="7067828">&#34;`&#34;</span><span class="op" id="7067831">,</span>&nbsp;<span class="ident" id="7067833">build</span><span class="op" id="7067838">(</span><span class="num" id="7067839">1</span><span class="op" id="7067840">,</span>&nbsp;<span class="num" id="7067842">0</span><span class="op" id="7067843">,</span>&nbsp;<span class="num" id="7067845">1</span><span class="op" id="7067846">)</span><span class="op" id="7067847">}</span><span class="op" id="7067848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067851">{</span><span class="string" id="7067852">&#34;[\\`]+&#34;</span><span class="op" id="7067860">,</span>&nbsp;<span class="string" id="7067862">&#34;`&#34;</span><span class="op" id="7067865">,</span>&nbsp;<span class="ident" id="7067867">build</span><span class="op" id="7067872">(</span><span class="num" id="7067873">1</span><span class="op" id="7067874">,</span>&nbsp;<span class="num" id="7067876">0</span><span class="op" id="7067877">,</span>&nbsp;<span class="num" id="7067879">1</span><span class="op" id="7067880">)</span><span class="op" id="7067881">}</span><span class="op" id="7067882">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7067886">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7067934">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7067938">&#34;.&#34;</span><span class="op" id="7067941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7067945">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="7067983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7067987">build</span><span class="op" id="7067992">(</span><span class="num" id="7067993">36</span><span class="op" id="7067995">,</span>&nbsp;<span class="num" id="7067997">0</span><span class="op" id="7067998">,</span>&nbsp;<span class="num" id="7068000">1</span><span class="op" id="7068001">,</span>&nbsp;<span class="num" id="7068003">1</span><span class="op" id="7068004">,</span>&nbsp;<span class="num" id="7068006">2</span><span class="op" id="7068007">,</span>&nbsp;<span class="num" id="7068009">2</span><span class="op" id="7068010">,</span>&nbsp;<span class="num" id="7068012">3</span><span class="op" id="7068013">,</span>&nbsp;<span class="num" id="7068015">3</span><span class="op" id="7068016">,</span>&nbsp;<span class="num" id="7068018">4</span><span class="op" id="7068019">,</span>&nbsp;<span class="num" id="7068021">4</span><span class="op" id="7068022">,</span>&nbsp;<span class="num" id="7068024">5</span><span class="op" id="7068025">,</span>&nbsp;<span class="num" id="7068027">5</span><span class="op" id="7068028">,</span>&nbsp;<span class="num" id="7068030">6</span><span class="op" id="7068031">,</span>&nbsp;<span class="num" id="7068033">6</span><span class="op" id="7068034">,</span>&nbsp;<span class="num" id="7068036">7</span><span class="op" id="7068037">,</span>&nbsp;<span class="num" id="7068039">7</span><span class="op" id="7068040">,</span>&nbsp;<span class="num" id="7068042">8</span><span class="op" id="7068043">,</span>&nbsp;<span class="num" id="7068045">8</span><span class="op" id="7068046">,</span>&nbsp;<span class="num" id="7068048">9</span><span class="op" id="7068049">,</span>&nbsp;<span class="num" id="7068051">9</span><span class="op" id="7068052">,</span>&nbsp;<span class="num" id="7068054">10</span><span class="op" id="7068056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7068061">10</span><span class="op" id="7068063">,</span>&nbsp;<span class="num" id="7068065">11</span><span class="op" id="7068067">,</span>&nbsp;<span class="num" id="7068069">11</span><span class="op" id="7068071">,</span>&nbsp;<span class="num" id="7068073">12</span><span class="op" id="7068075">,</span>&nbsp;<span class="num" id="7068077">12</span><span class="op" id="7068079">,</span>&nbsp;<span class="num" id="7068081">13</span><span class="op" id="7068083">,</span>&nbsp;<span class="num" id="7068085">13</span><span class="op" id="7068087">,</span>&nbsp;<span class="num" id="7068089">14</span><span class="op" id="7068091">,</span>&nbsp;<span class="num" id="7068093">14</span><span class="op" id="7068095">,</span>&nbsp;<span class="num" id="7068097">15</span><span class="op" id="7068099">,</span>&nbsp;<span class="num" id="7068101">15</span><span class="op" id="7068103">,</span>&nbsp;<span class="num" id="7068105">16</span><span class="op" id="7068107">,</span>&nbsp;<span class="num" id="7068109">16</span><span class="op" id="7068111">,</span>&nbsp;<span class="num" id="7068113">17</span><span class="op" id="7068115">,</span>&nbsp;<span class="num" id="7068117">17</span><span class="op" id="7068119">,</span>&nbsp;<span class="num" id="7068121">18</span><span class="op" id="7068123">,</span>&nbsp;<span class="num" id="7068125">18</span><span class="op" id="7068127">,</span>&nbsp;<span class="num" id="7068129">19</span><span class="op" id="7068131">,</span>&nbsp;<span class="num" id="7068133">19</span><span class="op" id="7068135">,</span>&nbsp;<span class="num" id="7068137">20</span><span class="op" id="7068139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7068144">20</span><span class="op" id="7068146">,</span>&nbsp;<span class="num" id="7068148">21</span><span class="op" id="7068150">,</span>&nbsp;<span class="num" id="7068152">21</span><span class="op" id="7068154">,</span>&nbsp;<span class="num" id="7068156">22</span><span class="op" id="7068158">,</span>&nbsp;<span class="num" id="7068160">22</span><span class="op" id="7068162">,</span>&nbsp;<span class="num" id="7068164">23</span><span class="op" id="7068166">,</span>&nbsp;<span class="num" id="7068168">23</span><span class="op" id="7068170">,</span>&nbsp;<span class="num" id="7068172">24</span><span class="op" id="7068174">,</span>&nbsp;<span class="num" id="7068176">24</span><span class="op" id="7068178">,</span>&nbsp;<span class="num" id="7068180">25</span><span class="op" id="7068182">,</span>&nbsp;<span class="num" id="7068184">25</span><span class="op" id="7068186">,</span>&nbsp;<span class="num" id="7068188">26</span><span class="op" id="7068190">,</span>&nbsp;<span class="num" id="7068192">26</span><span class="op" id="7068194">,</span>&nbsp;<span class="num" id="7068196">27</span><span class="op" id="7068198">,</span>&nbsp;<span class="num" id="7068200">27</span><span class="op" id="7068202">,</span>&nbsp;<span class="num" id="7068204">28</span><span class="op" id="7068206">,</span>&nbsp;<span class="num" id="7068208">28</span><span class="op" id="7068210">,</span>&nbsp;<span class="num" id="7068212">29</span><span class="op" id="7068214">,</span>&nbsp;<span class="num" id="7068216">29</span><span class="op" id="7068218">,</span>&nbsp;<span class="num" id="7068220">30</span><span class="op" id="7068222">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7068227">30</span><span class="op" id="7068229">,</span>&nbsp;<span class="num" id="7068231">31</span><span class="op" id="7068233">,</span>&nbsp;<span class="num" id="7068235">31</span><span class="op" id="7068237">,</span>&nbsp;<span class="num" id="7068239">32</span><span class="op" id="7068241">,</span>&nbsp;<span class="num" id="7068243">32</span><span class="op" id="7068245">,</span>&nbsp;<span class="num" id="7068247">33</span><span class="op" id="7068249">,</span>&nbsp;<span class="num" id="7068251">33</span><span class="op" id="7068253">,</span>&nbsp;<span class="num" id="7068255">34</span><span class="op" id="7068257">,</span>&nbsp;<span class="num" id="7068259">34</span><span class="op" id="7068261">,</span>&nbsp;<span class="num" id="7068263">35</span><span class="op" id="7068265">,</span>&nbsp;<span class="num" id="7068267">35</span><span class="op" id="7068269">,</span>&nbsp;<span class="num" id="7068271">36</span><span class="op" id="7068273">)</span><span class="op" id="7068274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068277">}</span><span class="op" id="7068278">,</span><br>
<span class="lineno"></span><span class="op" id="7068280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7068283">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="7068361">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="7068421">func</span>&nbsp;<span class="ident" id="7068426">build</span><span class="op" id="7068431">(</span><span class="ident" id="7068432">n</span>&nbsp;<span class="builtintype" id="7068434">int</span><span class="op" id="7068437">,</span>&nbsp;<span class="ident" id="7068439">x</span>&nbsp;<span class="op" id="7068441">...</span><span class="builtintype" id="7068444">int</span><span class="op" id="7068447">)</span>&nbsp;<span class="op" id="7068449">[</span><span class="op" id="7068450">]</span><span class="op" id="7068451">[</span><span class="op" id="7068452">]</span><span class="builtintype" id="7068453">int</span>&nbsp;<span class="op" id="7068457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068460">ret</span>&nbsp;<span class="op" id="7068464">:=</span>&nbsp;<span class="builtinfunc" id="7068467">make</span><span class="op" id="7068471">(</span><span class="op" id="7068472">[</span><span class="op" id="7068473">]</span><span class="op" id="7068474">[</span><span class="op" id="7068475">]</span><span class="builtintype" id="7068476">int</span><span class="op" id="7068479">,</span>&nbsp;<span class="ident" id="7068481">n</span><span class="op" id="7068482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068485">runLength</span>&nbsp;<span class="op" id="7068495">:=</span>&nbsp;<span class="builtinfunc" id="7068498">len</span><span class="op" id="7068501">(</span><span class="ident" id="7068502">x</span><span class="op" id="7068503">)</span>&nbsp;<span class="op" id="7068505">/</span>&nbsp;<span class="ident" id="7068507">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068510">j</span>&nbsp;<span class="op" id="7068512">:=</span>&nbsp;<span class="num" id="7068515">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068518">for</span>&nbsp;<span class="ident" id="7068522">i</span>&nbsp;<span class="op" id="7068524">:=</span>&nbsp;<span class="keyword" id="7068527">range</span>&nbsp;<span class="ident" id="7068533">ret</span>&nbsp;<span class="op" id="7068537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068541">ret</span><span class="op" id="7068544">[</span><span class="ident" id="7068545">i</span><span class="op" id="7068546">]</span>&nbsp;<span class="op" id="7068548">=</span>&nbsp;<span class="builtinfunc" id="7068550">make</span><span class="op" id="7068554">(</span><span class="op" id="7068555">[</span><span class="op" id="7068556">]</span><span class="builtintype" id="7068557">int</span><span class="op" id="7068560">,</span>&nbsp;<span class="ident" id="7068562">runLength</span><span class="op" id="7068571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7068575">copy</span><span class="op" id="7068579">(</span><span class="ident" id="7068580">ret</span><span class="op" id="7068583">[</span><span class="ident" id="7068584">i</span><span class="op" id="7068585">]</span><span class="op" id="7068586">,</span>&nbsp;<span class="ident" id="7068588">x</span><span class="op" id="7068589">[</span><span class="ident" id="7068590">j</span><span class="op" id="7068591">:</span><span class="op" id="7068592">]</span><span class="op" id="7068593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068597">j</span>&nbsp;<span class="op" id="7068599">+=</span>&nbsp;<span class="ident" id="7068602">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068614">if</span>&nbsp;<span class="ident" id="7068617">j</span>&nbsp;<span class="op" id="7068619">&gt;</span>&nbsp;<span class="builtinfunc" id="7068621">len</span><span class="op" id="7068624">(</span><span class="ident" id="7068625">x</span><span class="op" id="7068626">)</span>&nbsp;<span class="op" id="7068628">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7068633">panic</span><span class="op" id="7068638">(</span><span class="string" id="7068639">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="7068660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068670">return</span>&nbsp;<span class="ident" id="7068677">ret</span><br>
<span class="lineno"></span><span class="op" id="7068681">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="7068684">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7068712">func</span>&nbsp;<span class="ident" id="7068717">TestFind</span><span class="op" id="7068725">(</span><span class="ident" id="7068726">t</span>&nbsp;<span class="op" id="7068728">*</span><span class="ident" id="7068729">testing</span><span class="op" id="7068736">.</span><span class="ident" id="7068737">T</span><span class="op" id="7068738">)</span>&nbsp;<span class="op" id="7068740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068743">for</span>&nbsp;<span class="ident" id="7068747">_</span><span class="op" id="7068748">,</span>&nbsp;<span class="ident" id="7068750">test</span>&nbsp;<span class="op" id="7068755">:=</span>&nbsp;<span class="keyword" id="7068758">range</span>&nbsp;<span class="ident" id="7068764">findTests</span>&nbsp;<span class="op" id="7068774">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068778">re</span>&nbsp;<span class="op" id="7068781">:=</span>&nbsp;<span class="ident" id="7068784">MustCompile</span><span class="op" id="7068795">(</span><span class="ident" id="7068796">test</span><span class="op" id="7068800">.</span><span class="ident" id="7068801">pat</span><span class="op" id="7068804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068808">if</span>&nbsp;<span class="ident" id="7068811">re</span><span class="op" id="7068813">.</span><span class="ident" id="7068814">String</span><span class="op" id="7068820">(</span><span class="op" id="7068821">)</span>&nbsp;<span class="op" id="7068823">!=</span>&nbsp;<span class="ident" id="7068826">test</span><span class="op" id="7068830">.</span><span class="ident" id="7068831">pat</span>&nbsp;<span class="op" id="7068835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068840">t</span><span class="op" id="7068841">.</span><span class="ident" id="7068842">Errorf</span><span class="op" id="7068848">(</span><span class="string" id="7068849">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="7068882">,</span>&nbsp;<span class="ident" id="7068884">re</span><span class="op" id="7068886">.</span><span class="ident" id="7068887">String</span><span class="op" id="7068893">(</span><span class="op" id="7068894">)</span><span class="op" id="7068895">,</span>&nbsp;<span class="ident" id="7068897">test</span><span class="op" id="7068901">.</span><span class="ident" id="7068902">pat</span><span class="op" id="7068905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7068909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7068913">result</span>&nbsp;<span class="op" id="7068920">:=</span>&nbsp;<span class="ident" id="7068923">re</span><span class="op" id="7068925">.</span><span class="ident" id="7068926">Find</span><span class="op" id="7068930">(</span><span class="op" id="7068931">[</span><span class="op" id="7068932">]</span><span class="builtintype" id="7068933">byte</span><span class="op" id="7068937">(</span><span class="ident" id="7068938">test</span><span class="op" id="7068942">.</span><span class="ident" id="7068943">text</span><span class="op" id="7068947">)</span><span class="op" id="7068948">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068952">switch</span>&nbsp;<span class="op" id="7068959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7068963">case</span>&nbsp;<span class="builtinfunc" id="7068968">len</span><span class="op" id="7068971">(</span><span class="ident" id="7068972">test</span><span class="op" id="7068976">.</span><span class="ident" id="7068977">matches</span><span class="op" id="7068984">)</span>&nbsp;<span class="op" id="7068986">==</span>&nbsp;<span class="num" id="7068989">0</span>&nbsp;<span class="op" id="7068991">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7068994">len</span><span class="op" id="7068997">(</span><span class="ident" id="7068998">result</span><span class="op" id="7069004">)</span>&nbsp;<span class="op" id="7069006">==</span>&nbsp;<span class="num" id="7069009">0</span><span class="op" id="7069010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069015">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069023">case</span>&nbsp;<span class="ident" id="7069028">test</span><span class="op" id="7069032">.</span><span class="ident" id="7069033">matches</span>&nbsp;<span class="op" id="7069041">==</span>&nbsp;<span class="ident" id="7069044">nil</span>&nbsp;<span class="op" id="7069048">&amp;&amp;</span>&nbsp;<span class="ident" id="7069051">result</span>&nbsp;<span class="op" id="7069058">!=</span>&nbsp;<span class="ident" id="7069061">nil</span><span class="op" id="7069064">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069069">t</span><span class="op" id="7069070">.</span><span class="ident" id="7069071">Errorf</span><span class="op" id="7069077">(</span><span class="string" id="7069078">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7069110">,</span>&nbsp;<span class="ident" id="7069112">test</span><span class="op" id="7069116">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069120">case</span>&nbsp;<span class="ident" id="7069125">test</span><span class="op" id="7069129">.</span><span class="ident" id="7069130">matches</span>&nbsp;<span class="op" id="7069138">!=</span>&nbsp;<span class="ident" id="7069141">nil</span>&nbsp;<span class="op" id="7069145">&amp;&amp;</span>&nbsp;<span class="ident" id="7069148">result</span>&nbsp;<span class="op" id="7069155">==</span>&nbsp;<span class="ident" id="7069158">nil</span><span class="op" id="7069161">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069166">t</span><span class="op" id="7069167">.</span><span class="ident" id="7069168">Errorf</span><span class="op" id="7069174">(</span><span class="string" id="7069175">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7069205">,</span>&nbsp;<span class="ident" id="7069207">test</span><span class="op" id="7069211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069215">case</span>&nbsp;<span class="ident" id="7069220">test</span><span class="op" id="7069224">.</span><span class="ident" id="7069225">matches</span>&nbsp;<span class="op" id="7069233">!=</span>&nbsp;<span class="ident" id="7069236">nil</span>&nbsp;<span class="op" id="7069240">&amp;&amp;</span>&nbsp;<span class="ident" id="7069243">result</span>&nbsp;<span class="op" id="7069250">!=</span>&nbsp;<span class="ident" id="7069253">nil</span><span class="op" id="7069256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069261">expect</span>&nbsp;<span class="op" id="7069268">:=</span>&nbsp;<span class="ident" id="7069271">test</span><span class="op" id="7069275">.</span><span class="ident" id="7069276">text</span><span class="op" id="7069280">[</span><span class="ident" id="7069281">test</span><span class="op" id="7069285">.</span><span class="ident" id="7069286">matches</span><span class="op" id="7069293">[</span><span class="num" id="7069294">0</span><span class="op" id="7069295">]</span><span class="op" id="7069296">[</span><span class="num" id="7069297">0</span><span class="op" id="7069298">]</span><span class="op" id="7069299">:</span><span class="ident" id="7069300">test</span><span class="op" id="7069304">.</span><span class="ident" id="7069305">matches</span><span class="op" id="7069312">[</span><span class="num" id="7069313">0</span><span class="op" id="7069314">]</span><span class="op" id="7069315">[</span><span class="num" id="7069316">1</span><span class="op" id="7069317">]</span><span class="op" id="7069318">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069323">if</span>&nbsp;<span class="ident" id="7069326">expect</span>&nbsp;<span class="op" id="7069333">!=</span>&nbsp;<span class="builtintype" id="7069336">string</span><span class="op" id="7069342">(</span><span class="ident" id="7069343">result</span><span class="op" id="7069349">)</span>&nbsp;<span class="op" id="7069351">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069357">t</span><span class="op" id="7069358">.</span><span class="ident" id="7069359">Errorf</span><span class="op" id="7069365">(</span><span class="string" id="7069366">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7069390">,</span>&nbsp;<span class="ident" id="7069392">expect</span><span class="op" id="7069398">,</span>&nbsp;<span class="ident" id="7069400">result</span><span class="op" id="7069406">,</span>&nbsp;<span class="ident" id="7069408">test</span><span class="op" id="7069412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069424">}</span><br>
<span class="lineno"></span><span class="op" id="7069426">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="7069429">func</span>&nbsp;<span class="ident" id="7069434">TestFindString</span><span class="op" id="7069448">(</span><span class="ident" id="7069449">t</span>&nbsp;<span class="op" id="7069451">*</span><span class="ident" id="7069452">testing</span><span class="op" id="7069459">.</span><span class="ident" id="7069460">T</span><span class="op" id="7069461">)</span>&nbsp;<span class="op" id="7069463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069466">for</span>&nbsp;<span class="ident" id="7069470">_</span><span class="op" id="7069471">,</span>&nbsp;<span class="ident" id="7069473">test</span>&nbsp;<span class="op" id="7069478">:=</span>&nbsp;<span class="keyword" id="7069481">range</span>&nbsp;<span class="ident" id="7069487">findTests</span>&nbsp;<span class="op" id="7069497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069501">result</span>&nbsp;<span class="op" id="7069508">:=</span>&nbsp;<span class="ident" id="7069511">MustCompile</span><span class="op" id="7069522">(</span><span class="ident" id="7069523">test</span><span class="op" id="7069527">.</span><span class="ident" id="7069528">pat</span><span class="op" id="7069531">)</span><span class="op" id="7069532">.</span><span class="ident" id="7069533">FindString</span><span class="op" id="7069543">(</span><span class="ident" id="7069544">test</span><span class="op" id="7069548">.</span><span class="ident" id="7069549">text</span><span class="op" id="7069553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069557">switch</span>&nbsp;<span class="op" id="7069564">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069568">case</span>&nbsp;<span class="builtinfunc" id="7069573">len</span><span class="op" id="7069576">(</span><span class="ident" id="7069577">test</span><span class="op" id="7069581">.</span><span class="ident" id="7069582">matches</span><span class="op" id="7069589">)</span>&nbsp;<span class="op" id="7069591">==</span>&nbsp;<span class="num" id="7069594">0</span>&nbsp;<span class="op" id="7069596">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7069599">len</span><span class="op" id="7069602">(</span><span class="ident" id="7069603">result</span><span class="op" id="7069609">)</span>&nbsp;<span class="op" id="7069611">==</span>&nbsp;<span class="num" id="7069614">0</span><span class="op" id="7069615">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069620">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069628">case</span>&nbsp;<span class="ident" id="7069633">test</span><span class="op" id="7069637">.</span><span class="ident" id="7069638">matches</span>&nbsp;<span class="op" id="7069646">==</span>&nbsp;<span class="ident" id="7069649">nil</span>&nbsp;<span class="op" id="7069653">&amp;&amp;</span>&nbsp;<span class="ident" id="7069656">result</span>&nbsp;<span class="op" id="7069663">!=</span>&nbsp;<span class="string" id="7069666">&#34;&#34;</span><span class="op" id="7069668">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069673">t</span><span class="op" id="7069674">.</span><span class="ident" id="7069675">Errorf</span><span class="op" id="7069681">(</span><span class="string" id="7069682">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7069714">,</span>&nbsp;<span class="ident" id="7069716">test</span><span class="op" id="7069720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069724">case</span>&nbsp;<span class="ident" id="7069729">test</span><span class="op" id="7069733">.</span><span class="ident" id="7069734">matches</span>&nbsp;<span class="op" id="7069742">!=</span>&nbsp;<span class="ident" id="7069745">nil</span>&nbsp;<span class="op" id="7069749">&amp;&amp;</span>&nbsp;<span class="ident" id="7069752">result</span>&nbsp;<span class="op" id="7069759">==</span>&nbsp;<span class="string" id="7069762">&#34;&#34;</span><span class="op" id="7069764">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7069769">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069849">if</span>&nbsp;<span class="ident" id="7069852">test</span><span class="op" id="7069856">.</span><span class="ident" id="7069857">matches</span><span class="op" id="7069864">[</span><span class="num" id="7069865">0</span><span class="op" id="7069866">]</span><span class="op" id="7069867">[</span><span class="num" id="7069868">0</span><span class="op" id="7069869">]</span>&nbsp;<span class="op" id="7069871">!=</span>&nbsp;<span class="ident" id="7069874">test</span><span class="op" id="7069878">.</span><span class="ident" id="7069879">matches</span><span class="op" id="7069886">[</span><span class="num" id="7069887">0</span><span class="op" id="7069888">]</span><span class="op" id="7069889">[</span><span class="num" id="7069890">1</span><span class="op" id="7069891">]</span>&nbsp;<span class="op" id="7069893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069899">t</span><span class="op" id="7069900">.</span><span class="ident" id="7069901">Errorf</span><span class="op" id="7069907">(</span><span class="string" id="7069908">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7069938">,</span>&nbsp;<span class="ident" id="7069940">test</span><span class="op" id="7069944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7069949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7069953">case</span>&nbsp;<span class="ident" id="7069958">test</span><span class="op" id="7069962">.</span><span class="ident" id="7069963">matches</span>&nbsp;<span class="op" id="7069971">!=</span>&nbsp;<span class="ident" id="7069974">nil</span>&nbsp;<span class="op" id="7069978">&amp;&amp;</span>&nbsp;<span class="ident" id="7069981">result</span>&nbsp;<span class="op" id="7069988">!=</span>&nbsp;<span class="string" id="7069991">&#34;&#34;</span><span class="op" id="7069993">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7069998">expect</span>&nbsp;<span class="op" id="7070005">:=</span>&nbsp;<span class="ident" id="7070008">test</span><span class="op" id="7070012">.</span><span class="ident" id="7070013">text</span><span class="op" id="7070017">[</span><span class="ident" id="7070018">test</span><span class="op" id="7070022">.</span><span class="ident" id="7070023">matches</span><span class="op" id="7070030">[</span><span class="num" id="7070031">0</span><span class="op" id="7070032">]</span><span class="op" id="7070033">[</span><span class="num" id="7070034">0</span><span class="op" id="7070035">]</span><span class="op" id="7070036">:</span><span class="ident" id="7070037">test</span><span class="op" id="7070041">.</span><span class="ident" id="7070042">matches</span><span class="op" id="7070049">[</span><span class="num" id="7070050">0</span><span class="op" id="7070051">]</span><span class="op" id="7070052">[</span><span class="num" id="7070053">1</span><span class="op" id="7070054">]</span><span class="op" id="7070055">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070060">if</span>&nbsp;<span class="ident" id="7070063">expect</span>&nbsp;<span class="op" id="7070070">!=</span>&nbsp;<span class="ident" id="7070073">result</span>&nbsp;<span class="op" id="7070080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070086">t</span><span class="op" id="7070087">.</span><span class="ident" id="7070088">Errorf</span><span class="op" id="7070094">(</span><span class="string" id="7070095">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7070119">,</span>&nbsp;<span class="ident" id="7070121">expect</span><span class="op" id="7070127">,</span>&nbsp;<span class="ident" id="7070129">result</span><span class="op" id="7070135">,</span>&nbsp;<span class="ident" id="7070137">test</span><span class="op" id="7070141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070150">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070153">}</span><br>
<span class="lineno"></span><span class="op" id="7070155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7070158">func</span>&nbsp;<span class="ident" id="7070163">testFindIndex</span><span class="op" id="7070176">(</span><span class="ident" id="7070177">test</span>&nbsp;<span class="op" id="7070182">*</span><span class="ident" id="7070183">FindTest</span><span class="op" id="7070191">,</span>&nbsp;<span class="ident" id="7070193">result</span>&nbsp;<span class="op" id="7070200">[</span><span class="op" id="7070201">]</span><span class="builtintype" id="7070202">int</span><span class="op" id="7070205">,</span>&nbsp;<span class="ident" id="7070207">t</span>&nbsp;<span class="op" id="7070209">*</span><span class="ident" id="7070210">testing</span><span class="op" id="7070217">.</span><span class="ident" id="7070218">T</span><span class="op" id="7070219">)</span>&nbsp;<span class="op" id="7070221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070224">switch</span>&nbsp;<span class="op" id="7070231">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070234">case</span>&nbsp;<span class="builtinfunc" id="7070239">len</span><span class="op" id="7070242">(</span><span class="ident" id="7070243">test</span><span class="op" id="7070247">.</span><span class="ident" id="7070248">matches</span><span class="op" id="7070255">)</span>&nbsp;<span class="op" id="7070257">==</span>&nbsp;<span class="num" id="7070260">0</span>&nbsp;<span class="op" id="7070262">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="7070265">len</span><span class="op" id="7070268">(</span><span class="ident" id="7070269">result</span><span class="op" id="7070275">)</span>&nbsp;<span class="op" id="7070277">==</span>&nbsp;<span class="num" id="7070280">0</span><span class="op" id="7070281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7070285">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070292">case</span>&nbsp;<span class="ident" id="7070297">test</span><span class="op" id="7070301">.</span><span class="ident" id="7070302">matches</span>&nbsp;<span class="op" id="7070310">==</span>&nbsp;<span class="ident" id="7070313">nil</span>&nbsp;<span class="op" id="7070317">&amp;&amp;</span>&nbsp;<span class="ident" id="7070320">result</span>&nbsp;<span class="op" id="7070327">!=</span>&nbsp;<span class="ident" id="7070330">nil</span><span class="op" id="7070333">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070337">t</span><span class="op" id="7070338">.</span><span class="ident" id="7070339">Errorf</span><span class="op" id="7070345">(</span><span class="string" id="7070346">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7070378">,</span>&nbsp;<span class="ident" id="7070380">test</span><span class="op" id="7070384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070387">case</span>&nbsp;<span class="ident" id="7070392">test</span><span class="op" id="7070396">.</span><span class="ident" id="7070397">matches</span>&nbsp;<span class="op" id="7070405">!=</span>&nbsp;<span class="ident" id="7070408">nil</span>&nbsp;<span class="op" id="7070412">&amp;&amp;</span>&nbsp;<span class="ident" id="7070415">result</span>&nbsp;<span class="op" id="7070422">==</span>&nbsp;<span class="ident" id="7070425">nil</span><span class="op" id="7070428">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070432">t</span><span class="op" id="7070433">.</span><span class="ident" id="7070434">Errorf</span><span class="op" id="7070440">(</span><span class="string" id="7070441">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7070471">,</span>&nbsp;<span class="ident" id="7070473">test</span><span class="op" id="7070477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070480">case</span>&nbsp;<span class="ident" id="7070485">test</span><span class="op" id="7070489">.</span><span class="ident" id="7070490">matches</span>&nbsp;<span class="op" id="7070498">!=</span>&nbsp;<span class="ident" id="7070501">nil</span>&nbsp;<span class="op" id="7070505">&amp;&amp;</span>&nbsp;<span class="ident" id="7070508">result</span>&nbsp;<span class="op" id="7070515">!=</span>&nbsp;<span class="ident" id="7070518">nil</span><span class="op" id="7070521">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070525">expect</span>&nbsp;<span class="op" id="7070532">:=</span>&nbsp;<span class="ident" id="7070535">test</span><span class="op" id="7070539">.</span><span class="ident" id="7070540">matches</span><span class="op" id="7070547">[</span><span class="num" id="7070548">0</span><span class="op" id="7070549">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070553">if</span>&nbsp;<span class="ident" id="7070556">expect</span><span class="op" id="7070562">[</span><span class="num" id="7070563">0</span><span class="op" id="7070564">]</span>&nbsp;<span class="op" id="7070566">!=</span>&nbsp;<span class="ident" id="7070569">result</span><span class="op" id="7070575">[</span><span class="num" id="7070576">0</span><span class="op" id="7070577">]</span>&nbsp;<span class="op" id="7070579">||</span>&nbsp;<span class="ident" id="7070582">expect</span><span class="op" id="7070588">[</span><span class="num" id="7070589">1</span><span class="op" id="7070590">]</span>&nbsp;<span class="op" id="7070592">!=</span>&nbsp;<span class="ident" id="7070595">result</span><span class="op" id="7070601">[</span><span class="num" id="7070602">1</span><span class="op" id="7070603">]</span>&nbsp;<span class="op" id="7070605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070610">t</span><span class="op" id="7070611">.</span><span class="ident" id="7070612">Errorf</span><span class="op" id="7070618">(</span><span class="string" id="7070619">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7070643">,</span>&nbsp;<span class="ident" id="7070645">expect</span><span class="op" id="7070651">,</span>&nbsp;<span class="ident" id="7070653">result</span><span class="op" id="7070659">,</span>&nbsp;<span class="ident" id="7070661">test</span><span class="op" id="7070665">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070672">}</span><br>
<span class="lineno"></span><span class="op" id="7070674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7070677">func</span>&nbsp;<span class="ident" id="7070682">TestFindIndex</span><span class="op" id="7070695">(</span><span class="ident" id="7070696">t</span>&nbsp;<span class="op" id="7070698">*</span><span class="ident" id="7070699">testing</span><span class="op" id="7070706">.</span><span class="ident" id="7070707">T</span><span class="op" id="7070708">)</span>&nbsp;<span class="op" id="7070710">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070713">for</span>&nbsp;<span class="ident" id="7070717">_</span><span class="op" id="7070718">,</span>&nbsp;<span class="ident" id="7070720">test</span>&nbsp;<span class="op" id="7070725">:=</span>&nbsp;<span class="keyword" id="7070728">range</span>&nbsp;<span class="ident" id="7070734">findTests</span>&nbsp;<span class="op" id="7070744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070748">testFindIndex</span><span class="op" id="7070761">(</span><span class="op" id="7070762">&amp;</span><span class="ident" id="7070763">test</span><span class="op" id="7070767">,</span>&nbsp;<span class="ident" id="7070769">MustCompile</span><span class="op" id="7070780">(</span><span class="ident" id="7070781">test</span><span class="op" id="7070785">.</span><span class="ident" id="7070786">pat</span><span class="op" id="7070789">)</span><span class="op" id="7070790">.</span><span class="ident" id="7070791">FindIndex</span><span class="op" id="7070800">(</span><span class="op" id="7070801">[</span><span class="op" id="7070802">]</span><span class="builtintype" id="7070803">byte</span><span class="op" id="7070807">(</span><span class="ident" id="7070808">test</span><span class="op" id="7070812">.</span><span class="ident" id="7070813">text</span><span class="op" id="7070817">)</span><span class="op" id="7070818">)</span><span class="op" id="7070819">,</span>&nbsp;<span class="ident" id="7070821">t</span><span class="op" id="7070822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070825">}</span><br>
<span class="lineno"></span><span class="op" id="7070827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7070830">func</span>&nbsp;<span class="ident" id="7070835">TestFindStringIndex</span><span class="op" id="7070854">(</span><span class="ident" id="7070855">t</span>&nbsp;<span class="op" id="7070857">*</span><span class="ident" id="7070858">testing</span><span class="op" id="7070865">.</span><span class="ident" id="7070866">T</span><span class="op" id="7070867">)</span>&nbsp;<span class="op" id="7070869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7070872">for</span>&nbsp;<span class="ident" id="7070876">_</span><span class="op" id="7070877">,</span>&nbsp;<span class="ident" id="7070879">test</span>&nbsp;<span class="op" id="7070884">:=</span>&nbsp;<span class="keyword" id="7070887">range</span>&nbsp;<span class="ident" id="7070893">findTests</span>&nbsp;<span class="op" id="7070903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7070907">testFindIndex</span><span class="op" id="7070920">(</span><span class="op" id="7070921">&amp;</span><span class="ident" id="7070922">test</span><span class="op" id="7070926">,</span>&nbsp;<span class="ident" id="7070928">MustCompile</span><span class="op" id="7070939">(</span><span class="ident" id="7070940">test</span><span class="op" id="7070944">.</span><span class="ident" id="7070945">pat</span><span class="op" id="7070948">)</span><span class="op" id="7070949">.</span><span class="ident" id="7070950">FindStringIndex</span><span class="op" id="7070965">(</span><span class="ident" id="7070966">test</span><span class="op" id="7070970">.</span><span class="ident" id="7070971">text</span><span class="op" id="7070975">)</span><span class="op" id="7070976">,</span>&nbsp;<span class="ident" id="7070978">t</span><span class="op" id="7070979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7070982">}</span><br>
<span class="lineno"></span><span class="op" id="7070984">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="7070987">func</span>&nbsp;<span class="ident" id="7070992">TestFindReaderIndex</span><span class="op" id="7071011">(</span><span class="ident" id="7071012">t</span>&nbsp;<span class="op" id="7071014">*</span><span class="ident" id="7071015">testing</span><span class="op" id="7071022">.</span><span class="ident" id="7071023">T</span><span class="op" id="7071024">)</span>&nbsp;<span class="op" id="7071026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071029">for</span>&nbsp;<span class="ident" id="7071033">_</span><span class="op" id="7071034">,</span>&nbsp;<span class="ident" id="7071036">test</span>&nbsp;<span class="op" id="7071041">:=</span>&nbsp;<span class="keyword" id="7071044">range</span>&nbsp;<span class="ident" id="7071050">findTests</span>&nbsp;<span class="op" id="7071060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7071064">testFindIndex</span><span class="op" id="7071077">(</span><span class="op" id="7071078">&amp;</span><span class="ident" id="7071079">test</span><span class="op" id="7071083">,</span>&nbsp;<span class="ident" id="7071085">MustCompile</span><span class="op" id="7071096">(</span><span class="ident" id="7071097">test</span><span class="op" id="7071101">.</span><span class="ident" id="7071102">pat</span><span class="op" id="7071105">)</span><span class="op" id="7071106">.</span><span class="ident" id="7071107">FindReaderIndex</span><span class="op" id="7071122">(</span><span class="ident" id="7071123">strings</span><span class="op" id="7071130">.</span><span class="ident" id="7071131">NewReader</span><span class="op" id="7071140">(</span><span class="ident" id="7071141">test</span><span class="op" id="7071145">.</span><span class="ident" id="7071146">text</span><span class="op" id="7071150">)</span><span class="op" id="7071151">)</span><span class="op" id="7071152">,</span>&nbsp;<span class="ident" id="7071154">t</span><span class="op" id="7071155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071158">}</span><br>
<span class="lineno">225</span><span class="op" id="7071160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7071163">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7071198">func</span>&nbsp;<span class="ident" id="7071203">TestFindAll</span><span class="op" id="7071214">(</span><span class="ident" id="7071215">t</span>&nbsp;<span class="op" id="7071217">*</span><span class="ident" id="7071218">testing</span><span class="op" id="7071225">.</span><span class="ident" id="7071226">T</span><span class="op" id="7071227">)</span>&nbsp;<span class="op" id="7071229">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071232">for</span>&nbsp;<span class="ident" id="7071236">_</span><span class="op" id="7071237">,</span>&nbsp;<span class="ident" id="7071239">test</span>&nbsp;<span class="op" id="7071244">:=</span>&nbsp;<span class="keyword" id="7071247">range</span>&nbsp;<span class="ident" id="7071253">findTests</span>&nbsp;<span class="op" id="7071263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7071267">result</span>&nbsp;<span class="op" id="7071274">:=</span>&nbsp;<span class="ident" id="7071277">MustCompile</span><span class="op" id="7071288">(</span><span class="ident" id="7071289">test</span><span class="op" id="7071293">.</span><span class="ident" id="7071294">pat</span><span class="op" id="7071297">)</span><span class="op" id="7071298">.</span><span class="ident" id="7071299">FindAll</span><span class="op" id="7071306">(</span><span class="op" id="7071307">[</span><span class="op" id="7071308">]</span><span class="builtintype" id="7071309">byte</span><span class="op" id="7071313">(</span><span class="ident" id="7071314">test</span><span class="op" id="7071318">.</span><span class="ident" id="7071319">text</span><span class="op" id="7071323">)</span><span class="op" id="7071324">,</span>&nbsp;<span class="op" id="7071326">-</span><span class="num" id="7071327">1</span><span class="op" id="7071328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071332">switch</span>&nbsp;<span class="op" id="7071339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071343">case</span>&nbsp;<span class="ident" id="7071348">test</span><span class="op" id="7071352">.</span><span class="ident" id="7071353">matches</span>&nbsp;<span class="op" id="7071361">==</span>&nbsp;<span class="ident" id="7071364">nil</span>&nbsp;<span class="op" id="7071368">&amp;&amp;</span>&nbsp;<span class="ident" id="7071371">result</span>&nbsp;<span class="op" id="7071378">==</span>&nbsp;<span class="ident" id="7071381">nil</span><span class="op" id="7071384">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7071389">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071397">case</span>&nbsp;<span class="ident" id="7071402">test</span><span class="op" id="7071406">.</span><span class="ident" id="7071407">matches</span>&nbsp;<span class="op" id="7071415">==</span>&nbsp;<span class="ident" id="7071418">nil</span>&nbsp;<span class="op" id="7071422">&amp;&amp;</span>&nbsp;<span class="ident" id="7071425">result</span>&nbsp;<span class="op" id="7071432">!=</span>&nbsp;<span class="ident" id="7071435">nil</span><span class="op" id="7071438">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7071443">t</span><span class="op" id="7071444">.</span><span class="ident" id="7071445">Errorf</span><span class="op" id="7071451">(</span><span class="string" id="7071452">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7071484">,</span>&nbsp;<span class="ident" id="7071486">test</span><span class="op" id="7071490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071494">case</span>&nbsp;<span class="ident" id="7071499">test</span><span class="op" id="7071503">.</span><span class="ident" id="7071504">matches</span>&nbsp;<span class="op" id="7071512">!=</span>&nbsp;<span class="ident" id="7071515">nil</span>&nbsp;<span class="op" id="7071519">&amp;&amp;</span>&nbsp;<span class="ident" id="7071522">result</span>&nbsp;<span class="op" id="7071529">==</span>&nbsp;<span class="ident" id="7071532">nil</span><span class="op" id="7071535">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7071540">t</span><span class="op" id="7071541">.</span><span class="ident" id="7071542">Fatalf</span><span class="op" id="7071548">(</span><span class="string" id="7071549">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7071579">,</span>&nbsp;<span class="ident" id="7071581">test</span><span class="op" id="7071585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071589">case</span>&nbsp;<span class="ident" id="7071594">test</span><span class="op" id="7071598">.</span><span class="ident" id="7071599">matches</span>&nbsp;<span class="op" id="7071607">!=</span>&nbsp;<span class="ident" id="7071610">nil</span>&nbsp;<span class="op" id="7071614">&amp;&amp;</span>&nbsp;<span class="ident" id="7071617">result</span>&nbsp;<span class="op" id="7071624">!=</span>&nbsp;<span class="ident" id="7071627">nil</span><span class="op" id="7071630">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071635">if</span>&nbsp;<span class="builtinfunc" id="7071638">len</span><span class="op" id="7071641">(</span><span class="ident" id="7071642">test</span><span class="op" id="7071646">.</span><span class="ident" id="7071647">matches</span><span class="op" id="7071654">)</span>&nbsp;<span class="op" id="7071656">!=</span>&nbsp;<span class="builtinfunc" id="7071659">len</span><span class="op" id="7071662">(</span><span class="ident" id="7071663">result</span><span class="op" id="7071669">)</span>&nbsp;<span class="op" id="7071671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7071677">t</span><span class="op" id="7071678">.</span><span class="ident" id="7071679">Errorf</span><span class="op" id="7071685">(</span><span class="string" id="7071686">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7071719">,</span>&nbsp;<span class="builtinfunc" id="7071721">len</span><span class="op" id="7071724">(</span><span class="ident" id="7071725">test</span><span class="op" id="7071729">.</span><span class="ident" id="7071730">matches</span><span class="op" id="7071737">)</span><span class="op" id="7071738">,</span>&nbsp;<span class="builtinfunc" id="7071740">len</span><span class="op" id="7071743">(</span><span class="ident" id="7071744">result</span><span class="op" id="7071750">)</span><span class="op" id="7071751">,</span>&nbsp;<span class="ident" id="7071753">test</span><span class="op" id="7071757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071763">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071780">for</span>&nbsp;<span class="ident" id="7071784">k</span><span class="op" id="7071785">,</span>&nbsp;<span class="ident" id="7071787">e</span>&nbsp;<span class="op" id="7071789">:=</span>&nbsp;<span class="keyword" id="7071792">range</span>&nbsp;<span class="ident" id="7071798">test</span><span class="op" id="7071802">.</span><span class="ident" id="7071803">matches</span>&nbsp;<span class="op" id="7071811">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7071817">expect</span>&nbsp;<span class="op" id="7071824">:=</span>&nbsp;<span class="ident" id="7071827">test</span><span class="op" id="7071831">.</span><span class="ident" id="7071832">text</span><span class="op" id="7071836">[</span><span class="ident" id="7071837">e</span><span class="op" id="7071838">[</span><span class="num" id="7071839">0</span><span class="op" id="7071840">]</span><span class="op" id="7071841">:</span><span class="ident" id="7071842">e</span><span class="op" id="7071843">[</span><span class="num" id="7071844">1</span><span class="op" id="7071845">]</span><span class="op" id="7071846">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7071852">if</span>&nbsp;<span class="ident" id="7071855">expect</span>&nbsp;<span class="op" id="7071862">!=</span>&nbsp;<span class="builtintype" id="7071865">string</span><span class="op" id="7071871">(</span><span class="ident" id="7071872">result</span><span class="op" id="7071878">[</span><span class="ident" id="7071879">k</span><span class="op" id="7071880">]</span><span class="op" id="7071881">)</span>&nbsp;<span class="op" id="7071883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7071890">t</span><span class="op" id="7071891">.</span><span class="ident" id="7071892">Errorf</span><span class="op" id="7071898">(</span><span class="string" id="7071899">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7071933">,</span>&nbsp;<span class="ident" id="7071935">k</span><span class="op" id="7071936">,</span>&nbsp;<span class="ident" id="7071938">expect</span><span class="op" id="7071944">,</span>&nbsp;<span class="ident" id="7071946">result</span><span class="op" id="7071952">[</span><span class="ident" id="7071953">k</span><span class="op" id="7071954">]</span><span class="op" id="7071955">,</span>&nbsp;<span class="ident" id="7071957">test</span><span class="op" id="7071961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071972">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7071979">}</span><br>
<span class="lineno"></span><span class="op" id="7071981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7071984">func</span>&nbsp;<span class="ident" id="7071989">TestFindAllString</span><span class="op" id="7072006">(</span><span class="ident" id="7072007">t</span>&nbsp;<span class="op" id="7072009">*</span><span class="ident" id="7072010">testing</span><span class="op" id="7072017">.</span><span class="ident" id="7072018">T</span><span class="op" id="7072019">)</span>&nbsp;<span class="op" id="7072021">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072024">for</span>&nbsp;<span class="ident" id="7072028">_</span><span class="op" id="7072029">,</span>&nbsp;<span class="ident" id="7072031">test</span>&nbsp;<span class="op" id="7072036">:=</span>&nbsp;<span class="keyword" id="7072039">range</span>&nbsp;<span class="ident" id="7072045">findTests</span>&nbsp;<span class="op" id="7072055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7072059">result</span>&nbsp;<span class="op" id="7072066">:=</span>&nbsp;<span class="ident" id="7072069">MustCompile</span><span class="op" id="7072080">(</span><span class="ident" id="7072081">test</span><span class="op" id="7072085">.</span><span class="ident" id="7072086">pat</span><span class="op" id="7072089">)</span><span class="op" id="7072090">.</span><span class="ident" id="7072091">FindAllString</span><span class="op" id="7072104">(</span><span class="ident" id="7072105">test</span><span class="op" id="7072109">.</span><span class="ident" id="7072110">text</span><span class="op" id="7072114">,</span>&nbsp;<span class="op" id="7072116">-</span><span class="num" id="7072117">1</span><span class="op" id="7072118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072122">switch</span>&nbsp;<span class="op" id="7072129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072133">case</span>&nbsp;<span class="ident" id="7072138">test</span><span class="op" id="7072142">.</span><span class="ident" id="7072143">matches</span>&nbsp;<span class="op" id="7072151">==</span>&nbsp;<span class="ident" id="7072154">nil</span>&nbsp;<span class="op" id="7072158">&amp;&amp;</span>&nbsp;<span class="ident" id="7072161">result</span>&nbsp;<span class="op" id="7072168">==</span>&nbsp;<span class="ident" id="7072171">nil</span><span class="op" id="7072174">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072179">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072187">case</span>&nbsp;<span class="ident" id="7072192">test</span><span class="op" id="7072196">.</span><span class="ident" id="7072197">matches</span>&nbsp;<span class="op" id="7072205">==</span>&nbsp;<span class="ident" id="7072208">nil</span>&nbsp;<span class="op" id="7072212">&amp;&amp;</span>&nbsp;<span class="ident" id="7072215">result</span>&nbsp;<span class="op" id="7072222">!=</span>&nbsp;<span class="ident" id="7072225">nil</span><span class="op" id="7072228">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7072233">t</span><span class="op" id="7072234">.</span><span class="ident" id="7072235">Errorf</span><span class="op" id="7072241">(</span><span class="string" id="7072242">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7072274">,</span>&nbsp;<span class="ident" id="7072276">test</span><span class="op" id="7072280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072284">case</span>&nbsp;<span class="ident" id="7072289">test</span><span class="op" id="7072293">.</span><span class="ident" id="7072294">matches</span>&nbsp;<span class="op" id="7072302">!=</span>&nbsp;<span class="ident" id="7072305">nil</span>&nbsp;<span class="op" id="7072309">&amp;&amp;</span>&nbsp;<span class="ident" id="7072312">result</span>&nbsp;<span class="op" id="7072319">==</span>&nbsp;<span class="ident" id="7072322">nil</span><span class="op" id="7072325">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7072330">t</span><span class="op" id="7072331">.</span><span class="ident" id="7072332">Errorf</span><span class="op" id="7072338">(</span><span class="string" id="7072339">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7072369">,</span>&nbsp;<span class="ident" id="7072371">test</span><span class="op" id="7072375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072379">case</span>&nbsp;<span class="ident" id="7072384">test</span><span class="op" id="7072388">.</span><span class="ident" id="7072389">matches</span>&nbsp;<span class="op" id="7072397">!=</span>&nbsp;<span class="ident" id="7072400">nil</span>&nbsp;<span class="op" id="7072404">&amp;&amp;</span>&nbsp;<span class="ident" id="7072407">result</span>&nbsp;<span class="op" id="7072414">!=</span>&nbsp;<span class="ident" id="7072417">nil</span><span class="op" id="7072420">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072425">if</span>&nbsp;<span class="builtinfunc" id="7072428">len</span><span class="op" id="7072431">(</span><span class="ident" id="7072432">test</span><span class="op" id="7072436">.</span><span class="ident" id="7072437">matches</span><span class="op" id="7072444">)</span>&nbsp;<span class="op" id="7072446">!=</span>&nbsp;<span class="builtinfunc" id="7072449">len</span><span class="op" id="7072452">(</span><span class="ident" id="7072453">result</span><span class="op" id="7072459">)</span>&nbsp;<span class="op" id="7072461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7072467">t</span><span class="op" id="7072468">.</span><span class="ident" id="7072469">Errorf</span><span class="op" id="7072475">(</span><span class="string" id="7072476">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7072509">,</span>&nbsp;<span class="builtinfunc" id="7072511">len</span><span class="op" id="7072514">(</span><span class="ident" id="7072515">test</span><span class="op" id="7072519">.</span><span class="ident" id="7072520">matches</span><span class="op" id="7072527">)</span><span class="op" id="7072528">,</span>&nbsp;<span class="builtinfunc" id="7072530">len</span><span class="op" id="7072533">(</span><span class="ident" id="7072534">result</span><span class="op" id="7072540">)</span><span class="op" id="7072541">,</span>&nbsp;<span class="ident" id="7072543">test</span><span class="op" id="7072547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072553">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072570">for</span>&nbsp;<span class="ident" id="7072574">k</span><span class="op" id="7072575">,</span>&nbsp;<span class="ident" id="7072577">e</span>&nbsp;<span class="op" id="7072579">:=</span>&nbsp;<span class="keyword" id="7072582">range</span>&nbsp;<span class="ident" id="7072588">test</span><span class="op" id="7072592">.</span><span class="ident" id="7072593">matches</span>&nbsp;<span class="op" id="7072601">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7072607">expect</span>&nbsp;<span class="op" id="7072614">:=</span>&nbsp;<span class="ident" id="7072617">test</span><span class="op" id="7072621">.</span><span class="ident" id="7072622">text</span><span class="op" id="7072626">[</span><span class="ident" id="7072627">e</span><span class="op" id="7072628">[</span><span class="num" id="7072629">0</span><span class="op" id="7072630">]</span><span class="op" id="7072631">:</span><span class="ident" id="7072632">e</span><span class="op" id="7072633">[</span><span class="num" id="7072634">1</span><span class="op" id="7072635">]</span><span class="op" id="7072636">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072642">if</span>&nbsp;<span class="ident" id="7072645">expect</span>&nbsp;<span class="op" id="7072652">!=</span>&nbsp;<span class="ident" id="7072655">result</span><span class="op" id="7072661">[</span><span class="ident" id="7072662">k</span><span class="op" id="7072663">]</span>&nbsp;<span class="op" id="7072665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7072672">t</span><span class="op" id="7072673">.</span><span class="ident" id="7072674">Errorf</span><span class="op" id="7072680">(</span><span class="string" id="7072681">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7072705">,</span>&nbsp;<span class="ident" id="7072707">expect</span><span class="op" id="7072713">,</span>&nbsp;<span class="ident" id="7072715">result</span><span class="op" id="7072721">,</span>&nbsp;<span class="ident" id="7072723">test</span><span class="op" id="7072727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072738">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7072745">}</span><br>
<span class="lineno"></span><span class="op" id="7072747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7072750">func</span>&nbsp;<span class="ident" id="7072755">testFindAllIndex</span><span class="op" id="7072771">(</span><span class="ident" id="7072772">test</span>&nbsp;<span class="op" id="7072777">*</span><span class="ident" id="7072778">FindTest</span><span class="op" id="7072786">,</span>&nbsp;<span class="ident" id="7072788">result</span>&nbsp;<span class="op" id="7072795">[</span><span class="op" id="7072796">]</span><span class="op" id="7072797">[</span><span class="op" id="7072798">]</span><span class="builtintype" id="7072799">int</span><span class="op" id="7072802">,</span>&nbsp;<span class="ident" id="7072804">t</span>&nbsp;<span class="op" id="7072806">*</span><span class="ident" id="7072807">testing</span><span class="op" id="7072814">.</span><span class="ident" id="7072815">T</span><span class="op" id="7072816">)</span>&nbsp;<span class="op" id="7072818">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072821">switch</span>&nbsp;<span class="op" id="7072828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072831">case</span>&nbsp;<span class="ident" id="7072836">test</span><span class="op" id="7072840">.</span><span class="ident" id="7072841">matches</span>&nbsp;<span class="op" id="7072849">==</span>&nbsp;<span class="ident" id="7072852">nil</span>&nbsp;<span class="op" id="7072856">&amp;&amp;</span>&nbsp;<span class="ident" id="7072859">result</span>&nbsp;<span class="op" id="7072866">==</span>&nbsp;<span class="ident" id="7072869">nil</span><span class="op" id="7072872">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7072876">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072883">case</span>&nbsp;<span class="ident" id="7072888">test</span><span class="op" id="7072892">.</span><span class="ident" id="7072893">matches</span>&nbsp;<span class="op" id="7072901">==</span>&nbsp;<span class="ident" id="7072904">nil</span>&nbsp;<span class="op" id="7072908">&amp;&amp;</span>&nbsp;<span class="ident" id="7072911">result</span>&nbsp;<span class="op" id="7072918">!=</span>&nbsp;<span class="ident" id="7072921">nil</span><span class="op" id="7072924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7072928">t</span><span class="op" id="7072929">.</span><span class="ident" id="7072930">Errorf</span><span class="op" id="7072936">(</span><span class="string" id="7072937">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7072969">,</span>&nbsp;<span class="ident" id="7072971">test</span><span class="op" id="7072975">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7072978">case</span>&nbsp;<span class="ident" id="7072983">test</span><span class="op" id="7072987">.</span><span class="ident" id="7072988">matches</span>&nbsp;<span class="op" id="7072996">!=</span>&nbsp;<span class="ident" id="7072999">nil</span>&nbsp;<span class="op" id="7073003">&amp;&amp;</span>&nbsp;<span class="ident" id="7073006">result</span>&nbsp;<span class="op" id="7073013">==</span>&nbsp;<span class="ident" id="7073016">nil</span><span class="op" id="7073019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073023">t</span><span class="op" id="7073024">.</span><span class="ident" id="7073025">Errorf</span><span class="op" id="7073031">(</span><span class="string" id="7073032">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7073062">,</span>&nbsp;<span class="ident" id="7073064">test</span><span class="op" id="7073068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073071">case</span>&nbsp;<span class="ident" id="7073076">test</span><span class="op" id="7073080">.</span><span class="ident" id="7073081">matches</span>&nbsp;<span class="op" id="7073089">!=</span>&nbsp;<span class="ident" id="7073092">nil</span>&nbsp;<span class="op" id="7073096">&amp;&amp;</span>&nbsp;<span class="ident" id="7073099">result</span>&nbsp;<span class="op" id="7073106">!=</span>&nbsp;<span class="ident" id="7073109">nil</span><span class="op" id="7073112">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073116">if</span>&nbsp;<span class="builtinfunc" id="7073119">len</span><span class="op" id="7073122">(</span><span class="ident" id="7073123">test</span><span class="op" id="7073127">.</span><span class="ident" id="7073128">matches</span><span class="op" id="7073135">)</span>&nbsp;<span class="op" id="7073137">!=</span>&nbsp;<span class="builtinfunc" id="7073140">len</span><span class="op" id="7073143">(</span><span class="ident" id="7073144">result</span><span class="op" id="7073150">)</span>&nbsp;<span class="op" id="7073152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073157">t</span><span class="op" id="7073158">.</span><span class="ident" id="7073159">Errorf</span><span class="op" id="7073165">(</span><span class="string" id="7073166">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7073199">,</span>&nbsp;<span class="builtinfunc" id="7073201">len</span><span class="op" id="7073204">(</span><span class="ident" id="7073205">test</span><span class="op" id="7073209">.</span><span class="ident" id="7073210">matches</span><span class="op" id="7073217">)</span><span class="op" id="7073218">,</span>&nbsp;<span class="builtinfunc" id="7073220">len</span><span class="op" id="7073223">(</span><span class="ident" id="7073224">result</span><span class="op" id="7073230">)</span><span class="op" id="7073231">,</span>&nbsp;<span class="ident" id="7073233">test</span><span class="op" id="7073237">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073242">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073255">for</span>&nbsp;<span class="ident" id="7073259">k</span><span class="op" id="7073260">,</span>&nbsp;<span class="ident" id="7073262">e</span>&nbsp;<span class="op" id="7073264">:=</span>&nbsp;<span class="keyword" id="7073267">range</span>&nbsp;<span class="ident" id="7073273">test</span><span class="op" id="7073277">.</span><span class="ident" id="7073278">matches</span>&nbsp;<span class="op" id="7073286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073291">if</span>&nbsp;<span class="ident" id="7073294">e</span><span class="op" id="7073295">[</span><span class="num" id="7073296">0</span><span class="op" id="7073297">]</span>&nbsp;<span class="op" id="7073299">!=</span>&nbsp;<span class="ident" id="7073302">result</span><span class="op" id="7073308">[</span><span class="ident" id="7073309">k</span><span class="op" id="7073310">]</span><span class="op" id="7073311">[</span><span class="num" id="7073312">0</span><span class="op" id="7073313">]</span>&nbsp;<span class="op" id="7073315">||</span>&nbsp;<span class="ident" id="7073318">e</span><span class="op" id="7073319">[</span><span class="num" id="7073320">1</span><span class="op" id="7073321">]</span>&nbsp;<span class="op" id="7073323">!=</span>&nbsp;<span class="ident" id="7073326">result</span><span class="op" id="7073332">[</span><span class="ident" id="7073333">k</span><span class="op" id="7073334">]</span><span class="op" id="7073335">[</span><span class="num" id="7073336">1</span><span class="op" id="7073337">]</span>&nbsp;<span class="op" id="7073339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073345">t</span><span class="op" id="7073346">.</span><span class="ident" id="7073347">Errorf</span><span class="op" id="7073353">(</span><span class="string" id="7073354">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7073388">,</span>&nbsp;<span class="ident" id="7073390">k</span><span class="op" id="7073391">,</span>&nbsp;<span class="ident" id="7073393">e</span><span class="op" id="7073394">,</span>&nbsp;<span class="ident" id="7073396">result</span><span class="op" id="7073402">[</span><span class="ident" id="7073403">k</span><span class="op" id="7073404">]</span><span class="op" id="7073405">,</span>&nbsp;<span class="ident" id="7073407">test</span><span class="op" id="7073411">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073423">}</span><br>
<span class="lineno"></span><span class="op" id="7073425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="7073428">func</span>&nbsp;<span class="ident" id="7073433">TestFindAllIndex</span><span class="op" id="7073449">(</span><span class="ident" id="7073450">t</span>&nbsp;<span class="op" id="7073452">*</span><span class="ident" id="7073453">testing</span><span class="op" id="7073460">.</span><span class="ident" id="7073461">T</span><span class="op" id="7073462">)</span>&nbsp;<span class="op" id="7073464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073467">for</span>&nbsp;<span class="ident" id="7073471">_</span><span class="op" id="7073472">,</span>&nbsp;<span class="ident" id="7073474">test</span>&nbsp;<span class="op" id="7073479">:=</span>&nbsp;<span class="keyword" id="7073482">range</span>&nbsp;<span class="ident" id="7073488">findTests</span>&nbsp;<span class="op" id="7073498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073502">testFindAllIndex</span><span class="op" id="7073518">(</span><span class="op" id="7073519">&amp;</span><span class="ident" id="7073520">test</span><span class="op" id="7073524">,</span>&nbsp;<span class="ident" id="7073526">MustCompile</span><span class="op" id="7073537">(</span><span class="ident" id="7073538">test</span><span class="op" id="7073542">.</span><span class="ident" id="7073543">pat</span><span class="op" id="7073546">)</span><span class="op" id="7073547">.</span><span class="ident" id="7073548">FindAllIndex</span><span class="op" id="7073560">(</span><span class="op" id="7073561">[</span><span class="op" id="7073562">]</span><span class="builtintype" id="7073563">byte</span><span class="op" id="7073567">(</span><span class="ident" id="7073568">test</span><span class="op" id="7073572">.</span><span class="ident" id="7073573">text</span><span class="op" id="7073577">)</span><span class="op" id="7073578">,</span>&nbsp;<span class="op" id="7073580">-</span><span class="num" id="7073581">1</span><span class="op" id="7073582">)</span><span class="op" id="7073583">,</span>&nbsp;<span class="ident" id="7073585">t</span><span class="op" id="7073586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073589">}</span><br>
<span class="lineno"></span><span class="op" id="7073591">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7073594">func</span>&nbsp;<span class="ident" id="7073599">TestFindAllStringIndex</span><span class="op" id="7073621">(</span><span class="ident" id="7073622">t</span>&nbsp;<span class="op" id="7073624">*</span><span class="ident" id="7073625">testing</span><span class="op" id="7073632">.</span><span class="ident" id="7073633">T</span><span class="op" id="7073634">)</span>&nbsp;<span class="op" id="7073636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073639">for</span>&nbsp;<span class="ident" id="7073643">_</span><span class="op" id="7073644">,</span>&nbsp;<span class="ident" id="7073646">test</span>&nbsp;<span class="op" id="7073651">:=</span>&nbsp;<span class="keyword" id="7073654">range</span>&nbsp;<span class="ident" id="7073660">findTests</span>&nbsp;<span class="op" id="7073670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073674">testFindAllIndex</span><span class="op" id="7073690">(</span><span class="op" id="7073691">&amp;</span><span class="ident" id="7073692">test</span><span class="op" id="7073696">,</span>&nbsp;<span class="ident" id="7073698">MustCompile</span><span class="op" id="7073709">(</span><span class="ident" id="7073710">test</span><span class="op" id="7073714">.</span><span class="ident" id="7073715">pat</span><span class="op" id="7073718">)</span><span class="op" id="7073719">.</span><span class="ident" id="7073720">FindAllStringIndex</span><span class="op" id="7073738">(</span><span class="ident" id="7073739">test</span><span class="op" id="7073743">.</span><span class="ident" id="7073744">text</span><span class="op" id="7073748">,</span>&nbsp;<span class="op" id="7073750">-</span><span class="num" id="7073751">1</span><span class="op" id="7073752">)</span><span class="op" id="7073753">,</span>&nbsp;<span class="ident" id="7073755">t</span><span class="op" id="7073756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7073759">}</span><br>
<span class="lineno">310</span><span class="op" id="7073761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7073764">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7073797">func</span>&nbsp;<span class="ident" id="7073802">testSubmatchBytes</span><span class="op" id="7073819">(</span><span class="ident" id="7073820">test</span>&nbsp;<span class="op" id="7073825">*</span><span class="ident" id="7073826">FindTest</span><span class="op" id="7073834">,</span>&nbsp;<span class="ident" id="7073836">n</span>&nbsp;<span class="builtintype" id="7073838">int</span><span class="op" id="7073841">,</span>&nbsp;<span class="ident" id="7073843">submatches</span>&nbsp;<span class="op" id="7073854">[</span><span class="op" id="7073855">]</span><span class="builtintype" id="7073856">int</span><span class="op" id="7073859">,</span>&nbsp;<span class="ident" id="7073861">result</span>&nbsp;<span class="op" id="7073868">[</span><span class="op" id="7073869">]</span><span class="op" id="7073870">[</span><span class="op" id="7073871">]</span><span class="builtintype" id="7073872">byte</span><span class="op" id="7073876">,</span>&nbsp;<span class="ident" id="7073878">t</span>&nbsp;<span class="op" id="7073880">*</span><span class="ident" id="7073881">testing</span><span class="op" id="7073888">.</span><span class="ident" id="7073889">T</span><span class="op" id="7073890">)</span>&nbsp;<span class="op" id="7073892">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7073895">if</span>&nbsp;<span class="builtinfunc" id="7073898">len</span><span class="op" id="7073901">(</span><span class="ident" id="7073902">submatches</span><span class="op" id="7073912">)</span>&nbsp;<span class="op" id="7073914">!=</span>&nbsp;<span class="builtinfunc" id="7073917">len</span><span class="op" id="7073920">(</span><span class="ident" id="7073921">result</span><span class="op" id="7073927">)</span><span class="op" id="7073928">*</span><span class="num" id="7073929">2</span>&nbsp;<span class="op" id="7073931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7073935">t</span><span class="op" id="7073936">.</span><span class="ident" id="7073937">Errorf</span><span class="op" id="7073943">(</span><span class="string" id="7073944">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7073990">,</span>&nbsp;<span class="ident" id="7073992">n</span><span class="op" id="7073993">,</span>&nbsp;<span class="builtinfunc" id="7073995">len</span><span class="op" id="7073998">(</span><span class="ident" id="7073999">submatches</span><span class="op" id="7074009">)</span><span class="op" id="7074010">/</span><span class="num" id="7074011">2</span><span class="op" id="7074012">,</span>&nbsp;<span class="builtinfunc" id="7074014">len</span><span class="op" id="7074017">(</span><span class="ident" id="7074018">result</span><span class="op" id="7074024">)</span><span class="op" id="7074025">,</span>&nbsp;<span class="ident" id="7074027">test</span><span class="op" id="7074031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074035">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074046">for</span>&nbsp;<span class="ident" id="7074050">k</span>&nbsp;<span class="op" id="7074052">:=</span>&nbsp;<span class="num" id="7074055">0</span><span class="op" id="7074056">;</span>&nbsp;<span class="ident" id="7074058">k</span>&nbsp;<span class="op" id="7074060">&lt;</span>&nbsp;<span class="builtinfunc" id="7074062">len</span><span class="op" id="7074065">(</span><span class="ident" id="7074066">submatches</span><span class="op" id="7074076">)</span><span class="op" id="7074077">;</span>&nbsp;<span class="ident" id="7074079">k</span>&nbsp;<span class="op" id="7074081">+=</span>&nbsp;<span class="num" id="7074084">2</span>&nbsp;<span class="op" id="7074086">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074090">if</span>&nbsp;<span class="ident" id="7074093">submatches</span><span class="op" id="7074103">[</span><span class="ident" id="7074104">k</span><span class="op" id="7074105">]</span>&nbsp;<span class="op" id="7074107">==</span>&nbsp;<span class="op" id="7074110">-</span><span class="num" id="7074111">1</span>&nbsp;<span class="op" id="7074113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074118">if</span>&nbsp;<span class="ident" id="7074121">result</span><span class="op" id="7074127">[</span><span class="ident" id="7074128">k</span><span class="op" id="7074129">/</span><span class="num" id="7074130">2</span><span class="op" id="7074131">]</span>&nbsp;<span class="op" id="7074133">!=</span>&nbsp;<span class="ident" id="7074136">nil</span>&nbsp;<span class="op" id="7074140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074146">t</span><span class="op" id="7074147">.</span><span class="ident" id="7074148">Errorf</span><span class="op" id="7074154">(</span><span class="string" id="7074155">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7074190">,</span>&nbsp;<span class="ident" id="7074192">n</span><span class="op" id="7074193">,</span>&nbsp;<span class="ident" id="7074195">result</span><span class="op" id="7074201">,</span>&nbsp;<span class="ident" id="7074203">test</span><span class="op" id="7074207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074217">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074232">expect</span>&nbsp;<span class="op" id="7074239">:=</span>&nbsp;<span class="ident" id="7074242">test</span><span class="op" id="7074246">.</span><span class="ident" id="7074247">text</span><span class="op" id="7074251">[</span><span class="ident" id="7074252">submatches</span><span class="op" id="7074262">[</span><span class="ident" id="7074263">k</span><span class="op" id="7074264">]</span><span class="op" id="7074265">:</span><span class="ident" id="7074266">submatches</span><span class="op" id="7074276">[</span><span class="ident" id="7074277">k</span><span class="op" id="7074278">+</span><span class="num" id="7074279">1</span><span class="op" id="7074280">]</span><span class="op" id="7074281">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074285">if</span>&nbsp;<span class="ident" id="7074288">expect</span>&nbsp;<span class="op" id="7074295">!=</span>&nbsp;<span class="builtintype" id="7074298">string</span><span class="op" id="7074304">(</span><span class="ident" id="7074305">result</span><span class="op" id="7074311">[</span><span class="ident" id="7074312">k</span><span class="op" id="7074313">/</span><span class="num" id="7074314">2</span><span class="op" id="7074315">]</span><span class="op" id="7074316">)</span>&nbsp;<span class="op" id="7074318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074323">t</span><span class="op" id="7074324">.</span><span class="ident" id="7074325">Errorf</span><span class="op" id="7074331">(</span><span class="string" id="7074332">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7074366">,</span>&nbsp;<span class="ident" id="7074368">n</span><span class="op" id="7074369">,</span>&nbsp;<span class="ident" id="7074371">expect</span><span class="op" id="7074377">,</span>&nbsp;<span class="ident" id="7074379">result</span><span class="op" id="7074385">,</span>&nbsp;<span class="ident" id="7074387">test</span><span class="op" id="7074391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074396">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074408">}</span><br>
<span class="lineno"></span><span class="op" id="7074410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7074413">func</span>&nbsp;<span class="ident" id="7074418">TestFindSubmatch</span><span class="op" id="7074434">(</span><span class="ident" id="7074435">t</span>&nbsp;<span class="op" id="7074437">*</span><span class="ident" id="7074438">testing</span><span class="op" id="7074445">.</span><span class="ident" id="7074446">T</span><span class="op" id="7074447">)</span>&nbsp;<span class="op" id="7074449">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074452">for</span>&nbsp;<span class="ident" id="7074456">_</span><span class="op" id="7074457">,</span>&nbsp;<span class="ident" id="7074459">test</span>&nbsp;<span class="op" id="7074464">:=</span>&nbsp;<span class="keyword" id="7074467">range</span>&nbsp;<span class="ident" id="7074473">findTests</span>&nbsp;<span class="op" id="7074483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074487">result</span>&nbsp;<span class="op" id="7074494">:=</span>&nbsp;<span class="ident" id="7074497">MustCompile</span><span class="op" id="7074508">(</span><span class="ident" id="7074509">test</span><span class="op" id="7074513">.</span><span class="ident" id="7074514">pat</span><span class="op" id="7074517">)</span><span class="op" id="7074518">.</span><span class="ident" id="7074519">FindSubmatch</span><span class="op" id="7074531">(</span><span class="op" id="7074532">[</span><span class="op" id="7074533">]</span><span class="builtintype" id="7074534">byte</span><span class="op" id="7074538">(</span><span class="ident" id="7074539">test</span><span class="op" id="7074543">.</span><span class="ident" id="7074544">text</span><span class="op" id="7074548">)</span><span class="op" id="7074549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074553">switch</span>&nbsp;<span class="op" id="7074560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074564">case</span>&nbsp;<span class="ident" id="7074569">test</span><span class="op" id="7074573">.</span><span class="ident" id="7074574">matches</span>&nbsp;<span class="op" id="7074582">==</span>&nbsp;<span class="ident" id="7074585">nil</span>&nbsp;<span class="op" id="7074589">&amp;&amp;</span>&nbsp;<span class="ident" id="7074592">result</span>&nbsp;<span class="op" id="7074599">==</span>&nbsp;<span class="ident" id="7074602">nil</span><span class="op" id="7074605">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7074610">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074618">case</span>&nbsp;<span class="ident" id="7074623">test</span><span class="op" id="7074627">.</span><span class="ident" id="7074628">matches</span>&nbsp;<span class="op" id="7074636">==</span>&nbsp;<span class="ident" id="7074639">nil</span>&nbsp;<span class="op" id="7074643">&amp;&amp;</span>&nbsp;<span class="ident" id="7074646">result</span>&nbsp;<span class="op" id="7074653">!=</span>&nbsp;<span class="ident" id="7074656">nil</span><span class="op" id="7074659">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074664">t</span><span class="op" id="7074665">.</span><span class="ident" id="7074666">Errorf</span><span class="op" id="7074672">(</span><span class="string" id="7074673">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7074705">,</span>&nbsp;<span class="ident" id="7074707">test</span><span class="op" id="7074711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074715">case</span>&nbsp;<span class="ident" id="7074720">test</span><span class="op" id="7074724">.</span><span class="ident" id="7074725">matches</span>&nbsp;<span class="op" id="7074733">!=</span>&nbsp;<span class="ident" id="7074736">nil</span>&nbsp;<span class="op" id="7074740">&amp;&amp;</span>&nbsp;<span class="ident" id="7074743">result</span>&nbsp;<span class="op" id="7074750">==</span>&nbsp;<span class="ident" id="7074753">nil</span><span class="op" id="7074756">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074761">t</span><span class="op" id="7074762">.</span><span class="ident" id="7074763">Errorf</span><span class="op" id="7074769">(</span><span class="string" id="7074770">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7074800">,</span>&nbsp;<span class="ident" id="7074802">test</span><span class="op" id="7074806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7074810">case</span>&nbsp;<span class="ident" id="7074815">test</span><span class="op" id="7074819">.</span><span class="ident" id="7074820">matches</span>&nbsp;<span class="op" id="7074828">!=</span>&nbsp;<span class="ident" id="7074831">nil</span>&nbsp;<span class="op" id="7074835">&amp;&amp;</span>&nbsp;<span class="ident" id="7074838">result</span>&nbsp;<span class="op" id="7074845">!=</span>&nbsp;<span class="ident" id="7074848">nil</span><span class="op" id="7074851">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7074856">testSubmatchBytes</span><span class="op" id="7074873">(</span><span class="op" id="7074874">&amp;</span><span class="ident" id="7074875">test</span><span class="op" id="7074879">,</span>&nbsp;<span class="num" id="7074881">0</span><span class="op" id="7074882">,</span>&nbsp;<span class="ident" id="7074884">test</span><span class="op" id="7074888">.</span><span class="ident" id="7074889">matches</span><span class="op" id="7074896">[</span><span class="num" id="7074897">0</span><span class="op" id="7074898">]</span><span class="op" id="7074899">,</span>&nbsp;<span class="ident" id="7074901">result</span><span class="op" id="7074907">,</span>&nbsp;<span class="ident" id="7074909">t</span><span class="op" id="7074910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7074917">}</span><br>
<span class="lineno"></span><span class="op" id="7074919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="7074922">func</span>&nbsp;<span class="ident" id="7074927">testSubmatchString</span><span class="op" id="7074945">(</span><span class="ident" id="7074946">test</span>&nbsp;<span class="op" id="7074951">*</span><span class="ident" id="7074952">FindTest</span><span class="op" id="7074960">,</span>&nbsp;<span class="ident" id="7074962">n</span>&nbsp;<span class="builtintype" id="7074964">int</span><span class="op" id="7074967">,</span>&nbsp;<span class="ident" id="7074969">submatches</span>&nbsp;<span class="op" id="7074980">[</span><span class="op" id="7074981">]</span><span class="builtintype" id="7074982">int</span><span class="op" id="7074985">,</span>&nbsp;<span class="ident" id="7074987">result</span>&nbsp;<span class="op" id="7074994">[</span><span class="op" id="7074995">]</span><span class="builtintype" id="7074996">string</span><span class="op" id="7075002">,</span>&nbsp;<span class="ident" id="7075004">t</span>&nbsp;<span class="op" id="7075006">*</span><span class="ident" id="7075007">testing</span><span class="op" id="7075014">.</span><span class="ident" id="7075015">T</span><span class="op" id="7075016">)</span>&nbsp;<span class="op" id="7075018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075021">if</span>&nbsp;<span class="builtinfunc" id="7075024">len</span><span class="op" id="7075027">(</span><span class="ident" id="7075028">submatches</span><span class="op" id="7075038">)</span>&nbsp;<span class="op" id="7075040">!=</span>&nbsp;<span class="builtinfunc" id="7075043">len</span><span class="op" id="7075046">(</span><span class="ident" id="7075047">result</span><span class="op" id="7075053">)</span><span class="op" id="7075054">*</span><span class="num" id="7075055">2</span>&nbsp;<span class="op" id="7075057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075061">t</span><span class="op" id="7075062">.</span><span class="ident" id="7075063">Errorf</span><span class="op" id="7075069">(</span><span class="string" id="7075070">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7075116">,</span>&nbsp;<span class="ident" id="7075118">n</span><span class="op" id="7075119">,</span>&nbsp;<span class="builtinfunc" id="7075121">len</span><span class="op" id="7075124">(</span><span class="ident" id="7075125">submatches</span><span class="op" id="7075135">)</span><span class="op" id="7075136">/</span><span class="num" id="7075137">2</span><span class="op" id="7075138">,</span>&nbsp;<span class="builtinfunc" id="7075140">len</span><span class="op" id="7075143">(</span><span class="ident" id="7075144">result</span><span class="op" id="7075150">)</span><span class="op" id="7075151">,</span>&nbsp;<span class="ident" id="7075153">test</span><span class="op" id="7075157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075161">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075169">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075172">for</span>&nbsp;<span class="ident" id="7075176">k</span>&nbsp;<span class="op" id="7075178">:=</span>&nbsp;<span class="num" id="7075181">0</span><span class="op" id="7075182">;</span>&nbsp;<span class="ident" id="7075184">k</span>&nbsp;<span class="op" id="7075186">&lt;</span>&nbsp;<span class="builtinfunc" id="7075188">len</span><span class="op" id="7075191">(</span><span class="ident" id="7075192">submatches</span><span class="op" id="7075202">)</span><span class="op" id="7075203">;</span>&nbsp;<span class="ident" id="7075205">k</span>&nbsp;<span class="op" id="7075207">+=</span>&nbsp;<span class="num" id="7075210">2</span>&nbsp;<span class="op" id="7075212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075216">if</span>&nbsp;<span class="ident" id="7075219">submatches</span><span class="op" id="7075229">[</span><span class="ident" id="7075230">k</span><span class="op" id="7075231">]</span>&nbsp;<span class="op" id="7075233">==</span>&nbsp;<span class="op" id="7075236">-</span><span class="num" id="7075237">1</span>&nbsp;<span class="op" id="7075239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075244">if</span>&nbsp;<span class="ident" id="7075247">result</span><span class="op" id="7075253">[</span><span class="ident" id="7075254">k</span><span class="op" id="7075255">/</span><span class="num" id="7075256">2</span><span class="op" id="7075257">]</span>&nbsp;<span class="op" id="7075259">!=</span>&nbsp;<span class="string" id="7075262">&#34;&#34;</span>&nbsp;<span class="op" id="7075265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075271">t</span><span class="op" id="7075272">.</span><span class="ident" id="7075273">Errorf</span><span class="op" id="7075279">(</span><span class="string" id="7075280">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7075315">,</span>&nbsp;<span class="ident" id="7075317">n</span><span class="op" id="7075318">,</span>&nbsp;<span class="ident" id="7075320">result</span><span class="op" id="7075326">,</span>&nbsp;<span class="ident" id="7075328">test</span><span class="op" id="7075332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075337">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075342">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075357">expect</span>&nbsp;<span class="op" id="7075364">:=</span>&nbsp;<span class="ident" id="7075367">test</span><span class="op" id="7075371">.</span><span class="ident" id="7075372">text</span><span class="op" id="7075376">[</span><span class="ident" id="7075377">submatches</span><span class="op" id="7075387">[</span><span class="ident" id="7075388">k</span><span class="op" id="7075389">]</span><span class="op" id="7075390">:</span><span class="ident" id="7075391">submatches</span><span class="op" id="7075401">[</span><span class="ident" id="7075402">k</span><span class="op" id="7075403">+</span><span class="num" id="7075404">1</span><span class="op" id="7075405">]</span><span class="op" id="7075406">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075410">if</span>&nbsp;<span class="ident" id="7075413">expect</span>&nbsp;<span class="op" id="7075420">!=</span>&nbsp;<span class="ident" id="7075423">result</span><span class="op" id="7075429">[</span><span class="ident" id="7075430">k</span><span class="op" id="7075431">/</span><span class="num" id="7075432">2</span><span class="op" id="7075433">]</span>&nbsp;<span class="op" id="7075435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075440">t</span><span class="op" id="7075441">.</span><span class="ident" id="7075442">Errorf</span><span class="op" id="7075448">(</span><span class="string" id="7075449">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7075483">,</span>&nbsp;<span class="ident" id="7075485">n</span><span class="op" id="7075486">,</span>&nbsp;<span class="ident" id="7075488">expect</span><span class="op" id="7075494">,</span>&nbsp;<span class="ident" id="7075496">result</span><span class="op" id="7075502">,</span>&nbsp;<span class="ident" id="7075504">test</span><span class="op" id="7075508">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075513">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7075525">}</span><br>
<span class="lineno"></span><span class="op" id="7075527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7075530">func</span>&nbsp;<span class="ident" id="7075535">TestFindStringSubmatch</span><span class="op" id="7075557">(</span><span class="ident" id="7075558">t</span>&nbsp;<span class="op" id="7075560">*</span><span class="ident" id="7075561">testing</span><span class="op" id="7075568">.</span><span class="ident" id="7075569">T</span><span class="op" id="7075570">)</span>&nbsp;<span class="op" id="7075572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075575">for</span>&nbsp;<span class="ident" id="7075579">_</span><span class="op" id="7075580">,</span>&nbsp;<span class="ident" id="7075582">test</span>&nbsp;<span class="op" id="7075587">:=</span>&nbsp;<span class="keyword" id="7075590">range</span>&nbsp;<span class="ident" id="7075596">findTests</span>&nbsp;<span class="op" id="7075606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075610">result</span>&nbsp;<span class="op" id="7075617">:=</span>&nbsp;<span class="ident" id="7075620">MustCompile</span><span class="op" id="7075631">(</span><span class="ident" id="7075632">test</span><span class="op" id="7075636">.</span><span class="ident" id="7075637">pat</span><span class="op" id="7075640">)</span><span class="op" id="7075641">.</span><span class="ident" id="7075642">FindStringSubmatch</span><span class="op" id="7075660">(</span><span class="ident" id="7075661">test</span><span class="op" id="7075665">.</span><span class="ident" id="7075666">text</span><span class="op" id="7075670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075674">switch</span>&nbsp;<span class="op" id="7075681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075685">case</span>&nbsp;<span class="ident" id="7075690">test</span><span class="op" id="7075694">.</span><span class="ident" id="7075695">matches</span>&nbsp;<span class="op" id="7075703">==</span>&nbsp;<span class="ident" id="7075706">nil</span>&nbsp;<span class="op" id="7075710">&amp;&amp;</span>&nbsp;<span class="ident" id="7075713">result</span>&nbsp;<span class="op" id="7075720">==</span>&nbsp;<span class="ident" id="7075723">nil</span><span class="op" id="7075726">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7075731">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075739">case</span>&nbsp;<span class="ident" id="7075744">test</span><span class="op" id="7075748">.</span><span class="ident" id="7075749">matches</span>&nbsp;<span class="op" id="7075757">==</span>&nbsp;<span class="ident" id="7075760">nil</span>&nbsp;<span class="op" id="7075764">&amp;&amp;</span>&nbsp;<span class="ident" id="7075767">result</span>&nbsp;<span class="op" id="7075774">!=</span>&nbsp;<span class="ident" id="7075777">nil</span><span class="op" id="7075780">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075785">t</span><span class="op" id="7075786">.</span><span class="ident" id="7075787">Errorf</span><span class="op" id="7075793">(</span><span class="string" id="7075794">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7075826">,</span>&nbsp;<span class="ident" id="7075828">test</span><span class="op" id="7075832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075836">case</span>&nbsp;<span class="ident" id="7075841">test</span><span class="op" id="7075845">.</span><span class="ident" id="7075846">matches</span>&nbsp;<span class="op" id="7075854">!=</span>&nbsp;<span class="ident" id="7075857">nil</span>&nbsp;<span class="op" id="7075861">&amp;&amp;</span>&nbsp;<span class="ident" id="7075864">result</span>&nbsp;<span class="op" id="7075871">==</span>&nbsp;<span class="ident" id="7075874">nil</span><span class="op" id="7075877">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075882">t</span><span class="op" id="7075883">.</span><span class="ident" id="7075884">Errorf</span><span class="op" id="7075890">(</span><span class="string" id="7075891">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7075921">,</span>&nbsp;<span class="ident" id="7075923">test</span><span class="op" id="7075927">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7075931">case</span>&nbsp;<span class="ident" id="7075936">test</span><span class="op" id="7075940">.</span><span class="ident" id="7075941">matches</span>&nbsp;<span class="op" id="7075949">!=</span>&nbsp;<span class="ident" id="7075952">nil</span>&nbsp;<span class="op" id="7075956">&amp;&amp;</span>&nbsp;<span class="ident" id="7075959">result</span>&nbsp;<span class="op" id="7075966">!=</span>&nbsp;<span class="ident" id="7075969">nil</span><span class="op" id="7075972">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7075977">testSubmatchString</span><span class="op" id="7075995">(</span><span class="op" id="7075996">&amp;</span><span class="ident" id="7075997">test</span><span class="op" id="7076001">,</span>&nbsp;<span class="num" id="7076003">0</span><span class="op" id="7076004">,</span>&nbsp;<span class="ident" id="7076006">test</span><span class="op" id="7076010">.</span><span class="ident" id="7076011">matches</span><span class="op" id="7076018">[</span><span class="num" id="7076019">0</span><span class="op" id="7076020">]</span><span class="op" id="7076021">,</span>&nbsp;<span class="ident" id="7076023">result</span><span class="op" id="7076029">,</span>&nbsp;<span class="ident" id="7076031">t</span><span class="op" id="7076032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076039">}</span><br>
<span class="lineno"></span><span class="op" id="7076041">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7076044">func</span>&nbsp;<span class="ident" id="7076049">testSubmatchIndices</span><span class="op" id="7076068">(</span><span class="ident" id="7076069">test</span>&nbsp;<span class="op" id="7076074">*</span><span class="ident" id="7076075">FindTest</span><span class="op" id="7076083">,</span>&nbsp;<span class="ident" id="7076085">n</span>&nbsp;<span class="builtintype" id="7076087">int</span><span class="op" id="7076090">,</span>&nbsp;<span class="ident" id="7076092">expect</span><span class="op" id="7076098">,</span>&nbsp;<span class="ident" id="7076100">result</span>&nbsp;<span class="op" id="7076107">[</span><span class="op" id="7076108">]</span><span class="builtintype" id="7076109">int</span><span class="op" id="7076112">,</span>&nbsp;<span class="ident" id="7076114">t</span>&nbsp;<span class="op" id="7076116">*</span><span class="ident" id="7076117">testing</span><span class="op" id="7076124">.</span><span class="ident" id="7076125">T</span><span class="op" id="7076126">)</span>&nbsp;<span class="op" id="7076128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076131">if</span>&nbsp;<span class="builtinfunc" id="7076134">len</span><span class="op" id="7076137">(</span><span class="ident" id="7076138">expect</span><span class="op" id="7076144">)</span>&nbsp;<span class="op" id="7076146">!=</span>&nbsp;<span class="builtinfunc" id="7076149">len</span><span class="op" id="7076152">(</span><span class="ident" id="7076153">result</span><span class="op" id="7076159">)</span>&nbsp;<span class="op" id="7076161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076165">t</span><span class="op" id="7076166">.</span><span class="ident" id="7076167">Errorf</span><span class="op" id="7076173">(</span><span class="string" id="7076174">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7076217">,</span>&nbsp;<span class="ident" id="7076219">n</span><span class="op" id="7076220">,</span>&nbsp;<span class="builtinfunc" id="7076222">len</span><span class="op" id="7076225">(</span><span class="ident" id="7076226">expect</span><span class="op" id="7076232">)</span><span class="op" id="7076233">/</span><span class="num" id="7076234">2</span><span class="op" id="7076235">,</span>&nbsp;<span class="builtinfunc" id="7076237">len</span><span class="op" id="7076240">(</span><span class="ident" id="7076241">result</span><span class="op" id="7076247">)</span><span class="op" id="7076248">/</span><span class="num" id="7076249">2</span><span class="op" id="7076250">,</span>&nbsp;<span class="ident" id="7076252">test</span><span class="op" id="7076256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076260">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076271">for</span>&nbsp;<span class="ident" id="7076275">k</span><span class="op" id="7076276">,</span>&nbsp;<span class="ident" id="7076278">e</span>&nbsp;<span class="op" id="7076280">:=</span>&nbsp;<span class="keyword" id="7076283">range</span>&nbsp;<span class="ident" id="7076289">expect</span>&nbsp;<span class="op" id="7076296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076300">if</span>&nbsp;<span class="ident" id="7076303">e</span>&nbsp;<span class="op" id="7076305">!=</span>&nbsp;<span class="ident" id="7076308">result</span><span class="op" id="7076314">[</span><span class="ident" id="7076315">k</span><span class="op" id="7076316">]</span>&nbsp;<span class="op" id="7076318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076323">t</span><span class="op" id="7076324">.</span><span class="ident" id="7076325">Errorf</span><span class="op" id="7076331">(</span><span class="string" id="7076332">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7076382">,</span>&nbsp;<span class="ident" id="7076384">n</span><span class="op" id="7076385">,</span>&nbsp;<span class="ident" id="7076387">expect</span><span class="op" id="7076393">,</span>&nbsp;<span class="ident" id="7076395">result</span><span class="op" id="7076401">,</span>&nbsp;<span class="ident" id="7076403">test</span><span class="op" id="7076407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076411">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076414">}</span><br>
<span class="lineno"></span><span class="op" id="7076416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7076419">func</span>&nbsp;<span class="ident" id="7076424">testFindSubmatchIndex</span><span class="op" id="7076445">(</span><span class="ident" id="7076446">test</span>&nbsp;<span class="op" id="7076451">*</span><span class="ident" id="7076452">FindTest</span><span class="op" id="7076460">,</span>&nbsp;<span class="ident" id="7076462">result</span>&nbsp;<span class="op" id="7076469">[</span><span class="op" id="7076470">]</span><span class="builtintype" id="7076471">int</span><span class="op" id="7076474">,</span>&nbsp;<span class="ident" id="7076476">t</span>&nbsp;<span class="op" id="7076478">*</span><span class="ident" id="7076479">testing</span><span class="op" id="7076486">.</span><span class="ident" id="7076487">T</span><span class="op" id="7076488">)</span>&nbsp;<span class="op" id="7076490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076493">switch</span>&nbsp;<span class="op" id="7076500">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076503">case</span>&nbsp;<span class="ident" id="7076508">test</span><span class="op" id="7076512">.</span><span class="ident" id="7076513">matches</span>&nbsp;<span class="op" id="7076521">==</span>&nbsp;<span class="ident" id="7076524">nil</span>&nbsp;<span class="op" id="7076528">&amp;&amp;</span>&nbsp;<span class="ident" id="7076531">result</span>&nbsp;<span class="op" id="7076538">==</span>&nbsp;<span class="ident" id="7076541">nil</span><span class="op" id="7076544">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7076548">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076555">case</span>&nbsp;<span class="ident" id="7076560">test</span><span class="op" id="7076564">.</span><span class="ident" id="7076565">matches</span>&nbsp;<span class="op" id="7076573">==</span>&nbsp;<span class="ident" id="7076576">nil</span>&nbsp;<span class="op" id="7076580">&amp;&amp;</span>&nbsp;<span class="ident" id="7076583">result</span>&nbsp;<span class="op" id="7076590">!=</span>&nbsp;<span class="ident" id="7076593">nil</span><span class="op" id="7076596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076600">t</span><span class="op" id="7076601">.</span><span class="ident" id="7076602">Errorf</span><span class="op" id="7076608">(</span><span class="string" id="7076609">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7076641">,</span>&nbsp;<span class="ident" id="7076643">test</span><span class="op" id="7076647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076650">case</span>&nbsp;<span class="ident" id="7076655">test</span><span class="op" id="7076659">.</span><span class="ident" id="7076660">matches</span>&nbsp;<span class="op" id="7076668">!=</span>&nbsp;<span class="ident" id="7076671">nil</span>&nbsp;<span class="op" id="7076675">&amp;&amp;</span>&nbsp;<span class="ident" id="7076678">result</span>&nbsp;<span class="op" id="7076685">==</span>&nbsp;<span class="ident" id="7076688">nil</span><span class="op" id="7076691">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076695">t</span><span class="op" id="7076696">.</span><span class="ident" id="7076697">Errorf</span><span class="op" id="7076703">(</span><span class="string" id="7076704">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7076734">,</span>&nbsp;<span class="ident" id="7076736">test</span><span class="op" id="7076740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076743">case</span>&nbsp;<span class="ident" id="7076748">test</span><span class="op" id="7076752">.</span><span class="ident" id="7076753">matches</span>&nbsp;<span class="op" id="7076761">!=</span>&nbsp;<span class="ident" id="7076764">nil</span>&nbsp;<span class="op" id="7076768">&amp;&amp;</span>&nbsp;<span class="ident" id="7076771">result</span>&nbsp;<span class="op" id="7076778">!=</span>&nbsp;<span class="ident" id="7076781">nil</span><span class="op" id="7076784">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076788">testSubmatchIndices</span><span class="op" id="7076807">(</span><span class="ident" id="7076808">test</span><span class="op" id="7076812">,</span>&nbsp;<span class="num" id="7076814">0</span><span class="op" id="7076815">,</span>&nbsp;<span class="ident" id="7076817">test</span><span class="op" id="7076821">.</span><span class="ident" id="7076822">matches</span><span class="op" id="7076829">[</span><span class="num" id="7076830">0</span><span class="op" id="7076831">]</span><span class="op" id="7076832">,</span>&nbsp;<span class="ident" id="7076834">result</span><span class="op" id="7076840">,</span>&nbsp;<span class="ident" id="7076842">t</span><span class="op" id="7076843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7076846">}</span><br>
<span class="lineno"></span><span class="op" id="7076848">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="7076851">func</span>&nbsp;<span class="ident" id="7076856">TestFindSubmatchIndex</span><span class="op" id="7076877">(</span><span class="ident" id="7076878">t</span>&nbsp;<span class="op" id="7076880">*</span><span class="ident" id="7076881">testing</span><span class="op" id="7076888">.</span><span class="ident" id="7076889">T</span><span class="op" id="7076890">)</span>&nbsp;<span class="op" id="7076892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7076895">for</span>&nbsp;<span class="ident" id="7076899">_</span><span class="op" id="7076900">,</span>&nbsp;<span class="ident" id="7076902">test</span>&nbsp;<span class="op" id="7076907">:=</span>&nbsp;<span class="keyword" id="7076910">range</span>&nbsp;<span class="ident" id="7076916">findTests</span>&nbsp;<span class="op" id="7076926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7076930">testFindSubmatchIndex</span><span class="op" id="7076951">(</span><span class="op" id="7076952">&amp;</span><span class="ident" id="7076953">test</span><span class="op" id="7076957">,</span>&nbsp;<span class="ident" id="7076959">MustCompile</span><span class="op" id="7076970">(</span><span class="ident" id="7076971">test</span><span class="op" id="7076975">.</span><span class="ident" id="7076976">pat</span><span class="op" id="7076979">)</span><span class="op" id="7076980">.</span><span class="ident" id="7076981">FindSubmatchIndex</span><span class="op" id="7076998">(</span><span class="op" id="7076999">[</span><span class="op" id="7077000">]</span><span class="builtintype" id="7077001">byte</span><span class="op" id="7077005">(</span><span class="ident" id="7077006">test</span><span class="op" id="7077010">.</span><span class="ident" id="7077011">text</span><span class="op" id="7077015">)</span><span class="op" id="7077016">)</span><span class="op" id="7077017">,</span>&nbsp;<span class="ident" id="7077019">t</span><span class="op" id="7077020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077023">}</span><br>
<span class="lineno">415</span><span class="op" id="7077025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7077028">func</span>&nbsp;<span class="ident" id="7077033">TestFindStringSubmatchIndex</span><span class="op" id="7077060">(</span><span class="ident" id="7077061">t</span>&nbsp;<span class="op" id="7077063">*</span><span class="ident" id="7077064">testing</span><span class="op" id="7077071">.</span><span class="ident" id="7077072">T</span><span class="op" id="7077073">)</span>&nbsp;<span class="op" id="7077075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077078">for</span>&nbsp;<span class="ident" id="7077082">_</span><span class="op" id="7077083">,</span>&nbsp;<span class="ident" id="7077085">test</span>&nbsp;<span class="op" id="7077090">:=</span>&nbsp;<span class="keyword" id="7077093">range</span>&nbsp;<span class="ident" id="7077099">findTests</span>&nbsp;<span class="op" id="7077109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077113">testFindSubmatchIndex</span><span class="op" id="7077134">(</span><span class="op" id="7077135">&amp;</span><span class="ident" id="7077136">test</span><span class="op" id="7077140">,</span>&nbsp;<span class="ident" id="7077142">MustCompile</span><span class="op" id="7077153">(</span><span class="ident" id="7077154">test</span><span class="op" id="7077158">.</span><span class="ident" id="7077159">pat</span><span class="op" id="7077162">)</span><span class="op" id="7077163">.</span><span class="ident" id="7077164">FindStringSubmatchIndex</span><span class="op" id="7077187">(</span><span class="ident" id="7077188">test</span><span class="op" id="7077192">.</span><span class="ident" id="7077193">text</span><span class="op" id="7077197">)</span><span class="op" id="7077198">,</span>&nbsp;<span class="ident" id="7077200">t</span><span class="op" id="7077201">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077204">}</span><br>
<span class="lineno"></span><span class="op" id="7077206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7077209">func</span>&nbsp;<span class="ident" id="7077214">TestFindReaderSubmatchIndex</span><span class="op" id="7077241">(</span><span class="ident" id="7077242">t</span>&nbsp;<span class="op" id="7077244">*</span><span class="ident" id="7077245">testing</span><span class="op" id="7077252">.</span><span class="ident" id="7077253">T</span><span class="op" id="7077254">)</span>&nbsp;<span class="op" id="7077256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077259">for</span>&nbsp;<span class="ident" id="7077263">_</span><span class="op" id="7077264">,</span>&nbsp;<span class="ident" id="7077266">test</span>&nbsp;<span class="op" id="7077271">:=</span>&nbsp;<span class="keyword" id="7077274">range</span>&nbsp;<span class="ident" id="7077280">findTests</span>&nbsp;<span class="op" id="7077290">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077294">testFindSubmatchIndex</span><span class="op" id="7077315">(</span><span class="op" id="7077316">&amp;</span><span class="ident" id="7077317">test</span><span class="op" id="7077321">,</span>&nbsp;<span class="ident" id="7077323">MustCompile</span><span class="op" id="7077334">(</span><span class="ident" id="7077335">test</span><span class="op" id="7077339">.</span><span class="ident" id="7077340">pat</span><span class="op" id="7077343">)</span><span class="op" id="7077344">.</span><span class="ident" id="7077345">FindReaderSubmatchIndex</span><span class="op" id="7077368">(</span><span class="ident" id="7077369">strings</span><span class="op" id="7077376">.</span><span class="ident" id="7077377">NewReader</span><span class="op" id="7077386">(</span><span class="ident" id="7077387">test</span><span class="op" id="7077391">.</span><span class="ident" id="7077392">text</span><span class="op" id="7077396">)</span><span class="op" id="7077397">)</span><span class="op" id="7077398">,</span>&nbsp;<span class="ident" id="7077400">t</span><span class="op" id="7077401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7077404">}</span><br>
<span class="lineno"></span><span class="op" id="7077406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7077409">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="7077453">func</span>&nbsp;<span class="ident" id="7077458">TestFindAllSubmatch</span><span class="op" id="7077477">(</span><span class="ident" id="7077478">t</span>&nbsp;<span class="op" id="7077480">*</span><span class="ident" id="7077481">testing</span><span class="op" id="7077488">.</span><span class="ident" id="7077489">T</span><span class="op" id="7077490">)</span>&nbsp;<span class="op" id="7077492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077495">for</span>&nbsp;<span class="ident" id="7077499">_</span><span class="op" id="7077500">,</span>&nbsp;<span class="ident" id="7077502">test</span>&nbsp;<span class="op" id="7077507">:=</span>&nbsp;<span class="keyword" id="7077510">range</span>&nbsp;<span class="ident" id="7077516">findTests</span>&nbsp;<span class="op" id="7077526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077530">result</span>&nbsp;<span class="op" id="7077537">:=</span>&nbsp;<span class="ident" id="7077540">MustCompile</span><span class="op" id="7077551">(</span><span class="ident" id="7077552">test</span><span class="op" id="7077556">.</span><span class="ident" id="7077557">pat</span><span class="op" id="7077560">)</span><span class="op" id="7077561">.</span><span class="ident" id="7077562">FindAllSubmatch</span><span class="op" id="7077577">(</span><span class="op" id="7077578">[</span><span class="op" id="7077579">]</span><span class="builtintype" id="7077580">byte</span><span class="op" id="7077584">(</span><span class="ident" id="7077585">test</span><span class="op" id="7077589">.</span><span class="ident" id="7077590">text</span><span class="op" id="7077594">)</span><span class="op" id="7077595">,</span>&nbsp;<span class="op" id="7077597">-</span><span class="num" id="7077598">1</span><span class="op" id="7077599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077603">switch</span>&nbsp;<span class="op" id="7077610">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077614">case</span>&nbsp;<span class="ident" id="7077619">test</span><span class="op" id="7077623">.</span><span class="ident" id="7077624">matches</span>&nbsp;<span class="op" id="7077632">==</span>&nbsp;<span class="ident" id="7077635">nil</span>&nbsp;<span class="op" id="7077639">&amp;&amp;</span>&nbsp;<span class="ident" id="7077642">result</span>&nbsp;<span class="op" id="7077649">==</span>&nbsp;<span class="ident" id="7077652">nil</span><span class="op" id="7077655">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7077660">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077668">case</span>&nbsp;<span class="ident" id="7077673">test</span><span class="op" id="7077677">.</span><span class="ident" id="7077678">matches</span>&nbsp;<span class="op" id="7077686">==</span>&nbsp;<span class="ident" id="7077689">nil</span>&nbsp;<span class="op" id="7077693">&amp;&amp;</span>&nbsp;<span class="ident" id="7077696">result</span>&nbsp;<span class="op" id="7077703">!=</span>&nbsp;<span class="ident" id="7077706">nil</span><span class="op" id="7077709">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077714">t</span><span class="op" id="7077715">.</span><span class="ident" id="7077716">Errorf</span><span class="op" id="7077722">(</span><span class="string" id="7077723">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7077755">,</span>&nbsp;<span class="ident" id="7077757">test</span><span class="op" id="7077761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077765">case</span>&nbsp;<span class="ident" id="7077770">test</span><span class="op" id="7077774">.</span><span class="ident" id="7077775">matches</span>&nbsp;<span class="op" id="7077783">!=</span>&nbsp;<span class="ident" id="7077786">nil</span>&nbsp;<span class="op" id="7077790">&amp;&amp;</span>&nbsp;<span class="ident" id="7077793">result</span>&nbsp;<span class="op" id="7077800">==</span>&nbsp;<span class="ident" id="7077803">nil</span><span class="op" id="7077806">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077811">t</span><span class="op" id="7077812">.</span><span class="ident" id="7077813">Errorf</span><span class="op" id="7077819">(</span><span class="string" id="7077820">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7077850">,</span>&nbsp;<span class="ident" id="7077852">test</span><span class="op" id="7077856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077860">case</span>&nbsp;<span class="builtinfunc" id="7077865">len</span><span class="op" id="7077868">(</span><span class="ident" id="7077869">test</span><span class="op" id="7077873">.</span><span class="ident" id="7077874">matches</span><span class="op" id="7077881">)</span>&nbsp;<span class="op" id="7077883">!=</span>&nbsp;<span class="builtinfunc" id="7077886">len</span><span class="op" id="7077889">(</span><span class="ident" id="7077890">result</span><span class="op" id="7077896">)</span><span class="op" id="7077897">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7077902">t</span><span class="op" id="7077903">.</span><span class="ident" id="7077904">Errorf</span><span class="op" id="7077910">(</span><span class="string" id="7077911">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7077944">,</span>&nbsp;<span class="builtinfunc" id="7077946">len</span><span class="op" id="7077949">(</span><span class="ident" id="7077950">test</span><span class="op" id="7077954">.</span><span class="ident" id="7077955">matches</span><span class="op" id="7077962">)</span><span class="op" id="7077963">,</span>&nbsp;<span class="builtinfunc" id="7077965">len</span><span class="op" id="7077968">(</span><span class="ident" id="7077969">result</span><span class="op" id="7077975">)</span><span class="op" id="7077976">,</span>&nbsp;<span class="ident" id="7077978">test</span><span class="op" id="7077982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7077986">case</span>&nbsp;<span class="ident" id="7077991">test</span><span class="op" id="7077995">.</span><span class="ident" id="7077996">matches</span>&nbsp;<span class="op" id="7078004">!=</span>&nbsp;<span class="ident" id="7078007">nil</span>&nbsp;<span class="op" id="7078011">&amp;&amp;</span>&nbsp;<span class="ident" id="7078014">result</span>&nbsp;<span class="op" id="7078021">!=</span>&nbsp;<span class="ident" id="7078024">nil</span><span class="op" id="7078027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078032">for</span>&nbsp;<span class="ident" id="7078036">k</span><span class="op" id="7078037">,</span>&nbsp;<span class="ident" id="7078039">match</span>&nbsp;<span class="op" id="7078045">:=</span>&nbsp;<span class="keyword" id="7078048">range</span>&nbsp;<span class="ident" id="7078054">test</span><span class="op" id="7078058">.</span><span class="ident" id="7078059">matches</span>&nbsp;<span class="op" id="7078067">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078073">testSubmatchBytes</span><span class="op" id="7078090">(</span><span class="op" id="7078091">&amp;</span><span class="ident" id="7078092">test</span><span class="op" id="7078096">,</span>&nbsp;<span class="ident" id="7078098">k</span><span class="op" id="7078099">,</span>&nbsp;<span class="ident" id="7078101">match</span><span class="op" id="7078106">,</span>&nbsp;<span class="ident" id="7078108">result</span><span class="op" id="7078114">[</span><span class="ident" id="7078115">k</span><span class="op" id="7078116">]</span><span class="op" id="7078117">,</span>&nbsp;<span class="ident" id="7078119">t</span><span class="op" id="7078120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078132">}</span><br>
<span class="lineno"></span><span class="op" id="7078134">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7078137">func</span>&nbsp;<span class="ident" id="7078142">TestFindAllStringSubmatch</span><span class="op" id="7078167">(</span><span class="ident" id="7078168">t</span>&nbsp;<span class="op" id="7078170">*</span><span class="ident" id="7078171">testing</span><span class="op" id="7078178">.</span><span class="ident" id="7078179">T</span><span class="op" id="7078180">)</span>&nbsp;<span class="op" id="7078182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078185">for</span>&nbsp;<span class="ident" id="7078189">_</span><span class="op" id="7078190">,</span>&nbsp;<span class="ident" id="7078192">test</span>&nbsp;<span class="op" id="7078197">:=</span>&nbsp;<span class="keyword" id="7078200">range</span>&nbsp;<span class="ident" id="7078206">findTests</span>&nbsp;<span class="op" id="7078216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078220">result</span>&nbsp;<span class="op" id="7078227">:=</span>&nbsp;<span class="ident" id="7078230">MustCompile</span><span class="op" id="7078241">(</span><span class="ident" id="7078242">test</span><span class="op" id="7078246">.</span><span class="ident" id="7078247">pat</span><span class="op" id="7078250">)</span><span class="op" id="7078251">.</span><span class="ident" id="7078252">FindAllStringSubmatch</span><span class="op" id="7078273">(</span><span class="ident" id="7078274">test</span><span class="op" id="7078278">.</span><span class="ident" id="7078279">text</span><span class="op" id="7078283">,</span>&nbsp;<span class="op" id="7078285">-</span><span class="num" id="7078286">1</span><span class="op" id="7078287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078291">switch</span>&nbsp;<span class="op" id="7078298">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078302">case</span>&nbsp;<span class="ident" id="7078307">test</span><span class="op" id="7078311">.</span><span class="ident" id="7078312">matches</span>&nbsp;<span class="op" id="7078320">==</span>&nbsp;<span class="ident" id="7078323">nil</span>&nbsp;<span class="op" id="7078327">&amp;&amp;</span>&nbsp;<span class="ident" id="7078330">result</span>&nbsp;<span class="op" id="7078337">==</span>&nbsp;<span class="ident" id="7078340">nil</span><span class="op" id="7078343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7078348">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078356">case</span>&nbsp;<span class="ident" id="7078361">test</span><span class="op" id="7078365">.</span><span class="ident" id="7078366">matches</span>&nbsp;<span class="op" id="7078374">==</span>&nbsp;<span class="ident" id="7078377">nil</span>&nbsp;<span class="op" id="7078381">&amp;&amp;</span>&nbsp;<span class="ident" id="7078384">result</span>&nbsp;<span class="op" id="7078391">!=</span>&nbsp;<span class="ident" id="7078394">nil</span><span class="op" id="7078397">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078402">t</span><span class="op" id="7078403">.</span><span class="ident" id="7078404">Errorf</span><span class="op" id="7078410">(</span><span class="string" id="7078411">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7078443">,</span>&nbsp;<span class="ident" id="7078445">test</span><span class="op" id="7078449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078453">case</span>&nbsp;<span class="ident" id="7078458">test</span><span class="op" id="7078462">.</span><span class="ident" id="7078463">matches</span>&nbsp;<span class="op" id="7078471">!=</span>&nbsp;<span class="ident" id="7078474">nil</span>&nbsp;<span class="op" id="7078478">&amp;&amp;</span>&nbsp;<span class="ident" id="7078481">result</span>&nbsp;<span class="op" id="7078488">==</span>&nbsp;<span class="ident" id="7078491">nil</span><span class="op" id="7078494">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078499">t</span><span class="op" id="7078500">.</span><span class="ident" id="7078501">Errorf</span><span class="op" id="7078507">(</span><span class="string" id="7078508">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7078538">,</span>&nbsp;<span class="ident" id="7078540">test</span><span class="op" id="7078544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078548">case</span>&nbsp;<span class="builtinfunc" id="7078553">len</span><span class="op" id="7078556">(</span><span class="ident" id="7078557">test</span><span class="op" id="7078561">.</span><span class="ident" id="7078562">matches</span><span class="op" id="7078569">)</span>&nbsp;<span class="op" id="7078571">!=</span>&nbsp;<span class="builtinfunc" id="7078574">len</span><span class="op" id="7078577">(</span><span class="ident" id="7078578">result</span><span class="op" id="7078584">)</span><span class="op" id="7078585">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078590">t</span><span class="op" id="7078591">.</span><span class="ident" id="7078592">Errorf</span><span class="op" id="7078598">(</span><span class="string" id="7078599">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7078632">,</span>&nbsp;<span class="builtinfunc" id="7078634">len</span><span class="op" id="7078637">(</span><span class="ident" id="7078638">test</span><span class="op" id="7078642">.</span><span class="ident" id="7078643">matches</span><span class="op" id="7078650">)</span><span class="op" id="7078651">,</span>&nbsp;<span class="builtinfunc" id="7078653">len</span><span class="op" id="7078656">(</span><span class="ident" id="7078657">result</span><span class="op" id="7078663">)</span><span class="op" id="7078664">,</span>&nbsp;<span class="ident" id="7078666">test</span><span class="op" id="7078670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078674">case</span>&nbsp;<span class="ident" id="7078679">test</span><span class="op" id="7078683">.</span><span class="ident" id="7078684">matches</span>&nbsp;<span class="op" id="7078692">!=</span>&nbsp;<span class="ident" id="7078695">nil</span>&nbsp;<span class="op" id="7078699">&amp;&amp;</span>&nbsp;<span class="ident" id="7078702">result</span>&nbsp;<span class="op" id="7078709">!=</span>&nbsp;<span class="ident" id="7078712">nil</span><span class="op" id="7078715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078720">for</span>&nbsp;<span class="ident" id="7078724">k</span><span class="op" id="7078725">,</span>&nbsp;<span class="ident" id="7078727">match</span>&nbsp;<span class="op" id="7078733">:=</span>&nbsp;<span class="keyword" id="7078736">range</span>&nbsp;<span class="ident" id="7078742">test</span><span class="op" id="7078746">.</span><span class="ident" id="7078747">matches</span>&nbsp;<span class="op" id="7078755">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7078761">testSubmatchString</span><span class="op" id="7078779">(</span><span class="op" id="7078780">&amp;</span><span class="ident" id="7078781">test</span><span class="op" id="7078785">,</span>&nbsp;<span class="ident" id="7078787">k</span><span class="op" id="7078788">,</span>&nbsp;<span class="ident" id="7078790">match</span><span class="op" id="7078795">,</span>&nbsp;<span class="ident" id="7078797">result</span><span class="op" id="7078803">[</span><span class="ident" id="7078804">k</span><span class="op" id="7078805">]</span><span class="op" id="7078806">,</span>&nbsp;<span class="ident" id="7078808">t</span><span class="op" id="7078809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7078821">}</span><br>
<span class="lineno"></span><span class="op" id="7078823">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="7078826">func</span>&nbsp;<span class="ident" id="7078831">testFindAllSubmatchIndex</span><span class="op" id="7078855">(</span><span class="ident" id="7078856">test</span>&nbsp;<span class="op" id="7078861">*</span><span class="ident" id="7078862">FindTest</span><span class="op" id="7078870">,</span>&nbsp;<span class="ident" id="7078872">result</span>&nbsp;<span class="op" id="7078879">[</span><span class="op" id="7078880">]</span><span class="op" id="7078881">[</span><span class="op" id="7078882">]</span><span class="builtintype" id="7078883">int</span><span class="op" id="7078886">,</span>&nbsp;<span class="ident" id="7078888">t</span>&nbsp;<span class="op" id="7078890">*</span><span class="ident" id="7078891">testing</span><span class="op" id="7078898">.</span><span class="ident" id="7078899">T</span><span class="op" id="7078900">)</span>&nbsp;<span class="op" id="7078902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078905">switch</span>&nbsp;<span class="op" id="7078912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078915">case</span>&nbsp;<span class="ident" id="7078920">test</span><span class="op" id="7078924">.</span><span class="ident" id="7078925">matches</span>&nbsp;<span class="op" id="7078933">==</span>&nbsp;<span class="ident" id="7078936">nil</span>&nbsp;<span class="op" id="7078940">&amp;&amp;</span>&nbsp;<span class="ident" id="7078943">result</span>&nbsp;<span class="op" id="7078950">==</span>&nbsp;<span class="ident" id="7078953">nil</span><span class="op" id="7078956">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7078960">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7078967">case</span>&nbsp;<span class="ident" id="7078972">test</span><span class="op" id="7078976">.</span><span class="ident" id="7078977">matches</span>&nbsp;<span class="op" id="7078985">==</span>&nbsp;<span class="ident" id="7078988">nil</span>&nbsp;<span class="op" id="7078992">&amp;&amp;</span>&nbsp;<span class="ident" id="7078995">result</span>&nbsp;<span class="op" id="7079002">!=</span>&nbsp;<span class="ident" id="7079005">nil</span><span class="op" id="7079008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079012">t</span><span class="op" id="7079013">.</span><span class="ident" id="7079014">Errorf</span><span class="op" id="7079020">(</span><span class="string" id="7079021">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="7079053">,</span>&nbsp;<span class="ident" id="7079055">test</span><span class="op" id="7079059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7079062">case</span>&nbsp;<span class="ident" id="7079067">test</span><span class="op" id="7079071">.</span><span class="ident" id="7079072">matches</span>&nbsp;<span class="op" id="7079080">!=</span>&nbsp;<span class="ident" id="7079083">nil</span>&nbsp;<span class="op" id="7079087">&amp;&amp;</span>&nbsp;<span class="ident" id="7079090">result</span>&nbsp;<span class="op" id="7079097">==</span>&nbsp;<span class="ident" id="7079100">nil</span><span class="op" id="7079103">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079107">t</span><span class="op" id="7079108">.</span><span class="ident" id="7079109">Errorf</span><span class="op" id="7079115">(</span><span class="string" id="7079116">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="7079146">,</span>&nbsp;<span class="ident" id="7079148">test</span><span class="op" id="7079152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7079155">case</span>&nbsp;<span class="builtinfunc" id="7079160">len</span><span class="op" id="7079163">(</span><span class="ident" id="7079164">test</span><span class="op" id="7079168">.</span><span class="ident" id="7079169">matches</span><span class="op" id="7079176">)</span>&nbsp;<span class="op" id="7079178">!=</span>&nbsp;<span class="builtinfunc" id="7079181">len</span><span class="op" id="7079184">(</span><span class="ident" id="7079185">result</span><span class="op" id="7079191">)</span><span class="op" id="7079192">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079196">t</span><span class="op" id="7079197">.</span><span class="ident" id="7079198">Errorf</span><span class="op" id="7079204">(</span><span class="string" id="7079205">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7079238">,</span>&nbsp;<span class="builtinfunc" id="7079240">len</span><span class="op" id="7079243">(</span><span class="ident" id="7079244">test</span><span class="op" id="7079248">.</span><span class="ident" id="7079249">matches</span><span class="op" id="7079256">)</span><span class="op" id="7079257">,</span>&nbsp;<span class="builtinfunc" id="7079259">len</span><span class="op" id="7079262">(</span><span class="ident" id="7079263">result</span><span class="op" id="7079269">)</span><span class="op" id="7079270">,</span>&nbsp;<span class="ident" id="7079272">test</span><span class="op" id="7079276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7079279">case</span>&nbsp;<span class="ident" id="7079284">test</span><span class="op" id="7079288">.</span><span class="ident" id="7079289">matches</span>&nbsp;<span class="op" id="7079297">!=</span>&nbsp;<span class="ident" id="7079300">nil</span>&nbsp;<span class="op" id="7079304">&amp;&amp;</span>&nbsp;<span class="ident" id="7079307">result</span>&nbsp;<span class="op" id="7079314">!=</span>&nbsp;<span class="ident" id="7079317">nil</span><span class="op" id="7079320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7079324">for</span>&nbsp;<span class="ident" id="7079328">k</span><span class="op" id="7079329">,</span>&nbsp;<span class="ident" id="7079331">match</span>&nbsp;<span class="op" id="7079337">:=</span>&nbsp;<span class="keyword" id="7079340">range</span>&nbsp;<span class="ident" id="7079346">test</span><span class="op" id="7079350">.</span><span class="ident" id="7079351">matches</span>&nbsp;<span class="op" id="7079359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079364">testSubmatchIndices</span><span class="op" id="7079383">(</span><span class="ident" id="7079384">test</span><span class="op" id="7079388">,</span>&nbsp;<span class="ident" id="7079390">k</span><span class="op" id="7079391">,</span>&nbsp;<span class="ident" id="7079393">match</span><span class="op" id="7079398">,</span>&nbsp;<span class="ident" id="7079400">result</span><span class="op" id="7079406">[</span><span class="ident" id="7079407">k</span><span class="op" id="7079408">]</span><span class="op" id="7079409">,</span>&nbsp;<span class="ident" id="7079411">t</span><span class="op" id="7079412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079416">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079419">}</span><br>
<span class="lineno"></span><span class="op" id="7079421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7079424">func</span>&nbsp;<span class="ident" id="7079429">TestFindAllSubmatchIndex</span><span class="op" id="7079453">(</span><span class="ident" id="7079454">t</span>&nbsp;<span class="op" id="7079456">*</span><span class="ident" id="7079457">testing</span><span class="op" id="7079464">.</span><span class="ident" id="7079465">T</span><span class="op" id="7079466">)</span>&nbsp;<span class="op" id="7079468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7079471">for</span>&nbsp;<span class="ident" id="7079475">_</span><span class="op" id="7079476">,</span>&nbsp;<span class="ident" id="7079478">test</span>&nbsp;<span class="op" id="7079483">:=</span>&nbsp;<span class="keyword" id="7079486">range</span>&nbsp;<span class="ident" id="7079492">findTests</span>&nbsp;<span class="op" id="7079502">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079506">testFindAllSubmatchIndex</span><span class="op" id="7079530">(</span><span class="op" id="7079531">&amp;</span><span class="ident" id="7079532">test</span><span class="op" id="7079536">,</span>&nbsp;<span class="ident" id="7079538">MustCompile</span><span class="op" id="7079549">(</span><span class="ident" id="7079550">test</span><span class="op" id="7079554">.</span><span class="ident" id="7079555">pat</span><span class="op" id="7079558">)</span><span class="op" id="7079559">.</span><span class="ident" id="7079560">FindAllSubmatchIndex</span><span class="op" id="7079580">(</span><span class="op" id="7079581">[</span><span class="op" id="7079582">]</span><span class="builtintype" id="7079583">byte</span><span class="op" id="7079587">(</span><span class="ident" id="7079588">test</span><span class="op" id="7079592">.</span><span class="ident" id="7079593">text</span><span class="op" id="7079597">)</span><span class="op" id="7079598">,</span>&nbsp;<span class="op" id="7079600">-</span><span class="num" id="7079601">1</span><span class="op" id="7079602">)</span><span class="op" id="7079603">,</span>&nbsp;<span class="ident" id="7079605">t</span><span class="op" id="7079606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079609">}</span><br>
<span class="lineno"></span><span class="op" id="7079611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7079614">func</span>&nbsp;<span class="ident" id="7079619">TestFindAllStringSubmatchIndex</span><span class="op" id="7079649">(</span><span class="ident" id="7079650">t</span>&nbsp;<span class="op" id="7079652">*</span><span class="ident" id="7079653">testing</span><span class="op" id="7079660">.</span><span class="ident" id="7079661">T</span><span class="op" id="7079662">)</span>&nbsp;<span class="op" id="7079664">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7079667">for</span>&nbsp;<span class="ident" id="7079671">_</span><span class="op" id="7079672">,</span>&nbsp;<span class="ident" id="7079674">test</span>&nbsp;<span class="op" id="7079679">:=</span>&nbsp;<span class="keyword" id="7079682">range</span>&nbsp;<span class="ident" id="7079688">findTests</span>&nbsp;<span class="op" id="7079698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7079702">testFindAllSubmatchIndex</span><span class="op" id="7079726">(</span><span class="op" id="7079727">&amp;</span><span class="ident" id="7079728">test</span><span class="op" id="7079732">,</span>&nbsp;<span class="ident" id="7079734">MustCompile</span><span class="op" id="7079745">(</span><span class="ident" id="7079746">test</span><span class="op" id="7079750">.</span><span class="ident" id="7079751">pat</span><span class="op" id="7079754">)</span><span class="op" id="7079755">.</span><span class="ident" id="7079756">FindAllStringSubmatchIndex</span><span class="op" id="7079782">(</span><span class="ident" id="7079783">test</span><span class="op" id="7079787">.</span><span class="ident" id="7079788">text</span><span class="op" id="7079792">,</span>&nbsp;<span class="op" id="7079794">-</span><span class="num" id="7079795">1</span><span class="op" id="7079796">)</span><span class="op" id="7079797">,</span>&nbsp;<span class="ident" id="7079799">t</span><span class="op" id="7079800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7079803">}</span><br>
<span class="lineno"></span><span class="op" id="7079805">}</span>
</div>
</body>
</html>
