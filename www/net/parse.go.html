<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3420601">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3420656">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3420710">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3420761">//&nbsp;Simple&nbsp;file&nbsp;i/o&nbsp;and&nbsp;string&nbsp;manipulation,&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span><span class="comment" id="3420814">//&nbsp;depending&nbsp;on&nbsp;strconv&nbsp;and&nbsp;bufio&nbsp;and&nbsp;strings.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3420862">package</span>&nbsp;<span class="ident" id="3420870">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="3420875">import</span>&nbsp;<span class="op" id="3420882">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3420885">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3420891">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3420896">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3420899">type</span>&nbsp;<span class="ident" id="3420904">file</span>&nbsp;<span class="keyword" id="3420909">struct</span>&nbsp;<span class="op" id="3420916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3420919">file</span>&nbsp;&nbsp;<span class="op" id="3420925">*</span><span class="ident" id="3420926">os</span><span class="op" id="3420928">.</span><span class="ident" id="3420929">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3420935">data</span>&nbsp;&nbsp;<span class="op" id="3420941">[</span><span class="op" id="3420942">]</span><span class="builtintype" id="3420943">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3420949">atEOF</span>&nbsp;<span class="builtintype" id="3420955">bool</span><br>
<span class="lineno"></span><span class="op" id="3420960">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="3420963">func</span>&nbsp;<span class="op" id="3420968">(</span><span class="ident" id="3420969">f</span>&nbsp;<span class="op" id="3420971">*</span><span class="ident" id="3420972">file</span><span class="op" id="3420976">)</span>&nbsp;<span class="builtinfunc" id="3420978">close</span><span class="op" id="3420983">(</span><span class="op" id="3420984">)</span>&nbsp;<span class="op" id="3420986">{</span>&nbsp;<span class="ident" id="3420988">f</span><span class="op" id="3420989">.</span><span class="ident" id="3420990">file</span><span class="op" id="3420994">.</span><span class="ident" id="3420995">Close</span><span class="op" id="3421000">(</span><span class="op" id="3421001">)</span>&nbsp;<span class="op" id="3421003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3421006">func</span>&nbsp;<span class="op" id="3421011">(</span><span class="ident" id="3421012">f</span>&nbsp;<span class="op" id="3421014">*</span><span class="ident" id="3421015">file</span><span class="op" id="3421019">)</span>&nbsp;<span class="ident" id="3421021">getLineFromData</span><span class="op" id="3421036">(</span><span class="op" id="3421037">)</span>&nbsp;<span class="op" id="3421039">(</span><span class="ident" id="3421040">s</span>&nbsp;<span class="builtintype" id="3421042">string</span><span class="op" id="3421048">,</span>&nbsp;<span class="ident" id="3421050">ok</span>&nbsp;<span class="builtintype" id="3421053">bool</span><span class="op" id="3421057">)</span>&nbsp;<span class="op" id="3421059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421062">data</span>&nbsp;<span class="op" id="3421067">:=</span>&nbsp;<span class="ident" id="3421070">f</span><span class="op" id="3421071">.</span><span class="ident" id="3421072">data</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421078">i</span>&nbsp;<span class="op" id="3421080">:=</span>&nbsp;<span class="num" id="3421083">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421086">for</span>&nbsp;<span class="ident" id="3421090">i</span>&nbsp;<span class="op" id="3421092">=</span>&nbsp;<span class="num" id="3421094">0</span><span class="op" id="3421095">;</span>&nbsp;<span class="ident" id="3421097">i</span>&nbsp;<span class="op" id="3421099">&lt;</span>&nbsp;<span class="builtinfunc" id="3421101">len</span><span class="op" id="3421104">(</span><span class="ident" id="3421105">data</span><span class="op" id="3421109">)</span><span class="op" id="3421110">;</span>&nbsp;<span class="ident" id="3421112">i</span><span class="op" id="3421113">++</span>&nbsp;<span class="op" id="3421116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421120">if</span>&nbsp;<span class="ident" id="3421123">data</span><span class="op" id="3421127">[</span><span class="ident" id="3421128">i</span><span class="op" id="3421129">]</span>&nbsp;<span class="op" id="3421131">==</span>&nbsp;<span class="string" id="3421134">&#39;\n&#39;</span>&nbsp;<span class="op" id="3421139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421144">s</span>&nbsp;<span class="op" id="3421146">=</span>&nbsp;<span class="builtintype" id="3421148">string</span><span class="op" id="3421154">(</span><span class="ident" id="3421155">data</span><span class="op" id="3421159">[</span><span class="num" id="3421160">0</span><span class="op" id="3421161">:</span><span class="ident" id="3421162">i</span><span class="op" id="3421163">]</span><span class="op" id="3421164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421169">ok</span>&nbsp;<span class="op" id="3421172">=</span>&nbsp;<span class="ident" id="3421174">true</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3421182">//&nbsp;move&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421198">i</span><span class="op" id="3421199">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421205">n</span>&nbsp;<span class="op" id="3421207">:=</span>&nbsp;<span class="builtinfunc" id="3421210">len</span><span class="op" id="3421213">(</span><span class="ident" id="3421214">data</span><span class="op" id="3421218">)</span>&nbsp;<span class="op" id="3421220">-</span>&nbsp;<span class="ident" id="3421222">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3421227">copy</span><span class="op" id="3421231">(</span><span class="ident" id="3421232">data</span><span class="op" id="3421236">[</span><span class="num" id="3421237">0</span><span class="op" id="3421238">:</span><span class="op" id="3421239">]</span><span class="op" id="3421240">,</span>&nbsp;<span class="ident" id="3421242">data</span><span class="op" id="3421246">[</span><span class="ident" id="3421247">i</span><span class="op" id="3421248">:</span><span class="op" id="3421249">]</span><span class="op" id="3421250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421255">f</span><span class="op" id="3421256">.</span><span class="ident" id="3421257">data</span>&nbsp;<span class="op" id="3421262">=</span>&nbsp;<span class="ident" id="3421264">data</span><span class="op" id="3421268">[</span><span class="num" id="3421269">0</span><span class="op" id="3421270">:</span><span class="ident" id="3421271">n</span><span class="op" id="3421272">]</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421277">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3421286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3421289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421292">if</span>&nbsp;<span class="ident" id="3421295">f</span><span class="op" id="3421296">.</span><span class="ident" id="3421297">atEOF</span>&nbsp;<span class="op" id="3421303">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3421306">len</span><span class="op" id="3421309">(</span><span class="ident" id="3421310">f</span><span class="op" id="3421311">.</span><span class="ident" id="3421312">data</span><span class="op" id="3421316">)</span>&nbsp;<span class="op" id="3421318">&gt;</span>&nbsp;<span class="num" id="3421320">0</span>&nbsp;<span class="op" id="3421322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3421326">//&nbsp;EOF,&nbsp;return&nbsp;all&nbsp;we&nbsp;have</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421355">s</span>&nbsp;<span class="op" id="3421357">=</span>&nbsp;<span class="builtintype" id="3421359">string</span><span class="op" id="3421365">(</span><span class="ident" id="3421366">data</span><span class="op" id="3421370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421374">f</span><span class="op" id="3421375">.</span><span class="ident" id="3421376">data</span>&nbsp;<span class="op" id="3421381">=</span>&nbsp;<span class="ident" id="3421383">f</span><span class="op" id="3421384">.</span><span class="ident" id="3421385">data</span><span class="op" id="3421389">[</span><span class="num" id="3421390">0</span><span class="op" id="3421391">:</span><span class="num" id="3421392">0</span><span class="op" id="3421393">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421397">ok</span>&nbsp;<span class="op" id="3421400">=</span>&nbsp;<span class="ident" id="3421402">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3421408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421411">return</span><br>
<span class="lineno">45</span><span class="op" id="3421418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3421421">func</span>&nbsp;<span class="op" id="3421426">(</span><span class="ident" id="3421427">f</span>&nbsp;<span class="op" id="3421429">*</span><span class="ident" id="3421430">file</span><span class="op" id="3421434">)</span>&nbsp;<span class="ident" id="3421436">readLine</span><span class="op" id="3421444">(</span><span class="op" id="3421445">)</span>&nbsp;<span class="op" id="3421447">(</span><span class="ident" id="3421448">s</span>&nbsp;<span class="builtintype" id="3421450">string</span><span class="op" id="3421456">,</span>&nbsp;<span class="ident" id="3421458">ok</span>&nbsp;<span class="builtintype" id="3421461">bool</span><span class="op" id="3421465">)</span>&nbsp;<span class="op" id="3421467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421470">if</span>&nbsp;<span class="ident" id="3421473">s</span><span class="op" id="3421474">,</span>&nbsp;<span class="ident" id="3421476">ok</span>&nbsp;<span class="op" id="3421479">=</span>&nbsp;<span class="ident" id="3421481">f</span><span class="op" id="3421482">.</span><span class="ident" id="3421483">getLineFromData</span><span class="op" id="3421498">(</span><span class="op" id="3421499">)</span><span class="op" id="3421500">;</span>&nbsp;<span class="ident" id="3421502">ok</span>&nbsp;<span class="op" id="3421505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421509">return</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3421517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421520">if</span>&nbsp;<span class="builtinfunc" id="3421523">len</span><span class="op" id="3421526">(</span><span class="ident" id="3421527">f</span><span class="op" id="3421528">.</span><span class="ident" id="3421529">data</span><span class="op" id="3421533">)</span>&nbsp;<span class="op" id="3421535">&lt;</span>&nbsp;<span class="builtinfunc" id="3421537">cap</span><span class="op" id="3421540">(</span><span class="ident" id="3421541">f</span><span class="op" id="3421542">.</span><span class="ident" id="3421543">data</span><span class="op" id="3421547">)</span>&nbsp;<span class="op" id="3421549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421553">ln</span>&nbsp;<span class="op" id="3421556">:=</span>&nbsp;<span class="builtinfunc" id="3421559">len</span><span class="op" id="3421562">(</span><span class="ident" id="3421563">f</span><span class="op" id="3421564">.</span><span class="ident" id="3421565">data</span><span class="op" id="3421569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421573">n</span><span class="op" id="3421574">,</span>&nbsp;<span class="ident" id="3421576">err</span>&nbsp;<span class="op" id="3421580">:=</span>&nbsp;<span class="ident" id="3421583">io</span><span class="op" id="3421585">.</span><span class="ident" id="3421586">ReadFull</span><span class="op" id="3421594">(</span><span class="ident" id="3421595">f</span><span class="op" id="3421596">.</span><span class="ident" id="3421597">file</span><span class="op" id="3421601">,</span>&nbsp;<span class="ident" id="3421603">f</span><span class="op" id="3421604">.</span><span class="ident" id="3421605">data</span><span class="op" id="3421609">[</span><span class="ident" id="3421610">ln</span><span class="op" id="3421612">:</span><span class="builtinfunc" id="3421613">cap</span><span class="op" id="3421616">(</span><span class="ident" id="3421617">f</span><span class="op" id="3421618">.</span><span class="ident" id="3421619">data</span><span class="op" id="3421623">)</span><span class="op" id="3421624">]</span><span class="op" id="3421625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421629">if</span>&nbsp;<span class="ident" id="3421632">n</span>&nbsp;<span class="op" id="3421634">&gt;=</span>&nbsp;<span class="num" id="3421637">0</span>&nbsp;<span class="op" id="3421639">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421644">f</span><span class="op" id="3421645">.</span><span class="ident" id="3421646">data</span>&nbsp;<span class="op" id="3421651">=</span>&nbsp;<span class="ident" id="3421653">f</span><span class="op" id="3421654">.</span><span class="ident" id="3421655">data</span><span class="op" id="3421659">[</span><span class="num" id="3421660">0</span>&nbsp;<span class="op" id="3421662">:</span>&nbsp;<span class="ident" id="3421664">ln</span><span class="op" id="3421666">+</span><span class="ident" id="3421667">n</span><span class="op" id="3421668">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3421672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421676">if</span>&nbsp;<span class="ident" id="3421679">err</span>&nbsp;<span class="op" id="3421683">==</span>&nbsp;<span class="ident" id="3421686">io</span><span class="op" id="3421688">.</span><span class="ident" id="3421689">EOF</span>&nbsp;<span class="op" id="3421693">||</span>&nbsp;<span class="ident" id="3421696">err</span>&nbsp;<span class="op" id="3421700">==</span>&nbsp;<span class="ident" id="3421703">io</span><span class="op" id="3421705">.</span><span class="ident" id="3421706">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="3421723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421728">f</span><span class="op" id="3421729">.</span><span class="ident" id="3421730">atEOF</span>&nbsp;<span class="op" id="3421736">=</span>&nbsp;<span class="ident" id="3421738">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3421745">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3421748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421751">s</span><span class="op" id="3421752">,</span>&nbsp;<span class="ident" id="3421754">ok</span>&nbsp;<span class="op" id="3421757">=</span>&nbsp;<span class="ident" id="3421759">f</span><span class="op" id="3421760">.</span><span class="ident" id="3421761">getLineFromData</span><span class="op" id="3421776">(</span><span class="op" id="3421777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421780">return</span><br>
<span class="lineno"></span><span class="op" id="3421787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3421790">func</span>&nbsp;<span class="ident" id="3421795">open</span><span class="op" id="3421799">(</span><span class="ident" id="3421800">name</span>&nbsp;<span class="builtintype" id="3421805">string</span><span class="op" id="3421811">)</span>&nbsp;<span class="op" id="3421813">(</span><span class="op" id="3421814">*</span><span class="ident" id="3421815">file</span><span class="op" id="3421819">,</span>&nbsp;<span class="builtintype" id="3421821">error</span><span class="op" id="3421826">)</span>&nbsp;<span class="op" id="3421828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3421831">fd</span><span class="op" id="3421833">,</span>&nbsp;<span class="ident" id="3421835">err</span>&nbsp;<span class="op" id="3421839">:=</span>&nbsp;<span class="ident" id="3421842">os</span><span class="op" id="3421844">.</span><span class="ident" id="3421845">Open</span><span class="op" id="3421849">(</span><span class="ident" id="3421850">name</span><span class="op" id="3421854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421857">if</span>&nbsp;<span class="ident" id="3421860">err</span>&nbsp;<span class="op" id="3421864">!=</span>&nbsp;<span class="ident" id="3421867">nil</span>&nbsp;<span class="op" id="3421871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421875">return</span>&nbsp;<span class="ident" id="3421882">nil</span><span class="op" id="3421885">,</span>&nbsp;<span class="ident" id="3421887">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3421892">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3421895">return</span>&nbsp;<span class="op" id="3421902">&amp;</span><span class="ident" id="3421903">file</span><span class="op" id="3421907">{</span><span class="ident" id="3421908">fd</span><span class="op" id="3421910">,</span>&nbsp;<span class="builtinfunc" id="3421912">make</span><span class="op" id="3421916">(</span><span class="op" id="3421917">[</span><span class="op" id="3421918">]</span><span class="builtintype" id="3421919">byte</span><span class="op" id="3421923">,</span>&nbsp;<span class="num" id="3421925">0</span><span class="op" id="3421926">,</span>&nbsp;<span class="ident" id="3421928">os</span><span class="op" id="3421930">.</span><span class="ident" id="3421931">Getpagesize</span><span class="op" id="3421942">(</span><span class="op" id="3421943">)</span><span class="op" id="3421944">)</span><span class="op" id="3421945">,</span>&nbsp;<span class="ident" id="3421947">false</span><span class="op" id="3421952">}</span><span class="op" id="3421953">,</span>&nbsp;<span class="ident" id="3421955">nil</span><br>
<span class="lineno"></span><span class="op" id="3421959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3421962">func</span>&nbsp;<span class="ident" id="3421967">byteIndex</span><span class="op" id="3421976">(</span><span class="ident" id="3421977">s</span>&nbsp;<span class="builtintype" id="3421979">string</span><span class="op" id="3421985">,</span>&nbsp;<span class="ident" id="3421987">c</span>&nbsp;<span class="builtintype" id="3421989">byte</span><span class="op" id="3421993">)</span>&nbsp;<span class="builtintype" id="3421995">int</span>&nbsp;<span class="op" id="3421999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422002">for</span>&nbsp;<span class="ident" id="3422006">i</span>&nbsp;<span class="op" id="3422008">:=</span>&nbsp;<span class="num" id="3422011">0</span><span class="op" id="3422012">;</span>&nbsp;<span class="ident" id="3422014">i</span>&nbsp;<span class="op" id="3422016">&lt;</span>&nbsp;<span class="builtinfunc" id="3422018">len</span><span class="op" id="3422021">(</span><span class="ident" id="3422022">s</span><span class="op" id="3422023">)</span><span class="op" id="3422024">;</span>&nbsp;<span class="ident" id="3422026">i</span><span class="op" id="3422027">++</span>&nbsp;<span class="op" id="3422030">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422034">if</span>&nbsp;<span class="ident" id="3422037">s</span><span class="op" id="3422038">[</span><span class="ident" id="3422039">i</span><span class="op" id="3422040">]</span>&nbsp;<span class="op" id="3422042">==</span>&nbsp;<span class="ident" id="3422045">c</span>&nbsp;<span class="op" id="3422047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422052">return</span>&nbsp;<span class="ident" id="3422059">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3422063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3422066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422069">return</span>&nbsp;<span class="op" id="3422076">-</span><span class="num" id="3422077">1</span><br>
<span class="lineno">80</span><span class="op" id="3422079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3422082">//&nbsp;Count&nbsp;occurrences&nbsp;in&nbsp;s&nbsp;of&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3422127">func</span>&nbsp;<span class="ident" id="3422132">countAnyByte</span><span class="op" id="3422144">(</span><span class="ident" id="3422145">s</span>&nbsp;<span class="builtintype" id="3422147">string</span><span class="op" id="3422153">,</span>&nbsp;<span class="ident" id="3422155">t</span>&nbsp;<span class="builtintype" id="3422157">string</span><span class="op" id="3422163">)</span>&nbsp;<span class="builtintype" id="3422165">int</span>&nbsp;<span class="op" id="3422169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422172">n</span>&nbsp;<span class="op" id="3422174">:=</span>&nbsp;<span class="num" id="3422177">0</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422180">for</span>&nbsp;<span class="ident" id="3422184">i</span>&nbsp;<span class="op" id="3422186">:=</span>&nbsp;<span class="num" id="3422189">0</span><span class="op" id="3422190">;</span>&nbsp;<span class="ident" id="3422192">i</span>&nbsp;<span class="op" id="3422194">&lt;</span>&nbsp;<span class="builtinfunc" id="3422196">len</span><span class="op" id="3422199">(</span><span class="ident" id="3422200">s</span><span class="op" id="3422201">)</span><span class="op" id="3422202">;</span>&nbsp;<span class="ident" id="3422204">i</span><span class="op" id="3422205">++</span>&nbsp;<span class="op" id="3422208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422212">if</span>&nbsp;<span class="ident" id="3422215">byteIndex</span><span class="op" id="3422224">(</span><span class="ident" id="3422225">t</span><span class="op" id="3422226">,</span>&nbsp;<span class="ident" id="3422228">s</span><span class="op" id="3422229">[</span><span class="ident" id="3422230">i</span><span class="op" id="3422231">]</span><span class="op" id="3422232">)</span>&nbsp;<span class="op" id="3422234">&gt;=</span>&nbsp;<span class="num" id="3422237">0</span>&nbsp;<span class="op" id="3422239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422244">n</span><span class="op" id="3422245">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3422250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3422253">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422256">return</span>&nbsp;<span class="ident" id="3422263">n</span><br>
<span class="lineno"></span><span class="op" id="3422265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3422268">//&nbsp;Split&nbsp;s&nbsp;at&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3422298">func</span>&nbsp;<span class="ident" id="3422303">splitAtBytes</span><span class="op" id="3422315">(</span><span class="ident" id="3422316">s</span>&nbsp;<span class="builtintype" id="3422318">string</span><span class="op" id="3422324">,</span>&nbsp;<span class="ident" id="3422326">t</span>&nbsp;<span class="builtintype" id="3422328">string</span><span class="op" id="3422334">)</span>&nbsp;<span class="op" id="3422336">[</span><span class="op" id="3422337">]</span><span class="builtintype" id="3422338">string</span>&nbsp;<span class="op" id="3422345">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422348">a</span>&nbsp;<span class="op" id="3422350">:=</span>&nbsp;<span class="builtinfunc" id="3422353">make</span><span class="op" id="3422357">(</span><span class="op" id="3422358">[</span><span class="op" id="3422359">]</span><span class="builtintype" id="3422360">string</span><span class="op" id="3422366">,</span>&nbsp;<span class="num" id="3422368">1</span><span class="op" id="3422369">+</span><span class="ident" id="3422370">countAnyByte</span><span class="op" id="3422382">(</span><span class="ident" id="3422383">s</span><span class="op" id="3422384">,</span>&nbsp;<span class="ident" id="3422386">t</span><span class="op" id="3422387">)</span><span class="op" id="3422388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422391">n</span>&nbsp;<span class="op" id="3422393">:=</span>&nbsp;<span class="num" id="3422396">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422399">last</span>&nbsp;<span class="op" id="3422404">:=</span>&nbsp;<span class="num" id="3422407">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422410">for</span>&nbsp;<span class="ident" id="3422414">i</span>&nbsp;<span class="op" id="3422416">:=</span>&nbsp;<span class="num" id="3422419">0</span><span class="op" id="3422420">;</span>&nbsp;<span class="ident" id="3422422">i</span>&nbsp;<span class="op" id="3422424">&lt;</span>&nbsp;<span class="builtinfunc" id="3422426">len</span><span class="op" id="3422429">(</span><span class="ident" id="3422430">s</span><span class="op" id="3422431">)</span><span class="op" id="3422432">;</span>&nbsp;<span class="ident" id="3422434">i</span><span class="op" id="3422435">++</span>&nbsp;<span class="op" id="3422438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422442">if</span>&nbsp;<span class="ident" id="3422445">byteIndex</span><span class="op" id="3422454">(</span><span class="ident" id="3422455">t</span><span class="op" id="3422456">,</span>&nbsp;<span class="ident" id="3422458">s</span><span class="op" id="3422459">[</span><span class="ident" id="3422460">i</span><span class="op" id="3422461">]</span><span class="op" id="3422462">)</span>&nbsp;<span class="op" id="3422464">&gt;=</span>&nbsp;<span class="num" id="3422467">0</span>&nbsp;<span class="op" id="3422469">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422474">if</span>&nbsp;<span class="ident" id="3422477">last</span>&nbsp;<span class="op" id="3422482">&lt;</span>&nbsp;<span class="ident" id="3422484">i</span>&nbsp;<span class="op" id="3422486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422492">a</span><span class="op" id="3422493">[</span><span class="ident" id="3422494">n</span><span class="op" id="3422495">]</span>&nbsp;<span class="op" id="3422497">=</span>&nbsp;<span class="builtintype" id="3422499">string</span><span class="op" id="3422505">(</span><span class="ident" id="3422506">s</span><span class="op" id="3422507">[</span><span class="ident" id="3422508">last</span><span class="op" id="3422512">:</span><span class="ident" id="3422513">i</span><span class="op" id="3422514">]</span><span class="op" id="3422515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422521">n</span><span class="op" id="3422522">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3422528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422533">last</span>&nbsp;<span class="op" id="3422538">=</span>&nbsp;<span class="ident" id="3422540">i</span>&nbsp;<span class="op" id="3422542">+</span>&nbsp;<span class="num" id="3422544">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3422548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3422551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422554">if</span>&nbsp;<span class="ident" id="3422557">last</span>&nbsp;<span class="op" id="3422562">&lt;</span>&nbsp;<span class="builtinfunc" id="3422564">len</span><span class="op" id="3422567">(</span><span class="ident" id="3422568">s</span><span class="op" id="3422569">)</span>&nbsp;<span class="op" id="3422571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422575">a</span><span class="op" id="3422576">[</span><span class="ident" id="3422577">n</span><span class="op" id="3422578">]</span>&nbsp;<span class="op" id="3422580">=</span>&nbsp;<span class="builtintype" id="3422582">string</span><span class="op" id="3422588">(</span><span class="ident" id="3422589">s</span><span class="op" id="3422590">[</span><span class="ident" id="3422591">last</span><span class="op" id="3422595">:</span><span class="op" id="3422596">]</span><span class="op" id="3422597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422601">n</span><span class="op" id="3422602">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3422606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422609">return</span>&nbsp;<span class="ident" id="3422616">a</span><span class="op" id="3422617">[</span><span class="num" id="3422618">0</span><span class="op" id="3422619">:</span><span class="ident" id="3422620">n</span><span class="op" id="3422621">]</span><br>
<span class="lineno"></span><span class="op" id="3422623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3422626">func</span>&nbsp;<span class="ident" id="3422631">getFields</span><span class="op" id="3422640">(</span><span class="ident" id="3422641">s</span>&nbsp;<span class="builtintype" id="3422643">string</span><span class="op" id="3422649">)</span>&nbsp;<span class="op" id="3422651">[</span><span class="op" id="3422652">]</span><span class="builtintype" id="3422653">string</span>&nbsp;<span class="op" id="3422660">{</span>&nbsp;<span class="keyword" id="3422662">return</span>&nbsp;<span class="ident" id="3422669">splitAtBytes</span><span class="op" id="3422681">(</span><span class="ident" id="3422682">s</span><span class="op" id="3422683">,</span>&nbsp;<span class="string" id="3422685">&#34;&nbsp;\r\t\n&#34;</span><span class="op" id="3422694">)</span>&nbsp;<span class="op" id="3422696">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3422699">//&nbsp;Bigger&nbsp;than&nbsp;we&nbsp;need,&nbsp;not&nbsp;too&nbsp;big&nbsp;to&nbsp;worry&nbsp;about&nbsp;overflow</span><br>
<span class="lineno"></span><span class="keyword" id="3422759">const</span>&nbsp;<span class="ident" id="3422765">big</span>&nbsp;<span class="op" id="3422769">=</span>&nbsp;<span class="num" id="3422771">0xFFFFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3422781">//&nbsp;Decimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno">120</span><span class="comment" id="3422823">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3422863">func</span>&nbsp;<span class="ident" id="3422868">dtoi</span><span class="op" id="3422872">(</span><span class="ident" id="3422873">s</span>&nbsp;<span class="builtintype" id="3422875">string</span><span class="op" id="3422881">,</span>&nbsp;<span class="ident" id="3422883">i0</span>&nbsp;<span class="builtintype" id="3422886">int</span><span class="op" id="3422889">)</span>&nbsp;<span class="op" id="3422891">(</span><span class="ident" id="3422892">n</span>&nbsp;<span class="builtintype" id="3422894">int</span><span class="op" id="3422897">,</span>&nbsp;<span class="ident" id="3422899">i</span>&nbsp;<span class="builtintype" id="3422901">int</span><span class="op" id="3422904">,</span>&nbsp;<span class="ident" id="3422906">ok</span>&nbsp;<span class="builtintype" id="3422909">bool</span><span class="op" id="3422913">)</span>&nbsp;<span class="op" id="3422915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422918">n</span>&nbsp;<span class="op" id="3422920">=</span>&nbsp;<span class="num" id="3422922">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3422925">for</span>&nbsp;<span class="ident" id="3422929">i</span>&nbsp;<span class="op" id="3422931">=</span>&nbsp;<span class="ident" id="3422933">i0</span><span class="op" id="3422935">;</span>&nbsp;<span class="ident" id="3422937">i</span>&nbsp;<span class="op" id="3422939">&lt;</span>&nbsp;<span class="builtinfunc" id="3422941">len</span><span class="op" id="3422944">(</span><span class="ident" id="3422945">s</span><span class="op" id="3422946">)</span>&nbsp;<span class="op" id="3422948">&amp;&amp;</span>&nbsp;<span class="string" id="3422951">&#39;0&#39;</span>&nbsp;<span class="op" id="3422955">&lt;=</span>&nbsp;<span class="ident" id="3422958">s</span><span class="op" id="3422959">[</span><span class="ident" id="3422960">i</span><span class="op" id="3422961">]</span>&nbsp;<span class="op" id="3422963">&amp;&amp;</span>&nbsp;<span class="ident" id="3422966">s</span><span class="op" id="3422967">[</span><span class="ident" id="3422968">i</span><span class="op" id="3422969">]</span>&nbsp;<span class="op" id="3422971">&lt;=</span>&nbsp;<span class="string" id="3422974">&#39;9&#39;</span><span class="op" id="3422977">;</span>&nbsp;<span class="ident" id="3422979">i</span><span class="op" id="3422980">++</span>&nbsp;<span class="op" id="3422983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3422987">n</span>&nbsp;<span class="op" id="3422989">=</span>&nbsp;<span class="ident" id="3422991">n</span><span class="op" id="3422992">*</span><span class="num" id="3422993">10</span>&nbsp;<span class="op" id="3422996">+</span>&nbsp;<span class="builtintype" id="3422998">int</span><span class="op" id="3423001">(</span><span class="ident" id="3423002">s</span><span class="op" id="3423003">[</span><span class="ident" id="3423004">i</span><span class="op" id="3423005">]</span><span class="op" id="3423006">-</span><span class="string" id="3423007">&#39;0&#39;</span><span class="op" id="3423010">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423014">if</span>&nbsp;<span class="ident" id="3423017">n</span>&nbsp;<span class="op" id="3423019">&gt;=</span>&nbsp;<span class="ident" id="3423022">big</span>&nbsp;<span class="op" id="3423026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423031">return</span>&nbsp;<span class="num" id="3423038">0</span><span class="op" id="3423039">,</span>&nbsp;<span class="ident" id="3423041">i</span><span class="op" id="3423042">,</span>&nbsp;<span class="ident" id="3423044">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423058">if</span>&nbsp;<span class="ident" id="3423061">i</span>&nbsp;<span class="op" id="3423063">==</span>&nbsp;<span class="ident" id="3423066">i0</span>&nbsp;<span class="op" id="3423069">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423073">return</span>&nbsp;<span class="num" id="3423080">0</span><span class="op" id="3423081">,</span>&nbsp;<span class="ident" id="3423083">i</span><span class="op" id="3423084">,</span>&nbsp;<span class="ident" id="3423086">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423096">return</span>&nbsp;<span class="ident" id="3423103">n</span><span class="op" id="3423104">,</span>&nbsp;<span class="ident" id="3423106">i</span><span class="op" id="3423107">,</span>&nbsp;<span class="ident" id="3423109">true</span><br>
<span class="lineno"></span><span class="op" id="3423114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="3423117">//&nbsp;Hexadecimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno"></span><span class="comment" id="3423163">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="3423203">func</span>&nbsp;<span class="ident" id="3423208">xtoi</span><span class="op" id="3423212">(</span><span class="ident" id="3423213">s</span>&nbsp;<span class="builtintype" id="3423215">string</span><span class="op" id="3423221">,</span>&nbsp;<span class="ident" id="3423223">i0</span>&nbsp;<span class="builtintype" id="3423226">int</span><span class="op" id="3423229">)</span>&nbsp;<span class="op" id="3423231">(</span><span class="ident" id="3423232">n</span>&nbsp;<span class="builtintype" id="3423234">int</span><span class="op" id="3423237">,</span>&nbsp;<span class="ident" id="3423239">i</span>&nbsp;<span class="builtintype" id="3423241">int</span><span class="op" id="3423244">,</span>&nbsp;<span class="ident" id="3423246">ok</span>&nbsp;<span class="builtintype" id="3423249">bool</span><span class="op" id="3423253">)</span>&nbsp;<span class="op" id="3423255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3423258">n</span>&nbsp;<span class="op" id="3423260">=</span>&nbsp;<span class="num" id="3423262">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423265">for</span>&nbsp;<span class="ident" id="3423269">i</span>&nbsp;<span class="op" id="3423271">=</span>&nbsp;<span class="ident" id="3423273">i0</span><span class="op" id="3423275">;</span>&nbsp;<span class="ident" id="3423277">i</span>&nbsp;<span class="op" id="3423279">&lt;</span>&nbsp;<span class="builtinfunc" id="3423281">len</span><span class="op" id="3423284">(</span><span class="ident" id="3423285">s</span><span class="op" id="3423286">)</span><span class="op" id="3423287">;</span>&nbsp;<span class="ident" id="3423289">i</span><span class="op" id="3423290">++</span>&nbsp;<span class="op" id="3423293">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423297">if</span>&nbsp;<span class="string" id="3423300">&#39;0&#39;</span>&nbsp;<span class="op" id="3423304">&lt;=</span>&nbsp;<span class="ident" id="3423307">s</span><span class="op" id="3423308">[</span><span class="ident" id="3423309">i</span><span class="op" id="3423310">]</span>&nbsp;<span class="op" id="3423312">&amp;&amp;</span>&nbsp;<span class="ident" id="3423315">s</span><span class="op" id="3423316">[</span><span class="ident" id="3423317">i</span><span class="op" id="3423318">]</span>&nbsp;<span class="op" id="3423320">&lt;=</span>&nbsp;<span class="string" id="3423323">&#39;9&#39;</span>&nbsp;<span class="op" id="3423327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3423332">n</span>&nbsp;<span class="op" id="3423334">*=</span>&nbsp;<span class="num" id="3423337">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3423343">n</span>&nbsp;<span class="op" id="3423345">+=</span>&nbsp;<span class="builtintype" id="3423348">int</span><span class="op" id="3423351">(</span><span class="ident" id="3423352">s</span><span class="op" id="3423353">[</span><span class="ident" id="3423354">i</span><span class="op" id="3423355">]</span>&nbsp;<span class="op" id="3423357">-</span>&nbsp;<span class="string" id="3423359">&#39;0&#39;</span><span class="op" id="3423362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423366">}</span>&nbsp;<span class="keyword" id="3423368">else</span>&nbsp;<span class="keyword" id="3423373">if</span>&nbsp;<span class="string" id="3423376">&#39;a&#39;</span>&nbsp;<span class="op" id="3423380">&lt;=</span>&nbsp;<span class="ident" id="3423383">s</span><span class="op" id="3423384">[</span><span class="ident" id="3423385">i</span><span class="op" id="3423386">]</span>&nbsp;<span class="op" id="3423388">&amp;&amp;</span>&nbsp;<span class="ident" id="3423391">s</span><span class="op" id="3423392">[</span><span class="ident" id="3423393">i</span><span class="op" id="3423394">]</span>&nbsp;<span class="op" id="3423396">&lt;=</span>&nbsp;<span class="string" id="3423399">&#39;f&#39;</span>&nbsp;<span class="op" id="3423403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3423408">n</span>&nbsp;<span class="op" id="3423410">*=</span>&nbsp;<span class="num" id="3423413">16</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3423419">n</span>&nbsp;<span class="op" id="3423421">+=</span>&nbsp;<span class="builtintype" id="3423424">int</span><span class="op" id="3423427">(</span><span class="ident" id="3423428">s</span><span class="op" id="3423429">[</span><span class="ident" id="3423430">i</span><span class="op" id="3423431">]</span><span class="op" id="3423432">-</span><span class="string" id="3423433">&#39;a&#39;</span><span class="op" id="3423436">)</span>&nbsp;<span class="op" id="3423438">+</span>&nbsp;<span class="num" id="3423440">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423445">}</span>&nbsp;<span class="keyword" id="3423447">else</span>&nbsp;<span class="keyword" id="3423452">if</span>&nbsp;<span class="string" id="3423455">&#39;A&#39;</span>&nbsp;<span class="op" id="3423459">&lt;=</span>&nbsp;<span class="ident" id="3423462">s</span><span class="op" id="3423463">[</span><span class="ident" id="3423464">i</span><span class="op" id="3423465">]</span>&nbsp;<span class="op" id="3423467">&amp;&amp;</span>&nbsp;<span class="ident" id="3423470">s</span><span class="op" id="3423471">[</span><span class="ident" id="3423472">i</span><span class="op" id="3423473">]</span>&nbsp;<span class="op" id="3423475">&lt;=</span>&nbsp;<span class="string" id="3423478">&#39;F&#39;</span>&nbsp;<span class="op" id="3423482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3423487">n</span>&nbsp;<span class="op" id="3423489">*=</span>&nbsp;<span class="num" id="3423492">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3423498">n</span>&nbsp;<span class="op" id="3423500">+=</span>&nbsp;<span class="builtintype" id="3423503">int</span><span class="op" id="3423506">(</span><span class="ident" id="3423507">s</span><span class="op" id="3423508">[</span><span class="ident" id="3423509">i</span><span class="op" id="3423510">]</span><span class="op" id="3423511">-</span><span class="string" id="3423512">&#39;A&#39;</span><span class="op" id="3423515">)</span>&nbsp;<span class="op" id="3423517">+</span>&nbsp;<span class="num" id="3423519">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423524">}</span>&nbsp;<span class="keyword" id="3423526">else</span>&nbsp;<span class="op" id="3423531">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423536">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423548">if</span>&nbsp;<span class="ident" id="3423551">n</span>&nbsp;<span class="op" id="3423553">&gt;=</span>&nbsp;<span class="ident" id="3423556">big</span>&nbsp;<span class="op" id="3423560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423565">return</span>&nbsp;<span class="num" id="3423572">0</span><span class="op" id="3423573">,</span>&nbsp;<span class="ident" id="3423575">i</span><span class="op" id="3423576">,</span>&nbsp;<span class="ident" id="3423578">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423586">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423592">if</span>&nbsp;<span class="ident" id="3423595">i</span>&nbsp;<span class="op" id="3423597">==</span>&nbsp;<span class="ident" id="3423600">i0</span>&nbsp;<span class="op" id="3423603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423607">return</span>&nbsp;<span class="num" id="3423614">0</span><span class="op" id="3423615">,</span>&nbsp;<span class="ident" id="3423617">i</span><span class="op" id="3423618">,</span>&nbsp;<span class="ident" id="3423620">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423630">return</span>&nbsp;<span class="ident" id="3423637">n</span><span class="op" id="3423638">,</span>&nbsp;<span class="ident" id="3423640">i</span><span class="op" id="3423641">,</span>&nbsp;<span class="ident" id="3423643">true</span><br>
<span class="lineno">160</span><span class="op" id="3423648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3423651">//&nbsp;xtoi2&nbsp;converts&nbsp;the&nbsp;next&nbsp;two&nbsp;hex&nbsp;digits&nbsp;of&nbsp;s&nbsp;into&nbsp;a&nbsp;byte.</span><br>
<span class="lineno"></span><span class="comment" id="3423711">//&nbsp;If&nbsp;s&nbsp;is&nbsp;longer&nbsp;than&nbsp;2&nbsp;bytes&nbsp;then&nbsp;the&nbsp;third&nbsp;byte&nbsp;must&nbsp;be&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="3423773">//&nbsp;If&nbsp;the&nbsp;first&nbsp;two&nbsp;bytes&nbsp;of&nbsp;s&nbsp;are&nbsp;not&nbsp;hex&nbsp;digits&nbsp;or&nbsp;the&nbsp;third&nbsp;byte</span><br>
<span class="lineno">165</span><span class="comment" id="3423841">//&nbsp;does&nbsp;not&nbsp;match&nbsp;e,&nbsp;false&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="3423881">func</span>&nbsp;<span class="ident" id="3423886">xtoi2</span><span class="op" id="3423891">(</span><span class="ident" id="3423892">s</span>&nbsp;<span class="builtintype" id="3423894">string</span><span class="op" id="3423900">,</span>&nbsp;<span class="ident" id="3423902">e</span>&nbsp;<span class="builtintype" id="3423904">byte</span><span class="op" id="3423908">)</span>&nbsp;<span class="op" id="3423910">(</span><span class="builtintype" id="3423911">byte</span><span class="op" id="3423915">,</span>&nbsp;<span class="builtintype" id="3423917">bool</span><span class="op" id="3423921">)</span>&nbsp;<span class="op" id="3423923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423926">if</span>&nbsp;<span class="builtinfunc" id="3423929">len</span><span class="op" id="3423932">(</span><span class="ident" id="3423933">s</span><span class="op" id="3423934">)</span>&nbsp;<span class="op" id="3423936">&gt;</span>&nbsp;<span class="num" id="3423938">2</span>&nbsp;<span class="op" id="3423940">&amp;&amp;</span>&nbsp;<span class="ident" id="3423943">s</span><span class="op" id="3423944">[</span><span class="num" id="3423945">2</span><span class="op" id="3423946">]</span>&nbsp;<span class="op" id="3423948">!=</span>&nbsp;<span class="ident" id="3423951">e</span>&nbsp;<span class="op" id="3423953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3423957">return</span>&nbsp;<span class="num" id="3423964">0</span><span class="op" id="3423965">,</span>&nbsp;<span class="ident" id="3423967">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3423974">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3423977">n</span><span class="op" id="3423978">,</span>&nbsp;<span class="ident" id="3423980">ei</span><span class="op" id="3423982">,</span>&nbsp;<span class="ident" id="3423984">ok</span>&nbsp;<span class="op" id="3423987">:=</span>&nbsp;<span class="ident" id="3423990">xtoi</span><span class="op" id="3423994">(</span><span class="ident" id="3423995">s</span><span class="op" id="3423996">[</span><span class="op" id="3423997">:</span><span class="num" id="3423998">2</span><span class="op" id="3423999">]</span><span class="op" id="3424000">,</span>&nbsp;<span class="num" id="3424002">0</span><span class="op" id="3424003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424006">return</span>&nbsp;<span class="builtintype" id="3424013">byte</span><span class="op" id="3424017">(</span><span class="ident" id="3424018">n</span><span class="op" id="3424019">)</span><span class="op" id="3424020">,</span>&nbsp;<span class="ident" id="3424022">ok</span>&nbsp;<span class="op" id="3424025">&amp;&amp;</span>&nbsp;<span class="ident" id="3424028">ei</span>&nbsp;<span class="op" id="3424031">==</span>&nbsp;<span class="num" id="3424034">2</span><br>
<span class="lineno"></span><span class="op" id="3424036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3424039">//&nbsp;Integer&nbsp;to&nbsp;decimal.</span><br>
<span class="lineno">175</span><span class="keyword" id="3424062">func</span>&nbsp;<span class="ident" id="3424067">itoa</span><span class="op" id="3424071">(</span><span class="ident" id="3424072">i</span>&nbsp;<span class="builtintype" id="3424074">int</span><span class="op" id="3424077">)</span>&nbsp;<span class="builtintype" id="3424079">string</span>&nbsp;<span class="op" id="3424086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424089">var</span>&nbsp;<span class="ident" id="3424093">buf</span>&nbsp;<span class="op" id="3424097">[</span><span class="num" id="3424098">30</span><span class="op" id="3424100">]</span><span class="builtintype" id="3424101">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424107">n</span>&nbsp;<span class="op" id="3424109">:=</span>&nbsp;<span class="builtinfunc" id="3424112">len</span><span class="op" id="3424115">(</span><span class="ident" id="3424116">buf</span><span class="op" id="3424119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424122">neg</span>&nbsp;<span class="op" id="3424126">:=</span>&nbsp;<span class="ident" id="3424129">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424136">if</span>&nbsp;<span class="ident" id="3424139">i</span>&nbsp;<span class="op" id="3424141">&lt;</span>&nbsp;<span class="num" id="3424143">0</span>&nbsp;<span class="op" id="3424145">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424149">i</span>&nbsp;<span class="op" id="3424151">=</span>&nbsp;<span class="op" id="3424153">-</span><span class="ident" id="3424154">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424158">neg</span>&nbsp;<span class="op" id="3424162">=</span>&nbsp;<span class="ident" id="3424164">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424173">ui</span>&nbsp;<span class="op" id="3424176">:=</span>&nbsp;<span class="builtintype" id="3424179">uint</span><span class="op" id="3424183">(</span><span class="ident" id="3424184">i</span><span class="op" id="3424185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424188">for</span>&nbsp;<span class="ident" id="3424192">ui</span>&nbsp;<span class="op" id="3424195">&gt;</span>&nbsp;<span class="num" id="3424197">0</span>&nbsp;<span class="op" id="3424199">||</span>&nbsp;<span class="ident" id="3424202">n</span>&nbsp;<span class="op" id="3424204">==</span>&nbsp;<span class="builtinfunc" id="3424207">len</span><span class="op" id="3424210">(</span><span class="ident" id="3424211">buf</span><span class="op" id="3424214">)</span>&nbsp;<span class="op" id="3424216">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424220">n</span><span class="op" id="3424221">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424226">buf</span><span class="op" id="3424229">[</span><span class="ident" id="3424230">n</span><span class="op" id="3424231">]</span>&nbsp;<span class="op" id="3424233">=</span>&nbsp;<span class="builtintype" id="3424235">byte</span><span class="op" id="3424239">(</span><span class="string" id="3424240">&#39;0&#39;</span>&nbsp;<span class="op" id="3424244">+</span>&nbsp;<span class="ident" id="3424246">ui</span><span class="op" id="3424248">%</span><span class="num" id="3424249">10</span><span class="op" id="3424251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424255">ui</span>&nbsp;<span class="op" id="3424258">/=</span>&nbsp;<span class="num" id="3424261">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424268">if</span>&nbsp;<span class="ident" id="3424271">neg</span>&nbsp;<span class="op" id="3424275">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424279">n</span><span class="op" id="3424280">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424285">buf</span><span class="op" id="3424288">[</span><span class="ident" id="3424289">n</span><span class="op" id="3424290">]</span>&nbsp;<span class="op" id="3424292">=</span>&nbsp;<span class="string" id="3424294">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424302">return</span>&nbsp;<span class="builtintype" id="3424309">string</span><span class="op" id="3424315">(</span><span class="ident" id="3424316">buf</span><span class="op" id="3424319">[</span><span class="ident" id="3424320">n</span><span class="op" id="3424321">:</span><span class="op" id="3424322">]</span><span class="op" id="3424323">)</span><br>
<span class="lineno"></span><span class="op" id="3424325">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3424328">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;decimal&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3424360">func</span>&nbsp;<span class="ident" id="3424365">itod</span><span class="op" id="3424369">(</span><span class="ident" id="3424370">i</span>&nbsp;<span class="builtintype" id="3424372">uint</span><span class="op" id="3424376">)</span>&nbsp;<span class="builtintype" id="3424378">string</span>&nbsp;<span class="op" id="3424385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424388">if</span>&nbsp;<span class="ident" id="3424391">i</span>&nbsp;<span class="op" id="3424393">==</span>&nbsp;<span class="num" id="3424396">0</span>&nbsp;<span class="op" id="3424398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424402">return</span>&nbsp;<span class="string" id="3424409">&#34;0&#34;</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3424418">//&nbsp;Assemble&nbsp;decimal&nbsp;in&nbsp;reverse&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424457">var</span>&nbsp;<span class="ident" id="3424461">b</span>&nbsp;<span class="op" id="3424463">[</span><span class="num" id="3424464">32</span><span class="op" id="3424466">]</span><span class="builtintype" id="3424467">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424473">bp</span>&nbsp;<span class="op" id="3424476">:=</span>&nbsp;<span class="builtinfunc" id="3424479">len</span><span class="op" id="3424482">(</span><span class="ident" id="3424483">b</span><span class="op" id="3424484">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424487">for</span>&nbsp;<span class="op" id="3424491">;</span>&nbsp;<span class="ident" id="3424493">i</span>&nbsp;<span class="op" id="3424495">&gt;</span>&nbsp;<span class="num" id="3424497">0</span><span class="op" id="3424498">;</span>&nbsp;<span class="ident" id="3424500">i</span>&nbsp;<span class="op" id="3424502">/=</span>&nbsp;<span class="num" id="3424505">10</span>&nbsp;<span class="op" id="3424508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424512">bp</span><span class="op" id="3424514">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424519">b</span><span class="op" id="3424520">[</span><span class="ident" id="3424521">bp</span><span class="op" id="3424523">]</span>&nbsp;<span class="op" id="3424525">=</span>&nbsp;<span class="builtintype" id="3424527">byte</span><span class="op" id="3424531">(</span><span class="ident" id="3424532">i</span><span class="op" id="3424533">%</span><span class="num" id="3424534">10</span><span class="op" id="3424536">)</span>&nbsp;<span class="op" id="3424538">+</span>&nbsp;<span class="string" id="3424540">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424549">return</span>&nbsp;<span class="builtintype" id="3424556">string</span><span class="op" id="3424562">(</span><span class="ident" id="3424563">b</span><span class="op" id="3424564">[</span><span class="ident" id="3424565">bp</span><span class="op" id="3424567">:</span><span class="op" id="3424568">]</span><span class="op" id="3424569">)</span><br>
<span class="lineno"></span><span class="op" id="3424571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3424574">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;a&nbsp;hexadecimal&nbsp;string.&nbsp;Leading&nbsp;zeros&nbsp;are&nbsp;not&nbsp;printed.</span><br>
<span class="lineno"></span><span class="keyword" id="3424643">func</span>&nbsp;<span class="ident" id="3424648">appendHex</span><span class="op" id="3424657">(</span><span class="ident" id="3424658">dst</span>&nbsp;<span class="op" id="3424662">[</span><span class="op" id="3424663">]</span><span class="builtintype" id="3424664">byte</span><span class="op" id="3424668">,</span>&nbsp;<span class="ident" id="3424670">i</span>&nbsp;<span class="builtintype" id="3424672">uint32</span><span class="op" id="3424678">)</span>&nbsp;<span class="op" id="3424680">[</span><span class="op" id="3424681">]</span><span class="builtintype" id="3424682">byte</span>&nbsp;<span class="op" id="3424687">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424690">if</span>&nbsp;<span class="ident" id="3424693">i</span>&nbsp;<span class="op" id="3424695">==</span>&nbsp;<span class="num" id="3424698">0</span>&nbsp;<span class="op" id="3424700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424704">return</span>&nbsp;<span class="builtinfunc" id="3424711">append</span><span class="op" id="3424717">(</span><span class="ident" id="3424718">dst</span><span class="op" id="3424721">,</span>&nbsp;<span class="string" id="3424723">&#39;0&#39;</span><span class="op" id="3424726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424732">for</span>&nbsp;<span class="ident" id="3424736">j</span>&nbsp;<span class="op" id="3424738">:=</span>&nbsp;<span class="num" id="3424741">7</span><span class="op" id="3424742">;</span>&nbsp;<span class="ident" id="3424744">j</span>&nbsp;<span class="op" id="3424746">&gt;=</span>&nbsp;<span class="num" id="3424749">0</span><span class="op" id="3424750">;</span>&nbsp;<span class="ident" id="3424752">j</span><span class="op" id="3424753">--</span>&nbsp;<span class="op" id="3424756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424760">v</span>&nbsp;<span class="op" id="3424762">:=</span>&nbsp;<span class="ident" id="3424765">i</span>&nbsp;<span class="op" id="3424767">&gt;&gt;</span>&nbsp;<span class="builtintype" id="3424770">uint</span><span class="op" id="3424774">(</span><span class="ident" id="3424775">j</span><span class="op" id="3424776">*</span><span class="num" id="3424777">4</span><span class="op" id="3424778">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424782">if</span>&nbsp;<span class="ident" id="3424785">v</span>&nbsp;<span class="op" id="3424787">&gt;</span>&nbsp;<span class="num" id="3424789">0</span>&nbsp;<span class="op" id="3424791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424796">dst</span>&nbsp;<span class="op" id="3424800">=</span>&nbsp;<span class="builtinfunc" id="3424802">append</span><span class="op" id="3424808">(</span><span class="ident" id="3424809">dst</span><span class="op" id="3424812">,</span>&nbsp;<span class="ident" id="3424814">hexDigit</span><span class="op" id="3424822">[</span><span class="ident" id="3424823">v</span><span class="op" id="3424824">&amp;</span><span class="num" id="3424825">0xf</span><span class="op" id="3424828">]</span><span class="op" id="3424829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424839">return</span>&nbsp;<span class="ident" id="3424846">dst</span><br>
<span class="lineno">225</span><span class="op" id="3424850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3424853">//&nbsp;Number&nbsp;of&nbsp;occurrences&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3424889">func</span>&nbsp;<span class="ident" id="3424894">count</span><span class="op" id="3424899">(</span><span class="ident" id="3424900">s</span>&nbsp;<span class="builtintype" id="3424902">string</span><span class="op" id="3424908">,</span>&nbsp;<span class="ident" id="3424910">b</span>&nbsp;<span class="builtintype" id="3424912">byte</span><span class="op" id="3424916">)</span>&nbsp;<span class="builtintype" id="3424918">int</span>&nbsp;<span class="op" id="3424922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424925">n</span>&nbsp;<span class="op" id="3424927">:=</span>&nbsp;<span class="num" id="3424930">0</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424933">for</span>&nbsp;<span class="ident" id="3424937">i</span>&nbsp;<span class="op" id="3424939">:=</span>&nbsp;<span class="num" id="3424942">0</span><span class="op" id="3424943">;</span>&nbsp;<span class="ident" id="3424945">i</span>&nbsp;<span class="op" id="3424947">&lt;</span>&nbsp;<span class="builtinfunc" id="3424949">len</span><span class="op" id="3424952">(</span><span class="ident" id="3424953">s</span><span class="op" id="3424954">)</span><span class="op" id="3424955">;</span>&nbsp;<span class="ident" id="3424957">i</span><span class="op" id="3424958">++</span>&nbsp;<span class="op" id="3424961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424965">if</span>&nbsp;<span class="ident" id="3424968">s</span><span class="op" id="3424969">[</span><span class="ident" id="3424970">i</span><span class="op" id="3424971">]</span>&nbsp;<span class="op" id="3424973">==</span>&nbsp;<span class="ident" id="3424976">b</span>&nbsp;<span class="op" id="3424978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3424983">n</span><span class="op" id="3424984">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3424992">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3424995">return</span>&nbsp;<span class="ident" id="3425002">n</span><br>
<span class="lineno"></span><span class="op" id="3425004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3425007">//&nbsp;Index&nbsp;of&nbsp;rightmost&nbsp;occurrence&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3425051">func</span>&nbsp;<span class="ident" id="3425056">last</span><span class="op" id="3425060">(</span><span class="ident" id="3425061">s</span>&nbsp;<span class="builtintype" id="3425063">string</span><span class="op" id="3425069">,</span>&nbsp;<span class="ident" id="3425071">b</span>&nbsp;<span class="builtintype" id="3425073">byte</span><span class="op" id="3425077">)</span>&nbsp;<span class="builtintype" id="3425079">int</span>&nbsp;<span class="op" id="3425083">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3425086">i</span>&nbsp;<span class="op" id="3425088">:=</span>&nbsp;<span class="builtinfunc" id="3425091">len</span><span class="op" id="3425094">(</span><span class="ident" id="3425095">s</span><span class="op" id="3425096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3425099">for</span>&nbsp;<span class="ident" id="3425103">i</span><span class="op" id="3425104">--</span><span class="op" id="3425106">;</span>&nbsp;<span class="ident" id="3425108">i</span>&nbsp;<span class="op" id="3425110">&gt;=</span>&nbsp;<span class="num" id="3425113">0</span><span class="op" id="3425114">;</span>&nbsp;<span class="ident" id="3425116">i</span><span class="op" id="3425117">--</span>&nbsp;<span class="op" id="3425120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3425124">if</span>&nbsp;<span class="ident" id="3425127">s</span><span class="op" id="3425128">[</span><span class="ident" id="3425129">i</span><span class="op" id="3425130">]</span>&nbsp;<span class="op" id="3425132">==</span>&nbsp;<span class="ident" id="3425135">b</span>&nbsp;<span class="op" id="3425137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3425142">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3425150">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3425153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3425156">return</span>&nbsp;<span class="ident" id="3425163">i</span><br>
<span class="lineno"></span><span class="op" id="3425165">}</span>
</div>
</body>
</html>
