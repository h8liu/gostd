<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2655104">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2655159">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2655213">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2655264">//&nbsp;Deep&nbsp;equality&nbsp;test&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2655302">package</span>&nbsp;<span class="ident" id="2655310">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2655319">//&nbsp;During&nbsp;deepValueEqual,&nbsp;must&nbsp;keep&nbsp;track&nbsp;of&nbsp;checks&nbsp;that&nbsp;are</span><br>
<span class="lineno">10</span><span class="comment" id="2655380">//&nbsp;in&nbsp;progress.&nbsp;&nbsp;The&nbsp;comparison&nbsp;algorithm&nbsp;assumes&nbsp;that&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2655439">//&nbsp;checks&nbsp;in&nbsp;progress&nbsp;are&nbsp;true&nbsp;when&nbsp;it&nbsp;reencounters&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="2655497">//&nbsp;Visited&nbsp;comparisons&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;map&nbsp;indexed&nbsp;by&nbsp;visit.</span><br>
<span class="lineno"></span><span class="keyword" id="2655558">type</span>&nbsp;<span class="ident" id="2655563">visit</span>&nbsp;<span class="keyword" id="2655569">struct</span>&nbsp;<span class="op" id="2655576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2655579">a1</span>&nbsp;&nbsp;<span class="builtintype" id="2655583">uintptr</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2655592">a2</span>&nbsp;&nbsp;<span class="builtintype" id="2655596">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2655605">typ</span>&nbsp;<span class="ident" id="2655609">Type</span><br>
<span class="lineno"></span><span class="op" id="2655614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2655617">//&nbsp;Tests&nbsp;for&nbsp;deep&nbsp;equality&nbsp;using&nbsp;reflected&nbsp;types.&nbsp;The&nbsp;map&nbsp;argument&nbsp;tracks</span><br>
<span class="lineno">20</span><span class="comment" id="2655691">//&nbsp;comparisons&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;seen,&nbsp;which&nbsp;allows&nbsp;short&nbsp;circuiting&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2655768">//&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2655788">func</span>&nbsp;<span class="ident" id="2655793">deepValueEqual</span><span class="op" id="2655807">(</span><span class="ident" id="2655808">v1</span><span class="op" id="2655810">,</span>&nbsp;<span class="ident" id="2655812">v2</span>&nbsp;<span class="ident" id="2655815">Value</span><span class="op" id="2655820">,</span>&nbsp;<span class="ident" id="2655822">visited</span>&nbsp;<span class="keyword" id="2655830">map</span><span class="op" id="2655833">[</span><span class="ident" id="2655834">visit</span><span class="op" id="2655839">]</span><span class="builtintype" id="2655840">bool</span><span class="op" id="2655844">,</span>&nbsp;<span class="ident" id="2655846">depth</span>&nbsp;<span class="builtintype" id="2655852">int</span><span class="op" id="2655855">)</span>&nbsp;<span class="builtintype" id="2655857">bool</span>&nbsp;<span class="op" id="2655862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655865">if</span>&nbsp;<span class="op" id="2655868">!</span><span class="ident" id="2655869">v1</span><span class="op" id="2655871">.</span><span class="ident" id="2655872">IsValid</span><span class="op" id="2655879">(</span><span class="op" id="2655880">)</span>&nbsp;<span class="op" id="2655882">||</span>&nbsp;<span class="op" id="2655885">!</span><span class="ident" id="2655886">v2</span><span class="op" id="2655888">.</span><span class="ident" id="2655889">IsValid</span><span class="op" id="2655896">(</span><span class="op" id="2655897">)</span>&nbsp;<span class="op" id="2655899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655903">return</span>&nbsp;<span class="ident" id="2655910">v1</span><span class="op" id="2655912">.</span><span class="ident" id="2655913">IsValid</span><span class="op" id="2655920">(</span><span class="op" id="2655921">)</span>&nbsp;<span class="op" id="2655923">==</span>&nbsp;<span class="ident" id="2655926">v2</span><span class="op" id="2655928">.</span><span class="ident" id="2655929">IsValid</span><span class="op" id="2655936">(</span><span class="op" id="2655937">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2655940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655943">if</span>&nbsp;<span class="ident" id="2655946">v1</span><span class="op" id="2655948">.</span><span class="ident" id="2655949">Type</span><span class="op" id="2655953">(</span><span class="op" id="2655954">)</span>&nbsp;<span class="op" id="2655956">!=</span>&nbsp;<span class="ident" id="2655959">v2</span><span class="op" id="2655961">.</span><span class="ident" id="2655962">Type</span><span class="op" id="2655966">(</span><span class="op" id="2655967">)</span>&nbsp;<span class="op" id="2655969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2655973">return</span>&nbsp;<span class="builtintype" id="2655980">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2655987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2655991">//&nbsp;if&nbsp;depth&nbsp;&gt;&nbsp;10&nbsp;{&nbsp;panic(&#34;deepValueEqual&#34;)&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;for&nbsp;debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656054">hard</span>&nbsp;<span class="op" id="2656059">:=</span>&nbsp;<span class="keyword" id="2656062">func</span><span class="op" id="2656066">(</span><span class="ident" id="2656067">k</span>&nbsp;<span class="ident" id="2656069">Kind</span><span class="op" id="2656073">)</span>&nbsp;<span class="builtintype" id="2656075">bool</span>&nbsp;<span class="op" id="2656080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656084">switch</span>&nbsp;<span class="ident" id="2656091">k</span>&nbsp;<span class="op" id="2656093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656097">case</span>&nbsp;<span class="ident" id="2656102">Array</span><span class="op" id="2656107">,</span>&nbsp;<span class="ident" id="2656109">Map</span><span class="op" id="2656112">,</span>&nbsp;<span class="ident" id="2656114">Slice</span><span class="op" id="2656119">,</span>&nbsp;<span class="ident" id="2656121">Struct</span><span class="op" id="2656127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656132">return</span>&nbsp;<span class="builtintype" id="2656139">true</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656150">return</span>&nbsp;<span class="builtintype" id="2656157">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656168">if</span>&nbsp;<span class="ident" id="2656171">v1</span><span class="op" id="2656173">.</span><span class="ident" id="2656174">CanAddr</span><span class="op" id="2656181">(</span><span class="op" id="2656182">)</span>&nbsp;<span class="op" id="2656184">&amp;&amp;</span>&nbsp;<span class="ident" id="2656187">v2</span><span class="op" id="2656189">.</span><span class="ident" id="2656190">CanAddr</span><span class="op" id="2656197">(</span><span class="op" id="2656198">)</span>&nbsp;<span class="op" id="2656200">&amp;&amp;</span>&nbsp;<span class="ident" id="2656203">hard</span><span class="op" id="2656207">(</span><span class="ident" id="2656208">v1</span><span class="op" id="2656210">.</span><span class="ident" id="2656211">Kind</span><span class="op" id="2656215">(</span><span class="op" id="2656216">)</span><span class="op" id="2656217">)</span>&nbsp;<span class="op" id="2656219">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656223">addr1</span>&nbsp;<span class="op" id="2656229">:=</span>&nbsp;<span class="ident" id="2656232">v1</span><span class="op" id="2656234">.</span><span class="ident" id="2656235">UnsafeAddr</span><span class="op" id="2656245">(</span><span class="op" id="2656246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656250">addr2</span>&nbsp;<span class="op" id="2656256">:=</span>&nbsp;<span class="ident" id="2656259">v2</span><span class="op" id="2656261">.</span><span class="ident" id="2656262">UnsafeAddr</span><span class="op" id="2656272">(</span><span class="op" id="2656273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656277">if</span>&nbsp;<span class="ident" id="2656280">addr1</span>&nbsp;<span class="op" id="2656286">&gt;</span>&nbsp;<span class="ident" id="2656288">addr2</span>&nbsp;<span class="op" id="2656294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2656299">//&nbsp;Canonicalize&nbsp;order&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&nbsp;entries&nbsp;in&nbsp;visited.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656364">addr1</span><span class="op" id="2656369">,</span>&nbsp;<span class="ident" id="2656371">addr2</span>&nbsp;<span class="op" id="2656377">=</span>&nbsp;<span class="ident" id="2656379">addr2</span><span class="op" id="2656384">,</span>&nbsp;<span class="ident" id="2656386">addr1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2656399">//&nbsp;Short&nbsp;circuit&nbsp;if&nbsp;references&nbsp;are&nbsp;identical&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656450">if</span>&nbsp;<span class="ident" id="2656453">addr1</span>&nbsp;<span class="op" id="2656459">==</span>&nbsp;<span class="ident" id="2656462">addr2</span>&nbsp;<span class="op" id="2656468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656473">return</span>&nbsp;<span class="builtintype" id="2656480">true</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2656492">//&nbsp;...&nbsp;or&nbsp;already&nbsp;seen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656517">typ</span>&nbsp;<span class="op" id="2656521">:=</span>&nbsp;<span class="ident" id="2656524">v1</span><span class="op" id="2656526">.</span><span class="ident" id="2656527">Type</span><span class="op" id="2656531">(</span><span class="op" id="2656532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656536">v</span>&nbsp;<span class="op" id="2656538">:=</span>&nbsp;<span class="ident" id="2656541">visit</span><span class="op" id="2656546">{</span><span class="ident" id="2656547">addr1</span><span class="op" id="2656552">,</span>&nbsp;<span class="ident" id="2656554">addr2</span><span class="op" id="2656559">,</span>&nbsp;<span class="ident" id="2656561">typ</span><span class="op" id="2656564">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656568">if</span>&nbsp;<span class="ident" id="2656571">visited</span><span class="op" id="2656578">[</span><span class="ident" id="2656579">v</span><span class="op" id="2656580">]</span>&nbsp;<span class="op" id="2656582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656587">return</span>&nbsp;<span class="builtintype" id="2656594">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2656606">//&nbsp;Remember&nbsp;for&nbsp;later.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2656631">visited</span><span class="op" id="2656638">[</span><span class="ident" id="2656639">v</span><span class="op" id="2656640">]</span>&nbsp;<span class="op" id="2656642">=</span>&nbsp;<span class="builtintype" id="2656644">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656654">switch</span>&nbsp;<span class="ident" id="2656661">v1</span><span class="op" id="2656663">.</span><span class="ident" id="2656664">Kind</span><span class="op" id="2656668">(</span><span class="op" id="2656669">)</span>&nbsp;<span class="op" id="2656671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656674">case</span>&nbsp;<span class="ident" id="2656679">Array</span><span class="op" id="2656684">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656688">for</span>&nbsp;<span class="ident" id="2656692">i</span>&nbsp;<span class="op" id="2656694">:=</span>&nbsp;<span class="num" id="2656697">0</span><span class="op" id="2656698">;</span>&nbsp;<span class="ident" id="2656700">i</span>&nbsp;<span class="op" id="2656702">&lt;</span>&nbsp;<span class="ident" id="2656704">v1</span><span class="op" id="2656706">.</span><span class="ident" id="2656707">Len</span><span class="op" id="2656710">(</span><span class="op" id="2656711">)</span><span class="op" id="2656712">;</span>&nbsp;<span class="ident" id="2656714">i</span><span class="op" id="2656715">++</span>&nbsp;<span class="op" id="2656718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656723">if</span>&nbsp;<span class="op" id="2656726">!</span><span class="ident" id="2656727">deepValueEqual</span><span class="op" id="2656741">(</span><span class="ident" id="2656742">v1</span><span class="op" id="2656744">.</span><span class="ident" id="2656745">Index</span><span class="op" id="2656750">(</span><span class="ident" id="2656751">i</span><span class="op" id="2656752">)</span><span class="op" id="2656753">,</span>&nbsp;<span class="ident" id="2656755">v2</span><span class="op" id="2656757">.</span><span class="ident" id="2656758">Index</span><span class="op" id="2656763">(</span><span class="ident" id="2656764">i</span><span class="op" id="2656765">)</span><span class="op" id="2656766">,</span>&nbsp;<span class="ident" id="2656768">visited</span><span class="op" id="2656775">,</span>&nbsp;<span class="ident" id="2656777">depth</span><span class="op" id="2656782">+</span><span class="num" id="2656783">1</span><span class="op" id="2656784">)</span>&nbsp;<span class="op" id="2656786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656792">return</span>&nbsp;<span class="builtintype" id="2656799">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656812">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656816">return</span>&nbsp;<span class="builtintype" id="2656823">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656829">case</span>&nbsp;<span class="ident" id="2656834">Slice</span><span class="op" id="2656839">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656843">if</span>&nbsp;<span class="ident" id="2656846">v1</span><span class="op" id="2656848">.</span><span class="ident" id="2656849">IsNil</span><span class="op" id="2656854">(</span><span class="op" id="2656855">)</span>&nbsp;<span class="op" id="2656857">!=</span>&nbsp;<span class="ident" id="2656860">v2</span><span class="op" id="2656862">.</span><span class="ident" id="2656863">IsNil</span><span class="op" id="2656868">(</span><span class="op" id="2656869">)</span>&nbsp;<span class="op" id="2656871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656876">return</span>&nbsp;<span class="builtintype" id="2656883">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656891">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656895">if</span>&nbsp;<span class="ident" id="2656898">v1</span><span class="op" id="2656900">.</span><span class="ident" id="2656901">Len</span><span class="op" id="2656904">(</span><span class="op" id="2656905">)</span>&nbsp;<span class="op" id="2656907">!=</span>&nbsp;<span class="ident" id="2656910">v2</span><span class="op" id="2656912">.</span><span class="ident" id="2656913">Len</span><span class="op" id="2656916">(</span><span class="op" id="2656917">)</span>&nbsp;<span class="op" id="2656919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656924">return</span>&nbsp;<span class="builtintype" id="2656931">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656943">if</span>&nbsp;<span class="ident" id="2656946">v1</span><span class="op" id="2656948">.</span><span class="ident" id="2656949">Pointer</span><span class="op" id="2656956">(</span><span class="op" id="2656957">)</span>&nbsp;<span class="op" id="2656959">==</span>&nbsp;<span class="ident" id="2656962">v2</span><span class="op" id="2656964">.</span><span class="ident" id="2656965">Pointer</span><span class="op" id="2656972">(</span><span class="op" id="2656973">)</span>&nbsp;<span class="op" id="2656975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656980">return</span>&nbsp;<span class="builtintype" id="2656987">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2656994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2656998">for</span>&nbsp;<span class="ident" id="2657002">i</span>&nbsp;<span class="op" id="2657004">:=</span>&nbsp;<span class="num" id="2657007">0</span><span class="op" id="2657008">;</span>&nbsp;<span class="ident" id="2657010">i</span>&nbsp;<span class="op" id="2657012">&lt;</span>&nbsp;<span class="ident" id="2657014">v1</span><span class="op" id="2657016">.</span><span class="ident" id="2657017">Len</span><span class="op" id="2657020">(</span><span class="op" id="2657021">)</span><span class="op" id="2657022">;</span>&nbsp;<span class="ident" id="2657024">i</span><span class="op" id="2657025">++</span>&nbsp;<span class="op" id="2657028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657033">if</span>&nbsp;<span class="op" id="2657036">!</span><span class="ident" id="2657037">deepValueEqual</span><span class="op" id="2657051">(</span><span class="ident" id="2657052">v1</span><span class="op" id="2657054">.</span><span class="ident" id="2657055">Index</span><span class="op" id="2657060">(</span><span class="ident" id="2657061">i</span><span class="op" id="2657062">)</span><span class="op" id="2657063">,</span>&nbsp;<span class="ident" id="2657065">v2</span><span class="op" id="2657067">.</span><span class="ident" id="2657068">Index</span><span class="op" id="2657073">(</span><span class="ident" id="2657074">i</span><span class="op" id="2657075">)</span><span class="op" id="2657076">,</span>&nbsp;<span class="ident" id="2657078">visited</span><span class="op" id="2657085">,</span>&nbsp;<span class="ident" id="2657087">depth</span><span class="op" id="2657092">+</span><span class="num" id="2657093">1</span><span class="op" id="2657094">)</span>&nbsp;<span class="op" id="2657096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657102">return</span>&nbsp;<span class="builtintype" id="2657109">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657118">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657126">return</span>&nbsp;<span class="builtintype" id="2657133">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657139">case</span>&nbsp;<span class="ident" id="2657144">Interface</span><span class="op" id="2657153">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657157">if</span>&nbsp;<span class="ident" id="2657160">v1</span><span class="op" id="2657162">.</span><span class="ident" id="2657163">IsNil</span><span class="op" id="2657168">(</span><span class="op" id="2657169">)</span>&nbsp;<span class="op" id="2657171">||</span>&nbsp;<span class="ident" id="2657174">v2</span><span class="op" id="2657176">.</span><span class="ident" id="2657177">IsNil</span><span class="op" id="2657182">(</span><span class="op" id="2657183">)</span>&nbsp;<span class="op" id="2657185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657190">return</span>&nbsp;<span class="ident" id="2657197">v1</span><span class="op" id="2657199">.</span><span class="ident" id="2657200">IsNil</span><span class="op" id="2657205">(</span><span class="op" id="2657206">)</span>&nbsp;<span class="op" id="2657208">==</span>&nbsp;<span class="ident" id="2657211">v2</span><span class="op" id="2657213">.</span><span class="ident" id="2657214">IsNil</span><span class="op" id="2657219">(</span><span class="op" id="2657220">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657228">return</span>&nbsp;<span class="ident" id="2657235">deepValueEqual</span><span class="op" id="2657249">(</span><span class="ident" id="2657250">v1</span><span class="op" id="2657252">.</span><span class="ident" id="2657253">Elem</span><span class="op" id="2657257">(</span><span class="op" id="2657258">)</span><span class="op" id="2657259">,</span>&nbsp;<span class="ident" id="2657261">v2</span><span class="op" id="2657263">.</span><span class="ident" id="2657264">Elem</span><span class="op" id="2657268">(</span><span class="op" id="2657269">)</span><span class="op" id="2657270">,</span>&nbsp;<span class="ident" id="2657272">visited</span><span class="op" id="2657279">,</span>&nbsp;<span class="ident" id="2657281">depth</span><span class="op" id="2657286">+</span><span class="num" id="2657287">1</span><span class="op" id="2657288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657291">case</span>&nbsp;<span class="ident" id="2657296">Ptr</span><span class="op" id="2657299">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657303">return</span>&nbsp;<span class="ident" id="2657310">deepValueEqual</span><span class="op" id="2657324">(</span><span class="ident" id="2657325">v1</span><span class="op" id="2657327">.</span><span class="ident" id="2657328">Elem</span><span class="op" id="2657332">(</span><span class="op" id="2657333">)</span><span class="op" id="2657334">,</span>&nbsp;<span class="ident" id="2657336">v2</span><span class="op" id="2657338">.</span><span class="ident" id="2657339">Elem</span><span class="op" id="2657343">(</span><span class="op" id="2657344">)</span><span class="op" id="2657345">,</span>&nbsp;<span class="ident" id="2657347">visited</span><span class="op" id="2657354">,</span>&nbsp;<span class="ident" id="2657356">depth</span><span class="op" id="2657361">+</span><span class="num" id="2657362">1</span><span class="op" id="2657363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657366">case</span>&nbsp;<span class="ident" id="2657371">Struct</span><span class="op" id="2657377">:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657381">for</span>&nbsp;<span class="ident" id="2657385">i</span><span class="op" id="2657386">,</span>&nbsp;<span class="ident" id="2657388">n</span>&nbsp;<span class="op" id="2657390">:=</span>&nbsp;<span class="num" id="2657393">0</span><span class="op" id="2657394">,</span>&nbsp;<span class="ident" id="2657396">v1</span><span class="op" id="2657398">.</span><span class="ident" id="2657399">NumField</span><span class="op" id="2657407">(</span><span class="op" id="2657408">)</span><span class="op" id="2657409">;</span>&nbsp;<span class="ident" id="2657411">i</span>&nbsp;<span class="op" id="2657413">&lt;</span>&nbsp;<span class="ident" id="2657415">n</span><span class="op" id="2657416">;</span>&nbsp;<span class="ident" id="2657418">i</span><span class="op" id="2657419">++</span>&nbsp;<span class="op" id="2657422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657427">if</span>&nbsp;<span class="op" id="2657430">!</span><span class="ident" id="2657431">deepValueEqual</span><span class="op" id="2657445">(</span><span class="ident" id="2657446">v1</span><span class="op" id="2657448">.</span><span class="ident" id="2657449">Field</span><span class="op" id="2657454">(</span><span class="ident" id="2657455">i</span><span class="op" id="2657456">)</span><span class="op" id="2657457">,</span>&nbsp;<span class="ident" id="2657459">v2</span><span class="op" id="2657461">.</span><span class="ident" id="2657462">Field</span><span class="op" id="2657467">(</span><span class="ident" id="2657468">i</span><span class="op" id="2657469">)</span><span class="op" id="2657470">,</span>&nbsp;<span class="ident" id="2657472">visited</span><span class="op" id="2657479">,</span>&nbsp;<span class="ident" id="2657481">depth</span><span class="op" id="2657486">+</span><span class="num" id="2657487">1</span><span class="op" id="2657488">)</span>&nbsp;<span class="op" id="2657490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657496">return</span>&nbsp;<span class="builtintype" id="2657503">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657516">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657520">return</span>&nbsp;<span class="builtintype" id="2657527">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657533">case</span>&nbsp;<span class="ident" id="2657538">Map</span><span class="op" id="2657541">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657545">if</span>&nbsp;<span class="ident" id="2657548">v1</span><span class="op" id="2657550">.</span><span class="ident" id="2657551">IsNil</span><span class="op" id="2657556">(</span><span class="op" id="2657557">)</span>&nbsp;<span class="op" id="2657559">!=</span>&nbsp;<span class="ident" id="2657562">v2</span><span class="op" id="2657564">.</span><span class="ident" id="2657565">IsNil</span><span class="op" id="2657570">(</span><span class="op" id="2657571">)</span>&nbsp;<span class="op" id="2657573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657578">return</span>&nbsp;<span class="builtintype" id="2657585">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657593">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657597">if</span>&nbsp;<span class="ident" id="2657600">v1</span><span class="op" id="2657602">.</span><span class="ident" id="2657603">Len</span><span class="op" id="2657606">(</span><span class="op" id="2657607">)</span>&nbsp;<span class="op" id="2657609">!=</span>&nbsp;<span class="ident" id="2657612">v2</span><span class="op" id="2657614">.</span><span class="ident" id="2657615">Len</span><span class="op" id="2657618">(</span><span class="op" id="2657619">)</span>&nbsp;<span class="op" id="2657621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657626">return</span>&nbsp;<span class="builtintype" id="2657633">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657645">if</span>&nbsp;<span class="ident" id="2657648">v1</span><span class="op" id="2657650">.</span><span class="ident" id="2657651">Pointer</span><span class="op" id="2657658">(</span><span class="op" id="2657659">)</span>&nbsp;<span class="op" id="2657661">==</span>&nbsp;<span class="ident" id="2657664">v2</span><span class="op" id="2657666">.</span><span class="ident" id="2657667">Pointer</span><span class="op" id="2657674">(</span><span class="op" id="2657675">)</span>&nbsp;<span class="op" id="2657677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657682">return</span>&nbsp;<span class="builtintype" id="2657689">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657700">for</span>&nbsp;<span class="ident" id="2657704">_</span><span class="op" id="2657705">,</span>&nbsp;<span class="ident" id="2657707">k</span>&nbsp;<span class="op" id="2657709">:=</span>&nbsp;<span class="keyword" id="2657712">range</span>&nbsp;<span class="ident" id="2657718">v1</span><span class="op" id="2657720">.</span><span class="ident" id="2657721">MapKeys</span><span class="op" id="2657728">(</span><span class="op" id="2657729">)</span>&nbsp;<span class="op" id="2657731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657736">if</span>&nbsp;<span class="op" id="2657739">!</span><span class="ident" id="2657740">deepValueEqual</span><span class="op" id="2657754">(</span><span class="ident" id="2657755">v1</span><span class="op" id="2657757">.</span><span class="ident" id="2657758">MapIndex</span><span class="op" id="2657766">(</span><span class="ident" id="2657767">k</span><span class="op" id="2657768">)</span><span class="op" id="2657769">,</span>&nbsp;<span class="ident" id="2657771">v2</span><span class="op" id="2657773">.</span><span class="ident" id="2657774">MapIndex</span><span class="op" id="2657782">(</span><span class="ident" id="2657783">k</span><span class="op" id="2657784">)</span><span class="op" id="2657785">,</span>&nbsp;<span class="ident" id="2657787">visited</span><span class="op" id="2657794">,</span>&nbsp;<span class="ident" id="2657796">depth</span><span class="op" id="2657801">+</span><span class="num" id="2657802">1</span><span class="op" id="2657803">)</span>&nbsp;<span class="op" id="2657805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657811">return</span>&nbsp;<span class="builtintype" id="2657818">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657827">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657835">return</span>&nbsp;<span class="builtintype" id="2657842">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657848">case</span>&nbsp;<span class="ident" id="2657853">Func</span><span class="op" id="2657857">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657861">if</span>&nbsp;<span class="ident" id="2657864">v1</span><span class="op" id="2657866">.</span><span class="ident" id="2657867">IsNil</span><span class="op" id="2657872">(</span><span class="op" id="2657873">)</span>&nbsp;<span class="op" id="2657875">&amp;&amp;</span>&nbsp;<span class="ident" id="2657878">v2</span><span class="op" id="2657880">.</span><span class="ident" id="2657881">IsNil</span><span class="op" id="2657886">(</span><span class="op" id="2657887">)</span>&nbsp;<span class="op" id="2657889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657894">return</span>&nbsp;<span class="builtintype" id="2657901">true</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2657908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657912">//&nbsp;Can&#39;t&nbsp;do&nbsp;better&nbsp;than&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657944">return</span>&nbsp;<span class="builtintype" id="2657951">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657958">default</span><span class="op" id="2657965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2657969">//&nbsp;Normal&nbsp;equality&nbsp;suffices</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2657999">return</span>&nbsp;<span class="ident" id="2658006">valueInterface</span><span class="op" id="2658020">(</span><span class="ident" id="2658021">v1</span><span class="op" id="2658023">,</span>&nbsp;<span class="builtintype" id="2658025">false</span><span class="op" id="2658030">)</span>&nbsp;<span class="op" id="2658032">==</span>&nbsp;<span class="ident" id="2658035">valueInterface</span><span class="op" id="2658049">(</span><span class="ident" id="2658050">v2</span><span class="op" id="2658052">,</span>&nbsp;<span class="builtintype" id="2658054">false</span><span class="op" id="2658059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2658062">}</span><br>
<span class="lineno"></span><span class="op" id="2658064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2658067">//&nbsp;DeepEqual&nbsp;tests&nbsp;for&nbsp;deep&nbsp;equality.&nbsp;It&nbsp;uses&nbsp;normal&nbsp;==&nbsp;equality&nbsp;where</span><br>
<span class="lineno">130</span><span class="comment" id="2658138">//&nbsp;possible&nbsp;but&nbsp;will&nbsp;scan&nbsp;elements&nbsp;of&nbsp;arrays,&nbsp;slices,&nbsp;maps,&nbsp;and&nbsp;fields&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2658212">//&nbsp;structs.&nbsp;In&nbsp;maps,&nbsp;keys&nbsp;are&nbsp;compared&nbsp;with&nbsp;==&nbsp;but&nbsp;elements&nbsp;use&nbsp;deep</span><br>
<span class="lineno"></span><span class="comment" id="2658281">//&nbsp;equality.&nbsp;DeepEqual&nbsp;correctly&nbsp;handles&nbsp;recursive&nbsp;types.&nbsp;Functions&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2658359">//&nbsp;only&nbsp;if&nbsp;they&nbsp;are&nbsp;both&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2658389">//&nbsp;An&nbsp;empty&nbsp;slice&nbsp;is&nbsp;not&nbsp;equal&nbsp;to&nbsp;a&nbsp;nil&nbsp;slice.</span><br>
<span class="lineno">135</span><span class="keyword" id="2658436">func</span>&nbsp;<span class="ident" id="2658441">DeepEqual</span><span class="op" id="2658450">(</span><span class="ident" id="2658451">a1</span><span class="op" id="2658453">,</span>&nbsp;<span class="ident" id="2658455">a2</span>&nbsp;<span class="keyword" id="2658458">interface</span><span class="op" id="2658467">{</span><span class="op" id="2658468">}</span><span class="op" id="2658469">)</span>&nbsp;<span class="builtintype" id="2658471">bool</span>&nbsp;<span class="op" id="2658476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2658479">if</span>&nbsp;<span class="ident" id="2658482">a1</span>&nbsp;<span class="op" id="2658485">==</span>&nbsp;<span class="ident" id="2658488">nil</span>&nbsp;<span class="op" id="2658492">||</span>&nbsp;<span class="ident" id="2658495">a2</span>&nbsp;<span class="op" id="2658498">==</span>&nbsp;<span class="ident" id="2658501">nil</span>&nbsp;<span class="op" id="2658505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2658509">return</span>&nbsp;<span class="ident" id="2658516">a1</span>&nbsp;<span class="op" id="2658519">==</span>&nbsp;<span class="ident" id="2658522">a2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2658526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2658529">v1</span>&nbsp;<span class="op" id="2658532">:=</span>&nbsp;<span class="ident" id="2658535">ValueOf</span><span class="op" id="2658542">(</span><span class="ident" id="2658543">a1</span><span class="op" id="2658545">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2658548">v2</span>&nbsp;<span class="op" id="2658551">:=</span>&nbsp;<span class="ident" id="2658554">ValueOf</span><span class="op" id="2658561">(</span><span class="ident" id="2658562">a2</span><span class="op" id="2658564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2658567">if</span>&nbsp;<span class="ident" id="2658570">v1</span><span class="op" id="2658572">.</span><span class="ident" id="2658573">Type</span><span class="op" id="2658577">(</span><span class="op" id="2658578">)</span>&nbsp;<span class="op" id="2658580">!=</span>&nbsp;<span class="ident" id="2658583">v2</span><span class="op" id="2658585">.</span><span class="ident" id="2658586">Type</span><span class="op" id="2658590">(</span><span class="op" id="2658591">)</span>&nbsp;<span class="op" id="2658593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2658597">return</span>&nbsp;<span class="builtintype" id="2658604">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2658611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2658614">return</span>&nbsp;<span class="ident" id="2658621">deepValueEqual</span><span class="op" id="2658635">(</span><span class="ident" id="2658636">v1</span><span class="op" id="2658638">,</span>&nbsp;<span class="ident" id="2658640">v2</span><span class="op" id="2658642">,</span>&nbsp;<span class="builtinfunc" id="2658644">make</span><span class="op" id="2658648">(</span><span class="keyword" id="2658649">map</span><span class="op" id="2658652">[</span><span class="ident" id="2658653">visit</span><span class="op" id="2658658">]</span><span class="builtintype" id="2658659">bool</span><span class="op" id="2658663">)</span><span class="op" id="2658664">,</span>&nbsp;<span class="num" id="2658666">0</span><span class="op" id="2658667">)</span><br>
<span class="lineno">145</span><span class="op" id="2658669">}</span>
</div>
</body>
</html>
