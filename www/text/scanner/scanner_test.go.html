<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6577388">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6577443">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6577497">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6577548">package</span>&nbsp;<span class="ident" id="6577556">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6577565">import</span>&nbsp;<span class="op" id="6577572">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6577575">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6577584">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6577591">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6577597">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6577608">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6577619">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6577634">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="6577637">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="6577712">type</span>&nbsp;<span class="ident" id="6577717">StringReader</span>&nbsp;<span class="keyword" id="6577730">struct</span>&nbsp;<span class="op" id="6577737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577740">data</span>&nbsp;<span class="op" id="6577745">[</span><span class="op" id="6577746">]</span><span class="builtintype" id="6577747">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577755">step</span>&nbsp;<span class="builtintype" id="6577760">int</span><br>
<span class="lineno">20</span><span class="op" id="6577764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6577767">func</span>&nbsp;<span class="op" id="6577772">(</span><span class="ident" id="6577773">r</span>&nbsp;<span class="op" id="6577775">*</span><span class="ident" id="6577776"><a href="/text/scanner/scanner_test.go.html#6577717">StringReader</a></span><span class="op" id="6577788">)</span>&nbsp;<span class="ident" id="6577790">Read</span><span class="op" id="6577794">(</span><span class="ident" id="6577795">p</span>&nbsp;<span class="op" id="6577797">[</span><span class="op" id="6577798">]</span><span class="builtintype" id="6577799">byte</span><span class="op" id="6577803">)</span>&nbsp;<span class="op" id="6577805">(</span><span class="ident" id="6577806">n</span>&nbsp;<span class="builtintype" id="6577808">int</span><span class="op" id="6577811">,</span>&nbsp;<span class="ident" id="6577813">err</span>&nbsp;<span class="builtintype" id="6577817">error</span><span class="op" id="6577822">)</span>&nbsp;<span class="op" id="6577824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577827">if</span>&nbsp;<span class="ident" id="6577830"><a href="/text/scanner/scanner_test.go.html#6577773">r</a></span><span class="op" id="6577831">.</span><span class="ident" id="6577832">step</span>&nbsp;<span class="op" id="6577837">&lt;</span>&nbsp;<span class="builtinfunc" id="6577839">len</span><span class="op" id="6577842">(</span><span class="ident" id="6577843"><a href="/text/scanner/scanner_test.go.html#6577773">r</a></span><span class="op" id="6577844">.</span><span class="ident" id="6577845">data</span><span class="op" id="6577849">)</span>&nbsp;<span class="op" id="6577851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577855">s</span>&nbsp;<span class="op" id="6577857">:=</span>&nbsp;<span class="ident" id="6577860"><a href="/text/scanner/scanner_test.go.html#6577773">r</a></span><span class="op" id="6577861">.</span><span class="ident" id="6577862">data</span><span class="op" id="6577866">[</span><span class="ident" id="6577867"><a href="/text/scanner/scanner_test.go.html#6577773">r</a></span><span class="op" id="6577868">.</span><span class="ident" id="6577869">step</span><span class="op" id="6577873">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577877"><a href="/text/scanner/scanner_test.go.html#6577806">n</a></span>&nbsp;<span class="op" id="6577879">=</span>&nbsp;<span class="builtinfunc" id="6577881">copy</span><span class="op" id="6577885">(</span><span class="ident" id="6577886"><a href="/text/scanner/scanner_test.go.html#6577795">p</a></span><span class="op" id="6577887">,</span>&nbsp;<span class="ident" id="6577889"><a href="/text/scanner/scanner_test.go.html#6577855">s</a></span><span class="op" id="6577890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577894"><a href="/text/scanner/scanner_test.go.html#6577773">r</a></span><span class="op" id="6577895">.</span><span class="ident" id="6577896">step</span><span class="op" id="6577900">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577904">}</span>&nbsp;<span class="keyword" id="6577906">else</span>&nbsp;<span class="op" id="6577911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577915"><a href="/text/scanner/scanner_test.go.html#6577813">err</a></span>&nbsp;<span class="op" id="6577919">=</span>&nbsp;<span class="ident" id="6577921"><a href="/text/scanner/scanner_test.go.html#6577591">io</a></span><span class="op" id="6577923">.</span><span class="ident" id="6577924">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577929">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577932">return</span><br>
<span class="lineno"></span><span class="op" id="6577939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6577942">func</span>&nbsp;<span class="ident" id="6577947">readRuneSegments</span><span class="op" id="6577963">(</span><span class="ident" id="6577964">t</span>&nbsp;<span class="op" id="6577966">*</span><span class="ident" id="6577967"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6577974">.</span><span class="ident" id="6577975">T</span><span class="op" id="6577976">,</span>&nbsp;<span class="ident" id="6577978">segments</span>&nbsp;<span class="op" id="6577987">[</span><span class="op" id="6577988">]</span><span class="builtintype" id="6577989">string</span><span class="op" id="6577995">)</span>&nbsp;<span class="op" id="6577997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578000">got</span>&nbsp;<span class="op" id="6578004">:=</span>&nbsp;<span class="string" id="6578007">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578011">want</span>&nbsp;<span class="op" id="6578016">:=</span>&nbsp;<span class="ident" id="6578019"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6578026">.</span><span class="ident" id="6578027">Join</span><span class="op" id="6578031">(</span><span class="ident" id="6578032"><a href="/text/scanner/scanner_test.go.html#6577978">segments</a></span><span class="op" id="6578040">,</span>&nbsp;<span class="string" id="6578042">&#34;&#34;</span><span class="op" id="6578044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578047">s</span>&nbsp;<span class="op" id="6578049">:=</span>&nbsp;<span class="builtinfunc" id="6578052">new</span><span class="op" id="6578055">(</span><span class="ident" id="6578056"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6578063">)</span><span class="op" id="6578064">.</span><span class="ident" id="6578065">Init</span><span class="op" id="6578069">(</span><span class="op" id="6578070">&amp;</span><span class="ident" id="6578071"><a href="/text/scanner/scanner_test.go.html#6577717">StringReader</a></span><span class="op" id="6578083">{</span><span class="ident" id="6578084">data</span><span class="op" id="6578088">:</span>&nbsp;<span class="ident" id="6578090"><a href="/text/scanner/scanner_test.go.html#6577978">segments</a></span><span class="op" id="6578098">}</span><span class="op" id="6578099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578102">for</span>&nbsp;<span class="op" id="6578106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578110">ch</span>&nbsp;<span class="op" id="6578113">:=</span>&nbsp;<span class="ident" id="6578116"><a href="/text/scanner/scanner_test.go.html#6578047">s</a></span><span class="op" id="6578117">.</span><span class="ident" id="6578118">Next</span><span class="op" id="6578122">(</span><span class="op" id="6578123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578127">if</span>&nbsp;<span class="ident" id="6578130"><a href="/text/scanner/scanner_test.go.html#6578110">ch</a></span>&nbsp;<span class="op" id="6578133">==</span>&nbsp;<span class="ident" id="6578136"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span>&nbsp;<span class="op" id="6578140">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578145">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578157"><a href="/text/scanner/scanner_test.go.html#6578000">got</a></span>&nbsp;<span class="op" id="6578161">+=</span>&nbsp;<span class="builtintype" id="6578164">string</span><span class="op" id="6578170">(</span><span class="ident" id="6578171"><a href="/text/scanner/scanner_test.go.html#6578110">ch</a></span><span class="op" id="6578173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578179">if</span>&nbsp;<span class="ident" id="6578182"><a href="/text/scanner/scanner_test.go.html#6578000">got</a></span>&nbsp;<span class="op" id="6578186">!=</span>&nbsp;<span class="ident" id="6578189"><a href="/text/scanner/scanner_test.go.html#6578011">want</a></span>&nbsp;<span class="op" id="6578194">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578198"><a href="/text/scanner/scanner_test.go.html#6577964">t</a></span><span class="op" id="6578199">.</span><span class="ident" id="6578200">Errorf</span><span class="op" id="6578206">(</span><span class="string" id="6578207">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="6578235">,</span>&nbsp;<span class="ident" id="6578237"><a href="/text/scanner/scanner_test.go.html#6577978">segments</a></span><span class="op" id="6578245">,</span>&nbsp;<span class="ident" id="6578247"><a href="/text/scanner/scanner_test.go.html#6578000">got</a></span><span class="op" id="6578250">,</span>&nbsp;<span class="ident" id="6578252"><a href="/text/scanner/scanner_test.go.html#6578011">want</a></span><span class="op" id="6578256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578259">}</span><br>
<span class="lineno"></span><span class="op" id="6578261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6578264">var</span>&nbsp;<span class="ident" id="6578268">segmentList</span>&nbsp;<span class="op" id="6578280">=</span>&nbsp;<span class="op" id="6578282">[</span><span class="op" id="6578283">]</span><span class="op" id="6578284">[</span><span class="op" id="6578285">]</span><span class="builtintype" id="6578286">string</span><span class="op" id="6578292">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578295">{</span><span class="op" id="6578296">}</span><span class="op" id="6578297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578300">{</span><span class="string" id="6578301">&#34;&#34;</span><span class="op" id="6578303">}</span><span class="op" id="6578304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578307">{</span><span class="string" id="6578308">&#34;日&#34;</span><span class="op" id="6578313">,</span>&nbsp;<span class="string" id="6578315">&#34;本語&#34;</span><span class="op" id="6578323">}</span><span class="op" id="6578324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578327">{</span><span class="string" id="6578328">&#34;\u65e5&#34;</span><span class="op" id="6578336">,</span>&nbsp;<span class="string" id="6578338">&#34;\u672c&#34;</span><span class="op" id="6578346">,</span>&nbsp;<span class="string" id="6578348">&#34;\u8a9e&#34;</span><span class="op" id="6578356">}</span><span class="op" id="6578357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578360">{</span><span class="string" id="6578361">&#34;\U000065e5&#34;</span><span class="op" id="6578373">,</span>&nbsp;<span class="string" id="6578375">&#34;&nbsp;&#34;</span><span class="op" id="6578378">,</span>&nbsp;<span class="string" id="6578380">&#34;\U0000672c&#34;</span><span class="op" id="6578392">,</span>&nbsp;<span class="string" id="6578394">&#34;\U00008a9e&#34;</span><span class="op" id="6578406">}</span><span class="op" id="6578407">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578410">{</span><span class="string" id="6578411">&#34;\xe6&#34;</span><span class="op" id="6578417">,</span>&nbsp;<span class="string" id="6578419">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="6578433">,</span>&nbsp;<span class="string" id="6578435">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="6578457">}</span><span class="op" id="6578458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578461">{</span><span class="string" id="6578462">&#34;Hello&#34;</span><span class="op" id="6578469">,</span>&nbsp;<span class="string" id="6578471">&#34;,&nbsp;&#34;</span><span class="op" id="6578475">,</span>&nbsp;<span class="string" id="6578477">&#34;World&#34;</span><span class="op" id="6578484">,</span>&nbsp;<span class="string" id="6578486">&#34;!&#34;</span><span class="op" id="6578489">}</span><span class="op" id="6578490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578493">{</span><span class="string" id="6578494">&#34;Hello&#34;</span><span class="op" id="6578501">,</span>&nbsp;<span class="string" id="6578503">&#34;,&nbsp;&#34;</span><span class="op" id="6578507">,</span>&nbsp;<span class="string" id="6578509">&#34;&#34;</span><span class="op" id="6578511">,</span>&nbsp;<span class="string" id="6578513">&#34;World&#34;</span><span class="op" id="6578520">,</span>&nbsp;<span class="string" id="6578522">&#34;!&#34;</span><span class="op" id="6578525">}</span><span class="op" id="6578526">,</span><br>
<span class="lineno"></span><span class="op" id="6578528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6578531">func</span>&nbsp;<span class="ident" id="6578536">TestNext</span><span class="op" id="6578544">(</span><span class="ident" id="6578545">t</span>&nbsp;<span class="op" id="6578547">*</span><span class="ident" id="6578548"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6578555">.</span><span class="ident" id="6578556">T</span><span class="op" id="6578557">)</span>&nbsp;<span class="op" id="6578559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578562">for</span>&nbsp;<span class="ident" id="6578566">_</span><span class="op" id="6578567">,</span>&nbsp;<span class="ident" id="6578569">s</span>&nbsp;<span class="op" id="6578571">:=</span>&nbsp;<span class="keyword" id="6578574">range</span>&nbsp;<span class="ident" id="6578580"><a href="/text/scanner/scanner_test.go.html#6578268">segmentList</a></span>&nbsp;<span class="op" id="6578592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578596"><a href="/text/scanner/scanner_test.go.html#6577947">readRuneSegments</a></span><span class="op" id="6578612">(</span><span class="ident" id="6578613"><a href="/text/scanner/scanner_test.go.html#6578545">t</a></span><span class="op" id="6578614">,</span>&nbsp;<span class="ident" id="6578616"><a href="/text/scanner/scanner_test.go.html#6578569">s</a></span><span class="op" id="6578617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578620">}</span><br>
<span class="lineno"></span><span class="op" id="6578622">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6578625">type</span>&nbsp;<span class="ident" id="6578630">token</span>&nbsp;<span class="keyword" id="6578636">struct</span>&nbsp;<span class="op" id="6578643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578646">tok</span>&nbsp;&nbsp;<span class="builtintype" id="6578651">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578657">text</span>&nbsp;<span class="builtintype" id="6578662">string</span><br>
<span class="lineno"></span><span class="op" id="6578669">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6578672">var</span>&nbsp;<span class="ident" id="6578676">f100</span>&nbsp;<span class="op" id="6578681">=</span>&nbsp;<span class="string" id="6578683">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6578787">var</span>&nbsp;<span class="ident" id="6578791">tokenList</span>&nbsp;<span class="op" id="6578801">=</span>&nbsp;<span class="op" id="6578803">[</span><span class="op" id="6578804">]</span><span class="ident" id="6578805"><a href="/text/scanner/scanner_test.go.html#6578630">token</a></span><span class="op" id="6578810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578813">{</span><span class="ident" id="6578814"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6578821">,</span>&nbsp;<span class="string" id="6578823">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="6578841">}</span><span class="op" id="6578842">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578845">{</span><span class="ident" id="6578846"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6578853">,</span>&nbsp;<span class="string" id="6578855">&#34;//&#34;</span><span class="op" id="6578859">}</span><span class="op" id="6578860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578863">{</span><span class="ident" id="6578864"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6578871">,</span>&nbsp;<span class="string" id="6578873">&#34;////&#34;</span><span class="op" id="6578879">}</span><span class="op" id="6578880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578883">{</span><span class="ident" id="6578884"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6578891">,</span>&nbsp;<span class="string" id="6578893">&#34;//&nbsp;comment&#34;</span><span class="op" id="6578905">}</span><span class="op" id="6578906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578909">{</span><span class="ident" id="6578910"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6578917">,</span>&nbsp;<span class="string" id="6578919">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6578937">}</span><span class="op" id="6578938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578941">{</span><span class="ident" id="6578942"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6578949">,</span>&nbsp;<span class="string" id="6578951">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="6578969">}</span><span class="op" id="6578970">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578973">{</span><span class="ident" id="6578974"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6578981">,</span>&nbsp;<span class="string" id="6578983">&#34;//&#34;</span>&nbsp;<span class="op" id="6578988">+</span>&nbsp;<span class="ident" id="6578990"><a href="/text/scanner/scanner_test.go.html#6578676">f100</a></span><span class="op" id="6578994">}</span><span class="op" id="6578995">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578999">{</span><span class="ident" id="6579000"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579007">,</span>&nbsp;<span class="string" id="6579009">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="6579030">}</span><span class="op" id="6579031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579034">{</span><span class="ident" id="6579035"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579042">,</span>&nbsp;<span class="string" id="6579044">&#34;/**/&#34;</span><span class="op" id="6579050">}</span><span class="op" id="6579051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579054">{</span><span class="ident" id="6579055"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579062">,</span>&nbsp;<span class="string" id="6579064">&#34;/***/&#34;</span><span class="op" id="6579071">}</span><span class="op" id="6579072">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579075">{</span><span class="ident" id="6579076"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579083">,</span>&nbsp;<span class="string" id="6579085">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6579100">}</span><span class="op" id="6579101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579104">{</span><span class="ident" id="6579105"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579112">,</span>&nbsp;<span class="string" id="6579114">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6579132">}</span><span class="op" id="6579133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579136">{</span><span class="ident" id="6579137"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579144">,</span>&nbsp;<span class="string" id="6579146">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6579164">}</span><span class="op" id="6579165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579168">{</span><span class="ident" id="6579169"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579176">,</span>&nbsp;<span class="string" id="6579178">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="6579196">}</span><span class="op" id="6579197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579200">{</span><span class="ident" id="6579201"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579208">,</span>&nbsp;<span class="string" id="6579210">&#34;/*&#34;</span>&nbsp;<span class="op" id="6579215">+</span>&nbsp;<span class="ident" id="6579217"><a href="/text/scanner/scanner_test.go.html#6578676">f100</a></span>&nbsp;<span class="op" id="6579222">+</span>&nbsp;<span class="string" id="6579224">&#34;*/&#34;</span><span class="op" id="6579228">}</span><span class="op" id="6579229">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579233">{</span><span class="ident" id="6579234"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579241">,</span>&nbsp;<span class="string" id="6579243">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="6579259">}</span><span class="op" id="6579260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579263">{</span><span class="ident" id="6579264"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579269">,</span>&nbsp;<span class="string" id="6579271">&#34;a&#34;</span><span class="op" id="6579274">}</span><span class="op" id="6579275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579278">{</span><span class="ident" id="6579279"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579284">,</span>&nbsp;<span class="string" id="6579286">&#34;a0&#34;</span><span class="op" id="6579290">}</span><span class="op" id="6579291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579294">{</span><span class="ident" id="6579295"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579300">,</span>&nbsp;<span class="string" id="6579302">&#34;foobar&#34;</span><span class="op" id="6579310">}</span><span class="op" id="6579311">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579314">{</span><span class="ident" id="6579315"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579320">,</span>&nbsp;<span class="string" id="6579322">&#34;abc123&#34;</span><span class="op" id="6579330">}</span><span class="op" id="6579331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579334">{</span><span class="ident" id="6579335"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579340">,</span>&nbsp;<span class="string" id="6579342">&#34;LGTM&#34;</span><span class="op" id="6579348">}</span><span class="op" id="6579349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579352">{</span><span class="ident" id="6579353"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579358">,</span>&nbsp;<span class="string" id="6579360">&#34;_&#34;</span><span class="op" id="6579363">}</span><span class="op" id="6579364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579367">{</span><span class="ident" id="6579368"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579373">,</span>&nbsp;<span class="string" id="6579375">&#34;_abc123&#34;</span><span class="op" id="6579384">}</span><span class="op" id="6579385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579388">{</span><span class="ident" id="6579389"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579394">,</span>&nbsp;<span class="string" id="6579396">&#34;abc123_&#34;</span><span class="op" id="6579405">}</span><span class="op" id="6579406">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579409">{</span><span class="ident" id="6579410"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579415">,</span>&nbsp;<span class="string" id="6579417">&#34;_abc_123_&#34;</span><span class="op" id="6579428">}</span><span class="op" id="6579429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579432">{</span><span class="ident" id="6579433"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579438">,</span>&nbsp;<span class="string" id="6579440">&#34;_äöü&#34;</span><span class="op" id="6579449">}</span><span class="op" id="6579450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579453">{</span><span class="ident" id="6579454"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579459">,</span>&nbsp;<span class="string" id="6579461">&#34;_本&#34;</span><span class="op" id="6579467">}</span><span class="op" id="6579468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579471">{</span><span class="ident" id="6579472"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579477">,</span>&nbsp;<span class="string" id="6579479">&#34;äöü&#34;</span><span class="op" id="6579487">}</span><span class="op" id="6579488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579491">{</span><span class="ident" id="6579492"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579497">,</span>&nbsp;<span class="string" id="6579499">&#34;本&#34;</span><span class="op" id="6579504">}</span><span class="op" id="6579505">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579508">{</span><span class="ident" id="6579509"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579514">,</span>&nbsp;<span class="string" id="6579516">&#34;a۰۱۸&#34;</span><span class="op" id="6579525">}</span><span class="op" id="6579526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579529">{</span><span class="ident" id="6579530"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579535">,</span>&nbsp;<span class="string" id="6579537">&#34;foo६४&#34;</span><span class="op" id="6579548">}</span><span class="op" id="6579549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579552">{</span><span class="ident" id="6579553"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579558">,</span>&nbsp;<span class="string" id="6579560">&#34;bar９８７６&#34;</span><span class="op" id="6579577">}</span><span class="op" id="6579578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579581">{</span><span class="ident" id="6579582"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6579587">,</span>&nbsp;<span class="ident" id="6579589"><a href="/text/scanner/scanner_test.go.html#6578676">f100</a></span><span class="op" id="6579593">}</span><span class="op" id="6579594">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579598">{</span><span class="ident" id="6579599"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579606">,</span>&nbsp;<span class="string" id="6579608">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="6579625">}</span><span class="op" id="6579626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579629">{</span><span class="ident" id="6579630"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579633">,</span>&nbsp;<span class="string" id="6579635">&#34;0&#34;</span><span class="op" id="6579638">}</span><span class="op" id="6579639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579642">{</span><span class="ident" id="6579643"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579646">,</span>&nbsp;<span class="string" id="6579648">&#34;1&#34;</span><span class="op" id="6579651">}</span><span class="op" id="6579652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579655">{</span><span class="ident" id="6579656"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579659">,</span>&nbsp;<span class="string" id="6579661">&#34;9&#34;</span><span class="op" id="6579664">}</span><span class="op" id="6579665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579668">{</span><span class="ident" id="6579669"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579672">,</span>&nbsp;<span class="string" id="6579674">&#34;42&#34;</span><span class="op" id="6579678">}</span><span class="op" id="6579679">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579682">{</span><span class="ident" id="6579683"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579686">,</span>&nbsp;<span class="string" id="6579688">&#34;1234567890&#34;</span><span class="op" id="6579700">}</span><span class="op" id="6579701">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579705">{</span><span class="ident" id="6579706"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579713">,</span>&nbsp;<span class="string" id="6579715">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="6579730">}</span><span class="op" id="6579731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579734">{</span><span class="ident" id="6579735"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579738">,</span>&nbsp;<span class="string" id="6579740">&#34;00&#34;</span><span class="op" id="6579744">}</span><span class="op" id="6579745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579748">{</span><span class="ident" id="6579749"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579752">,</span>&nbsp;<span class="string" id="6579754">&#34;01&#34;</span><span class="op" id="6579758">}</span><span class="op" id="6579759">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579762">{</span><span class="ident" id="6579763"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579766">,</span>&nbsp;<span class="string" id="6579768">&#34;07&#34;</span><span class="op" id="6579772">}</span><span class="op" id="6579773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579776">{</span><span class="ident" id="6579777"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579780">,</span>&nbsp;<span class="string" id="6579782">&#34;042&#34;</span><span class="op" id="6579787">}</span><span class="op" id="6579788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579791">{</span><span class="ident" id="6579792"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579795">,</span>&nbsp;<span class="string" id="6579797">&#34;01234567&#34;</span><span class="op" id="6579807">}</span><span class="op" id="6579808">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579812">{</span><span class="ident" id="6579813"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6579820">,</span>&nbsp;<span class="string" id="6579822">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="6579843">}</span><span class="op" id="6579844">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579847">{</span><span class="ident" id="6579848"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579851">,</span>&nbsp;<span class="string" id="6579853">&#34;0x0&#34;</span><span class="op" id="6579858">}</span><span class="op" id="6579859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579862">{</span><span class="ident" id="6579863"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579866">,</span>&nbsp;<span class="string" id="6579868">&#34;0x1&#34;</span><span class="op" id="6579873">}</span><span class="op" id="6579874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579877">{</span><span class="ident" id="6579878"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579881">,</span>&nbsp;<span class="string" id="6579883">&#34;0xf&#34;</span><span class="op" id="6579888">}</span><span class="op" id="6579889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579892">{</span><span class="ident" id="6579893"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579896">,</span>&nbsp;<span class="string" id="6579898">&#34;0x42&#34;</span><span class="op" id="6579904">}</span><span class="op" id="6579905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579908">{</span><span class="ident" id="6579909"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579912">,</span>&nbsp;<span class="string" id="6579914">&#34;0x123456789abcDEF&#34;</span><span class="op" id="6579933">}</span><span class="op" id="6579934">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579937">{</span><span class="ident" id="6579938"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579941">,</span>&nbsp;<span class="string" id="6579943">&#34;0x&#34;</span>&nbsp;<span class="op" id="6579948">+</span>&nbsp;<span class="ident" id="6579950"><a href="/text/scanner/scanner_test.go.html#6578676">f100</a></span><span class="op" id="6579954">}</span><span class="op" id="6579955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579958">{</span><span class="ident" id="6579959"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579962">,</span>&nbsp;<span class="string" id="6579964">&#34;0X0&#34;</span><span class="op" id="6579969">}</span><span class="op" id="6579970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579973">{</span><span class="ident" id="6579974"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579977">,</span>&nbsp;<span class="string" id="6579979">&#34;0X1&#34;</span><span class="op" id="6579984">}</span><span class="op" id="6579985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579988">{</span><span class="ident" id="6579989"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6579992">,</span>&nbsp;<span class="string" id="6579994">&#34;0XF&#34;</span><span class="op" id="6579999">}</span><span class="op" id="6580000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580003">{</span><span class="ident" id="6580004"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6580007">,</span>&nbsp;<span class="string" id="6580009">&#34;0X42&#34;</span><span class="op" id="6580015">}</span><span class="op" id="6580016">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580019">{</span><span class="ident" id="6580020"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6580023">,</span>&nbsp;<span class="string" id="6580025">&#34;0X123456789abcDEF&#34;</span><span class="op" id="6580044">}</span><span class="op" id="6580045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580048">{</span><span class="ident" id="6580049"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6580052">,</span>&nbsp;<span class="string" id="6580054">&#34;0X&#34;</span>&nbsp;<span class="op" id="6580059">+</span>&nbsp;<span class="ident" id="6580061"><a href="/text/scanner/scanner_test.go.html#6578676">f100</a></span><span class="op" id="6580065">}</span><span class="op" id="6580066">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580070">{</span><span class="ident" id="6580071"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6580078">,</span>&nbsp;<span class="string" id="6580080">&#34;//&nbsp;floats&#34;</span><span class="op" id="6580091">}</span><span class="op" id="6580092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580095">{</span><span class="ident" id="6580096"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580101">,</span>&nbsp;<span class="string" id="6580103">&#34;0.&#34;</span><span class="op" id="6580107">}</span><span class="op" id="6580108">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580111">{</span><span class="ident" id="6580112"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580117">,</span>&nbsp;<span class="string" id="6580119">&#34;1.&#34;</span><span class="op" id="6580123">}</span><span class="op" id="6580124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580127">{</span><span class="ident" id="6580128"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580133">,</span>&nbsp;<span class="string" id="6580135">&#34;42.&#34;</span><span class="op" id="6580140">}</span><span class="op" id="6580141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580144">{</span><span class="ident" id="6580145"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580150">,</span>&nbsp;<span class="string" id="6580152">&#34;01234567890.&#34;</span><span class="op" id="6580166">}</span><span class="op" id="6580167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580170">{</span><span class="ident" id="6580171"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580176">,</span>&nbsp;<span class="string" id="6580178">&#34;.0&#34;</span><span class="op" id="6580182">}</span><span class="op" id="6580183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580186">{</span><span class="ident" id="6580187"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580192">,</span>&nbsp;<span class="string" id="6580194">&#34;.1&#34;</span><span class="op" id="6580198">}</span><span class="op" id="6580199">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580202">{</span><span class="ident" id="6580203"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580208">,</span>&nbsp;<span class="string" id="6580210">&#34;.42&#34;</span><span class="op" id="6580215">}</span><span class="op" id="6580216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580219">{</span><span class="ident" id="6580220"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580225">,</span>&nbsp;<span class="string" id="6580227">&#34;.0123456789&#34;</span><span class="op" id="6580240">}</span><span class="op" id="6580241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580244">{</span><span class="ident" id="6580245"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580250">,</span>&nbsp;<span class="string" id="6580252">&#34;0.0&#34;</span><span class="op" id="6580257">}</span><span class="op" id="6580258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580261">{</span><span class="ident" id="6580262"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580267">,</span>&nbsp;<span class="string" id="6580269">&#34;1.0&#34;</span><span class="op" id="6580274">}</span><span class="op" id="6580275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580278">{</span><span class="ident" id="6580279"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580284">,</span>&nbsp;<span class="string" id="6580286">&#34;42.0&#34;</span><span class="op" id="6580292">}</span><span class="op" id="6580293">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580296">{</span><span class="ident" id="6580297"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580302">,</span>&nbsp;<span class="string" id="6580304">&#34;01234567890.0&#34;</span><span class="op" id="6580319">}</span><span class="op" id="6580320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580323">{</span><span class="ident" id="6580324"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580329">,</span>&nbsp;<span class="string" id="6580331">&#34;0e0&#34;</span><span class="op" id="6580336">}</span><span class="op" id="6580337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580340">{</span><span class="ident" id="6580341"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580346">,</span>&nbsp;<span class="string" id="6580348">&#34;1e0&#34;</span><span class="op" id="6580353">}</span><span class="op" id="6580354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580357">{</span><span class="ident" id="6580358"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580363">,</span>&nbsp;<span class="string" id="6580365">&#34;42e0&#34;</span><span class="op" id="6580371">}</span><span class="op" id="6580372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580375">{</span><span class="ident" id="6580376"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580381">,</span>&nbsp;<span class="string" id="6580383">&#34;01234567890e0&#34;</span><span class="op" id="6580398">}</span><span class="op" id="6580399">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580402">{</span><span class="ident" id="6580403"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580408">,</span>&nbsp;<span class="string" id="6580410">&#34;0E0&#34;</span><span class="op" id="6580415">}</span><span class="op" id="6580416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580419">{</span><span class="ident" id="6580420"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580425">,</span>&nbsp;<span class="string" id="6580427">&#34;1E0&#34;</span><span class="op" id="6580432">}</span><span class="op" id="6580433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580436">{</span><span class="ident" id="6580437"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580442">,</span>&nbsp;<span class="string" id="6580444">&#34;42E0&#34;</span><span class="op" id="6580450">}</span><span class="op" id="6580451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580454">{</span><span class="ident" id="6580455"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580460">,</span>&nbsp;<span class="string" id="6580462">&#34;01234567890E0&#34;</span><span class="op" id="6580477">}</span><span class="op" id="6580478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580481">{</span><span class="ident" id="6580482"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580487">,</span>&nbsp;<span class="string" id="6580489">&#34;0e+10&#34;</span><span class="op" id="6580496">}</span><span class="op" id="6580497">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580500">{</span><span class="ident" id="6580501"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580506">,</span>&nbsp;<span class="string" id="6580508">&#34;1e-10&#34;</span><span class="op" id="6580515">}</span><span class="op" id="6580516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580519">{</span><span class="ident" id="6580520"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580525">,</span>&nbsp;<span class="string" id="6580527">&#34;42e+10&#34;</span><span class="op" id="6580535">}</span><span class="op" id="6580536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580539">{</span><span class="ident" id="6580540"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580545">,</span>&nbsp;<span class="string" id="6580547">&#34;01234567890e-10&#34;</span><span class="op" id="6580564">}</span><span class="op" id="6580565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580568">{</span><span class="ident" id="6580569"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580574">,</span>&nbsp;<span class="string" id="6580576">&#34;0E+10&#34;</span><span class="op" id="6580583">}</span><span class="op" id="6580584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580587">{</span><span class="ident" id="6580588"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580593">,</span>&nbsp;<span class="string" id="6580595">&#34;1E-10&#34;</span><span class="op" id="6580602">}</span><span class="op" id="6580603">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580606">{</span><span class="ident" id="6580607"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580612">,</span>&nbsp;<span class="string" id="6580614">&#34;42E+10&#34;</span><span class="op" id="6580622">}</span><span class="op" id="6580623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580626">{</span><span class="ident" id="6580627"><a href="/text/scanner/scanner.go.html#6341952">Float</a></span><span class="op" id="6580632">,</span>&nbsp;<span class="string" id="6580634">&#34;01234567890E-10&#34;</span><span class="op" id="6580651">}</span><span class="op" id="6580652">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580656">{</span><span class="ident" id="6580657"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6580664">,</span>&nbsp;<span class="string" id="6580666">&#34;//&nbsp;chars&#34;</span><span class="op" id="6580676">}</span><span class="op" id="6580677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580680">{</span><span class="ident" id="6580681"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580685">,</span>&nbsp;<span class="string" id="6580687">`&#39;&nbsp;&#39;`</span><span class="op" id="6580692">}</span><span class="op" id="6580693">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580696">{</span><span class="ident" id="6580697"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580701">,</span>&nbsp;<span class="string" id="6580703">`&#39;a&#39;`</span><span class="op" id="6580708">}</span><span class="op" id="6580709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580712">{</span><span class="ident" id="6580713"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580717">,</span>&nbsp;<span class="string" id="6580719">`&#39;本&#39;`</span><span class="op" id="6580726">}</span><span class="op" id="6580727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580730">{</span><span class="ident" id="6580731"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580735">,</span>&nbsp;<span class="string" id="6580737">`&#39;\a&#39;`</span><span class="op" id="6580743">}</span><span class="op" id="6580744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580747">{</span><span class="ident" id="6580748"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580752">,</span>&nbsp;<span class="string" id="6580754">`&#39;\b&#39;`</span><span class="op" id="6580760">}</span><span class="op" id="6580761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580764">{</span><span class="ident" id="6580765"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580769">,</span>&nbsp;<span class="string" id="6580771">`&#39;\f&#39;`</span><span class="op" id="6580777">}</span><span class="op" id="6580778">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580781">{</span><span class="ident" id="6580782"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580786">,</span>&nbsp;<span class="string" id="6580788">`&#39;\n&#39;`</span><span class="op" id="6580794">}</span><span class="op" id="6580795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580798">{</span><span class="ident" id="6580799"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580803">,</span>&nbsp;<span class="string" id="6580805">`&#39;\r&#39;`</span><span class="op" id="6580811">}</span><span class="op" id="6580812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580815">{</span><span class="ident" id="6580816"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580820">,</span>&nbsp;<span class="string" id="6580822">`&#39;\t&#39;`</span><span class="op" id="6580828">}</span><span class="op" id="6580829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580832">{</span><span class="ident" id="6580833"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580837">,</span>&nbsp;<span class="string" id="6580839">`&#39;\v&#39;`</span><span class="op" id="6580845">}</span><span class="op" id="6580846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580849">{</span><span class="ident" id="6580850"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580854">,</span>&nbsp;<span class="string" id="6580856">`&#39;\&#39;&#39;`</span><span class="op" id="6580862">}</span><span class="op" id="6580863">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580866">{</span><span class="ident" id="6580867"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580871">,</span>&nbsp;<span class="string" id="6580873">`&#39;\000&#39;`</span><span class="op" id="6580881">}</span><span class="op" id="6580882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580885">{</span><span class="ident" id="6580886"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580890">,</span>&nbsp;<span class="string" id="6580892">`&#39;\777&#39;`</span><span class="op" id="6580900">}</span><span class="op" id="6580901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580904">{</span><span class="ident" id="6580905"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580909">,</span>&nbsp;<span class="string" id="6580911">`&#39;\x00&#39;`</span><span class="op" id="6580919">}</span><span class="op" id="6580920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580923">{</span><span class="ident" id="6580924"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580928">,</span>&nbsp;<span class="string" id="6580930">`&#39;\xff&#39;`</span><span class="op" id="6580938">}</span><span class="op" id="6580939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580942">{</span><span class="ident" id="6580943"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580947">,</span>&nbsp;<span class="string" id="6580949">`&#39;\u0000&#39;`</span><span class="op" id="6580959">}</span><span class="op" id="6580960">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580963">{</span><span class="ident" id="6580964"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580968">,</span>&nbsp;<span class="string" id="6580970">`&#39;\ufA16&#39;`</span><span class="op" id="6580980">}</span><span class="op" id="6580981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580984">{</span><span class="ident" id="6580985"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6580989">,</span>&nbsp;<span class="string" id="6580991">`&#39;\U00000000&#39;`</span><span class="op" id="6581005">}</span><span class="op" id="6581006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581009">{</span><span class="ident" id="6581010"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6581014">,</span>&nbsp;<span class="string" id="6581016">`&#39;\U0000ffAB&#39;`</span><span class="op" id="6581030">}</span><span class="op" id="6581031">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581035">{</span><span class="ident" id="6581036"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6581043">,</span>&nbsp;<span class="string" id="6581045">&#34;//&nbsp;strings&#34;</span><span class="op" id="6581057">}</span><span class="op" id="6581058">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581061">{</span><span class="ident" id="6581062"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581068">,</span>&nbsp;<span class="string" id="6581070">`&#34;&nbsp;&#34;`</span><span class="op" id="6581075">}</span><span class="op" id="6581076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581079">{</span><span class="ident" id="6581080"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581086">,</span>&nbsp;<span class="string" id="6581088">`&#34;a&#34;`</span><span class="op" id="6581093">}</span><span class="op" id="6581094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581097">{</span><span class="ident" id="6581098"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581104">,</span>&nbsp;<span class="string" id="6581106">`&#34;本&#34;`</span><span class="op" id="6581113">}</span><span class="op" id="6581114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581117">{</span><span class="ident" id="6581118"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581124">,</span>&nbsp;<span class="string" id="6581126">`&#34;\a&#34;`</span><span class="op" id="6581132">}</span><span class="op" id="6581133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581136">{</span><span class="ident" id="6581137"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581143">,</span>&nbsp;<span class="string" id="6581145">`&#34;\b&#34;`</span><span class="op" id="6581151">}</span><span class="op" id="6581152">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581155">{</span><span class="ident" id="6581156"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581162">,</span>&nbsp;<span class="string" id="6581164">`&#34;\f&#34;`</span><span class="op" id="6581170">}</span><span class="op" id="6581171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581174">{</span><span class="ident" id="6581175"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581181">,</span>&nbsp;<span class="string" id="6581183">`&#34;\n&#34;`</span><span class="op" id="6581189">}</span><span class="op" id="6581190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581193">{</span><span class="ident" id="6581194"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581200">,</span>&nbsp;<span class="string" id="6581202">`&#34;\r&#34;`</span><span class="op" id="6581208">}</span><span class="op" id="6581209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581212">{</span><span class="ident" id="6581213"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581219">,</span>&nbsp;<span class="string" id="6581221">`&#34;\t&#34;`</span><span class="op" id="6581227">}</span><span class="op" id="6581228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581231">{</span><span class="ident" id="6581232"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581238">,</span>&nbsp;<span class="string" id="6581240">`&#34;\v&#34;`</span><span class="op" id="6581246">}</span><span class="op" id="6581247">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581250">{</span><span class="ident" id="6581251"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581257">,</span>&nbsp;<span class="string" id="6581259">`&#34;\&#34;&#34;`</span><span class="op" id="6581265">}</span><span class="op" id="6581266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581269">{</span><span class="ident" id="6581270"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581276">,</span>&nbsp;<span class="string" id="6581278">`&#34;\000&#34;`</span><span class="op" id="6581286">}</span><span class="op" id="6581287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581290">{</span><span class="ident" id="6581291"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581297">,</span>&nbsp;<span class="string" id="6581299">`&#34;\777&#34;`</span><span class="op" id="6581307">}</span><span class="op" id="6581308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581311">{</span><span class="ident" id="6581312"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581318">,</span>&nbsp;<span class="string" id="6581320">`&#34;\x00&#34;`</span><span class="op" id="6581328">}</span><span class="op" id="6581329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581332">{</span><span class="ident" id="6581333"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581339">,</span>&nbsp;<span class="string" id="6581341">`&#34;\xff&#34;`</span><span class="op" id="6581349">}</span><span class="op" id="6581350">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581353">{</span><span class="ident" id="6581354"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581360">,</span>&nbsp;<span class="string" id="6581362">`&#34;\u0000&#34;`</span><span class="op" id="6581372">}</span><span class="op" id="6581373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581376">{</span><span class="ident" id="6581377"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581383">,</span>&nbsp;<span class="string" id="6581385">`&#34;\ufA16&#34;`</span><span class="op" id="6581395">}</span><span class="op" id="6581396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581399">{</span><span class="ident" id="6581400"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581406">,</span>&nbsp;<span class="string" id="6581408">`&#34;\U00000000&#34;`</span><span class="op" id="6581422">}</span><span class="op" id="6581423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581426">{</span><span class="ident" id="6581427"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581433">,</span>&nbsp;<span class="string" id="6581435">`&#34;\U0000ffAB&#34;`</span><span class="op" id="6581449">}</span><span class="op" id="6581450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581453">{</span><span class="ident" id="6581454"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581460">,</span>&nbsp;<span class="string" id="6581462">`&#34;`</span>&nbsp;<span class="op" id="6581466">+</span>&nbsp;<span class="ident" id="6581468"><a href="/text/scanner/scanner_test.go.html#6578676">f100</a></span>&nbsp;<span class="op" id="6581473">+</span>&nbsp;<span class="string" id="6581475">`&#34;`</span><span class="op" id="6581478">}</span><span class="op" id="6581479">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581483">{</span><span class="ident" id="6581484"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6581491">,</span>&nbsp;<span class="string" id="6581493">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="6581509">}</span><span class="op" id="6581510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581513">{</span><span class="ident" id="6581514"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581520">,</span>&nbsp;<span class="string" id="6581522">&#34;``&#34;</span><span class="op" id="6581526">}</span><span class="op" id="6581527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581530">{</span><span class="ident" id="6581531"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581537">,</span>&nbsp;<span class="string" id="6581539">&#34;`\\`&#34;</span><span class="op" id="6581545">}</span><span class="op" id="6581546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581549">{</span><span class="ident" id="6581550"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581556">,</span>&nbsp;<span class="string" id="6581558">&#34;`&#34;</span>&nbsp;<span class="op" id="6581562">+</span>&nbsp;<span class="string" id="6581564">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="6581587">+</span>&nbsp;<span class="string" id="6581589">&#34;`&#34;</span><span class="op" id="6581592">}</span><span class="op" id="6581593">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581596">{</span><span class="ident" id="6581597"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6581603">,</span>&nbsp;<span class="string" id="6581605">&#34;`&#34;</span>&nbsp;<span class="op" id="6581609">+</span>&nbsp;<span class="ident" id="6581611"><a href="/text/scanner/scanner_test.go.html#6578676">f100</a></span>&nbsp;<span class="op" id="6581616">+</span>&nbsp;<span class="string" id="6581618">&#34;`&#34;</span><span class="op" id="6581621">}</span><span class="op" id="6581622">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581626">{</span><span class="ident" id="6581627"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6581634">,</span>&nbsp;<span class="string" id="6581636">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="6581662">}</span><span class="op" id="6581663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6581666">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581699">{</span><span class="string" id="6581700">&#39;\x01&#39;</span><span class="op" id="6581706">,</span>&nbsp;<span class="string" id="6581708">&#34;\x01&#34;</span><span class="op" id="6581714">}</span><span class="op" id="6581715">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581718">{</span><span class="string" id="6581719">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6581723">-</span>&nbsp;<span class="num" id="6581725">1</span><span class="op" id="6581726">,</span>&nbsp;<span class="builtintype" id="6581728">string</span><span class="op" id="6581734">(</span><span class="string" id="6581735">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6581739">-</span>&nbsp;<span class="num" id="6581741">1</span><span class="op" id="6581742">)</span><span class="op" id="6581743">}</span><span class="op" id="6581744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581747">{</span><span class="string" id="6581748">&#39;+&#39;</span><span class="op" id="6581751">,</span>&nbsp;<span class="string" id="6581753">&#34;+&#34;</span><span class="op" id="6581756">}</span><span class="op" id="6581757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581760">{</span><span class="string" id="6581761">&#39;/&#39;</span><span class="op" id="6581764">,</span>&nbsp;<span class="string" id="6581766">&#34;/&#34;</span><span class="op" id="6581769">}</span><span class="op" id="6581770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581773">{</span><span class="string" id="6581774">&#39;.&#39;</span><span class="op" id="6581777">,</span>&nbsp;<span class="string" id="6581779">&#34;.&#34;</span><span class="op" id="6581782">}</span><span class="op" id="6581783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581786">{</span><span class="string" id="6581787">&#39;~&#39;</span><span class="op" id="6581790">,</span>&nbsp;<span class="string" id="6581792">&#34;~&#34;</span><span class="op" id="6581795">}</span><span class="op" id="6581796">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581799">{</span><span class="string" id="6581800">&#39;(&#39;</span><span class="op" id="6581803">,</span>&nbsp;<span class="string" id="6581805">&#34;(&#34;</span><span class="op" id="6581808">}</span><span class="op" id="6581809">,</span><br>
<span class="lineno"></span><span class="op" id="6581811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6581814">func</span>&nbsp;<span class="ident" id="6581819">makeSource</span><span class="op" id="6581829">(</span><span class="ident" id="6581830">pattern</span>&nbsp;<span class="builtintype" id="6581838">string</span><span class="op" id="6581844">)</span>&nbsp;<span class="op" id="6581846">*</span><span class="ident" id="6581847"><a href="/text/scanner/scanner_test.go.html#6577575">bytes</a></span><span class="op" id="6581852">.</span><span class="ident" id="6581853">Buffer</span>&nbsp;<span class="op" id="6581860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581863">var</span>&nbsp;<span class="ident" id="6581867">buf</span>&nbsp;<span class="ident" id="6581871"><a href="/text/scanner/scanner_test.go.html#6577575">bytes</a></span><span class="op" id="6581876">.</span><span class="ident" id="6581877">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581885">for</span>&nbsp;<span class="ident" id="6581889">_</span><span class="op" id="6581890">,</span>&nbsp;<span class="ident" id="6581892">k</span>&nbsp;<span class="op" id="6581894">:=</span>&nbsp;<span class="keyword" id="6581897">range</span>&nbsp;<span class="ident" id="6581903"><a href="/text/scanner/scanner_test.go.html#6578791">tokenList</a></span>&nbsp;<span class="op" id="6581913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581917"><a href="/text/scanner/scanner_test.go.html#6577584">fmt</a></span><span class="op" id="6581920">.</span><span class="ident" id="6581921">Fprintf</span><span class="op" id="6581928">(</span><span class="op" id="6581929">&amp;</span><span class="ident" id="6581930"><a href="/text/scanner/scanner_test.go.html#6581867">buf</a></span><span class="op" id="6581933">,</span>&nbsp;<span class="ident" id="6581935"><a href="/text/scanner/scanner_test.go.html#6581830">pattern</a></span><span class="op" id="6581942">,</span>&nbsp;<span class="ident" id="6581944"><a href="/text/scanner/scanner_test.go.html#6581892">k</a></span><span class="op" id="6581945">.</span><span class="ident" id="6581946">text</span><span class="op" id="6581950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581956">return</span>&nbsp;<span class="op" id="6581963">&amp;</span><span class="ident" id="6581964"><a href="/text/scanner/scanner_test.go.html#6581867">buf</a></span><br>
<span class="lineno"></span><span class="op" id="6581968">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="6581971">func</span>&nbsp;<span class="ident" id="6581976">checkTok</span><span class="op" id="6581984">(</span><span class="ident" id="6581985">t</span>&nbsp;<span class="op" id="6581987">*</span><span class="ident" id="6581988"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6581995">.</span><span class="ident" id="6581996">T</span><span class="op" id="6581997">,</span>&nbsp;<span class="ident" id="6581999">s</span>&nbsp;<span class="op" id="6582001">*</span><span class="ident" id="6582002"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6582009">,</span>&nbsp;<span class="ident" id="6582011">line</span>&nbsp;<span class="builtintype" id="6582016">int</span><span class="op" id="6582019">,</span>&nbsp;<span class="ident" id="6582021">got</span><span class="op" id="6582024">,</span>&nbsp;<span class="ident" id="6582026">want</span>&nbsp;<span class="builtintype" id="6582031">rune</span><span class="op" id="6582035">,</span>&nbsp;<span class="ident" id="6582037">text</span>&nbsp;<span class="builtintype" id="6582042">string</span><span class="op" id="6582048">)</span>&nbsp;<span class="op" id="6582050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582053">if</span>&nbsp;<span class="ident" id="6582056"><a href="/text/scanner/scanner_test.go.html#6582021">got</a></span>&nbsp;<span class="op" id="6582060">!=</span>&nbsp;<span class="ident" id="6582063"><a href="/text/scanner/scanner_test.go.html#6582026">want</a></span>&nbsp;<span class="op" id="6582068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582072"><a href="/text/scanner/scanner_test.go.html#6581985">t</a></span><span class="op" id="6582073">.</span><span class="ident" id="6582074">Fatalf</span><span class="op" id="6582080">(</span><span class="string" id="6582081">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6582107">,</span>&nbsp;<span class="ident" id="6582109"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6582120">(</span><span class="ident" id="6582121"><a href="/text/scanner/scanner_test.go.html#6582021">got</a></span><span class="op" id="6582124">)</span><span class="op" id="6582125">,</span>&nbsp;<span class="ident" id="6582127"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6582138">(</span><span class="ident" id="6582139"><a href="/text/scanner/scanner_test.go.html#6582026">want</a></span><span class="op" id="6582143">)</span><span class="op" id="6582144">,</span>&nbsp;<span class="ident" id="6582146"><a href="/text/scanner/scanner_test.go.html#6582037">text</a></span><span class="op" id="6582150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582153">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582156">if</span>&nbsp;<span class="ident" id="6582159"><a href="/text/scanner/scanner_test.go.html#6581999">s</a></span><span class="op" id="6582160">.</span><span class="ident" id="6582161">Line</span>&nbsp;<span class="op" id="6582166">!=</span>&nbsp;<span class="ident" id="6582169"><a href="/text/scanner/scanner_test.go.html#6582011">line</a></span>&nbsp;<span class="op" id="6582174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582178"><a href="/text/scanner/scanner_test.go.html#6581985">t</a></span><span class="op" id="6582179">.</span><span class="ident" id="6582180">Errorf</span><span class="op" id="6582186">(</span><span class="string" id="6582187">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6582214">,</span>&nbsp;<span class="ident" id="6582216"><a href="/text/scanner/scanner_test.go.html#6581999">s</a></span><span class="op" id="6582217">.</span><span class="ident" id="6582218">Line</span><span class="op" id="6582222">,</span>&nbsp;<span class="ident" id="6582224"><a href="/text/scanner/scanner_test.go.html#6582011">line</a></span><span class="op" id="6582228">,</span>&nbsp;<span class="ident" id="6582230"><a href="/text/scanner/scanner_test.go.html#6582037">text</a></span><span class="op" id="6582234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582240">stext</span>&nbsp;<span class="op" id="6582246">:=</span>&nbsp;<span class="ident" id="6582249"><a href="/text/scanner/scanner_test.go.html#6581999">s</a></span><span class="op" id="6582250">.</span><span class="ident" id="6582251">TokenText</span><span class="op" id="6582260">(</span><span class="op" id="6582261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582264">if</span>&nbsp;<span class="ident" id="6582267"><a href="/text/scanner/scanner_test.go.html#6582240">stext</a></span>&nbsp;<span class="op" id="6582273">!=</span>&nbsp;<span class="ident" id="6582276"><a href="/text/scanner/scanner_test.go.html#6582037">text</a></span>&nbsp;<span class="op" id="6582281">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582285"><a href="/text/scanner/scanner_test.go.html#6581985">t</a></span><span class="op" id="6582286">.</span><span class="ident" id="6582287">Errorf</span><span class="op" id="6582293">(</span><span class="string" id="6582294">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6582314">,</span>&nbsp;<span class="ident" id="6582316"><a href="/text/scanner/scanner_test.go.html#6582240">stext</a></span><span class="op" id="6582321">,</span>&nbsp;<span class="ident" id="6582323"><a href="/text/scanner/scanner_test.go.html#6582037">text</a></span><span class="op" id="6582327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582330">}</span>&nbsp;<span class="keyword" id="6582332">else</span>&nbsp;<span class="op" id="6582337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6582341">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582384"><a href="/text/scanner/scanner_test.go.html#6582240">stext</a></span>&nbsp;<span class="op" id="6582390">=</span>&nbsp;<span class="ident" id="6582392"><a href="/text/scanner/scanner_test.go.html#6581999">s</a></span><span class="op" id="6582393">.</span><span class="ident" id="6582394">TokenText</span><span class="op" id="6582403">(</span><span class="op" id="6582404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582408">if</span>&nbsp;<span class="ident" id="6582411"><a href="/text/scanner/scanner_test.go.html#6582240">stext</a></span>&nbsp;<span class="op" id="6582417">!=</span>&nbsp;<span class="ident" id="6582420"><a href="/text/scanner/scanner_test.go.html#6582037">text</a></span>&nbsp;<span class="op" id="6582425">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582430"><a href="/text/scanner/scanner_test.go.html#6581985">t</a></span><span class="op" id="6582431">.</span><span class="ident" id="6582432">Errorf</span><span class="op" id="6582438">(</span><span class="string" id="6582439">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="6582479">,</span>&nbsp;<span class="ident" id="6582481"><a href="/text/scanner/scanner_test.go.html#6582240">stext</a></span><span class="op" id="6582486">,</span>&nbsp;<span class="ident" id="6582488"><a href="/text/scanner/scanner_test.go.html#6582037">text</a></span><span class="op" id="6582492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582499">}</span><br>
<span class="lineno"></span><span class="op" id="6582501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="6582504">func</span>&nbsp;<span class="ident" id="6582509">countNewlines</span><span class="op" id="6582522">(</span><span class="ident" id="6582523">s</span>&nbsp;<span class="builtintype" id="6582525">string</span><span class="op" id="6582531">)</span>&nbsp;<span class="builtintype" id="6582533">int</span>&nbsp;<span class="op" id="6582537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582540">n</span>&nbsp;<span class="op" id="6582542">:=</span>&nbsp;<span class="num" id="6582545">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582548">for</span>&nbsp;<span class="ident" id="6582552">_</span><span class="op" id="6582553">,</span>&nbsp;<span class="ident" id="6582555">ch</span>&nbsp;<span class="op" id="6582558">:=</span>&nbsp;<span class="keyword" id="6582561">range</span>&nbsp;<span class="ident" id="6582567"><a href="/text/scanner/scanner_test.go.html#6582523">s</a></span>&nbsp;<span class="op" id="6582569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582573">if</span>&nbsp;<span class="ident" id="6582576"><a href="/text/scanner/scanner_test.go.html#6582555">ch</a></span>&nbsp;<span class="op" id="6582579">==</span>&nbsp;<span class="string" id="6582582">&#39;\n&#39;</span>&nbsp;<span class="op" id="6582587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582592"><a href="/text/scanner/scanner_test.go.html#6582540">n</a></span><span class="op" id="6582593">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582604">return</span>&nbsp;<span class="ident" id="6582611"><a href="/text/scanner/scanner_test.go.html#6582540">n</a></span><br>
<span class="lineno"></span><span class="op" id="6582613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="6582616">func</span>&nbsp;<span class="ident" id="6582621">testScan</span><span class="op" id="6582629">(</span><span class="ident" id="6582630">t</span>&nbsp;<span class="op" id="6582632">*</span><span class="ident" id="6582633"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6582640">.</span><span class="ident" id="6582641">T</span><span class="op" id="6582642">,</span>&nbsp;<span class="ident" id="6582644">mode</span>&nbsp;<span class="builtintype" id="6582649">uint</span><span class="op" id="6582653">)</span>&nbsp;<span class="op" id="6582655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582658">s</span>&nbsp;<span class="op" id="6582660">:=</span>&nbsp;<span class="builtinfunc" id="6582663">new</span><span class="op" id="6582666">(</span><span class="ident" id="6582667"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6582674">)</span><span class="op" id="6582675">.</span><span class="ident" id="6582676">Init</span><span class="op" id="6582680">(</span><span class="ident" id="6582681"><a href="/text/scanner/scanner_test.go.html#6581819">makeSource</a></span><span class="op" id="6582691">(</span><span class="string" id="6582692">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="6582701">)</span><span class="op" id="6582702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582705"><a href="/text/scanner/scanner_test.go.html#6582658">s</a></span><span class="op" id="6582706">.</span><span class="ident" id="6582707">Mode</span>&nbsp;<span class="op" id="6582712">=</span>&nbsp;<span class="ident" id="6582714"><a href="/text/scanner/scanner_test.go.html#6582644">mode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582720">tok</span>&nbsp;<span class="op" id="6582724">:=</span>&nbsp;<span class="ident" id="6582727"><a href="/text/scanner/scanner_test.go.html#6582658">s</a></span><span class="op" id="6582728">.</span><span class="ident" id="6582729">Scan</span><span class="op" id="6582733">(</span><span class="op" id="6582734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582737">line</span>&nbsp;<span class="op" id="6582742">:=</span>&nbsp;<span class="num" id="6582745">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582748">for</span>&nbsp;<span class="ident" id="6582752">_</span><span class="op" id="6582753">,</span>&nbsp;<span class="ident" id="6582755">k</span>&nbsp;<span class="op" id="6582757">:=</span>&nbsp;<span class="keyword" id="6582760">range</span>&nbsp;<span class="ident" id="6582766"><a href="/text/scanner/scanner_test.go.html#6578791">tokenList</a></span>&nbsp;<span class="op" id="6582776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6582780">if</span>&nbsp;<span class="ident" id="6582783"><a href="/text/scanner/scanner_test.go.html#6582644">mode</a></span><span class="op" id="6582787">&amp;</span><span class="ident" id="6582788"><a href="/text/scanner/scanner.go.html#6341625">SkipComments</a></span>&nbsp;<span class="op" id="6582801">==</span>&nbsp;<span class="num" id="6582804">0</span>&nbsp;<span class="op" id="6582806">||</span>&nbsp;<span class="ident" id="6582809"><a href="/text/scanner/scanner_test.go.html#6582755">k</a></span><span class="op" id="6582810">.</span><span class="ident" id="6582811">tok</span>&nbsp;<span class="op" id="6582815">!=</span>&nbsp;<span class="ident" id="6582818"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span>&nbsp;<span class="op" id="6582826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582831"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6582839">(</span><span class="ident" id="6582840"><a href="/text/scanner/scanner_test.go.html#6582630">t</a></span><span class="op" id="6582841">,</span>&nbsp;<span class="ident" id="6582843"><a href="/text/scanner/scanner_test.go.html#6582658">s</a></span><span class="op" id="6582844">,</span>&nbsp;<span class="ident" id="6582846"><a href="/text/scanner/scanner_test.go.html#6582737">line</a></span><span class="op" id="6582850">,</span>&nbsp;<span class="ident" id="6582852"><a href="/text/scanner/scanner_test.go.html#6582720">tok</a></span><span class="op" id="6582855">,</span>&nbsp;<span class="ident" id="6582857"><a href="/text/scanner/scanner_test.go.html#6582755">k</a></span><span class="op" id="6582858">.</span><span class="ident" id="6582859">tok</span><span class="op" id="6582862">,</span>&nbsp;<span class="ident" id="6582864"><a href="/text/scanner/scanner_test.go.html#6582755">k</a></span><span class="op" id="6582865">.</span><span class="ident" id="6582866">text</span><span class="op" id="6582870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582875"><a href="/text/scanner/scanner_test.go.html#6582720">tok</a></span>&nbsp;<span class="op" id="6582879">=</span>&nbsp;<span class="ident" id="6582881"><a href="/text/scanner/scanner_test.go.html#6582658">s</a></span><span class="op" id="6582882">.</span><span class="ident" id="6582883">Scan</span><span class="op" id="6582887">(</span><span class="op" id="6582888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582892">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582896"><a href="/text/scanner/scanner_test.go.html#6582737">line</a></span>&nbsp;<span class="op" id="6582901">+=</span>&nbsp;<span class="ident" id="6582904"><a href="/text/scanner/scanner_test.go.html#6582509">countNewlines</a></span><span class="op" id="6582917">(</span><span class="ident" id="6582918"><a href="/text/scanner/scanner_test.go.html#6582755">k</a></span><span class="op" id="6582919">.</span><span class="ident" id="6582920">text</span><span class="op" id="6582924">)</span>&nbsp;<span class="op" id="6582926">+</span>&nbsp;<span class="num" id="6582928">1</span>&nbsp;<span class="comment" id="6582930">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6582962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582965"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6582973">(</span><span class="ident" id="6582974"><a href="/text/scanner/scanner_test.go.html#6582630">t</a></span><span class="op" id="6582975">,</span>&nbsp;<span class="ident" id="6582977"><a href="/text/scanner/scanner_test.go.html#6582658">s</a></span><span class="op" id="6582978">,</span>&nbsp;<span class="ident" id="6582980"><a href="/text/scanner/scanner_test.go.html#6582737">line</a></span><span class="op" id="6582984">,</span>&nbsp;<span class="ident" id="6582986"><a href="/text/scanner/scanner_test.go.html#6582720">tok</a></span><span class="op" id="6582989">,</span>&nbsp;<span class="ident" id="6582991"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span><span class="op" id="6582994">,</span>&nbsp;<span class="string" id="6582996">&#34;&#34;</span><span class="op" id="6582998">)</span><br>
<span class="lineno"></span><span class="op" id="6583000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="6583003">func</span>&nbsp;<span class="ident" id="6583008">TestScan</span><span class="op" id="6583016">(</span><span class="ident" id="6583017">t</span>&nbsp;<span class="op" id="6583019">*</span><span class="ident" id="6583020"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6583027">.</span><span class="ident" id="6583028">T</span><span class="op" id="6583029">)</span>&nbsp;<span class="op" id="6583031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583034"><a href="/text/scanner/scanner_test.go.html#6582621">testScan</a></span><span class="op" id="6583042">(</span><span class="ident" id="6583043"><a href="/text/scanner/scanner_test.go.html#6583017">t</a></span><span class="op" id="6583044">,</span>&nbsp;<span class="ident" id="6583046"><a href="/text/scanner/scanner.go.html#6341718">GoTokens</a></span><span class="op" id="6583054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583057"><a href="/text/scanner/scanner_test.go.html#6582621">testScan</a></span><span class="op" id="6583065">(</span><span class="ident" id="6583066"><a href="/text/scanner/scanner_test.go.html#6583017">t</a></span><span class="op" id="6583067">,</span>&nbsp;<span class="ident" id="6583069"><a href="/text/scanner/scanner.go.html#6341718">GoTokens</a></span><span class="op" id="6583077">&amp;^</span><span class="ident" id="6583079"><a href="/text/scanner/scanner.go.html#6341625">SkipComments</a></span><span class="op" id="6583091">)</span><br>
<span class="lineno"></span><span class="op" id="6583093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="6583096">func</span>&nbsp;<span class="ident" id="6583101">TestPosition</span><span class="op" id="6583113">(</span><span class="ident" id="6583114">t</span>&nbsp;<span class="op" id="6583116">*</span><span class="ident" id="6583117"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6583124">.</span><span class="ident" id="6583125">T</span><span class="op" id="6583126">)</span>&nbsp;<span class="op" id="6583128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583131">src</span>&nbsp;<span class="op" id="6583135">:=</span>&nbsp;<span class="ident" id="6583138"><a href="/text/scanner/scanner_test.go.html#6581819">makeSource</a></span><span class="op" id="6583148">(</span><span class="string" id="6583149">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="6583163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583166">s</span>&nbsp;<span class="op" id="6583168">:=</span>&nbsp;<span class="builtinfunc" id="6583171">new</span><span class="op" id="6583174">(</span><span class="ident" id="6583175"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6583182">)</span><span class="op" id="6583183">.</span><span class="ident" id="6583184">Init</span><span class="op" id="6583188">(</span><span class="ident" id="6583189"><a href="/text/scanner/scanner_test.go.html#6583131">src</a></span><span class="op" id="6583192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583195"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583196">.</span><span class="ident" id="6583197">Mode</span>&nbsp;<span class="op" id="6583202">=</span>&nbsp;<span class="ident" id="6583204"><a href="/text/scanner/scanner.go.html#6341718">GoTokens</a></span>&nbsp;<span class="op" id="6583213">&amp;^</span>&nbsp;<span class="ident" id="6583216"><a href="/text/scanner/scanner.go.html#6341625">SkipComments</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583230"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583231">.</span><span class="ident" id="6583232">Scan</span><span class="op" id="6583236">(</span><span class="op" id="6583237">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583240">pos</span>&nbsp;<span class="op" id="6583244">:=</span>&nbsp;<span class="ident" id="6583247"><a href="/text/scanner/scanner.go.html#6340233">Position</a></span><span class="op" id="6583255">{</span><span class="string" id="6583256">&#34;&#34;</span><span class="op" id="6583258">,</span>&nbsp;<span class="num" id="6583260">4</span><span class="op" id="6583261">,</span>&nbsp;<span class="num" id="6583263">1</span><span class="op" id="6583264">,</span>&nbsp;<span class="num" id="6583266">5</span><span class="op" id="6583267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6583270">for</span>&nbsp;<span class="ident" id="6583274">_</span><span class="op" id="6583275">,</span>&nbsp;<span class="ident" id="6583277">k</span>&nbsp;<span class="op" id="6583279">:=</span>&nbsp;<span class="keyword" id="6583282">range</span>&nbsp;<span class="ident" id="6583288"><a href="/text/scanner/scanner_test.go.html#6578791">tokenList</a></span>&nbsp;<span class="op" id="6583298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6583302">if</span>&nbsp;<span class="ident" id="6583305"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583306">.</span><span class="ident" id="6583307">Offset</span>&nbsp;<span class="op" id="6583314">!=</span>&nbsp;<span class="ident" id="6583317"><a href="/text/scanner/scanner_test.go.html#6583240">pos</a></span><span class="op" id="6583320">.</span><span class="ident" id="6583321">Offset</span>&nbsp;<span class="op" id="6583328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583333"><a href="/text/scanner/scanner_test.go.html#6583114">t</a></span><span class="op" id="6583334">.</span><span class="ident" id="6583335">Errorf</span><span class="op" id="6583341">(</span><span class="string" id="6583342">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6583371">,</span>&nbsp;<span class="ident" id="6583373"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583374">.</span><span class="ident" id="6583375">Offset</span><span class="op" id="6583381">,</span>&nbsp;<span class="ident" id="6583383"><a href="/text/scanner/scanner_test.go.html#6583240">pos</a></span><span class="op" id="6583386">.</span><span class="ident" id="6583387">Offset</span><span class="op" id="6583393">,</span>&nbsp;<span class="ident" id="6583395"><a href="/text/scanner/scanner_test.go.html#6583277">k</a></span><span class="op" id="6583396">.</span><span class="ident" id="6583397">text</span><span class="op" id="6583401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6583405">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6583409">if</span>&nbsp;<span class="ident" id="6583412"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583413">.</span><span class="ident" id="6583414">Line</span>&nbsp;<span class="op" id="6583419">!=</span>&nbsp;<span class="ident" id="6583422"><a href="/text/scanner/scanner_test.go.html#6583240">pos</a></span><span class="op" id="6583425">.</span><span class="ident" id="6583426">Line</span>&nbsp;<span class="op" id="6583431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583436"><a href="/text/scanner/scanner_test.go.html#6583114">t</a></span><span class="op" id="6583437">.</span><span class="ident" id="6583438">Errorf</span><span class="op" id="6583444">(</span><span class="string" id="6583445">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6583472">,</span>&nbsp;<span class="ident" id="6583474"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583475">.</span><span class="ident" id="6583476">Line</span><span class="op" id="6583480">,</span>&nbsp;<span class="ident" id="6583482"><a href="/text/scanner/scanner_test.go.html#6583240">pos</a></span><span class="op" id="6583485">.</span><span class="ident" id="6583486">Line</span><span class="op" id="6583490">,</span>&nbsp;<span class="ident" id="6583492"><a href="/text/scanner/scanner_test.go.html#6583277">k</a></span><span class="op" id="6583493">.</span><span class="ident" id="6583494">text</span><span class="op" id="6583498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6583502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6583506">if</span>&nbsp;<span class="ident" id="6583509"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583510">.</span><span class="ident" id="6583511">Column</span>&nbsp;<span class="op" id="6583518">!=</span>&nbsp;<span class="ident" id="6583521"><a href="/text/scanner/scanner_test.go.html#6583240">pos</a></span><span class="op" id="6583524">.</span><span class="ident" id="6583525">Column</span>&nbsp;<span class="op" id="6583532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583537"><a href="/text/scanner/scanner_test.go.html#6583114">t</a></span><span class="op" id="6583538">.</span><span class="ident" id="6583539">Errorf</span><span class="op" id="6583545">(</span><span class="string" id="6583546">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6583575">,</span>&nbsp;<span class="ident" id="6583577"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583578">.</span><span class="ident" id="6583579">Column</span><span class="op" id="6583585">,</span>&nbsp;<span class="ident" id="6583587"><a href="/text/scanner/scanner_test.go.html#6583240">pos</a></span><span class="op" id="6583590">.</span><span class="ident" id="6583591">Column</span><span class="op" id="6583597">,</span>&nbsp;<span class="ident" id="6583599"><a href="/text/scanner/scanner_test.go.html#6583277">k</a></span><span class="op" id="6583600">.</span><span class="ident" id="6583601">text</span><span class="op" id="6583605">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6583609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583613"><a href="/text/scanner/scanner_test.go.html#6583240">pos</a></span><span class="op" id="6583616">.</span><span class="ident" id="6583617">Offset</span>&nbsp;<span class="op" id="6583624">+=</span>&nbsp;<span class="num" id="6583627">4</span>&nbsp;<span class="op" id="6583629">+</span>&nbsp;<span class="builtinfunc" id="6583631">len</span><span class="op" id="6583634">(</span><span class="ident" id="6583635"><a href="/text/scanner/scanner_test.go.html#6583277">k</a></span><span class="op" id="6583636">.</span><span class="ident" id="6583637">text</span><span class="op" id="6583641">)</span>&nbsp;<span class="op" id="6583643">+</span>&nbsp;<span class="num" id="6583645">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6583651">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583687"><a href="/text/scanner/scanner_test.go.html#6583240">pos</a></span><span class="op" id="6583690">.</span><span class="ident" id="6583691">Line</span>&nbsp;<span class="op" id="6583696">+=</span>&nbsp;<span class="ident" id="6583699"><a href="/text/scanner/scanner_test.go.html#6582509">countNewlines</a></span><span class="op" id="6583712">(</span><span class="ident" id="6583713"><a href="/text/scanner/scanner_test.go.html#6583277">k</a></span><span class="op" id="6583714">.</span><span class="ident" id="6583715">text</span><span class="op" id="6583719">)</span>&nbsp;<span class="op" id="6583721">+</span>&nbsp;<span class="num" id="6583723">1</span>&nbsp;<span class="comment" id="6583725">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583758"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583759">.</span><span class="ident" id="6583760">Scan</span><span class="op" id="6583764">(</span><span class="op" id="6583765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6583768">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6583771">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6583841">if</span>&nbsp;<span class="ident" id="6583844"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583845">.</span><span class="ident" id="6583846">ErrorCount</span>&nbsp;<span class="op" id="6583857">!=</span>&nbsp;<span class="num" id="6583860">0</span>&nbsp;<span class="op" id="6583862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583866"><a href="/text/scanner/scanner_test.go.html#6583114">t</a></span><span class="op" id="6583867">.</span><span class="ident" id="6583868">Errorf</span><span class="op" id="6583874">(</span><span class="string" id="6583875">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6583886">,</span>&nbsp;<span class="ident" id="6583888"><a href="/text/scanner/scanner_test.go.html#6583166">s</a></span><span class="op" id="6583889">.</span><span class="ident" id="6583890">ErrorCount</span><span class="op" id="6583900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6583903">}</span><br>
<span class="lineno"></span><span class="op" id="6583905">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="6583908">func</span>&nbsp;<span class="ident" id="6583913">TestScanZeroMode</span><span class="op" id="6583929">(</span><span class="ident" id="6583930">t</span>&nbsp;<span class="op" id="6583932">*</span><span class="ident" id="6583933"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6583940">.</span><span class="ident" id="6583941">T</span><span class="op" id="6583942">)</span>&nbsp;<span class="op" id="6583944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583947">src</span>&nbsp;<span class="op" id="6583951">:=</span>&nbsp;<span class="ident" id="6583954"><a href="/text/scanner/scanner_test.go.html#6581819">makeSource</a></span><span class="op" id="6583964">(</span><span class="string" id="6583965">&#34;%s\n&#34;</span><span class="op" id="6583971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583974">str</span>&nbsp;<span class="op" id="6583978">:=</span>&nbsp;<span class="ident" id="6583981"><a href="/text/scanner/scanner_test.go.html#6583947">src</a></span><span class="op" id="6583984">.</span><span class="ident" id="6583985">String</span><span class="op" id="6583991">(</span><span class="op" id="6583992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583995">s</span>&nbsp;<span class="op" id="6583997">:=</span>&nbsp;<span class="builtinfunc" id="6584000">new</span><span class="op" id="6584003">(</span><span class="ident" id="6584004"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6584011">)</span><span class="op" id="6584012">.</span><span class="ident" id="6584013">Init</span><span class="op" id="6584017">(</span><span class="ident" id="6584018"><a href="/text/scanner/scanner_test.go.html#6583947">src</a></span><span class="op" id="6584021">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584024"><a href="/text/scanner/scanner_test.go.html#6583995">s</a></span><span class="op" id="6584025">.</span><span class="ident" id="6584026">Mode</span>&nbsp;<span class="op" id="6584031">=</span>&nbsp;<span class="num" id="6584033">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6584041">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584079"><a href="/text/scanner/scanner_test.go.html#6583995">s</a></span><span class="op" id="6584080">.</span><span class="ident" id="6584081">Whitespace</span>&nbsp;<span class="op" id="6584092">=</span>&nbsp;<span class="num" id="6584094">0</span>&nbsp;<span class="comment" id="6584096">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584126">tok</span>&nbsp;<span class="op" id="6584130">:=</span>&nbsp;<span class="ident" id="6584133"><a href="/text/scanner/scanner_test.go.html#6583995">s</a></span><span class="op" id="6584134">.</span><span class="ident" id="6584135">Scan</span><span class="op" id="6584139">(</span><span class="op" id="6584140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584143">for</span>&nbsp;<span class="ident" id="6584147">i</span><span class="op" id="6584148">,</span>&nbsp;<span class="ident" id="6584150">ch</span>&nbsp;<span class="op" id="6584153">:=</span>&nbsp;<span class="keyword" id="6584156">range</span>&nbsp;<span class="ident" id="6584162"><a href="/text/scanner/scanner_test.go.html#6583974">str</a></span>&nbsp;<span class="op" id="6584166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584170">if</span>&nbsp;<span class="ident" id="6584173"><a href="/text/scanner/scanner_test.go.html#6584126">tok</a></span>&nbsp;<span class="op" id="6584177">!=</span>&nbsp;<span class="ident" id="6584180"><a href="/text/scanner/scanner_test.go.html#6584150">ch</a></span>&nbsp;<span class="op" id="6584183">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584188"><a href="/text/scanner/scanner_test.go.html#6583930">t</a></span><span class="op" id="6584189">.</span><span class="ident" id="6584190">Fatalf</span><span class="op" id="6584196">(</span><span class="string" id="6584197">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6584220">,</span>&nbsp;<span class="ident" id="6584222"><a href="/text/scanner/scanner_test.go.html#6584147">i</a></span><span class="op" id="6584223">,</span>&nbsp;<span class="ident" id="6584225"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6584236">(</span><span class="ident" id="6584237"><a href="/text/scanner/scanner_test.go.html#6584126">tok</a></span><span class="op" id="6584240">)</span><span class="op" id="6584241">,</span>&nbsp;<span class="ident" id="6584243"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6584254">(</span><span class="ident" id="6584255"><a href="/text/scanner/scanner_test.go.html#6584150">ch</a></span><span class="op" id="6584257">)</span><span class="op" id="6584258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584266"><a href="/text/scanner/scanner_test.go.html#6584126">tok</a></span>&nbsp;<span class="op" id="6584270">=</span>&nbsp;<span class="ident" id="6584272"><a href="/text/scanner/scanner_test.go.html#6583995">s</a></span><span class="op" id="6584273">.</span><span class="ident" id="6584274">Scan</span><span class="op" id="6584278">(</span><span class="op" id="6584279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584285">if</span>&nbsp;<span class="ident" id="6584288"><a href="/text/scanner/scanner_test.go.html#6584126">tok</a></span>&nbsp;<span class="op" id="6584292">!=</span>&nbsp;<span class="ident" id="6584295"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span>&nbsp;<span class="op" id="6584299">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584303"><a href="/text/scanner/scanner_test.go.html#6583930">t</a></span><span class="op" id="6584304">.</span><span class="ident" id="6584305">Fatalf</span><span class="op" id="6584311">(</span><span class="string" id="6584312">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="6584332">,</span>&nbsp;<span class="ident" id="6584334"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6584345">(</span><span class="ident" id="6584346"><a href="/text/scanner/scanner_test.go.html#6584126">tok</a></span><span class="op" id="6584349">)</span><span class="op" id="6584350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584356">if</span>&nbsp;<span class="ident" id="6584359"><a href="/text/scanner/scanner_test.go.html#6583995">s</a></span><span class="op" id="6584360">.</span><span class="ident" id="6584361">ErrorCount</span>&nbsp;<span class="op" id="6584372">!=</span>&nbsp;<span class="num" id="6584375">0</span>&nbsp;<span class="op" id="6584377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584381"><a href="/text/scanner/scanner_test.go.html#6583930">t</a></span><span class="op" id="6584382">.</span><span class="ident" id="6584383">Errorf</span><span class="op" id="6584389">(</span><span class="string" id="6584390">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6584401">,</span>&nbsp;<span class="ident" id="6584403"><a href="/text/scanner/scanner_test.go.html#6583995">s</a></span><span class="op" id="6584404">.</span><span class="ident" id="6584405">ErrorCount</span><span class="op" id="6584415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584418">}</span><br>
<span class="lineno">330</span><span class="op" id="6584420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6584423">func</span>&nbsp;<span class="ident" id="6584428">testScanSelectedMode</span><span class="op" id="6584448">(</span><span class="ident" id="6584449">t</span>&nbsp;<span class="op" id="6584451">*</span><span class="ident" id="6584452"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6584459">.</span><span class="ident" id="6584460">T</span><span class="op" id="6584461">,</span>&nbsp;<span class="ident" id="6584463">mode</span>&nbsp;<span class="builtintype" id="6584468">uint</span><span class="op" id="6584472">,</span>&nbsp;<span class="ident" id="6584474">class</span>&nbsp;<span class="builtintype" id="6584480">rune</span><span class="op" id="6584484">)</span>&nbsp;<span class="op" id="6584486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584489">src</span>&nbsp;<span class="op" id="6584493">:=</span>&nbsp;<span class="ident" id="6584496"><a href="/text/scanner/scanner_test.go.html#6581819">makeSource</a></span><span class="op" id="6584506">(</span><span class="string" id="6584507">&#34;%s\n&#34;</span><span class="op" id="6584513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584516">s</span>&nbsp;<span class="op" id="6584518">:=</span>&nbsp;<span class="builtinfunc" id="6584521">new</span><span class="op" id="6584524">(</span><span class="ident" id="6584525"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6584532">)</span><span class="op" id="6584533">.</span><span class="ident" id="6584534">Init</span><span class="op" id="6584538">(</span><span class="ident" id="6584539"><a href="/text/scanner/scanner_test.go.html#6584489">src</a></span><span class="op" id="6584542">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584545"><a href="/text/scanner/scanner_test.go.html#6584516">s</a></span><span class="op" id="6584546">.</span><span class="ident" id="6584547">Mode</span>&nbsp;<span class="op" id="6584552">=</span>&nbsp;<span class="ident" id="6584554"><a href="/text/scanner/scanner_test.go.html#6584463">mode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584560">tok</span>&nbsp;<span class="op" id="6584564">:=</span>&nbsp;<span class="ident" id="6584567"><a href="/text/scanner/scanner_test.go.html#6584516">s</a></span><span class="op" id="6584568">.</span><span class="ident" id="6584569">Scan</span><span class="op" id="6584573">(</span><span class="op" id="6584574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584577">for</span>&nbsp;<span class="ident" id="6584581"><a href="/text/scanner/scanner_test.go.html#6584560">tok</a></span>&nbsp;<span class="op" id="6584585">!=</span>&nbsp;<span class="ident" id="6584588"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span>&nbsp;<span class="op" id="6584592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584596">if</span>&nbsp;<span class="ident" id="6584599"><a href="/text/scanner/scanner_test.go.html#6584560">tok</a></span>&nbsp;<span class="op" id="6584603">&lt;</span>&nbsp;<span class="num" id="6584605">0</span>&nbsp;<span class="op" id="6584607">&amp;&amp;</span>&nbsp;<span class="ident" id="6584610"><a href="/text/scanner/scanner_test.go.html#6584560">tok</a></span>&nbsp;<span class="op" id="6584614">!=</span>&nbsp;<span class="ident" id="6584617"><a href="/text/scanner/scanner_test.go.html#6584474">class</a></span>&nbsp;<span class="op" id="6584623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584628"><a href="/text/scanner/scanner_test.go.html#6584449">t</a></span><span class="op" id="6584629">.</span><span class="ident" id="6584630">Fatalf</span><span class="op" id="6584636">(</span><span class="string" id="6584637">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6584656">,</span>&nbsp;<span class="ident" id="6584658"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6584669">(</span><span class="ident" id="6584670"><a href="/text/scanner/scanner_test.go.html#6584560">tok</a></span><span class="op" id="6584673">)</span><span class="op" id="6584674">,</span>&nbsp;<span class="ident" id="6584676"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6584687">(</span><span class="ident" id="6584688"><a href="/text/scanner/scanner_test.go.html#6584474">class</a></span><span class="op" id="6584693">)</span><span class="op" id="6584694">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584702"><a href="/text/scanner/scanner_test.go.html#6584560">tok</a></span>&nbsp;<span class="op" id="6584706">=</span>&nbsp;<span class="ident" id="6584708"><a href="/text/scanner/scanner_test.go.html#6584516">s</a></span><span class="op" id="6584709">.</span><span class="ident" id="6584710">Scan</span><span class="op" id="6584714">(</span><span class="op" id="6584715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584721">if</span>&nbsp;<span class="ident" id="6584724"><a href="/text/scanner/scanner_test.go.html#6584516">s</a></span><span class="op" id="6584725">.</span><span class="ident" id="6584726">ErrorCount</span>&nbsp;<span class="op" id="6584737">!=</span>&nbsp;<span class="num" id="6584740">0</span>&nbsp;<span class="op" id="6584742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584746"><a href="/text/scanner/scanner_test.go.html#6584449">t</a></span><span class="op" id="6584747">.</span><span class="ident" id="6584748">Errorf</span><span class="op" id="6584754">(</span><span class="string" id="6584755">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6584766">,</span>&nbsp;<span class="ident" id="6584768"><a href="/text/scanner/scanner_test.go.html#6584516">s</a></span><span class="op" id="6584769">.</span><span class="ident" id="6584770">ErrorCount</span><span class="op" id="6584780">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584783">}</span><br>
<span class="lineno"></span><span class="op" id="6584785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6584788">func</span>&nbsp;<span class="ident" id="6584793">TestScanSelectedMask</span><span class="op" id="6584813">(</span><span class="ident" id="6584814">t</span>&nbsp;<span class="op" id="6584816">*</span><span class="ident" id="6584817"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6584824">.</span><span class="ident" id="6584825">T</span><span class="op" id="6584826">)</span>&nbsp;<span class="op" id="6584828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584831"><a href="/text/scanner/scanner_test.go.html#6584428">testScanSelectedMode</a></span><span class="op" id="6584851">(</span><span class="ident" id="6584852"><a href="/text/scanner/scanner_test.go.html#6584814">t</a></span><span class="op" id="6584853">,</span>&nbsp;<span class="num" id="6584855">0</span><span class="op" id="6584856">,</span>&nbsp;<span class="num" id="6584858">0</span><span class="op" id="6584859">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584862"><a href="/text/scanner/scanner_test.go.html#6584428">testScanSelectedMode</a></span><span class="op" id="6584882">(</span><span class="ident" id="6584883"><a href="/text/scanner/scanner_test.go.html#6584814">t</a></span><span class="op" id="6584884">,</span>&nbsp;<span class="ident" id="6584886"><a href="/text/scanner/scanner.go.html#6341394">ScanIdents</a></span><span class="op" id="6584896">,</span>&nbsp;<span class="ident" id="6584898"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6584903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6584906">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6584966">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6585026">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585078"><a href="/text/scanner/scanner_test.go.html#6584428">testScanSelectedMode</a></span><span class="op" id="6585098">(</span><span class="ident" id="6585099"><a href="/text/scanner/scanner_test.go.html#6584814">t</a></span><span class="op" id="6585100">,</span>&nbsp;<span class="ident" id="6585102"><a href="/text/scanner/scanner.go.html#6341499">ScanChars</a></span><span class="op" id="6585111">,</span>&nbsp;<span class="ident" id="6585113"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6585117">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585120"><a href="/text/scanner/scanner_test.go.html#6584428">testScanSelectedMode</a></span><span class="op" id="6585140">(</span><span class="ident" id="6585141"><a href="/text/scanner/scanner_test.go.html#6584814">t</a></span><span class="op" id="6585142">,</span>&nbsp;<span class="ident" id="6585144"><a href="/text/scanner/scanner.go.html#6341528">ScanStrings</a></span><span class="op" id="6585155">,</span>&nbsp;<span class="ident" id="6585157"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6585163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585166"><a href="/text/scanner/scanner_test.go.html#6584428">testScanSelectedMode</a></span><span class="op" id="6585186">(</span><span class="ident" id="6585187"><a href="/text/scanner/scanner_test.go.html#6584814">t</a></span><span class="op" id="6585188">,</span>&nbsp;<span class="ident" id="6585190"><a href="/text/scanner/scanner.go.html#6341625">SkipComments</a></span><span class="op" id="6585202">,</span>&nbsp;<span class="num" id="6585204">0</span><span class="op" id="6585205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585208"><a href="/text/scanner/scanner_test.go.html#6584428">testScanSelectedMode</a></span><span class="op" id="6585228">(</span><span class="ident" id="6585229"><a href="/text/scanner/scanner_test.go.html#6584814">t</a></span><span class="op" id="6585230">,</span>&nbsp;<span class="ident" id="6585232"><a href="/text/scanner/scanner.go.html#6341593">ScanComments</a></span><span class="op" id="6585244">,</span>&nbsp;<span class="ident" id="6585246"><a href="/text/scanner/scanner.go.html#6341984">Comment</a></span><span class="op" id="6585253">)</span><br>
<span class="lineno"></span><span class="op" id="6585255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6585258">func</span>&nbsp;<span class="ident" id="6585263">TestScanCustomIdent</span><span class="op" id="6585282">(</span><span class="ident" id="6585283">t</span>&nbsp;<span class="op" id="6585285">*</span><span class="ident" id="6585286"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6585293">.</span><span class="ident" id="6585294">T</span><span class="op" id="6585295">)</span>&nbsp;<span class="op" id="6585297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6585300">const</span>&nbsp;<span class="ident" id="6585306">src</span>&nbsp;<span class="op" id="6585310">=</span>&nbsp;<span class="string" id="6585312">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585340">s</span>&nbsp;<span class="op" id="6585342">:=</span>&nbsp;<span class="builtinfunc" id="6585345">new</span><span class="op" id="6585348">(</span><span class="ident" id="6585349"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6585356">)</span><span class="op" id="6585357">.</span><span class="ident" id="6585358">Init</span><span class="op" id="6585362">(</span><span class="ident" id="6585363"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6585370">.</span><span class="ident" id="6585371">NewReader</span><span class="op" id="6585380">(</span><span class="ident" id="6585381"><a href="/text/scanner/scanner_test.go.html#6585306">src</a></span><span class="op" id="6585384">)</span><span class="op" id="6585385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6585388">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6585426">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6585451">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585482"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585483">.</span><span class="ident" id="6585484">IsIdentRune</span>&nbsp;<span class="op" id="6585496">=</span>&nbsp;<span class="keyword" id="6585498">func</span><span class="op" id="6585502">(</span><span class="ident" id="6585503">ch</span>&nbsp;<span class="builtintype" id="6585506">rune</span><span class="op" id="6585510">,</span>&nbsp;<span class="ident" id="6585512">i</span>&nbsp;<span class="builtintype" id="6585514">int</span><span class="op" id="6585517">)</span>&nbsp;<span class="builtintype" id="6585519">bool</span>&nbsp;<span class="op" id="6585524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6585528">return</span>&nbsp;<span class="ident" id="6585535"><a href="/text/scanner/scanner_test.go.html#6585512">i</a></span>&nbsp;<span class="op" id="6585537">==</span>&nbsp;<span class="num" id="6585540">0</span>&nbsp;<span class="op" id="6585542">&amp;&amp;</span>&nbsp;<span class="op" id="6585545">(</span><span class="ident" id="6585546"><a href="/text/scanner/scanner_test.go.html#6585503">ch</a></span>&nbsp;<span class="op" id="6585549">==</span>&nbsp;<span class="string" id="6585552">&#39;a&#39;</span>&nbsp;<span class="op" id="6585556">||</span>&nbsp;<span class="ident" id="6585559"><a href="/text/scanner/scanner_test.go.html#6585503">ch</a></span>&nbsp;<span class="op" id="6585562">==</span>&nbsp;<span class="string" id="6585565">&#39;b&#39;</span><span class="op" id="6585568">)</span>&nbsp;<span class="op" id="6585570">||</span>&nbsp;<span class="num" id="6585573">0</span>&nbsp;<span class="op" id="6585575">&lt;</span>&nbsp;<span class="ident" id="6585577"><a href="/text/scanner/scanner_test.go.html#6585512">i</a></span>&nbsp;<span class="op" id="6585579">&amp;&amp;</span>&nbsp;<span class="ident" id="6585582"><a href="/text/scanner/scanner_test.go.html#6585512">i</a></span>&nbsp;<span class="op" id="6585584">&lt;</span>&nbsp;<span class="num" id="6585586">4</span>&nbsp;<span class="op" id="6585588">&amp;&amp;</span>&nbsp;<span class="string" id="6585591">&#39;0&#39;</span>&nbsp;<span class="op" id="6585595">&lt;=</span>&nbsp;<span class="ident" id="6585598"><a href="/text/scanner/scanner_test.go.html#6585503">ch</a></span>&nbsp;<span class="op" id="6585601">&amp;&amp;</span>&nbsp;<span class="ident" id="6585604"><a href="/text/scanner/scanner_test.go.html#6585503">ch</a></span>&nbsp;<span class="op" id="6585607">&lt;=</span>&nbsp;<span class="string" id="6585610">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6585615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585618"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585626">(</span><span class="ident" id="6585627"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585628">,</span>&nbsp;<span class="ident" id="6585630"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585631">,</span>&nbsp;<span class="num" id="6585633">1</span><span class="op" id="6585634">,</span>&nbsp;<span class="ident" id="6585636"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585637">.</span><span class="ident" id="6585638">Scan</span><span class="op" id="6585642">(</span><span class="op" id="6585643">)</span><span class="op" id="6585644">,</span>&nbsp;<span class="string" id="6585646">&#39;f&#39;</span><span class="op" id="6585649">,</span>&nbsp;<span class="string" id="6585651">&#34;f&#34;</span><span class="op" id="6585654">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585657"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585665">(</span><span class="ident" id="6585666"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585667">,</span>&nbsp;<span class="ident" id="6585669"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585670">,</span>&nbsp;<span class="num" id="6585672">1</span><span class="op" id="6585673">,</span>&nbsp;<span class="ident" id="6585675"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585676">.</span><span class="ident" id="6585677">Scan</span><span class="op" id="6585681">(</span><span class="op" id="6585682">)</span><span class="op" id="6585683">,</span>&nbsp;<span class="ident" id="6585685"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6585690">,</span>&nbsp;<span class="string" id="6585692">&#34;a&#34;</span><span class="op" id="6585695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585698"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585706">(</span><span class="ident" id="6585707"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585708">,</span>&nbsp;<span class="ident" id="6585710"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585711">,</span>&nbsp;<span class="num" id="6585713">1</span><span class="op" id="6585714">,</span>&nbsp;<span class="ident" id="6585716"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585717">.</span><span class="ident" id="6585718">Scan</span><span class="op" id="6585722">(</span><span class="op" id="6585723">)</span><span class="op" id="6585724">,</span>&nbsp;<span class="ident" id="6585726"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6585731">,</span>&nbsp;<span class="string" id="6585733">&#34;a&#34;</span><span class="op" id="6585736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585739"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585747">(</span><span class="ident" id="6585748"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585749">,</span>&nbsp;<span class="ident" id="6585751"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585752">,</span>&nbsp;<span class="num" id="6585754">1</span><span class="op" id="6585755">,</span>&nbsp;<span class="ident" id="6585757"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585758">.</span><span class="ident" id="6585759">Scan</span><span class="op" id="6585763">(</span><span class="op" id="6585764">)</span><span class="op" id="6585765">,</span>&nbsp;<span class="ident" id="6585767"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6585772">,</span>&nbsp;<span class="string" id="6585774">&#34;b123&#34;</span><span class="op" id="6585780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585783"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585791">(</span><span class="ident" id="6585792"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585793">,</span>&nbsp;<span class="ident" id="6585795"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585796">,</span>&nbsp;<span class="num" id="6585798">1</span><span class="op" id="6585799">,</span>&nbsp;<span class="ident" id="6585801"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585802">.</span><span class="ident" id="6585803">Scan</span><span class="op" id="6585807">(</span><span class="op" id="6585808">)</span><span class="op" id="6585809">,</span>&nbsp;<span class="ident" id="6585811"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6585814">,</span>&nbsp;<span class="string" id="6585816">&#34;45&#34;</span><span class="op" id="6585820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585823"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585831">(</span><span class="ident" id="6585832"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585833">,</span>&nbsp;<span class="ident" id="6585835"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585836">,</span>&nbsp;<span class="num" id="6585838">1</span><span class="op" id="6585839">,</span>&nbsp;<span class="ident" id="6585841"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585842">.</span><span class="ident" id="6585843">Scan</span><span class="op" id="6585847">(</span><span class="op" id="6585848">)</span><span class="op" id="6585849">,</span>&nbsp;<span class="ident" id="6585851"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6585856">,</span>&nbsp;<span class="string" id="6585858">&#34;a12&#34;</span><span class="op" id="6585863">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585866"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585874">(</span><span class="ident" id="6585875"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585876">,</span>&nbsp;<span class="ident" id="6585878"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585879">,</span>&nbsp;<span class="num" id="6585881">1</span><span class="op" id="6585882">,</span>&nbsp;<span class="ident" id="6585884"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585885">.</span><span class="ident" id="6585886">Scan</span><span class="op" id="6585890">(</span><span class="op" id="6585891">)</span><span class="op" id="6585892">,</span>&nbsp;<span class="ident" id="6585894"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6585899">,</span>&nbsp;<span class="string" id="6585901">&#34;b123&#34;</span><span class="op" id="6585907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585910"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585918">(</span><span class="ident" id="6585919"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585920">,</span>&nbsp;<span class="ident" id="6585922"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585923">,</span>&nbsp;<span class="num" id="6585925">1</span><span class="op" id="6585926">,</span>&nbsp;<span class="ident" id="6585928"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585929">.</span><span class="ident" id="6585930">Scan</span><span class="op" id="6585934">(</span><span class="op" id="6585935">)</span><span class="op" id="6585936">,</span>&nbsp;<span class="ident" id="6585938"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6585943">,</span>&nbsp;<span class="string" id="6585945">&#34;a12&#34;</span><span class="op" id="6585950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585953"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6585961">(</span><span class="ident" id="6585962"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6585963">,</span>&nbsp;<span class="ident" id="6585965"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585966">,</span>&nbsp;<span class="num" id="6585968">1</span><span class="op" id="6585969">,</span>&nbsp;<span class="ident" id="6585971"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6585972">.</span><span class="ident" id="6585973">Scan</span><span class="op" id="6585977">(</span><span class="op" id="6585978">)</span><span class="op" id="6585979">,</span>&nbsp;<span class="ident" id="6585981"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6585984">,</span>&nbsp;<span class="string" id="6585986">&#34;3&#34;</span><span class="op" id="6585989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585992"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586000">(</span><span class="ident" id="6586001"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6586002">,</span>&nbsp;<span class="ident" id="6586004"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6586005">,</span>&nbsp;<span class="num" id="6586007">1</span><span class="op" id="6586008">,</span>&nbsp;<span class="ident" id="6586010"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6586011">.</span><span class="ident" id="6586012">Scan</span><span class="op" id="6586016">(</span><span class="op" id="6586017">)</span><span class="op" id="6586018">,</span>&nbsp;<span class="ident" id="6586020"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6586025">,</span>&nbsp;<span class="string" id="6586027">&#34;b&#34;</span><span class="op" id="6586030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586033"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586041">(</span><span class="ident" id="6586042"><a href="/text/scanner/scanner_test.go.html#6585283">t</a></span><span class="op" id="6586043">,</span>&nbsp;<span class="ident" id="6586045"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6586046">,</span>&nbsp;<span class="num" id="6586048">1</span><span class="op" id="6586049">,</span>&nbsp;<span class="ident" id="6586051"><a href="/text/scanner/scanner_test.go.html#6585340">s</a></span><span class="op" id="6586052">.</span><span class="ident" id="6586053">Scan</span><span class="op" id="6586057">(</span><span class="op" id="6586058">)</span><span class="op" id="6586059">,</span>&nbsp;<span class="ident" id="6586061"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span><span class="op" id="6586064">,</span>&nbsp;<span class="string" id="6586066">&#34;&#34;</span><span class="op" id="6586068">)</span><br>
<span class="lineno">380</span><span class="op" id="6586070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6586073">func</span>&nbsp;<span class="ident" id="6586078">TestScanNext</span><span class="op" id="6586090">(</span><span class="ident" id="6586091">t</span>&nbsp;<span class="op" id="6586093">*</span><span class="ident" id="6586094"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6586101">.</span><span class="ident" id="6586102">T</span><span class="op" id="6586103">)</span>&nbsp;<span class="op" id="6586105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6586108">const</span>&nbsp;<span class="ident" id="6586114">BOM</span>&nbsp;<span class="op" id="6586118">=</span>&nbsp;<span class="string" id="6586120">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586130">BOMs</span>&nbsp;<span class="op" id="6586135">:=</span>&nbsp;<span class="builtintype" id="6586138">string</span><span class="op" id="6586144">(</span><span class="ident" id="6586145"><a href="/text/scanner/scanner_test.go.html#6586114">BOM</a></span><span class="op" id="6586148">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586151">s</span>&nbsp;<span class="op" id="6586153">:=</span>&nbsp;<span class="builtinfunc" id="6586156">new</span><span class="op" id="6586159">(</span><span class="ident" id="6586160"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6586167">)</span><span class="op" id="6586168">.</span><span class="ident" id="6586169">Init</span><span class="op" id="6586173">(</span><span class="ident" id="6586174"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6586181">.</span><span class="ident" id="6586182">NewReader</span><span class="op" id="6586191">(</span><span class="ident" id="6586192"><a href="/text/scanner/scanner_test.go.html#6586130">BOMs</a></span>&nbsp;<span class="op" id="6586197">+</span>&nbsp;<span class="string" id="6586199">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="6586220">+</span>&nbsp;<span class="ident" id="6586222"><a href="/text/scanner/scanner_test.go.html#6586130">BOMs</a></span>&nbsp;<span class="op" id="6586227">+</span>&nbsp;<span class="string" id="6586229">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="6586254">+</span>&nbsp;<span class="ident" id="6586256"><a href="/text/scanner/scanner_test.go.html#6586130">BOMs</a></span>&nbsp;<span class="op" id="6586261">+</span>&nbsp;<span class="string" id="6586263">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="6586294">)</span><span class="op" id="6586295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586298"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586306">(</span><span class="ident" id="6586307"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586308">,</span>&nbsp;<span class="ident" id="6586310"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586311">,</span>&nbsp;<span class="num" id="6586313">1</span><span class="op" id="6586314">,</span>&nbsp;<span class="ident" id="6586316"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586317">.</span><span class="ident" id="6586318">Scan</span><span class="op" id="6586322">(</span><span class="op" id="6586323">)</span><span class="op" id="6586324">,</span>&nbsp;<span class="ident" id="6586326"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6586331">,</span>&nbsp;<span class="string" id="6586333">&#34;if&#34;</span><span class="op" id="6586337">)</span>&nbsp;<span class="comment" id="6586339">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586368"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586376">(</span><span class="ident" id="6586377"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586378">,</span>&nbsp;<span class="ident" id="6586380"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586381">,</span>&nbsp;<span class="num" id="6586383">1</span><span class="op" id="6586384">,</span>&nbsp;<span class="ident" id="6586386"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586387">.</span><span class="ident" id="6586388">Scan</span><span class="op" id="6586392">(</span><span class="op" id="6586393">)</span><span class="op" id="6586394">,</span>&nbsp;<span class="ident" id="6586396"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6586401">,</span>&nbsp;<span class="string" id="6586403">&#34;a&#34;</span><span class="op" id="6586406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586409"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586417">(</span><span class="ident" id="6586418"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586419">,</span>&nbsp;<span class="ident" id="6586421"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586422">,</span>&nbsp;<span class="num" id="6586424">1</span><span class="op" id="6586425">,</span>&nbsp;<span class="ident" id="6586427"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586428">.</span><span class="ident" id="6586429">Scan</span><span class="op" id="6586433">(</span><span class="op" id="6586434">)</span><span class="op" id="6586435">,</span>&nbsp;<span class="string" id="6586437">&#39;=&#39;</span><span class="op" id="6586440">,</span>&nbsp;<span class="string" id="6586442">&#34;=&#34;</span><span class="op" id="6586445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586448"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586456">(</span><span class="ident" id="6586457"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586458">,</span>&nbsp;<span class="ident" id="6586460"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586461">,</span>&nbsp;<span class="num" id="6586463">0</span><span class="op" id="6586464">,</span>&nbsp;<span class="ident" id="6586466"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586467">.</span><span class="ident" id="6586468">Next</span><span class="op" id="6586472">(</span><span class="op" id="6586473">)</span><span class="op" id="6586474">,</span>&nbsp;<span class="string" id="6586476">&#39;=&#39;</span><span class="op" id="6586479">,</span>&nbsp;<span class="string" id="6586481">&#34;&#34;</span><span class="op" id="6586483">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586486"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586494">(</span><span class="ident" id="6586495"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586496">,</span>&nbsp;<span class="ident" id="6586498"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586499">,</span>&nbsp;<span class="num" id="6586501">0</span><span class="op" id="6586502">,</span>&nbsp;<span class="ident" id="6586504"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586505">.</span><span class="ident" id="6586506">Next</span><span class="op" id="6586510">(</span><span class="op" id="6586511">)</span><span class="op" id="6586512">,</span>&nbsp;<span class="string" id="6586514">&#39;&nbsp;&#39;</span><span class="op" id="6586517">,</span>&nbsp;<span class="string" id="6586519">&#34;&#34;</span><span class="op" id="6586521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586524"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586532">(</span><span class="ident" id="6586533"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586534">,</span>&nbsp;<span class="ident" id="6586536"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586537">,</span>&nbsp;<span class="num" id="6586539">0</span><span class="op" id="6586540">,</span>&nbsp;<span class="ident" id="6586542"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586543">.</span><span class="ident" id="6586544">Next</span><span class="op" id="6586548">(</span><span class="op" id="6586549">)</span><span class="op" id="6586550">,</span>&nbsp;<span class="string" id="6586552">&#39;b&#39;</span><span class="op" id="6586555">,</span>&nbsp;<span class="string" id="6586557">&#34;&#34;</span><span class="op" id="6586559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586562"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586570">(</span><span class="ident" id="6586571"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586572">,</span>&nbsp;<span class="ident" id="6586574"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586575">,</span>&nbsp;<span class="num" id="6586577">1</span><span class="op" id="6586578">,</span>&nbsp;<span class="ident" id="6586580"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586581">.</span><span class="ident" id="6586582">Scan</span><span class="op" id="6586586">(</span><span class="op" id="6586587">)</span><span class="op" id="6586588">,</span>&nbsp;<span class="ident" id="6586590"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6586595">,</span>&nbsp;<span class="string" id="6586597">&#34;cd&#34;</span><span class="op" id="6586601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586604"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586612">(</span><span class="ident" id="6586613"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586614">,</span>&nbsp;<span class="ident" id="6586616"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586617">,</span>&nbsp;<span class="num" id="6586619">1</span><span class="op" id="6586620">,</span>&nbsp;<span class="ident" id="6586622"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586623">.</span><span class="ident" id="6586624">Scan</span><span class="op" id="6586628">(</span><span class="op" id="6586629">)</span><span class="op" id="6586630">,</span>&nbsp;<span class="string" id="6586632">&#39;{&#39;</span><span class="op" id="6586635">,</span>&nbsp;<span class="string" id="6586637">&#34;{&#34;</span><span class="op" id="6586640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586643"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586651">(</span><span class="ident" id="6586652"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586653">,</span>&nbsp;<span class="ident" id="6586655"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586656">,</span>&nbsp;<span class="num" id="6586658">2</span><span class="op" id="6586659">,</span>&nbsp;<span class="ident" id="6586661"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586662">.</span><span class="ident" id="6586663">Scan</span><span class="op" id="6586667">(</span><span class="op" id="6586668">)</span><span class="op" id="6586669">,</span>&nbsp;<span class="ident" id="6586671"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6586676">,</span>&nbsp;<span class="string" id="6586678">&#34;a&#34;</span><span class="op" id="6586681">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586684"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586692">(</span><span class="ident" id="6586693"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586694">,</span>&nbsp;<span class="ident" id="6586696"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586697">,</span>&nbsp;<span class="num" id="6586699">2</span><span class="op" id="6586700">,</span>&nbsp;<span class="ident" id="6586702"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586703">.</span><span class="ident" id="6586704">Scan</span><span class="op" id="6586708">(</span><span class="op" id="6586709">)</span><span class="op" id="6586710">,</span>&nbsp;<span class="string" id="6586712">&#39;+&#39;</span><span class="op" id="6586715">,</span>&nbsp;<span class="string" id="6586717">&#34;+&#34;</span><span class="op" id="6586720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586723"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586731">(</span><span class="ident" id="6586732"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586733">,</span>&nbsp;<span class="ident" id="6586735"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586736">,</span>&nbsp;<span class="num" id="6586738">0</span><span class="op" id="6586739">,</span>&nbsp;<span class="ident" id="6586741"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586742">.</span><span class="ident" id="6586743">Next</span><span class="op" id="6586747">(</span><span class="op" id="6586748">)</span><span class="op" id="6586749">,</span>&nbsp;<span class="string" id="6586751">&#39;=&#39;</span><span class="op" id="6586754">,</span>&nbsp;<span class="string" id="6586756">&#34;&#34;</span><span class="op" id="6586758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586761"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586769">(</span><span class="ident" id="6586770"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586771">,</span>&nbsp;<span class="ident" id="6586773"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586774">,</span>&nbsp;<span class="num" id="6586776">2</span><span class="op" id="6586777">,</span>&nbsp;<span class="ident" id="6586779"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586780">.</span><span class="ident" id="6586781">Scan</span><span class="op" id="6586785">(</span><span class="op" id="6586786">)</span><span class="op" id="6586787">,</span>&nbsp;<span class="ident" id="6586789"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6586794">,</span>&nbsp;<span class="string" id="6586796">&#34;c&#34;</span><span class="op" id="6586799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586802"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586810">(</span><span class="ident" id="6586811"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586812">,</span>&nbsp;<span class="ident" id="6586814"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586815">,</span>&nbsp;<span class="num" id="6586817">3</span><span class="op" id="6586818">,</span>&nbsp;<span class="ident" id="6586820"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586821">.</span><span class="ident" id="6586822">Scan</span><span class="op" id="6586826">(</span><span class="op" id="6586827">)</span><span class="op" id="6586828">,</span>&nbsp;<span class="string" id="6586830">&#39;}&#39;</span><span class="op" id="6586833">,</span>&nbsp;<span class="string" id="6586835">&#34;}&#34;</span><span class="op" id="6586838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586841"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586849">(</span><span class="ident" id="6586850"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586851">,</span>&nbsp;<span class="ident" id="6586853"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586854">,</span>&nbsp;<span class="num" id="6586856">3</span><span class="op" id="6586857">,</span>&nbsp;<span class="ident" id="6586859"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586860">.</span><span class="ident" id="6586861">Scan</span><span class="op" id="6586865">(</span><span class="op" id="6586866">)</span><span class="op" id="6586867">,</span>&nbsp;<span class="ident" id="6586869"><a href="/text/scanner/scanner_test.go.html#6586114">BOM</a></span><span class="op" id="6586872">,</span>&nbsp;<span class="ident" id="6586874"><a href="/text/scanner/scanner_test.go.html#6586130">BOMs</a></span><span class="op" id="6586878">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586881"><a href="/text/scanner/scanner_test.go.html#6581976">checkTok</a></span><span class="op" id="6586889">(</span><span class="ident" id="6586890"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586891">,</span>&nbsp;<span class="ident" id="6586893"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586894">,</span>&nbsp;<span class="num" id="6586896">3</span><span class="op" id="6586897">,</span>&nbsp;<span class="ident" id="6586899"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586900">.</span><span class="ident" id="6586901">Scan</span><span class="op" id="6586905">(</span><span class="op" id="6586906">)</span><span class="op" id="6586907">,</span>&nbsp;<span class="op" id="6586909">-</span><span class="num" id="6586910">1</span><span class="op" id="6586911">,</span>&nbsp;<span class="string" id="6586913">&#34;&#34;</span><span class="op" id="6586915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6586918">if</span>&nbsp;<span class="ident" id="6586921"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586922">.</span><span class="ident" id="6586923">ErrorCount</span>&nbsp;<span class="op" id="6586934">!=</span>&nbsp;<span class="num" id="6586937">0</span>&nbsp;<span class="op" id="6586939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586943"><a href="/text/scanner/scanner_test.go.html#6586091">t</a></span><span class="op" id="6586944">.</span><span class="ident" id="6586945">Errorf</span><span class="op" id="6586951">(</span><span class="string" id="6586952">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6586963">,</span>&nbsp;<span class="ident" id="6586965"><a href="/text/scanner/scanner_test.go.html#6586151">s</a></span><span class="op" id="6586966">.</span><span class="ident" id="6586967">ErrorCount</span><span class="op" id="6586977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6586980">}</span><br>
<span class="lineno"></span><span class="op" id="6586982">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="6586985">func</span>&nbsp;<span class="ident" id="6586990">TestScanWhitespace</span><span class="op" id="6587008">(</span><span class="ident" id="6587009">t</span>&nbsp;<span class="op" id="6587011">*</span><span class="ident" id="6587012"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6587019">.</span><span class="ident" id="6587020">T</span><span class="op" id="6587021">)</span>&nbsp;<span class="op" id="6587023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587026">var</span>&nbsp;<span class="ident" id="6587030">buf</span>&nbsp;<span class="ident" id="6587034"><a href="/text/scanner/scanner_test.go.html#6577575">bytes</a></span><span class="op" id="6587039">.</span><span class="ident" id="6587040">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587048">var</span>&nbsp;<span class="ident" id="6587052">ws</span>&nbsp;<span class="ident" id="6587055">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6587063">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587108">for</span>&nbsp;<span class="ident" id="6587112">ch</span>&nbsp;<span class="op" id="6587115">:=</span>&nbsp;<span class="builtintype" id="6587118">byte</span><span class="op" id="6587122">(</span><span class="num" id="6587123">1</span><span class="op" id="6587124">)</span><span class="op" id="6587125">;</span>&nbsp;<span class="ident" id="6587127"><a href="/text/scanner/scanner_test.go.html#6587112">ch</a></span>&nbsp;<span class="op" id="6587130">&lt;</span>&nbsp;<span class="string" id="6587132">&#39;&nbsp;&#39;</span><span class="op" id="6587135">;</span>&nbsp;<span class="ident" id="6587137"><a href="/text/scanner/scanner_test.go.html#6587112">ch</a></span><span class="op" id="6587139">++</span>&nbsp;<span class="op" id="6587142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587146"><a href="/text/scanner/scanner_test.go.html#6587030">buf</a></span><span class="op" id="6587149">.</span><span class="ident" id="6587150">WriteByte</span><span class="op" id="6587159">(</span><span class="ident" id="6587160"><a href="/text/scanner/scanner_test.go.html#6587112">ch</a></span><span class="op" id="6587162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587166"><a href="/text/scanner/scanner_test.go.html#6587052">ws</a></span>&nbsp;<span class="op" id="6587169">|=</span>&nbsp;<span class="num" id="6587172">1</span>&nbsp;<span class="op" id="6587174">&lt;&lt;</span>&nbsp;<span class="ident" id="6587177"><a href="/text/scanner/scanner_test.go.html#6587112">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587184">const</span>&nbsp;<span class="ident" id="6587190">orig</span>&nbsp;<span class="op" id="6587195">=</span>&nbsp;<span class="string" id="6587197">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587202"><a href="/text/scanner/scanner_test.go.html#6587030">buf</a></span><span class="op" id="6587205">.</span><span class="ident" id="6587206">WriteByte</span><span class="op" id="6587215">(</span><span class="ident" id="6587216"><a href="/text/scanner/scanner_test.go.html#6587190">orig</a></span><span class="op" id="6587220">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587224">s</span>&nbsp;<span class="op" id="6587226">:=</span>&nbsp;<span class="builtinfunc" id="6587229">new</span><span class="op" id="6587232">(</span><span class="ident" id="6587233"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6587240">)</span><span class="op" id="6587241">.</span><span class="ident" id="6587242">Init</span><span class="op" id="6587246">(</span><span class="op" id="6587247">&amp;</span><span class="ident" id="6587248"><a href="/text/scanner/scanner_test.go.html#6587030">buf</a></span><span class="op" id="6587251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587254"><a href="/text/scanner/scanner_test.go.html#6587224">s</a></span><span class="op" id="6587255">.</span><span class="ident" id="6587256">Mode</span>&nbsp;<span class="op" id="6587261">=</span>&nbsp;<span class="num" id="6587263">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587266"><a href="/text/scanner/scanner_test.go.html#6587224">s</a></span><span class="op" id="6587267">.</span><span class="ident" id="6587268">Whitespace</span>&nbsp;<span class="op" id="6587279">=</span>&nbsp;<span class="ident" id="6587281"><a href="/text/scanner/scanner_test.go.html#6587052">ws</a></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587285">tok</span>&nbsp;<span class="op" id="6587289">:=</span>&nbsp;<span class="ident" id="6587292"><a href="/text/scanner/scanner_test.go.html#6587224">s</a></span><span class="op" id="6587293">.</span><span class="ident" id="6587294">Scan</span><span class="op" id="6587298">(</span><span class="op" id="6587299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587302">if</span>&nbsp;<span class="ident" id="6587305"><a href="/text/scanner/scanner_test.go.html#6587285">tok</a></span>&nbsp;<span class="op" id="6587309">!=</span>&nbsp;<span class="ident" id="6587312"><a href="/text/scanner/scanner_test.go.html#6587190">orig</a></span>&nbsp;<span class="op" id="6587317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587321"><a href="/text/scanner/scanner_test.go.html#6587009">t</a></span><span class="op" id="6587322">.</span><span class="ident" id="6587323">Errorf</span><span class="op" id="6587329">(</span><span class="string" id="6587330">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6587349">,</span>&nbsp;<span class="ident" id="6587351"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6587362">(</span><span class="ident" id="6587363"><a href="/text/scanner/scanner_test.go.html#6587285">tok</a></span><span class="op" id="6587366">)</span><span class="op" id="6587367">,</span>&nbsp;<span class="ident" id="6587369"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6587380">(</span><span class="ident" id="6587381"><a href="/text/scanner/scanner_test.go.html#6587190">orig</a></span><span class="op" id="6587385">)</span><span class="op" id="6587386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587389">}</span><br>
<span class="lineno"></span><span class="op" id="6587391">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="6587394">func</span>&nbsp;<span class="ident" id="6587399">testError</span><span class="op" id="6587408">(</span><span class="ident" id="6587409">t</span>&nbsp;<span class="op" id="6587411">*</span><span class="ident" id="6587412"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6587419">.</span><span class="ident" id="6587420">T</span><span class="op" id="6587421">,</span>&nbsp;<span class="ident" id="6587423">src</span><span class="op" id="6587426">,</span>&nbsp;<span class="ident" id="6587428">pos</span><span class="op" id="6587431">,</span>&nbsp;<span class="ident" id="6587433">msg</span>&nbsp;<span class="builtintype" id="6587437">string</span><span class="op" id="6587443">,</span>&nbsp;<span class="ident" id="6587445">tok</span>&nbsp;<span class="builtintype" id="6587449">rune</span><span class="op" id="6587453">)</span>&nbsp;<span class="op" id="6587455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587458">s</span>&nbsp;<span class="op" id="6587460">:=</span>&nbsp;<span class="builtinfunc" id="6587463">new</span><span class="op" id="6587466">(</span><span class="ident" id="6587467"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6587474">)</span><span class="op" id="6587475">.</span><span class="ident" id="6587476">Init</span><span class="op" id="6587480">(</span><span class="ident" id="6587481"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6587488">.</span><span class="ident" id="6587489">NewReader</span><span class="op" id="6587498">(</span><span class="ident" id="6587499"><a href="/text/scanner/scanner_test.go.html#6587423">src</a></span><span class="op" id="6587502">)</span><span class="op" id="6587503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587506">errorCalled</span>&nbsp;<span class="op" id="6587518">:=</span>&nbsp;<span class="ident" id="6587521">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587528"><a href="/text/scanner/scanner_test.go.html#6587458">s</a></span><span class="op" id="6587529">.</span><span class="ident" id="6587530">Error</span>&nbsp;<span class="op" id="6587536">=</span>&nbsp;<span class="keyword" id="6587538">func</span><span class="op" id="6587542">(</span><span class="ident" id="6587543">s</span>&nbsp;<span class="op" id="6587545">*</span><span class="ident" id="6587546"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6587553">,</span>&nbsp;<span class="ident" id="6587555">m</span>&nbsp;<span class="builtintype" id="6587557">string</span><span class="op" id="6587563">)</span>&nbsp;<span class="op" id="6587565">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587569">if</span>&nbsp;<span class="op" id="6587572">!</span><span class="ident" id="6587573"><a href="/text/scanner/scanner_test.go.html#6587506">errorCalled</a></span>&nbsp;<span class="op" id="6587585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6587590">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587621">if</span>&nbsp;<span class="ident" id="6587624">p</span>&nbsp;<span class="op" id="6587626">:=</span>&nbsp;<span class="ident" id="6587629"><a href="/text/scanner/scanner_test.go.html#6587543">s</a></span><span class="op" id="6587630">.</span><span class="ident" id="6587631">Pos</span><span class="op" id="6587634">(</span><span class="op" id="6587635">)</span><span class="op" id="6587636">.</span><span class="ident" id="6587637">String</span><span class="op" id="6587643">(</span><span class="op" id="6587644">)</span><span class="op" id="6587645">;</span>&nbsp;<span class="ident" id="6587647"><a href="/text/scanner/scanner_test.go.html#6587624">p</a></span>&nbsp;<span class="op" id="6587649">!=</span>&nbsp;<span class="ident" id="6587652"><a href="/text/scanner/scanner_test.go.html#6587428">pos</a></span>&nbsp;<span class="op" id="6587656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587662"><a href="/text/scanner/scanner_test.go.html#6587409">t</a></span><span class="op" id="6587663">.</span><span class="ident" id="6587664">Errorf</span><span class="op" id="6587670">(</span><span class="string" id="6587671">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6587697">,</span>&nbsp;<span class="ident" id="6587699"><a href="/text/scanner/scanner_test.go.html#6587624">p</a></span><span class="op" id="6587700">,</span>&nbsp;<span class="ident" id="6587702"><a href="/text/scanner/scanner_test.go.html#6587428">pos</a></span><span class="op" id="6587705">,</span>&nbsp;<span class="ident" id="6587707"><a href="/text/scanner/scanner_test.go.html#6587423">src</a></span><span class="op" id="6587710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587715">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587720">if</span>&nbsp;<span class="ident" id="6587723"><a href="/text/scanner/scanner_test.go.html#6587555">m</a></span>&nbsp;<span class="op" id="6587725">!=</span>&nbsp;<span class="ident" id="6587728"><a href="/text/scanner/scanner_test.go.html#6587433">msg</a></span>&nbsp;<span class="op" id="6587732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587738"><a href="/text/scanner/scanner_test.go.html#6587409">t</a></span><span class="op" id="6587739">.</span><span class="ident" id="6587740">Errorf</span><span class="op" id="6587746">(</span><span class="string" id="6587747">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6587773">,</span>&nbsp;<span class="ident" id="6587775"><a href="/text/scanner/scanner_test.go.html#6587555">m</a></span><span class="op" id="6587776">,</span>&nbsp;<span class="ident" id="6587778"><a href="/text/scanner/scanner_test.go.html#6587433">msg</a></span><span class="op" id="6587781">,</span>&nbsp;<span class="ident" id="6587783"><a href="/text/scanner/scanner_test.go.html#6587423">src</a></span><span class="op" id="6587786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587796"><a href="/text/scanner/scanner_test.go.html#6587506">errorCalled</a></span>&nbsp;<span class="op" id="6587808">=</span>&nbsp;<span class="ident" id="6587810">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587817">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587823">tk</span>&nbsp;<span class="op" id="6587826">:=</span>&nbsp;<span class="ident" id="6587829"><a href="/text/scanner/scanner_test.go.html#6587458">s</a></span><span class="op" id="6587830">.</span><span class="ident" id="6587831">Scan</span><span class="op" id="6587835">(</span><span class="op" id="6587836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587839">if</span>&nbsp;<span class="ident" id="6587842"><a href="/text/scanner/scanner_test.go.html#6587823">tk</a></span>&nbsp;<span class="op" id="6587845">!=</span>&nbsp;<span class="ident" id="6587848"><a href="/text/scanner/scanner_test.go.html#6587445">tok</a></span>&nbsp;<span class="op" id="6587852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587856"><a href="/text/scanner/scanner_test.go.html#6587409">t</a></span><span class="op" id="6587857">.</span><span class="ident" id="6587858">Errorf</span><span class="op" id="6587864">(</span><span class="string" id="6587865">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6587891">,</span>&nbsp;<span class="ident" id="6587893"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6587904">(</span><span class="ident" id="6587905"><a href="/text/scanner/scanner_test.go.html#6587823">tk</a></span><span class="op" id="6587907">)</span><span class="op" id="6587908">,</span>&nbsp;<span class="ident" id="6587910"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6587921">(</span><span class="ident" id="6587922"><a href="/text/scanner/scanner_test.go.html#6587445">tok</a></span><span class="op" id="6587925">)</span><span class="op" id="6587926">,</span>&nbsp;<span class="ident" id="6587928"><a href="/text/scanner/scanner_test.go.html#6587423">src</a></span><span class="op" id="6587931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587934">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587937">if</span>&nbsp;<span class="op" id="6587940">!</span><span class="ident" id="6587941"><a href="/text/scanner/scanner_test.go.html#6587506">errorCalled</a></span>&nbsp;<span class="op" id="6587953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587957"><a href="/text/scanner/scanner_test.go.html#6587409">t</a></span><span class="op" id="6587958">.</span><span class="ident" id="6587959">Errorf</span><span class="op" id="6587965">(</span><span class="string" id="6587966">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6587999">,</span>&nbsp;<span class="ident" id="6588001"><a href="/text/scanner/scanner_test.go.html#6587423">src</a></span><span class="op" id="6588004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6588007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6588010">if</span>&nbsp;<span class="ident" id="6588013"><a href="/text/scanner/scanner_test.go.html#6587458">s</a></span><span class="op" id="6588014">.</span><span class="ident" id="6588015">ErrorCount</span>&nbsp;<span class="op" id="6588026">==</span>&nbsp;<span class="num" id="6588029">0</span>&nbsp;<span class="op" id="6588031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588035"><a href="/text/scanner/scanner_test.go.html#6587409">t</a></span><span class="op" id="6588036">.</span><span class="ident" id="6588037">Errorf</span><span class="op" id="6588043">(</span><span class="string" id="6588044">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6588073">,</span>&nbsp;<span class="ident" id="6588075"><a href="/text/scanner/scanner_test.go.html#6587458">s</a></span><span class="op" id="6588076">.</span><span class="ident" id="6588077">ErrorCount</span><span class="op" id="6588087">,</span>&nbsp;<span class="ident" id="6588089"><a href="/text/scanner/scanner_test.go.html#6587423">src</a></span><span class="op" id="6588092">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6588095">}</span><br>
<span class="lineno"></span><span class="op" id="6588097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6588100">func</span>&nbsp;<span class="ident" id="6588105">TestError</span><span class="op" id="6588114">(</span><span class="ident" id="6588115">t</span>&nbsp;<span class="op" id="6588117">*</span><span class="ident" id="6588118"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6588125">.</span><span class="ident" id="6588126">T</span><span class="op" id="6588127">)</span>&nbsp;<span class="op" id="6588129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588132"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588141">(</span><span class="ident" id="6588142"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588143">,</span>&nbsp;<span class="string" id="6588145">&#34;\x00&#34;</span><span class="op" id="6588151">,</span>&nbsp;<span class="string" id="6588153">&#34;1:1&#34;</span><span class="op" id="6588158">,</span>&nbsp;<span class="string" id="6588160">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6588183">,</span>&nbsp;<span class="num" id="6588185">0</span><span class="op" id="6588186">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588189"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588198">(</span><span class="ident" id="6588199"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588200">,</span>&nbsp;<span class="string" id="6588202">&#34;\x80&#34;</span><span class="op" id="6588208">,</span>&nbsp;<span class="string" id="6588210">&#34;1:1&#34;</span><span class="op" id="6588215">,</span>&nbsp;<span class="string" id="6588217">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6588241">,</span>&nbsp;<span class="ident" id="6588243"><a href="/text/scanner/scanner_test.go.html#6577619">utf8</a></span><span class="op" id="6588247">.</span><span class="ident" id="6588248">RuneError</span><span class="op" id="6588257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588260"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588269">(</span><span class="ident" id="6588270"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588271">,</span>&nbsp;<span class="string" id="6588273">&#34;\xff&#34;</span><span class="op" id="6588279">,</span>&nbsp;<span class="string" id="6588281">&#34;1:1&#34;</span><span class="op" id="6588286">,</span>&nbsp;<span class="string" id="6588288">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6588312">,</span>&nbsp;<span class="ident" id="6588314"><a href="/text/scanner/scanner_test.go.html#6577619">utf8</a></span><span class="op" id="6588318">.</span><span class="ident" id="6588319">RuneError</span><span class="op" id="6588328">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588332"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588341">(</span><span class="ident" id="6588342"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588343">,</span>&nbsp;<span class="string" id="6588345">&#34;a\x00&#34;</span><span class="op" id="6588352">,</span>&nbsp;<span class="string" id="6588354">&#34;1:2&#34;</span><span class="op" id="6588359">,</span>&nbsp;<span class="string" id="6588361">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6588384">,</span>&nbsp;<span class="ident" id="6588386"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6588391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588394"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588403">(</span><span class="ident" id="6588404"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588405">,</span>&nbsp;<span class="string" id="6588407">&#34;ab\x80&#34;</span><span class="op" id="6588415">,</span>&nbsp;<span class="string" id="6588417">&#34;1:3&#34;</span><span class="op" id="6588422">,</span>&nbsp;<span class="string" id="6588424">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6588448">,</span>&nbsp;<span class="ident" id="6588450"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6588455">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588458"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588467">(</span><span class="ident" id="6588468"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588469">,</span>&nbsp;<span class="string" id="6588471">&#34;abc\xff&#34;</span><span class="op" id="6588480">,</span>&nbsp;<span class="string" id="6588482">&#34;1:4&#34;</span><span class="op" id="6588487">,</span>&nbsp;<span class="string" id="6588489">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6588513">,</span>&nbsp;<span class="ident" id="6588515"><a href="/text/scanner/scanner.go.html#6341940">Ident</a></span><span class="op" id="6588520">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588524"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588533">(</span><span class="ident" id="6588534"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588535">,</span>&nbsp;<span class="string" id="6588537">`&#34;a`</span><span class="op" id="6588541">+</span><span class="string" id="6588542">&#34;\x00&#34;</span><span class="op" id="6588548">,</span>&nbsp;<span class="string" id="6588550">&#34;1:3&#34;</span><span class="op" id="6588555">,</span>&nbsp;<span class="string" id="6588557">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6588580">,</span>&nbsp;<span class="ident" id="6588582"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6588588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588591"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588600">(</span><span class="ident" id="6588601"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588602">,</span>&nbsp;<span class="string" id="6588604">`&#34;ab`</span><span class="op" id="6588609">+</span><span class="string" id="6588610">&#34;\x80&#34;</span><span class="op" id="6588616">,</span>&nbsp;<span class="string" id="6588618">&#34;1:4&#34;</span><span class="op" id="6588623">,</span>&nbsp;<span class="string" id="6588625">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6588649">,</span>&nbsp;<span class="ident" id="6588651"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6588657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588660"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588669">(</span><span class="ident" id="6588670"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588671">,</span>&nbsp;<span class="string" id="6588673">`&#34;abc`</span><span class="op" id="6588679">+</span><span class="string" id="6588680">&#34;\xff&#34;</span><span class="op" id="6588686">,</span>&nbsp;<span class="string" id="6588688">&#34;1:5&#34;</span><span class="op" id="6588693">,</span>&nbsp;<span class="string" id="6588695">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6588719">,</span>&nbsp;<span class="ident" id="6588721"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6588727">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588731"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588740">(</span><span class="ident" id="6588741"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588742">,</span>&nbsp;<span class="string" id="6588744">&#34;`a&#34;</span><span class="op" id="6588748">+</span><span class="string" id="6588749">&#34;\x00&#34;</span><span class="op" id="6588755">,</span>&nbsp;<span class="string" id="6588757">&#34;1:3&#34;</span><span class="op" id="6588762">,</span>&nbsp;<span class="string" id="6588764">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6588787">,</span>&nbsp;<span class="ident" id="6588789"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6588795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588798"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588807">(</span><span class="ident" id="6588808"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588809">,</span>&nbsp;<span class="string" id="6588811">&#34;`ab&#34;</span><span class="op" id="6588816">+</span><span class="string" id="6588817">&#34;\x80&#34;</span><span class="op" id="6588823">,</span>&nbsp;<span class="string" id="6588825">&#34;1:4&#34;</span><span class="op" id="6588830">,</span>&nbsp;<span class="string" id="6588832">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6588856">,</span>&nbsp;<span class="ident" id="6588858"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6588864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588867"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588876">(</span><span class="ident" id="6588877"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588878">,</span>&nbsp;<span class="string" id="6588880">&#34;`abc&#34;</span><span class="op" id="6588886">+</span><span class="string" id="6588887">&#34;\xff&#34;</span><span class="op" id="6588893">,</span>&nbsp;<span class="string" id="6588895">&#34;1:5&#34;</span><span class="op" id="6588900">,</span>&nbsp;<span class="string" id="6588902">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6588926">,</span>&nbsp;<span class="ident" id="6588928"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6588934">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588938"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6588947">(</span><span class="ident" id="6588948"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6588949">,</span>&nbsp;<span class="string" id="6588951">`&#39;\&#34;&#39;`</span><span class="op" id="6588957">,</span>&nbsp;<span class="string" id="6588959">&#34;1:3&#34;</span><span class="op" id="6588964">,</span>&nbsp;<span class="string" id="6588966">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="6588987">,</span>&nbsp;<span class="ident" id="6588989"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6588993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6588996"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589005">(</span><span class="ident" id="6589006"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589007">,</span>&nbsp;<span class="string" id="6589009">`&#34;\&#39;&#34;`</span><span class="op" id="6589015">,</span>&nbsp;<span class="string" id="6589017">&#34;1:3&#34;</span><span class="op" id="6589022">,</span>&nbsp;<span class="string" id="6589024">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="6589045">,</span>&nbsp;<span class="ident" id="6589047"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6589053">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589057"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589066">(</span><span class="ident" id="6589067"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589068">,</span>&nbsp;<span class="string" id="6589070">`01238`</span><span class="op" id="6589077">,</span>&nbsp;<span class="string" id="6589079">&#34;1:6&#34;</span><span class="op" id="6589084">,</span>&nbsp;<span class="string" id="6589086">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6589108">,</span>&nbsp;<span class="ident" id="6589110"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6589113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589116"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589125">(</span><span class="ident" id="6589126"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589127">,</span>&nbsp;<span class="string" id="6589129">`01238123`</span><span class="op" id="6589139">,</span>&nbsp;<span class="string" id="6589141">&#34;1:9&#34;</span><span class="op" id="6589146">,</span>&nbsp;<span class="string" id="6589148">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6589170">,</span>&nbsp;<span class="ident" id="6589172"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6589175">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589178"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589187">(</span><span class="ident" id="6589188"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589189">,</span>&nbsp;<span class="string" id="6589191">`0x`</span><span class="op" id="6589195">,</span>&nbsp;<span class="string" id="6589197">&#34;1:3&#34;</span><span class="op" id="6589202">,</span>&nbsp;<span class="string" id="6589204">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6589232">,</span>&nbsp;<span class="ident" id="6589234"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6589237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589240"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589249">(</span><span class="ident" id="6589250"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589251">,</span>&nbsp;<span class="string" id="6589253">`0xg`</span><span class="op" id="6589258">,</span>&nbsp;<span class="string" id="6589260">&#34;1:3&#34;</span><span class="op" id="6589265">,</span>&nbsp;<span class="string" id="6589267">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6589295">,</span>&nbsp;<span class="ident" id="6589297"><a href="/text/scanner/scanner.go.html#6341947">Int</a></span><span class="op" id="6589300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589303"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589312">(</span><span class="ident" id="6589313"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589314">,</span>&nbsp;<span class="string" id="6589316">`&#39;aa&#39;`</span><span class="op" id="6589322">,</span>&nbsp;<span class="string" id="6589324">&#34;1:4&#34;</span><span class="op" id="6589329">,</span>&nbsp;<span class="string" id="6589331">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="6589353">,</span>&nbsp;<span class="ident" id="6589355"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6589359">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589363"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589372">(</span><span class="ident" id="6589373"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589374">,</span>&nbsp;<span class="string" id="6589376">`&#39;`</span><span class="op" id="6589379">,</span>&nbsp;<span class="string" id="6589381">&#34;1:2&#34;</span><span class="op" id="6589386">,</span>&nbsp;<span class="string" id="6589388">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6589412">,</span>&nbsp;<span class="ident" id="6589414"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6589418">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589421"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589430">(</span><span class="ident" id="6589431"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589432">,</span>&nbsp;<span class="string" id="6589434">`&#39;`</span><span class="op" id="6589437">+</span><span class="string" id="6589438">&#34;\n&#34;</span><span class="op" id="6589442">,</span>&nbsp;<span class="string" id="6589444">&#34;1:2&#34;</span><span class="op" id="6589449">,</span>&nbsp;<span class="string" id="6589451">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6589475">,</span>&nbsp;<span class="ident" id="6589477"><a href="/text/scanner/scanner.go.html#6341959">Char</a></span><span class="op" id="6589481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589484"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589493">(</span><span class="ident" id="6589494"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589495">,</span>&nbsp;<span class="string" id="6589497">`&#34;abc`</span><span class="op" id="6589503">,</span>&nbsp;<span class="string" id="6589505">&#34;1:5&#34;</span><span class="op" id="6589510">,</span>&nbsp;<span class="string" id="6589512">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6589536">,</span>&nbsp;<span class="ident" id="6589538"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6589544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589547"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589556">(</span><span class="ident" id="6589557"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589558">,</span>&nbsp;<span class="string" id="6589560">`&#34;abc`</span><span class="op" id="6589566">+</span><span class="string" id="6589567">&#34;\n&#34;</span><span class="op" id="6589571">,</span>&nbsp;<span class="string" id="6589573">&#34;1:5&#34;</span><span class="op" id="6589578">,</span>&nbsp;<span class="string" id="6589580">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6589604">,</span>&nbsp;<span class="ident" id="6589606"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6589612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589615"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589624">(</span><span class="ident" id="6589625"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589626">,</span>&nbsp;<span class="string" id="6589628">&#34;`abc\n&#34;</span><span class="op" id="6589636">,</span>&nbsp;<span class="string" id="6589638">&#34;2:1&#34;</span><span class="op" id="6589643">,</span>&nbsp;<span class="string" id="6589645">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6589669">,</span>&nbsp;<span class="ident" id="6589671"><a href="/text/scanner/scanner.go.html#6341965">String</a></span><span class="op" id="6589677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589680"><a href="/text/scanner/scanner_test.go.html#6587399">testError</a></span><span class="op" id="6589689">(</span><span class="ident" id="6589690"><a href="/text/scanner/scanner_test.go.html#6588115">t</a></span><span class="op" id="6589691">,</span>&nbsp;<span class="string" id="6589693">`/*/`</span><span class="op" id="6589698">,</span>&nbsp;<span class="string" id="6589700">&#34;1:4&#34;</span><span class="op" id="6589705">,</span>&nbsp;<span class="string" id="6589707">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6589731">,</span>&nbsp;<span class="ident" id="6589733"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span><span class="op" id="6589736">)</span><br>
<span class="lineno">485</span><span class="op" id="6589738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6589741">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="6589799">type</span>&nbsp;<span class="ident" id="6589804">errReader</span>&nbsp;<span class="keyword" id="6589814">struct</span><span class="op" id="6589820">{</span><span class="op" id="6589821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="6589824">func</span>&nbsp;<span class="op" id="6589829">(</span><span class="ident" id="6589830"><a href="/text/scanner/scanner_test.go.html#6589804">errReader</a></span><span class="op" id="6589839">)</span>&nbsp;<span class="ident" id="6589841">Read</span><span class="op" id="6589845">(</span><span class="ident" id="6589846">b</span>&nbsp;<span class="op" id="6589848">[</span><span class="op" id="6589849">]</span><span class="builtintype" id="6589850">byte</span><span class="op" id="6589854">)</span>&nbsp;<span class="op" id="6589856">(</span><span class="builtintype" id="6589857">int</span><span class="op" id="6589860">,</span>&nbsp;<span class="builtintype" id="6589862">error</span><span class="op" id="6589867">)</span>&nbsp;<span class="op" id="6589869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6589872">return</span>&nbsp;<span class="num" id="6589879">0</span><span class="op" id="6589880">,</span>&nbsp;<span class="ident" id="6589882"><a href="/text/scanner/scanner_test.go.html#6577591">io</a></span><span class="op" id="6589884">.</span><span class="ident" id="6589885">ErrNoProgress</span>&nbsp;<span class="comment" id="6589899">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="6589932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6589935">func</span>&nbsp;<span class="ident" id="6589940">TestIOError</span><span class="op" id="6589951">(</span><span class="ident" id="6589952">t</span>&nbsp;<span class="op" id="6589954">*</span><span class="ident" id="6589955"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6589962">.</span><span class="ident" id="6589963">T</span><span class="op" id="6589964">)</span>&nbsp;<span class="op" id="6589966">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6589969">s</span>&nbsp;<span class="op" id="6589971">:=</span>&nbsp;<span class="builtinfunc" id="6589974">new</span><span class="op" id="6589977">(</span><span class="ident" id="6589978"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6589985">)</span><span class="op" id="6589986">.</span><span class="ident" id="6589987">Init</span><span class="op" id="6589991">(</span><span class="ident" id="6589992"><a href="/text/scanner/scanner_test.go.html#6589804">errReader</a></span><span class="op" id="6590001">{</span><span class="op" id="6590002">}</span><span class="op" id="6590003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590006">errorCalled</span>&nbsp;<span class="op" id="6590018">:=</span>&nbsp;<span class="ident" id="6590021">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590028"><a href="/text/scanner/scanner_test.go.html#6589969">s</a></span><span class="op" id="6590029">.</span><span class="ident" id="6590030">Error</span>&nbsp;<span class="op" id="6590036">=</span>&nbsp;<span class="keyword" id="6590038">func</span><span class="op" id="6590042">(</span><span class="ident" id="6590043">s</span>&nbsp;<span class="op" id="6590045">*</span><span class="ident" id="6590046"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6590053">,</span>&nbsp;<span class="ident" id="6590055">msg</span>&nbsp;<span class="builtintype" id="6590059">string</span><span class="op" id="6590065">)</span>&nbsp;<span class="op" id="6590067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6590071">if</span>&nbsp;<span class="op" id="6590074">!</span><span class="ident" id="6590075"><a href="/text/scanner/scanner_test.go.html#6590006">errorCalled</a></span>&nbsp;<span class="op" id="6590087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6590092">if</span>&nbsp;<span class="ident" id="6590095">want</span>&nbsp;<span class="op" id="6590100">:=</span>&nbsp;<span class="ident" id="6590103"><a href="/text/scanner/scanner_test.go.html#6577591">io</a></span><span class="op" id="6590105">.</span><span class="ident" id="6590106">ErrNoProgress</span><span class="op" id="6590119">.</span><span class="ident" id="6590120">Error</span><span class="op" id="6590125">(</span><span class="op" id="6590126">)</span><span class="op" id="6590127">;</span>&nbsp;<span class="ident" id="6590129"><a href="/text/scanner/scanner_test.go.html#6590055">msg</a></span>&nbsp;<span class="op" id="6590133">!=</span>&nbsp;<span class="ident" id="6590136"><a href="/text/scanner/scanner_test.go.html#6590095">want</a></span>&nbsp;<span class="op" id="6590141">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590147"><a href="/text/scanner/scanner_test.go.html#6589952">t</a></span><span class="op" id="6590148">.</span><span class="ident" id="6590149">Errorf</span><span class="op" id="6590155">(</span><span class="string" id="6590156">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6590175">,</span>&nbsp;<span class="ident" id="6590177"><a href="/text/scanner/scanner_test.go.html#6590055">msg</a></span><span class="op" id="6590180">,</span>&nbsp;<span class="ident" id="6590182"><a href="/text/scanner/scanner_test.go.html#6590095">want</a></span><span class="op" id="6590186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6590191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590196"><a href="/text/scanner/scanner_test.go.html#6590006">errorCalled</a></span>&nbsp;<span class="op" id="6590208">=</span>&nbsp;<span class="ident" id="6590210">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6590217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6590220">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590223">tok</span>&nbsp;<span class="op" id="6590227">:=</span>&nbsp;<span class="ident" id="6590230"><a href="/text/scanner/scanner_test.go.html#6589969">s</a></span><span class="op" id="6590231">.</span><span class="ident" id="6590232">Scan</span><span class="op" id="6590236">(</span><span class="op" id="6590237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6590240">if</span>&nbsp;<span class="ident" id="6590243"><a href="/text/scanner/scanner_test.go.html#6590223">tok</a></span>&nbsp;<span class="op" id="6590247">!=</span>&nbsp;<span class="ident" id="6590250"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span>&nbsp;<span class="op" id="6590254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590258"><a href="/text/scanner/scanner_test.go.html#6589952">t</a></span><span class="op" id="6590259">.</span><span class="ident" id="6590260">Errorf</span><span class="op" id="6590266">(</span><span class="string" id="6590267">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="6590287">,</span>&nbsp;<span class="ident" id="6590289"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6590300">(</span><span class="ident" id="6590301"><a href="/text/scanner/scanner_test.go.html#6590223">tok</a></span><span class="op" id="6590304">)</span><span class="op" id="6590305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6590308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6590311">if</span>&nbsp;<span class="op" id="6590314">!</span><span class="ident" id="6590315"><a href="/text/scanner/scanner_test.go.html#6590006">errorCalled</a></span>&nbsp;<span class="op" id="6590327">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590331"><a href="/text/scanner/scanner_test.go.html#6589952">t</a></span><span class="op" id="6590332">.</span><span class="ident" id="6590333">Errorf</span><span class="op" id="6590339">(</span><span class="string" id="6590340">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="6590366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6590369">}</span><br>
<span class="lineno"></span><span class="op" id="6590371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6590374">func</span>&nbsp;<span class="ident" id="6590379">checkPos</span><span class="op" id="6590387">(</span><span class="ident" id="6590388">t</span>&nbsp;<span class="op" id="6590390">*</span><span class="ident" id="6590391"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6590398">.</span><span class="ident" id="6590399">T</span><span class="op" id="6590400">,</span>&nbsp;<span class="ident" id="6590402">got</span><span class="op" id="6590405">,</span>&nbsp;<span class="ident" id="6590407">want</span>&nbsp;<span class="ident" id="6590412"><a href="/text/scanner/scanner.go.html#6340233">Position</a></span><span class="op" id="6590420">)</span>&nbsp;<span class="op" id="6590422">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6590425">if</span>&nbsp;<span class="ident" id="6590428"><a href="/text/scanner/scanner_test.go.html#6590402">got</a></span><span class="op" id="6590431">.</span><span class="ident" id="6590432">Offset</span>&nbsp;<span class="op" id="6590439">!=</span>&nbsp;<span class="ident" id="6590442"><a href="/text/scanner/scanner_test.go.html#6590407">want</a></span><span class="op" id="6590446">.</span><span class="ident" id="6590447">Offset</span>&nbsp;<span class="op" id="6590454">||</span>&nbsp;<span class="ident" id="6590457"><a href="/text/scanner/scanner_test.go.html#6590402">got</a></span><span class="op" id="6590460">.</span><span class="ident" id="6590461">Line</span>&nbsp;<span class="op" id="6590466">!=</span>&nbsp;<span class="ident" id="6590469"><a href="/text/scanner/scanner_test.go.html#6590407">want</a></span><span class="op" id="6590473">.</span><span class="ident" id="6590474">Line</span>&nbsp;<span class="op" id="6590479">||</span>&nbsp;<span class="ident" id="6590482"><a href="/text/scanner/scanner_test.go.html#6590402">got</a></span><span class="op" id="6590485">.</span><span class="ident" id="6590486">Column</span>&nbsp;<span class="op" id="6590493">!=</span>&nbsp;<span class="ident" id="6590496"><a href="/text/scanner/scanner_test.go.html#6590407">want</a></span><span class="op" id="6590500">.</span><span class="ident" id="6590501">Column</span>&nbsp;<span class="op" id="6590508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590512"><a href="/text/scanner/scanner_test.go.html#6590388">t</a></span><span class="op" id="6590513">.</span><span class="ident" id="6590514">Errorf</span><span class="op" id="6590520">(</span><span class="string" id="6590521">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="6590577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590582"><a href="/text/scanner/scanner_test.go.html#6590402">got</a></span><span class="op" id="6590585">.</span><span class="ident" id="6590586">Offset</span><span class="op" id="6590592">,</span>&nbsp;<span class="ident" id="6590594"><a href="/text/scanner/scanner_test.go.html#6590402">got</a></span><span class="op" id="6590597">.</span><span class="ident" id="6590598">Line</span><span class="op" id="6590602">,</span>&nbsp;<span class="ident" id="6590604"><a href="/text/scanner/scanner_test.go.html#6590402">got</a></span><span class="op" id="6590607">.</span><span class="ident" id="6590608">Column</span><span class="op" id="6590614">,</span>&nbsp;<span class="ident" id="6590616"><a href="/text/scanner/scanner_test.go.html#6590407">want</a></span><span class="op" id="6590620">.</span><span class="ident" id="6590621">Offset</span><span class="op" id="6590627">,</span>&nbsp;<span class="ident" id="6590629"><a href="/text/scanner/scanner_test.go.html#6590407">want</a></span><span class="op" id="6590633">.</span><span class="ident" id="6590634">Line</span><span class="op" id="6590638">,</span>&nbsp;<span class="ident" id="6590640"><a href="/text/scanner/scanner_test.go.html#6590407">want</a></span><span class="op" id="6590644">.</span><span class="ident" id="6590645">Column</span><span class="op" id="6590651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6590654">}</span><br>
<span class="lineno"></span><span class="op" id="6590656">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="6590659">func</span>&nbsp;<span class="ident" id="6590664">checkNextPos</span><span class="op" id="6590676">(</span><span class="ident" id="6590677">t</span>&nbsp;<span class="op" id="6590679">*</span><span class="ident" id="6590680"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6590687">.</span><span class="ident" id="6590688">T</span><span class="op" id="6590689">,</span>&nbsp;<span class="ident" id="6590691">s</span>&nbsp;<span class="op" id="6590693">*</span><span class="ident" id="6590694"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6590701">,</span>&nbsp;<span class="ident" id="6590703">offset</span><span class="op" id="6590709">,</span>&nbsp;<span class="ident" id="6590711">line</span><span class="op" id="6590715">,</span>&nbsp;<span class="ident" id="6590717">column</span>&nbsp;<span class="builtintype" id="6590724">int</span><span class="op" id="6590727">,</span>&nbsp;<span class="ident" id="6590729">char</span>&nbsp;<span class="builtintype" id="6590734">rune</span><span class="op" id="6590738">)</span>&nbsp;<span class="op" id="6590740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6590743">if</span>&nbsp;<span class="ident" id="6590746">ch</span>&nbsp;<span class="op" id="6590749">:=</span>&nbsp;<span class="ident" id="6590752"><a href="/text/scanner/scanner_test.go.html#6590691">s</a></span><span class="op" id="6590753">.</span><span class="ident" id="6590754">Next</span><span class="op" id="6590758">(</span><span class="op" id="6590759">)</span><span class="op" id="6590760">;</span>&nbsp;<span class="ident" id="6590762"><a href="/text/scanner/scanner_test.go.html#6590746">ch</a></span>&nbsp;<span class="op" id="6590765">!=</span>&nbsp;<span class="ident" id="6590768"><a href="/text/scanner/scanner_test.go.html#6590729">char</a></span>&nbsp;<span class="op" id="6590773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590777"><a href="/text/scanner/scanner_test.go.html#6590677">t</a></span><span class="op" id="6590778">.</span><span class="ident" id="6590779">Errorf</span><span class="op" id="6590785">(</span><span class="string" id="6590786">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6590804">,</span>&nbsp;<span class="ident" id="6590806"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6590817">(</span><span class="ident" id="6590818"><a href="/text/scanner/scanner_test.go.html#6590746">ch</a></span><span class="op" id="6590820">)</span><span class="op" id="6590821">,</span>&nbsp;<span class="ident" id="6590823"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6590834">(</span><span class="ident" id="6590835"><a href="/text/scanner/scanner_test.go.html#6590729">char</a></span><span class="op" id="6590839">)</span><span class="op" id="6590840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6590843">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590846">want</span>&nbsp;<span class="op" id="6590851">:=</span>&nbsp;<span class="ident" id="6590854"><a href="/text/scanner/scanner.go.html#6340233">Position</a></span><span class="op" id="6590862">{</span><span class="ident" id="6590863">Offset</span><span class="op" id="6590869">:</span>&nbsp;<span class="ident" id="6590871"><a href="/text/scanner/scanner_test.go.html#6590703">offset</a></span><span class="op" id="6590877">,</span>&nbsp;<span class="ident" id="6590879">Line</span><span class="op" id="6590883">:</span>&nbsp;<span class="ident" id="6590885"><a href="/text/scanner/scanner_test.go.html#6590711">line</a></span><span class="op" id="6590889">,</span>&nbsp;<span class="ident" id="6590891">Column</span><span class="op" id="6590897">:</span>&nbsp;<span class="ident" id="6590899"><a href="/text/scanner/scanner_test.go.html#6590717">column</a></span><span class="op" id="6590905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6590908"><a href="/text/scanner/scanner_test.go.html#6590379">checkPos</a></span><span class="op" id="6590916">(</span><span class="ident" id="6590917"><a href="/text/scanner/scanner_test.go.html#6590677">t</a></span><span class="op" id="6590918">,</span>&nbsp;<span class="ident" id="6590920"><a href="/text/scanner/scanner_test.go.html#6590691">s</a></span><span class="op" id="6590921">.</span><span class="ident" id="6590922">Pos</span><span class="op" id="6590925">(</span><span class="op" id="6590926">)</span><span class="op" id="6590927">,</span>&nbsp;<span class="ident" id="6590929"><a href="/text/scanner/scanner_test.go.html#6590846">want</a></span><span class="op" id="6590933">)</span><br>
<span class="lineno"></span><span class="op" id="6590935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6590938">func</span>&nbsp;<span class="ident" id="6590943">checkScanPos</span><span class="op" id="6590955">(</span><span class="ident" id="6590956">t</span>&nbsp;<span class="op" id="6590958">*</span><span class="ident" id="6590959"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6590966">.</span><span class="ident" id="6590967">T</span><span class="op" id="6590968">,</span>&nbsp;<span class="ident" id="6590970">s</span>&nbsp;<span class="op" id="6590972">*</span><span class="ident" id="6590973"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6590980">,</span>&nbsp;<span class="ident" id="6590982">offset</span><span class="op" id="6590988">,</span>&nbsp;<span class="ident" id="6590990">line</span><span class="op" id="6590994">,</span>&nbsp;<span class="ident" id="6590996">column</span>&nbsp;<span class="builtintype" id="6591003">int</span><span class="op" id="6591006">,</span>&nbsp;<span class="ident" id="6591008">char</span>&nbsp;<span class="builtintype" id="6591013">rune</span><span class="op" id="6591017">)</span>&nbsp;<span class="op" id="6591019">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591022">want</span>&nbsp;<span class="op" id="6591027">:=</span>&nbsp;<span class="ident" id="6591030"><a href="/text/scanner/scanner.go.html#6340233">Position</a></span><span class="op" id="6591038">{</span><span class="ident" id="6591039">Offset</span><span class="op" id="6591045">:</span>&nbsp;<span class="ident" id="6591047"><a href="/text/scanner/scanner_test.go.html#6590982">offset</a></span><span class="op" id="6591053">,</span>&nbsp;<span class="ident" id="6591055">Line</span><span class="op" id="6591059">:</span>&nbsp;<span class="ident" id="6591061"><a href="/text/scanner/scanner_test.go.html#6590990">line</a></span><span class="op" id="6591065">,</span>&nbsp;<span class="ident" id="6591067">Column</span><span class="op" id="6591073">:</span>&nbsp;<span class="ident" id="6591075"><a href="/text/scanner/scanner_test.go.html#6590996">column</a></span><span class="op" id="6591081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591084"><a href="/text/scanner/scanner_test.go.html#6590379">checkPos</a></span><span class="op" id="6591092">(</span><span class="ident" id="6591093"><a href="/text/scanner/scanner_test.go.html#6590956">t</a></span><span class="op" id="6591094">,</span>&nbsp;<span class="ident" id="6591096"><a href="/text/scanner/scanner_test.go.html#6590970">s</a></span><span class="op" id="6591097">.</span><span class="ident" id="6591098">Pos</span><span class="op" id="6591101">(</span><span class="op" id="6591102">)</span><span class="op" id="6591103">,</span>&nbsp;<span class="ident" id="6591105"><a href="/text/scanner/scanner_test.go.html#6591022">want</a></span><span class="op" id="6591109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6591112">if</span>&nbsp;<span class="ident" id="6591115">ch</span>&nbsp;<span class="op" id="6591118">:=</span>&nbsp;<span class="ident" id="6591121"><a href="/text/scanner/scanner_test.go.html#6590970">s</a></span><span class="op" id="6591122">.</span><span class="ident" id="6591123">Scan</span><span class="op" id="6591127">(</span><span class="op" id="6591128">)</span><span class="op" id="6591129">;</span>&nbsp;<span class="ident" id="6591131"><a href="/text/scanner/scanner_test.go.html#6591115">ch</a></span>&nbsp;<span class="op" id="6591134">!=</span>&nbsp;<span class="ident" id="6591137"><a href="/text/scanner/scanner_test.go.html#6591008">char</a></span>&nbsp;<span class="op" id="6591142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591146"><a href="/text/scanner/scanner_test.go.html#6590956">t</a></span><span class="op" id="6591147">.</span><span class="ident" id="6591148">Errorf</span><span class="op" id="6591154">(</span><span class="string" id="6591155">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6591173">,</span>&nbsp;<span class="ident" id="6591175"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6591186">(</span><span class="ident" id="6591187"><a href="/text/scanner/scanner_test.go.html#6591115">ch</a></span><span class="op" id="6591189">)</span><span class="op" id="6591190">,</span>&nbsp;<span class="ident" id="6591192"><a href="/text/scanner/scanner.go.html#6342297">TokenString</a></span><span class="op" id="6591203">(</span><span class="ident" id="6591204"><a href="/text/scanner/scanner_test.go.html#6591008">char</a></span><span class="op" id="6591208">)</span><span class="op" id="6591209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6591213">if</span>&nbsp;<span class="builtintype" id="6591216">string</span><span class="op" id="6591222">(</span><span class="ident" id="6591223"><a href="/text/scanner/scanner_test.go.html#6591115">ch</a></span><span class="op" id="6591225">)</span>&nbsp;<span class="op" id="6591227">!=</span>&nbsp;<span class="ident" id="6591230"><a href="/text/scanner/scanner_test.go.html#6590970">s</a></span><span class="op" id="6591231">.</span><span class="ident" id="6591232">TokenText</span><span class="op" id="6591241">(</span><span class="op" id="6591242">)</span>&nbsp;<span class="op" id="6591244">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591249"><a href="/text/scanner/scanner_test.go.html#6590956">t</a></span><span class="op" id="6591250">.</span><span class="ident" id="6591251">Errorf</span><span class="op" id="6591257">(</span><span class="string" id="6591258">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6591277">,</span>&nbsp;<span class="ident" id="6591279"><a href="/text/scanner/scanner_test.go.html#6590970">s</a></span><span class="op" id="6591280">.</span><span class="ident" id="6591281">TokenText</span><span class="op" id="6591290">(</span><span class="op" id="6591291">)</span><span class="op" id="6591292">,</span>&nbsp;<span class="builtintype" id="6591294">string</span><span class="op" id="6591300">(</span><span class="ident" id="6591301"><a href="/text/scanner/scanner_test.go.html#6591115">ch</a></span><span class="op" id="6591303">)</span><span class="op" id="6591304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6591308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6591311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591314"><a href="/text/scanner/scanner_test.go.html#6590379">checkPos</a></span><span class="op" id="6591322">(</span><span class="ident" id="6591323"><a href="/text/scanner/scanner_test.go.html#6590956">t</a></span><span class="op" id="6591324">,</span>&nbsp;<span class="ident" id="6591326"><a href="/text/scanner/scanner_test.go.html#6590970">s</a></span><span class="op" id="6591327">.</span><span class="ident" id="6591328">Position</span><span class="op" id="6591336">,</span>&nbsp;<span class="ident" id="6591338"><a href="/text/scanner/scanner_test.go.html#6591022">want</a></span><span class="op" id="6591342">)</span><br>
<span class="lineno"></span><span class="op" id="6591344">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="6591347">func</span>&nbsp;<span class="ident" id="6591352">TestPos</span><span class="op" id="6591359">(</span><span class="ident" id="6591360">t</span>&nbsp;<span class="op" id="6591362">*</span><span class="ident" id="6591363"><a href="/text/scanner/scanner_test.go.html#6577608">testing</a></span><span class="op" id="6591370">.</span><span class="ident" id="6591371">T</span><span class="op" id="6591372">)</span>&nbsp;<span class="op" id="6591374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6591377">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591407">s</span>&nbsp;<span class="op" id="6591409">:=</span>&nbsp;<span class="builtinfunc" id="6591412">new</span><span class="op" id="6591415">(</span><span class="ident" id="6591416"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6591423">)</span><span class="op" id="6591424">.</span><span class="ident" id="6591425">Init</span><span class="op" id="6591429">(</span><span class="ident" id="6591430"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6591437">.</span><span class="ident" id="6591438">NewReader</span><span class="op" id="6591447">(</span><span class="string" id="6591448">&#34;&#34;</span><span class="op" id="6591450">)</span><span class="op" id="6591451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591454"><a href="/text/scanner/scanner_test.go.html#6590379">checkPos</a></span><span class="op" id="6591462">(</span><span class="ident" id="6591463"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6591464">,</span>&nbsp;<span class="ident" id="6591466"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6591467">.</span><span class="ident" id="6591468">Pos</span><span class="op" id="6591471">(</span><span class="op" id="6591472">)</span><span class="op" id="6591473">,</span>&nbsp;<span class="ident" id="6591475"><a href="/text/scanner/scanner.go.html#6340233">Position</a></span><span class="op" id="6591483">{</span><span class="ident" id="6591484">Offset</span><span class="op" id="6591490">:</span>&nbsp;<span class="num" id="6591492">0</span><span class="op" id="6591493">,</span>&nbsp;<span class="ident" id="6591495">Line</span><span class="op" id="6591499">:</span>&nbsp;<span class="num" id="6591501">1</span><span class="op" id="6591502">,</span>&nbsp;<span class="ident" id="6591504">Column</span><span class="op" id="6591510">:</span>&nbsp;<span class="num" id="6591512">1</span><span class="op" id="6591513">}</span><span class="op" id="6591514">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591517"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6591518">.</span><span class="ident" id="6591519">Peek</span><span class="op" id="6591523">(</span><span class="op" id="6591524">)</span>&nbsp;<span class="comment" id="6591526">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591563"><a href="/text/scanner/scanner_test.go.html#6590379">checkPos</a></span><span class="op" id="6591571">(</span><span class="ident" id="6591572"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6591573">,</span>&nbsp;<span class="ident" id="6591575"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6591576">.</span><span class="ident" id="6591577">Pos</span><span class="op" id="6591580">(</span><span class="op" id="6591581">)</span><span class="op" id="6591582">,</span>&nbsp;<span class="ident" id="6591584"><a href="/text/scanner/scanner.go.html#6340233">Position</a></span><span class="op" id="6591592">{</span><span class="ident" id="6591593">Offset</span><span class="op" id="6591599">:</span>&nbsp;<span class="num" id="6591601">0</span><span class="op" id="6591602">,</span>&nbsp;<span class="ident" id="6591604">Line</span><span class="op" id="6591608">:</span>&nbsp;<span class="num" id="6591610">1</span><span class="op" id="6591611">,</span>&nbsp;<span class="ident" id="6591613">Column</span><span class="op" id="6591619">:</span>&nbsp;<span class="num" id="6591621">1</span><span class="op" id="6591622">}</span><span class="op" id="6591623">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6591627">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591671"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span>&nbsp;<span class="op" id="6591673">=</span>&nbsp;<span class="builtinfunc" id="6591675">new</span><span class="op" id="6591678">(</span><span class="ident" id="6591679"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6591686">)</span><span class="op" id="6591687">.</span><span class="ident" id="6591688">Init</span><span class="op" id="6591692">(</span><span class="ident" id="6591693"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6591700">.</span><span class="ident" id="6591701">NewReader</span><span class="op" id="6591710">(</span><span class="string" id="6591711">&#34;\n&#34;</span><span class="op" id="6591715">)</span><span class="op" id="6591716">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591719"><a href="/text/scanner/scanner_test.go.html#6590379">checkPos</a></span><span class="op" id="6591727">(</span><span class="ident" id="6591728"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6591729">,</span>&nbsp;<span class="ident" id="6591731"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6591732">.</span><span class="ident" id="6591733">Pos</span><span class="op" id="6591736">(</span><span class="op" id="6591737">)</span><span class="op" id="6591738">,</span>&nbsp;<span class="ident" id="6591740"><a href="/text/scanner/scanner.go.html#6340233">Position</a></span><span class="op" id="6591748">{</span><span class="ident" id="6591749">Offset</span><span class="op" id="6591755">:</span>&nbsp;<span class="num" id="6591757">0</span><span class="op" id="6591758">,</span>&nbsp;<span class="ident" id="6591760">Line</span><span class="op" id="6591764">:</span>&nbsp;<span class="num" id="6591766">1</span><span class="op" id="6591767">,</span>&nbsp;<span class="ident" id="6591769">Column</span><span class="op" id="6591775">:</span>&nbsp;<span class="num" id="6591777">1</span><span class="op" id="6591778">}</span><span class="op" id="6591779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591782"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6591794">(</span><span class="ident" id="6591795"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6591796">,</span>&nbsp;<span class="ident" id="6591798"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6591799">,</span>&nbsp;<span class="num" id="6591801">1</span><span class="op" id="6591802">,</span>&nbsp;<span class="num" id="6591804">2</span><span class="op" id="6591805">,</span>&nbsp;<span class="num" id="6591807">1</span><span class="op" id="6591808">,</span>&nbsp;<span class="string" id="6591810">&#39;\n&#39;</span><span class="op" id="6591814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6591817">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6591855">for</span>&nbsp;<span class="ident" id="6591859">i</span>&nbsp;<span class="op" id="6591861">:=</span>&nbsp;<span class="num" id="6591864">10</span><span class="op" id="6591866">;</span>&nbsp;<span class="ident" id="6591868"><a href="/text/scanner/scanner_test.go.html#6591859">i</a></span>&nbsp;<span class="op" id="6591870">&gt;</span>&nbsp;<span class="num" id="6591872">0</span><span class="op" id="6591873">;</span>&nbsp;<span class="ident" id="6591875"><a href="/text/scanner/scanner_test.go.html#6591859">i</a></span><span class="op" id="6591876">--</span>&nbsp;<span class="op" id="6591879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591883"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6591895">(</span><span class="ident" id="6591896"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6591897">,</span>&nbsp;<span class="ident" id="6591899"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6591900">,</span>&nbsp;<span class="num" id="6591902">1</span><span class="op" id="6591903">,</span>&nbsp;<span class="num" id="6591905">2</span><span class="op" id="6591906">,</span>&nbsp;<span class="num" id="6591908">1</span><span class="op" id="6591909">,</span>&nbsp;<span class="ident" id="6591911"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span><span class="op" id="6591914">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6591917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6591920">if</span>&nbsp;<span class="ident" id="6591923"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6591924">.</span><span class="ident" id="6591925">ErrorCount</span>&nbsp;<span class="op" id="6591936">!=</span>&nbsp;<span class="num" id="6591939">0</span>&nbsp;<span class="op" id="6591941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6591945"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6591946">.</span><span class="ident" id="6591947">Errorf</span><span class="op" id="6591953">(</span><span class="string" id="6591954">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6591965">,</span>&nbsp;<span class="ident" id="6591967"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6591968">.</span><span class="ident" id="6591969">ErrorCount</span><span class="op" id="6591979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6591982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6591986">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592039"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span>&nbsp;<span class="op" id="6592041">=</span>&nbsp;<span class="builtinfunc" id="6592043">new</span><span class="op" id="6592046">(</span><span class="ident" id="6592047"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6592054">)</span><span class="op" id="6592055">.</span><span class="ident" id="6592056">Init</span><span class="op" id="6592060">(</span><span class="ident" id="6592061"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6592068">.</span><span class="ident" id="6592069">NewReader</span><span class="op" id="6592078">(</span><span class="string" id="6592079">&#34;本&#34;</span><span class="op" id="6592084">)</span><span class="op" id="6592085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592088"><a href="/text/scanner/scanner_test.go.html#6590379">checkPos</a></span><span class="op" id="6592096">(</span><span class="ident" id="6592097"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592098">,</span>&nbsp;<span class="ident" id="6592100"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592101">.</span><span class="ident" id="6592102">Pos</span><span class="op" id="6592105">(</span><span class="op" id="6592106">)</span><span class="op" id="6592107">,</span>&nbsp;<span class="ident" id="6592109"><a href="/text/scanner/scanner.go.html#6340233">Position</a></span><span class="op" id="6592117">{</span><span class="ident" id="6592118">Offset</span><span class="op" id="6592124">:</span>&nbsp;<span class="num" id="6592126">0</span><span class="op" id="6592127">,</span>&nbsp;<span class="ident" id="6592129">Line</span><span class="op" id="6592133">:</span>&nbsp;<span class="num" id="6592135">1</span><span class="op" id="6592136">,</span>&nbsp;<span class="ident" id="6592138">Column</span><span class="op" id="6592144">:</span>&nbsp;<span class="num" id="6592146">1</span><span class="op" id="6592147">}</span><span class="op" id="6592148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592151"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592163">(</span><span class="ident" id="6592164"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592165">,</span>&nbsp;<span class="ident" id="6592167"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592168">,</span>&nbsp;<span class="num" id="6592170">3</span><span class="op" id="6592171">,</span>&nbsp;<span class="num" id="6592173">1</span><span class="op" id="6592174">,</span>&nbsp;<span class="num" id="6592176">2</span><span class="op" id="6592177">,</span>&nbsp;<span class="string" id="6592179">&#39;本&#39;</span><span class="op" id="6592184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6592187">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6592225">for</span>&nbsp;<span class="ident" id="6592229">i</span>&nbsp;<span class="op" id="6592231">:=</span>&nbsp;<span class="num" id="6592234">10</span><span class="op" id="6592236">;</span>&nbsp;<span class="ident" id="6592238"><a href="/text/scanner/scanner_test.go.html#6592229">i</a></span>&nbsp;<span class="op" id="6592240">&gt;</span>&nbsp;<span class="num" id="6592242">0</span><span class="op" id="6592243">;</span>&nbsp;<span class="ident" id="6592245"><a href="/text/scanner/scanner_test.go.html#6592229">i</a></span><span class="op" id="6592246">--</span>&nbsp;<span class="op" id="6592249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592253"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6592265">(</span><span class="ident" id="6592266"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592267">,</span>&nbsp;<span class="ident" id="6592269"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592270">,</span>&nbsp;<span class="num" id="6592272">3</span><span class="op" id="6592273">,</span>&nbsp;<span class="num" id="6592275">1</span><span class="op" id="6592276">,</span>&nbsp;<span class="num" id="6592278">2</span><span class="op" id="6592279">,</span>&nbsp;<span class="ident" id="6592281"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span><span class="op" id="6592284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6592287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6592290">if</span>&nbsp;<span class="ident" id="6592293"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592294">.</span><span class="ident" id="6592295">ErrorCount</span>&nbsp;<span class="op" id="6592306">!=</span>&nbsp;<span class="num" id="6592309">0</span>&nbsp;<span class="op" id="6592311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592315"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592316">.</span><span class="ident" id="6592317">Errorf</span><span class="op" id="6592323">(</span><span class="string" id="6592324">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6592335">,</span>&nbsp;<span class="ident" id="6592337"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592338">.</span><span class="ident" id="6592339">ErrorCount</span><span class="op" id="6592349">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6592352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6592356">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592389"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span>&nbsp;<span class="op" id="6592391">=</span>&nbsp;<span class="builtinfunc" id="6592393">new</span><span class="op" id="6592396">(</span><span class="ident" id="6592397"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6592404">)</span><span class="op" id="6592405">.</span><span class="ident" id="6592406">Init</span><span class="op" id="6592410">(</span><span class="ident" id="6592411"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6592418">.</span><span class="ident" id="6592419">NewReader</span><span class="op" id="6592428">(</span><span class="string" id="6592429">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="6592456">)</span><span class="op" id="6592457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592460"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592472">(</span><span class="ident" id="6592473"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592474">,</span>&nbsp;<span class="ident" id="6592476"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592477">,</span>&nbsp;<span class="num" id="6592479">1</span><span class="op" id="6592480">,</span>&nbsp;<span class="num" id="6592482">1</span><span class="op" id="6592483">,</span>&nbsp;<span class="num" id="6592485">2</span><span class="op" id="6592486">,</span>&nbsp;<span class="string" id="6592488">&#39;&nbsp;&#39;</span><span class="op" id="6592491">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592494"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592495">.</span><span class="ident" id="6592496">Peek</span><span class="op" id="6592500">(</span><span class="op" id="6592501">)</span>&nbsp;<span class="comment" id="6592503">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592540"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592552">(</span><span class="ident" id="6592553"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592554">,</span>&nbsp;<span class="ident" id="6592556"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592557">,</span>&nbsp;<span class="num" id="6592559">2</span><span class="op" id="6592560">,</span>&nbsp;<span class="num" id="6592562">1</span><span class="op" id="6592563">,</span>&nbsp;<span class="num" id="6592565">3</span><span class="op" id="6592566">,</span>&nbsp;<span class="string" id="6592568">&#39;&nbsp;&#39;</span><span class="op" id="6592571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592574"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592586">(</span><span class="ident" id="6592587"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592588">,</span>&nbsp;<span class="ident" id="6592590"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592591">,</span>&nbsp;<span class="num" id="6592593">3</span><span class="op" id="6592594">,</span>&nbsp;<span class="num" id="6592596">1</span><span class="op" id="6592597">,</span>&nbsp;<span class="num" id="6592599">4</span><span class="op" id="6592600">,</span>&nbsp;<span class="string" id="6592602">&#39;f&#39;</span><span class="op" id="6592605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592608"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592620">(</span><span class="ident" id="6592621"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592622">,</span>&nbsp;<span class="ident" id="6592624"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592625">,</span>&nbsp;<span class="num" id="6592627">4</span><span class="op" id="6592628">,</span>&nbsp;<span class="num" id="6592630">1</span><span class="op" id="6592631">,</span>&nbsp;<span class="num" id="6592633">5</span><span class="op" id="6592634">,</span>&nbsp;<span class="string" id="6592636">&#39;o&#39;</span><span class="op" id="6592639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592642"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592654">(</span><span class="ident" id="6592655"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592656">,</span>&nbsp;<span class="ident" id="6592658"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592659">,</span>&nbsp;<span class="num" id="6592661">5</span><span class="op" id="6592662">,</span>&nbsp;<span class="num" id="6592664">1</span><span class="op" id="6592665">,</span>&nbsp;<span class="num" id="6592667">6</span><span class="op" id="6592668">,</span>&nbsp;<span class="string" id="6592670">&#39;o&#39;</span><span class="op" id="6592673">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592676"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592688">(</span><span class="ident" id="6592689"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592690">,</span>&nbsp;<span class="ident" id="6592692"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592693">,</span>&nbsp;<span class="num" id="6592695">8</span><span class="op" id="6592696">,</span>&nbsp;<span class="num" id="6592698">1</span><span class="op" id="6592699">,</span>&nbsp;<span class="num" id="6592701">7</span><span class="op" id="6592702">,</span>&nbsp;<span class="string" id="6592704">&#39;६&#39;</span><span class="op" id="6592709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592712"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592724">(</span><span class="ident" id="6592725"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592726">,</span>&nbsp;<span class="ident" id="6592728"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592729">,</span>&nbsp;<span class="num" id="6592731">11</span><span class="op" id="6592733">,</span>&nbsp;<span class="num" id="6592735">1</span><span class="op" id="6592736">,</span>&nbsp;<span class="num" id="6592738">8</span><span class="op" id="6592739">,</span>&nbsp;<span class="string" id="6592741">&#39;४&#39;</span><span class="op" id="6592746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592749"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592761">(</span><span class="ident" id="6592762"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592763">,</span>&nbsp;<span class="ident" id="6592765"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592766">,</span>&nbsp;<span class="num" id="6592768">12</span><span class="op" id="6592770">,</span>&nbsp;<span class="num" id="6592772">1</span><span class="op" id="6592773">,</span>&nbsp;<span class="num" id="6592775">9</span><span class="op" id="6592776">,</span>&nbsp;<span class="string" id="6592778">&#39;&nbsp;&#39;</span><span class="op" id="6592781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592784"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592796">(</span><span class="ident" id="6592797"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592798">,</span>&nbsp;<span class="ident" id="6592800"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592801">,</span>&nbsp;<span class="num" id="6592803">13</span><span class="op" id="6592805">,</span>&nbsp;<span class="num" id="6592807">1</span><span class="op" id="6592808">,</span>&nbsp;<span class="num" id="6592810">10</span><span class="op" id="6592812">,</span>&nbsp;<span class="string" id="6592814">&#39;&nbsp;&#39;</span><span class="op" id="6592817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592820"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592832">(</span><span class="ident" id="6592833"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592834">,</span>&nbsp;<span class="ident" id="6592836"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592837">,</span>&nbsp;<span class="num" id="6592839">14</span><span class="op" id="6592841">,</span>&nbsp;<span class="num" id="6592843">2</span><span class="op" id="6592844">,</span>&nbsp;<span class="num" id="6592846">1</span><span class="op" id="6592847">,</span>&nbsp;<span class="string" id="6592849">&#39;\n&#39;</span><span class="op" id="6592853">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592856"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592868">(</span><span class="ident" id="6592869"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592870">,</span>&nbsp;<span class="ident" id="6592872"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592873">,</span>&nbsp;<span class="num" id="6592875">15</span><span class="op" id="6592877">,</span>&nbsp;<span class="num" id="6592879">3</span><span class="op" id="6592880">,</span>&nbsp;<span class="num" id="6592882">1</span><span class="op" id="6592883">,</span>&nbsp;<span class="string" id="6592885">&#39;\n&#39;</span><span class="op" id="6592889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592892"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592904">(</span><span class="ident" id="6592905"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592906">,</span>&nbsp;<span class="ident" id="6592908"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592909">,</span>&nbsp;<span class="num" id="6592911">18</span><span class="op" id="6592913">,</span>&nbsp;<span class="num" id="6592915">3</span><span class="op" id="6592916">,</span>&nbsp;<span class="num" id="6592918">2</span><span class="op" id="6592919">,</span>&nbsp;<span class="string" id="6592921">&#39;本&#39;</span><span class="op" id="6592926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592929"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592941">(</span><span class="ident" id="6592942"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592943">,</span>&nbsp;<span class="ident" id="6592945"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592946">,</span>&nbsp;<span class="num" id="6592948">21</span><span class="op" id="6592950">,</span>&nbsp;<span class="num" id="6592952">3</span><span class="op" id="6592953">,</span>&nbsp;<span class="num" id="6592955">3</span><span class="op" id="6592956">,</span>&nbsp;<span class="string" id="6592958">&#39;語&#39;</span><span class="op" id="6592963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6592966"><a href="/text/scanner/scanner_test.go.html#6590664">checkNextPos</a></span><span class="op" id="6592978">(</span><span class="ident" id="6592979"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6592980">,</span>&nbsp;<span class="ident" id="6592982"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6592983">,</span>&nbsp;<span class="num" id="6592985">22</span><span class="op" id="6592987">,</span>&nbsp;<span class="num" id="6592989">4</span><span class="op" id="6592990">,</span>&nbsp;<span class="num" id="6592992">1</span><span class="op" id="6592993">,</span>&nbsp;<span class="string" id="6592995">&#39;\n&#39;</span><span class="op" id="6592999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6593002">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6593040">for</span>&nbsp;<span class="ident" id="6593044">i</span>&nbsp;<span class="op" id="6593046">:=</span>&nbsp;<span class="num" id="6593049">10</span><span class="op" id="6593051">;</span>&nbsp;<span class="ident" id="6593053"><a href="/text/scanner/scanner_test.go.html#6593044">i</a></span>&nbsp;<span class="op" id="6593055">&gt;</span>&nbsp;<span class="num" id="6593057">0</span><span class="op" id="6593058">;</span>&nbsp;<span class="ident" id="6593060"><a href="/text/scanner/scanner_test.go.html#6593044">i</a></span><span class="op" id="6593061">--</span>&nbsp;<span class="op" id="6593064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593068"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593080">(</span><span class="ident" id="6593081"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593082">,</span>&nbsp;<span class="ident" id="6593084"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593085">,</span>&nbsp;<span class="num" id="6593087">22</span><span class="op" id="6593089">,</span>&nbsp;<span class="num" id="6593091">4</span><span class="op" id="6593092">,</span>&nbsp;<span class="num" id="6593094">1</span><span class="op" id="6593095">,</span>&nbsp;<span class="ident" id="6593097"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span><span class="op" id="6593100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6593106">if</span>&nbsp;<span class="ident" id="6593109"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593110">.</span><span class="ident" id="6593111">ErrorCount</span>&nbsp;<span class="op" id="6593122">!=</span>&nbsp;<span class="num" id="6593125">0</span>&nbsp;<span class="op" id="6593127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593131"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593132">.</span><span class="ident" id="6593133">Errorf</span><span class="op" id="6593139">(</span><span class="string" id="6593140">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6593151">,</span>&nbsp;<span class="ident" id="6593153"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593154">.</span><span class="ident" id="6593155">ErrorCount</span><span class="op" id="6593165">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6593172">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593205"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span>&nbsp;<span class="op" id="6593207">=</span>&nbsp;<span class="builtinfunc" id="6593209">new</span><span class="op" id="6593212">(</span><span class="ident" id="6593213"><a href="/text/scanner/scanner.go.html#6342742">Scanner</a></span><span class="op" id="6593220">)</span><span class="op" id="6593221">.</span><span class="ident" id="6593222">Init</span><span class="op" id="6593226">(</span><span class="ident" id="6593227"><a href="/text/scanner/scanner_test.go.html#6577597">strings</a></span><span class="op" id="6593234">.</span><span class="ident" id="6593235">NewReader</span><span class="op" id="6593244">(</span><span class="string" id="6593245">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="6593263">)</span><span class="op" id="6593264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593267"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593268">.</span><span class="ident" id="6593269">Mode</span>&nbsp;<span class="op" id="6593274">=</span>&nbsp;<span class="num" id="6593276">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593279"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593280">.</span><span class="ident" id="6593281">Whitespace</span>&nbsp;<span class="op" id="6593292">=</span>&nbsp;<span class="num" id="6593294">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593297"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593309">(</span><span class="ident" id="6593310"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593311">,</span>&nbsp;<span class="ident" id="6593313"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593314">,</span>&nbsp;<span class="num" id="6593316">0</span><span class="op" id="6593317">,</span>&nbsp;<span class="num" id="6593319">1</span><span class="op" id="6593320">,</span>&nbsp;<span class="num" id="6593322">1</span><span class="op" id="6593323">,</span>&nbsp;<span class="string" id="6593325">&#39;a&#39;</span><span class="op" id="6593328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593331"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593332">.</span><span class="ident" id="6593333">Peek</span><span class="op" id="6593337">(</span><span class="op" id="6593338">)</span>&nbsp;<span class="comment" id="6593340">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593377"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593389">(</span><span class="ident" id="6593390"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593391">,</span>&nbsp;<span class="ident" id="6593393"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593394">,</span>&nbsp;<span class="num" id="6593396">1</span><span class="op" id="6593397">,</span>&nbsp;<span class="num" id="6593399">1</span><span class="op" id="6593400">,</span>&nbsp;<span class="num" id="6593402">2</span><span class="op" id="6593403">,</span>&nbsp;<span class="string" id="6593405">&#39;b&#39;</span><span class="op" id="6593408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593411"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593423">(</span><span class="ident" id="6593424"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593425">,</span>&nbsp;<span class="ident" id="6593427"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593428">,</span>&nbsp;<span class="num" id="6593430">2</span><span class="op" id="6593431">,</span>&nbsp;<span class="num" id="6593433">1</span><span class="op" id="6593434">,</span>&nbsp;<span class="num" id="6593436">3</span><span class="op" id="6593437">,</span>&nbsp;<span class="string" id="6593439">&#39;c&#39;</span><span class="op" id="6593442">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593445"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593457">(</span><span class="ident" id="6593458"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593459">,</span>&nbsp;<span class="ident" id="6593461"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593462">,</span>&nbsp;<span class="num" id="6593464">3</span><span class="op" id="6593465">,</span>&nbsp;<span class="num" id="6593467">1</span><span class="op" id="6593468">,</span>&nbsp;<span class="num" id="6593470">4</span><span class="op" id="6593471">,</span>&nbsp;<span class="string" id="6593473">&#39;\n&#39;</span><span class="op" id="6593477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593480"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593492">(</span><span class="ident" id="6593493"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593494">,</span>&nbsp;<span class="ident" id="6593496"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593497">,</span>&nbsp;<span class="num" id="6593499">4</span><span class="op" id="6593500">,</span>&nbsp;<span class="num" id="6593502">2</span><span class="op" id="6593503">,</span>&nbsp;<span class="num" id="6593505">1</span><span class="op" id="6593506">,</span>&nbsp;<span class="string" id="6593508">&#39;本&#39;</span><span class="op" id="6593513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593516"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593528">(</span><span class="ident" id="6593529"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593530">,</span>&nbsp;<span class="ident" id="6593532"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593533">,</span>&nbsp;<span class="num" id="6593535">7</span><span class="op" id="6593536">,</span>&nbsp;<span class="num" id="6593538">2</span><span class="op" id="6593539">,</span>&nbsp;<span class="num" id="6593541">2</span><span class="op" id="6593542">,</span>&nbsp;<span class="string" id="6593544">&#39;語&#39;</span><span class="op" id="6593549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593552"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593564">(</span><span class="ident" id="6593565"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593566">,</span>&nbsp;<span class="ident" id="6593568"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593569">,</span>&nbsp;<span class="num" id="6593571">10</span><span class="op" id="6593573">,</span>&nbsp;<span class="num" id="6593575">2</span><span class="op" id="6593576">,</span>&nbsp;<span class="num" id="6593578">3</span><span class="op" id="6593579">,</span>&nbsp;<span class="string" id="6593581">&#39;\n&#39;</span><span class="op" id="6593585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593588"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593600">(</span><span class="ident" id="6593601"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593602">,</span>&nbsp;<span class="ident" id="6593604"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593605">,</span>&nbsp;<span class="num" id="6593607">11</span><span class="op" id="6593609">,</span>&nbsp;<span class="num" id="6593611">3</span><span class="op" id="6593612">,</span>&nbsp;<span class="num" id="6593614">1</span><span class="op" id="6593615">,</span>&nbsp;<span class="string" id="6593617">&#39;\n&#39;</span><span class="op" id="6593621">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593624"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593636">(</span><span class="ident" id="6593637"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593638">,</span>&nbsp;<span class="ident" id="6593640"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593641">,</span>&nbsp;<span class="num" id="6593643">12</span><span class="op" id="6593645">,</span>&nbsp;<span class="num" id="6593647">4</span><span class="op" id="6593648">,</span>&nbsp;<span class="num" id="6593650">1</span><span class="op" id="6593651">,</span>&nbsp;<span class="string" id="6593653">&#39;x&#39;</span><span class="op" id="6593656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6593659">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6593697">for</span>&nbsp;<span class="ident" id="6593701">i</span>&nbsp;<span class="op" id="6593703">:=</span>&nbsp;<span class="num" id="6593706">10</span><span class="op" id="6593708">;</span>&nbsp;<span class="ident" id="6593710"><a href="/text/scanner/scanner_test.go.html#6593701">i</a></span>&nbsp;<span class="op" id="6593712">&gt;</span>&nbsp;<span class="num" id="6593714">0</span><span class="op" id="6593715">;</span>&nbsp;<span class="ident" id="6593717"><a href="/text/scanner/scanner_test.go.html#6593701">i</a></span><span class="op" id="6593718">--</span>&nbsp;<span class="op" id="6593721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593725"><a href="/text/scanner/scanner_test.go.html#6590943">checkScanPos</a></span><span class="op" id="6593737">(</span><span class="ident" id="6593738"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593739">,</span>&nbsp;<span class="ident" id="6593741"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593742">,</span>&nbsp;<span class="num" id="6593744">13</span><span class="op" id="6593746">,</span>&nbsp;<span class="num" id="6593748">4</span><span class="op" id="6593749">,</span>&nbsp;<span class="num" id="6593751">2</span><span class="op" id="6593752">,</span>&nbsp;<span class="ident" id="6593754"><a href="/text/scanner/scanner.go.html#6341921">EOF</a></span><span class="op" id="6593757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593760">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6593763">if</span>&nbsp;<span class="ident" id="6593766"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593767">.</span><span class="ident" id="6593768">ErrorCount</span>&nbsp;<span class="op" id="6593779">!=</span>&nbsp;<span class="num" id="6593782">0</span>&nbsp;<span class="op" id="6593784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6593788"><a href="/text/scanner/scanner_test.go.html#6591360">t</a></span><span class="op" id="6593789">.</span><span class="ident" id="6593790">Errorf</span><span class="op" id="6593796">(</span><span class="string" id="6593797">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6593808">,</span>&nbsp;<span class="ident" id="6593810"><a href="/text/scanner/scanner_test.go.html#6591407">s</a></span><span class="op" id="6593811">.</span><span class="ident" id="6593812">ErrorCount</span><span class="op" id="6593822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6593825">}</span><br>
<span class="lineno"></span><span class="op" id="6593827">}</span>
</div>
</body>
</html>
