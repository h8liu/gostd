<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7447217">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7447272">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7447326">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7447377">package</span>&nbsp;<span class="ident" id="7447385">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7447395">import</span>&nbsp;<span class="op" id="7447402">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7447405">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7447415">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7447418">func</span>&nbsp;<span class="ident" id="7447423">TestURLNormalizer</span><span class="op" id="7447440">(</span><span class="ident" id="7447441">t</span>&nbsp;<span class="op" id="7447443">*</span><span class="ident" id="7447444">testing</span><span class="op" id="7447451">.</span><span class="ident" id="7447452">T</span><span class="op" id="7447453">)</span>&nbsp;<span class="op" id="7447455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447458">tests</span>&nbsp;<span class="op" id="7447464">:=</span>&nbsp;<span class="op" id="7447467">[</span><span class="op" id="7447468">]</span><span class="keyword" id="7447469">struct</span>&nbsp;<span class="op" id="7447476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447480">url</span><span class="op" id="7447483">,</span>&nbsp;<span class="ident" id="7447485">want</span>&nbsp;<span class="builtintype" id="7447490">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447498">}</span><span class="op" id="7447499">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447503">{</span><span class="string" id="7447504">&#34;&#34;</span><span class="op" id="7447506">,</span>&nbsp;<span class="string" id="7447508">&#34;&#34;</span><span class="op" id="7447510">}</span><span class="op" id="7447511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7447520">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7447573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7447578">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7447631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447635">}</span><span class="op" id="7447636">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447640">{</span><span class="string" id="7447641">&#34;&nbsp;&#34;</span><span class="op" id="7447644">,</span>&nbsp;<span class="string" id="7447646">&#34;%20&#34;</span><span class="op" id="7447651">}</span><span class="op" id="7447652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447656">{</span><span class="string" id="7447657">&#34;%7c&#34;</span><span class="op" id="7447662">,</span>&nbsp;<span class="string" id="7447664">&#34;%7c&#34;</span><span class="op" id="7447669">}</span><span class="op" id="7447670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447674">{</span><span class="string" id="7447675">&#34;%7C&#34;</span><span class="op" id="7447680">,</span>&nbsp;<span class="string" id="7447682">&#34;%7C&#34;</span><span class="op" id="7447687">}</span><span class="op" id="7447688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447692">{</span><span class="string" id="7447693">&#34;%2&#34;</span><span class="op" id="7447697">,</span>&nbsp;<span class="string" id="7447699">&#34;%252&#34;</span><span class="op" id="7447705">}</span><span class="op" id="7447706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447710">{</span><span class="string" id="7447711">&#34;%&#34;</span><span class="op" id="7447714">,</span>&nbsp;<span class="string" id="7447716">&#34;%25&#34;</span><span class="op" id="7447721">}</span><span class="op" id="7447722">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447726">{</span><span class="string" id="7447727">&#34;%z&#34;</span><span class="op" id="7447731">,</span>&nbsp;<span class="string" id="7447733">&#34;%25z&#34;</span><span class="op" id="7447739">}</span><span class="op" id="7447740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447744">{</span><span class="string" id="7447745">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="7447765">,</span>&nbsp;<span class="string" id="7447767">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="7447792">}</span><span class="op" id="7447793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447799">for</span>&nbsp;<span class="ident" id="7447803">_</span><span class="op" id="7447804">,</span>&nbsp;<span class="ident" id="7447806">test</span>&nbsp;<span class="op" id="7447811">:=</span>&nbsp;<span class="keyword" id="7447814">range</span>&nbsp;<span class="ident" id="7447820">tests</span>&nbsp;<span class="op" id="7447826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447830">if</span>&nbsp;<span class="ident" id="7447833">got</span>&nbsp;<span class="op" id="7447837">:=</span>&nbsp;<span class="ident" id="7447840">urlNormalizer</span><span class="op" id="7447853">(</span><span class="ident" id="7447854">test</span><span class="op" id="7447858">.</span><span class="ident" id="7447859">url</span><span class="op" id="7447862">)</span><span class="op" id="7447863">;</span>&nbsp;<span class="ident" id="7447865">test</span><span class="op" id="7447869">.</span><span class="ident" id="7447870">want</span>&nbsp;<span class="op" id="7447875">!=</span>&nbsp;<span class="ident" id="7447878">got</span>&nbsp;<span class="op" id="7447882">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447887">t</span><span class="op" id="7447888">.</span><span class="ident" id="7447889">Errorf</span><span class="op" id="7447895">(</span><span class="string" id="7447896">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="7447927">,</span>&nbsp;<span class="ident" id="7447929">test</span><span class="op" id="7447933">.</span><span class="ident" id="7447934">url</span><span class="op" id="7447937">,</span>&nbsp;<span class="ident" id="7447939">test</span><span class="op" id="7447943">.</span><span class="ident" id="7447944">want</span><span class="op" id="7447948">,</span>&nbsp;<span class="ident" id="7447950">got</span><span class="op" id="7447953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447961">if</span>&nbsp;<span class="ident" id="7447964">test</span><span class="op" id="7447968">.</span><span class="ident" id="7447969">want</span>&nbsp;<span class="op" id="7447974">!=</span>&nbsp;<span class="ident" id="7447977">urlNormalizer</span><span class="op" id="7447990">(</span><span class="ident" id="7447991">test</span><span class="op" id="7447995">.</span><span class="ident" id="7447996">want</span><span class="op" id="7448000">)</span>&nbsp;<span class="op" id="7448002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448007">t</span><span class="op" id="7448008">.</span><span class="ident" id="7448009">Errorf</span><span class="op" id="7448015">(</span><span class="string" id="7448016">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="7448036">,</span>&nbsp;<span class="ident" id="7448038">test</span><span class="op" id="7448042">.</span><span class="ident" id="7448043">want</span><span class="op" id="7448047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448051">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448054">}</span><br>
<span class="lineno"></span><span class="op" id="7448056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7448059">func</span>&nbsp;<span class="ident" id="7448064">TestURLFilters</span><span class="op" id="7448078">(</span><span class="ident" id="7448079">t</span>&nbsp;<span class="op" id="7448081">*</span><span class="ident" id="7448082">testing</span><span class="op" id="7448089">.</span><span class="ident" id="7448090">T</span><span class="op" id="7448091">)</span>&nbsp;<span class="op" id="7448093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448096">input</span>&nbsp;<span class="op" id="7448102">:=</span>&nbsp;<span class="op" id="7448105">(</span><span class="string" id="7448106">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="7448167">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448171">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="7448238">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448242">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="7448261">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448265">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="7448284">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448288">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="7448307">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448311">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="7448330">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448334">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7448353">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448357">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="7448379">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448383">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="7448425">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448429">tests</span>&nbsp;<span class="op" id="7448435">:=</span>&nbsp;<span class="op" id="7448438">[</span><span class="op" id="7448439">]</span><span class="keyword" id="7448440">struct</span>&nbsp;<span class="op" id="7448447">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448451">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7448459">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448468">escaper</span>&nbsp;<span class="keyword" id="7448476">func</span><span class="op" id="7448480">(</span><span class="op" id="7448481">...</span><span class="keyword" id="7448484">interface</span><span class="op" id="7448493">{</span><span class="op" id="7448494">}</span><span class="op" id="7448495">)</span>&nbsp;<span class="builtintype" id="7448497">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448506">escaped</span>&nbsp;<span class="builtintype" id="7448514">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448522">}</span><span class="op" id="7448523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448527">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448532">&#34;urlEscaper&#34;</span><span class="op" id="7448544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448549">urlEscaper</span><span class="op" id="7448559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448564">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7448615">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448621">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7448672">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448678">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="7448725">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448731">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="7448762">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448768">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7448789">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448795">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="7448822">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448828">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7448849">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448855">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7448882">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448888">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7448941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448945">}</span><span class="op" id="7448946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448955">&#34;urlNormalizer&#34;</span><span class="op" id="7448970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448975">urlNormalizer</span><span class="op" id="7448988">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448993">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7449044">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449050">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7449101">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449107">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="7449138">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449144">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="7449167">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449173">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7449192">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449198">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="7449221">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449227">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7449248">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449254">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7449281">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449287">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7449340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449344">}</span><span class="op" id="7449345">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449352">for</span>&nbsp;<span class="ident" id="7449356">_</span><span class="op" id="7449357">,</span>&nbsp;<span class="ident" id="7449359">test</span>&nbsp;<span class="op" id="7449364">:=</span>&nbsp;<span class="keyword" id="7449367">range</span>&nbsp;<span class="ident" id="7449373">tests</span>&nbsp;<span class="op" id="7449379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449383">if</span>&nbsp;<span class="ident" id="7449386">s</span>&nbsp;<span class="op" id="7449388">:=</span>&nbsp;<span class="ident" id="7449391">test</span><span class="op" id="7449395">.</span><span class="ident" id="7449396">escaper</span><span class="op" id="7449403">(</span><span class="ident" id="7449404">input</span><span class="op" id="7449409">)</span><span class="op" id="7449410">;</span>&nbsp;<span class="ident" id="7449412">s</span>&nbsp;<span class="op" id="7449414">!=</span>&nbsp;<span class="ident" id="7449417">test</span><span class="op" id="7449421">.</span><span class="ident" id="7449422">escaped</span>&nbsp;<span class="op" id="7449430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449435">t</span><span class="op" id="7449436">.</span><span class="ident" id="7449437">Errorf</span><span class="op" id="7449443">(</span><span class="string" id="7449444">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="7449471">,</span>&nbsp;<span class="ident" id="7449473">test</span><span class="op" id="7449477">.</span><span class="ident" id="7449478">name</span><span class="op" id="7449482">,</span>&nbsp;<span class="ident" id="7449484">test</span><span class="op" id="7449488">.</span><span class="ident" id="7449489">escaped</span><span class="op" id="7449496">,</span>&nbsp;<span class="ident" id="7449498">s</span><span class="op" id="7449499">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449504">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449518">}</span><br>
<span class="lineno"></span><span class="op" id="7449520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7449523">func</span>&nbsp;<span class="ident" id="7449528">BenchmarkURLEscaper</span><span class="op" id="7449547">(</span><span class="ident" id="7449548">b</span>&nbsp;<span class="op" id="7449550">*</span><span class="ident" id="7449551">testing</span><span class="op" id="7449558">.</span><span class="ident" id="7449559">B</span><span class="op" id="7449560">)</span>&nbsp;<span class="op" id="7449562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449565">for</span>&nbsp;<span class="ident" id="7449569">i</span>&nbsp;<span class="op" id="7449571">:=</span>&nbsp;<span class="num" id="7449574">0</span><span class="op" id="7449575">;</span>&nbsp;<span class="ident" id="7449577">i</span>&nbsp;<span class="op" id="7449579">&lt;</span>&nbsp;<span class="ident" id="7449581">b</span><span class="op" id="7449582">.</span><span class="ident" id="7449583">N</span><span class="op" id="7449584">;</span>&nbsp;<span class="ident" id="7449586">i</span><span class="op" id="7449587">++</span>&nbsp;<span class="op" id="7449590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449594">urlEscaper</span><span class="op" id="7449604">(</span><span class="string" id="7449605">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7449654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449657">}</span><br>
<span class="lineno"></span><span class="op" id="7449659">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="7449662">func</span>&nbsp;<span class="ident" id="7449667">BenchmarkURLEscaperNoSpecials</span><span class="op" id="7449696">(</span><span class="ident" id="7449697">b</span>&nbsp;<span class="op" id="7449699">*</span><span class="ident" id="7449700">testing</span><span class="op" id="7449707">.</span><span class="ident" id="7449708">B</span><span class="op" id="7449709">)</span>&nbsp;<span class="op" id="7449711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449714">for</span>&nbsp;<span class="ident" id="7449718">i</span>&nbsp;<span class="op" id="7449720">:=</span>&nbsp;<span class="num" id="7449723">0</span><span class="op" id="7449724">;</span>&nbsp;<span class="ident" id="7449726">i</span>&nbsp;<span class="op" id="7449728">&lt;</span>&nbsp;<span class="ident" id="7449730">b</span><span class="op" id="7449731">.</span><span class="ident" id="7449732">N</span><span class="op" id="7449733">;</span>&nbsp;<span class="ident" id="7449735">i</span><span class="op" id="7449736">++</span>&nbsp;<span class="op" id="7449739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449743">urlEscaper</span><span class="op" id="7449753">(</span><span class="string" id="7449754">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="7449792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449795">}</span><br>
<span class="lineno">100</span><span class="op" id="7449797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7449800">func</span>&nbsp;<span class="ident" id="7449805">BenchmarkURLNormalizer</span><span class="op" id="7449827">(</span><span class="ident" id="7449828">b</span>&nbsp;<span class="op" id="7449830">*</span><span class="ident" id="7449831">testing</span><span class="op" id="7449838">.</span><span class="ident" id="7449839">B</span><span class="op" id="7449840">)</span>&nbsp;<span class="op" id="7449842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449845">for</span>&nbsp;<span class="ident" id="7449849">i</span>&nbsp;<span class="op" id="7449851">:=</span>&nbsp;<span class="num" id="7449854">0</span><span class="op" id="7449855">;</span>&nbsp;<span class="ident" id="7449857">i</span>&nbsp;<span class="op" id="7449859">&lt;</span>&nbsp;<span class="ident" id="7449861">b</span><span class="op" id="7449862">.</span><span class="ident" id="7449863">N</span><span class="op" id="7449864">;</span>&nbsp;<span class="ident" id="7449866">i</span><span class="op" id="7449867">++</span>&nbsp;<span class="op" id="7449870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449874">urlNormalizer</span><span class="op" id="7449887">(</span><span class="string" id="7449888">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="7449936">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449939">}</span><br>
<span class="lineno"></span><span class="op" id="7449941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7449944">func</span>&nbsp;<span class="ident" id="7449949">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="7449981">(</span><span class="ident" id="7449982">b</span>&nbsp;<span class="op" id="7449984">*</span><span class="ident" id="7449985">testing</span><span class="op" id="7449992">.</span><span class="ident" id="7449993">B</span><span class="op" id="7449994">)</span>&nbsp;<span class="op" id="7449996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449999">for</span>&nbsp;<span class="ident" id="7450003">i</span>&nbsp;<span class="op" id="7450005">:=</span>&nbsp;<span class="num" id="7450008">0</span><span class="op" id="7450009">;</span>&nbsp;<span class="ident" id="7450011">i</span>&nbsp;<span class="op" id="7450013">&lt;</span>&nbsp;<span class="ident" id="7450015">b</span><span class="op" id="7450016">.</span><span class="ident" id="7450017">N</span><span class="op" id="7450018">;</span>&nbsp;<span class="ident" id="7450020">i</span><span class="op" id="7450021">++</span>&nbsp;<span class="op" id="7450024">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450028">urlNormalizer</span><span class="op" id="7450041">(</span><span class="string" id="7450042">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7450091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450094">}</span><br>
<span class="lineno"></span><span class="op" id="7450096">}</span>
</div>
</body>
</html>
