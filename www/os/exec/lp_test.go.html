<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6528511">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6528566">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6528620">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6528671">package</span>&nbsp;<span class="ident" id="6528679">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6528685">import</span>&nbsp;<span class="op" id="6528692">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6528695">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6528705">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6528708">var</span>&nbsp;<span class="ident" id="6528712">nonExistentPaths</span>&nbsp;<span class="op" id="6528729">=</span>&nbsp;<span class="op" id="6528731">[</span><span class="op" id="6528732">]</span><span class="builtintype" id="6528733">string</span><span class="op" id="6528739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6528742">&#34;some-non-existent-path&#34;</span><span class="op" id="6528766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6528769">&#34;non-existent-path/slashed&#34;</span><span class="op" id="6528796">,</span><br>
<span class="lineno"></span><span class="op" id="6528798">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6528801">func</span>&nbsp;<span class="ident" id="6528806">TestLookPathNotFound</span><span class="op" id="6528826">(</span><span class="ident" id="6528827">t</span>&nbsp;<span class="op" id="6528829">*</span><span class="ident" id="6528830"><a href="/os/exec/lp_test.go.html#6528695">testing</a></span><span class="op" id="6528837">.</span><span class="ident" id="6528838">T</span><span class="op" id="6528839">)</span>&nbsp;<span class="op" id="6528841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6528844">for</span>&nbsp;<span class="ident" id="6528848">_</span><span class="op" id="6528849">,</span>&nbsp;<span class="ident" id="6528851">name</span>&nbsp;<span class="op" id="6528856">:=</span>&nbsp;<span class="keyword" id="6528859">range</span>&nbsp;<span class="ident" id="6528865"><a href="/os/exec/lp_test.go.html#6528712">nonExistentPaths</a></span>&nbsp;<span class="op" id="6528882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6528886">path</span><span class="op" id="6528890">,</span>&nbsp;<span class="ident" id="6528892">err</span>&nbsp;<span class="op" id="6528896">:=</span>&nbsp;<span class="ident" id="6528899"><a href="/os/exec/lp_unix.go.html#5516280">LookPath</a></span><span class="op" id="6528907">(</span><span class="ident" id="6528908"><a href="/os/exec/lp_test.go.html#6528851">name</a></span><span class="op" id="6528912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6528916">if</span>&nbsp;<span class="ident" id="6528919"><a href="/os/exec/lp_test.go.html#6528892">err</a></span>&nbsp;<span class="op" id="6528923">==</span>&nbsp;<span class="ident" id="6528926">nil</span>&nbsp;<span class="op" id="6528930">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6528935"><a href="/os/exec/lp_test.go.html#6528827">t</a></span><span class="op" id="6528936">.</span><span class="ident" id="6528937">Fatalf</span><span class="op" id="6528943">(</span><span class="string" id="6528944">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="6528972">,</span>&nbsp;<span class="ident" id="6528974"><a href="/os/exec/lp_test.go.html#6528851">name</a></span><span class="op" id="6528978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6528982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6528986">if</span>&nbsp;<span class="ident" id="6528989"><a href="/os/exec/lp_test.go.html#6528886">path</a></span>&nbsp;<span class="op" id="6528994">!=</span>&nbsp;<span class="string" id="6528997">&#34;&#34;</span>&nbsp;<span class="op" id="6529000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6529005"><a href="/os/exec/lp_test.go.html#6528827">t</a></span><span class="op" id="6529006">.</span><span class="ident" id="6529007">Fatalf</span><span class="op" id="6529013">(</span><span class="string" id="6529014">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="6529051">,</span>&nbsp;<span class="ident" id="6529053"><a href="/os/exec/lp_test.go.html#6528886">path</a></span><span class="op" id="6529057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6529061">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6529065">perr</span><span class="op" id="6529069">,</span>&nbsp;<span class="ident" id="6529071">ok</span>&nbsp;<span class="op" id="6529074">:=</span>&nbsp;<span class="ident" id="6529077"><a href="/os/exec/lp_test.go.html#6528892">err</a></span><span class="op" id="6529080">.</span><span class="op" id="6529081">(</span><span class="op" id="6529082">*</span><span class="ident" id="6529083"><a href="/os/exec/exec.go.html#5502559">Error</a></span><span class="op" id="6529088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6529092">if</span>&nbsp;<span class="op" id="6529095">!</span><span class="ident" id="6529096"><a href="/os/exec/lp_test.go.html#6529071">ok</a></span>&nbsp;<span class="op" id="6529099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6529104"><a href="/os/exec/lp_test.go.html#6528827">t</a></span><span class="op" id="6529105">.</span><span class="ident" id="6529106">Fatal</span><span class="op" id="6529111">(</span><span class="string" id="6529112">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="6529149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6529153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6529157">if</span>&nbsp;<span class="ident" id="6529160"><a href="/os/exec/lp_test.go.html#6529065">perr</a></span><span class="op" id="6529164">.</span><span class="ident" id="6529165">Name</span>&nbsp;<span class="op" id="6529170">!=</span>&nbsp;<span class="ident" id="6529173"><a href="/os/exec/lp_test.go.html#6528851">name</a></span>&nbsp;<span class="op" id="6529178">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6529183"><a href="/os/exec/lp_test.go.html#6528827">t</a></span><span class="op" id="6529184">.</span><span class="ident" id="6529185">Fatalf</span><span class="op" id="6529191">(</span><span class="string" id="6529192">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6529220">,</span>&nbsp;<span class="ident" id="6529222"><a href="/os/exec/lp_test.go.html#6528851">name</a></span><span class="op" id="6529226">,</span>&nbsp;<span class="ident" id="6529228"><a href="/os/exec/lp_test.go.html#6529065">perr</a></span><span class="op" id="6529232">.</span><span class="ident" id="6529233">Name</span><span class="op" id="6529237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6529241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6529244">}</span><br>
<span class="lineno"></span><span class="op" id="6529246">}</span>
</div>
</body>
</html>
