<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1698681">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1698736">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1698790">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1698841">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1698906">package</span>&nbsp;<span class="ident" id="1698914">syscall</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1698923">import</span>&nbsp;<span class="op" id="1698930">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1698933">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1698944">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1698952">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1698961">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="1698964">var</span>&nbsp;<span class="op" id="1698968">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1698971">Stdin</span>&nbsp;&nbsp;<span class="op" id="1698978">=</span>&nbsp;<span class="num" id="1698980">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1698983">Stdout</span>&nbsp;<span class="op" id="1698990">=</span>&nbsp;<span class="num" id="1698992">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1698995">Stderr</span>&nbsp;<span class="op" id="1699002">=</span>&nbsp;<span class="num" id="1699004">2</span><br>
<span class="lineno"></span><span class="op" id="1699006">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1699009">const</span>&nbsp;<span class="op" id="1699015">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1699018">darwin64Bit</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1699033">=</span>&nbsp;<span class="ident" id="1699035"><a href="/syscall/syscall_unix.go.html#1698933">runtime</a></span><span class="op" id="1699042">.</span><span class="ident" id="1699043">GOOS</span>&nbsp;<span class="op" id="1699048">==</span>&nbsp;<span class="string" id="1699051">&#34;darwin&#34;</span>&nbsp;<span class="op" id="1699060">&amp;&amp;</span>&nbsp;<span class="ident" id="1699063"><a href="/syscall/ztypes_linux_amd64.go.html#1821624">sizeofPtr</a></span>&nbsp;<span class="op" id="1699073">==</span>&nbsp;<span class="num" id="1699076">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1699079">dragonfly64Bit</span>&nbsp;<span class="op" id="1699094">=</span>&nbsp;<span class="ident" id="1699096"><a href="/syscall/syscall_unix.go.html#1698933">runtime</a></span><span class="op" id="1699103">.</span><span class="ident" id="1699104">GOOS</span>&nbsp;<span class="op" id="1699109">==</span>&nbsp;<span class="string" id="1699112">&#34;dragonfly&#34;</span>&nbsp;<span class="op" id="1699124">&amp;&amp;</span>&nbsp;<span class="ident" id="1699127"><a href="/syscall/ztypes_linux_amd64.go.html#1821624">sizeofPtr</a></span>&nbsp;<span class="op" id="1699137">==</span>&nbsp;<span class="num" id="1699140">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1699143">netbsd32Bit</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1699158">=</span>&nbsp;<span class="ident" id="1699160"><a href="/syscall/syscall_unix.go.html#1698933">runtime</a></span><span class="op" id="1699167">.</span><span class="ident" id="1699168">GOOS</span>&nbsp;<span class="op" id="1699173">==</span>&nbsp;<span class="string" id="1699176">&#34;netbsd&#34;</span>&nbsp;<span class="op" id="1699185">&amp;&amp;</span>&nbsp;<span class="ident" id="1699188"><a href="/syscall/ztypes_linux_amd64.go.html#1821624">sizeofPtr</a></span>&nbsp;<span class="op" id="1699198">==</span>&nbsp;<span class="num" id="1699201">4</span><br>
<span class="lineno">25</span><span class="op" id="1699203">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1699206">func</span>&nbsp;<span class="ident" id="1699211">Syscall</span><span class="op" id="1699218">(</span><span class="ident" id="1699219">trap</span><span class="op" id="1699223">,</span>&nbsp;<span class="ident" id="1699225">a1</span><span class="op" id="1699227">,</span>&nbsp;<span class="ident" id="1699229">a2</span><span class="op" id="1699231">,</span>&nbsp;<span class="ident" id="1699233">a3</span>&nbsp;<span class="builtintype" id="1699236">uintptr</span><span class="op" id="1699243">)</span>&nbsp;<span class="op" id="1699245">(</span><span class="ident" id="1699246">r1</span><span class="op" id="1699248">,</span>&nbsp;<span class="ident" id="1699250">r2</span>&nbsp;<span class="builtintype" id="1699253">uintptr</span><span class="op" id="1699260">,</span>&nbsp;<span class="ident" id="1699262">err</span>&nbsp;<span class="ident" id="1699266"><a href="/syscall/syscall_unix.go.html#1701140">Errno</a></span><span class="op" id="1699271">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699273">func</span>&nbsp;<span class="ident" id="1699278">Syscall6</span><span class="op" id="1699286">(</span><span class="ident" id="1699287">trap</span><span class="op" id="1699291">,</span>&nbsp;<span class="ident" id="1699293">a1</span><span class="op" id="1699295">,</span>&nbsp;<span class="ident" id="1699297">a2</span><span class="op" id="1699299">,</span>&nbsp;<span class="ident" id="1699301">a3</span><span class="op" id="1699303">,</span>&nbsp;<span class="ident" id="1699305">a4</span><span class="op" id="1699307">,</span>&nbsp;<span class="ident" id="1699309">a5</span><span class="op" id="1699311">,</span>&nbsp;<span class="ident" id="1699313">a6</span>&nbsp;<span class="builtintype" id="1699316">uintptr</span><span class="op" id="1699323">)</span>&nbsp;<span class="op" id="1699325">(</span><span class="ident" id="1699326">r1</span><span class="op" id="1699328">,</span>&nbsp;<span class="ident" id="1699330">r2</span>&nbsp;<span class="builtintype" id="1699333">uintptr</span><span class="op" id="1699340">,</span>&nbsp;<span class="ident" id="1699342">err</span>&nbsp;<span class="ident" id="1699346"><a href="/syscall/syscall_unix.go.html#1701140">Errno</a></span><span class="op" id="1699351">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699353">func</span>&nbsp;<span class="ident" id="1699358">RawSyscall</span><span class="op" id="1699368">(</span><span class="ident" id="1699369">trap</span><span class="op" id="1699373">,</span>&nbsp;<span class="ident" id="1699375">a1</span><span class="op" id="1699377">,</span>&nbsp;<span class="ident" id="1699379">a2</span><span class="op" id="1699381">,</span>&nbsp;<span class="ident" id="1699383">a3</span>&nbsp;<span class="builtintype" id="1699386">uintptr</span><span class="op" id="1699393">)</span>&nbsp;<span class="op" id="1699395">(</span><span class="ident" id="1699396">r1</span><span class="op" id="1699398">,</span>&nbsp;<span class="ident" id="1699400">r2</span>&nbsp;<span class="builtintype" id="1699403">uintptr</span><span class="op" id="1699410">,</span>&nbsp;<span class="ident" id="1699412">err</span>&nbsp;<span class="ident" id="1699416"><a href="/syscall/syscall_unix.go.html#1701140">Errno</a></span><span class="op" id="1699421">)</span><br>
<span class="lineno">30</span><span class="keyword" id="1699423">func</span>&nbsp;<span class="ident" id="1699428">RawSyscall6</span><span class="op" id="1699439">(</span><span class="ident" id="1699440">trap</span><span class="op" id="1699444">,</span>&nbsp;<span class="ident" id="1699446">a1</span><span class="op" id="1699448">,</span>&nbsp;<span class="ident" id="1699450">a2</span><span class="op" id="1699452">,</span>&nbsp;<span class="ident" id="1699454">a3</span><span class="op" id="1699456">,</span>&nbsp;<span class="ident" id="1699458">a4</span><span class="op" id="1699460">,</span>&nbsp;<span class="ident" id="1699462">a5</span><span class="op" id="1699464">,</span>&nbsp;<span class="ident" id="1699466">a6</span>&nbsp;<span class="builtintype" id="1699469">uintptr</span><span class="op" id="1699476">)</span>&nbsp;<span class="op" id="1699478">(</span><span class="ident" id="1699479">r1</span><span class="op" id="1699481">,</span>&nbsp;<span class="ident" id="1699483">r2</span>&nbsp;<span class="builtintype" id="1699486">uintptr</span><span class="op" id="1699493">,</span>&nbsp;<span class="ident" id="1699495">err</span>&nbsp;<span class="ident" id="1699499"><a href="/syscall/syscall_unix.go.html#1701140">Errno</a></span><span class="op" id="1699504">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1699507">//&nbsp;Mmap&nbsp;manager,&nbsp;for&nbsp;use&nbsp;by&nbsp;operating&nbsp;system-specific&nbsp;implementations.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1699579">type</span>&nbsp;<span class="ident" id="1699584">mmapper</span>&nbsp;<span class="keyword" id="1699592">struct</span>&nbsp;<span class="op" id="1699599">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1699602"><a href="/syscall/syscall_unix.go.html#1698944">sync</a></span><span class="op" id="1699606">.</span><span class="ident" id="1699607">Mutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1699614">active</span>&nbsp;<span class="keyword" id="1699621">map</span><span class="op" id="1699624">[</span><span class="op" id="1699625">*</span><span class="builtintype" id="1699626">byte</span><span class="op" id="1699630">]</span><span class="op" id="1699631">[</span><span class="op" id="1699632">]</span><span class="builtintype" id="1699633">byte</span>&nbsp;<span class="comment" id="1699638">//&nbsp;active&nbsp;mappings;&nbsp;key&nbsp;is&nbsp;last&nbsp;byte&nbsp;in&nbsp;mapping</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1699687">mmap</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699694">func</span><span class="op" id="1699698">(</span><span class="ident" id="1699699">addr</span><span class="op" id="1699703">,</span>&nbsp;<span class="ident" id="1699705">length</span>&nbsp;<span class="builtintype" id="1699712">uintptr</span><span class="op" id="1699719">,</span>&nbsp;<span class="ident" id="1699721">prot</span><span class="op" id="1699725">,</span>&nbsp;<span class="ident" id="1699727">flags</span><span class="op" id="1699732">,</span>&nbsp;<span class="ident" id="1699734">fd</span>&nbsp;<span class="builtintype" id="1699737">int</span><span class="op" id="1699740">,</span>&nbsp;<span class="ident" id="1699742">offset</span>&nbsp;<span class="ident" id="1699749">int64</span><span class="op" id="1699754">)</span>&nbsp;<span class="op" id="1699756">(</span><span class="builtintype" id="1699757">uintptr</span><span class="op" id="1699764">,</span>&nbsp;<span class="builtintype" id="1699766">error</span><span class="op" id="1699771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1699774">munmap</span>&nbsp;<span class="keyword" id="1699781">func</span><span class="op" id="1699785">(</span><span class="ident" id="1699786">addr</span>&nbsp;<span class="builtintype" id="1699791">uintptr</span><span class="op" id="1699798">,</span>&nbsp;<span class="ident" id="1699800">length</span>&nbsp;<span class="builtintype" id="1699807">uintptr</span><span class="op" id="1699814">)</span>&nbsp;<span class="builtintype" id="1699816">error</span><br>
<span class="lineno"></span><span class="op" id="1699822">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1699825">func</span>&nbsp;<span class="op" id="1699830">(</span><span class="ident" id="1699831">m</span>&nbsp;<span class="op" id="1699833">*</span><span class="ident" id="1699834"><a href="/syscall/syscall_unix.go.html#1699584">mmapper</a></span><span class="op" id="1699841">)</span>&nbsp;<span class="ident" id="1699843">Mmap</span><span class="op" id="1699847">(</span><span class="ident" id="1699848">fd</span>&nbsp;<span class="builtintype" id="1699851">int</span><span class="op" id="1699854">,</span>&nbsp;<span class="ident" id="1699856">offset</span>&nbsp;<span class="ident" id="1699863">int64</span><span class="op" id="1699868">,</span>&nbsp;<span class="ident" id="1699870">length</span>&nbsp;<span class="builtintype" id="1699877">int</span><span class="op" id="1699880">,</span>&nbsp;<span class="ident" id="1699882">prot</span>&nbsp;<span class="builtintype" id="1699887">int</span><span class="op" id="1699890">,</span>&nbsp;<span class="ident" id="1699892">flags</span>&nbsp;<span class="builtintype" id="1699898">int</span><span class="op" id="1699901">)</span>&nbsp;<span class="op" id="1699903">(</span><span class="ident" id="1699904">data</span>&nbsp;<span class="op" id="1699909">[</span><span class="op" id="1699910">]</span><span class="builtintype" id="1699911">byte</span><span class="op" id="1699915">,</span>&nbsp;<span class="ident" id="1699917">err</span>&nbsp;<span class="builtintype" id="1699921">error</span><span class="op" id="1699926">)</span>&nbsp;<span class="op" id="1699928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1699931">if</span>&nbsp;<span class="ident" id="1699934"><a href="/syscall/syscall_unix.go.html#1699870">length</a></span>&nbsp;<span class="op" id="1699941">&lt;=</span>&nbsp;<span class="num" id="1699944">0</span>&nbsp;<span class="op" id="1699946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1699950">return</span>&nbsp;<span class="ident" id="1699957">nil</span><span class="op" id="1699960">,</span>&nbsp;<span class="ident" id="1699962"><a href="/syscall/zerrors_linux_amd64.go.html#1756680">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1699970">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1699974">//&nbsp;Map&nbsp;the&nbsp;requested&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700004">addr</span><span class="op" id="1700008">,</span>&nbsp;<span class="ident" id="1700010">errno</span>&nbsp;<span class="op" id="1700016">:=</span>&nbsp;<span class="ident" id="1700019"><a href="/syscall/syscall_unix.go.html#1699831">m</a></span><span class="op" id="1700020">.</span><span class="ident" id="1700021">mmap</span><span class="op" id="1700025">(</span><span class="num" id="1700026">0</span><span class="op" id="1700027">,</span>&nbsp;<span class="builtintype" id="1700029">uintptr</span><span class="op" id="1700036">(</span><span class="ident" id="1700037"><a href="/syscall/syscall_unix.go.html#1699870">length</a></span><span class="op" id="1700043">)</span><span class="op" id="1700044">,</span>&nbsp;<span class="ident" id="1700046"><a href="/syscall/syscall_unix.go.html#1699882">prot</a></span><span class="op" id="1700050">,</span>&nbsp;<span class="ident" id="1700052"><a href="/syscall/syscall_unix.go.html#1699892">flags</a></span><span class="op" id="1700057">,</span>&nbsp;<span class="ident" id="1700059"><a href="/syscall/syscall_unix.go.html#1699848">fd</a></span><span class="op" id="1700061">,</span>&nbsp;<span class="ident" id="1700063"><a href="/syscall/syscall_unix.go.html#1699856">offset</a></span><span class="op" id="1700069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700072">if</span>&nbsp;<span class="ident" id="1700075"><a href="/syscall/syscall_unix.go.html#1700010">errno</a></span>&nbsp;<span class="op" id="1700081">!=</span>&nbsp;<span class="ident" id="1700084">nil</span>&nbsp;<span class="op" id="1700088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700092">return</span>&nbsp;<span class="ident" id="1700099">nil</span><span class="op" id="1700102">,</span>&nbsp;<span class="ident" id="1700104"><a href="/syscall/syscall_unix.go.html#1700010">errno</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1700111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1700115">//&nbsp;Slice&nbsp;memory&nbsp;layout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700139">var</span>&nbsp;<span class="ident" id="1700143">sl</span>&nbsp;<span class="op" id="1700146">=</span>&nbsp;<span class="keyword" id="1700148">struct</span>&nbsp;<span class="op" id="1700155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700159">addr</span>&nbsp;<span class="builtintype" id="1700164">uintptr</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1700174">len</span>&nbsp;&nbsp;<span class="builtintype" id="1700179">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1700185">cap</span>&nbsp;&nbsp;<span class="builtintype" id="1700190">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1700195">}</span><span class="op" id="1700196">{</span><span class="ident" id="1700197"><a href="/syscall/syscall_unix.go.html#1700004">addr</a></span><span class="op" id="1700201">,</span>&nbsp;<span class="ident" id="1700203"><a href="/syscall/syscall_unix.go.html#1699870">length</a></span><span class="op" id="1700209">,</span>&nbsp;<span class="ident" id="1700211"><a href="/syscall/syscall_unix.go.html#1699870">length</a></span><span class="op" id="1700217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1700221">//&nbsp;Use&nbsp;unsafe&nbsp;to&nbsp;turn&nbsp;sl&nbsp;into&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700262">b</span>&nbsp;<span class="op" id="1700264">:=</span>&nbsp;<span class="op" id="1700267">*</span><span class="op" id="1700268">(</span><span class="op" id="1700269">*</span><span class="op" id="1700270">[</span><span class="op" id="1700271">]</span><span class="builtintype" id="1700272">byte</span><span class="op" id="1700276">)</span><span class="op" id="1700277">(</span><span class="ident" id="1700278"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1700284">.</span><span class="ident" id="1700285">Pointer</span><span class="op" id="1700292">(</span><span class="op" id="1700293">&amp;</span><span class="ident" id="1700294"><a href="/syscall/syscall_unix.go.html#1700143">sl</a></span><span class="op" id="1700296">)</span><span class="op" id="1700297">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1700301">//&nbsp;Register&nbsp;mapping&nbsp;in&nbsp;m&nbsp;and&nbsp;return&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700342">p</span>&nbsp;<span class="op" id="1700344">:=</span>&nbsp;<span class="op" id="1700347">&amp;</span><span class="ident" id="1700348"><a href="/syscall/syscall_unix.go.html#1700262">b</a></span><span class="op" id="1700349">[</span><span class="builtinfunc" id="1700350">cap</span><span class="op" id="1700353">(</span><span class="ident" id="1700354"><a href="/syscall/syscall_unix.go.html#1700262">b</a></span><span class="op" id="1700355">)</span><span class="op" id="1700356">-</span><span class="num" id="1700357">1</span><span class="op" id="1700358">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700361"><a href="/syscall/syscall_unix.go.html#1699831">m</a></span><span class="op" id="1700362">.</span><span class="ident" id="1700363">Lock</span><span class="op" id="1700367">(</span><span class="op" id="1700368">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700371">defer</span>&nbsp;<span class="ident" id="1700377"><a href="/syscall/syscall_unix.go.html#1699831">m</a></span><span class="op" id="1700378">.</span><span class="ident" id="1700379">Unlock</span><span class="op" id="1700385">(</span><span class="op" id="1700386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700389"><a href="/syscall/syscall_unix.go.html#1699831">m</a></span><span class="op" id="1700390">.</span><span class="ident" id="1700391">active</span><span class="op" id="1700397">[</span><span class="ident" id="1700398"><a href="/syscall/syscall_unix.go.html#1700342">p</a></span><span class="op" id="1700399">]</span>&nbsp;<span class="op" id="1700401">=</span>&nbsp;<span class="ident" id="1700403"><a href="/syscall/syscall_unix.go.html#1700262">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700406">return</span>&nbsp;<span class="ident" id="1700413"><a href="/syscall/syscall_unix.go.html#1700262">b</a></span><span class="op" id="1700414">,</span>&nbsp;<span class="ident" id="1700416">nil</span><br>
<span class="lineno"></span><span class="op" id="1700420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1700423">func</span>&nbsp;<span class="op" id="1700428">(</span><span class="ident" id="1700429">m</span>&nbsp;<span class="op" id="1700431">*</span><span class="ident" id="1700432"><a href="/syscall/syscall_unix.go.html#1699584">mmapper</a></span><span class="op" id="1700439">)</span>&nbsp;<span class="ident" id="1700441">Munmap</span><span class="op" id="1700447">(</span><span class="ident" id="1700448">data</span>&nbsp;<span class="op" id="1700453">[</span><span class="op" id="1700454">]</span><span class="builtintype" id="1700455">byte</span><span class="op" id="1700459">)</span>&nbsp;<span class="op" id="1700461">(</span><span class="ident" id="1700462">err</span>&nbsp;<span class="builtintype" id="1700466">error</span><span class="op" id="1700471">)</span>&nbsp;<span class="op" id="1700473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700476">if</span>&nbsp;<span class="builtinfunc" id="1700479">len</span><span class="op" id="1700482">(</span><span class="ident" id="1700483"><a href="/syscall/syscall_unix.go.html#1700448">data</a></span><span class="op" id="1700487">)</span>&nbsp;<span class="op" id="1700489">==</span>&nbsp;<span class="num" id="1700492">0</span>&nbsp;<span class="op" id="1700494">||</span>&nbsp;<span class="builtinfunc" id="1700497">len</span><span class="op" id="1700500">(</span><span class="ident" id="1700501"><a href="/syscall/syscall_unix.go.html#1700448">data</a></span><span class="op" id="1700505">)</span>&nbsp;<span class="op" id="1700507">!=</span>&nbsp;<span class="builtinfunc" id="1700510">cap</span><span class="op" id="1700513">(</span><span class="ident" id="1700514"><a href="/syscall/syscall_unix.go.html#1700448">data</a></span><span class="op" id="1700518">)</span>&nbsp;<span class="op" id="1700520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700524">return</span>&nbsp;<span class="ident" id="1700531"><a href="/syscall/zerrors_linux_amd64.go.html#1756680">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1700539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1700543">//&nbsp;Find&nbsp;the&nbsp;base&nbsp;of&nbsp;the&nbsp;mapping.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700577">p</span>&nbsp;<span class="op" id="1700579">:=</span>&nbsp;<span class="op" id="1700582">&amp;</span><span class="ident" id="1700583"><a href="/syscall/syscall_unix.go.html#1700448">data</a></span><span class="op" id="1700587">[</span><span class="builtinfunc" id="1700588">cap</span><span class="op" id="1700591">(</span><span class="ident" id="1700592"><a href="/syscall/syscall_unix.go.html#1700448">data</a></span><span class="op" id="1700596">)</span><span class="op" id="1700597">-</span><span class="num" id="1700598">1</span><span class="op" id="1700599">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700602"><a href="/syscall/syscall_unix.go.html#1700429">m</a></span><span class="op" id="1700603">.</span><span class="ident" id="1700604">Lock</span><span class="op" id="1700608">(</span><span class="op" id="1700609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700612">defer</span>&nbsp;<span class="ident" id="1700618"><a href="/syscall/syscall_unix.go.html#1700429">m</a></span><span class="op" id="1700619">.</span><span class="ident" id="1700620">Unlock</span><span class="op" id="1700626">(</span><span class="op" id="1700627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1700630">b</span>&nbsp;<span class="op" id="1700632">:=</span>&nbsp;<span class="ident" id="1700635"><a href="/syscall/syscall_unix.go.html#1700429">m</a></span><span class="op" id="1700636">.</span><span class="ident" id="1700637">active</span><span class="op" id="1700643">[</span><span class="ident" id="1700644"><a href="/syscall/syscall_unix.go.html#1700577">p</a></span><span class="op" id="1700645">]</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700648">if</span>&nbsp;<span class="ident" id="1700651"><a href="/syscall/syscall_unix.go.html#1700630">b</a></span>&nbsp;<span class="op" id="1700653">==</span>&nbsp;<span class="ident" id="1700656">nil</span>&nbsp;<span class="op" id="1700660">||</span>&nbsp;<span class="op" id="1700663">&amp;</span><span class="ident" id="1700664"><a href="/syscall/syscall_unix.go.html#1700630">b</a></span><span class="op" id="1700665">[</span><span class="num" id="1700666">0</span><span class="op" id="1700667">]</span>&nbsp;<span class="op" id="1700669">!=</span>&nbsp;<span class="op" id="1700672">&amp;</span><span class="ident" id="1700673"><a href="/syscall/syscall_unix.go.html#1700448">data</a></span><span class="op" id="1700677">[</span><span class="num" id="1700678">0</span><span class="op" id="1700679">]</span>&nbsp;<span class="op" id="1700681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700685">return</span>&nbsp;<span class="ident" id="1700692"><a href="/syscall/zerrors_linux_amd64.go.html#1756680">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1700700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1700704">//&nbsp;Unmap&nbsp;the&nbsp;memory&nbsp;and&nbsp;update&nbsp;m.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700739">if</span>&nbsp;<span class="ident" id="1700742">errno</span>&nbsp;<span class="op" id="1700748">:=</span>&nbsp;<span class="ident" id="1700751"><a href="/syscall/syscall_unix.go.html#1700429">m</a></span><span class="op" id="1700752">.</span><span class="ident" id="1700753">munmap</span><span class="op" id="1700759">(</span><span class="builtintype" id="1700760">uintptr</span><span class="op" id="1700767">(</span><span class="ident" id="1700768"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1700774">.</span><span class="ident" id="1700775">Pointer</span><span class="op" id="1700782">(</span><span class="op" id="1700783">&amp;</span><span class="ident" id="1700784"><a href="/syscall/syscall_unix.go.html#1700630">b</a></span><span class="op" id="1700785">[</span><span class="num" id="1700786">0</span><span class="op" id="1700787">]</span><span class="op" id="1700788">)</span><span class="op" id="1700789">)</span><span class="op" id="1700790">,</span>&nbsp;<span class="builtintype" id="1700792">uintptr</span><span class="op" id="1700799">(</span><span class="builtinfunc" id="1700800">len</span><span class="op" id="1700803">(</span><span class="ident" id="1700804"><a href="/syscall/syscall_unix.go.html#1700630">b</a></span><span class="op" id="1700805">)</span><span class="op" id="1700806">)</span><span class="op" id="1700807">)</span><span class="op" id="1700808">;</span>&nbsp;<span class="ident" id="1700810"><a href="/syscall/syscall_unix.go.html#1700742">errno</a></span>&nbsp;<span class="op" id="1700816">!=</span>&nbsp;<span class="ident" id="1700819">nil</span>&nbsp;<span class="op" id="1700823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700827">return</span>&nbsp;<span class="ident" id="1700834"><a href="/syscall/syscall_unix.go.html#1700742">errno</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1700841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1700844">delete</span><span class="op" id="1700850">(</span><span class="ident" id="1700851"><a href="/syscall/syscall_unix.go.html#1700429">m</a></span><span class="op" id="1700852">.</span><span class="ident" id="1700853">active</span><span class="op" id="1700859">,</span>&nbsp;<span class="ident" id="1700861"><a href="/syscall/syscall_unix.go.html#1700577">p</a></span><span class="op" id="1700862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1700865">return</span>&nbsp;<span class="ident" id="1700872">nil</span><br>
<span class="lineno">90</span><span class="op" id="1700876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1700879">//&nbsp;An&nbsp;Errno&nbsp;is&nbsp;an&nbsp;unsigned&nbsp;number&nbsp;describing&nbsp;an&nbsp;error&nbsp;condition.</span><br>
<span class="lineno"></span><span class="comment" id="1700944">//&nbsp;It&nbsp;implements&nbsp;the&nbsp;error&nbsp;interface.&nbsp;&nbsp;The&nbsp;zero&nbsp;Errno&nbsp;is&nbsp;by&nbsp;convention</span><br>
<span class="lineno"></span><span class="comment" id="1701015">//&nbsp;a&nbsp;non-error,&nbsp;so&nbsp;code&nbsp;to&nbsp;convert&nbsp;from&nbsp;Errno&nbsp;to&nbsp;error&nbsp;should&nbsp;use:</span><br>
<span class="lineno">95</span><span class="comment" id="1701082">//&nbsp;&nbsp;&nbsp;&nbsperr&nbsp;=&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="1701095">//&nbsp;&nbsp;&nbsp;&nbspif&nbsp;errno&nbsp;!=&nbsp;0&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="1701114">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperr&nbsp;=&nbsp;errno</span><br>
<span class="lineno"></span><span class="comment" id="1701130">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="keyword" id="1701135">type</span>&nbsp;<span class="ident" id="1701140">Errno</span>&nbsp;<span class="builtintype" id="1701146">uintptr</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="1701155">func</span>&nbsp;<span class="op" id="1701160">(</span><span class="ident" id="1701161">e</span>&nbsp;<span class="ident" id="1701163"><a href="/syscall/syscall_unix.go.html#1701140">Errno</a></span><span class="op" id="1701168">)</span>&nbsp;<span class="ident" id="1701170">Error</span><span class="op" id="1701175">(</span><span class="op" id="1701176">)</span>&nbsp;<span class="builtintype" id="1701178">string</span>&nbsp;<span class="op" id="1701185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701188">if</span>&nbsp;<span class="num" id="1701191">0</span>&nbsp;<span class="op" id="1701193">&lt;=</span>&nbsp;<span class="builtintype" id="1701196">int</span><span class="op" id="1701199">(</span><span class="ident" id="1701200"><a href="/syscall/syscall_unix.go.html#1701161">e</a></span><span class="op" id="1701201">)</span>&nbsp;<span class="op" id="1701203">&amp;&amp;</span>&nbsp;<span class="builtintype" id="1701206">int</span><span class="op" id="1701209">(</span><span class="ident" id="1701210"><a href="/syscall/syscall_unix.go.html#1701161">e</a></span><span class="op" id="1701211">)</span>&nbsp;<span class="op" id="1701213">&lt;</span>&nbsp;<span class="builtinfunc" id="1701215">len</span><span class="op" id="1701218">(</span><span class="ident" id="1701219"><a href="/syscall/zerrors_linux_amd64.go.html#1760522">errors</a></span><span class="op" id="1701225">)</span>&nbsp;<span class="op" id="1701227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1701231">s</span>&nbsp;<span class="op" id="1701233">:=</span>&nbsp;<span class="ident" id="1701236"><a href="/syscall/zerrors_linux_amd64.go.html#1760522">errors</a></span><span class="op" id="1701242">[</span><span class="ident" id="1701243"><a href="/syscall/syscall_unix.go.html#1701161">e</a></span><span class="op" id="1701244">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701248">if</span>&nbsp;<span class="ident" id="1701251"><a href="/syscall/syscall_unix.go.html#1701231">s</a></span>&nbsp;<span class="op" id="1701253">!=</span>&nbsp;<span class="string" id="1701256">&#34;&#34;</span>&nbsp;<span class="op" id="1701259">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701264">return</span>&nbsp;<span class="ident" id="1701271"><a href="/syscall/syscall_unix.go.html#1701231">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1701275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1701278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701281">return</span>&nbsp;<span class="string" id="1701288">&#34;errno&nbsp;&#34;</span>&nbsp;<span class="op" id="1701297">+</span>&nbsp;<span class="ident" id="1701299"><a href="/syscall/str.go.html#1663673">itoa</a></span><span class="op" id="1701303">(</span><span class="builtintype" id="1701304">int</span><span class="op" id="1701307">(</span><span class="ident" id="1701308"><a href="/syscall/syscall_unix.go.html#1701161">e</a></span><span class="op" id="1701309">)</span><span class="op" id="1701310">)</span><br>
<span class="lineno"></span><span class="op" id="1701312">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="1701315">func</span>&nbsp;<span class="op" id="1701320">(</span><span class="ident" id="1701321">e</span>&nbsp;<span class="ident" id="1701323"><a href="/syscall/syscall_unix.go.html#1701140">Errno</a></span><span class="op" id="1701328">)</span>&nbsp;<span class="ident" id="1701330">Temporary</span><span class="op" id="1701339">(</span><span class="op" id="1701340">)</span>&nbsp;<span class="builtintype" id="1701342">bool</span>&nbsp;<span class="op" id="1701347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701350">return</span>&nbsp;<span class="ident" id="1701357"><a href="/syscall/syscall_unix.go.html#1701321">e</a></span>&nbsp;<span class="op" id="1701359">==</span>&nbsp;<span class="ident" id="1701362"><a href="/syscall/zerrors_linux_amd64.go.html#1756650">EINTR</a></span>&nbsp;<span class="op" id="1701368">||</span>&nbsp;<span class="ident" id="1701371"><a href="/syscall/syscall_unix.go.html#1701321">e</a></span>&nbsp;<span class="op" id="1701373">==</span>&nbsp;<span class="ident" id="1701376"><a href="/syscall/zerrors_linux_amd64.go.html#1757299">EMFILE</a></span>&nbsp;<span class="op" id="1701383">||</span>&nbsp;<span class="ident" id="1701386"><a href="/syscall/syscall_unix.go.html#1701321">e</a></span>&nbsp;<span class="op" id="1701388">==</span>&nbsp;<span class="ident" id="1701391"><a href="/syscall/zerrors_linux_amd64.go.html#1756186">ECONNRESET</a></span>&nbsp;<span class="op" id="1701402">||</span>&nbsp;<span class="ident" id="1701405"><a href="/syscall/syscall_unix.go.html#1701321">e</a></span>&nbsp;<span class="op" id="1701407">==</span>&nbsp;<span class="ident" id="1701410"><a href="/syscall/zerrors_linux_amd64.go.html#1756124">ECONNABORTED</a></span>&nbsp;<span class="op" id="1701423">||</span>&nbsp;<span class="ident" id="1701426"><a href="/syscall/syscall_unix.go.html#1701321">e</a></span><span class="op" id="1701427">.</span><span class="ident" id="1701428">Timeout</span><span class="op" id="1701435">(</span><span class="op" id="1701436">)</span><br>
<span class="lineno"></span><span class="op" id="1701438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="1701441">func</span>&nbsp;<span class="op" id="1701446">(</span><span class="ident" id="1701447">e</span>&nbsp;<span class="ident" id="1701449"><a href="/syscall/syscall_unix.go.html#1701140">Errno</a></span><span class="op" id="1701454">)</span>&nbsp;<span class="ident" id="1701456">Timeout</span><span class="op" id="1701463">(</span><span class="op" id="1701464">)</span>&nbsp;<span class="builtintype" id="1701466">bool</span>&nbsp;<span class="op" id="1701471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701474">return</span>&nbsp;<span class="ident" id="1701481"><a href="/syscall/syscall_unix.go.html#1701447">e</a></span>&nbsp;<span class="op" id="1701483">==</span>&nbsp;<span class="ident" id="1701486"><a href="/syscall/zerrors_linux_amd64.go.html#1755662">EAGAIN</a></span>&nbsp;<span class="op" id="1701493">||</span>&nbsp;<span class="ident" id="1701496"><a href="/syscall/syscall_unix.go.html#1701447">e</a></span>&nbsp;<span class="op" id="1701498">==</span>&nbsp;<span class="ident" id="1701501"><a href="/syscall/zerrors_linux_amd64.go.html#1759493">EWOULDBLOCK</a></span>&nbsp;<span class="op" id="1701513">||</span>&nbsp;<span class="ident" id="1701516"><a href="/syscall/syscall_unix.go.html#1701447">e</a></span>&nbsp;<span class="op" id="1701518">==</span>&nbsp;<span class="ident" id="1701521"><a href="/syscall/zerrors_linux_amd64.go.html#1759307">ETIMEDOUT</a></span><br>
<span class="lineno"></span><span class="op" id="1701531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1701534">//&nbsp;A&nbsp;Signal&nbsp;is&nbsp;a&nbsp;number&nbsp;describing&nbsp;a&nbsp;process&nbsp;signal.</span><br>
<span class="lineno">120</span><span class="comment" id="1701587">//&nbsp;It&nbsp;implements&nbsp;the&nbsp;os.Signal&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1701629">type</span>&nbsp;<span class="ident" id="1701634">Signal</span>&nbsp;<span class="builtintype" id="1701641">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1701646">func</span>&nbsp;<span class="op" id="1701651">(</span><span class="ident" id="1701652">s</span>&nbsp;<span class="ident" id="1701654"><a href="/syscall/syscall_unix.go.html#1701634">Signal</a></span><span class="op" id="1701660">)</span>&nbsp;<span class="ident" id="1701662">Signal</span><span class="op" id="1701668">(</span><span class="op" id="1701669">)</span>&nbsp;<span class="op" id="1701671">{</span><span class="op" id="1701672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="1701675">func</span>&nbsp;<span class="op" id="1701680">(</span><span class="ident" id="1701681">s</span>&nbsp;<span class="ident" id="1701683"><a href="/syscall/syscall_unix.go.html#1701634">Signal</a></span><span class="op" id="1701689">)</span>&nbsp;<span class="ident" id="1701691">String</span><span class="op" id="1701697">(</span><span class="op" id="1701698">)</span>&nbsp;<span class="builtintype" id="1701700">string</span>&nbsp;<span class="op" id="1701707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701710">if</span>&nbsp;<span class="num" id="1701713">0</span>&nbsp;<span class="op" id="1701715">&lt;=</span>&nbsp;<span class="ident" id="1701718"><a href="/syscall/syscall_unix.go.html#1701681">s</a></span>&nbsp;<span class="op" id="1701720">&amp;&amp;</span>&nbsp;<span class="builtintype" id="1701723">int</span><span class="op" id="1701726">(</span><span class="ident" id="1701727"><a href="/syscall/syscall_unix.go.html#1701681">s</a></span><span class="op" id="1701728">)</span>&nbsp;<span class="op" id="1701730">&lt;</span>&nbsp;<span class="builtinfunc" id="1701732">len</span><span class="op" id="1701735">(</span><span class="ident" id="1701736"><a href="/syscall/zerrors_linux_amd64.go.html#1764815">signals</a></span><span class="op" id="1701743">)</span>&nbsp;<span class="op" id="1701745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1701749">str</span>&nbsp;<span class="op" id="1701753">:=</span>&nbsp;<span class="ident" id="1701756"><a href="/syscall/zerrors_linux_amd64.go.html#1764815">signals</a></span><span class="op" id="1701763">[</span><span class="ident" id="1701764"><a href="/syscall/syscall_unix.go.html#1701681">s</a></span><span class="op" id="1701765">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701769">if</span>&nbsp;<span class="ident" id="1701772"><a href="/syscall/syscall_unix.go.html#1701749">str</a></span>&nbsp;<span class="op" id="1701776">!=</span>&nbsp;<span class="string" id="1701779">&#34;&#34;</span>&nbsp;<span class="op" id="1701782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701787">return</span>&nbsp;<span class="ident" id="1701794"><a href="/syscall/syscall_unix.go.html#1701749">str</a></span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1701800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1701803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701806">return</span>&nbsp;<span class="string" id="1701813">&#34;signal&nbsp;&#34;</span>&nbsp;<span class="op" id="1701823">+</span>&nbsp;<span class="ident" id="1701825"><a href="/syscall/str.go.html#1663673">itoa</a></span><span class="op" id="1701829">(</span><span class="builtintype" id="1701830">int</span><span class="op" id="1701833">(</span><span class="ident" id="1701834"><a href="/syscall/syscall_unix.go.html#1701681">s</a></span><span class="op" id="1701835">)</span><span class="op" id="1701836">)</span><br>
<span class="lineno"></span><span class="op" id="1701838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="1701841">func</span>&nbsp;<span class="ident" id="1701846">Read</span><span class="op" id="1701850">(</span><span class="ident" id="1701851">fd</span>&nbsp;<span class="builtintype" id="1701854">int</span><span class="op" id="1701857">,</span>&nbsp;<span class="ident" id="1701859">p</span>&nbsp;<span class="op" id="1701861">[</span><span class="op" id="1701862">]</span><span class="builtintype" id="1701863">byte</span><span class="op" id="1701867">)</span>&nbsp;<span class="op" id="1701869">(</span><span class="ident" id="1701870">n</span>&nbsp;<span class="builtintype" id="1701872">int</span><span class="op" id="1701875">,</span>&nbsp;<span class="ident" id="1701877">err</span>&nbsp;<span class="builtintype" id="1701881">error</span><span class="op" id="1701886">)</span>&nbsp;<span class="op" id="1701888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1701891"><a href="/syscall/syscall_unix.go.html#1701870">n</a></span><span class="op" id="1701892">,</span>&nbsp;<span class="ident" id="1701894"><a href="/syscall/syscall_unix.go.html#1701877">err</a></span>&nbsp;<span class="op" id="1701898">=</span>&nbsp;<span class="ident" id="1701900"><a href="/syscall/zsyscall_linux_amd64.go.html#1785300">read</a></span><span class="op" id="1701904">(</span><span class="ident" id="1701905"><a href="/syscall/syscall_unix.go.html#1701851">fd</a></span><span class="op" id="1701907">,</span>&nbsp;<span class="ident" id="1701909"><a href="/syscall/syscall_unix.go.html#1701859">p</a></span><span class="op" id="1701910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701913">if</span>&nbsp;<span class="ident" id="1701916"><a href="/syscall/race0.go.html#1659231">raceenabled</a></span>&nbsp;<span class="op" id="1701928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701932">if</span>&nbsp;<span class="ident" id="1701935"><a href="/syscall/syscall_unix.go.html#1701870">n</a></span>&nbsp;<span class="op" id="1701937">&gt;</span>&nbsp;<span class="num" id="1701939">0</span>&nbsp;<span class="op" id="1701941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1701946"><a href="/syscall/race0.go.html#1659402">raceWriteRange</a></span><span class="op" id="1701960">(</span><span class="ident" id="1701961"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1701967">.</span><span class="ident" id="1701968">Pointer</span><span class="op" id="1701975">(</span><span class="op" id="1701976">&amp;</span><span class="ident" id="1701977"><a href="/syscall/syscall_unix.go.html#1701859">p</a></span><span class="op" id="1701978">[</span><span class="num" id="1701979">0</span><span class="op" id="1701980">]</span><span class="op" id="1701981">)</span><span class="op" id="1701982">,</span>&nbsp;<span class="ident" id="1701984"><a href="/syscall/syscall_unix.go.html#1701870">n</a></span><span class="op" id="1701985">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1701989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1701993">if</span>&nbsp;<span class="ident" id="1701996"><a href="/syscall/syscall_unix.go.html#1701877">err</a></span>&nbsp;<span class="op" id="1702000">==</span>&nbsp;<span class="ident" id="1702003">nil</span>&nbsp;<span class="op" id="1702007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702012"><a href="/syscall/race0.go.html#1659257">raceAcquire</a></span><span class="op" id="1702023">(</span><span class="ident" id="1702024"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1702030">.</span><span class="ident" id="1702031">Pointer</span><span class="op" id="1702038">(</span><span class="op" id="1702039">&amp;</span><span class="ident" id="1702040"><a href="/syscall/syscall_unix.go.html#1705835">ioSync</a></span><span class="op" id="1702046">)</span><span class="op" id="1702047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1702051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1702054">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1702057">return</span><br>
<span class="lineno"></span><span class="op" id="1702064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1702067">func</span>&nbsp;<span class="ident" id="1702072">Write</span><span class="op" id="1702077">(</span><span class="ident" id="1702078">fd</span>&nbsp;<span class="builtintype" id="1702081">int</span><span class="op" id="1702084">,</span>&nbsp;<span class="ident" id="1702086">p</span>&nbsp;<span class="op" id="1702088">[</span><span class="op" id="1702089">]</span><span class="builtintype" id="1702090">byte</span><span class="op" id="1702094">)</span>&nbsp;<span class="op" id="1702096">(</span><span class="ident" id="1702097">n</span>&nbsp;<span class="builtintype" id="1702099">int</span><span class="op" id="1702102">,</span>&nbsp;<span class="ident" id="1702104">err</span>&nbsp;<span class="builtintype" id="1702108">error</span><span class="op" id="1702113">)</span>&nbsp;<span class="op" id="1702115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1702118">if</span>&nbsp;<span class="ident" id="1702121"><a href="/syscall/race0.go.html#1659231">raceenabled</a></span>&nbsp;<span class="op" id="1702133">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702137"><a href="/syscall/race0.go.html#1659300">raceReleaseMerge</a></span><span class="op" id="1702153">(</span><span class="ident" id="1702154"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1702160">.</span><span class="ident" id="1702161">Pointer</span><span class="op" id="1702168">(</span><span class="op" id="1702169">&amp;</span><span class="ident" id="1702170"><a href="/syscall/syscall_unix.go.html#1705835">ioSync</a></span><span class="op" id="1702176">)</span><span class="op" id="1702177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1702180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702183"><a href="/syscall/syscall_unix.go.html#1702097">n</a></span><span class="op" id="1702184">,</span>&nbsp;<span class="ident" id="1702186"><a href="/syscall/syscall_unix.go.html#1702104">err</a></span>&nbsp;<span class="op" id="1702190">=</span>&nbsp;<span class="ident" id="1702192"><a href="/syscall/zsyscall_linux_amd64.go.html#1794020">write</a></span><span class="op" id="1702197">(</span><span class="ident" id="1702198"><a href="/syscall/syscall_unix.go.html#1702078">fd</a></span><span class="op" id="1702200">,</span>&nbsp;<span class="ident" id="1702202"><a href="/syscall/syscall_unix.go.html#1702086">p</a></span><span class="op" id="1702203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1702206">if</span>&nbsp;<span class="ident" id="1702209"><a href="/syscall/race0.go.html#1659231">raceenabled</a></span>&nbsp;<span class="op" id="1702221">&amp;&amp;</span>&nbsp;<span class="ident" id="1702224"><a href="/syscall/syscall_unix.go.html#1702097">n</a></span>&nbsp;<span class="op" id="1702226">&gt;</span>&nbsp;<span class="num" id="1702228">0</span>&nbsp;<span class="op" id="1702230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702234"><a href="/syscall/race0.go.html#1659348">raceReadRange</a></span><span class="op" id="1702247">(</span><span class="ident" id="1702248"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1702254">.</span><span class="ident" id="1702255">Pointer</span><span class="op" id="1702262">(</span><span class="op" id="1702263">&amp;</span><span class="ident" id="1702264"><a href="/syscall/syscall_unix.go.html#1702086">p</a></span><span class="op" id="1702265">[</span><span class="num" id="1702266">0</span><span class="op" id="1702267">]</span><span class="op" id="1702268">)</span><span class="op" id="1702269">,</span>&nbsp;<span class="ident" id="1702271"><a href="/syscall/syscall_unix.go.html#1702097">n</a></span><span class="op" id="1702272">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1702275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1702278">return</span><br>
<span class="lineno"></span><span class="op" id="1702285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1702288">//&nbsp;For&nbsp;testing:&nbsp;clients&nbsp;can&nbsp;set&nbsp;this&nbsp;flag&nbsp;to&nbsp;force</span><br>
<span class="lineno">160</span><span class="comment" id="1702339">//&nbsp;creation&nbsp;of&nbsp;IPv6&nbsp;sockets&nbsp;to&nbsp;return&nbsp;EAFNOSUPPORT.</span><br>
<span class="lineno"></span><span class="keyword" id="1702391">var</span>&nbsp;<span class="ident" id="1702395">SocketDisableIPv6</span>&nbsp;<span class="builtintype" id="1702413">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1702419">type</span>&nbsp;<span class="ident" id="1702424">Sockaddr</span>&nbsp;<span class="keyword" id="1702433">interface</span>&nbsp;<span class="op" id="1702443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702446">sockaddr</span><span class="op" id="1702454">(</span><span class="op" id="1702455">)</span>&nbsp;<span class="op" id="1702457">(</span><span class="ident" id="1702458">ptr</span>&nbsp;<span class="ident" id="1702462"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1702468">.</span><span class="ident" id="1702469">Pointer</span><span class="op" id="1702476">,</span>&nbsp;<span class="builtinfunc" id="1702478">len</span>&nbsp;<span class="ident" id="1702482"><a href="/syscall/ztypes_linux_amd64.go.html#1824424">_Socklen</a></span><span class="op" id="1702490">,</span>&nbsp;<span class="ident" id="1702492">err</span>&nbsp;<span class="builtintype" id="1702496">error</span><span class="op" id="1702501">)</span>&nbsp;<span class="comment" id="1702503">//&nbsp;lowercase;&nbsp;only&nbsp;we&nbsp;can&nbsp;define&nbsp;Sockaddrs</span><br>
<span class="lineno">165</span><span class="op" id="1702546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1702549">type</span>&nbsp;<span class="ident" id="1702554">SockaddrInet4</span>&nbsp;<span class="keyword" id="1702568">struct</span>&nbsp;<span class="op" id="1702575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702578">Port</span>&nbsp;<span class="builtintype" id="1702583">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702588">Addr</span>&nbsp;<span class="op" id="1702593">[</span><span class="num" id="1702594">4</span><span class="op" id="1702595">]</span><span class="builtintype" id="1702596">byte</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702602">raw</span>&nbsp;&nbsp;<span class="ident" id="1702607"><a href="/syscall/ztypes_linux_amd64.go.html#1823733">RawSockaddrInet4</a></span><br>
<span class="lineno"></span><span class="op" id="1702624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1702627">type</span>&nbsp;<span class="ident" id="1702632">SockaddrInet6</span>&nbsp;<span class="keyword" id="1702646">struct</span>&nbsp;<span class="op" id="1702653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702656">Port</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1702663">int</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702668">ZoneId</span>&nbsp;<span class="builtintype" id="1702675">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702683">Addr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1702690">[</span><span class="num" id="1702691">16</span><span class="op" id="1702693">]</span><span class="builtintype" id="1702694">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702700">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702707"><a href="/syscall/ztypes_linux_amd64.go.html#1823844">RawSockaddrInet6</a></span><br>
<span class="lineno"></span><span class="op" id="1702724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="1702727">type</span>&nbsp;<span class="ident" id="1702732">SockaddrUnix</span>&nbsp;<span class="keyword" id="1702745">struct</span>&nbsp;<span class="op" id="1702752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702755">Name</span>&nbsp;<span class="builtintype" id="1702760">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702768">raw</span>&nbsp;&nbsp;<span class="ident" id="1702773"><a href="/syscall/ztypes_linux_amd64.go.html#1823980">RawSockaddrUnix</a></span><br>
<span class="lineno"></span><span class="op" id="1702789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="1702792">func</span>&nbsp;<span class="ident" id="1702797">Bind</span><span class="op" id="1702801">(</span><span class="ident" id="1702802">fd</span>&nbsp;<span class="builtintype" id="1702805">int</span><span class="op" id="1702808">,</span>&nbsp;<span class="ident" id="1702810">sa</span>&nbsp;<span class="ident" id="1702813"><a href="/syscall/syscall_unix.go.html#1702424">Sockaddr</a></span><span class="op" id="1702821">)</span>&nbsp;<span class="op" id="1702823">(</span><span class="ident" id="1702824">err</span>&nbsp;<span class="builtintype" id="1702828">error</span><span class="op" id="1702833">)</span>&nbsp;<span class="op" id="1702835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702838">ptr</span><span class="op" id="1702841">,</span>&nbsp;<span class="ident" id="1702843">n</span><span class="op" id="1702844">,</span>&nbsp;<span class="ident" id="1702846"><a href="/syscall/syscall_unix.go.html#1702824">err</a></span>&nbsp;<span class="op" id="1702850">:=</span>&nbsp;<span class="ident" id="1702853"><a href="/syscall/syscall_unix.go.html#1702810">sa</a></span><span class="op" id="1702855">.</span><span class="ident" id="1702856">sockaddr</span><span class="op" id="1702864">(</span><span class="op" id="1702865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1702868">if</span>&nbsp;<span class="ident" id="1702871"><a href="/syscall/syscall_unix.go.html#1702824">err</a></span>&nbsp;<span class="op" id="1702875">!=</span>&nbsp;<span class="ident" id="1702878">nil</span>&nbsp;<span class="op" id="1702882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1702886">return</span>&nbsp;<span class="ident" id="1702893"><a href="/syscall/syscall_unix.go.html#1702824">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1702898">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1702901">return</span>&nbsp;<span class="ident" id="1702908"><a href="/syscall/zsyscall_linux_amd64.go.html#1806579">bind</a></span><span class="op" id="1702912">(</span><span class="ident" id="1702913"><a href="/syscall/syscall_unix.go.html#1702802">fd</a></span><span class="op" id="1702915">,</span>&nbsp;<span class="ident" id="1702917"><a href="/syscall/syscall_unix.go.html#1702838">ptr</a></span><span class="op" id="1702920">,</span>&nbsp;<span class="ident" id="1702922"><a href="/syscall/syscall_unix.go.html#1702843">n</a></span><span class="op" id="1702923">)</span><br>
<span class="lineno"></span><span class="op" id="1702925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1702928">func</span>&nbsp;<span class="ident" id="1702933">Connect</span><span class="op" id="1702940">(</span><span class="ident" id="1702941">fd</span>&nbsp;<span class="builtintype" id="1702944">int</span><span class="op" id="1702947">,</span>&nbsp;<span class="ident" id="1702949">sa</span>&nbsp;<span class="ident" id="1702952"><a href="/syscall/syscall_unix.go.html#1702424">Sockaddr</a></span><span class="op" id="1702960">)</span>&nbsp;<span class="op" id="1702962">(</span><span class="ident" id="1702963">err</span>&nbsp;<span class="builtintype" id="1702967">error</span><span class="op" id="1702972">)</span>&nbsp;<span class="op" id="1702974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1702977">ptr</span><span class="op" id="1702980">,</span>&nbsp;<span class="ident" id="1702982">n</span><span class="op" id="1702983">,</span>&nbsp;<span class="ident" id="1702985"><a href="/syscall/syscall_unix.go.html#1702963">err</a></span>&nbsp;<span class="op" id="1702989">:=</span>&nbsp;<span class="ident" id="1702992"><a href="/syscall/syscall_unix.go.html#1702949">sa</a></span><span class="op" id="1702994">.</span><span class="ident" id="1702995">sockaddr</span><span class="op" id="1703003">(</span><span class="op" id="1703004">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703007">if</span>&nbsp;<span class="ident" id="1703010"><a href="/syscall/syscall_unix.go.html#1702963">err</a></span>&nbsp;<span class="op" id="1703014">!=</span>&nbsp;<span class="ident" id="1703017">nil</span>&nbsp;<span class="op" id="1703021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703025">return</span>&nbsp;<span class="ident" id="1703032"><a href="/syscall/syscall_unix.go.html#1702963">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1703037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703040">return</span>&nbsp;<span class="ident" id="1703047"><a href="/syscall/zsyscall_linux_amd64.go.html#1806830">connect</a></span><span class="op" id="1703054">(</span><span class="ident" id="1703055"><a href="/syscall/syscall_unix.go.html#1702941">fd</a></span><span class="op" id="1703057">,</span>&nbsp;<span class="ident" id="1703059"><a href="/syscall/syscall_unix.go.html#1702977">ptr</a></span><span class="op" id="1703062">,</span>&nbsp;<span class="ident" id="1703064"><a href="/syscall/syscall_unix.go.html#1702982">n</a></span><span class="op" id="1703065">)</span><br>
<span class="lineno"></span><span class="op" id="1703067">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="1703070">func</span>&nbsp;<span class="ident" id="1703075">Getpeername</span><span class="op" id="1703086">(</span><span class="ident" id="1703087">fd</span>&nbsp;<span class="builtintype" id="1703090">int</span><span class="op" id="1703093">)</span>&nbsp;<span class="op" id="1703095">(</span><span class="ident" id="1703096">sa</span>&nbsp;<span class="ident" id="1703099"><a href="/syscall/syscall_unix.go.html#1702424">Sockaddr</a></span><span class="op" id="1703107">,</span>&nbsp;<span class="ident" id="1703109">err</span>&nbsp;<span class="builtintype" id="1703113">error</span><span class="op" id="1703118">)</span>&nbsp;<span class="op" id="1703120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703123">var</span>&nbsp;<span class="ident" id="1703127">rsa</span>&nbsp;<span class="ident" id="1703131"><a href="/syscall/ztypes_linux_amd64.go.html#1824359">RawSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703147">var</span>&nbsp;<span class="builtinfunc" id="1703151">len</span>&nbsp;<span class="ident" id="1703155"><a href="/syscall/ztypes_linux_amd64.go.html#1824424">_Socklen</a></span>&nbsp;<span class="op" id="1703164">=</span>&nbsp;<span class="ident" id="1703166"><a href="/syscall/ztypes_linux_amd64.go.html#1826285">SizeofSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703185">if</span>&nbsp;<span class="ident" id="1703188"><a href="/syscall/syscall_unix.go.html#1703109">err</a></span>&nbsp;<span class="op" id="1703192">=</span>&nbsp;<span class="ident" id="1703194"><a href="/syscall/zsyscall_linux_amd64.go.html#1808809">getpeername</a></span><span class="op" id="1703205">(</span><span class="ident" id="1703206"><a href="/syscall/syscall_unix.go.html#1703087">fd</a></span><span class="op" id="1703208">,</span>&nbsp;<span class="op" id="1703210">&amp;</span><span class="ident" id="1703211"><a href="/syscall/syscall_unix.go.html#1703127">rsa</a></span><span class="op" id="1703214">,</span>&nbsp;<span class="op" id="1703216">&amp;</span><span class="builtinfunc" id="1703217"><a href="/syscall/syscall_unix.go.html#1703151">len</a></span><span class="op" id="1703220">)</span><span class="op" id="1703221">;</span>&nbsp;<span class="ident" id="1703223"><a href="/syscall/syscall_unix.go.html#1703109">err</a></span>&nbsp;<span class="op" id="1703227">!=</span>&nbsp;<span class="ident" id="1703230">nil</span>&nbsp;<span class="op" id="1703234">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703238">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1703246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703249">return</span>&nbsp;<span class="ident" id="1703256"><a href="/syscall/syscall_linux.go.html#1675065">anyToSockaddr</a></span><span class="op" id="1703269">(</span><span class="op" id="1703270">&amp;</span><span class="ident" id="1703271"><a href="/syscall/syscall_unix.go.html#1703127">rsa</a></span><span class="op" id="1703274">)</span><br>
<span class="lineno"></span><span class="op" id="1703276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="1703279">func</span>&nbsp;<span class="ident" id="1703284">GetsockoptInt</span><span class="op" id="1703297">(</span><span class="ident" id="1703298">fd</span><span class="op" id="1703300">,</span>&nbsp;<span class="ident" id="1703302">level</span><span class="op" id="1703307">,</span>&nbsp;<span class="ident" id="1703309">opt</span>&nbsp;<span class="builtintype" id="1703313">int</span><span class="op" id="1703316">)</span>&nbsp;<span class="op" id="1703318">(</span><span class="ident" id="1703319">value</span>&nbsp;<span class="builtintype" id="1703325">int</span><span class="op" id="1703328">,</span>&nbsp;<span class="ident" id="1703330">err</span>&nbsp;<span class="builtintype" id="1703334">error</span><span class="op" id="1703339">)</span>&nbsp;<span class="op" id="1703341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703344">var</span>&nbsp;<span class="ident" id="1703348">n</span>&nbsp;<span class="builtintype" id="1703350">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1703357">vallen</span>&nbsp;<span class="op" id="1703364">:=</span>&nbsp;<span class="ident" id="1703367"><a href="/syscall/ztypes_linux_amd64.go.html#1824424">_Socklen</a></span><span class="op" id="1703375">(</span><span class="num" id="1703376">4</span><span class="op" id="1703377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1703380"><a href="/syscall/syscall_unix.go.html#1703330">err</a></span>&nbsp;<span class="op" id="1703384">=</span>&nbsp;<span class="ident" id="1703386"><a href="/syscall/zsyscall_linux_amd64.go.html#1807590">getsockopt</a></span><span class="op" id="1703396">(</span><span class="ident" id="1703397"><a href="/syscall/syscall_unix.go.html#1703298">fd</a></span><span class="op" id="1703399">,</span>&nbsp;<span class="ident" id="1703401"><a href="/syscall/syscall_unix.go.html#1703302">level</a></span><span class="op" id="1703406">,</span>&nbsp;<span class="ident" id="1703408"><a href="/syscall/syscall_unix.go.html#1703309">opt</a></span><span class="op" id="1703411">,</span>&nbsp;<span class="ident" id="1703413"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1703419">.</span><span class="ident" id="1703420">Pointer</span><span class="op" id="1703427">(</span><span class="op" id="1703428">&amp;</span><span class="ident" id="1703429"><a href="/syscall/syscall_unix.go.html#1703348">n</a></span><span class="op" id="1703430">)</span><span class="op" id="1703431">,</span>&nbsp;<span class="op" id="1703433">&amp;</span><span class="ident" id="1703434"><a href="/syscall/syscall_unix.go.html#1703357">vallen</a></span><span class="op" id="1703440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703443">return</span>&nbsp;<span class="builtintype" id="1703450">int</span><span class="op" id="1703453">(</span><span class="ident" id="1703454"><a href="/syscall/syscall_unix.go.html#1703348">n</a></span><span class="op" id="1703455">)</span><span class="op" id="1703456">,</span>&nbsp;<span class="ident" id="1703458"><a href="/syscall/syscall_unix.go.html#1703330">err</a></span><br>
<span class="lineno">215</span><span class="op" id="1703462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1703465">func</span>&nbsp;<span class="ident" id="1703470">Recvfrom</span><span class="op" id="1703478">(</span><span class="ident" id="1703479">fd</span>&nbsp;<span class="builtintype" id="1703482">int</span><span class="op" id="1703485">,</span>&nbsp;<span class="ident" id="1703487">p</span>&nbsp;<span class="op" id="1703489">[</span><span class="op" id="1703490">]</span><span class="builtintype" id="1703491">byte</span><span class="op" id="1703495">,</span>&nbsp;<span class="ident" id="1703497">flags</span>&nbsp;<span class="builtintype" id="1703503">int</span><span class="op" id="1703506">)</span>&nbsp;<span class="op" id="1703508">(</span><span class="ident" id="1703509">n</span>&nbsp;<span class="builtintype" id="1703511">int</span><span class="op" id="1703514">,</span>&nbsp;<span class="ident" id="1703516">from</span>&nbsp;<span class="ident" id="1703521"><a href="/syscall/syscall_unix.go.html#1702424">Sockaddr</a></span><span class="op" id="1703529">,</span>&nbsp;<span class="ident" id="1703531">err</span>&nbsp;<span class="builtintype" id="1703535">error</span><span class="op" id="1703540">)</span>&nbsp;<span class="op" id="1703542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703545">var</span>&nbsp;<span class="ident" id="1703549">rsa</span>&nbsp;<span class="ident" id="1703553"><a href="/syscall/ztypes_linux_amd64.go.html#1824359">RawSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703569">var</span>&nbsp;<span class="builtinfunc" id="1703573">len</span>&nbsp;<span class="ident" id="1703577"><a href="/syscall/ztypes_linux_amd64.go.html#1824424">_Socklen</a></span>&nbsp;<span class="op" id="1703586">=</span>&nbsp;<span class="ident" id="1703588"><a href="/syscall/ztypes_linux_amd64.go.html#1826285">SizeofSockaddrAny</a></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703607">if</span>&nbsp;<span class="ident" id="1703610"><a href="/syscall/syscall_unix.go.html#1703509">n</a></span><span class="op" id="1703611">,</span>&nbsp;<span class="ident" id="1703613"><a href="/syscall/syscall_unix.go.html#1703531">err</a></span>&nbsp;<span class="op" id="1703617">=</span>&nbsp;<span class="ident" id="1703619"><a href="/syscall/zsyscall_linux_amd64.go.html#1809413">recvfrom</a></span><span class="op" id="1703627">(</span><span class="ident" id="1703628"><a href="/syscall/syscall_unix.go.html#1703479">fd</a></span><span class="op" id="1703630">,</span>&nbsp;<span class="ident" id="1703632"><a href="/syscall/syscall_unix.go.html#1703487">p</a></span><span class="op" id="1703633">,</span>&nbsp;<span class="ident" id="1703635"><a href="/syscall/syscall_unix.go.html#1703497">flags</a></span><span class="op" id="1703640">,</span>&nbsp;<span class="op" id="1703642">&amp;</span><span class="ident" id="1703643"><a href="/syscall/syscall_unix.go.html#1703549">rsa</a></span><span class="op" id="1703646">,</span>&nbsp;<span class="op" id="1703648">&amp;</span><span class="builtinfunc" id="1703649"><a href="/syscall/syscall_unix.go.html#1703573">len</a></span><span class="op" id="1703652">)</span><span class="op" id="1703653">;</span>&nbsp;<span class="ident" id="1703655"><a href="/syscall/syscall_unix.go.html#1703531">err</a></span>&nbsp;<span class="op" id="1703659">!=</span>&nbsp;<span class="ident" id="1703662">nil</span>&nbsp;<span class="op" id="1703666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703670">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1703678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703681">if</span>&nbsp;<span class="ident" id="1703684"><a href="/syscall/syscall_unix.go.html#1703549">rsa</a></span><span class="op" id="1703687">.</span><span class="ident" id="1703688">Addr</span><span class="op" id="1703692">.</span><span class="ident" id="1703693">Family</span>&nbsp;<span class="op" id="1703700">!=</span>&nbsp;<span class="ident" id="1703703"><a href="/syscall/zerrors_linux_amd64.go.html#1707567">AF_UNSPEC</a></span>&nbsp;<span class="op" id="1703713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1703717"><a href="/syscall/syscall_unix.go.html#1703516">from</a></span><span class="op" id="1703721">,</span>&nbsp;<span class="ident" id="1703723"><a href="/syscall/syscall_unix.go.html#1703531">err</a></span>&nbsp;<span class="op" id="1703727">=</span>&nbsp;<span class="ident" id="1703729"><a href="/syscall/syscall_linux.go.html#1675065">anyToSockaddr</a></span><span class="op" id="1703742">(</span><span class="op" id="1703743">&amp;</span><span class="ident" id="1703744"><a href="/syscall/syscall_unix.go.html#1703549">rsa</a></span><span class="op" id="1703747">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1703750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703753">return</span><br>
<span class="lineno"></span><span class="op" id="1703760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1703763">func</span>&nbsp;<span class="ident" id="1703768">Sendto</span><span class="op" id="1703774">(</span><span class="ident" id="1703775">fd</span>&nbsp;<span class="builtintype" id="1703778">int</span><span class="op" id="1703781">,</span>&nbsp;<span class="ident" id="1703783">p</span>&nbsp;<span class="op" id="1703785">[</span><span class="op" id="1703786">]</span><span class="builtintype" id="1703787">byte</span><span class="op" id="1703791">,</span>&nbsp;<span class="ident" id="1703793">flags</span>&nbsp;<span class="builtintype" id="1703799">int</span><span class="op" id="1703802">,</span>&nbsp;<span class="ident" id="1703804">to</span>&nbsp;<span class="ident" id="1703807"><a href="/syscall/syscall_unix.go.html#1702424">Sockaddr</a></span><span class="op" id="1703815">)</span>&nbsp;<span class="op" id="1703817">(</span><span class="ident" id="1703818">err</span>&nbsp;<span class="builtintype" id="1703822">error</span><span class="op" id="1703827">)</span>&nbsp;<span class="op" id="1703829">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1703832">ptr</span><span class="op" id="1703835">,</span>&nbsp;<span class="ident" id="1703837">n</span><span class="op" id="1703838">,</span>&nbsp;<span class="ident" id="1703840"><a href="/syscall/syscall_unix.go.html#1703818">err</a></span>&nbsp;<span class="op" id="1703844">:=</span>&nbsp;<span class="ident" id="1703847"><a href="/syscall/syscall_unix.go.html#1703804">to</a></span><span class="op" id="1703849">.</span><span class="ident" id="1703850">sockaddr</span><span class="op" id="1703858">(</span><span class="op" id="1703859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703862">if</span>&nbsp;<span class="ident" id="1703865"><a href="/syscall/syscall_unix.go.html#1703818">err</a></span>&nbsp;<span class="op" id="1703869">!=</span>&nbsp;<span class="ident" id="1703872">nil</span>&nbsp;<span class="op" id="1703876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703880">return</span>&nbsp;<span class="ident" id="1703887"><a href="/syscall/syscall_unix.go.html#1703818">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1703892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1703895">return</span>&nbsp;<span class="ident" id="1703902"><a href="/syscall/zsyscall_linux_amd64.go.html#1809913">sendto</a></span><span class="op" id="1703908">(</span><span class="ident" id="1703909"><a href="/syscall/syscall_unix.go.html#1703775">fd</a></span><span class="op" id="1703911">,</span>&nbsp;<span class="ident" id="1703913"><a href="/syscall/syscall_unix.go.html#1703783">p</a></span><span class="op" id="1703914">,</span>&nbsp;<span class="ident" id="1703916"><a href="/syscall/syscall_unix.go.html#1703793">flags</a></span><span class="op" id="1703921">,</span>&nbsp;<span class="ident" id="1703923"><a href="/syscall/syscall_unix.go.html#1703832">ptr</a></span><span class="op" id="1703926">,</span>&nbsp;<span class="ident" id="1703928"><a href="/syscall/syscall_unix.go.html#1703837">n</a></span><span class="op" id="1703929">)</span><br>
<span class="lineno">235</span><span class="op" id="1703931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1703934">func</span>&nbsp;<span class="ident" id="1703939">SetsockoptByte</span><span class="op" id="1703953">(</span><span class="ident" id="1703954">fd</span><span class="op" id="1703956">,</span>&nbsp;<span class="ident" id="1703958">level</span><span class="op" id="1703963">,</span>&nbsp;<span class="ident" id="1703965">opt</span>&nbsp;<span class="builtintype" id="1703969">int</span><span class="op" id="1703972">,</span>&nbsp;<span class="ident" id="1703974">value</span>&nbsp;<span class="builtintype" id="1703980">byte</span><span class="op" id="1703984">)</span>&nbsp;<span class="op" id="1703986">(</span><span class="ident" id="1703987">err</span>&nbsp;<span class="builtintype" id="1703991">error</span><span class="op" id="1703996">)</span>&nbsp;<span class="op" id="1703998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1704001">return</span>&nbsp;<span class="ident" id="1704008"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1704018">(</span><span class="ident" id="1704019"><a href="/syscall/syscall_unix.go.html#1703954">fd</a></span><span class="op" id="1704021">,</span>&nbsp;<span class="ident" id="1704023"><a href="/syscall/syscall_unix.go.html#1703958">level</a></span><span class="op" id="1704028">,</span>&nbsp;<span class="ident" id="1704030"><a href="/syscall/syscall_unix.go.html#1703965">opt</a></span><span class="op" id="1704033">,</span>&nbsp;<span class="ident" id="1704035"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1704041">.</span><span class="ident" id="1704042">Pointer</span><span class="op" id="1704049">(</span><span class="op" id="1704050">&amp;</span><span class="ident" id="1704051"><a href="/syscall/syscall_unix.go.html#1703974">value</a></span><span class="op" id="1704056">)</span><span class="op" id="1704057">,</span>&nbsp;<span class="num" id="1704059">1</span><span class="op" id="1704060">)</span><br>
<span class="lineno"></span><span class="op" id="1704062">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="1704065">func</span>&nbsp;<span class="ident" id="1704070">SetsockoptInt</span><span class="op" id="1704083">(</span><span class="ident" id="1704084">fd</span><span class="op" id="1704086">,</span>&nbsp;<span class="ident" id="1704088">level</span><span class="op" id="1704093">,</span>&nbsp;<span class="ident" id="1704095">opt</span>&nbsp;<span class="builtintype" id="1704099">int</span><span class="op" id="1704102">,</span>&nbsp;<span class="ident" id="1704104">value</span>&nbsp;<span class="builtintype" id="1704110">int</span><span class="op" id="1704113">)</span>&nbsp;<span class="op" id="1704115">(</span><span class="ident" id="1704116">err</span>&nbsp;<span class="builtintype" id="1704120">error</span><span class="op" id="1704125">)</span>&nbsp;<span class="op" id="1704127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1704130">var</span>&nbsp;<span class="ident" id="1704134">n</span>&nbsp;<span class="op" id="1704136">=</span>&nbsp;<span class="builtintype" id="1704138">int32</span><span class="op" id="1704143">(</span><span class="ident" id="1704144"><a href="/syscall/syscall_unix.go.html#1704104">value</a></span><span class="op" id="1704149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1704152">return</span>&nbsp;<span class="ident" id="1704159"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1704169">(</span><span class="ident" id="1704170"><a href="/syscall/syscall_unix.go.html#1704084">fd</a></span><span class="op" id="1704172">,</span>&nbsp;<span class="ident" id="1704174"><a href="/syscall/syscall_unix.go.html#1704088">level</a></span><span class="op" id="1704179">,</span>&nbsp;<span class="ident" id="1704181"><a href="/syscall/syscall_unix.go.html#1704095">opt</a></span><span class="op" id="1704184">,</span>&nbsp;<span class="ident" id="1704186"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1704192">.</span><span class="ident" id="1704193">Pointer</span><span class="op" id="1704200">(</span><span class="op" id="1704201">&amp;</span><span class="ident" id="1704202"><a href="/syscall/syscall_unix.go.html#1704134">n</a></span><span class="op" id="1704203">)</span><span class="op" id="1704204">,</span>&nbsp;<span class="num" id="1704206">4</span><span class="op" id="1704207">)</span><br>
<span class="lineno"></span><span class="op" id="1704209">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="1704212">func</span>&nbsp;<span class="ident" id="1704217">SetsockoptInet4Addr</span><span class="op" id="1704236">(</span><span class="ident" id="1704237">fd</span><span class="op" id="1704239">,</span>&nbsp;<span class="ident" id="1704241">level</span><span class="op" id="1704246">,</span>&nbsp;<span class="ident" id="1704248">opt</span>&nbsp;<span class="builtintype" id="1704252">int</span><span class="op" id="1704255">,</span>&nbsp;<span class="ident" id="1704257">value</span>&nbsp;<span class="op" id="1704263">[</span><span class="num" id="1704264">4</span><span class="op" id="1704265">]</span><span class="builtintype" id="1704266">byte</span><span class="op" id="1704270">)</span>&nbsp;<span class="op" id="1704272">(</span><span class="ident" id="1704273">err</span>&nbsp;<span class="builtintype" id="1704277">error</span><span class="op" id="1704282">)</span>&nbsp;<span class="op" id="1704284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1704287">return</span>&nbsp;<span class="ident" id="1704294"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1704304">(</span><span class="ident" id="1704305"><a href="/syscall/syscall_unix.go.html#1704237">fd</a></span><span class="op" id="1704307">,</span>&nbsp;<span class="ident" id="1704309"><a href="/syscall/syscall_unix.go.html#1704241">level</a></span><span class="op" id="1704314">,</span>&nbsp;<span class="ident" id="1704316"><a href="/syscall/syscall_unix.go.html#1704248">opt</a></span><span class="op" id="1704319">,</span>&nbsp;<span class="ident" id="1704321"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1704327">.</span><span class="ident" id="1704328">Pointer</span><span class="op" id="1704335">(</span><span class="op" id="1704336">&amp;</span><span class="ident" id="1704337"><a href="/syscall/syscall_unix.go.html#1704257">value</a></span><span class="op" id="1704342">[</span><span class="num" id="1704343">0</span><span class="op" id="1704344">]</span><span class="op" id="1704345">)</span><span class="op" id="1704346">,</span>&nbsp;<span class="num" id="1704348">4</span><span class="op" id="1704349">)</span><br>
<span class="lineno"></span><span class="op" id="1704351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="1704354">func</span>&nbsp;<span class="ident" id="1704359">SetsockoptIPMreq</span><span class="op" id="1704375">(</span><span class="ident" id="1704376">fd</span><span class="op" id="1704378">,</span>&nbsp;<span class="ident" id="1704380">level</span><span class="op" id="1704385">,</span>&nbsp;<span class="ident" id="1704387">opt</span>&nbsp;<span class="builtintype" id="1704391">int</span><span class="op" id="1704394">,</span>&nbsp;<span class="ident" id="1704396">mreq</span>&nbsp;<span class="op" id="1704401">*</span><span class="ident" id="1704402"><a href="/syscall/ztypes_linux_amd64.go.html#1824546">IPMreq</a></span><span class="op" id="1704408">)</span>&nbsp;<span class="op" id="1704410">(</span><span class="ident" id="1704411">err</span>&nbsp;<span class="builtintype" id="1704415">error</span><span class="op" id="1704420">)</span>&nbsp;<span class="op" id="1704422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1704425">return</span>&nbsp;<span class="ident" id="1704432"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1704442">(</span><span class="ident" id="1704443"><a href="/syscall/syscall_unix.go.html#1704376">fd</a></span><span class="op" id="1704445">,</span>&nbsp;<span class="ident" id="1704447"><a href="/syscall/syscall_unix.go.html#1704380">level</a></span><span class="op" id="1704452">,</span>&nbsp;<span class="ident" id="1704454"><a href="/syscall/syscall_unix.go.html#1704387">opt</a></span><span class="op" id="1704457">,</span>&nbsp;<span class="ident" id="1704459"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1704465">.</span><span class="ident" id="1704466">Pointer</span><span class="op" id="1704473">(</span><span class="ident" id="1704474"><a href="/syscall/syscall_unix.go.html#1704396">mreq</a></span><span class="op" id="1704478">)</span><span class="op" id="1704479">,</span>&nbsp;<span class="ident" id="1704481"><a href="/syscall/ztypes_linux_amd64.go.html#1826443">SizeofIPMreq</a></span><span class="op" id="1704493">)</span><br>
<span class="lineno"></span><span class="op" id="1704495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1704498">func</span>&nbsp;<span class="ident" id="1704503">SetsockoptIPv6Mreq</span><span class="op" id="1704521">(</span><span class="ident" id="1704522">fd</span><span class="op" id="1704524">,</span>&nbsp;<span class="ident" id="1704526">level</span><span class="op" id="1704531">,</span>&nbsp;<span class="ident" id="1704533">opt</span>&nbsp;<span class="builtintype" id="1704537">int</span><span class="op" id="1704540">,</span>&nbsp;<span class="ident" id="1704542">mreq</span>&nbsp;<span class="op" id="1704547">*</span><span class="ident" id="1704548"><a href="/syscall/ztypes_linux_amd64.go.html#1824744">IPv6Mreq</a></span><span class="op" id="1704556">)</span>&nbsp;<span class="op" id="1704558">(</span><span class="ident" id="1704559">err</span>&nbsp;<span class="builtintype" id="1704563">error</span><span class="op" id="1704568">)</span>&nbsp;<span class="op" id="1704570">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1704573">return</span>&nbsp;<span class="ident" id="1704580"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1704590">(</span><span class="ident" id="1704591"><a href="/syscall/syscall_unix.go.html#1704522">fd</a></span><span class="op" id="1704593">,</span>&nbsp;<span class="ident" id="1704595"><a href="/syscall/syscall_unix.go.html#1704526">level</a></span><span class="op" id="1704600">,</span>&nbsp;<span class="ident" id="1704602"><a href="/syscall/syscall_unix.go.html#1704533">opt</a></span><span class="op" id="1704605">,</span>&nbsp;<span class="ident" id="1704607"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1704613">.</span><span class="ident" id="1704614">Pointer</span><span class="op" id="1704621">(</span><span class="ident" id="1704622"><a href="/syscall/syscall_unix.go.html#1704542">mreq</a></span><span class="op" id="1704626">)</span><span class="op" id="1704627">,</span>&nbsp;<span class="ident" id="1704629"><a href="/syscall/ztypes_linux_amd64.go.html#1826505">SizeofIPv6Mreq</a></span><span class="op" id="1704643">)</span><br>
<span class="lineno"></span><span class="op" id="1704645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1704648">func</span>&nbsp;<span class="ident" id="1704653">SetsockoptICMPv6Filter</span><span class="op" id="1704675">(</span><span class="ident" id="1704676">fd</span><span class="op" id="1704678">,</span>&nbsp;<span class="ident" id="1704680">level</span><span class="op" id="1704685">,</span>&nbsp;<span class="ident" id="1704687">opt</span>&nbsp;<span class="builtintype" id="1704691">int</span><span class="op" id="1704694">,</span>&nbsp;<span class="ident" id="1704696">filter</span>&nbsp;<span class="op" id="1704703">*</span><span class="ident" id="1704704"><a href="/syscall/ztypes_linux_amd64.go.html#1825380">ICMPv6Filter</a></span><span class="op" id="1704716">)</span>&nbsp;<span class="builtintype" id="1704718">error</span>&nbsp;<span class="op" id="1704724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1704727">return</span>&nbsp;<span class="ident" id="1704734"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1704744">(</span><span class="ident" id="1704745"><a href="/syscall/syscall_unix.go.html#1704676">fd</a></span><span class="op" id="1704747">,</span>&nbsp;<span class="ident" id="1704749"><a href="/syscall/syscall_unix.go.html#1704680">level</a></span><span class="op" id="1704754">,</span>&nbsp;<span class="ident" id="1704756"><a href="/syscall/syscall_unix.go.html#1704687">opt</a></span><span class="op" id="1704759">,</span>&nbsp;<span class="ident" id="1704761"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1704767">.</span><span class="ident" id="1704768">Pointer</span><span class="op" id="1704775">(</span><span class="ident" id="1704776"><a href="/syscall/syscall_unix.go.html#1704696">filter</a></span><span class="op" id="1704782">)</span><span class="op" id="1704783">,</span>&nbsp;<span class="ident" id="1704785"><a href="/syscall/ztypes_linux_amd64.go.html#1826696">SizeofICMPv6Filter</a></span><span class="op" id="1704803">)</span><br>
<span class="lineno">260</span><span class="op" id="1704805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1704808">func</span>&nbsp;<span class="ident" id="1704813">SetsockoptLinger</span><span class="op" id="1704829">(</span><span class="ident" id="1704830">fd</span><span class="op" id="1704832">,</span>&nbsp;<span class="ident" id="1704834">level</span><span class="op" id="1704839">,</span>&nbsp;<span class="ident" id="1704841">opt</span>&nbsp;<span class="builtintype" id="1704845">int</span><span class="op" id="1704848">,</span>&nbsp;<span class="ident" id="1704850">l</span>&nbsp;<span class="op" id="1704852">*</span><span class="ident" id="1704853"><a href="/syscall/ztypes_linux_amd64.go.html#1824446">Linger</a></span><span class="op" id="1704859">)</span>&nbsp;<span class="op" id="1704861">(</span><span class="ident" id="1704862">err</span>&nbsp;<span class="builtintype" id="1704866">error</span><span class="op" id="1704871">)</span>&nbsp;<span class="op" id="1704873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1704876">return</span>&nbsp;<span class="ident" id="1704883"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1704893">(</span><span class="ident" id="1704894"><a href="/syscall/syscall_unix.go.html#1704830">fd</a></span><span class="op" id="1704896">,</span>&nbsp;<span class="ident" id="1704898"><a href="/syscall/syscall_unix.go.html#1704834">level</a></span><span class="op" id="1704903">,</span>&nbsp;<span class="ident" id="1704905"><a href="/syscall/syscall_unix.go.html#1704841">opt</a></span><span class="op" id="1704908">,</span>&nbsp;<span class="ident" id="1704910"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1704916">.</span><span class="ident" id="1704917">Pointer</span><span class="op" id="1704924">(</span><span class="ident" id="1704925"><a href="/syscall/syscall_unix.go.html#1704850">l</a></span><span class="op" id="1704926">)</span><span class="op" id="1704927">,</span>&nbsp;<span class="ident" id="1704929"><a href="/syscall/ztypes_linux_amd64.go.html#1826412">SizeofLinger</a></span><span class="op" id="1704941">)</span><br>
<span class="lineno"></span><span class="op" id="1704943">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="1704946">func</span>&nbsp;<span class="ident" id="1704951">SetsockoptString</span><span class="op" id="1704967">(</span><span class="ident" id="1704968">fd</span><span class="op" id="1704970">,</span>&nbsp;<span class="ident" id="1704972">level</span><span class="op" id="1704977">,</span>&nbsp;<span class="ident" id="1704979">opt</span>&nbsp;<span class="builtintype" id="1704983">int</span><span class="op" id="1704986">,</span>&nbsp;<span class="ident" id="1704988">s</span>&nbsp;<span class="builtintype" id="1704990">string</span><span class="op" id="1704996">)</span>&nbsp;<span class="op" id="1704998">(</span><span class="ident" id="1704999">err</span>&nbsp;<span class="builtintype" id="1705003">error</span><span class="op" id="1705008">)</span>&nbsp;<span class="op" id="1705010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705013">return</span>&nbsp;<span class="ident" id="1705020"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1705030">(</span><span class="ident" id="1705031"><a href="/syscall/syscall_unix.go.html#1704968">fd</a></span><span class="op" id="1705033">,</span>&nbsp;<span class="ident" id="1705035"><a href="/syscall/syscall_unix.go.html#1704972">level</a></span><span class="op" id="1705040">,</span>&nbsp;<span class="ident" id="1705042"><a href="/syscall/syscall_unix.go.html#1704979">opt</a></span><span class="op" id="1705045">,</span>&nbsp;<span class="ident" id="1705047"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1705053">.</span><span class="ident" id="1705054">Pointer</span><span class="op" id="1705061">(</span><span class="op" id="1705062">&amp;</span><span class="op" id="1705063">[</span><span class="op" id="1705064">]</span><span class="builtintype" id="1705065">byte</span><span class="op" id="1705069">(</span><span class="ident" id="1705070"><a href="/syscall/syscall_unix.go.html#1704988">s</a></span><span class="op" id="1705071">)</span><span class="op" id="1705072">[</span><span class="num" id="1705073">0</span><span class="op" id="1705074">]</span><span class="op" id="1705075">)</span><span class="op" id="1705076">,</span>&nbsp;<span class="builtintype" id="1705078">uintptr</span><span class="op" id="1705085">(</span><span class="builtinfunc" id="1705086">len</span><span class="op" id="1705089">(</span><span class="ident" id="1705090"><a href="/syscall/syscall_unix.go.html#1704988">s</a></span><span class="op" id="1705091">)</span><span class="op" id="1705092">)</span><span class="op" id="1705093">)</span><br>
<span class="lineno"></span><span class="op" id="1705095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="1705098">func</span>&nbsp;<span class="ident" id="1705103">SetsockoptTimeval</span><span class="op" id="1705120">(</span><span class="ident" id="1705121">fd</span><span class="op" id="1705123">,</span>&nbsp;<span class="ident" id="1705125">level</span><span class="op" id="1705130">,</span>&nbsp;<span class="ident" id="1705132">opt</span>&nbsp;<span class="builtintype" id="1705136">int</span><span class="op" id="1705139">,</span>&nbsp;<span class="ident" id="1705141">tv</span>&nbsp;<span class="op" id="1705144">*</span><span class="ident" id="1705145"><a href="/syscall/ztypes_linux_amd64.go.html#1821906">Timeval</a></span><span class="op" id="1705152">)</span>&nbsp;<span class="op" id="1705154">(</span><span class="ident" id="1705155">err</span>&nbsp;<span class="builtintype" id="1705159">error</span><span class="op" id="1705164">)</span>&nbsp;<span class="op" id="1705166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705169">return</span>&nbsp;<span class="ident" id="1705176"><a href="/syscall/zsyscall_linux_amd64.go.html#1807922">setsockopt</a></span><span class="op" id="1705186">(</span><span class="ident" id="1705187"><a href="/syscall/syscall_unix.go.html#1705121">fd</a></span><span class="op" id="1705189">,</span>&nbsp;<span class="ident" id="1705191"><a href="/syscall/syscall_unix.go.html#1705125">level</a></span><span class="op" id="1705196">,</span>&nbsp;<span class="ident" id="1705198"><a href="/syscall/syscall_unix.go.html#1705132">opt</a></span><span class="op" id="1705201">,</span>&nbsp;<span class="ident" id="1705203"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1705209">.</span><span class="ident" id="1705210">Pointer</span><span class="op" id="1705217">(</span><span class="ident" id="1705218"><a href="/syscall/syscall_unix.go.html#1705141">tv</a></span><span class="op" id="1705220">)</span><span class="op" id="1705221">,</span>&nbsp;<span class="ident" id="1705223"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1705229">.</span><span class="ident" id="1705230">Sizeof</span><span class="op" id="1705236">(</span><span class="op" id="1705237">*</span><span class="ident" id="1705238"><a href="/syscall/syscall_unix.go.html#1705141">tv</a></span><span class="op" id="1705240">)</span><span class="op" id="1705241">)</span><br>
<span class="lineno"></span><span class="op" id="1705243">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1705246">func</span>&nbsp;<span class="ident" id="1705251">Socket</span><span class="op" id="1705257">(</span><span class="ident" id="1705258">domain</span><span class="op" id="1705264">,</span>&nbsp;<span class="ident" id="1705266">typ</span><span class="op" id="1705269">,</span>&nbsp;<span class="ident" id="1705271">proto</span>&nbsp;<span class="builtintype" id="1705277">int</span><span class="op" id="1705280">)</span>&nbsp;<span class="op" id="1705282">(</span><span class="ident" id="1705283">fd</span>&nbsp;<span class="builtintype" id="1705286">int</span><span class="op" id="1705289">,</span>&nbsp;<span class="ident" id="1705291">err</span>&nbsp;<span class="builtintype" id="1705295">error</span><span class="op" id="1705300">)</span>&nbsp;<span class="op" id="1705302">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705305">if</span>&nbsp;<span class="ident" id="1705308"><a href="/syscall/syscall_unix.go.html#1705258">domain</a></span>&nbsp;<span class="op" id="1705315">==</span>&nbsp;<span class="ident" id="1705318"><a href="/syscall/zerrors_linux_amd64.go.html#1706633">AF_INET6</a></span>&nbsp;<span class="op" id="1705327">&amp;&amp;</span>&nbsp;<span class="ident" id="1705330"><a href="/syscall/syscall_unix.go.html#1702395">SocketDisableIPv6</a></span>&nbsp;<span class="op" id="1705348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705352">return</span>&nbsp;<span class="op" id="1705359">-</span><span class="num" id="1705360">1</span><span class="op" id="1705361">,</span>&nbsp;<span class="ident" id="1705363"><a href="/syscall/zerrors_linux_amd64.go.html#1755631">EAFNOSUPPORT</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705380"><a href="/syscall/syscall_unix.go.html#1705283">fd</a></span><span class="op" id="1705382">,</span>&nbsp;<span class="ident" id="1705384"><a href="/syscall/syscall_unix.go.html#1705291">err</a></span>&nbsp;<span class="op" id="1705388">=</span>&nbsp;<span class="ident" id="1705390"><a href="/syscall/zsyscall_linux_amd64.go.html#1808236">socket</a></span><span class="op" id="1705396">(</span><span class="ident" id="1705397"><a href="/syscall/syscall_unix.go.html#1705258">domain</a></span><span class="op" id="1705403">,</span>&nbsp;<span class="ident" id="1705405"><a href="/syscall/syscall_unix.go.html#1705266">typ</a></span><span class="op" id="1705408">,</span>&nbsp;<span class="ident" id="1705410"><a href="/syscall/syscall_unix.go.html#1705271">proto</a></span><span class="op" id="1705415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705418">return</span><br>
<span class="lineno">280</span><span class="op" id="1705425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1705428">func</span>&nbsp;<span class="ident" id="1705433">Socketpair</span><span class="op" id="1705443">(</span><span class="ident" id="1705444">domain</span><span class="op" id="1705450">,</span>&nbsp;<span class="ident" id="1705452">typ</span><span class="op" id="1705455">,</span>&nbsp;<span class="ident" id="1705457">proto</span>&nbsp;<span class="builtintype" id="1705463">int</span><span class="op" id="1705466">)</span>&nbsp;<span class="op" id="1705468">(</span><span class="ident" id="1705469">fd</span>&nbsp;<span class="op" id="1705472">[</span><span class="num" id="1705473">2</span><span class="op" id="1705474">]</span><span class="builtintype" id="1705475">int</span><span class="op" id="1705478">,</span>&nbsp;<span class="ident" id="1705480">err</span>&nbsp;<span class="builtintype" id="1705484">error</span><span class="op" id="1705489">)</span>&nbsp;<span class="op" id="1705491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705494">var</span>&nbsp;<span class="ident" id="1705498">fdx</span>&nbsp;<span class="op" id="1705502">[</span><span class="num" id="1705503">2</span><span class="op" id="1705504">]</span><span class="builtintype" id="1705505">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705512"><a href="/syscall/syscall_unix.go.html#1705480">err</a></span>&nbsp;<span class="op" id="1705516">=</span>&nbsp;<span class="ident" id="1705518"><a href="/syscall/zsyscall_linux_amd64.go.html#1808505">socketpair</a></span><span class="op" id="1705528">(</span><span class="ident" id="1705529"><a href="/syscall/syscall_unix.go.html#1705444">domain</a></span><span class="op" id="1705535">,</span>&nbsp;<span class="ident" id="1705537"><a href="/syscall/syscall_unix.go.html#1705452">typ</a></span><span class="op" id="1705540">,</span>&nbsp;<span class="ident" id="1705542"><a href="/syscall/syscall_unix.go.html#1705457">proto</a></span><span class="op" id="1705547">,</span>&nbsp;<span class="op" id="1705549">&amp;</span><span class="ident" id="1705550"><a href="/syscall/syscall_unix.go.html#1705498">fdx</a></span><span class="op" id="1705553">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705556">if</span>&nbsp;<span class="ident" id="1705559"><a href="/syscall/syscall_unix.go.html#1705480">err</a></span>&nbsp;<span class="op" id="1705563">==</span>&nbsp;<span class="ident" id="1705566">nil</span>&nbsp;<span class="op" id="1705570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705574"><a href="/syscall/syscall_unix.go.html#1705469">fd</a></span><span class="op" id="1705576">[</span><span class="num" id="1705577">0</span><span class="op" id="1705578">]</span>&nbsp;<span class="op" id="1705580">=</span>&nbsp;<span class="builtintype" id="1705582">int</span><span class="op" id="1705585">(</span><span class="ident" id="1705586"><a href="/syscall/syscall_unix.go.html#1705498">fdx</a></span><span class="op" id="1705589">[</span><span class="num" id="1705590">0</span><span class="op" id="1705591">]</span><span class="op" id="1705592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705596"><a href="/syscall/syscall_unix.go.html#1705469">fd</a></span><span class="op" id="1705598">[</span><span class="num" id="1705599">1</span><span class="op" id="1705600">]</span>&nbsp;<span class="op" id="1705602">=</span>&nbsp;<span class="builtintype" id="1705604">int</span><span class="op" id="1705607">(</span><span class="ident" id="1705608"><a href="/syscall/syscall_unix.go.html#1705498">fdx</a></span><span class="op" id="1705611">[</span><span class="num" id="1705612">1</span><span class="op" id="1705613">]</span><span class="op" id="1705614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705620">return</span><br>
<span class="lineno">290</span><span class="op" id="1705627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1705630">func</span>&nbsp;<span class="ident" id="1705635">Sendfile</span><span class="op" id="1705643">(</span><span class="ident" id="1705644">outfd</span>&nbsp;<span class="builtintype" id="1705650">int</span><span class="op" id="1705653">,</span>&nbsp;<span class="ident" id="1705655">infd</span>&nbsp;<span class="builtintype" id="1705660">int</span><span class="op" id="1705663">,</span>&nbsp;<span class="ident" id="1705665">offset</span>&nbsp;<span class="op" id="1705672">*</span><span class="ident" id="1705673">int64</span><span class="op" id="1705678">,</span>&nbsp;<span class="ident" id="1705680">count</span>&nbsp;<span class="builtintype" id="1705686">int</span><span class="op" id="1705689">)</span>&nbsp;<span class="op" id="1705691">(</span><span class="ident" id="1705692">written</span>&nbsp;<span class="builtintype" id="1705700">int</span><span class="op" id="1705703">,</span>&nbsp;<span class="ident" id="1705705">err</span>&nbsp;<span class="builtintype" id="1705709">error</span><span class="op" id="1705714">)</span>&nbsp;<span class="op" id="1705716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705719">if</span>&nbsp;<span class="ident" id="1705722"><a href="/syscall/race0.go.html#1659231">raceenabled</a></span>&nbsp;<span class="op" id="1705734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1705738"><a href="/syscall/race0.go.html#1659300">raceReleaseMerge</a></span><span class="op" id="1705754">(</span><span class="ident" id="1705755"><a href="/syscall/syscall_unix.go.html#1698952">unsafe</a></span><span class="op" id="1705761">.</span><span class="ident" id="1705762">Pointer</span><span class="op" id="1705769">(</span><span class="op" id="1705770">&amp;</span><span class="ident" id="1705771"><a href="/syscall/syscall_unix.go.html#1705835">ioSync</a></span><span class="op" id="1705777">)</span><span class="op" id="1705778">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1705781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1705784">return</span>&nbsp;<span class="ident" id="1705791"><a href="/syscall/zsyscall_linux_amd64.go.html#1802057">sendfile</a></span><span class="op" id="1705799">(</span><span class="ident" id="1705800"><a href="/syscall/syscall_unix.go.html#1705644">outfd</a></span><span class="op" id="1705805">,</span>&nbsp;<span class="ident" id="1705807"><a href="/syscall/syscall_unix.go.html#1705655">infd</a></span><span class="op" id="1705811">,</span>&nbsp;<span class="ident" id="1705813"><a href="/syscall/syscall_unix.go.html#1705665">offset</a></span><span class="op" id="1705819">,</span>&nbsp;<span class="ident" id="1705821"><a href="/syscall/syscall_unix.go.html#1705680">count</a></span><span class="op" id="1705826">)</span><br>
<span class="lineno"></span><span class="op" id="1705828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1705831">var</span>&nbsp;<span class="ident" id="1705835">ioSync</span>&nbsp;<span class="ident" id="1705842">int64</span>
</div>
</body>
</html>
