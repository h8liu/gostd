<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html" class="current">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7917071">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7917126">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7917180">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7917231">package</span>&nbsp;<span class="ident" id="7917239">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7917245">import</span>&nbsp;<span class="op" id="7917252">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7917255">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7917265">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7917268">var</span>&nbsp;<span class="ident" id="7917272">nonExistentPaths</span>&nbsp;<span class="op" id="7917289">=</span>&nbsp;<span class="op" id="7917291">[</span><span class="op" id="7917292">]</span><span class="builtintype" id="7917293">string</span><span class="op" id="7917299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7917302">&#34;some-non-existent-path&#34;</span><span class="op" id="7917326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7917329">&#34;non-existent-path/slashed&#34;</span><span class="op" id="7917356">,</span><br>
<span class="lineno"></span><span class="op" id="7917358">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7917361">func</span>&nbsp;<span class="ident" id="7917366">TestLookPathNotFound</span><span class="op" id="7917386">(</span><span class="ident" id="7917387">t</span>&nbsp;<span class="op" id="7917389">*</span><span class="ident" id="7917390">testing</span><span class="op" id="7917397">.</span><span class="ident" id="7917398">T</span><span class="op" id="7917399">)</span>&nbsp;<span class="op" id="7917401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7917404">for</span>&nbsp;<span class="ident" id="7917408">_</span><span class="op" id="7917409">,</span>&nbsp;<span class="ident" id="7917411">name</span>&nbsp;<span class="op" id="7917416">:=</span>&nbsp;<span class="keyword" id="7917419">range</span>&nbsp;<span class="ident" id="7917425">nonExistentPaths</span>&nbsp;<span class="op" id="7917442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917446">path</span><span class="op" id="7917450">,</span>&nbsp;<span class="ident" id="7917452">err</span>&nbsp;<span class="op" id="7917456">:=</span>&nbsp;<span class="ident" id="7917459">LookPath</span><span class="op" id="7917467">(</span><span class="ident" id="7917468">name</span><span class="op" id="7917472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7917476">if</span>&nbsp;<span class="ident" id="7917479">err</span>&nbsp;<span class="op" id="7917483">==</span>&nbsp;<span class="ident" id="7917486">nil</span>&nbsp;<span class="op" id="7917490">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917495">t</span><span class="op" id="7917496">.</span><span class="ident" id="7917497">Fatalf</span><span class="op" id="7917503">(</span><span class="string" id="7917504">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="7917532">,</span>&nbsp;<span class="ident" id="7917534">name</span><span class="op" id="7917538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7917542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7917546">if</span>&nbsp;<span class="ident" id="7917549">path</span>&nbsp;<span class="op" id="7917554">!=</span>&nbsp;<span class="string" id="7917557">&#34;&#34;</span>&nbsp;<span class="op" id="7917560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917565">t</span><span class="op" id="7917566">.</span><span class="ident" id="7917567">Fatalf</span><span class="op" id="7917573">(</span><span class="string" id="7917574">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="7917611">,</span>&nbsp;<span class="ident" id="7917613">path</span><span class="op" id="7917617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7917621">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917625">perr</span><span class="op" id="7917629">,</span>&nbsp;<span class="ident" id="7917631">ok</span>&nbsp;<span class="op" id="7917634">:=</span>&nbsp;<span class="ident" id="7917637">err</span><span class="op" id="7917640">.</span><span class="op" id="7917641">(</span><span class="op" id="7917642">*</span><span class="ident" id="7917643">Error</span><span class="op" id="7917648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7917652">if</span>&nbsp;<span class="op" id="7917655">!</span><span class="ident" id="7917656">ok</span>&nbsp;<span class="op" id="7917659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917664">t</span><span class="op" id="7917665">.</span><span class="ident" id="7917666">Fatal</span><span class="op" id="7917671">(</span><span class="string" id="7917672">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="7917709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7917713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7917717">if</span>&nbsp;<span class="ident" id="7917720">perr</span><span class="op" id="7917724">.</span><span class="ident" id="7917725">Name</span>&nbsp;<span class="op" id="7917730">!=</span>&nbsp;<span class="ident" id="7917733">name</span>&nbsp;<span class="op" id="7917738">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917743">t</span><span class="op" id="7917744">.</span><span class="ident" id="7917745">Fatalf</span><span class="op" id="7917751">(</span><span class="string" id="7917752">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7917780">,</span>&nbsp;<span class="ident" id="7917782">name</span><span class="op" id="7917786">,</span>&nbsp;<span class="ident" id="7917788">perr</span><span class="op" id="7917792">.</span><span class="ident" id="7917793">Name</span><span class="op" id="7917797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7917801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7917804">}</span><br>
<span class="lineno"></span><span class="op" id="7917806">}</span>
</div>
</body>
</html>
