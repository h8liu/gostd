<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3579762">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3579817">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3579871">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3579922">package</span>&nbsp;<span class="ident" id="3579930">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3579940">import</span>&nbsp;<span class="op" id="3579947">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3579950">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3579957">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3579968">&#34;text/template/parse&#34;</span><br>
<span class="lineno"></span><span class="op" id="3579990">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3579993">//&nbsp;common&nbsp;holds&nbsp;the&nbsp;information&nbsp;shared&nbsp;by&nbsp;related&nbsp;templates.</span><br>
<span class="lineno"></span><span class="keyword" id="3580054">type</span>&nbsp;<span class="ident" id="3580059">common</span>&nbsp;<span class="keyword" id="3580066">struct</span>&nbsp;<span class="op" id="3580073">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3580076">tmpl</span>&nbsp;<span class="keyword" id="3580081">map</span><span class="op" id="3580084">[</span><span class="builtintype" id="3580085">string</span><span class="op" id="3580091">]</span><span class="op" id="3580092">*</span><span class="ident" id="3580093"><a href="/text/template/template.go.html#3580507">Template</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3580103">//&nbsp;We&nbsp;use&nbsp;two&nbsp;maps,&nbsp;one&nbsp;for&nbsp;parsing&nbsp;and&nbsp;one&nbsp;for&nbsp;execution.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3580163">//&nbsp;This&nbsp;separation&nbsp;makes&nbsp;the&nbsp;API&nbsp;cleaner&nbsp;since&nbsp;it&nbsp;doesn&#39;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3580222">//&nbsp;expose&nbsp;reflection&nbsp;to&nbsp;the&nbsp;client.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3580259">parseFuncs</span>&nbsp;<span class="ident" id="3580270"><a href="/text/template/funcs.go.html#3561778">FuncMap</a></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3580279">execFuncs</span>&nbsp;&nbsp;<span class="keyword" id="3580290">map</span><span class="op" id="3580293">[</span><span class="builtintype" id="3580294">string</span><span class="op" id="3580300">]</span><span class="ident" id="3580301"><a href="/text/template/template.go.html#3579957">reflect</a></span><span class="op" id="3580308">.</span><span class="ident" id="3580309">Value</span><br>
<span class="lineno"></span><span class="op" id="3580315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3580318">//&nbsp;Template&nbsp;is&nbsp;the&nbsp;representation&nbsp;of&nbsp;a&nbsp;parsed&nbsp;template.&nbsp;The&nbsp;*parse.Tree</span><br>
<span class="lineno"></span><span class="comment" id="3580390">//&nbsp;field&nbsp;is&nbsp;exported&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;html/template&nbsp;and&nbsp;should&nbsp;be&nbsp;treated</span><br>
<span class="lineno">25</span><span class="comment" id="3580463">//&nbsp;as&nbsp;unexported&nbsp;by&nbsp;all&nbsp;other&nbsp;clients.</span><br>
<span class="lineno"></span><span class="keyword" id="3580502">type</span>&nbsp;<span class="ident" id="3580507">Template</span>&nbsp;<span class="keyword" id="3580516">struct</span>&nbsp;<span class="op" id="3580523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3580526">name</span>&nbsp;<span class="builtintype" id="3580531">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3580539">*</span><span class="ident" id="3580540"><a href="/text/template/template.go.html#3579968">parse</a></span><span class="op" id="3580545">.</span><span class="ident" id="3580546">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3580552">*</span><span class="ident" id="3580553"><a href="/text/template/template.go.html#3580059">common</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3580561">leftDelim</span>&nbsp;&nbsp;<span class="builtintype" id="3580572">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3580580">rightDelim</span>&nbsp;<span class="builtintype" id="3580591">string</span><br>
<span class="lineno"></span><span class="op" id="3580598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3580601">//&nbsp;New&nbsp;allocates&nbsp;a&nbsp;new&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno">35</span><span class="keyword" id="3580654">func</span>&nbsp;<span class="ident" id="3580659">New</span><span class="op" id="3580662">(</span><span class="ident" id="3580663">name</span>&nbsp;<span class="builtintype" id="3580668">string</span><span class="op" id="3580674">)</span>&nbsp;<span class="op" id="3580676">*</span><span class="ident" id="3580677"><a href="/text/template/template.go.html#3580507">Template</a></span>&nbsp;<span class="op" id="3580686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3580689">return</span>&nbsp;<span class="op" id="3580696">&amp;</span><span class="ident" id="3580697"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3580705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3580709">name</span><span class="op" id="3580713">:</span>&nbsp;<span class="ident" id="3580715"><a href="/text/template/template.go.html#3580663">name</a></span><span class="op" id="3580719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3580722">}</span><br>
<span class="lineno"></span><span class="op" id="3580724">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="3580727">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;template.</span><br>
<span class="lineno"></span><span class="keyword" id="3580769">func</span>&nbsp;<span class="op" id="3580774">(</span><span class="ident" id="3580775">t</span>&nbsp;<span class="op" id="3580777">*</span><span class="ident" id="3580778"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3580786">)</span>&nbsp;<span class="ident" id="3580788">Name</span><span class="op" id="3580792">(</span><span class="op" id="3580793">)</span>&nbsp;<span class="builtintype" id="3580795">string</span>&nbsp;<span class="op" id="3580802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3580805">return</span>&nbsp;<span class="ident" id="3580812"><a href="/text/template/template.go.html#3580775">t</a></span><span class="op" id="3580813">.</span><span class="ident" id="3580814">name</span><br>
<span class="lineno"></span><span class="op" id="3580819">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3580822">//&nbsp;New&nbsp;allocates&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;the&nbsp;given&nbsp;one&nbsp;and&nbsp;with&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="3580902">//&nbsp;delimiters.&nbsp;The&nbsp;association,&nbsp;which&nbsp;is&nbsp;transitive,&nbsp;allows&nbsp;one&nbsp;template&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3580978">//&nbsp;invoke&nbsp;another&nbsp;with&nbsp;a&nbsp;{{template}}&nbsp;action.</span><br>
<span class="lineno"></span><span class="keyword" id="3581024">func</span>&nbsp;<span class="op" id="3581029">(</span><span class="ident" id="3581030">t</span>&nbsp;<span class="op" id="3581032">*</span><span class="ident" id="3581033"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3581041">)</span>&nbsp;<span class="ident" id="3581043">New</span><span class="op" id="3581046">(</span><span class="ident" id="3581047">name</span>&nbsp;<span class="builtintype" id="3581052">string</span><span class="op" id="3581058">)</span>&nbsp;<span class="op" id="3581060">*</span><span class="ident" id="3581061"><a href="/text/template/template.go.html#3580507">Template</a></span>&nbsp;<span class="op" id="3581070">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581073"><a href="/text/template/template.go.html#3581030">t</a></span><span class="op" id="3581074">.</span><span class="ident" id="3581075">init</span><span class="op" id="3581079">(</span><span class="op" id="3581080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3581083">return</span>&nbsp;<span class="op" id="3581090">&amp;</span><span class="ident" id="3581091"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3581099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581103">name</span><span class="op" id="3581107">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3581115"><a href="/text/template/template.go.html#3581047">name</a></span><span class="op" id="3581119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581123">common</span><span class="op" id="3581129">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3581135"><a href="/text/template/template.go.html#3581030">t</a></span><span class="op" id="3581136">.</span><span class="ident" id="3581137">common</span><span class="op" id="3581143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581147">leftDelim</span><span class="op" id="3581156">:</span>&nbsp;&nbsp;<span class="ident" id="3581159"><a href="/text/template/template.go.html#3581030">t</a></span><span class="op" id="3581160">.</span><span class="ident" id="3581161">leftDelim</span><span class="op" id="3581170">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581174">rightDelim</span><span class="op" id="3581184">:</span>&nbsp;<span class="ident" id="3581186"><a href="/text/template/template.go.html#3581030">t</a></span><span class="op" id="3581187">.</span><span class="ident" id="3581188">rightDelim</span><span class="op" id="3581198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3581201">}</span><br>
<span class="lineno"></span><span class="op" id="3581203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3581206">func</span>&nbsp;<span class="op" id="3581211">(</span><span class="ident" id="3581212">t</span>&nbsp;<span class="op" id="3581214">*</span><span class="ident" id="3581215"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3581223">)</span>&nbsp;<span class="ident" id="3581225">init</span><span class="op" id="3581229">(</span><span class="op" id="3581230">)</span>&nbsp;<span class="op" id="3581232">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3581235">if</span>&nbsp;<span class="ident" id="3581238"><a href="/text/template/template.go.html#3581212">t</a></span><span class="op" id="3581239">.</span><span class="ident" id="3581240">common</span>&nbsp;<span class="op" id="3581247">==</span>&nbsp;<span class="ident" id="3581250">nil</span>&nbsp;<span class="op" id="3581254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581258"><a href="/text/template/template.go.html#3581212">t</a></span><span class="op" id="3581259">.</span><span class="ident" id="3581260">common</span>&nbsp;<span class="op" id="3581267">=</span>&nbsp;<span class="builtinfunc" id="3581269">new</span><span class="op" id="3581272">(</span><span class="ident" id="3581273"><a href="/text/template/template.go.html#3580059">common</a></span><span class="op" id="3581279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581283"><a href="/text/template/template.go.html#3581212">t</a></span><span class="op" id="3581284">.</span><span class="ident" id="3581285">tmpl</span>&nbsp;<span class="op" id="3581290">=</span>&nbsp;<span class="builtinfunc" id="3581292">make</span><span class="op" id="3581296">(</span><span class="keyword" id="3581297">map</span><span class="op" id="3581300">[</span><span class="builtintype" id="3581301">string</span><span class="op" id="3581307">]</span><span class="op" id="3581308">*</span><span class="ident" id="3581309"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3581317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581321"><a href="/text/template/template.go.html#3581212">t</a></span><span class="op" id="3581322">.</span><span class="ident" id="3581323">parseFuncs</span>&nbsp;<span class="op" id="3581334">=</span>&nbsp;<span class="builtinfunc" id="3581336">make</span><span class="op" id="3581340">(</span><span class="ident" id="3581341"><a href="/text/template/funcs.go.html#3561778">FuncMap</a></span><span class="op" id="3581348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581352"><a href="/text/template/template.go.html#3581212">t</a></span><span class="op" id="3581353">.</span><span class="ident" id="3581354">execFuncs</span>&nbsp;<span class="op" id="3581364">=</span>&nbsp;<span class="builtinfunc" id="3581366">make</span><span class="op" id="3581370">(</span><span class="keyword" id="3581371">map</span><span class="op" id="3581374">[</span><span class="builtintype" id="3581375">string</span><span class="op" id="3581381">]</span><span class="ident" id="3581382"><a href="/text/template/template.go.html#3579957">reflect</a></span><span class="op" id="3581389">.</span><span class="ident" id="3581390">Value</span><span class="op" id="3581395">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3581398">}</span><br>
<span class="lineno"></span><span class="op" id="3581400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3581403">//&nbsp;Clone&nbsp;returns&nbsp;a&nbsp;duplicate&nbsp;of&nbsp;the&nbsp;template,&nbsp;including&nbsp;all&nbsp;associated</span><br>
<span class="lineno"></span><span class="comment" id="3581474">//&nbsp;templates.&nbsp;The&nbsp;actual&nbsp;representation&nbsp;is&nbsp;not&nbsp;copied,&nbsp;but&nbsp;the&nbsp;name&nbsp;space&nbsp;of</span><br>
<span class="lineno">70</span><span class="comment" id="3581551">//&nbsp;associated&nbsp;templates&nbsp;is,&nbsp;so&nbsp;further&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;in&nbsp;the&nbsp;copy&nbsp;will&nbsp;add</span><br>
<span class="lineno"></span><span class="comment" id="3581626">//&nbsp;templates&nbsp;to&nbsp;the&nbsp;copy&nbsp;but&nbsp;not&nbsp;to&nbsp;the&nbsp;original.&nbsp;Clone&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;prepare</span><br>
<span class="lineno"></span><span class="comment" id="3581705">//&nbsp;common&nbsp;templates&nbsp;and&nbsp;use&nbsp;them&nbsp;with&nbsp;variant&nbsp;definitions&nbsp;for&nbsp;other&nbsp;templates</span><br>
<span class="lineno"></span><span class="comment" id="3581783">//&nbsp;by&nbsp;adding&nbsp;the&nbsp;variants&nbsp;after&nbsp;the&nbsp;clone&nbsp;is&nbsp;made.</span><br>
<span class="lineno"></span><span class="keyword" id="3581834">func</span>&nbsp;<span class="op" id="3581839">(</span><span class="ident" id="3581840">t</span>&nbsp;<span class="op" id="3581842">*</span><span class="ident" id="3581843"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3581851">)</span>&nbsp;<span class="ident" id="3581853">Clone</span><span class="op" id="3581858">(</span><span class="op" id="3581859">)</span>&nbsp;<span class="op" id="3581861">(</span><span class="op" id="3581862">*</span><span class="ident" id="3581863"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3581871">,</span>&nbsp;<span class="builtintype" id="3581873">error</span><span class="op" id="3581878">)</span>&nbsp;<span class="op" id="3581880">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581883">nt</span>&nbsp;<span class="op" id="3581886">:=</span>&nbsp;<span class="ident" id="3581889"><a href="/text/template/template.go.html#3581840">t</a></span><span class="op" id="3581890">.</span><span class="builtinfunc" id="3581891">copy</span><span class="op" id="3581895">(</span><span class="ident" id="3581896">nil</span><span class="op" id="3581899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581902"><a href="/text/template/template.go.html#3581883">nt</a></span><span class="op" id="3581904">.</span><span class="ident" id="3581905">init</span><span class="op" id="3581909">(</span><span class="op" id="3581910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3581913"><a href="/text/template/template.go.html#3581883">nt</a></span><span class="op" id="3581915">.</span><span class="ident" id="3581916">tmpl</span><span class="op" id="3581920">[</span><span class="ident" id="3581921"><a href="/text/template/template.go.html#3581840">t</a></span><span class="op" id="3581922">.</span><span class="ident" id="3581923">name</span><span class="op" id="3581927">]</span>&nbsp;<span class="op" id="3581929">=</span>&nbsp;<span class="ident" id="3581931"><a href="/text/template/template.go.html#3581883">nt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3581935">for</span>&nbsp;<span class="ident" id="3581939">k</span><span class="op" id="3581940">,</span>&nbsp;<span class="ident" id="3581942">v</span>&nbsp;<span class="op" id="3581944">:=</span>&nbsp;<span class="keyword" id="3581947">range</span>&nbsp;<span class="ident" id="3581953"><a href="/text/template/template.go.html#3581840">t</a></span><span class="op" id="3581954">.</span><span class="ident" id="3581955">tmpl</span>&nbsp;<span class="op" id="3581960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3581964">if</span>&nbsp;<span class="ident" id="3581967"><a href="/text/template/template.go.html#3581939">k</a></span>&nbsp;<span class="op" id="3581969">==</span>&nbsp;<span class="ident" id="3581972"><a href="/text/template/template.go.html#3581840">t</a></span><span class="op" id="3581973">.</span><span class="ident" id="3581974">name</span>&nbsp;<span class="op" id="3581979">{</span>&nbsp;<span class="comment" id="3581981">//&nbsp;Already&nbsp;installed.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3582006">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3582017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3582021">//&nbsp;The&nbsp;associated&nbsp;templates&nbsp;share&nbsp;nt&#39;s&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582080">tmpl</span>&nbsp;<span class="op" id="3582085">:=</span>&nbsp;<span class="ident" id="3582088"><a href="/text/template/template.go.html#3581942">v</a></span><span class="op" id="3582089">.</span><span class="builtinfunc" id="3582090">copy</span><span class="op" id="3582094">(</span><span class="ident" id="3582095"><a href="/text/template/template.go.html#3581883">nt</a></span><span class="op" id="3582097">.</span><span class="ident" id="3582098">common</span><span class="op" id="3582104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582108"><a href="/text/template/template.go.html#3581883">nt</a></span><span class="op" id="3582110">.</span><span class="ident" id="3582111">tmpl</span><span class="op" id="3582115">[</span><span class="ident" id="3582116"><a href="/text/template/template.go.html#3581939">k</a></span><span class="op" id="3582117">]</span>&nbsp;<span class="op" id="3582119">=</span>&nbsp;<span class="ident" id="3582121"><a href="/text/template/template.go.html#3582080">tmpl</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3582127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3582130">for</span>&nbsp;<span class="ident" id="3582134">k</span><span class="op" id="3582135">,</span>&nbsp;<span class="ident" id="3582137">v</span>&nbsp;<span class="op" id="3582139">:=</span>&nbsp;<span class="keyword" id="3582142">range</span>&nbsp;<span class="ident" id="3582148"><a href="/text/template/template.go.html#3581840">t</a></span><span class="op" id="3582149">.</span><span class="ident" id="3582150">parseFuncs</span>&nbsp;<span class="op" id="3582161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582165"><a href="/text/template/template.go.html#3581883">nt</a></span><span class="op" id="3582167">.</span><span class="ident" id="3582168">parseFuncs</span><span class="op" id="3582178">[</span><span class="ident" id="3582179"><a href="/text/template/template.go.html#3582134">k</a></span><span class="op" id="3582180">]</span>&nbsp;<span class="op" id="3582182">=</span>&nbsp;<span class="ident" id="3582184"><a href="/text/template/template.go.html#3582137">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3582187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3582190">for</span>&nbsp;<span class="ident" id="3582194">k</span><span class="op" id="3582195">,</span>&nbsp;<span class="ident" id="3582197">v</span>&nbsp;<span class="op" id="3582199">:=</span>&nbsp;<span class="keyword" id="3582202">range</span>&nbsp;<span class="ident" id="3582208"><a href="/text/template/template.go.html#3581840">t</a></span><span class="op" id="3582209">.</span><span class="ident" id="3582210">execFuncs</span>&nbsp;<span class="op" id="3582220">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582224"><a href="/text/template/template.go.html#3581883">nt</a></span><span class="op" id="3582226">.</span><span class="ident" id="3582227">execFuncs</span><span class="op" id="3582236">[</span><span class="ident" id="3582237"><a href="/text/template/template.go.html#3582194">k</a></span><span class="op" id="3582238">]</span>&nbsp;<span class="op" id="3582240">=</span>&nbsp;<span class="ident" id="3582242"><a href="/text/template/template.go.html#3582197">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3582245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3582248">return</span>&nbsp;<span class="ident" id="3582255"><a href="/text/template/template.go.html#3581883">nt</a></span><span class="op" id="3582257">,</span>&nbsp;<span class="ident" id="3582259">nil</span><br>
<span class="lineno"></span><span class="op" id="3582263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3582266">//&nbsp;copy&nbsp;returns&nbsp;a&nbsp;shallow&nbsp;copy&nbsp;of&nbsp;t,&nbsp;with&nbsp;common&nbsp;set&nbsp;to&nbsp;the&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="3582336">func</span>&nbsp;<span class="op" id="3582341">(</span><span class="ident" id="3582342">t</span>&nbsp;<span class="op" id="3582344">*</span><span class="ident" id="3582345"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3582353">)</span>&nbsp;<span class="builtinfunc" id="3582355">copy</span><span class="op" id="3582359">(</span><span class="ident" id="3582360">c</span>&nbsp;<span class="op" id="3582362">*</span><span class="ident" id="3582363"><a href="/text/template/template.go.html#3580059">common</a></span><span class="op" id="3582369">)</span>&nbsp;<span class="op" id="3582371">*</span><span class="ident" id="3582372"><a href="/text/template/template.go.html#3580507">Template</a></span>&nbsp;<span class="op" id="3582381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582384">nt</span>&nbsp;<span class="op" id="3582387">:=</span>&nbsp;<span class="ident" id="3582390"><a href="/text/template/template.go.html#3580659">New</a></span><span class="op" id="3582393">(</span><span class="ident" id="3582394"><a href="/text/template/template.go.html#3582342">t</a></span><span class="op" id="3582395">.</span><span class="ident" id="3582396">name</span><span class="op" id="3582400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582403"><a href="/text/template/template.go.html#3582384">nt</a></span><span class="op" id="3582405">.</span><span class="ident" id="3582406">Tree</span>&nbsp;<span class="op" id="3582411">=</span>&nbsp;<span class="ident" id="3582413"><a href="/text/template/template.go.html#3582342">t</a></span><span class="op" id="3582414">.</span><span class="ident" id="3582415">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582421"><a href="/text/template/template.go.html#3582384">nt</a></span><span class="op" id="3582423">.</span><span class="ident" id="3582424">common</span>&nbsp;<span class="op" id="3582431">=</span>&nbsp;<span class="ident" id="3582433"><a href="/text/template/template.go.html#3582360">c</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582436"><a href="/text/template/template.go.html#3582384">nt</a></span><span class="op" id="3582438">.</span><span class="ident" id="3582439">leftDelim</span>&nbsp;<span class="op" id="3582449">=</span>&nbsp;<span class="ident" id="3582451"><a href="/text/template/template.go.html#3582342">t</a></span><span class="op" id="3582452">.</span><span class="ident" id="3582453">leftDelim</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582464"><a href="/text/template/template.go.html#3582384">nt</a></span><span class="op" id="3582466">.</span><span class="ident" id="3582467">rightDelim</span>&nbsp;<span class="op" id="3582478">=</span>&nbsp;<span class="ident" id="3582480"><a href="/text/template/template.go.html#3582342">t</a></span><span class="op" id="3582481">.</span><span class="ident" id="3582482">rightDelim</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3582494">return</span>&nbsp;<span class="ident" id="3582501"><a href="/text/template/template.go.html#3582384">nt</a></span><br>
<span class="lineno"></span><span class="op" id="3582504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3582507">//&nbsp;AddParseTree&nbsp;creates&nbsp;a&nbsp;new&nbsp;template&nbsp;with&nbsp;the&nbsp;name&nbsp;and&nbsp;parse&nbsp;tree</span><br>
<span class="lineno"></span><span class="comment" id="3582575">//&nbsp;and&nbsp;associates&nbsp;it&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3582604">func</span>&nbsp;<span class="op" id="3582609">(</span><span class="ident" id="3582610">t</span>&nbsp;<span class="op" id="3582612">*</span><span class="ident" id="3582613"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3582621">)</span>&nbsp;<span class="ident" id="3582623">AddParseTree</span><span class="op" id="3582635">(</span><span class="ident" id="3582636">name</span>&nbsp;<span class="builtintype" id="3582641">string</span><span class="op" id="3582647">,</span>&nbsp;<span class="ident" id="3582649">tree</span>&nbsp;<span class="op" id="3582654">*</span><span class="ident" id="3582655"><a href="/text/template/template.go.html#3579968">parse</a></span><span class="op" id="3582660">.</span><span class="ident" id="3582661">Tree</span><span class="op" id="3582665">)</span>&nbsp;<span class="op" id="3582667">(</span><span class="op" id="3582668">*</span><span class="ident" id="3582669"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3582677">,</span>&nbsp;<span class="builtintype" id="3582679">error</span><span class="op" id="3582684">)</span>&nbsp;<span class="op" id="3582686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3582689">if</span>&nbsp;<span class="ident" id="3582692"><a href="/text/template/template.go.html#3582610">t</a></span><span class="op" id="3582693">.</span><span class="ident" id="3582694">common</span>&nbsp;<span class="op" id="3582701">!=</span>&nbsp;<span class="ident" id="3582704">nil</span>&nbsp;<span class="op" id="3582708">&amp;&amp;</span>&nbsp;<span class="ident" id="3582711"><a href="/text/template/template.go.html#3582610">t</a></span><span class="op" id="3582712">.</span><span class="ident" id="3582713">tmpl</span><span class="op" id="3582717">[</span><span class="ident" id="3582718"><a href="/text/template/template.go.html#3582636">name</a></span><span class="op" id="3582722">]</span>&nbsp;<span class="op" id="3582724">!=</span>&nbsp;<span class="ident" id="3582727">nil</span>&nbsp;<span class="op" id="3582731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3582735">return</span>&nbsp;<span class="ident" id="3582742">nil</span><span class="op" id="3582745">,</span>&nbsp;<span class="ident" id="3582747"><a href="/text/template/template.go.html#3579950">fmt</a></span><span class="op" id="3582750">.</span><span class="ident" id="3582751">Errorf</span><span class="op" id="3582757">(</span><span class="string" id="3582758">&#34;template:&nbsp;redefinition&nbsp;of&nbsp;template&nbsp;%q&#34;</span><span class="op" id="3582797">,</span>&nbsp;<span class="ident" id="3582799"><a href="/text/template/template.go.html#3582636">name</a></span><span class="op" id="3582803">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3582806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582809">nt</span>&nbsp;<span class="op" id="3582812">:=</span>&nbsp;<span class="ident" id="3582815"><a href="/text/template/template.go.html#3582610">t</a></span><span class="op" id="3582816">.</span><span class="ident" id="3582817">New</span><span class="op" id="3582820">(</span><span class="ident" id="3582821"><a href="/text/template/template.go.html#3582636">name</a></span><span class="op" id="3582825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582828"><a href="/text/template/template.go.html#3582809">nt</a></span><span class="op" id="3582830">.</span><span class="ident" id="3582831">Tree</span>&nbsp;<span class="op" id="3582836">=</span>&nbsp;<span class="ident" id="3582838"><a href="/text/template/template.go.html#3582649">tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3582844"><a href="/text/template/template.go.html#3582610">t</a></span><span class="op" id="3582845">.</span><span class="ident" id="3582846">tmpl</span><span class="op" id="3582850">[</span><span class="ident" id="3582851"><a href="/text/template/template.go.html#3582636">name</a></span><span class="op" id="3582855">]</span>&nbsp;<span class="op" id="3582857">=</span>&nbsp;<span class="ident" id="3582859"><a href="/text/template/template.go.html#3582809">nt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3582863">return</span>&nbsp;<span class="ident" id="3582870"><a href="/text/template/template.go.html#3582809">nt</a></span><span class="op" id="3582872">,</span>&nbsp;<span class="ident" id="3582874">nil</span><br>
<span class="lineno">115</span><span class="op" id="3582878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3582881">//&nbsp;Templates&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;templates&nbsp;associated&nbsp;with&nbsp;t,&nbsp;including&nbsp;t</span><br>
<span class="lineno"></span><span class="comment" id="3582958">//&nbsp;itself.</span><br>
<span class="lineno"></span><span class="keyword" id="3582969">func</span>&nbsp;<span class="op" id="3582974">(</span><span class="ident" id="3582975">t</span>&nbsp;<span class="op" id="3582977">*</span><span class="ident" id="3582978"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3582986">)</span>&nbsp;<span class="ident" id="3582988">Templates</span><span class="op" id="3582997">(</span><span class="op" id="3582998">)</span>&nbsp;<span class="op" id="3583000">[</span><span class="op" id="3583001">]</span><span class="op" id="3583002">*</span><span class="ident" id="3583003"><a href="/text/template/template.go.html#3580507">Template</a></span>&nbsp;<span class="op" id="3583012">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3583015">if</span>&nbsp;<span class="ident" id="3583018"><a href="/text/template/template.go.html#3582975">t</a></span><span class="op" id="3583019">.</span><span class="ident" id="3583020">common</span>&nbsp;<span class="op" id="3583027">==</span>&nbsp;<span class="ident" id="3583030">nil</span>&nbsp;<span class="op" id="3583034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3583038">return</span>&nbsp;<span class="ident" id="3583045">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3583050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3583053">//&nbsp;Return&nbsp;a&nbsp;slice&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;expose&nbsp;the&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3583100">m</span>&nbsp;<span class="op" id="3583102">:=</span>&nbsp;<span class="builtinfunc" id="3583105">make</span><span class="op" id="3583109">(</span><span class="op" id="3583110">[</span><span class="op" id="3583111">]</span><span class="op" id="3583112">*</span><span class="ident" id="3583113"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3583121">,</span>&nbsp;<span class="num" id="3583123">0</span><span class="op" id="3583124">,</span>&nbsp;<span class="builtinfunc" id="3583126">len</span><span class="op" id="3583129">(</span><span class="ident" id="3583130"><a href="/text/template/template.go.html#3582975">t</a></span><span class="op" id="3583131">.</span><span class="ident" id="3583132">tmpl</span><span class="op" id="3583136">)</span><span class="op" id="3583137">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3583140">for</span>&nbsp;<span class="ident" id="3583144">_</span><span class="op" id="3583145">,</span>&nbsp;<span class="ident" id="3583147">v</span>&nbsp;<span class="op" id="3583149">:=</span>&nbsp;<span class="keyword" id="3583152">range</span>&nbsp;<span class="ident" id="3583158"><a href="/text/template/template.go.html#3582975">t</a></span><span class="op" id="3583159">.</span><span class="ident" id="3583160">tmpl</span>&nbsp;<span class="op" id="3583165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3583169"><a href="/text/template/template.go.html#3583100">m</a></span>&nbsp;<span class="op" id="3583171">=</span>&nbsp;<span class="builtinfunc" id="3583173">append</span><span class="op" id="3583179">(</span><span class="ident" id="3583180"><a href="/text/template/template.go.html#3583100">m</a></span><span class="op" id="3583181">,</span>&nbsp;<span class="ident" id="3583183"><a href="/text/template/template.go.html#3583147">v</a></span><span class="op" id="3583184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3583187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3583190">return</span>&nbsp;<span class="ident" id="3583197"><a href="/text/template/template.go.html#3583100">m</a></span><br>
<span class="lineno"></span><span class="op" id="3583199">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="3583202">//&nbsp;Delims&nbsp;sets&nbsp;the&nbsp;action&nbsp;delimiters&nbsp;to&nbsp;the&nbsp;specified&nbsp;strings,&nbsp;to&nbsp;be&nbsp;used&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3583279">//&nbsp;subsequent&nbsp;calls&nbsp;to&nbsp;Parse,&nbsp;ParseFiles,&nbsp;or&nbsp;ParseGlob.&nbsp;Nested&nbsp;template</span><br>
<span class="lineno"></span><span class="comment" id="3583351">//&nbsp;definitions&nbsp;will&nbsp;inherit&nbsp;the&nbsp;settings.&nbsp;An&nbsp;empty&nbsp;delimiter&nbsp;stands&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3583427">//&nbsp;corresponding&nbsp;default:&nbsp;{{&nbsp;or&nbsp;}}.</span><br>
<span class="lineno">135</span><span class="comment" id="3583463">//&nbsp;The&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;template,&nbsp;so&nbsp;calls&nbsp;can&nbsp;be&nbsp;chained.</span><br>
<span class="lineno"></span><span class="keyword" id="3583525">func</span>&nbsp;<span class="op" id="3583530">(</span><span class="ident" id="3583531">t</span>&nbsp;<span class="op" id="3583533">*</span><span class="ident" id="3583534"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3583542">)</span>&nbsp;<span class="ident" id="3583544">Delims</span><span class="op" id="3583550">(</span><span class="ident" id="3583551">left</span><span class="op" id="3583555">,</span>&nbsp;<span class="ident" id="3583557">right</span>&nbsp;<span class="builtintype" id="3583563">string</span><span class="op" id="3583569">)</span>&nbsp;<span class="op" id="3583571">*</span><span class="ident" id="3583572"><a href="/text/template/template.go.html#3580507">Template</a></span>&nbsp;<span class="op" id="3583581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3583584"><a href="/text/template/template.go.html#3583531">t</a></span><span class="op" id="3583585">.</span><span class="ident" id="3583586">leftDelim</span>&nbsp;<span class="op" id="3583596">=</span>&nbsp;<span class="ident" id="3583598"><a href="/text/template/template.go.html#3583551">left</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3583604"><a href="/text/template/template.go.html#3583531">t</a></span><span class="op" id="3583605">.</span><span class="ident" id="3583606">rightDelim</span>&nbsp;<span class="op" id="3583617">=</span>&nbsp;<span class="ident" id="3583619"><a href="/text/template/template.go.html#3583557">right</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3583626">return</span>&nbsp;<span class="ident" id="3583633"><a href="/text/template/template.go.html#3583531">t</a></span><br>
<span class="lineno">140</span><span class="op" id="3583635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3583638">//&nbsp;Funcs&nbsp;adds&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;argument&nbsp;map&nbsp;to&nbsp;the&nbsp;template&#39;s&nbsp;function&nbsp;map.</span><br>
<span class="lineno"></span><span class="comment" id="3583717">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;a&nbsp;value&nbsp;in&nbsp;the&nbsp;map&nbsp;is&nbsp;not&nbsp;a&nbsp;function&nbsp;with&nbsp;appropriate&nbsp;return</span><br>
<span class="lineno"></span><span class="comment" id="3583794">//&nbsp;type.&nbsp;However,&nbsp;it&nbsp;is&nbsp;legal&nbsp;to&nbsp;overwrite&nbsp;elements&nbsp;of&nbsp;the&nbsp;map.&nbsp;The&nbsp;return</span><br>
<span class="lineno">145</span><span class="comment" id="3583869">//&nbsp;value&nbsp;is&nbsp;the&nbsp;template,&nbsp;so&nbsp;calls&nbsp;can&nbsp;be&nbsp;chained.</span><br>
<span class="lineno"></span><span class="keyword" id="3583920">func</span>&nbsp;<span class="op" id="3583925">(</span><span class="ident" id="3583926">t</span>&nbsp;<span class="op" id="3583928">*</span><span class="ident" id="3583929"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3583937">)</span>&nbsp;<span class="ident" id="3583939">Funcs</span><span class="op" id="3583944">(</span><span class="ident" id="3583945">funcMap</span>&nbsp;<span class="ident" id="3583953"><a href="/text/template/funcs.go.html#3561778">FuncMap</a></span><span class="op" id="3583960">)</span>&nbsp;<span class="op" id="3583962">*</span><span class="ident" id="3583963"><a href="/text/template/template.go.html#3580507">Template</a></span>&nbsp;<span class="op" id="3583972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3583975"><a href="/text/template/template.go.html#3583926">t</a></span><span class="op" id="3583976">.</span><span class="ident" id="3583977">init</span><span class="op" id="3583981">(</span><span class="op" id="3583982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3583985"><a href="/text/template/funcs.go.html#3562579">addValueFuncs</a></span><span class="op" id="3583998">(</span><span class="ident" id="3583999"><a href="/text/template/template.go.html#3583926">t</a></span><span class="op" id="3584000">.</span><span class="ident" id="3584001">execFuncs</span><span class="op" id="3584010">,</span>&nbsp;<span class="ident" id="3584012"><a href="/text/template/template.go.html#3583945">funcMap</a></span><span class="op" id="3584019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3584022"><a href="/text/template/funcs.go.html#3563049">addFuncs</a></span><span class="op" id="3584030">(</span><span class="ident" id="3584031"><a href="/text/template/template.go.html#3583926">t</a></span><span class="op" id="3584032">.</span><span class="ident" id="3584033">parseFuncs</span><span class="op" id="3584043">,</span>&nbsp;<span class="ident" id="3584045"><a href="/text/template/template.go.html#3583945">funcMap</a></span><span class="op" id="3584052">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3584055">return</span>&nbsp;<span class="ident" id="3584062"><a href="/text/template/template.go.html#3583926">t</a></span><br>
<span class="lineno"></span><span class="op" id="3584064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3584067">//&nbsp;Lookup&nbsp;returns&nbsp;the&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name&nbsp;that&nbsp;is&nbsp;associated&nbsp;with&nbsp;t,</span><br>
<span class="lineno"></span><span class="comment" id="3584145">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;template.</span><br>
<span class="lineno">155</span><span class="keyword" id="3584185">func</span>&nbsp;<span class="op" id="3584190">(</span><span class="ident" id="3584191">t</span>&nbsp;<span class="op" id="3584193">*</span><span class="ident" id="3584194"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3584202">)</span>&nbsp;<span class="ident" id="3584204">Lookup</span><span class="op" id="3584210">(</span><span class="ident" id="3584211">name</span>&nbsp;<span class="builtintype" id="3584216">string</span><span class="op" id="3584222">)</span>&nbsp;<span class="op" id="3584224">*</span><span class="ident" id="3584225"><a href="/text/template/template.go.html#3580507">Template</a></span>&nbsp;<span class="op" id="3584234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3584237">if</span>&nbsp;<span class="ident" id="3584240"><a href="/text/template/template.go.html#3584191">t</a></span><span class="op" id="3584241">.</span><span class="ident" id="3584242">common</span>&nbsp;<span class="op" id="3584249">==</span>&nbsp;<span class="ident" id="3584252">nil</span>&nbsp;<span class="op" id="3584256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3584260">return</span>&nbsp;<span class="ident" id="3584267">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3584272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3584275">return</span>&nbsp;<span class="ident" id="3584282"><a href="/text/template/template.go.html#3584191">t</a></span><span class="op" id="3584283">.</span><span class="ident" id="3584284">tmpl</span><span class="op" id="3584288">[</span><span class="ident" id="3584289"><a href="/text/template/template.go.html#3584211">name</a></span><span class="op" id="3584293">]</span><br>
<span class="lineno">160</span><span class="op" id="3584295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3584298">//&nbsp;Parse&nbsp;parses&nbsp;a&nbsp;string&nbsp;into&nbsp;a&nbsp;template.&nbsp;Nested&nbsp;template&nbsp;definitions&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="3584376">//&nbsp;associated&nbsp;with&nbsp;the&nbsp;top-level&nbsp;template&nbsp;t.&nbsp;Parse&nbsp;may&nbsp;be&nbsp;called&nbsp;multiple&nbsp;times</span><br>
<span class="lineno"></span><span class="comment" id="3584456">//&nbsp;to&nbsp;parse&nbsp;definitions&nbsp;of&nbsp;templates&nbsp;to&nbsp;associate&nbsp;with&nbsp;t.&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;if&nbsp;a</span><br>
<span class="lineno">165</span><span class="comment" id="3584534">//&nbsp;resulting&nbsp;template&nbsp;is&nbsp;non-empty&nbsp;(contains&nbsp;content&nbsp;other&nbsp;than&nbsp;template</span><br>
<span class="lineno"></span><span class="comment" id="3584607">//&nbsp;definitions)&nbsp;and&nbsp;would&nbsp;replace&nbsp;a&nbsp;non-empty&nbsp;template&nbsp;with&nbsp;the&nbsp;same&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3584682">//&nbsp;(In&nbsp;multiple&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;with&nbsp;the&nbsp;same&nbsp;receiver&nbsp;template,&nbsp;only&nbsp;one&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="3584760">//&nbsp;can&nbsp;contain&nbsp;text&nbsp;other&nbsp;than&nbsp;space,&nbsp;comments,&nbsp;and&nbsp;template&nbsp;definitions.)</span><br>
<span class="lineno"></span><span class="keyword" id="3584835">func</span>&nbsp;<span class="op" id="3584840">(</span><span class="ident" id="3584841">t</span>&nbsp;<span class="op" id="3584843">*</span><span class="ident" id="3584844"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3584852">)</span>&nbsp;<span class="ident" id="3584854">Parse</span><span class="op" id="3584859">(</span><span class="ident" id="3584860">text</span>&nbsp;<span class="builtintype" id="3584865">string</span><span class="op" id="3584871">)</span>&nbsp;<span class="op" id="3584873">(</span><span class="op" id="3584874">*</span><span class="ident" id="3584875"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3584883">,</span>&nbsp;<span class="builtintype" id="3584885">error</span><span class="op" id="3584890">)</span>&nbsp;<span class="op" id="3584892">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3584895"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3584896">.</span><span class="ident" id="3584897">init</span><span class="op" id="3584901">(</span><span class="op" id="3584902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3584905">trees</span><span class="op" id="3584910">,</span>&nbsp;<span class="ident" id="3584912">err</span>&nbsp;<span class="op" id="3584916">:=</span>&nbsp;<span class="ident" id="3584919"><a href="/text/template/template.go.html#3579968">parse</a></span><span class="op" id="3584924">.</span><span class="ident" id="3584925">Parse</span><span class="op" id="3584930">(</span><span class="ident" id="3584931"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3584932">.</span><span class="ident" id="3584933">name</span><span class="op" id="3584937">,</span>&nbsp;<span class="ident" id="3584939"><a href="/text/template/template.go.html#3584860">text</a></span><span class="op" id="3584943">,</span>&nbsp;<span class="ident" id="3584945"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3584946">.</span><span class="ident" id="3584947">leftDelim</span><span class="op" id="3584956">,</span>&nbsp;<span class="ident" id="3584958"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3584959">.</span><span class="ident" id="3584960">rightDelim</span><span class="op" id="3584970">,</span>&nbsp;<span class="ident" id="3584972"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3584973">.</span><span class="ident" id="3584974">parseFuncs</span><span class="op" id="3584984">,</span>&nbsp;<span class="ident" id="3584986"><a href="/text/template/funcs.go.html#3561814">builtins</a></span><span class="op" id="3584994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3584997">if</span>&nbsp;<span class="ident" id="3585000"><a href="/text/template/template.go.html#3584912">err</a></span>&nbsp;<span class="op" id="3585004">!=</span>&nbsp;<span class="ident" id="3585007">nil</span>&nbsp;<span class="op" id="3585011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3585015">return</span>&nbsp;<span class="ident" id="3585022">nil</span><span class="op" id="3585025">,</span>&nbsp;<span class="ident" id="3585027"><a href="/text/template/template.go.html#3584912">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3585032">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3585035">//&nbsp;Add&nbsp;the&nbsp;newly&nbsp;parsed&nbsp;trees,&nbsp;including&nbsp;the&nbsp;one&nbsp;for&nbsp;t,&nbsp;into&nbsp;our&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3585119">for</span>&nbsp;<span class="ident" id="3585123">name</span><span class="op" id="3585127">,</span>&nbsp;<span class="ident" id="3585129">tree</span>&nbsp;<span class="op" id="3585134">:=</span>&nbsp;<span class="keyword" id="3585137">range</span>&nbsp;<span class="ident" id="3585143"><a href="/text/template/template.go.html#3584905">trees</a></span>&nbsp;<span class="op" id="3585149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3585153">//&nbsp;If&nbsp;the&nbsp;name&nbsp;we&nbsp;parsed&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;this&nbsp;template,&nbsp;overwrite&nbsp;this&nbsp;template.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3585235">//&nbsp;The&nbsp;associate&nbsp;method&nbsp;checks&nbsp;it&#39;s&nbsp;not&nbsp;a&nbsp;redefinition.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3585293">tmpl</span>&nbsp;<span class="op" id="3585298">:=</span>&nbsp;<span class="ident" id="3585301"><a href="/text/template/template.go.html#3584841">t</a></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3585305">if</span>&nbsp;<span class="ident" id="3585308"><a href="/text/template/template.go.html#3585123">name</a></span>&nbsp;<span class="op" id="3585313">!=</span>&nbsp;<span class="ident" id="3585316"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3585317">.</span><span class="ident" id="3585318">name</span>&nbsp;<span class="op" id="3585323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3585328"><a href="/text/template/template.go.html#3585293">tmpl</a></span>&nbsp;<span class="op" id="3585333">=</span>&nbsp;<span class="ident" id="3585335"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3585336">.</span><span class="ident" id="3585337">New</span><span class="op" id="3585340">(</span><span class="ident" id="3585341"><a href="/text/template/template.go.html#3585123">name</a></span><span class="op" id="3585345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3585349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3585353">//&nbsp;Even&nbsp;if&nbsp;t&nbsp;==&nbsp;tmpl,&nbsp;we&nbsp;need&nbsp;to&nbsp;install&nbsp;it&nbsp;in&nbsp;the&nbsp;common.tmpl&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3585423">if</span>&nbsp;<span class="ident" id="3585426">replace</span><span class="op" id="3585433">,</span>&nbsp;<span class="ident" id="3585435">err</span>&nbsp;<span class="op" id="3585439">:=</span>&nbsp;<span class="ident" id="3585442"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3585443">.</span><span class="ident" id="3585444">associate</span><span class="op" id="3585453">(</span><span class="ident" id="3585454"><a href="/text/template/template.go.html#3585293">tmpl</a></span><span class="op" id="3585458">,</span>&nbsp;<span class="ident" id="3585460"><a href="/text/template/template.go.html#3585129">tree</a></span><span class="op" id="3585464">)</span><span class="op" id="3585465">;</span>&nbsp;<span class="ident" id="3585467"><a href="/text/template/template.go.html#3585435">err</a></span>&nbsp;<span class="op" id="3585471">!=</span>&nbsp;<span class="ident" id="3585474">nil</span>&nbsp;<span class="op" id="3585478">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3585483">return</span>&nbsp;<span class="ident" id="3585490">nil</span><span class="op" id="3585493">,</span>&nbsp;<span class="ident" id="3585495"><a href="/text/template/template.go.html#3585435">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3585501">}</span>&nbsp;<span class="keyword" id="3585503">else</span>&nbsp;<span class="keyword" id="3585508">if</span>&nbsp;<span class="ident" id="3585511"><a href="/text/template/template.go.html#3585426">replace</a></span>&nbsp;<span class="op" id="3585519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3585524"><a href="/text/template/template.go.html#3585293">tmpl</a></span><span class="op" id="3585528">.</span><span class="ident" id="3585529">Tree</span>&nbsp;<span class="op" id="3585534">=</span>&nbsp;<span class="ident" id="3585536"><a href="/text/template/template.go.html#3585129">tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3585543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3585547"><a href="/text/template/template.go.html#3585293">tmpl</a></span><span class="op" id="3585551">.</span><span class="ident" id="3585552">leftDelim</span>&nbsp;<span class="op" id="3585562">=</span>&nbsp;<span class="ident" id="3585564"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3585565">.</span><span class="ident" id="3585566">leftDelim</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3585578"><a href="/text/template/template.go.html#3585293">tmpl</a></span><span class="op" id="3585582">.</span><span class="ident" id="3585583">rightDelim</span>&nbsp;<span class="op" id="3585594">=</span>&nbsp;<span class="ident" id="3585596"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3585597">.</span><span class="ident" id="3585598">rightDelim</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3585610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3585613">return</span>&nbsp;<span class="ident" id="3585620"><a href="/text/template/template.go.html#3584841">t</a></span><span class="op" id="3585621">,</span>&nbsp;<span class="ident" id="3585623">nil</span><br>
<span class="lineno"></span><span class="op" id="3585627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="3585630">//&nbsp;associate&nbsp;installs&nbsp;the&nbsp;new&nbsp;template&nbsp;into&nbsp;the&nbsp;group&nbsp;of&nbsp;templates&nbsp;associated</span><br>
<span class="lineno"></span><span class="comment" id="3585708">//&nbsp;with&nbsp;t.&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;reuse&nbsp;a&nbsp;name&nbsp;except&nbsp;to&nbsp;overwrite&nbsp;an&nbsp;empty</span><br>
<span class="lineno"></span><span class="comment" id="3585779">//&nbsp;template.&nbsp;The&nbsp;two&nbsp;are&nbsp;already&nbsp;known&nbsp;to&nbsp;share&nbsp;the&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span><span class="comment" id="3585849">//&nbsp;The&nbsp;boolean&nbsp;return&nbsp;value&nbsp;reports&nbsp;wither&nbsp;to&nbsp;store&nbsp;this&nbsp;tree&nbsp;as&nbsp;t.Tree.</span><br>
<span class="lineno"></span><span class="keyword" id="3585922">func</span>&nbsp;<span class="op" id="3585927">(</span><span class="ident" id="3585928">t</span>&nbsp;<span class="op" id="3585930">*</span><span class="ident" id="3585931"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3585939">)</span>&nbsp;<span class="ident" id="3585941">associate</span><span class="op" id="3585950">(</span><span class="builtinfunc" id="3585951">new</span>&nbsp;<span class="op" id="3585955">*</span><span class="ident" id="3585956"><a href="/text/template/template.go.html#3580507">Template</a></span><span class="op" id="3585964">,</span>&nbsp;<span class="ident" id="3585966">tree</span>&nbsp;<span class="op" id="3585971">*</span><span class="ident" id="3585972"><a href="/text/template/template.go.html#3579968">parse</a></span><span class="op" id="3585977">.</span><span class="ident" id="3585978">Tree</span><span class="op" id="3585982">)</span>&nbsp;<span class="op" id="3585984">(</span><span class="builtintype" id="3585985">bool</span><span class="op" id="3585989">,</span>&nbsp;<span class="builtintype" id="3585991">error</span><span class="op" id="3585996">)</span>&nbsp;<span class="op" id="3585998">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3586001">if</span>&nbsp;<span class="builtinfunc" id="3586004"><a href="/text/template/template.go.html#3585951">new</a></span><span class="op" id="3586007">.</span><span class="ident" id="3586008">common</span>&nbsp;<span class="op" id="3586015">!=</span>&nbsp;<span class="ident" id="3586018"><a href="/text/template/template.go.html#3585928">t</a></span><span class="op" id="3586019">.</span><span class="ident" id="3586020">common</span>&nbsp;<span class="op" id="3586027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3586031">panic</span><span class="op" id="3586036">(</span><span class="string" id="3586037">&#34;internal&nbsp;error:&nbsp;associate&nbsp;not&nbsp;common&#34;</span><span class="op" id="3586075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3586078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3586081">name</span>&nbsp;<span class="op" id="3586086">:=</span>&nbsp;<span class="builtinfunc" id="3586089"><a href="/text/template/template.go.html#3585951">new</a></span><span class="op" id="3586092">.</span><span class="ident" id="3586093">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3586099">if</span>&nbsp;<span class="ident" id="3586102">old</span>&nbsp;<span class="op" id="3586106">:=</span>&nbsp;<span class="ident" id="3586109"><a href="/text/template/template.go.html#3585928">t</a></span><span class="op" id="3586110">.</span><span class="ident" id="3586111">tmpl</span><span class="op" id="3586115">[</span><span class="ident" id="3586116"><a href="/text/template/template.go.html#3586081">name</a></span><span class="op" id="3586120">]</span><span class="op" id="3586121">;</span>&nbsp;<span class="ident" id="3586123"><a href="/text/template/template.go.html#3586102">old</a></span>&nbsp;<span class="op" id="3586127">!=</span>&nbsp;<span class="ident" id="3586130">nil</span>&nbsp;<span class="op" id="3586134">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3586138">oldIsEmpty</span>&nbsp;<span class="op" id="3586149">:=</span>&nbsp;<span class="ident" id="3586152"><a href="/text/template/template.go.html#3579968">parse</a></span><span class="op" id="3586157">.</span><span class="ident" id="3586158">IsEmptyTree</span><span class="op" id="3586169">(</span><span class="ident" id="3586170"><a href="/text/template/template.go.html#3586102">old</a></span><span class="op" id="3586173">.</span><span class="ident" id="3586174">Root</span><span class="op" id="3586178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3586182">newIsEmpty</span>&nbsp;<span class="op" id="3586193">:=</span>&nbsp;<span class="ident" id="3586196"><a href="/text/template/template.go.html#3579968">parse</a></span><span class="op" id="3586201">.</span><span class="ident" id="3586202">IsEmptyTree</span><span class="op" id="3586213">(</span><span class="ident" id="3586214"><a href="/text/template/template.go.html#3585966">tree</a></span><span class="op" id="3586218">.</span><span class="ident" id="3586219">Root</span><span class="op" id="3586223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3586227">if</span>&nbsp;<span class="ident" id="3586230"><a href="/text/template/template.go.html#3586182">newIsEmpty</a></span>&nbsp;<span class="op" id="3586241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3586246">//&nbsp;Whether&nbsp;old&nbsp;is&nbsp;empty&nbsp;or&nbsp;not,&nbsp;new&nbsp;is&nbsp;empty;&nbsp;no&nbsp;reason&nbsp;to&nbsp;replace&nbsp;old.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3586321">return</span>&nbsp;<span class="ident" id="3586328">false</span><span class="op" id="3586333">,</span>&nbsp;<span class="ident" id="3586335">nil</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3586341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3586345">if</span>&nbsp;<span class="op" id="3586348">!</span><span class="ident" id="3586349"><a href="/text/template/template.go.html#3586138">oldIsEmpty</a></span>&nbsp;<span class="op" id="3586360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3586365">return</span>&nbsp;<span class="ident" id="3586372">false</span><span class="op" id="3586377">,</span>&nbsp;<span class="ident" id="3586379"><a href="/text/template/template.go.html#3579950">fmt</a></span><span class="op" id="3586382">.</span><span class="ident" id="3586383">Errorf</span><span class="op" id="3586389">(</span><span class="string" id="3586390">&#34;template:&nbsp;redefinition&nbsp;of&nbsp;template&nbsp;%q&#34;</span><span class="op" id="3586429">,</span>&nbsp;<span class="ident" id="3586431"><a href="/text/template/template.go.html#3586081">name</a></span><span class="op" id="3586435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3586439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3586442">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3586445"><a href="/text/template/template.go.html#3585928">t</a></span><span class="op" id="3586446">.</span><span class="ident" id="3586447">tmpl</span><span class="op" id="3586451">[</span><span class="ident" id="3586452"><a href="/text/template/template.go.html#3586081">name</a></span><span class="op" id="3586456">]</span>&nbsp;<span class="op" id="3586458">=</span>&nbsp;<span class="builtinfunc" id="3586460"><a href="/text/template/template.go.html#3585951">new</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3586465">return</span>&nbsp;<span class="ident" id="3586472">true</span><span class="op" id="3586476">,</span>&nbsp;<span class="ident" id="3586478">nil</span><br>
<span class="lineno"></span><span class="op" id="3586482">}</span>
</div>
</body>
</html>
