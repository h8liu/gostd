<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/plan9obj</h2>
<ul>
<li><a href="/gostd/debug/plan9obj/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/plan9obj/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/plan9obj/plan9obj.go.html">plan9obj.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7350392">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7350448">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7350502">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7350553">package</span>&nbsp;<span class="ident" id="7350561">plan9obj</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7350571">import</span>&nbsp;<span class="op" id="7350578">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7350581">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7350592">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7350602">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7350605">type</span>&nbsp;<span class="ident" id="7350610">fileTest</span>&nbsp;<span class="keyword" id="7350619">struct</span>&nbsp;<span class="op" id="7350626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7350629">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7350638">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7350646">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7350655">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7350667">sections</span>&nbsp;<span class="op" id="7350676">[</span><span class="op" id="7350677">]</span><span class="op" id="7350678">*</span><span class="ident" id="7350679">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="7350693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7350696">var</span>&nbsp;<span class="ident" id="7350700">fileTests</span>&nbsp;<span class="op" id="7350710">=</span>&nbsp;<span class="op" id="7350712">[</span><span class="op" id="7350713">]</span><span class="ident" id="7350714">fileTest</span><span class="op" id="7350722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350725">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7350729">&#34;testdata/386-plan9-exec&#34;</span><span class="op" id="7350754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7350758">FileHeader</span><span class="op" id="7350768">{</span><span class="ident" id="7350769">Magic386</span><span class="op" id="7350777">,</span>&nbsp;<span class="num" id="7350779">0x324</span><span class="op" id="7350784">,</span>&nbsp;<span class="num" id="7350786">0x14</span><span class="op" id="7350790">,</span>&nbsp;<span class="num" id="7350792">4</span><span class="op" id="7350793">,</span>&nbsp;<span class="num" id="7350795">0x1000</span><span class="op" id="7350801">,</span>&nbsp;<span class="num" id="7350803">32</span><span class="op" id="7350805">}</span><span class="op" id="7350806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350810">[</span><span class="op" id="7350811">]</span><span class="op" id="7350812">*</span><span class="ident" id="7350813">SectionHeader</span><span class="op" id="7350826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350831">{</span><span class="string" id="7350832">&#34;text&#34;</span><span class="op" id="7350838">,</span>&nbsp;<span class="num" id="7350840">0x4c5f</span><span class="op" id="7350846">,</span>&nbsp;<span class="num" id="7350848">0x20</span><span class="op" id="7350852">}</span><span class="op" id="7350853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350858">{</span><span class="string" id="7350859">&#34;data&#34;</span><span class="op" id="7350865">,</span>&nbsp;<span class="num" id="7350867">0x94c</span><span class="op" id="7350872">,</span>&nbsp;<span class="num" id="7350874">0x4c7f</span><span class="op" id="7350880">}</span><span class="op" id="7350881">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350886">{</span><span class="string" id="7350887">&#34;syms&#34;</span><span class="op" id="7350893">,</span>&nbsp;<span class="num" id="7350895">0x2c2b</span><span class="op" id="7350901">,</span>&nbsp;<span class="num" id="7350903">0x55cb</span><span class="op" id="7350909">}</span><span class="op" id="7350910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350915">{</span><span class="string" id="7350916">&#34;spsz&#34;</span><span class="op" id="7350922">,</span>&nbsp;<span class="num" id="7350924">0x0</span><span class="op" id="7350927">,</span>&nbsp;<span class="num" id="7350929">0x81f6</span><span class="op" id="7350935">}</span><span class="op" id="7350936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350941">{</span><span class="string" id="7350942">&#34;pcsz&#34;</span><span class="op" id="7350948">,</span>&nbsp;<span class="num" id="7350950">0xf7a</span><span class="op" id="7350955">,</span>&nbsp;<span class="num" id="7350957">0x81f6</span><span class="op" id="7350963">}</span><span class="op" id="7350964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350968">}</span><span class="op" id="7350969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350972">}</span><span class="op" id="7350973">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7350980">&#34;testdata/amd64-plan9-exec&#34;</span><span class="op" id="7351007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351011">FileHeader</span><span class="op" id="7351021">{</span><span class="ident" id="7351022">MagicAMD64</span><span class="op" id="7351032">,</span>&nbsp;<span class="num" id="7351034">0x618</span><span class="op" id="7351039">,</span>&nbsp;<span class="num" id="7351041">0x13</span><span class="op" id="7351045">,</span>&nbsp;<span class="num" id="7351047">8</span><span class="op" id="7351048">,</span>&nbsp;<span class="num" id="7351050">0x200000</span><span class="op" id="7351058">,</span>&nbsp;<span class="num" id="7351060">40</span><span class="op" id="7351062">}</span><span class="op" id="7351063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351067">[</span><span class="op" id="7351068">]</span><span class="op" id="7351069">*</span><span class="ident" id="7351070">SectionHeader</span><span class="op" id="7351083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351088">{</span><span class="string" id="7351089">&#34;text&#34;</span><span class="op" id="7351095">,</span>&nbsp;<span class="num" id="7351097">0x4213</span><span class="op" id="7351103">,</span>&nbsp;<span class="num" id="7351105">0x28</span><span class="op" id="7351109">}</span><span class="op" id="7351110">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351115">{</span><span class="string" id="7351116">&#34;data&#34;</span><span class="op" id="7351122">,</span>&nbsp;<span class="num" id="7351124">0xa80</span><span class="op" id="7351129">,</span>&nbsp;<span class="num" id="7351131">0x423b</span><span class="op" id="7351137">}</span><span class="op" id="7351138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351143">{</span><span class="string" id="7351144">&#34;syms&#34;</span><span class="op" id="7351150">,</span>&nbsp;<span class="num" id="7351152">0x2c8c</span><span class="op" id="7351158">,</span>&nbsp;<span class="num" id="7351160">0x4cbb</span><span class="op" id="7351166">}</span><span class="op" id="7351167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351172">{</span><span class="string" id="7351173">&#34;spsz&#34;</span><span class="op" id="7351179">,</span>&nbsp;<span class="num" id="7351181">0x0</span><span class="op" id="7351184">,</span>&nbsp;<span class="num" id="7351186">0x7947</span><span class="op" id="7351192">}</span><span class="op" id="7351193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351198">{</span><span class="string" id="7351199">&#34;pcsz&#34;</span><span class="op" id="7351205">,</span>&nbsp;<span class="num" id="7351207">0xca0</span><span class="op" id="7351212">,</span>&nbsp;<span class="num" id="7351214">0x7947</span><span class="op" id="7351220">}</span><span class="op" id="7351221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351225">}</span><span class="op" id="7351226">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351229">}</span><span class="op" id="7351230">,</span><br>
<span class="lineno"></span><span class="op" id="7351232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7351235">func</span>&nbsp;<span class="ident" id="7351240">TestOpen</span><span class="op" id="7351248">(</span><span class="ident" id="7351249">t</span>&nbsp;<span class="op" id="7351251">*</span><span class="ident" id="7351252">testing</span><span class="op" id="7351259">.</span><span class="ident" id="7351260">T</span><span class="op" id="7351261">)</span>&nbsp;<span class="op" id="7351263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351266">for</span>&nbsp;<span class="ident" id="7351270">i</span>&nbsp;<span class="op" id="7351272">:=</span>&nbsp;<span class="keyword" id="7351275">range</span>&nbsp;<span class="ident" id="7351281">fileTests</span>&nbsp;<span class="op" id="7351291">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351295">tt</span>&nbsp;<span class="op" id="7351298">:=</span>&nbsp;<span class="op" id="7351301">&amp;</span><span class="ident" id="7351302">fileTests</span><span class="op" id="7351311">[</span><span class="ident" id="7351312">i</span><span class="op" id="7351313">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351318">f</span><span class="op" id="7351319">,</span>&nbsp;<span class="ident" id="7351321">err</span>&nbsp;<span class="op" id="7351325">:=</span>&nbsp;<span class="ident" id="7351328">Open</span><span class="op" id="7351332">(</span><span class="ident" id="7351333">tt</span><span class="op" id="7351335">.</span><span class="ident" id="7351336">file</span><span class="op" id="7351340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351344">if</span>&nbsp;<span class="ident" id="7351347">err</span>&nbsp;<span class="op" id="7351351">!=</span>&nbsp;<span class="ident" id="7351354">nil</span>&nbsp;<span class="op" id="7351358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351363">t</span><span class="op" id="7351364">.</span><span class="ident" id="7351365">Error</span><span class="op" id="7351370">(</span><span class="ident" id="7351371">err</span><span class="op" id="7351374">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351379">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351394">if</span>&nbsp;<span class="op" id="7351397">!</span><span class="ident" id="7351398">reflect</span><span class="op" id="7351405">.</span><span class="ident" id="7351406">DeepEqual</span><span class="op" id="7351415">(</span><span class="ident" id="7351416">f</span><span class="op" id="7351417">.</span><span class="ident" id="7351418">FileHeader</span><span class="op" id="7351428">,</span>&nbsp;<span class="ident" id="7351430">tt</span><span class="op" id="7351432">.</span><span class="ident" id="7351433">hdr</span><span class="op" id="7351436">)</span>&nbsp;<span class="op" id="7351438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351443">t</span><span class="op" id="7351444">.</span><span class="ident" id="7351445">Errorf</span><span class="op" id="7351451">(</span><span class="string" id="7351452">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7351488">,</span>&nbsp;<span class="ident" id="7351490">tt</span><span class="op" id="7351492">.</span><span class="ident" id="7351493">file</span><span class="op" id="7351497">,</span>&nbsp;<span class="ident" id="7351499">f</span><span class="op" id="7351500">.</span><span class="ident" id="7351501">FileHeader</span><span class="op" id="7351511">,</span>&nbsp;<span class="ident" id="7351513">tt</span><span class="op" id="7351515">.</span><span class="ident" id="7351516">hdr</span><span class="op" id="7351519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351524">continue</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351540">for</span>&nbsp;<span class="ident" id="7351544">i</span><span class="op" id="7351545">,</span>&nbsp;<span class="ident" id="7351547">sh</span>&nbsp;<span class="op" id="7351550">:=</span>&nbsp;<span class="keyword" id="7351553">range</span>&nbsp;<span class="ident" id="7351559">f</span><span class="op" id="7351560">.</span><span class="ident" id="7351561">Sections</span>&nbsp;<span class="op" id="7351570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351575">if</span>&nbsp;<span class="ident" id="7351578">i</span>&nbsp;<span class="op" id="7351580">&gt;=</span>&nbsp;<span class="builtinfunc" id="7351583">len</span><span class="op" id="7351586">(</span><span class="ident" id="7351587">tt</span><span class="op" id="7351589">.</span><span class="ident" id="7351590">sections</span><span class="op" id="7351598">)</span>&nbsp;<span class="op" id="7351600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351606">break</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351620">have</span>&nbsp;<span class="op" id="7351625">:=</span>&nbsp;<span class="op" id="7351628">&amp;</span><span class="ident" id="7351629">sh</span><span class="op" id="7351631">.</span><span class="ident" id="7351632">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351649">want</span>&nbsp;<span class="op" id="7351654">:=</span>&nbsp;<span class="ident" id="7351657">tt</span><span class="op" id="7351659">.</span><span class="ident" id="7351660">sections</span><span class="op" id="7351668">[</span><span class="ident" id="7351669">i</span><span class="op" id="7351670">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351675">if</span>&nbsp;<span class="op" id="7351678">!</span><span class="ident" id="7351679">reflect</span><span class="op" id="7351686">.</span><span class="ident" id="7351687">DeepEqual</span><span class="op" id="7351696">(</span><span class="ident" id="7351697">have</span><span class="op" id="7351701">,</span>&nbsp;<span class="ident" id="7351703">want</span><span class="op" id="7351707">)</span>&nbsp;<span class="op" id="7351709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351715">t</span><span class="op" id="7351716">.</span><span class="ident" id="7351717">Errorf</span><span class="op" id="7351723">(</span><span class="string" id="7351724">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7351772">,</span>&nbsp;<span class="ident" id="7351774">tt</span><span class="op" id="7351776">.</span><span class="ident" id="7351777">file</span><span class="op" id="7351781">,</span>&nbsp;<span class="ident" id="7351783">i</span><span class="op" id="7351784">,</span>&nbsp;<span class="ident" id="7351786">have</span><span class="op" id="7351790">,</span>&nbsp;<span class="ident" id="7351792">want</span><span class="op" id="7351796">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351809">tn</span>&nbsp;<span class="op" id="7351812">:=</span>&nbsp;<span class="builtinfunc" id="7351815">len</span><span class="op" id="7351818">(</span><span class="ident" id="7351819">tt</span><span class="op" id="7351821">.</span><span class="ident" id="7351822">sections</span><span class="op" id="7351830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351834">fn</span>&nbsp;<span class="op" id="7351837">:=</span>&nbsp;<span class="builtinfunc" id="7351840">len</span><span class="op" id="7351843">(</span><span class="ident" id="7351844">f</span><span class="op" id="7351845">.</span><span class="ident" id="7351846">Sections</span><span class="op" id="7351854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7351858">if</span>&nbsp;<span class="ident" id="7351861">tn</span>&nbsp;<span class="op" id="7351864">!=</span>&nbsp;<span class="ident" id="7351867">fn</span>&nbsp;<span class="op" id="7351870">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351875">t</span><span class="op" id="7351876">.</span><span class="ident" id="7351877">Errorf</span><span class="op" id="7351883">(</span><span class="string" id="7351884">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7351922">,</span>&nbsp;<span class="ident" id="7351924">tt</span><span class="op" id="7351926">.</span><span class="ident" id="7351927">file</span><span class="op" id="7351931">,</span>&nbsp;<span class="ident" id="7351933">fn</span><span class="op" id="7351935">,</span>&nbsp;<span class="ident" id="7351937">tn</span><span class="op" id="7351939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351946">}</span><br>
<span class="lineno"></span><span class="op" id="7351948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="7351951">func</span>&nbsp;<span class="ident" id="7351956">TestOpenFailure</span><span class="op" id="7351971">(</span><span class="ident" id="7351972">t</span>&nbsp;<span class="op" id="7351974">*</span><span class="ident" id="7351975">testing</span><span class="op" id="7351982">.</span><span class="ident" id="7351983">T</span><span class="op" id="7351984">)</span>&nbsp;<span class="op" id="7351986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7351989">filename</span>&nbsp;<span class="op" id="7351998">:=</span>&nbsp;<span class="string" id="7352001">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7352014">//&nbsp;not&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352042">_</span><span class="op" id="7352043">,</span>&nbsp;<span class="ident" id="7352045">err</span>&nbsp;<span class="op" id="7352049">:=</span>&nbsp;<span class="ident" id="7352052">Open</span><span class="op" id="7352056">(</span><span class="ident" id="7352057">filename</span><span class="op" id="7352065">)</span>&nbsp;<span class="comment" id="7352067">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7352083">if</span>&nbsp;<span class="ident" id="7352086">err</span>&nbsp;<span class="op" id="7352090">==</span>&nbsp;<span class="ident" id="7352093">nil</span>&nbsp;<span class="op" id="7352097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352101">t</span><span class="op" id="7352102">.</span><span class="ident" id="7352103">Errorf</span><span class="op" id="7352109">(</span><span class="string" id="7352110">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="7352143">,</span>&nbsp;<span class="ident" id="7352145">filename</span><span class="op" id="7352153">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352156">}</span><br>
<span class="lineno"></span><span class="op" id="7352158">}</span>
</div>
</body>
</html>
