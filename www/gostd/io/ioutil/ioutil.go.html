<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html" class="current">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3763965">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3764020">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3764074">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3764125">//&nbsp;Package&nbsp;ioutil&nbsp;implements&nbsp;some&nbsp;I/O&nbsp;utility&nbsp;functions.</span><br>
<span class="lineno"></span><span class="keyword" id="3764182">package</span>&nbsp;<span class="ident" id="3764190">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3764198">import</span>&nbsp;<span class="op" id="3764205">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3764208">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3764217">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3764223">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3764229">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3764237">&#34;sync&#34;</span><br>
<span class="lineno"></span><span class="op" id="3764244">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3764247">//&nbsp;readAll&nbsp;reads&nbsp;from&nbsp;r&nbsp;until&nbsp;an&nbsp;error&nbsp;or&nbsp;EOF&nbsp;and&nbsp;returns&nbsp;the&nbsp;data&nbsp;it&nbsp;read</span><br>
<span class="lineno"></span><span class="comment" id="3764322">//&nbsp;from&nbsp;the&nbsp;internal&nbsp;buffer&nbsp;allocated&nbsp;with&nbsp;a&nbsp;specified&nbsp;capacity.</span><br>
<span class="lineno"></span><span class="keyword" id="3764387">func</span>&nbsp;<span class="ident" id="3764392">readAll</span><span class="op" id="3764399">(</span><span class="ident" id="3764400">r</span>&nbsp;<span class="ident" id="3764402"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3764404">.</span><span class="ident" id="3764405"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="3764411">,</span>&nbsp;<span class="ident" id="3764413">capacity</span>&nbsp;<span class="builtintype" id="3764422">int64</span><span class="op" id="3764427">)</span>&nbsp;<span class="op" id="3764429">(</span><span class="ident" id="3764430">b</span>&nbsp;<span class="op" id="3764432">[</span><span class="op" id="3764433">]</span><span class="builtintype" id="3764434">byte</span><span class="op" id="3764438">,</span>&nbsp;<span class="ident" id="3764440">err</span>&nbsp;<span class="builtintype" id="3764444">error</span><span class="op" id="3764449">)</span>&nbsp;<span class="op" id="3764451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764454">buf</span>&nbsp;<span class="op" id="3764458">:=</span>&nbsp;<span class="ident" id="3764461"><a href="/gostd/io/ioutil/ioutil.go.html#3764208">bytes</a></span><span class="op" id="3764466">.</span><span class="ident" id="3764467"><a href="/gostd/bytes/buffer.go.html#1395573">NewBuffer</a></span><span class="op" id="3764476">(</span><span class="builtinfunc" id="3764477">make</span><span class="op" id="3764481">(</span><span class="op" id="3764482">[</span><span class="op" id="3764483">]</span><span class="builtintype" id="3764484">byte</span><span class="op" id="3764488">,</span>&nbsp;<span class="num" id="3764490">0</span><span class="op" id="3764491">,</span>&nbsp;<span class="ident" id="3764493"><a href="/gostd/io/ioutil/ioutil.go.html#3764413">capacity</a></span><span class="op" id="3764501">)</span><span class="op" id="3764502">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764505">//&nbsp;If&nbsp;the&nbsp;buffer&nbsp;overflows,&nbsp;we&nbsp;will&nbsp;get&nbsp;bytes.ErrTooLarge.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3764565">//&nbsp;Return&nbsp;that&nbsp;as&nbsp;an&nbsp;error.&nbsp;Any&nbsp;other&nbsp;panic&nbsp;remains.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764619">defer</span>&nbsp;<span class="keyword" id="3764625">func</span><span class="op" id="3764629">(</span><span class="op" id="3764630">)</span>&nbsp;<span class="op" id="3764632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764636">e</span>&nbsp;<span class="op" id="3764638">:=</span>&nbsp;<span class="builtinfunc" id="3764641">recover</span><span class="op" id="3764648">(</span><span class="op" id="3764649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764653">if</span>&nbsp;<span class="ident" id="3764656"><a href="/gostd/io/ioutil/ioutil.go.html#3764636">e</a></span>&nbsp;<span class="op" id="3764658">==</span>&nbsp;<span class="builtintype" id="3764661">nil</span>&nbsp;<span class="op" id="3764665">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764670">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764683">if</span>&nbsp;<span class="ident" id="3764686">panicErr</span><span class="op" id="3764694">,</span>&nbsp;<span class="ident" id="3764696">ok</span>&nbsp;<span class="op" id="3764699">:=</span>&nbsp;<span class="ident" id="3764702"><a href="/gostd/io/ioutil/ioutil.go.html#3764636">e</a></span><span class="op" id="3764703">.</span><span class="op" id="3764704">(</span><span class="builtintype" id="3764705">error</span><span class="op" id="3764710">)</span><span class="op" id="3764711">;</span>&nbsp;<span class="ident" id="3764713"><a href="/gostd/io/ioutil/ioutil.go.html#3764696">ok</a></span>&nbsp;<span class="op" id="3764716">&amp;&amp;</span>&nbsp;<span class="ident" id="3764719"><a href="/gostd/io/ioutil/ioutil.go.html#3764686">panicErr</a></span>&nbsp;<span class="op" id="3764728">==</span>&nbsp;<span class="ident" id="3764731"><a href="/gostd/io/ioutil/ioutil.go.html#3764208">bytes</a></span><span class="op" id="3764736">.</span><span class="ident" id="3764737"><a href="/gostd/bytes/buffer.go.html#1384110">ErrTooLarge</a></span>&nbsp;<span class="op" id="3764749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764754"><a href="/gostd/io/ioutil/ioutil.go.html#3764440">err</a></span>&nbsp;<span class="op" id="3764758">=</span>&nbsp;<span class="ident" id="3764760"><a href="/gostd/io/ioutil/ioutil.go.html#3764686">panicErr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764771">}</span>&nbsp;<span class="keyword" id="3764773">else</span>&nbsp;<span class="op" id="3764778">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3764783">panic</span><span class="op" id="3764788">(</span><span class="ident" id="3764789"><a href="/gostd/io/ioutil/ioutil.go.html#3764636">e</a></span><span class="op" id="3764790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3764797">}</span><span class="op" id="3764798">(</span><span class="op" id="3764799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3764802">_</span><span class="op" id="3764803">,</span>&nbsp;<span class="ident" id="3764805"><a href="/gostd/io/ioutil/ioutil.go.html#3764440">err</a></span>&nbsp;<span class="op" id="3764809">=</span>&nbsp;<span class="ident" id="3764811"><a href="/gostd/io/ioutil/ioutil.go.html#3764454">buf</a></span><span class="op" id="3764814">.</span><span class="ident" id="3764815"><a href="/gostd/bytes/buffer.go.html#1388068">ReadFrom</a></span><span class="op" id="3764823">(</span><span class="ident" id="3764824"><a href="/gostd/io/ioutil/ioutil.go.html#3764400">r</a></span><span class="op" id="3764825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3764828">return</span>&nbsp;<span class="ident" id="3764835"><a href="/gostd/io/ioutil/ioutil.go.html#3764454">buf</a></span><span class="op" id="3764838">.</span><span class="ident" id="3764839"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="3764844">(</span><span class="op" id="3764845">)</span><span class="op" id="3764846">,</span>&nbsp;<span class="ident" id="3764848"><a href="/gostd/io/ioutil/ioutil.go.html#3764440">err</a></span><br>
<span class="lineno">35</span><span class="op" id="3764852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3764855">//&nbsp;ReadAll&nbsp;reads&nbsp;from&nbsp;r&nbsp;until&nbsp;an&nbsp;error&nbsp;or&nbsp;EOF&nbsp;and&nbsp;returns&nbsp;the&nbsp;data&nbsp;it&nbsp;read.</span><br>
<span class="lineno"></span><span class="comment" id="3764931">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadAll&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3765007">//&nbsp;defined&nbsp;to&nbsp;read&nbsp;from&nbsp;src&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read</span><br>
<span class="lineno">40</span><span class="comment" id="3765081">//&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="3765112">func</span>&nbsp;<span class="ident" id="3765117">ReadAll</span><span class="op" id="3765124">(</span><span class="ident" id="3765125">r</span>&nbsp;<span class="ident" id="3765127"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3765129">.</span><span class="ident" id="3765130"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="3765136">)</span>&nbsp;<span class="op" id="3765138">(</span><span class="op" id="3765139">[</span><span class="op" id="3765140">]</span><span class="builtintype" id="3765141">byte</span><span class="op" id="3765145">,</span>&nbsp;<span class="builtintype" id="3765147">error</span><span class="op" id="3765152">)</span>&nbsp;<span class="op" id="3765154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765157">return</span>&nbsp;<span class="ident" id="3765164"><a href="/gostd/io/ioutil/ioutil.go.html#3764392">readAll</a></span><span class="op" id="3765171">(</span><span class="ident" id="3765172"><a href="/gostd/io/ioutil/ioutil.go.html#3765125">r</a></span><span class="op" id="3765173">,</span>&nbsp;<span class="ident" id="3765175"><a href="/gostd/io/ioutil/ioutil.go.html#3764208">bytes</a></span><span class="op" id="3765180">.</span><span class="ident" id="3765181"><a href="/gostd/bytes/buffer.go.html#1387738">MinRead</a></span><span class="op" id="3765188">)</span><br>
<span class="lineno"></span><span class="op" id="3765190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3765193">//&nbsp;ReadFile&nbsp;reads&nbsp;the&nbsp;file&nbsp;named&nbsp;by&nbsp;filename&nbsp;and&nbsp;returns&nbsp;the&nbsp;contents.</span><br>
<span class="lineno"></span><span class="comment" id="3765264">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadFile</span><br>
<span class="lineno"></span><span class="comment" id="3765338">//&nbsp;reads&nbsp;the&nbsp;whole&nbsp;file,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;an&nbsp;EOF&nbsp;from&nbsp;Read&nbsp;as&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="3765410">//&nbsp;to&nbsp;be&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="3765429">func</span>&nbsp;<span class="ident" id="3765434">ReadFile</span><span class="op" id="3765442">(</span><span class="ident" id="3765443">filename</span>&nbsp;<span class="builtintype" id="3765452">string</span><span class="op" id="3765458">)</span>&nbsp;<span class="op" id="3765460">(</span><span class="op" id="3765461">[</span><span class="op" id="3765462">]</span><span class="builtintype" id="3765463">byte</span><span class="op" id="3765467">,</span>&nbsp;<span class="builtintype" id="3765469">error</span><span class="op" id="3765474">)</span>&nbsp;<span class="op" id="3765476">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765479">f</span><span class="op" id="3765480">,</span>&nbsp;<span class="ident" id="3765482">err</span>&nbsp;<span class="op" id="3765486">:=</span>&nbsp;<span class="ident" id="3765489"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3765491">.</span><span class="ident" id="3765492"><a href="/gostd/os/file.go.html#2446863">Open</a></span><span class="op" id="3765496">(</span><span class="ident" id="3765497"><a href="/gostd/io/ioutil/ioutil.go.html#3765443">filename</a></span><span class="op" id="3765505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765508">if</span>&nbsp;<span class="ident" id="3765511"><a href="/gostd/io/ioutil/ioutil.go.html#3765482">err</a></span>&nbsp;<span class="op" id="3765515">!=</span>&nbsp;<span class="builtintype" id="3765518">nil</span>&nbsp;<span class="op" id="3765522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765526">return</span>&nbsp;<span class="builtintype" id="3765533">nil</span><span class="op" id="3765536">,</span>&nbsp;<span class="ident" id="3765538"><a href="/gostd/io/ioutil/ioutil.go.html#3765482">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3765543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765546">defer</span>&nbsp;<span class="ident" id="3765552"><a href="/gostd/io/ioutil/ioutil.go.html#3765479">f</a></span><span class="op" id="3765553">.</span><span class="ident" id="3765554"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="3765559">(</span><span class="op" id="3765560">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765563">//&nbsp;It&#39;s&nbsp;a&nbsp;good&nbsp;but&nbsp;not&nbsp;certain&nbsp;bet&nbsp;that&nbsp;FileInfo&nbsp;will&nbsp;tell&nbsp;us&nbsp;exactly&nbsp;how&nbsp;much&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765646">//&nbsp;read,&nbsp;so&nbsp;let&#39;s&nbsp;try&nbsp;it&nbsp;but&nbsp;be&nbsp;prepared&nbsp;for&nbsp;the&nbsp;answer&nbsp;to&nbsp;be&nbsp;wrong.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765716">var</span>&nbsp;<span class="ident" id="3765720">n</span>&nbsp;<span class="builtintype" id="3765722">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765730">if</span>&nbsp;<span class="ident" id="3765733">fi</span><span class="op" id="3765735">,</span>&nbsp;<span class="ident" id="3765737">err</span>&nbsp;<span class="op" id="3765741">:=</span>&nbsp;<span class="ident" id="3765744"><a href="/gostd/io/ioutil/ioutil.go.html#3765479">f</a></span><span class="op" id="3765745">.</span><span class="ident" id="3765746"><a href="/gostd/os/file_unix.go.html#2455146">Stat</a></span><span class="op" id="3765750">(</span><span class="op" id="3765751">)</span><span class="op" id="3765752">;</span>&nbsp;<span class="ident" id="3765754"><a href="/gostd/io/ioutil/ioutil.go.html#3765737">err</a></span>&nbsp;<span class="op" id="3765758">==</span>&nbsp;<span class="builtintype" id="3765761">nil</span>&nbsp;<span class="op" id="3765765">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765769">//&nbsp;Don&#39;t&nbsp;preallocate&nbsp;a&nbsp;huge&nbsp;buffer,&nbsp;just&nbsp;in&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3765821">if</span>&nbsp;<span class="ident" id="3765824">size</span>&nbsp;<span class="op" id="3765829">:=</span>&nbsp;<span class="ident" id="3765832"><a href="/gostd/io/ioutil/ioutil.go.html#3765733">fi</a></span><span class="op" id="3765834">.</span><span class="ident" id="3765835"><a href="/gostd/os/types.go.html#2472528">Size</a></span><span class="op" id="3765839">(</span><span class="op" id="3765840">)</span><span class="op" id="3765841">;</span>&nbsp;<span class="ident" id="3765843"><a href="/gostd/io/ioutil/ioutil.go.html#3765824">size</a></span>&nbsp;<span class="op" id="3765848">&lt;</span>&nbsp;<span class="num" id="3765850">1e9</span>&nbsp;<span class="op" id="3765854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3765859"><a href="/gostd/io/ioutil/ioutil.go.html#3765720">n</a></span>&nbsp;<span class="op" id="3765861">=</span>&nbsp;<span class="ident" id="3765863"><a href="/gostd/io/ioutil/ioutil.go.html#3765824">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3765870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3765873">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765876">//&nbsp;As&nbsp;initial&nbsp;capacity&nbsp;for&nbsp;readAll,&nbsp;use&nbsp;n&nbsp;+&nbsp;a&nbsp;little&nbsp;extra&nbsp;in&nbsp;case&nbsp;Size&nbsp;is&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3765958">//&nbsp;and&nbsp;to&nbsp;avoid&nbsp;another&nbsp;allocation&nbsp;after&nbsp;Read&nbsp;has&nbsp;filled&nbsp;the&nbsp;buffer.&nbsp;&nbsp;The&nbsp;readAll</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3766041">//&nbsp;call&nbsp;will&nbsp;read&nbsp;into&nbsp;its&nbsp;allocated&nbsp;internal&nbsp;buffer&nbsp;cheaply.&nbsp;&nbsp;If&nbsp;the&nbsp;size&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3766121">//&nbsp;wrong,&nbsp;we&#39;ll&nbsp;either&nbsp;waste&nbsp;some&nbsp;space&nbsp;off&nbsp;the&nbsp;end&nbsp;or&nbsp;reallocate&nbsp;as&nbsp;needed,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3766203">//&nbsp;in&nbsp;the&nbsp;overwhelmingly&nbsp;common&nbsp;case&nbsp;we&#39;ll&nbsp;get&nbsp;it&nbsp;just&nbsp;right.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766266">return</span>&nbsp;<span class="ident" id="3766273"><a href="/gostd/io/ioutil/ioutil.go.html#3764392">readAll</a></span><span class="op" id="3766280">(</span><span class="ident" id="3766281"><a href="/gostd/io/ioutil/ioutil.go.html#3765479">f</a></span><span class="op" id="3766282">,</span>&nbsp;<span class="ident" id="3766284"><a href="/gostd/io/ioutil/ioutil.go.html#3765720">n</a></span><span class="op" id="3766285">+</span><span class="ident" id="3766286"><a href="/gostd/io/ioutil/ioutil.go.html#3764208">bytes</a></span><span class="op" id="3766291">.</span><span class="ident" id="3766292"><a href="/gostd/bytes/buffer.go.html#1387738">MinRead</a></span><span class="op" id="3766299">)</span><br>
<span class="lineno"></span><span class="op" id="3766301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3766304">//&nbsp;WriteFile&nbsp;writes&nbsp;data&nbsp;to&nbsp;a&nbsp;file&nbsp;named&nbsp;by&nbsp;filename.</span><br>
<span class="lineno"></span><span class="comment" id="3766358">//&nbsp;If&nbsp;the&nbsp;file&nbsp;does&nbsp;not&nbsp;exist,&nbsp;WriteFile&nbsp;creates&nbsp;it&nbsp;with&nbsp;permissions&nbsp;perm;</span><br>
<span class="lineno">75</span><span class="comment" id="3766433">//&nbsp;otherwise&nbsp;WriteFile&nbsp;truncates&nbsp;it&nbsp;before&nbsp;writing.</span><br>
<span class="lineno"></span><span class="keyword" id="3766485">func</span>&nbsp;<span class="ident" id="3766490">WriteFile</span><span class="op" id="3766499">(</span><span class="ident" id="3766500">filename</span>&nbsp;<span class="builtintype" id="3766509">string</span><span class="op" id="3766515">,</span>&nbsp;<span class="ident" id="3766517">data</span>&nbsp;<span class="op" id="3766522">[</span><span class="op" id="3766523">]</span><span class="builtintype" id="3766524">byte</span><span class="op" id="3766528">,</span>&nbsp;<span class="ident" id="3766530">perm</span>&nbsp;<span class="ident" id="3766535"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3766537">.</span><span class="ident" id="3766538"><a href="/gostd/os/types.go.html#2473113">FileMode</a></span><span class="op" id="3766546">)</span>&nbsp;<span class="builtintype" id="3766548">error</span>&nbsp;<span class="op" id="3766554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766557">f</span><span class="op" id="3766558">,</span>&nbsp;<span class="ident" id="3766560">err</span>&nbsp;<span class="op" id="3766564">:=</span>&nbsp;<span class="ident" id="3766567"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3766569">.</span><span class="ident" id="3766570"><a href="/gostd/os/file_unix.go.html#2454095">OpenFile</a></span><span class="op" id="3766578">(</span><span class="ident" id="3766579"><a href="/gostd/io/ioutil/ioutil.go.html#3766500">filename</a></span><span class="op" id="3766587">,</span>&nbsp;<span class="ident" id="3766589"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3766591">.</span><span class="ident" id="3766592"><a href="/gostd/os/file.go.html#2442115">O_WRONLY</a></span><span class="op" id="3766600">|</span><span class="ident" id="3766601"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3766603">.</span><span class="ident" id="3766604"><a href="/gostd/os/file.go.html#2442313">O_CREATE</a></span><span class="op" id="3766612">|</span><span class="ident" id="3766613"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3766615">.</span><span class="ident" id="3766616"><a href="/gostd/os/file.go.html#2442521">O_TRUNC</a></span><span class="op" id="3766623">,</span>&nbsp;<span class="ident" id="3766625"><a href="/gostd/io/ioutil/ioutil.go.html#3766530">perm</a></span><span class="op" id="3766629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766632">if</span>&nbsp;<span class="ident" id="3766635"><a href="/gostd/io/ioutil/ioutil.go.html#3766560">err</a></span>&nbsp;<span class="op" id="3766639">!=</span>&nbsp;<span class="builtintype" id="3766642">nil</span>&nbsp;<span class="op" id="3766646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766650">return</span>&nbsp;<span class="ident" id="3766657"><a href="/gostd/io/ioutil/ioutil.go.html#3766560">err</a></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3766662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766665">n</span><span class="op" id="3766666">,</span>&nbsp;<span class="ident" id="3766668"><a href="/gostd/io/ioutil/ioutil.go.html#3766560">err</a></span>&nbsp;<span class="op" id="3766672">:=</span>&nbsp;<span class="ident" id="3766675"><a href="/gostd/io/ioutil/ioutil.go.html#3766557">f</a></span><span class="op" id="3766676">.</span><span class="ident" id="3766677"><a href="/gostd/os/file.go.html#2444247">Write</a></span><span class="op" id="3766682">(</span><span class="ident" id="3766683"><a href="/gostd/io/ioutil/ioutil.go.html#3766517">data</a></span><span class="op" id="3766687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766690">if</span>&nbsp;<span class="ident" id="3766693"><a href="/gostd/io/ioutil/ioutil.go.html#3766560">err</a></span>&nbsp;<span class="op" id="3766697">==</span>&nbsp;<span class="builtintype" id="3766700">nil</span>&nbsp;<span class="op" id="3766704">&amp;&amp;</span>&nbsp;<span class="ident" id="3766707"><a href="/gostd/io/ioutil/ioutil.go.html#3766665">n</a></span>&nbsp;<span class="op" id="3766709">&lt;</span>&nbsp;<span class="builtinfunc" id="3766711">len</span><span class="op" id="3766714">(</span><span class="ident" id="3766715"><a href="/gostd/io/ioutil/ioutil.go.html#3766517">data</a></span><span class="op" id="3766719">)</span>&nbsp;<span class="op" id="3766721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766725"><a href="/gostd/io/ioutil/ioutil.go.html#3766560">err</a></span>&nbsp;<span class="op" id="3766729">=</span>&nbsp;<span class="ident" id="3766731"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3766733">.</span><span class="ident" id="3766734"><a href="/gostd/io/io.go.html#1419475">ErrShortWrite</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3766749">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766752">if</span>&nbsp;<span class="ident" id="3766755">err1</span>&nbsp;<span class="op" id="3766760">:=</span>&nbsp;<span class="ident" id="3766763"><a href="/gostd/io/ioutil/ioutil.go.html#3766557">f</a></span><span class="op" id="3766764">.</span><span class="ident" id="3766765"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="3766770">(</span><span class="op" id="3766771">)</span><span class="op" id="3766772">;</span>&nbsp;<span class="ident" id="3766774"><a href="/gostd/io/ioutil/ioutil.go.html#3766560">err</a></span>&nbsp;<span class="op" id="3766778">==</span>&nbsp;<span class="builtintype" id="3766781">nil</span>&nbsp;<span class="op" id="3766785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3766789"><a href="/gostd/io/ioutil/ioutil.go.html#3766560">err</a></span>&nbsp;<span class="op" id="3766793">=</span>&nbsp;<span class="ident" id="3766795"><a href="/gostd/io/ioutil/ioutil.go.html#3766755">err1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3766801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3766804">return</span>&nbsp;<span class="ident" id="3766811"><a href="/gostd/io/ioutil/ioutil.go.html#3766560">err</a></span><br>
<span class="lineno"></span><span class="op" id="3766815">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="3766818">//&nbsp;byName&nbsp;implements&nbsp;sort.Interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3766855">type</span>&nbsp;<span class="ident" id="3766860">byName</span>&nbsp;<span class="op" id="3766867">[</span><span class="op" id="3766868">]</span><span class="ident" id="3766869"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3766871">.</span><span class="ident" id="3766872"><a href="/gostd/os/types.go.html#2472460">FileInfo</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3766882">func</span>&nbsp;<span class="op" id="3766887">(</span><span class="ident" id="3766888">f</span>&nbsp;<span class="ident" id="3766890"><a href="/gostd/io/ioutil/ioutil.go.html#3766860">byName</a></span><span class="op" id="3766896">)</span>&nbsp;<span class="ident" id="3766898">Len</span><span class="op" id="3766901">(</span><span class="op" id="3766902">)</span>&nbsp;<span class="builtintype" id="3766904">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3766918">{</span>&nbsp;<span class="keyword" id="3766920">return</span>&nbsp;<span class="builtinfunc" id="3766927">len</span><span class="op" id="3766930">(</span><span class="ident" id="3766931"><a href="/gostd/io/ioutil/ioutil.go.html#3766888">f</a></span><span class="op" id="3766932">)</span>&nbsp;<span class="op" id="3766934">}</span><br>
<span class="lineno">95</span><span class="keyword" id="3766936">func</span>&nbsp;<span class="op" id="3766941">(</span><span class="ident" id="3766942">f</span>&nbsp;<span class="ident" id="3766944"><a href="/gostd/io/ioutil/ioutil.go.html#3766860">byName</a></span><span class="op" id="3766950">)</span>&nbsp;<span class="ident" id="3766952">Less</span><span class="op" id="3766956">(</span><span class="ident" id="3766957">i</span><span class="op" id="3766958">,</span>&nbsp;<span class="ident" id="3766960">j</span>&nbsp;<span class="builtintype" id="3766962">int</span><span class="op" id="3766965">)</span>&nbsp;<span class="builtintype" id="3766967">bool</span>&nbsp;<span class="op" id="3766972">{</span>&nbsp;<span class="keyword" id="3766974">return</span>&nbsp;<span class="ident" id="3766981"><a href="/gostd/io/ioutil/ioutil.go.html#3766942">f</a></span><span class="op" id="3766982">[</span><span class="ident" id="3766983"><a href="/gostd/io/ioutil/ioutil.go.html#3766957">i</a></span><span class="op" id="3766984">]</span><span class="op" id="3766985">.</span><span class="ident" id="3766986"><a href="/gostd/os/types.go.html#2472482">Name</a></span><span class="op" id="3766990">(</span><span class="op" id="3766991">)</span>&nbsp;<span class="op" id="3766993">&lt;</span>&nbsp;<span class="ident" id="3766995"><a href="/gostd/io/ioutil/ioutil.go.html#3766942">f</a></span><span class="op" id="3766996">[</span><span class="ident" id="3766997"><a href="/gostd/io/ioutil/ioutil.go.html#3766960">j</a></span><span class="op" id="3766998">]</span><span class="op" id="3766999">.</span><span class="ident" id="3767000"><a href="/gostd/os/types.go.html#2472482">Name</a></span><span class="op" id="3767004">(</span><span class="op" id="3767005">)</span>&nbsp;<span class="op" id="3767007">}</span><br>
<span class="lineno"></span><span class="keyword" id="3767009">func</span>&nbsp;<span class="op" id="3767014">(</span><span class="ident" id="3767015">f</span>&nbsp;<span class="ident" id="3767017"><a href="/gostd/io/ioutil/ioutil.go.html#3766860">byName</a></span><span class="op" id="3767023">)</span>&nbsp;<span class="ident" id="3767025">Swap</span><span class="op" id="3767029">(</span><span class="ident" id="3767030">i</span><span class="op" id="3767031">,</span>&nbsp;<span class="ident" id="3767033">j</span>&nbsp;<span class="builtintype" id="3767035">int</span><span class="op" id="3767038">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3767045">{</span>&nbsp;<span class="ident" id="3767047"><a href="/gostd/io/ioutil/ioutil.go.html#3767015">f</a></span><span class="op" id="3767048">[</span><span class="ident" id="3767049"><a href="/gostd/io/ioutil/ioutil.go.html#3767030">i</a></span><span class="op" id="3767050">]</span><span class="op" id="3767051">,</span>&nbsp;<span class="ident" id="3767053"><a href="/gostd/io/ioutil/ioutil.go.html#3767015">f</a></span><span class="op" id="3767054">[</span><span class="ident" id="3767055"><a href="/gostd/io/ioutil/ioutil.go.html#3767033">j</a></span><span class="op" id="3767056">]</span>&nbsp;<span class="op" id="3767058">=</span>&nbsp;<span class="ident" id="3767060"><a href="/gostd/io/ioutil/ioutil.go.html#3767015">f</a></span><span class="op" id="3767061">[</span><span class="ident" id="3767062"><a href="/gostd/io/ioutil/ioutil.go.html#3767033">j</a></span><span class="op" id="3767063">]</span><span class="op" id="3767064">,</span>&nbsp;<span class="ident" id="3767066"><a href="/gostd/io/ioutil/ioutil.go.html#3767015">f</a></span><span class="op" id="3767067">[</span><span class="ident" id="3767068"><a href="/gostd/io/ioutil/ioutil.go.html#3767030">i</a></span><span class="op" id="3767069">]</span>&nbsp;<span class="op" id="3767071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3767074">//&nbsp;ReadDir&nbsp;reads&nbsp;the&nbsp;directory&nbsp;named&nbsp;by&nbsp;dirname&nbsp;and&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3767134">//&nbsp;a&nbsp;list&nbsp;of&nbsp;sorted&nbsp;directory&nbsp;entries.</span><br>
<span class="lineno">100</span><span class="keyword" id="3767173">func</span>&nbsp;<span class="ident" id="3767178">ReadDir</span><span class="op" id="3767185">(</span><span class="ident" id="3767186">dirname</span>&nbsp;<span class="builtintype" id="3767194">string</span><span class="op" id="3767200">)</span>&nbsp;<span class="op" id="3767202">(</span><span class="op" id="3767203">[</span><span class="op" id="3767204">]</span><span class="ident" id="3767205"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3767207">.</span><span class="ident" id="3767208"><a href="/gostd/os/types.go.html#2472460">FileInfo</a></span><span class="op" id="3767216">,</span>&nbsp;<span class="builtintype" id="3767218">error</span><span class="op" id="3767223">)</span>&nbsp;<span class="op" id="3767225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767228">f</span><span class="op" id="3767229">,</span>&nbsp;<span class="ident" id="3767231">err</span>&nbsp;<span class="op" id="3767235">:=</span>&nbsp;<span class="ident" id="3767238"><a href="/gostd/io/ioutil/ioutil.go.html#3764223">os</a></span><span class="op" id="3767240">.</span><span class="ident" id="3767241"><a href="/gostd/os/file.go.html#2446863">Open</a></span><span class="op" id="3767245">(</span><span class="ident" id="3767246"><a href="/gostd/io/ioutil/ioutil.go.html#3767186">dirname</a></span><span class="op" id="3767253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767256">if</span>&nbsp;<span class="ident" id="3767259"><a href="/gostd/io/ioutil/ioutil.go.html#3767231">err</a></span>&nbsp;<span class="op" id="3767263">!=</span>&nbsp;<span class="builtintype" id="3767266">nil</span>&nbsp;<span class="op" id="3767270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767274">return</span>&nbsp;<span class="builtintype" id="3767281">nil</span><span class="op" id="3767284">,</span>&nbsp;<span class="ident" id="3767286"><a href="/gostd/io/ioutil/ioutil.go.html#3767231">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3767291">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767294">list</span><span class="op" id="3767298">,</span>&nbsp;<span class="ident" id="3767300"><a href="/gostd/io/ioutil/ioutil.go.html#3767231">err</a></span>&nbsp;<span class="op" id="3767304">:=</span>&nbsp;<span class="ident" id="3767307"><a href="/gostd/io/ioutil/ioutil.go.html#3767228">f</a></span><span class="op" id="3767308">.</span><span class="ident" id="3767309"><a href="/gostd/os/doc.go.html#2426453">Readdir</a></span><span class="op" id="3767316">(</span><span class="op" id="3767317">-</span><span class="num" id="3767318">1</span><span class="op" id="3767319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767322"><a href="/gostd/io/ioutil/ioutil.go.html#3767228">f</a></span><span class="op" id="3767323">.</span><span class="ident" id="3767324"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="3767329">(</span><span class="op" id="3767330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767333">if</span>&nbsp;<span class="ident" id="3767336"><a href="/gostd/io/ioutil/ioutil.go.html#3767231">err</a></span>&nbsp;<span class="op" id="3767340">!=</span>&nbsp;<span class="builtintype" id="3767343">nil</span>&nbsp;<span class="op" id="3767347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767351">return</span>&nbsp;<span class="builtintype" id="3767358">nil</span><span class="op" id="3767361">,</span>&nbsp;<span class="ident" id="3767363"><a href="/gostd/io/ioutil/ioutil.go.html#3767231">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3767368">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767371"><a href="/gostd/io/ioutil/ioutil.go.html#3764229">sort</a></span><span class="op" id="3767375">.</span><span class="ident" id="3767376"><a href="/gostd/sort/sort.go.html#2015380">Sort</a></span><span class="op" id="3767380">(</span><span class="ident" id="3767381"><a href="/gostd/io/ioutil/ioutil.go.html#3766860">byName</a></span><span class="op" id="3767387">(</span><span class="ident" id="3767388"><a href="/gostd/io/ioutil/ioutil.go.html#3767294">list</a></span><span class="op" id="3767392">)</span><span class="op" id="3767393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767396">return</span>&nbsp;<span class="ident" id="3767403"><a href="/gostd/io/ioutil/ioutil.go.html#3767294">list</a></span><span class="op" id="3767407">,</span>&nbsp;<span class="builtintype" id="3767409">nil</span><br>
<span class="lineno"></span><span class="op" id="3767413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3767416">type</span>&nbsp;<span class="ident" id="3767421">nopCloser</span>&nbsp;<span class="keyword" id="3767431">struct</span>&nbsp;<span class="op" id="3767438">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3767441"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3767443">.</span><span class="ident" id="3767444"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span><span class="op" id="3767451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3767454">func</span>&nbsp;<span class="op" id="3767459">(</span><span class="ident" id="3767460"><a href="/gostd/io/ioutil/ioutil.go.html#3767421">nopCloser</a></span><span class="op" id="3767469">)</span>&nbsp;<span class="ident" id="3767471">Close</span><span class="op" id="3767476">(</span><span class="op" id="3767477">)</span>&nbsp;<span class="builtintype" id="3767479">error</span>&nbsp;<span class="op" id="3767485">{</span>&nbsp;<span class="keyword" id="3767487">return</span>&nbsp;<span class="builtintype" id="3767494">nil</span>&nbsp;<span class="op" id="3767498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="comment" id="3767501">//&nbsp;NopCloser&nbsp;returns&nbsp;a&nbsp;ReadCloser&nbsp;with&nbsp;a&nbsp;no-op&nbsp;Close&nbsp;method&nbsp;wrapping</span><br>
<span class="lineno"></span><span class="comment" id="3767570">//&nbsp;the&nbsp;provided&nbsp;Reader&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="3767596">func</span>&nbsp;<span class="ident" id="3767601">NopCloser</span><span class="op" id="3767610">(</span><span class="ident" id="3767611">r</span>&nbsp;<span class="ident" id="3767613"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3767615">.</span><span class="ident" id="3767616"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="3767622">)</span>&nbsp;<span class="ident" id="3767624"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3767626">.</span><span class="ident" id="3767627"><a href="/gostd/io/io.go.html#1423414">ReadCloser</a></span>&nbsp;<span class="op" id="3767638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767641">return</span>&nbsp;<span class="ident" id="3767648"><a href="/gostd/io/ioutil/ioutil.go.html#3767421">nopCloser</a></span><span class="op" id="3767657">{</span><span class="ident" id="3767658"><a href="/gostd/io/ioutil/ioutil.go.html#3767611">r</a></span><span class="op" id="3767659">}</span><br>
<span class="lineno"></span><span class="op" id="3767661">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="3767664">type</span>&nbsp;<span class="ident" id="3767669">devNull</span>&nbsp;<span class="builtintype" id="3767677">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3767682">//&nbsp;devNull&nbsp;implements&nbsp;ReaderFrom&nbsp;as&nbsp;an&nbsp;optimization&nbsp;so&nbsp;io.Copy&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3767748">//&nbsp;ioutil.Discard&nbsp;can&nbsp;avoid&nbsp;doing&nbsp;unnecessary&nbsp;work.</span><br>
<span class="lineno">130</span><span class="keyword" id="3767800">var</span>&nbsp;<span class="ident" id="3767804">_</span>&nbsp;<span class="ident" id="3767806"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3767808">.</span><span class="ident" id="3767809"><a href="/gostd/io/io.go.html#1424428">ReaderFrom</a></span>&nbsp;<span class="op" id="3767820">=</span>&nbsp;<span class="ident" id="3767822"><a href="/gostd/io/ioutil/ioutil.go.html#3767669">devNull</a></span><span class="op" id="3767829">(</span><span class="num" id="3767830">0</span><span class="op" id="3767831">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3767834">func</span>&nbsp;<span class="op" id="3767839">(</span><span class="ident" id="3767840"><a href="/gostd/io/ioutil/ioutil.go.html#3767669">devNull</a></span><span class="op" id="3767847">)</span>&nbsp;<span class="ident" id="3767849">Write</span><span class="op" id="3767854">(</span><span class="ident" id="3767855">p</span>&nbsp;<span class="op" id="3767857">[</span><span class="op" id="3767858">]</span><span class="builtintype" id="3767859">byte</span><span class="op" id="3767863">)</span>&nbsp;<span class="op" id="3767865">(</span><span class="builtintype" id="3767866">int</span><span class="op" id="3767869">,</span>&nbsp;<span class="builtintype" id="3767871">error</span><span class="op" id="3767876">)</span>&nbsp;<span class="op" id="3767878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767881">return</span>&nbsp;<span class="builtinfunc" id="3767888">len</span><span class="op" id="3767891">(</span><span class="ident" id="3767892"><a href="/gostd/io/ioutil/ioutil.go.html#3767855">p</a></span><span class="op" id="3767893">)</span><span class="op" id="3767894">,</span>&nbsp;<span class="builtintype" id="3767896">nil</span><br>
<span class="lineno"></span><span class="op" id="3767900">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="3767903">func</span>&nbsp;<span class="op" id="3767908">(</span><span class="ident" id="3767909"><a href="/gostd/io/ioutil/ioutil.go.html#3767669">devNull</a></span><span class="op" id="3767916">)</span>&nbsp;<span class="ident" id="3767918">WriteString</span><span class="op" id="3767929">(</span><span class="ident" id="3767930">s</span>&nbsp;<span class="builtintype" id="3767932">string</span><span class="op" id="3767938">)</span>&nbsp;<span class="op" id="3767940">(</span><span class="builtintype" id="3767941">int</span><span class="op" id="3767944">,</span>&nbsp;<span class="builtintype" id="3767946">error</span><span class="op" id="3767951">)</span>&nbsp;<span class="op" id="3767953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3767956">return</span>&nbsp;<span class="builtinfunc" id="3767963">len</span><span class="op" id="3767966">(</span><span class="ident" id="3767967"><a href="/gostd/io/ioutil/ioutil.go.html#3767930">s</a></span><span class="op" id="3767968">)</span><span class="op" id="3767969">,</span>&nbsp;<span class="builtintype" id="3767971">nil</span><br>
<span class="lineno"></span><span class="op" id="3767975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="3767978">var</span>&nbsp;<span class="ident" id="3767982">blackHolePool</span>&nbsp;<span class="op" id="3767996">=</span>&nbsp;<span class="ident" id="3767998"><a href="/gostd/io/ioutil/ioutil.go.html#3764237">sync</a></span><span class="op" id="3768002">.</span><span class="ident" id="3768003"><a href="/gostd/sync/pool.go.html#1448866">Pool</a></span><span class="op" id="3768007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768010"><a href="/gostd/sync/pool.go.html#1449180">New</a></span><span class="op" id="3768013">:</span>&nbsp;<span class="keyword" id="3768015">func</span><span class="op" id="3768019">(</span><span class="op" id="3768020">)</span>&nbsp;<span class="keyword" id="3768022">interface</span><span class="op" id="3768031">{</span><span class="op" id="3768032">}</span>&nbsp;<span class="op" id="3768034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768038">b</span>&nbsp;<span class="op" id="3768040">:=</span>&nbsp;<span class="builtinfunc" id="3768043">make</span><span class="op" id="3768047">(</span><span class="op" id="3768048">[</span><span class="op" id="3768049">]</span><span class="builtintype" id="3768050">byte</span><span class="op" id="3768054">,</span>&nbsp;<span class="num" id="3768056">8192</span><span class="op" id="3768060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768064">return</span>&nbsp;<span class="op" id="3768071">&amp;</span><span class="ident" id="3768072"><a href="/gostd/io/ioutil/ioutil.go.html#3768038">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768075">}</span><span class="op" id="3768076">,</span><br>
<span class="lineno">145</span><span class="op" id="3768078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3768081">func</span>&nbsp;<span class="op" id="3768086">(</span><span class="ident" id="3768087"><a href="/gostd/io/ioutil/ioutil.go.html#3767669">devNull</a></span><span class="op" id="3768094">)</span>&nbsp;<span class="ident" id="3768096">ReadFrom</span><span class="op" id="3768104">(</span><span class="ident" id="3768105">r</span>&nbsp;<span class="ident" id="3768107"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3768109">.</span><span class="ident" id="3768110"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="3768116">)</span>&nbsp;<span class="op" id="3768118">(</span><span class="ident" id="3768119">n</span>&nbsp;<span class="builtintype" id="3768121">int64</span><span class="op" id="3768126">,</span>&nbsp;<span class="ident" id="3768128">err</span>&nbsp;<span class="builtintype" id="3768132">error</span><span class="op" id="3768137">)</span>&nbsp;<span class="op" id="3768139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768142">bufp</span>&nbsp;<span class="op" id="3768147">:=</span>&nbsp;<span class="ident" id="3768150"><a href="/gostd/io/ioutil/ioutil.go.html#3767982">blackHolePool</a></span><span class="op" id="3768163">.</span><span class="ident" id="3768164"><a href="/gostd/sync/pool.go.html#1450329">Get</a></span><span class="op" id="3768167">(</span><span class="op" id="3768168">)</span><span class="op" id="3768169">.</span><span class="op" id="3768170">(</span><span class="op" id="3768171">*</span><span class="op" id="3768172">[</span><span class="op" id="3768173">]</span><span class="builtintype" id="3768174">byte</span><span class="op" id="3768178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768181">readSize</span>&nbsp;<span class="op" id="3768190">:=</span>&nbsp;<span class="num" id="3768193">0</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768196">for</span>&nbsp;<span class="op" id="3768200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768204"><a href="/gostd/io/ioutil/ioutil.go.html#3768181">readSize</a></span><span class="op" id="3768212">,</span>&nbsp;<span class="ident" id="3768214"><a href="/gostd/io/ioutil/ioutil.go.html#3768128">err</a></span>&nbsp;<span class="op" id="3768218">=</span>&nbsp;<span class="ident" id="3768220"><a href="/gostd/io/ioutil/ioutil.go.html#3768105">r</a></span><span class="op" id="3768221">.</span><span class="ident" id="3768222"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="3768226">(</span><span class="op" id="3768227">*</span><span class="ident" id="3768228"><a href="/gostd/io/ioutil/ioutil.go.html#3768142">bufp</a></span><span class="op" id="3768232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768236"><a href="/gostd/io/ioutil/ioutil.go.html#3768119">n</a></span>&nbsp;<span class="op" id="3768238">+=</span>&nbsp;<span class="builtintype" id="3768241">int64</span><span class="op" id="3768246">(</span><span class="ident" id="3768247"><a href="/gostd/io/ioutil/ioutil.go.html#3768181">readSize</a></span><span class="op" id="3768255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768259">if</span>&nbsp;<span class="ident" id="3768262"><a href="/gostd/io/ioutil/ioutil.go.html#3768128">err</a></span>&nbsp;<span class="op" id="3768266">!=</span>&nbsp;<span class="builtintype" id="3768269">nil</span>&nbsp;<span class="op" id="3768273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3768278"><a href="/gostd/io/ioutil/ioutil.go.html#3767982">blackHolePool</a></span><span class="op" id="3768291">.</span><span class="ident" id="3768292"><a href="/gostd/sync/pool.go.html#1449510">Put</a></span><span class="op" id="3768295">(</span><span class="ident" id="3768296"><a href="/gostd/io/ioutil/ioutil.go.html#3768142">bufp</a></span><span class="op" id="3768300">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768305">if</span>&nbsp;<span class="ident" id="3768308"><a href="/gostd/io/ioutil/ioutil.go.html#3768128">err</a></span>&nbsp;<span class="op" id="3768312">==</span>&nbsp;<span class="ident" id="3768315"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3768317">.</span><span class="ident" id="3768318"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="3768322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768328">return</span>&nbsp;<span class="ident" id="3768335"><a href="/gostd/io/ioutil/ioutil.go.html#3768119">n</a></span><span class="op" id="3768336">,</span>&nbsp;<span class="builtintype" id="3768338">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3768350">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768359">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3768362">}</span><br>
<span class="lineno"></span><span class="op" id="3768364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3768367">//&nbsp;Discard&nbsp;is&nbsp;an&nbsp;io.Writer&nbsp;on&nbsp;which&nbsp;all&nbsp;Write&nbsp;calls&nbsp;succeed</span><br>
<span class="lineno"></span><span class="comment" id="3768427">//&nbsp;without&nbsp;doing&nbsp;anything.</span><br>
<span class="lineno">165</span><span class="keyword" id="3768454">var</span>&nbsp;<span class="ident" id="3768458">Discard</span>&nbsp;<span class="ident" id="3768466"><a href="/gostd/io/ioutil/ioutil.go.html#3764217">io</a></span><span class="op" id="3768468">.</span><span class="ident" id="3768469"><a href="/gostd/io/io.go.html#1422314">Writer</a></span>&nbsp;<span class="op" id="3768476">=</span>&nbsp;<span class="ident" id="3768478"><a href="/gostd/io/ioutil/ioutil.go.html#3767669">devNull</a></span><span class="op" id="3768485">(</span><span class="num" id="3768486">0</span><span class="op" id="3768487">)</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
