<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html" class="current">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6883218">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6883273">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6883327">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6883378">package</span>&nbsp;<span class="ident" id="6883386">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883392">import</span>&nbsp;<span class="op" id="6883399">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6883402">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6883411">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6883417">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6883427">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883430">type</span>&nbsp;<span class="ident" id="6883435">zlibTest</span>&nbsp;<span class="keyword" id="6883444">struct</span>&nbsp;<span class="op" id="6883451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883454">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6883465">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883473">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6883484">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883492">compressed</span>&nbsp;<span class="op" id="6883503">[</span><span class="op" id="6883504">]</span><span class="builtintype" id="6883505">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883511">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883522">[</span><span class="op" id="6883523">]</span><span class="builtintype" id="6883524">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6883530">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6883541">error</span><br>
<span class="lineno"></span><span class="op" id="6883547">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6883550">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="6883626">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883658">var</span>&nbsp;<span class="ident" id="6883662">zlibTests</span>&nbsp;<span class="op" id="6883672">=</span>&nbsp;<span class="op" id="6883674">[</span><span class="op" id="6883675">]</span><span class="ident" id="6883676">zlibTest</span><span class="op" id="6883684">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6883691">&#34;empty&#34;</span><span class="op" id="6883698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6883702">&#34;&#34;</span><span class="op" id="6883704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883708">[</span><span class="op" id="6883709">]</span><span class="builtintype" id="6883710">byte</span><span class="op" id="6883714">{</span><span class="num" id="6883715">0x78</span><span class="op" id="6883719">,</span>&nbsp;<span class="num" id="6883721">0x9c</span><span class="op" id="6883725">,</span>&nbsp;<span class="num" id="6883727">0x03</span><span class="op" id="6883731">,</span>&nbsp;<span class="num" id="6883733">0x00</span><span class="op" id="6883737">,</span>&nbsp;<span class="num" id="6883739">0x00</span><span class="op" id="6883743">,</span>&nbsp;<span class="num" id="6883745">0x00</span><span class="op" id="6883749">,</span>&nbsp;<span class="num" id="6883751">0x00</span><span class="op" id="6883755">,</span>&nbsp;<span class="num" id="6883757">0x01</span><span class="op" id="6883761">}</span><span class="op" id="6883762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6883766">nil</span><span class="op" id="6883769">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6883773">nil</span><span class="op" id="6883776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883779">}</span><span class="op" id="6883780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6883787">&#34;goodbye&#34;</span><span class="op" id="6883796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6883800">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6883816">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883820">[</span><span class="op" id="6883821">]</span><span class="builtintype" id="6883822">byte</span><span class="op" id="6883826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6883831">0x78</span><span class="op" id="6883835">,</span>&nbsp;<span class="num" id="6883837">0x9c</span><span class="op" id="6883841">,</span>&nbsp;<span class="num" id="6883843">0x4b</span><span class="op" id="6883847">,</span>&nbsp;<span class="num" id="6883849">0xcf</span><span class="op" id="6883853">,</span>&nbsp;<span class="num" id="6883855">0xcf</span><span class="op" id="6883859">,</span>&nbsp;<span class="num" id="6883861">0x4f</span><span class="op" id="6883865">,</span>&nbsp;<span class="num" id="6883867">0x49</span><span class="op" id="6883871">,</span>&nbsp;<span class="num" id="6883873">0xaa</span><span class="op" id="6883877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6883882">0x4c</span><span class="op" id="6883886">,</span>&nbsp;<span class="num" id="6883888">0xd5</span><span class="op" id="6883892">,</span>&nbsp;<span class="num" id="6883894">0x51</span><span class="op" id="6883898">,</span>&nbsp;<span class="num" id="6883900">0x28</span><span class="op" id="6883904">,</span>&nbsp;<span class="num" id="6883906">0xcf</span><span class="op" id="6883910">,</span>&nbsp;<span class="num" id="6883912">0x2f</span><span class="op" id="6883916">,</span>&nbsp;<span class="num" id="6883918">0xca</span><span class="op" id="6883922">,</span>&nbsp;<span class="num" id="6883924">0x49</span><span class="op" id="6883928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6883933">0x01</span><span class="op" id="6883937">,</span>&nbsp;<span class="num" id="6883939">0x00</span><span class="op" id="6883943">,</span>&nbsp;<span class="num" id="6883945">0x28</span><span class="op" id="6883949">,</span>&nbsp;<span class="num" id="6883951">0xa5</span><span class="op" id="6883955">,</span>&nbsp;<span class="num" id="6883957">0x05</span><span class="op" id="6883961">,</span>&nbsp;<span class="num" id="6883963">0x5e</span><span class="op" id="6883967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883971">}</span><span class="op" id="6883972">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6883976">nil</span><span class="op" id="6883979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6883983">nil</span><span class="op" id="6883986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883989">}</span><span class="op" id="6883990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6883993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6883997">&#34;bad&nbsp;header&#34;</span><span class="op" id="6884009">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884013">&#34;&#34;</span><span class="op" id="6884015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884019">[</span><span class="op" id="6884020">]</span><span class="builtintype" id="6884021">byte</span><span class="op" id="6884025">{</span><span class="num" id="6884026">0x78</span><span class="op" id="6884030">,</span>&nbsp;<span class="num" id="6884032">0x9f</span><span class="op" id="6884036">,</span>&nbsp;<span class="num" id="6884038">0x03</span><span class="op" id="6884042">,</span>&nbsp;<span class="num" id="6884044">0x00</span><span class="op" id="6884048">,</span>&nbsp;<span class="num" id="6884050">0x00</span><span class="op" id="6884054">,</span>&nbsp;<span class="num" id="6884056">0x00</span><span class="op" id="6884060">,</span>&nbsp;<span class="num" id="6884062">0x00</span><span class="op" id="6884066">,</span>&nbsp;<span class="num" id="6884068">0x01</span><span class="op" id="6884072">}</span><span class="op" id="6884073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6884077">nil</span><span class="op" id="6884080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6884084">ErrHeader</span><span class="op" id="6884093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884096">}</span><span class="op" id="6884097">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884104">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="6884118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884122">&#34;&#34;</span><span class="op" id="6884124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884128">[</span><span class="op" id="6884129">]</span><span class="builtintype" id="6884130">byte</span><span class="op" id="6884134">{</span><span class="num" id="6884135">0x78</span><span class="op" id="6884139">,</span>&nbsp;<span class="num" id="6884141">0x9c</span><span class="op" id="6884145">,</span>&nbsp;<span class="num" id="6884147">0x03</span><span class="op" id="6884151">,</span>&nbsp;<span class="num" id="6884153">0x00</span><span class="op" id="6884157">,</span>&nbsp;<span class="num" id="6884159">0x00</span><span class="op" id="6884163">,</span>&nbsp;<span class="num" id="6884165">0x00</span><span class="op" id="6884169">,</span>&nbsp;<span class="num" id="6884171">0x00</span><span class="op" id="6884175">,</span>&nbsp;<span class="num" id="6884177">0xff</span><span class="op" id="6884181">}</span><span class="op" id="6884182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6884186">nil</span><span class="op" id="6884189">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6884193">ErrChecksum</span><span class="op" id="6884204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884207">}</span><span class="op" id="6884208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884215">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="6884232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884236">&#34;&#34;</span><span class="op" id="6884238">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884242">[</span><span class="op" id="6884243">]</span><span class="builtintype" id="6884244">byte</span><span class="op" id="6884248">{</span><span class="num" id="6884249">0x78</span><span class="op" id="6884253">,</span>&nbsp;<span class="num" id="6884255">0x9c</span><span class="op" id="6884259">,</span>&nbsp;<span class="num" id="6884261">0x03</span><span class="op" id="6884265">,</span>&nbsp;<span class="num" id="6884267">0x00</span><span class="op" id="6884271">,</span>&nbsp;<span class="num" id="6884273">0x00</span><span class="op" id="6884277">,</span>&nbsp;<span class="num" id="6884279">0x00</span><span class="op" id="6884283">}</span><span class="op" id="6884284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6884288">nil</span><span class="op" id="6884291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6884295">io</span><span class="op" id="6884297">.</span><span class="ident" id="6884298">ErrUnexpectedEOF</span><span class="op" id="6884314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884317">}</span><span class="op" id="6884318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884321">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884325">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="6884358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884362">&#34;&#34;</span><span class="op" id="6884364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884368">[</span><span class="op" id="6884369">]</span><span class="builtintype" id="6884370">byte</span><span class="op" id="6884374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884379">0x78</span><span class="op" id="6884383">,</span>&nbsp;<span class="num" id="6884385">0x9c</span><span class="op" id="6884389">,</span>&nbsp;<span class="num" id="6884391">0x03</span><span class="op" id="6884395">,</span>&nbsp;<span class="num" id="6884397">0x00</span><span class="op" id="6884401">,</span>&nbsp;<span class="num" id="6884403">0x00</span><span class="op" id="6884407">,</span>&nbsp;<span class="num" id="6884409">0x00</span><span class="op" id="6884413">,</span>&nbsp;<span class="num" id="6884415">0x00</span><span class="op" id="6884419">,</span>&nbsp;<span class="num" id="6884421">0x01</span><span class="op" id="6884425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884430">0x78</span><span class="op" id="6884434">,</span>&nbsp;<span class="num" id="6884436">0x9c</span><span class="op" id="6884440">,</span>&nbsp;<span class="num" id="6884442">0xff</span><span class="op" id="6884446">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884450">}</span><span class="op" id="6884451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6884455">nil</span><span class="op" id="6884458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6884462">nil</span><span class="op" id="6884465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884468">}</span><span class="op" id="6884469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884472">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884476">&#34;dictionary&#34;</span><span class="op" id="6884488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884492">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="6884509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884513">[</span><span class="op" id="6884514">]</span><span class="builtintype" id="6884515">byte</span><span class="op" id="6884519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884524">0x78</span><span class="op" id="6884528">,</span>&nbsp;<span class="num" id="6884530">0xbb</span><span class="op" id="6884534">,</span>&nbsp;<span class="num" id="6884536">0x1c</span><span class="op" id="6884540">,</span>&nbsp;<span class="num" id="6884542">0x32</span><span class="op" id="6884546">,</span>&nbsp;<span class="num" id="6884548">0x04</span><span class="op" id="6884552">,</span>&nbsp;<span class="num" id="6884554">0x27</span><span class="op" id="6884558">,</span>&nbsp;<span class="num" id="6884560">0xf3</span><span class="op" id="6884564">,</span>&nbsp;<span class="num" id="6884566">0x00</span><span class="op" id="6884570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884575">0xb1</span><span class="op" id="6884579">,</span>&nbsp;<span class="num" id="6884581">0x75</span><span class="op" id="6884585">,</span>&nbsp;<span class="num" id="6884587">0x20</span><span class="op" id="6884591">,</span>&nbsp;<span class="num" id="6884593">0x1c</span><span class="op" id="6884597">,</span>&nbsp;<span class="num" id="6884599">0x45</span><span class="op" id="6884603">,</span>&nbsp;<span class="num" id="6884605">0x2e</span><span class="op" id="6884609">,</span>&nbsp;<span class="num" id="6884611">0x00</span><span class="op" id="6884615">,</span>&nbsp;<span class="num" id="6884617">0x24</span><span class="op" id="6884621">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884626">0x12</span><span class="op" id="6884630">,</span>&nbsp;<span class="num" id="6884632">0x04</span><span class="op" id="6884636">,</span>&nbsp;<span class="num" id="6884638">0x74</span><span class="op" id="6884642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884646">}</span><span class="op" id="6884647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884651">[</span><span class="op" id="6884652">]</span><span class="builtintype" id="6884653">byte</span><span class="op" id="6884657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884662">0x48</span><span class="op" id="6884666">,</span>&nbsp;<span class="num" id="6884668">0x65</span><span class="op" id="6884672">,</span>&nbsp;<span class="num" id="6884674">0x6c</span><span class="op" id="6884678">,</span>&nbsp;<span class="num" id="6884680">0x6c</span><span class="op" id="6884684">,</span>&nbsp;<span class="num" id="6884686">0x6f</span><span class="op" id="6884690">,</span>&nbsp;<span class="num" id="6884692">0x20</span><span class="op" id="6884696">,</span>&nbsp;<span class="num" id="6884698">0x57</span><span class="op" id="6884702">,</span>&nbsp;<span class="num" id="6884704">0x6f</span><span class="op" id="6884708">,</span>&nbsp;<span class="num" id="6884710">0x72</span><span class="op" id="6884714">,</span>&nbsp;<span class="num" id="6884716">0x6c</span><span class="op" id="6884720">,</span>&nbsp;<span class="num" id="6884722">0x64</span><span class="op" id="6884726">,</span>&nbsp;<span class="num" id="6884728">0x0a</span><span class="op" id="6884732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884736">}</span><span class="op" id="6884737">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6884741">nil</span><span class="op" id="6884744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884747">}</span><span class="op" id="6884748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884755">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="6884773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6884777">&#34;&#34;</span><span class="op" id="6884779">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884783">[</span><span class="op" id="6884784">]</span><span class="builtintype" id="6884785">byte</span><span class="op" id="6884789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884794">0x78</span><span class="op" id="6884798">,</span>&nbsp;<span class="num" id="6884800">0xbb</span><span class="op" id="6884804">,</span>&nbsp;<span class="num" id="6884806">0x1c</span><span class="op" id="6884810">,</span>&nbsp;<span class="num" id="6884812">0x32</span><span class="op" id="6884816">,</span>&nbsp;<span class="num" id="6884818">0x04</span><span class="op" id="6884822">,</span>&nbsp;<span class="num" id="6884824">0x27</span><span class="op" id="6884828">,</span>&nbsp;<span class="num" id="6884830">0xf3</span><span class="op" id="6884834">,</span>&nbsp;<span class="num" id="6884836">0x00</span><span class="op" id="6884840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884845">0xb1</span><span class="op" id="6884849">,</span>&nbsp;<span class="num" id="6884851">0x75</span><span class="op" id="6884855">,</span>&nbsp;<span class="num" id="6884857">0x20</span><span class="op" id="6884861">,</span>&nbsp;<span class="num" id="6884863">0x1c</span><span class="op" id="6884867">,</span>&nbsp;<span class="num" id="6884869">0x45</span><span class="op" id="6884873">,</span>&nbsp;<span class="num" id="6884875">0x2e</span><span class="op" id="6884879">,</span>&nbsp;<span class="num" id="6884881">0x00</span><span class="op" id="6884885">,</span>&nbsp;<span class="num" id="6884887">0x24</span><span class="op" id="6884891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884896">0x12</span><span class="op" id="6884900">,</span>&nbsp;<span class="num" id="6884902">0x04</span><span class="op" id="6884906">,</span>&nbsp;<span class="num" id="6884908">0x74</span><span class="op" id="6884912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884916">}</span><span class="op" id="6884917">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884921">[</span><span class="op" id="6884922">]</span><span class="builtintype" id="6884923">byte</span><span class="op" id="6884927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6884932">0x48</span><span class="op" id="6884936">,</span>&nbsp;<span class="num" id="6884938">0x65</span><span class="op" id="6884942">,</span>&nbsp;<span class="num" id="6884944">0x6c</span><span class="op" id="6884948">,</span>&nbsp;<span class="num" id="6884950">0x6c</span><span class="op" id="6884954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884958">}</span><span class="op" id="6884959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6884963">ErrDictionary</span><span class="op" id="6884976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6884979">}</span><span class="op" id="6884980">,</span><br>
<span class="lineno">100</span><span class="op" id="6884982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6884985">func</span>&nbsp;<span class="ident" id="6884990">TestDecompressor</span><span class="op" id="6885006">(</span><span class="ident" id="6885007">t</span>&nbsp;<span class="op" id="6885009">*</span><span class="ident" id="6885010">testing</span><span class="op" id="6885017">.</span><span class="ident" id="6885018">T</span><span class="op" id="6885019">)</span>&nbsp;<span class="op" id="6885021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885024">b</span>&nbsp;<span class="op" id="6885026">:=</span>&nbsp;<span class="builtinfunc" id="6885029">new</span><span class="op" id="6885032">(</span><span class="ident" id="6885033">bytes</span><span class="op" id="6885038">.</span><span class="ident" id="6885039">Buffer</span><span class="op" id="6885045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885048">for</span>&nbsp;<span class="ident" id="6885052">_</span><span class="op" id="6885053">,</span>&nbsp;<span class="ident" id="6885055">tt</span>&nbsp;<span class="op" id="6885058">:=</span>&nbsp;<span class="keyword" id="6885061">range</span>&nbsp;<span class="ident" id="6885067">zlibTests</span>&nbsp;<span class="op" id="6885077">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885081">in</span>&nbsp;<span class="op" id="6885084">:=</span>&nbsp;<span class="ident" id="6885087">bytes</span><span class="op" id="6885092">.</span><span class="ident" id="6885093">NewReader</span><span class="op" id="6885102">(</span><span class="ident" id="6885103">tt</span><span class="op" id="6885105">.</span><span class="ident" id="6885106">compressed</span><span class="op" id="6885116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885120">zlib</span><span class="op" id="6885124">,</span>&nbsp;<span class="ident" id="6885126">err</span>&nbsp;<span class="op" id="6885130">:=</span>&nbsp;<span class="ident" id="6885133">NewReaderDict</span><span class="op" id="6885146">(</span><span class="ident" id="6885147">in</span><span class="op" id="6885149">,</span>&nbsp;<span class="ident" id="6885151">tt</span><span class="op" id="6885153">.</span><span class="ident" id="6885154">dict</span><span class="op" id="6885158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885162">if</span>&nbsp;<span class="ident" id="6885165">err</span>&nbsp;<span class="op" id="6885169">!=</span>&nbsp;<span class="builtintype" id="6885172">nil</span>&nbsp;<span class="op" id="6885176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885181">if</span>&nbsp;<span class="ident" id="6885184">err</span>&nbsp;<span class="op" id="6885188">!=</span>&nbsp;<span class="ident" id="6885191">tt</span><span class="op" id="6885193">.</span><span class="ident" id="6885194">err</span>&nbsp;<span class="op" id="6885198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885204">t</span><span class="op" id="6885205">.</span><span class="ident" id="6885206">Errorf</span><span class="op" id="6885212">(</span><span class="string" id="6885213">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="6885232">,</span>&nbsp;<span class="ident" id="6885234">tt</span><span class="op" id="6885236">.</span><span class="ident" id="6885237">desc</span><span class="op" id="6885241">,</span>&nbsp;<span class="ident" id="6885243">err</span><span class="op" id="6885246">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6885251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885256">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6885267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885271">defer</span>&nbsp;<span class="ident" id="6885277">zlib</span><span class="op" id="6885281">.</span><span class="ident" id="6885282">Close</span><span class="op" id="6885287">(</span><span class="op" id="6885288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885292">b</span><span class="op" id="6885293">.</span><span class="ident" id="6885294">Reset</span><span class="op" id="6885299">(</span><span class="op" id="6885300">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885304">n</span><span class="op" id="6885305">,</span>&nbsp;<span class="ident" id="6885307">err</span>&nbsp;<span class="op" id="6885311">:=</span>&nbsp;<span class="ident" id="6885314">io</span><span class="op" id="6885316">.</span><span class="ident" id="6885317">Copy</span><span class="op" id="6885321">(</span><span class="ident" id="6885322">b</span><span class="op" id="6885323">,</span>&nbsp;<span class="ident" id="6885325">zlib</span><span class="op" id="6885329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885333">if</span>&nbsp;<span class="ident" id="6885336">err</span>&nbsp;<span class="op" id="6885340">!=</span>&nbsp;<span class="builtintype" id="6885343">nil</span>&nbsp;<span class="op" id="6885347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885352">if</span>&nbsp;<span class="ident" id="6885355">err</span>&nbsp;<span class="op" id="6885359">!=</span>&nbsp;<span class="ident" id="6885362">tt</span><span class="op" id="6885364">.</span><span class="ident" id="6885365">err</span>&nbsp;<span class="op" id="6885369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885375">t</span><span class="op" id="6885376">.</span><span class="ident" id="6885377">Errorf</span><span class="op" id="6885383">(</span><span class="string" id="6885384">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6885409">,</span>&nbsp;<span class="ident" id="6885411">tt</span><span class="op" id="6885413">.</span><span class="ident" id="6885414">desc</span><span class="op" id="6885418">,</span>&nbsp;<span class="ident" id="6885420">err</span><span class="op" id="6885423">,</span>&nbsp;<span class="ident" id="6885425">tt</span><span class="op" id="6885427">.</span><span class="ident" id="6885428">err</span><span class="op" id="6885431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6885436">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885441">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6885452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885456">s</span>&nbsp;<span class="op" id="6885458">:=</span>&nbsp;<span class="ident" id="6885461">b</span><span class="op" id="6885462">.</span><span class="ident" id="6885463">String</span><span class="op" id="6885469">(</span><span class="op" id="6885470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6885474">if</span>&nbsp;<span class="ident" id="6885477">s</span>&nbsp;<span class="op" id="6885479">!=</span>&nbsp;<span class="ident" id="6885482">tt</span><span class="op" id="6885484">.</span><span class="ident" id="6885485">raw</span>&nbsp;<span class="op" id="6885489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6885494">t</span><span class="op" id="6885495">.</span><span class="ident" id="6885496">Errorf</span><span class="op" id="6885502">(</span><span class="string" id="6885503">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="6885539">,</span>&nbsp;<span class="ident" id="6885541">tt</span><span class="op" id="6885543">.</span><span class="ident" id="6885544">desc</span><span class="op" id="6885548">,</span>&nbsp;<span class="ident" id="6885550">n</span><span class="op" id="6885551">,</span>&nbsp;<span class="ident" id="6885553">s</span><span class="op" id="6885554">,</span>&nbsp;<span class="builtinfunc" id="6885556">len</span><span class="op" id="6885559">(</span><span class="ident" id="6885560">tt</span><span class="op" id="6885562">.</span><span class="ident" id="6885563">raw</span><span class="op" id="6885566">)</span><span class="op" id="6885567">,</span>&nbsp;<span class="ident" id="6885569">tt</span><span class="op" id="6885571">.</span><span class="ident" id="6885572">raw</span><span class="op" id="6885575">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6885579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6885582">}</span><br>
<span class="lineno"></span><span class="op" id="6885584">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
