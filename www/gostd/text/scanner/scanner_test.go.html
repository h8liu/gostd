<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8260607">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8260662">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8260716">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8260767">package</span>&nbsp;<span class="ident" id="8260775">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8260784">import</span>&nbsp;<span class="op" id="8260791">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8260794">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8260803">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8260810">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8260816">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8260827">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8260838">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="8260853">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="8260856">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="8260931">type</span>&nbsp;<span class="ident" id="8260936">StringReader</span>&nbsp;<span class="keyword" id="8260949">struct</span>&nbsp;<span class="op" id="8260956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8260959">data</span>&nbsp;<span class="op" id="8260964">[</span><span class="op" id="8260965">]</span><span class="builtintype" id="8260966">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8260974">step</span>&nbsp;<span class="builtintype" id="8260979">int</span><br>
<span class="lineno">20</span><span class="op" id="8260983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8260986">func</span>&nbsp;<span class="op" id="8260991">(</span><span class="ident" id="8260992">r</span>&nbsp;<span class="op" id="8260994">*</span><span class="ident" id="8260995">StringReader</span><span class="op" id="8261007">)</span>&nbsp;<span class="ident" id="8261009">Read</span><span class="op" id="8261013">(</span><span class="ident" id="8261014">p</span>&nbsp;<span class="op" id="8261016">[</span><span class="op" id="8261017">]</span><span class="builtintype" id="8261018">byte</span><span class="op" id="8261022">)</span>&nbsp;<span class="op" id="8261024">(</span><span class="ident" id="8261025">n</span>&nbsp;<span class="builtintype" id="8261027">int</span><span class="op" id="8261030">,</span>&nbsp;<span class="ident" id="8261032">err</span>&nbsp;<span class="builtintype" id="8261036">error</span><span class="op" id="8261041">)</span>&nbsp;<span class="op" id="8261043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8261046">if</span>&nbsp;<span class="ident" id="8261049">r</span><span class="op" id="8261050">.</span><span class="ident" id="8261051">step</span>&nbsp;<span class="op" id="8261056">&lt;</span>&nbsp;<span class="builtinfunc" id="8261058">len</span><span class="op" id="8261061">(</span><span class="ident" id="8261062">r</span><span class="op" id="8261063">.</span><span class="ident" id="8261064">data</span><span class="op" id="8261068">)</span>&nbsp;<span class="op" id="8261070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261074">s</span>&nbsp;<span class="op" id="8261076">:=</span>&nbsp;<span class="ident" id="8261079">r</span><span class="op" id="8261080">.</span><span class="ident" id="8261081">data</span><span class="op" id="8261085">[</span><span class="ident" id="8261086">r</span><span class="op" id="8261087">.</span><span class="ident" id="8261088">step</span><span class="op" id="8261092">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261096">n</span>&nbsp;<span class="op" id="8261098">=</span>&nbsp;<span class="builtinfunc" id="8261100">copy</span><span class="op" id="8261104">(</span><span class="ident" id="8261105">p</span><span class="op" id="8261106">,</span>&nbsp;<span class="ident" id="8261108">s</span><span class="op" id="8261109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261113">r</span><span class="op" id="8261114">.</span><span class="ident" id="8261115">step</span><span class="op" id="8261119">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261123">}</span>&nbsp;<span class="keyword" id="8261125">else</span>&nbsp;<span class="op" id="8261130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261134">err</span>&nbsp;<span class="op" id="8261138">=</span>&nbsp;<span class="ident" id="8261140">io</span><span class="op" id="8261142">.</span><span class="ident" id="8261143">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261148">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8261151">return</span><br>
<span class="lineno"></span><span class="op" id="8261158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8261161">func</span>&nbsp;<span class="ident" id="8261166">readRuneSegments</span><span class="op" id="8261182">(</span><span class="ident" id="8261183">t</span>&nbsp;<span class="op" id="8261185">*</span><span class="ident" id="8261186">testing</span><span class="op" id="8261193">.</span><span class="ident" id="8261194">T</span><span class="op" id="8261195">,</span>&nbsp;<span class="ident" id="8261197">segments</span>&nbsp;<span class="op" id="8261206">[</span><span class="op" id="8261207">]</span><span class="builtintype" id="8261208">string</span><span class="op" id="8261214">)</span>&nbsp;<span class="op" id="8261216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261219">got</span>&nbsp;<span class="op" id="8261223">:=</span>&nbsp;<span class="string" id="8261226">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261230">want</span>&nbsp;<span class="op" id="8261235">:=</span>&nbsp;<span class="ident" id="8261238">strings</span><span class="op" id="8261245">.</span><span class="ident" id="8261246">Join</span><span class="op" id="8261250">(</span><span class="ident" id="8261251">segments</span><span class="op" id="8261259">,</span>&nbsp;<span class="string" id="8261261">&#34;&#34;</span><span class="op" id="8261263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261266">s</span>&nbsp;<span class="op" id="8261268">:=</span>&nbsp;<span class="builtinfunc" id="8261271">new</span><span class="op" id="8261274">(</span><span class="ident" id="8261275">Scanner</span><span class="op" id="8261282">)</span><span class="op" id="8261283">.</span><span class="ident" id="8261284">Init</span><span class="op" id="8261288">(</span><span class="op" id="8261289">&amp;</span><span class="ident" id="8261290">StringReader</span><span class="op" id="8261302">{</span><span class="ident" id="8261303">data</span><span class="op" id="8261307">:</span>&nbsp;<span class="ident" id="8261309">segments</span><span class="op" id="8261317">}</span><span class="op" id="8261318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8261321">for</span>&nbsp;<span class="op" id="8261325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261329">ch</span>&nbsp;<span class="op" id="8261332">:=</span>&nbsp;<span class="ident" id="8261335">s</span><span class="op" id="8261336">.</span><span class="ident" id="8261337">Next</span><span class="op" id="8261341">(</span><span class="op" id="8261342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8261346">if</span>&nbsp;<span class="ident" id="8261349">ch</span>&nbsp;<span class="op" id="8261352">==</span>&nbsp;<span class="ident" id="8261355">EOF</span>&nbsp;<span class="op" id="8261359">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8261364">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261376">got</span>&nbsp;<span class="op" id="8261380">+=</span>&nbsp;<span class="builtintype" id="8261383">string</span><span class="op" id="8261389">(</span><span class="ident" id="8261390">ch</span><span class="op" id="8261392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8261398">if</span>&nbsp;<span class="ident" id="8261401">got</span>&nbsp;<span class="op" id="8261405">!=</span>&nbsp;<span class="ident" id="8261408">want</span>&nbsp;<span class="op" id="8261413">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261417">t</span><span class="op" id="8261418">.</span><span class="ident" id="8261419">Errorf</span><span class="op" id="8261425">(</span><span class="string" id="8261426">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="8261454">,</span>&nbsp;<span class="ident" id="8261456">segments</span><span class="op" id="8261464">,</span>&nbsp;<span class="ident" id="8261466">got</span><span class="op" id="8261469">,</span>&nbsp;<span class="ident" id="8261471">want</span><span class="op" id="8261475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261478">}</span><br>
<span class="lineno"></span><span class="op" id="8261480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8261483">var</span>&nbsp;<span class="ident" id="8261487">segmentList</span>&nbsp;<span class="op" id="8261499">=</span>&nbsp;<span class="op" id="8261501">[</span><span class="op" id="8261502">]</span><span class="op" id="8261503">[</span><span class="op" id="8261504">]</span><span class="builtintype" id="8261505">string</span><span class="op" id="8261511">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261514">{</span><span class="op" id="8261515">}</span><span class="op" id="8261516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261519">{</span><span class="string" id="8261520">&#34;&#34;</span><span class="op" id="8261522">}</span><span class="op" id="8261523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261526">{</span><span class="string" id="8261527">&#34;日&#34;</span><span class="op" id="8261532">,</span>&nbsp;<span class="string" id="8261534">&#34;本語&#34;</span><span class="op" id="8261542">}</span><span class="op" id="8261543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261546">{</span><span class="string" id="8261547">&#34;\u65e5&#34;</span><span class="op" id="8261555">,</span>&nbsp;<span class="string" id="8261557">&#34;\u672c&#34;</span><span class="op" id="8261565">,</span>&nbsp;<span class="string" id="8261567">&#34;\u8a9e&#34;</span><span class="op" id="8261575">}</span><span class="op" id="8261576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261579">{</span><span class="string" id="8261580">&#34;\U000065e5&#34;</span><span class="op" id="8261592">,</span>&nbsp;<span class="string" id="8261594">&#34;&nbsp;&#34;</span><span class="op" id="8261597">,</span>&nbsp;<span class="string" id="8261599">&#34;\U0000672c&#34;</span><span class="op" id="8261611">,</span>&nbsp;<span class="string" id="8261613">&#34;\U00008a9e&#34;</span><span class="op" id="8261625">}</span><span class="op" id="8261626">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261629">{</span><span class="string" id="8261630">&#34;\xe6&#34;</span><span class="op" id="8261636">,</span>&nbsp;<span class="string" id="8261638">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="8261652">,</span>&nbsp;<span class="string" id="8261654">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="8261676">}</span><span class="op" id="8261677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261680">{</span><span class="string" id="8261681">&#34;Hello&#34;</span><span class="op" id="8261688">,</span>&nbsp;<span class="string" id="8261690">&#34;,&nbsp;&#34;</span><span class="op" id="8261694">,</span>&nbsp;<span class="string" id="8261696">&#34;World&#34;</span><span class="op" id="8261703">,</span>&nbsp;<span class="string" id="8261705">&#34;!&#34;</span><span class="op" id="8261708">}</span><span class="op" id="8261709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261712">{</span><span class="string" id="8261713">&#34;Hello&#34;</span><span class="op" id="8261720">,</span>&nbsp;<span class="string" id="8261722">&#34;,&nbsp;&#34;</span><span class="op" id="8261726">,</span>&nbsp;<span class="string" id="8261728">&#34;&#34;</span><span class="op" id="8261730">,</span>&nbsp;<span class="string" id="8261732">&#34;World&#34;</span><span class="op" id="8261739">,</span>&nbsp;<span class="string" id="8261741">&#34;!&#34;</span><span class="op" id="8261744">}</span><span class="op" id="8261745">,</span><br>
<span class="lineno"></span><span class="op" id="8261747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8261750">func</span>&nbsp;<span class="ident" id="8261755">TestNext</span><span class="op" id="8261763">(</span><span class="ident" id="8261764">t</span>&nbsp;<span class="op" id="8261766">*</span><span class="ident" id="8261767">testing</span><span class="op" id="8261774">.</span><span class="ident" id="8261775">T</span><span class="op" id="8261776">)</span>&nbsp;<span class="op" id="8261778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8261781">for</span>&nbsp;<span class="ident" id="8261785">_</span><span class="op" id="8261786">,</span>&nbsp;<span class="ident" id="8261788">s</span>&nbsp;<span class="op" id="8261790">:=</span>&nbsp;<span class="keyword" id="8261793">range</span>&nbsp;<span class="ident" id="8261799">segmentList</span>&nbsp;<span class="op" id="8261811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261815">readRuneSegments</span><span class="op" id="8261831">(</span><span class="ident" id="8261832">t</span><span class="op" id="8261833">,</span>&nbsp;<span class="ident" id="8261835">s</span><span class="op" id="8261836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8261839">}</span><br>
<span class="lineno"></span><span class="op" id="8261841">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8261844">type</span>&nbsp;<span class="ident" id="8261849">token</span>&nbsp;<span class="keyword" id="8261855">struct</span>&nbsp;<span class="op" id="8261862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261865">tok</span>&nbsp;&nbsp;<span class="builtintype" id="8261870">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8261876">text</span>&nbsp;<span class="builtintype" id="8261881">string</span><br>
<span class="lineno"></span><span class="op" id="8261888">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8261891">var</span>&nbsp;<span class="ident" id="8261895">f100</span>&nbsp;<span class="op" id="8261900">=</span>&nbsp;<span class="string" id="8261902">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8262006">var</span>&nbsp;<span class="ident" id="8262010">tokenList</span>&nbsp;<span class="op" id="8262020">=</span>&nbsp;<span class="op" id="8262022">[</span><span class="op" id="8262023">]</span><span class="ident" id="8262024">token</span><span class="op" id="8262029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262032">{</span><span class="ident" id="8262033">Comment</span><span class="op" id="8262040">,</span>&nbsp;<span class="string" id="8262042">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="8262060">}</span><span class="op" id="8262061">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262064">{</span><span class="ident" id="8262065">Comment</span><span class="op" id="8262072">,</span>&nbsp;<span class="string" id="8262074">&#34;//&#34;</span><span class="op" id="8262078">}</span><span class="op" id="8262079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262082">{</span><span class="ident" id="8262083">Comment</span><span class="op" id="8262090">,</span>&nbsp;<span class="string" id="8262092">&#34;////&#34;</span><span class="op" id="8262098">}</span><span class="op" id="8262099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262102">{</span><span class="ident" id="8262103">Comment</span><span class="op" id="8262110">,</span>&nbsp;<span class="string" id="8262112">&#34;//&nbsp;comment&#34;</span><span class="op" id="8262124">}</span><span class="op" id="8262125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262128">{</span><span class="ident" id="8262129">Comment</span><span class="op" id="8262136">,</span>&nbsp;<span class="string" id="8262138">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8262156">}</span><span class="op" id="8262157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262160">{</span><span class="ident" id="8262161">Comment</span><span class="op" id="8262168">,</span>&nbsp;<span class="string" id="8262170">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="8262188">}</span><span class="op" id="8262189">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262192">{</span><span class="ident" id="8262193">Comment</span><span class="op" id="8262200">,</span>&nbsp;<span class="string" id="8262202">&#34;//&#34;</span>&nbsp;<span class="op" id="8262207">+</span>&nbsp;<span class="ident" id="8262209">f100</span><span class="op" id="8262213">}</span><span class="op" id="8262214">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262218">{</span><span class="ident" id="8262219">Comment</span><span class="op" id="8262226">,</span>&nbsp;<span class="string" id="8262228">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="8262249">}</span><span class="op" id="8262250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262253">{</span><span class="ident" id="8262254">Comment</span><span class="op" id="8262261">,</span>&nbsp;<span class="string" id="8262263">&#34;/**/&#34;</span><span class="op" id="8262269">}</span><span class="op" id="8262270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262273">{</span><span class="ident" id="8262274">Comment</span><span class="op" id="8262281">,</span>&nbsp;<span class="string" id="8262283">&#34;/***/&#34;</span><span class="op" id="8262290">}</span><span class="op" id="8262291">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262294">{</span><span class="ident" id="8262295">Comment</span><span class="op" id="8262302">,</span>&nbsp;<span class="string" id="8262304">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8262319">}</span><span class="op" id="8262320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262323">{</span><span class="ident" id="8262324">Comment</span><span class="op" id="8262331">,</span>&nbsp;<span class="string" id="8262333">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8262351">}</span><span class="op" id="8262352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262355">{</span><span class="ident" id="8262356">Comment</span><span class="op" id="8262363">,</span>&nbsp;<span class="string" id="8262365">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8262383">}</span><span class="op" id="8262384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262387">{</span><span class="ident" id="8262388">Comment</span><span class="op" id="8262395">,</span>&nbsp;<span class="string" id="8262397">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="8262415">}</span><span class="op" id="8262416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262419">{</span><span class="ident" id="8262420">Comment</span><span class="op" id="8262427">,</span>&nbsp;<span class="string" id="8262429">&#34;/*&#34;</span>&nbsp;<span class="op" id="8262434">+</span>&nbsp;<span class="ident" id="8262436">f100</span>&nbsp;<span class="op" id="8262441">+</span>&nbsp;<span class="string" id="8262443">&#34;*/&#34;</span><span class="op" id="8262447">}</span><span class="op" id="8262448">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262452">{</span><span class="ident" id="8262453">Comment</span><span class="op" id="8262460">,</span>&nbsp;<span class="string" id="8262462">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="8262478">}</span><span class="op" id="8262479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262482">{</span><span class="ident" id="8262483">Ident</span><span class="op" id="8262488">,</span>&nbsp;<span class="string" id="8262490">&#34;a&#34;</span><span class="op" id="8262493">}</span><span class="op" id="8262494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262497">{</span><span class="ident" id="8262498">Ident</span><span class="op" id="8262503">,</span>&nbsp;<span class="string" id="8262505">&#34;a0&#34;</span><span class="op" id="8262509">}</span><span class="op" id="8262510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262513">{</span><span class="ident" id="8262514">Ident</span><span class="op" id="8262519">,</span>&nbsp;<span class="string" id="8262521">&#34;foobar&#34;</span><span class="op" id="8262529">}</span><span class="op" id="8262530">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262533">{</span><span class="ident" id="8262534">Ident</span><span class="op" id="8262539">,</span>&nbsp;<span class="string" id="8262541">&#34;abc123&#34;</span><span class="op" id="8262549">}</span><span class="op" id="8262550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262553">{</span><span class="ident" id="8262554">Ident</span><span class="op" id="8262559">,</span>&nbsp;<span class="string" id="8262561">&#34;LGTM&#34;</span><span class="op" id="8262567">}</span><span class="op" id="8262568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262571">{</span><span class="ident" id="8262572">Ident</span><span class="op" id="8262577">,</span>&nbsp;<span class="string" id="8262579">&#34;_&#34;</span><span class="op" id="8262582">}</span><span class="op" id="8262583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262586">{</span><span class="ident" id="8262587">Ident</span><span class="op" id="8262592">,</span>&nbsp;<span class="string" id="8262594">&#34;_abc123&#34;</span><span class="op" id="8262603">}</span><span class="op" id="8262604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262607">{</span><span class="ident" id="8262608">Ident</span><span class="op" id="8262613">,</span>&nbsp;<span class="string" id="8262615">&#34;abc123_&#34;</span><span class="op" id="8262624">}</span><span class="op" id="8262625">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262628">{</span><span class="ident" id="8262629">Ident</span><span class="op" id="8262634">,</span>&nbsp;<span class="string" id="8262636">&#34;_abc_123_&#34;</span><span class="op" id="8262647">}</span><span class="op" id="8262648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262651">{</span><span class="ident" id="8262652">Ident</span><span class="op" id="8262657">,</span>&nbsp;<span class="string" id="8262659">&#34;_äöü&#34;</span><span class="op" id="8262668">}</span><span class="op" id="8262669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262672">{</span><span class="ident" id="8262673">Ident</span><span class="op" id="8262678">,</span>&nbsp;<span class="string" id="8262680">&#34;_本&#34;</span><span class="op" id="8262686">}</span><span class="op" id="8262687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262690">{</span><span class="ident" id="8262691">Ident</span><span class="op" id="8262696">,</span>&nbsp;<span class="string" id="8262698">&#34;äöü&#34;</span><span class="op" id="8262706">}</span><span class="op" id="8262707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262710">{</span><span class="ident" id="8262711">Ident</span><span class="op" id="8262716">,</span>&nbsp;<span class="string" id="8262718">&#34;本&#34;</span><span class="op" id="8262723">}</span><span class="op" id="8262724">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262727">{</span><span class="ident" id="8262728">Ident</span><span class="op" id="8262733">,</span>&nbsp;<span class="string" id="8262735">&#34;a۰۱۸&#34;</span><span class="op" id="8262744">}</span><span class="op" id="8262745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262748">{</span><span class="ident" id="8262749">Ident</span><span class="op" id="8262754">,</span>&nbsp;<span class="string" id="8262756">&#34;foo६४&#34;</span><span class="op" id="8262767">}</span><span class="op" id="8262768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262771">{</span><span class="ident" id="8262772">Ident</span><span class="op" id="8262777">,</span>&nbsp;<span class="string" id="8262779">&#34;bar９８７６&#34;</span><span class="op" id="8262796">}</span><span class="op" id="8262797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262800">{</span><span class="ident" id="8262801">Ident</span><span class="op" id="8262806">,</span>&nbsp;<span class="ident" id="8262808">f100</span><span class="op" id="8262812">}</span><span class="op" id="8262813">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262817">{</span><span class="ident" id="8262818">Comment</span><span class="op" id="8262825">,</span>&nbsp;<span class="string" id="8262827">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="8262844">}</span><span class="op" id="8262845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262848">{</span><span class="ident" id="8262849">Int</span><span class="op" id="8262852">,</span>&nbsp;<span class="string" id="8262854">&#34;0&#34;</span><span class="op" id="8262857">}</span><span class="op" id="8262858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262861">{</span><span class="ident" id="8262862">Int</span><span class="op" id="8262865">,</span>&nbsp;<span class="string" id="8262867">&#34;1&#34;</span><span class="op" id="8262870">}</span><span class="op" id="8262871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262874">{</span><span class="ident" id="8262875">Int</span><span class="op" id="8262878">,</span>&nbsp;<span class="string" id="8262880">&#34;9&#34;</span><span class="op" id="8262883">}</span><span class="op" id="8262884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262887">{</span><span class="ident" id="8262888">Int</span><span class="op" id="8262891">,</span>&nbsp;<span class="string" id="8262893">&#34;42&#34;</span><span class="op" id="8262897">}</span><span class="op" id="8262898">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262901">{</span><span class="ident" id="8262902">Int</span><span class="op" id="8262905">,</span>&nbsp;<span class="string" id="8262907">&#34;1234567890&#34;</span><span class="op" id="8262919">}</span><span class="op" id="8262920">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262924">{</span><span class="ident" id="8262925">Comment</span><span class="op" id="8262932">,</span>&nbsp;<span class="string" id="8262934">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="8262949">}</span><span class="op" id="8262950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262953">{</span><span class="ident" id="8262954">Int</span><span class="op" id="8262957">,</span>&nbsp;<span class="string" id="8262959">&#34;00&#34;</span><span class="op" id="8262963">}</span><span class="op" id="8262964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262967">{</span><span class="ident" id="8262968">Int</span><span class="op" id="8262971">,</span>&nbsp;<span class="string" id="8262973">&#34;01&#34;</span><span class="op" id="8262977">}</span><span class="op" id="8262978">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262981">{</span><span class="ident" id="8262982">Int</span><span class="op" id="8262985">,</span>&nbsp;<span class="string" id="8262987">&#34;07&#34;</span><span class="op" id="8262991">}</span><span class="op" id="8262992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8262995">{</span><span class="ident" id="8262996">Int</span><span class="op" id="8262999">,</span>&nbsp;<span class="string" id="8263001">&#34;042&#34;</span><span class="op" id="8263006">}</span><span class="op" id="8263007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263010">{</span><span class="ident" id="8263011">Int</span><span class="op" id="8263014">,</span>&nbsp;<span class="string" id="8263016">&#34;01234567&#34;</span><span class="op" id="8263026">}</span><span class="op" id="8263027">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263031">{</span><span class="ident" id="8263032">Comment</span><span class="op" id="8263039">,</span>&nbsp;<span class="string" id="8263041">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="8263062">}</span><span class="op" id="8263063">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263066">{</span><span class="ident" id="8263067">Int</span><span class="op" id="8263070">,</span>&nbsp;<span class="string" id="8263072">&#34;0x0&#34;</span><span class="op" id="8263077">}</span><span class="op" id="8263078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263081">{</span><span class="ident" id="8263082">Int</span><span class="op" id="8263085">,</span>&nbsp;<span class="string" id="8263087">&#34;0x1&#34;</span><span class="op" id="8263092">}</span><span class="op" id="8263093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263096">{</span><span class="ident" id="8263097">Int</span><span class="op" id="8263100">,</span>&nbsp;<span class="string" id="8263102">&#34;0xf&#34;</span><span class="op" id="8263107">}</span><span class="op" id="8263108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263111">{</span><span class="ident" id="8263112">Int</span><span class="op" id="8263115">,</span>&nbsp;<span class="string" id="8263117">&#34;0x42&#34;</span><span class="op" id="8263123">}</span><span class="op" id="8263124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263127">{</span><span class="ident" id="8263128">Int</span><span class="op" id="8263131">,</span>&nbsp;<span class="string" id="8263133">&#34;0x123456789abcDEF&#34;</span><span class="op" id="8263152">}</span><span class="op" id="8263153">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263156">{</span><span class="ident" id="8263157">Int</span><span class="op" id="8263160">,</span>&nbsp;<span class="string" id="8263162">&#34;0x&#34;</span>&nbsp;<span class="op" id="8263167">+</span>&nbsp;<span class="ident" id="8263169">f100</span><span class="op" id="8263173">}</span><span class="op" id="8263174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263177">{</span><span class="ident" id="8263178">Int</span><span class="op" id="8263181">,</span>&nbsp;<span class="string" id="8263183">&#34;0X0&#34;</span><span class="op" id="8263188">}</span><span class="op" id="8263189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263192">{</span><span class="ident" id="8263193">Int</span><span class="op" id="8263196">,</span>&nbsp;<span class="string" id="8263198">&#34;0X1&#34;</span><span class="op" id="8263203">}</span><span class="op" id="8263204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263207">{</span><span class="ident" id="8263208">Int</span><span class="op" id="8263211">,</span>&nbsp;<span class="string" id="8263213">&#34;0XF&#34;</span><span class="op" id="8263218">}</span><span class="op" id="8263219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263222">{</span><span class="ident" id="8263223">Int</span><span class="op" id="8263226">,</span>&nbsp;<span class="string" id="8263228">&#34;0X42&#34;</span><span class="op" id="8263234">}</span><span class="op" id="8263235">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263238">{</span><span class="ident" id="8263239">Int</span><span class="op" id="8263242">,</span>&nbsp;<span class="string" id="8263244">&#34;0X123456789abcDEF&#34;</span><span class="op" id="8263263">}</span><span class="op" id="8263264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263267">{</span><span class="ident" id="8263268">Int</span><span class="op" id="8263271">,</span>&nbsp;<span class="string" id="8263273">&#34;0X&#34;</span>&nbsp;<span class="op" id="8263278">+</span>&nbsp;<span class="ident" id="8263280">f100</span><span class="op" id="8263284">}</span><span class="op" id="8263285">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263289">{</span><span class="ident" id="8263290">Comment</span><span class="op" id="8263297">,</span>&nbsp;<span class="string" id="8263299">&#34;//&nbsp;floats&#34;</span><span class="op" id="8263310">}</span><span class="op" id="8263311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263314">{</span><span class="ident" id="8263315">Float</span><span class="op" id="8263320">,</span>&nbsp;<span class="string" id="8263322">&#34;0.&#34;</span><span class="op" id="8263326">}</span><span class="op" id="8263327">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263330">{</span><span class="ident" id="8263331">Float</span><span class="op" id="8263336">,</span>&nbsp;<span class="string" id="8263338">&#34;1.&#34;</span><span class="op" id="8263342">}</span><span class="op" id="8263343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263346">{</span><span class="ident" id="8263347">Float</span><span class="op" id="8263352">,</span>&nbsp;<span class="string" id="8263354">&#34;42.&#34;</span><span class="op" id="8263359">}</span><span class="op" id="8263360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263363">{</span><span class="ident" id="8263364">Float</span><span class="op" id="8263369">,</span>&nbsp;<span class="string" id="8263371">&#34;01234567890.&#34;</span><span class="op" id="8263385">}</span><span class="op" id="8263386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263389">{</span><span class="ident" id="8263390">Float</span><span class="op" id="8263395">,</span>&nbsp;<span class="string" id="8263397">&#34;.0&#34;</span><span class="op" id="8263401">}</span><span class="op" id="8263402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263405">{</span><span class="ident" id="8263406">Float</span><span class="op" id="8263411">,</span>&nbsp;<span class="string" id="8263413">&#34;.1&#34;</span><span class="op" id="8263417">}</span><span class="op" id="8263418">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263421">{</span><span class="ident" id="8263422">Float</span><span class="op" id="8263427">,</span>&nbsp;<span class="string" id="8263429">&#34;.42&#34;</span><span class="op" id="8263434">}</span><span class="op" id="8263435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263438">{</span><span class="ident" id="8263439">Float</span><span class="op" id="8263444">,</span>&nbsp;<span class="string" id="8263446">&#34;.0123456789&#34;</span><span class="op" id="8263459">}</span><span class="op" id="8263460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263463">{</span><span class="ident" id="8263464">Float</span><span class="op" id="8263469">,</span>&nbsp;<span class="string" id="8263471">&#34;0.0&#34;</span><span class="op" id="8263476">}</span><span class="op" id="8263477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263480">{</span><span class="ident" id="8263481">Float</span><span class="op" id="8263486">,</span>&nbsp;<span class="string" id="8263488">&#34;1.0&#34;</span><span class="op" id="8263493">}</span><span class="op" id="8263494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263497">{</span><span class="ident" id="8263498">Float</span><span class="op" id="8263503">,</span>&nbsp;<span class="string" id="8263505">&#34;42.0&#34;</span><span class="op" id="8263511">}</span><span class="op" id="8263512">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263515">{</span><span class="ident" id="8263516">Float</span><span class="op" id="8263521">,</span>&nbsp;<span class="string" id="8263523">&#34;01234567890.0&#34;</span><span class="op" id="8263538">}</span><span class="op" id="8263539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263542">{</span><span class="ident" id="8263543">Float</span><span class="op" id="8263548">,</span>&nbsp;<span class="string" id="8263550">&#34;0e0&#34;</span><span class="op" id="8263555">}</span><span class="op" id="8263556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263559">{</span><span class="ident" id="8263560">Float</span><span class="op" id="8263565">,</span>&nbsp;<span class="string" id="8263567">&#34;1e0&#34;</span><span class="op" id="8263572">}</span><span class="op" id="8263573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263576">{</span><span class="ident" id="8263577">Float</span><span class="op" id="8263582">,</span>&nbsp;<span class="string" id="8263584">&#34;42e0&#34;</span><span class="op" id="8263590">}</span><span class="op" id="8263591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263594">{</span><span class="ident" id="8263595">Float</span><span class="op" id="8263600">,</span>&nbsp;<span class="string" id="8263602">&#34;01234567890e0&#34;</span><span class="op" id="8263617">}</span><span class="op" id="8263618">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263621">{</span><span class="ident" id="8263622">Float</span><span class="op" id="8263627">,</span>&nbsp;<span class="string" id="8263629">&#34;0E0&#34;</span><span class="op" id="8263634">}</span><span class="op" id="8263635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263638">{</span><span class="ident" id="8263639">Float</span><span class="op" id="8263644">,</span>&nbsp;<span class="string" id="8263646">&#34;1E0&#34;</span><span class="op" id="8263651">}</span><span class="op" id="8263652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263655">{</span><span class="ident" id="8263656">Float</span><span class="op" id="8263661">,</span>&nbsp;<span class="string" id="8263663">&#34;42E0&#34;</span><span class="op" id="8263669">}</span><span class="op" id="8263670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263673">{</span><span class="ident" id="8263674">Float</span><span class="op" id="8263679">,</span>&nbsp;<span class="string" id="8263681">&#34;01234567890E0&#34;</span><span class="op" id="8263696">}</span><span class="op" id="8263697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263700">{</span><span class="ident" id="8263701">Float</span><span class="op" id="8263706">,</span>&nbsp;<span class="string" id="8263708">&#34;0e+10&#34;</span><span class="op" id="8263715">}</span><span class="op" id="8263716">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263719">{</span><span class="ident" id="8263720">Float</span><span class="op" id="8263725">,</span>&nbsp;<span class="string" id="8263727">&#34;1e-10&#34;</span><span class="op" id="8263734">}</span><span class="op" id="8263735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263738">{</span><span class="ident" id="8263739">Float</span><span class="op" id="8263744">,</span>&nbsp;<span class="string" id="8263746">&#34;42e+10&#34;</span><span class="op" id="8263754">}</span><span class="op" id="8263755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263758">{</span><span class="ident" id="8263759">Float</span><span class="op" id="8263764">,</span>&nbsp;<span class="string" id="8263766">&#34;01234567890e-10&#34;</span><span class="op" id="8263783">}</span><span class="op" id="8263784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263787">{</span><span class="ident" id="8263788">Float</span><span class="op" id="8263793">,</span>&nbsp;<span class="string" id="8263795">&#34;0E+10&#34;</span><span class="op" id="8263802">}</span><span class="op" id="8263803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263806">{</span><span class="ident" id="8263807">Float</span><span class="op" id="8263812">,</span>&nbsp;<span class="string" id="8263814">&#34;1E-10&#34;</span><span class="op" id="8263821">}</span><span class="op" id="8263822">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263825">{</span><span class="ident" id="8263826">Float</span><span class="op" id="8263831">,</span>&nbsp;<span class="string" id="8263833">&#34;42E+10&#34;</span><span class="op" id="8263841">}</span><span class="op" id="8263842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263845">{</span><span class="ident" id="8263846">Float</span><span class="op" id="8263851">,</span>&nbsp;<span class="string" id="8263853">&#34;01234567890E-10&#34;</span><span class="op" id="8263870">}</span><span class="op" id="8263871">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263875">{</span><span class="ident" id="8263876">Comment</span><span class="op" id="8263883">,</span>&nbsp;<span class="string" id="8263885">&#34;//&nbsp;chars&#34;</span><span class="op" id="8263895">}</span><span class="op" id="8263896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263899">{</span><span class="ident" id="8263900">Char</span><span class="op" id="8263904">,</span>&nbsp;<span class="string" id="8263906">`&#39;&nbsp;&#39;`</span><span class="op" id="8263911">}</span><span class="op" id="8263912">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263915">{</span><span class="ident" id="8263916">Char</span><span class="op" id="8263920">,</span>&nbsp;<span class="string" id="8263922">`&#39;a&#39;`</span><span class="op" id="8263927">}</span><span class="op" id="8263928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263931">{</span><span class="ident" id="8263932">Char</span><span class="op" id="8263936">,</span>&nbsp;<span class="string" id="8263938">`&#39;本&#39;`</span><span class="op" id="8263945">}</span><span class="op" id="8263946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263949">{</span><span class="ident" id="8263950">Char</span><span class="op" id="8263954">,</span>&nbsp;<span class="string" id="8263956">`&#39;\a&#39;`</span><span class="op" id="8263962">}</span><span class="op" id="8263963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263966">{</span><span class="ident" id="8263967">Char</span><span class="op" id="8263971">,</span>&nbsp;<span class="string" id="8263973">`&#39;\b&#39;`</span><span class="op" id="8263979">}</span><span class="op" id="8263980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8263983">{</span><span class="ident" id="8263984">Char</span><span class="op" id="8263988">,</span>&nbsp;<span class="string" id="8263990">`&#39;\f&#39;`</span><span class="op" id="8263996">}</span><span class="op" id="8263997">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264000">{</span><span class="ident" id="8264001">Char</span><span class="op" id="8264005">,</span>&nbsp;<span class="string" id="8264007">`&#39;\n&#39;`</span><span class="op" id="8264013">}</span><span class="op" id="8264014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264017">{</span><span class="ident" id="8264018">Char</span><span class="op" id="8264022">,</span>&nbsp;<span class="string" id="8264024">`&#39;\r&#39;`</span><span class="op" id="8264030">}</span><span class="op" id="8264031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264034">{</span><span class="ident" id="8264035">Char</span><span class="op" id="8264039">,</span>&nbsp;<span class="string" id="8264041">`&#39;\t&#39;`</span><span class="op" id="8264047">}</span><span class="op" id="8264048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264051">{</span><span class="ident" id="8264052">Char</span><span class="op" id="8264056">,</span>&nbsp;<span class="string" id="8264058">`&#39;\v&#39;`</span><span class="op" id="8264064">}</span><span class="op" id="8264065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264068">{</span><span class="ident" id="8264069">Char</span><span class="op" id="8264073">,</span>&nbsp;<span class="string" id="8264075">`&#39;\&#39;&#39;`</span><span class="op" id="8264081">}</span><span class="op" id="8264082">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264085">{</span><span class="ident" id="8264086">Char</span><span class="op" id="8264090">,</span>&nbsp;<span class="string" id="8264092">`&#39;\000&#39;`</span><span class="op" id="8264100">}</span><span class="op" id="8264101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264104">{</span><span class="ident" id="8264105">Char</span><span class="op" id="8264109">,</span>&nbsp;<span class="string" id="8264111">`&#39;\777&#39;`</span><span class="op" id="8264119">}</span><span class="op" id="8264120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264123">{</span><span class="ident" id="8264124">Char</span><span class="op" id="8264128">,</span>&nbsp;<span class="string" id="8264130">`&#39;\x00&#39;`</span><span class="op" id="8264138">}</span><span class="op" id="8264139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264142">{</span><span class="ident" id="8264143">Char</span><span class="op" id="8264147">,</span>&nbsp;<span class="string" id="8264149">`&#39;\xff&#39;`</span><span class="op" id="8264157">}</span><span class="op" id="8264158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264161">{</span><span class="ident" id="8264162">Char</span><span class="op" id="8264166">,</span>&nbsp;<span class="string" id="8264168">`&#39;\u0000&#39;`</span><span class="op" id="8264178">}</span><span class="op" id="8264179">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264182">{</span><span class="ident" id="8264183">Char</span><span class="op" id="8264187">,</span>&nbsp;<span class="string" id="8264189">`&#39;\ufA16&#39;`</span><span class="op" id="8264199">}</span><span class="op" id="8264200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264203">{</span><span class="ident" id="8264204">Char</span><span class="op" id="8264208">,</span>&nbsp;<span class="string" id="8264210">`&#39;\U00000000&#39;`</span><span class="op" id="8264224">}</span><span class="op" id="8264225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264228">{</span><span class="ident" id="8264229">Char</span><span class="op" id="8264233">,</span>&nbsp;<span class="string" id="8264235">`&#39;\U0000ffAB&#39;`</span><span class="op" id="8264249">}</span><span class="op" id="8264250">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264254">{</span><span class="ident" id="8264255">Comment</span><span class="op" id="8264262">,</span>&nbsp;<span class="string" id="8264264">&#34;//&nbsp;strings&#34;</span><span class="op" id="8264276">}</span><span class="op" id="8264277">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264280">{</span><span class="ident" id="8264281">String</span><span class="op" id="8264287">,</span>&nbsp;<span class="string" id="8264289">`&#34;&nbsp;&#34;`</span><span class="op" id="8264294">}</span><span class="op" id="8264295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264298">{</span><span class="ident" id="8264299">String</span><span class="op" id="8264305">,</span>&nbsp;<span class="string" id="8264307">`&#34;a&#34;`</span><span class="op" id="8264312">}</span><span class="op" id="8264313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264316">{</span><span class="ident" id="8264317">String</span><span class="op" id="8264323">,</span>&nbsp;<span class="string" id="8264325">`&#34;本&#34;`</span><span class="op" id="8264332">}</span><span class="op" id="8264333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264336">{</span><span class="ident" id="8264337">String</span><span class="op" id="8264343">,</span>&nbsp;<span class="string" id="8264345">`&#34;\a&#34;`</span><span class="op" id="8264351">}</span><span class="op" id="8264352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264355">{</span><span class="ident" id="8264356">String</span><span class="op" id="8264362">,</span>&nbsp;<span class="string" id="8264364">`&#34;\b&#34;`</span><span class="op" id="8264370">}</span><span class="op" id="8264371">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264374">{</span><span class="ident" id="8264375">String</span><span class="op" id="8264381">,</span>&nbsp;<span class="string" id="8264383">`&#34;\f&#34;`</span><span class="op" id="8264389">}</span><span class="op" id="8264390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264393">{</span><span class="ident" id="8264394">String</span><span class="op" id="8264400">,</span>&nbsp;<span class="string" id="8264402">`&#34;\n&#34;`</span><span class="op" id="8264408">}</span><span class="op" id="8264409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264412">{</span><span class="ident" id="8264413">String</span><span class="op" id="8264419">,</span>&nbsp;<span class="string" id="8264421">`&#34;\r&#34;`</span><span class="op" id="8264427">}</span><span class="op" id="8264428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264431">{</span><span class="ident" id="8264432">String</span><span class="op" id="8264438">,</span>&nbsp;<span class="string" id="8264440">`&#34;\t&#34;`</span><span class="op" id="8264446">}</span><span class="op" id="8264447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264450">{</span><span class="ident" id="8264451">String</span><span class="op" id="8264457">,</span>&nbsp;<span class="string" id="8264459">`&#34;\v&#34;`</span><span class="op" id="8264465">}</span><span class="op" id="8264466">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264469">{</span><span class="ident" id="8264470">String</span><span class="op" id="8264476">,</span>&nbsp;<span class="string" id="8264478">`&#34;\&#34;&#34;`</span><span class="op" id="8264484">}</span><span class="op" id="8264485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264488">{</span><span class="ident" id="8264489">String</span><span class="op" id="8264495">,</span>&nbsp;<span class="string" id="8264497">`&#34;\000&#34;`</span><span class="op" id="8264505">}</span><span class="op" id="8264506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264509">{</span><span class="ident" id="8264510">String</span><span class="op" id="8264516">,</span>&nbsp;<span class="string" id="8264518">`&#34;\777&#34;`</span><span class="op" id="8264526">}</span><span class="op" id="8264527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264530">{</span><span class="ident" id="8264531">String</span><span class="op" id="8264537">,</span>&nbsp;<span class="string" id="8264539">`&#34;\x00&#34;`</span><span class="op" id="8264547">}</span><span class="op" id="8264548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264551">{</span><span class="ident" id="8264552">String</span><span class="op" id="8264558">,</span>&nbsp;<span class="string" id="8264560">`&#34;\xff&#34;`</span><span class="op" id="8264568">}</span><span class="op" id="8264569">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264572">{</span><span class="ident" id="8264573">String</span><span class="op" id="8264579">,</span>&nbsp;<span class="string" id="8264581">`&#34;\u0000&#34;`</span><span class="op" id="8264591">}</span><span class="op" id="8264592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264595">{</span><span class="ident" id="8264596">String</span><span class="op" id="8264602">,</span>&nbsp;<span class="string" id="8264604">`&#34;\ufA16&#34;`</span><span class="op" id="8264614">}</span><span class="op" id="8264615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264618">{</span><span class="ident" id="8264619">String</span><span class="op" id="8264625">,</span>&nbsp;<span class="string" id="8264627">`&#34;\U00000000&#34;`</span><span class="op" id="8264641">}</span><span class="op" id="8264642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264645">{</span><span class="ident" id="8264646">String</span><span class="op" id="8264652">,</span>&nbsp;<span class="string" id="8264654">`&#34;\U0000ffAB&#34;`</span><span class="op" id="8264668">}</span><span class="op" id="8264669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264672">{</span><span class="ident" id="8264673">String</span><span class="op" id="8264679">,</span>&nbsp;<span class="string" id="8264681">`&#34;`</span>&nbsp;<span class="op" id="8264685">+</span>&nbsp;<span class="ident" id="8264687">f100</span>&nbsp;<span class="op" id="8264692">+</span>&nbsp;<span class="string" id="8264694">`&#34;`</span><span class="op" id="8264697">}</span><span class="op" id="8264698">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264702">{</span><span class="ident" id="8264703">Comment</span><span class="op" id="8264710">,</span>&nbsp;<span class="string" id="8264712">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="8264728">}</span><span class="op" id="8264729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264732">{</span><span class="ident" id="8264733">String</span><span class="op" id="8264739">,</span>&nbsp;<span class="string" id="8264741">&#34;``&#34;</span><span class="op" id="8264745">}</span><span class="op" id="8264746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264749">{</span><span class="ident" id="8264750">String</span><span class="op" id="8264756">,</span>&nbsp;<span class="string" id="8264758">&#34;`\\`&#34;</span><span class="op" id="8264764">}</span><span class="op" id="8264765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264768">{</span><span class="ident" id="8264769">String</span><span class="op" id="8264775">,</span>&nbsp;<span class="string" id="8264777">&#34;`&#34;</span>&nbsp;<span class="op" id="8264781">+</span>&nbsp;<span class="string" id="8264783">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="8264806">+</span>&nbsp;<span class="string" id="8264808">&#34;`&#34;</span><span class="op" id="8264811">}</span><span class="op" id="8264812">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264815">{</span><span class="ident" id="8264816">String</span><span class="op" id="8264822">,</span>&nbsp;<span class="string" id="8264824">&#34;`&#34;</span>&nbsp;<span class="op" id="8264828">+</span>&nbsp;<span class="ident" id="8264830">f100</span>&nbsp;<span class="op" id="8264835">+</span>&nbsp;<span class="string" id="8264837">&#34;`&#34;</span><span class="op" id="8264840">}</span><span class="op" id="8264841">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264845">{</span><span class="ident" id="8264846">Comment</span><span class="op" id="8264853">,</span>&nbsp;<span class="string" id="8264855">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="8264881">}</span><span class="op" id="8264882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8264885">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264918">{</span><span class="string" id="8264919">&#39;\x01&#39;</span><span class="op" id="8264925">,</span>&nbsp;<span class="string" id="8264927">&#34;\x01&#34;</span><span class="op" id="8264933">}</span><span class="op" id="8264934">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264937">{</span><span class="string" id="8264938">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8264942">-</span>&nbsp;<span class="num" id="8264944">1</span><span class="op" id="8264945">,</span>&nbsp;<span class="builtintype" id="8264947">string</span><span class="op" id="8264953">(</span><span class="string" id="8264954">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8264958">-</span>&nbsp;<span class="num" id="8264960">1</span><span class="op" id="8264961">)</span><span class="op" id="8264962">}</span><span class="op" id="8264963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264966">{</span><span class="string" id="8264967">&#39;+&#39;</span><span class="op" id="8264970">,</span>&nbsp;<span class="string" id="8264972">&#34;+&#34;</span><span class="op" id="8264975">}</span><span class="op" id="8264976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264979">{</span><span class="string" id="8264980">&#39;/&#39;</span><span class="op" id="8264983">,</span>&nbsp;<span class="string" id="8264985">&#34;/&#34;</span><span class="op" id="8264988">}</span><span class="op" id="8264989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8264992">{</span><span class="string" id="8264993">&#39;.&#39;</span><span class="op" id="8264996">,</span>&nbsp;<span class="string" id="8264998">&#34;.&#34;</span><span class="op" id="8265001">}</span><span class="op" id="8265002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265005">{</span><span class="string" id="8265006">&#39;~&#39;</span><span class="op" id="8265009">,</span>&nbsp;<span class="string" id="8265011">&#34;~&#34;</span><span class="op" id="8265014">}</span><span class="op" id="8265015">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265018">{</span><span class="string" id="8265019">&#39;(&#39;</span><span class="op" id="8265022">,</span>&nbsp;<span class="string" id="8265024">&#34;(&#34;</span><span class="op" id="8265027">}</span><span class="op" id="8265028">,</span><br>
<span class="lineno"></span><span class="op" id="8265030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8265033">func</span>&nbsp;<span class="ident" id="8265038">makeSource</span><span class="op" id="8265048">(</span><span class="ident" id="8265049">pattern</span>&nbsp;<span class="builtintype" id="8265057">string</span><span class="op" id="8265063">)</span>&nbsp;<span class="op" id="8265065">*</span><span class="ident" id="8265066">bytes</span><span class="op" id="8265071">.</span><span class="ident" id="8265072">Buffer</span>&nbsp;<span class="op" id="8265079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265082">var</span>&nbsp;<span class="ident" id="8265086">buf</span>&nbsp;<span class="ident" id="8265090">bytes</span><span class="op" id="8265095">.</span><span class="ident" id="8265096">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265104">for</span>&nbsp;<span class="ident" id="8265108">_</span><span class="op" id="8265109">,</span>&nbsp;<span class="ident" id="8265111">k</span>&nbsp;<span class="op" id="8265113">:=</span>&nbsp;<span class="keyword" id="8265116">range</span>&nbsp;<span class="ident" id="8265122">tokenList</span>&nbsp;<span class="op" id="8265132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265136">fmt</span><span class="op" id="8265139">.</span><span class="ident" id="8265140">Fprintf</span><span class="op" id="8265147">(</span><span class="op" id="8265148">&amp;</span><span class="ident" id="8265149">buf</span><span class="op" id="8265152">,</span>&nbsp;<span class="ident" id="8265154">pattern</span><span class="op" id="8265161">,</span>&nbsp;<span class="ident" id="8265163">k</span><span class="op" id="8265164">.</span><span class="ident" id="8265165">text</span><span class="op" id="8265169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265175">return</span>&nbsp;<span class="op" id="8265182">&amp;</span><span class="ident" id="8265183">buf</span><br>
<span class="lineno"></span><span class="op" id="8265187">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="8265190">func</span>&nbsp;<span class="ident" id="8265195">checkTok</span><span class="op" id="8265203">(</span><span class="ident" id="8265204">t</span>&nbsp;<span class="op" id="8265206">*</span><span class="ident" id="8265207">testing</span><span class="op" id="8265214">.</span><span class="ident" id="8265215">T</span><span class="op" id="8265216">,</span>&nbsp;<span class="ident" id="8265218">s</span>&nbsp;<span class="op" id="8265220">*</span><span class="ident" id="8265221">Scanner</span><span class="op" id="8265228">,</span>&nbsp;<span class="ident" id="8265230">line</span>&nbsp;<span class="builtintype" id="8265235">int</span><span class="op" id="8265238">,</span>&nbsp;<span class="ident" id="8265240">got</span><span class="op" id="8265243">,</span>&nbsp;<span class="ident" id="8265245">want</span>&nbsp;<span class="builtintype" id="8265250">rune</span><span class="op" id="8265254">,</span>&nbsp;<span class="ident" id="8265256">text</span>&nbsp;<span class="builtintype" id="8265261">string</span><span class="op" id="8265267">)</span>&nbsp;<span class="op" id="8265269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265272">if</span>&nbsp;<span class="ident" id="8265275">got</span>&nbsp;<span class="op" id="8265279">!=</span>&nbsp;<span class="ident" id="8265282">want</span>&nbsp;<span class="op" id="8265287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265291">t</span><span class="op" id="8265292">.</span><span class="ident" id="8265293">Fatalf</span><span class="op" id="8265299">(</span><span class="string" id="8265300">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8265326">,</span>&nbsp;<span class="ident" id="8265328">TokenString</span><span class="op" id="8265339">(</span><span class="ident" id="8265340">got</span><span class="op" id="8265343">)</span><span class="op" id="8265344">,</span>&nbsp;<span class="ident" id="8265346">TokenString</span><span class="op" id="8265357">(</span><span class="ident" id="8265358">want</span><span class="op" id="8265362">)</span><span class="op" id="8265363">,</span>&nbsp;<span class="ident" id="8265365">text</span><span class="op" id="8265369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265372">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265375">if</span>&nbsp;<span class="ident" id="8265378">s</span><span class="op" id="8265379">.</span><span class="ident" id="8265380">Line</span>&nbsp;<span class="op" id="8265385">!=</span>&nbsp;<span class="ident" id="8265388">line</span>&nbsp;<span class="op" id="8265393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265397">t</span><span class="op" id="8265398">.</span><span class="ident" id="8265399">Errorf</span><span class="op" id="8265405">(</span><span class="string" id="8265406">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8265433">,</span>&nbsp;<span class="ident" id="8265435">s</span><span class="op" id="8265436">.</span><span class="ident" id="8265437">Line</span><span class="op" id="8265441">,</span>&nbsp;<span class="ident" id="8265443">line</span><span class="op" id="8265447">,</span>&nbsp;<span class="ident" id="8265449">text</span><span class="op" id="8265453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265459">stext</span>&nbsp;<span class="op" id="8265465">:=</span>&nbsp;<span class="ident" id="8265468">s</span><span class="op" id="8265469">.</span><span class="ident" id="8265470">TokenText</span><span class="op" id="8265479">(</span><span class="op" id="8265480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265483">if</span>&nbsp;<span class="ident" id="8265486">stext</span>&nbsp;<span class="op" id="8265492">!=</span>&nbsp;<span class="ident" id="8265495">text</span>&nbsp;<span class="op" id="8265500">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265504">t</span><span class="op" id="8265505">.</span><span class="ident" id="8265506">Errorf</span><span class="op" id="8265512">(</span><span class="string" id="8265513">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8265533">,</span>&nbsp;<span class="ident" id="8265535">stext</span><span class="op" id="8265540">,</span>&nbsp;<span class="ident" id="8265542">text</span><span class="op" id="8265546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265549">}</span>&nbsp;<span class="keyword" id="8265551">else</span>&nbsp;<span class="op" id="8265556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8265560">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265603">stext</span>&nbsp;<span class="op" id="8265609">=</span>&nbsp;<span class="ident" id="8265611">s</span><span class="op" id="8265612">.</span><span class="ident" id="8265613">TokenText</span><span class="op" id="8265622">(</span><span class="op" id="8265623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265627">if</span>&nbsp;<span class="ident" id="8265630">stext</span>&nbsp;<span class="op" id="8265636">!=</span>&nbsp;<span class="ident" id="8265639">text</span>&nbsp;<span class="op" id="8265644">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265649">t</span><span class="op" id="8265650">.</span><span class="ident" id="8265651">Errorf</span><span class="op" id="8265657">(</span><span class="string" id="8265658">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="8265698">,</span>&nbsp;<span class="ident" id="8265700">stext</span><span class="op" id="8265705">,</span>&nbsp;<span class="ident" id="8265707">text</span><span class="op" id="8265711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265718">}</span><br>
<span class="lineno"></span><span class="op" id="8265720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="8265723">func</span>&nbsp;<span class="ident" id="8265728">countNewlines</span><span class="op" id="8265741">(</span><span class="ident" id="8265742">s</span>&nbsp;<span class="builtintype" id="8265744">string</span><span class="op" id="8265750">)</span>&nbsp;<span class="builtintype" id="8265752">int</span>&nbsp;<span class="op" id="8265756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265759">n</span>&nbsp;<span class="op" id="8265761">:=</span>&nbsp;<span class="num" id="8265764">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265767">for</span>&nbsp;<span class="ident" id="8265771">_</span><span class="op" id="8265772">,</span>&nbsp;<span class="ident" id="8265774">ch</span>&nbsp;<span class="op" id="8265777">:=</span>&nbsp;<span class="keyword" id="8265780">range</span>&nbsp;<span class="ident" id="8265786">s</span>&nbsp;<span class="op" id="8265788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265792">if</span>&nbsp;<span class="ident" id="8265795">ch</span>&nbsp;<span class="op" id="8265798">==</span>&nbsp;<span class="string" id="8265801">&#39;\n&#39;</span>&nbsp;<span class="op" id="8265806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265811">n</span><span class="op" id="8265812">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8265820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265823">return</span>&nbsp;<span class="ident" id="8265830">n</span><br>
<span class="lineno"></span><span class="op" id="8265832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="8265835">func</span>&nbsp;<span class="ident" id="8265840">testScan</span><span class="op" id="8265848">(</span><span class="ident" id="8265849">t</span>&nbsp;<span class="op" id="8265851">*</span><span class="ident" id="8265852">testing</span><span class="op" id="8265859">.</span><span class="ident" id="8265860">T</span><span class="op" id="8265861">,</span>&nbsp;<span class="ident" id="8265863">mode</span>&nbsp;<span class="builtintype" id="8265868">uint</span><span class="op" id="8265872">)</span>&nbsp;<span class="op" id="8265874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265877">s</span>&nbsp;<span class="op" id="8265879">:=</span>&nbsp;<span class="builtinfunc" id="8265882">new</span><span class="op" id="8265885">(</span><span class="ident" id="8265886">Scanner</span><span class="op" id="8265893">)</span><span class="op" id="8265894">.</span><span class="ident" id="8265895">Init</span><span class="op" id="8265899">(</span><span class="ident" id="8265900">makeSource</span><span class="op" id="8265910">(</span><span class="string" id="8265911">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="8265920">)</span><span class="op" id="8265921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265924">s</span><span class="op" id="8265925">.</span><span class="ident" id="8265926">Mode</span>&nbsp;<span class="op" id="8265931">=</span>&nbsp;<span class="ident" id="8265933">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265939">tok</span>&nbsp;<span class="op" id="8265943">:=</span>&nbsp;<span class="ident" id="8265946">s</span><span class="op" id="8265947">.</span><span class="ident" id="8265948">Scan</span><span class="op" id="8265952">(</span><span class="op" id="8265953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8265956">line</span>&nbsp;<span class="op" id="8265961">:=</span>&nbsp;<span class="num" id="8265964">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265967">for</span>&nbsp;<span class="ident" id="8265971">_</span><span class="op" id="8265972">,</span>&nbsp;<span class="ident" id="8265974">k</span>&nbsp;<span class="op" id="8265976">:=</span>&nbsp;<span class="keyword" id="8265979">range</span>&nbsp;<span class="ident" id="8265985">tokenList</span>&nbsp;<span class="op" id="8265995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8265999">if</span>&nbsp;<span class="ident" id="8266002">mode</span><span class="op" id="8266006">&amp;</span><span class="ident" id="8266007">SkipComments</span>&nbsp;<span class="op" id="8266020">==</span>&nbsp;<span class="num" id="8266023">0</span>&nbsp;<span class="op" id="8266025">||</span>&nbsp;<span class="ident" id="8266028">k</span><span class="op" id="8266029">.</span><span class="ident" id="8266030">tok</span>&nbsp;<span class="op" id="8266034">!=</span>&nbsp;<span class="ident" id="8266037">Comment</span>&nbsp;<span class="op" id="8266045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266050">checkTok</span><span class="op" id="8266058">(</span><span class="ident" id="8266059">t</span><span class="op" id="8266060">,</span>&nbsp;<span class="ident" id="8266062">s</span><span class="op" id="8266063">,</span>&nbsp;<span class="ident" id="8266065">line</span><span class="op" id="8266069">,</span>&nbsp;<span class="ident" id="8266071">tok</span><span class="op" id="8266074">,</span>&nbsp;<span class="ident" id="8266076">k</span><span class="op" id="8266077">.</span><span class="ident" id="8266078">tok</span><span class="op" id="8266081">,</span>&nbsp;<span class="ident" id="8266083">k</span><span class="op" id="8266084">.</span><span class="ident" id="8266085">text</span><span class="op" id="8266089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266094">tok</span>&nbsp;<span class="op" id="8266098">=</span>&nbsp;<span class="ident" id="8266100">s</span><span class="op" id="8266101">.</span><span class="ident" id="8266102">Scan</span><span class="op" id="8266106">(</span><span class="op" id="8266107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266111">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266115">line</span>&nbsp;<span class="op" id="8266120">+=</span>&nbsp;<span class="ident" id="8266123">countNewlines</span><span class="op" id="8266136">(</span><span class="ident" id="8266137">k</span><span class="op" id="8266138">.</span><span class="ident" id="8266139">text</span><span class="op" id="8266143">)</span>&nbsp;<span class="op" id="8266145">+</span>&nbsp;<span class="num" id="8266147">1</span>&nbsp;<span class="comment" id="8266149">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266184">checkTok</span><span class="op" id="8266192">(</span><span class="ident" id="8266193">t</span><span class="op" id="8266194">,</span>&nbsp;<span class="ident" id="8266196">s</span><span class="op" id="8266197">,</span>&nbsp;<span class="ident" id="8266199">line</span><span class="op" id="8266203">,</span>&nbsp;<span class="ident" id="8266205">tok</span><span class="op" id="8266208">,</span>&nbsp;<span class="ident" id="8266210">EOF</span><span class="op" id="8266213">,</span>&nbsp;<span class="string" id="8266215">&#34;&#34;</span><span class="op" id="8266217">)</span><br>
<span class="lineno"></span><span class="op" id="8266219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="8266222">func</span>&nbsp;<span class="ident" id="8266227">TestScan</span><span class="op" id="8266235">(</span><span class="ident" id="8266236">t</span>&nbsp;<span class="op" id="8266238">*</span><span class="ident" id="8266239">testing</span><span class="op" id="8266246">.</span><span class="ident" id="8266247">T</span><span class="op" id="8266248">)</span>&nbsp;<span class="op" id="8266250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266253">testScan</span><span class="op" id="8266261">(</span><span class="ident" id="8266262">t</span><span class="op" id="8266263">,</span>&nbsp;<span class="ident" id="8266265">GoTokens</span><span class="op" id="8266273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266276">testScan</span><span class="op" id="8266284">(</span><span class="ident" id="8266285">t</span><span class="op" id="8266286">,</span>&nbsp;<span class="ident" id="8266288">GoTokens</span><span class="op" id="8266296">&amp;^</span><span class="ident" id="8266298">SkipComments</span><span class="op" id="8266310">)</span><br>
<span class="lineno"></span><span class="op" id="8266312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="8266315">func</span>&nbsp;<span class="ident" id="8266320">TestPosition</span><span class="op" id="8266332">(</span><span class="ident" id="8266333">t</span>&nbsp;<span class="op" id="8266335">*</span><span class="ident" id="8266336">testing</span><span class="op" id="8266343">.</span><span class="ident" id="8266344">T</span><span class="op" id="8266345">)</span>&nbsp;<span class="op" id="8266347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266350">src</span>&nbsp;<span class="op" id="8266354">:=</span>&nbsp;<span class="ident" id="8266357">makeSource</span><span class="op" id="8266367">(</span><span class="string" id="8266368">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="8266382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266385">s</span>&nbsp;<span class="op" id="8266387">:=</span>&nbsp;<span class="builtinfunc" id="8266390">new</span><span class="op" id="8266393">(</span><span class="ident" id="8266394">Scanner</span><span class="op" id="8266401">)</span><span class="op" id="8266402">.</span><span class="ident" id="8266403">Init</span><span class="op" id="8266407">(</span><span class="ident" id="8266408">src</span><span class="op" id="8266411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266414">s</span><span class="op" id="8266415">.</span><span class="ident" id="8266416">Mode</span>&nbsp;<span class="op" id="8266421">=</span>&nbsp;<span class="ident" id="8266423">GoTokens</span>&nbsp;<span class="op" id="8266432">&amp;^</span>&nbsp;<span class="ident" id="8266435">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266449">s</span><span class="op" id="8266450">.</span><span class="ident" id="8266451">Scan</span><span class="op" id="8266455">(</span><span class="op" id="8266456">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266459">pos</span>&nbsp;<span class="op" id="8266463">:=</span>&nbsp;<span class="ident" id="8266466">Position</span><span class="op" id="8266474">{</span><span class="string" id="8266475">&#34;&#34;</span><span class="op" id="8266477">,</span>&nbsp;<span class="num" id="8266479">4</span><span class="op" id="8266480">,</span>&nbsp;<span class="num" id="8266482">1</span><span class="op" id="8266483">,</span>&nbsp;<span class="num" id="8266485">5</span><span class="op" id="8266486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266489">for</span>&nbsp;<span class="ident" id="8266493">_</span><span class="op" id="8266494">,</span>&nbsp;<span class="ident" id="8266496">k</span>&nbsp;<span class="op" id="8266498">:=</span>&nbsp;<span class="keyword" id="8266501">range</span>&nbsp;<span class="ident" id="8266507">tokenList</span>&nbsp;<span class="op" id="8266517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266521">if</span>&nbsp;<span class="ident" id="8266524">s</span><span class="op" id="8266525">.</span><span class="ident" id="8266526">Offset</span>&nbsp;<span class="op" id="8266533">!=</span>&nbsp;<span class="ident" id="8266536">pos</span><span class="op" id="8266539">.</span><span class="ident" id="8266540">Offset</span>&nbsp;<span class="op" id="8266547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266552">t</span><span class="op" id="8266553">.</span><span class="ident" id="8266554">Errorf</span><span class="op" id="8266560">(</span><span class="string" id="8266561">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8266590">,</span>&nbsp;<span class="ident" id="8266592">s</span><span class="op" id="8266593">.</span><span class="ident" id="8266594">Offset</span><span class="op" id="8266600">,</span>&nbsp;<span class="ident" id="8266602">pos</span><span class="op" id="8266605">.</span><span class="ident" id="8266606">Offset</span><span class="op" id="8266612">,</span>&nbsp;<span class="ident" id="8266614">k</span><span class="op" id="8266615">.</span><span class="ident" id="8266616">text</span><span class="op" id="8266620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266624">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266628">if</span>&nbsp;<span class="ident" id="8266631">s</span><span class="op" id="8266632">.</span><span class="ident" id="8266633">Line</span>&nbsp;<span class="op" id="8266638">!=</span>&nbsp;<span class="ident" id="8266641">pos</span><span class="op" id="8266644">.</span><span class="ident" id="8266645">Line</span>&nbsp;<span class="op" id="8266650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266655">t</span><span class="op" id="8266656">.</span><span class="ident" id="8266657">Errorf</span><span class="op" id="8266663">(</span><span class="string" id="8266664">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8266691">,</span>&nbsp;<span class="ident" id="8266693">s</span><span class="op" id="8266694">.</span><span class="ident" id="8266695">Line</span><span class="op" id="8266699">,</span>&nbsp;<span class="ident" id="8266701">pos</span><span class="op" id="8266704">.</span><span class="ident" id="8266705">Line</span><span class="op" id="8266709">,</span>&nbsp;<span class="ident" id="8266711">k</span><span class="op" id="8266712">.</span><span class="ident" id="8266713">text</span><span class="op" id="8266717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8266725">if</span>&nbsp;<span class="ident" id="8266728">s</span><span class="op" id="8266729">.</span><span class="ident" id="8266730">Column</span>&nbsp;<span class="op" id="8266737">!=</span>&nbsp;<span class="ident" id="8266740">pos</span><span class="op" id="8266743">.</span><span class="ident" id="8266744">Column</span>&nbsp;<span class="op" id="8266751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266756">t</span><span class="op" id="8266757">.</span><span class="ident" id="8266758">Errorf</span><span class="op" id="8266764">(</span><span class="string" id="8266765">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8266794">,</span>&nbsp;<span class="ident" id="8266796">s</span><span class="op" id="8266797">.</span><span class="ident" id="8266798">Column</span><span class="op" id="8266804">,</span>&nbsp;<span class="ident" id="8266806">pos</span><span class="op" id="8266809">.</span><span class="ident" id="8266810">Column</span><span class="op" id="8266816">,</span>&nbsp;<span class="ident" id="8266818">k</span><span class="op" id="8266819">.</span><span class="ident" id="8266820">text</span><span class="op" id="8266824">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266832">pos</span><span class="op" id="8266835">.</span><span class="ident" id="8266836">Offset</span>&nbsp;<span class="op" id="8266843">+=</span>&nbsp;<span class="num" id="8266846">4</span>&nbsp;<span class="op" id="8266848">+</span>&nbsp;<span class="builtinfunc" id="8266850">len</span><span class="op" id="8266853">(</span><span class="ident" id="8266854">k</span><span class="op" id="8266855">.</span><span class="ident" id="8266856">text</span><span class="op" id="8266860">)</span>&nbsp;<span class="op" id="8266862">+</span>&nbsp;<span class="num" id="8266864">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8266870">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266906">pos</span><span class="op" id="8266909">.</span><span class="ident" id="8266910">Line</span>&nbsp;<span class="op" id="8266915">+=</span>&nbsp;<span class="ident" id="8266918">countNewlines</span><span class="op" id="8266931">(</span><span class="ident" id="8266932">k</span><span class="op" id="8266933">.</span><span class="ident" id="8266934">text</span><span class="op" id="8266938">)</span>&nbsp;<span class="op" id="8266940">+</span>&nbsp;<span class="num" id="8266942">1</span>&nbsp;<span class="comment" id="8266944">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8266977">s</span><span class="op" id="8266978">.</span><span class="ident" id="8266979">Scan</span><span class="op" id="8266983">(</span><span class="op" id="8266984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8266987">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8266990">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267060">if</span>&nbsp;<span class="ident" id="8267063">s</span><span class="op" id="8267064">.</span><span class="ident" id="8267065">ErrorCount</span>&nbsp;<span class="op" id="8267076">!=</span>&nbsp;<span class="num" id="8267079">0</span>&nbsp;<span class="op" id="8267081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267085">t</span><span class="op" id="8267086">.</span><span class="ident" id="8267087">Errorf</span><span class="op" id="8267093">(</span><span class="string" id="8267094">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8267105">,</span>&nbsp;<span class="ident" id="8267107">s</span><span class="op" id="8267108">.</span><span class="ident" id="8267109">ErrorCount</span><span class="op" id="8267119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267122">}</span><br>
<span class="lineno"></span><span class="op" id="8267124">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="8267127">func</span>&nbsp;<span class="ident" id="8267132">TestScanZeroMode</span><span class="op" id="8267148">(</span><span class="ident" id="8267149">t</span>&nbsp;<span class="op" id="8267151">*</span><span class="ident" id="8267152">testing</span><span class="op" id="8267159">.</span><span class="ident" id="8267160">T</span><span class="op" id="8267161">)</span>&nbsp;<span class="op" id="8267163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267166">src</span>&nbsp;<span class="op" id="8267170">:=</span>&nbsp;<span class="ident" id="8267173">makeSource</span><span class="op" id="8267183">(</span><span class="string" id="8267184">&#34;%s\n&#34;</span><span class="op" id="8267190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267193">str</span>&nbsp;<span class="op" id="8267197">:=</span>&nbsp;<span class="ident" id="8267200">src</span><span class="op" id="8267203">.</span><span class="ident" id="8267204">String</span><span class="op" id="8267210">(</span><span class="op" id="8267211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267214">s</span>&nbsp;<span class="op" id="8267216">:=</span>&nbsp;<span class="builtinfunc" id="8267219">new</span><span class="op" id="8267222">(</span><span class="ident" id="8267223">Scanner</span><span class="op" id="8267230">)</span><span class="op" id="8267231">.</span><span class="ident" id="8267232">Init</span><span class="op" id="8267236">(</span><span class="ident" id="8267237">src</span><span class="op" id="8267240">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267243">s</span><span class="op" id="8267244">.</span><span class="ident" id="8267245">Mode</span>&nbsp;<span class="op" id="8267250">=</span>&nbsp;<span class="num" id="8267252">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8267260">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267298">s</span><span class="op" id="8267299">.</span><span class="ident" id="8267300">Whitespace</span>&nbsp;<span class="op" id="8267311">=</span>&nbsp;<span class="num" id="8267313">0</span>&nbsp;<span class="comment" id="8267315">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267345">tok</span>&nbsp;<span class="op" id="8267349">:=</span>&nbsp;<span class="ident" id="8267352">s</span><span class="op" id="8267353">.</span><span class="ident" id="8267354">Scan</span><span class="op" id="8267358">(</span><span class="op" id="8267359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267362">for</span>&nbsp;<span class="ident" id="8267366">i</span><span class="op" id="8267367">,</span>&nbsp;<span class="ident" id="8267369">ch</span>&nbsp;<span class="op" id="8267372">:=</span>&nbsp;<span class="keyword" id="8267375">range</span>&nbsp;<span class="ident" id="8267381">str</span>&nbsp;<span class="op" id="8267385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267389">if</span>&nbsp;<span class="ident" id="8267392">tok</span>&nbsp;<span class="op" id="8267396">!=</span>&nbsp;<span class="ident" id="8267399">ch</span>&nbsp;<span class="op" id="8267402">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267407">t</span><span class="op" id="8267408">.</span><span class="ident" id="8267409">Fatalf</span><span class="op" id="8267415">(</span><span class="string" id="8267416">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8267439">,</span>&nbsp;<span class="ident" id="8267441">i</span><span class="op" id="8267442">,</span>&nbsp;<span class="ident" id="8267444">TokenString</span><span class="op" id="8267455">(</span><span class="ident" id="8267456">tok</span><span class="op" id="8267459">)</span><span class="op" id="8267460">,</span>&nbsp;<span class="ident" id="8267462">TokenString</span><span class="op" id="8267473">(</span><span class="ident" id="8267474">ch</span><span class="op" id="8267476">)</span><span class="op" id="8267477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267485">tok</span>&nbsp;<span class="op" id="8267489">=</span>&nbsp;<span class="ident" id="8267491">s</span><span class="op" id="8267492">.</span><span class="ident" id="8267493">Scan</span><span class="op" id="8267497">(</span><span class="op" id="8267498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267504">if</span>&nbsp;<span class="ident" id="8267507">tok</span>&nbsp;<span class="op" id="8267511">!=</span>&nbsp;<span class="ident" id="8267514">EOF</span>&nbsp;<span class="op" id="8267518">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267522">t</span><span class="op" id="8267523">.</span><span class="ident" id="8267524">Fatalf</span><span class="op" id="8267530">(</span><span class="string" id="8267531">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="8267551">,</span>&nbsp;<span class="ident" id="8267553">TokenString</span><span class="op" id="8267564">(</span><span class="ident" id="8267565">tok</span><span class="op" id="8267568">)</span><span class="op" id="8267569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267575">if</span>&nbsp;<span class="ident" id="8267578">s</span><span class="op" id="8267579">.</span><span class="ident" id="8267580">ErrorCount</span>&nbsp;<span class="op" id="8267591">!=</span>&nbsp;<span class="num" id="8267594">0</span>&nbsp;<span class="op" id="8267596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267600">t</span><span class="op" id="8267601">.</span><span class="ident" id="8267602">Errorf</span><span class="op" id="8267608">(</span><span class="string" id="8267609">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8267620">,</span>&nbsp;<span class="ident" id="8267622">s</span><span class="op" id="8267623">.</span><span class="ident" id="8267624">ErrorCount</span><span class="op" id="8267634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267637">}</span><br>
<span class="lineno">330</span><span class="op" id="8267639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8267642">func</span>&nbsp;<span class="ident" id="8267647">testScanSelectedMode</span><span class="op" id="8267667">(</span><span class="ident" id="8267668">t</span>&nbsp;<span class="op" id="8267670">*</span><span class="ident" id="8267671">testing</span><span class="op" id="8267678">.</span><span class="ident" id="8267679">T</span><span class="op" id="8267680">,</span>&nbsp;<span class="ident" id="8267682">mode</span>&nbsp;<span class="builtintype" id="8267687">uint</span><span class="op" id="8267691">,</span>&nbsp;<span class="ident" id="8267693">class</span>&nbsp;<span class="builtintype" id="8267699">rune</span><span class="op" id="8267703">)</span>&nbsp;<span class="op" id="8267705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267708">src</span>&nbsp;<span class="op" id="8267712">:=</span>&nbsp;<span class="ident" id="8267715">makeSource</span><span class="op" id="8267725">(</span><span class="string" id="8267726">&#34;%s\n&#34;</span><span class="op" id="8267732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267735">s</span>&nbsp;<span class="op" id="8267737">:=</span>&nbsp;<span class="builtinfunc" id="8267740">new</span><span class="op" id="8267743">(</span><span class="ident" id="8267744">Scanner</span><span class="op" id="8267751">)</span><span class="op" id="8267752">.</span><span class="ident" id="8267753">Init</span><span class="op" id="8267757">(</span><span class="ident" id="8267758">src</span><span class="op" id="8267761">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267764">s</span><span class="op" id="8267765">.</span><span class="ident" id="8267766">Mode</span>&nbsp;<span class="op" id="8267771">=</span>&nbsp;<span class="ident" id="8267773">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267779">tok</span>&nbsp;<span class="op" id="8267783">:=</span>&nbsp;<span class="ident" id="8267786">s</span><span class="op" id="8267787">.</span><span class="ident" id="8267788">Scan</span><span class="op" id="8267792">(</span><span class="op" id="8267793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267796">for</span>&nbsp;<span class="ident" id="8267800">tok</span>&nbsp;<span class="op" id="8267804">!=</span>&nbsp;<span class="ident" id="8267807">EOF</span>&nbsp;<span class="op" id="8267811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267815">if</span>&nbsp;<span class="ident" id="8267818">tok</span>&nbsp;<span class="op" id="8267822">&lt;</span>&nbsp;<span class="num" id="8267824">0</span>&nbsp;<span class="op" id="8267826">&amp;&amp;</span>&nbsp;<span class="ident" id="8267829">tok</span>&nbsp;<span class="op" id="8267833">!=</span>&nbsp;<span class="ident" id="8267836">class</span>&nbsp;<span class="op" id="8267842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267847">t</span><span class="op" id="8267848">.</span><span class="ident" id="8267849">Fatalf</span><span class="op" id="8267855">(</span><span class="string" id="8267856">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8267875">,</span>&nbsp;<span class="ident" id="8267877">TokenString</span><span class="op" id="8267888">(</span><span class="ident" id="8267889">tok</span><span class="op" id="8267892">)</span><span class="op" id="8267893">,</span>&nbsp;<span class="ident" id="8267895">TokenString</span><span class="op" id="8267906">(</span><span class="ident" id="8267907">class</span><span class="op" id="8267912">)</span><span class="op" id="8267913">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267921">tok</span>&nbsp;<span class="op" id="8267925">=</span>&nbsp;<span class="ident" id="8267927">s</span><span class="op" id="8267928">.</span><span class="ident" id="8267929">Scan</span><span class="op" id="8267933">(</span><span class="op" id="8267934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8267937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8267940">if</span>&nbsp;<span class="ident" id="8267943">s</span><span class="op" id="8267944">.</span><span class="ident" id="8267945">ErrorCount</span>&nbsp;<span class="op" id="8267956">!=</span>&nbsp;<span class="num" id="8267959">0</span>&nbsp;<span class="op" id="8267961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8267965">t</span><span class="op" id="8267966">.</span><span class="ident" id="8267967">Errorf</span><span class="op" id="8267973">(</span><span class="string" id="8267974">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8267985">,</span>&nbsp;<span class="ident" id="8267987">s</span><span class="op" id="8267988">.</span><span class="ident" id="8267989">ErrorCount</span><span class="op" id="8267999">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8268002">}</span><br>
<span class="lineno"></span><span class="op" id="8268004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8268007">func</span>&nbsp;<span class="ident" id="8268012">TestScanSelectedMask</span><span class="op" id="8268032">(</span><span class="ident" id="8268033">t</span>&nbsp;<span class="op" id="8268035">*</span><span class="ident" id="8268036">testing</span><span class="op" id="8268043">.</span><span class="ident" id="8268044">T</span><span class="op" id="8268045">)</span>&nbsp;<span class="op" id="8268047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268050">testScanSelectedMode</span><span class="op" id="8268070">(</span><span class="ident" id="8268071">t</span><span class="op" id="8268072">,</span>&nbsp;<span class="num" id="8268074">0</span><span class="op" id="8268075">,</span>&nbsp;<span class="num" id="8268077">0</span><span class="op" id="8268078">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268081">testScanSelectedMode</span><span class="op" id="8268101">(</span><span class="ident" id="8268102">t</span><span class="op" id="8268103">,</span>&nbsp;<span class="ident" id="8268105">ScanIdents</span><span class="op" id="8268115">,</span>&nbsp;<span class="ident" id="8268117">Ident</span><span class="op" id="8268122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8268125">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8268185">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8268245">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268297">testScanSelectedMode</span><span class="op" id="8268317">(</span><span class="ident" id="8268318">t</span><span class="op" id="8268319">,</span>&nbsp;<span class="ident" id="8268321">ScanChars</span><span class="op" id="8268330">,</span>&nbsp;<span class="ident" id="8268332">Char</span><span class="op" id="8268336">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268339">testScanSelectedMode</span><span class="op" id="8268359">(</span><span class="ident" id="8268360">t</span><span class="op" id="8268361">,</span>&nbsp;<span class="ident" id="8268363">ScanStrings</span><span class="op" id="8268374">,</span>&nbsp;<span class="ident" id="8268376">String</span><span class="op" id="8268382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268385">testScanSelectedMode</span><span class="op" id="8268405">(</span><span class="ident" id="8268406">t</span><span class="op" id="8268407">,</span>&nbsp;<span class="ident" id="8268409">SkipComments</span><span class="op" id="8268421">,</span>&nbsp;<span class="num" id="8268423">0</span><span class="op" id="8268424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268427">testScanSelectedMode</span><span class="op" id="8268447">(</span><span class="ident" id="8268448">t</span><span class="op" id="8268449">,</span>&nbsp;<span class="ident" id="8268451">ScanComments</span><span class="op" id="8268463">,</span>&nbsp;<span class="ident" id="8268465">Comment</span><span class="op" id="8268472">)</span><br>
<span class="lineno"></span><span class="op" id="8268474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="8268477">func</span>&nbsp;<span class="ident" id="8268482">TestScanCustomIdent</span><span class="op" id="8268501">(</span><span class="ident" id="8268502">t</span>&nbsp;<span class="op" id="8268504">*</span><span class="ident" id="8268505">testing</span><span class="op" id="8268512">.</span><span class="ident" id="8268513">T</span><span class="op" id="8268514">)</span>&nbsp;<span class="op" id="8268516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268519">const</span>&nbsp;<span class="ident" id="8268525">src</span>&nbsp;<span class="op" id="8268529">=</span>&nbsp;<span class="string" id="8268531">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268559">s</span>&nbsp;<span class="op" id="8268561">:=</span>&nbsp;<span class="builtinfunc" id="8268564">new</span><span class="op" id="8268567">(</span><span class="ident" id="8268568">Scanner</span><span class="op" id="8268575">)</span><span class="op" id="8268576">.</span><span class="ident" id="8268577">Init</span><span class="op" id="8268581">(</span><span class="ident" id="8268582">strings</span><span class="op" id="8268589">.</span><span class="ident" id="8268590">NewReader</span><span class="op" id="8268599">(</span><span class="ident" id="8268600">src</span><span class="op" id="8268603">)</span><span class="op" id="8268604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8268607">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8268645">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8268670">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268701">s</span><span class="op" id="8268702">.</span><span class="ident" id="8268703">IsIdentRune</span>&nbsp;<span class="op" id="8268715">=</span>&nbsp;<span class="keyword" id="8268717">func</span><span class="op" id="8268721">(</span><span class="ident" id="8268722">ch</span>&nbsp;<span class="builtintype" id="8268725">rune</span><span class="op" id="8268729">,</span>&nbsp;<span class="ident" id="8268731">i</span>&nbsp;<span class="builtintype" id="8268733">int</span><span class="op" id="8268736">)</span>&nbsp;<span class="builtintype" id="8268738">bool</span>&nbsp;<span class="op" id="8268743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8268747">return</span>&nbsp;<span class="ident" id="8268754">i</span>&nbsp;<span class="op" id="8268756">==</span>&nbsp;<span class="num" id="8268759">0</span>&nbsp;<span class="op" id="8268761">&amp;&amp;</span>&nbsp;<span class="op" id="8268764">(</span><span class="ident" id="8268765">ch</span>&nbsp;<span class="op" id="8268768">==</span>&nbsp;<span class="string" id="8268771">&#39;a&#39;</span>&nbsp;<span class="op" id="8268775">||</span>&nbsp;<span class="ident" id="8268778">ch</span>&nbsp;<span class="op" id="8268781">==</span>&nbsp;<span class="string" id="8268784">&#39;b&#39;</span><span class="op" id="8268787">)</span>&nbsp;<span class="op" id="8268789">||</span>&nbsp;<span class="num" id="8268792">0</span>&nbsp;<span class="op" id="8268794">&lt;</span>&nbsp;<span class="ident" id="8268796">i</span>&nbsp;<span class="op" id="8268798">&amp;&amp;</span>&nbsp;<span class="ident" id="8268801">i</span>&nbsp;<span class="op" id="8268803">&lt;</span>&nbsp;<span class="num" id="8268805">4</span>&nbsp;<span class="op" id="8268807">&amp;&amp;</span>&nbsp;<span class="string" id="8268810">&#39;0&#39;</span>&nbsp;<span class="op" id="8268814">&lt;=</span>&nbsp;<span class="ident" id="8268817">ch</span>&nbsp;<span class="op" id="8268820">&amp;&amp;</span>&nbsp;<span class="ident" id="8268823">ch</span>&nbsp;<span class="op" id="8268826">&lt;=</span>&nbsp;<span class="string" id="8268829">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8268834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268837">checkTok</span><span class="op" id="8268845">(</span><span class="ident" id="8268846">t</span><span class="op" id="8268847">,</span>&nbsp;<span class="ident" id="8268849">s</span><span class="op" id="8268850">,</span>&nbsp;<span class="num" id="8268852">1</span><span class="op" id="8268853">,</span>&nbsp;<span class="ident" id="8268855">s</span><span class="op" id="8268856">.</span><span class="ident" id="8268857">Scan</span><span class="op" id="8268861">(</span><span class="op" id="8268862">)</span><span class="op" id="8268863">,</span>&nbsp;<span class="string" id="8268865">&#39;f&#39;</span><span class="op" id="8268868">,</span>&nbsp;<span class="string" id="8268870">&#34;f&#34;</span><span class="op" id="8268873">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268876">checkTok</span><span class="op" id="8268884">(</span><span class="ident" id="8268885">t</span><span class="op" id="8268886">,</span>&nbsp;<span class="ident" id="8268888">s</span><span class="op" id="8268889">,</span>&nbsp;<span class="num" id="8268891">1</span><span class="op" id="8268892">,</span>&nbsp;<span class="ident" id="8268894">s</span><span class="op" id="8268895">.</span><span class="ident" id="8268896">Scan</span><span class="op" id="8268900">(</span><span class="op" id="8268901">)</span><span class="op" id="8268902">,</span>&nbsp;<span class="ident" id="8268904">Ident</span><span class="op" id="8268909">,</span>&nbsp;<span class="string" id="8268911">&#34;a&#34;</span><span class="op" id="8268914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268917">checkTok</span><span class="op" id="8268925">(</span><span class="ident" id="8268926">t</span><span class="op" id="8268927">,</span>&nbsp;<span class="ident" id="8268929">s</span><span class="op" id="8268930">,</span>&nbsp;<span class="num" id="8268932">1</span><span class="op" id="8268933">,</span>&nbsp;<span class="ident" id="8268935">s</span><span class="op" id="8268936">.</span><span class="ident" id="8268937">Scan</span><span class="op" id="8268941">(</span><span class="op" id="8268942">)</span><span class="op" id="8268943">,</span>&nbsp;<span class="ident" id="8268945">Ident</span><span class="op" id="8268950">,</span>&nbsp;<span class="string" id="8268952">&#34;a&#34;</span><span class="op" id="8268955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8268958">checkTok</span><span class="op" id="8268966">(</span><span class="ident" id="8268967">t</span><span class="op" id="8268968">,</span>&nbsp;<span class="ident" id="8268970">s</span><span class="op" id="8268971">,</span>&nbsp;<span class="num" id="8268973">1</span><span class="op" id="8268974">,</span>&nbsp;<span class="ident" id="8268976">s</span><span class="op" id="8268977">.</span><span class="ident" id="8268978">Scan</span><span class="op" id="8268982">(</span><span class="op" id="8268983">)</span><span class="op" id="8268984">,</span>&nbsp;<span class="ident" id="8268986">Ident</span><span class="op" id="8268991">,</span>&nbsp;<span class="string" id="8268993">&#34;b123&#34;</span><span class="op" id="8268999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269002">checkTok</span><span class="op" id="8269010">(</span><span class="ident" id="8269011">t</span><span class="op" id="8269012">,</span>&nbsp;<span class="ident" id="8269014">s</span><span class="op" id="8269015">,</span>&nbsp;<span class="num" id="8269017">1</span><span class="op" id="8269018">,</span>&nbsp;<span class="ident" id="8269020">s</span><span class="op" id="8269021">.</span><span class="ident" id="8269022">Scan</span><span class="op" id="8269026">(</span><span class="op" id="8269027">)</span><span class="op" id="8269028">,</span>&nbsp;<span class="ident" id="8269030">Int</span><span class="op" id="8269033">,</span>&nbsp;<span class="string" id="8269035">&#34;45&#34;</span><span class="op" id="8269039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269042">checkTok</span><span class="op" id="8269050">(</span><span class="ident" id="8269051">t</span><span class="op" id="8269052">,</span>&nbsp;<span class="ident" id="8269054">s</span><span class="op" id="8269055">,</span>&nbsp;<span class="num" id="8269057">1</span><span class="op" id="8269058">,</span>&nbsp;<span class="ident" id="8269060">s</span><span class="op" id="8269061">.</span><span class="ident" id="8269062">Scan</span><span class="op" id="8269066">(</span><span class="op" id="8269067">)</span><span class="op" id="8269068">,</span>&nbsp;<span class="ident" id="8269070">Ident</span><span class="op" id="8269075">,</span>&nbsp;<span class="string" id="8269077">&#34;a12&#34;</span><span class="op" id="8269082">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269085">checkTok</span><span class="op" id="8269093">(</span><span class="ident" id="8269094">t</span><span class="op" id="8269095">,</span>&nbsp;<span class="ident" id="8269097">s</span><span class="op" id="8269098">,</span>&nbsp;<span class="num" id="8269100">1</span><span class="op" id="8269101">,</span>&nbsp;<span class="ident" id="8269103">s</span><span class="op" id="8269104">.</span><span class="ident" id="8269105">Scan</span><span class="op" id="8269109">(</span><span class="op" id="8269110">)</span><span class="op" id="8269111">,</span>&nbsp;<span class="ident" id="8269113">Ident</span><span class="op" id="8269118">,</span>&nbsp;<span class="string" id="8269120">&#34;b123&#34;</span><span class="op" id="8269126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269129">checkTok</span><span class="op" id="8269137">(</span><span class="ident" id="8269138">t</span><span class="op" id="8269139">,</span>&nbsp;<span class="ident" id="8269141">s</span><span class="op" id="8269142">,</span>&nbsp;<span class="num" id="8269144">1</span><span class="op" id="8269145">,</span>&nbsp;<span class="ident" id="8269147">s</span><span class="op" id="8269148">.</span><span class="ident" id="8269149">Scan</span><span class="op" id="8269153">(</span><span class="op" id="8269154">)</span><span class="op" id="8269155">,</span>&nbsp;<span class="ident" id="8269157">Ident</span><span class="op" id="8269162">,</span>&nbsp;<span class="string" id="8269164">&#34;a12&#34;</span><span class="op" id="8269169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269172">checkTok</span><span class="op" id="8269180">(</span><span class="ident" id="8269181">t</span><span class="op" id="8269182">,</span>&nbsp;<span class="ident" id="8269184">s</span><span class="op" id="8269185">,</span>&nbsp;<span class="num" id="8269187">1</span><span class="op" id="8269188">,</span>&nbsp;<span class="ident" id="8269190">s</span><span class="op" id="8269191">.</span><span class="ident" id="8269192">Scan</span><span class="op" id="8269196">(</span><span class="op" id="8269197">)</span><span class="op" id="8269198">,</span>&nbsp;<span class="ident" id="8269200">Int</span><span class="op" id="8269203">,</span>&nbsp;<span class="string" id="8269205">&#34;3&#34;</span><span class="op" id="8269208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269211">checkTok</span><span class="op" id="8269219">(</span><span class="ident" id="8269220">t</span><span class="op" id="8269221">,</span>&nbsp;<span class="ident" id="8269223">s</span><span class="op" id="8269224">,</span>&nbsp;<span class="num" id="8269226">1</span><span class="op" id="8269227">,</span>&nbsp;<span class="ident" id="8269229">s</span><span class="op" id="8269230">.</span><span class="ident" id="8269231">Scan</span><span class="op" id="8269235">(</span><span class="op" id="8269236">)</span><span class="op" id="8269237">,</span>&nbsp;<span class="ident" id="8269239">Ident</span><span class="op" id="8269244">,</span>&nbsp;<span class="string" id="8269246">&#34;b&#34;</span><span class="op" id="8269249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269252">checkTok</span><span class="op" id="8269260">(</span><span class="ident" id="8269261">t</span><span class="op" id="8269262">,</span>&nbsp;<span class="ident" id="8269264">s</span><span class="op" id="8269265">,</span>&nbsp;<span class="num" id="8269267">1</span><span class="op" id="8269268">,</span>&nbsp;<span class="ident" id="8269270">s</span><span class="op" id="8269271">.</span><span class="ident" id="8269272">Scan</span><span class="op" id="8269276">(</span><span class="op" id="8269277">)</span><span class="op" id="8269278">,</span>&nbsp;<span class="ident" id="8269280">EOF</span><span class="op" id="8269283">,</span>&nbsp;<span class="string" id="8269285">&#34;&#34;</span><span class="op" id="8269287">)</span><br>
<span class="lineno">380</span><span class="op" id="8269289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8269292">func</span>&nbsp;<span class="ident" id="8269297">TestScanNext</span><span class="op" id="8269309">(</span><span class="ident" id="8269310">t</span>&nbsp;<span class="op" id="8269312">*</span><span class="ident" id="8269313">testing</span><span class="op" id="8269320">.</span><span class="ident" id="8269321">T</span><span class="op" id="8269322">)</span>&nbsp;<span class="op" id="8269324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8269327">const</span>&nbsp;<span class="ident" id="8269333">BOM</span>&nbsp;<span class="op" id="8269337">=</span>&nbsp;<span class="string" id="8269339">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269349">BOMs</span>&nbsp;<span class="op" id="8269354">:=</span>&nbsp;<span class="builtintype" id="8269357">string</span><span class="op" id="8269363">(</span><span class="ident" id="8269364">BOM</span><span class="op" id="8269367">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269370">s</span>&nbsp;<span class="op" id="8269372">:=</span>&nbsp;<span class="builtinfunc" id="8269375">new</span><span class="op" id="8269378">(</span><span class="ident" id="8269379">Scanner</span><span class="op" id="8269386">)</span><span class="op" id="8269387">.</span><span class="ident" id="8269388">Init</span><span class="op" id="8269392">(</span><span class="ident" id="8269393">strings</span><span class="op" id="8269400">.</span><span class="ident" id="8269401">NewReader</span><span class="op" id="8269410">(</span><span class="ident" id="8269411">BOMs</span>&nbsp;<span class="op" id="8269416">+</span>&nbsp;<span class="string" id="8269418">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="8269439">+</span>&nbsp;<span class="ident" id="8269441">BOMs</span>&nbsp;<span class="op" id="8269446">+</span>&nbsp;<span class="string" id="8269448">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="8269473">+</span>&nbsp;<span class="ident" id="8269475">BOMs</span>&nbsp;<span class="op" id="8269480">+</span>&nbsp;<span class="string" id="8269482">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="8269513">)</span><span class="op" id="8269514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269517">checkTok</span><span class="op" id="8269525">(</span><span class="ident" id="8269526">t</span><span class="op" id="8269527">,</span>&nbsp;<span class="ident" id="8269529">s</span><span class="op" id="8269530">,</span>&nbsp;<span class="num" id="8269532">1</span><span class="op" id="8269533">,</span>&nbsp;<span class="ident" id="8269535">s</span><span class="op" id="8269536">.</span><span class="ident" id="8269537">Scan</span><span class="op" id="8269541">(</span><span class="op" id="8269542">)</span><span class="op" id="8269543">,</span>&nbsp;<span class="ident" id="8269545">Ident</span><span class="op" id="8269550">,</span>&nbsp;<span class="string" id="8269552">&#34;if&#34;</span><span class="op" id="8269556">)</span>&nbsp;<span class="comment" id="8269558">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269587">checkTok</span><span class="op" id="8269595">(</span><span class="ident" id="8269596">t</span><span class="op" id="8269597">,</span>&nbsp;<span class="ident" id="8269599">s</span><span class="op" id="8269600">,</span>&nbsp;<span class="num" id="8269602">1</span><span class="op" id="8269603">,</span>&nbsp;<span class="ident" id="8269605">s</span><span class="op" id="8269606">.</span><span class="ident" id="8269607">Scan</span><span class="op" id="8269611">(</span><span class="op" id="8269612">)</span><span class="op" id="8269613">,</span>&nbsp;<span class="ident" id="8269615">Ident</span><span class="op" id="8269620">,</span>&nbsp;<span class="string" id="8269622">&#34;a&#34;</span><span class="op" id="8269625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269628">checkTok</span><span class="op" id="8269636">(</span><span class="ident" id="8269637">t</span><span class="op" id="8269638">,</span>&nbsp;<span class="ident" id="8269640">s</span><span class="op" id="8269641">,</span>&nbsp;<span class="num" id="8269643">1</span><span class="op" id="8269644">,</span>&nbsp;<span class="ident" id="8269646">s</span><span class="op" id="8269647">.</span><span class="ident" id="8269648">Scan</span><span class="op" id="8269652">(</span><span class="op" id="8269653">)</span><span class="op" id="8269654">,</span>&nbsp;<span class="string" id="8269656">&#39;=&#39;</span><span class="op" id="8269659">,</span>&nbsp;<span class="string" id="8269661">&#34;=&#34;</span><span class="op" id="8269664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269667">checkTok</span><span class="op" id="8269675">(</span><span class="ident" id="8269676">t</span><span class="op" id="8269677">,</span>&nbsp;<span class="ident" id="8269679">s</span><span class="op" id="8269680">,</span>&nbsp;<span class="num" id="8269682">0</span><span class="op" id="8269683">,</span>&nbsp;<span class="ident" id="8269685">s</span><span class="op" id="8269686">.</span><span class="ident" id="8269687">Next</span><span class="op" id="8269691">(</span><span class="op" id="8269692">)</span><span class="op" id="8269693">,</span>&nbsp;<span class="string" id="8269695">&#39;=&#39;</span><span class="op" id="8269698">,</span>&nbsp;<span class="string" id="8269700">&#34;&#34;</span><span class="op" id="8269702">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269705">checkTok</span><span class="op" id="8269713">(</span><span class="ident" id="8269714">t</span><span class="op" id="8269715">,</span>&nbsp;<span class="ident" id="8269717">s</span><span class="op" id="8269718">,</span>&nbsp;<span class="num" id="8269720">0</span><span class="op" id="8269721">,</span>&nbsp;<span class="ident" id="8269723">s</span><span class="op" id="8269724">.</span><span class="ident" id="8269725">Next</span><span class="op" id="8269729">(</span><span class="op" id="8269730">)</span><span class="op" id="8269731">,</span>&nbsp;<span class="string" id="8269733">&#39;&nbsp;&#39;</span><span class="op" id="8269736">,</span>&nbsp;<span class="string" id="8269738">&#34;&#34;</span><span class="op" id="8269740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269743">checkTok</span><span class="op" id="8269751">(</span><span class="ident" id="8269752">t</span><span class="op" id="8269753">,</span>&nbsp;<span class="ident" id="8269755">s</span><span class="op" id="8269756">,</span>&nbsp;<span class="num" id="8269758">0</span><span class="op" id="8269759">,</span>&nbsp;<span class="ident" id="8269761">s</span><span class="op" id="8269762">.</span><span class="ident" id="8269763">Next</span><span class="op" id="8269767">(</span><span class="op" id="8269768">)</span><span class="op" id="8269769">,</span>&nbsp;<span class="string" id="8269771">&#39;b&#39;</span><span class="op" id="8269774">,</span>&nbsp;<span class="string" id="8269776">&#34;&#34;</span><span class="op" id="8269778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269781">checkTok</span><span class="op" id="8269789">(</span><span class="ident" id="8269790">t</span><span class="op" id="8269791">,</span>&nbsp;<span class="ident" id="8269793">s</span><span class="op" id="8269794">,</span>&nbsp;<span class="num" id="8269796">1</span><span class="op" id="8269797">,</span>&nbsp;<span class="ident" id="8269799">s</span><span class="op" id="8269800">.</span><span class="ident" id="8269801">Scan</span><span class="op" id="8269805">(</span><span class="op" id="8269806">)</span><span class="op" id="8269807">,</span>&nbsp;<span class="ident" id="8269809">Ident</span><span class="op" id="8269814">,</span>&nbsp;<span class="string" id="8269816">&#34;cd&#34;</span><span class="op" id="8269820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269823">checkTok</span><span class="op" id="8269831">(</span><span class="ident" id="8269832">t</span><span class="op" id="8269833">,</span>&nbsp;<span class="ident" id="8269835">s</span><span class="op" id="8269836">,</span>&nbsp;<span class="num" id="8269838">1</span><span class="op" id="8269839">,</span>&nbsp;<span class="ident" id="8269841">s</span><span class="op" id="8269842">.</span><span class="ident" id="8269843">Scan</span><span class="op" id="8269847">(</span><span class="op" id="8269848">)</span><span class="op" id="8269849">,</span>&nbsp;<span class="string" id="8269851">&#39;{&#39;</span><span class="op" id="8269854">,</span>&nbsp;<span class="string" id="8269856">&#34;{&#34;</span><span class="op" id="8269859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269862">checkTok</span><span class="op" id="8269870">(</span><span class="ident" id="8269871">t</span><span class="op" id="8269872">,</span>&nbsp;<span class="ident" id="8269874">s</span><span class="op" id="8269875">,</span>&nbsp;<span class="num" id="8269877">2</span><span class="op" id="8269878">,</span>&nbsp;<span class="ident" id="8269880">s</span><span class="op" id="8269881">.</span><span class="ident" id="8269882">Scan</span><span class="op" id="8269886">(</span><span class="op" id="8269887">)</span><span class="op" id="8269888">,</span>&nbsp;<span class="ident" id="8269890">Ident</span><span class="op" id="8269895">,</span>&nbsp;<span class="string" id="8269897">&#34;a&#34;</span><span class="op" id="8269900">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269903">checkTok</span><span class="op" id="8269911">(</span><span class="ident" id="8269912">t</span><span class="op" id="8269913">,</span>&nbsp;<span class="ident" id="8269915">s</span><span class="op" id="8269916">,</span>&nbsp;<span class="num" id="8269918">2</span><span class="op" id="8269919">,</span>&nbsp;<span class="ident" id="8269921">s</span><span class="op" id="8269922">.</span><span class="ident" id="8269923">Scan</span><span class="op" id="8269927">(</span><span class="op" id="8269928">)</span><span class="op" id="8269929">,</span>&nbsp;<span class="string" id="8269931">&#39;+&#39;</span><span class="op" id="8269934">,</span>&nbsp;<span class="string" id="8269936">&#34;+&#34;</span><span class="op" id="8269939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269942">checkTok</span><span class="op" id="8269950">(</span><span class="ident" id="8269951">t</span><span class="op" id="8269952">,</span>&nbsp;<span class="ident" id="8269954">s</span><span class="op" id="8269955">,</span>&nbsp;<span class="num" id="8269957">0</span><span class="op" id="8269958">,</span>&nbsp;<span class="ident" id="8269960">s</span><span class="op" id="8269961">.</span><span class="ident" id="8269962">Next</span><span class="op" id="8269966">(</span><span class="op" id="8269967">)</span><span class="op" id="8269968">,</span>&nbsp;<span class="string" id="8269970">&#39;=&#39;</span><span class="op" id="8269973">,</span>&nbsp;<span class="string" id="8269975">&#34;&#34;</span><span class="op" id="8269977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8269980">checkTok</span><span class="op" id="8269988">(</span><span class="ident" id="8269989">t</span><span class="op" id="8269990">,</span>&nbsp;<span class="ident" id="8269992">s</span><span class="op" id="8269993">,</span>&nbsp;<span class="num" id="8269995">2</span><span class="op" id="8269996">,</span>&nbsp;<span class="ident" id="8269998">s</span><span class="op" id="8269999">.</span><span class="ident" id="8270000">Scan</span><span class="op" id="8270004">(</span><span class="op" id="8270005">)</span><span class="op" id="8270006">,</span>&nbsp;<span class="ident" id="8270008">Ident</span><span class="op" id="8270013">,</span>&nbsp;<span class="string" id="8270015">&#34;c&#34;</span><span class="op" id="8270018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270021">checkTok</span><span class="op" id="8270029">(</span><span class="ident" id="8270030">t</span><span class="op" id="8270031">,</span>&nbsp;<span class="ident" id="8270033">s</span><span class="op" id="8270034">,</span>&nbsp;<span class="num" id="8270036">3</span><span class="op" id="8270037">,</span>&nbsp;<span class="ident" id="8270039">s</span><span class="op" id="8270040">.</span><span class="ident" id="8270041">Scan</span><span class="op" id="8270045">(</span><span class="op" id="8270046">)</span><span class="op" id="8270047">,</span>&nbsp;<span class="string" id="8270049">&#39;}&#39;</span><span class="op" id="8270052">,</span>&nbsp;<span class="string" id="8270054">&#34;}&#34;</span><span class="op" id="8270057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270060">checkTok</span><span class="op" id="8270068">(</span><span class="ident" id="8270069">t</span><span class="op" id="8270070">,</span>&nbsp;<span class="ident" id="8270072">s</span><span class="op" id="8270073">,</span>&nbsp;<span class="num" id="8270075">3</span><span class="op" id="8270076">,</span>&nbsp;<span class="ident" id="8270078">s</span><span class="op" id="8270079">.</span><span class="ident" id="8270080">Scan</span><span class="op" id="8270084">(</span><span class="op" id="8270085">)</span><span class="op" id="8270086">,</span>&nbsp;<span class="ident" id="8270088">BOM</span><span class="op" id="8270091">,</span>&nbsp;<span class="ident" id="8270093">BOMs</span><span class="op" id="8270097">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270100">checkTok</span><span class="op" id="8270108">(</span><span class="ident" id="8270109">t</span><span class="op" id="8270110">,</span>&nbsp;<span class="ident" id="8270112">s</span><span class="op" id="8270113">,</span>&nbsp;<span class="num" id="8270115">3</span><span class="op" id="8270116">,</span>&nbsp;<span class="ident" id="8270118">s</span><span class="op" id="8270119">.</span><span class="ident" id="8270120">Scan</span><span class="op" id="8270124">(</span><span class="op" id="8270125">)</span><span class="op" id="8270126">,</span>&nbsp;<span class="op" id="8270128">-</span><span class="num" id="8270129">1</span><span class="op" id="8270130">,</span>&nbsp;<span class="string" id="8270132">&#34;&#34;</span><span class="op" id="8270134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270137">if</span>&nbsp;<span class="ident" id="8270140">s</span><span class="op" id="8270141">.</span><span class="ident" id="8270142">ErrorCount</span>&nbsp;<span class="op" id="8270153">!=</span>&nbsp;<span class="num" id="8270156">0</span>&nbsp;<span class="op" id="8270158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270162">t</span><span class="op" id="8270163">.</span><span class="ident" id="8270164">Errorf</span><span class="op" id="8270170">(</span><span class="string" id="8270171">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8270182">,</span>&nbsp;<span class="ident" id="8270184">s</span><span class="op" id="8270185">.</span><span class="ident" id="8270186">ErrorCount</span><span class="op" id="8270196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8270199">}</span><br>
<span class="lineno"></span><span class="op" id="8270201">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="8270204">func</span>&nbsp;<span class="ident" id="8270209">TestScanWhitespace</span><span class="op" id="8270227">(</span><span class="ident" id="8270228">t</span>&nbsp;<span class="op" id="8270230">*</span><span class="ident" id="8270231">testing</span><span class="op" id="8270238">.</span><span class="ident" id="8270239">T</span><span class="op" id="8270240">)</span>&nbsp;<span class="op" id="8270242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270245">var</span>&nbsp;<span class="ident" id="8270249">buf</span>&nbsp;<span class="ident" id="8270253">bytes</span><span class="op" id="8270258">.</span><span class="ident" id="8270259">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270267">var</span>&nbsp;<span class="ident" id="8270271">ws</span>&nbsp;<span class="ident" id="8270274">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8270282">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270327">for</span>&nbsp;<span class="ident" id="8270331">ch</span>&nbsp;<span class="op" id="8270334">:=</span>&nbsp;<span class="builtintype" id="8270337">byte</span><span class="op" id="8270341">(</span><span class="num" id="8270342">1</span><span class="op" id="8270343">)</span><span class="op" id="8270344">;</span>&nbsp;<span class="ident" id="8270346">ch</span>&nbsp;<span class="op" id="8270349">&lt;</span>&nbsp;<span class="string" id="8270351">&#39;&nbsp;&#39;</span><span class="op" id="8270354">;</span>&nbsp;<span class="ident" id="8270356">ch</span><span class="op" id="8270358">++</span>&nbsp;<span class="op" id="8270361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270365">buf</span><span class="op" id="8270368">.</span><span class="ident" id="8270369">WriteByte</span><span class="op" id="8270378">(</span><span class="ident" id="8270379">ch</span><span class="op" id="8270381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270385">ws</span>&nbsp;<span class="op" id="8270388">|=</span>&nbsp;<span class="num" id="8270391">1</span>&nbsp;<span class="op" id="8270393">&lt;&lt;</span>&nbsp;<span class="ident" id="8270396">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8270400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270403">const</span>&nbsp;<span class="ident" id="8270409">orig</span>&nbsp;<span class="op" id="8270414">=</span>&nbsp;<span class="string" id="8270416">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270421">buf</span><span class="op" id="8270424">.</span><span class="ident" id="8270425">WriteByte</span><span class="op" id="8270434">(</span><span class="ident" id="8270435">orig</span><span class="op" id="8270439">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270443">s</span>&nbsp;<span class="op" id="8270445">:=</span>&nbsp;<span class="builtinfunc" id="8270448">new</span><span class="op" id="8270451">(</span><span class="ident" id="8270452">Scanner</span><span class="op" id="8270459">)</span><span class="op" id="8270460">.</span><span class="ident" id="8270461">Init</span><span class="op" id="8270465">(</span><span class="op" id="8270466">&amp;</span><span class="ident" id="8270467">buf</span><span class="op" id="8270470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270473">s</span><span class="op" id="8270474">.</span><span class="ident" id="8270475">Mode</span>&nbsp;<span class="op" id="8270480">=</span>&nbsp;<span class="num" id="8270482">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270485">s</span><span class="op" id="8270486">.</span><span class="ident" id="8270487">Whitespace</span>&nbsp;<span class="op" id="8270498">=</span>&nbsp;<span class="ident" id="8270500">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270504">tok</span>&nbsp;<span class="op" id="8270508">:=</span>&nbsp;<span class="ident" id="8270511">s</span><span class="op" id="8270512">.</span><span class="ident" id="8270513">Scan</span><span class="op" id="8270517">(</span><span class="op" id="8270518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270521">if</span>&nbsp;<span class="ident" id="8270524">tok</span>&nbsp;<span class="op" id="8270528">!=</span>&nbsp;<span class="ident" id="8270531">orig</span>&nbsp;<span class="op" id="8270536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270540">t</span><span class="op" id="8270541">.</span><span class="ident" id="8270542">Errorf</span><span class="op" id="8270548">(</span><span class="string" id="8270549">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8270568">,</span>&nbsp;<span class="ident" id="8270570">TokenString</span><span class="op" id="8270581">(</span><span class="ident" id="8270582">tok</span><span class="op" id="8270585">)</span><span class="op" id="8270586">,</span>&nbsp;<span class="ident" id="8270588">TokenString</span><span class="op" id="8270599">(</span><span class="ident" id="8270600">orig</span><span class="op" id="8270604">)</span><span class="op" id="8270605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8270608">}</span><br>
<span class="lineno"></span><span class="op" id="8270610">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="8270613">func</span>&nbsp;<span class="ident" id="8270618">testError</span><span class="op" id="8270627">(</span><span class="ident" id="8270628">t</span>&nbsp;<span class="op" id="8270630">*</span><span class="ident" id="8270631">testing</span><span class="op" id="8270638">.</span><span class="ident" id="8270639">T</span><span class="op" id="8270640">,</span>&nbsp;<span class="ident" id="8270642">src</span><span class="op" id="8270645">,</span>&nbsp;<span class="ident" id="8270647">pos</span><span class="op" id="8270650">,</span>&nbsp;<span class="ident" id="8270652">msg</span>&nbsp;<span class="builtintype" id="8270656">string</span><span class="op" id="8270662">,</span>&nbsp;<span class="ident" id="8270664">tok</span>&nbsp;<span class="builtintype" id="8270668">rune</span><span class="op" id="8270672">)</span>&nbsp;<span class="op" id="8270674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270677">s</span>&nbsp;<span class="op" id="8270679">:=</span>&nbsp;<span class="builtinfunc" id="8270682">new</span><span class="op" id="8270685">(</span><span class="ident" id="8270686">Scanner</span><span class="op" id="8270693">)</span><span class="op" id="8270694">.</span><span class="ident" id="8270695">Init</span><span class="op" id="8270699">(</span><span class="ident" id="8270700">strings</span><span class="op" id="8270707">.</span><span class="ident" id="8270708">NewReader</span><span class="op" id="8270717">(</span><span class="ident" id="8270718">src</span><span class="op" id="8270721">)</span><span class="op" id="8270722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270725">errorCalled</span>&nbsp;<span class="op" id="8270737">:=</span>&nbsp;<span class="builtintype" id="8270740">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270747">s</span><span class="op" id="8270748">.</span><span class="ident" id="8270749">Error</span>&nbsp;<span class="op" id="8270755">=</span>&nbsp;<span class="keyword" id="8270757">func</span><span class="op" id="8270761">(</span><span class="ident" id="8270762">s</span>&nbsp;<span class="op" id="8270764">*</span><span class="ident" id="8270765">Scanner</span><span class="op" id="8270772">,</span>&nbsp;<span class="ident" id="8270774">m</span>&nbsp;<span class="builtintype" id="8270776">string</span><span class="op" id="8270782">)</span>&nbsp;<span class="op" id="8270784">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270788">if</span>&nbsp;<span class="op" id="8270791">!</span><span class="ident" id="8270792">errorCalled</span>&nbsp;<span class="op" id="8270804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8270809">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270840">if</span>&nbsp;<span class="ident" id="8270843">p</span>&nbsp;<span class="op" id="8270845">:=</span>&nbsp;<span class="ident" id="8270848">s</span><span class="op" id="8270849">.</span><span class="ident" id="8270850">Pos</span><span class="op" id="8270853">(</span><span class="op" id="8270854">)</span><span class="op" id="8270855">.</span><span class="ident" id="8270856">String</span><span class="op" id="8270862">(</span><span class="op" id="8270863">)</span><span class="op" id="8270864">;</span>&nbsp;<span class="ident" id="8270866">p</span>&nbsp;<span class="op" id="8270868">!=</span>&nbsp;<span class="ident" id="8270871">pos</span>&nbsp;<span class="op" id="8270875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270881">t</span><span class="op" id="8270882">.</span><span class="ident" id="8270883">Errorf</span><span class="op" id="8270889">(</span><span class="string" id="8270890">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8270916">,</span>&nbsp;<span class="ident" id="8270918">p</span><span class="op" id="8270919">,</span>&nbsp;<span class="ident" id="8270921">pos</span><span class="op" id="8270924">,</span>&nbsp;<span class="ident" id="8270926">src</span><span class="op" id="8270929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8270934">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8270939">if</span>&nbsp;<span class="ident" id="8270942">m</span>&nbsp;<span class="op" id="8270944">!=</span>&nbsp;<span class="ident" id="8270947">msg</span>&nbsp;<span class="op" id="8270951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8270957">t</span><span class="op" id="8270958">.</span><span class="ident" id="8270959">Errorf</span><span class="op" id="8270965">(</span><span class="string" id="8270966">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8270992">,</span>&nbsp;<span class="ident" id="8270994">m</span><span class="op" id="8270995">,</span>&nbsp;<span class="ident" id="8270997">msg</span><span class="op" id="8271000">,</span>&nbsp;<span class="ident" id="8271002">src</span><span class="op" id="8271005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8271010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271015">errorCalled</span>&nbsp;<span class="op" id="8271027">=</span>&nbsp;<span class="builtintype" id="8271029">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8271036">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8271039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271042">tk</span>&nbsp;<span class="op" id="8271045">:=</span>&nbsp;<span class="ident" id="8271048">s</span><span class="op" id="8271049">.</span><span class="ident" id="8271050">Scan</span><span class="op" id="8271054">(</span><span class="op" id="8271055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8271058">if</span>&nbsp;<span class="ident" id="8271061">tk</span>&nbsp;<span class="op" id="8271064">!=</span>&nbsp;<span class="ident" id="8271067">tok</span>&nbsp;<span class="op" id="8271071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271075">t</span><span class="op" id="8271076">.</span><span class="ident" id="8271077">Errorf</span><span class="op" id="8271083">(</span><span class="string" id="8271084">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8271110">,</span>&nbsp;<span class="ident" id="8271112">TokenString</span><span class="op" id="8271123">(</span><span class="ident" id="8271124">tk</span><span class="op" id="8271126">)</span><span class="op" id="8271127">,</span>&nbsp;<span class="ident" id="8271129">TokenString</span><span class="op" id="8271140">(</span><span class="ident" id="8271141">tok</span><span class="op" id="8271144">)</span><span class="op" id="8271145">,</span>&nbsp;<span class="ident" id="8271147">src</span><span class="op" id="8271150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8271153">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8271156">if</span>&nbsp;<span class="op" id="8271159">!</span><span class="ident" id="8271160">errorCalled</span>&nbsp;<span class="op" id="8271172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271176">t</span><span class="op" id="8271177">.</span><span class="ident" id="8271178">Errorf</span><span class="op" id="8271184">(</span><span class="string" id="8271185">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8271218">,</span>&nbsp;<span class="ident" id="8271220">src</span><span class="op" id="8271223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8271226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8271229">if</span>&nbsp;<span class="ident" id="8271232">s</span><span class="op" id="8271233">.</span><span class="ident" id="8271234">ErrorCount</span>&nbsp;<span class="op" id="8271245">==</span>&nbsp;<span class="num" id="8271248">0</span>&nbsp;<span class="op" id="8271250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271254">t</span><span class="op" id="8271255">.</span><span class="ident" id="8271256">Errorf</span><span class="op" id="8271262">(</span><span class="string" id="8271263">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8271292">,</span>&nbsp;<span class="ident" id="8271294">s</span><span class="op" id="8271295">.</span><span class="ident" id="8271296">ErrorCount</span><span class="op" id="8271306">,</span>&nbsp;<span class="ident" id="8271308">src</span><span class="op" id="8271311">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8271314">}</span><br>
<span class="lineno"></span><span class="op" id="8271316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8271319">func</span>&nbsp;<span class="ident" id="8271324">TestError</span><span class="op" id="8271333">(</span><span class="ident" id="8271334">t</span>&nbsp;<span class="op" id="8271336">*</span><span class="ident" id="8271337">testing</span><span class="op" id="8271344">.</span><span class="ident" id="8271345">T</span><span class="op" id="8271346">)</span>&nbsp;<span class="op" id="8271348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271351">testError</span><span class="op" id="8271360">(</span><span class="ident" id="8271361">t</span><span class="op" id="8271362">,</span>&nbsp;<span class="string" id="8271364">&#34;\x00&#34;</span><span class="op" id="8271370">,</span>&nbsp;<span class="string" id="8271372">&#34;1:1&#34;</span><span class="op" id="8271377">,</span>&nbsp;<span class="string" id="8271379">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8271402">,</span>&nbsp;<span class="num" id="8271404">0</span><span class="op" id="8271405">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271408">testError</span><span class="op" id="8271417">(</span><span class="ident" id="8271418">t</span><span class="op" id="8271419">,</span>&nbsp;<span class="string" id="8271421">&#34;\x80&#34;</span><span class="op" id="8271427">,</span>&nbsp;<span class="string" id="8271429">&#34;1:1&#34;</span><span class="op" id="8271434">,</span>&nbsp;<span class="string" id="8271436">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8271460">,</span>&nbsp;<span class="ident" id="8271462">utf8</span><span class="op" id="8271466">.</span><span class="ident" id="8271467">RuneError</span><span class="op" id="8271476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271479">testError</span><span class="op" id="8271488">(</span><span class="ident" id="8271489">t</span><span class="op" id="8271490">,</span>&nbsp;<span class="string" id="8271492">&#34;\xff&#34;</span><span class="op" id="8271498">,</span>&nbsp;<span class="string" id="8271500">&#34;1:1&#34;</span><span class="op" id="8271505">,</span>&nbsp;<span class="string" id="8271507">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8271531">,</span>&nbsp;<span class="ident" id="8271533">utf8</span><span class="op" id="8271537">.</span><span class="ident" id="8271538">RuneError</span><span class="op" id="8271547">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271551">testError</span><span class="op" id="8271560">(</span><span class="ident" id="8271561">t</span><span class="op" id="8271562">,</span>&nbsp;<span class="string" id="8271564">&#34;a\x00&#34;</span><span class="op" id="8271571">,</span>&nbsp;<span class="string" id="8271573">&#34;1:2&#34;</span><span class="op" id="8271578">,</span>&nbsp;<span class="string" id="8271580">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8271603">,</span>&nbsp;<span class="ident" id="8271605">Ident</span><span class="op" id="8271610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271613">testError</span><span class="op" id="8271622">(</span><span class="ident" id="8271623">t</span><span class="op" id="8271624">,</span>&nbsp;<span class="string" id="8271626">&#34;ab\x80&#34;</span><span class="op" id="8271634">,</span>&nbsp;<span class="string" id="8271636">&#34;1:3&#34;</span><span class="op" id="8271641">,</span>&nbsp;<span class="string" id="8271643">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8271667">,</span>&nbsp;<span class="ident" id="8271669">Ident</span><span class="op" id="8271674">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271677">testError</span><span class="op" id="8271686">(</span><span class="ident" id="8271687">t</span><span class="op" id="8271688">,</span>&nbsp;<span class="string" id="8271690">&#34;abc\xff&#34;</span><span class="op" id="8271699">,</span>&nbsp;<span class="string" id="8271701">&#34;1:4&#34;</span><span class="op" id="8271706">,</span>&nbsp;<span class="string" id="8271708">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8271732">,</span>&nbsp;<span class="ident" id="8271734">Ident</span><span class="op" id="8271739">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271743">testError</span><span class="op" id="8271752">(</span><span class="ident" id="8271753">t</span><span class="op" id="8271754">,</span>&nbsp;<span class="string" id="8271756">`&#34;a`</span><span class="op" id="8271760">+</span><span class="string" id="8271761">&#34;\x00&#34;</span><span class="op" id="8271767">,</span>&nbsp;<span class="string" id="8271769">&#34;1:3&#34;</span><span class="op" id="8271774">,</span>&nbsp;<span class="string" id="8271776">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8271799">,</span>&nbsp;<span class="ident" id="8271801">String</span><span class="op" id="8271807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271810">testError</span><span class="op" id="8271819">(</span><span class="ident" id="8271820">t</span><span class="op" id="8271821">,</span>&nbsp;<span class="string" id="8271823">`&#34;ab`</span><span class="op" id="8271828">+</span><span class="string" id="8271829">&#34;\x80&#34;</span><span class="op" id="8271835">,</span>&nbsp;<span class="string" id="8271837">&#34;1:4&#34;</span><span class="op" id="8271842">,</span>&nbsp;<span class="string" id="8271844">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8271868">,</span>&nbsp;<span class="ident" id="8271870">String</span><span class="op" id="8271876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271879">testError</span><span class="op" id="8271888">(</span><span class="ident" id="8271889">t</span><span class="op" id="8271890">,</span>&nbsp;<span class="string" id="8271892">`&#34;abc`</span><span class="op" id="8271898">+</span><span class="string" id="8271899">&#34;\xff&#34;</span><span class="op" id="8271905">,</span>&nbsp;<span class="string" id="8271907">&#34;1:5&#34;</span><span class="op" id="8271912">,</span>&nbsp;<span class="string" id="8271914">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8271938">,</span>&nbsp;<span class="ident" id="8271940">String</span><span class="op" id="8271946">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8271950">testError</span><span class="op" id="8271959">(</span><span class="ident" id="8271960">t</span><span class="op" id="8271961">,</span>&nbsp;<span class="string" id="8271963">&#34;`a&#34;</span><span class="op" id="8271967">+</span><span class="string" id="8271968">&#34;\x00&#34;</span><span class="op" id="8271974">,</span>&nbsp;<span class="string" id="8271976">&#34;1:3&#34;</span><span class="op" id="8271981">,</span>&nbsp;<span class="string" id="8271983">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8272006">,</span>&nbsp;<span class="ident" id="8272008">String</span><span class="op" id="8272014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272017">testError</span><span class="op" id="8272026">(</span><span class="ident" id="8272027">t</span><span class="op" id="8272028">,</span>&nbsp;<span class="string" id="8272030">&#34;`ab&#34;</span><span class="op" id="8272035">+</span><span class="string" id="8272036">&#34;\x80&#34;</span><span class="op" id="8272042">,</span>&nbsp;<span class="string" id="8272044">&#34;1:4&#34;</span><span class="op" id="8272049">,</span>&nbsp;<span class="string" id="8272051">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8272075">,</span>&nbsp;<span class="ident" id="8272077">String</span><span class="op" id="8272083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272086">testError</span><span class="op" id="8272095">(</span><span class="ident" id="8272096">t</span><span class="op" id="8272097">,</span>&nbsp;<span class="string" id="8272099">&#34;`abc&#34;</span><span class="op" id="8272105">+</span><span class="string" id="8272106">&#34;\xff&#34;</span><span class="op" id="8272112">,</span>&nbsp;<span class="string" id="8272114">&#34;1:5&#34;</span><span class="op" id="8272119">,</span>&nbsp;<span class="string" id="8272121">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8272145">,</span>&nbsp;<span class="ident" id="8272147">String</span><span class="op" id="8272153">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272157">testError</span><span class="op" id="8272166">(</span><span class="ident" id="8272167">t</span><span class="op" id="8272168">,</span>&nbsp;<span class="string" id="8272170">`&#39;\&#34;&#39;`</span><span class="op" id="8272176">,</span>&nbsp;<span class="string" id="8272178">&#34;1:3&#34;</span><span class="op" id="8272183">,</span>&nbsp;<span class="string" id="8272185">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="8272206">,</span>&nbsp;<span class="ident" id="8272208">Char</span><span class="op" id="8272212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272215">testError</span><span class="op" id="8272224">(</span><span class="ident" id="8272225">t</span><span class="op" id="8272226">,</span>&nbsp;<span class="string" id="8272228">`&#34;\&#39;&#34;`</span><span class="op" id="8272234">,</span>&nbsp;<span class="string" id="8272236">&#34;1:3&#34;</span><span class="op" id="8272241">,</span>&nbsp;<span class="string" id="8272243">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="8272264">,</span>&nbsp;<span class="ident" id="8272266">String</span><span class="op" id="8272272">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272276">testError</span><span class="op" id="8272285">(</span><span class="ident" id="8272286">t</span><span class="op" id="8272287">,</span>&nbsp;<span class="string" id="8272289">`01238`</span><span class="op" id="8272296">,</span>&nbsp;<span class="string" id="8272298">&#34;1:6&#34;</span><span class="op" id="8272303">,</span>&nbsp;<span class="string" id="8272305">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8272327">,</span>&nbsp;<span class="ident" id="8272329">Int</span><span class="op" id="8272332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272335">testError</span><span class="op" id="8272344">(</span><span class="ident" id="8272345">t</span><span class="op" id="8272346">,</span>&nbsp;<span class="string" id="8272348">`01238123`</span><span class="op" id="8272358">,</span>&nbsp;<span class="string" id="8272360">&#34;1:9&#34;</span><span class="op" id="8272365">,</span>&nbsp;<span class="string" id="8272367">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8272389">,</span>&nbsp;<span class="ident" id="8272391">Int</span><span class="op" id="8272394">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272397">testError</span><span class="op" id="8272406">(</span><span class="ident" id="8272407">t</span><span class="op" id="8272408">,</span>&nbsp;<span class="string" id="8272410">`0x`</span><span class="op" id="8272414">,</span>&nbsp;<span class="string" id="8272416">&#34;1:3&#34;</span><span class="op" id="8272421">,</span>&nbsp;<span class="string" id="8272423">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8272451">,</span>&nbsp;<span class="ident" id="8272453">Int</span><span class="op" id="8272456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272459">testError</span><span class="op" id="8272468">(</span><span class="ident" id="8272469">t</span><span class="op" id="8272470">,</span>&nbsp;<span class="string" id="8272472">`0xg`</span><span class="op" id="8272477">,</span>&nbsp;<span class="string" id="8272479">&#34;1:3&#34;</span><span class="op" id="8272484">,</span>&nbsp;<span class="string" id="8272486">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8272514">,</span>&nbsp;<span class="ident" id="8272516">Int</span><span class="op" id="8272519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272522">testError</span><span class="op" id="8272531">(</span><span class="ident" id="8272532">t</span><span class="op" id="8272533">,</span>&nbsp;<span class="string" id="8272535">`&#39;aa&#39;`</span><span class="op" id="8272541">,</span>&nbsp;<span class="string" id="8272543">&#34;1:4&#34;</span><span class="op" id="8272548">,</span>&nbsp;<span class="string" id="8272550">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="8272572">,</span>&nbsp;<span class="ident" id="8272574">Char</span><span class="op" id="8272578">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272582">testError</span><span class="op" id="8272591">(</span><span class="ident" id="8272592">t</span><span class="op" id="8272593">,</span>&nbsp;<span class="string" id="8272595">`&#39;`</span><span class="op" id="8272598">,</span>&nbsp;<span class="string" id="8272600">&#34;1:2&#34;</span><span class="op" id="8272605">,</span>&nbsp;<span class="string" id="8272607">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8272631">,</span>&nbsp;<span class="ident" id="8272633">Char</span><span class="op" id="8272637">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272640">testError</span><span class="op" id="8272649">(</span><span class="ident" id="8272650">t</span><span class="op" id="8272651">,</span>&nbsp;<span class="string" id="8272653">`&#39;`</span><span class="op" id="8272656">+</span><span class="string" id="8272657">&#34;\n&#34;</span><span class="op" id="8272661">,</span>&nbsp;<span class="string" id="8272663">&#34;1:2&#34;</span><span class="op" id="8272668">,</span>&nbsp;<span class="string" id="8272670">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8272694">,</span>&nbsp;<span class="ident" id="8272696">Char</span><span class="op" id="8272700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272703">testError</span><span class="op" id="8272712">(</span><span class="ident" id="8272713">t</span><span class="op" id="8272714">,</span>&nbsp;<span class="string" id="8272716">`&#34;abc`</span><span class="op" id="8272722">,</span>&nbsp;<span class="string" id="8272724">&#34;1:5&#34;</span><span class="op" id="8272729">,</span>&nbsp;<span class="string" id="8272731">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8272755">,</span>&nbsp;<span class="ident" id="8272757">String</span><span class="op" id="8272763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272766">testError</span><span class="op" id="8272775">(</span><span class="ident" id="8272776">t</span><span class="op" id="8272777">,</span>&nbsp;<span class="string" id="8272779">`&#34;abc`</span><span class="op" id="8272785">+</span><span class="string" id="8272786">&#34;\n&#34;</span><span class="op" id="8272790">,</span>&nbsp;<span class="string" id="8272792">&#34;1:5&#34;</span><span class="op" id="8272797">,</span>&nbsp;<span class="string" id="8272799">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8272823">,</span>&nbsp;<span class="ident" id="8272825">String</span><span class="op" id="8272831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272834">testError</span><span class="op" id="8272843">(</span><span class="ident" id="8272844">t</span><span class="op" id="8272845">,</span>&nbsp;<span class="string" id="8272847">&#34;`abc\n&#34;</span><span class="op" id="8272855">,</span>&nbsp;<span class="string" id="8272857">&#34;2:1&#34;</span><span class="op" id="8272862">,</span>&nbsp;<span class="string" id="8272864">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8272888">,</span>&nbsp;<span class="ident" id="8272890">String</span><span class="op" id="8272896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8272899">testError</span><span class="op" id="8272908">(</span><span class="ident" id="8272909">t</span><span class="op" id="8272910">,</span>&nbsp;<span class="string" id="8272912">`/*/`</span><span class="op" id="8272917">,</span>&nbsp;<span class="string" id="8272919">&#34;1:4&#34;</span><span class="op" id="8272924">,</span>&nbsp;<span class="string" id="8272926">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8272950">,</span>&nbsp;<span class="ident" id="8272952">EOF</span><span class="op" id="8272955">)</span><br>
<span class="lineno">485</span><span class="op" id="8272957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8272960">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="8273018">type</span>&nbsp;<span class="ident" id="8273023">errReader</span>&nbsp;<span class="keyword" id="8273033">struct</span><span class="op" id="8273039">{</span><span class="op" id="8273040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="8273043">func</span>&nbsp;<span class="op" id="8273048">(</span><span class="ident" id="8273049">errReader</span><span class="op" id="8273058">)</span>&nbsp;<span class="ident" id="8273060">Read</span><span class="op" id="8273064">(</span><span class="ident" id="8273065">b</span>&nbsp;<span class="op" id="8273067">[</span><span class="op" id="8273068">]</span><span class="builtintype" id="8273069">byte</span><span class="op" id="8273073">)</span>&nbsp;<span class="op" id="8273075">(</span><span class="builtintype" id="8273076">int</span><span class="op" id="8273079">,</span>&nbsp;<span class="builtintype" id="8273081">error</span><span class="op" id="8273086">)</span>&nbsp;<span class="op" id="8273088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8273091">return</span>&nbsp;<span class="num" id="8273098">0</span><span class="op" id="8273099">,</span>&nbsp;<span class="ident" id="8273101">io</span><span class="op" id="8273103">.</span><span class="ident" id="8273104">ErrNoProgress</span>&nbsp;<span class="comment" id="8273118">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="8273151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8273154">func</span>&nbsp;<span class="ident" id="8273159">TestIOError</span><span class="op" id="8273170">(</span><span class="ident" id="8273171">t</span>&nbsp;<span class="op" id="8273173">*</span><span class="ident" id="8273174">testing</span><span class="op" id="8273181">.</span><span class="ident" id="8273182">T</span><span class="op" id="8273183">)</span>&nbsp;<span class="op" id="8273185">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273188">s</span>&nbsp;<span class="op" id="8273190">:=</span>&nbsp;<span class="builtinfunc" id="8273193">new</span><span class="op" id="8273196">(</span><span class="ident" id="8273197">Scanner</span><span class="op" id="8273204">)</span><span class="op" id="8273205">.</span><span class="ident" id="8273206">Init</span><span class="op" id="8273210">(</span><span class="ident" id="8273211">errReader</span><span class="op" id="8273220">{</span><span class="op" id="8273221">}</span><span class="op" id="8273222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273225">errorCalled</span>&nbsp;<span class="op" id="8273237">:=</span>&nbsp;<span class="builtintype" id="8273240">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273247">s</span><span class="op" id="8273248">.</span><span class="ident" id="8273249">Error</span>&nbsp;<span class="op" id="8273255">=</span>&nbsp;<span class="keyword" id="8273257">func</span><span class="op" id="8273261">(</span><span class="ident" id="8273262">s</span>&nbsp;<span class="op" id="8273264">*</span><span class="ident" id="8273265">Scanner</span><span class="op" id="8273272">,</span>&nbsp;<span class="ident" id="8273274">msg</span>&nbsp;<span class="builtintype" id="8273278">string</span><span class="op" id="8273284">)</span>&nbsp;<span class="op" id="8273286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8273290">if</span>&nbsp;<span class="op" id="8273293">!</span><span class="ident" id="8273294">errorCalled</span>&nbsp;<span class="op" id="8273306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8273311">if</span>&nbsp;<span class="ident" id="8273314">want</span>&nbsp;<span class="op" id="8273319">:=</span>&nbsp;<span class="ident" id="8273322">io</span><span class="op" id="8273324">.</span><span class="ident" id="8273325">ErrNoProgress</span><span class="op" id="8273338">.</span><span class="ident" id="8273339">Error</span><span class="op" id="8273344">(</span><span class="op" id="8273345">)</span><span class="op" id="8273346">;</span>&nbsp;<span class="ident" id="8273348">msg</span>&nbsp;<span class="op" id="8273352">!=</span>&nbsp;<span class="ident" id="8273355">want</span>&nbsp;<span class="op" id="8273360">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273366">t</span><span class="op" id="8273367">.</span><span class="ident" id="8273368">Errorf</span><span class="op" id="8273374">(</span><span class="string" id="8273375">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8273394">,</span>&nbsp;<span class="ident" id="8273396">msg</span><span class="op" id="8273399">,</span>&nbsp;<span class="ident" id="8273401">want</span><span class="op" id="8273405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8273410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273415">errorCalled</span>&nbsp;<span class="op" id="8273427">=</span>&nbsp;<span class="builtintype" id="8273429">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8273436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8273439">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273442">tok</span>&nbsp;<span class="op" id="8273446">:=</span>&nbsp;<span class="ident" id="8273449">s</span><span class="op" id="8273450">.</span><span class="ident" id="8273451">Scan</span><span class="op" id="8273455">(</span><span class="op" id="8273456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8273459">if</span>&nbsp;<span class="ident" id="8273462">tok</span>&nbsp;<span class="op" id="8273466">!=</span>&nbsp;<span class="ident" id="8273469">EOF</span>&nbsp;<span class="op" id="8273473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273477">t</span><span class="op" id="8273478">.</span><span class="ident" id="8273479">Errorf</span><span class="op" id="8273485">(</span><span class="string" id="8273486">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="8273506">,</span>&nbsp;<span class="ident" id="8273508">TokenString</span><span class="op" id="8273519">(</span><span class="ident" id="8273520">tok</span><span class="op" id="8273523">)</span><span class="op" id="8273524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8273527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8273530">if</span>&nbsp;<span class="op" id="8273533">!</span><span class="ident" id="8273534">errorCalled</span>&nbsp;<span class="op" id="8273546">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273550">t</span><span class="op" id="8273551">.</span><span class="ident" id="8273552">Errorf</span><span class="op" id="8273558">(</span><span class="string" id="8273559">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="8273585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8273588">}</span><br>
<span class="lineno"></span><span class="op" id="8273590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8273593">func</span>&nbsp;<span class="ident" id="8273598">checkPos</span><span class="op" id="8273606">(</span><span class="ident" id="8273607">t</span>&nbsp;<span class="op" id="8273609">*</span><span class="ident" id="8273610">testing</span><span class="op" id="8273617">.</span><span class="ident" id="8273618">T</span><span class="op" id="8273619">,</span>&nbsp;<span class="ident" id="8273621">got</span><span class="op" id="8273624">,</span>&nbsp;<span class="ident" id="8273626">want</span>&nbsp;<span class="ident" id="8273631">Position</span><span class="op" id="8273639">)</span>&nbsp;<span class="op" id="8273641">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8273644">if</span>&nbsp;<span class="ident" id="8273647">got</span><span class="op" id="8273650">.</span><span class="ident" id="8273651">Offset</span>&nbsp;<span class="op" id="8273658">!=</span>&nbsp;<span class="ident" id="8273661">want</span><span class="op" id="8273665">.</span><span class="ident" id="8273666">Offset</span>&nbsp;<span class="op" id="8273673">||</span>&nbsp;<span class="ident" id="8273676">got</span><span class="op" id="8273679">.</span><span class="ident" id="8273680">Line</span>&nbsp;<span class="op" id="8273685">!=</span>&nbsp;<span class="ident" id="8273688">want</span><span class="op" id="8273692">.</span><span class="ident" id="8273693">Line</span>&nbsp;<span class="op" id="8273698">||</span>&nbsp;<span class="ident" id="8273701">got</span><span class="op" id="8273704">.</span><span class="ident" id="8273705">Column</span>&nbsp;<span class="op" id="8273712">!=</span>&nbsp;<span class="ident" id="8273715">want</span><span class="op" id="8273719">.</span><span class="ident" id="8273720">Column</span>&nbsp;<span class="op" id="8273727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273731">t</span><span class="op" id="8273732">.</span><span class="ident" id="8273733">Errorf</span><span class="op" id="8273739">(</span><span class="string" id="8273740">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="8273796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273801">got</span><span class="op" id="8273804">.</span><span class="ident" id="8273805">Offset</span><span class="op" id="8273811">,</span>&nbsp;<span class="ident" id="8273813">got</span><span class="op" id="8273816">.</span><span class="ident" id="8273817">Line</span><span class="op" id="8273821">,</span>&nbsp;<span class="ident" id="8273823">got</span><span class="op" id="8273826">.</span><span class="ident" id="8273827">Column</span><span class="op" id="8273833">,</span>&nbsp;<span class="ident" id="8273835">want</span><span class="op" id="8273839">.</span><span class="ident" id="8273840">Offset</span><span class="op" id="8273846">,</span>&nbsp;<span class="ident" id="8273848">want</span><span class="op" id="8273852">.</span><span class="ident" id="8273853">Line</span><span class="op" id="8273857">,</span>&nbsp;<span class="ident" id="8273859">want</span><span class="op" id="8273863">.</span><span class="ident" id="8273864">Column</span><span class="op" id="8273870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8273873">}</span><br>
<span class="lineno"></span><span class="op" id="8273875">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="8273878">func</span>&nbsp;<span class="ident" id="8273883">checkNextPos</span><span class="op" id="8273895">(</span><span class="ident" id="8273896">t</span>&nbsp;<span class="op" id="8273898">*</span><span class="ident" id="8273899">testing</span><span class="op" id="8273906">.</span><span class="ident" id="8273907">T</span><span class="op" id="8273908">,</span>&nbsp;<span class="ident" id="8273910">s</span>&nbsp;<span class="op" id="8273912">*</span><span class="ident" id="8273913">Scanner</span><span class="op" id="8273920">,</span>&nbsp;<span class="ident" id="8273922">offset</span><span class="op" id="8273928">,</span>&nbsp;<span class="ident" id="8273930">line</span><span class="op" id="8273934">,</span>&nbsp;<span class="ident" id="8273936">column</span>&nbsp;<span class="builtintype" id="8273943">int</span><span class="op" id="8273946">,</span>&nbsp;<span class="ident" id="8273948">char</span>&nbsp;<span class="builtintype" id="8273953">rune</span><span class="op" id="8273957">)</span>&nbsp;<span class="op" id="8273959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8273962">if</span>&nbsp;<span class="ident" id="8273965">ch</span>&nbsp;<span class="op" id="8273968">:=</span>&nbsp;<span class="ident" id="8273971">s</span><span class="op" id="8273972">.</span><span class="ident" id="8273973">Next</span><span class="op" id="8273977">(</span><span class="op" id="8273978">)</span><span class="op" id="8273979">;</span>&nbsp;<span class="ident" id="8273981">ch</span>&nbsp;<span class="op" id="8273984">!=</span>&nbsp;<span class="ident" id="8273987">char</span>&nbsp;<span class="op" id="8273992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8273996">t</span><span class="op" id="8273997">.</span><span class="ident" id="8273998">Errorf</span><span class="op" id="8274004">(</span><span class="string" id="8274005">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8274023">,</span>&nbsp;<span class="ident" id="8274025">TokenString</span><span class="op" id="8274036">(</span><span class="ident" id="8274037">ch</span><span class="op" id="8274039">)</span><span class="op" id="8274040">,</span>&nbsp;<span class="ident" id="8274042">TokenString</span><span class="op" id="8274053">(</span><span class="ident" id="8274054">char</span><span class="op" id="8274058">)</span><span class="op" id="8274059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8274062">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274065">want</span>&nbsp;<span class="op" id="8274070">:=</span>&nbsp;<span class="ident" id="8274073">Position</span><span class="op" id="8274081">{</span><span class="ident" id="8274082">Offset</span><span class="op" id="8274088">:</span>&nbsp;<span class="ident" id="8274090">offset</span><span class="op" id="8274096">,</span>&nbsp;<span class="ident" id="8274098">Line</span><span class="op" id="8274102">:</span>&nbsp;<span class="ident" id="8274104">line</span><span class="op" id="8274108">,</span>&nbsp;<span class="ident" id="8274110">Column</span><span class="op" id="8274116">:</span>&nbsp;<span class="ident" id="8274118">column</span><span class="op" id="8274124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274127">checkPos</span><span class="op" id="8274135">(</span><span class="ident" id="8274136">t</span><span class="op" id="8274137">,</span>&nbsp;<span class="ident" id="8274139">s</span><span class="op" id="8274140">.</span><span class="ident" id="8274141">Pos</span><span class="op" id="8274144">(</span><span class="op" id="8274145">)</span><span class="op" id="8274146">,</span>&nbsp;<span class="ident" id="8274148">want</span><span class="op" id="8274152">)</span><br>
<span class="lineno"></span><span class="op" id="8274154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8274157">func</span>&nbsp;<span class="ident" id="8274162">checkScanPos</span><span class="op" id="8274174">(</span><span class="ident" id="8274175">t</span>&nbsp;<span class="op" id="8274177">*</span><span class="ident" id="8274178">testing</span><span class="op" id="8274185">.</span><span class="ident" id="8274186">T</span><span class="op" id="8274187">,</span>&nbsp;<span class="ident" id="8274189">s</span>&nbsp;<span class="op" id="8274191">*</span><span class="ident" id="8274192">Scanner</span><span class="op" id="8274199">,</span>&nbsp;<span class="ident" id="8274201">offset</span><span class="op" id="8274207">,</span>&nbsp;<span class="ident" id="8274209">line</span><span class="op" id="8274213">,</span>&nbsp;<span class="ident" id="8274215">column</span>&nbsp;<span class="builtintype" id="8274222">int</span><span class="op" id="8274225">,</span>&nbsp;<span class="ident" id="8274227">char</span>&nbsp;<span class="builtintype" id="8274232">rune</span><span class="op" id="8274236">)</span>&nbsp;<span class="op" id="8274238">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274241">want</span>&nbsp;<span class="op" id="8274246">:=</span>&nbsp;<span class="ident" id="8274249">Position</span><span class="op" id="8274257">{</span><span class="ident" id="8274258">Offset</span><span class="op" id="8274264">:</span>&nbsp;<span class="ident" id="8274266">offset</span><span class="op" id="8274272">,</span>&nbsp;<span class="ident" id="8274274">Line</span><span class="op" id="8274278">:</span>&nbsp;<span class="ident" id="8274280">line</span><span class="op" id="8274284">,</span>&nbsp;<span class="ident" id="8274286">Column</span><span class="op" id="8274292">:</span>&nbsp;<span class="ident" id="8274294">column</span><span class="op" id="8274300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274303">checkPos</span><span class="op" id="8274311">(</span><span class="ident" id="8274312">t</span><span class="op" id="8274313">,</span>&nbsp;<span class="ident" id="8274315">s</span><span class="op" id="8274316">.</span><span class="ident" id="8274317">Pos</span><span class="op" id="8274320">(</span><span class="op" id="8274321">)</span><span class="op" id="8274322">,</span>&nbsp;<span class="ident" id="8274324">want</span><span class="op" id="8274328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8274331">if</span>&nbsp;<span class="ident" id="8274334">ch</span>&nbsp;<span class="op" id="8274337">:=</span>&nbsp;<span class="ident" id="8274340">s</span><span class="op" id="8274341">.</span><span class="ident" id="8274342">Scan</span><span class="op" id="8274346">(</span><span class="op" id="8274347">)</span><span class="op" id="8274348">;</span>&nbsp;<span class="ident" id="8274350">ch</span>&nbsp;<span class="op" id="8274353">!=</span>&nbsp;<span class="ident" id="8274356">char</span>&nbsp;<span class="op" id="8274361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274365">t</span><span class="op" id="8274366">.</span><span class="ident" id="8274367">Errorf</span><span class="op" id="8274373">(</span><span class="string" id="8274374">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8274392">,</span>&nbsp;<span class="ident" id="8274394">TokenString</span><span class="op" id="8274405">(</span><span class="ident" id="8274406">ch</span><span class="op" id="8274408">)</span><span class="op" id="8274409">,</span>&nbsp;<span class="ident" id="8274411">TokenString</span><span class="op" id="8274422">(</span><span class="ident" id="8274423">char</span><span class="op" id="8274427">)</span><span class="op" id="8274428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8274432">if</span>&nbsp;<span class="builtintype" id="8274435">string</span><span class="op" id="8274441">(</span><span class="ident" id="8274442">ch</span><span class="op" id="8274444">)</span>&nbsp;<span class="op" id="8274446">!=</span>&nbsp;<span class="ident" id="8274449">s</span><span class="op" id="8274450">.</span><span class="ident" id="8274451">TokenText</span><span class="op" id="8274460">(</span><span class="op" id="8274461">)</span>&nbsp;<span class="op" id="8274463">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274468">t</span><span class="op" id="8274469">.</span><span class="ident" id="8274470">Errorf</span><span class="op" id="8274476">(</span><span class="string" id="8274477">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8274496">,</span>&nbsp;<span class="ident" id="8274498">s</span><span class="op" id="8274499">.</span><span class="ident" id="8274500">TokenText</span><span class="op" id="8274509">(</span><span class="op" id="8274510">)</span><span class="op" id="8274511">,</span>&nbsp;<span class="builtintype" id="8274513">string</span><span class="op" id="8274519">(</span><span class="ident" id="8274520">ch</span><span class="op" id="8274522">)</span><span class="op" id="8274523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8274527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8274530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274533">checkPos</span><span class="op" id="8274541">(</span><span class="ident" id="8274542">t</span><span class="op" id="8274543">,</span>&nbsp;<span class="ident" id="8274545">s</span><span class="op" id="8274546">.</span><span class="ident" id="8274547">Position</span><span class="op" id="8274555">,</span>&nbsp;<span class="ident" id="8274557">want</span><span class="op" id="8274561">)</span><br>
<span class="lineno"></span><span class="op" id="8274563">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="8274566">func</span>&nbsp;<span class="ident" id="8274571">TestPos</span><span class="op" id="8274578">(</span><span class="ident" id="8274579">t</span>&nbsp;<span class="op" id="8274581">*</span><span class="ident" id="8274582">testing</span><span class="op" id="8274589">.</span><span class="ident" id="8274590">T</span><span class="op" id="8274591">)</span>&nbsp;<span class="op" id="8274593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8274596">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274626">s</span>&nbsp;<span class="op" id="8274628">:=</span>&nbsp;<span class="builtinfunc" id="8274631">new</span><span class="op" id="8274634">(</span><span class="ident" id="8274635">Scanner</span><span class="op" id="8274642">)</span><span class="op" id="8274643">.</span><span class="ident" id="8274644">Init</span><span class="op" id="8274648">(</span><span class="ident" id="8274649">strings</span><span class="op" id="8274656">.</span><span class="ident" id="8274657">NewReader</span><span class="op" id="8274666">(</span><span class="string" id="8274667">&#34;&#34;</span><span class="op" id="8274669">)</span><span class="op" id="8274670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274673">checkPos</span><span class="op" id="8274681">(</span><span class="ident" id="8274682">t</span><span class="op" id="8274683">,</span>&nbsp;<span class="ident" id="8274685">s</span><span class="op" id="8274686">.</span><span class="ident" id="8274687">Pos</span><span class="op" id="8274690">(</span><span class="op" id="8274691">)</span><span class="op" id="8274692">,</span>&nbsp;<span class="ident" id="8274694">Position</span><span class="op" id="8274702">{</span><span class="ident" id="8274703">Offset</span><span class="op" id="8274709">:</span>&nbsp;<span class="num" id="8274711">0</span><span class="op" id="8274712">,</span>&nbsp;<span class="ident" id="8274714">Line</span><span class="op" id="8274718">:</span>&nbsp;<span class="num" id="8274720">1</span><span class="op" id="8274721">,</span>&nbsp;<span class="ident" id="8274723">Column</span><span class="op" id="8274729">:</span>&nbsp;<span class="num" id="8274731">1</span><span class="op" id="8274732">}</span><span class="op" id="8274733">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274736">s</span><span class="op" id="8274737">.</span><span class="ident" id="8274738">Peek</span><span class="op" id="8274742">(</span><span class="op" id="8274743">)</span>&nbsp;<span class="comment" id="8274745">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274782">checkPos</span><span class="op" id="8274790">(</span><span class="ident" id="8274791">t</span><span class="op" id="8274792">,</span>&nbsp;<span class="ident" id="8274794">s</span><span class="op" id="8274795">.</span><span class="ident" id="8274796">Pos</span><span class="op" id="8274799">(</span><span class="op" id="8274800">)</span><span class="op" id="8274801">,</span>&nbsp;<span class="ident" id="8274803">Position</span><span class="op" id="8274811">{</span><span class="ident" id="8274812">Offset</span><span class="op" id="8274818">:</span>&nbsp;<span class="num" id="8274820">0</span><span class="op" id="8274821">,</span>&nbsp;<span class="ident" id="8274823">Line</span><span class="op" id="8274827">:</span>&nbsp;<span class="num" id="8274829">1</span><span class="op" id="8274830">,</span>&nbsp;<span class="ident" id="8274832">Column</span><span class="op" id="8274838">:</span>&nbsp;<span class="num" id="8274840">1</span><span class="op" id="8274841">}</span><span class="op" id="8274842">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8274846">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274890">s</span>&nbsp;<span class="op" id="8274892">=</span>&nbsp;<span class="builtinfunc" id="8274894">new</span><span class="op" id="8274897">(</span><span class="ident" id="8274898">Scanner</span><span class="op" id="8274905">)</span><span class="op" id="8274906">.</span><span class="ident" id="8274907">Init</span><span class="op" id="8274911">(</span><span class="ident" id="8274912">strings</span><span class="op" id="8274919">.</span><span class="ident" id="8274920">NewReader</span><span class="op" id="8274929">(</span><span class="string" id="8274930">&#34;\n&#34;</span><span class="op" id="8274934">)</span><span class="op" id="8274935">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8274938">checkPos</span><span class="op" id="8274946">(</span><span class="ident" id="8274947">t</span><span class="op" id="8274948">,</span>&nbsp;<span class="ident" id="8274950">s</span><span class="op" id="8274951">.</span><span class="ident" id="8274952">Pos</span><span class="op" id="8274955">(</span><span class="op" id="8274956">)</span><span class="op" id="8274957">,</span>&nbsp;<span class="ident" id="8274959">Position</span><span class="op" id="8274967">{</span><span class="ident" id="8274968">Offset</span><span class="op" id="8274974">:</span>&nbsp;<span class="num" id="8274976">0</span><span class="op" id="8274977">,</span>&nbsp;<span class="ident" id="8274979">Line</span><span class="op" id="8274983">:</span>&nbsp;<span class="num" id="8274985">1</span><span class="op" id="8274986">,</span>&nbsp;<span class="ident" id="8274988">Column</span><span class="op" id="8274994">:</span>&nbsp;<span class="num" id="8274996">1</span><span class="op" id="8274997">}</span><span class="op" id="8274998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275001">checkNextPos</span><span class="op" id="8275013">(</span><span class="ident" id="8275014">t</span><span class="op" id="8275015">,</span>&nbsp;<span class="ident" id="8275017">s</span><span class="op" id="8275018">,</span>&nbsp;<span class="num" id="8275020">1</span><span class="op" id="8275021">,</span>&nbsp;<span class="num" id="8275023">2</span><span class="op" id="8275024">,</span>&nbsp;<span class="num" id="8275026">1</span><span class="op" id="8275027">,</span>&nbsp;<span class="string" id="8275029">&#39;\n&#39;</span><span class="op" id="8275033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8275036">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8275074">for</span>&nbsp;<span class="ident" id="8275078">i</span>&nbsp;<span class="op" id="8275080">:=</span>&nbsp;<span class="num" id="8275083">10</span><span class="op" id="8275085">;</span>&nbsp;<span class="ident" id="8275087">i</span>&nbsp;<span class="op" id="8275089">&gt;</span>&nbsp;<span class="num" id="8275091">0</span><span class="op" id="8275092">;</span>&nbsp;<span class="ident" id="8275094">i</span><span class="op" id="8275095">--</span>&nbsp;<span class="op" id="8275098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275102">checkScanPos</span><span class="op" id="8275114">(</span><span class="ident" id="8275115">t</span><span class="op" id="8275116">,</span>&nbsp;<span class="ident" id="8275118">s</span><span class="op" id="8275119">,</span>&nbsp;<span class="num" id="8275121">1</span><span class="op" id="8275122">,</span>&nbsp;<span class="num" id="8275124">2</span><span class="op" id="8275125">,</span>&nbsp;<span class="num" id="8275127">1</span><span class="op" id="8275128">,</span>&nbsp;<span class="ident" id="8275130">EOF</span><span class="op" id="8275133">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8275136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8275139">if</span>&nbsp;<span class="ident" id="8275142">s</span><span class="op" id="8275143">.</span><span class="ident" id="8275144">ErrorCount</span>&nbsp;<span class="op" id="8275155">!=</span>&nbsp;<span class="num" id="8275158">0</span>&nbsp;<span class="op" id="8275160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275164">t</span><span class="op" id="8275165">.</span><span class="ident" id="8275166">Errorf</span><span class="op" id="8275172">(</span><span class="string" id="8275173">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8275184">,</span>&nbsp;<span class="ident" id="8275186">s</span><span class="op" id="8275187">.</span><span class="ident" id="8275188">ErrorCount</span><span class="op" id="8275198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8275201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8275205">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275258">s</span>&nbsp;<span class="op" id="8275260">=</span>&nbsp;<span class="builtinfunc" id="8275262">new</span><span class="op" id="8275265">(</span><span class="ident" id="8275266">Scanner</span><span class="op" id="8275273">)</span><span class="op" id="8275274">.</span><span class="ident" id="8275275">Init</span><span class="op" id="8275279">(</span><span class="ident" id="8275280">strings</span><span class="op" id="8275287">.</span><span class="ident" id="8275288">NewReader</span><span class="op" id="8275297">(</span><span class="string" id="8275298">&#34;本&#34;</span><span class="op" id="8275303">)</span><span class="op" id="8275304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275307">checkPos</span><span class="op" id="8275315">(</span><span class="ident" id="8275316">t</span><span class="op" id="8275317">,</span>&nbsp;<span class="ident" id="8275319">s</span><span class="op" id="8275320">.</span><span class="ident" id="8275321">Pos</span><span class="op" id="8275324">(</span><span class="op" id="8275325">)</span><span class="op" id="8275326">,</span>&nbsp;<span class="ident" id="8275328">Position</span><span class="op" id="8275336">{</span><span class="ident" id="8275337">Offset</span><span class="op" id="8275343">:</span>&nbsp;<span class="num" id="8275345">0</span><span class="op" id="8275346">,</span>&nbsp;<span class="ident" id="8275348">Line</span><span class="op" id="8275352">:</span>&nbsp;<span class="num" id="8275354">1</span><span class="op" id="8275355">,</span>&nbsp;<span class="ident" id="8275357">Column</span><span class="op" id="8275363">:</span>&nbsp;<span class="num" id="8275365">1</span><span class="op" id="8275366">}</span><span class="op" id="8275367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275370">checkNextPos</span><span class="op" id="8275382">(</span><span class="ident" id="8275383">t</span><span class="op" id="8275384">,</span>&nbsp;<span class="ident" id="8275386">s</span><span class="op" id="8275387">,</span>&nbsp;<span class="num" id="8275389">3</span><span class="op" id="8275390">,</span>&nbsp;<span class="num" id="8275392">1</span><span class="op" id="8275393">,</span>&nbsp;<span class="num" id="8275395">2</span><span class="op" id="8275396">,</span>&nbsp;<span class="string" id="8275398">&#39;本&#39;</span><span class="op" id="8275403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8275406">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8275444">for</span>&nbsp;<span class="ident" id="8275448">i</span>&nbsp;<span class="op" id="8275450">:=</span>&nbsp;<span class="num" id="8275453">10</span><span class="op" id="8275455">;</span>&nbsp;<span class="ident" id="8275457">i</span>&nbsp;<span class="op" id="8275459">&gt;</span>&nbsp;<span class="num" id="8275461">0</span><span class="op" id="8275462">;</span>&nbsp;<span class="ident" id="8275464">i</span><span class="op" id="8275465">--</span>&nbsp;<span class="op" id="8275468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275472">checkScanPos</span><span class="op" id="8275484">(</span><span class="ident" id="8275485">t</span><span class="op" id="8275486">,</span>&nbsp;<span class="ident" id="8275488">s</span><span class="op" id="8275489">,</span>&nbsp;<span class="num" id="8275491">3</span><span class="op" id="8275492">,</span>&nbsp;<span class="num" id="8275494">1</span><span class="op" id="8275495">,</span>&nbsp;<span class="num" id="8275497">2</span><span class="op" id="8275498">,</span>&nbsp;<span class="ident" id="8275500">EOF</span><span class="op" id="8275503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8275506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8275509">if</span>&nbsp;<span class="ident" id="8275512">s</span><span class="op" id="8275513">.</span><span class="ident" id="8275514">ErrorCount</span>&nbsp;<span class="op" id="8275525">!=</span>&nbsp;<span class="num" id="8275528">0</span>&nbsp;<span class="op" id="8275530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275534">t</span><span class="op" id="8275535">.</span><span class="ident" id="8275536">Errorf</span><span class="op" id="8275542">(</span><span class="string" id="8275543">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8275554">,</span>&nbsp;<span class="ident" id="8275556">s</span><span class="op" id="8275557">.</span><span class="ident" id="8275558">ErrorCount</span><span class="op" id="8275568">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8275571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8275575">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275608">s</span>&nbsp;<span class="op" id="8275610">=</span>&nbsp;<span class="builtinfunc" id="8275612">new</span><span class="op" id="8275615">(</span><span class="ident" id="8275616">Scanner</span><span class="op" id="8275623">)</span><span class="op" id="8275624">.</span><span class="ident" id="8275625">Init</span><span class="op" id="8275629">(</span><span class="ident" id="8275630">strings</span><span class="op" id="8275637">.</span><span class="ident" id="8275638">NewReader</span><span class="op" id="8275647">(</span><span class="string" id="8275648">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="8275675">)</span><span class="op" id="8275676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275679">checkNextPos</span><span class="op" id="8275691">(</span><span class="ident" id="8275692">t</span><span class="op" id="8275693">,</span>&nbsp;<span class="ident" id="8275695">s</span><span class="op" id="8275696">,</span>&nbsp;<span class="num" id="8275698">1</span><span class="op" id="8275699">,</span>&nbsp;<span class="num" id="8275701">1</span><span class="op" id="8275702">,</span>&nbsp;<span class="num" id="8275704">2</span><span class="op" id="8275705">,</span>&nbsp;<span class="string" id="8275707">&#39;&nbsp;&#39;</span><span class="op" id="8275710">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275713">s</span><span class="op" id="8275714">.</span><span class="ident" id="8275715">Peek</span><span class="op" id="8275719">(</span><span class="op" id="8275720">)</span>&nbsp;<span class="comment" id="8275722">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275759">checkNextPos</span><span class="op" id="8275771">(</span><span class="ident" id="8275772">t</span><span class="op" id="8275773">,</span>&nbsp;<span class="ident" id="8275775">s</span><span class="op" id="8275776">,</span>&nbsp;<span class="num" id="8275778">2</span><span class="op" id="8275779">,</span>&nbsp;<span class="num" id="8275781">1</span><span class="op" id="8275782">,</span>&nbsp;<span class="num" id="8275784">3</span><span class="op" id="8275785">,</span>&nbsp;<span class="string" id="8275787">&#39;&nbsp;&#39;</span><span class="op" id="8275790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275793">checkNextPos</span><span class="op" id="8275805">(</span><span class="ident" id="8275806">t</span><span class="op" id="8275807">,</span>&nbsp;<span class="ident" id="8275809">s</span><span class="op" id="8275810">,</span>&nbsp;<span class="num" id="8275812">3</span><span class="op" id="8275813">,</span>&nbsp;<span class="num" id="8275815">1</span><span class="op" id="8275816">,</span>&nbsp;<span class="num" id="8275818">4</span><span class="op" id="8275819">,</span>&nbsp;<span class="string" id="8275821">&#39;f&#39;</span><span class="op" id="8275824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275827">checkNextPos</span><span class="op" id="8275839">(</span><span class="ident" id="8275840">t</span><span class="op" id="8275841">,</span>&nbsp;<span class="ident" id="8275843">s</span><span class="op" id="8275844">,</span>&nbsp;<span class="num" id="8275846">4</span><span class="op" id="8275847">,</span>&nbsp;<span class="num" id="8275849">1</span><span class="op" id="8275850">,</span>&nbsp;<span class="num" id="8275852">5</span><span class="op" id="8275853">,</span>&nbsp;<span class="string" id="8275855">&#39;o&#39;</span><span class="op" id="8275858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275861">checkNextPos</span><span class="op" id="8275873">(</span><span class="ident" id="8275874">t</span><span class="op" id="8275875">,</span>&nbsp;<span class="ident" id="8275877">s</span><span class="op" id="8275878">,</span>&nbsp;<span class="num" id="8275880">5</span><span class="op" id="8275881">,</span>&nbsp;<span class="num" id="8275883">1</span><span class="op" id="8275884">,</span>&nbsp;<span class="num" id="8275886">6</span><span class="op" id="8275887">,</span>&nbsp;<span class="string" id="8275889">&#39;o&#39;</span><span class="op" id="8275892">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275895">checkNextPos</span><span class="op" id="8275907">(</span><span class="ident" id="8275908">t</span><span class="op" id="8275909">,</span>&nbsp;<span class="ident" id="8275911">s</span><span class="op" id="8275912">,</span>&nbsp;<span class="num" id="8275914">8</span><span class="op" id="8275915">,</span>&nbsp;<span class="num" id="8275917">1</span><span class="op" id="8275918">,</span>&nbsp;<span class="num" id="8275920">7</span><span class="op" id="8275921">,</span>&nbsp;<span class="string" id="8275923">&#39;६&#39;</span><span class="op" id="8275928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275931">checkNextPos</span><span class="op" id="8275943">(</span><span class="ident" id="8275944">t</span><span class="op" id="8275945">,</span>&nbsp;<span class="ident" id="8275947">s</span><span class="op" id="8275948">,</span>&nbsp;<span class="num" id="8275950">11</span><span class="op" id="8275952">,</span>&nbsp;<span class="num" id="8275954">1</span><span class="op" id="8275955">,</span>&nbsp;<span class="num" id="8275957">8</span><span class="op" id="8275958">,</span>&nbsp;<span class="string" id="8275960">&#39;४&#39;</span><span class="op" id="8275965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8275968">checkNextPos</span><span class="op" id="8275980">(</span><span class="ident" id="8275981">t</span><span class="op" id="8275982">,</span>&nbsp;<span class="ident" id="8275984">s</span><span class="op" id="8275985">,</span>&nbsp;<span class="num" id="8275987">12</span><span class="op" id="8275989">,</span>&nbsp;<span class="num" id="8275991">1</span><span class="op" id="8275992">,</span>&nbsp;<span class="num" id="8275994">9</span><span class="op" id="8275995">,</span>&nbsp;<span class="string" id="8275997">&#39;&nbsp;&#39;</span><span class="op" id="8276000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276003">checkNextPos</span><span class="op" id="8276015">(</span><span class="ident" id="8276016">t</span><span class="op" id="8276017">,</span>&nbsp;<span class="ident" id="8276019">s</span><span class="op" id="8276020">,</span>&nbsp;<span class="num" id="8276022">13</span><span class="op" id="8276024">,</span>&nbsp;<span class="num" id="8276026">1</span><span class="op" id="8276027">,</span>&nbsp;<span class="num" id="8276029">10</span><span class="op" id="8276031">,</span>&nbsp;<span class="string" id="8276033">&#39;&nbsp;&#39;</span><span class="op" id="8276036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276039">checkNextPos</span><span class="op" id="8276051">(</span><span class="ident" id="8276052">t</span><span class="op" id="8276053">,</span>&nbsp;<span class="ident" id="8276055">s</span><span class="op" id="8276056">,</span>&nbsp;<span class="num" id="8276058">14</span><span class="op" id="8276060">,</span>&nbsp;<span class="num" id="8276062">2</span><span class="op" id="8276063">,</span>&nbsp;<span class="num" id="8276065">1</span><span class="op" id="8276066">,</span>&nbsp;<span class="string" id="8276068">&#39;\n&#39;</span><span class="op" id="8276072">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276075">checkNextPos</span><span class="op" id="8276087">(</span><span class="ident" id="8276088">t</span><span class="op" id="8276089">,</span>&nbsp;<span class="ident" id="8276091">s</span><span class="op" id="8276092">,</span>&nbsp;<span class="num" id="8276094">15</span><span class="op" id="8276096">,</span>&nbsp;<span class="num" id="8276098">3</span><span class="op" id="8276099">,</span>&nbsp;<span class="num" id="8276101">1</span><span class="op" id="8276102">,</span>&nbsp;<span class="string" id="8276104">&#39;\n&#39;</span><span class="op" id="8276108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276111">checkNextPos</span><span class="op" id="8276123">(</span><span class="ident" id="8276124">t</span><span class="op" id="8276125">,</span>&nbsp;<span class="ident" id="8276127">s</span><span class="op" id="8276128">,</span>&nbsp;<span class="num" id="8276130">18</span><span class="op" id="8276132">,</span>&nbsp;<span class="num" id="8276134">3</span><span class="op" id="8276135">,</span>&nbsp;<span class="num" id="8276137">2</span><span class="op" id="8276138">,</span>&nbsp;<span class="string" id="8276140">&#39;本&#39;</span><span class="op" id="8276145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276148">checkNextPos</span><span class="op" id="8276160">(</span><span class="ident" id="8276161">t</span><span class="op" id="8276162">,</span>&nbsp;<span class="ident" id="8276164">s</span><span class="op" id="8276165">,</span>&nbsp;<span class="num" id="8276167">21</span><span class="op" id="8276169">,</span>&nbsp;<span class="num" id="8276171">3</span><span class="op" id="8276172">,</span>&nbsp;<span class="num" id="8276174">3</span><span class="op" id="8276175">,</span>&nbsp;<span class="string" id="8276177">&#39;語&#39;</span><span class="op" id="8276182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276185">checkNextPos</span><span class="op" id="8276197">(</span><span class="ident" id="8276198">t</span><span class="op" id="8276199">,</span>&nbsp;<span class="ident" id="8276201">s</span><span class="op" id="8276202">,</span>&nbsp;<span class="num" id="8276204">22</span><span class="op" id="8276206">,</span>&nbsp;<span class="num" id="8276208">4</span><span class="op" id="8276209">,</span>&nbsp;<span class="num" id="8276211">1</span><span class="op" id="8276212">,</span>&nbsp;<span class="string" id="8276214">&#39;\n&#39;</span><span class="op" id="8276218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8276221">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8276259">for</span>&nbsp;<span class="ident" id="8276263">i</span>&nbsp;<span class="op" id="8276265">:=</span>&nbsp;<span class="num" id="8276268">10</span><span class="op" id="8276270">;</span>&nbsp;<span class="ident" id="8276272">i</span>&nbsp;<span class="op" id="8276274">&gt;</span>&nbsp;<span class="num" id="8276276">0</span><span class="op" id="8276277">;</span>&nbsp;<span class="ident" id="8276279">i</span><span class="op" id="8276280">--</span>&nbsp;<span class="op" id="8276283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276287">checkScanPos</span><span class="op" id="8276299">(</span><span class="ident" id="8276300">t</span><span class="op" id="8276301">,</span>&nbsp;<span class="ident" id="8276303">s</span><span class="op" id="8276304">,</span>&nbsp;<span class="num" id="8276306">22</span><span class="op" id="8276308">,</span>&nbsp;<span class="num" id="8276310">4</span><span class="op" id="8276311">,</span>&nbsp;<span class="num" id="8276313">1</span><span class="op" id="8276314">,</span>&nbsp;<span class="ident" id="8276316">EOF</span><span class="op" id="8276319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8276322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8276325">if</span>&nbsp;<span class="ident" id="8276328">s</span><span class="op" id="8276329">.</span><span class="ident" id="8276330">ErrorCount</span>&nbsp;<span class="op" id="8276341">!=</span>&nbsp;<span class="num" id="8276344">0</span>&nbsp;<span class="op" id="8276346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276350">t</span><span class="op" id="8276351">.</span><span class="ident" id="8276352">Errorf</span><span class="op" id="8276358">(</span><span class="string" id="8276359">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8276370">,</span>&nbsp;<span class="ident" id="8276372">s</span><span class="op" id="8276373">.</span><span class="ident" id="8276374">ErrorCount</span><span class="op" id="8276384">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8276387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8276391">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276424">s</span>&nbsp;<span class="op" id="8276426">=</span>&nbsp;<span class="builtinfunc" id="8276428">new</span><span class="op" id="8276431">(</span><span class="ident" id="8276432">Scanner</span><span class="op" id="8276439">)</span><span class="op" id="8276440">.</span><span class="ident" id="8276441">Init</span><span class="op" id="8276445">(</span><span class="ident" id="8276446">strings</span><span class="op" id="8276453">.</span><span class="ident" id="8276454">NewReader</span><span class="op" id="8276463">(</span><span class="string" id="8276464">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="8276482">)</span><span class="op" id="8276483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276486">s</span><span class="op" id="8276487">.</span><span class="ident" id="8276488">Mode</span>&nbsp;<span class="op" id="8276493">=</span>&nbsp;<span class="num" id="8276495">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276498">s</span><span class="op" id="8276499">.</span><span class="ident" id="8276500">Whitespace</span>&nbsp;<span class="op" id="8276511">=</span>&nbsp;<span class="num" id="8276513">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276516">checkScanPos</span><span class="op" id="8276528">(</span><span class="ident" id="8276529">t</span><span class="op" id="8276530">,</span>&nbsp;<span class="ident" id="8276532">s</span><span class="op" id="8276533">,</span>&nbsp;<span class="num" id="8276535">0</span><span class="op" id="8276536">,</span>&nbsp;<span class="num" id="8276538">1</span><span class="op" id="8276539">,</span>&nbsp;<span class="num" id="8276541">1</span><span class="op" id="8276542">,</span>&nbsp;<span class="string" id="8276544">&#39;a&#39;</span><span class="op" id="8276547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276550">s</span><span class="op" id="8276551">.</span><span class="ident" id="8276552">Peek</span><span class="op" id="8276556">(</span><span class="op" id="8276557">)</span>&nbsp;<span class="comment" id="8276559">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276596">checkScanPos</span><span class="op" id="8276608">(</span><span class="ident" id="8276609">t</span><span class="op" id="8276610">,</span>&nbsp;<span class="ident" id="8276612">s</span><span class="op" id="8276613">,</span>&nbsp;<span class="num" id="8276615">1</span><span class="op" id="8276616">,</span>&nbsp;<span class="num" id="8276618">1</span><span class="op" id="8276619">,</span>&nbsp;<span class="num" id="8276621">2</span><span class="op" id="8276622">,</span>&nbsp;<span class="string" id="8276624">&#39;b&#39;</span><span class="op" id="8276627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276630">checkScanPos</span><span class="op" id="8276642">(</span><span class="ident" id="8276643">t</span><span class="op" id="8276644">,</span>&nbsp;<span class="ident" id="8276646">s</span><span class="op" id="8276647">,</span>&nbsp;<span class="num" id="8276649">2</span><span class="op" id="8276650">,</span>&nbsp;<span class="num" id="8276652">1</span><span class="op" id="8276653">,</span>&nbsp;<span class="num" id="8276655">3</span><span class="op" id="8276656">,</span>&nbsp;<span class="string" id="8276658">&#39;c&#39;</span><span class="op" id="8276661">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276664">checkScanPos</span><span class="op" id="8276676">(</span><span class="ident" id="8276677">t</span><span class="op" id="8276678">,</span>&nbsp;<span class="ident" id="8276680">s</span><span class="op" id="8276681">,</span>&nbsp;<span class="num" id="8276683">3</span><span class="op" id="8276684">,</span>&nbsp;<span class="num" id="8276686">1</span><span class="op" id="8276687">,</span>&nbsp;<span class="num" id="8276689">4</span><span class="op" id="8276690">,</span>&nbsp;<span class="string" id="8276692">&#39;\n&#39;</span><span class="op" id="8276696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276699">checkScanPos</span><span class="op" id="8276711">(</span><span class="ident" id="8276712">t</span><span class="op" id="8276713">,</span>&nbsp;<span class="ident" id="8276715">s</span><span class="op" id="8276716">,</span>&nbsp;<span class="num" id="8276718">4</span><span class="op" id="8276719">,</span>&nbsp;<span class="num" id="8276721">2</span><span class="op" id="8276722">,</span>&nbsp;<span class="num" id="8276724">1</span><span class="op" id="8276725">,</span>&nbsp;<span class="string" id="8276727">&#39;本&#39;</span><span class="op" id="8276732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276735">checkScanPos</span><span class="op" id="8276747">(</span><span class="ident" id="8276748">t</span><span class="op" id="8276749">,</span>&nbsp;<span class="ident" id="8276751">s</span><span class="op" id="8276752">,</span>&nbsp;<span class="num" id="8276754">7</span><span class="op" id="8276755">,</span>&nbsp;<span class="num" id="8276757">2</span><span class="op" id="8276758">,</span>&nbsp;<span class="num" id="8276760">2</span><span class="op" id="8276761">,</span>&nbsp;<span class="string" id="8276763">&#39;語&#39;</span><span class="op" id="8276768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276771">checkScanPos</span><span class="op" id="8276783">(</span><span class="ident" id="8276784">t</span><span class="op" id="8276785">,</span>&nbsp;<span class="ident" id="8276787">s</span><span class="op" id="8276788">,</span>&nbsp;<span class="num" id="8276790">10</span><span class="op" id="8276792">,</span>&nbsp;<span class="num" id="8276794">2</span><span class="op" id="8276795">,</span>&nbsp;<span class="num" id="8276797">3</span><span class="op" id="8276798">,</span>&nbsp;<span class="string" id="8276800">&#39;\n&#39;</span><span class="op" id="8276804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276807">checkScanPos</span><span class="op" id="8276819">(</span><span class="ident" id="8276820">t</span><span class="op" id="8276821">,</span>&nbsp;<span class="ident" id="8276823">s</span><span class="op" id="8276824">,</span>&nbsp;<span class="num" id="8276826">11</span><span class="op" id="8276828">,</span>&nbsp;<span class="num" id="8276830">3</span><span class="op" id="8276831">,</span>&nbsp;<span class="num" id="8276833">1</span><span class="op" id="8276834">,</span>&nbsp;<span class="string" id="8276836">&#39;\n&#39;</span><span class="op" id="8276840">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276843">checkScanPos</span><span class="op" id="8276855">(</span><span class="ident" id="8276856">t</span><span class="op" id="8276857">,</span>&nbsp;<span class="ident" id="8276859">s</span><span class="op" id="8276860">,</span>&nbsp;<span class="num" id="8276862">12</span><span class="op" id="8276864">,</span>&nbsp;<span class="num" id="8276866">4</span><span class="op" id="8276867">,</span>&nbsp;<span class="num" id="8276869">1</span><span class="op" id="8276870">,</span>&nbsp;<span class="string" id="8276872">&#39;x&#39;</span><span class="op" id="8276875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8276878">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8276916">for</span>&nbsp;<span class="ident" id="8276920">i</span>&nbsp;<span class="op" id="8276922">:=</span>&nbsp;<span class="num" id="8276925">10</span><span class="op" id="8276927">;</span>&nbsp;<span class="ident" id="8276929">i</span>&nbsp;<span class="op" id="8276931">&gt;</span>&nbsp;<span class="num" id="8276933">0</span><span class="op" id="8276934">;</span>&nbsp;<span class="ident" id="8276936">i</span><span class="op" id="8276937">--</span>&nbsp;<span class="op" id="8276940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8276944">checkScanPos</span><span class="op" id="8276956">(</span><span class="ident" id="8276957">t</span><span class="op" id="8276958">,</span>&nbsp;<span class="ident" id="8276960">s</span><span class="op" id="8276961">,</span>&nbsp;<span class="num" id="8276963">13</span><span class="op" id="8276965">,</span>&nbsp;<span class="num" id="8276967">4</span><span class="op" id="8276968">,</span>&nbsp;<span class="num" id="8276970">2</span><span class="op" id="8276971">,</span>&nbsp;<span class="ident" id="8276973">EOF</span><span class="op" id="8276976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8276979">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8276982">if</span>&nbsp;<span class="ident" id="8276985">s</span><span class="op" id="8276986">.</span><span class="ident" id="8276987">ErrorCount</span>&nbsp;<span class="op" id="8276998">!=</span>&nbsp;<span class="num" id="8277001">0</span>&nbsp;<span class="op" id="8277003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277007">t</span><span class="op" id="8277008">.</span><span class="ident" id="8277009">Errorf</span><span class="op" id="8277015">(</span><span class="string" id="8277016">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8277027">,</span>&nbsp;<span class="ident" id="8277029">s</span><span class="op" id="8277030">.</span><span class="ident" id="8277031">ErrorCount</span><span class="op" id="8277041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277044">}</span><br>
<span class="lineno"></span><span class="op" id="8277046">}</span>
</div>
</body>
</html>
