<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7861115">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7861170">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7861224">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7861275">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7861340">package</span>&nbsp;<span class="ident" id="7861348">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7861353">import</span>&nbsp;<span class="op" id="7861360">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7861363">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7861369">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7861380">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7861390">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7861393">var</span>&nbsp;<span class="ident" id="7861397">chkReadErrTests</span>&nbsp;<span class="op" id="7861413">=</span>&nbsp;<span class="op" id="7861415">[</span><span class="op" id="7861416">]</span><span class="keyword" id="7861417">struct</span>&nbsp;<span class="op" id="7861424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861427">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7861436">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861441">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7861450">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861457">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7861466">*</span><span class="ident" id="7861467">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861474">expected</span>&nbsp;<span class="builtintype" id="7861483">error</span><br>
<span class="lineno">20</span><span class="op" id="7861489">}</span><span class="op" id="7861490">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861494">{</span><span class="num" id="7861495">100</span><span class="op" id="7861498">,</span>&nbsp;<span class="ident" id="7861500">nil</span><span class="op" id="7861503">,</span>&nbsp;<span class="op" id="7861505">&amp;</span><span class="ident" id="7861506">netFD</span><span class="op" id="7861511">{</span><span class="ident" id="7861512">sotype</span><span class="op" id="7861518">:</span>&nbsp;<span class="ident" id="7861520">syscall</span><span class="op" id="7861527">.</span><span class="ident" id="7861528">SOCK_STREAM</span><span class="op" id="7861539">}</span><span class="op" id="7861540">,</span>&nbsp;<span class="ident" id="7861542">nil</span><span class="op" id="7861545">}</span><span class="op" id="7861546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861549">{</span><span class="num" id="7861550">100</span><span class="op" id="7861553">,</span>&nbsp;<span class="ident" id="7861555">io</span><span class="op" id="7861557">.</span><span class="ident" id="7861558">EOF</span><span class="op" id="7861561">,</span>&nbsp;<span class="op" id="7861563">&amp;</span><span class="ident" id="7861564">netFD</span><span class="op" id="7861569">{</span><span class="ident" id="7861570">sotype</span><span class="op" id="7861576">:</span>&nbsp;<span class="ident" id="7861578">syscall</span><span class="op" id="7861585">.</span><span class="ident" id="7861586">SOCK_STREAM</span><span class="op" id="7861597">}</span><span class="op" id="7861598">,</span>&nbsp;<span class="ident" id="7861600">io</span><span class="op" id="7861602">.</span><span class="ident" id="7861603">EOF</span><span class="op" id="7861606">}</span><span class="op" id="7861607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861610">{</span><span class="num" id="7861611">100</span><span class="op" id="7861614">,</span>&nbsp;<span class="ident" id="7861616">errClosing</span><span class="op" id="7861626">,</span>&nbsp;<span class="op" id="7861628">&amp;</span><span class="ident" id="7861629">netFD</span><span class="op" id="7861634">{</span><span class="ident" id="7861635">sotype</span><span class="op" id="7861641">:</span>&nbsp;<span class="ident" id="7861643">syscall</span><span class="op" id="7861650">.</span><span class="ident" id="7861651">SOCK_STREAM</span><span class="op" id="7861662">}</span><span class="op" id="7861663">,</span>&nbsp;<span class="ident" id="7861665">errClosing</span><span class="op" id="7861675">}</span><span class="op" id="7861676">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861679">{</span><span class="num" id="7861680">0</span><span class="op" id="7861681">,</span>&nbsp;<span class="ident" id="7861683">nil</span><span class="op" id="7861686">,</span>&nbsp;<span class="op" id="7861688">&amp;</span><span class="ident" id="7861689">netFD</span><span class="op" id="7861694">{</span><span class="ident" id="7861695">sotype</span><span class="op" id="7861701">:</span>&nbsp;<span class="ident" id="7861703">syscall</span><span class="op" id="7861710">.</span><span class="ident" id="7861711">SOCK_STREAM</span><span class="op" id="7861722">}</span><span class="op" id="7861723">,</span>&nbsp;<span class="ident" id="7861725">io</span><span class="op" id="7861727">.</span><span class="ident" id="7861728">EOF</span><span class="op" id="7861731">}</span><span class="op" id="7861732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861735">{</span><span class="num" id="7861736">0</span><span class="op" id="7861737">,</span>&nbsp;<span class="ident" id="7861739">io</span><span class="op" id="7861741">.</span><span class="ident" id="7861742">EOF</span><span class="op" id="7861745">,</span>&nbsp;<span class="op" id="7861747">&amp;</span><span class="ident" id="7861748">netFD</span><span class="op" id="7861753">{</span><span class="ident" id="7861754">sotype</span><span class="op" id="7861760">:</span>&nbsp;<span class="ident" id="7861762">syscall</span><span class="op" id="7861769">.</span><span class="ident" id="7861770">SOCK_STREAM</span><span class="op" id="7861781">}</span><span class="op" id="7861782">,</span>&nbsp;<span class="ident" id="7861784">io</span><span class="op" id="7861786">.</span><span class="ident" id="7861787">EOF</span><span class="op" id="7861790">}</span><span class="op" id="7861791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861794">{</span><span class="num" id="7861795">0</span><span class="op" id="7861796">,</span>&nbsp;<span class="ident" id="7861798">errClosing</span><span class="op" id="7861808">,</span>&nbsp;<span class="op" id="7861810">&amp;</span><span class="ident" id="7861811">netFD</span><span class="op" id="7861816">{</span><span class="ident" id="7861817">sotype</span><span class="op" id="7861823">:</span>&nbsp;<span class="ident" id="7861825">syscall</span><span class="op" id="7861832">.</span><span class="ident" id="7861833">SOCK_STREAM</span><span class="op" id="7861844">}</span><span class="op" id="7861845">,</span>&nbsp;<span class="ident" id="7861847">errClosing</span><span class="op" id="7861857">}</span><span class="op" id="7861858">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861862">{</span><span class="num" id="7861863">100</span><span class="op" id="7861866">,</span>&nbsp;<span class="ident" id="7861868">nil</span><span class="op" id="7861871">,</span>&nbsp;<span class="op" id="7861873">&amp;</span><span class="ident" id="7861874">netFD</span><span class="op" id="7861879">{</span><span class="ident" id="7861880">sotype</span><span class="op" id="7861886">:</span>&nbsp;<span class="ident" id="7861888">syscall</span><span class="op" id="7861895">.</span><span class="ident" id="7861896">SOCK_DGRAM</span><span class="op" id="7861906">}</span><span class="op" id="7861907">,</span>&nbsp;<span class="ident" id="7861909">nil</span><span class="op" id="7861912">}</span><span class="op" id="7861913">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861916">{</span><span class="num" id="7861917">100</span><span class="op" id="7861920">,</span>&nbsp;<span class="ident" id="7861922">io</span><span class="op" id="7861924">.</span><span class="ident" id="7861925">EOF</span><span class="op" id="7861928">,</span>&nbsp;<span class="op" id="7861930">&amp;</span><span class="ident" id="7861931">netFD</span><span class="op" id="7861936">{</span><span class="ident" id="7861937">sotype</span><span class="op" id="7861943">:</span>&nbsp;<span class="ident" id="7861945">syscall</span><span class="op" id="7861952">.</span><span class="ident" id="7861953">SOCK_DGRAM</span><span class="op" id="7861963">}</span><span class="op" id="7861964">,</span>&nbsp;<span class="ident" id="7861966">io</span><span class="op" id="7861968">.</span><span class="ident" id="7861969">EOF</span><span class="op" id="7861972">}</span><span class="op" id="7861973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861976">{</span><span class="num" id="7861977">100</span><span class="op" id="7861980">,</span>&nbsp;<span class="ident" id="7861982">errClosing</span><span class="op" id="7861992">,</span>&nbsp;<span class="op" id="7861994">&amp;</span><span class="ident" id="7861995">netFD</span><span class="op" id="7862000">{</span><span class="ident" id="7862001">sotype</span><span class="op" id="7862007">:</span>&nbsp;<span class="ident" id="7862009">syscall</span><span class="op" id="7862016">.</span><span class="ident" id="7862017">SOCK_DGRAM</span><span class="op" id="7862027">}</span><span class="op" id="7862028">,</span>&nbsp;<span class="ident" id="7862030">errClosing</span><span class="op" id="7862040">}</span><span class="op" id="7862041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862044">{</span><span class="num" id="7862045">0</span><span class="op" id="7862046">,</span>&nbsp;<span class="ident" id="7862048">nil</span><span class="op" id="7862051">,</span>&nbsp;<span class="op" id="7862053">&amp;</span><span class="ident" id="7862054">netFD</span><span class="op" id="7862059">{</span><span class="ident" id="7862060">sotype</span><span class="op" id="7862066">:</span>&nbsp;<span class="ident" id="7862068">syscall</span><span class="op" id="7862075">.</span><span class="ident" id="7862076">SOCK_DGRAM</span><span class="op" id="7862086">}</span><span class="op" id="7862087">,</span>&nbsp;<span class="ident" id="7862089">nil</span><span class="op" id="7862092">}</span><span class="op" id="7862093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862096">{</span><span class="num" id="7862097">0</span><span class="op" id="7862098">,</span>&nbsp;<span class="ident" id="7862100">io</span><span class="op" id="7862102">.</span><span class="ident" id="7862103">EOF</span><span class="op" id="7862106">,</span>&nbsp;<span class="op" id="7862108">&amp;</span><span class="ident" id="7862109">netFD</span><span class="op" id="7862114">{</span><span class="ident" id="7862115">sotype</span><span class="op" id="7862121">:</span>&nbsp;<span class="ident" id="7862123">syscall</span><span class="op" id="7862130">.</span><span class="ident" id="7862131">SOCK_DGRAM</span><span class="op" id="7862141">}</span><span class="op" id="7862142">,</span>&nbsp;<span class="ident" id="7862144">io</span><span class="op" id="7862146">.</span><span class="ident" id="7862147">EOF</span><span class="op" id="7862150">}</span><span class="op" id="7862151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862154">{</span><span class="num" id="7862155">0</span><span class="op" id="7862156">,</span>&nbsp;<span class="ident" id="7862158">errClosing</span><span class="op" id="7862168">,</span>&nbsp;<span class="op" id="7862170">&amp;</span><span class="ident" id="7862171">netFD</span><span class="op" id="7862176">{</span><span class="ident" id="7862177">sotype</span><span class="op" id="7862183">:</span>&nbsp;<span class="ident" id="7862185">syscall</span><span class="op" id="7862192">.</span><span class="ident" id="7862193">SOCK_DGRAM</span><span class="op" id="7862203">}</span><span class="op" id="7862204">,</span>&nbsp;<span class="ident" id="7862206">errClosing</span><span class="op" id="7862216">}</span><span class="op" id="7862217">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862221">{</span><span class="num" id="7862222">100</span><span class="op" id="7862225">,</span>&nbsp;<span class="ident" id="7862227">nil</span><span class="op" id="7862230">,</span>&nbsp;<span class="op" id="7862232">&amp;</span><span class="ident" id="7862233">netFD</span><span class="op" id="7862238">{</span><span class="ident" id="7862239">sotype</span><span class="op" id="7862245">:</span>&nbsp;<span class="ident" id="7862247">syscall</span><span class="op" id="7862254">.</span><span class="ident" id="7862255">SOCK_SEQPACKET</span><span class="op" id="7862269">}</span><span class="op" id="7862270">,</span>&nbsp;<span class="ident" id="7862272">nil</span><span class="op" id="7862275">}</span><span class="op" id="7862276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862279">{</span><span class="num" id="7862280">100</span><span class="op" id="7862283">,</span>&nbsp;<span class="ident" id="7862285">io</span><span class="op" id="7862287">.</span><span class="ident" id="7862288">EOF</span><span class="op" id="7862291">,</span>&nbsp;<span class="op" id="7862293">&amp;</span><span class="ident" id="7862294">netFD</span><span class="op" id="7862299">{</span><span class="ident" id="7862300">sotype</span><span class="op" id="7862306">:</span>&nbsp;<span class="ident" id="7862308">syscall</span><span class="op" id="7862315">.</span><span class="ident" id="7862316">SOCK_SEQPACKET</span><span class="op" id="7862330">}</span><span class="op" id="7862331">,</span>&nbsp;<span class="ident" id="7862333">io</span><span class="op" id="7862335">.</span><span class="ident" id="7862336">EOF</span><span class="op" id="7862339">}</span><span class="op" id="7862340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862343">{</span><span class="num" id="7862344">100</span><span class="op" id="7862347">,</span>&nbsp;<span class="ident" id="7862349">errClosing</span><span class="op" id="7862359">,</span>&nbsp;<span class="op" id="7862361">&amp;</span><span class="ident" id="7862362">netFD</span><span class="op" id="7862367">{</span><span class="ident" id="7862368">sotype</span><span class="op" id="7862374">:</span>&nbsp;<span class="ident" id="7862376">syscall</span><span class="op" id="7862383">.</span><span class="ident" id="7862384">SOCK_SEQPACKET</span><span class="op" id="7862398">}</span><span class="op" id="7862399">,</span>&nbsp;<span class="ident" id="7862401">errClosing</span><span class="op" id="7862411">}</span><span class="op" id="7862412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862415">{</span><span class="num" id="7862416">0</span><span class="op" id="7862417">,</span>&nbsp;<span class="ident" id="7862419">nil</span><span class="op" id="7862422">,</span>&nbsp;<span class="op" id="7862424">&amp;</span><span class="ident" id="7862425">netFD</span><span class="op" id="7862430">{</span><span class="ident" id="7862431">sotype</span><span class="op" id="7862437">:</span>&nbsp;<span class="ident" id="7862439">syscall</span><span class="op" id="7862446">.</span><span class="ident" id="7862447">SOCK_SEQPACKET</span><span class="op" id="7862461">}</span><span class="op" id="7862462">,</span>&nbsp;<span class="ident" id="7862464">io</span><span class="op" id="7862466">.</span><span class="ident" id="7862467">EOF</span><span class="op" id="7862470">}</span><span class="op" id="7862471">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862474">{</span><span class="num" id="7862475">0</span><span class="op" id="7862476">,</span>&nbsp;<span class="ident" id="7862478">io</span><span class="op" id="7862480">.</span><span class="ident" id="7862481">EOF</span><span class="op" id="7862484">,</span>&nbsp;<span class="op" id="7862486">&amp;</span><span class="ident" id="7862487">netFD</span><span class="op" id="7862492">{</span><span class="ident" id="7862493">sotype</span><span class="op" id="7862499">:</span>&nbsp;<span class="ident" id="7862501">syscall</span><span class="op" id="7862508">.</span><span class="ident" id="7862509">SOCK_SEQPACKET</span><span class="op" id="7862523">}</span><span class="op" id="7862524">,</span>&nbsp;<span class="ident" id="7862526">io</span><span class="op" id="7862528">.</span><span class="ident" id="7862529">EOF</span><span class="op" id="7862532">}</span><span class="op" id="7862533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862536">{</span><span class="num" id="7862537">0</span><span class="op" id="7862538">,</span>&nbsp;<span class="ident" id="7862540">errClosing</span><span class="op" id="7862550">,</span>&nbsp;<span class="op" id="7862552">&amp;</span><span class="ident" id="7862553">netFD</span><span class="op" id="7862558">{</span><span class="ident" id="7862559">sotype</span><span class="op" id="7862565">:</span>&nbsp;<span class="ident" id="7862567">syscall</span><span class="op" id="7862574">.</span><span class="ident" id="7862575">SOCK_SEQPACKET</span><span class="op" id="7862589">}</span><span class="op" id="7862590">,</span>&nbsp;<span class="ident" id="7862592">errClosing</span><span class="op" id="7862602">}</span><span class="op" id="7862603">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862607">{</span><span class="num" id="7862608">100</span><span class="op" id="7862611">,</span>&nbsp;<span class="ident" id="7862613">nil</span><span class="op" id="7862616">,</span>&nbsp;<span class="op" id="7862618">&amp;</span><span class="ident" id="7862619">netFD</span><span class="op" id="7862624">{</span><span class="ident" id="7862625">sotype</span><span class="op" id="7862631">:</span>&nbsp;<span class="ident" id="7862633">syscall</span><span class="op" id="7862640">.</span><span class="ident" id="7862641">SOCK_RAW</span><span class="op" id="7862649">}</span><span class="op" id="7862650">,</span>&nbsp;<span class="ident" id="7862652">nil</span><span class="op" id="7862655">}</span><span class="op" id="7862656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862659">{</span><span class="num" id="7862660">100</span><span class="op" id="7862663">,</span>&nbsp;<span class="ident" id="7862665">io</span><span class="op" id="7862667">.</span><span class="ident" id="7862668">EOF</span><span class="op" id="7862671">,</span>&nbsp;<span class="op" id="7862673">&amp;</span><span class="ident" id="7862674">netFD</span><span class="op" id="7862679">{</span><span class="ident" id="7862680">sotype</span><span class="op" id="7862686">:</span>&nbsp;<span class="ident" id="7862688">syscall</span><span class="op" id="7862695">.</span><span class="ident" id="7862696">SOCK_RAW</span><span class="op" id="7862704">}</span><span class="op" id="7862705">,</span>&nbsp;<span class="ident" id="7862707">io</span><span class="op" id="7862709">.</span><span class="ident" id="7862710">EOF</span><span class="op" id="7862713">}</span><span class="op" id="7862714">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862717">{</span><span class="num" id="7862718">100</span><span class="op" id="7862721">,</span>&nbsp;<span class="ident" id="7862723">errClosing</span><span class="op" id="7862733">,</span>&nbsp;<span class="op" id="7862735">&amp;</span><span class="ident" id="7862736">netFD</span><span class="op" id="7862741">{</span><span class="ident" id="7862742">sotype</span><span class="op" id="7862748">:</span>&nbsp;<span class="ident" id="7862750">syscall</span><span class="op" id="7862757">.</span><span class="ident" id="7862758">SOCK_RAW</span><span class="op" id="7862766">}</span><span class="op" id="7862767">,</span>&nbsp;<span class="ident" id="7862769">errClosing</span><span class="op" id="7862779">}</span><span class="op" id="7862780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862783">{</span><span class="num" id="7862784">0</span><span class="op" id="7862785">,</span>&nbsp;<span class="ident" id="7862787">nil</span><span class="op" id="7862790">,</span>&nbsp;<span class="op" id="7862792">&amp;</span><span class="ident" id="7862793">netFD</span><span class="op" id="7862798">{</span><span class="ident" id="7862799">sotype</span><span class="op" id="7862805">:</span>&nbsp;<span class="ident" id="7862807">syscall</span><span class="op" id="7862814">.</span><span class="ident" id="7862815">SOCK_RAW</span><span class="op" id="7862823">}</span><span class="op" id="7862824">,</span>&nbsp;<span class="ident" id="7862826">nil</span><span class="op" id="7862829">}</span><span class="op" id="7862830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862833">{</span><span class="num" id="7862834">0</span><span class="op" id="7862835">,</span>&nbsp;<span class="ident" id="7862837">io</span><span class="op" id="7862839">.</span><span class="ident" id="7862840">EOF</span><span class="op" id="7862843">,</span>&nbsp;<span class="op" id="7862845">&amp;</span><span class="ident" id="7862846">netFD</span><span class="op" id="7862851">{</span><span class="ident" id="7862852">sotype</span><span class="op" id="7862858">:</span>&nbsp;<span class="ident" id="7862860">syscall</span><span class="op" id="7862867">.</span><span class="ident" id="7862868">SOCK_RAW</span><span class="op" id="7862876">}</span><span class="op" id="7862877">,</span>&nbsp;<span class="ident" id="7862879">io</span><span class="op" id="7862881">.</span><span class="ident" id="7862882">EOF</span><span class="op" id="7862885">}</span><span class="op" id="7862886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862889">{</span><span class="num" id="7862890">0</span><span class="op" id="7862891">,</span>&nbsp;<span class="ident" id="7862893">errClosing</span><span class="op" id="7862903">,</span>&nbsp;<span class="op" id="7862905">&amp;</span><span class="ident" id="7862906">netFD</span><span class="op" id="7862911">{</span><span class="ident" id="7862912">sotype</span><span class="op" id="7862918">:</span>&nbsp;<span class="ident" id="7862920">syscall</span><span class="op" id="7862927">.</span><span class="ident" id="7862928">SOCK_RAW</span><span class="op" id="7862936">}</span><span class="op" id="7862937">,</span>&nbsp;<span class="ident" id="7862939">errClosing</span><span class="op" id="7862949">}</span><span class="op" id="7862950">,</span><br>
<span class="lineno"></span><span class="op" id="7862952">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7862955">func</span>&nbsp;<span class="ident" id="7862960">TestChkReadErr</span><span class="op" id="7862974">(</span><span class="ident" id="7862975">t</span>&nbsp;<span class="op" id="7862977">*</span><span class="ident" id="7862978">testing</span><span class="op" id="7862985">.</span><span class="ident" id="7862986">T</span><span class="op" id="7862987">)</span>&nbsp;<span class="op" id="7862989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862992">for</span>&nbsp;<span class="ident" id="7862996">_</span><span class="op" id="7862997">,</span>&nbsp;<span class="ident" id="7862999">tt</span>&nbsp;<span class="op" id="7863002">:=</span>&nbsp;<span class="keyword" id="7863005">range</span>&nbsp;<span class="ident" id="7863011">chkReadErrTests</span>&nbsp;<span class="op" id="7863027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863031">actual</span>&nbsp;<span class="op" id="7863038">:=</span>&nbsp;<span class="ident" id="7863041">chkReadErr</span><span class="op" id="7863051">(</span><span class="ident" id="7863052">tt</span><span class="op" id="7863054">.</span><span class="ident" id="7863055">n</span><span class="op" id="7863056">,</span>&nbsp;<span class="ident" id="7863058">tt</span><span class="op" id="7863060">.</span><span class="ident" id="7863061">err</span><span class="op" id="7863064">,</span>&nbsp;<span class="ident" id="7863066">tt</span><span class="op" id="7863068">.</span><span class="ident" id="7863069">fd</span><span class="op" id="7863071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863075">if</span>&nbsp;<span class="ident" id="7863078">actual</span>&nbsp;<span class="op" id="7863085">!=</span>&nbsp;<span class="ident" id="7863088">tt</span><span class="op" id="7863090">.</span><span class="ident" id="7863091">expected</span>&nbsp;<span class="op" id="7863100">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863105">t</span><span class="op" id="7863106">.</span><span class="ident" id="7863107">Errorf</span><span class="op" id="7863113">(</span><span class="string" id="7863114">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="7863164">,</span>&nbsp;<span class="ident" id="7863166">tt</span><span class="op" id="7863168">.</span><span class="ident" id="7863169">n</span><span class="op" id="7863170">,</span>&nbsp;<span class="ident" id="7863172">tt</span><span class="op" id="7863174">.</span><span class="ident" id="7863175">err</span><span class="op" id="7863178">,</span>&nbsp;<span class="ident" id="7863180">tt</span><span class="op" id="7863182">.</span><span class="ident" id="7863183">fd</span><span class="op" id="7863185">.</span><span class="ident" id="7863186">sotype</span><span class="op" id="7863192">,</span>&nbsp;<span class="ident" id="7863194">tt</span><span class="op" id="7863196">.</span><span class="ident" id="7863197">expected</span><span class="op" id="7863205">,</span>&nbsp;<span class="ident" id="7863207">actual</span><span class="op" id="7863213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863220">}</span><br>
<span class="lineno"></span><span class="op" id="7863222">}</span>
</div>
</body>
</html>
