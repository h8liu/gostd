<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql</h2>
<ul>
<li><a href="/gostd/database/sql/convert.go.html">convert.go</a></li>
<li><a href="/gostd/database/sql/convert_test.go.html">convert_test.go</a></li>
<li><a href="/gostd/database/sql/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/database/sql/fakedb_test.go.html">fakedb_test.go</a></li>
<li><a href="/gostd/database/sql/sql.go.html">sql.go</a></li>
<li><a href="/gostd/database/sql/sql_test.go.html">sql_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5513769">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5513824">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5513878">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5513929">//&nbsp;Type&nbsp;conversions&nbsp;for&nbsp;Scan.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5513960">package</span>&nbsp;<span class="ident" id="5513968">sql</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5513973">import</span>&nbsp;<span class="op" id="5513980">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5513983">&#34;database/sql/driver&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5514006">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5514016">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5514023">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5514034">&#34;strconv&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5514044">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5514047">var</span>&nbsp;<span class="ident" id="5514051">errNilPtr</span>&nbsp;<span class="op" id="5514061">=</span>&nbsp;<span class="ident" id="5514063">errors</span><span class="op" id="5514069">.</span><span class="ident" id="5514070">New</span><span class="op" id="5514073">(</span><span class="string" id="5514074">&#34;destination&nbsp;pointer&nbsp;is&nbsp;nil&#34;</span><span class="op" id="5514102">)</span>&nbsp;<span class="comment" id="5514104">//&nbsp;embedded&nbsp;in&nbsp;descriptive&nbsp;error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5514138">//&nbsp;driverArgs&nbsp;converts&nbsp;arguments&nbsp;from&nbsp;callers&nbsp;of&nbsp;Stmt.Exec&nbsp;and</span><br>
<span class="lineno">20</span><span class="comment" id="5514201">//&nbsp;Stmt.Query&nbsp;into&nbsp;driver&nbsp;Values.</span><br>
<span class="lineno"></span><span class="comment" id="5514235">//</span><br>
<span class="lineno"></span><span class="comment" id="5514238">//&nbsp;The&nbsp;statement&nbsp;ds&nbsp;may&nbsp;be&nbsp;nil,&nbsp;if&nbsp;no&nbsp;statement&nbsp;is&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="5514300">func</span>&nbsp;<span class="ident" id="5514305">driverArgs</span><span class="op" id="5514315">(</span><span class="ident" id="5514316">ds</span>&nbsp;<span class="op" id="5514319">*</span><span class="ident" id="5514320">driverStmt</span><span class="op" id="5514330">,</span>&nbsp;<span class="ident" id="5514332">args</span>&nbsp;<span class="op" id="5514337">[</span><span class="op" id="5514338">]</span><span class="keyword" id="5514339">interface</span><span class="op" id="5514348">{</span><span class="op" id="5514349">}</span><span class="op" id="5514350">)</span>&nbsp;<span class="op" id="5514352">(</span><span class="op" id="5514353">[</span><span class="op" id="5514354">]</span><span class="ident" id="5514355">driver</span><span class="op" id="5514361">.</span><span class="ident" id="5514362">Value</span><span class="op" id="5514367">,</span>&nbsp;<span class="builtintype" id="5514369">error</span><span class="op" id="5514374">)</span>&nbsp;<span class="op" id="5514376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5514379">dargs</span>&nbsp;<span class="op" id="5514385">:=</span>&nbsp;<span class="builtinfunc" id="5514388">make</span><span class="op" id="5514392">(</span><span class="op" id="5514393">[</span><span class="op" id="5514394">]</span><span class="ident" id="5514395">driver</span><span class="op" id="5514401">.</span><span class="ident" id="5514402">Value</span><span class="op" id="5514407">,</span>&nbsp;<span class="builtinfunc" id="5514409">len</span><span class="op" id="5514412">(</span><span class="ident" id="5514413">args</span><span class="op" id="5514417">)</span><span class="op" id="5514418">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514421">var</span>&nbsp;<span class="ident" id="5514425">si</span>&nbsp;<span class="ident" id="5514428">driver</span><span class="op" id="5514434">.</span><span class="ident" id="5514435">Stmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514441">if</span>&nbsp;<span class="ident" id="5514444">ds</span>&nbsp;<span class="op" id="5514447">!=</span>&nbsp;<span class="ident" id="5514450">nil</span>&nbsp;<span class="op" id="5514454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5514458">si</span>&nbsp;<span class="op" id="5514461">=</span>&nbsp;<span class="ident" id="5514463">ds</span><span class="op" id="5514465">.</span><span class="ident" id="5514466">si</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5514470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5514473">cc</span><span class="op" id="5514475">,</span>&nbsp;<span class="ident" id="5514477">ok</span>&nbsp;<span class="op" id="5514480">:=</span>&nbsp;<span class="ident" id="5514483">si</span><span class="op" id="5514485">.</span><span class="op" id="5514486">(</span><span class="ident" id="5514487">driver</span><span class="op" id="5514493">.</span><span class="ident" id="5514494">ColumnConverter</span><span class="op" id="5514509">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5514513">//&nbsp;Normal&nbsp;path,&nbsp;for&nbsp;a&nbsp;driver.Stmt&nbsp;that&nbsp;is&nbsp;not&nbsp;a&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514579">if</span>&nbsp;<span class="op" id="5514582">!</span><span class="ident" id="5514583">ok</span>&nbsp;<span class="op" id="5514586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514590">for</span>&nbsp;<span class="ident" id="5514594">n</span><span class="op" id="5514595">,</span>&nbsp;<span class="ident" id="5514597">arg</span>&nbsp;<span class="op" id="5514601">:=</span>&nbsp;<span class="keyword" id="5514604">range</span>&nbsp;<span class="ident" id="5514610">args</span>&nbsp;<span class="op" id="5514615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514620">var</span>&nbsp;<span class="ident" id="5514624">err</span>&nbsp;<span class="builtintype" id="5514628">error</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5514637">dargs</span><span class="op" id="5514642">[</span><span class="ident" id="5514643">n</span><span class="op" id="5514644">]</span><span class="op" id="5514645">,</span>&nbsp;<span class="ident" id="5514647">err</span>&nbsp;<span class="op" id="5514651">=</span>&nbsp;<span class="ident" id="5514653">driver</span><span class="op" id="5514659">.</span><span class="ident" id="5514660">DefaultParameterConverter</span><span class="op" id="5514685">.</span><span class="ident" id="5514686">ConvertValue</span><span class="op" id="5514698">(</span><span class="ident" id="5514699">arg</span><span class="op" id="5514702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514707">if</span>&nbsp;<span class="ident" id="5514710">err</span>&nbsp;<span class="op" id="5514714">!=</span>&nbsp;<span class="ident" id="5514717">nil</span>&nbsp;<span class="op" id="5514721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514727">return</span>&nbsp;<span class="ident" id="5514734">nil</span><span class="op" id="5514737">,</span>&nbsp;<span class="ident" id="5514739">fmt</span><span class="op" id="5514742">.</span><span class="ident" id="5514743">Errorf</span><span class="op" id="5514749">(</span><span class="string" id="5514750">&#34;sql:&nbsp;converting&nbsp;Exec&nbsp;argument&nbsp;#%d&#39;s&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="5514796">,</span>&nbsp;<span class="ident" id="5514798">n</span><span class="op" id="5514799">,</span>&nbsp;<span class="ident" id="5514801">err</span><span class="op" id="5514804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5514809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5514813">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514817">return</span>&nbsp;<span class="ident" id="5514824">dargs</span><span class="op" id="5514829">,</span>&nbsp;<span class="ident" id="5514831">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5514836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5514840">//&nbsp;Let&nbsp;the&nbsp;Stmt&nbsp;convert&nbsp;its&nbsp;own&nbsp;arguments.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514884">for</span>&nbsp;<span class="ident" id="5514888">n</span><span class="op" id="5514889">,</span>&nbsp;<span class="ident" id="5514891">arg</span>&nbsp;<span class="op" id="5514895">:=</span>&nbsp;<span class="keyword" id="5514898">range</span>&nbsp;<span class="ident" id="5514904">args</span>&nbsp;<span class="op" id="5514909">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5514913">//&nbsp;First,&nbsp;see&nbsp;if&nbsp;the&nbsp;value&nbsp;itself&nbsp;knows&nbsp;how&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5514970">//&nbsp;itself&nbsp;to&nbsp;a&nbsp;driver&nbsp;type.&nbsp;&nbsp;For&nbsp;example,&nbsp;a&nbsp;NullString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5515027">//&nbsp;struct&nbsp;changing&nbsp;into&nbsp;a&nbsp;string&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515070">if</span>&nbsp;<span class="ident" id="5515073">svi</span><span class="op" id="5515076">,</span>&nbsp;<span class="ident" id="5515078">ok</span>&nbsp;<span class="op" id="5515081">:=</span>&nbsp;<span class="ident" id="5515084">arg</span><span class="op" id="5515087">.</span><span class="op" id="5515088">(</span><span class="ident" id="5515089">driver</span><span class="op" id="5515095">.</span><span class="ident" id="5515096">Valuer</span><span class="op" id="5515102">)</span><span class="op" id="5515103">;</span>&nbsp;<span class="ident" id="5515105">ok</span>&nbsp;<span class="op" id="5515108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515113">sv</span><span class="op" id="5515115">,</span>&nbsp;<span class="ident" id="5515117">err</span>&nbsp;<span class="op" id="5515121">:=</span>&nbsp;<span class="ident" id="5515124">svi</span><span class="op" id="5515127">.</span><span class="ident" id="5515128">Value</span><span class="op" id="5515133">(</span><span class="op" id="5515134">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515139">if</span>&nbsp;<span class="ident" id="5515142">err</span>&nbsp;<span class="op" id="5515146">!=</span>&nbsp;<span class="ident" id="5515149">nil</span>&nbsp;<span class="op" id="5515153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515159">return</span>&nbsp;<span class="ident" id="5515166">nil</span><span class="op" id="5515169">,</span>&nbsp;<span class="ident" id="5515171">fmt</span><span class="op" id="5515174">.</span><span class="ident" id="5515175">Errorf</span><span class="op" id="5515181">(</span><span class="string" id="5515182">&#34;sql:&nbsp;argument&nbsp;index&nbsp;%d&nbsp;from&nbsp;Value:&nbsp;%v&#34;</span><span class="op" id="5515221">,</span>&nbsp;<span class="ident" id="5515223">n</span><span class="op" id="5515224">,</span>&nbsp;<span class="ident" id="5515226">err</span><span class="op" id="5515229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5515234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515239">if</span>&nbsp;<span class="op" id="5515242">!</span><span class="ident" id="5515243">driver</span><span class="op" id="5515249">.</span><span class="ident" id="5515250">IsValue</span><span class="op" id="5515257">(</span><span class="ident" id="5515258">sv</span><span class="op" id="5515260">)</span>&nbsp;<span class="op" id="5515262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515268">return</span>&nbsp;<span class="ident" id="5515275">nil</span><span class="op" id="5515278">,</span>&nbsp;<span class="ident" id="5515280">fmt</span><span class="op" id="5515283">.</span><span class="ident" id="5515284">Errorf</span><span class="op" id="5515290">(</span><span class="string" id="5515291">&#34;sql:&nbsp;argument&nbsp;index&nbsp;%d:&nbsp;non-subset&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="5515355">,</span>&nbsp;<span class="ident" id="5515357">n</span><span class="op" id="5515358">,</span>&nbsp;<span class="ident" id="5515360">sv</span><span class="op" id="5515362">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5515367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515372">arg</span>&nbsp;<span class="op" id="5515376">=</span>&nbsp;<span class="ident" id="5515378">sv</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5515383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5515388">//&nbsp;Second,&nbsp;ask&nbsp;the&nbsp;column&nbsp;to&nbsp;sanity&nbsp;check&nbsp;itself.&nbsp;For</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5515444">//&nbsp;example,&nbsp;drivers&nbsp;might&nbsp;use&nbsp;this&nbsp;to&nbsp;make&nbsp;sure&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5515499">//&nbsp;an&nbsp;int64&nbsp;values&nbsp;being&nbsp;inserted&nbsp;into&nbsp;a&nbsp;16-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5515549">//&nbsp;integer&nbsp;field&nbsp;is&nbsp;in&nbsp;range&nbsp;(before&nbsp;getting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5515596">//&nbsp;truncated),&nbsp;or&nbsp;that&nbsp;a&nbsp;nil&nbsp;can&#39;t&nbsp;go&nbsp;into&nbsp;a&nbsp;NOT&nbsp;NULL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5515652">//&nbsp;column&nbsp;before&nbsp;going&nbsp;across&nbsp;the&nbsp;network&nbsp;to&nbsp;get&nbsp;the</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5515707">//&nbsp;same&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515724">var</span>&nbsp;<span class="ident" id="5515728">err</span>&nbsp;<span class="builtintype" id="5515732">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515740">ds</span><span class="op" id="5515742">.</span><span class="ident" id="5515743">Lock</span><span class="op" id="5515747">(</span><span class="op" id="5515748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515752">dargs</span><span class="op" id="5515757">[</span><span class="ident" id="5515758">n</span><span class="op" id="5515759">]</span><span class="op" id="5515760">,</span>&nbsp;<span class="ident" id="5515762">err</span>&nbsp;<span class="op" id="5515766">=</span>&nbsp;<span class="ident" id="5515768">cc</span><span class="op" id="5515770">.</span><span class="ident" id="5515771">ColumnConverter</span><span class="op" id="5515786">(</span><span class="ident" id="5515787">n</span><span class="op" id="5515788">)</span><span class="op" id="5515789">.</span><span class="ident" id="5515790">ConvertValue</span><span class="op" id="5515802">(</span><span class="ident" id="5515803">arg</span><span class="op" id="5515806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515810">ds</span><span class="op" id="5515812">.</span><span class="ident" id="5515813">Unlock</span><span class="op" id="5515819">(</span><span class="op" id="5515820">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515824">if</span>&nbsp;<span class="ident" id="5515827">err</span>&nbsp;<span class="op" id="5515831">!=</span>&nbsp;<span class="ident" id="5515834">nil</span>&nbsp;<span class="op" id="5515838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515843">return</span>&nbsp;<span class="ident" id="5515850">nil</span><span class="op" id="5515853">,</span>&nbsp;<span class="ident" id="5515855">fmt</span><span class="op" id="5515858">.</span><span class="ident" id="5515859">Errorf</span><span class="op" id="5515865">(</span><span class="string" id="5515866">&#34;sql:&nbsp;converting&nbsp;argument&nbsp;#%d&#39;s&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="5515907">,</span>&nbsp;<span class="ident" id="5515909">n</span><span class="op" id="5515910">,</span>&nbsp;<span class="ident" id="5515912">err</span><span class="op" id="5515915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5515919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515923">if</span>&nbsp;<span class="op" id="5515926">!</span><span class="ident" id="5515927">driver</span><span class="op" id="5515933">.</span><span class="ident" id="5515934">IsValue</span><span class="op" id="5515941">(</span><span class="ident" id="5515942">dargs</span><span class="op" id="5515947">[</span><span class="ident" id="5515948">n</span><span class="op" id="5515949">]</span><span class="op" id="5515950">)</span>&nbsp;<span class="op" id="5515952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515957">return</span>&nbsp;<span class="ident" id="5515964">nil</span><span class="op" id="5515967">,</span>&nbsp;<span class="ident" id="5515969">fmt</span><span class="op" id="5515972">.</span><span class="ident" id="5515973">Errorf</span><span class="op" id="5515979">(</span><span class="string" id="5515980">&#34;sql:&nbsp;driver&nbsp;ColumnConverter&nbsp;error&nbsp;converted&nbsp;%T&nbsp;to&nbsp;unsupported&nbsp;type&nbsp;%T&#34;</span><span class="op" id="5516051">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5516057">arg</span><span class="op" id="5516060">,</span>&nbsp;<span class="ident" id="5516062">dargs</span><span class="op" id="5516067">[</span><span class="ident" id="5516068">n</span><span class="op" id="5516069">]</span><span class="op" id="5516070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516081">return</span>&nbsp;<span class="ident" id="5516088">dargs</span><span class="op" id="5516093">,</span>&nbsp;<span class="ident" id="5516095">nil</span><br>
<span class="lineno">80</span><span class="op" id="5516099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5516102">//&nbsp;convertAssign&nbsp;copies&nbsp;to&nbsp;dest&nbsp;the&nbsp;value&nbsp;in&nbsp;src,&nbsp;converting&nbsp;it&nbsp;if&nbsp;possible.</span><br>
<span class="lineno"></span><span class="comment" id="5516179">//&nbsp;An&nbsp;error&nbsp;is&nbsp;returned&nbsp;if&nbsp;the&nbsp;copy&nbsp;would&nbsp;result&nbsp;in&nbsp;loss&nbsp;of&nbsp;information.</span><br>
<span class="lineno"></span><span class="comment" id="5516252">//&nbsp;dest&nbsp;should&nbsp;be&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno">85</span><span class="keyword" id="5516286">func</span>&nbsp;<span class="ident" id="5516291">convertAssign</span><span class="op" id="5516304">(</span><span class="ident" id="5516305">dest</span><span class="op" id="5516309">,</span>&nbsp;<span class="ident" id="5516311">src</span>&nbsp;<span class="keyword" id="5516315">interface</span><span class="op" id="5516324">{</span><span class="op" id="5516325">}</span><span class="op" id="5516326">)</span>&nbsp;<span class="builtintype" id="5516328">error</span>&nbsp;<span class="op" id="5516334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5516337">//&nbsp;Common&nbsp;cases,&nbsp;without&nbsp;reflect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516372">switch</span>&nbsp;<span class="ident" id="5516379">s</span>&nbsp;<span class="op" id="5516381">:=</span>&nbsp;<span class="ident" id="5516384">src</span><span class="op" id="5516387">.</span><span class="op" id="5516388">(</span><span class="keyword" id="5516389">type</span><span class="op" id="5516393">)</span>&nbsp;<span class="op" id="5516395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516398">case</span>&nbsp;<span class="builtintype" id="5516403">string</span><span class="op" id="5516409">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516413">switch</span>&nbsp;<span class="ident" id="5516420">d</span>&nbsp;<span class="op" id="5516422">:=</span>&nbsp;<span class="ident" id="5516425">dest</span><span class="op" id="5516429">.</span><span class="op" id="5516430">(</span><span class="keyword" id="5516431">type</span><span class="op" id="5516435">)</span>&nbsp;<span class="op" id="5516437">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516441">case</span>&nbsp;<span class="op" id="5516446">*</span><span class="builtintype" id="5516447">string</span><span class="op" id="5516453">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516458">if</span>&nbsp;<span class="ident" id="5516461">d</span>&nbsp;<span class="op" id="5516463">==</span>&nbsp;<span class="ident" id="5516466">nil</span>&nbsp;<span class="op" id="5516470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516476">return</span>&nbsp;<span class="ident" id="5516483">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516501">*</span><span class="ident" id="5516502">d</span>&nbsp;<span class="op" id="5516504">=</span>&nbsp;<span class="ident" id="5516506">s</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516511">return</span>&nbsp;<span class="ident" id="5516518">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516524">case</span>&nbsp;<span class="op" id="5516529">*</span><span class="op" id="5516530">[</span><span class="op" id="5516531">]</span><span class="builtintype" id="5516532">byte</span><span class="op" id="5516536">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516541">if</span>&nbsp;<span class="ident" id="5516544">d</span>&nbsp;<span class="op" id="5516546">==</span>&nbsp;<span class="ident" id="5516549">nil</span>&nbsp;<span class="op" id="5516553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516559">return</span>&nbsp;<span class="ident" id="5516566">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516579">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516584">*</span><span class="ident" id="5516585">d</span>&nbsp;<span class="op" id="5516587">=</span>&nbsp;<span class="op" id="5516589">[</span><span class="op" id="5516590">]</span><span class="builtintype" id="5516591">byte</span><span class="op" id="5516595">(</span><span class="ident" id="5516596">s</span><span class="op" id="5516597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516602">return</span>&nbsp;<span class="ident" id="5516609">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516618">case</span>&nbsp;<span class="op" id="5516623">[</span><span class="op" id="5516624">]</span><span class="builtintype" id="5516625">byte</span><span class="op" id="5516629">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516633">switch</span>&nbsp;<span class="ident" id="5516640">d</span>&nbsp;<span class="op" id="5516642">:=</span>&nbsp;<span class="ident" id="5516645">dest</span><span class="op" id="5516649">.</span><span class="op" id="5516650">(</span><span class="keyword" id="5516651">type</span><span class="op" id="5516655">)</span>&nbsp;<span class="op" id="5516657">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516661">case</span>&nbsp;<span class="op" id="5516666">*</span><span class="builtintype" id="5516667">string</span><span class="op" id="5516673">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516678">if</span>&nbsp;<span class="ident" id="5516681">d</span>&nbsp;<span class="op" id="5516683">==</span>&nbsp;<span class="ident" id="5516686">nil</span>&nbsp;<span class="op" id="5516690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516696">return</span>&nbsp;<span class="ident" id="5516703">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516721">*</span><span class="ident" id="5516722">d</span>&nbsp;<span class="op" id="5516724">=</span>&nbsp;<span class="builtintype" id="5516726">string</span><span class="op" id="5516732">(</span><span class="ident" id="5516733">s</span><span class="op" id="5516734">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516739">return</span>&nbsp;<span class="ident" id="5516746">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516752">case</span>&nbsp;<span class="op" id="5516757">*</span><span class="keyword" id="5516758">interface</span><span class="op" id="5516767">{</span><span class="op" id="5516768">}</span><span class="op" id="5516769">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516774">if</span>&nbsp;<span class="ident" id="5516777">d</span>&nbsp;<span class="op" id="5516779">==</span>&nbsp;<span class="ident" id="5516782">nil</span>&nbsp;<span class="op" id="5516786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516792">return</span>&nbsp;<span class="ident" id="5516799">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516812">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516817">*</span><span class="ident" id="5516818">d</span>&nbsp;<span class="op" id="5516820">=</span>&nbsp;<span class="ident" id="5516822">cloneBytes</span><span class="op" id="5516832">(</span><span class="ident" id="5516833">s</span><span class="op" id="5516834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516839">return</span>&nbsp;<span class="ident" id="5516846">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516852">case</span>&nbsp;<span class="op" id="5516857">*</span><span class="op" id="5516858">[</span><span class="op" id="5516859">]</span><span class="builtintype" id="5516860">byte</span><span class="op" id="5516864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516869">if</span>&nbsp;<span class="ident" id="5516872">d</span>&nbsp;<span class="op" id="5516874">==</span>&nbsp;<span class="ident" id="5516877">nil</span>&nbsp;<span class="op" id="5516881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516887">return</span>&nbsp;<span class="ident" id="5516894">errNilPtr</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5516912">*</span><span class="ident" id="5516913">d</span>&nbsp;<span class="op" id="5516915">=</span>&nbsp;<span class="ident" id="5516917">cloneBytes</span><span class="op" id="5516927">(</span><span class="ident" id="5516928">s</span><span class="op" id="5516929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516934">return</span>&nbsp;<span class="ident" id="5516941">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516947">case</span>&nbsp;<span class="op" id="5516952">*</span><span class="ident" id="5516953">RawBytes</span><span class="op" id="5516961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516966">if</span>&nbsp;<span class="ident" id="5516969">d</span>&nbsp;<span class="op" id="5516971">==</span>&nbsp;<span class="ident" id="5516974">nil</span>&nbsp;<span class="op" id="5516978">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5516984">return</span>&nbsp;<span class="ident" id="5516991">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517009">*</span><span class="ident" id="5517010">d</span>&nbsp;<span class="op" id="5517012">=</span>&nbsp;<span class="ident" id="5517014">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517019">return</span>&nbsp;<span class="ident" id="5517026">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517032">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517035">case</span>&nbsp;<span class="ident" id="5517040">nil</span><span class="op" id="5517043">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517047">switch</span>&nbsp;<span class="ident" id="5517054">d</span>&nbsp;<span class="op" id="5517056">:=</span>&nbsp;<span class="ident" id="5517059">dest</span><span class="op" id="5517063">.</span><span class="op" id="5517064">(</span><span class="keyword" id="5517065">type</span><span class="op" id="5517069">)</span>&nbsp;<span class="op" id="5517071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517075">case</span>&nbsp;<span class="op" id="5517080">*</span><span class="keyword" id="5517081">interface</span><span class="op" id="5517090">{</span><span class="op" id="5517091">}</span><span class="op" id="5517092">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517097">if</span>&nbsp;<span class="ident" id="5517100">d</span>&nbsp;<span class="op" id="5517102">==</span>&nbsp;<span class="ident" id="5517105">nil</span>&nbsp;<span class="op" id="5517109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517115">return</span>&nbsp;<span class="ident" id="5517122">errNilPtr</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517140">*</span><span class="ident" id="5517141">d</span>&nbsp;<span class="op" id="5517143">=</span>&nbsp;<span class="ident" id="5517145">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517152">return</span>&nbsp;<span class="ident" id="5517159">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517165">case</span>&nbsp;<span class="op" id="5517170">*</span><span class="op" id="5517171">[</span><span class="op" id="5517172">]</span><span class="builtintype" id="5517173">byte</span><span class="op" id="5517177">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517182">if</span>&nbsp;<span class="ident" id="5517185">d</span>&nbsp;<span class="op" id="5517187">==</span>&nbsp;<span class="ident" id="5517190">nil</span>&nbsp;<span class="op" id="5517194">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517200">return</span>&nbsp;<span class="ident" id="5517207">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517225">*</span><span class="ident" id="5517226">d</span>&nbsp;<span class="op" id="5517228">=</span>&nbsp;<span class="ident" id="5517230">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517237">return</span>&nbsp;<span class="ident" id="5517244">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517250">case</span>&nbsp;<span class="op" id="5517255">*</span><span class="ident" id="5517256">RawBytes</span><span class="op" id="5517264">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517269">if</span>&nbsp;<span class="ident" id="5517272">d</span>&nbsp;<span class="op" id="5517274">==</span>&nbsp;<span class="ident" id="5517277">nil</span>&nbsp;<span class="op" id="5517281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517287">return</span>&nbsp;<span class="ident" id="5517294">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517312">*</span><span class="ident" id="5517313">d</span>&nbsp;<span class="op" id="5517315">=</span>&nbsp;<span class="ident" id="5517317">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517324">return</span>&nbsp;<span class="ident" id="5517331">nil</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517344">var</span>&nbsp;<span class="ident" id="5517348">sv</span>&nbsp;<span class="ident" id="5517351">reflect</span><span class="op" id="5517358">.</span><span class="ident" id="5517359">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517367">switch</span>&nbsp;<span class="ident" id="5517374">d</span>&nbsp;<span class="op" id="5517376">:=</span>&nbsp;<span class="ident" id="5517379">dest</span><span class="op" id="5517383">.</span><span class="op" id="5517384">(</span><span class="keyword" id="5517385">type</span><span class="op" id="5517389">)</span>&nbsp;<span class="op" id="5517391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517394">case</span>&nbsp;<span class="op" id="5517399">*</span><span class="builtintype" id="5517400">string</span><span class="op" id="5517406">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517410">sv</span>&nbsp;<span class="op" id="5517413">=</span>&nbsp;<span class="ident" id="5517415">reflect</span><span class="op" id="5517422">.</span><span class="ident" id="5517423">ValueOf</span><span class="op" id="5517430">(</span><span class="ident" id="5517431">src</span><span class="op" id="5517434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517438">switch</span>&nbsp;<span class="ident" id="5517445">sv</span><span class="op" id="5517447">.</span><span class="ident" id="5517448">Kind</span><span class="op" id="5517452">(</span><span class="op" id="5517453">)</span>&nbsp;<span class="op" id="5517455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517459">case</span>&nbsp;<span class="ident" id="5517464">reflect</span><span class="op" id="5517471">.</span><span class="ident" id="5517472">Bool</span><span class="op" id="5517476">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517481">reflect</span><span class="op" id="5517488">.</span><span class="ident" id="5517489">Int</span><span class="op" id="5517492">,</span>&nbsp;<span class="ident" id="5517494">reflect</span><span class="op" id="5517501">.</span><span class="ident" id="5517502">Int8</span><span class="op" id="5517506">,</span>&nbsp;<span class="ident" id="5517508">reflect</span><span class="op" id="5517515">.</span><span class="ident" id="5517516">Int16</span><span class="op" id="5517521">,</span>&nbsp;<span class="ident" id="5517523">reflect</span><span class="op" id="5517530">.</span><span class="ident" id="5517531">Int32</span><span class="op" id="5517536">,</span>&nbsp;<span class="ident" id="5517538">reflect</span><span class="op" id="5517545">.</span><span class="ident" id="5517546">Int64</span><span class="op" id="5517551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517556">reflect</span><span class="op" id="5517563">.</span><span class="ident" id="5517564">Uint</span><span class="op" id="5517568">,</span>&nbsp;<span class="ident" id="5517570">reflect</span><span class="op" id="5517577">.</span><span class="ident" id="5517578">Uint8</span><span class="op" id="5517583">,</span>&nbsp;<span class="ident" id="5517585">reflect</span><span class="op" id="5517592">.</span><span class="ident" id="5517593">Uint16</span><span class="op" id="5517599">,</span>&nbsp;<span class="ident" id="5517601">reflect</span><span class="op" id="5517608">.</span><span class="ident" id="5517609">Uint32</span><span class="op" id="5517615">,</span>&nbsp;<span class="ident" id="5517617">reflect</span><span class="op" id="5517624">.</span><span class="ident" id="5517625">Uint64</span><span class="op" id="5517631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517636">reflect</span><span class="op" id="5517643">.</span><span class="ident" id="5517644">Float32</span><span class="op" id="5517651">,</span>&nbsp;<span class="ident" id="5517653">reflect</span><span class="op" id="5517660">.</span><span class="ident" id="5517661">Float64</span><span class="op" id="5517668">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517673">*</span><span class="ident" id="5517674">d</span>&nbsp;<span class="op" id="5517676">=</span>&nbsp;<span class="ident" id="5517678">asString</span><span class="op" id="5517686">(</span><span class="ident" id="5517687">src</span><span class="op" id="5517690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517695">return</span>&nbsp;<span class="ident" id="5517702">nil</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517711">case</span>&nbsp;<span class="op" id="5517716">*</span><span class="op" id="5517717">[</span><span class="op" id="5517718">]</span><span class="builtintype" id="5517719">byte</span><span class="op" id="5517723">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517727">sv</span>&nbsp;<span class="op" id="5517730">=</span>&nbsp;<span class="ident" id="5517732">reflect</span><span class="op" id="5517739">.</span><span class="ident" id="5517740">ValueOf</span><span class="op" id="5517747">(</span><span class="ident" id="5517748">src</span><span class="op" id="5517751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517755">if</span>&nbsp;<span class="ident" id="5517758">b</span><span class="op" id="5517759">,</span>&nbsp;<span class="ident" id="5517761">ok</span>&nbsp;<span class="op" id="5517764">:=</span>&nbsp;<span class="ident" id="5517767">asBytes</span><span class="op" id="5517774">(</span><span class="ident" id="5517775">nil</span><span class="op" id="5517778">,</span>&nbsp;<span class="ident" id="5517780">sv</span><span class="op" id="5517782">)</span><span class="op" id="5517783">;</span>&nbsp;<span class="ident" id="5517785">ok</span>&nbsp;<span class="op" id="5517788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517793">*</span><span class="ident" id="5517794">d</span>&nbsp;<span class="op" id="5517796">=</span>&nbsp;<span class="ident" id="5517798">b</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517803">return</span>&nbsp;<span class="ident" id="5517810">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517819">case</span>&nbsp;<span class="op" id="5517824">*</span><span class="ident" id="5517825">RawBytes</span><span class="op" id="5517833">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517837">sv</span>&nbsp;<span class="op" id="5517840">=</span>&nbsp;<span class="ident" id="5517842">reflect</span><span class="op" id="5517849">.</span><span class="ident" id="5517850">ValueOf</span><span class="op" id="5517857">(</span><span class="ident" id="5517858">src</span><span class="op" id="5517861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517865">if</span>&nbsp;<span class="ident" id="5517868">b</span><span class="op" id="5517869">,</span>&nbsp;<span class="ident" id="5517871">ok</span>&nbsp;<span class="op" id="5517874">:=</span>&nbsp;<span class="ident" id="5517877">asBytes</span><span class="op" id="5517884">(</span><span class="op" id="5517885">[</span><span class="op" id="5517886">]</span><span class="builtintype" id="5517887">byte</span><span class="op" id="5517891">(</span><span class="op" id="5517892">*</span><span class="ident" id="5517893">d</span><span class="op" id="5517894">)</span><span class="op" id="5517895">[</span><span class="op" id="5517896">:</span><span class="num" id="5517897">0</span><span class="op" id="5517898">]</span><span class="op" id="5517899">,</span>&nbsp;<span class="ident" id="5517901">sv</span><span class="op" id="5517903">)</span><span class="op" id="5517904">;</span>&nbsp;<span class="ident" id="5517906">ok</span>&nbsp;<span class="op" id="5517909">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517914">*</span><span class="ident" id="5517915">d</span>&nbsp;<span class="op" id="5517917">=</span>&nbsp;<span class="ident" id="5517919">RawBytes</span><span class="op" id="5517927">(</span><span class="ident" id="5517928">b</span><span class="op" id="5517929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517934">return</span>&nbsp;<span class="ident" id="5517941">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517950">case</span>&nbsp;<span class="op" id="5517955">*</span><span class="builtintype" id="5517956">bool</span><span class="op" id="5517960">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517964">bv</span><span class="op" id="5517966">,</span>&nbsp;<span class="ident" id="5517968">err</span>&nbsp;<span class="op" id="5517972">:=</span>&nbsp;<span class="ident" id="5517975">driver</span><span class="op" id="5517981">.</span><span class="ident" id="5517982">Bool</span><span class="op" id="5517986">.</span><span class="ident" id="5517987">ConvertValue</span><span class="op" id="5517999">(</span><span class="ident" id="5518000">src</span><span class="op" id="5518003">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518007">if</span>&nbsp;<span class="ident" id="5518010">err</span>&nbsp;<span class="op" id="5518014">==</span>&nbsp;<span class="ident" id="5518017">nil</span>&nbsp;<span class="op" id="5518021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518026">*</span><span class="ident" id="5518027">d</span>&nbsp;<span class="op" id="5518029">=</span>&nbsp;<span class="ident" id="5518031">bv</span><span class="op" id="5518033">.</span><span class="op" id="5518034">(</span><span class="builtintype" id="5518035">bool</span><span class="op" id="5518039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518047">return</span>&nbsp;<span class="ident" id="5518054">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518059">case</span>&nbsp;<span class="op" id="5518064">*</span><span class="keyword" id="5518065">interface</span><span class="op" id="5518074">{</span><span class="op" id="5518075">}</span><span class="op" id="5518076">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518080">*</span><span class="ident" id="5518081">d</span>&nbsp;<span class="op" id="5518083">=</span>&nbsp;<span class="ident" id="5518085">src</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518091">return</span>&nbsp;<span class="ident" id="5518098">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518107">if</span>&nbsp;<span class="ident" id="5518110">scanner</span><span class="op" id="5518117">,</span>&nbsp;<span class="ident" id="5518119">ok</span>&nbsp;<span class="op" id="5518122">:=</span>&nbsp;<span class="ident" id="5518125">dest</span><span class="op" id="5518129">.</span><span class="op" id="5518130">(</span><span class="ident" id="5518131">Scanner</span><span class="op" id="5518138">)</span><span class="op" id="5518139">;</span>&nbsp;<span class="ident" id="5518141">ok</span>&nbsp;<span class="op" id="5518144">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518148">return</span>&nbsp;<span class="ident" id="5518155">scanner</span><span class="op" id="5518162">.</span><span class="ident" id="5518163">Scan</span><span class="op" id="5518167">(</span><span class="ident" id="5518168">src</span><span class="op" id="5518171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518178">dpv</span>&nbsp;<span class="op" id="5518182">:=</span>&nbsp;<span class="ident" id="5518185">reflect</span><span class="op" id="5518192">.</span><span class="ident" id="5518193">ValueOf</span><span class="op" id="5518200">(</span><span class="ident" id="5518201">dest</span><span class="op" id="5518205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518208">if</span>&nbsp;<span class="ident" id="5518211">dpv</span><span class="op" id="5518214">.</span><span class="ident" id="5518215">Kind</span><span class="op" id="5518219">(</span><span class="op" id="5518220">)</span>&nbsp;<span class="op" id="5518222">!=</span>&nbsp;<span class="ident" id="5518225">reflect</span><span class="op" id="5518232">.</span><span class="ident" id="5518233">Ptr</span>&nbsp;<span class="op" id="5518237">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518241">return</span>&nbsp;<span class="ident" id="5518248">errors</span><span class="op" id="5518254">.</span><span class="ident" id="5518255">New</span><span class="op" id="5518258">(</span><span class="string" id="5518259">&#34;destination&nbsp;not&nbsp;a&nbsp;pointer&#34;</span><span class="op" id="5518286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518292">if</span>&nbsp;<span class="ident" id="5518295">dpv</span><span class="op" id="5518298">.</span><span class="ident" id="5518299">IsNil</span><span class="op" id="5518304">(</span><span class="op" id="5518305">)</span>&nbsp;<span class="op" id="5518307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518311">return</span>&nbsp;<span class="ident" id="5518318">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518329">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518333">if</span>&nbsp;<span class="op" id="5518336">!</span><span class="ident" id="5518337">sv</span><span class="op" id="5518339">.</span><span class="ident" id="5518340">IsValid</span><span class="op" id="5518347">(</span><span class="op" id="5518348">)</span>&nbsp;<span class="op" id="5518350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518354">sv</span>&nbsp;<span class="op" id="5518357">=</span>&nbsp;<span class="ident" id="5518359">reflect</span><span class="op" id="5518366">.</span><span class="ident" id="5518367">ValueOf</span><span class="op" id="5518374">(</span><span class="ident" id="5518375">src</span><span class="op" id="5518378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518385">dv</span>&nbsp;<span class="op" id="5518388">:=</span>&nbsp;<span class="ident" id="5518391">reflect</span><span class="op" id="5518398">.</span><span class="ident" id="5518399">Indirect</span><span class="op" id="5518407">(</span><span class="ident" id="5518408">dpv</span><span class="op" id="5518411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518414">if</span>&nbsp;<span class="ident" id="5518417">dv</span><span class="op" id="5518419">.</span><span class="ident" id="5518420">Kind</span><span class="op" id="5518424">(</span><span class="op" id="5518425">)</span>&nbsp;<span class="op" id="5518427">==</span>&nbsp;<span class="ident" id="5518430">sv</span><span class="op" id="5518432">.</span><span class="ident" id="5518433">Kind</span><span class="op" id="5518437">(</span><span class="op" id="5518438">)</span>&nbsp;<span class="op" id="5518440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518444">dv</span><span class="op" id="5518446">.</span><span class="ident" id="5518447">Set</span><span class="op" id="5518450">(</span><span class="ident" id="5518451">sv</span><span class="op" id="5518453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518457">return</span>&nbsp;<span class="ident" id="5518464">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518469">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518473">switch</span>&nbsp;<span class="ident" id="5518480">dv</span><span class="op" id="5518482">.</span><span class="ident" id="5518483">Kind</span><span class="op" id="5518487">(</span><span class="op" id="5518488">)</span>&nbsp;<span class="op" id="5518490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518493">case</span>&nbsp;<span class="ident" id="5518498">reflect</span><span class="op" id="5518505">.</span><span class="ident" id="5518506">Ptr</span><span class="op" id="5518509">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518513">if</span>&nbsp;<span class="ident" id="5518516">src</span>&nbsp;<span class="op" id="5518520">==</span>&nbsp;<span class="ident" id="5518523">nil</span>&nbsp;<span class="op" id="5518527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518532">dv</span><span class="op" id="5518534">.</span><span class="ident" id="5518535">Set</span><span class="op" id="5518538">(</span><span class="ident" id="5518539">reflect</span><span class="op" id="5518546">.</span><span class="ident" id="5518547">Zero</span><span class="op" id="5518551">(</span><span class="ident" id="5518552">dv</span><span class="op" id="5518554">.</span><span class="ident" id="5518555">Type</span><span class="op" id="5518559">(</span><span class="op" id="5518560">)</span><span class="op" id="5518561">)</span><span class="op" id="5518562">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518567">return</span>&nbsp;<span class="ident" id="5518574">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518580">}</span>&nbsp;<span class="keyword" id="5518582">else</span>&nbsp;<span class="op" id="5518587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518592">dv</span><span class="op" id="5518594">.</span><span class="ident" id="5518595">Set</span><span class="op" id="5518598">(</span><span class="ident" id="5518599">reflect</span><span class="op" id="5518606">.</span><span class="ident" id="5518607">New</span><span class="op" id="5518610">(</span><span class="ident" id="5518611">dv</span><span class="op" id="5518613">.</span><span class="ident" id="5518614">Type</span><span class="op" id="5518618">(</span><span class="op" id="5518619">)</span><span class="op" id="5518620">.</span><span class="ident" id="5518621">Elem</span><span class="op" id="5518625">(</span><span class="op" id="5518626">)</span><span class="op" id="5518627">)</span><span class="op" id="5518628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518633">return</span>&nbsp;<span class="ident" id="5518640">convertAssign</span><span class="op" id="5518653">(</span><span class="ident" id="5518654">dv</span><span class="op" id="5518656">.</span><span class="ident" id="5518657">Interface</span><span class="op" id="5518666">(</span><span class="op" id="5518667">)</span><span class="op" id="5518668">,</span>&nbsp;<span class="ident" id="5518670">src</span><span class="op" id="5518673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518677">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518680">case</span>&nbsp;<span class="ident" id="5518685">reflect</span><span class="op" id="5518692">.</span><span class="ident" id="5518693">Int</span><span class="op" id="5518696">,</span>&nbsp;<span class="ident" id="5518698">reflect</span><span class="op" id="5518705">.</span><span class="ident" id="5518706">Int8</span><span class="op" id="5518710">,</span>&nbsp;<span class="ident" id="5518712">reflect</span><span class="op" id="5518719">.</span><span class="ident" id="5518720">Int16</span><span class="op" id="5518725">,</span>&nbsp;<span class="ident" id="5518727">reflect</span><span class="op" id="5518734">.</span><span class="ident" id="5518735">Int32</span><span class="op" id="5518740">,</span>&nbsp;<span class="ident" id="5518742">reflect</span><span class="op" id="5518749">.</span><span class="ident" id="5518750">Int64</span><span class="op" id="5518755">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518759">s</span>&nbsp;<span class="op" id="5518761">:=</span>&nbsp;<span class="ident" id="5518764">asString</span><span class="op" id="5518772">(</span><span class="ident" id="5518773">src</span><span class="op" id="5518776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518780">i64</span><span class="op" id="5518783">,</span>&nbsp;<span class="ident" id="5518785">err</span>&nbsp;<span class="op" id="5518789">:=</span>&nbsp;<span class="ident" id="5518792">strconv</span><span class="op" id="5518799">.</span><span class="ident" id="5518800">ParseInt</span><span class="op" id="5518808">(</span><span class="ident" id="5518809">s</span><span class="op" id="5518810">,</span>&nbsp;<span class="num" id="5518812">10</span><span class="op" id="5518814">,</span>&nbsp;<span class="ident" id="5518816">dv</span><span class="op" id="5518818">.</span><span class="ident" id="5518819">Type</span><span class="op" id="5518823">(</span><span class="op" id="5518824">)</span><span class="op" id="5518825">.</span><span class="ident" id="5518826">Bits</span><span class="op" id="5518830">(</span><span class="op" id="5518831">)</span><span class="op" id="5518832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518836">if</span>&nbsp;<span class="ident" id="5518839">err</span>&nbsp;<span class="op" id="5518843">!=</span>&nbsp;<span class="ident" id="5518846">nil</span>&nbsp;<span class="op" id="5518850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518855">return</span>&nbsp;<span class="ident" id="5518862">fmt</span><span class="op" id="5518865">.</span><span class="ident" id="5518866">Errorf</span><span class="op" id="5518872">(</span><span class="string" id="5518873">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="5518907">,</span>&nbsp;<span class="ident" id="5518909">s</span><span class="op" id="5518910">,</span>&nbsp;<span class="ident" id="5518912">dv</span><span class="op" id="5518914">.</span><span class="ident" id="5518915">Kind</span><span class="op" id="5518919">(</span><span class="op" id="5518920">)</span><span class="op" id="5518921">,</span>&nbsp;<span class="ident" id="5518923">err</span><span class="op" id="5518926">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518934">dv</span><span class="op" id="5518936">.</span><span class="ident" id="5518937">SetInt</span><span class="op" id="5518943">(</span><span class="ident" id="5518944">i64</span><span class="op" id="5518947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518951">return</span>&nbsp;<span class="ident" id="5518958">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518963">case</span>&nbsp;<span class="ident" id="5518968">reflect</span><span class="op" id="5518975">.</span><span class="ident" id="5518976">Uint</span><span class="op" id="5518980">,</span>&nbsp;<span class="ident" id="5518982">reflect</span><span class="op" id="5518989">.</span><span class="ident" id="5518990">Uint8</span><span class="op" id="5518995">,</span>&nbsp;<span class="ident" id="5518997">reflect</span><span class="op" id="5519004">.</span><span class="ident" id="5519005">Uint16</span><span class="op" id="5519011">,</span>&nbsp;<span class="ident" id="5519013">reflect</span><span class="op" id="5519020">.</span><span class="ident" id="5519021">Uint32</span><span class="op" id="5519027">,</span>&nbsp;<span class="ident" id="5519029">reflect</span><span class="op" id="5519036">.</span><span class="ident" id="5519037">Uint64</span><span class="op" id="5519043">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519047">s</span>&nbsp;<span class="op" id="5519049">:=</span>&nbsp;<span class="ident" id="5519052">asString</span><span class="op" id="5519060">(</span><span class="ident" id="5519061">src</span><span class="op" id="5519064">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519068">u64</span><span class="op" id="5519071">,</span>&nbsp;<span class="ident" id="5519073">err</span>&nbsp;<span class="op" id="5519077">:=</span>&nbsp;<span class="ident" id="5519080">strconv</span><span class="op" id="5519087">.</span><span class="ident" id="5519088">ParseUint</span><span class="op" id="5519097">(</span><span class="ident" id="5519098">s</span><span class="op" id="5519099">,</span>&nbsp;<span class="num" id="5519101">10</span><span class="op" id="5519103">,</span>&nbsp;<span class="ident" id="5519105">dv</span><span class="op" id="5519107">.</span><span class="ident" id="5519108">Type</span><span class="op" id="5519112">(</span><span class="op" id="5519113">)</span><span class="op" id="5519114">.</span><span class="ident" id="5519115">Bits</span><span class="op" id="5519119">(</span><span class="op" id="5519120">)</span><span class="op" id="5519121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519125">if</span>&nbsp;<span class="ident" id="5519128">err</span>&nbsp;<span class="op" id="5519132">!=</span>&nbsp;<span class="ident" id="5519135">nil</span>&nbsp;<span class="op" id="5519139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519144">return</span>&nbsp;<span class="ident" id="5519151">fmt</span><span class="op" id="5519154">.</span><span class="ident" id="5519155">Errorf</span><span class="op" id="5519161">(</span><span class="string" id="5519162">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="5519196">,</span>&nbsp;<span class="ident" id="5519198">s</span><span class="op" id="5519199">,</span>&nbsp;<span class="ident" id="5519201">dv</span><span class="op" id="5519203">.</span><span class="ident" id="5519204">Kind</span><span class="op" id="5519208">(</span><span class="op" id="5519209">)</span><span class="op" id="5519210">,</span>&nbsp;<span class="ident" id="5519212">err</span><span class="op" id="5519215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5519219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519223">dv</span><span class="op" id="5519225">.</span><span class="ident" id="5519226">SetUint</span><span class="op" id="5519233">(</span><span class="ident" id="5519234">u64</span><span class="op" id="5519237">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519241">return</span>&nbsp;<span class="ident" id="5519248">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519253">case</span>&nbsp;<span class="ident" id="5519258">reflect</span><span class="op" id="5519265">.</span><span class="ident" id="5519266">Float32</span><span class="op" id="5519273">,</span>&nbsp;<span class="ident" id="5519275">reflect</span><span class="op" id="5519282">.</span><span class="ident" id="5519283">Float64</span><span class="op" id="5519290">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519294">s</span>&nbsp;<span class="op" id="5519296">:=</span>&nbsp;<span class="ident" id="5519299">asString</span><span class="op" id="5519307">(</span><span class="ident" id="5519308">src</span><span class="op" id="5519311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519315">f64</span><span class="op" id="5519318">,</span>&nbsp;<span class="ident" id="5519320">err</span>&nbsp;<span class="op" id="5519324">:=</span>&nbsp;<span class="ident" id="5519327">strconv</span><span class="op" id="5519334">.</span><span class="ident" id="5519335">ParseFloat</span><span class="op" id="5519345">(</span><span class="ident" id="5519346">s</span><span class="op" id="5519347">,</span>&nbsp;<span class="ident" id="5519349">dv</span><span class="op" id="5519351">.</span><span class="ident" id="5519352">Type</span><span class="op" id="5519356">(</span><span class="op" id="5519357">)</span><span class="op" id="5519358">.</span><span class="ident" id="5519359">Bits</span><span class="op" id="5519363">(</span><span class="op" id="5519364">)</span><span class="op" id="5519365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519369">if</span>&nbsp;<span class="ident" id="5519372">err</span>&nbsp;<span class="op" id="5519376">!=</span>&nbsp;<span class="ident" id="5519379">nil</span>&nbsp;<span class="op" id="5519383">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519388">return</span>&nbsp;<span class="ident" id="5519395">fmt</span><span class="op" id="5519398">.</span><span class="ident" id="5519399">Errorf</span><span class="op" id="5519405">(</span><span class="string" id="5519406">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="5519440">,</span>&nbsp;<span class="ident" id="5519442">s</span><span class="op" id="5519443">,</span>&nbsp;<span class="ident" id="5519445">dv</span><span class="op" id="5519447">.</span><span class="ident" id="5519448">Kind</span><span class="op" id="5519452">(</span><span class="op" id="5519453">)</span><span class="op" id="5519454">,</span>&nbsp;<span class="ident" id="5519456">err</span><span class="op" id="5519459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5519463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519467">dv</span><span class="op" id="5519469">.</span><span class="ident" id="5519470">SetFloat</span><span class="op" id="5519478">(</span><span class="ident" id="5519479">f64</span><span class="op" id="5519482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519486">return</span>&nbsp;<span class="ident" id="5519493">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5519498">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519502">return</span>&nbsp;<span class="ident" id="5519509">fmt</span><span class="op" id="5519512">.</span><span class="ident" id="5519513">Errorf</span><span class="op" id="5519519">(</span><span class="string" id="5519520">&#34;unsupported&nbsp;driver&nbsp;-&gt;&nbsp;Scan&nbsp;pair:&nbsp;%T&nbsp;-&gt;&nbsp;%T&#34;</span><span class="op" id="5519563">,</span>&nbsp;<span class="ident" id="5519565">src</span><span class="op" id="5519568">,</span>&nbsp;<span class="ident" id="5519570">dest</span><span class="op" id="5519574">)</span><br>
<span class="lineno"></span><span class="op" id="5519576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5519579">func</span>&nbsp;<span class="ident" id="5519584">cloneBytes</span><span class="op" id="5519594">(</span><span class="ident" id="5519595">b</span>&nbsp;<span class="op" id="5519597">[</span><span class="op" id="5519598">]</span><span class="builtintype" id="5519599">byte</span><span class="op" id="5519603">)</span>&nbsp;<span class="op" id="5519605">[</span><span class="op" id="5519606">]</span><span class="builtintype" id="5519607">byte</span>&nbsp;<span class="op" id="5519612">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519615">if</span>&nbsp;<span class="ident" id="5519618">b</span>&nbsp;<span class="op" id="5519620">==</span>&nbsp;<span class="ident" id="5519623">nil</span>&nbsp;<span class="op" id="5519627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519631">return</span>&nbsp;<span class="ident" id="5519638">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5519643">}</span>&nbsp;<span class="keyword" id="5519645">else</span>&nbsp;<span class="op" id="5519650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519654">c</span>&nbsp;<span class="op" id="5519656">:=</span>&nbsp;<span class="builtinfunc" id="5519659">make</span><span class="op" id="5519663">(</span><span class="op" id="5519664">[</span><span class="op" id="5519665">]</span><span class="builtintype" id="5519666">byte</span><span class="op" id="5519670">,</span>&nbsp;<span class="builtinfunc" id="5519672">len</span><span class="op" id="5519675">(</span><span class="ident" id="5519676">b</span><span class="op" id="5519677">)</span><span class="op" id="5519678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5519682">copy</span><span class="op" id="5519686">(</span><span class="ident" id="5519687">c</span><span class="op" id="5519688">,</span>&nbsp;<span class="ident" id="5519690">b</span><span class="op" id="5519691">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519695">return</span>&nbsp;<span class="ident" id="5519702">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5519705">}</span><br>
<span class="lineno"></span><span class="op" id="5519707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5519710">func</span>&nbsp;<span class="ident" id="5519715">asString</span><span class="op" id="5519723">(</span><span class="ident" id="5519724">src</span>&nbsp;<span class="keyword" id="5519728">interface</span><span class="op" id="5519737">{</span><span class="op" id="5519738">}</span><span class="op" id="5519739">)</span>&nbsp;<span class="builtintype" id="5519741">string</span>&nbsp;<span class="op" id="5519748">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519751">switch</span>&nbsp;<span class="ident" id="5519758">v</span>&nbsp;<span class="op" id="5519760">:=</span>&nbsp;<span class="ident" id="5519763">src</span><span class="op" id="5519766">.</span><span class="op" id="5519767">(</span><span class="keyword" id="5519768">type</span><span class="op" id="5519772">)</span>&nbsp;<span class="op" id="5519774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519777">case</span>&nbsp;<span class="builtintype" id="5519782">string</span><span class="op" id="5519788">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519792">return</span>&nbsp;<span class="ident" id="5519799">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519802">case</span>&nbsp;<span class="op" id="5519807">[</span><span class="op" id="5519808">]</span><span class="builtintype" id="5519809">byte</span><span class="op" id="5519813">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519817">return</span>&nbsp;<span class="builtintype" id="5519824">string</span><span class="op" id="5519830">(</span><span class="ident" id="5519831">v</span><span class="op" id="5519832">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5519835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519838">rv</span>&nbsp;<span class="op" id="5519841">:=</span>&nbsp;<span class="ident" id="5519844">reflect</span><span class="op" id="5519851">.</span><span class="ident" id="5519852">ValueOf</span><span class="op" id="5519859">(</span><span class="ident" id="5519860">src</span><span class="op" id="5519863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519866">switch</span>&nbsp;<span class="ident" id="5519873">rv</span><span class="op" id="5519875">.</span><span class="ident" id="5519876">Kind</span><span class="op" id="5519880">(</span><span class="op" id="5519881">)</span>&nbsp;<span class="op" id="5519883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519886">case</span>&nbsp;<span class="ident" id="5519891">reflect</span><span class="op" id="5519898">.</span><span class="ident" id="5519899">Int</span><span class="op" id="5519902">,</span>&nbsp;<span class="ident" id="5519904">reflect</span><span class="op" id="5519911">.</span><span class="ident" id="5519912">Int8</span><span class="op" id="5519916">,</span>&nbsp;<span class="ident" id="5519918">reflect</span><span class="op" id="5519925">.</span><span class="ident" id="5519926">Int16</span><span class="op" id="5519931">,</span>&nbsp;<span class="ident" id="5519933">reflect</span><span class="op" id="5519940">.</span><span class="ident" id="5519941">Int32</span><span class="op" id="5519946">,</span>&nbsp;<span class="ident" id="5519948">reflect</span><span class="op" id="5519955">.</span><span class="ident" id="5519956">Int64</span><span class="op" id="5519961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519965">return</span>&nbsp;<span class="ident" id="5519972">strconv</span><span class="op" id="5519979">.</span><span class="ident" id="5519980">FormatInt</span><span class="op" id="5519989">(</span><span class="ident" id="5519990">rv</span><span class="op" id="5519992">.</span><span class="ident" id="5519993">Int</span><span class="op" id="5519996">(</span><span class="op" id="5519997">)</span><span class="op" id="5519998">,</span>&nbsp;<span class="num" id="5520000">10</span><span class="op" id="5520002">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520005">case</span>&nbsp;<span class="ident" id="5520010">reflect</span><span class="op" id="5520017">.</span><span class="ident" id="5520018">Uint</span><span class="op" id="5520022">,</span>&nbsp;<span class="ident" id="5520024">reflect</span><span class="op" id="5520031">.</span><span class="ident" id="5520032">Uint8</span><span class="op" id="5520037">,</span>&nbsp;<span class="ident" id="5520039">reflect</span><span class="op" id="5520046">.</span><span class="ident" id="5520047">Uint16</span><span class="op" id="5520053">,</span>&nbsp;<span class="ident" id="5520055">reflect</span><span class="op" id="5520062">.</span><span class="ident" id="5520063">Uint32</span><span class="op" id="5520069">,</span>&nbsp;<span class="ident" id="5520071">reflect</span><span class="op" id="5520078">.</span><span class="ident" id="5520079">Uint64</span><span class="op" id="5520085">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520089">return</span>&nbsp;<span class="ident" id="5520096">strconv</span><span class="op" id="5520103">.</span><span class="ident" id="5520104">FormatUint</span><span class="op" id="5520114">(</span><span class="ident" id="5520115">rv</span><span class="op" id="5520117">.</span><span class="ident" id="5520118">Uint</span><span class="op" id="5520122">(</span><span class="op" id="5520123">)</span><span class="op" id="5520124">,</span>&nbsp;<span class="num" id="5520126">10</span><span class="op" id="5520128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520131">case</span>&nbsp;<span class="ident" id="5520136">reflect</span><span class="op" id="5520143">.</span><span class="ident" id="5520144">Float64</span><span class="op" id="5520151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520155">return</span>&nbsp;<span class="ident" id="5520162">strconv</span><span class="op" id="5520169">.</span><span class="ident" id="5520170">FormatFloat</span><span class="op" id="5520181">(</span><span class="ident" id="5520182">rv</span><span class="op" id="5520184">.</span><span class="ident" id="5520185">Float</span><span class="op" id="5520190">(</span><span class="op" id="5520191">)</span><span class="op" id="5520192">,</span>&nbsp;<span class="string" id="5520194">&#39;g&#39;</span><span class="op" id="5520197">,</span>&nbsp;<span class="op" id="5520199">-</span><span class="num" id="5520200">1</span><span class="op" id="5520201">,</span>&nbsp;<span class="num" id="5520203">64</span><span class="op" id="5520205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520208">case</span>&nbsp;<span class="ident" id="5520213">reflect</span><span class="op" id="5520220">.</span><span class="ident" id="5520221">Float32</span><span class="op" id="5520228">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520232">return</span>&nbsp;<span class="ident" id="5520239">strconv</span><span class="op" id="5520246">.</span><span class="ident" id="5520247">FormatFloat</span><span class="op" id="5520258">(</span><span class="ident" id="5520259">rv</span><span class="op" id="5520261">.</span><span class="ident" id="5520262">Float</span><span class="op" id="5520267">(</span><span class="op" id="5520268">)</span><span class="op" id="5520269">,</span>&nbsp;<span class="string" id="5520271">&#39;g&#39;</span><span class="op" id="5520274">,</span>&nbsp;<span class="op" id="5520276">-</span><span class="num" id="5520277">1</span><span class="op" id="5520278">,</span>&nbsp;<span class="num" id="5520280">32</span><span class="op" id="5520282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520285">case</span>&nbsp;<span class="ident" id="5520290">reflect</span><span class="op" id="5520297">.</span><span class="ident" id="5520298">Bool</span><span class="op" id="5520302">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520306">return</span>&nbsp;<span class="ident" id="5520313">strconv</span><span class="op" id="5520320">.</span><span class="ident" id="5520321">FormatBool</span><span class="op" id="5520331">(</span><span class="ident" id="5520332">rv</span><span class="op" id="5520334">.</span><span class="ident" id="5520335">Bool</span><span class="op" id="5520339">(</span><span class="op" id="5520340">)</span><span class="op" id="5520341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5520344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520347">return</span>&nbsp;<span class="ident" id="5520354">fmt</span><span class="op" id="5520357">.</span><span class="ident" id="5520358">Sprintf</span><span class="op" id="5520365">(</span><span class="string" id="5520366">&#34;%v&#34;</span><span class="op" id="5520370">,</span>&nbsp;<span class="ident" id="5520372">src</span><span class="op" id="5520375">)</span><br>
<span class="lineno">280</span><span class="op" id="5520377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5520380">func</span>&nbsp;<span class="ident" id="5520385">asBytes</span><span class="op" id="5520392">(</span><span class="ident" id="5520393">buf</span>&nbsp;<span class="op" id="5520397">[</span><span class="op" id="5520398">]</span><span class="builtintype" id="5520399">byte</span><span class="op" id="5520403">,</span>&nbsp;<span class="ident" id="5520405">rv</span>&nbsp;<span class="ident" id="5520408">reflect</span><span class="op" id="5520415">.</span><span class="ident" id="5520416">Value</span><span class="op" id="5520421">)</span>&nbsp;<span class="op" id="5520423">(</span><span class="ident" id="5520424">b</span>&nbsp;<span class="op" id="5520426">[</span><span class="op" id="5520427">]</span><span class="builtintype" id="5520428">byte</span><span class="op" id="5520432">,</span>&nbsp;<span class="ident" id="5520434">ok</span>&nbsp;<span class="builtintype" id="5520437">bool</span><span class="op" id="5520441">)</span>&nbsp;<span class="op" id="5520443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520446">switch</span>&nbsp;<span class="ident" id="5520453">rv</span><span class="op" id="5520455">.</span><span class="ident" id="5520456">Kind</span><span class="op" id="5520460">(</span><span class="op" id="5520461">)</span>&nbsp;<span class="op" id="5520463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520466">case</span>&nbsp;<span class="ident" id="5520471">reflect</span><span class="op" id="5520478">.</span><span class="ident" id="5520479">Int</span><span class="op" id="5520482">,</span>&nbsp;<span class="ident" id="5520484">reflect</span><span class="op" id="5520491">.</span><span class="ident" id="5520492">Int8</span><span class="op" id="5520496">,</span>&nbsp;<span class="ident" id="5520498">reflect</span><span class="op" id="5520505">.</span><span class="ident" id="5520506">Int16</span><span class="op" id="5520511">,</span>&nbsp;<span class="ident" id="5520513">reflect</span><span class="op" id="5520520">.</span><span class="ident" id="5520521">Int32</span><span class="op" id="5520526">,</span>&nbsp;<span class="ident" id="5520528">reflect</span><span class="op" id="5520535">.</span><span class="ident" id="5520536">Int64</span><span class="op" id="5520541">:</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520545">return</span>&nbsp;<span class="ident" id="5520552">strconv</span><span class="op" id="5520559">.</span><span class="ident" id="5520560">AppendInt</span><span class="op" id="5520569">(</span><span class="ident" id="5520570">buf</span><span class="op" id="5520573">,</span>&nbsp;<span class="ident" id="5520575">rv</span><span class="op" id="5520577">.</span><span class="ident" id="5520578">Int</span><span class="op" id="5520581">(</span><span class="op" id="5520582">)</span><span class="op" id="5520583">,</span>&nbsp;<span class="num" id="5520585">10</span><span class="op" id="5520587">)</span><span class="op" id="5520588">,</span>&nbsp;<span class="builtintype" id="5520590">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520596">case</span>&nbsp;<span class="ident" id="5520601">reflect</span><span class="op" id="5520608">.</span><span class="ident" id="5520609">Uint</span><span class="op" id="5520613">,</span>&nbsp;<span class="ident" id="5520615">reflect</span><span class="op" id="5520622">.</span><span class="ident" id="5520623">Uint8</span><span class="op" id="5520628">,</span>&nbsp;<span class="ident" id="5520630">reflect</span><span class="op" id="5520637">.</span><span class="ident" id="5520638">Uint16</span><span class="op" id="5520644">,</span>&nbsp;<span class="ident" id="5520646">reflect</span><span class="op" id="5520653">.</span><span class="ident" id="5520654">Uint32</span><span class="op" id="5520660">,</span>&nbsp;<span class="ident" id="5520662">reflect</span><span class="op" id="5520669">.</span><span class="ident" id="5520670">Uint64</span><span class="op" id="5520676">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520680">return</span>&nbsp;<span class="ident" id="5520687">strconv</span><span class="op" id="5520694">.</span><span class="ident" id="5520695">AppendUint</span><span class="op" id="5520705">(</span><span class="ident" id="5520706">buf</span><span class="op" id="5520709">,</span>&nbsp;<span class="ident" id="5520711">rv</span><span class="op" id="5520713">.</span><span class="ident" id="5520714">Uint</span><span class="op" id="5520718">(</span><span class="op" id="5520719">)</span><span class="op" id="5520720">,</span>&nbsp;<span class="num" id="5520722">10</span><span class="op" id="5520724">)</span><span class="op" id="5520725">,</span>&nbsp;<span class="builtintype" id="5520727">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520733">case</span>&nbsp;<span class="ident" id="5520738">reflect</span><span class="op" id="5520745">.</span><span class="ident" id="5520746">Float32</span><span class="op" id="5520753">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520757">return</span>&nbsp;<span class="ident" id="5520764">strconv</span><span class="op" id="5520771">.</span><span class="ident" id="5520772">AppendFloat</span><span class="op" id="5520783">(</span><span class="ident" id="5520784">buf</span><span class="op" id="5520787">,</span>&nbsp;<span class="ident" id="5520789">rv</span><span class="op" id="5520791">.</span><span class="ident" id="5520792">Float</span><span class="op" id="5520797">(</span><span class="op" id="5520798">)</span><span class="op" id="5520799">,</span>&nbsp;<span class="string" id="5520801">&#39;g&#39;</span><span class="op" id="5520804">,</span>&nbsp;<span class="op" id="5520806">-</span><span class="num" id="5520807">1</span><span class="op" id="5520808">,</span>&nbsp;<span class="num" id="5520810">32</span><span class="op" id="5520812">)</span><span class="op" id="5520813">,</span>&nbsp;<span class="builtintype" id="5520815">true</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520821">case</span>&nbsp;<span class="ident" id="5520826">reflect</span><span class="op" id="5520833">.</span><span class="ident" id="5520834">Float64</span><span class="op" id="5520841">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520845">return</span>&nbsp;<span class="ident" id="5520852">strconv</span><span class="op" id="5520859">.</span><span class="ident" id="5520860">AppendFloat</span><span class="op" id="5520871">(</span><span class="ident" id="5520872">buf</span><span class="op" id="5520875">,</span>&nbsp;<span class="ident" id="5520877">rv</span><span class="op" id="5520879">.</span><span class="ident" id="5520880">Float</span><span class="op" id="5520885">(</span><span class="op" id="5520886">)</span><span class="op" id="5520887">,</span>&nbsp;<span class="string" id="5520889">&#39;g&#39;</span><span class="op" id="5520892">,</span>&nbsp;<span class="op" id="5520894">-</span><span class="num" id="5520895">1</span><span class="op" id="5520896">,</span>&nbsp;<span class="num" id="5520898">64</span><span class="op" id="5520900">)</span><span class="op" id="5520901">,</span>&nbsp;<span class="builtintype" id="5520903">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520909">case</span>&nbsp;<span class="ident" id="5520914">reflect</span><span class="op" id="5520921">.</span><span class="ident" id="5520922">Bool</span><span class="op" id="5520926">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520930">return</span>&nbsp;<span class="ident" id="5520937">strconv</span><span class="op" id="5520944">.</span><span class="ident" id="5520945">AppendBool</span><span class="op" id="5520955">(</span><span class="ident" id="5520956">buf</span><span class="op" id="5520959">,</span>&nbsp;<span class="ident" id="5520961">rv</span><span class="op" id="5520963">.</span><span class="ident" id="5520964">Bool</span><span class="op" id="5520968">(</span><span class="op" id="5520969">)</span><span class="op" id="5520970">)</span><span class="op" id="5520971">,</span>&nbsp;<span class="builtintype" id="5520973">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5520979">case</span>&nbsp;<span class="ident" id="5520984">reflect</span><span class="op" id="5520991">.</span><span class="ident" id="5520992">String</span><span class="op" id="5520998">:</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5521002">s</span>&nbsp;<span class="op" id="5521004">:=</span>&nbsp;<span class="ident" id="5521007">rv</span><span class="op" id="5521009">.</span><span class="ident" id="5521010">String</span><span class="op" id="5521016">(</span><span class="op" id="5521017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5521021">return</span>&nbsp;<span class="builtinfunc" id="5521028">append</span><span class="op" id="5521034">(</span><span class="ident" id="5521035">buf</span><span class="op" id="5521038">,</span>&nbsp;<span class="ident" id="5521040">s</span><span class="op" id="5521041">...</span><span class="op" id="5521044">)</span><span class="op" id="5521045">,</span>&nbsp;<span class="builtintype" id="5521047">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5521053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5521056">return</span><br>
<span class="lineno"></span><span class="op" id="5521063">}</span>
</div>
</body>
</html>
