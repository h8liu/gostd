<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>database/sql</h2>
<ul>
<li><a href="/gostd/database/sql/convert.go.html">convert.go</a></li>
<li><a href="/gostd/database/sql/convert_test.go.html">convert_test.go</a></li>
<li><a href="/gostd/database/sql/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/database/sql/fakedb_test.go.html">fakedb_test.go</a></li>
<li><a href="/gostd/database/sql/sql.go.html">sql.go</a></li>
<li><a href="/gostd/database/sql/sql_test.go.html">sql_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5705864">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5705919">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5705973">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5706024">//&nbsp;Type&nbsp;conversions&nbsp;for&nbsp;Scan.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5706055">package</span>&nbsp;<span class="ident" id="5706063">sql</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5706068">import</span>&nbsp;<span class="op" id="5706075">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5706078">&#34;database/sql/driver&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5706101">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5706111">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5706118">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5706129">&#34;strconv&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5706139">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5706142">var</span>&nbsp;<span class="ident" id="5706146">errNilPtr</span>&nbsp;<span class="op" id="5706156">=</span>&nbsp;<span class="ident" id="5706158">errors</span><span class="op" id="5706164">.</span><span class="ident" id="5706165">New</span><span class="op" id="5706168">(</span><span class="string" id="5706169">&#34;destination&nbsp;pointer&nbsp;is&nbsp;nil&#34;</span><span class="op" id="5706197">)</span>&nbsp;<span class="comment" id="5706199">//&nbsp;embedded&nbsp;in&nbsp;descriptive&nbsp;error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5706233">//&nbsp;driverArgs&nbsp;converts&nbsp;arguments&nbsp;from&nbsp;callers&nbsp;of&nbsp;Stmt.Exec&nbsp;and</span><br>
<span class="lineno">20</span><span class="comment" id="5706296">//&nbsp;Stmt.Query&nbsp;into&nbsp;driver&nbsp;Values.</span><br>
<span class="lineno"></span><span class="comment" id="5706330">//</span><br>
<span class="lineno"></span><span class="comment" id="5706333">//&nbsp;The&nbsp;statement&nbsp;ds&nbsp;may&nbsp;be&nbsp;nil,&nbsp;if&nbsp;no&nbsp;statement&nbsp;is&nbsp;available.</span><br>
<span class="lineno"></span><span class="keyword" id="5706395">func</span>&nbsp;<span class="ident" id="5706400">driverArgs</span><span class="op" id="5706410">(</span><span class="ident" id="5706411">ds</span>&nbsp;<span class="op" id="5706414">*</span><span class="ident" id="5706415">driverStmt</span><span class="op" id="5706425">,</span>&nbsp;<span class="ident" id="5706427">args</span>&nbsp;<span class="op" id="5706432">[</span><span class="op" id="5706433">]</span><span class="keyword" id="5706434">interface</span><span class="op" id="5706443">{</span><span class="op" id="5706444">}</span><span class="op" id="5706445">)</span>&nbsp;<span class="op" id="5706447">(</span><span class="op" id="5706448">[</span><span class="op" id="5706449">]</span><span class="ident" id="5706450">driver</span><span class="op" id="5706456">.</span><span class="ident" id="5706457">Value</span><span class="op" id="5706462">,</span>&nbsp;<span class="builtintype" id="5706464">error</span><span class="op" id="5706469">)</span>&nbsp;<span class="op" id="5706471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5706474">dargs</span>&nbsp;<span class="op" id="5706480">:=</span>&nbsp;<span class="builtinfunc" id="5706483">make</span><span class="op" id="5706487">(</span><span class="op" id="5706488">[</span><span class="op" id="5706489">]</span><span class="ident" id="5706490">driver</span><span class="op" id="5706496">.</span><span class="ident" id="5706497">Value</span><span class="op" id="5706502">,</span>&nbsp;<span class="builtinfunc" id="5706504">len</span><span class="op" id="5706507">(</span><span class="ident" id="5706508">args</span><span class="op" id="5706512">)</span><span class="op" id="5706513">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706516">var</span>&nbsp;<span class="ident" id="5706520">si</span>&nbsp;<span class="ident" id="5706523">driver</span><span class="op" id="5706529">.</span><span class="ident" id="5706530">Stmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706536">if</span>&nbsp;<span class="ident" id="5706539">ds</span>&nbsp;<span class="op" id="5706542">!=</span>&nbsp;<span class="ident" id="5706545">nil</span>&nbsp;<span class="op" id="5706549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5706553">si</span>&nbsp;<span class="op" id="5706556">=</span>&nbsp;<span class="ident" id="5706558">ds</span><span class="op" id="5706560">.</span><span class="ident" id="5706561">si</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5706565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5706568">cc</span><span class="op" id="5706570">,</span>&nbsp;<span class="ident" id="5706572">ok</span>&nbsp;<span class="op" id="5706575">:=</span>&nbsp;<span class="ident" id="5706578">si</span><span class="op" id="5706580">.</span><span class="op" id="5706581">(</span><span class="ident" id="5706582">driver</span><span class="op" id="5706588">.</span><span class="ident" id="5706589">ColumnConverter</span><span class="op" id="5706604">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5706608">//&nbsp;Normal&nbsp;path,&nbsp;for&nbsp;a&nbsp;driver.Stmt&nbsp;that&nbsp;is&nbsp;not&nbsp;a&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706674">if</span>&nbsp;<span class="op" id="5706677">!</span><span class="ident" id="5706678">ok</span>&nbsp;<span class="op" id="5706681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706685">for</span>&nbsp;<span class="ident" id="5706689">n</span><span class="op" id="5706690">,</span>&nbsp;<span class="ident" id="5706692">arg</span>&nbsp;<span class="op" id="5706696">:=</span>&nbsp;<span class="keyword" id="5706699">range</span>&nbsp;<span class="ident" id="5706705">args</span>&nbsp;<span class="op" id="5706710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706715">var</span>&nbsp;<span class="ident" id="5706719">err</span>&nbsp;<span class="builtintype" id="5706723">error</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5706732">dargs</span><span class="op" id="5706737">[</span><span class="ident" id="5706738">n</span><span class="op" id="5706739">]</span><span class="op" id="5706740">,</span>&nbsp;<span class="ident" id="5706742">err</span>&nbsp;<span class="op" id="5706746">=</span>&nbsp;<span class="ident" id="5706748">driver</span><span class="op" id="5706754">.</span><span class="ident" id="5706755">DefaultParameterConverter</span><span class="op" id="5706780">.</span><span class="ident" id="5706781">ConvertValue</span><span class="op" id="5706793">(</span><span class="ident" id="5706794">arg</span><span class="op" id="5706797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706802">if</span>&nbsp;<span class="ident" id="5706805">err</span>&nbsp;<span class="op" id="5706809">!=</span>&nbsp;<span class="ident" id="5706812">nil</span>&nbsp;<span class="op" id="5706816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706822">return</span>&nbsp;<span class="ident" id="5706829">nil</span><span class="op" id="5706832">,</span>&nbsp;<span class="ident" id="5706834">fmt</span><span class="op" id="5706837">.</span><span class="ident" id="5706838">Errorf</span><span class="op" id="5706844">(</span><span class="string" id="5706845">&#34;sql:&nbsp;converting&nbsp;Exec&nbsp;argument&nbsp;#%d&#39;s&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="5706891">,</span>&nbsp;<span class="ident" id="5706893">n</span><span class="op" id="5706894">,</span>&nbsp;<span class="ident" id="5706896">err</span><span class="op" id="5706899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5706904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5706908">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706912">return</span>&nbsp;<span class="ident" id="5706919">dargs</span><span class="op" id="5706924">,</span>&nbsp;<span class="ident" id="5706926">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5706931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5706935">//&nbsp;Let&nbsp;the&nbsp;Stmt&nbsp;convert&nbsp;its&nbsp;own&nbsp;arguments.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5706979">for</span>&nbsp;<span class="ident" id="5706983">n</span><span class="op" id="5706984">,</span>&nbsp;<span class="ident" id="5706986">arg</span>&nbsp;<span class="op" id="5706990">:=</span>&nbsp;<span class="keyword" id="5706993">range</span>&nbsp;<span class="ident" id="5706999">args</span>&nbsp;<span class="op" id="5707004">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707008">//&nbsp;First,&nbsp;see&nbsp;if&nbsp;the&nbsp;value&nbsp;itself&nbsp;knows&nbsp;how&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707065">//&nbsp;itself&nbsp;to&nbsp;a&nbsp;driver&nbsp;type.&nbsp;&nbsp;For&nbsp;example,&nbsp;a&nbsp;NullString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707122">//&nbsp;struct&nbsp;changing&nbsp;into&nbsp;a&nbsp;string&nbsp;or&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5707165">if</span>&nbsp;<span class="ident" id="5707168">svi</span><span class="op" id="5707171">,</span>&nbsp;<span class="ident" id="5707173">ok</span>&nbsp;<span class="op" id="5707176">:=</span>&nbsp;<span class="ident" id="5707179">arg</span><span class="op" id="5707182">.</span><span class="op" id="5707183">(</span><span class="ident" id="5707184">driver</span><span class="op" id="5707190">.</span><span class="ident" id="5707191">Valuer</span><span class="op" id="5707197">)</span><span class="op" id="5707198">;</span>&nbsp;<span class="ident" id="5707200">ok</span>&nbsp;<span class="op" id="5707203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5707208">sv</span><span class="op" id="5707210">,</span>&nbsp;<span class="ident" id="5707212">err</span>&nbsp;<span class="op" id="5707216">:=</span>&nbsp;<span class="ident" id="5707219">svi</span><span class="op" id="5707222">.</span><span class="ident" id="5707223">Value</span><span class="op" id="5707228">(</span><span class="op" id="5707229">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5707234">if</span>&nbsp;<span class="ident" id="5707237">err</span>&nbsp;<span class="op" id="5707241">!=</span>&nbsp;<span class="ident" id="5707244">nil</span>&nbsp;<span class="op" id="5707248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5707254">return</span>&nbsp;<span class="ident" id="5707261">nil</span><span class="op" id="5707264">,</span>&nbsp;<span class="ident" id="5707266">fmt</span><span class="op" id="5707269">.</span><span class="ident" id="5707270">Errorf</span><span class="op" id="5707276">(</span><span class="string" id="5707277">&#34;sql:&nbsp;argument&nbsp;index&nbsp;%d&nbsp;from&nbsp;Value:&nbsp;%v&#34;</span><span class="op" id="5707316">,</span>&nbsp;<span class="ident" id="5707318">n</span><span class="op" id="5707319">,</span>&nbsp;<span class="ident" id="5707321">err</span><span class="op" id="5707324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5707329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5707334">if</span>&nbsp;<span class="op" id="5707337">!</span><span class="ident" id="5707338">driver</span><span class="op" id="5707344">.</span><span class="ident" id="5707345">IsValue</span><span class="op" id="5707352">(</span><span class="ident" id="5707353">sv</span><span class="op" id="5707355">)</span>&nbsp;<span class="op" id="5707357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5707363">return</span>&nbsp;<span class="ident" id="5707370">nil</span><span class="op" id="5707373">,</span>&nbsp;<span class="ident" id="5707375">fmt</span><span class="op" id="5707378">.</span><span class="ident" id="5707379">Errorf</span><span class="op" id="5707385">(</span><span class="string" id="5707386">&#34;sql:&nbsp;argument&nbsp;index&nbsp;%d:&nbsp;non-subset&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="5707450">,</span>&nbsp;<span class="ident" id="5707452">n</span><span class="op" id="5707453">,</span>&nbsp;<span class="ident" id="5707455">sv</span><span class="op" id="5707457">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5707462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5707467">arg</span>&nbsp;<span class="op" id="5707471">=</span>&nbsp;<span class="ident" id="5707473">sv</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5707478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707483">//&nbsp;Second,&nbsp;ask&nbsp;the&nbsp;column&nbsp;to&nbsp;sanity&nbsp;check&nbsp;itself.&nbsp;For</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707539">//&nbsp;example,&nbsp;drivers&nbsp;might&nbsp;use&nbsp;this&nbsp;to&nbsp;make&nbsp;sure&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707594">//&nbsp;an&nbsp;int64&nbsp;values&nbsp;being&nbsp;inserted&nbsp;into&nbsp;a&nbsp;16-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707644">//&nbsp;integer&nbsp;field&nbsp;is&nbsp;in&nbsp;range&nbsp;(before&nbsp;getting</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707691">//&nbsp;truncated),&nbsp;or&nbsp;that&nbsp;a&nbsp;nil&nbsp;can&#39;t&nbsp;go&nbsp;into&nbsp;a&nbsp;NOT&nbsp;NULL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707747">//&nbsp;column&nbsp;before&nbsp;going&nbsp;across&nbsp;the&nbsp;network&nbsp;to&nbsp;get&nbsp;the</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5707802">//&nbsp;same&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5707819">var</span>&nbsp;<span class="ident" id="5707823">err</span>&nbsp;<span class="builtintype" id="5707827">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5707835">ds</span><span class="op" id="5707837">.</span><span class="ident" id="5707838">Lock</span><span class="op" id="5707842">(</span><span class="op" id="5707843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5707847">dargs</span><span class="op" id="5707852">[</span><span class="ident" id="5707853">n</span><span class="op" id="5707854">]</span><span class="op" id="5707855">,</span>&nbsp;<span class="ident" id="5707857">err</span>&nbsp;<span class="op" id="5707861">=</span>&nbsp;<span class="ident" id="5707863">cc</span><span class="op" id="5707865">.</span><span class="ident" id="5707866">ColumnConverter</span><span class="op" id="5707881">(</span><span class="ident" id="5707882">n</span><span class="op" id="5707883">)</span><span class="op" id="5707884">.</span><span class="ident" id="5707885">ConvertValue</span><span class="op" id="5707897">(</span><span class="ident" id="5707898">arg</span><span class="op" id="5707901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5707905">ds</span><span class="op" id="5707907">.</span><span class="ident" id="5707908">Unlock</span><span class="op" id="5707914">(</span><span class="op" id="5707915">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5707919">if</span>&nbsp;<span class="ident" id="5707922">err</span>&nbsp;<span class="op" id="5707926">!=</span>&nbsp;<span class="ident" id="5707929">nil</span>&nbsp;<span class="op" id="5707933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5707938">return</span>&nbsp;<span class="ident" id="5707945">nil</span><span class="op" id="5707948">,</span>&nbsp;<span class="ident" id="5707950">fmt</span><span class="op" id="5707953">.</span><span class="ident" id="5707954">Errorf</span><span class="op" id="5707960">(</span><span class="string" id="5707961">&#34;sql:&nbsp;converting&nbsp;argument&nbsp;#%d&#39;s&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="5708002">,</span>&nbsp;<span class="ident" id="5708004">n</span><span class="op" id="5708005">,</span>&nbsp;<span class="ident" id="5708007">err</span><span class="op" id="5708010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708018">if</span>&nbsp;<span class="op" id="5708021">!</span><span class="ident" id="5708022">driver</span><span class="op" id="5708028">.</span><span class="ident" id="5708029">IsValue</span><span class="op" id="5708036">(</span><span class="ident" id="5708037">dargs</span><span class="op" id="5708042">[</span><span class="ident" id="5708043">n</span><span class="op" id="5708044">]</span><span class="op" id="5708045">)</span>&nbsp;<span class="op" id="5708047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708052">return</span>&nbsp;<span class="ident" id="5708059">nil</span><span class="op" id="5708062">,</span>&nbsp;<span class="ident" id="5708064">fmt</span><span class="op" id="5708067">.</span><span class="ident" id="5708068">Errorf</span><span class="op" id="5708074">(</span><span class="string" id="5708075">&#34;sql:&nbsp;driver&nbsp;ColumnConverter&nbsp;error&nbsp;converted&nbsp;%T&nbsp;to&nbsp;unsupported&nbsp;type&nbsp;%T&#34;</span><span class="op" id="5708146">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5708152">arg</span><span class="op" id="5708155">,</span>&nbsp;<span class="ident" id="5708157">dargs</span><span class="op" id="5708162">[</span><span class="ident" id="5708163">n</span><span class="op" id="5708164">]</span><span class="op" id="5708165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708176">return</span>&nbsp;<span class="ident" id="5708183">dargs</span><span class="op" id="5708188">,</span>&nbsp;<span class="ident" id="5708190">nil</span><br>
<span class="lineno">80</span><span class="op" id="5708194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5708197">//&nbsp;convertAssign&nbsp;copies&nbsp;to&nbsp;dest&nbsp;the&nbsp;value&nbsp;in&nbsp;src,&nbsp;converting&nbsp;it&nbsp;if&nbsp;possible.</span><br>
<span class="lineno"></span><span class="comment" id="5708274">//&nbsp;An&nbsp;error&nbsp;is&nbsp;returned&nbsp;if&nbsp;the&nbsp;copy&nbsp;would&nbsp;result&nbsp;in&nbsp;loss&nbsp;of&nbsp;information.</span><br>
<span class="lineno"></span><span class="comment" id="5708347">//&nbsp;dest&nbsp;should&nbsp;be&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno">85</span><span class="keyword" id="5708381">func</span>&nbsp;<span class="ident" id="5708386">convertAssign</span><span class="op" id="5708399">(</span><span class="ident" id="5708400">dest</span><span class="op" id="5708404">,</span>&nbsp;<span class="ident" id="5708406">src</span>&nbsp;<span class="keyword" id="5708410">interface</span><span class="op" id="5708419">{</span><span class="op" id="5708420">}</span><span class="op" id="5708421">)</span>&nbsp;<span class="builtintype" id="5708423">error</span>&nbsp;<span class="op" id="5708429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5708432">//&nbsp;Common&nbsp;cases,&nbsp;without&nbsp;reflect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708467">switch</span>&nbsp;<span class="ident" id="5708474">s</span>&nbsp;<span class="op" id="5708476">:=</span>&nbsp;<span class="ident" id="5708479">src</span><span class="op" id="5708482">.</span><span class="op" id="5708483">(</span><span class="keyword" id="5708484">type</span><span class="op" id="5708488">)</span>&nbsp;<span class="op" id="5708490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708493">case</span>&nbsp;<span class="builtintype" id="5708498">string</span><span class="op" id="5708504">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708508">switch</span>&nbsp;<span class="ident" id="5708515">d</span>&nbsp;<span class="op" id="5708517">:=</span>&nbsp;<span class="ident" id="5708520">dest</span><span class="op" id="5708524">.</span><span class="op" id="5708525">(</span><span class="keyword" id="5708526">type</span><span class="op" id="5708530">)</span>&nbsp;<span class="op" id="5708532">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708536">case</span>&nbsp;<span class="op" id="5708541">*</span><span class="builtintype" id="5708542">string</span><span class="op" id="5708548">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708553">if</span>&nbsp;<span class="ident" id="5708556">d</span>&nbsp;<span class="op" id="5708558">==</span>&nbsp;<span class="ident" id="5708561">nil</span>&nbsp;<span class="op" id="5708565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708571">return</span>&nbsp;<span class="ident" id="5708578">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708596">*</span><span class="ident" id="5708597">d</span>&nbsp;<span class="op" id="5708599">=</span>&nbsp;<span class="ident" id="5708601">s</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708606">return</span>&nbsp;<span class="ident" id="5708613">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708619">case</span>&nbsp;<span class="op" id="5708624">*</span><span class="op" id="5708625">[</span><span class="op" id="5708626">]</span><span class="builtintype" id="5708627">byte</span><span class="op" id="5708631">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708636">if</span>&nbsp;<span class="ident" id="5708639">d</span>&nbsp;<span class="op" id="5708641">==</span>&nbsp;<span class="ident" id="5708644">nil</span>&nbsp;<span class="op" id="5708648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708654">return</span>&nbsp;<span class="ident" id="5708661">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708674">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708679">*</span><span class="ident" id="5708680">d</span>&nbsp;<span class="op" id="5708682">=</span>&nbsp;<span class="op" id="5708684">[</span><span class="op" id="5708685">]</span><span class="builtintype" id="5708686">byte</span><span class="op" id="5708690">(</span><span class="ident" id="5708691">s</span><span class="op" id="5708692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708697">return</span>&nbsp;<span class="ident" id="5708704">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708713">case</span>&nbsp;<span class="op" id="5708718">[</span><span class="op" id="5708719">]</span><span class="builtintype" id="5708720">byte</span><span class="op" id="5708724">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708728">switch</span>&nbsp;<span class="ident" id="5708735">d</span>&nbsp;<span class="op" id="5708737">:=</span>&nbsp;<span class="ident" id="5708740">dest</span><span class="op" id="5708744">.</span><span class="op" id="5708745">(</span><span class="keyword" id="5708746">type</span><span class="op" id="5708750">)</span>&nbsp;<span class="op" id="5708752">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708756">case</span>&nbsp;<span class="op" id="5708761">*</span><span class="builtintype" id="5708762">string</span><span class="op" id="5708768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708773">if</span>&nbsp;<span class="ident" id="5708776">d</span>&nbsp;<span class="op" id="5708778">==</span>&nbsp;<span class="ident" id="5708781">nil</span>&nbsp;<span class="op" id="5708785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708791">return</span>&nbsp;<span class="ident" id="5708798">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708816">*</span><span class="ident" id="5708817">d</span>&nbsp;<span class="op" id="5708819">=</span>&nbsp;<span class="builtintype" id="5708821">string</span><span class="op" id="5708827">(</span><span class="ident" id="5708828">s</span><span class="op" id="5708829">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708834">return</span>&nbsp;<span class="ident" id="5708841">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708847">case</span>&nbsp;<span class="op" id="5708852">*</span><span class="keyword" id="5708853">interface</span><span class="op" id="5708862">{</span><span class="op" id="5708863">}</span><span class="op" id="5708864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708869">if</span>&nbsp;<span class="ident" id="5708872">d</span>&nbsp;<span class="op" id="5708874">==</span>&nbsp;<span class="ident" id="5708877">nil</span>&nbsp;<span class="op" id="5708881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708887">return</span>&nbsp;<span class="ident" id="5708894">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708907">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5708912">*</span><span class="ident" id="5708913">d</span>&nbsp;<span class="op" id="5708915">=</span>&nbsp;<span class="ident" id="5708917">cloneBytes</span><span class="op" id="5708927">(</span><span class="ident" id="5708928">s</span><span class="op" id="5708929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708934">return</span>&nbsp;<span class="ident" id="5708941">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708947">case</span>&nbsp;<span class="op" id="5708952">*</span><span class="op" id="5708953">[</span><span class="op" id="5708954">]</span><span class="builtintype" id="5708955">byte</span><span class="op" id="5708959">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708964">if</span>&nbsp;<span class="ident" id="5708967">d</span>&nbsp;<span class="op" id="5708969">==</span>&nbsp;<span class="ident" id="5708972">nil</span>&nbsp;<span class="op" id="5708976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5708982">return</span>&nbsp;<span class="ident" id="5708989">errNilPtr</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709007">*</span><span class="ident" id="5709008">d</span>&nbsp;<span class="op" id="5709010">=</span>&nbsp;<span class="ident" id="5709012">cloneBytes</span><span class="op" id="5709022">(</span><span class="ident" id="5709023">s</span><span class="op" id="5709024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709029">return</span>&nbsp;<span class="ident" id="5709036">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709042">case</span>&nbsp;<span class="op" id="5709047">*</span><span class="ident" id="5709048">RawBytes</span><span class="op" id="5709056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709061">if</span>&nbsp;<span class="ident" id="5709064">d</span>&nbsp;<span class="op" id="5709066">==</span>&nbsp;<span class="ident" id="5709069">nil</span>&nbsp;<span class="op" id="5709073">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709079">return</span>&nbsp;<span class="ident" id="5709086">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709104">*</span><span class="ident" id="5709105">d</span>&nbsp;<span class="op" id="5709107">=</span>&nbsp;<span class="ident" id="5709109">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709114">return</span>&nbsp;<span class="ident" id="5709121">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709127">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709130">case</span>&nbsp;<span class="ident" id="5709135">nil</span><span class="op" id="5709138">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709142">switch</span>&nbsp;<span class="ident" id="5709149">d</span>&nbsp;<span class="op" id="5709151">:=</span>&nbsp;<span class="ident" id="5709154">dest</span><span class="op" id="5709158">.</span><span class="op" id="5709159">(</span><span class="keyword" id="5709160">type</span><span class="op" id="5709164">)</span>&nbsp;<span class="op" id="5709166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709170">case</span>&nbsp;<span class="op" id="5709175">*</span><span class="keyword" id="5709176">interface</span><span class="op" id="5709185">{</span><span class="op" id="5709186">}</span><span class="op" id="5709187">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709192">if</span>&nbsp;<span class="ident" id="5709195">d</span>&nbsp;<span class="op" id="5709197">==</span>&nbsp;<span class="ident" id="5709200">nil</span>&nbsp;<span class="op" id="5709204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709210">return</span>&nbsp;<span class="ident" id="5709217">errNilPtr</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709235">*</span><span class="ident" id="5709236">d</span>&nbsp;<span class="op" id="5709238">=</span>&nbsp;<span class="ident" id="5709240">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709247">return</span>&nbsp;<span class="ident" id="5709254">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709260">case</span>&nbsp;<span class="op" id="5709265">*</span><span class="op" id="5709266">[</span><span class="op" id="5709267">]</span><span class="builtintype" id="5709268">byte</span><span class="op" id="5709272">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709277">if</span>&nbsp;<span class="ident" id="5709280">d</span>&nbsp;<span class="op" id="5709282">==</span>&nbsp;<span class="ident" id="5709285">nil</span>&nbsp;<span class="op" id="5709289">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709295">return</span>&nbsp;<span class="ident" id="5709302">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709320">*</span><span class="ident" id="5709321">d</span>&nbsp;<span class="op" id="5709323">=</span>&nbsp;<span class="ident" id="5709325">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709332">return</span>&nbsp;<span class="ident" id="5709339">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709345">case</span>&nbsp;<span class="op" id="5709350">*</span><span class="ident" id="5709351">RawBytes</span><span class="op" id="5709359">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709364">if</span>&nbsp;<span class="ident" id="5709367">d</span>&nbsp;<span class="op" id="5709369">==</span>&nbsp;<span class="ident" id="5709372">nil</span>&nbsp;<span class="op" id="5709376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709382">return</span>&nbsp;<span class="ident" id="5709389">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709407">*</span><span class="ident" id="5709408">d</span>&nbsp;<span class="op" id="5709410">=</span>&nbsp;<span class="ident" id="5709412">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709419">return</span>&nbsp;<span class="ident" id="5709426">nil</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709439">var</span>&nbsp;<span class="ident" id="5709443">sv</span>&nbsp;<span class="ident" id="5709446">reflect</span><span class="op" id="5709453">.</span><span class="ident" id="5709454">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709462">switch</span>&nbsp;<span class="ident" id="5709469">d</span>&nbsp;<span class="op" id="5709471">:=</span>&nbsp;<span class="ident" id="5709474">dest</span><span class="op" id="5709478">.</span><span class="op" id="5709479">(</span><span class="keyword" id="5709480">type</span><span class="op" id="5709484">)</span>&nbsp;<span class="op" id="5709486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709489">case</span>&nbsp;<span class="op" id="5709494">*</span><span class="builtintype" id="5709495">string</span><span class="op" id="5709501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5709505">sv</span>&nbsp;<span class="op" id="5709508">=</span>&nbsp;<span class="ident" id="5709510">reflect</span><span class="op" id="5709517">.</span><span class="ident" id="5709518">ValueOf</span><span class="op" id="5709525">(</span><span class="ident" id="5709526">src</span><span class="op" id="5709529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709533">switch</span>&nbsp;<span class="ident" id="5709540">sv</span><span class="op" id="5709542">.</span><span class="ident" id="5709543">Kind</span><span class="op" id="5709547">(</span><span class="op" id="5709548">)</span>&nbsp;<span class="op" id="5709550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709554">case</span>&nbsp;<span class="ident" id="5709559">reflect</span><span class="op" id="5709566">.</span><span class="ident" id="5709567">Bool</span><span class="op" id="5709571">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5709576">reflect</span><span class="op" id="5709583">.</span><span class="ident" id="5709584">Int</span><span class="op" id="5709587">,</span>&nbsp;<span class="ident" id="5709589">reflect</span><span class="op" id="5709596">.</span><span class="ident" id="5709597">Int8</span><span class="op" id="5709601">,</span>&nbsp;<span class="ident" id="5709603">reflect</span><span class="op" id="5709610">.</span><span class="ident" id="5709611">Int16</span><span class="op" id="5709616">,</span>&nbsp;<span class="ident" id="5709618">reflect</span><span class="op" id="5709625">.</span><span class="ident" id="5709626">Int32</span><span class="op" id="5709631">,</span>&nbsp;<span class="ident" id="5709633">reflect</span><span class="op" id="5709640">.</span><span class="ident" id="5709641">Int64</span><span class="op" id="5709646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5709651">reflect</span><span class="op" id="5709658">.</span><span class="ident" id="5709659">Uint</span><span class="op" id="5709663">,</span>&nbsp;<span class="ident" id="5709665">reflect</span><span class="op" id="5709672">.</span><span class="ident" id="5709673">Uint8</span><span class="op" id="5709678">,</span>&nbsp;<span class="ident" id="5709680">reflect</span><span class="op" id="5709687">.</span><span class="ident" id="5709688">Uint16</span><span class="op" id="5709694">,</span>&nbsp;<span class="ident" id="5709696">reflect</span><span class="op" id="5709703">.</span><span class="ident" id="5709704">Uint32</span><span class="op" id="5709710">,</span>&nbsp;<span class="ident" id="5709712">reflect</span><span class="op" id="5709719">.</span><span class="ident" id="5709720">Uint64</span><span class="op" id="5709726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5709731">reflect</span><span class="op" id="5709738">.</span><span class="ident" id="5709739">Float32</span><span class="op" id="5709746">,</span>&nbsp;<span class="ident" id="5709748">reflect</span><span class="op" id="5709755">.</span><span class="ident" id="5709756">Float64</span><span class="op" id="5709763">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709768">*</span><span class="ident" id="5709769">d</span>&nbsp;<span class="op" id="5709771">=</span>&nbsp;<span class="ident" id="5709773">asString</span><span class="op" id="5709781">(</span><span class="ident" id="5709782">src</span><span class="op" id="5709785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709790">return</span>&nbsp;<span class="ident" id="5709797">nil</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709806">case</span>&nbsp;<span class="op" id="5709811">*</span><span class="op" id="5709812">[</span><span class="op" id="5709813">]</span><span class="builtintype" id="5709814">byte</span><span class="op" id="5709818">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5709822">sv</span>&nbsp;<span class="op" id="5709825">=</span>&nbsp;<span class="ident" id="5709827">reflect</span><span class="op" id="5709834">.</span><span class="ident" id="5709835">ValueOf</span><span class="op" id="5709842">(</span><span class="ident" id="5709843">src</span><span class="op" id="5709846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709850">if</span>&nbsp;<span class="ident" id="5709853">b</span><span class="op" id="5709854">,</span>&nbsp;<span class="ident" id="5709856">ok</span>&nbsp;<span class="op" id="5709859">:=</span>&nbsp;<span class="ident" id="5709862">asBytes</span><span class="op" id="5709869">(</span><span class="ident" id="5709870">nil</span><span class="op" id="5709873">,</span>&nbsp;<span class="ident" id="5709875">sv</span><span class="op" id="5709877">)</span><span class="op" id="5709878">;</span>&nbsp;<span class="ident" id="5709880">ok</span>&nbsp;<span class="op" id="5709883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709888">*</span><span class="ident" id="5709889">d</span>&nbsp;<span class="op" id="5709891">=</span>&nbsp;<span class="ident" id="5709893">b</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709898">return</span>&nbsp;<span class="ident" id="5709905">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5709911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709914">case</span>&nbsp;<span class="op" id="5709919">*</span><span class="ident" id="5709920">RawBytes</span><span class="op" id="5709928">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5709932">sv</span>&nbsp;<span class="op" id="5709935">=</span>&nbsp;<span class="ident" id="5709937">reflect</span><span class="op" id="5709944">.</span><span class="ident" id="5709945">ValueOf</span><span class="op" id="5709952">(</span><span class="ident" id="5709953">src</span><span class="op" id="5709956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5709960">if</span>&nbsp;<span class="ident" id="5709963">b</span><span class="op" id="5709964">,</span>&nbsp;<span class="ident" id="5709966">ok</span>&nbsp;<span class="op" id="5709969">:=</span>&nbsp;<span class="ident" id="5709972">asBytes</span><span class="op" id="5709979">(</span><span class="op" id="5709980">[</span><span class="op" id="5709981">]</span><span class="builtintype" id="5709982">byte</span><span class="op" id="5709986">(</span><span class="op" id="5709987">*</span><span class="ident" id="5709988">d</span><span class="op" id="5709989">)</span><span class="op" id="5709990">[</span><span class="op" id="5709991">:</span><span class="num" id="5709992">0</span><span class="op" id="5709993">]</span><span class="op" id="5709994">,</span>&nbsp;<span class="ident" id="5709996">sv</span><span class="op" id="5709998">)</span><span class="op" id="5709999">;</span>&nbsp;<span class="ident" id="5710001">ok</span>&nbsp;<span class="op" id="5710004">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710009">*</span><span class="ident" id="5710010">d</span>&nbsp;<span class="op" id="5710012">=</span>&nbsp;<span class="ident" id="5710014">RawBytes</span><span class="op" id="5710022">(</span><span class="ident" id="5710023">b</span><span class="op" id="5710024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710029">return</span>&nbsp;<span class="ident" id="5710036">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710045">case</span>&nbsp;<span class="op" id="5710050">*</span><span class="builtintype" id="5710051">bool</span><span class="op" id="5710055">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710059">bv</span><span class="op" id="5710061">,</span>&nbsp;<span class="ident" id="5710063">err</span>&nbsp;<span class="op" id="5710067">:=</span>&nbsp;<span class="ident" id="5710070">driver</span><span class="op" id="5710076">.</span><span class="ident" id="5710077">Bool</span><span class="op" id="5710081">.</span><span class="ident" id="5710082">ConvertValue</span><span class="op" id="5710094">(</span><span class="ident" id="5710095">src</span><span class="op" id="5710098">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710102">if</span>&nbsp;<span class="ident" id="5710105">err</span>&nbsp;<span class="op" id="5710109">==</span>&nbsp;<span class="ident" id="5710112">nil</span>&nbsp;<span class="op" id="5710116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710121">*</span><span class="ident" id="5710122">d</span>&nbsp;<span class="op" id="5710124">=</span>&nbsp;<span class="ident" id="5710126">bv</span><span class="op" id="5710128">.</span><span class="op" id="5710129">(</span><span class="builtintype" id="5710130">bool</span><span class="op" id="5710134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710142">return</span>&nbsp;<span class="ident" id="5710149">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710154">case</span>&nbsp;<span class="op" id="5710159">*</span><span class="keyword" id="5710160">interface</span><span class="op" id="5710169">{</span><span class="op" id="5710170">}</span><span class="op" id="5710171">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710175">*</span><span class="ident" id="5710176">d</span>&nbsp;<span class="op" id="5710178">=</span>&nbsp;<span class="ident" id="5710180">src</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710186">return</span>&nbsp;<span class="ident" id="5710193">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710202">if</span>&nbsp;<span class="ident" id="5710205">scanner</span><span class="op" id="5710212">,</span>&nbsp;<span class="ident" id="5710214">ok</span>&nbsp;<span class="op" id="5710217">:=</span>&nbsp;<span class="ident" id="5710220">dest</span><span class="op" id="5710224">.</span><span class="op" id="5710225">(</span><span class="ident" id="5710226">Scanner</span><span class="op" id="5710233">)</span><span class="op" id="5710234">;</span>&nbsp;<span class="ident" id="5710236">ok</span>&nbsp;<span class="op" id="5710239">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710243">return</span>&nbsp;<span class="ident" id="5710250">scanner</span><span class="op" id="5710257">.</span><span class="ident" id="5710258">Scan</span><span class="op" id="5710262">(</span><span class="ident" id="5710263">src</span><span class="op" id="5710266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710273">dpv</span>&nbsp;<span class="op" id="5710277">:=</span>&nbsp;<span class="ident" id="5710280">reflect</span><span class="op" id="5710287">.</span><span class="ident" id="5710288">ValueOf</span><span class="op" id="5710295">(</span><span class="ident" id="5710296">dest</span><span class="op" id="5710300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710303">if</span>&nbsp;<span class="ident" id="5710306">dpv</span><span class="op" id="5710309">.</span><span class="ident" id="5710310">Kind</span><span class="op" id="5710314">(</span><span class="op" id="5710315">)</span>&nbsp;<span class="op" id="5710317">!=</span>&nbsp;<span class="ident" id="5710320">reflect</span><span class="op" id="5710327">.</span><span class="ident" id="5710328">Ptr</span>&nbsp;<span class="op" id="5710332">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710336">return</span>&nbsp;<span class="ident" id="5710343">errors</span><span class="op" id="5710349">.</span><span class="ident" id="5710350">New</span><span class="op" id="5710353">(</span><span class="string" id="5710354">&#34;destination&nbsp;not&nbsp;a&nbsp;pointer&#34;</span><span class="op" id="5710381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710387">if</span>&nbsp;<span class="ident" id="5710390">dpv</span><span class="op" id="5710393">.</span><span class="ident" id="5710394">IsNil</span><span class="op" id="5710399">(</span><span class="op" id="5710400">)</span>&nbsp;<span class="op" id="5710402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710406">return</span>&nbsp;<span class="ident" id="5710413">errNilPtr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710424">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710428">if</span>&nbsp;<span class="op" id="5710431">!</span><span class="ident" id="5710432">sv</span><span class="op" id="5710434">.</span><span class="ident" id="5710435">IsValid</span><span class="op" id="5710442">(</span><span class="op" id="5710443">)</span>&nbsp;<span class="op" id="5710445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710449">sv</span>&nbsp;<span class="op" id="5710452">=</span>&nbsp;<span class="ident" id="5710454">reflect</span><span class="op" id="5710461">.</span><span class="ident" id="5710462">ValueOf</span><span class="op" id="5710469">(</span><span class="ident" id="5710470">src</span><span class="op" id="5710473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710480">dv</span>&nbsp;<span class="op" id="5710483">:=</span>&nbsp;<span class="ident" id="5710486">reflect</span><span class="op" id="5710493">.</span><span class="ident" id="5710494">Indirect</span><span class="op" id="5710502">(</span><span class="ident" id="5710503">dpv</span><span class="op" id="5710506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710509">if</span>&nbsp;<span class="ident" id="5710512">dv</span><span class="op" id="5710514">.</span><span class="ident" id="5710515">Kind</span><span class="op" id="5710519">(</span><span class="op" id="5710520">)</span>&nbsp;<span class="op" id="5710522">==</span>&nbsp;<span class="ident" id="5710525">sv</span><span class="op" id="5710527">.</span><span class="ident" id="5710528">Kind</span><span class="op" id="5710532">(</span><span class="op" id="5710533">)</span>&nbsp;<span class="op" id="5710535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710539">dv</span><span class="op" id="5710541">.</span><span class="ident" id="5710542">Set</span><span class="op" id="5710545">(</span><span class="ident" id="5710546">sv</span><span class="op" id="5710548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710552">return</span>&nbsp;<span class="ident" id="5710559">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710564">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710568">switch</span>&nbsp;<span class="ident" id="5710575">dv</span><span class="op" id="5710577">.</span><span class="ident" id="5710578">Kind</span><span class="op" id="5710582">(</span><span class="op" id="5710583">)</span>&nbsp;<span class="op" id="5710585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710588">case</span>&nbsp;<span class="ident" id="5710593">reflect</span><span class="op" id="5710600">.</span><span class="ident" id="5710601">Ptr</span><span class="op" id="5710604">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710608">if</span>&nbsp;<span class="ident" id="5710611">src</span>&nbsp;<span class="op" id="5710615">==</span>&nbsp;<span class="ident" id="5710618">nil</span>&nbsp;<span class="op" id="5710622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710627">dv</span><span class="op" id="5710629">.</span><span class="ident" id="5710630">Set</span><span class="op" id="5710633">(</span><span class="ident" id="5710634">reflect</span><span class="op" id="5710641">.</span><span class="ident" id="5710642">Zero</span><span class="op" id="5710646">(</span><span class="ident" id="5710647">dv</span><span class="op" id="5710649">.</span><span class="ident" id="5710650">Type</span><span class="op" id="5710654">(</span><span class="op" id="5710655">)</span><span class="op" id="5710656">)</span><span class="op" id="5710657">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710662">return</span>&nbsp;<span class="ident" id="5710669">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710675">}</span>&nbsp;<span class="keyword" id="5710677">else</span>&nbsp;<span class="op" id="5710682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710687">dv</span><span class="op" id="5710689">.</span><span class="ident" id="5710690">Set</span><span class="op" id="5710693">(</span><span class="ident" id="5710694">reflect</span><span class="op" id="5710701">.</span><span class="ident" id="5710702">New</span><span class="op" id="5710705">(</span><span class="ident" id="5710706">dv</span><span class="op" id="5710708">.</span><span class="ident" id="5710709">Type</span><span class="op" id="5710713">(</span><span class="op" id="5710714">)</span><span class="op" id="5710715">.</span><span class="ident" id="5710716">Elem</span><span class="op" id="5710720">(</span><span class="op" id="5710721">)</span><span class="op" id="5710722">)</span><span class="op" id="5710723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710728">return</span>&nbsp;<span class="ident" id="5710735">convertAssign</span><span class="op" id="5710748">(</span><span class="ident" id="5710749">dv</span><span class="op" id="5710751">.</span><span class="ident" id="5710752">Interface</span><span class="op" id="5710761">(</span><span class="op" id="5710762">)</span><span class="op" id="5710763">,</span>&nbsp;<span class="ident" id="5710765">src</span><span class="op" id="5710768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5710772">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710775">case</span>&nbsp;<span class="ident" id="5710780">reflect</span><span class="op" id="5710787">.</span><span class="ident" id="5710788">Int</span><span class="op" id="5710791">,</span>&nbsp;<span class="ident" id="5710793">reflect</span><span class="op" id="5710800">.</span><span class="ident" id="5710801">Int8</span><span class="op" id="5710805">,</span>&nbsp;<span class="ident" id="5710807">reflect</span><span class="op" id="5710814">.</span><span class="ident" id="5710815">Int16</span><span class="op" id="5710820">,</span>&nbsp;<span class="ident" id="5710822">reflect</span><span class="op" id="5710829">.</span><span class="ident" id="5710830">Int32</span><span class="op" id="5710835">,</span>&nbsp;<span class="ident" id="5710837">reflect</span><span class="op" id="5710844">.</span><span class="ident" id="5710845">Int64</span><span class="op" id="5710850">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710854">s</span>&nbsp;<span class="op" id="5710856">:=</span>&nbsp;<span class="ident" id="5710859">asString</span><span class="op" id="5710867">(</span><span class="ident" id="5710868">src</span><span class="op" id="5710871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5710875">i64</span><span class="op" id="5710878">,</span>&nbsp;<span class="ident" id="5710880">err</span>&nbsp;<span class="op" id="5710884">:=</span>&nbsp;<span class="ident" id="5710887">strconv</span><span class="op" id="5710894">.</span><span class="ident" id="5710895">ParseInt</span><span class="op" id="5710903">(</span><span class="ident" id="5710904">s</span><span class="op" id="5710905">,</span>&nbsp;<span class="num" id="5710907">10</span><span class="op" id="5710909">,</span>&nbsp;<span class="ident" id="5710911">dv</span><span class="op" id="5710913">.</span><span class="ident" id="5710914">Type</span><span class="op" id="5710918">(</span><span class="op" id="5710919">)</span><span class="op" id="5710920">.</span><span class="ident" id="5710921">Bits</span><span class="op" id="5710925">(</span><span class="op" id="5710926">)</span><span class="op" id="5710927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710931">if</span>&nbsp;<span class="ident" id="5710934">err</span>&nbsp;<span class="op" id="5710938">!=</span>&nbsp;<span class="ident" id="5710941">nil</span>&nbsp;<span class="op" id="5710945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5710950">return</span>&nbsp;<span class="ident" id="5710957">fmt</span><span class="op" id="5710960">.</span><span class="ident" id="5710961">Errorf</span><span class="op" id="5710967">(</span><span class="string" id="5710968">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="5711002">,</span>&nbsp;<span class="ident" id="5711004">s</span><span class="op" id="5711005">,</span>&nbsp;<span class="ident" id="5711007">dv</span><span class="op" id="5711009">.</span><span class="ident" id="5711010">Kind</span><span class="op" id="5711014">(</span><span class="op" id="5711015">)</span><span class="op" id="5711016">,</span>&nbsp;<span class="ident" id="5711018">err</span><span class="op" id="5711021">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5711025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711029">dv</span><span class="op" id="5711031">.</span><span class="ident" id="5711032">SetInt</span><span class="op" id="5711038">(</span><span class="ident" id="5711039">i64</span><span class="op" id="5711042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711046">return</span>&nbsp;<span class="ident" id="5711053">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711058">case</span>&nbsp;<span class="ident" id="5711063">reflect</span><span class="op" id="5711070">.</span><span class="ident" id="5711071">Uint</span><span class="op" id="5711075">,</span>&nbsp;<span class="ident" id="5711077">reflect</span><span class="op" id="5711084">.</span><span class="ident" id="5711085">Uint8</span><span class="op" id="5711090">,</span>&nbsp;<span class="ident" id="5711092">reflect</span><span class="op" id="5711099">.</span><span class="ident" id="5711100">Uint16</span><span class="op" id="5711106">,</span>&nbsp;<span class="ident" id="5711108">reflect</span><span class="op" id="5711115">.</span><span class="ident" id="5711116">Uint32</span><span class="op" id="5711122">,</span>&nbsp;<span class="ident" id="5711124">reflect</span><span class="op" id="5711131">.</span><span class="ident" id="5711132">Uint64</span><span class="op" id="5711138">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711142">s</span>&nbsp;<span class="op" id="5711144">:=</span>&nbsp;<span class="ident" id="5711147">asString</span><span class="op" id="5711155">(</span><span class="ident" id="5711156">src</span><span class="op" id="5711159">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711163">u64</span><span class="op" id="5711166">,</span>&nbsp;<span class="ident" id="5711168">err</span>&nbsp;<span class="op" id="5711172">:=</span>&nbsp;<span class="ident" id="5711175">strconv</span><span class="op" id="5711182">.</span><span class="ident" id="5711183">ParseUint</span><span class="op" id="5711192">(</span><span class="ident" id="5711193">s</span><span class="op" id="5711194">,</span>&nbsp;<span class="num" id="5711196">10</span><span class="op" id="5711198">,</span>&nbsp;<span class="ident" id="5711200">dv</span><span class="op" id="5711202">.</span><span class="ident" id="5711203">Type</span><span class="op" id="5711207">(</span><span class="op" id="5711208">)</span><span class="op" id="5711209">.</span><span class="ident" id="5711210">Bits</span><span class="op" id="5711214">(</span><span class="op" id="5711215">)</span><span class="op" id="5711216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711220">if</span>&nbsp;<span class="ident" id="5711223">err</span>&nbsp;<span class="op" id="5711227">!=</span>&nbsp;<span class="ident" id="5711230">nil</span>&nbsp;<span class="op" id="5711234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711239">return</span>&nbsp;<span class="ident" id="5711246">fmt</span><span class="op" id="5711249">.</span><span class="ident" id="5711250">Errorf</span><span class="op" id="5711256">(</span><span class="string" id="5711257">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="5711291">,</span>&nbsp;<span class="ident" id="5711293">s</span><span class="op" id="5711294">,</span>&nbsp;<span class="ident" id="5711296">dv</span><span class="op" id="5711298">.</span><span class="ident" id="5711299">Kind</span><span class="op" id="5711303">(</span><span class="op" id="5711304">)</span><span class="op" id="5711305">,</span>&nbsp;<span class="ident" id="5711307">err</span><span class="op" id="5711310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5711314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711318">dv</span><span class="op" id="5711320">.</span><span class="ident" id="5711321">SetUint</span><span class="op" id="5711328">(</span><span class="ident" id="5711329">u64</span><span class="op" id="5711332">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711336">return</span>&nbsp;<span class="ident" id="5711343">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711348">case</span>&nbsp;<span class="ident" id="5711353">reflect</span><span class="op" id="5711360">.</span><span class="ident" id="5711361">Float32</span><span class="op" id="5711368">,</span>&nbsp;<span class="ident" id="5711370">reflect</span><span class="op" id="5711377">.</span><span class="ident" id="5711378">Float64</span><span class="op" id="5711385">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711389">s</span>&nbsp;<span class="op" id="5711391">:=</span>&nbsp;<span class="ident" id="5711394">asString</span><span class="op" id="5711402">(</span><span class="ident" id="5711403">src</span><span class="op" id="5711406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711410">f64</span><span class="op" id="5711413">,</span>&nbsp;<span class="ident" id="5711415">err</span>&nbsp;<span class="op" id="5711419">:=</span>&nbsp;<span class="ident" id="5711422">strconv</span><span class="op" id="5711429">.</span><span class="ident" id="5711430">ParseFloat</span><span class="op" id="5711440">(</span><span class="ident" id="5711441">s</span><span class="op" id="5711442">,</span>&nbsp;<span class="ident" id="5711444">dv</span><span class="op" id="5711446">.</span><span class="ident" id="5711447">Type</span><span class="op" id="5711451">(</span><span class="op" id="5711452">)</span><span class="op" id="5711453">.</span><span class="ident" id="5711454">Bits</span><span class="op" id="5711458">(</span><span class="op" id="5711459">)</span><span class="op" id="5711460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711464">if</span>&nbsp;<span class="ident" id="5711467">err</span>&nbsp;<span class="op" id="5711471">!=</span>&nbsp;<span class="ident" id="5711474">nil</span>&nbsp;<span class="op" id="5711478">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711483">return</span>&nbsp;<span class="ident" id="5711490">fmt</span><span class="op" id="5711493">.</span><span class="ident" id="5711494">Errorf</span><span class="op" id="5711500">(</span><span class="string" id="5711501">&#34;converting&nbsp;string&nbsp;%q&nbsp;to&nbsp;a&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="5711535">,</span>&nbsp;<span class="ident" id="5711537">s</span><span class="op" id="5711538">,</span>&nbsp;<span class="ident" id="5711540">dv</span><span class="op" id="5711542">.</span><span class="ident" id="5711543">Kind</span><span class="op" id="5711547">(</span><span class="op" id="5711548">)</span><span class="op" id="5711549">,</span>&nbsp;<span class="ident" id="5711551">err</span><span class="op" id="5711554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5711558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711562">dv</span><span class="op" id="5711564">.</span><span class="ident" id="5711565">SetFloat</span><span class="op" id="5711573">(</span><span class="ident" id="5711574">f64</span><span class="op" id="5711577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711581">return</span>&nbsp;<span class="ident" id="5711588">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5711593">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711597">return</span>&nbsp;<span class="ident" id="5711604">fmt</span><span class="op" id="5711607">.</span><span class="ident" id="5711608">Errorf</span><span class="op" id="5711614">(</span><span class="string" id="5711615">&#34;unsupported&nbsp;driver&nbsp;-&gt;&nbsp;Scan&nbsp;pair:&nbsp;%T&nbsp;-&gt;&nbsp;%T&#34;</span><span class="op" id="5711658">,</span>&nbsp;<span class="ident" id="5711660">src</span><span class="op" id="5711663">,</span>&nbsp;<span class="ident" id="5711665">dest</span><span class="op" id="5711669">)</span><br>
<span class="lineno"></span><span class="op" id="5711671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5711674">func</span>&nbsp;<span class="ident" id="5711679">cloneBytes</span><span class="op" id="5711689">(</span><span class="ident" id="5711690">b</span>&nbsp;<span class="op" id="5711692">[</span><span class="op" id="5711693">]</span><span class="builtintype" id="5711694">byte</span><span class="op" id="5711698">)</span>&nbsp;<span class="op" id="5711700">[</span><span class="op" id="5711701">]</span><span class="builtintype" id="5711702">byte</span>&nbsp;<span class="op" id="5711707">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711710">if</span>&nbsp;<span class="ident" id="5711713">b</span>&nbsp;<span class="op" id="5711715">==</span>&nbsp;<span class="ident" id="5711718">nil</span>&nbsp;<span class="op" id="5711722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711726">return</span>&nbsp;<span class="ident" id="5711733">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5711738">}</span>&nbsp;<span class="keyword" id="5711740">else</span>&nbsp;<span class="op" id="5711745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711749">c</span>&nbsp;<span class="op" id="5711751">:=</span>&nbsp;<span class="builtinfunc" id="5711754">make</span><span class="op" id="5711758">(</span><span class="op" id="5711759">[</span><span class="op" id="5711760">]</span><span class="builtintype" id="5711761">byte</span><span class="op" id="5711765">,</span>&nbsp;<span class="builtinfunc" id="5711767">len</span><span class="op" id="5711770">(</span><span class="ident" id="5711771">b</span><span class="op" id="5711772">)</span><span class="op" id="5711773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5711777">copy</span><span class="op" id="5711781">(</span><span class="ident" id="5711782">c</span><span class="op" id="5711783">,</span>&nbsp;<span class="ident" id="5711785">b</span><span class="op" id="5711786">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711790">return</span>&nbsp;<span class="ident" id="5711797">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5711800">}</span><br>
<span class="lineno"></span><span class="op" id="5711802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5711805">func</span>&nbsp;<span class="ident" id="5711810">asString</span><span class="op" id="5711818">(</span><span class="ident" id="5711819">src</span>&nbsp;<span class="keyword" id="5711823">interface</span><span class="op" id="5711832">{</span><span class="op" id="5711833">}</span><span class="op" id="5711834">)</span>&nbsp;<span class="builtintype" id="5711836">string</span>&nbsp;<span class="op" id="5711843">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711846">switch</span>&nbsp;<span class="ident" id="5711853">v</span>&nbsp;<span class="op" id="5711855">:=</span>&nbsp;<span class="ident" id="5711858">src</span><span class="op" id="5711861">.</span><span class="op" id="5711862">(</span><span class="keyword" id="5711863">type</span><span class="op" id="5711867">)</span>&nbsp;<span class="op" id="5711869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711872">case</span>&nbsp;<span class="builtintype" id="5711877">string</span><span class="op" id="5711883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711887">return</span>&nbsp;<span class="ident" id="5711894">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711897">case</span>&nbsp;<span class="op" id="5711902">[</span><span class="op" id="5711903">]</span><span class="builtintype" id="5711904">byte</span><span class="op" id="5711908">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711912">return</span>&nbsp;<span class="builtintype" id="5711919">string</span><span class="op" id="5711925">(</span><span class="ident" id="5711926">v</span><span class="op" id="5711927">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5711930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5711933">rv</span>&nbsp;<span class="op" id="5711936">:=</span>&nbsp;<span class="ident" id="5711939">reflect</span><span class="op" id="5711946">.</span><span class="ident" id="5711947">ValueOf</span><span class="op" id="5711954">(</span><span class="ident" id="5711955">src</span><span class="op" id="5711958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711961">switch</span>&nbsp;<span class="ident" id="5711968">rv</span><span class="op" id="5711970">.</span><span class="ident" id="5711971">Kind</span><span class="op" id="5711975">(</span><span class="op" id="5711976">)</span>&nbsp;<span class="op" id="5711978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5711981">case</span>&nbsp;<span class="ident" id="5711986">reflect</span><span class="op" id="5711993">.</span><span class="ident" id="5711994">Int</span><span class="op" id="5711997">,</span>&nbsp;<span class="ident" id="5711999">reflect</span><span class="op" id="5712006">.</span><span class="ident" id="5712007">Int8</span><span class="op" id="5712011">,</span>&nbsp;<span class="ident" id="5712013">reflect</span><span class="op" id="5712020">.</span><span class="ident" id="5712021">Int16</span><span class="op" id="5712026">,</span>&nbsp;<span class="ident" id="5712028">reflect</span><span class="op" id="5712035">.</span><span class="ident" id="5712036">Int32</span><span class="op" id="5712041">,</span>&nbsp;<span class="ident" id="5712043">reflect</span><span class="op" id="5712050">.</span><span class="ident" id="5712051">Int64</span><span class="op" id="5712056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712060">return</span>&nbsp;<span class="ident" id="5712067">strconv</span><span class="op" id="5712074">.</span><span class="ident" id="5712075">FormatInt</span><span class="op" id="5712084">(</span><span class="ident" id="5712085">rv</span><span class="op" id="5712087">.</span><span class="ident" id="5712088">Int</span><span class="op" id="5712091">(</span><span class="op" id="5712092">)</span><span class="op" id="5712093">,</span>&nbsp;<span class="num" id="5712095">10</span><span class="op" id="5712097">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712100">case</span>&nbsp;<span class="ident" id="5712105">reflect</span><span class="op" id="5712112">.</span><span class="ident" id="5712113">Uint</span><span class="op" id="5712117">,</span>&nbsp;<span class="ident" id="5712119">reflect</span><span class="op" id="5712126">.</span><span class="ident" id="5712127">Uint8</span><span class="op" id="5712132">,</span>&nbsp;<span class="ident" id="5712134">reflect</span><span class="op" id="5712141">.</span><span class="ident" id="5712142">Uint16</span><span class="op" id="5712148">,</span>&nbsp;<span class="ident" id="5712150">reflect</span><span class="op" id="5712157">.</span><span class="ident" id="5712158">Uint32</span><span class="op" id="5712164">,</span>&nbsp;<span class="ident" id="5712166">reflect</span><span class="op" id="5712173">.</span><span class="ident" id="5712174">Uint64</span><span class="op" id="5712180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712184">return</span>&nbsp;<span class="ident" id="5712191">strconv</span><span class="op" id="5712198">.</span><span class="ident" id="5712199">FormatUint</span><span class="op" id="5712209">(</span><span class="ident" id="5712210">rv</span><span class="op" id="5712212">.</span><span class="ident" id="5712213">Uint</span><span class="op" id="5712217">(</span><span class="op" id="5712218">)</span><span class="op" id="5712219">,</span>&nbsp;<span class="num" id="5712221">10</span><span class="op" id="5712223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712226">case</span>&nbsp;<span class="ident" id="5712231">reflect</span><span class="op" id="5712238">.</span><span class="ident" id="5712239">Float64</span><span class="op" id="5712246">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712250">return</span>&nbsp;<span class="ident" id="5712257">strconv</span><span class="op" id="5712264">.</span><span class="ident" id="5712265">FormatFloat</span><span class="op" id="5712276">(</span><span class="ident" id="5712277">rv</span><span class="op" id="5712279">.</span><span class="ident" id="5712280">Float</span><span class="op" id="5712285">(</span><span class="op" id="5712286">)</span><span class="op" id="5712287">,</span>&nbsp;<span class="string" id="5712289">&#39;g&#39;</span><span class="op" id="5712292">,</span>&nbsp;<span class="op" id="5712294">-</span><span class="num" id="5712295">1</span><span class="op" id="5712296">,</span>&nbsp;<span class="num" id="5712298">64</span><span class="op" id="5712300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712303">case</span>&nbsp;<span class="ident" id="5712308">reflect</span><span class="op" id="5712315">.</span><span class="ident" id="5712316">Float32</span><span class="op" id="5712323">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712327">return</span>&nbsp;<span class="ident" id="5712334">strconv</span><span class="op" id="5712341">.</span><span class="ident" id="5712342">FormatFloat</span><span class="op" id="5712353">(</span><span class="ident" id="5712354">rv</span><span class="op" id="5712356">.</span><span class="ident" id="5712357">Float</span><span class="op" id="5712362">(</span><span class="op" id="5712363">)</span><span class="op" id="5712364">,</span>&nbsp;<span class="string" id="5712366">&#39;g&#39;</span><span class="op" id="5712369">,</span>&nbsp;<span class="op" id="5712371">-</span><span class="num" id="5712372">1</span><span class="op" id="5712373">,</span>&nbsp;<span class="num" id="5712375">32</span><span class="op" id="5712377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712380">case</span>&nbsp;<span class="ident" id="5712385">reflect</span><span class="op" id="5712392">.</span><span class="ident" id="5712393">Bool</span><span class="op" id="5712397">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712401">return</span>&nbsp;<span class="ident" id="5712408">strconv</span><span class="op" id="5712415">.</span><span class="ident" id="5712416">FormatBool</span><span class="op" id="5712426">(</span><span class="ident" id="5712427">rv</span><span class="op" id="5712429">.</span><span class="ident" id="5712430">Bool</span><span class="op" id="5712434">(</span><span class="op" id="5712435">)</span><span class="op" id="5712436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5712439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712442">return</span>&nbsp;<span class="ident" id="5712449">fmt</span><span class="op" id="5712452">.</span><span class="ident" id="5712453">Sprintf</span><span class="op" id="5712460">(</span><span class="string" id="5712461">&#34;%v&#34;</span><span class="op" id="5712465">,</span>&nbsp;<span class="ident" id="5712467">src</span><span class="op" id="5712470">)</span><br>
<span class="lineno">280</span><span class="op" id="5712472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5712475">func</span>&nbsp;<span class="ident" id="5712480">asBytes</span><span class="op" id="5712487">(</span><span class="ident" id="5712488">buf</span>&nbsp;<span class="op" id="5712492">[</span><span class="op" id="5712493">]</span><span class="builtintype" id="5712494">byte</span><span class="op" id="5712498">,</span>&nbsp;<span class="ident" id="5712500">rv</span>&nbsp;<span class="ident" id="5712503">reflect</span><span class="op" id="5712510">.</span><span class="ident" id="5712511">Value</span><span class="op" id="5712516">)</span>&nbsp;<span class="op" id="5712518">(</span><span class="ident" id="5712519">b</span>&nbsp;<span class="op" id="5712521">[</span><span class="op" id="5712522">]</span><span class="builtintype" id="5712523">byte</span><span class="op" id="5712527">,</span>&nbsp;<span class="ident" id="5712529">ok</span>&nbsp;<span class="builtintype" id="5712532">bool</span><span class="op" id="5712536">)</span>&nbsp;<span class="op" id="5712538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712541">switch</span>&nbsp;<span class="ident" id="5712548">rv</span><span class="op" id="5712550">.</span><span class="ident" id="5712551">Kind</span><span class="op" id="5712555">(</span><span class="op" id="5712556">)</span>&nbsp;<span class="op" id="5712558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712561">case</span>&nbsp;<span class="ident" id="5712566">reflect</span><span class="op" id="5712573">.</span><span class="ident" id="5712574">Int</span><span class="op" id="5712577">,</span>&nbsp;<span class="ident" id="5712579">reflect</span><span class="op" id="5712586">.</span><span class="ident" id="5712587">Int8</span><span class="op" id="5712591">,</span>&nbsp;<span class="ident" id="5712593">reflect</span><span class="op" id="5712600">.</span><span class="ident" id="5712601">Int16</span><span class="op" id="5712606">,</span>&nbsp;<span class="ident" id="5712608">reflect</span><span class="op" id="5712615">.</span><span class="ident" id="5712616">Int32</span><span class="op" id="5712621">,</span>&nbsp;<span class="ident" id="5712623">reflect</span><span class="op" id="5712630">.</span><span class="ident" id="5712631">Int64</span><span class="op" id="5712636">:</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712640">return</span>&nbsp;<span class="ident" id="5712647">strconv</span><span class="op" id="5712654">.</span><span class="ident" id="5712655">AppendInt</span><span class="op" id="5712664">(</span><span class="ident" id="5712665">buf</span><span class="op" id="5712668">,</span>&nbsp;<span class="ident" id="5712670">rv</span><span class="op" id="5712672">.</span><span class="ident" id="5712673">Int</span><span class="op" id="5712676">(</span><span class="op" id="5712677">)</span><span class="op" id="5712678">,</span>&nbsp;<span class="num" id="5712680">10</span><span class="op" id="5712682">)</span><span class="op" id="5712683">,</span>&nbsp;<span class="builtintype" id="5712685">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712691">case</span>&nbsp;<span class="ident" id="5712696">reflect</span><span class="op" id="5712703">.</span><span class="ident" id="5712704">Uint</span><span class="op" id="5712708">,</span>&nbsp;<span class="ident" id="5712710">reflect</span><span class="op" id="5712717">.</span><span class="ident" id="5712718">Uint8</span><span class="op" id="5712723">,</span>&nbsp;<span class="ident" id="5712725">reflect</span><span class="op" id="5712732">.</span><span class="ident" id="5712733">Uint16</span><span class="op" id="5712739">,</span>&nbsp;<span class="ident" id="5712741">reflect</span><span class="op" id="5712748">.</span><span class="ident" id="5712749">Uint32</span><span class="op" id="5712755">,</span>&nbsp;<span class="ident" id="5712757">reflect</span><span class="op" id="5712764">.</span><span class="ident" id="5712765">Uint64</span><span class="op" id="5712771">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712775">return</span>&nbsp;<span class="ident" id="5712782">strconv</span><span class="op" id="5712789">.</span><span class="ident" id="5712790">AppendUint</span><span class="op" id="5712800">(</span><span class="ident" id="5712801">buf</span><span class="op" id="5712804">,</span>&nbsp;<span class="ident" id="5712806">rv</span><span class="op" id="5712808">.</span><span class="ident" id="5712809">Uint</span><span class="op" id="5712813">(</span><span class="op" id="5712814">)</span><span class="op" id="5712815">,</span>&nbsp;<span class="num" id="5712817">10</span><span class="op" id="5712819">)</span><span class="op" id="5712820">,</span>&nbsp;<span class="builtintype" id="5712822">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712828">case</span>&nbsp;<span class="ident" id="5712833">reflect</span><span class="op" id="5712840">.</span><span class="ident" id="5712841">Float32</span><span class="op" id="5712848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712852">return</span>&nbsp;<span class="ident" id="5712859">strconv</span><span class="op" id="5712866">.</span><span class="ident" id="5712867">AppendFloat</span><span class="op" id="5712878">(</span><span class="ident" id="5712879">buf</span><span class="op" id="5712882">,</span>&nbsp;<span class="ident" id="5712884">rv</span><span class="op" id="5712886">.</span><span class="ident" id="5712887">Float</span><span class="op" id="5712892">(</span><span class="op" id="5712893">)</span><span class="op" id="5712894">,</span>&nbsp;<span class="string" id="5712896">&#39;g&#39;</span><span class="op" id="5712899">,</span>&nbsp;<span class="op" id="5712901">-</span><span class="num" id="5712902">1</span><span class="op" id="5712903">,</span>&nbsp;<span class="num" id="5712905">32</span><span class="op" id="5712907">)</span><span class="op" id="5712908">,</span>&nbsp;<span class="builtintype" id="5712910">true</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712916">case</span>&nbsp;<span class="ident" id="5712921">reflect</span><span class="op" id="5712928">.</span><span class="ident" id="5712929">Float64</span><span class="op" id="5712936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5712940">return</span>&nbsp;<span class="ident" id="5712947">strconv</span><span class="op" id="5712954">.</span><span class="ident" id="5712955">AppendFloat</span><span class="op" id="5712966">(</span><span class="ident" id="5712967">buf</span><span class="op" id="5712970">,</span>&nbsp;<span class="ident" id="5712972">rv</span><span class="op" id="5712974">.</span><span class="ident" id="5712975">Float</span><span class="op" id="5712980">(</span><span class="op" id="5712981">)</span><span class="op" id="5712982">,</span>&nbsp;<span class="string" id="5712984">&#39;g&#39;</span><span class="op" id="5712987">,</span>&nbsp;<span class="op" id="5712989">-</span><span class="num" id="5712990">1</span><span class="op" id="5712991">,</span>&nbsp;<span class="num" id="5712993">64</span><span class="op" id="5712995">)</span><span class="op" id="5712996">,</span>&nbsp;<span class="builtintype" id="5712998">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5713004">case</span>&nbsp;<span class="ident" id="5713009">reflect</span><span class="op" id="5713016">.</span><span class="ident" id="5713017">Bool</span><span class="op" id="5713021">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5713025">return</span>&nbsp;<span class="ident" id="5713032">strconv</span><span class="op" id="5713039">.</span><span class="ident" id="5713040">AppendBool</span><span class="op" id="5713050">(</span><span class="ident" id="5713051">buf</span><span class="op" id="5713054">,</span>&nbsp;<span class="ident" id="5713056">rv</span><span class="op" id="5713058">.</span><span class="ident" id="5713059">Bool</span><span class="op" id="5713063">(</span><span class="op" id="5713064">)</span><span class="op" id="5713065">)</span><span class="op" id="5713066">,</span>&nbsp;<span class="builtintype" id="5713068">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5713074">case</span>&nbsp;<span class="ident" id="5713079">reflect</span><span class="op" id="5713086">.</span><span class="ident" id="5713087">String</span><span class="op" id="5713093">:</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5713097">s</span>&nbsp;<span class="op" id="5713099">:=</span>&nbsp;<span class="ident" id="5713102">rv</span><span class="op" id="5713104">.</span><span class="ident" id="5713105">String</span><span class="op" id="5713111">(</span><span class="op" id="5713112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5713116">return</span>&nbsp;<span class="builtinfunc" id="5713123">append</span><span class="op" id="5713129">(</span><span class="ident" id="5713130">buf</span><span class="op" id="5713133">,</span>&nbsp;<span class="ident" id="5713135">s</span><span class="op" id="5713136">...</span><span class="op" id="5713139">)</span><span class="op" id="5713140">,</span>&nbsp;<span class="builtintype" id="5713142">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5713148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5713151">return</span><br>
<span class="lineno"></span><span class="op" id="5713158">}</span>
</div>
</body>
</html>
