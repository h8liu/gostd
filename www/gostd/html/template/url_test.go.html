<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7385432">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7385487">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7385541">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7385592">package</span>&nbsp;<span class="ident" id="7385600">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7385610">import</span>&nbsp;<span class="op" id="7385617">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7385620">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7385630">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7385633">func</span>&nbsp;<span class="ident" id="7385638">TestURLNormalizer</span><span class="op" id="7385655">(</span><span class="ident" id="7385656">t</span>&nbsp;<span class="op" id="7385658">*</span><span class="ident" id="7385659">testing</span><span class="op" id="7385666">.</span><span class="ident" id="7385667">T</span><span class="op" id="7385668">)</span>&nbsp;<span class="op" id="7385670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385673">tests</span>&nbsp;<span class="op" id="7385679">:=</span>&nbsp;<span class="op" id="7385682">[</span><span class="op" id="7385683">]</span><span class="keyword" id="7385684">struct</span>&nbsp;<span class="op" id="7385691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385695">url</span><span class="op" id="7385698">,</span>&nbsp;<span class="ident" id="7385700">want</span>&nbsp;<span class="builtintype" id="7385705">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385713">}</span><span class="op" id="7385714">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385718">{</span><span class="string" id="7385719">&#34;&#34;</span><span class="op" id="7385721">,</span>&nbsp;<span class="string" id="7385723">&#34;&#34;</span><span class="op" id="7385725">}</span><span class="op" id="7385726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7385735">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7385788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7385793">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7385846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385850">}</span><span class="op" id="7385851">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385855">{</span><span class="string" id="7385856">&#34;&nbsp;&#34;</span><span class="op" id="7385859">,</span>&nbsp;<span class="string" id="7385861">&#34;%20&#34;</span><span class="op" id="7385866">}</span><span class="op" id="7385867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385871">{</span><span class="string" id="7385872">&#34;%7c&#34;</span><span class="op" id="7385877">,</span>&nbsp;<span class="string" id="7385879">&#34;%7c&#34;</span><span class="op" id="7385884">}</span><span class="op" id="7385885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385889">{</span><span class="string" id="7385890">&#34;%7C&#34;</span><span class="op" id="7385895">,</span>&nbsp;<span class="string" id="7385897">&#34;%7C&#34;</span><span class="op" id="7385902">}</span><span class="op" id="7385903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385907">{</span><span class="string" id="7385908">&#34;%2&#34;</span><span class="op" id="7385912">,</span>&nbsp;<span class="string" id="7385914">&#34;%252&#34;</span><span class="op" id="7385920">}</span><span class="op" id="7385921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385925">{</span><span class="string" id="7385926">&#34;%&#34;</span><span class="op" id="7385929">,</span>&nbsp;<span class="string" id="7385931">&#34;%25&#34;</span><span class="op" id="7385936">}</span><span class="op" id="7385937">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385941">{</span><span class="string" id="7385942">&#34;%z&#34;</span><span class="op" id="7385946">,</span>&nbsp;<span class="string" id="7385948">&#34;%25z&#34;</span><span class="op" id="7385954">}</span><span class="op" id="7385955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385959">{</span><span class="string" id="7385960">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="7385980">,</span>&nbsp;<span class="string" id="7385982">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="7386007">}</span><span class="op" id="7386008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386014">for</span>&nbsp;<span class="ident" id="7386018">_</span><span class="op" id="7386019">,</span>&nbsp;<span class="ident" id="7386021">test</span>&nbsp;<span class="op" id="7386026">:=</span>&nbsp;<span class="keyword" id="7386029">range</span>&nbsp;<span class="ident" id="7386035">tests</span>&nbsp;<span class="op" id="7386041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386045">if</span>&nbsp;<span class="ident" id="7386048">got</span>&nbsp;<span class="op" id="7386052">:=</span>&nbsp;<span class="ident" id="7386055">urlNormalizer</span><span class="op" id="7386068">(</span><span class="ident" id="7386069">test</span><span class="op" id="7386073">.</span><span class="ident" id="7386074">url</span><span class="op" id="7386077">)</span><span class="op" id="7386078">;</span>&nbsp;<span class="ident" id="7386080">test</span><span class="op" id="7386084">.</span><span class="ident" id="7386085">want</span>&nbsp;<span class="op" id="7386090">!=</span>&nbsp;<span class="ident" id="7386093">got</span>&nbsp;<span class="op" id="7386097">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386102">t</span><span class="op" id="7386103">.</span><span class="ident" id="7386104">Errorf</span><span class="op" id="7386110">(</span><span class="string" id="7386111">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="7386142">,</span>&nbsp;<span class="ident" id="7386144">test</span><span class="op" id="7386148">.</span><span class="ident" id="7386149">url</span><span class="op" id="7386152">,</span>&nbsp;<span class="ident" id="7386154">test</span><span class="op" id="7386158">.</span><span class="ident" id="7386159">want</span><span class="op" id="7386163">,</span>&nbsp;<span class="ident" id="7386165">got</span><span class="op" id="7386168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386176">if</span>&nbsp;<span class="ident" id="7386179">test</span><span class="op" id="7386183">.</span><span class="ident" id="7386184">want</span>&nbsp;<span class="op" id="7386189">!=</span>&nbsp;<span class="ident" id="7386192">urlNormalizer</span><span class="op" id="7386205">(</span><span class="ident" id="7386206">test</span><span class="op" id="7386210">.</span><span class="ident" id="7386211">want</span><span class="op" id="7386215">)</span>&nbsp;<span class="op" id="7386217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386222">t</span><span class="op" id="7386223">.</span><span class="ident" id="7386224">Errorf</span><span class="op" id="7386230">(</span><span class="string" id="7386231">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="7386251">,</span>&nbsp;<span class="ident" id="7386253">test</span><span class="op" id="7386257">.</span><span class="ident" id="7386258">want</span><span class="op" id="7386262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386266">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386269">}</span><br>
<span class="lineno"></span><span class="op" id="7386271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7386274">func</span>&nbsp;<span class="ident" id="7386279">TestURLFilters</span><span class="op" id="7386293">(</span><span class="ident" id="7386294">t</span>&nbsp;<span class="op" id="7386296">*</span><span class="ident" id="7386297">testing</span><span class="op" id="7386304">.</span><span class="ident" id="7386305">T</span><span class="op" id="7386306">)</span>&nbsp;<span class="op" id="7386308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386311">input</span>&nbsp;<span class="op" id="7386317">:=</span>&nbsp;<span class="op" id="7386320">(</span><span class="string" id="7386321">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="7386382">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386386">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="7386453">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386457">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="7386476">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386480">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="7386499">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386503">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="7386522">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386526">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="7386545">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386549">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7386568">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386572">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="7386594">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386598">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="7386640">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386644">tests</span>&nbsp;<span class="op" id="7386650">:=</span>&nbsp;<span class="op" id="7386653">[</span><span class="op" id="7386654">]</span><span class="keyword" id="7386655">struct</span>&nbsp;<span class="op" id="7386662">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386666">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7386674">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386683">escaper</span>&nbsp;<span class="keyword" id="7386691">func</span><span class="op" id="7386695">(</span><span class="op" id="7386696">...</span><span class="keyword" id="7386699">interface</span><span class="op" id="7386708">{</span><span class="op" id="7386709">}</span><span class="op" id="7386710">)</span>&nbsp;<span class="builtintype" id="7386712">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386721">escaped</span>&nbsp;<span class="builtintype" id="7386729">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386737">}</span><span class="op" id="7386738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386742">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386747">&#34;urlEscaper&#34;</span><span class="op" id="7386759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386764">urlEscaper</span><span class="op" id="7386774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386779">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7386830">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386836">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7386887">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386893">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="7386940">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386946">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="7386977">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7386983">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7387004">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387010">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="7387037">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387043">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7387064">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387070">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7387097">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387103">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7387156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387160">}</span><span class="op" id="7387161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387170">&#34;urlNormalizer&#34;</span><span class="op" id="7387185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387190">urlNormalizer</span><span class="op" id="7387203">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387208">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7387259">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387265">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7387316">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387322">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="7387353">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387359">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="7387382">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387388">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7387407">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387413">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="7387436">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387442">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7387463">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387469">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7387496">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7387502">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7387555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387559">}</span><span class="op" id="7387560">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387567">for</span>&nbsp;<span class="ident" id="7387571">_</span><span class="op" id="7387572">,</span>&nbsp;<span class="ident" id="7387574">test</span>&nbsp;<span class="op" id="7387579">:=</span>&nbsp;<span class="keyword" id="7387582">range</span>&nbsp;<span class="ident" id="7387588">tests</span>&nbsp;<span class="op" id="7387594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387598">if</span>&nbsp;<span class="ident" id="7387601">s</span>&nbsp;<span class="op" id="7387603">:=</span>&nbsp;<span class="ident" id="7387606">test</span><span class="op" id="7387610">.</span><span class="ident" id="7387611">escaper</span><span class="op" id="7387618">(</span><span class="ident" id="7387619">input</span><span class="op" id="7387624">)</span><span class="op" id="7387625">;</span>&nbsp;<span class="ident" id="7387627">s</span>&nbsp;<span class="op" id="7387629">!=</span>&nbsp;<span class="ident" id="7387632">test</span><span class="op" id="7387636">.</span><span class="ident" id="7387637">escaped</span>&nbsp;<span class="op" id="7387645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387650">t</span><span class="op" id="7387651">.</span><span class="ident" id="7387652">Errorf</span><span class="op" id="7387658">(</span><span class="string" id="7387659">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="7387686">,</span>&nbsp;<span class="ident" id="7387688">test</span><span class="op" id="7387692">.</span><span class="ident" id="7387693">name</span><span class="op" id="7387697">,</span>&nbsp;<span class="ident" id="7387699">test</span><span class="op" id="7387703">.</span><span class="ident" id="7387704">escaped</span><span class="op" id="7387711">,</span>&nbsp;<span class="ident" id="7387713">s</span><span class="op" id="7387714">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387719">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387733">}</span><br>
<span class="lineno"></span><span class="op" id="7387735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7387738">func</span>&nbsp;<span class="ident" id="7387743">BenchmarkURLEscaper</span><span class="op" id="7387762">(</span><span class="ident" id="7387763">b</span>&nbsp;<span class="op" id="7387765">*</span><span class="ident" id="7387766">testing</span><span class="op" id="7387773">.</span><span class="ident" id="7387774">B</span><span class="op" id="7387775">)</span>&nbsp;<span class="op" id="7387777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387780">for</span>&nbsp;<span class="ident" id="7387784">i</span>&nbsp;<span class="op" id="7387786">:=</span>&nbsp;<span class="num" id="7387789">0</span><span class="op" id="7387790">;</span>&nbsp;<span class="ident" id="7387792">i</span>&nbsp;<span class="op" id="7387794">&lt;</span>&nbsp;<span class="ident" id="7387796">b</span><span class="op" id="7387797">.</span><span class="ident" id="7387798">N</span><span class="op" id="7387799">;</span>&nbsp;<span class="ident" id="7387801">i</span><span class="op" id="7387802">++</span>&nbsp;<span class="op" id="7387805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387809">urlEscaper</span><span class="op" id="7387819">(</span><span class="string" id="7387820">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7387869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387872">}</span><br>
<span class="lineno"></span><span class="op" id="7387874">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="7387877">func</span>&nbsp;<span class="ident" id="7387882">BenchmarkURLEscaperNoSpecials</span><span class="op" id="7387911">(</span><span class="ident" id="7387912">b</span>&nbsp;<span class="op" id="7387914">*</span><span class="ident" id="7387915">testing</span><span class="op" id="7387922">.</span><span class="ident" id="7387923">B</span><span class="op" id="7387924">)</span>&nbsp;<span class="op" id="7387926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387929">for</span>&nbsp;<span class="ident" id="7387933">i</span>&nbsp;<span class="op" id="7387935">:=</span>&nbsp;<span class="num" id="7387938">0</span><span class="op" id="7387939">;</span>&nbsp;<span class="ident" id="7387941">i</span>&nbsp;<span class="op" id="7387943">&lt;</span>&nbsp;<span class="ident" id="7387945">b</span><span class="op" id="7387946">.</span><span class="ident" id="7387947">N</span><span class="op" id="7387948">;</span>&nbsp;<span class="ident" id="7387950">i</span><span class="op" id="7387951">++</span>&nbsp;<span class="op" id="7387954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387958">urlEscaper</span><span class="op" id="7387968">(</span><span class="string" id="7387969">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="7388007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388010">}</span><br>
<span class="lineno">100</span><span class="op" id="7388012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7388015">func</span>&nbsp;<span class="ident" id="7388020">BenchmarkURLNormalizer</span><span class="op" id="7388042">(</span><span class="ident" id="7388043">b</span>&nbsp;<span class="op" id="7388045">*</span><span class="ident" id="7388046">testing</span><span class="op" id="7388053">.</span><span class="ident" id="7388054">B</span><span class="op" id="7388055">)</span>&nbsp;<span class="op" id="7388057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388060">for</span>&nbsp;<span class="ident" id="7388064">i</span>&nbsp;<span class="op" id="7388066">:=</span>&nbsp;<span class="num" id="7388069">0</span><span class="op" id="7388070">;</span>&nbsp;<span class="ident" id="7388072">i</span>&nbsp;<span class="op" id="7388074">&lt;</span>&nbsp;<span class="ident" id="7388076">b</span><span class="op" id="7388077">.</span><span class="ident" id="7388078">N</span><span class="op" id="7388079">;</span>&nbsp;<span class="ident" id="7388081">i</span><span class="op" id="7388082">++</span>&nbsp;<span class="op" id="7388085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388089">urlNormalizer</span><span class="op" id="7388102">(</span><span class="string" id="7388103">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="7388151">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388154">}</span><br>
<span class="lineno"></span><span class="op" id="7388156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7388159">func</span>&nbsp;<span class="ident" id="7388164">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="7388196">(</span><span class="ident" id="7388197">b</span>&nbsp;<span class="op" id="7388199">*</span><span class="ident" id="7388200">testing</span><span class="op" id="7388207">.</span><span class="ident" id="7388208">B</span><span class="op" id="7388209">)</span>&nbsp;<span class="op" id="7388211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388214">for</span>&nbsp;<span class="ident" id="7388218">i</span>&nbsp;<span class="op" id="7388220">:=</span>&nbsp;<span class="num" id="7388223">0</span><span class="op" id="7388224">;</span>&nbsp;<span class="ident" id="7388226">i</span>&nbsp;<span class="op" id="7388228">&lt;</span>&nbsp;<span class="ident" id="7388230">b</span><span class="op" id="7388231">.</span><span class="ident" id="7388232">N</span><span class="op" id="7388233">;</span>&nbsp;<span class="ident" id="7388235">i</span><span class="op" id="7388236">++</span>&nbsp;<span class="op" id="7388239">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388243">urlNormalizer</span><span class="op" id="7388256">(</span><span class="string" id="7388257">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7388306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388309">}</span><br>
<span class="lineno"></span><span class="op" id="7388311">}</span>
</div>
</body>
</html>
