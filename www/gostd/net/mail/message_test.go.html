<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/mail</h2>
<ul>
<li><a href="/gostd/net/mail/message.go.html">message.go</a></li>
<li><a href="/gostd/net/mail/message_test.go.html">message_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6935130">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6935185">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6935239">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6935290">package</span>&nbsp;<span class="ident" id="6935298">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6935304">import</span>&nbsp;<span class="op" id="6935311">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935314">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935323">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935336">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935347">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935358">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935369">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6935376">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6935379">var</span>&nbsp;<span class="ident" id="6935383">parseTests</span>&nbsp;<span class="op" id="6935394">=</span>&nbsp;<span class="op" id="6935396">[</span><span class="op" id="6935397">]</span><span class="keyword" id="6935398">struct</span>&nbsp;<span class="op" id="6935405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935408">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6935415">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935423">header</span>&nbsp;<span class="ident" id="6935430">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935438">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6935445">string</span><br>
<span class="lineno">20</span><span class="op" id="6935452">}</span><span class="op" id="6935453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6935456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6935460">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935490">in</span><span class="op" id="6935492">:</span>&nbsp;<span class="string" id="6935494">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="6935720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6935724">header</span><span class="op" id="6935730">:</span>&nbsp;<span class="ident" id="6935732">Header</span><span class="op" id="6935738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935743">&#34;From&#34;</span><span class="op" id="6935749">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6935757">[</span><span class="op" id="6935758">]</span><span class="builtintype" id="6935759">string</span><span class="op" id="6935765">{</span><span class="string" id="6935766">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="6935799">}</span><span class="op" id="6935800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935805">&#34;To&#34;</span><span class="op" id="6935809">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6935819">[</span><span class="op" id="6935820">]</span><span class="builtintype" id="6935821">string</span><span class="op" id="6935827">{</span><span class="string" id="6935828">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="6935859">}</span><span class="op" id="6935860">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935865">&#34;Subject&#34;</span><span class="op" id="6935874">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6935879">[</span><span class="op" id="6935880">]</span><span class="builtintype" id="6935881">string</span><span class="op" id="6935887">{</span><span class="string" id="6935888">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="6935902">}</span><span class="op" id="6935903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935908">&#34;Date&#34;</span><span class="op" id="6935914">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6935922">[</span><span class="op" id="6935923">]</span><span class="builtintype" id="6935924">string</span><span class="op" id="6935930">{</span><span class="string" id="6935931">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6935964">}</span><span class="op" id="6935965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6935970">&#34;Message-Id&#34;</span><span class="op" id="6935982">:</span>&nbsp;<span class="op" id="6935984">[</span><span class="op" id="6935985">]</span><span class="builtintype" id="6935986">string</span><span class="op" id="6935992">{</span><span class="string" id="6935993">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="6936023">}</span><span class="op" id="6936024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936028">}</span><span class="op" id="6936029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936033">body</span><span class="op" id="6936037">:</span>&nbsp;<span class="string" id="6936039">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="6936095">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936098">}</span><span class="op" id="6936099">,</span><br>
<span class="lineno"></span><span class="op" id="6936101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6936104">func</span>&nbsp;<span class="ident" id="6936109">TestParsing</span><span class="op" id="6936120">(</span><span class="ident" id="6936121">t</span>&nbsp;<span class="op" id="6936123">*</span><span class="ident" id="6936124">testing</span><span class="op" id="6936131">.</span><span class="ident" id="6936132">T</span><span class="op" id="6936133">)</span>&nbsp;<span class="op" id="6936135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936138">for</span>&nbsp;<span class="ident" id="6936142">i</span><span class="op" id="6936143">,</span>&nbsp;<span class="ident" id="6936145">test</span>&nbsp;<span class="op" id="6936150">:=</span>&nbsp;<span class="keyword" id="6936153">range</span>&nbsp;<span class="ident" id="6936159">parseTests</span>&nbsp;<span class="op" id="6936170">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936174">msg</span><span class="op" id="6936177">,</span>&nbsp;<span class="ident" id="6936179">err</span>&nbsp;<span class="op" id="6936183">:=</span>&nbsp;<span class="ident" id="6936186">ReadMessage</span><span class="op" id="6936197">(</span><span class="ident" id="6936198">bytes</span><span class="op" id="6936203">.</span><span class="ident" id="6936204">NewBuffer</span><span class="op" id="6936213">(</span><span class="op" id="6936214">[</span><span class="op" id="6936215">]</span><span class="builtintype" id="6936216">byte</span><span class="op" id="6936220">(</span><span class="ident" id="6936221">test</span><span class="op" id="6936225">.</span><span class="ident" id="6936226">in</span><span class="op" id="6936228">)</span><span class="op" id="6936229">)</span><span class="op" id="6936230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936234">if</span>&nbsp;<span class="ident" id="6936237">err</span>&nbsp;<span class="op" id="6936241">!=</span>&nbsp;<span class="ident" id="6936244">nil</span>&nbsp;<span class="op" id="6936248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936253">t</span><span class="op" id="6936254">.</span><span class="ident" id="6936255">Errorf</span><span class="op" id="6936261">(</span><span class="string" id="6936262">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="6936300">,</span>&nbsp;<span class="ident" id="6936302">i</span><span class="op" id="6936303">,</span>&nbsp;<span class="ident" id="6936305">err</span><span class="op" id="6936308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936313">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936324">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936328">if</span>&nbsp;<span class="op" id="6936331">!</span><span class="ident" id="6936332">headerEq</span><span class="op" id="6936340">(</span><span class="ident" id="6936341">msg</span><span class="op" id="6936344">.</span><span class="ident" id="6936345">Header</span><span class="op" id="6936351">,</span>&nbsp;<span class="ident" id="6936353">test</span><span class="op" id="6936357">.</span><span class="ident" id="6936358">header</span><span class="op" id="6936364">)</span>&nbsp;<span class="op" id="6936366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936371">t</span><span class="op" id="6936372">.</span><span class="ident" id="6936373">Errorf</span><span class="op" id="6936379">(</span><span class="string" id="6936380">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6936449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936455">i</span><span class="op" id="6936456">,</span>&nbsp;<span class="ident" id="6936458">msg</span><span class="op" id="6936461">.</span><span class="ident" id="6936462">Header</span><span class="op" id="6936468">,</span>&nbsp;<span class="ident" id="6936470">test</span><span class="op" id="6936474">.</span><span class="ident" id="6936475">header</span><span class="op" id="6936481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936489">body</span><span class="op" id="6936493">,</span>&nbsp;<span class="ident" id="6936495">err</span>&nbsp;<span class="op" id="6936499">:=</span>&nbsp;<span class="ident" id="6936502">ioutil</span><span class="op" id="6936508">.</span><span class="ident" id="6936509">ReadAll</span><span class="op" id="6936516">(</span><span class="ident" id="6936517">msg</span><span class="op" id="6936520">.</span><span class="ident" id="6936521">Body</span><span class="op" id="6936525">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936529">if</span>&nbsp;<span class="ident" id="6936532">err</span>&nbsp;<span class="op" id="6936536">!=</span>&nbsp;<span class="ident" id="6936539">nil</span>&nbsp;<span class="op" id="6936543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936548">t</span><span class="op" id="6936549">.</span><span class="ident" id="6936550">Errorf</span><span class="op" id="6936556">(</span><span class="string" id="6936557">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="6936592">,</span>&nbsp;<span class="ident" id="6936594">i</span><span class="op" id="6936595">,</span>&nbsp;<span class="ident" id="6936597">err</span><span class="op" id="6936600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936605">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936620">bodyStr</span>&nbsp;<span class="op" id="6936628">:=</span>&nbsp;<span class="builtintype" id="6936631">string</span><span class="op" id="6936637">(</span><span class="ident" id="6936638">body</span><span class="op" id="6936642">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936646">if</span>&nbsp;<span class="ident" id="6936649">bodyStr</span>&nbsp;<span class="op" id="6936657">!=</span>&nbsp;<span class="ident" id="6936660">test</span><span class="op" id="6936664">.</span><span class="ident" id="6936665">body</span>&nbsp;<span class="op" id="6936670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936675">t</span><span class="op" id="6936676">.</span><span class="ident" id="6936677">Errorf</span><span class="op" id="6936683">(</span><span class="string" id="6936684">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6936751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936757">i</span><span class="op" id="6936758">,</span>&nbsp;<span class="ident" id="6936760">bodyStr</span><span class="op" id="6936767">,</span>&nbsp;<span class="ident" id="6936769">test</span><span class="op" id="6936773">.</span><span class="ident" id="6936774">body</span><span class="op" id="6936778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936785">}</span><br>
<span class="lineno">65</span><span class="op" id="6936787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6936790">func</span>&nbsp;<span class="ident" id="6936795">headerEq</span><span class="op" id="6936803">(</span><span class="ident" id="6936804">a</span><span class="op" id="6936805">,</span>&nbsp;<span class="ident" id="6936807">b</span>&nbsp;<span class="ident" id="6936809">Header</span><span class="op" id="6936815">)</span>&nbsp;<span class="builtintype" id="6936817">bool</span>&nbsp;<span class="op" id="6936822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936825">if</span>&nbsp;<span class="builtinfunc" id="6936828">len</span><span class="op" id="6936831">(</span><span class="ident" id="6936832">a</span><span class="op" id="6936833">)</span>&nbsp;<span class="op" id="6936835">!=</span>&nbsp;<span class="builtinfunc" id="6936838">len</span><span class="op" id="6936841">(</span><span class="ident" id="6936842">b</span><span class="op" id="6936843">)</span>&nbsp;<span class="op" id="6936845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936849">return</span>&nbsp;<span class="builtintype" id="6936856">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936866">for</span>&nbsp;<span class="ident" id="6936870">k</span><span class="op" id="6936871">,</span>&nbsp;<span class="ident" id="6936873">as</span>&nbsp;<span class="op" id="6936876">:=</span>&nbsp;<span class="keyword" id="6936879">range</span>&nbsp;<span class="ident" id="6936885">a</span>&nbsp;<span class="op" id="6936887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6936891">bs</span><span class="op" id="6936893">,</span>&nbsp;<span class="ident" id="6936895">ok</span>&nbsp;<span class="op" id="6936898">:=</span>&nbsp;<span class="ident" id="6936901">b</span><span class="op" id="6936902">[</span><span class="ident" id="6936903">k</span><span class="op" id="6936904">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936908">if</span>&nbsp;<span class="op" id="6936911">!</span><span class="ident" id="6936912">ok</span>&nbsp;<span class="op" id="6936915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936920">return</span>&nbsp;<span class="builtintype" id="6936927">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936939">if</span>&nbsp;<span class="op" id="6936942">!</span><span class="ident" id="6936943">reflect</span><span class="op" id="6936950">.</span><span class="ident" id="6936951">DeepEqual</span><span class="op" id="6936960">(</span><span class="ident" id="6936961">as</span><span class="op" id="6936963">,</span>&nbsp;<span class="ident" id="6936965">bs</span><span class="op" id="6936967">)</span>&nbsp;<span class="op" id="6936969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936974">return</span>&nbsp;<span class="builtintype" id="6936981">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6936992">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6936995">return</span>&nbsp;<span class="builtintype" id="6937002">true</span><br>
<span class="lineno"></span><span class="op" id="6937007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6937010">func</span>&nbsp;<span class="ident" id="6937015">TestDateParsing</span><span class="op" id="6937030">(</span><span class="ident" id="6937031">t</span>&nbsp;<span class="op" id="6937033">*</span><span class="ident" id="6937034">testing</span><span class="op" id="6937041">.</span><span class="ident" id="6937042">T</span><span class="op" id="6937043">)</span>&nbsp;<span class="op" id="6937045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937048">tests</span>&nbsp;<span class="op" id="6937054">:=</span>&nbsp;<span class="op" id="6937057">[</span><span class="op" id="6937058">]</span><span class="keyword" id="6937059">struct</span>&nbsp;<span class="op" id="6937066">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937070">dateStr</span>&nbsp;<span class="builtintype" id="6937078">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937087">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6937095">time</span><span class="op" id="6937099">.</span><span class="ident" id="6937100">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937106">}</span><span class="op" id="6937107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6937111">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937141">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6937146">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6937179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937184">time</span><span class="op" id="6937188">.</span><span class="ident" id="6937189">Date</span><span class="op" id="6937193">(</span><span class="num" id="6937194">1997</span><span class="op" id="6937198">,</span>&nbsp;<span class="num" id="6937200">11</span><span class="op" id="6937202">,</span>&nbsp;<span class="num" id="6937204">21</span><span class="op" id="6937206">,</span>&nbsp;<span class="num" id="6937208">9</span><span class="op" id="6937209">,</span>&nbsp;<span class="num" id="6937211">55</span><span class="op" id="6937213">,</span>&nbsp;<span class="num" id="6937215">6</span><span class="op" id="6937216">,</span>&nbsp;<span class="num" id="6937218">0</span><span class="op" id="6937219">,</span>&nbsp;<span class="ident" id="6937221">time</span><span class="op" id="6937225">.</span><span class="ident" id="6937226">FixedZone</span><span class="op" id="6937235">(</span><span class="string" id="6937236">&#34;&#34;</span><span class="op" id="6937238">,</span>&nbsp;<span class="op" id="6937240">-</span><span class="num" id="6937241">6</span><span class="op" id="6937242">*</span><span class="num" id="6937243">60</span><span class="op" id="6937245">*</span><span class="num" id="6937246">60</span><span class="op" id="6937248">)</span><span class="op" id="6937249">)</span><span class="op" id="6937250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937254">}</span><span class="op" id="6937255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6937259">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6937288">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6937313">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="6937337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937342">time</span><span class="op" id="6937346">.</span><span class="ident" id="6937347">Date</span><span class="op" id="6937351">(</span><span class="num" id="6937352">1997</span><span class="op" id="6937356">,</span>&nbsp;<span class="num" id="6937358">11</span><span class="op" id="6937360">,</span>&nbsp;<span class="num" id="6937362">21</span><span class="op" id="6937364">,</span>&nbsp;<span class="num" id="6937366">9</span><span class="op" id="6937367">,</span>&nbsp;<span class="num" id="6937369">55</span><span class="op" id="6937371">,</span>&nbsp;<span class="num" id="6937373">6</span><span class="op" id="6937374">,</span>&nbsp;<span class="num" id="6937376">0</span><span class="op" id="6937377">,</span>&nbsp;<span class="ident" id="6937379">time</span><span class="op" id="6937383">.</span><span class="ident" id="6937384">FixedZone</span><span class="op" id="6937393">(</span><span class="string" id="6937394">&#34;GMT&#34;</span><span class="op" id="6937399">,</span>&nbsp;<span class="num" id="6937401">0</span><span class="op" id="6937402">)</span><span class="op" id="6937403">)</span><span class="op" id="6937404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937408">}</span><span class="op" id="6937409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6937413">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6937472">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="6937511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937516">time</span><span class="op" id="6937520">.</span><span class="ident" id="6937521">Date</span><span class="op" id="6937525">(</span><span class="num" id="6937526">1997</span><span class="op" id="6937530">,</span>&nbsp;<span class="num" id="6937532">11</span><span class="op" id="6937534">,</span>&nbsp;<span class="num" id="6937536">21</span><span class="op" id="6937538">,</span>&nbsp;<span class="num" id="6937540">9</span><span class="op" id="6937541">,</span>&nbsp;<span class="num" id="6937543">55</span><span class="op" id="6937545">,</span>&nbsp;<span class="num" id="6937547">6</span><span class="op" id="6937548">,</span>&nbsp;<span class="num" id="6937550">0</span><span class="op" id="6937551">,</span>&nbsp;<span class="ident" id="6937553">time</span><span class="op" id="6937557">.</span><span class="ident" id="6937558">FixedZone</span><span class="op" id="6937567">(</span><span class="string" id="6937568">&#34;&#34;</span><span class="op" id="6937570">,</span>&nbsp;<span class="op" id="6937572">-</span><span class="num" id="6937573">6</span><span class="op" id="6937574">*</span><span class="num" id="6937575">60</span><span class="op" id="6937577">*</span><span class="num" id="6937578">60</span><span class="op" id="6937580">)</span><span class="op" id="6937581">)</span><span class="op" id="6937582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937586">}</span><span class="op" id="6937587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937590">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6937593">for</span>&nbsp;<span class="ident" id="6937597">_</span><span class="op" id="6937598">,</span>&nbsp;<span class="ident" id="6937600">test</span>&nbsp;<span class="op" id="6937605">:=</span>&nbsp;<span class="keyword" id="6937608">range</span>&nbsp;<span class="ident" id="6937614">tests</span>&nbsp;<span class="op" id="6937620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937624">hdr</span>&nbsp;<span class="op" id="6937628">:=</span>&nbsp;<span class="ident" id="6937631">Header</span><span class="op" id="6937637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6937642">&#34;Date&#34;</span><span class="op" id="6937648">:</span>&nbsp;<span class="op" id="6937650">[</span><span class="op" id="6937651">]</span><span class="builtintype" id="6937652">string</span><span class="op" id="6937658">{</span><span class="ident" id="6937659">test</span><span class="op" id="6937663">.</span><span class="ident" id="6937664">dateStr</span><span class="op" id="6937671">}</span><span class="op" id="6937672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937680">date</span><span class="op" id="6937684">,</span>&nbsp;<span class="ident" id="6937686">err</span>&nbsp;<span class="op" id="6937690">:=</span>&nbsp;<span class="ident" id="6937693">hdr</span><span class="op" id="6937696">.</span><span class="ident" id="6937697">Date</span><span class="op" id="6937701">(</span><span class="op" id="6937702">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6937706">if</span>&nbsp;<span class="ident" id="6937709">err</span>&nbsp;<span class="op" id="6937713">!=</span>&nbsp;<span class="ident" id="6937716">nil</span>&nbsp;<span class="op" id="6937720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937725">t</span><span class="op" id="6937726">.</span><span class="ident" id="6937727">Errorf</span><span class="op" id="6937733">(</span><span class="string" id="6937734">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6937757">,</span>&nbsp;<span class="ident" id="6937759">test</span><span class="op" id="6937763">.</span><span class="ident" id="6937764">dateStr</span><span class="op" id="6937771">,</span>&nbsp;<span class="ident" id="6937773">err</span><span class="op" id="6937776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6937781">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6937796">if</span>&nbsp;<span class="op" id="6937799">!</span><span class="ident" id="6937800">date</span><span class="op" id="6937804">.</span><span class="ident" id="6937805">Equal</span><span class="op" id="6937810">(</span><span class="ident" id="6937811">test</span><span class="op" id="6937815">.</span><span class="ident" id="6937816">exp</span><span class="op" id="6937819">)</span>&nbsp;<span class="op" id="6937821">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6937826">t</span><span class="op" id="6937827">.</span><span class="ident" id="6937828">Errorf</span><span class="op" id="6937834">(</span><span class="string" id="6937835">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6937867">,</span>&nbsp;<span class="ident" id="6937869">test</span><span class="op" id="6937873">.</span><span class="ident" id="6937874">dateStr</span><span class="op" id="6937881">,</span>&nbsp;<span class="ident" id="6937883">date</span><span class="op" id="6937887">,</span>&nbsp;<span class="ident" id="6937889">test</span><span class="op" id="6937893">.</span><span class="ident" id="6937894">exp</span><span class="op" id="6937897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6937904">}</span><br>
<span class="lineno"></span><span class="op" id="6937906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="6937909">func</span>&nbsp;<span class="ident" id="6937914">TestAddressParsingError</span><span class="op" id="6937937">(</span><span class="ident" id="6937938">t</span>&nbsp;<span class="op" id="6937940">*</span><span class="ident" id="6937941">testing</span><span class="op" id="6937948">.</span><span class="ident" id="6937949">T</span><span class="op" id="6937950">)</span>&nbsp;<span class="op" id="6937952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6937955">const</span>&nbsp;<span class="ident" id="6937961">txt</span>&nbsp;<span class="op" id="6937965">=</span>&nbsp;<span class="string" id="6937967">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938027">_</span><span class="op" id="6938028">,</span>&nbsp;<span class="ident" id="6938030">err</span>&nbsp;<span class="op" id="6938034">:=</span>&nbsp;<span class="ident" id="6938037">ParseAddress</span><span class="op" id="6938049">(</span><span class="ident" id="6938050">txt</span><span class="op" id="6938053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6938056">if</span>&nbsp;<span class="ident" id="6938059">err</span>&nbsp;<span class="op" id="6938063">==</span>&nbsp;<span class="ident" id="6938066">nil</span>&nbsp;<span class="op" id="6938070">||</span>&nbsp;<span class="op" id="6938073">!</span><span class="ident" id="6938074">strings</span><span class="op" id="6938081">.</span><span class="ident" id="6938082">Contains</span><span class="op" id="6938090">(</span><span class="ident" id="6938091">err</span><span class="op" id="6938094">.</span><span class="ident" id="6938095">Error</span><span class="op" id="6938100">(</span><span class="op" id="6938101">)</span><span class="op" id="6938102">,</span>&nbsp;<span class="string" id="6938104">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6938127">)</span>&nbsp;<span class="op" id="6938129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938133">t</span><span class="op" id="6938134">.</span><span class="ident" id="6938135">Errorf</span><span class="op" id="6938141">(</span><span class="string" id="6938142">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="6938207">,</span>&nbsp;<span class="ident" id="6938209">txt</span><span class="op" id="6938212">,</span>&nbsp;<span class="ident" id="6938214">err</span><span class="op" id="6938217">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938220">}</span><br>
<span class="lineno"></span><span class="op" id="6938222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6938225">func</span>&nbsp;<span class="ident" id="6938230">TestAddressParsing</span><span class="op" id="6938248">(</span><span class="ident" id="6938249">t</span>&nbsp;<span class="op" id="6938251">*</span><span class="ident" id="6938252">testing</span><span class="op" id="6938259">.</span><span class="ident" id="6938260">T</span><span class="op" id="6938261">)</span>&nbsp;<span class="op" id="6938263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938266">tests</span>&nbsp;<span class="op" id="6938272">:=</span>&nbsp;<span class="op" id="6938275">[</span><span class="op" id="6938276">]</span><span class="keyword" id="6938277">struct</span>&nbsp;<span class="op" id="6938284">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938288">addrsStr</span>&nbsp;<span class="builtintype" id="6938297">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938306">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6938315">[</span><span class="op" id="6938316">]</span><span class="op" id="6938317">*</span><span class="ident" id="6938318">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938327">}</span><span class="op" id="6938328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6938332">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938350">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6938355">`jdoe@machine.example`</span><span class="op" id="6938377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938382">[</span><span class="op" id="6938383">]</span><span class="op" id="6938384">*</span><span class="ident" id="6938385">Address</span><span class="op" id="6938392">{</span><span class="op" id="6938393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938399">Address</span><span class="op" id="6938406">:</span>&nbsp;<span class="string" id="6938408">&#34;jdoe@machine.example&#34;</span><span class="op" id="6938430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938435">}</span><span class="op" id="6938436">}</span><span class="op" id="6938437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938441">}</span><span class="op" id="6938442">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6938446">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6938481">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="6938514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938519">[</span><span class="op" id="6938520">]</span><span class="op" id="6938521">*</span><span class="ident" id="6938522">Address</span><span class="op" id="6938529">{</span><span class="op" id="6938530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938536">Name</span><span class="op" id="6938540">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6938545">&#34;John&nbsp;Doe&#34;</span><span class="op" id="6938555">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938561">Address</span><span class="op" id="6938568">:</span>&nbsp;<span class="string" id="6938570">&#34;jdoe@machine.example&#34;</span><span class="op" id="6938592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938597">}</span><span class="op" id="6938598">}</span><span class="op" id="6938599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938603">}</span><span class="op" id="6938604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6938608">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938638">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6938643">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="6938688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938693">[</span><span class="op" id="6938694">]</span><span class="op" id="6938695">*</span><span class="ident" id="6938696">Address</span><span class="op" id="6938703">{</span><span class="op" id="6938704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938710">Name</span><span class="op" id="6938714">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6938719">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="6938734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938740">Address</span><span class="op" id="6938747">:</span>&nbsp;<span class="string" id="6938749">&#34;john.q.public@example.com&#34;</span><span class="op" id="6938776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938781">}</span><span class="op" id="6938782">}</span><span class="op" id="6938783">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938787">}</span><span class="op" id="6938788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6938797">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="6938860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938865">[</span><span class="op" id="6938866">]</span><span class="op" id="6938867">*</span><span class="ident" id="6938868">Address</span><span class="op" id="6938875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938881">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938888">Name</span><span class="op" id="6938892">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6938897">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="6938909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938916">Address</span><span class="op" id="6938923">:</span>&nbsp;<span class="string" id="6938925">&#34;mary@x.test&#34;</span><span class="op" id="6938938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938944">}</span><span class="op" id="6938945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6938958">Address</span><span class="op" id="6938965">:</span>&nbsp;<span class="string" id="6938967">&#34;jdoe@example.org&#34;</span><span class="op" id="6938985">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938991">}</span><span class="op" id="6938992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6938998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939005">Name</span><span class="op" id="6939009">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6939014">&#34;Who?&#34;</span><span class="op" id="6939020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939027">Address</span><span class="op" id="6939034">:</span>&nbsp;<span class="string" id="6939036">&#34;one@y.test&#34;</span><span class="op" id="6939048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939054">}</span><span class="op" id="6939055">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939060">}</span><span class="op" id="6939061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939065">}</span><span class="op" id="6939066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6939075">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="6939140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939145">[</span><span class="op" id="6939146">]</span><span class="op" id="6939147">*</span><span class="ident" id="6939148">Address</span><span class="op" id="6939155">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939168">Address</span><span class="op" id="6939175">:</span>&nbsp;<span class="string" id="6939177">&#34;boss@nil.test&#34;</span><span class="op" id="6939192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939198">}</span><span class="op" id="6939199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939212">Name</span><span class="op" id="6939216">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6939221">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="6939239">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939246">Address</span><span class="op" id="6939253">:</span>&nbsp;<span class="string" id="6939255">&#34;sysservices@example.net&#34;</span><span class="op" id="6939280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939286">}</span><span class="op" id="6939287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939292">}</span><span class="op" id="6939293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939297">}</span><span class="op" id="6939298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6939302">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6939332">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6939371">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6939422">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6939471">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939476">[</span><span class="op" id="6939477">]</span><span class="op" id="6939478">*</span><span class="ident" id="6939479">Address</span><span class="op" id="6939486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939499">Name</span><span class="op" id="6939503">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6939508">`Jörg&nbsp;Doe`</span><span class="op" id="6939519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939526">Address</span><span class="op" id="6939533">:</span>&nbsp;<span class="string" id="6939535">&#34;joerg@example.com&#34;</span><span class="op" id="6939554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939560">}</span><span class="op" id="6939561">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939566">}</span><span class="op" id="6939567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939571">}</span><span class="op" id="6939572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6939576">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6939641">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6939688">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939693">[</span><span class="op" id="6939694">]</span><span class="op" id="6939695">*</span><span class="ident" id="6939696">Address</span><span class="op" id="6939703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939716">Name</span><span class="op" id="6939720">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6939725">`Jorg&nbsp;Doe`</span><span class="op" id="6939735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939742">Address</span><span class="op" id="6939749">:</span>&nbsp;<span class="string" id="6939751">&#34;joerg@example.com&#34;</span><span class="op" id="6939770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939776">}</span><span class="op" id="6939777">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939782">}</span><span class="op" id="6939783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939787">}</span><span class="op" id="6939788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6939792">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6939838">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6939885">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939890">[</span><span class="op" id="6939891">]</span><span class="op" id="6939892">*</span><span class="ident" id="6939893">Address</span><span class="op" id="6939900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939913">Name</span><span class="op" id="6939917">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6939922">`Jörg&nbsp;Doe`</span><span class="op" id="6939933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6939940">Address</span><span class="op" id="6939947">:</span>&nbsp;<span class="string" id="6939949">&#34;joerg@example.com&#34;</span><span class="op" id="6939968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939974">}</span><span class="op" id="6939975">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939980">}</span><span class="op" id="6939981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6939985">}</span><span class="op" id="6939986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6939990">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6940021">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="6940077">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940082">[</span><span class="op" id="6940083">]</span><span class="op" id="6940084">*</span><span class="ident" id="6940085">Address</span><span class="op" id="6940092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940105">Name</span><span class="op" id="6940109">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6940114">`André&nbsp;Pirard`</span><span class="op" id="6940129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940136">Address</span><span class="op" id="6940143">:</span>&nbsp;<span class="string" id="6940145">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="6940167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940173">}</span><span class="op" id="6940174">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940179">}</span><span class="op" id="6940180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940184">}</span><span class="op" id="6940185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6940189">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6940258">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6940305">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940310">[</span><span class="op" id="6940311">]</span><span class="op" id="6940312">*</span><span class="ident" id="6940313">Address</span><span class="op" id="6940320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940333">Name</span><span class="op" id="6940337">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6940342">`Jörg`</span><span class="op" id="6940349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940356">Address</span><span class="op" id="6940363">:</span>&nbsp;<span class="string" id="6940365">&#34;joerg@example.com&#34;</span><span class="op" id="6940384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940390">}</span><span class="op" id="6940391">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940396">}</span><span class="op" id="6940397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940401">}</span><span class="op" id="6940402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6940406">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6940470">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6940512">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940517">[</span><span class="op" id="6940518">]</span><span class="op" id="6940519">*</span><span class="ident" id="6940520">Address</span><span class="op" id="6940527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940540">Name</span><span class="op" id="6940544">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6940549">`Jörg`</span><span class="op" id="6940556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940563">Address</span><span class="op" id="6940570">:</span>&nbsp;<span class="string" id="6940572">&#34;joerg@example.com&#34;</span><span class="op" id="6940591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940597">}</span><span class="op" id="6940598">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940603">}</span><span class="op" id="6940604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940608">}</span><span class="op" id="6940609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6940613">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6940671">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="6940702">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940707">[</span><span class="op" id="6940708">]</span><span class="op" id="6940709">*</span><span class="ident" id="6940710">Address</span><span class="op" id="6940717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940730">Name</span><span class="op" id="6940734">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6940739">`Asem&nbsp;H.`</span><span class="op" id="6940748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940755">Address</span><span class="op" id="6940762">:</span>&nbsp;<span class="string" id="6940764">&#34;noreply@example.com&#34;</span><span class="op" id="6940785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940791">}</span><span class="op" id="6940792">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940797">}</span><span class="op" id="6940798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940802">}</span><span class="op" id="6940803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6940806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6940809">for</span>&nbsp;<span class="ident" id="6940813">_</span><span class="op" id="6940814">,</span>&nbsp;<span class="ident" id="6940816">test</span>&nbsp;<span class="op" id="6940821">:=</span>&nbsp;<span class="keyword" id="6940824">range</span>&nbsp;<span class="ident" id="6940830">tests</span>&nbsp;<span class="op" id="6940836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6940840">if</span>&nbsp;<span class="builtinfunc" id="6940843">len</span><span class="op" id="6940846">(</span><span class="ident" id="6940847">test</span><span class="op" id="6940851">.</span><span class="ident" id="6940852">exp</span><span class="op" id="6940855">)</span>&nbsp;<span class="op" id="6940857">==</span>&nbsp;<span class="num" id="6940860">1</span>&nbsp;<span class="op" id="6940862">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940867">addr</span><span class="op" id="6940871">,</span>&nbsp;<span class="ident" id="6940873">err</span>&nbsp;<span class="op" id="6940877">:=</span>&nbsp;<span class="ident" id="6940880">ParseAddress</span><span class="op" id="6940892">(</span><span class="ident" id="6940893">test</span><span class="op" id="6940897">.</span><span class="ident" id="6940898">addrsStr</span><span class="op" id="6940906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6940911">if</span>&nbsp;<span class="ident" id="6940914">err</span>&nbsp;<span class="op" id="6940918">!=</span>&nbsp;<span class="ident" id="6940921">nil</span>&nbsp;<span class="op" id="6940925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6940931">t</span><span class="op" id="6940932">.</span><span class="ident" id="6940933">Errorf</span><span class="op" id="6940939">(</span><span class="string" id="6940940">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6940972">,</span>&nbsp;<span class="ident" id="6940974">test</span><span class="op" id="6940978">.</span><span class="ident" id="6940979">addrsStr</span><span class="op" id="6940987">,</span>&nbsp;<span class="ident" id="6940989">err</span><span class="op" id="6940992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6940998">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941010">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6941015">if</span>&nbsp;<span class="op" id="6941018">!</span><span class="ident" id="6941019">reflect</span><span class="op" id="6941026">.</span><span class="ident" id="6941027">DeepEqual</span><span class="op" id="6941036">(</span><span class="op" id="6941037">[</span><span class="op" id="6941038">]</span><span class="op" id="6941039">*</span><span class="ident" id="6941040">Address</span><span class="op" id="6941047">{</span><span class="ident" id="6941048">addr</span><span class="op" id="6941052">}</span><span class="op" id="6941053">,</span>&nbsp;<span class="ident" id="6941055">test</span><span class="op" id="6941059">.</span><span class="ident" id="6941060">exp</span><span class="op" id="6941063">)</span>&nbsp;<span class="op" id="6941065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6941071">t</span><span class="op" id="6941072">.</span><span class="ident" id="6941073">Errorf</span><span class="op" id="6941079">(</span><span class="string" id="6941080">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6941121">,</span>&nbsp;<span class="ident" id="6941123">test</span><span class="op" id="6941127">.</span><span class="ident" id="6941128">addrsStr</span><span class="op" id="6941136">,</span>&nbsp;<span class="ident" id="6941138">addr</span><span class="op" id="6941142">,</span>&nbsp;<span class="ident" id="6941144">test</span><span class="op" id="6941148">.</span><span class="ident" id="6941149">exp</span><span class="op" id="6941152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6941166">addrs</span><span class="op" id="6941171">,</span>&nbsp;<span class="ident" id="6941173">err</span>&nbsp;<span class="op" id="6941177">:=</span>&nbsp;<span class="ident" id="6941180">ParseAddressList</span><span class="op" id="6941196">(</span><span class="ident" id="6941197">test</span><span class="op" id="6941201">.</span><span class="ident" id="6941202">addrsStr</span><span class="op" id="6941210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6941214">if</span>&nbsp;<span class="ident" id="6941217">err</span>&nbsp;<span class="op" id="6941221">!=</span>&nbsp;<span class="ident" id="6941224">nil</span>&nbsp;<span class="op" id="6941228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6941233">t</span><span class="op" id="6941234">.</span><span class="ident" id="6941235">Errorf</span><span class="op" id="6941241">(</span><span class="string" id="6941242">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6941272">,</span>&nbsp;<span class="ident" id="6941274">test</span><span class="op" id="6941278">.</span><span class="ident" id="6941279">addrsStr</span><span class="op" id="6941287">,</span>&nbsp;<span class="ident" id="6941289">err</span><span class="op" id="6941292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6941297">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941308">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6941312">if</span>&nbsp;<span class="op" id="6941315">!</span><span class="ident" id="6941316">reflect</span><span class="op" id="6941323">.</span><span class="ident" id="6941324">DeepEqual</span><span class="op" id="6941333">(</span><span class="ident" id="6941334">addrs</span><span class="op" id="6941339">,</span>&nbsp;<span class="ident" id="6941341">test</span><span class="op" id="6941345">.</span><span class="ident" id="6941346">exp</span><span class="op" id="6941349">)</span>&nbsp;<span class="op" id="6941351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6941356">t</span><span class="op" id="6941357">.</span><span class="ident" id="6941358">Errorf</span><span class="op" id="6941364">(</span><span class="string" id="6941365">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6941404">,</span>&nbsp;<span class="ident" id="6941406">test</span><span class="op" id="6941410">.</span><span class="ident" id="6941411">addrsStr</span><span class="op" id="6941419">,</span>&nbsp;<span class="ident" id="6941421">addrs</span><span class="op" id="6941426">,</span>&nbsp;<span class="ident" id="6941428">test</span><span class="op" id="6941432">.</span><span class="ident" id="6941433">exp</span><span class="op" id="6941436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941443">}</span><br>
<span class="lineno"></span><span class="op" id="6941445">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6941448">func</span>&nbsp;<span class="ident" id="6941453">TestAddressFormatting</span><span class="op" id="6941474">(</span><span class="ident" id="6941475">t</span>&nbsp;<span class="op" id="6941477">*</span><span class="ident" id="6941478">testing</span><span class="op" id="6941485">.</span><span class="ident" id="6941486">T</span><span class="op" id="6941487">)</span>&nbsp;<span class="op" id="6941489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6941492">tests</span>&nbsp;<span class="op" id="6941498">:=</span>&nbsp;<span class="op" id="6941501">[</span><span class="op" id="6941502">]</span><span class="keyword" id="6941503">struct</span>&nbsp;<span class="op" id="6941510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6941514">addr</span>&nbsp;<span class="op" id="6941519">*</span><span class="ident" id="6941520">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6941530">exp</span>&nbsp;&nbsp;<span class="builtintype" id="6941535">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941543">}</span><span class="op" id="6941544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941553">&amp;</span><span class="ident" id="6941554">Address</span><span class="op" id="6941561">{</span><span class="ident" id="6941562">Address</span><span class="op" id="6941569">:</span>&nbsp;<span class="string" id="6941571">&#34;bob@example.com&#34;</span><span class="op" id="6941588">}</span><span class="op" id="6941589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6941594">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="6941613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941617">}</span><span class="op" id="6941618">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941627">&amp;</span><span class="ident" id="6941628">Address</span><span class="op" id="6941635">{</span><span class="ident" id="6941636">Name</span><span class="op" id="6941640">:</span>&nbsp;<span class="string" id="6941642">&#34;Bob&#34;</span><span class="op" id="6941647">,</span>&nbsp;<span class="ident" id="6941649">Address</span><span class="op" id="6941656">:</span>&nbsp;<span class="string" id="6941658">&#34;bob@example.com&#34;</span><span class="op" id="6941675">}</span><span class="op" id="6941676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6941681">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6941706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941710">}</span><span class="op" id="6941711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941715">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6941720">//&nbsp;note&nbsp;the&nbsp;ö&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941757">&amp;</span><span class="ident" id="6941758">Address</span><span class="op" id="6941765">{</span><span class="ident" id="6941766">Name</span><span class="op" id="6941770">:</span>&nbsp;<span class="string" id="6941772">&#34;Böb&#34;</span><span class="op" id="6941778">,</span>&nbsp;<span class="ident" id="6941780">Address</span><span class="op" id="6941787">:</span>&nbsp;<span class="string" id="6941789">&#34;bob@example.com&#34;</span><span class="op" id="6941806">}</span><span class="op" id="6941807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6941812">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6941852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941856">}</span><span class="op" id="6941857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941861">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941866">&amp;</span><span class="ident" id="6941867">Address</span><span class="op" id="6941874">{</span><span class="ident" id="6941875">Name</span><span class="op" id="6941879">:</span>&nbsp;<span class="string" id="6941881">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="6941891">,</span>&nbsp;<span class="ident" id="6941893">Address</span><span class="op" id="6941900">:</span>&nbsp;<span class="string" id="6941902">&#34;bob@example.com&#34;</span><span class="op" id="6941919">}</span><span class="op" id="6941920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6941925">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6941955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941959">}</span><span class="op" id="6941960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6941969">&amp;</span><span class="ident" id="6941970">Address</span><span class="op" id="6941977">{</span><span class="ident" id="6941978">Name</span><span class="op" id="6941982">:</span>&nbsp;<span class="string" id="6941984">&#34;Böb&nbsp;Jacöb&#34;</span><span class="op" id="6941997">,</span>&nbsp;<span class="ident" id="6941999">Address</span><span class="op" id="6942006">:</span>&nbsp;<span class="string" id="6942008">&#34;bob@example.com&#34;</span><span class="op" id="6942025">}</span><span class="op" id="6942026">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6942031">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6942082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942086">}</span><span class="op" id="6942087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6942093">for</span>&nbsp;<span class="ident" id="6942097">_</span><span class="op" id="6942098">,</span>&nbsp;<span class="ident" id="6942100">test</span>&nbsp;<span class="op" id="6942105">:=</span>&nbsp;<span class="keyword" id="6942108">range</span>&nbsp;<span class="ident" id="6942114">tests</span>&nbsp;<span class="op" id="6942120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942124">s</span>&nbsp;<span class="op" id="6942126">:=</span>&nbsp;<span class="ident" id="6942129">test</span><span class="op" id="6942133">.</span><span class="ident" id="6942134">addr</span><span class="op" id="6942138">.</span><span class="ident" id="6942139">String</span><span class="op" id="6942145">(</span><span class="op" id="6942146">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6942150">if</span>&nbsp;<span class="ident" id="6942153">s</span>&nbsp;<span class="op" id="6942155">!=</span>&nbsp;<span class="ident" id="6942158">test</span><span class="op" id="6942162">.</span><span class="ident" id="6942163">exp</span>&nbsp;<span class="op" id="6942167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6942172">t</span><span class="op" id="6942173">.</span><span class="ident" id="6942174">Errorf</span><span class="op" id="6942180">(</span><span class="string" id="6942181">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6942216">,</span>&nbsp;<span class="op" id="6942218">*</span><span class="ident" id="6942219">test</span><span class="op" id="6942223">.</span><span class="ident" id="6942224">addr</span><span class="op" id="6942228">,</span>&nbsp;<span class="ident" id="6942230">s</span><span class="op" id="6942231">,</span>&nbsp;<span class="ident" id="6942233">test</span><span class="op" id="6942237">.</span><span class="ident" id="6942238">exp</span><span class="op" id="6942241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6942248">}</span><br>
<span class="lineno"></span><span class="op" id="6942250">}</span>
</div>
</body>
</html>
