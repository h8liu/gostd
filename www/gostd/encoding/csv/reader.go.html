<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/csv</h2>
<ul>
<li><a href="/gostd/encoding/csv/reader.go.html" class="current">reader.go</a></li>
<li><a href="/gostd/encoding/csv/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/encoding/csv/writer.go.html">writer.go</a></li>
<li><a href="/gostd/encoding/csv/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5796044">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5796099">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5796153">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5796204">//&nbsp;Package&nbsp;csv&nbsp;reads&nbsp;and&nbsp;writes&nbsp;comma-separated&nbsp;values&nbsp;(CSV)&nbsp;files.</span><br>
<span class="lineno"></span><span class="comment" id="5796272">//</span><br>
<span class="lineno"></span><span class="comment" id="5796275">//&nbsp;A&nbsp;csv&nbsp;file&nbsp;contains&nbsp;zero&nbsp;or&nbsp;more&nbsp;records&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;fields&nbsp;per&nbsp;record.</span><br>
<span class="lineno"></span><span class="comment" id="5796353">//&nbsp;Each&nbsp;record&nbsp;is&nbsp;separated&nbsp;by&nbsp;the&nbsp;newline&nbsp;character.&nbsp;The&nbsp;final&nbsp;record&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="5796428">//&nbsp;optionally&nbsp;be&nbsp;followed&nbsp;by&nbsp;a&nbsp;newline&nbsp;character.</span><br>
<span class="lineno">10</span><span class="comment" id="5796478">//</span><br>
<span class="lineno"></span><span class="comment" id="5796481">//&nbsp;&nbsp;&nbsp;&nbsp;field1,field2,field3</span><br>
<span class="lineno"></span><span class="comment" id="5796505">//</span><br>
<span class="lineno"></span><span class="comment" id="5796508">//&nbsp;White&nbsp;space&nbsp;is&nbsp;considered&nbsp;part&nbsp;of&nbsp;a&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="5796554">//</span><br>
<span class="lineno">15</span><span class="comment" id="5796557">//&nbsp;Carriage&nbsp;returns&nbsp;before&nbsp;newline&nbsp;characters&nbsp;are&nbsp;silently&nbsp;removed.</span><br>
<span class="lineno"></span><span class="comment" id="5796625">//</span><br>
<span class="lineno"></span><span class="comment" id="5796628">//&nbsp;Blank&nbsp;lines&nbsp;are&nbsp;ignored.&nbsp;&nbsp;A&nbsp;line&nbsp;with&nbsp;only&nbsp;whitespace&nbsp;characters&nbsp;(excluding</span><br>
<span class="lineno"></span><span class="comment" id="5796707">//&nbsp;the&nbsp;ending&nbsp;newline&nbsp;character)&nbsp;is&nbsp;not&nbsp;considered&nbsp;a&nbsp;blank&nbsp;line.</span><br>
<span class="lineno"></span><span class="comment" id="5796772">//</span><br>
<span class="lineno">20</span><span class="comment" id="5796775">//&nbsp;Fields&nbsp;which&nbsp;start&nbsp;and&nbsp;stop&nbsp;with&nbsp;the&nbsp;quote&nbsp;character&nbsp;&#34;&nbsp;are&nbsp;called</span><br>
<span class="lineno"></span><span class="comment" id="5796844">//&nbsp;quoted-fields.&nbsp;&nbsp;The&nbsp;beginning&nbsp;and&nbsp;ending&nbsp;quote&nbsp;are&nbsp;not&nbsp;part&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5796914">//&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="5796924">//</span><br>
<span class="lineno"></span><span class="comment" id="5796927">//&nbsp;The&nbsp;source:</span><br>
<span class="lineno">25</span><span class="comment" id="5796942">//</span><br>
<span class="lineno"></span><span class="comment" id="5796945">//&nbsp;&nbsp;&nbsp;&nbsp;normal&nbsp;string,&#34;quoted-field&#34;</span><br>
<span class="lineno"></span><span class="comment" id="5796977">//</span><br>
<span class="lineno"></span><span class="comment" id="5796980">//&nbsp;results&nbsp;in&nbsp;the&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="5797005">//</span><br>
<span class="lineno">30</span><span class="comment" id="5797008">//&nbsp;&nbsp;&nbsp;&nbsp;{`normal&nbsp;string`,&nbsp;`quoted-field`}</span><br>
<span class="lineno"></span><span class="comment" id="5797045">//</span><br>
<span class="lineno"></span><span class="comment" id="5797048">//&nbsp;Within&nbsp;a&nbsp;quoted-field&nbsp;a&nbsp;quote&nbsp;character&nbsp;followed&nbsp;by&nbsp;a&nbsp;second&nbsp;quote</span><br>
<span class="lineno"></span><span class="comment" id="5797118">//&nbsp;character&nbsp;is&nbsp;considered&nbsp;a&nbsp;single&nbsp;quote.</span><br>
<span class="lineno"></span><span class="comment" id="5797161">//</span><br>
<span class="lineno">35</span><span class="comment" id="5797164">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;the&nbsp;&#34;&#34;word&#34;&#34;&nbsp;is&nbsp;true&#34;,&#34;a&nbsp;&#34;&#34;quoted-field&#34;&#34;&#34;</span><br>
<span class="lineno"></span><span class="comment" id="5797211">//</span><br>
<span class="lineno"></span><span class="comment" id="5797214">//&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5797228">//</span><br>
<span class="lineno"></span><span class="comment" id="5797231">//&nbsp;&nbsp;&nbsp;&nbsp;{`the&nbsp;&#34;word&#34;&nbsp;is&nbsp;true`,&nbsp;`a&nbsp;&#34;quoted-field&#34;`}</span><br>
<span class="lineno">40</span><span class="comment" id="5797277">//</span><br>
<span class="lineno"></span><span class="comment" id="5797280">//&nbsp;Newlines&nbsp;and&nbsp;commas&nbsp;may&nbsp;be&nbsp;included&nbsp;in&nbsp;a&nbsp;quoted-field</span><br>
<span class="lineno"></span><span class="comment" id="5797337">//</span><br>
<span class="lineno"></span><span class="comment" id="5797340">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;Multi-line</span><br>
<span class="lineno"></span><span class="comment" id="5797355">//&nbsp;&nbsp;&nbsp;&nbsp;field&#34;,&#34;comma&nbsp;is&nbsp;,&#34;</span><br>
<span class="lineno">45</span><span class="comment" id="5797378">//</span><br>
<span class="lineno"></span><span class="comment" id="5797381">//&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5797395">//</span><br>
<span class="lineno"></span><span class="comment" id="5797398">//&nbsp;&nbsp;&nbsp;&nbsp;{`Multi-line</span><br>
<span class="lineno"></span><span class="comment" id="5797414">//&nbsp;&nbsp;&nbsp;&nbsp;field`,&nbsp;`comma&nbsp;is&nbsp;,`}</span><br>
<span class="lineno">50</span><span class="keyword" id="5797439">package</span>&nbsp;<span class="ident" id="5797447">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5797452">import</span>&nbsp;<span class="op" id="5797459">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5797462">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5797471">&#34;bytes&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5797480">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5797490">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5797497">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5797503">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="5797513">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5797516">//&nbsp;A&nbsp;ParseError&nbsp;is&nbsp;returned&nbsp;for&nbsp;parsing&nbsp;errors.</span><br>
<span class="lineno"></span><span class="comment" id="5797564">//&nbsp;The&nbsp;first&nbsp;line&nbsp;is&nbsp;1.&nbsp;&nbsp;The&nbsp;first&nbsp;column&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="5797612">type</span>&nbsp;<span class="ident" id="5797617">ParseError</span>&nbsp;<span class="keyword" id="5797628">struct</span>&nbsp;<span class="op" id="5797635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797638">Line</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5797645">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5797651">//&nbsp;Line&nbsp;where&nbsp;the&nbsp;error&nbsp;occurred</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797685">Column</span>&nbsp;<span class="builtintype" id="5797692">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5797698">//&nbsp;Column&nbsp;(rune&nbsp;index)&nbsp;where&nbsp;the&nbsp;error&nbsp;occurred</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797747">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5797754">error</span>&nbsp;<span class="comment" id="5797760">//&nbsp;The&nbsp;actual&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="5797780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5797783">func</span>&nbsp;<span class="op" id="5797788">(</span><span class="ident" id="5797789">e</span>&nbsp;<span class="op" id="5797791">*</span><span class="ident" id="5797792">ParseError</span><span class="op" id="5797802">)</span>&nbsp;<span class="ident" id="5797804">Error</span><span class="op" id="5797809">(</span><span class="op" id="5797810">)</span>&nbsp;<span class="builtintype" id="5797812">string</span>&nbsp;<span class="op" id="5797819">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5797822">return</span>&nbsp;<span class="ident" id="5797829">fmt</span><span class="op" id="5797832">.</span><span class="ident" id="5797833">Sprintf</span><span class="op" id="5797840">(</span><span class="string" id="5797841">&#34;line&nbsp;%d,&nbsp;column&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="5797865">,</span>&nbsp;<span class="ident" id="5797867">e</span><span class="op" id="5797868">.</span><span class="ident" id="5797869">Line</span><span class="op" id="5797873">,</span>&nbsp;<span class="ident" id="5797875">e</span><span class="op" id="5797876">.</span><span class="ident" id="5797877">Column</span><span class="op" id="5797883">,</span>&nbsp;<span class="ident" id="5797885">e</span><span class="op" id="5797886">.</span><span class="ident" id="5797887">Err</span><span class="op" id="5797890">)</span><br>
<span class="lineno"></span><span class="op" id="5797892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5797895">//&nbsp;These&nbsp;are&nbsp;the&nbsp;errors&nbsp;that&nbsp;can&nbsp;be&nbsp;returned&nbsp;in&nbsp;ParseError.Error</span><br>
<span class="lineno"></span><span class="keyword" id="5797960">var</span>&nbsp;<span class="op" id="5797964">(</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797967">ErrTrailingComma</span>&nbsp;<span class="op" id="5797984">=</span>&nbsp;<span class="ident" id="5797986">errors</span><span class="op" id="5797992">.</span><span class="ident" id="5797993">New</span><span class="op" id="5797996">(</span><span class="string" id="5797997">&#34;extra&nbsp;delimiter&nbsp;at&nbsp;end&nbsp;of&nbsp;line&#34;</span><span class="op" id="5798029">)</span>&nbsp;<span class="comment" id="5798031">//&nbsp;no&nbsp;longer&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5798050">ErrBareQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5798067">=</span>&nbsp;<span class="ident" id="5798069">errors</span><span class="op" id="5798075">.</span><span class="ident" id="5798076">New</span><span class="op" id="5798079">(</span><span class="string" id="5798080">&#34;bare&nbsp;\&#34;&nbsp;in&nbsp;non-quoted-field&#34;</span><span class="op" id="5798109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5798112">ErrQuote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5798129">=</span>&nbsp;<span class="ident" id="5798131">errors</span><span class="op" id="5798137">.</span><span class="ident" id="5798138">New</span><span class="op" id="5798141">(</span><span class="string" id="5798142">&#34;extraneous&nbsp;\&#34;&nbsp;in&nbsp;field&#34;</span><span class="op" id="5798166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5798169">ErrFieldCount</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5798186">=</span>&nbsp;<span class="ident" id="5798188">errors</span><span class="op" id="5798194">.</span><span class="ident" id="5798195">New</span><span class="op" id="5798198">(</span><span class="string" id="5798199">&#34;wrong&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;line&#34;</span><span class="op" id="5798231">)</span><br>
<span class="lineno"></span><span class="op" id="5798233">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="5798236">//&nbsp;A&nbsp;Reader&nbsp;reads&nbsp;records&nbsp;from&nbsp;a&nbsp;CSV-encoded&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5798287">//</span><br>
<span class="lineno"></span><span class="comment" id="5798290">//&nbsp;As&nbsp;returned&nbsp;by&nbsp;NewReader,&nbsp;a&nbsp;Reader&nbsp;expects&nbsp;input&nbsp;conforming&nbsp;to&nbsp;RFC&nbsp;4180.</span><br>
<span class="lineno"></span><span class="comment" id="5798366">//&nbsp;The&nbsp;exported&nbsp;fields&nbsp;can&nbsp;be&nbsp;changed&nbsp;to&nbsp;customize&nbsp;the&nbsp;details&nbsp;before&nbsp;the</span><br>
<span class="lineno">85</span><span class="comment" id="5798440">//&nbsp;first&nbsp;call&nbsp;to&nbsp;Read&nbsp;or&nbsp;ReadAll.</span><br>
<span class="lineno"></span><span class="comment" id="5798474">//</span><br>
<span class="lineno"></span><span class="comment" id="5798477">//&nbsp;Comma&nbsp;is&nbsp;the&nbsp;field&nbsp;delimiter.&nbsp;&nbsp;It&nbsp;defaults&nbsp;to&nbsp;&#39;,&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="5798531">//</span><br>
<span class="lineno"></span><span class="comment" id="5798534">//&nbsp;Comment,&nbsp;if&nbsp;not&nbsp;0,&nbsp;is&nbsp;the&nbsp;comment&nbsp;character.&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="5798607">//&nbsp;Comment&nbsp;character&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="5798641">//</span><br>
<span class="lineno"></span><span class="comment" id="5798644">//&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;positive,&nbsp;Read&nbsp;requires&nbsp;each&nbsp;record&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5798708">//&nbsp;have&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;fields.&nbsp;&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;0,&nbsp;Read&nbsp;sets&nbsp;it&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5798786">//&nbsp;the&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;the&nbsp;first&nbsp;record,&nbsp;so&nbsp;that&nbsp;future&nbsp;records&nbsp;must</span><br>
<span class="lineno">95</span><span class="comment" id="5798859">//&nbsp;have&nbsp;the&nbsp;same&nbsp;field&nbsp;count.&nbsp;&nbsp;If&nbsp;FieldsPerRecord&nbsp;is&nbsp;negative,&nbsp;no&nbsp;check&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5798934">//&nbsp;made&nbsp;and&nbsp;records&nbsp;may&nbsp;have&nbsp;a&nbsp;variable&nbsp;number&nbsp;of&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="5798992">//</span><br>
<span class="lineno"></span><span class="comment" id="5798995">//&nbsp;If&nbsp;LazyQuotes&nbsp;is&nbsp;true,&nbsp;a&nbsp;quote&nbsp;may&nbsp;appear&nbsp;in&nbsp;an&nbsp;unquoted&nbsp;field&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5799067">//&nbsp;non-doubled&nbsp;quote&nbsp;may&nbsp;appear&nbsp;in&nbsp;a&nbsp;quoted&nbsp;field.</span><br>
<span class="lineno">100</span><span class="comment" id="5799118">//</span><br>
<span class="lineno"></span><span class="comment" id="5799121">//&nbsp;If&nbsp;TrimLeadingSpace&nbsp;is&nbsp;true,&nbsp;leading&nbsp;white&nbsp;space&nbsp;in&nbsp;a&nbsp;field&nbsp;is&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="5799196">type</span>&nbsp;<span class="ident" id="5799201">Reader</span>&nbsp;<span class="keyword" id="5799208">struct</span>&nbsp;<span class="op" id="5799215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799218">Comma</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5799235">rune</span>&nbsp;<span class="comment" id="5799240">//&nbsp;field&nbsp;delimiter&nbsp;(set&nbsp;to&nbsp;&#39;,&#39;&nbsp;by&nbsp;NewReader)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799286">Comment</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5799303">rune</span>&nbsp;<span class="comment" id="5799308">//&nbsp;comment&nbsp;character&nbsp;for&nbsp;start&nbsp;of&nbsp;line</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799348">FieldsPerRecord</span>&nbsp;&nbsp;<span class="builtintype" id="5799365">int</span>&nbsp;&nbsp;<span class="comment" id="5799370">//&nbsp;number&nbsp;of&nbsp;expected&nbsp;fields&nbsp;per&nbsp;record</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799411">LazyQuotes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5799428">bool</span>&nbsp;<span class="comment" id="5799433">//&nbsp;allow&nbsp;lazy&nbsp;quotes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799455">TrailingComma</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5799472">bool</span>&nbsp;<span class="comment" id="5799477">//&nbsp;ignored;&nbsp;here&nbsp;for&nbsp;backwards&nbsp;compatibility</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799523">TrimLeadingSpace</span>&nbsp;<span class="builtintype" id="5799540">bool</span>&nbsp;<span class="comment" id="5799545">//&nbsp;trim&nbsp;leading&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799568">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5799585">int</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799590">column</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5799607">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799612">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5799629">*</span><span class="ident" id="5799630">bufio</span><span class="op" id="5799635">.</span><span class="ident" id="5799636">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799644">field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799661">bytes</span><span class="op" id="5799666">.</span><span class="ident" id="5799667">Buffer</span><br>
<span class="lineno"></span><span class="op" id="5799674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="comment" id="5799677">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;that&nbsp;reads&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="5799730">func</span>&nbsp;<span class="ident" id="5799735">NewReader</span><span class="op" id="5799744">(</span><span class="ident" id="5799745">r</span>&nbsp;<span class="ident" id="5799747">io</span><span class="op" id="5799749">.</span><span class="ident" id="5799750">Reader</span><span class="op" id="5799756">)</span>&nbsp;<span class="op" id="5799758">*</span><span class="ident" id="5799759">Reader</span>&nbsp;<span class="op" id="5799766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5799769">return</span>&nbsp;<span class="op" id="5799776">&amp;</span><span class="ident" id="5799777">Reader</span><span class="op" id="5799783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799787">Comma</span><span class="op" id="5799792">:</span>&nbsp;<span class="string" id="5799794">&#39;,&#39;</span><span class="op" id="5799797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799801">r</span><span class="op" id="5799802">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799808">bufio</span><span class="op" id="5799813">.</span><span class="ident" id="5799814">NewReader</span><span class="op" id="5799823">(</span><span class="ident" id="5799824">r</span><span class="op" id="5799825">)</span><span class="op" id="5799826">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5799829">}</span><br>
<span class="lineno"></span><span class="op" id="5799831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5799834">//&nbsp;error&nbsp;creates&nbsp;a&nbsp;new&nbsp;ParseError&nbsp;based&nbsp;on&nbsp;err.</span><br>
<span class="lineno"></span><span class="keyword" id="5799882">func</span>&nbsp;<span class="op" id="5799887">(</span><span class="ident" id="5799888">r</span>&nbsp;<span class="op" id="5799890">*</span><span class="ident" id="5799891">Reader</span><span class="op" id="5799897">)</span>&nbsp;<span class="builtintype" id="5799899">error</span><span class="op" id="5799904">(</span><span class="ident" id="5799905">err</span>&nbsp;<span class="builtintype" id="5799909">error</span><span class="op" id="5799914">)</span>&nbsp;<span class="builtintype" id="5799916">error</span>&nbsp;<span class="op" id="5799922">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5799925">return</span>&nbsp;<span class="op" id="5799932">&amp;</span><span class="ident" id="5799933">ParseError</span><span class="op" id="5799943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799947">Line</span><span class="op" id="5799951">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5799955">r</span><span class="op" id="5799956">.</span><span class="ident" id="5799957">line</span><span class="op" id="5799961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799965">Column</span><span class="op" id="5799971">:</span>&nbsp;<span class="ident" id="5799973">r</span><span class="op" id="5799974">.</span><span class="ident" id="5799975">column</span><span class="op" id="5799981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799985">Err</span><span class="op" id="5799988">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5799993">err</span><span class="op" id="5799996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5799999">}</span><br>
<span class="lineno">130</span><span class="op" id="5800001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5800004">//&nbsp;Read&nbsp;reads&nbsp;one&nbsp;record&nbsp;from&nbsp;r.&nbsp;&nbsp;The&nbsp;record&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;strings&nbsp;with&nbsp;each</span><br>
<span class="lineno"></span><span class="comment" id="5800081">//&nbsp;string&nbsp;representing&nbsp;one&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="5800115">func</span>&nbsp;<span class="op" id="5800120">(</span><span class="ident" id="5800121">r</span>&nbsp;<span class="op" id="5800123">*</span><span class="ident" id="5800124">Reader</span><span class="op" id="5800130">)</span>&nbsp;<span class="ident" id="5800132">Read</span><span class="op" id="5800136">(</span><span class="op" id="5800137">)</span>&nbsp;<span class="op" id="5800139">(</span><span class="ident" id="5800140">record</span>&nbsp;<span class="op" id="5800147">[</span><span class="op" id="5800148">]</span><span class="builtintype" id="5800149">string</span><span class="op" id="5800155">,</span>&nbsp;<span class="ident" id="5800157">err</span>&nbsp;<span class="builtintype" id="5800161">error</span><span class="op" id="5800166">)</span>&nbsp;<span class="op" id="5800168">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800171">for</span>&nbsp;<span class="op" id="5800175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5800179">record</span><span class="op" id="5800185">,</span>&nbsp;<span class="ident" id="5800187">err</span>&nbsp;<span class="op" id="5800191">=</span>&nbsp;<span class="ident" id="5800193">r</span><span class="op" id="5800194">.</span><span class="ident" id="5800195">parseRecord</span><span class="op" id="5800206">(</span><span class="op" id="5800207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800211">if</span>&nbsp;<span class="ident" id="5800214">record</span>&nbsp;<span class="op" id="5800221">!=</span>&nbsp;<span class="ident" id="5800224">nil</span>&nbsp;<span class="op" id="5800228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800233">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5800241">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800245">if</span>&nbsp;<span class="ident" id="5800248">err</span>&nbsp;<span class="op" id="5800252">!=</span>&nbsp;<span class="ident" id="5800255">nil</span>&nbsp;<span class="op" id="5800259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800264">return</span>&nbsp;<span class="ident" id="5800271">nil</span><span class="op" id="5800274">,</span>&nbsp;<span class="ident" id="5800276">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5800282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5800285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800289">if</span>&nbsp;<span class="ident" id="5800292">r</span><span class="op" id="5800293">.</span><span class="ident" id="5800294">FieldsPerRecord</span>&nbsp;<span class="op" id="5800310">&gt;</span>&nbsp;<span class="num" id="5800312">0</span>&nbsp;<span class="op" id="5800314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800318">if</span>&nbsp;<span class="builtinfunc" id="5800321">len</span><span class="op" id="5800324">(</span><span class="ident" id="5800325">record</span><span class="op" id="5800331">)</span>&nbsp;<span class="op" id="5800333">!=</span>&nbsp;<span class="ident" id="5800336">r</span><span class="op" id="5800337">.</span><span class="ident" id="5800338">FieldsPerRecord</span>&nbsp;<span class="op" id="5800354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5800359">r</span><span class="op" id="5800360">.</span><span class="ident" id="5800361">column</span>&nbsp;<span class="op" id="5800368">=</span>&nbsp;<span class="num" id="5800370">0</span>&nbsp;<span class="comment" id="5800372">//&nbsp;report&nbsp;at&nbsp;start&nbsp;of&nbsp;record</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800404">return</span>&nbsp;<span class="ident" id="5800411">record</span><span class="op" id="5800417">,</span>&nbsp;<span class="ident" id="5800419">r</span><span class="op" id="5800420">.</span><span class="builtintype" id="5800421">error</span><span class="op" id="5800426">(</span><span class="ident" id="5800427">ErrFieldCount</span><span class="op" id="5800440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5800444">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5800447">}</span>&nbsp;<span class="keyword" id="5800449">else</span>&nbsp;<span class="keyword" id="5800454">if</span>&nbsp;<span class="ident" id="5800457">r</span><span class="op" id="5800458">.</span><span class="ident" id="5800459">FieldsPerRecord</span>&nbsp;<span class="op" id="5800475">==</span>&nbsp;<span class="num" id="5800478">0</span>&nbsp;<span class="op" id="5800480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5800484">r</span><span class="op" id="5800485">.</span><span class="ident" id="5800486">FieldsPerRecord</span>&nbsp;<span class="op" id="5800502">=</span>&nbsp;<span class="builtinfunc" id="5800504">len</span><span class="op" id="5800507">(</span><span class="ident" id="5800508">record</span><span class="op" id="5800514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5800517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800520">return</span>&nbsp;<span class="ident" id="5800527">record</span><span class="op" id="5800533">,</span>&nbsp;<span class="ident" id="5800535">nil</span><br>
<span class="lineno"></span><span class="op" id="5800539">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="5800542">//&nbsp;ReadAll&nbsp;reads&nbsp;all&nbsp;the&nbsp;remaining&nbsp;records&nbsp;from&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="5800593">//&nbsp;Each&nbsp;record&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="5800630">//&nbsp;A&nbsp;successful&nbsp;call&nbsp;returns&nbsp;err&nbsp;==&nbsp;nil,&nbsp;not&nbsp;err&nbsp;==&nbsp;EOF.&nbsp;Because&nbsp;ReadAll&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5800706">//&nbsp;defined&nbsp;to&nbsp;read&nbsp;until&nbsp;EOF,&nbsp;it&nbsp;does&nbsp;not&nbsp;treat&nbsp;end&nbsp;of&nbsp;file&nbsp;as&nbsp;an&nbsp;error&nbsp;to&nbsp;be</span><br>
<span class="lineno">160</span><span class="comment" id="5800784">//&nbsp;reported.</span><br>
<span class="lineno"></span><span class="keyword" id="5800797">func</span>&nbsp;<span class="op" id="5800802">(</span><span class="ident" id="5800803">r</span>&nbsp;<span class="op" id="5800805">*</span><span class="ident" id="5800806">Reader</span><span class="op" id="5800812">)</span>&nbsp;<span class="ident" id="5800814">ReadAll</span><span class="op" id="5800821">(</span><span class="op" id="5800822">)</span>&nbsp;<span class="op" id="5800824">(</span><span class="ident" id="5800825">records</span>&nbsp;<span class="op" id="5800833">[</span><span class="op" id="5800834">]</span><span class="op" id="5800835">[</span><span class="op" id="5800836">]</span><span class="builtintype" id="5800837">string</span><span class="op" id="5800843">,</span>&nbsp;<span class="ident" id="5800845">err</span>&nbsp;<span class="builtintype" id="5800849">error</span><span class="op" id="5800854">)</span>&nbsp;<span class="op" id="5800856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800859">for</span>&nbsp;<span class="op" id="5800863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5800867">record</span><span class="op" id="5800873">,</span>&nbsp;<span class="ident" id="5800875">err</span>&nbsp;<span class="op" id="5800879">:=</span>&nbsp;<span class="ident" id="5800882">r</span><span class="op" id="5800883">.</span><span class="ident" id="5800884">Read</span><span class="op" id="5800888">(</span><span class="op" id="5800889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800893">if</span>&nbsp;<span class="ident" id="5800896">err</span>&nbsp;<span class="op" id="5800900">==</span>&nbsp;<span class="ident" id="5800903">io</span><span class="op" id="5800905">.</span><span class="ident" id="5800906">EOF</span>&nbsp;<span class="op" id="5800910">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800915">return</span>&nbsp;<span class="ident" id="5800922">records</span><span class="op" id="5800929">,</span>&nbsp;<span class="ident" id="5800931">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5800937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800941">if</span>&nbsp;<span class="ident" id="5800944">err</span>&nbsp;<span class="op" id="5800948">!=</span>&nbsp;<span class="ident" id="5800951">nil</span>&nbsp;<span class="op" id="5800955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5800960">return</span>&nbsp;<span class="ident" id="5800967">nil</span><span class="op" id="5800970">,</span>&nbsp;<span class="ident" id="5800972">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5800978">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5800982">records</span>&nbsp;<span class="op" id="5800990">=</span>&nbsp;<span class="builtinfunc" id="5800992">append</span><span class="op" id="5800998">(</span><span class="ident" id="5800999">records</span><span class="op" id="5801006">,</span>&nbsp;<span class="ident" id="5801008">record</span><span class="op" id="5801014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801017">}</span><br>
<span class="lineno"></span><span class="op" id="5801019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5801022">//&nbsp;readRune&nbsp;reads&nbsp;one&nbsp;rune&nbsp;from&nbsp;r,&nbsp;folding&nbsp;\r\n&nbsp;to&nbsp;\n&nbsp;and&nbsp;keeping&nbsp;track</span><br>
<span class="lineno">175</span><span class="comment" id="5801094">//&nbsp;of&nbsp;how&nbsp;far&nbsp;into&nbsp;the&nbsp;line&nbsp;we&nbsp;have&nbsp;read.&nbsp;&nbsp;r.column&nbsp;will&nbsp;point&nbsp;to&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span><span class="comment" id="5801170">//&nbsp;of&nbsp;this&nbsp;rune,&nbsp;not&nbsp;the&nbsp;end&nbsp;of&nbsp;this&nbsp;rune.</span><br>
<span class="lineno"></span><span class="keyword" id="5801213">func</span>&nbsp;<span class="op" id="5801218">(</span><span class="ident" id="5801219">r</span>&nbsp;<span class="op" id="5801221">*</span><span class="ident" id="5801222">Reader</span><span class="op" id="5801228">)</span>&nbsp;<span class="ident" id="5801230">readRune</span><span class="op" id="5801238">(</span><span class="op" id="5801239">)</span>&nbsp;<span class="op" id="5801241">(</span><span class="builtintype" id="5801242">rune</span><span class="op" id="5801246">,</span>&nbsp;<span class="builtintype" id="5801248">error</span><span class="op" id="5801253">)</span>&nbsp;<span class="op" id="5801255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801258">r1</span><span class="op" id="5801260">,</span>&nbsp;<span class="ident" id="5801262">_</span><span class="op" id="5801263">,</span>&nbsp;<span class="ident" id="5801265">err</span>&nbsp;<span class="op" id="5801269">:=</span>&nbsp;<span class="ident" id="5801272">r</span><span class="op" id="5801273">.</span><span class="ident" id="5801274">r</span><span class="op" id="5801275">.</span><span class="ident" id="5801276">ReadRune</span><span class="op" id="5801284">(</span><span class="op" id="5801285">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5801289">//&nbsp;Handle&nbsp;\r\n&nbsp;here.&nbsp;&nbsp;We&nbsp;make&nbsp;the&nbsp;simplifying&nbsp;assumption&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5801352">//&nbsp;anytime&nbsp;\r&nbsp;is&nbsp;followed&nbsp;by&nbsp;\n&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;folded&nbsp;to&nbsp;\n.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5801414">//&nbsp;We&nbsp;will&nbsp;not&nbsp;detect&nbsp;files&nbsp;which&nbsp;contain&nbsp;both&nbsp;\r\n&nbsp;and&nbsp;bare&nbsp;\n.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801480">if</span>&nbsp;<span class="ident" id="5801483">r1</span>&nbsp;<span class="op" id="5801486">==</span>&nbsp;<span class="string" id="5801489">&#39;\r&#39;</span>&nbsp;<span class="op" id="5801494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801498">r1</span><span class="op" id="5801500">,</span>&nbsp;<span class="ident" id="5801502">_</span><span class="op" id="5801503">,</span>&nbsp;<span class="ident" id="5801505">err</span>&nbsp;<span class="op" id="5801509">=</span>&nbsp;<span class="ident" id="5801511">r</span><span class="op" id="5801512">.</span><span class="ident" id="5801513">r</span><span class="op" id="5801514">.</span><span class="ident" id="5801515">ReadRune</span><span class="op" id="5801523">(</span><span class="op" id="5801524">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801528">if</span>&nbsp;<span class="ident" id="5801531">err</span>&nbsp;<span class="op" id="5801535">==</span>&nbsp;<span class="ident" id="5801538">nil</span>&nbsp;<span class="op" id="5801542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801547">if</span>&nbsp;<span class="ident" id="5801550">r1</span>&nbsp;<span class="op" id="5801553">!=</span>&nbsp;<span class="string" id="5801556">&#39;\n&#39;</span>&nbsp;<span class="op" id="5801561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801567">r</span><span class="op" id="5801568">.</span><span class="ident" id="5801569">r</span><span class="op" id="5801570">.</span><span class="ident" id="5801571">UnreadRune</span><span class="op" id="5801581">(</span><span class="op" id="5801582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801588">r1</span>&nbsp;<span class="op" id="5801591">=</span>&nbsp;<span class="string" id="5801593">&#39;\r&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801601">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801611">r</span><span class="op" id="5801612">.</span><span class="ident" id="5801613">column</span><span class="op" id="5801619">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801623">return</span>&nbsp;<span class="ident" id="5801630">r1</span><span class="op" id="5801632">,</span>&nbsp;<span class="ident" id="5801634">err</span><br>
<span class="lineno"></span><span class="op" id="5801638">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="5801641">//&nbsp;skip&nbsp;reads&nbsp;runes&nbsp;up&nbsp;to&nbsp;and&nbsp;including&nbsp;the&nbsp;rune&nbsp;delim&nbsp;or&nbsp;until&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5801712">func</span>&nbsp;<span class="op" id="5801717">(</span><span class="ident" id="5801718">r</span>&nbsp;<span class="op" id="5801720">*</span><span class="ident" id="5801721">Reader</span><span class="op" id="5801727">)</span>&nbsp;<span class="ident" id="5801729">skip</span><span class="op" id="5801733">(</span><span class="ident" id="5801734">delim</span>&nbsp;<span class="builtintype" id="5801740">rune</span><span class="op" id="5801744">)</span>&nbsp;<span class="builtintype" id="5801746">error</span>&nbsp;<span class="op" id="5801752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801755">for</span>&nbsp;<span class="op" id="5801759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5801763">r1</span><span class="op" id="5801765">,</span>&nbsp;<span class="ident" id="5801767">err</span>&nbsp;<span class="op" id="5801771">:=</span>&nbsp;<span class="ident" id="5801774">r</span><span class="op" id="5801775">.</span><span class="ident" id="5801776">readRune</span><span class="op" id="5801784">(</span><span class="op" id="5801785">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801789">if</span>&nbsp;<span class="ident" id="5801792">err</span>&nbsp;<span class="op" id="5801796">!=</span>&nbsp;<span class="ident" id="5801799">nil</span>&nbsp;<span class="op" id="5801803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801808">return</span>&nbsp;<span class="ident" id="5801815">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801825">if</span>&nbsp;<span class="ident" id="5801828">r1</span>&nbsp;<span class="op" id="5801831">==</span>&nbsp;<span class="ident" id="5801834">delim</span>&nbsp;<span class="op" id="5801840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5801845">return</span>&nbsp;<span class="ident" id="5801852">nil</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5801861">}</span><br>
<span class="lineno"></span><span class="op" id="5801863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5801866">//&nbsp;parseRecord&nbsp;reads&nbsp;and&nbsp;parses&nbsp;a&nbsp;single&nbsp;csv&nbsp;record&nbsp;from&nbsp;r.</span><br>
<span class="lineno">210</span><span class="keyword" id="5801926">func</span>&nbsp;<span class="op" id="5801931">(</span><span class="ident" id="5801932">r</span>&nbsp;<span class="op" id="5801934">*</span><span class="ident" id="5801935">Reader</span><span class="op" id="5801941">)</span>&nbsp;<span class="ident" id="5801943">parseRecord</span><span class="op" id="5801954">(</span><span class="op" id="5801955">)</span>&nbsp;<span class="op" id="5801957">(</span><span class="ident" id="5801958">fields</span>&nbsp;<span class="op" id="5801965">[</span><span class="op" id="5801966">]</span><span class="builtintype" id="5801967">string</span><span class="op" id="5801973">,</span>&nbsp;<span class="ident" id="5801975">err</span>&nbsp;<span class="builtintype" id="5801979">error</span><span class="op" id="5801984">)</span>&nbsp;<span class="op" id="5801986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5801989">//&nbsp;Each&nbsp;record&nbsp;starts&nbsp;on&nbsp;a&nbsp;new&nbsp;line.&nbsp;&nbsp;We&nbsp;increment&nbsp;our&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802050">//&nbsp;number&nbsp;(lines&nbsp;start&nbsp;at&nbsp;1,&nbsp;not&nbsp;0)&nbsp;and&nbsp;set&nbsp;column&nbsp;to&nbsp;-1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802108">//&nbsp;so&nbsp;as&nbsp;we&nbsp;increment&nbsp;in&nbsp;readRune&nbsp;it&nbsp;points&nbsp;to&nbsp;the&nbsp;character&nbsp;we&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802179">r</span><span class="op" id="5802180">.</span><span class="ident" id="5802181">line</span><span class="op" id="5802185">++</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802189">r</span><span class="op" id="5802190">.</span><span class="ident" id="5802191">column</span>&nbsp;<span class="op" id="5802198">=</span>&nbsp;<span class="op" id="5802200">-</span><span class="num" id="5802201">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802205">//&nbsp;Peek&nbsp;at&nbsp;the&nbsp;first&nbsp;rune.&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;an&nbsp;error&nbsp;we&nbsp;are&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802265">//&nbsp;If&nbsp;we&nbsp;are&nbsp;support&nbsp;comments&nbsp;and&nbsp;it&nbsp;is&nbsp;the&nbsp;comment&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802328">//&nbsp;then&nbsp;skip&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;line.</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802363">r1</span><span class="op" id="5802365">,</span>&nbsp;<span class="ident" id="5802367">_</span><span class="op" id="5802368">,</span>&nbsp;<span class="ident" id="5802370">err</span>&nbsp;<span class="op" id="5802374">:=</span>&nbsp;<span class="ident" id="5802377">r</span><span class="op" id="5802378">.</span><span class="ident" id="5802379">r</span><span class="op" id="5802380">.</span><span class="ident" id="5802381">ReadRune</span><span class="op" id="5802389">(</span><span class="op" id="5802390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802393">if</span>&nbsp;<span class="ident" id="5802396">err</span>&nbsp;<span class="op" id="5802400">!=</span>&nbsp;<span class="ident" id="5802403">nil</span>&nbsp;<span class="op" id="5802407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802411">return</span>&nbsp;<span class="ident" id="5802418">nil</span><span class="op" id="5802421">,</span>&nbsp;<span class="ident" id="5802423">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802428">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802432">if</span>&nbsp;<span class="ident" id="5802435">r</span><span class="op" id="5802436">.</span><span class="ident" id="5802437">Comment</span>&nbsp;<span class="op" id="5802445">!=</span>&nbsp;<span class="num" id="5802448">0</span>&nbsp;<span class="op" id="5802450">&amp;&amp;</span>&nbsp;<span class="ident" id="5802453">r1</span>&nbsp;<span class="op" id="5802456">==</span>&nbsp;<span class="ident" id="5802459">r</span><span class="op" id="5802460">.</span><span class="ident" id="5802461">Comment</span>&nbsp;<span class="op" id="5802469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802473">return</span>&nbsp;<span class="ident" id="5802480">nil</span><span class="op" id="5802483">,</span>&nbsp;<span class="ident" id="5802485">r</span><span class="op" id="5802486">.</span><span class="ident" id="5802487">skip</span><span class="op" id="5802491">(</span><span class="string" id="5802492">&#39;\n&#39;</span><span class="op" id="5802496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802502">r</span><span class="op" id="5802503">.</span><span class="ident" id="5802504">r</span><span class="op" id="5802505">.</span><span class="ident" id="5802506">UnreadRune</span><span class="op" id="5802516">(</span><span class="op" id="5802517">)</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5802521">//&nbsp;At&nbsp;this&nbsp;point&nbsp;we&nbsp;have&nbsp;at&nbsp;least&nbsp;one&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802567">for</span>&nbsp;<span class="op" id="5802571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802575">haveField</span><span class="op" id="5802584">,</span>&nbsp;<span class="ident" id="5802586">delim</span><span class="op" id="5802591">,</span>&nbsp;<span class="ident" id="5802593">err</span>&nbsp;<span class="op" id="5802597">:=</span>&nbsp;<span class="ident" id="5802600">r</span><span class="op" id="5802601">.</span><span class="ident" id="5802602">parseField</span><span class="op" id="5802612">(</span><span class="op" id="5802613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802617">if</span>&nbsp;<span class="ident" id="5802620">haveField</span>&nbsp;<span class="op" id="5802630">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5802635">fields</span>&nbsp;<span class="op" id="5802642">=</span>&nbsp;<span class="builtinfunc" id="5802644">append</span><span class="op" id="5802650">(</span><span class="ident" id="5802651">fields</span><span class="op" id="5802657">,</span>&nbsp;<span class="ident" id="5802659">r</span><span class="op" id="5802660">.</span><span class="ident" id="5802661">field</span><span class="op" id="5802666">.</span><span class="ident" id="5802667">String</span><span class="op" id="5802673">(</span><span class="op" id="5802674">)</span><span class="op" id="5802675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802683">if</span>&nbsp;<span class="ident" id="5802686">delim</span>&nbsp;<span class="op" id="5802692">==</span>&nbsp;<span class="string" id="5802695">&#39;\n&#39;</span>&nbsp;<span class="op" id="5802700">||</span>&nbsp;<span class="ident" id="5802703">err</span>&nbsp;<span class="op" id="5802707">==</span>&nbsp;<span class="ident" id="5802710">io</span><span class="op" id="5802712">.</span><span class="ident" id="5802713">EOF</span>&nbsp;<span class="op" id="5802717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802722">return</span>&nbsp;<span class="ident" id="5802729">fields</span><span class="op" id="5802735">,</span>&nbsp;<span class="ident" id="5802737">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802743">}</span>&nbsp;<span class="keyword" id="5802745">else</span>&nbsp;<span class="keyword" id="5802750">if</span>&nbsp;<span class="ident" id="5802753">err</span>&nbsp;<span class="op" id="5802757">!=</span>&nbsp;<span class="ident" id="5802760">nil</span>&nbsp;<span class="op" id="5802764">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5802769">return</span>&nbsp;<span class="ident" id="5802776">nil</span><span class="op" id="5802779">,</span>&nbsp;<span class="ident" id="5802781">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5802790">}</span><br>
<span class="lineno"></span><span class="op" id="5802792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="5802795">//&nbsp;parseField&nbsp;parses&nbsp;the&nbsp;next&nbsp;field&nbsp;in&nbsp;the&nbsp;record.&nbsp;&nbsp;The&nbsp;read&nbsp;field&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5802865">//&nbsp;located&nbsp;in&nbsp;r.field.&nbsp;&nbsp;Delim&nbsp;is&nbsp;the&nbsp;first&nbsp;character&nbsp;not&nbsp;part&nbsp;of&nbsp;the&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="5802940">//&nbsp;(r.Comma&nbsp;or&nbsp;&#39;\n&#39;).</span><br>
<span class="lineno"></span><span class="keyword" id="5802962">func</span>&nbsp;<span class="op" id="5802967">(</span><span class="ident" id="5802968">r</span>&nbsp;<span class="op" id="5802970">*</span><span class="ident" id="5802971">Reader</span><span class="op" id="5802977">)</span>&nbsp;<span class="ident" id="5802979">parseField</span><span class="op" id="5802989">(</span><span class="op" id="5802990">)</span>&nbsp;<span class="op" id="5802992">(</span><span class="ident" id="5802993">haveField</span>&nbsp;<span class="builtintype" id="5803003">bool</span><span class="op" id="5803007">,</span>&nbsp;<span class="ident" id="5803009">delim</span>&nbsp;<span class="builtintype" id="5803015">rune</span><span class="op" id="5803019">,</span>&nbsp;<span class="ident" id="5803021">err</span>&nbsp;<span class="builtintype" id="5803025">error</span><span class="op" id="5803030">)</span>&nbsp;<span class="op" id="5803032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803035">r</span><span class="op" id="5803036">.</span><span class="ident" id="5803037">field</span><span class="op" id="5803042">.</span><span class="ident" id="5803043">Reset</span><span class="op" id="5803048">(</span><span class="op" id="5803049">)</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803053">r1</span><span class="op" id="5803055">,</span>&nbsp;<span class="ident" id="5803057">err</span>&nbsp;<span class="op" id="5803061">:=</span>&nbsp;<span class="ident" id="5803064">r</span><span class="op" id="5803065">.</span><span class="ident" id="5803066">readRune</span><span class="op" id="5803074">(</span><span class="op" id="5803075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803078">for</span>&nbsp;<span class="ident" id="5803082">err</span>&nbsp;<span class="op" id="5803086">==</span>&nbsp;<span class="ident" id="5803089">nil</span>&nbsp;<span class="op" id="5803093">&amp;&amp;</span>&nbsp;<span class="ident" id="5803096">r</span><span class="op" id="5803097">.</span><span class="ident" id="5803098">TrimLeadingSpace</span>&nbsp;<span class="op" id="5803115">&amp;&amp;</span>&nbsp;<span class="ident" id="5803118">r1</span>&nbsp;<span class="op" id="5803121">!=</span>&nbsp;<span class="string" id="5803124">&#39;\n&#39;</span>&nbsp;<span class="op" id="5803129">&amp;&amp;</span>&nbsp;<span class="ident" id="5803132">unicode</span><span class="op" id="5803139">.</span><span class="ident" id="5803140">IsSpace</span><span class="op" id="5803147">(</span><span class="ident" id="5803148">r1</span><span class="op" id="5803150">)</span>&nbsp;<span class="op" id="5803152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803156">r1</span><span class="op" id="5803158">,</span>&nbsp;<span class="ident" id="5803160">err</span>&nbsp;<span class="op" id="5803164">=</span>&nbsp;<span class="ident" id="5803166">r</span><span class="op" id="5803167">.</span><span class="ident" id="5803168">readRune</span><span class="op" id="5803176">(</span><span class="op" id="5803177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803180">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803184">if</span>&nbsp;<span class="ident" id="5803187">err</span>&nbsp;<span class="op" id="5803191">==</span>&nbsp;<span class="ident" id="5803194">io</span><span class="op" id="5803196">.</span><span class="ident" id="5803197">EOF</span>&nbsp;<span class="op" id="5803201">&amp;&amp;</span>&nbsp;<span class="ident" id="5803204">r</span><span class="op" id="5803205">.</span><span class="ident" id="5803206">column</span>&nbsp;<span class="op" id="5803213">!=</span>&nbsp;<span class="num" id="5803216">0</span>&nbsp;<span class="op" id="5803218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803222">return</span>&nbsp;<span class="builtintype" id="5803229">true</span><span class="op" id="5803233">,</span>&nbsp;<span class="num" id="5803235">0</span><span class="op" id="5803236">,</span>&nbsp;<span class="ident" id="5803238">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803246">if</span>&nbsp;<span class="ident" id="5803249">err</span>&nbsp;<span class="op" id="5803253">!=</span>&nbsp;<span class="ident" id="5803256">nil</span>&nbsp;<span class="op" id="5803260">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803264">return</span>&nbsp;<span class="builtintype" id="5803271">false</span><span class="op" id="5803276">,</span>&nbsp;<span class="num" id="5803278">0</span><span class="op" id="5803279">,</span>&nbsp;<span class="ident" id="5803281">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803290">switch</span>&nbsp;<span class="ident" id="5803297">r1</span>&nbsp;<span class="op" id="5803300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803303">case</span>&nbsp;<span class="ident" id="5803308">r</span><span class="op" id="5803309">.</span><span class="ident" id="5803310">Comma</span><span class="op" id="5803315">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5803319">//&nbsp;will&nbsp;check&nbsp;below</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803341">case</span>&nbsp;<span class="string" id="5803346">&#39;\n&#39;</span><span class="op" id="5803350">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5803354">//&nbsp;We&nbsp;are&nbsp;a&nbsp;trailing&nbsp;empty&nbsp;field&nbsp;or&nbsp;a&nbsp;blank&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803405">if</span>&nbsp;<span class="ident" id="5803408">r</span><span class="op" id="5803409">.</span><span class="ident" id="5803410">column</span>&nbsp;<span class="op" id="5803417">==</span>&nbsp;<span class="num" id="5803420">0</span>&nbsp;<span class="op" id="5803422">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803427">return</span>&nbsp;<span class="builtintype" id="5803434">false</span><span class="op" id="5803439">,</span>&nbsp;<span class="ident" id="5803441">r1</span><span class="op" id="5803443">,</span>&nbsp;<span class="ident" id="5803445">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803455">return</span>&nbsp;<span class="builtintype" id="5803462">true</span><span class="op" id="5803466">,</span>&nbsp;<span class="ident" id="5803468">r1</span><span class="op" id="5803470">,</span>&nbsp;<span class="ident" id="5803472">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803478">case</span>&nbsp;<span class="string" id="5803483">&#39;&#34;&#39;</span><span class="op" id="5803486">:</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5803490">//&nbsp;quoted&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803507">Quoted</span><span class="op" id="5803513">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803517">for</span>&nbsp;<span class="op" id="5803521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803526">r1</span><span class="op" id="5803528">,</span>&nbsp;<span class="ident" id="5803530">err</span>&nbsp;<span class="op" id="5803534">=</span>&nbsp;<span class="ident" id="5803536">r</span><span class="op" id="5803537">.</span><span class="ident" id="5803538">readRune</span><span class="op" id="5803546">(</span><span class="op" id="5803547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803552">if</span>&nbsp;<span class="ident" id="5803555">err</span>&nbsp;<span class="op" id="5803559">!=</span>&nbsp;<span class="ident" id="5803562">nil</span>&nbsp;<span class="op" id="5803566">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803572">if</span>&nbsp;<span class="ident" id="5803575">err</span>&nbsp;<span class="op" id="5803579">==</span>&nbsp;<span class="ident" id="5803582">io</span><span class="op" id="5803584">.</span><span class="ident" id="5803585">EOF</span>&nbsp;<span class="op" id="5803589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803596">if</span>&nbsp;<span class="ident" id="5803599">r</span><span class="op" id="5803600">.</span><span class="ident" id="5803601">LazyQuotes</span>&nbsp;<span class="op" id="5803612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803620">return</span>&nbsp;<span class="builtintype" id="5803627">true</span><span class="op" id="5803631">,</span>&nbsp;<span class="num" id="5803633">0</span><span class="op" id="5803634">,</span>&nbsp;<span class="ident" id="5803636">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803652">return</span>&nbsp;<span class="builtintype" id="5803659">false</span><span class="op" id="5803664">,</span>&nbsp;<span class="num" id="5803666">0</span><span class="op" id="5803667">,</span>&nbsp;<span class="ident" id="5803669">r</span><span class="op" id="5803670">.</span><span class="builtintype" id="5803671">error</span><span class="op" id="5803676">(</span><span class="ident" id="5803677">ErrQuote</span><span class="op" id="5803685">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803697">return</span>&nbsp;<span class="builtintype" id="5803704">false</span><span class="op" id="5803709">,</span>&nbsp;<span class="num" id="5803711">0</span><span class="op" id="5803712">,</span>&nbsp;<span class="ident" id="5803714">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803726">switch</span>&nbsp;<span class="ident" id="5803733">r1</span>&nbsp;<span class="op" id="5803736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803741">case</span>&nbsp;<span class="string" id="5803746">&#39;&#34;&#39;</span><span class="op" id="5803749">:</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803755">r1</span><span class="op" id="5803757">,</span>&nbsp;<span class="ident" id="5803759">err</span>&nbsp;<span class="op" id="5803763">=</span>&nbsp;<span class="ident" id="5803765">r</span><span class="op" id="5803766">.</span><span class="ident" id="5803767">readRune</span><span class="op" id="5803775">(</span><span class="op" id="5803776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803782">if</span>&nbsp;<span class="ident" id="5803785">err</span>&nbsp;<span class="op" id="5803789">!=</span>&nbsp;<span class="ident" id="5803792">nil</span>&nbsp;<span class="op" id="5803796">||</span>&nbsp;<span class="ident" id="5803799">r1</span>&nbsp;<span class="op" id="5803802">==</span>&nbsp;<span class="ident" id="5803805">r</span><span class="op" id="5803806">.</span><span class="ident" id="5803807">Comma</span>&nbsp;<span class="op" id="5803813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803820">break</span>&nbsp;<span class="ident" id="5803826">Quoted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803843">if</span>&nbsp;<span class="ident" id="5803846">r1</span>&nbsp;<span class="op" id="5803849">==</span>&nbsp;<span class="string" id="5803852">&#39;\n&#39;</span>&nbsp;<span class="op" id="5803857">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803864">return</span>&nbsp;<span class="builtintype" id="5803871">true</span><span class="op" id="5803875">,</span>&nbsp;<span class="ident" id="5803877">r1</span><span class="op" id="5803879">,</span>&nbsp;<span class="ident" id="5803881">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803895">if</span>&nbsp;<span class="ident" id="5803898">r1</span>&nbsp;<span class="op" id="5803901">!=</span>&nbsp;<span class="string" id="5803904">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="5803908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803915">if</span>&nbsp;<span class="op" id="5803918">!</span><span class="ident" id="5803919">r</span><span class="op" id="5803920">.</span><span class="ident" id="5803921">LazyQuotes</span>&nbsp;<span class="op" id="5803932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5803940">r</span><span class="op" id="5803941">.</span><span class="ident" id="5803942">column</span><span class="op" id="5803948">--</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5803957">return</span>&nbsp;<span class="builtintype" id="5803964">false</span><span class="op" id="5803969">,</span>&nbsp;<span class="num" id="5803971">0</span><span class="op" id="5803972">,</span>&nbsp;<span class="ident" id="5803974">r</span><span class="op" id="5803975">.</span><span class="builtintype" id="5803976">error</span><span class="op" id="5803981">(</span><span class="ident" id="5803982">ErrQuote</span><span class="op" id="5803990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5803997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804004">//&nbsp;accept&nbsp;the&nbsp;bare&nbsp;quote</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804034">r</span><span class="op" id="5804035">.</span><span class="ident" id="5804036">field</span><span class="op" id="5804041">.</span><span class="ident" id="5804042">WriteRune</span><span class="op" id="5804051">(</span><span class="string" id="5804052">&#39;&#34;&#39;</span><span class="op" id="5804055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804061">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804066">case</span>&nbsp;<span class="string" id="5804071">&#39;\n&#39;</span><span class="op" id="5804075">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804081">r</span><span class="op" id="5804082">.</span><span class="ident" id="5804083">line</span><span class="op" id="5804087">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804094">r</span><span class="op" id="5804095">.</span><span class="ident" id="5804096">column</span>&nbsp;<span class="op" id="5804103">=</span>&nbsp;<span class="op" id="5804105">-</span><span class="num" id="5804106">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804116">r</span><span class="op" id="5804117">.</span><span class="ident" id="5804118">field</span><span class="op" id="5804123">.</span><span class="ident" id="5804124">WriteRune</span><span class="op" id="5804133">(</span><span class="ident" id="5804134">r1</span><span class="op" id="5804136">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804144">default</span><span class="op" id="5804151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5804155">//&nbsp;unquoted&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804175">for</span>&nbsp;<span class="op" id="5804179">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804184">r</span><span class="op" id="5804185">.</span><span class="ident" id="5804186">field</span><span class="op" id="5804191">.</span><span class="ident" id="5804192">WriteRune</span><span class="op" id="5804201">(</span><span class="ident" id="5804202">r1</span><span class="op" id="5804204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5804209">r1</span><span class="op" id="5804211">,</span>&nbsp;<span class="ident" id="5804213">err</span>&nbsp;<span class="op" id="5804217">=</span>&nbsp;<span class="ident" id="5804219">r</span><span class="op" id="5804220">.</span><span class="ident" id="5804221">readRune</span><span class="op" id="5804229">(</span><span class="op" id="5804230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804235">if</span>&nbsp;<span class="ident" id="5804238">err</span>&nbsp;<span class="op" id="5804242">!=</span>&nbsp;<span class="ident" id="5804245">nil</span>&nbsp;<span class="op" id="5804249">||</span>&nbsp;<span class="ident" id="5804252">r1</span>&nbsp;<span class="op" id="5804255">==</span>&nbsp;<span class="ident" id="5804258">r</span><span class="op" id="5804259">.</span><span class="ident" id="5804260">Comma</span>&nbsp;<span class="op" id="5804266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804272">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804281">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804286">if</span>&nbsp;<span class="ident" id="5804289">r1</span>&nbsp;<span class="op" id="5804292">==</span>&nbsp;<span class="string" id="5804295">&#39;\n&#39;</span>&nbsp;<span class="op" id="5804300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804306">return</span>&nbsp;<span class="builtintype" id="5804313">true</span><span class="op" id="5804317">,</span>&nbsp;<span class="ident" id="5804319">r1</span><span class="op" id="5804321">,</span>&nbsp;<span class="ident" id="5804323">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804335">if</span>&nbsp;<span class="op" id="5804338">!</span><span class="ident" id="5804339">r</span><span class="op" id="5804340">.</span><span class="ident" id="5804341">LazyQuotes</span>&nbsp;<span class="op" id="5804352">&amp;&amp;</span>&nbsp;<span class="ident" id="5804355">r1</span>&nbsp;<span class="op" id="5804358">==</span>&nbsp;<span class="string" id="5804361">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="5804365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804371">return</span>&nbsp;<span class="builtintype" id="5804378">false</span><span class="op" id="5804383">,</span>&nbsp;<span class="num" id="5804385">0</span><span class="op" id="5804386">,</span>&nbsp;<span class="ident" id="5804388">r</span><span class="op" id="5804389">.</span><span class="builtintype" id="5804390">error</span><span class="op" id="5804395">(</span><span class="ident" id="5804396">ErrBareQuote</span><span class="op" id="5804408">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804424">if</span>&nbsp;<span class="ident" id="5804427">err</span>&nbsp;<span class="op" id="5804431">!=</span>&nbsp;<span class="ident" id="5804434">nil</span>&nbsp;<span class="op" id="5804438">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804442">if</span>&nbsp;<span class="ident" id="5804445">err</span>&nbsp;<span class="op" id="5804449">==</span>&nbsp;<span class="ident" id="5804452">io</span><span class="op" id="5804454">.</span><span class="ident" id="5804455">EOF</span>&nbsp;<span class="op" id="5804459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804464">return</span>&nbsp;<span class="builtintype" id="5804471">true</span><span class="op" id="5804475">,</span>&nbsp;<span class="num" id="5804477">0</span><span class="op" id="5804478">,</span>&nbsp;<span class="ident" id="5804480">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804490">return</span>&nbsp;<span class="builtintype" id="5804497">false</span><span class="op" id="5804502">,</span>&nbsp;<span class="num" id="5804504">0</span><span class="op" id="5804505">,</span>&nbsp;<span class="ident" id="5804507">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5804512">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5804516">return</span>&nbsp;<span class="builtintype" id="5804523">true</span><span class="op" id="5804527">,</span>&nbsp;<span class="ident" id="5804529">r1</span><span class="op" id="5804531">,</span>&nbsp;<span class="ident" id="5804533">nil</span><br>
<span class="lineno"></span><span class="op" id="5804537">}</span>
</div>
</body>
</html>
