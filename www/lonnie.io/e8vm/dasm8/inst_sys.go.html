<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5383139">package</span>&nbsp;<span class="ident" id="5383147">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5383154">import</span>&nbsp;<span class="op" id="5383161">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5383164">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5383170">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5383173">var</span>&nbsp;<span class="op" id="5383177">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383180">opSysMap</span>&nbsp;<span class="op" id="5383189">=</span>&nbsp;<span class="keyword" id="5383191">map</span><span class="op" id="5383194">[</span><span class="builtintype" id="5383195">uint32</span><span class="op" id="5383201">]</span><span class="builtintype" id="5383202">string</span><span class="op" id="5383208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="5383212">64</span><span class="op" id="5383214">:</span>&nbsp;<span class="string" id="5383216">&#34;halt&#34;</span><span class="op" id="5383222">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="5383226">65</span><span class="op" id="5383228">:</span>&nbsp;<span class="string" id="5383230">&#34;syscall&#34;</span><span class="op" id="5383239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="5383243">66</span><span class="op" id="5383245">:</span>&nbsp;<span class="string" id="5383247">&#34;usermod&#34;</span><span class="op" id="5383256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="5383260">68</span><span class="op" id="5383262">:</span>&nbsp;<span class="string" id="5383264">&#34;iret&#34;</span><span class="op" id="5383270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383277">opSys1Map</span>&nbsp;<span class="op" id="5383287">=</span>&nbsp;<span class="keyword" id="5383289">map</span><span class="op" id="5383292">[</span><span class="builtintype" id="5383293">uint32</span><span class="op" id="5383299">]</span><span class="builtintype" id="5383300">string</span><span class="op" id="5383306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="5383310">67</span><span class="op" id="5383312">:</span>&nbsp;<span class="string" id="5383314">&#34;vtable&#34;</span><span class="op" id="5383322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="5383326">69</span><span class="op" id="5383328">:</span>&nbsp;<span class="string" id="5383330">&#34;cpuid&#34;</span><span class="op" id="5383337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383340">}</span><br>
<span class="lineno"></span><span class="op" id="5383342">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="5383345">func</span>&nbsp;<span class="ident" id="5383350">instSys</span><span class="op" id="5383357">(</span><span class="ident" id="5383358">addr</span>&nbsp;<span class="builtintype" id="5383363">uint32</span><span class="op" id="5383369">,</span>&nbsp;<span class="ident" id="5383371">in</span>&nbsp;<span class="builtintype" id="5383374">uint32</span><span class="op" id="5383380">)</span>&nbsp;<span class="op" id="5383382">*</span><span class="ident" id="5383383"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5383762">Line</a></span>&nbsp;<span class="op" id="5383388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383391">op</span>&nbsp;<span class="op" id="5383394">:=</span>&nbsp;<span class="op" id="5383397">(</span><span class="ident" id="5383398"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383371">in</a></span>&nbsp;<span class="op" id="5383401">&gt;&gt;</span>&nbsp;<span class="num" id="5383404">24</span><span class="op" id="5383406">)</span>&nbsp;<span class="op" id="5383408">&amp;</span>&nbsp;<span class="num" id="5383410">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383416">src</span>&nbsp;<span class="op" id="5383420">:=</span>&nbsp;<span class="ident" id="5383423"><a href="/lonnie.io/e8vm/dasm8/reg.go.html#5384544">regStr</a></span><span class="op" id="5383429">(</span><span class="op" id="5383430">(</span><span class="ident" id="5383431"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383371">in</a></span>&nbsp;<span class="op" id="5383434">&gt;&gt;</span>&nbsp;<span class="num" id="5383437">21</span><span class="op" id="5383439">)</span>&nbsp;<span class="op" id="5383441">&amp;</span>&nbsp;<span class="num" id="5383443">0x7</span><span class="op" id="5383446">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383450">var</span>&nbsp;<span class="ident" id="5383454">s</span>&nbsp;<span class="builtintype" id="5383456">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383464">if</span>&nbsp;<span class="ident" id="5383467">opStr</span><span class="op" id="5383472">,</span>&nbsp;<span class="ident" id="5383474">found</span>&nbsp;<span class="op" id="5383480">:=</span>&nbsp;<span class="ident" id="5383483"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383180">opSysMap</a></span><span class="op" id="5383491">[</span><span class="ident" id="5383492"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383391">op</a></span><span class="op" id="5383494">]</span><span class="op" id="5383495">;</span>&nbsp;<span class="ident" id="5383497"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383474">found</a></span>&nbsp;<span class="op" id="5383503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383507"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383454">s</a></span>&nbsp;<span class="op" id="5383509">=</span>&nbsp;<span class="ident" id="5383511"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383467">opStr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383518">}</span>&nbsp;<span class="keyword" id="5383520">else</span>&nbsp;<span class="keyword" id="5383525">if</span>&nbsp;<span class="ident" id="5383528">opStr</span><span class="op" id="5383533">,</span>&nbsp;<span class="ident" id="5383535">found</span>&nbsp;<span class="op" id="5383541">:=</span>&nbsp;<span class="ident" id="5383544"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383277">opSys1Map</a></span><span class="op" id="5383553">[</span><span class="ident" id="5383554"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383391">op</a></span><span class="op" id="5383556">]</span><span class="op" id="5383557">;</span>&nbsp;<span class="ident" id="5383559"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383535">found</a></span>&nbsp;<span class="op" id="5383565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383569"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383454">s</a></span>&nbsp;<span class="op" id="5383571">=</span>&nbsp;<span class="ident" id="5383573"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383164">fmt</a></span><span class="op" id="5383576">.</span><span class="ident" id="5383577">Sprintf</span><span class="op" id="5383584">(</span><span class="string" id="5383585">&#34;%s&nbsp;%s&#34;</span><span class="op" id="5383592">,</span>&nbsp;<span class="ident" id="5383594"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383528">opStr</a></span><span class="op" id="5383599">,</span>&nbsp;<span class="ident" id="5383601"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383416">src</a></span><span class="op" id="5383604">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383611">ret</span>&nbsp;<span class="op" id="5383615">:=</span>&nbsp;<span class="ident" id="5383618"><a href="/lonnie.io/e8vm/dasm8/line.go.html#5384419">newLine</a></span><span class="op" id="5383625">(</span><span class="ident" id="5383626"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383358">addr</a></span><span class="op" id="5383630">,</span>&nbsp;<span class="ident" id="5383632"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383371">in</a></span><span class="op" id="5383634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383637"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383611">ret</a></span><span class="op" id="5383640">.</span><span class="ident" id="5383641">Str</span>&nbsp;<span class="op" id="5383645">=</span>&nbsp;<span class="ident" id="5383647"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383454">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383650">return</span>&nbsp;<span class="ident" id="5383657"><a href="/lonnie.io/e8vm/dasm8/inst_sys.go.html#5383611">ret</a></span><br>
<span class="lineno">35</span><span class="op" id="5383661">}</span>
</div>
</body>
</html>
