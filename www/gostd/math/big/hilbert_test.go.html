<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html" class="current">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7619639">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7619694">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7619748">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7619799">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7619864">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7619923">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7619981">package</span>&nbsp;<span class="ident" id="7619989">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7619994">import</span>&nbsp;<span class="op" id="7620001">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7620004">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7620011">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7620021">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7620024">type</span>&nbsp;<span class="ident" id="7620029">matrix</span>&nbsp;<span class="keyword" id="7620036">struct</span>&nbsp;<span class="op" id="7620043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620046">n</span><span class="op" id="7620047">,</span>&nbsp;<span class="ident" id="7620049">m</span>&nbsp;<span class="builtintype" id="7620051">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620056">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620061">[</span><span class="op" id="7620062">]</span><span class="op" id="7620063">*</span><span class="ident" id="7620064">Rat</span><br>
<span class="lineno"></span><span class="op" id="7620068">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7620071">func</span>&nbsp;<span class="op" id="7620076">(</span><span class="ident" id="7620077">a</span>&nbsp;<span class="op" id="7620079">*</span><span class="ident" id="7620080">matrix</span><span class="op" id="7620086">)</span>&nbsp;<span class="ident" id="7620088">at</span><span class="op" id="7620090">(</span><span class="ident" id="7620091">i</span><span class="op" id="7620092">,</span>&nbsp;<span class="ident" id="7620094">j</span>&nbsp;<span class="builtintype" id="7620096">int</span><span class="op" id="7620099">)</span>&nbsp;<span class="op" id="7620101">*</span><span class="ident" id="7620102">Rat</span>&nbsp;<span class="op" id="7620106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620109">if</span>&nbsp;<span class="op" id="7620112">!</span><span class="op" id="7620113">(</span><span class="num" id="7620114">0</span>&nbsp;<span class="op" id="7620116">&lt;=</span>&nbsp;<span class="ident" id="7620119">i</span>&nbsp;<span class="op" id="7620121">&amp;&amp;</span>&nbsp;<span class="ident" id="7620124">i</span>&nbsp;<span class="op" id="7620126">&lt;</span>&nbsp;<span class="ident" id="7620128">a</span><span class="op" id="7620129">.</span><span class="ident" id="7620130">n</span>&nbsp;<span class="op" id="7620132">&amp;&amp;</span>&nbsp;<span class="num" id="7620135">0</span>&nbsp;<span class="op" id="7620137">&lt;=</span>&nbsp;<span class="ident" id="7620140">j</span>&nbsp;<span class="op" id="7620142">&amp;&amp;</span>&nbsp;<span class="ident" id="7620145">j</span>&nbsp;<span class="op" id="7620147">&lt;</span>&nbsp;<span class="ident" id="7620149">a</span><span class="op" id="7620150">.</span><span class="ident" id="7620151">m</span><span class="op" id="7620152">)</span>&nbsp;<span class="op" id="7620154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7620158">panic</span><span class="op" id="7620163">(</span><span class="string" id="7620164">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7620184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620187">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620190">return</span>&nbsp;<span class="ident" id="7620197">a</span><span class="op" id="7620198">.</span><span class="ident" id="7620199">a</span><span class="op" id="7620200">[</span><span class="ident" id="7620201">i</span><span class="op" id="7620202">*</span><span class="ident" id="7620203">a</span><span class="op" id="7620204">.</span><span class="ident" id="7620205">m</span><span class="op" id="7620206">+</span><span class="ident" id="7620207">j</span><span class="op" id="7620208">]</span><br>
<span class="lineno"></span><span class="op" id="7620210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7620213">func</span>&nbsp;<span class="op" id="7620218">(</span><span class="ident" id="7620219">a</span>&nbsp;<span class="op" id="7620221">*</span><span class="ident" id="7620222">matrix</span><span class="op" id="7620228">)</span>&nbsp;<span class="ident" id="7620230">set</span><span class="op" id="7620233">(</span><span class="ident" id="7620234">i</span><span class="op" id="7620235">,</span>&nbsp;<span class="ident" id="7620237">j</span>&nbsp;<span class="builtintype" id="7620239">int</span><span class="op" id="7620242">,</span>&nbsp;<span class="ident" id="7620244">x</span>&nbsp;<span class="op" id="7620246">*</span><span class="ident" id="7620247">Rat</span><span class="op" id="7620250">)</span>&nbsp;<span class="op" id="7620252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620255">if</span>&nbsp;<span class="op" id="7620258">!</span><span class="op" id="7620259">(</span><span class="num" id="7620260">0</span>&nbsp;<span class="op" id="7620262">&lt;=</span>&nbsp;<span class="ident" id="7620265">i</span>&nbsp;<span class="op" id="7620267">&amp;&amp;</span>&nbsp;<span class="ident" id="7620270">i</span>&nbsp;<span class="op" id="7620272">&lt;</span>&nbsp;<span class="ident" id="7620274">a</span><span class="op" id="7620275">.</span><span class="ident" id="7620276">n</span>&nbsp;<span class="op" id="7620278">&amp;&amp;</span>&nbsp;<span class="num" id="7620281">0</span>&nbsp;<span class="op" id="7620283">&lt;=</span>&nbsp;<span class="ident" id="7620286">j</span>&nbsp;<span class="op" id="7620288">&amp;&amp;</span>&nbsp;<span class="ident" id="7620291">j</span>&nbsp;<span class="op" id="7620293">&lt;</span>&nbsp;<span class="ident" id="7620295">a</span><span class="op" id="7620296">.</span><span class="ident" id="7620297">m</span><span class="op" id="7620298">)</span>&nbsp;<span class="op" id="7620300">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7620304">panic</span><span class="op" id="7620309">(</span><span class="string" id="7620310">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7620330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620336">a</span><span class="op" id="7620337">.</span><span class="ident" id="7620338">a</span><span class="op" id="7620339">[</span><span class="ident" id="7620340">i</span><span class="op" id="7620341">*</span><span class="ident" id="7620342">a</span><span class="op" id="7620343">.</span><span class="ident" id="7620344">m</span><span class="op" id="7620345">+</span><span class="ident" id="7620346">j</span><span class="op" id="7620347">]</span>&nbsp;<span class="op" id="7620349">=</span>&nbsp;<span class="ident" id="7620351">x</span><br>
<span class="lineno"></span><span class="op" id="7620353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7620356">func</span>&nbsp;<span class="ident" id="7620361">newMatrix</span><span class="op" id="7620370">(</span><span class="ident" id="7620371">n</span><span class="op" id="7620372">,</span>&nbsp;<span class="ident" id="7620374">m</span>&nbsp;<span class="builtintype" id="7620376">int</span><span class="op" id="7620379">)</span>&nbsp;<span class="op" id="7620381">*</span><span class="ident" id="7620382">matrix</span>&nbsp;<span class="op" id="7620389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620392">if</span>&nbsp;<span class="op" id="7620395">!</span><span class="op" id="7620396">(</span><span class="num" id="7620397">0</span>&nbsp;<span class="op" id="7620399">&lt;=</span>&nbsp;<span class="ident" id="7620402">n</span>&nbsp;<span class="op" id="7620404">&amp;&amp;</span>&nbsp;<span class="num" id="7620407">0</span>&nbsp;<span class="op" id="7620409">&lt;=</span>&nbsp;<span class="ident" id="7620412">m</span><span class="op" id="7620413">)</span>&nbsp;<span class="op" id="7620415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7620419">panic</span><span class="op" id="7620424">(</span><span class="string" id="7620425">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7620441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620447">a</span>&nbsp;<span class="op" id="7620449">:=</span>&nbsp;<span class="builtinfunc" id="7620452">new</span><span class="op" id="7620455">(</span><span class="ident" id="7620456">matrix</span><span class="op" id="7620462">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620465">a</span><span class="op" id="7620466">.</span><span class="ident" id="7620467">n</span>&nbsp;<span class="op" id="7620469">=</span>&nbsp;<span class="ident" id="7620471">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620474">a</span><span class="op" id="7620475">.</span><span class="ident" id="7620476">m</span>&nbsp;<span class="op" id="7620478">=</span>&nbsp;<span class="ident" id="7620480">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620483">a</span><span class="op" id="7620484">.</span><span class="ident" id="7620485">a</span>&nbsp;<span class="op" id="7620487">=</span>&nbsp;<span class="builtinfunc" id="7620489">make</span><span class="op" id="7620493">(</span><span class="op" id="7620494">[</span><span class="op" id="7620495">]</span><span class="op" id="7620496">*</span><span class="ident" id="7620497">Rat</span><span class="op" id="7620500">,</span>&nbsp;<span class="ident" id="7620502">n</span><span class="op" id="7620503">*</span><span class="ident" id="7620504">m</span><span class="op" id="7620505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620508">return</span>&nbsp;<span class="ident" id="7620515">a</span><br>
<span class="lineno"></span><span class="op" id="7620517">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7620520">func</span>&nbsp;<span class="ident" id="7620525">newUnit</span><span class="op" id="7620532">(</span><span class="ident" id="7620533">n</span>&nbsp;<span class="builtintype" id="7620535">int</span><span class="op" id="7620538">)</span>&nbsp;<span class="op" id="7620540">*</span><span class="ident" id="7620541">matrix</span>&nbsp;<span class="op" id="7620548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620551">a</span>&nbsp;<span class="op" id="7620553">:=</span>&nbsp;<span class="ident" id="7620556">newMatrix</span><span class="op" id="7620565">(</span><span class="ident" id="7620566">n</span><span class="op" id="7620567">,</span>&nbsp;<span class="ident" id="7620569">n</span><span class="op" id="7620570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620573">for</span>&nbsp;<span class="ident" id="7620577">i</span>&nbsp;<span class="op" id="7620579">:=</span>&nbsp;<span class="num" id="7620582">0</span><span class="op" id="7620583">;</span>&nbsp;<span class="ident" id="7620585">i</span>&nbsp;<span class="op" id="7620587">&lt;</span>&nbsp;<span class="ident" id="7620589">n</span><span class="op" id="7620590">;</span>&nbsp;<span class="ident" id="7620592">i</span><span class="op" id="7620593">++</span>&nbsp;<span class="op" id="7620596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620600">for</span>&nbsp;<span class="ident" id="7620604">j</span>&nbsp;<span class="op" id="7620606">:=</span>&nbsp;<span class="num" id="7620609">0</span><span class="op" id="7620610">;</span>&nbsp;<span class="ident" id="7620612">j</span>&nbsp;<span class="op" id="7620614">&lt;</span>&nbsp;<span class="ident" id="7620616">n</span><span class="op" id="7620617">;</span>&nbsp;<span class="ident" id="7620619">j</span><span class="op" id="7620620">++</span>&nbsp;<span class="op" id="7620623">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620628">x</span>&nbsp;<span class="op" id="7620630">:=</span>&nbsp;<span class="ident" id="7620633">NewRat</span><span class="op" id="7620639">(</span><span class="num" id="7620640">0</span><span class="op" id="7620641">,</span>&nbsp;<span class="num" id="7620643">1</span><span class="op" id="7620644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620649">if</span>&nbsp;<span class="ident" id="7620652">i</span>&nbsp;<span class="op" id="7620654">==</span>&nbsp;<span class="ident" id="7620657">j</span>&nbsp;<span class="op" id="7620659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620665">x</span><span class="op" id="7620666">.</span><span class="ident" id="7620667">SetInt64</span><span class="op" id="7620675">(</span><span class="num" id="7620676">1</span><span class="op" id="7620677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620687">a</span><span class="op" id="7620688">.</span><span class="ident" id="7620689">set</span><span class="op" id="7620692">(</span><span class="ident" id="7620693">i</span><span class="op" id="7620694">,</span>&nbsp;<span class="ident" id="7620696">j</span><span class="op" id="7620697">,</span>&nbsp;<span class="ident" id="7620699">x</span><span class="op" id="7620700">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620710">return</span>&nbsp;<span class="ident" id="7620717">a</span><br>
<span class="lineno"></span><span class="op" id="7620719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7620722">func</span>&nbsp;<span class="ident" id="7620727">newHilbert</span><span class="op" id="7620737">(</span><span class="ident" id="7620738">n</span>&nbsp;<span class="builtintype" id="7620740">int</span><span class="op" id="7620743">)</span>&nbsp;<span class="op" id="7620745">*</span><span class="ident" id="7620746">matrix</span>&nbsp;<span class="op" id="7620753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620756">a</span>&nbsp;<span class="op" id="7620758">:=</span>&nbsp;<span class="ident" id="7620761">newMatrix</span><span class="op" id="7620770">(</span><span class="ident" id="7620771">n</span><span class="op" id="7620772">,</span>&nbsp;<span class="ident" id="7620774">n</span><span class="op" id="7620775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620778">for</span>&nbsp;<span class="ident" id="7620782">i</span>&nbsp;<span class="op" id="7620784">:=</span>&nbsp;<span class="num" id="7620787">0</span><span class="op" id="7620788">;</span>&nbsp;<span class="ident" id="7620790">i</span>&nbsp;<span class="op" id="7620792">&lt;</span>&nbsp;<span class="ident" id="7620794">n</span><span class="op" id="7620795">;</span>&nbsp;<span class="ident" id="7620797">i</span><span class="op" id="7620798">++</span>&nbsp;<span class="op" id="7620801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620805">for</span>&nbsp;<span class="ident" id="7620809">j</span>&nbsp;<span class="op" id="7620811">:=</span>&nbsp;<span class="num" id="7620814">0</span><span class="op" id="7620815">;</span>&nbsp;<span class="ident" id="7620817">j</span>&nbsp;<span class="op" id="7620819">&lt;</span>&nbsp;<span class="ident" id="7620821">n</span><span class="op" id="7620822">;</span>&nbsp;<span class="ident" id="7620824">j</span><span class="op" id="7620825">++</span>&nbsp;<span class="op" id="7620828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620833">a</span><span class="op" id="7620834">.</span><span class="ident" id="7620835">set</span><span class="op" id="7620838">(</span><span class="ident" id="7620839">i</span><span class="op" id="7620840">,</span>&nbsp;<span class="ident" id="7620842">j</span><span class="op" id="7620843">,</span>&nbsp;<span class="ident" id="7620845">NewRat</span><span class="op" id="7620851">(</span><span class="num" id="7620852">1</span><span class="op" id="7620853">,</span>&nbsp;<span class="ident" id="7620855">int64</span><span class="op" id="7620860">(</span><span class="ident" id="7620861">i</span><span class="op" id="7620862">+</span><span class="ident" id="7620863">j</span><span class="op" id="7620864">+</span><span class="num" id="7620865">1</span><span class="op" id="7620866">)</span><span class="op" id="7620867">)</span><span class="op" id="7620868">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620878">return</span>&nbsp;<span class="ident" id="7620885">a</span><br>
<span class="lineno"></span><span class="op" id="7620887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7620890">func</span>&nbsp;<span class="ident" id="7620895">newInverseHilbert</span><span class="op" id="7620912">(</span><span class="ident" id="7620913">n</span>&nbsp;<span class="builtintype" id="7620915">int</span><span class="op" id="7620918">)</span>&nbsp;<span class="op" id="7620920">*</span><span class="ident" id="7620921">matrix</span>&nbsp;<span class="op" id="7620928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620931">a</span>&nbsp;<span class="op" id="7620933">:=</span>&nbsp;<span class="ident" id="7620936">newMatrix</span><span class="op" id="7620945">(</span><span class="ident" id="7620946">n</span><span class="op" id="7620947">,</span>&nbsp;<span class="ident" id="7620949">n</span><span class="op" id="7620950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620953">for</span>&nbsp;<span class="ident" id="7620957">i</span>&nbsp;<span class="op" id="7620959">:=</span>&nbsp;<span class="num" id="7620962">0</span><span class="op" id="7620963">;</span>&nbsp;<span class="ident" id="7620965">i</span>&nbsp;<span class="op" id="7620967">&lt;</span>&nbsp;<span class="ident" id="7620969">n</span><span class="op" id="7620970">;</span>&nbsp;<span class="ident" id="7620972">i</span><span class="op" id="7620973">++</span>&nbsp;<span class="op" id="7620976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620980">for</span>&nbsp;<span class="ident" id="7620984">j</span>&nbsp;<span class="op" id="7620986">:=</span>&nbsp;<span class="num" id="7620989">0</span><span class="op" id="7620990">;</span>&nbsp;<span class="ident" id="7620992">j</span>&nbsp;<span class="op" id="7620994">&lt;</span>&nbsp;<span class="ident" id="7620996">n</span><span class="op" id="7620997">;</span>&nbsp;<span class="ident" id="7620999">j</span><span class="op" id="7621000">++</span>&nbsp;<span class="op" id="7621003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621008">x1</span>&nbsp;<span class="op" id="7621011">:=</span>&nbsp;<span class="builtinfunc" id="7621014">new</span><span class="op" id="7621017">(</span><span class="ident" id="7621018">Rat</span><span class="op" id="7621021">)</span><span class="op" id="7621022">.</span><span class="ident" id="7621023">SetInt64</span><span class="op" id="7621031">(</span><span class="ident" id="7621032">int64</span><span class="op" id="7621037">(</span><span class="ident" id="7621038">i</span>&nbsp;<span class="op" id="7621040">+</span>&nbsp;<span class="ident" id="7621042">j</span>&nbsp;<span class="op" id="7621044">+</span>&nbsp;<span class="num" id="7621046">1</span><span class="op" id="7621047">)</span><span class="op" id="7621048">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621053">x2</span>&nbsp;<span class="op" id="7621056">:=</span>&nbsp;<span class="builtinfunc" id="7621059">new</span><span class="op" id="7621062">(</span><span class="ident" id="7621063">Rat</span><span class="op" id="7621066">)</span><span class="op" id="7621067">.</span><span class="ident" id="7621068">SetInt</span><span class="op" id="7621074">(</span><span class="builtinfunc" id="7621075">new</span><span class="op" id="7621078">(</span><span class="ident" id="7621079">Int</span><span class="op" id="7621082">)</span><span class="op" id="7621083">.</span><span class="ident" id="7621084">Binomial</span><span class="op" id="7621092">(</span><span class="ident" id="7621093">int64</span><span class="op" id="7621098">(</span><span class="ident" id="7621099">n</span><span class="op" id="7621100">+</span><span class="ident" id="7621101">i</span><span class="op" id="7621102">)</span><span class="op" id="7621103">,</span>&nbsp;<span class="ident" id="7621105">int64</span><span class="op" id="7621110">(</span><span class="ident" id="7621111">n</span><span class="op" id="7621112">-</span><span class="ident" id="7621113">j</span><span class="op" id="7621114">-</span><span class="num" id="7621115">1</span><span class="op" id="7621116">)</span><span class="op" id="7621117">)</span><span class="op" id="7621118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621123">x3</span>&nbsp;<span class="op" id="7621126">:=</span>&nbsp;<span class="builtinfunc" id="7621129">new</span><span class="op" id="7621132">(</span><span class="ident" id="7621133">Rat</span><span class="op" id="7621136">)</span><span class="op" id="7621137">.</span><span class="ident" id="7621138">SetInt</span><span class="op" id="7621144">(</span><span class="builtinfunc" id="7621145">new</span><span class="op" id="7621148">(</span><span class="ident" id="7621149">Int</span><span class="op" id="7621152">)</span><span class="op" id="7621153">.</span><span class="ident" id="7621154">Binomial</span><span class="op" id="7621162">(</span><span class="ident" id="7621163">int64</span><span class="op" id="7621168">(</span><span class="ident" id="7621169">n</span><span class="op" id="7621170">+</span><span class="ident" id="7621171">j</span><span class="op" id="7621172">)</span><span class="op" id="7621173">,</span>&nbsp;<span class="ident" id="7621175">int64</span><span class="op" id="7621180">(</span><span class="ident" id="7621181">n</span><span class="op" id="7621182">-</span><span class="ident" id="7621183">i</span><span class="op" id="7621184">-</span><span class="num" id="7621185">1</span><span class="op" id="7621186">)</span><span class="op" id="7621187">)</span><span class="op" id="7621188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621193">x4</span>&nbsp;<span class="op" id="7621196">:=</span>&nbsp;<span class="builtinfunc" id="7621199">new</span><span class="op" id="7621202">(</span><span class="ident" id="7621203">Rat</span><span class="op" id="7621206">)</span><span class="op" id="7621207">.</span><span class="ident" id="7621208">SetInt</span><span class="op" id="7621214">(</span><span class="builtinfunc" id="7621215">new</span><span class="op" id="7621218">(</span><span class="ident" id="7621219">Int</span><span class="op" id="7621222">)</span><span class="op" id="7621223">.</span><span class="ident" id="7621224">Binomial</span><span class="op" id="7621232">(</span><span class="ident" id="7621233">int64</span><span class="op" id="7621238">(</span><span class="ident" id="7621239">i</span><span class="op" id="7621240">+</span><span class="ident" id="7621241">j</span><span class="op" id="7621242">)</span><span class="op" id="7621243">,</span>&nbsp;<span class="ident" id="7621245">int64</span><span class="op" id="7621250">(</span><span class="ident" id="7621251">i</span><span class="op" id="7621252">)</span><span class="op" id="7621253">)</span><span class="op" id="7621254">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621260">x1</span><span class="op" id="7621262">.</span><span class="ident" id="7621263">Mul</span><span class="op" id="7621266">(</span><span class="ident" id="7621267">x1</span><span class="op" id="7621269">,</span>&nbsp;<span class="ident" id="7621271">x2</span><span class="op" id="7621273">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621278">x1</span><span class="op" id="7621280">.</span><span class="ident" id="7621281">Mul</span><span class="op" id="7621284">(</span><span class="ident" id="7621285">x1</span><span class="op" id="7621287">,</span>&nbsp;<span class="ident" id="7621289">x3</span><span class="op" id="7621291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621296">x1</span><span class="op" id="7621298">.</span><span class="ident" id="7621299">Mul</span><span class="op" id="7621302">(</span><span class="ident" id="7621303">x1</span><span class="op" id="7621305">,</span>&nbsp;<span class="ident" id="7621307">x4</span><span class="op" id="7621309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621314">x1</span><span class="op" id="7621316">.</span><span class="ident" id="7621317">Mul</span><span class="op" id="7621320">(</span><span class="ident" id="7621321">x1</span><span class="op" id="7621323">,</span>&nbsp;<span class="ident" id="7621325">x4</span><span class="op" id="7621327">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621333">if</span>&nbsp;<span class="op" id="7621336">(</span><span class="ident" id="7621337">i</span><span class="op" id="7621338">+</span><span class="ident" id="7621339">j</span><span class="op" id="7621340">)</span><span class="op" id="7621341">&amp;</span><span class="num" id="7621342">1</span>&nbsp;<span class="op" id="7621344">!=</span>&nbsp;<span class="num" id="7621347">0</span>&nbsp;<span class="op" id="7621349">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621355">x1</span><span class="op" id="7621357">.</span><span class="ident" id="7621358">Neg</span><span class="op" id="7621361">(</span><span class="ident" id="7621362">x1</span><span class="op" id="7621364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621375">a</span><span class="op" id="7621376">.</span><span class="ident" id="7621377">set</span><span class="op" id="7621380">(</span><span class="ident" id="7621381">i</span><span class="op" id="7621382">,</span>&nbsp;<span class="ident" id="7621384">j</span><span class="op" id="7621385">,</span>&nbsp;<span class="ident" id="7621387">x1</span><span class="op" id="7621389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621393">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621399">return</span>&nbsp;<span class="ident" id="7621406">a</span><br>
<span class="lineno"></span><span class="op" id="7621408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7621411">func</span>&nbsp;<span class="op" id="7621416">(</span><span class="ident" id="7621417">a</span>&nbsp;<span class="op" id="7621419">*</span><span class="ident" id="7621420">matrix</span><span class="op" id="7621426">)</span>&nbsp;<span class="ident" id="7621428">mul</span><span class="op" id="7621431">(</span><span class="ident" id="7621432">b</span>&nbsp;<span class="op" id="7621434">*</span><span class="ident" id="7621435">matrix</span><span class="op" id="7621441">)</span>&nbsp;<span class="op" id="7621443">*</span><span class="ident" id="7621444">matrix</span>&nbsp;<span class="op" id="7621451">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621454">if</span>&nbsp;<span class="ident" id="7621457">a</span><span class="op" id="7621458">.</span><span class="ident" id="7621459">m</span>&nbsp;<span class="op" id="7621461">!=</span>&nbsp;<span class="ident" id="7621464">b</span><span class="op" id="7621465">.</span><span class="ident" id="7621466">n</span>&nbsp;<span class="op" id="7621468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7621472">panic</span><span class="op" id="7621477">(</span><span class="string" id="7621478">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7621503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621509">c</span>&nbsp;<span class="op" id="7621511">:=</span>&nbsp;<span class="ident" id="7621514">newMatrix</span><span class="op" id="7621523">(</span><span class="ident" id="7621524">a</span><span class="op" id="7621525">.</span><span class="ident" id="7621526">n</span><span class="op" id="7621527">,</span>&nbsp;<span class="ident" id="7621529">b</span><span class="op" id="7621530">.</span><span class="ident" id="7621531">m</span><span class="op" id="7621532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621535">for</span>&nbsp;<span class="ident" id="7621539">i</span>&nbsp;<span class="op" id="7621541">:=</span>&nbsp;<span class="num" id="7621544">0</span><span class="op" id="7621545">;</span>&nbsp;<span class="ident" id="7621547">i</span>&nbsp;<span class="op" id="7621549">&lt;</span>&nbsp;<span class="ident" id="7621551">c</span><span class="op" id="7621552">.</span><span class="ident" id="7621553">n</span><span class="op" id="7621554">;</span>&nbsp;<span class="ident" id="7621556">i</span><span class="op" id="7621557">++</span>&nbsp;<span class="op" id="7621560">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621564">for</span>&nbsp;<span class="ident" id="7621568">j</span>&nbsp;<span class="op" id="7621570">:=</span>&nbsp;<span class="num" id="7621573">0</span><span class="op" id="7621574">;</span>&nbsp;<span class="ident" id="7621576">j</span>&nbsp;<span class="op" id="7621578">&lt;</span>&nbsp;<span class="ident" id="7621580">c</span><span class="op" id="7621581">.</span><span class="ident" id="7621582">m</span><span class="op" id="7621583">;</span>&nbsp;<span class="ident" id="7621585">j</span><span class="op" id="7621586">++</span>&nbsp;<span class="op" id="7621589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621594">x</span>&nbsp;<span class="op" id="7621596">:=</span>&nbsp;<span class="ident" id="7621599">NewRat</span><span class="op" id="7621605">(</span><span class="num" id="7621606">0</span><span class="op" id="7621607">,</span>&nbsp;<span class="num" id="7621609">1</span><span class="op" id="7621610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621615">for</span>&nbsp;<span class="ident" id="7621619">k</span>&nbsp;<span class="op" id="7621621">:=</span>&nbsp;<span class="num" id="7621624">0</span><span class="op" id="7621625">;</span>&nbsp;<span class="ident" id="7621627">k</span>&nbsp;<span class="op" id="7621629">&lt;</span>&nbsp;<span class="ident" id="7621631">a</span><span class="op" id="7621632">.</span><span class="ident" id="7621633">m</span><span class="op" id="7621634">;</span>&nbsp;<span class="ident" id="7621636">k</span><span class="op" id="7621637">++</span>&nbsp;<span class="op" id="7621640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621646">x</span><span class="op" id="7621647">.</span><span class="ident" id="7621648">Add</span><span class="op" id="7621651">(</span><span class="ident" id="7621652">x</span><span class="op" id="7621653">,</span>&nbsp;<span class="builtinfunc" id="7621655">new</span><span class="op" id="7621658">(</span><span class="ident" id="7621659">Rat</span><span class="op" id="7621662">)</span><span class="op" id="7621663">.</span><span class="ident" id="7621664">Mul</span><span class="op" id="7621667">(</span><span class="ident" id="7621668">a</span><span class="op" id="7621669">.</span><span class="ident" id="7621670">at</span><span class="op" id="7621672">(</span><span class="ident" id="7621673">i</span><span class="op" id="7621674">,</span>&nbsp;<span class="ident" id="7621676">k</span><span class="op" id="7621677">)</span><span class="op" id="7621678">,</span>&nbsp;<span class="ident" id="7621680">b</span><span class="op" id="7621681">.</span><span class="ident" id="7621682">at</span><span class="op" id="7621684">(</span><span class="ident" id="7621685">k</span><span class="op" id="7621686">,</span>&nbsp;<span class="ident" id="7621688">j</span><span class="op" id="7621689">)</span><span class="op" id="7621690">)</span><span class="op" id="7621691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621696">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621701">c</span><span class="op" id="7621702">.</span><span class="ident" id="7621703">set</span><span class="op" id="7621706">(</span><span class="ident" id="7621707">i</span><span class="op" id="7621708">,</span>&nbsp;<span class="ident" id="7621710">j</span><span class="op" id="7621711">,</span>&nbsp;<span class="ident" id="7621713">x</span><span class="op" id="7621714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621724">return</span>&nbsp;<span class="ident" id="7621731">c</span><br>
<span class="lineno"></span><span class="op" id="7621733">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7621736">func</span>&nbsp;<span class="op" id="7621741">(</span><span class="ident" id="7621742">a</span>&nbsp;<span class="op" id="7621744">*</span><span class="ident" id="7621745">matrix</span><span class="op" id="7621751">)</span>&nbsp;<span class="ident" id="7621753">eql</span><span class="op" id="7621756">(</span><span class="ident" id="7621757">b</span>&nbsp;<span class="op" id="7621759">*</span><span class="ident" id="7621760">matrix</span><span class="op" id="7621766">)</span>&nbsp;<span class="builtintype" id="7621768">bool</span>&nbsp;<span class="op" id="7621773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621776">if</span>&nbsp;<span class="ident" id="7621779">a</span><span class="op" id="7621780">.</span><span class="ident" id="7621781">n</span>&nbsp;<span class="op" id="7621783">!=</span>&nbsp;<span class="ident" id="7621786">b</span><span class="op" id="7621787">.</span><span class="ident" id="7621788">n</span>&nbsp;<span class="op" id="7621790">||</span>&nbsp;<span class="ident" id="7621793">a</span><span class="op" id="7621794">.</span><span class="ident" id="7621795">m</span>&nbsp;<span class="op" id="7621797">!=</span>&nbsp;<span class="ident" id="7621800">b</span><span class="op" id="7621801">.</span><span class="ident" id="7621802">m</span>&nbsp;<span class="op" id="7621804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621808">return</span>&nbsp;<span class="builtintype" id="7621815">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621822">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621825">for</span>&nbsp;<span class="ident" id="7621829">i</span>&nbsp;<span class="op" id="7621831">:=</span>&nbsp;<span class="num" id="7621834">0</span><span class="op" id="7621835">;</span>&nbsp;<span class="ident" id="7621837">i</span>&nbsp;<span class="op" id="7621839">&lt;</span>&nbsp;<span class="ident" id="7621841">a</span><span class="op" id="7621842">.</span><span class="ident" id="7621843">n</span><span class="op" id="7621844">;</span>&nbsp;<span class="ident" id="7621846">i</span><span class="op" id="7621847">++</span>&nbsp;<span class="op" id="7621850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621854">for</span>&nbsp;<span class="ident" id="7621858">j</span>&nbsp;<span class="op" id="7621860">:=</span>&nbsp;<span class="num" id="7621863">0</span><span class="op" id="7621864">;</span>&nbsp;<span class="ident" id="7621866">j</span>&nbsp;<span class="op" id="7621868">&lt;</span>&nbsp;<span class="ident" id="7621870">a</span><span class="op" id="7621871">.</span><span class="ident" id="7621872">m</span><span class="op" id="7621873">;</span>&nbsp;<span class="ident" id="7621875">j</span><span class="op" id="7621876">++</span>&nbsp;<span class="op" id="7621879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621884">if</span>&nbsp;<span class="ident" id="7621887">a</span><span class="op" id="7621888">.</span><span class="ident" id="7621889">at</span><span class="op" id="7621891">(</span><span class="ident" id="7621892">i</span><span class="op" id="7621893">,</span>&nbsp;<span class="ident" id="7621895">j</span><span class="op" id="7621896">)</span><span class="op" id="7621897">.</span><span class="ident" id="7621898">Cmp</span><span class="op" id="7621901">(</span><span class="ident" id="7621902">b</span><span class="op" id="7621903">.</span><span class="ident" id="7621904">at</span><span class="op" id="7621906">(</span><span class="ident" id="7621907">i</span><span class="op" id="7621908">,</span>&nbsp;<span class="ident" id="7621910">j</span><span class="op" id="7621911">)</span><span class="op" id="7621912">)</span>&nbsp;<span class="op" id="7621914">!=</span>&nbsp;<span class="num" id="7621917">0</span>&nbsp;<span class="op" id="7621919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621925">return</span>&nbsp;<span class="builtintype" id="7621932">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621941">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7621948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621951">return</span>&nbsp;<span class="builtintype" id="7621958">true</span><br>
<span class="lineno"></span><span class="op" id="7621963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7621966">func</span>&nbsp;<span class="op" id="7621971">(</span><span class="ident" id="7621972">a</span>&nbsp;<span class="op" id="7621974">*</span><span class="ident" id="7621975">matrix</span><span class="op" id="7621981">)</span>&nbsp;<span class="ident" id="7621983">String</span><span class="op" id="7621989">(</span><span class="op" id="7621990">)</span>&nbsp;<span class="builtintype" id="7621992">string</span>&nbsp;<span class="op" id="7621999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622002">s</span>&nbsp;<span class="op" id="7622004">:=</span>&nbsp;<span class="string" id="7622007">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622011">for</span>&nbsp;<span class="ident" id="7622015">i</span>&nbsp;<span class="op" id="7622017">:=</span>&nbsp;<span class="num" id="7622020">0</span><span class="op" id="7622021">;</span>&nbsp;<span class="ident" id="7622023">i</span>&nbsp;<span class="op" id="7622025">&lt;</span>&nbsp;<span class="ident" id="7622027">a</span><span class="op" id="7622028">.</span><span class="ident" id="7622029">n</span><span class="op" id="7622030">;</span>&nbsp;<span class="ident" id="7622032">i</span><span class="op" id="7622033">++</span>&nbsp;<span class="op" id="7622036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622040">for</span>&nbsp;<span class="ident" id="7622044">j</span>&nbsp;<span class="op" id="7622046">:=</span>&nbsp;<span class="num" id="7622049">0</span><span class="op" id="7622050">;</span>&nbsp;<span class="ident" id="7622052">j</span>&nbsp;<span class="op" id="7622054">&lt;</span>&nbsp;<span class="ident" id="7622056">a</span><span class="op" id="7622057">.</span><span class="ident" id="7622058">m</span><span class="op" id="7622059">;</span>&nbsp;<span class="ident" id="7622061">j</span><span class="op" id="7622062">++</span>&nbsp;<span class="op" id="7622065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622070">s</span>&nbsp;<span class="op" id="7622072">+=</span>&nbsp;<span class="ident" id="7622075">fmt</span><span class="op" id="7622078">.</span><span class="ident" id="7622079">Sprintf</span><span class="op" id="7622086">(</span><span class="string" id="7622087">&#34;\t%s&#34;</span><span class="op" id="7622093">,</span>&nbsp;<span class="ident" id="7622095">a</span><span class="op" id="7622096">.</span><span class="ident" id="7622097">at</span><span class="op" id="7622099">(</span><span class="ident" id="7622100">i</span><span class="op" id="7622101">,</span>&nbsp;<span class="ident" id="7622103">j</span><span class="op" id="7622104">)</span><span class="op" id="7622105">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622113">s</span>&nbsp;<span class="op" id="7622115">+=</span>&nbsp;<span class="string" id="7622118">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622127">return</span>&nbsp;<span class="ident" id="7622134">s</span><br>
<span class="lineno"></span><span class="op" id="7622136">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7622139">func</span>&nbsp;<span class="ident" id="7622144">doHilbert</span><span class="op" id="7622153">(</span><span class="ident" id="7622154">t</span>&nbsp;<span class="op" id="7622156">*</span><span class="ident" id="7622157">testing</span><span class="op" id="7622164">.</span><span class="ident" id="7622165">T</span><span class="op" id="7622166">,</span>&nbsp;<span class="ident" id="7622168">n</span>&nbsp;<span class="builtintype" id="7622170">int</span><span class="op" id="7622173">)</span>&nbsp;<span class="op" id="7622175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622178">a</span>&nbsp;<span class="op" id="7622180">:=</span>&nbsp;<span class="ident" id="7622183">newHilbert</span><span class="op" id="7622193">(</span><span class="ident" id="7622194">n</span><span class="op" id="7622195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622198">b</span>&nbsp;<span class="op" id="7622200">:=</span>&nbsp;<span class="ident" id="7622203">newInverseHilbert</span><span class="op" id="7622220">(</span><span class="ident" id="7622221">n</span><span class="op" id="7622222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622225">I</span>&nbsp;<span class="op" id="7622227">:=</span>&nbsp;<span class="ident" id="7622230">newUnit</span><span class="op" id="7622237">(</span><span class="ident" id="7622238">n</span><span class="op" id="7622239">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622242">ab</span>&nbsp;<span class="op" id="7622245">:=</span>&nbsp;<span class="ident" id="7622248">a</span><span class="op" id="7622249">.</span><span class="ident" id="7622250">mul</span><span class="op" id="7622253">(</span><span class="ident" id="7622254">b</span><span class="op" id="7622255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622258">if</span>&nbsp;<span class="op" id="7622261">!</span><span class="ident" id="7622262">ab</span><span class="op" id="7622264">.</span><span class="ident" id="7622265">eql</span><span class="op" id="7622268">(</span><span class="ident" id="7622269">I</span><span class="op" id="7622270">)</span>&nbsp;<span class="op" id="7622272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622276">if</span>&nbsp;<span class="ident" id="7622279">t</span>&nbsp;<span class="op" id="7622281">==</span>&nbsp;<span class="builtintype" id="7622284">nil</span>&nbsp;<span class="op" id="7622288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7622293">panic</span><span class="op" id="7622298">(</span><span class="string" id="7622299">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7622315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622319">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622323">t</span><span class="op" id="7622324">.</span><span class="ident" id="7622325">Errorf</span><span class="op" id="7622331">(</span><span class="string" id="7622332">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7622344">,</span>&nbsp;<span class="ident" id="7622346">a</span><span class="op" id="7622347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622351">t</span><span class="op" id="7622352">.</span><span class="ident" id="7622353">Errorf</span><span class="op" id="7622359">(</span><span class="string" id="7622360">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7622372">,</span>&nbsp;<span class="ident" id="7622374">b</span><span class="op" id="7622375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622379">t</span><span class="op" id="7622380">.</span><span class="ident" id="7622381">Errorf</span><span class="op" id="7622387">(</span><span class="string" id="7622388">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7622400">,</span>&nbsp;<span class="ident" id="7622402">ab</span><span class="op" id="7622404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622408">t</span><span class="op" id="7622409">.</span><span class="ident" id="7622410">Errorf</span><span class="op" id="7622416">(</span><span class="string" id="7622417">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7622429">,</span>&nbsp;<span class="ident" id="7622431">I</span><span class="op" id="7622432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622435">}</span><br>
<span class="lineno">150</span><span class="op" id="7622437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7622440">func</span>&nbsp;<span class="ident" id="7622445">TestHilbert</span><span class="op" id="7622456">(</span><span class="ident" id="7622457">t</span>&nbsp;<span class="op" id="7622459">*</span><span class="ident" id="7622460">testing</span><span class="op" id="7622467">.</span><span class="ident" id="7622468">T</span><span class="op" id="7622469">)</span>&nbsp;<span class="op" id="7622471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622474">doHilbert</span><span class="op" id="7622483">(</span><span class="ident" id="7622484">t</span><span class="op" id="7622485">,</span>&nbsp;<span class="num" id="7622487">10</span><span class="op" id="7622489">)</span><br>
<span class="lineno"></span><span class="op" id="7622491">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7622494">func</span>&nbsp;<span class="ident" id="7622499">BenchmarkHilbert</span><span class="op" id="7622515">(</span><span class="ident" id="7622516">b</span>&nbsp;<span class="op" id="7622518">*</span><span class="ident" id="7622519">testing</span><span class="op" id="7622526">.</span><span class="ident" id="7622527">B</span><span class="op" id="7622528">)</span>&nbsp;<span class="op" id="7622530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622533">for</span>&nbsp;<span class="ident" id="7622537">i</span>&nbsp;<span class="op" id="7622539">:=</span>&nbsp;<span class="num" id="7622542">0</span><span class="op" id="7622543">;</span>&nbsp;<span class="ident" id="7622545">i</span>&nbsp;<span class="op" id="7622547">&lt;</span>&nbsp;<span class="ident" id="7622549">b</span><span class="op" id="7622550">.</span><span class="ident" id="7622551">N</span><span class="op" id="7622552">;</span>&nbsp;<span class="ident" id="7622554">i</span><span class="op" id="7622555">++</span>&nbsp;<span class="op" id="7622558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622562">doHilbert</span><span class="op" id="7622571">(</span><span class="builtintype" id="7622572">nil</span><span class="op" id="7622575">,</span>&nbsp;<span class="num" id="7622577">10</span><span class="op" id="7622579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622582">}</span><br>
<span class="lineno">160</span><span class="op" id="7622584">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
