<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4974042">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4974098">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4974152">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4974203">package</span>&nbsp;<span class="ident" id="4974211">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4974217">import</span>&nbsp;<span class="op" id="4974224">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4974227">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4974236">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span><span class="op" id="4974254">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4974257">//&nbsp;The&nbsp;algorithm&nbsp;uses&nbsp;at&nbsp;most&nbsp;sniffLen&nbsp;bytes&nbsp;to&nbsp;make&nbsp;its&nbsp;decision.</span><br>
<span class="lineno"></span><span class="keyword" id="4974324">const</span>&nbsp;<span class="ident" id="4974330">sniffLen</span>&nbsp;<span class="op" id="4974339">=</span>&nbsp;<span class="num" id="4974341">512</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4974346">//&nbsp;DetectContentType&nbsp;implements&nbsp;the&nbsp;algorithm&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="4974402">//&nbsp;at&nbsp;http://mimesniff.spec.whatwg.org/&nbsp;to&nbsp;determine&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4974459">//&nbsp;Content-Type&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;&nbsp;It&nbsp;considers&nbsp;at&nbsp;most&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4974520">//&nbsp;first&nbsp;512&nbsp;bytes&nbsp;of&nbsp;data.&nbsp;&nbsp;DetectContentType&nbsp;always&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="4974582">//&nbsp;a&nbsp;valid&nbsp;MIME&nbsp;type:&nbsp;if&nbsp;it&nbsp;cannot&nbsp;determine&nbsp;a&nbsp;more&nbsp;specific&nbsp;one,&nbsp;it</span><br>
<span class="lineno">20</span><span class="comment" id="4974651">//&nbsp;returns&nbsp;&#34;application/octet-stream&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="4974690">func</span>&nbsp;<span class="ident" id="4974695">DetectContentType</span><span class="op" id="4974712">(</span><span class="ident" id="4974713">data</span>&nbsp;<span class="op" id="4974718">[</span><span class="op" id="4974719">]</span><span class="builtintype" id="4974720">byte</span><span class="op" id="4974724">)</span>&nbsp;<span class="builtintype" id="4974726">string</span>&nbsp;<span class="op" id="4974733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4974736">if</span>&nbsp;<span class="builtinfunc" id="4974739">len</span><span class="op" id="4974742">(</span><span class="ident" id="4974743">data</span><span class="op" id="4974747">)</span>&nbsp;<span class="op" id="4974749">&gt;</span>&nbsp;<span class="ident" id="4974751">sniffLen</span>&nbsp;<span class="op" id="4974760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4974764">data</span>&nbsp;<span class="op" id="4974769">=</span>&nbsp;<span class="ident" id="4974771">data</span><span class="op" id="4974775">[</span><span class="op" id="4974776">:</span><span class="ident" id="4974777">sniffLen</span><span class="op" id="4974785">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4974788">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4974792">//&nbsp;Index&nbsp;of&nbsp;the&nbsp;first&nbsp;non-whitespace&nbsp;byte&nbsp;in&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4974844">firstNonWS</span>&nbsp;<span class="op" id="4974855">:=</span>&nbsp;<span class="num" id="4974858">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4974861">for</span>&nbsp;<span class="op" id="4974865">;</span>&nbsp;<span class="ident" id="4974867">firstNonWS</span>&nbsp;<span class="op" id="4974878">&lt;</span>&nbsp;<span class="builtinfunc" id="4974880">len</span><span class="op" id="4974883">(</span><span class="ident" id="4974884">data</span><span class="op" id="4974888">)</span>&nbsp;<span class="op" id="4974890">&amp;&amp;</span>&nbsp;<span class="ident" id="4974893">isWS</span><span class="op" id="4974897">(</span><span class="ident" id="4974898">data</span><span class="op" id="4974902">[</span><span class="ident" id="4974903">firstNonWS</span><span class="op" id="4974913">]</span><span class="op" id="4974914">)</span><span class="op" id="4974915">;</span>&nbsp;<span class="ident" id="4974917">firstNonWS</span><span class="op" id="4974927">++</span>&nbsp;<span class="op" id="4974930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4974933">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4974937">for</span>&nbsp;<span class="ident" id="4974941">_</span><span class="op" id="4974942">,</span>&nbsp;<span class="ident" id="4974944">sig</span>&nbsp;<span class="op" id="4974948">:=</span>&nbsp;<span class="keyword" id="4974951">range</span>&nbsp;<span class="ident" id="4974957">sniffSignatures</span>&nbsp;<span class="op" id="4974973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4974977">if</span>&nbsp;<span class="ident" id="4974980">ct</span>&nbsp;<span class="op" id="4974983">:=</span>&nbsp;<span class="ident" id="4974986">sig</span><span class="op" id="4974989">.</span><span class="ident" id="4974990">match</span><span class="op" id="4974995">(</span><span class="ident" id="4974996">data</span><span class="op" id="4975000">,</span>&nbsp;<span class="ident" id="4975002">firstNonWS</span><span class="op" id="4975012">)</span><span class="op" id="4975013">;</span>&nbsp;<span class="ident" id="4975015">ct</span>&nbsp;<span class="op" id="4975018">!=</span>&nbsp;<span class="string" id="4975021">&#34;&#34;</span>&nbsp;<span class="op" id="4975024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4975029">return</span>&nbsp;<span class="ident" id="4975036">ct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4975041">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4975044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4975048">return</span>&nbsp;<span class="string" id="4975055">&#34;application/octet-stream&#34;</span>&nbsp;<span class="comment" id="4975082">//&nbsp;fallback</span><br>
<span class="lineno"></span><span class="op" id="4975094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="4975097">func</span>&nbsp;<span class="ident" id="4975102">isWS</span><span class="op" id="4975106">(</span><span class="ident" id="4975107">b</span>&nbsp;<span class="builtintype" id="4975109">byte</span><span class="op" id="4975113">)</span>&nbsp;<span class="builtintype" id="4975115">bool</span>&nbsp;<span class="op" id="4975120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4975123">return</span>&nbsp;<span class="ident" id="4975130">bytes</span><span class="op" id="4975135">.</span><span class="ident" id="4975136">IndexByte</span><span class="op" id="4975145">(</span><span class="op" id="4975146">[</span><span class="op" id="4975147">]</span><span class="builtintype" id="4975148">byte</span><span class="op" id="4975152">(</span><span class="string" id="4975153">&#34;\t\n\x0C\r&nbsp;&#34;</span><span class="op" id="4975166">)</span><span class="op" id="4975167">,</span>&nbsp;<span class="ident" id="4975169">b</span><span class="op" id="4975170">)</span>&nbsp;<span class="op" id="4975172">!=</span>&nbsp;<span class="op" id="4975175">-</span><span class="num" id="4975176">1</span><br>
<span class="lineno"></span><span class="op" id="4975178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4975181">type</span>&nbsp;<span class="ident" id="4975186">sniffSig</span>&nbsp;<span class="keyword" id="4975195">interface</span>&nbsp;<span class="op" id="4975205">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4975208">//&nbsp;match&nbsp;returns&nbsp;the&nbsp;MIME&nbsp;type&nbsp;of&nbsp;the&nbsp;data,&nbsp;or&nbsp;&#34;&#34;&nbsp;if&nbsp;unknown.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975271">match</span><span class="op" id="4975276">(</span><span class="ident" id="4975277">data</span>&nbsp;<span class="op" id="4975282">[</span><span class="op" id="4975283">]</span><span class="builtintype" id="4975284">byte</span><span class="op" id="4975288">,</span>&nbsp;<span class="ident" id="4975290">firstNonWS</span>&nbsp;<span class="builtintype" id="4975301">int</span><span class="op" id="4975304">)</span>&nbsp;<span class="builtintype" id="4975306">string</span><br>
<span class="lineno"></span><span class="op" id="4975313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4975316">//&nbsp;Data&nbsp;matching&nbsp;the&nbsp;table&nbsp;in&nbsp;section&nbsp;6.</span><br>
<span class="lineno">50</span><span class="keyword" id="4975357">var</span>&nbsp;<span class="ident" id="4975361">sniffSignatures</span>&nbsp;<span class="op" id="4975377">=</span>&nbsp;<span class="op" id="4975379">[</span><span class="op" id="4975380">]</span><span class="ident" id="4975381">sniffSig</span><span class="op" id="4975389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975392">htmlSig</span><span class="op" id="4975399">(</span><span class="string" id="4975400">&#34;&lt;!DOCTYPE&nbsp;HTML&#34;</span><span class="op" id="4975416">)</span><span class="op" id="4975417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975420">htmlSig</span><span class="op" id="4975427">(</span><span class="string" id="4975428">&#34;&lt;HTML&#34;</span><span class="op" id="4975435">)</span><span class="op" id="4975436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975439">htmlSig</span><span class="op" id="4975446">(</span><span class="string" id="4975447">&#34;&lt;HEAD&#34;</span><span class="op" id="4975454">)</span><span class="op" id="4975455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975458">htmlSig</span><span class="op" id="4975465">(</span><span class="string" id="4975466">&#34;&lt;SCRIPT&#34;</span><span class="op" id="4975475">)</span><span class="op" id="4975476">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975479">htmlSig</span><span class="op" id="4975486">(</span><span class="string" id="4975487">&#34;&lt;IFRAME&#34;</span><span class="op" id="4975496">)</span><span class="op" id="4975497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975500">htmlSig</span><span class="op" id="4975507">(</span><span class="string" id="4975508">&#34;&lt;H1&#34;</span><span class="op" id="4975513">)</span><span class="op" id="4975514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975517">htmlSig</span><span class="op" id="4975524">(</span><span class="string" id="4975525">&#34;&lt;DIV&#34;</span><span class="op" id="4975531">)</span><span class="op" id="4975532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975535">htmlSig</span><span class="op" id="4975542">(</span><span class="string" id="4975543">&#34;&lt;FONT&#34;</span><span class="op" id="4975550">)</span><span class="op" id="4975551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975554">htmlSig</span><span class="op" id="4975561">(</span><span class="string" id="4975562">&#34;&lt;TABLE&#34;</span><span class="op" id="4975570">)</span><span class="op" id="4975571">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975574">htmlSig</span><span class="op" id="4975581">(</span><span class="string" id="4975582">&#34;&lt;A&#34;</span><span class="op" id="4975586">)</span><span class="op" id="4975587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975590">htmlSig</span><span class="op" id="4975597">(</span><span class="string" id="4975598">&#34;&lt;STYLE&#34;</span><span class="op" id="4975606">)</span><span class="op" id="4975607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975610">htmlSig</span><span class="op" id="4975617">(</span><span class="string" id="4975618">&#34;&lt;TITLE&#34;</span><span class="op" id="4975626">)</span><span class="op" id="4975627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975630">htmlSig</span><span class="op" id="4975637">(</span><span class="string" id="4975638">&#34;&lt;B&#34;</span><span class="op" id="4975642">)</span><span class="op" id="4975643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975646">htmlSig</span><span class="op" id="4975653">(</span><span class="string" id="4975654">&#34;&lt;BODY&#34;</span><span class="op" id="4975661">)</span><span class="op" id="4975662">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975665">htmlSig</span><span class="op" id="4975672">(</span><span class="string" id="4975673">&#34;&lt;BR&#34;</span><span class="op" id="4975678">)</span><span class="op" id="4975679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975682">htmlSig</span><span class="op" id="4975689">(</span><span class="string" id="4975690">&#34;&lt;P&#34;</span><span class="op" id="4975694">)</span><span class="op" id="4975695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4975698">htmlSig</span><span class="op" id="4975705">(</span><span class="string" id="4975706">&#34;&lt;!--&#34;</span><span class="op" id="4975712">)</span><span class="op" id="4975713">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4975717">&amp;</span><span class="ident" id="4975718">maskedSig</span><span class="op" id="4975727">{</span><span class="ident" id="4975728">mask</span><span class="op" id="4975732">:</span>&nbsp;<span class="op" id="4975734">[</span><span class="op" id="4975735">]</span><span class="builtintype" id="4975736">byte</span><span class="op" id="4975740">(</span><span class="string" id="4975741">&#34;\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="4975763">)</span><span class="op" id="4975764">,</span>&nbsp;<span class="ident" id="4975766">pat</span><span class="op" id="4975769">:</span>&nbsp;<span class="op" id="4975771">[</span><span class="op" id="4975772">]</span><span class="builtintype" id="4975773">byte</span><span class="op" id="4975777">(</span><span class="string" id="4975778">&#34;&lt;?xml&#34;</span><span class="op" id="4975785">)</span><span class="op" id="4975786">,</span>&nbsp;<span class="ident" id="4975788">skipWS</span><span class="op" id="4975794">:</span>&nbsp;<span class="builtintype" id="4975796">true</span><span class="op" id="4975800">,</span>&nbsp;<span class="ident" id="4975802">ct</span><span class="op" id="4975804">:</span>&nbsp;<span class="string" id="4975806">&#34;text/xml;&nbsp;charset=utf-8&#34;</span><span class="op" id="4975831">}</span><span class="op" id="4975832">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4975836">&amp;</span><span class="ident" id="4975837">exactSig</span><span class="op" id="4975845">{</span><span class="op" id="4975846">[</span><span class="op" id="4975847">]</span><span class="builtintype" id="4975848">byte</span><span class="op" id="4975852">(</span><span class="string" id="4975853">&#34;%PDF-&#34;</span><span class="op" id="4975860">)</span><span class="op" id="4975861">,</span>&nbsp;<span class="string" id="4975863">&#34;application/pdf&#34;</span><span class="op" id="4975880">}</span><span class="op" id="4975881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4975884">&amp;</span><span class="ident" id="4975885">exactSig</span><span class="op" id="4975893">{</span><span class="op" id="4975894">[</span><span class="op" id="4975895">]</span><span class="builtintype" id="4975896">byte</span><span class="op" id="4975900">(</span><span class="string" id="4975901">&#34;%!PS-Adobe-&#34;</span><span class="op" id="4975914">)</span><span class="op" id="4975915">,</span>&nbsp;<span class="string" id="4975917">&#34;application/postscript&#34;</span><span class="op" id="4975941">}</span><span class="op" id="4975942">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4975946">//&nbsp;UTF&nbsp;BOMs.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4975960">&amp;</span><span class="ident" id="4975961">maskedSig</span><span class="op" id="4975970">{</span><span class="ident" id="4975971">mask</span><span class="op" id="4975975">:</span>&nbsp;<span class="op" id="4975977">[</span><span class="op" id="4975978">]</span><span class="builtintype" id="4975979">byte</span><span class="op" id="4975983">(</span><span class="string" id="4975984">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="4976002">)</span><span class="op" id="4976003">,</span>&nbsp;<span class="ident" id="4976005">pat</span><span class="op" id="4976008">:</span>&nbsp;<span class="op" id="4976010">[</span><span class="op" id="4976011">]</span><span class="builtintype" id="4976012">byte</span><span class="op" id="4976016">(</span><span class="string" id="4976017">&#34;\xFE\xFF\x00\x00&#34;</span><span class="op" id="4976035">)</span><span class="op" id="4976036">,</span>&nbsp;<span class="ident" id="4976038">ct</span><span class="op" id="4976040">:</span>&nbsp;<span class="string" id="4976042">&#34;text/plain;&nbsp;charset=utf-16be&#34;</span><span class="op" id="4976072">}</span><span class="op" id="4976073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976076">&amp;</span><span class="ident" id="4976077">maskedSig</span><span class="op" id="4976086">{</span><span class="ident" id="4976087">mask</span><span class="op" id="4976091">:</span>&nbsp;<span class="op" id="4976093">[</span><span class="op" id="4976094">]</span><span class="builtintype" id="4976095">byte</span><span class="op" id="4976099">(</span><span class="string" id="4976100">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="4976118">)</span><span class="op" id="4976119">,</span>&nbsp;<span class="ident" id="4976121">pat</span><span class="op" id="4976124">:</span>&nbsp;<span class="op" id="4976126">[</span><span class="op" id="4976127">]</span><span class="builtintype" id="4976128">byte</span><span class="op" id="4976132">(</span><span class="string" id="4976133">&#34;\xFF\xFE\x00\x00&#34;</span><span class="op" id="4976151">)</span><span class="op" id="4976152">,</span>&nbsp;<span class="ident" id="4976154">ct</span><span class="op" id="4976156">:</span>&nbsp;<span class="string" id="4976158">&#34;text/plain;&nbsp;charset=utf-16le&#34;</span><span class="op" id="4976188">}</span><span class="op" id="4976189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976192">&amp;</span><span class="ident" id="4976193">maskedSig</span><span class="op" id="4976202">{</span><span class="ident" id="4976203">mask</span><span class="op" id="4976207">:</span>&nbsp;<span class="op" id="4976209">[</span><span class="op" id="4976210">]</span><span class="builtintype" id="4976211">byte</span><span class="op" id="4976215">(</span><span class="string" id="4976216">&#34;\xFF\xFF\xFF\x00&#34;</span><span class="op" id="4976234">)</span><span class="op" id="4976235">,</span>&nbsp;<span class="ident" id="4976237">pat</span><span class="op" id="4976240">:</span>&nbsp;<span class="op" id="4976242">[</span><span class="op" id="4976243">]</span><span class="builtintype" id="4976244">byte</span><span class="op" id="4976248">(</span><span class="string" id="4976249">&#34;\xEF\xBB\xBF\x00&#34;</span><span class="op" id="4976267">)</span><span class="op" id="4976268">,</span>&nbsp;<span class="ident" id="4976270">ct</span><span class="op" id="4976272">:</span>&nbsp;<span class="string" id="4976274">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="4976301">}</span><span class="op" id="4976302">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976306">&amp;</span><span class="ident" id="4976307">exactSig</span><span class="op" id="4976315">{</span><span class="op" id="4976316">[</span><span class="op" id="4976317">]</span><span class="builtintype" id="4976318">byte</span><span class="op" id="4976322">(</span><span class="string" id="4976323">&#34;GIF87a&#34;</span><span class="op" id="4976331">)</span><span class="op" id="4976332">,</span>&nbsp;<span class="string" id="4976334">&#34;image/gif&#34;</span><span class="op" id="4976345">}</span><span class="op" id="4976346">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976349">&amp;</span><span class="ident" id="4976350">exactSig</span><span class="op" id="4976358">{</span><span class="op" id="4976359">[</span><span class="op" id="4976360">]</span><span class="builtintype" id="4976361">byte</span><span class="op" id="4976365">(</span><span class="string" id="4976366">&#34;GIF89a&#34;</span><span class="op" id="4976374">)</span><span class="op" id="4976375">,</span>&nbsp;<span class="string" id="4976377">&#34;image/gif&#34;</span><span class="op" id="4976388">}</span><span class="op" id="4976389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976392">&amp;</span><span class="ident" id="4976393">exactSig</span><span class="op" id="4976401">{</span><span class="op" id="4976402">[</span><span class="op" id="4976403">]</span><span class="builtintype" id="4976404">byte</span><span class="op" id="4976408">(</span><span class="string" id="4976409">&#34;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&#34;</span><span class="op" id="4976443">)</span><span class="op" id="4976444">,</span>&nbsp;<span class="string" id="4976446">&#34;image/png&#34;</span><span class="op" id="4976457">}</span><span class="op" id="4976458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976461">&amp;</span><span class="ident" id="4976462">exactSig</span><span class="op" id="4976470">{</span><span class="op" id="4976471">[</span><span class="op" id="4976472">]</span><span class="builtintype" id="4976473">byte</span><span class="op" id="4976477">(</span><span class="string" id="4976478">&#34;\xFF\xD8\xFF&#34;</span><span class="op" id="4976492">)</span><span class="op" id="4976493">,</span>&nbsp;<span class="string" id="4976495">&#34;image/jpeg&#34;</span><span class="op" id="4976507">}</span><span class="op" id="4976508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976511">&amp;</span><span class="ident" id="4976512">exactSig</span><span class="op" id="4976520">{</span><span class="op" id="4976521">[</span><span class="op" id="4976522">]</span><span class="builtintype" id="4976523">byte</span><span class="op" id="4976527">(</span><span class="string" id="4976528">&#34;BM&#34;</span><span class="op" id="4976532">)</span><span class="op" id="4976533">,</span>&nbsp;<span class="string" id="4976535">&#34;image/bmp&#34;</span><span class="op" id="4976546">}</span><span class="op" id="4976547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976550">&amp;</span><span class="ident" id="4976551">maskedSig</span><span class="op" id="4976560">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4976564">mask</span><span class="op" id="4976568">:</span>&nbsp;<span class="op" id="4976570">[</span><span class="op" id="4976571">]</span><span class="builtintype" id="4976572">byte</span><span class="op" id="4976576">(</span><span class="string" id="4976577">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="4976635">)</span><span class="op" id="4976636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4976640">pat</span><span class="op" id="4976643">:</span>&nbsp;&nbsp;<span class="op" id="4976646">[</span><span class="op" id="4976647">]</span><span class="builtintype" id="4976648">byte</span><span class="op" id="4976652">(</span><span class="string" id="4976653">&#34;RIFF\x00\x00\x00\x00WEBPVP&#34;</span><span class="op" id="4976681">)</span><span class="op" id="4976682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4976686">ct</span><span class="op" id="4976688">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="4976692">&#34;image/webp&#34;</span><span class="op" id="4976704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976707">}</span><span class="op" id="4976708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976711">&amp;</span><span class="ident" id="4976712">exactSig</span><span class="op" id="4976720">{</span><span class="op" id="4976721">[</span><span class="op" id="4976722">]</span><span class="builtintype" id="4976723">byte</span><span class="op" id="4976727">(</span><span class="string" id="4976728">&#34;\x00\x00\x01\x00&#34;</span><span class="op" id="4976746">)</span><span class="op" id="4976747">,</span>&nbsp;<span class="string" id="4976749">&#34;image/vnd.microsoft.icon&#34;</span><span class="op" id="4976775">}</span><span class="op" id="4976776">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976779">&amp;</span><span class="ident" id="4976780">exactSig</span><span class="op" id="4976788">{</span><span class="op" id="4976789">[</span><span class="op" id="4976790">]</span><span class="builtintype" id="4976791">byte</span><span class="op" id="4976795">(</span><span class="string" id="4976796">&#34;\x4F\x67\x67\x53\x00&#34;</span><span class="op" id="4976818">)</span><span class="op" id="4976819">,</span>&nbsp;<span class="string" id="4976821">&#34;application/ogg&#34;</span><span class="op" id="4976838">}</span><span class="op" id="4976839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976842">&amp;</span><span class="ident" id="4976843">maskedSig</span><span class="op" id="4976852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4976856">mask</span><span class="op" id="4976860">:</span>&nbsp;<span class="op" id="4976862">[</span><span class="op" id="4976863">]</span><span class="builtintype" id="4976864">byte</span><span class="op" id="4976868">(</span><span class="string" id="4976869">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="4976919">)</span><span class="op" id="4976920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4976924">pat</span><span class="op" id="4976927">:</span>&nbsp;&nbsp;<span class="op" id="4976930">[</span><span class="op" id="4976931">]</span><span class="builtintype" id="4976932">byte</span><span class="op" id="4976936">(</span><span class="string" id="4976937">&#34;RIFF\x00\x00\x00\x00WAVE&#34;</span><span class="op" id="4976963">)</span><span class="op" id="4976964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4976968">ct</span><span class="op" id="4976970">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="4976974">&#34;audio/wave&#34;</span><span class="op" id="4976986">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976989">}</span><span class="op" id="4976990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4976993">&amp;</span><span class="ident" id="4976994">exactSig</span><span class="op" id="4977002">{</span><span class="op" id="4977003">[</span><span class="op" id="4977004">]</span><span class="builtintype" id="4977005">byte</span><span class="op" id="4977009">(</span><span class="string" id="4977010">&#34;\x1A\x45\xDF\xA3&#34;</span><span class="op" id="4977028">)</span><span class="op" id="4977029">,</span>&nbsp;<span class="string" id="4977031">&#34;video/webm&#34;</span><span class="op" id="4977043">}</span><span class="op" id="4977044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4977047">&amp;</span><span class="ident" id="4977048">exactSig</span><span class="op" id="4977056">{</span><span class="op" id="4977057">[</span><span class="op" id="4977058">]</span><span class="builtintype" id="4977059">byte</span><span class="op" id="4977063">(</span><span class="string" id="4977064">&#34;\x52\x61\x72\x20\x1A\x07\x00&#34;</span><span class="op" id="4977094">)</span><span class="op" id="4977095">,</span>&nbsp;<span class="string" id="4977097">&#34;application/x-rar-compressed&#34;</span><span class="op" id="4977127">}</span><span class="op" id="4977128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4977131">&amp;</span><span class="ident" id="4977132">exactSig</span><span class="op" id="4977140">{</span><span class="op" id="4977141">[</span><span class="op" id="4977142">]</span><span class="builtintype" id="4977143">byte</span><span class="op" id="4977147">(</span><span class="string" id="4977148">&#34;\x50\x4B\x03\x04&#34;</span><span class="op" id="4977166">)</span><span class="op" id="4977167">,</span>&nbsp;<span class="string" id="4977169">&#34;application/zip&#34;</span><span class="op" id="4977186">}</span><span class="op" id="4977187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4977190">&amp;</span><span class="ident" id="4977191">exactSig</span><span class="op" id="4977199">{</span><span class="op" id="4977200">[</span><span class="op" id="4977201">]</span><span class="builtintype" id="4977202">byte</span><span class="op" id="4977206">(</span><span class="string" id="4977207">&#34;\x1F\x8B\x08&#34;</span><span class="op" id="4977221">)</span><span class="op" id="4977222">,</span>&nbsp;<span class="string" id="4977224">&#34;application/x-gzip&#34;</span><span class="op" id="4977244">}</span><span class="op" id="4977245">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4977249">//&nbsp;TODO(dsymonds):&nbsp;Re-enable&nbsp;this&nbsp;when&nbsp;the&nbsp;spec&nbsp;is&nbsp;sorted&nbsp;w.r.t.&nbsp;MP4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4977320">//mp4Sig(0),</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977335">textSig</span><span class="op" id="4977342">(</span><span class="num" id="4977343">0</span><span class="op" id="4977344">)</span><span class="op" id="4977345">,</span>&nbsp;<span class="comment" id="4977347">//&nbsp;should&nbsp;be&nbsp;last</span><br>
<span class="lineno">105</span><span class="op" id="4977365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4977368">type</span>&nbsp;<span class="ident" id="4977373">exactSig</span>&nbsp;<span class="keyword" id="4977382">struct</span>&nbsp;<span class="op" id="4977389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977392">sig</span>&nbsp;<span class="op" id="4977396">[</span><span class="op" id="4977397">]</span><span class="builtintype" id="4977398">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977404">ct</span>&nbsp;&nbsp;<span class="builtintype" id="4977408">string</span><br>
<span class="lineno">110</span><span class="op" id="4977415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4977418">func</span>&nbsp;<span class="op" id="4977423">(</span><span class="ident" id="4977424">e</span>&nbsp;<span class="op" id="4977426">*</span><span class="ident" id="4977427">exactSig</span><span class="op" id="4977435">)</span>&nbsp;<span class="ident" id="4977437">match</span><span class="op" id="4977442">(</span><span class="ident" id="4977443">data</span>&nbsp;<span class="op" id="4977448">[</span><span class="op" id="4977449">]</span><span class="builtintype" id="4977450">byte</span><span class="op" id="4977454">,</span>&nbsp;<span class="ident" id="4977456">firstNonWS</span>&nbsp;<span class="builtintype" id="4977467">int</span><span class="op" id="4977470">)</span>&nbsp;<span class="builtintype" id="4977472">string</span>&nbsp;<span class="op" id="4977479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977482">if</span>&nbsp;<span class="ident" id="4977485">bytes</span><span class="op" id="4977490">.</span><span class="ident" id="4977491">HasPrefix</span><span class="op" id="4977500">(</span><span class="ident" id="4977501">data</span><span class="op" id="4977505">,</span>&nbsp;<span class="ident" id="4977507">e</span><span class="op" id="4977508">.</span><span class="ident" id="4977509">sig</span><span class="op" id="4977512">)</span>&nbsp;<span class="op" id="4977514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977518">return</span>&nbsp;<span class="ident" id="4977525">e</span><span class="op" id="4977526">.</span><span class="ident" id="4977527">ct</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4977531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977534">return</span>&nbsp;<span class="string" id="4977541">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="4977544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4977547">type</span>&nbsp;<span class="ident" id="4977552">maskedSig</span>&nbsp;<span class="keyword" id="4977562">struct</span>&nbsp;<span class="op" id="4977569">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977572">mask</span><span class="op" id="4977576">,</span>&nbsp;<span class="ident" id="4977578">pat</span>&nbsp;<span class="op" id="4977582">[</span><span class="op" id="4977583">]</span><span class="builtintype" id="4977584">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977590">skipWS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4977600">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977606">ct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4977616">string</span><br>
<span class="lineno"></span><span class="op" id="4977623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4977626">func</span>&nbsp;<span class="op" id="4977631">(</span><span class="ident" id="4977632">m</span>&nbsp;<span class="op" id="4977634">*</span><span class="ident" id="4977635">maskedSig</span><span class="op" id="4977644">)</span>&nbsp;<span class="ident" id="4977646">match</span><span class="op" id="4977651">(</span><span class="ident" id="4977652">data</span>&nbsp;<span class="op" id="4977657">[</span><span class="op" id="4977658">]</span><span class="builtintype" id="4977659">byte</span><span class="op" id="4977663">,</span>&nbsp;<span class="ident" id="4977665">firstNonWS</span>&nbsp;<span class="builtintype" id="4977676">int</span><span class="op" id="4977679">)</span>&nbsp;<span class="builtintype" id="4977681">string</span>&nbsp;<span class="op" id="4977688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977691">if</span>&nbsp;<span class="ident" id="4977694">m</span><span class="op" id="4977695">.</span><span class="ident" id="4977696">skipWS</span>&nbsp;<span class="op" id="4977703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977707">data</span>&nbsp;<span class="op" id="4977712">=</span>&nbsp;<span class="ident" id="4977714">data</span><span class="op" id="4977718">[</span><span class="ident" id="4977719">firstNonWS</span><span class="op" id="4977729">:</span><span class="op" id="4977730">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4977733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977736">if</span>&nbsp;<span class="builtinfunc" id="4977739">len</span><span class="op" id="4977742">(</span><span class="ident" id="4977743">data</span><span class="op" id="4977747">)</span>&nbsp;<span class="op" id="4977749">&lt;</span>&nbsp;<span class="builtinfunc" id="4977751">len</span><span class="op" id="4977754">(</span><span class="ident" id="4977755">m</span><span class="op" id="4977756">.</span><span class="ident" id="4977757">mask</span><span class="op" id="4977761">)</span>&nbsp;<span class="op" id="4977763">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977767">return</span>&nbsp;<span class="string" id="4977774">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4977778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977781">for</span>&nbsp;<span class="ident" id="4977785">i</span><span class="op" id="4977786">,</span>&nbsp;<span class="ident" id="4977788">mask</span>&nbsp;<span class="op" id="4977793">:=</span>&nbsp;<span class="keyword" id="4977796">range</span>&nbsp;<span class="ident" id="4977802">m</span><span class="op" id="4977803">.</span><span class="ident" id="4977804">mask</span>&nbsp;<span class="op" id="4977809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977813">db</span>&nbsp;<span class="op" id="4977816">:=</span>&nbsp;<span class="ident" id="4977819">data</span><span class="op" id="4977823">[</span><span class="ident" id="4977824">i</span><span class="op" id="4977825">]</span>&nbsp;<span class="op" id="4977827">&amp;</span>&nbsp;<span class="ident" id="4977829">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977836">if</span>&nbsp;<span class="ident" id="4977839">db</span>&nbsp;<span class="op" id="4977842">!=</span>&nbsp;<span class="ident" id="4977845">m</span><span class="op" id="4977846">.</span><span class="ident" id="4977847">pat</span><span class="op" id="4977850">[</span><span class="ident" id="4977851">i</span><span class="op" id="4977852">]</span>&nbsp;<span class="op" id="4977854">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977859">return</span>&nbsp;<span class="string" id="4977866">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4977871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4977874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4977877">return</span>&nbsp;<span class="ident" id="4977884">m</span><span class="op" id="4977885">.</span><span class="ident" id="4977886">ct</span><br>
<span class="lineno"></span><span class="op" id="4977889">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="4977892">type</span>&nbsp;<span class="ident" id="4977897">htmlSig</span>&nbsp;<span class="op" id="4977905">[</span><span class="op" id="4977906">]</span><span class="builtintype" id="4977907">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4977913">func</span>&nbsp;<span class="op" id="4977918">(</span><span class="ident" id="4977919">h</span>&nbsp;<span class="ident" id="4977921">htmlSig</span><span class="op" id="4977928">)</span>&nbsp;<span class="ident" id="4977930">match</span><span class="op" id="4977935">(</span><span class="ident" id="4977936">data</span>&nbsp;<span class="op" id="4977941">[</span><span class="op" id="4977942">]</span><span class="builtintype" id="4977943">byte</span><span class="op" id="4977947">,</span>&nbsp;<span class="ident" id="4977949">firstNonWS</span>&nbsp;<span class="builtintype" id="4977960">int</span><span class="op" id="4977963">)</span>&nbsp;<span class="builtintype" id="4977965">string</span>&nbsp;<span class="op" id="4977972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4977975">data</span>&nbsp;<span class="op" id="4977980">=</span>&nbsp;<span class="ident" id="4977982">data</span><span class="op" id="4977986">[</span><span class="ident" id="4977987">firstNonWS</span><span class="op" id="4977997">:</span><span class="op" id="4977998">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978001">if</span>&nbsp;<span class="builtinfunc" id="4978004">len</span><span class="op" id="4978007">(</span><span class="ident" id="4978008">data</span><span class="op" id="4978012">)</span>&nbsp;<span class="op" id="4978014">&lt;</span>&nbsp;<span class="builtinfunc" id="4978016">len</span><span class="op" id="4978019">(</span><span class="ident" id="4978020">h</span><span class="op" id="4978021">)</span><span class="op" id="4978022">+</span><span class="num" id="4978023">1</span>&nbsp;<span class="op" id="4978025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978029">return</span>&nbsp;<span class="string" id="4978036">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978043">for</span>&nbsp;<span class="ident" id="4978047">i</span><span class="op" id="4978048">,</span>&nbsp;<span class="ident" id="4978050">b</span>&nbsp;<span class="op" id="4978052">:=</span>&nbsp;<span class="keyword" id="4978055">range</span>&nbsp;<span class="ident" id="4978061">h</span>&nbsp;<span class="op" id="4978063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4978067">db</span>&nbsp;<span class="op" id="4978070">:=</span>&nbsp;<span class="ident" id="4978073">data</span><span class="op" id="4978077">[</span><span class="ident" id="4978078">i</span><span class="op" id="4978079">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978083">if</span>&nbsp;<span class="string" id="4978086">&#39;A&#39;</span>&nbsp;<span class="op" id="4978090">&lt;=</span>&nbsp;<span class="ident" id="4978093">b</span>&nbsp;<span class="op" id="4978095">&amp;&amp;</span>&nbsp;<span class="ident" id="4978098">b</span>&nbsp;<span class="op" id="4978100">&lt;=</span>&nbsp;<span class="string" id="4978103">&#39;Z&#39;</span>&nbsp;<span class="op" id="4978107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4978112">db</span>&nbsp;<span class="op" id="4978115">&amp;=</span>&nbsp;<span class="num" id="4978118">0xDF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978129">if</span>&nbsp;<span class="ident" id="4978132">b</span>&nbsp;<span class="op" id="4978134">!=</span>&nbsp;<span class="ident" id="4978137">db</span>&nbsp;<span class="op" id="4978140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978145">return</span>&nbsp;<span class="string" id="4978152">&#34;&#34;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4978163">//&nbsp;Next&nbsp;byte&nbsp;must&nbsp;be&nbsp;space&nbsp;or&nbsp;right&nbsp;angle&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978215">if</span>&nbsp;<span class="ident" id="4978218">db</span>&nbsp;<span class="op" id="4978221">:=</span>&nbsp;<span class="ident" id="4978224">data</span><span class="op" id="4978228">[</span><span class="builtinfunc" id="4978229">len</span><span class="op" id="4978232">(</span><span class="ident" id="4978233">h</span><span class="op" id="4978234">)</span><span class="op" id="4978235">]</span><span class="op" id="4978236">;</span>&nbsp;<span class="ident" id="4978238">db</span>&nbsp;<span class="op" id="4978241">!=</span>&nbsp;<span class="string" id="4978244">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4978248">&amp;&amp;</span>&nbsp;<span class="ident" id="4978251">db</span>&nbsp;<span class="op" id="4978254">!=</span>&nbsp;<span class="string" id="4978257">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="4978261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978265">return</span>&nbsp;<span class="string" id="4978272">&#34;&#34;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978279">return</span>&nbsp;<span class="string" id="4978286">&#34;text/html;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4978313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4978316">type</span>&nbsp;<span class="ident" id="4978321">mp4Sig</span>&nbsp;<span class="builtintype" id="4978328">int</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="4978333">func</span>&nbsp;<span class="op" id="4978338">(</span><span class="ident" id="4978339">mp4Sig</span><span class="op" id="4978345">)</span>&nbsp;<span class="ident" id="4978347">match</span><span class="op" id="4978352">(</span><span class="ident" id="4978353">data</span>&nbsp;<span class="op" id="4978358">[</span><span class="op" id="4978359">]</span><span class="builtintype" id="4978360">byte</span><span class="op" id="4978364">,</span>&nbsp;<span class="ident" id="4978366">firstNonWS</span>&nbsp;<span class="builtintype" id="4978377">int</span><span class="op" id="4978380">)</span>&nbsp;<span class="builtintype" id="4978382">string</span>&nbsp;<span class="op" id="4978389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4978392">//&nbsp;c.f.&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978414">if</span>&nbsp;<span class="builtinfunc" id="4978417">len</span><span class="op" id="4978420">(</span><span class="ident" id="4978421">data</span><span class="op" id="4978425">)</span>&nbsp;<span class="op" id="4978427">&lt;</span>&nbsp;<span class="num" id="4978429">8</span>&nbsp;<span class="op" id="4978431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978435">return</span>&nbsp;<span class="string" id="4978442">&#34;&#34;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4978449">boxSize</span>&nbsp;<span class="op" id="4978457">:=</span>&nbsp;<span class="builtintype" id="4978460">int</span><span class="op" id="4978463">(</span><span class="ident" id="4978464">binary</span><span class="op" id="4978470">.</span><span class="ident" id="4978471">BigEndian</span><span class="op" id="4978480">.</span><span class="ident" id="4978481">Uint32</span><span class="op" id="4978487">(</span><span class="ident" id="4978488">data</span><span class="op" id="4978492">[</span><span class="op" id="4978493">:</span><span class="num" id="4978494">4</span><span class="op" id="4978495">]</span><span class="op" id="4978496">)</span><span class="op" id="4978497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978500">if</span>&nbsp;<span class="ident" id="4978503">boxSize</span><span class="op" id="4978510">%</span><span class="num" id="4978511">4</span>&nbsp;<span class="op" id="4978513">!=</span>&nbsp;<span class="num" id="4978516">0</span>&nbsp;<span class="op" id="4978518">||</span>&nbsp;<span class="builtinfunc" id="4978521">len</span><span class="op" id="4978524">(</span><span class="ident" id="4978525">data</span><span class="op" id="4978529">)</span>&nbsp;<span class="op" id="4978531">&lt;</span>&nbsp;<span class="ident" id="4978533">boxSize</span>&nbsp;<span class="op" id="4978541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978545">return</span>&nbsp;<span class="string" id="4978552">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978556">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978559">if</span>&nbsp;<span class="op" id="4978562">!</span><span class="ident" id="4978563">bytes</span><span class="op" id="4978568">.</span><span class="ident" id="4978569">Equal</span><span class="op" id="4978574">(</span><span class="ident" id="4978575">data</span><span class="op" id="4978579">[</span><span class="num" id="4978580">4</span><span class="op" id="4978581">:</span><span class="num" id="4978582">8</span><span class="op" id="4978583">]</span><span class="op" id="4978584">,</span>&nbsp;<span class="op" id="4978586">[</span><span class="op" id="4978587">]</span><span class="builtintype" id="4978588">byte</span><span class="op" id="4978592">(</span><span class="string" id="4978593">&#34;ftyp&#34;</span><span class="op" id="4978599">)</span><span class="op" id="4978600">)</span>&nbsp;<span class="op" id="4978602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978606">return</span>&nbsp;<span class="string" id="4978613">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978620">for</span>&nbsp;<span class="ident" id="4978624">st</span>&nbsp;<span class="op" id="4978627">:=</span>&nbsp;<span class="num" id="4978630">8</span><span class="op" id="4978631">;</span>&nbsp;<span class="ident" id="4978633">st</span>&nbsp;<span class="op" id="4978636">&lt;</span>&nbsp;<span class="ident" id="4978638">boxSize</span><span class="op" id="4978645">;</span>&nbsp;<span class="ident" id="4978647">st</span>&nbsp;<span class="op" id="4978650">+=</span>&nbsp;<span class="num" id="4978653">4</span>&nbsp;<span class="op" id="4978655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978659">if</span>&nbsp;<span class="ident" id="4978662">st</span>&nbsp;<span class="op" id="4978665">==</span>&nbsp;<span class="num" id="4978668">12</span>&nbsp;<span class="op" id="4978671">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4978676">//&nbsp;minor&nbsp;version&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978703">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4978714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4978718">seg</span>&nbsp;<span class="op" id="4978722">:=</span>&nbsp;<span class="builtintype" id="4978725">string</span><span class="op" id="4978731">(</span><span class="ident" id="4978732">data</span><span class="op" id="4978736">[</span><span class="ident" id="4978737">st</span>&nbsp;<span class="op" id="4978740">:</span>&nbsp;<span class="ident" id="4978742">st</span><span class="op" id="4978744">+</span><span class="num" id="4978745">3</span><span class="op" id="4978746">]</span><span class="op" id="4978747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978751">switch</span>&nbsp;<span class="ident" id="4978758">seg</span>&nbsp;<span class="op" id="4978762">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978766">case</span>&nbsp;<span class="string" id="4978771">&#34;mp4&#34;</span><span class="op" id="4978776">,</span>&nbsp;<span class="string" id="4978778">&#34;iso&#34;</span><span class="op" id="4978783">,</span>&nbsp;<span class="string" id="4978785">&#34;M4V&#34;</span><span class="op" id="4978790">,</span>&nbsp;<span class="string" id="4978792">&#34;M4P&#34;</span><span class="op" id="4978797">,</span>&nbsp;<span class="string" id="4978799">&#34;M4B&#34;</span><span class="op" id="4978804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4978809">return</span>&nbsp;<span class="string" id="4978816">&#34;video/mp4&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4978831">/*&nbsp;The&nbsp;remainder&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;spec.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;M4A&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;audio/mp4&#34;<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;3gp&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;video/3gpp&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;jp2&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;image/jp2&#34;&nbsp;//&nbsp;JPEG&nbsp;2000<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp*/</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4979005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4979008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4979011">return</span>&nbsp;<span class="string" id="4979018">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="4979021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="4979024">type</span>&nbsp;<span class="ident" id="4979029">textSig</span>&nbsp;<span class="builtintype" id="4979037">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4979042">func</span>&nbsp;<span class="op" id="4979047">(</span><span class="ident" id="4979048">textSig</span><span class="op" id="4979055">)</span>&nbsp;<span class="ident" id="4979057">match</span><span class="op" id="4979062">(</span><span class="ident" id="4979063">data</span>&nbsp;<span class="op" id="4979068">[</span><span class="op" id="4979069">]</span><span class="builtintype" id="4979070">byte</span><span class="op" id="4979074">,</span>&nbsp;<span class="ident" id="4979076">firstNonWS</span>&nbsp;<span class="builtintype" id="4979087">int</span><span class="op" id="4979090">)</span>&nbsp;<span class="builtintype" id="4979092">string</span>&nbsp;<span class="op" id="4979099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4979102">//&nbsp;c.f.&nbsp;section&nbsp;5,&nbsp;step&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4979130">for</span>&nbsp;<span class="ident" id="4979134">_</span><span class="op" id="4979135">,</span>&nbsp;<span class="ident" id="4979137">b</span>&nbsp;<span class="op" id="4979139">:=</span>&nbsp;<span class="keyword" id="4979142">range</span>&nbsp;<span class="ident" id="4979148">data</span><span class="op" id="4979152">[</span><span class="ident" id="4979153">firstNonWS</span><span class="op" id="4979163">:</span><span class="op" id="4979164">]</span>&nbsp;<span class="op" id="4979166">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4979170">switch</span>&nbsp;<span class="op" id="4979177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4979181">case</span>&nbsp;<span class="num" id="4979186">0x00</span>&nbsp;<span class="op" id="4979191">&lt;=</span>&nbsp;<span class="ident" id="4979194">b</span>&nbsp;<span class="op" id="4979196">&amp;&amp;</span>&nbsp;<span class="ident" id="4979199">b</span>&nbsp;<span class="op" id="4979201">&lt;=</span>&nbsp;<span class="num" id="4979204">0x08</span><span class="op" id="4979208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4979213">b</span>&nbsp;<span class="op" id="4979215">==</span>&nbsp;<span class="num" id="4979218">0x0B</span><span class="op" id="4979222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4979227">0x0E</span>&nbsp;<span class="op" id="4979232">&lt;=</span>&nbsp;<span class="ident" id="4979235">b</span>&nbsp;<span class="op" id="4979237">&amp;&amp;</span>&nbsp;<span class="ident" id="4979240">b</span>&nbsp;<span class="op" id="4979242">&lt;=</span>&nbsp;<span class="num" id="4979245">0x1A</span><span class="op" id="4979249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4979254">0x1C</span>&nbsp;<span class="op" id="4979259">&lt;=</span>&nbsp;<span class="ident" id="4979262">b</span>&nbsp;<span class="op" id="4979264">&amp;&amp;</span>&nbsp;<span class="ident" id="4979267">b</span>&nbsp;<span class="op" id="4979269">&lt;=</span>&nbsp;<span class="num" id="4979272">0x1F</span><span class="op" id="4979276">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4979281">return</span>&nbsp;<span class="string" id="4979288">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4979293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4979296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4979299">return</span>&nbsp;<span class="string" id="4979306">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4979334">}</span>
</div>
</body>
</html>
