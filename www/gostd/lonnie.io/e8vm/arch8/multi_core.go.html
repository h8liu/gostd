<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/arch8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/arch8/console.go.html">console.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/cpu.go.html">cpu.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/cpu_test.go.html">cpu_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/device.go.html">device.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/exception.go.html">exception.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_br_test.go.html">inst_br_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_imm_test.go.html">inst_imm_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_reg_test.go.html">inst_reg_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/int_bus.go.html">int_bus.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/interrupt.go.html">interrupt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/interrupt_test.go.html">interrupt_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/machine.go.html">machine.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/multi_core.go.html">multi_core.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page.go.html">page.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_table.go.html">page_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_table_test.go.html">page_table_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_test.go.html">page_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/phy_memory.go.html">phy_memory.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/phy_memory_test.go.html">phy_memory_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/regs.go.html">regs.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/regs_test.go.html">regs_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/run_image.go.html">run_image.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/serial.go.html">serial.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/ticker.go.html">ticker.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/virt_memory.go.html">virt_memory.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/virt_memory_test.go.html">virt_memory_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="4795072">package</span>&nbsp;<span class="ident" id="4795080">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4795087">import</span>&nbsp;<span class="op" id="4795094">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4795097">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4795103">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4795106">//&nbsp;MultiCore&nbsp;simulates&nbsp;a&nbsp;shared&nbsp;memory&nbsp;multicore&nbsp;processor.</span><br>
<span class="lineno"></span><span class="keyword" id="4795166">type</span>&nbsp;<span class="ident" id="4795171">multiCore</span>&nbsp;<span class="keyword" id="4795181">struct</span>&nbsp;<span class="op" id="4795188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795191">cores</span>&nbsp;&nbsp;<span class="op" id="4795198">[</span><span class="op" id="4795199">]</span><span class="op" id="4795200">*</span><span class="ident" id="4795201">cpu</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795206">phyMem</span>&nbsp;<span class="op" id="4795213">*</span><span class="ident" id="4795214">phyMemory</span><br>
<span class="lineno"></span><span class="op" id="4795224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4795227">//&nbsp;NewMultiCore&nbsp;creates&nbsp;a&nbsp;shared&nbsp;memory&nbsp;multicore&nbsp;processor.</span><br>
<span class="lineno"></span><span class="keyword" id="4795288">func</span>&nbsp;<span class="ident" id="4795293">newMultiCore</span><span class="op" id="4795305">(</span><span class="ident" id="4795306">ncore</span>&nbsp;<span class="builtintype" id="4795312">int</span><span class="op" id="4795315">,</span>&nbsp;<span class="ident" id="4795317">mem</span>&nbsp;<span class="op" id="4795321">*</span><span class="ident" id="4795322">phyMemory</span><span class="op" id="4795331">,</span>&nbsp;<span class="ident" id="4795333">i</span>&nbsp;<span class="ident" id="4795335">inst</span><span class="op" id="4795339">)</span>&nbsp;<span class="op" id="4795341">*</span><span class="ident" id="4795342">multiCore</span>&nbsp;<span class="op" id="4795352">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795355">if</span>&nbsp;<span class="ident" id="4795358">ncore</span>&nbsp;<span class="op" id="4795364">&gt;</span>&nbsp;<span class="num" id="4795366">32</span>&nbsp;<span class="op" id="4795369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4795373">panic</span><span class="op" id="4795378">(</span><span class="string" id="4795379">&#34;too&nbsp;many&nbsp;cores&#34;</span><span class="op" id="4795395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795402">ret</span>&nbsp;<span class="op" id="4795406">:=</span>&nbsp;<span class="builtinfunc" id="4795409">new</span><span class="op" id="4795412">(</span><span class="ident" id="4795413">multiCore</span><span class="op" id="4795422">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795425">ret</span><span class="op" id="4795428">.</span><span class="ident" id="4795429">cores</span>&nbsp;<span class="op" id="4795435">=</span>&nbsp;<span class="builtinfunc" id="4795437">make</span><span class="op" id="4795441">(</span><span class="op" id="4795442">[</span><span class="op" id="4795443">]</span><span class="op" id="4795444">*</span><span class="ident" id="4795445">cpu</span><span class="op" id="4795448">,</span>&nbsp;<span class="ident" id="4795450">ncore</span><span class="op" id="4795455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795458">ret</span><span class="op" id="4795461">.</span><span class="ident" id="4795462">phyMem</span>&nbsp;<span class="op" id="4795469">=</span>&nbsp;<span class="ident" id="4795471">mem</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795477">for</span>&nbsp;<span class="ident" id="4795481">ind</span>&nbsp;<span class="op" id="4795485">:=</span>&nbsp;<span class="keyword" id="4795488">range</span>&nbsp;<span class="ident" id="4795494">ret</span><span class="op" id="4795497">.</span><span class="ident" id="4795498">cores</span>&nbsp;<span class="op" id="4795504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795508">ret</span><span class="op" id="4795511">.</span><span class="ident" id="4795512">cores</span><span class="op" id="4795517">[</span><span class="ident" id="4795518">ind</span><span class="op" id="4795521">]</span>&nbsp;<span class="op" id="4795523">=</span>&nbsp;<span class="ident" id="4795525">newCPU</span><span class="op" id="4795531">(</span><span class="ident" id="4795532">mem</span><span class="op" id="4795535">,</span>&nbsp;<span class="ident" id="4795537">i</span><span class="op" id="4795538">,</span>&nbsp;<span class="builtintype" id="4795540">byte</span><span class="op" id="4795544">(</span><span class="ident" id="4795545">ind</span><span class="op" id="4795548">)</span><span class="op" id="4795549">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795556">return</span>&nbsp;<span class="ident" id="4795563">ret</span><br>
<span class="lineno"></span><span class="op" id="4795567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4795570">//&nbsp;CoreExcep&nbsp;is&nbsp;an&nbsp;exception&nbsp;on&nbsp;a&nbsp;particular&nbsp;core.</span><br>
<span class="lineno"></span><span class="keyword" id="4795621">type</span>&nbsp;<span class="ident" id="4795626">CoreExcep</span>&nbsp;<span class="keyword" id="4795636">struct</span>&nbsp;<span class="op" id="4795643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795646">Core</span>&nbsp;<span class="builtintype" id="4795651">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795656">*</span><span class="ident" id="4795657">Excep</span><br>
<span class="lineno"></span><span class="op" id="4795663">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4795666">//&nbsp;Tick&nbsp;performs&nbsp;one&nbsp;tick&nbsp;on&nbsp;each&nbsp;core.</span><br>
<span class="lineno"></span><span class="keyword" id="4795706">func</span>&nbsp;<span class="op" id="4795711">(</span><span class="ident" id="4795712">c</span>&nbsp;<span class="op" id="4795714">*</span><span class="ident" id="4795715">multiCore</span><span class="op" id="4795724">)</span>&nbsp;<span class="ident" id="4795726">Tick</span><span class="op" id="4795730">(</span><span class="op" id="4795731">)</span>&nbsp;<span class="op" id="4795733">*</span><span class="ident" id="4795734">CoreExcep</span>&nbsp;<span class="op" id="4795744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795747">for</span>&nbsp;<span class="ident" id="4795751">i</span><span class="op" id="4795752">,</span>&nbsp;<span class="ident" id="4795754">core</span>&nbsp;<span class="op" id="4795759">:=</span>&nbsp;<span class="keyword" id="4795762">range</span>&nbsp;<span class="ident" id="4795768">c</span><span class="op" id="4795769">.</span><span class="ident" id="4795770">cores</span>&nbsp;<span class="op" id="4795776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4795780">e</span>&nbsp;<span class="op" id="4795782">:=</span>&nbsp;<span class="ident" id="4795785">core</span><span class="op" id="4795789">.</span><span class="ident" id="4795790">Tick</span><span class="op" id="4795794">(</span><span class="op" id="4795795">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795799">if</span>&nbsp;<span class="ident" id="4795802">e</span>&nbsp;<span class="op" id="4795804">!=</span>&nbsp;<span class="ident" id="4795807">nil</span>&nbsp;<span class="op" id="4795811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795816">return</span>&nbsp;<span class="op" id="4795823">&amp;</span><span class="ident" id="4795824">CoreExcep</span><span class="op" id="4795833">{</span><span class="ident" id="4795834">i</span><span class="op" id="4795835">,</span>&nbsp;<span class="ident" id="4795837">e</span><span class="op" id="4795838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4795845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795849">return</span>&nbsp;<span class="ident" id="4795856">nil</span><br>
<span class="lineno"></span><span class="op" id="4795860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4795863">//&nbsp;Ncore&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;cores.</span><br>
<span class="lineno"></span><span class="keyword" id="4795901">func</span>&nbsp;<span class="op" id="4795906">(</span><span class="ident" id="4795907">c</span>&nbsp;<span class="op" id="4795909">*</span><span class="ident" id="4795910">multiCore</span><span class="op" id="4795919">)</span>&nbsp;<span class="ident" id="4795921">Ncore</span><span class="op" id="4795926">(</span><span class="op" id="4795927">)</span>&nbsp;<span class="builtintype" id="4795929">byte</span>&nbsp;<span class="op" id="4795934">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4795937">return</span>&nbsp;<span class="builtintype" id="4795944">byte</span><span class="op" id="4795948">(</span><span class="builtinfunc" id="4795949">len</span><span class="op" id="4795952">(</span><span class="ident" id="4795953">c</span><span class="op" id="4795954">.</span><span class="ident" id="4795955">cores</span><span class="op" id="4795960">)</span><span class="op" id="4795961">)</span><br>
<span class="lineno"></span><span class="op" id="4795963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4795966">//&nbsp;Interrupt&nbsp;issues&nbsp;an&nbsp;interrupt&nbsp;to&nbsp;a&nbsp;particular&nbsp;core.</span><br>
<span class="lineno"></span><span class="keyword" id="4796021">func</span>&nbsp;<span class="op" id="4796026">(</span><span class="ident" id="4796027">c</span>&nbsp;<span class="op" id="4796029">*</span><span class="ident" id="4796030">multiCore</span><span class="op" id="4796039">)</span>&nbsp;<span class="ident" id="4796041">Interrupt</span><span class="op" id="4796050">(</span><span class="ident" id="4796051">code</span>&nbsp;<span class="builtintype" id="4796056">byte</span><span class="op" id="4796060">,</span>&nbsp;<span class="ident" id="4796062">core</span>&nbsp;<span class="builtintype" id="4796067">byte</span><span class="op" id="4796071">)</span>&nbsp;<span class="op" id="4796073">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796076">if</span>&nbsp;<span class="builtintype" id="4796079">int</span><span class="op" id="4796082">(</span><span class="ident" id="4796083">core</span><span class="op" id="4796087">)</span>&nbsp;<span class="op" id="4796089">&gt;=</span>&nbsp;<span class="builtinfunc" id="4796092">len</span><span class="op" id="4796095">(</span><span class="ident" id="4796096">c</span><span class="op" id="4796097">.</span><span class="ident" id="4796098">cores</span><span class="op" id="4796103">)</span>&nbsp;<span class="op" id="4796105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4796109">panic</span><span class="op" id="4796114">(</span><span class="string" id="4796115">&#34;out&nbsp;of&nbsp;cores&#34;</span><span class="op" id="4796129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796136">c</span><span class="op" id="4796137">.</span><span class="ident" id="4796138">cores</span><span class="op" id="4796143">[</span><span class="ident" id="4796144">core</span><span class="op" id="4796148">]</span><span class="op" id="4796149">.</span><span class="ident" id="4796150">Interrupt</span><span class="op" id="4796159">(</span><span class="ident" id="4796160">code</span><span class="op" id="4796164">)</span><br>
<span class="lineno">60</span><span class="op" id="4796166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4796169">//&nbsp;PrintStatus&nbsp;prints&nbsp;out&nbsp;the&nbsp;core&nbsp;status&nbsp;of&nbsp;all&nbsp;the&nbsp;cores.</span><br>
<span class="lineno"></span><span class="keyword" id="4796229">func</span>&nbsp;<span class="op" id="4796234">(</span><span class="ident" id="4796235">c</span>&nbsp;<span class="op" id="4796237">*</span><span class="ident" id="4796238">multiCore</span><span class="op" id="4796247">)</span>&nbsp;<span class="ident" id="4796249">PrintStatus</span><span class="op" id="4796260">(</span><span class="op" id="4796261">)</span>&nbsp;<span class="op" id="4796263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796266">for</span>&nbsp;<span class="ident" id="4796270">i</span><span class="op" id="4796271">,</span>&nbsp;<span class="ident" id="4796273">core</span>&nbsp;<span class="op" id="4796278">:=</span>&nbsp;<span class="keyword" id="4796281">range</span>&nbsp;<span class="ident" id="4796287">c</span><span class="op" id="4796288">.</span><span class="ident" id="4796289">cores</span>&nbsp;<span class="op" id="4796295">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4796299">if</span>&nbsp;<span class="builtinfunc" id="4796302">len</span><span class="op" id="4796305">(</span><span class="ident" id="4796306">c</span><span class="op" id="4796307">.</span><span class="ident" id="4796308">cores</span><span class="op" id="4796313">)</span>&nbsp;<span class="op" id="4796315">&gt;</span>&nbsp;<span class="num" id="4796317">1</span>&nbsp;<span class="op" id="4796319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796324">fmt</span><span class="op" id="4796327">.</span><span class="ident" id="4796328">Printf</span><span class="op" id="4796334">(</span><span class="string" id="4796335">&#34;[core&nbsp;%d]\n&#34;</span><span class="op" id="4796348">,</span>&nbsp;<span class="ident" id="4796350">i</span><span class="op" id="4796351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796359">printCPUStatus</span><span class="op" id="4796373">(</span><span class="ident" id="4796374">core</span><span class="op" id="4796378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796382">fmt</span><span class="op" id="4796385">.</span><span class="ident" id="4796386">Println</span><span class="op" id="4796393">(</span><span class="op" id="4796394">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796397">}</span><br>
<span class="lineno"></span><span class="op" id="4796399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4796402">func</span>&nbsp;<span class="ident" id="4796407">printCPUStatus</span><span class="op" id="4796421">(</span><span class="ident" id="4796422">c</span>&nbsp;<span class="op" id="4796424">*</span><span class="ident" id="4796425">cpu</span><span class="op" id="4796428">)</span>&nbsp;<span class="op" id="4796430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796433">p</span>&nbsp;<span class="op" id="4796435">:=</span>&nbsp;<span class="keyword" id="4796438">func</span><span class="op" id="4796442">(</span><span class="ident" id="4796443">name</span>&nbsp;<span class="builtintype" id="4796448">string</span><span class="op" id="4796454">,</span>&nbsp;<span class="ident" id="4796456">reg</span>&nbsp;<span class="builtintype" id="4796460">int</span><span class="op" id="4796463">)</span>&nbsp;<span class="op" id="4796465">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796469">fmt</span><span class="op" id="4796472">.</span><span class="ident" id="4796473">Printf</span><span class="op" id="4796479">(</span><span class="string" id="4796480">&#34;&nbsp;%3s&nbsp;=&nbsp;0x%08x&nbsp;%-11d\n&#34;</span><span class="op" id="4796503">,</span>&nbsp;<span class="ident" id="4796505">name</span><span class="op" id="4796509">,</span>&nbsp;<span class="ident" id="4796511">c</span><span class="op" id="4796512">.</span><span class="ident" id="4796513">regs</span><span class="op" id="4796517">[</span><span class="ident" id="4796518">reg</span><span class="op" id="4796521">]</span><span class="op" id="4796522">,</span>&nbsp;<span class="builtintype" id="4796524">int32</span><span class="op" id="4796529">(</span><span class="ident" id="4796530">c</span><span class="op" id="4796531">.</span><span class="ident" id="4796532">regs</span><span class="op" id="4796536">[</span><span class="ident" id="4796537">reg</span><span class="op" id="4796540">]</span><span class="op" id="4796541">)</span><span class="op" id="4796542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4796545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796549">p</span><span class="op" id="4796550">(</span><span class="string" id="4796551">&#34;r0&#34;</span><span class="op" id="4796555">,</span>&nbsp;<span class="ident" id="4796557">R0</span><span class="op" id="4796559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796562">p</span><span class="op" id="4796563">(</span><span class="string" id="4796564">&#34;r1&#34;</span><span class="op" id="4796568">,</span>&nbsp;<span class="ident" id="4796570">R1</span><span class="op" id="4796572">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796575">p</span><span class="op" id="4796576">(</span><span class="string" id="4796577">&#34;r2&#34;</span><span class="op" id="4796581">,</span>&nbsp;<span class="ident" id="4796583">R2</span><span class="op" id="4796585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796588">p</span><span class="op" id="4796589">(</span><span class="string" id="4796590">&#34;r3&#34;</span><span class="op" id="4796594">,</span>&nbsp;<span class="ident" id="4796596">R3</span><span class="op" id="4796598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796601">p</span><span class="op" id="4796602">(</span><span class="string" id="4796603">&#34;r4&#34;</span><span class="op" id="4796607">,</span>&nbsp;<span class="ident" id="4796609">R4</span><span class="op" id="4796611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796614">p</span><span class="op" id="4796615">(</span><span class="string" id="4796616">&#34;sp&#34;</span><span class="op" id="4796620">,</span>&nbsp;<span class="ident" id="4796622">SP</span><span class="op" id="4796624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796627">p</span><span class="op" id="4796628">(</span><span class="string" id="4796629">&#34;ret&#34;</span><span class="op" id="4796634">,</span>&nbsp;<span class="ident" id="4796636">RET</span><span class="op" id="4796639">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796642">p</span><span class="op" id="4796643">(</span><span class="string" id="4796644">&#34;pc&#34;</span><span class="op" id="4796648">,</span>&nbsp;<span class="ident" id="4796650">PC</span><span class="op" id="4796652">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4796656">fmt</span><span class="op" id="4796659">.</span><span class="ident" id="4796660">Printf</span><span class="op" id="4796666">(</span><span class="string" id="4796667">&#34;ring&nbsp;=&nbsp;%d\n&#34;</span><span class="op" id="4796680">,</span>&nbsp;<span class="ident" id="4796682">c</span><span class="op" id="4796683">.</span><span class="ident" id="4796684">ring</span><span class="op" id="4796688">)</span><br>
<span class="lineno"></span><span class="op" id="4796690">}</span>
</div>
</body>
</html>
