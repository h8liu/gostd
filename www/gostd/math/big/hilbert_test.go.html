<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html" class="current">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7759960">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7760015">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7760069">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7760120">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7760185">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7760244">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7760302">package</span>&nbsp;<span class="ident" id="7760310">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7760315">import</span>&nbsp;<span class="op" id="7760322">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7760325">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7760332">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7760342">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7760345">type</span>&nbsp;<span class="ident" id="7760350">matrix</span>&nbsp;<span class="keyword" id="7760357">struct</span>&nbsp;<span class="op" id="7760364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760367">n</span><span class="op" id="7760368">,</span>&nbsp;<span class="ident" id="7760370">m</span>&nbsp;<span class="builtintype" id="7760372">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760377">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7760382">[</span><span class="op" id="7760383">]</span><span class="op" id="7760384">*</span><span class="ident" id="7760385">Rat</span><br>
<span class="lineno"></span><span class="op" id="7760389">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7760392">func</span>&nbsp;<span class="op" id="7760397">(</span><span class="ident" id="7760398">a</span>&nbsp;<span class="op" id="7760400">*</span><span class="ident" id="7760401">matrix</span><span class="op" id="7760407">)</span>&nbsp;<span class="ident" id="7760409">at</span><span class="op" id="7760411">(</span><span class="ident" id="7760412">i</span><span class="op" id="7760413">,</span>&nbsp;<span class="ident" id="7760415">j</span>&nbsp;<span class="builtintype" id="7760417">int</span><span class="op" id="7760420">)</span>&nbsp;<span class="op" id="7760422">*</span><span class="ident" id="7760423">Rat</span>&nbsp;<span class="op" id="7760427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760430">if</span>&nbsp;<span class="op" id="7760433">!</span><span class="op" id="7760434">(</span><span class="num" id="7760435">0</span>&nbsp;<span class="op" id="7760437">&lt;=</span>&nbsp;<span class="ident" id="7760440">i</span>&nbsp;<span class="op" id="7760442">&amp;&amp;</span>&nbsp;<span class="ident" id="7760445">i</span>&nbsp;<span class="op" id="7760447">&lt;</span>&nbsp;<span class="ident" id="7760449">a</span><span class="op" id="7760450">.</span><span class="ident" id="7760451">n</span>&nbsp;<span class="op" id="7760453">&amp;&amp;</span>&nbsp;<span class="num" id="7760456">0</span>&nbsp;<span class="op" id="7760458">&lt;=</span>&nbsp;<span class="ident" id="7760461">j</span>&nbsp;<span class="op" id="7760463">&amp;&amp;</span>&nbsp;<span class="ident" id="7760466">j</span>&nbsp;<span class="op" id="7760468">&lt;</span>&nbsp;<span class="ident" id="7760470">a</span><span class="op" id="7760471">.</span><span class="ident" id="7760472">m</span><span class="op" id="7760473">)</span>&nbsp;<span class="op" id="7760475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7760479">panic</span><span class="op" id="7760484">(</span><span class="string" id="7760485">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7760505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760508">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760511">return</span>&nbsp;<span class="ident" id="7760518">a</span><span class="op" id="7760519">.</span><span class="ident" id="7760520">a</span><span class="op" id="7760521">[</span><span class="ident" id="7760522">i</span><span class="op" id="7760523">*</span><span class="ident" id="7760524">a</span><span class="op" id="7760525">.</span><span class="ident" id="7760526">m</span><span class="op" id="7760527">+</span><span class="ident" id="7760528">j</span><span class="op" id="7760529">]</span><br>
<span class="lineno"></span><span class="op" id="7760531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7760534">func</span>&nbsp;<span class="op" id="7760539">(</span><span class="ident" id="7760540">a</span>&nbsp;<span class="op" id="7760542">*</span><span class="ident" id="7760543">matrix</span><span class="op" id="7760549">)</span>&nbsp;<span class="ident" id="7760551">set</span><span class="op" id="7760554">(</span><span class="ident" id="7760555">i</span><span class="op" id="7760556">,</span>&nbsp;<span class="ident" id="7760558">j</span>&nbsp;<span class="builtintype" id="7760560">int</span><span class="op" id="7760563">,</span>&nbsp;<span class="ident" id="7760565">x</span>&nbsp;<span class="op" id="7760567">*</span><span class="ident" id="7760568">Rat</span><span class="op" id="7760571">)</span>&nbsp;<span class="op" id="7760573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760576">if</span>&nbsp;<span class="op" id="7760579">!</span><span class="op" id="7760580">(</span><span class="num" id="7760581">0</span>&nbsp;<span class="op" id="7760583">&lt;=</span>&nbsp;<span class="ident" id="7760586">i</span>&nbsp;<span class="op" id="7760588">&amp;&amp;</span>&nbsp;<span class="ident" id="7760591">i</span>&nbsp;<span class="op" id="7760593">&lt;</span>&nbsp;<span class="ident" id="7760595">a</span><span class="op" id="7760596">.</span><span class="ident" id="7760597">n</span>&nbsp;<span class="op" id="7760599">&amp;&amp;</span>&nbsp;<span class="num" id="7760602">0</span>&nbsp;<span class="op" id="7760604">&lt;=</span>&nbsp;<span class="ident" id="7760607">j</span>&nbsp;<span class="op" id="7760609">&amp;&amp;</span>&nbsp;<span class="ident" id="7760612">j</span>&nbsp;<span class="op" id="7760614">&lt;</span>&nbsp;<span class="ident" id="7760616">a</span><span class="op" id="7760617">.</span><span class="ident" id="7760618">m</span><span class="op" id="7760619">)</span>&nbsp;<span class="op" id="7760621">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7760625">panic</span><span class="op" id="7760630">(</span><span class="string" id="7760631">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7760651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760657">a</span><span class="op" id="7760658">.</span><span class="ident" id="7760659">a</span><span class="op" id="7760660">[</span><span class="ident" id="7760661">i</span><span class="op" id="7760662">*</span><span class="ident" id="7760663">a</span><span class="op" id="7760664">.</span><span class="ident" id="7760665">m</span><span class="op" id="7760666">+</span><span class="ident" id="7760667">j</span><span class="op" id="7760668">]</span>&nbsp;<span class="op" id="7760670">=</span>&nbsp;<span class="ident" id="7760672">x</span><br>
<span class="lineno"></span><span class="op" id="7760674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7760677">func</span>&nbsp;<span class="ident" id="7760682">newMatrix</span><span class="op" id="7760691">(</span><span class="ident" id="7760692">n</span><span class="op" id="7760693">,</span>&nbsp;<span class="ident" id="7760695">m</span>&nbsp;<span class="builtintype" id="7760697">int</span><span class="op" id="7760700">)</span>&nbsp;<span class="op" id="7760702">*</span><span class="ident" id="7760703">matrix</span>&nbsp;<span class="op" id="7760710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760713">if</span>&nbsp;<span class="op" id="7760716">!</span><span class="op" id="7760717">(</span><span class="num" id="7760718">0</span>&nbsp;<span class="op" id="7760720">&lt;=</span>&nbsp;<span class="ident" id="7760723">n</span>&nbsp;<span class="op" id="7760725">&amp;&amp;</span>&nbsp;<span class="num" id="7760728">0</span>&nbsp;<span class="op" id="7760730">&lt;=</span>&nbsp;<span class="ident" id="7760733">m</span><span class="op" id="7760734">)</span>&nbsp;<span class="op" id="7760736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7760740">panic</span><span class="op" id="7760745">(</span><span class="string" id="7760746">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7760762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7760765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760768">a</span>&nbsp;<span class="op" id="7760770">:=</span>&nbsp;<span class="builtinfunc" id="7760773">new</span><span class="op" id="7760776">(</span><span class="ident" id="7760777">matrix</span><span class="op" id="7760783">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760786">a</span><span class="op" id="7760787">.</span><span class="ident" id="7760788">n</span>&nbsp;<span class="op" id="7760790">=</span>&nbsp;<span class="ident" id="7760792">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760795">a</span><span class="op" id="7760796">.</span><span class="ident" id="7760797">m</span>&nbsp;<span class="op" id="7760799">=</span>&nbsp;<span class="ident" id="7760801">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760804">a</span><span class="op" id="7760805">.</span><span class="ident" id="7760806">a</span>&nbsp;<span class="op" id="7760808">=</span>&nbsp;<span class="builtinfunc" id="7760810">make</span><span class="op" id="7760814">(</span><span class="op" id="7760815">[</span><span class="op" id="7760816">]</span><span class="op" id="7760817">*</span><span class="ident" id="7760818">Rat</span><span class="op" id="7760821">,</span>&nbsp;<span class="ident" id="7760823">n</span><span class="op" id="7760824">*</span><span class="ident" id="7760825">m</span><span class="op" id="7760826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760829">return</span>&nbsp;<span class="ident" id="7760836">a</span><br>
<span class="lineno"></span><span class="op" id="7760838">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7760841">func</span>&nbsp;<span class="ident" id="7760846">newUnit</span><span class="op" id="7760853">(</span><span class="ident" id="7760854">n</span>&nbsp;<span class="builtintype" id="7760856">int</span><span class="op" id="7760859">)</span>&nbsp;<span class="op" id="7760861">*</span><span class="ident" id="7760862">matrix</span>&nbsp;<span class="op" id="7760869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760872">a</span>&nbsp;<span class="op" id="7760874">:=</span>&nbsp;<span class="ident" id="7760877">newMatrix</span><span class="op" id="7760886">(</span><span class="ident" id="7760887">n</span><span class="op" id="7760888">,</span>&nbsp;<span class="ident" id="7760890">n</span><span class="op" id="7760891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760894">for</span>&nbsp;<span class="ident" id="7760898">i</span>&nbsp;<span class="op" id="7760900">:=</span>&nbsp;<span class="num" id="7760903">0</span><span class="op" id="7760904">;</span>&nbsp;<span class="ident" id="7760906">i</span>&nbsp;<span class="op" id="7760908">&lt;</span>&nbsp;<span class="ident" id="7760910">n</span><span class="op" id="7760911">;</span>&nbsp;<span class="ident" id="7760913">i</span><span class="op" id="7760914">++</span>&nbsp;<span class="op" id="7760917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760921">for</span>&nbsp;<span class="ident" id="7760925">j</span>&nbsp;<span class="op" id="7760927">:=</span>&nbsp;<span class="num" id="7760930">0</span><span class="op" id="7760931">;</span>&nbsp;<span class="ident" id="7760933">j</span>&nbsp;<span class="op" id="7760935">&lt;</span>&nbsp;<span class="ident" id="7760937">n</span><span class="op" id="7760938">;</span>&nbsp;<span class="ident" id="7760940">j</span><span class="op" id="7760941">++</span>&nbsp;<span class="op" id="7760944">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760949">x</span>&nbsp;<span class="op" id="7760951">:=</span>&nbsp;<span class="ident" id="7760954">NewRat</span><span class="op" id="7760960">(</span><span class="num" id="7760961">0</span><span class="op" id="7760962">,</span>&nbsp;<span class="num" id="7760964">1</span><span class="op" id="7760965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7760970">if</span>&nbsp;<span class="ident" id="7760973">i</span>&nbsp;<span class="op" id="7760975">==</span>&nbsp;<span class="ident" id="7760978">j</span>&nbsp;<span class="op" id="7760980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7760986">x</span><span class="op" id="7760987">.</span><span class="ident" id="7760988">SetInt64</span><span class="op" id="7760996">(</span><span class="num" id="7760997">1</span><span class="op" id="7760998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761008">a</span><span class="op" id="7761009">.</span><span class="ident" id="7761010">set</span><span class="op" id="7761013">(</span><span class="ident" id="7761014">i</span><span class="op" id="7761015">,</span>&nbsp;<span class="ident" id="7761017">j</span><span class="op" id="7761018">,</span>&nbsp;<span class="ident" id="7761020">x</span><span class="op" id="7761021">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761031">return</span>&nbsp;<span class="ident" id="7761038">a</span><br>
<span class="lineno"></span><span class="op" id="7761040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7761043">func</span>&nbsp;<span class="ident" id="7761048">newHilbert</span><span class="op" id="7761058">(</span><span class="ident" id="7761059">n</span>&nbsp;<span class="builtintype" id="7761061">int</span><span class="op" id="7761064">)</span>&nbsp;<span class="op" id="7761066">*</span><span class="ident" id="7761067">matrix</span>&nbsp;<span class="op" id="7761074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761077">a</span>&nbsp;<span class="op" id="7761079">:=</span>&nbsp;<span class="ident" id="7761082">newMatrix</span><span class="op" id="7761091">(</span><span class="ident" id="7761092">n</span><span class="op" id="7761093">,</span>&nbsp;<span class="ident" id="7761095">n</span><span class="op" id="7761096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761099">for</span>&nbsp;<span class="ident" id="7761103">i</span>&nbsp;<span class="op" id="7761105">:=</span>&nbsp;<span class="num" id="7761108">0</span><span class="op" id="7761109">;</span>&nbsp;<span class="ident" id="7761111">i</span>&nbsp;<span class="op" id="7761113">&lt;</span>&nbsp;<span class="ident" id="7761115">n</span><span class="op" id="7761116">;</span>&nbsp;<span class="ident" id="7761118">i</span><span class="op" id="7761119">++</span>&nbsp;<span class="op" id="7761122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761126">for</span>&nbsp;<span class="ident" id="7761130">j</span>&nbsp;<span class="op" id="7761132">:=</span>&nbsp;<span class="num" id="7761135">0</span><span class="op" id="7761136">;</span>&nbsp;<span class="ident" id="7761138">j</span>&nbsp;<span class="op" id="7761140">&lt;</span>&nbsp;<span class="ident" id="7761142">n</span><span class="op" id="7761143">;</span>&nbsp;<span class="ident" id="7761145">j</span><span class="op" id="7761146">++</span>&nbsp;<span class="op" id="7761149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761154">a</span><span class="op" id="7761155">.</span><span class="ident" id="7761156">set</span><span class="op" id="7761159">(</span><span class="ident" id="7761160">i</span><span class="op" id="7761161">,</span>&nbsp;<span class="ident" id="7761163">j</span><span class="op" id="7761164">,</span>&nbsp;<span class="ident" id="7761166">NewRat</span><span class="op" id="7761172">(</span><span class="num" id="7761173">1</span><span class="op" id="7761174">,</span>&nbsp;<span class="ident" id="7761176">int64</span><span class="op" id="7761181">(</span><span class="ident" id="7761182">i</span><span class="op" id="7761183">+</span><span class="ident" id="7761184">j</span><span class="op" id="7761185">+</span><span class="num" id="7761186">1</span><span class="op" id="7761187">)</span><span class="op" id="7761188">)</span><span class="op" id="7761189">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761199">return</span>&nbsp;<span class="ident" id="7761206">a</span><br>
<span class="lineno"></span><span class="op" id="7761208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7761211">func</span>&nbsp;<span class="ident" id="7761216">newInverseHilbert</span><span class="op" id="7761233">(</span><span class="ident" id="7761234">n</span>&nbsp;<span class="builtintype" id="7761236">int</span><span class="op" id="7761239">)</span>&nbsp;<span class="op" id="7761241">*</span><span class="ident" id="7761242">matrix</span>&nbsp;<span class="op" id="7761249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761252">a</span>&nbsp;<span class="op" id="7761254">:=</span>&nbsp;<span class="ident" id="7761257">newMatrix</span><span class="op" id="7761266">(</span><span class="ident" id="7761267">n</span><span class="op" id="7761268">,</span>&nbsp;<span class="ident" id="7761270">n</span><span class="op" id="7761271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761274">for</span>&nbsp;<span class="ident" id="7761278">i</span>&nbsp;<span class="op" id="7761280">:=</span>&nbsp;<span class="num" id="7761283">0</span><span class="op" id="7761284">;</span>&nbsp;<span class="ident" id="7761286">i</span>&nbsp;<span class="op" id="7761288">&lt;</span>&nbsp;<span class="ident" id="7761290">n</span><span class="op" id="7761291">;</span>&nbsp;<span class="ident" id="7761293">i</span><span class="op" id="7761294">++</span>&nbsp;<span class="op" id="7761297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761301">for</span>&nbsp;<span class="ident" id="7761305">j</span>&nbsp;<span class="op" id="7761307">:=</span>&nbsp;<span class="num" id="7761310">0</span><span class="op" id="7761311">;</span>&nbsp;<span class="ident" id="7761313">j</span>&nbsp;<span class="op" id="7761315">&lt;</span>&nbsp;<span class="ident" id="7761317">n</span><span class="op" id="7761318">;</span>&nbsp;<span class="ident" id="7761320">j</span><span class="op" id="7761321">++</span>&nbsp;<span class="op" id="7761324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761329">x1</span>&nbsp;<span class="op" id="7761332">:=</span>&nbsp;<span class="builtinfunc" id="7761335">new</span><span class="op" id="7761338">(</span><span class="ident" id="7761339">Rat</span><span class="op" id="7761342">)</span><span class="op" id="7761343">.</span><span class="ident" id="7761344">SetInt64</span><span class="op" id="7761352">(</span><span class="ident" id="7761353">int64</span><span class="op" id="7761358">(</span><span class="ident" id="7761359">i</span>&nbsp;<span class="op" id="7761361">+</span>&nbsp;<span class="ident" id="7761363">j</span>&nbsp;<span class="op" id="7761365">+</span>&nbsp;<span class="num" id="7761367">1</span><span class="op" id="7761368">)</span><span class="op" id="7761369">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761374">x2</span>&nbsp;<span class="op" id="7761377">:=</span>&nbsp;<span class="builtinfunc" id="7761380">new</span><span class="op" id="7761383">(</span><span class="ident" id="7761384">Rat</span><span class="op" id="7761387">)</span><span class="op" id="7761388">.</span><span class="ident" id="7761389">SetInt</span><span class="op" id="7761395">(</span><span class="builtinfunc" id="7761396">new</span><span class="op" id="7761399">(</span><span class="ident" id="7761400">Int</span><span class="op" id="7761403">)</span><span class="op" id="7761404">.</span><span class="ident" id="7761405">Binomial</span><span class="op" id="7761413">(</span><span class="ident" id="7761414">int64</span><span class="op" id="7761419">(</span><span class="ident" id="7761420">n</span><span class="op" id="7761421">+</span><span class="ident" id="7761422">i</span><span class="op" id="7761423">)</span><span class="op" id="7761424">,</span>&nbsp;<span class="ident" id="7761426">int64</span><span class="op" id="7761431">(</span><span class="ident" id="7761432">n</span><span class="op" id="7761433">-</span><span class="ident" id="7761434">j</span><span class="op" id="7761435">-</span><span class="num" id="7761436">1</span><span class="op" id="7761437">)</span><span class="op" id="7761438">)</span><span class="op" id="7761439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761444">x3</span>&nbsp;<span class="op" id="7761447">:=</span>&nbsp;<span class="builtinfunc" id="7761450">new</span><span class="op" id="7761453">(</span><span class="ident" id="7761454">Rat</span><span class="op" id="7761457">)</span><span class="op" id="7761458">.</span><span class="ident" id="7761459">SetInt</span><span class="op" id="7761465">(</span><span class="builtinfunc" id="7761466">new</span><span class="op" id="7761469">(</span><span class="ident" id="7761470">Int</span><span class="op" id="7761473">)</span><span class="op" id="7761474">.</span><span class="ident" id="7761475">Binomial</span><span class="op" id="7761483">(</span><span class="ident" id="7761484">int64</span><span class="op" id="7761489">(</span><span class="ident" id="7761490">n</span><span class="op" id="7761491">+</span><span class="ident" id="7761492">j</span><span class="op" id="7761493">)</span><span class="op" id="7761494">,</span>&nbsp;<span class="ident" id="7761496">int64</span><span class="op" id="7761501">(</span><span class="ident" id="7761502">n</span><span class="op" id="7761503">-</span><span class="ident" id="7761504">i</span><span class="op" id="7761505">-</span><span class="num" id="7761506">1</span><span class="op" id="7761507">)</span><span class="op" id="7761508">)</span><span class="op" id="7761509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761514">x4</span>&nbsp;<span class="op" id="7761517">:=</span>&nbsp;<span class="builtinfunc" id="7761520">new</span><span class="op" id="7761523">(</span><span class="ident" id="7761524">Rat</span><span class="op" id="7761527">)</span><span class="op" id="7761528">.</span><span class="ident" id="7761529">SetInt</span><span class="op" id="7761535">(</span><span class="builtinfunc" id="7761536">new</span><span class="op" id="7761539">(</span><span class="ident" id="7761540">Int</span><span class="op" id="7761543">)</span><span class="op" id="7761544">.</span><span class="ident" id="7761545">Binomial</span><span class="op" id="7761553">(</span><span class="ident" id="7761554">int64</span><span class="op" id="7761559">(</span><span class="ident" id="7761560">i</span><span class="op" id="7761561">+</span><span class="ident" id="7761562">j</span><span class="op" id="7761563">)</span><span class="op" id="7761564">,</span>&nbsp;<span class="ident" id="7761566">int64</span><span class="op" id="7761571">(</span><span class="ident" id="7761572">i</span><span class="op" id="7761573">)</span><span class="op" id="7761574">)</span><span class="op" id="7761575">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761581">x1</span><span class="op" id="7761583">.</span><span class="ident" id="7761584">Mul</span><span class="op" id="7761587">(</span><span class="ident" id="7761588">x1</span><span class="op" id="7761590">,</span>&nbsp;<span class="ident" id="7761592">x2</span><span class="op" id="7761594">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761599">x1</span><span class="op" id="7761601">.</span><span class="ident" id="7761602">Mul</span><span class="op" id="7761605">(</span><span class="ident" id="7761606">x1</span><span class="op" id="7761608">,</span>&nbsp;<span class="ident" id="7761610">x3</span><span class="op" id="7761612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761617">x1</span><span class="op" id="7761619">.</span><span class="ident" id="7761620">Mul</span><span class="op" id="7761623">(</span><span class="ident" id="7761624">x1</span><span class="op" id="7761626">,</span>&nbsp;<span class="ident" id="7761628">x4</span><span class="op" id="7761630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761635">x1</span><span class="op" id="7761637">.</span><span class="ident" id="7761638">Mul</span><span class="op" id="7761641">(</span><span class="ident" id="7761642">x1</span><span class="op" id="7761644">,</span>&nbsp;<span class="ident" id="7761646">x4</span><span class="op" id="7761648">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761654">if</span>&nbsp;<span class="op" id="7761657">(</span><span class="ident" id="7761658">i</span><span class="op" id="7761659">+</span><span class="ident" id="7761660">j</span><span class="op" id="7761661">)</span><span class="op" id="7761662">&amp;</span><span class="num" id="7761663">1</span>&nbsp;<span class="op" id="7761665">!=</span>&nbsp;<span class="num" id="7761668">0</span>&nbsp;<span class="op" id="7761670">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761676">x1</span><span class="op" id="7761678">.</span><span class="ident" id="7761679">Neg</span><span class="op" id="7761682">(</span><span class="ident" id="7761683">x1</span><span class="op" id="7761685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761696">a</span><span class="op" id="7761697">.</span><span class="ident" id="7761698">set</span><span class="op" id="7761701">(</span><span class="ident" id="7761702">i</span><span class="op" id="7761703">,</span>&nbsp;<span class="ident" id="7761705">j</span><span class="op" id="7761706">,</span>&nbsp;<span class="ident" id="7761708">x1</span><span class="op" id="7761710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761714">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761720">return</span>&nbsp;<span class="ident" id="7761727">a</span><br>
<span class="lineno"></span><span class="op" id="7761729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7761732">func</span>&nbsp;<span class="op" id="7761737">(</span><span class="ident" id="7761738">a</span>&nbsp;<span class="op" id="7761740">*</span><span class="ident" id="7761741">matrix</span><span class="op" id="7761747">)</span>&nbsp;<span class="ident" id="7761749">mul</span><span class="op" id="7761752">(</span><span class="ident" id="7761753">b</span>&nbsp;<span class="op" id="7761755">*</span><span class="ident" id="7761756">matrix</span><span class="op" id="7761762">)</span>&nbsp;<span class="op" id="7761764">*</span><span class="ident" id="7761765">matrix</span>&nbsp;<span class="op" id="7761772">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761775">if</span>&nbsp;<span class="ident" id="7761778">a</span><span class="op" id="7761779">.</span><span class="ident" id="7761780">m</span>&nbsp;<span class="op" id="7761782">!=</span>&nbsp;<span class="ident" id="7761785">b</span><span class="op" id="7761786">.</span><span class="ident" id="7761787">n</span>&nbsp;<span class="op" id="7761789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7761793">panic</span><span class="op" id="7761798">(</span><span class="string" id="7761799">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7761824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7761827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761830">c</span>&nbsp;<span class="op" id="7761832">:=</span>&nbsp;<span class="ident" id="7761835">newMatrix</span><span class="op" id="7761844">(</span><span class="ident" id="7761845">a</span><span class="op" id="7761846">.</span><span class="ident" id="7761847">n</span><span class="op" id="7761848">,</span>&nbsp;<span class="ident" id="7761850">b</span><span class="op" id="7761851">.</span><span class="ident" id="7761852">m</span><span class="op" id="7761853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761856">for</span>&nbsp;<span class="ident" id="7761860">i</span>&nbsp;<span class="op" id="7761862">:=</span>&nbsp;<span class="num" id="7761865">0</span><span class="op" id="7761866">;</span>&nbsp;<span class="ident" id="7761868">i</span>&nbsp;<span class="op" id="7761870">&lt;</span>&nbsp;<span class="ident" id="7761872">c</span><span class="op" id="7761873">.</span><span class="ident" id="7761874">n</span><span class="op" id="7761875">;</span>&nbsp;<span class="ident" id="7761877">i</span><span class="op" id="7761878">++</span>&nbsp;<span class="op" id="7761881">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761885">for</span>&nbsp;<span class="ident" id="7761889">j</span>&nbsp;<span class="op" id="7761891">:=</span>&nbsp;<span class="num" id="7761894">0</span><span class="op" id="7761895">;</span>&nbsp;<span class="ident" id="7761897">j</span>&nbsp;<span class="op" id="7761899">&lt;</span>&nbsp;<span class="ident" id="7761901">c</span><span class="op" id="7761902">.</span><span class="ident" id="7761903">m</span><span class="op" id="7761904">;</span>&nbsp;<span class="ident" id="7761906">j</span><span class="op" id="7761907">++</span>&nbsp;<span class="op" id="7761910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761915">x</span>&nbsp;<span class="op" id="7761917">:=</span>&nbsp;<span class="ident" id="7761920">NewRat</span><span class="op" id="7761926">(</span><span class="num" id="7761927">0</span><span class="op" id="7761928">,</span>&nbsp;<span class="num" id="7761930">1</span><span class="op" id="7761931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7761936">for</span>&nbsp;<span class="ident" id="7761940">k</span>&nbsp;<span class="op" id="7761942">:=</span>&nbsp;<span class="num" id="7761945">0</span><span class="op" id="7761946">;</span>&nbsp;<span class="ident" id="7761948">k</span>&nbsp;<span class="op" id="7761950">&lt;</span>&nbsp;<span class="ident" id="7761952">a</span><span class="op" id="7761953">.</span><span class="ident" id="7761954">m</span><span class="op" id="7761955">;</span>&nbsp;<span class="ident" id="7761957">k</span><span class="op" id="7761958">++</span>&nbsp;<span class="op" id="7761961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7761967">x</span><span class="op" id="7761968">.</span><span class="ident" id="7761969">Add</span><span class="op" id="7761972">(</span><span class="ident" id="7761973">x</span><span class="op" id="7761974">,</span>&nbsp;<span class="builtinfunc" id="7761976">new</span><span class="op" id="7761979">(</span><span class="ident" id="7761980">Rat</span><span class="op" id="7761983">)</span><span class="op" id="7761984">.</span><span class="ident" id="7761985">Mul</span><span class="op" id="7761988">(</span><span class="ident" id="7761989">a</span><span class="op" id="7761990">.</span><span class="ident" id="7761991">at</span><span class="op" id="7761993">(</span><span class="ident" id="7761994">i</span><span class="op" id="7761995">,</span>&nbsp;<span class="ident" id="7761997">k</span><span class="op" id="7761998">)</span><span class="op" id="7761999">,</span>&nbsp;<span class="ident" id="7762001">b</span><span class="op" id="7762002">.</span><span class="ident" id="7762003">at</span><span class="op" id="7762005">(</span><span class="ident" id="7762006">k</span><span class="op" id="7762007">,</span>&nbsp;<span class="ident" id="7762009">j</span><span class="op" id="7762010">)</span><span class="op" id="7762011">)</span><span class="op" id="7762012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762017">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762022">c</span><span class="op" id="7762023">.</span><span class="ident" id="7762024">set</span><span class="op" id="7762027">(</span><span class="ident" id="7762028">i</span><span class="op" id="7762029">,</span>&nbsp;<span class="ident" id="7762031">j</span><span class="op" id="7762032">,</span>&nbsp;<span class="ident" id="7762034">x</span><span class="op" id="7762035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762045">return</span>&nbsp;<span class="ident" id="7762052">c</span><br>
<span class="lineno"></span><span class="op" id="7762054">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7762057">func</span>&nbsp;<span class="op" id="7762062">(</span><span class="ident" id="7762063">a</span>&nbsp;<span class="op" id="7762065">*</span><span class="ident" id="7762066">matrix</span><span class="op" id="7762072">)</span>&nbsp;<span class="ident" id="7762074">eql</span><span class="op" id="7762077">(</span><span class="ident" id="7762078">b</span>&nbsp;<span class="op" id="7762080">*</span><span class="ident" id="7762081">matrix</span><span class="op" id="7762087">)</span>&nbsp;<span class="builtintype" id="7762089">bool</span>&nbsp;<span class="op" id="7762094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762097">if</span>&nbsp;<span class="ident" id="7762100">a</span><span class="op" id="7762101">.</span><span class="ident" id="7762102">n</span>&nbsp;<span class="op" id="7762104">!=</span>&nbsp;<span class="ident" id="7762107">b</span><span class="op" id="7762108">.</span><span class="ident" id="7762109">n</span>&nbsp;<span class="op" id="7762111">||</span>&nbsp;<span class="ident" id="7762114">a</span><span class="op" id="7762115">.</span><span class="ident" id="7762116">m</span>&nbsp;<span class="op" id="7762118">!=</span>&nbsp;<span class="ident" id="7762121">b</span><span class="op" id="7762122">.</span><span class="ident" id="7762123">m</span>&nbsp;<span class="op" id="7762125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762129">return</span>&nbsp;<span class="builtintype" id="7762136">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762143">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762146">for</span>&nbsp;<span class="ident" id="7762150">i</span>&nbsp;<span class="op" id="7762152">:=</span>&nbsp;<span class="num" id="7762155">0</span><span class="op" id="7762156">;</span>&nbsp;<span class="ident" id="7762158">i</span>&nbsp;<span class="op" id="7762160">&lt;</span>&nbsp;<span class="ident" id="7762162">a</span><span class="op" id="7762163">.</span><span class="ident" id="7762164">n</span><span class="op" id="7762165">;</span>&nbsp;<span class="ident" id="7762167">i</span><span class="op" id="7762168">++</span>&nbsp;<span class="op" id="7762171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762175">for</span>&nbsp;<span class="ident" id="7762179">j</span>&nbsp;<span class="op" id="7762181">:=</span>&nbsp;<span class="num" id="7762184">0</span><span class="op" id="7762185">;</span>&nbsp;<span class="ident" id="7762187">j</span>&nbsp;<span class="op" id="7762189">&lt;</span>&nbsp;<span class="ident" id="7762191">a</span><span class="op" id="7762192">.</span><span class="ident" id="7762193">m</span><span class="op" id="7762194">;</span>&nbsp;<span class="ident" id="7762196">j</span><span class="op" id="7762197">++</span>&nbsp;<span class="op" id="7762200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762205">if</span>&nbsp;<span class="ident" id="7762208">a</span><span class="op" id="7762209">.</span><span class="ident" id="7762210">at</span><span class="op" id="7762212">(</span><span class="ident" id="7762213">i</span><span class="op" id="7762214">,</span>&nbsp;<span class="ident" id="7762216">j</span><span class="op" id="7762217">)</span><span class="op" id="7762218">.</span><span class="ident" id="7762219">Cmp</span><span class="op" id="7762222">(</span><span class="ident" id="7762223">b</span><span class="op" id="7762224">.</span><span class="ident" id="7762225">at</span><span class="op" id="7762227">(</span><span class="ident" id="7762228">i</span><span class="op" id="7762229">,</span>&nbsp;<span class="ident" id="7762231">j</span><span class="op" id="7762232">)</span><span class="op" id="7762233">)</span>&nbsp;<span class="op" id="7762235">!=</span>&nbsp;<span class="num" id="7762238">0</span>&nbsp;<span class="op" id="7762240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762246">return</span>&nbsp;<span class="builtintype" id="7762253">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762262">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762272">return</span>&nbsp;<span class="builtintype" id="7762279">true</span><br>
<span class="lineno"></span><span class="op" id="7762284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7762287">func</span>&nbsp;<span class="op" id="7762292">(</span><span class="ident" id="7762293">a</span>&nbsp;<span class="op" id="7762295">*</span><span class="ident" id="7762296">matrix</span><span class="op" id="7762302">)</span>&nbsp;<span class="ident" id="7762304">String</span><span class="op" id="7762310">(</span><span class="op" id="7762311">)</span>&nbsp;<span class="builtintype" id="7762313">string</span>&nbsp;<span class="op" id="7762320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762323">s</span>&nbsp;<span class="op" id="7762325">:=</span>&nbsp;<span class="string" id="7762328">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762332">for</span>&nbsp;<span class="ident" id="7762336">i</span>&nbsp;<span class="op" id="7762338">:=</span>&nbsp;<span class="num" id="7762341">0</span><span class="op" id="7762342">;</span>&nbsp;<span class="ident" id="7762344">i</span>&nbsp;<span class="op" id="7762346">&lt;</span>&nbsp;<span class="ident" id="7762348">a</span><span class="op" id="7762349">.</span><span class="ident" id="7762350">n</span><span class="op" id="7762351">;</span>&nbsp;<span class="ident" id="7762353">i</span><span class="op" id="7762354">++</span>&nbsp;<span class="op" id="7762357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762361">for</span>&nbsp;<span class="ident" id="7762365">j</span>&nbsp;<span class="op" id="7762367">:=</span>&nbsp;<span class="num" id="7762370">0</span><span class="op" id="7762371">;</span>&nbsp;<span class="ident" id="7762373">j</span>&nbsp;<span class="op" id="7762375">&lt;</span>&nbsp;<span class="ident" id="7762377">a</span><span class="op" id="7762378">.</span><span class="ident" id="7762379">m</span><span class="op" id="7762380">;</span>&nbsp;<span class="ident" id="7762382">j</span><span class="op" id="7762383">++</span>&nbsp;<span class="op" id="7762386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762391">s</span>&nbsp;<span class="op" id="7762393">+=</span>&nbsp;<span class="ident" id="7762396">fmt</span><span class="op" id="7762399">.</span><span class="ident" id="7762400">Sprintf</span><span class="op" id="7762407">(</span><span class="string" id="7762408">&#34;\t%s&#34;</span><span class="op" id="7762414">,</span>&nbsp;<span class="ident" id="7762416">a</span><span class="op" id="7762417">.</span><span class="ident" id="7762418">at</span><span class="op" id="7762420">(</span><span class="ident" id="7762421">i</span><span class="op" id="7762422">,</span>&nbsp;<span class="ident" id="7762424">j</span><span class="op" id="7762425">)</span><span class="op" id="7762426">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762434">s</span>&nbsp;<span class="op" id="7762436">+=</span>&nbsp;<span class="string" id="7762439">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762448">return</span>&nbsp;<span class="ident" id="7762455">s</span><br>
<span class="lineno"></span><span class="op" id="7762457">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7762460">func</span>&nbsp;<span class="ident" id="7762465">doHilbert</span><span class="op" id="7762474">(</span><span class="ident" id="7762475">t</span>&nbsp;<span class="op" id="7762477">*</span><span class="ident" id="7762478">testing</span><span class="op" id="7762485">.</span><span class="ident" id="7762486">T</span><span class="op" id="7762487">,</span>&nbsp;<span class="ident" id="7762489">n</span>&nbsp;<span class="builtintype" id="7762491">int</span><span class="op" id="7762494">)</span>&nbsp;<span class="op" id="7762496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762499">a</span>&nbsp;<span class="op" id="7762501">:=</span>&nbsp;<span class="ident" id="7762504">newHilbert</span><span class="op" id="7762514">(</span><span class="ident" id="7762515">n</span><span class="op" id="7762516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762519">b</span>&nbsp;<span class="op" id="7762521">:=</span>&nbsp;<span class="ident" id="7762524">newInverseHilbert</span><span class="op" id="7762541">(</span><span class="ident" id="7762542">n</span><span class="op" id="7762543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762546">I</span>&nbsp;<span class="op" id="7762548">:=</span>&nbsp;<span class="ident" id="7762551">newUnit</span><span class="op" id="7762558">(</span><span class="ident" id="7762559">n</span><span class="op" id="7762560">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762563">ab</span>&nbsp;<span class="op" id="7762566">:=</span>&nbsp;<span class="ident" id="7762569">a</span><span class="op" id="7762570">.</span><span class="ident" id="7762571">mul</span><span class="op" id="7762574">(</span><span class="ident" id="7762575">b</span><span class="op" id="7762576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762579">if</span>&nbsp;<span class="op" id="7762582">!</span><span class="ident" id="7762583">ab</span><span class="op" id="7762585">.</span><span class="ident" id="7762586">eql</span><span class="op" id="7762589">(</span><span class="ident" id="7762590">I</span><span class="op" id="7762591">)</span>&nbsp;<span class="op" id="7762593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762597">if</span>&nbsp;<span class="ident" id="7762600">t</span>&nbsp;<span class="op" id="7762602">==</span>&nbsp;<span class="ident" id="7762605">nil</span>&nbsp;<span class="op" id="7762609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7762614">panic</span><span class="op" id="7762619">(</span><span class="string" id="7762620">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7762636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762640">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762644">t</span><span class="op" id="7762645">.</span><span class="ident" id="7762646">Errorf</span><span class="op" id="7762652">(</span><span class="string" id="7762653">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7762665">,</span>&nbsp;<span class="ident" id="7762667">a</span><span class="op" id="7762668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762672">t</span><span class="op" id="7762673">.</span><span class="ident" id="7762674">Errorf</span><span class="op" id="7762680">(</span><span class="string" id="7762681">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7762693">,</span>&nbsp;<span class="ident" id="7762695">b</span><span class="op" id="7762696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762700">t</span><span class="op" id="7762701">.</span><span class="ident" id="7762702">Errorf</span><span class="op" id="7762708">(</span><span class="string" id="7762709">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7762721">,</span>&nbsp;<span class="ident" id="7762723">ab</span><span class="op" id="7762725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762729">t</span><span class="op" id="7762730">.</span><span class="ident" id="7762731">Errorf</span><span class="op" id="7762737">(</span><span class="string" id="7762738">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7762750">,</span>&nbsp;<span class="ident" id="7762752">I</span><span class="op" id="7762753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762756">}</span><br>
<span class="lineno">150</span><span class="op" id="7762758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7762761">func</span>&nbsp;<span class="ident" id="7762766">TestHilbert</span><span class="op" id="7762777">(</span><span class="ident" id="7762778">t</span>&nbsp;<span class="op" id="7762780">*</span><span class="ident" id="7762781">testing</span><span class="op" id="7762788">.</span><span class="ident" id="7762789">T</span><span class="op" id="7762790">)</span>&nbsp;<span class="op" id="7762792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762795">doHilbert</span><span class="op" id="7762804">(</span><span class="ident" id="7762805">t</span><span class="op" id="7762806">,</span>&nbsp;<span class="num" id="7762808">10</span><span class="op" id="7762810">)</span><br>
<span class="lineno"></span><span class="op" id="7762812">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7762815">func</span>&nbsp;<span class="ident" id="7762820">BenchmarkHilbert</span><span class="op" id="7762836">(</span><span class="ident" id="7762837">b</span>&nbsp;<span class="op" id="7762839">*</span><span class="ident" id="7762840">testing</span><span class="op" id="7762847">.</span><span class="ident" id="7762848">B</span><span class="op" id="7762849">)</span>&nbsp;<span class="op" id="7762851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762854">for</span>&nbsp;<span class="ident" id="7762858">i</span>&nbsp;<span class="op" id="7762860">:=</span>&nbsp;<span class="num" id="7762863">0</span><span class="op" id="7762864">;</span>&nbsp;<span class="ident" id="7762866">i</span>&nbsp;<span class="op" id="7762868">&lt;</span>&nbsp;<span class="ident" id="7762870">b</span><span class="op" id="7762871">.</span><span class="ident" id="7762872">N</span><span class="op" id="7762873">;</span>&nbsp;<span class="ident" id="7762875">i</span><span class="op" id="7762876">++</span>&nbsp;<span class="op" id="7762879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762883">doHilbert</span><span class="op" id="7762892">(</span><span class="ident" id="7762893">nil</span><span class="op" id="7762896">,</span>&nbsp;<span class="num" id="7762898">10</span><span class="op" id="7762900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762903">}</span><br>
<span class="lineno">160</span><span class="op" id="7762905">}</span>
</div>
</body>
</html>
