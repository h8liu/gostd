<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8434964">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8435019">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8435073">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8435124">package</span>&nbsp;<span class="ident" id="8435132">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8435139">import</span>&nbsp;<span class="op" id="8435146">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8435149">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8435157">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8435164">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8435175">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8435185">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8435188">var</span>&nbsp;<span class="ident" id="8435192">debug</span>&nbsp;<span class="op" id="8435198">=</span>&nbsp;<span class="ident" id="8435200">flag</span><span class="op" id="8435204">.</span><span class="ident" id="8435205">Bool</span><span class="op" id="8435209">(</span><span class="string" id="8435210">&#34;debug&#34;</span><span class="op" id="8435217">,</span>&nbsp;<span class="builtintype" id="8435219">false</span><span class="op" id="8435224">,</span>&nbsp;<span class="string" id="8435226">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="8435270">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8435273">type</span>&nbsp;<span class="ident" id="8435278">numberTest</span>&nbsp;<span class="keyword" id="8435289">struct</span>&nbsp;<span class="op" id="8435296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435299">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8435309">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435317">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8435327">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435333">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8435343">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435349">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8435359">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435365">isComplex</span>&nbsp;<span class="builtintype" id="8435375">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435381">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435388">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8435396">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8435405">complex128</span><br>
<span class="lineno"></span><span class="op" id="8435416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8435419">var</span>&nbsp;<span class="ident" id="8435423">numberTests</span>&nbsp;<span class="op" id="8435435">=</span>&nbsp;<span class="op" id="8435437">[</span><span class="op" id="8435438">]</span><span class="ident" id="8435439">numberTest</span><span class="op" id="8435449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8435452">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435463">{</span><span class="string" id="8435464">&#34;0&#34;</span><span class="op" id="8435467">,</span>&nbsp;<span class="builtintype" id="8435469">true</span><span class="op" id="8435473">,</span>&nbsp;<span class="builtintype" id="8435475">true</span><span class="op" id="8435479">,</span>&nbsp;<span class="builtintype" id="8435481">true</span><span class="op" id="8435485">,</span>&nbsp;<span class="builtintype" id="8435487">false</span><span class="op" id="8435492">,</span>&nbsp;<span class="num" id="8435494">0</span><span class="op" id="8435495">,</span>&nbsp;<span class="num" id="8435497">0</span><span class="op" id="8435498">,</span>&nbsp;<span class="num" id="8435500">0</span><span class="op" id="8435501">,</span>&nbsp;<span class="num" id="8435503">0</span><span class="op" id="8435504">}</span><span class="op" id="8435505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435508">{</span><span class="string" id="8435509">&#34;-0&#34;</span><span class="op" id="8435513">,</span>&nbsp;<span class="builtintype" id="8435515">true</span><span class="op" id="8435519">,</span>&nbsp;<span class="builtintype" id="8435521">true</span><span class="op" id="8435525">,</span>&nbsp;<span class="builtintype" id="8435527">true</span><span class="op" id="8435531">,</span>&nbsp;<span class="builtintype" id="8435533">false</span><span class="op" id="8435538">,</span>&nbsp;<span class="num" id="8435540">0</span><span class="op" id="8435541">,</span>&nbsp;<span class="num" id="8435543">0</span><span class="op" id="8435544">,</span>&nbsp;<span class="num" id="8435546">0</span><span class="op" id="8435547">,</span>&nbsp;<span class="num" id="8435549">0</span><span class="op" id="8435550">}</span><span class="op" id="8435551">,</span>&nbsp;<span class="comment" id="8435553">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435582">{</span><span class="string" id="8435583">&#34;73&#34;</span><span class="op" id="8435587">,</span>&nbsp;<span class="builtintype" id="8435589">true</span><span class="op" id="8435593">,</span>&nbsp;<span class="builtintype" id="8435595">true</span><span class="op" id="8435599">,</span>&nbsp;<span class="builtintype" id="8435601">true</span><span class="op" id="8435605">,</span>&nbsp;<span class="builtintype" id="8435607">false</span><span class="op" id="8435612">,</span>&nbsp;<span class="num" id="8435614">73</span><span class="op" id="8435616">,</span>&nbsp;<span class="num" id="8435618">73</span><span class="op" id="8435620">,</span>&nbsp;<span class="num" id="8435622">73</span><span class="op" id="8435624">,</span>&nbsp;<span class="num" id="8435626">0</span><span class="op" id="8435627">}</span><span class="op" id="8435628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435631">{</span><span class="string" id="8435632">&#34;073&#34;</span><span class="op" id="8435637">,</span>&nbsp;<span class="builtintype" id="8435639">true</span><span class="op" id="8435643">,</span>&nbsp;<span class="builtintype" id="8435645">true</span><span class="op" id="8435649">,</span>&nbsp;<span class="builtintype" id="8435651">true</span><span class="op" id="8435655">,</span>&nbsp;<span class="builtintype" id="8435657">false</span><span class="op" id="8435662">,</span>&nbsp;<span class="num" id="8435664">073</span><span class="op" id="8435667">,</span>&nbsp;<span class="num" id="8435669">073</span><span class="op" id="8435672">,</span>&nbsp;<span class="num" id="8435674">073</span><span class="op" id="8435677">,</span>&nbsp;<span class="num" id="8435679">0</span><span class="op" id="8435680">}</span><span class="op" id="8435681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435684">{</span><span class="string" id="8435685">&#34;0x73&#34;</span><span class="op" id="8435691">,</span>&nbsp;<span class="builtintype" id="8435693">true</span><span class="op" id="8435697">,</span>&nbsp;<span class="builtintype" id="8435699">true</span><span class="op" id="8435703">,</span>&nbsp;<span class="builtintype" id="8435705">true</span><span class="op" id="8435709">,</span>&nbsp;<span class="builtintype" id="8435711">false</span><span class="op" id="8435716">,</span>&nbsp;<span class="num" id="8435718">0x73</span><span class="op" id="8435722">,</span>&nbsp;<span class="num" id="8435724">0x73</span><span class="op" id="8435728">,</span>&nbsp;<span class="num" id="8435730">0x73</span><span class="op" id="8435734">,</span>&nbsp;<span class="num" id="8435736">0</span><span class="op" id="8435737">}</span><span class="op" id="8435738">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435741">{</span><span class="string" id="8435742">&#34;-73&#34;</span><span class="op" id="8435747">,</span>&nbsp;<span class="builtintype" id="8435749">true</span><span class="op" id="8435753">,</span>&nbsp;<span class="builtintype" id="8435755">false</span><span class="op" id="8435760">,</span>&nbsp;<span class="builtintype" id="8435762">true</span><span class="op" id="8435766">,</span>&nbsp;<span class="builtintype" id="8435768">false</span><span class="op" id="8435773">,</span>&nbsp;<span class="op" id="8435775">-</span><span class="num" id="8435776">73</span><span class="op" id="8435778">,</span>&nbsp;<span class="num" id="8435780">0</span><span class="op" id="8435781">,</span>&nbsp;<span class="op" id="8435783">-</span><span class="num" id="8435784">73</span><span class="op" id="8435786">,</span>&nbsp;<span class="num" id="8435788">0</span><span class="op" id="8435789">}</span><span class="op" id="8435790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435793">{</span><span class="string" id="8435794">&#34;+73&#34;</span><span class="op" id="8435799">,</span>&nbsp;<span class="builtintype" id="8435801">true</span><span class="op" id="8435805">,</span>&nbsp;<span class="builtintype" id="8435807">false</span><span class="op" id="8435812">,</span>&nbsp;<span class="builtintype" id="8435814">true</span><span class="op" id="8435818">,</span>&nbsp;<span class="builtintype" id="8435820">false</span><span class="op" id="8435825">,</span>&nbsp;<span class="num" id="8435827">73</span><span class="op" id="8435829">,</span>&nbsp;<span class="num" id="8435831">0</span><span class="op" id="8435832">,</span>&nbsp;<span class="num" id="8435834">73</span><span class="op" id="8435836">,</span>&nbsp;<span class="num" id="8435838">0</span><span class="op" id="8435839">}</span><span class="op" id="8435840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435843">{</span><span class="string" id="8435844">&#34;100&#34;</span><span class="op" id="8435849">,</span>&nbsp;<span class="builtintype" id="8435851">true</span><span class="op" id="8435855">,</span>&nbsp;<span class="builtintype" id="8435857">true</span><span class="op" id="8435861">,</span>&nbsp;<span class="builtintype" id="8435863">true</span><span class="op" id="8435867">,</span>&nbsp;<span class="builtintype" id="8435869">false</span><span class="op" id="8435874">,</span>&nbsp;<span class="num" id="8435876">100</span><span class="op" id="8435879">,</span>&nbsp;<span class="num" id="8435881">100</span><span class="op" id="8435884">,</span>&nbsp;<span class="num" id="8435886">100</span><span class="op" id="8435889">,</span>&nbsp;<span class="num" id="8435891">0</span><span class="op" id="8435892">}</span><span class="op" id="8435893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435896">{</span><span class="string" id="8435897">&#34;1e9&#34;</span><span class="op" id="8435902">,</span>&nbsp;<span class="builtintype" id="8435904">true</span><span class="op" id="8435908">,</span>&nbsp;<span class="builtintype" id="8435910">true</span><span class="op" id="8435914">,</span>&nbsp;<span class="builtintype" id="8435916">true</span><span class="op" id="8435920">,</span>&nbsp;<span class="builtintype" id="8435922">false</span><span class="op" id="8435927">,</span>&nbsp;<span class="num" id="8435929">1e9</span><span class="op" id="8435932">,</span>&nbsp;<span class="num" id="8435934">1e9</span><span class="op" id="8435937">,</span>&nbsp;<span class="num" id="8435939">1e9</span><span class="op" id="8435942">,</span>&nbsp;<span class="num" id="8435944">0</span><span class="op" id="8435945">}</span><span class="op" id="8435946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435949">{</span><span class="string" id="8435950">&#34;-1e9&#34;</span><span class="op" id="8435956">,</span>&nbsp;<span class="builtintype" id="8435958">true</span><span class="op" id="8435962">,</span>&nbsp;<span class="builtintype" id="8435964">false</span><span class="op" id="8435969">,</span>&nbsp;<span class="builtintype" id="8435971">true</span><span class="op" id="8435975">,</span>&nbsp;<span class="builtintype" id="8435977">false</span><span class="op" id="8435982">,</span>&nbsp;<span class="op" id="8435984">-</span><span class="num" id="8435985">1e9</span><span class="op" id="8435988">,</span>&nbsp;<span class="num" id="8435990">0</span><span class="op" id="8435991">,</span>&nbsp;<span class="op" id="8435993">-</span><span class="num" id="8435994">1e9</span><span class="op" id="8435997">,</span>&nbsp;<span class="num" id="8435999">0</span><span class="op" id="8436000">}</span><span class="op" id="8436001">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436004">{</span><span class="string" id="8436005">&#34;-1.2&#34;</span><span class="op" id="8436011">,</span>&nbsp;<span class="builtintype" id="8436013">false</span><span class="op" id="8436018">,</span>&nbsp;<span class="builtintype" id="8436020">false</span><span class="op" id="8436025">,</span>&nbsp;<span class="builtintype" id="8436027">true</span><span class="op" id="8436031">,</span>&nbsp;<span class="builtintype" id="8436033">false</span><span class="op" id="8436038">,</span>&nbsp;<span class="num" id="8436040">0</span><span class="op" id="8436041">,</span>&nbsp;<span class="num" id="8436043">0</span><span class="op" id="8436044">,</span>&nbsp;<span class="op" id="8436046">-</span><span class="num" id="8436047">1.2</span><span class="op" id="8436050">,</span>&nbsp;<span class="num" id="8436052">0</span><span class="op" id="8436053">}</span><span class="op" id="8436054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436057">{</span><span class="string" id="8436058">&#34;1e19&#34;</span><span class="op" id="8436064">,</span>&nbsp;<span class="builtintype" id="8436066">false</span><span class="op" id="8436071">,</span>&nbsp;<span class="builtintype" id="8436073">true</span><span class="op" id="8436077">,</span>&nbsp;<span class="builtintype" id="8436079">true</span><span class="op" id="8436083">,</span>&nbsp;<span class="builtintype" id="8436085">false</span><span class="op" id="8436090">,</span>&nbsp;<span class="num" id="8436092">0</span><span class="op" id="8436093">,</span>&nbsp;<span class="num" id="8436095">1e19</span><span class="op" id="8436099">,</span>&nbsp;<span class="num" id="8436101">1e19</span><span class="op" id="8436105">,</span>&nbsp;<span class="num" id="8436107">0</span><span class="op" id="8436108">}</span><span class="op" id="8436109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436112">{</span><span class="string" id="8436113">&#34;-1e19&#34;</span><span class="op" id="8436120">,</span>&nbsp;<span class="builtintype" id="8436122">false</span><span class="op" id="8436127">,</span>&nbsp;<span class="builtintype" id="8436129">false</span><span class="op" id="8436134">,</span>&nbsp;<span class="builtintype" id="8436136">true</span><span class="op" id="8436140">,</span>&nbsp;<span class="builtintype" id="8436142">false</span><span class="op" id="8436147">,</span>&nbsp;<span class="num" id="8436149">0</span><span class="op" id="8436150">,</span>&nbsp;<span class="num" id="8436152">0</span><span class="op" id="8436153">,</span>&nbsp;<span class="op" id="8436155">-</span><span class="num" id="8436156">1e19</span><span class="op" id="8436160">,</span>&nbsp;<span class="num" id="8436162">0</span><span class="op" id="8436163">}</span><span class="op" id="8436164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436167">{</span><span class="string" id="8436168">&#34;4i&#34;</span><span class="op" id="8436172">,</span>&nbsp;<span class="builtintype" id="8436174">false</span><span class="op" id="8436179">,</span>&nbsp;<span class="builtintype" id="8436181">false</span><span class="op" id="8436186">,</span>&nbsp;<span class="builtintype" id="8436188">false</span><span class="op" id="8436193">,</span>&nbsp;<span class="builtintype" id="8436195">true</span><span class="op" id="8436199">,</span>&nbsp;<span class="num" id="8436201">0</span><span class="op" id="8436202">,</span>&nbsp;<span class="num" id="8436204">0</span><span class="op" id="8436205">,</span>&nbsp;<span class="num" id="8436207">0</span><span class="op" id="8436208">,</span>&nbsp;<span class="num" id="8436210">4i</span><span class="op" id="8436212">}</span><span class="op" id="8436213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436216">{</span><span class="string" id="8436217">&#34;-1.2+4.2i&#34;</span><span class="op" id="8436228">,</span>&nbsp;<span class="builtintype" id="8436230">false</span><span class="op" id="8436235">,</span>&nbsp;<span class="builtintype" id="8436237">false</span><span class="op" id="8436242">,</span>&nbsp;<span class="builtintype" id="8436244">false</span><span class="op" id="8436249">,</span>&nbsp;<span class="builtintype" id="8436251">true</span><span class="op" id="8436255">,</span>&nbsp;<span class="num" id="8436257">0</span><span class="op" id="8436258">,</span>&nbsp;<span class="num" id="8436260">0</span><span class="op" id="8436261">,</span>&nbsp;<span class="num" id="8436263">0</span><span class="op" id="8436264">,</span>&nbsp;<span class="op" id="8436266">-</span><span class="num" id="8436267">1.2</span>&nbsp;<span class="op" id="8436271">+</span>&nbsp;<span class="num" id="8436273">4.2i</span><span class="op" id="8436277">}</span><span class="op" id="8436278">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436281">{</span><span class="string" id="8436282">&#34;073i&#34;</span><span class="op" id="8436288">,</span>&nbsp;<span class="builtintype" id="8436290">false</span><span class="op" id="8436295">,</span>&nbsp;<span class="builtintype" id="8436297">false</span><span class="op" id="8436302">,</span>&nbsp;<span class="builtintype" id="8436304">false</span><span class="op" id="8436309">,</span>&nbsp;<span class="builtintype" id="8436311">true</span><span class="op" id="8436315">,</span>&nbsp;<span class="num" id="8436317">0</span><span class="op" id="8436318">,</span>&nbsp;<span class="num" id="8436320">0</span><span class="op" id="8436321">,</span>&nbsp;<span class="num" id="8436323">0</span><span class="op" id="8436324">,</span>&nbsp;<span class="num" id="8436326">73i</span><span class="op" id="8436329">}</span><span class="op" id="8436330">,</span>&nbsp;<span class="comment" id="8436332">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436347">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436406">{</span><span class="string" id="8436407">&#34;0i&#34;</span><span class="op" id="8436411">,</span>&nbsp;<span class="builtintype" id="8436413">true</span><span class="op" id="8436417">,</span>&nbsp;<span class="builtintype" id="8436419">true</span><span class="op" id="8436423">,</span>&nbsp;<span class="builtintype" id="8436425">true</span><span class="op" id="8436429">,</span>&nbsp;<span class="builtintype" id="8436431">true</span><span class="op" id="8436435">,</span>&nbsp;<span class="num" id="8436437">0</span><span class="op" id="8436438">,</span>&nbsp;<span class="num" id="8436440">0</span><span class="op" id="8436441">,</span>&nbsp;<span class="num" id="8436443">0</span><span class="op" id="8436444">,</span>&nbsp;<span class="num" id="8436446">0</span><span class="op" id="8436447">}</span><span class="op" id="8436448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436451">{</span><span class="string" id="8436452">&#34;-1.2+0i&#34;</span><span class="op" id="8436461">,</span>&nbsp;<span class="builtintype" id="8436463">false</span><span class="op" id="8436468">,</span>&nbsp;<span class="builtintype" id="8436470">false</span><span class="op" id="8436475">,</span>&nbsp;<span class="builtintype" id="8436477">true</span><span class="op" id="8436481">,</span>&nbsp;<span class="builtintype" id="8436483">true</span><span class="op" id="8436487">,</span>&nbsp;<span class="num" id="8436489">0</span><span class="op" id="8436490">,</span>&nbsp;<span class="num" id="8436492">0</span><span class="op" id="8436493">,</span>&nbsp;<span class="op" id="8436495">-</span><span class="num" id="8436496">1.2</span><span class="op" id="8436499">,</span>&nbsp;<span class="op" id="8436501">-</span><span class="num" id="8436502">1.2</span><span class="op" id="8436505">}</span><span class="op" id="8436506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436509">{</span><span class="string" id="8436510">&#34;-12+0i&#34;</span><span class="op" id="8436518">,</span>&nbsp;<span class="builtintype" id="8436520">true</span><span class="op" id="8436524">,</span>&nbsp;<span class="builtintype" id="8436526">false</span><span class="op" id="8436531">,</span>&nbsp;<span class="builtintype" id="8436533">true</span><span class="op" id="8436537">,</span>&nbsp;<span class="builtintype" id="8436539">true</span><span class="op" id="8436543">,</span>&nbsp;<span class="op" id="8436545">-</span><span class="num" id="8436546">12</span><span class="op" id="8436548">,</span>&nbsp;<span class="num" id="8436550">0</span><span class="op" id="8436551">,</span>&nbsp;<span class="op" id="8436553">-</span><span class="num" id="8436554">12</span><span class="op" id="8436556">,</span>&nbsp;<span class="op" id="8436558">-</span><span class="num" id="8436559">12</span><span class="op" id="8436561">}</span><span class="op" id="8436562">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436565">{</span><span class="string" id="8436566">&#34;13+0i&#34;</span><span class="op" id="8436573">,</span>&nbsp;<span class="builtintype" id="8436575">true</span><span class="op" id="8436579">,</span>&nbsp;<span class="builtintype" id="8436581">true</span><span class="op" id="8436585">,</span>&nbsp;<span class="builtintype" id="8436587">true</span><span class="op" id="8436591">,</span>&nbsp;<span class="builtintype" id="8436593">true</span><span class="op" id="8436597">,</span>&nbsp;<span class="num" id="8436599">13</span><span class="op" id="8436601">,</span>&nbsp;<span class="num" id="8436603">13</span><span class="op" id="8436605">,</span>&nbsp;<span class="num" id="8436607">13</span><span class="op" id="8436609">,</span>&nbsp;<span class="num" id="8436611">13</span><span class="op" id="8436613">}</span><span class="op" id="8436614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436617">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436633">{</span><span class="string" id="8436634">&#34;0123&#34;</span><span class="op" id="8436640">,</span>&nbsp;<span class="builtintype" id="8436642">true</span><span class="op" id="8436646">,</span>&nbsp;<span class="builtintype" id="8436648">true</span><span class="op" id="8436652">,</span>&nbsp;<span class="builtintype" id="8436654">true</span><span class="op" id="8436658">,</span>&nbsp;<span class="builtintype" id="8436660">false</span><span class="op" id="8436665">,</span>&nbsp;<span class="num" id="8436667">0123</span><span class="op" id="8436671">,</span>&nbsp;<span class="num" id="8436673">0123</span><span class="op" id="8436677">,</span>&nbsp;<span class="num" id="8436679">0123</span><span class="op" id="8436683">,</span>&nbsp;<span class="num" id="8436685">0</span><span class="op" id="8436686">}</span><span class="op" id="8436687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436690">{</span><span class="string" id="8436691">&#34;-0x0&#34;</span><span class="op" id="8436697">,</span>&nbsp;<span class="builtintype" id="8436699">true</span><span class="op" id="8436703">,</span>&nbsp;<span class="builtintype" id="8436705">true</span><span class="op" id="8436709">,</span>&nbsp;<span class="builtintype" id="8436711">true</span><span class="op" id="8436715">,</span>&nbsp;<span class="builtintype" id="8436717">false</span><span class="op" id="8436722">,</span>&nbsp;<span class="num" id="8436724">0</span><span class="op" id="8436725">,</span>&nbsp;<span class="num" id="8436727">0</span><span class="op" id="8436728">,</span>&nbsp;<span class="num" id="8436730">0</span><span class="op" id="8436731">,</span>&nbsp;<span class="num" id="8436733">0</span><span class="op" id="8436734">}</span><span class="op" id="8436735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436738">{</span><span class="string" id="8436739">&#34;0xdeadbeef&#34;</span><span class="op" id="8436751">,</span>&nbsp;<span class="builtintype" id="8436753">true</span><span class="op" id="8436757">,</span>&nbsp;<span class="builtintype" id="8436759">true</span><span class="op" id="8436763">,</span>&nbsp;<span class="builtintype" id="8436765">true</span><span class="op" id="8436769">,</span>&nbsp;<span class="builtintype" id="8436771">false</span><span class="op" id="8436776">,</span>&nbsp;<span class="num" id="8436778">0xdeadbeef</span><span class="op" id="8436788">,</span>&nbsp;<span class="num" id="8436790">0xdeadbeef</span><span class="op" id="8436800">,</span>&nbsp;<span class="num" id="8436802">0xdeadbeef</span><span class="op" id="8436812">,</span>&nbsp;<span class="num" id="8436814">0</span><span class="op" id="8436815">}</span><span class="op" id="8436816">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436819">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436843">{</span><span class="string" id="8436844">`&#39;a&#39;`</span><span class="op" id="8436849">,</span>&nbsp;<span class="builtintype" id="8436851">true</span><span class="op" id="8436855">,</span>&nbsp;<span class="builtintype" id="8436857">true</span><span class="op" id="8436861">,</span>&nbsp;<span class="builtintype" id="8436863">true</span><span class="op" id="8436867">,</span>&nbsp;<span class="builtintype" id="8436869">false</span><span class="op" id="8436874">,</span>&nbsp;<span class="string" id="8436876">&#39;a&#39;</span><span class="op" id="8436879">,</span>&nbsp;<span class="string" id="8436881">&#39;a&#39;</span><span class="op" id="8436884">,</span>&nbsp;<span class="string" id="8436886">&#39;a&#39;</span><span class="op" id="8436889">,</span>&nbsp;<span class="num" id="8436891">0</span><span class="op" id="8436892">}</span><span class="op" id="8436893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436896">{</span><span class="string" id="8436897">`&#39;\n&#39;`</span><span class="op" id="8436903">,</span>&nbsp;<span class="builtintype" id="8436905">true</span><span class="op" id="8436909">,</span>&nbsp;<span class="builtintype" id="8436911">true</span><span class="op" id="8436915">,</span>&nbsp;<span class="builtintype" id="8436917">true</span><span class="op" id="8436921">,</span>&nbsp;<span class="builtintype" id="8436923">false</span><span class="op" id="8436928">,</span>&nbsp;<span class="string" id="8436930">&#39;\n&#39;</span><span class="op" id="8436934">,</span>&nbsp;<span class="string" id="8436936">&#39;\n&#39;</span><span class="op" id="8436940">,</span>&nbsp;<span class="string" id="8436942">&#39;\n&#39;</span><span class="op" id="8436946">,</span>&nbsp;<span class="num" id="8436948">0</span><span class="op" id="8436949">}</span><span class="op" id="8436950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436953">{</span><span class="string" id="8436954">`&#39;\\&#39;`</span><span class="op" id="8436960">,</span>&nbsp;<span class="builtintype" id="8436962">true</span><span class="op" id="8436966">,</span>&nbsp;<span class="builtintype" id="8436968">true</span><span class="op" id="8436972">,</span>&nbsp;<span class="builtintype" id="8436974">true</span><span class="op" id="8436978">,</span>&nbsp;<span class="builtintype" id="8436980">false</span><span class="op" id="8436985">,</span>&nbsp;<span class="string" id="8436987">&#39;\\&#39;</span><span class="op" id="8436991">,</span>&nbsp;<span class="string" id="8436993">&#39;\\&#39;</span><span class="op" id="8436997">,</span>&nbsp;<span class="string" id="8436999">&#39;\\&#39;</span><span class="op" id="8437003">,</span>&nbsp;<span class="num" id="8437005">0</span><span class="op" id="8437006">}</span><span class="op" id="8437007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437010">{</span><span class="string" id="8437011">`&#39;\&#39;&#39;`</span><span class="op" id="8437017">,</span>&nbsp;<span class="builtintype" id="8437019">true</span><span class="op" id="8437023">,</span>&nbsp;<span class="builtintype" id="8437025">true</span><span class="op" id="8437029">,</span>&nbsp;<span class="builtintype" id="8437031">true</span><span class="op" id="8437035">,</span>&nbsp;<span class="builtintype" id="8437037">false</span><span class="op" id="8437042">,</span>&nbsp;<span class="string" id="8437044">&#39;\&#39;&#39;</span><span class="op" id="8437048">,</span>&nbsp;<span class="string" id="8437050">&#39;\&#39;&#39;</span><span class="op" id="8437054">,</span>&nbsp;<span class="string" id="8437056">&#39;\&#39;&#39;</span><span class="op" id="8437060">,</span>&nbsp;<span class="num" id="8437062">0</span><span class="op" id="8437063">}</span><span class="op" id="8437064">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437067">{</span><span class="string" id="8437068">`&#39;\xFF&#39;`</span><span class="op" id="8437076">,</span>&nbsp;<span class="builtintype" id="8437078">true</span><span class="op" id="8437082">,</span>&nbsp;<span class="builtintype" id="8437084">true</span><span class="op" id="8437088">,</span>&nbsp;<span class="builtintype" id="8437090">true</span><span class="op" id="8437094">,</span>&nbsp;<span class="builtintype" id="8437096">false</span><span class="op" id="8437101">,</span>&nbsp;<span class="num" id="8437103">0xFF</span><span class="op" id="8437107">,</span>&nbsp;<span class="num" id="8437109">0xFF</span><span class="op" id="8437113">,</span>&nbsp;<span class="num" id="8437115">0xFF</span><span class="op" id="8437119">,</span>&nbsp;<span class="num" id="8437121">0</span><span class="op" id="8437122">}</span><span class="op" id="8437123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437126">{</span><span class="string" id="8437127">`&#39;パ&#39;`</span><span class="op" id="8437134">,</span>&nbsp;<span class="builtintype" id="8437136">true</span><span class="op" id="8437140">,</span>&nbsp;<span class="builtintype" id="8437142">true</span><span class="op" id="8437146">,</span>&nbsp;<span class="builtintype" id="8437148">true</span><span class="op" id="8437152">,</span>&nbsp;<span class="builtintype" id="8437154">false</span><span class="op" id="8437159">,</span>&nbsp;<span class="num" id="8437161">0x30d1</span><span class="op" id="8437167">,</span>&nbsp;<span class="num" id="8437169">0x30d1</span><span class="op" id="8437175">,</span>&nbsp;<span class="num" id="8437177">0x30d1</span><span class="op" id="8437183">,</span>&nbsp;<span class="num" id="8437185">0</span><span class="op" id="8437186">}</span><span class="op" id="8437187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437190">{</span><span class="string" id="8437191">`&#39;\u30d1&#39;`</span><span class="op" id="8437201">,</span>&nbsp;<span class="builtintype" id="8437203">true</span><span class="op" id="8437207">,</span>&nbsp;<span class="builtintype" id="8437209">true</span><span class="op" id="8437213">,</span>&nbsp;<span class="builtintype" id="8437215">true</span><span class="op" id="8437219">,</span>&nbsp;<span class="builtintype" id="8437221">false</span><span class="op" id="8437226">,</span>&nbsp;<span class="num" id="8437228">0x30d1</span><span class="op" id="8437234">,</span>&nbsp;<span class="num" id="8437236">0x30d1</span><span class="op" id="8437242">,</span>&nbsp;<span class="num" id="8437244">0x30d1</span><span class="op" id="8437250">,</span>&nbsp;<span class="num" id="8437252">0</span><span class="op" id="8437253">}</span><span class="op" id="8437254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437257">{</span><span class="string" id="8437258">`&#39;\U000030d1&#39;`</span><span class="op" id="8437272">,</span>&nbsp;<span class="builtintype" id="8437274">true</span><span class="op" id="8437278">,</span>&nbsp;<span class="builtintype" id="8437280">true</span><span class="op" id="8437284">,</span>&nbsp;<span class="builtintype" id="8437286">true</span><span class="op" id="8437290">,</span>&nbsp;<span class="builtintype" id="8437292">false</span><span class="op" id="8437297">,</span>&nbsp;<span class="num" id="8437299">0x30d1</span><span class="op" id="8437305">,</span>&nbsp;<span class="num" id="8437307">0x30d1</span><span class="op" id="8437313">,</span>&nbsp;<span class="num" id="8437315">0x30d1</span><span class="op" id="8437321">,</span>&nbsp;<span class="num" id="8437323">0</span><span class="op" id="8437324">}</span><span class="op" id="8437325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437328">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437351">{</span><span class="ident" id="8437352">text</span><span class="op" id="8437356">:</span>&nbsp;<span class="string" id="8437358">&#34;+-2&#34;</span><span class="op" id="8437363">}</span><span class="op" id="8437364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437367">{</span><span class="ident" id="8437368">text</span><span class="op" id="8437372">:</span>&nbsp;<span class="string" id="8437374">&#34;0x123.&#34;</span><span class="op" id="8437382">}</span><span class="op" id="8437383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437386">{</span><span class="ident" id="8437387">text</span><span class="op" id="8437391">:</span>&nbsp;<span class="string" id="8437393">&#34;1e.&#34;</span><span class="op" id="8437398">}</span><span class="op" id="8437399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437402">{</span><span class="ident" id="8437403">text</span><span class="op" id="8437407">:</span>&nbsp;<span class="string" id="8437409">&#34;0xi.&#34;</span><span class="op" id="8437415">}</span><span class="op" id="8437416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437419">{</span><span class="ident" id="8437420">text</span><span class="op" id="8437424">:</span>&nbsp;<span class="string" id="8437426">&#34;1+2.&#34;</span><span class="op" id="8437432">}</span><span class="op" id="8437433">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437436">{</span><span class="ident" id="8437437">text</span><span class="op" id="8437441">:</span>&nbsp;<span class="string" id="8437443">&#34;&#39;x&#34;</span><span class="op" id="8437447">}</span><span class="op" id="8437448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437451">{</span><span class="ident" id="8437452">text</span><span class="op" id="8437456">:</span>&nbsp;<span class="string" id="8437458">&#34;&#39;xx&#39;&#34;</span><span class="op" id="8437464">}</span><span class="op" id="8437465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437468">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437534">{</span><span class="string" id="8437535">&#34;0xef&#34;</span><span class="op" id="8437541">,</span>&nbsp;<span class="builtintype" id="8437543">true</span><span class="op" id="8437547">,</span>&nbsp;<span class="builtintype" id="8437549">true</span><span class="op" id="8437553">,</span>&nbsp;<span class="builtintype" id="8437555">true</span><span class="op" id="8437559">,</span>&nbsp;<span class="builtintype" id="8437561">false</span><span class="op" id="8437566">,</span>&nbsp;<span class="num" id="8437568">0xef</span><span class="op" id="8437572">,</span>&nbsp;<span class="num" id="8437574">0xef</span><span class="op" id="8437578">,</span>&nbsp;<span class="num" id="8437580">0xef</span><span class="op" id="8437584">,</span>&nbsp;<span class="num" id="8437586">0</span><span class="op" id="8437587">}</span><span class="op" id="8437588">,</span><br>
<span class="lineno"></span><span class="op" id="8437590">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="8437593">func</span>&nbsp;<span class="ident" id="8437598">TestNumberParse</span><span class="op" id="8437613">(</span><span class="ident" id="8437614">t</span>&nbsp;<span class="op" id="8437616">*</span><span class="ident" id="8437617">testing</span><span class="op" id="8437624">.</span><span class="ident" id="8437625">T</span><span class="op" id="8437626">)</span>&nbsp;<span class="op" id="8437628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437631">for</span>&nbsp;<span class="ident" id="8437635">_</span><span class="op" id="8437636">,</span>&nbsp;<span class="ident" id="8437638">test</span>&nbsp;<span class="op" id="8437643">:=</span>&nbsp;<span class="keyword" id="8437646">range</span>&nbsp;<span class="ident" id="8437652">numberTests</span>&nbsp;<span class="op" id="8437664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437668">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437748">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437794">var</span>&nbsp;<span class="ident" id="8437798">c</span>&nbsp;<span class="builtintype" id="8437800">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437813">typ</span>&nbsp;<span class="op" id="8437817">:=</span>&nbsp;<span class="ident" id="8437820">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437833">var</span>&nbsp;<span class="ident" id="8437837">tree</span>&nbsp;<span class="op" id="8437842">*</span><span class="ident" id="8437843">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437850">if</span>&nbsp;<span class="ident" id="8437853">test</span><span class="op" id="8437857">.</span><span class="ident" id="8437858">text</span><span class="op" id="8437862">[</span><span class="num" id="8437863">0</span><span class="op" id="8437864">]</span>&nbsp;<span class="op" id="8437866">==</span>&nbsp;<span class="string" id="8437869">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="8437874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437879">typ</span>&nbsp;<span class="op" id="8437883">=</span>&nbsp;<span class="ident" id="8437885">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437904">}</span>&nbsp;<span class="keyword" id="8437906">else</span>&nbsp;<span class="op" id="8437911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437916">_</span><span class="op" id="8437917">,</span>&nbsp;<span class="ident" id="8437919">err</span>&nbsp;<span class="op" id="8437923">:=</span>&nbsp;<span class="ident" id="8437926">fmt</span><span class="op" id="8437929">.</span><span class="ident" id="8437930">Sscan</span><span class="op" id="8437935">(</span><span class="ident" id="8437936">test</span><span class="op" id="8437940">.</span><span class="ident" id="8437941">text</span><span class="op" id="8437945">,</span>&nbsp;<span class="op" id="8437947">&amp;</span><span class="ident" id="8437948">c</span><span class="op" id="8437949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437954">if</span>&nbsp;<span class="ident" id="8437957">err</span>&nbsp;<span class="op" id="8437961">==</span>&nbsp;<span class="ident" id="8437964">nil</span>&nbsp;<span class="op" id="8437968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437974">typ</span>&nbsp;<span class="op" id="8437978">=</span>&nbsp;<span class="ident" id="8437980">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437995">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438003">n</span><span class="op" id="8438004">,</span>&nbsp;<span class="ident" id="8438006">err</span>&nbsp;<span class="op" id="8438010">:=</span>&nbsp;<span class="ident" id="8438013">tree</span><span class="op" id="8438017">.</span><span class="ident" id="8438018">newNumber</span><span class="op" id="8438027">(</span><span class="num" id="8438028">0</span><span class="op" id="8438029">,</span>&nbsp;<span class="ident" id="8438031">test</span><span class="op" id="8438035">.</span><span class="ident" id="8438036">text</span><span class="op" id="8438040">,</span>&nbsp;<span class="ident" id="8438042">typ</span><span class="op" id="8438045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438049">ok</span>&nbsp;<span class="op" id="8438052">:=</span>&nbsp;<span class="ident" id="8438055">test</span><span class="op" id="8438059">.</span><span class="ident" id="8438060">isInt</span>&nbsp;<span class="op" id="8438066">||</span>&nbsp;<span class="ident" id="8438069">test</span><span class="op" id="8438073">.</span><span class="ident" id="8438074">isUint</span>&nbsp;<span class="op" id="8438081">||</span>&nbsp;<span class="ident" id="8438084">test</span><span class="op" id="8438088">.</span><span class="ident" id="8438089">isFloat</span>&nbsp;<span class="op" id="8438097">||</span>&nbsp;<span class="ident" id="8438100">test</span><span class="op" id="8438104">.</span><span class="ident" id="8438105">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438117">if</span>&nbsp;<span class="ident" id="8438120">ok</span>&nbsp;<span class="op" id="8438123">&amp;&amp;</span>&nbsp;<span class="ident" id="8438126">err</span>&nbsp;<span class="op" id="8438130">!=</span>&nbsp;<span class="ident" id="8438133">nil</span>&nbsp;<span class="op" id="8438137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438142">t</span><span class="op" id="8438143">.</span><span class="ident" id="8438144">Errorf</span><span class="op" id="8438150">(</span><span class="string" id="8438151">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8438180">,</span>&nbsp;<span class="ident" id="8438182">test</span><span class="op" id="8438186">.</span><span class="ident" id="8438187">text</span><span class="op" id="8438191">,</span>&nbsp;<span class="ident" id="8438193">err</span><span class="op" id="8438196">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438201">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438216">if</span>&nbsp;<span class="op" id="8438219">!</span><span class="ident" id="8438220">ok</span>&nbsp;<span class="op" id="8438223">&amp;&amp;</span>&nbsp;<span class="ident" id="8438226">err</span>&nbsp;<span class="op" id="8438230">==</span>&nbsp;<span class="ident" id="8438233">nil</span>&nbsp;<span class="op" id="8438237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438242">t</span><span class="op" id="8438243">.</span><span class="ident" id="8438244">Errorf</span><span class="op" id="8438250">(</span><span class="string" id="8438251">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8438274">,</span>&nbsp;<span class="ident" id="8438276">test</span><span class="op" id="8438280">.</span><span class="ident" id="8438281">text</span><span class="op" id="8438285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438290">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438305">if</span>&nbsp;<span class="op" id="8438308">!</span><span class="ident" id="8438309">ok</span>&nbsp;<span class="op" id="8438312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438317">if</span>&nbsp;<span class="op" id="8438320">*</span><span class="ident" id="8438321">debug</span>&nbsp;<span class="op" id="8438327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438333">fmt</span><span class="op" id="8438336">.</span><span class="ident" id="8438337">Printf</span><span class="op" id="8438343">(</span><span class="string" id="8438344">&#34;%s\n\t%s\n&#34;</span><span class="op" id="8438356">,</span>&nbsp;<span class="ident" id="8438358">test</span><span class="op" id="8438362">.</span><span class="ident" id="8438363">text</span><span class="op" id="8438367">,</span>&nbsp;<span class="ident" id="8438369">err</span><span class="op" id="8438372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438377">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438382">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438397">if</span>&nbsp;<span class="ident" id="8438400">n</span><span class="op" id="8438401">.</span><span class="ident" id="8438402">IsComplex</span>&nbsp;<span class="op" id="8438412">!=</span>&nbsp;<span class="ident" id="8438415">test</span><span class="op" id="8438419">.</span><span class="ident" id="8438420">isComplex</span>&nbsp;<span class="op" id="8438430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438435">t</span><span class="op" id="8438436">.</span><span class="ident" id="8438437">Errorf</span><span class="op" id="8438443">(</span><span class="string" id="8438444">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8438484">,</span>&nbsp;<span class="ident" id="8438486">test</span><span class="op" id="8438490">.</span><span class="ident" id="8438491">text</span><span class="op" id="8438495">,</span>&nbsp;<span class="ident" id="8438497">test</span><span class="op" id="8438501">.</span><span class="ident" id="8438502">isComplex</span><span class="op" id="8438511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438515">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438519">if</span>&nbsp;<span class="ident" id="8438522">test</span><span class="op" id="8438526">.</span><span class="ident" id="8438527">isInt</span>&nbsp;<span class="op" id="8438533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438538">if</span>&nbsp;<span class="op" id="8438541">!</span><span class="ident" id="8438542">n</span><span class="op" id="8438543">.</span><span class="ident" id="8438544">IsInt</span>&nbsp;<span class="op" id="8438550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438556">t</span><span class="op" id="8438557">.</span><span class="ident" id="8438558">Errorf</span><span class="op" id="8438564">(</span><span class="string" id="8438565">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8438590">,</span>&nbsp;<span class="ident" id="8438592">test</span><span class="op" id="8438596">.</span><span class="ident" id="8438597">text</span><span class="op" id="8438601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438611">if</span>&nbsp;<span class="ident" id="8438614">n</span><span class="op" id="8438615">.</span><span class="ident" id="8438616">Int64</span>&nbsp;<span class="op" id="8438622">!=</span>&nbsp;<span class="ident" id="8438625">test</span><span class="op" id="8438629">.</span><span class="ident" id="8438630">int64</span>&nbsp;<span class="op" id="8438636">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438642">t</span><span class="op" id="8438643">.</span><span class="ident" id="8438644">Errorf</span><span class="op" id="8438650">(</span><span class="string" id="8438651">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8438684">,</span>&nbsp;<span class="ident" id="8438686">test</span><span class="op" id="8438690">.</span><span class="ident" id="8438691">text</span><span class="op" id="8438695">,</span>&nbsp;<span class="ident" id="8438697">test</span><span class="op" id="8438701">.</span><span class="ident" id="8438702">int64</span><span class="op" id="8438707">,</span>&nbsp;<span class="ident" id="8438709">n</span><span class="op" id="8438710">.</span><span class="ident" id="8438711">Int64</span><span class="op" id="8438716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438725">}</span>&nbsp;<span class="keyword" id="8438727">else</span>&nbsp;<span class="keyword" id="8438732">if</span>&nbsp;<span class="ident" id="8438735">n</span><span class="op" id="8438736">.</span><span class="ident" id="8438737">IsInt</span>&nbsp;<span class="op" id="8438743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438748">t</span><span class="op" id="8438749">.</span><span class="ident" id="8438750">Errorf</span><span class="op" id="8438756">(</span><span class="string" id="8438757">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8438788">,</span>&nbsp;<span class="ident" id="8438790">test</span><span class="op" id="8438794">.</span><span class="ident" id="8438795">text</span><span class="op" id="8438799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438803">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438807">if</span>&nbsp;<span class="ident" id="8438810">test</span><span class="op" id="8438814">.</span><span class="ident" id="8438815">isUint</span>&nbsp;<span class="op" id="8438822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438827">if</span>&nbsp;<span class="op" id="8438830">!</span><span class="ident" id="8438831">n</span><span class="op" id="8438832">.</span><span class="ident" id="8438833">IsUint</span>&nbsp;<span class="op" id="8438840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438846">t</span><span class="op" id="8438847">.</span><span class="ident" id="8438848">Errorf</span><span class="op" id="8438854">(</span><span class="string" id="8438855">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8438889">,</span>&nbsp;<span class="ident" id="8438891">test</span><span class="op" id="8438895">.</span><span class="ident" id="8438896">text</span><span class="op" id="8438900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438910">if</span>&nbsp;<span class="ident" id="8438913">n</span><span class="op" id="8438914">.</span><span class="ident" id="8438915">Uint64</span>&nbsp;<span class="op" id="8438922">!=</span>&nbsp;<span class="ident" id="8438925">test</span><span class="op" id="8438929">.</span><span class="ident" id="8438930">uint64</span>&nbsp;<span class="op" id="8438937">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438943">t</span><span class="op" id="8438944">.</span><span class="ident" id="8438945">Errorf</span><span class="op" id="8438951">(</span><span class="string" id="8438952">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8438986">,</span>&nbsp;<span class="ident" id="8438988">test</span><span class="op" id="8438992">.</span><span class="ident" id="8438993">text</span><span class="op" id="8438997">,</span>&nbsp;<span class="ident" id="8438999">test</span><span class="op" id="8439003">.</span><span class="ident" id="8439004">uint64</span><span class="op" id="8439010">,</span>&nbsp;<span class="ident" id="8439012">n</span><span class="op" id="8439013">.</span><span class="ident" id="8439014">Uint64</span><span class="op" id="8439020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439029">}</span>&nbsp;<span class="keyword" id="8439031">else</span>&nbsp;<span class="keyword" id="8439036">if</span>&nbsp;<span class="ident" id="8439039">n</span><span class="op" id="8439040">.</span><span class="ident" id="8439041">IsUint</span>&nbsp;<span class="op" id="8439048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439053">t</span><span class="op" id="8439054">.</span><span class="ident" id="8439055">Errorf</span><span class="op" id="8439061">(</span><span class="string" id="8439062">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8439102">,</span>&nbsp;<span class="ident" id="8439104">test</span><span class="op" id="8439108">.</span><span class="ident" id="8439109">text</span><span class="op" id="8439113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439117">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439121">if</span>&nbsp;<span class="ident" id="8439124">test</span><span class="op" id="8439128">.</span><span class="ident" id="8439129">isFloat</span>&nbsp;<span class="op" id="8439137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439142">if</span>&nbsp;<span class="op" id="8439145">!</span><span class="ident" id="8439146">n</span><span class="op" id="8439147">.</span><span class="ident" id="8439148">IsFloat</span>&nbsp;<span class="op" id="8439156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439162">t</span><span class="op" id="8439163">.</span><span class="ident" id="8439164">Errorf</span><span class="op" id="8439170">(</span><span class="string" id="8439171">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8439194">,</span>&nbsp;<span class="ident" id="8439196">test</span><span class="op" id="8439200">.</span><span class="ident" id="8439201">text</span><span class="op" id="8439205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439215">if</span>&nbsp;<span class="ident" id="8439218">n</span><span class="op" id="8439219">.</span><span class="ident" id="8439220">Float64</span>&nbsp;<span class="op" id="8439228">!=</span>&nbsp;<span class="ident" id="8439231">test</span><span class="op" id="8439235">.</span><span class="builtintype" id="8439236">float64</span>&nbsp;<span class="op" id="8439244">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439250">t</span><span class="op" id="8439251">.</span><span class="ident" id="8439252">Errorf</span><span class="op" id="8439258">(</span><span class="string" id="8439259">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8439294">,</span>&nbsp;<span class="ident" id="8439296">test</span><span class="op" id="8439300">.</span><span class="ident" id="8439301">text</span><span class="op" id="8439305">,</span>&nbsp;<span class="ident" id="8439307">test</span><span class="op" id="8439311">.</span><span class="builtintype" id="8439312">float64</span><span class="op" id="8439319">,</span>&nbsp;<span class="ident" id="8439321">n</span><span class="op" id="8439322">.</span><span class="ident" id="8439323">Float64</span><span class="op" id="8439330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439339">}</span>&nbsp;<span class="keyword" id="8439341">else</span>&nbsp;<span class="keyword" id="8439346">if</span>&nbsp;<span class="ident" id="8439349">n</span><span class="op" id="8439350">.</span><span class="ident" id="8439351">IsFloat</span>&nbsp;<span class="op" id="8439359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439364">t</span><span class="op" id="8439365">.</span><span class="ident" id="8439366">Errorf</span><span class="op" id="8439372">(</span><span class="string" id="8439373">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8439402">,</span>&nbsp;<span class="ident" id="8439404">test</span><span class="op" id="8439408">.</span><span class="ident" id="8439409">text</span><span class="op" id="8439413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439417">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439421">if</span>&nbsp;<span class="ident" id="8439424">test</span><span class="op" id="8439428">.</span><span class="ident" id="8439429">isComplex</span>&nbsp;<span class="op" id="8439439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439444">if</span>&nbsp;<span class="op" id="8439447">!</span><span class="ident" id="8439448">n</span><span class="op" id="8439449">.</span><span class="ident" id="8439450">IsComplex</span>&nbsp;<span class="op" id="8439460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439466">t</span><span class="op" id="8439467">.</span><span class="ident" id="8439468">Errorf</span><span class="op" id="8439474">(</span><span class="string" id="8439475">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8439500">,</span>&nbsp;<span class="ident" id="8439502">test</span><span class="op" id="8439506">.</span><span class="ident" id="8439507">text</span><span class="op" id="8439511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439521">if</span>&nbsp;<span class="ident" id="8439524">n</span><span class="op" id="8439525">.</span><span class="ident" id="8439526">Complex128</span>&nbsp;<span class="op" id="8439537">!=</span>&nbsp;<span class="ident" id="8439540">test</span><span class="op" id="8439544">.</span><span class="builtintype" id="8439545">complex128</span>&nbsp;<span class="op" id="8439556">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439562">t</span><span class="op" id="8439563">.</span><span class="ident" id="8439564">Errorf</span><span class="op" id="8439570">(</span><span class="string" id="8439571">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8439609">,</span>&nbsp;<span class="ident" id="8439611">test</span><span class="op" id="8439615">.</span><span class="ident" id="8439616">text</span><span class="op" id="8439620">,</span>&nbsp;<span class="ident" id="8439622">test</span><span class="op" id="8439626">.</span><span class="builtintype" id="8439627">complex128</span><span class="op" id="8439637">,</span>&nbsp;<span class="ident" id="8439639">n</span><span class="op" id="8439640">.</span><span class="ident" id="8439641">Complex128</span><span class="op" id="8439651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439660">}</span>&nbsp;<span class="keyword" id="8439662">else</span>&nbsp;<span class="keyword" id="8439667">if</span>&nbsp;<span class="ident" id="8439670">n</span><span class="op" id="8439671">.</span><span class="ident" id="8439672">IsComplex</span>&nbsp;<span class="op" id="8439682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439687">t</span><span class="op" id="8439688">.</span><span class="ident" id="8439689">Errorf</span><span class="op" id="8439695">(</span><span class="string" id="8439696">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8439727">,</span>&nbsp;<span class="ident" id="8439729">test</span><span class="op" id="8439733">.</span><span class="ident" id="8439734">text</span><span class="op" id="8439738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439742">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439745">}</span><br>
<span class="lineno"></span><span class="op" id="8439747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8439750">type</span>&nbsp;<span class="ident" id="8439755">parseTest</span>&nbsp;<span class="keyword" id="8439765">struct</span>&nbsp;<span class="op" id="8439772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439775">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8439782">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439790">input</span>&nbsp;&nbsp;<span class="builtintype" id="8439797">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439805">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8439812">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439818">result</span>&nbsp;<span class="builtintype" id="8439825">string</span>&nbsp;<span class="comment" id="8439832">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="8439880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8439883">const</span>&nbsp;<span class="op" id="8439889">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439892">noError</span>&nbsp;&nbsp;<span class="op" id="8439901">=</span>&nbsp;<span class="builtintype" id="8439903">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439909">hasError</span>&nbsp;<span class="op" id="8439918">=</span>&nbsp;<span class="builtintype" id="8439920">false</span><br>
<span class="lineno"></span><span class="op" id="8439926">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="8439929">var</span>&nbsp;<span class="ident" id="8439933">parseTests</span>&nbsp;<span class="op" id="8439944">=</span>&nbsp;<span class="op" id="8439946">[</span><span class="op" id="8439947">]</span><span class="ident" id="8439948">parseTest</span><span class="op" id="8439957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439960">{</span><span class="string" id="8439961">&#34;empty&#34;</span><span class="op" id="8439968">,</span>&nbsp;<span class="string" id="8439970">&#34;&#34;</span><span class="op" id="8439972">,</span>&nbsp;<span class="ident" id="8439974">noError</span><span class="op" id="8439981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8439985">``</span><span class="op" id="8439987">}</span><span class="op" id="8439988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439991">{</span><span class="string" id="8439992">&#34;comment&#34;</span><span class="op" id="8440001">,</span>&nbsp;<span class="string" id="8440003">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="8440019">,</span>&nbsp;<span class="ident" id="8440021">noError</span><span class="op" id="8440028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440032">``</span><span class="op" id="8440034">}</span><span class="op" id="8440035">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440038">{</span><span class="string" id="8440039">&#34;spaces&#34;</span><span class="op" id="8440047">,</span>&nbsp;<span class="string" id="8440049">&#34;&nbsp;\t\n&#34;</span><span class="op" id="8440056">,</span>&nbsp;<span class="ident" id="8440058">noError</span><span class="op" id="8440065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440069">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="8440078">}</span><span class="op" id="8440079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440082">{</span><span class="string" id="8440083">&#34;text&#34;</span><span class="op" id="8440089">,</span>&nbsp;<span class="string" id="8440091">&#34;some&nbsp;text&#34;</span><span class="op" id="8440102">,</span>&nbsp;<span class="ident" id="8440104">noError</span><span class="op" id="8440111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440115">`&#34;some&nbsp;text&#34;`</span><span class="op" id="8440128">}</span><span class="op" id="8440129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440132">{</span><span class="string" id="8440133">&#34;emptyAction&#34;</span><span class="op" id="8440146">,</span>&nbsp;<span class="string" id="8440148">&#34;{{}}&#34;</span><span class="op" id="8440154">,</span>&nbsp;<span class="ident" id="8440156">hasError</span><span class="op" id="8440164">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440168">`{{}}`</span><span class="op" id="8440174">}</span><span class="op" id="8440175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440178">{</span><span class="string" id="8440179">&#34;field&#34;</span><span class="op" id="8440186">,</span>&nbsp;<span class="string" id="8440188">&#34;{{.X}}&#34;</span><span class="op" id="8440196">,</span>&nbsp;<span class="ident" id="8440198">noError</span><span class="op" id="8440205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440209">`{{.X}}`</span><span class="op" id="8440217">}</span><span class="op" id="8440218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440221">{</span><span class="string" id="8440222">&#34;simple&nbsp;command&#34;</span><span class="op" id="8440238">,</span>&nbsp;<span class="string" id="8440240">&#34;{{printf}}&#34;</span><span class="op" id="8440252">,</span>&nbsp;<span class="ident" id="8440254">noError</span><span class="op" id="8440261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440265">`{{printf}}`</span><span class="op" id="8440277">}</span><span class="op" id="8440278">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440281">{</span><span class="string" id="8440282">&#34;$&nbsp;invocation&#34;</span><span class="op" id="8440296">,</span>&nbsp;<span class="string" id="8440298">&#34;{{$}}&#34;</span><span class="op" id="8440305">,</span>&nbsp;<span class="ident" id="8440307">noError</span><span class="op" id="8440314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440318">&#34;{{$}}&#34;</span><span class="op" id="8440325">}</span><span class="op" id="8440326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440329">{</span><span class="string" id="8440330">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="8440351">,</span>&nbsp;<span class="string" id="8440353">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8440387">,</span>&nbsp;<span class="ident" id="8440389">noError</span><span class="op" id="8440396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440400">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8440434">}</span><span class="op" id="8440435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440438">{</span><span class="string" id="8440439">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="8440461">,</span>&nbsp;<span class="string" id="8440463">&#34;{{$.I}}&#34;</span><span class="op" id="8440472">,</span>&nbsp;<span class="ident" id="8440474">noError</span><span class="op" id="8440481">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440485">&#34;{{$.I}}&#34;</span><span class="op" id="8440494">}</span><span class="op" id="8440495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440498">{</span><span class="string" id="8440499">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="8440519">,</span>&nbsp;<span class="string" id="8440521">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8440541">,</span>&nbsp;<span class="ident" id="8440543">noError</span><span class="op" id="8440550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440554">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8440574">}</span><span class="op" id="8440575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440578">{</span><span class="string" id="8440579">&#34;pipeline&#34;</span><span class="op" id="8440589">,</span>&nbsp;<span class="string" id="8440591">&#34;{{.X|.Y}}&#34;</span><span class="op" id="8440602">,</span>&nbsp;<span class="ident" id="8440604">noError</span><span class="op" id="8440611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440615">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8440628">}</span><span class="op" id="8440629">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440632">{</span><span class="string" id="8440633">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="8440653">,</span>&nbsp;<span class="string" id="8440655">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="8440672">,</span>&nbsp;<span class="ident" id="8440674">noError</span><span class="op" id="8440681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440685">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8440704">}</span><span class="op" id="8440705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440708">{</span><span class="string" id="8440709">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="8440726">,</span>&nbsp;<span class="string" id="8440728">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="8440762">,</span>&nbsp;<span class="ident" id="8440764">noError</span><span class="op" id="8440771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440775">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="8440809">}</span><span class="op" id="8440810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440813">{</span><span class="string" id="8440814">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8440844">,</span>&nbsp;<span class="string" id="8440846">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="8440865">,</span>&nbsp;<span class="ident" id="8440867">noError</span><span class="op" id="8440874">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440878">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="8440897">}</span><span class="op" id="8440898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440901">{</span><span class="string" id="8440902">&#34;simple&nbsp;if&#34;</span><span class="op" id="8440913">,</span>&nbsp;<span class="string" id="8440915">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8440938">,</span>&nbsp;<span class="ident" id="8440940">noError</span><span class="op" id="8440947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440951">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8440976">}</span><span class="op" id="8440977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440980">{</span><span class="string" id="8440981">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="8440995">,</span>&nbsp;<span class="string" id="8440997">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8441032">,</span>&nbsp;<span class="ident" id="8441034">noError</span><span class="op" id="8441041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8441045">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8441084">}</span><span class="op" id="8441085">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441088">{</span><span class="string" id="8441089">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="8441106">,</span>&nbsp;<span class="string" id="8441108">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="8441149">,</span>&nbsp;<span class="ident" id="8441151">noError</span><span class="op" id="8441158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8441162">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="8441217">}</span><span class="op" id="8441218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441221">{</span><span class="string" id="8441222">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="8441237">,</span>&nbsp;<span class="string" id="8441239">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="8441290">,</span>&nbsp;<span class="ident" id="8441292">noError</span><span class="op" id="8441299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8441303">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="8441384">}</span><span class="op" id="8441385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441388">{</span><span class="string" id="8441389">&#34;simple&nbsp;range&#34;</span><span class="op" id="8441403">,</span>&nbsp;<span class="string" id="8441405">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8441431">,</span>&nbsp;<span class="ident" id="8441433">noError</span><span class="op" id="8441440">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8441444">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8441472">}</span><span class="op" id="8441473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441476">{</span><span class="string" id="8441477">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="8441498">,</span>&nbsp;<span class="string" id="8441500">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="8441530">,</span>&nbsp;<span class="ident" id="8441532">noError</span><span class="op" id="8441539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8441543">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="8441575">}</span><span class="op" id="8441576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441579">{</span><span class="string" id="8441580">&#34;nested&nbsp;range&#34;</span><span class="op" id="8441594">,</span>&nbsp;<span class="string" id="8441596">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="8441648">,</span>&nbsp;<span class="ident" id="8441650">noError</span><span class="op" id="8441657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8441661">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="8441717">}</span><span class="op" id="8441718">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441721">{</span><span class="string" id="8441722">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="8441739">,</span>&nbsp;<span class="string" id="8441741">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8441779">,</span>&nbsp;<span class="ident" id="8441781">noError</span><span class="op" id="8441788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8441792">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8441834">}</span><span class="op" id="8441835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441838">{</span><span class="string" id="8441839">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="8441860">,</span>&nbsp;<span class="string" id="8441862">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="8441903">,</span>&nbsp;<span class="ident" id="8441905">noError</span><span class="op" id="8441912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8441916">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8441963">}</span><span class="op" id="8441964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441967">{</span><span class="string" id="8441968">&#34;range&nbsp;[]int&#34;</span><span class="op" id="8441981">,</span>&nbsp;<span class="string" id="8441983">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8442010">,</span>&nbsp;<span class="ident" id="8442012">noError</span><span class="op" id="8442019">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8442023">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8442050">}</span><span class="op" id="8442051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442054">{</span><span class="string" id="8442055">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="8442068">,</span>&nbsp;<span class="string" id="8442070">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8442103">,</span>&nbsp;<span class="ident" id="8442105">noError</span><span class="op" id="8442112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8442116">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8442149">}</span><span class="op" id="8442150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442153">{</span><span class="string" id="8442154">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="8442168">,</span>&nbsp;<span class="string" id="8442170">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8442207">,</span>&nbsp;<span class="ident" id="8442209">noError</span><span class="op" id="8442216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8442220">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8442257">}</span><span class="op" id="8442258">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442261">{</span><span class="string" id="8442262">&#34;constants&#34;</span><span class="op" id="8442273">,</span>&nbsp;<span class="string" id="8442275">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="8442324">,</span>&nbsp;<span class="ident" id="8442326">noError</span><span class="op" id="8442333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8442337">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="8442386">}</span><span class="op" id="8442387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442390">{</span><span class="string" id="8442391">&#34;template&#34;</span><span class="op" id="8442401">,</span>&nbsp;<span class="string" id="8442403">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="8442421">,</span>&nbsp;<span class="ident" id="8442423">noError</span><span class="op" id="8442430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8442434">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="8442452">}</span><span class="op" id="8442453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442456">{</span><span class="string" id="8442457">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="8442476">,</span>&nbsp;<span class="string" id="8442478">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="8442499">,</span>&nbsp;<span class="ident" id="8442501">noError</span><span class="op" id="8442508">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8442512">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="8442533">}</span><span class="op" id="8442534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442537">{</span><span class="string" id="8442538">&#34;with&#34;</span><span class="op" id="8442544">,</span>&nbsp;<span class="string" id="8442546">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8442571">,</span>&nbsp;<span class="ident" id="8442573">noError</span><span class="op" id="8442580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8442584">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8442611">}</span><span class="op" id="8442612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442615">{</span><span class="string" id="8442616">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="8442632">,</span>&nbsp;<span class="string" id="8442634">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="8442674">,</span>&nbsp;<span class="ident" id="8442676">noError</span><span class="op" id="8442683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8442687">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="8442731">}</span><span class="op" id="8442732">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8442735">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442747">{</span><span class="string" id="8442748">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="8442765">,</span>&nbsp;<span class="string" id="8442767">&#34;hello{{range&#34;</span><span class="op" id="8442781">,</span>&nbsp;<span class="ident" id="8442783">hasError</span><span class="op" id="8442791">,</span>&nbsp;<span class="string" id="8442793">&#34;&#34;</span><span class="op" id="8442795">}</span><span class="op" id="8442796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442799">{</span><span class="string" id="8442800">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="8442815">,</span>&nbsp;<span class="string" id="8442817">&#34;{{end}}&#34;</span><span class="op" id="8442826">,</span>&nbsp;<span class="ident" id="8442828">hasError</span><span class="op" id="8442836">,</span>&nbsp;<span class="string" id="8442838">&#34;&#34;</span><span class="op" id="8442840">}</span><span class="op" id="8442841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442844">{</span><span class="string" id="8442845">&#34;missing&nbsp;end&#34;</span><span class="op" id="8442858">,</span>&nbsp;<span class="string" id="8442860">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="8442879">,</span>&nbsp;<span class="ident" id="8442881">hasError</span><span class="op" id="8442889">,</span>&nbsp;<span class="string" id="8442891">&#34;&#34;</span><span class="op" id="8442893">}</span><span class="op" id="8442894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442897">{</span><span class="string" id="8442898">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="8442922">,</span>&nbsp;<span class="string" id="8442924">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="8442951">,</span>&nbsp;<span class="ident" id="8442953">hasError</span><span class="op" id="8442961">,</span>&nbsp;<span class="string" id="8442963">&#34;&#34;</span><span class="op" id="8442965">}</span><span class="op" id="8442966">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442969">{</span><span class="string" id="8442970">&#34;undefined&nbsp;function&#34;</span><span class="op" id="8442990">,</span>&nbsp;<span class="string" id="8442992">&#34;hello{{undefined}}&#34;</span><span class="op" id="8443012">,</span>&nbsp;<span class="ident" id="8443014">hasError</span><span class="op" id="8443022">,</span>&nbsp;<span class="string" id="8443024">&#34;&#34;</span><span class="op" id="8443026">}</span><span class="op" id="8443027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443030">{</span><span class="string" id="8443031">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="8443051">,</span>&nbsp;<span class="string" id="8443053">&#34;{{$x}}&#34;</span><span class="op" id="8443061">,</span>&nbsp;<span class="ident" id="8443063">hasError</span><span class="op" id="8443071">,</span>&nbsp;<span class="string" id="8443073">&#34;&#34;</span><span class="op" id="8443075">}</span><span class="op" id="8443076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443079">{</span><span class="string" id="8443080">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="8443110">,</span>&nbsp;<span class="string" id="8443112">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="8443143">,</span>&nbsp;<span class="ident" id="8443145">hasError</span><span class="op" id="8443153">,</span>&nbsp;<span class="string" id="8443155">&#34;&#34;</span><span class="op" id="8443157">}</span><span class="op" id="8443158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443161">{</span><span class="string" id="8443162">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="8443194">,</span>&nbsp;<span class="string" id="8443196">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8443213">,</span>&nbsp;<span class="ident" id="8443215">hasError</span><span class="op" id="8443223">,</span>&nbsp;<span class="string" id="8443225">&#34;&#34;</span><span class="op" id="8443227">}</span><span class="op" id="8443228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443231">{</span><span class="string" id="8443232">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="8443252">,</span>&nbsp;<span class="string" id="8443254">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="8443281">,</span>&nbsp;<span class="ident" id="8443283">hasError</span><span class="op" id="8443291">,</span>&nbsp;<span class="string" id="8443293">&#34;&#34;</span><span class="op" id="8443295">}</span><span class="op" id="8443296">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443299">{</span><span class="string" id="8443300">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="8443325">,</span>&nbsp;<span class="string" id="8443327">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="8443344">,</span>&nbsp;<span class="ident" id="8443346">hasError</span><span class="op" id="8443354">,</span>&nbsp;<span class="string" id="8443356">&#34;&#34;</span><span class="op" id="8443358">}</span><span class="op" id="8443359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443362">{</span><span class="string" id="8443363">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="8443382">,</span>&nbsp;<span class="string" id="8443384">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8443401">,</span>&nbsp;<span class="ident" id="8443403">hasError</span><span class="op" id="8443411">,</span>&nbsp;<span class="string" id="8443413">&#34;&#34;</span><span class="op" id="8443415">}</span><span class="op" id="8443416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443419">{</span><span class="string" id="8443420">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="8443441">,</span>&nbsp;<span class="string" id="8443443">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="8443460">,</span>&nbsp;<span class="ident" id="8443462">hasError</span><span class="op" id="8443470">,</span>&nbsp;<span class="string" id="8443472">&#34;&#34;</span><span class="op" id="8443474">}</span><span class="op" id="8443475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443478">{</span><span class="string" id="8443479">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="8443504">,</span>&nbsp;<span class="string" id="8443506">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8443535">,</span>&nbsp;<span class="ident" id="8443537">hasError</span><span class="op" id="8443545">,</span>&nbsp;<span class="string" id="8443547">&#34;&#34;</span><span class="op" id="8443549">}</span><span class="op" id="8443550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443553">{</span><span class="string" id="8443554">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="8443579">,</span>&nbsp;<span class="string" id="8443581">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8443615">,</span>&nbsp;<span class="ident" id="8443617">hasError</span><span class="op" id="8443625">,</span>&nbsp;<span class="string" id="8443627">&#34;&#34;</span><span class="op" id="8443629">}</span><span class="op" id="8443630">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443633">{</span><span class="string" id="8443634">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8443662">,</span>&nbsp;<span class="string" id="8443664">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="8443688">,</span>&nbsp;<span class="ident" id="8443690">hasError</span><span class="op" id="8443698">,</span>&nbsp;<span class="string" id="8443700">&#34;&#34;</span><span class="op" id="8443702">}</span><span class="op" id="8443703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443706">{</span><span class="string" id="8443707">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="8443722">,</span>&nbsp;<span class="string" id="8443724">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="8443741">,</span>&nbsp;<span class="ident" id="8443743">hasError</span><span class="op" id="8443751">,</span>&nbsp;<span class="string" id="8443753">&#34;&#34;</span><span class="op" id="8443755">}</span><span class="op" id="8443756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443759">{</span><span class="string" id="8443760">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="8443782">,</span>&nbsp;<span class="string" id="8443784">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="8443801">,</span>&nbsp;<span class="ident" id="8443803">hasError</span><span class="op" id="8443811">,</span>&nbsp;<span class="string" id="8443813">&#34;&#34;</span><span class="op" id="8443815">}</span><span class="op" id="8443816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443819">{</span><span class="string" id="8443820">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="8443840">,</span>&nbsp;<span class="string" id="8443842">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="8443883">,</span>&nbsp;<span class="ident" id="8443885">hasError</span><span class="op" id="8443893">,</span>&nbsp;<span class="string" id="8443895">&#34;&#34;</span><span class="op" id="8443897">}</span><span class="op" id="8443898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8443901">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443961">{</span><span class="string" id="8443962">&#34;bug0a&#34;</span><span class="op" id="8443969">,</span>&nbsp;<span class="string" id="8443971">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8443990">,</span>&nbsp;<span class="ident" id="8443992">noError</span><span class="op" id="8443999">,</span>&nbsp;<span class="string" id="8444001">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8444020">}</span><span class="op" id="8444021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444024">{</span><span class="string" id="8444025">&#34;bug0b&#34;</span><span class="op" id="8444032">,</span>&nbsp;<span class="string" id="8444034">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="8444052">,</span>&nbsp;<span class="ident" id="8444054">hasError</span><span class="op" id="8444062">,</span>&nbsp;<span class="string" id="8444064">&#34;&#34;</span><span class="op" id="8444066">}</span><span class="op" id="8444067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444070">{</span><span class="string" id="8444071">&#34;bug0c&#34;</span><span class="op" id="8444078">,</span>&nbsp;<span class="string" id="8444080">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="8444098">,</span>&nbsp;<span class="ident" id="8444100">hasError</span><span class="op" id="8444108">,</span>&nbsp;<span class="string" id="8444110">&#34;&#34;</span><span class="op" id="8444112">}</span><span class="op" id="8444113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444116">{</span><span class="string" id="8444117">&#34;bug0d&#34;</span><span class="op" id="8444124">,</span>&nbsp;<span class="string" id="8444126">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="8444144">,</span>&nbsp;<span class="ident" id="8444146">hasError</span><span class="op" id="8444154">,</span>&nbsp;<span class="string" id="8444156">&#34;&#34;</span><span class="op" id="8444158">}</span><span class="op" id="8444159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8444162">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444214">{</span><span class="string" id="8444215">&#34;bug0e&#34;</span><span class="op" id="8444222">,</span>&nbsp;<span class="string" id="8444224">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8444256">,</span>&nbsp;<span class="ident" id="8444258">hasError</span><span class="op" id="8444266">,</span>&nbsp;<span class="string" id="8444268">&#34;&#34;</span><span class="op" id="8444270">}</span><span class="op" id="8444271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8444274">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444340">{</span><span class="string" id="8444341">&#34;bug1a&#34;</span><span class="op" id="8444348">,</span>&nbsp;<span class="string" id="8444350">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="8444369">,</span>&nbsp;<span class="ident" id="8444371">hasError</span><span class="op" id="8444379">,</span>&nbsp;<span class="string" id="8444381">&#34;&#34;</span><span class="op" id="8444383">}</span><span class="op" id="8444384">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8444406">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444434">{</span><span class="string" id="8444435">&#34;bug1b&#34;</span><span class="op" id="8444442">,</span>&nbsp;<span class="string" id="8444444">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="8444463">,</span>&nbsp;<span class="ident" id="8444465">hasError</span><span class="op" id="8444473">,</span>&nbsp;<span class="string" id="8444475">&#34;&#34;</span><span class="op" id="8444477">}</span><span class="op" id="8444478">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8444500">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444540">{</span><span class="string" id="8444541">&#34;bug1c&#34;</span><span class="op" id="8444548">,</span>&nbsp;<span class="string" id="8444550">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8444570">,</span>&nbsp;<span class="ident" id="8444572">noError</span><span class="op" id="8444579">,</span>&nbsp;<span class="string" id="8444581">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8444603">}</span><span class="op" id="8444604">,</span>&nbsp;<span class="comment" id="8444606">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="8444631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8444634">var</span>&nbsp;<span class="ident" id="8444638">builtins</span>&nbsp;<span class="op" id="8444647">=</span>&nbsp;<span class="keyword" id="8444649">map</span><span class="op" id="8444652">[</span><span class="builtintype" id="8444653">string</span><span class="op" id="8444659">]</span><span class="keyword" id="8444660">interface</span><span class="op" id="8444669">{</span><span class="op" id="8444670">}</span><span class="op" id="8444671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444674">&#34;printf&#34;</span><span class="op" id="8444682">:</span>&nbsp;<span class="ident" id="8444684">fmt</span><span class="op" id="8444687">.</span><span class="ident" id="8444688">Sprintf</span><span class="op" id="8444695">,</span><br>
<span class="lineno"></span><span class="op" id="8444697">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="8444700">func</span>&nbsp;<span class="ident" id="8444705">testParse</span><span class="op" id="8444714">(</span><span class="ident" id="8444715">doCopy</span>&nbsp;<span class="builtintype" id="8444722">bool</span><span class="op" id="8444726">,</span>&nbsp;<span class="ident" id="8444728">t</span>&nbsp;<span class="op" id="8444730">*</span><span class="ident" id="8444731">testing</span><span class="op" id="8444738">.</span><span class="ident" id="8444739">T</span><span class="op" id="8444740">)</span>&nbsp;<span class="op" id="8444742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444745">textFormat</span>&nbsp;<span class="op" id="8444756">=</span>&nbsp;<span class="string" id="8444758">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444764">defer</span>&nbsp;<span class="keyword" id="8444770">func</span><span class="op" id="8444774">(</span><span class="op" id="8444775">)</span>&nbsp;<span class="op" id="8444777">{</span>&nbsp;<span class="ident" id="8444779">textFormat</span>&nbsp;<span class="op" id="8444790">=</span>&nbsp;<span class="string" id="8444792">&#34;%s&#34;</span>&nbsp;<span class="op" id="8444797">}</span><span class="op" id="8444798">(</span><span class="op" id="8444799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444802">for</span>&nbsp;<span class="ident" id="8444806">_</span><span class="op" id="8444807">,</span>&nbsp;<span class="ident" id="8444809">test</span>&nbsp;<span class="op" id="8444814">:=</span>&nbsp;<span class="keyword" id="8444817">range</span>&nbsp;<span class="ident" id="8444823">parseTests</span>&nbsp;<span class="op" id="8444834">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444838">tmpl</span><span class="op" id="8444842">,</span>&nbsp;<span class="ident" id="8444844">err</span>&nbsp;<span class="op" id="8444848">:=</span>&nbsp;<span class="ident" id="8444851">New</span><span class="op" id="8444854">(</span><span class="ident" id="8444855">test</span><span class="op" id="8444859">.</span><span class="ident" id="8444860">name</span><span class="op" id="8444864">)</span><span class="op" id="8444865">.</span><span class="ident" id="8444866">Parse</span><span class="op" id="8444871">(</span><span class="ident" id="8444872">test</span><span class="op" id="8444876">.</span><span class="ident" id="8444877">input</span><span class="op" id="8444882">,</span>&nbsp;<span class="string" id="8444884">&#34;&#34;</span><span class="op" id="8444886">,</span>&nbsp;<span class="string" id="8444888">&#34;&#34;</span><span class="op" id="8444890">,</span>&nbsp;<span class="builtinfunc" id="8444892">make</span><span class="op" id="8444896">(</span><span class="keyword" id="8444897">map</span><span class="op" id="8444900">[</span><span class="builtintype" id="8444901">string</span><span class="op" id="8444907">]</span><span class="op" id="8444908">*</span><span class="ident" id="8444909">Tree</span><span class="op" id="8444913">)</span><span class="op" id="8444914">,</span>&nbsp;<span class="ident" id="8444916">builtins</span><span class="op" id="8444924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444928">switch</span>&nbsp;<span class="op" id="8444935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444939">case</span>&nbsp;<span class="ident" id="8444944">err</span>&nbsp;<span class="op" id="8444948">==</span>&nbsp;<span class="ident" id="8444951">nil</span>&nbsp;<span class="op" id="8444955">&amp;&amp;</span>&nbsp;<span class="op" id="8444958">!</span><span class="ident" id="8444959">test</span><span class="op" id="8444963">.</span><span class="ident" id="8444964">ok</span><span class="op" id="8444966">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444971">t</span><span class="op" id="8444972">.</span><span class="ident" id="8444973">Errorf</span><span class="op" id="8444979">(</span><span class="string" id="8444980">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8445010">,</span>&nbsp;<span class="ident" id="8445012">test</span><span class="op" id="8445016">.</span><span class="ident" id="8445017">name</span><span class="op" id="8445021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445026">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445037">case</span>&nbsp;<span class="ident" id="8445042">err</span>&nbsp;<span class="op" id="8445046">!=</span>&nbsp;<span class="ident" id="8445049">nil</span>&nbsp;<span class="op" id="8445053">&amp;&amp;</span>&nbsp;<span class="ident" id="8445056">test</span><span class="op" id="8445060">.</span><span class="ident" id="8445061">ok</span><span class="op" id="8445063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445068">t</span><span class="op" id="8445069">.</span><span class="ident" id="8445070">Errorf</span><span class="op" id="8445076">(</span><span class="string" id="8445077">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8445103">,</span>&nbsp;<span class="ident" id="8445105">test</span><span class="op" id="8445109">.</span><span class="ident" id="8445110">name</span><span class="op" id="8445114">,</span>&nbsp;<span class="ident" id="8445116">err</span><span class="op" id="8445119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445124">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445135">case</span>&nbsp;<span class="ident" id="8445140">err</span>&nbsp;<span class="op" id="8445144">!=</span>&nbsp;<span class="ident" id="8445147">nil</span>&nbsp;<span class="op" id="8445151">&amp;&amp;</span>&nbsp;<span class="op" id="8445154">!</span><span class="ident" id="8445155">test</span><span class="op" id="8445159">.</span><span class="ident" id="8445160">ok</span><span class="op" id="8445162">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8445167">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445197">if</span>&nbsp;<span class="op" id="8445200">*</span><span class="ident" id="8445201">debug</span>&nbsp;<span class="op" id="8445207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445213">fmt</span><span class="op" id="8445216">.</span><span class="ident" id="8445217">Printf</span><span class="op" id="8445223">(</span><span class="string" id="8445224">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="8445240">,</span>&nbsp;<span class="ident" id="8445242">test</span><span class="op" id="8445246">.</span><span class="ident" id="8445247">name</span><span class="op" id="8445251">,</span>&nbsp;<span class="ident" id="8445253">test</span><span class="op" id="8445257">.</span><span class="ident" id="8445258">input</span><span class="op" id="8445263">,</span>&nbsp;<span class="ident" id="8445265">err</span><span class="op" id="8445268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445278">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445289">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445293">var</span>&nbsp;<span class="ident" id="8445297">result</span>&nbsp;<span class="builtintype" id="8445304">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445313">if</span>&nbsp;<span class="ident" id="8445316">doCopy</span>&nbsp;<span class="op" id="8445323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445328">result</span>&nbsp;<span class="op" id="8445335">=</span>&nbsp;<span class="ident" id="8445337">tmpl</span><span class="op" id="8445341">.</span><span class="ident" id="8445342">Root</span><span class="op" id="8445346">.</span><span class="ident" id="8445347">Copy</span><span class="op" id="8445351">(</span><span class="op" id="8445352">)</span><span class="op" id="8445353">.</span><span class="ident" id="8445354">String</span><span class="op" id="8445360">(</span><span class="op" id="8445361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445365">}</span>&nbsp;<span class="keyword" id="8445367">else</span>&nbsp;<span class="op" id="8445372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445377">result</span>&nbsp;<span class="op" id="8445384">=</span>&nbsp;<span class="ident" id="8445386">tmpl</span><span class="op" id="8445390">.</span><span class="ident" id="8445391">Root</span><span class="op" id="8445395">.</span><span class="ident" id="8445396">String</span><span class="op" id="8445402">(</span><span class="op" id="8445403">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445411">if</span>&nbsp;<span class="ident" id="8445414">result</span>&nbsp;<span class="op" id="8445421">!=</span>&nbsp;<span class="ident" id="8445424">test</span><span class="op" id="8445428">.</span><span class="ident" id="8445429">result</span>&nbsp;<span class="op" id="8445436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445441">t</span><span class="op" id="8445442">.</span><span class="ident" id="8445443">Errorf</span><span class="op" id="8445449">(</span><span class="string" id="8445450">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="8445486">,</span>&nbsp;<span class="ident" id="8445488">test</span><span class="op" id="8445492">.</span><span class="ident" id="8445493">name</span><span class="op" id="8445497">,</span>&nbsp;<span class="ident" id="8445499">test</span><span class="op" id="8445503">.</span><span class="ident" id="8445504">input</span><span class="op" id="8445509">,</span>&nbsp;<span class="ident" id="8445511">result</span><span class="op" id="8445517">,</span>&nbsp;<span class="ident" id="8445519">test</span><span class="op" id="8445523">.</span><span class="ident" id="8445524">result</span><span class="op" id="8445530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445537">}</span><br>
<span class="lineno">295</span><span class="op" id="8445539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8445542">func</span>&nbsp;<span class="ident" id="8445547">TestParse</span><span class="op" id="8445556">(</span><span class="ident" id="8445557">t</span>&nbsp;<span class="op" id="8445559">*</span><span class="ident" id="8445560">testing</span><span class="op" id="8445567">.</span><span class="ident" id="8445568">T</span><span class="op" id="8445569">)</span>&nbsp;<span class="op" id="8445571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445574">testParse</span><span class="op" id="8445583">(</span><span class="builtintype" id="8445584">false</span><span class="op" id="8445589">,</span>&nbsp;<span class="ident" id="8445591">t</span><span class="op" id="8445592">)</span><br>
<span class="lineno"></span><span class="op" id="8445594">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="8445597">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="8445646">func</span>&nbsp;<span class="ident" id="8445651">TestParseCopy</span><span class="op" id="8445664">(</span><span class="ident" id="8445665">t</span>&nbsp;<span class="op" id="8445667">*</span><span class="ident" id="8445668">testing</span><span class="op" id="8445675">.</span><span class="ident" id="8445676">T</span><span class="op" id="8445677">)</span>&nbsp;<span class="op" id="8445679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445682">testParse</span><span class="op" id="8445691">(</span><span class="builtintype" id="8445692">true</span><span class="op" id="8445696">,</span>&nbsp;<span class="ident" id="8445698">t</span><span class="op" id="8445699">)</span><br>
<span class="lineno"></span><span class="op" id="8445701">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="8445704">type</span>&nbsp;<span class="ident" id="8445709">isEmptyTest</span>&nbsp;<span class="keyword" id="8445721">struct</span>&nbsp;<span class="op" id="8445728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445731">name</span>&nbsp;&nbsp;<span class="builtintype" id="8445737">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445745">input</span>&nbsp;<span class="builtintype" id="8445751">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445759">empty</span>&nbsp;<span class="builtintype" id="8445765">bool</span><br>
<span class="lineno">310</span><span class="op" id="8445770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8445773">var</span>&nbsp;<span class="ident" id="8445777">isEmptyTests</span>&nbsp;<span class="op" id="8445790">=</span>&nbsp;<span class="op" id="8445792">[</span><span class="op" id="8445793">]</span><span class="ident" id="8445794">isEmptyTest</span><span class="op" id="8445805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445808">{</span><span class="string" id="8445809">&#34;empty&#34;</span><span class="op" id="8445816">,</span>&nbsp;<span class="string" id="8445818">``</span><span class="op" id="8445820">,</span>&nbsp;<span class="builtintype" id="8445822">true</span><span class="op" id="8445826">}</span><span class="op" id="8445827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445830">{</span><span class="string" id="8445831">&#34;nonempty&#34;</span><span class="op" id="8445841">,</span>&nbsp;<span class="string" id="8445843">`hello`</span><span class="op" id="8445850">,</span>&nbsp;<span class="builtintype" id="8445852">false</span><span class="op" id="8445857">}</span><span class="op" id="8445858">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445861">{</span><span class="string" id="8445862">&#34;spaces&nbsp;only&#34;</span><span class="op" id="8445875">,</span>&nbsp;<span class="string" id="8445877">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="8445889">,</span>&nbsp;<span class="builtintype" id="8445891">true</span><span class="op" id="8445895">}</span><span class="op" id="8445896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445899">{</span><span class="string" id="8445900">&#34;definition&#34;</span><span class="op" id="8445912">,</span>&nbsp;<span class="string" id="8445914">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="8445946">,</span>&nbsp;<span class="builtintype" id="8445948">true</span><span class="op" id="8445952">}</span><span class="op" id="8445953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445956">{</span><span class="string" id="8445957">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="8445980">,</span>&nbsp;<span class="string" id="8445982">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="8446052">,</span>&nbsp;<span class="builtintype" id="8446054">true</span><span class="op" id="8446058">}</span><span class="op" id="8446059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446062">{</span><span class="string" id="8446063">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="8446085">,</span>&nbsp;<span class="string" id="8446087">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="8446159">,</span>&nbsp;<span class="builtintype" id="8446161">false</span><span class="op" id="8446166">}</span><span class="op" id="8446167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446170">{</span><span class="string" id="8446171">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="8446194">,</span>&nbsp;<span class="string" id="8446196">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="8446246">,</span>&nbsp;<span class="builtintype" id="8446248">false</span><span class="op" id="8446253">}</span><span class="op" id="8446254">,</span><br>
<span class="lineno">320</span><span class="op" id="8446256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8446259">func</span>&nbsp;<span class="ident" id="8446264">TestIsEmpty</span><span class="op" id="8446275">(</span><span class="ident" id="8446276">t</span>&nbsp;<span class="op" id="8446278">*</span><span class="ident" id="8446279">testing</span><span class="op" id="8446286">.</span><span class="ident" id="8446287">T</span><span class="op" id="8446288">)</span>&nbsp;<span class="op" id="8446290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446293">if</span>&nbsp;<span class="op" id="8446296">!</span><span class="ident" id="8446297">IsEmptyTree</span><span class="op" id="8446308">(</span><span class="ident" id="8446309">nil</span><span class="op" id="8446312">)</span>&nbsp;<span class="op" id="8446314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446318">t</span><span class="op" id="8446319">.</span><span class="ident" id="8446320">Errorf</span><span class="op" id="8446326">(</span><span class="string" id="8446327">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="8446350">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446356">for</span>&nbsp;<span class="ident" id="8446360">_</span><span class="op" id="8446361">,</span>&nbsp;<span class="ident" id="8446363">test</span>&nbsp;<span class="op" id="8446368">:=</span>&nbsp;<span class="keyword" id="8446371">range</span>&nbsp;<span class="ident" id="8446377">isEmptyTests</span>&nbsp;<span class="op" id="8446390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446394">tree</span><span class="op" id="8446398">,</span>&nbsp;<span class="ident" id="8446400">err</span>&nbsp;<span class="op" id="8446404">:=</span>&nbsp;<span class="ident" id="8446407">New</span><span class="op" id="8446410">(</span><span class="string" id="8446411">&#34;root&#34;</span><span class="op" id="8446417">)</span><span class="op" id="8446418">.</span><span class="ident" id="8446419">Parse</span><span class="op" id="8446424">(</span><span class="ident" id="8446425">test</span><span class="op" id="8446429">.</span><span class="ident" id="8446430">input</span><span class="op" id="8446435">,</span>&nbsp;<span class="string" id="8446437">&#34;&#34;</span><span class="op" id="8446439">,</span>&nbsp;<span class="string" id="8446441">&#34;&#34;</span><span class="op" id="8446443">,</span>&nbsp;<span class="builtinfunc" id="8446445">make</span><span class="op" id="8446449">(</span><span class="keyword" id="8446450">map</span><span class="op" id="8446453">[</span><span class="builtintype" id="8446454">string</span><span class="op" id="8446460">]</span><span class="op" id="8446461">*</span><span class="ident" id="8446462">Tree</span><span class="op" id="8446466">)</span><span class="op" id="8446467">,</span>&nbsp;<span class="ident" id="8446469">nil</span><span class="op" id="8446472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446476">if</span>&nbsp;<span class="ident" id="8446479">err</span>&nbsp;<span class="op" id="8446483">!=</span>&nbsp;<span class="ident" id="8446486">nil</span>&nbsp;<span class="op" id="8446490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446495">t</span><span class="op" id="8446496">.</span><span class="ident" id="8446497">Errorf</span><span class="op" id="8446503">(</span><span class="string" id="8446504">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8446530">,</span>&nbsp;<span class="ident" id="8446532">test</span><span class="op" id="8446536">.</span><span class="ident" id="8446537">name</span><span class="op" id="8446541">,</span>&nbsp;<span class="ident" id="8446543">err</span><span class="op" id="8446546">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446551">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446566">if</span>&nbsp;<span class="ident" id="8446569">empty</span>&nbsp;<span class="op" id="8446575">:=</span>&nbsp;<span class="ident" id="8446578">IsEmptyTree</span><span class="op" id="8446589">(</span><span class="ident" id="8446590">tree</span><span class="op" id="8446594">.</span><span class="ident" id="8446595">Root</span><span class="op" id="8446599">)</span><span class="op" id="8446600">;</span>&nbsp;<span class="ident" id="8446602">empty</span>&nbsp;<span class="op" id="8446608">!=</span>&nbsp;<span class="ident" id="8446611">test</span><span class="op" id="8446615">.</span><span class="ident" id="8446616">empty</span>&nbsp;<span class="op" id="8446622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446627">t</span><span class="op" id="8446628">.</span><span class="ident" id="8446629">Errorf</span><span class="op" id="8446635">(</span><span class="string" id="8446636">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="8446660">,</span>&nbsp;<span class="ident" id="8446662">test</span><span class="op" id="8446666">.</span><span class="ident" id="8446667">name</span><span class="op" id="8446671">,</span>&nbsp;<span class="ident" id="8446673">test</span><span class="op" id="8446677">.</span><span class="ident" id="8446678">empty</span><span class="op" id="8446683">,</span>&nbsp;<span class="ident" id="8446685">empty</span><span class="op" id="8446690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446694">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446697">}</span><br>
<span class="lineno"></span><span class="op" id="8446699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8446702">func</span>&nbsp;<span class="ident" id="8446707">TestErrorContextWithTreeCopy</span><span class="op" id="8446735">(</span><span class="ident" id="8446736">t</span>&nbsp;<span class="op" id="8446738">*</span><span class="ident" id="8446739">testing</span><span class="op" id="8446746">.</span><span class="ident" id="8446747">T</span><span class="op" id="8446748">)</span>&nbsp;<span class="op" id="8446750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446753">tree</span><span class="op" id="8446757">,</span>&nbsp;<span class="ident" id="8446759">err</span>&nbsp;<span class="op" id="8446763">:=</span>&nbsp;<span class="ident" id="8446766">New</span><span class="op" id="8446769">(</span><span class="string" id="8446770">&#34;root&#34;</span><span class="op" id="8446776">)</span><span class="op" id="8446777">.</span><span class="ident" id="8446778">Parse</span><span class="op" id="8446783">(</span><span class="string" id="8446784">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="8446804">,</span>&nbsp;<span class="string" id="8446806">&#34;&#34;</span><span class="op" id="8446808">,</span>&nbsp;<span class="string" id="8446810">&#34;&#34;</span><span class="op" id="8446812">,</span>&nbsp;<span class="builtinfunc" id="8446814">make</span><span class="op" id="8446818">(</span><span class="keyword" id="8446819">map</span><span class="op" id="8446822">[</span><span class="builtintype" id="8446823">string</span><span class="op" id="8446829">]</span><span class="op" id="8446830">*</span><span class="ident" id="8446831">Tree</span><span class="op" id="8446835">)</span><span class="op" id="8446836">,</span>&nbsp;<span class="ident" id="8446838">nil</span><span class="op" id="8446841">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446844">if</span>&nbsp;<span class="ident" id="8446847">err</span>&nbsp;<span class="op" id="8446851">!=</span>&nbsp;<span class="ident" id="8446854">nil</span>&nbsp;<span class="op" id="8446858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446862">t</span><span class="op" id="8446863">.</span><span class="ident" id="8446864">Fatalf</span><span class="op" id="8446870">(</span><span class="string" id="8446871">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="8446906">,</span>&nbsp;<span class="ident" id="8446908">err</span><span class="op" id="8446911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446917">treeCopy</span>&nbsp;<span class="op" id="8446926">:=</span>&nbsp;<span class="ident" id="8446929">tree</span><span class="op" id="8446933">.</span><span class="ident" id="8446934">Copy</span><span class="op" id="8446938">(</span><span class="op" id="8446939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446942">wantLocation</span><span class="op" id="8446954">,</span>&nbsp;<span class="ident" id="8446956">wantContext</span>&nbsp;<span class="op" id="8446968">:=</span>&nbsp;<span class="ident" id="8446971">tree</span><span class="op" id="8446975">.</span><span class="ident" id="8446976">ErrorContext</span><span class="op" id="8446988">(</span><span class="ident" id="8446989">tree</span><span class="op" id="8446993">.</span><span class="ident" id="8446994">Root</span><span class="op" id="8446998">.</span><span class="ident" id="8446999">Nodes</span><span class="op" id="8447004">[</span><span class="num" id="8447005">0</span><span class="op" id="8447006">]</span><span class="op" id="8447007">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447010">gotLocation</span><span class="op" id="8447021">,</span>&nbsp;<span class="ident" id="8447023">gotContext</span>&nbsp;<span class="op" id="8447034">:=</span>&nbsp;<span class="ident" id="8447037">treeCopy</span><span class="op" id="8447045">.</span><span class="ident" id="8447046">ErrorContext</span><span class="op" id="8447058">(</span><span class="ident" id="8447059">treeCopy</span><span class="op" id="8447067">.</span><span class="ident" id="8447068">Root</span><span class="op" id="8447072">.</span><span class="ident" id="8447073">Nodes</span><span class="op" id="8447078">[</span><span class="num" id="8447079">0</span><span class="op" id="8447080">]</span><span class="op" id="8447081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8447084">if</span>&nbsp;<span class="ident" id="8447087">wantLocation</span>&nbsp;<span class="op" id="8447100">!=</span>&nbsp;<span class="ident" id="8447103">gotLocation</span>&nbsp;<span class="op" id="8447115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447119">t</span><span class="op" id="8447120">.</span><span class="ident" id="8447121">Errorf</span><span class="op" id="8447127">(</span><span class="string" id="8447128">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8447165">,</span>&nbsp;<span class="ident" id="8447167">wantLocation</span><span class="op" id="8447179">,</span>&nbsp;<span class="ident" id="8447181">gotLocation</span><span class="op" id="8447192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8447198">if</span>&nbsp;<span class="ident" id="8447201">wantContext</span>&nbsp;<span class="op" id="8447213">!=</span>&nbsp;<span class="ident" id="8447216">gotContext</span>&nbsp;<span class="op" id="8447227">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447231">t</span><span class="op" id="8447232">.</span><span class="ident" id="8447233">Errorf</span><span class="op" id="8447239">(</span><span class="string" id="8447240">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8447277">,</span>&nbsp;<span class="ident" id="8447279">wantContext</span><span class="op" id="8447290">,</span>&nbsp;<span class="ident" id="8447292">gotContext</span><span class="op" id="8447302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447305">}</span><br>
<span class="lineno"></span><span class="op" id="8447307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8447310">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="8447393">var</span>&nbsp;<span class="ident" id="8447397">errorTests</span>&nbsp;<span class="op" id="8447408">=</span>&nbsp;<span class="op" id="8447410">[</span><span class="op" id="8447411">]</span><span class="ident" id="8447412">parseTest</span><span class="op" id="8447421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8447424">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447461">{</span><span class="string" id="8447462">&#34;unclosed1&#34;</span><span class="op" id="8447473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8447477">&#34;line1\n{{&#34;</span><span class="op" id="8447488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447492">hasError</span><span class="op" id="8447500">,</span>&nbsp;<span class="string" id="8447502">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8447554">}</span><span class="op" id="8447555">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447558">{</span><span class="string" id="8447559">&#34;unclosed2&#34;</span><span class="op" id="8447570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8447574">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="8447606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447610">hasError</span><span class="op" id="8447618">,</span>&nbsp;<span class="string" id="8447620">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8447672">}</span><span class="op" id="8447673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8447676">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447697">{</span><span class="string" id="8447698">&#34;function&#34;</span><span class="op" id="8447708">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8447712">&#34;{{foo}}&#34;</span><span class="op" id="8447721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447725">hasError</span><span class="op" id="8447733">,</span>&nbsp;<span class="string" id="8447735">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="8447763">}</span><span class="op" id="8447764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447767">{</span><span class="string" id="8447768">&#34;comment&#34;</span><span class="op" id="8447777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8447781">&#34;{{/*}}&#34;</span><span class="op" id="8447789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447793">hasError</span><span class="op" id="8447801">,</span>&nbsp;<span class="string" id="8447803">`unclosed&nbsp;comment`</span><span class="op" id="8447821">}</span><span class="op" id="8447822">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447825">{</span><span class="string" id="8447826">&#34;lparen&#34;</span><span class="op" id="8447834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8447838">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="8447853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447857">hasError</span><span class="op" id="8447865">,</span>&nbsp;<span class="string" id="8447867">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="8447888">}</span><span class="op" id="8447889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447892">{</span><span class="string" id="8447893">&#34;rparen&#34;</span><span class="op" id="8447901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8447905">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="8447920">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447924">hasError</span><span class="op" id="8447932">,</span>&nbsp;<span class="string" id="8447934">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="8447950">}</span><span class="op" id="8447951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447954">{</span><span class="string" id="8447955">&#34;space&#34;</span><span class="op" id="8447962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8447966">&#34;{{`x`3}}&#34;</span><span class="op" id="8447976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447980">hasError</span><span class="op" id="8447988">,</span>&nbsp;<span class="string" id="8447990">`missing&nbsp;space?`</span><span class="op" id="8448006">}</span><span class="op" id="8448007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448010">{</span><span class="string" id="8448011">&#34;idchar&#34;</span><span class="op" id="8448019">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448023">&#34;{{a#}}&#34;</span><span class="op" id="8448031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448035">hasError</span><span class="op" id="8448043">,</span>&nbsp;<span class="string" id="8448045">`&#39;#&#39;`</span><span class="op" id="8448050">}</span><span class="op" id="8448051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448054">{</span><span class="string" id="8448055">&#34;charconst&#34;</span><span class="op" id="8448066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448070">&#34;{{&#39;a}}&#34;</span><span class="op" id="8448078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448082">hasError</span><span class="op" id="8448090">,</span>&nbsp;<span class="string" id="8448092">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="8448125">}</span><span class="op" id="8448126">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448129">{</span><span class="string" id="8448130">&#34;stringconst&#34;</span><span class="op" id="8448143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448147">`{{&#34;a}}`</span><span class="op" id="8448155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448159">hasError</span><span class="op" id="8448167">,</span>&nbsp;<span class="string" id="8448169">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="8448197">}</span><span class="op" id="8448198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448201">{</span><span class="string" id="8448202">&#34;rawstringconst&#34;</span><span class="op" id="8448218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448222">&#34;{{`a}}&#34;</span><span class="op" id="8448230">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448234">hasError</span><span class="op" id="8448242">,</span>&nbsp;<span class="string" id="8448244">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="8448276">}</span><span class="op" id="8448277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448280">{</span><span class="string" id="8448281">&#34;number&#34;</span><span class="op" id="8448289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448293">&#34;{{0xi}}&#34;</span><span class="op" id="8448302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448306">hasError</span><span class="op" id="8448314">,</span>&nbsp;<span class="string" id="8448316">`number&nbsp;syntax`</span><span class="op" id="8448331">}</span><span class="op" id="8448332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448335">{</span><span class="string" id="8448336">&#34;multidefine&#34;</span><span class="op" id="8448349">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448353">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="8448399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448403">hasError</span><span class="op" id="8448411">,</span>&nbsp;<span class="string" id="8448413">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="8448446">}</span><span class="op" id="8448447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448450">{</span><span class="string" id="8448451">&#34;eof&#34;</span><span class="op" id="8448456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448460">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="8448474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448478">hasError</span><span class="op" id="8448486">,</span>&nbsp;<span class="string" id="8448488">`unexpected&nbsp;EOF`</span><span class="op" id="8448504">}</span><span class="op" id="8448505">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448508">{</span><span class="string" id="8448509">&#34;variable&#34;</span><span class="op" id="8448519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8448523">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448622">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8448670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448674">hasError</span><span class="op" id="8448682">,</span>&nbsp;<span class="string" id="8448684">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="8448701">}</span><span class="op" id="8448702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448705">{</span><span class="string" id="8448706">&#34;multidecl&#34;</span><span class="op" id="8448717">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448721">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="8448741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448745">hasError</span><span class="op" id="8448753">,</span>&nbsp;<span class="string" id="8448755">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="8448778">}</span><span class="op" id="8448779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448782">{</span><span class="string" id="8448783">&#34;undefvar&#34;</span><span class="op" id="8448793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8448797">&#34;{{$a}}&#34;</span><span class="op" id="8448805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448809">hasError</span><span class="op" id="8448817">,</span>&nbsp;<span class="string" id="8448819">`undefined&nbsp;variable`</span><span class="op" id="8448839">}</span><span class="op" id="8448840">,</span><br>
<span class="lineno">410</span><span class="op" id="8448842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8448845">func</span>&nbsp;<span class="ident" id="8448850">TestErrors</span><span class="op" id="8448860">(</span><span class="ident" id="8448861">t</span>&nbsp;<span class="op" id="8448863">*</span><span class="ident" id="8448864">testing</span><span class="op" id="8448871">.</span><span class="ident" id="8448872">T</span><span class="op" id="8448873">)</span>&nbsp;<span class="op" id="8448875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8448878">for</span>&nbsp;<span class="ident" id="8448882">_</span><span class="op" id="8448883">,</span>&nbsp;<span class="ident" id="8448885">test</span>&nbsp;<span class="op" id="8448890">:=</span>&nbsp;<span class="keyword" id="8448893">range</span>&nbsp;<span class="ident" id="8448899">errorTests</span>&nbsp;<span class="op" id="8448910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448914">_</span><span class="op" id="8448915">,</span>&nbsp;<span class="ident" id="8448917">err</span>&nbsp;<span class="op" id="8448921">:=</span>&nbsp;<span class="ident" id="8448924">New</span><span class="op" id="8448927">(</span><span class="ident" id="8448928">test</span><span class="op" id="8448932">.</span><span class="ident" id="8448933">name</span><span class="op" id="8448937">)</span><span class="op" id="8448938">.</span><span class="ident" id="8448939">Parse</span><span class="op" id="8448944">(</span><span class="ident" id="8448945">test</span><span class="op" id="8448949">.</span><span class="ident" id="8448950">input</span><span class="op" id="8448955">,</span>&nbsp;<span class="string" id="8448957">&#34;&#34;</span><span class="op" id="8448959">,</span>&nbsp;<span class="string" id="8448961">&#34;&#34;</span><span class="op" id="8448963">,</span>&nbsp;<span class="builtinfunc" id="8448965">make</span><span class="op" id="8448969">(</span><span class="keyword" id="8448970">map</span><span class="op" id="8448973">[</span><span class="builtintype" id="8448974">string</span><span class="op" id="8448980">]</span><span class="op" id="8448981">*</span><span class="ident" id="8448982">Tree</span><span class="op" id="8448986">)</span><span class="op" id="8448987">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8448991">if</span>&nbsp;<span class="ident" id="8448994">err</span>&nbsp;<span class="op" id="8448998">==</span>&nbsp;<span class="ident" id="8449001">nil</span>&nbsp;<span class="op" id="8449005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449010">t</span><span class="op" id="8449011">.</span><span class="ident" id="8449012">Errorf</span><span class="op" id="8449018">(</span><span class="string" id="8449019">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="8449039">,</span>&nbsp;<span class="ident" id="8449041">test</span><span class="op" id="8449045">.</span><span class="ident" id="8449046">name</span><span class="op" id="8449050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449055">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8449066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449070">if</span>&nbsp;<span class="op" id="8449073">!</span><span class="ident" id="8449074">strings</span><span class="op" id="8449081">.</span><span class="ident" id="8449082">Contains</span><span class="op" id="8449090">(</span><span class="ident" id="8449091">err</span><span class="op" id="8449094">.</span><span class="ident" id="8449095">Error</span><span class="op" id="8449100">(</span><span class="op" id="8449101">)</span><span class="op" id="8449102">,</span>&nbsp;<span class="ident" id="8449104">test</span><span class="op" id="8449108">.</span><span class="ident" id="8449109">result</span><span class="op" id="8449115">)</span>&nbsp;<span class="op" id="8449117">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449122">t</span><span class="op" id="8449123">.</span><span class="ident" id="8449124">Errorf</span><span class="op" id="8449130">(</span><span class="string" id="8449131">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="8449165">,</span>&nbsp;<span class="ident" id="8449167">test</span><span class="op" id="8449171">.</span><span class="ident" id="8449172">name</span><span class="op" id="8449176">,</span>&nbsp;<span class="ident" id="8449178">err</span><span class="op" id="8449181">,</span>&nbsp;<span class="ident" id="8449183">test</span><span class="op" id="8449187">.</span><span class="ident" id="8449188">result</span><span class="op" id="8449194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8449198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8449201">}</span><br>
<span class="lineno"></span><span class="op" id="8449203">}</span>
</div>
</body>
</html>
