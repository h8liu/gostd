<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5101460">package</span>&nbsp;<span class="ident" id="5101468">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5101474">import</span>&nbsp;<span class="op" id="5101481">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5101484">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5101506">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5101509">func</span>&nbsp;<span class="ident" id="5101514">isOperandChar</span><span class="op" id="5101527">(</span><span class="ident" id="5101528">r</span>&nbsp;<span class="builtintype" id="5101530">rune</span><span class="op" id="5101534">)</span>&nbsp;<span class="builtintype" id="5101536">bool</span>&nbsp;<span class="op" id="5101541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101544">if</span>&nbsp;<span class="ident" id="5101547">r</span>&nbsp;<span class="op" id="5101549">&gt;=</span>&nbsp;<span class="string" id="5101552">&#39;a&#39;</span>&nbsp;<span class="op" id="5101556">&amp;&amp;</span>&nbsp;<span class="ident" id="5101559">r</span>&nbsp;<span class="op" id="5101561">&lt;=</span>&nbsp;<span class="string" id="5101564">&#39;z&#39;</span>&nbsp;<span class="op" id="5101568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101572">return</span>&nbsp;<span class="builtintype" id="5101579">true</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5101585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101588">if</span>&nbsp;<span class="ident" id="5101591">r</span>&nbsp;<span class="op" id="5101593">&gt;=</span>&nbsp;<span class="string" id="5101596">&#39;A&#39;</span>&nbsp;<span class="op" id="5101600">&amp;&amp;</span>&nbsp;<span class="ident" id="5101603">r</span>&nbsp;<span class="op" id="5101605">&lt;=</span>&nbsp;<span class="string" id="5101608">&#39;Z&#39;</span>&nbsp;<span class="op" id="5101612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101616">return</span>&nbsp;<span class="builtintype" id="5101623">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5101629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101632">if</span>&nbsp;<span class="ident" id="5101635">r</span>&nbsp;<span class="op" id="5101637">&gt;=</span>&nbsp;<span class="string" id="5101640">&#39;0&#39;</span>&nbsp;<span class="op" id="5101644">&amp;&amp;</span>&nbsp;<span class="ident" id="5101647">r</span>&nbsp;<span class="op" id="5101649">&lt;=</span>&nbsp;<span class="string" id="5101652">&#39;9&#39;</span>&nbsp;<span class="op" id="5101656">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101660">return</span>&nbsp;<span class="builtintype" id="5101667">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5101673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101677">for</span>&nbsp;<span class="ident" id="5101681">_</span><span class="op" id="5101682">,</span>&nbsp;<span class="ident" id="5101684">x</span>&nbsp;<span class="op" id="5101686">:=</span>&nbsp;<span class="keyword" id="5101689">range</span>&nbsp;<span class="op" id="5101695">[</span><span class="op" id="5101696">]</span><span class="builtintype" id="5101697">rune</span><span class="op" id="5101701">{</span><span class="string" id="5101702">&#39;_&#39;</span><span class="op" id="5101705">,</span>&nbsp;<span class="string" id="5101707">&#39;+&#39;</span><span class="op" id="5101710">,</span>&nbsp;<span class="string" id="5101712">&#39;-&#39;</span><span class="op" id="5101715">,</span>&nbsp;<span class="string" id="5101717">&#39;.&#39;</span><span class="op" id="5101720">,</span>&nbsp;<span class="string" id="5101722">&#39;:&#39;</span><span class="op" id="5101725">}</span>&nbsp;<span class="op" id="5101727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101731">if</span>&nbsp;<span class="ident" id="5101734">r</span>&nbsp;<span class="op" id="5101736">==</span>&nbsp;<span class="ident" id="5101739">x</span>&nbsp;<span class="op" id="5101741">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101746">return</span>&nbsp;<span class="builtintype" id="5101753">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5101760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5101763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101767">return</span>&nbsp;<span class="builtintype" id="5101774">false</span><br>
<span class="lineno">25</span><span class="op" id="5101780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5101783">func</span>&nbsp;<span class="ident" id="5101788">isKeyword</span><span class="op" id="5101797">(</span><span class="ident" id="5101798">lit</span>&nbsp;<span class="builtintype" id="5101802">string</span><span class="op" id="5101808">)</span>&nbsp;<span class="builtintype" id="5101810">bool</span>&nbsp;<span class="op" id="5101815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101818">switch</span>&nbsp;<span class="ident" id="5101825">lit</span>&nbsp;<span class="op" id="5101829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101832">case</span>&nbsp;<span class="string" id="5101837">&#34;func&#34;</span><span class="op" id="5101843">,</span>&nbsp;<span class="string" id="5101845">&#34;var&#34;</span><span class="op" id="5101850">,</span>&nbsp;<span class="string" id="5101852">&#34;const&#34;</span><span class="op" id="5101859">,</span>&nbsp;<span class="string" id="5101861">&#34;import&#34;</span><span class="op" id="5101869">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101873">return</span>&nbsp;<span class="builtintype" id="5101880">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5101886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101889">return</span>&nbsp;<span class="builtintype" id="5101896">false</span><br>
<span class="lineno"></span><span class="op" id="5101902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="5101905">func</span>&nbsp;<span class="ident" id="5101910">lexOperand</span><span class="op" id="5101920">(</span><span class="ident" id="5101921">x</span>&nbsp;<span class="op" id="5101923">*</span><span class="ident" id="5101924">lex8</span><span class="op" id="5101928">.</span><span class="ident" id="5101929">Lexer</span><span class="op" id="5101934">)</span>&nbsp;<span class="op" id="5101936">*</span><span class="ident" id="5101937">lex8</span><span class="op" id="5101941">.</span><span class="ident" id="5101942">Token</span>&nbsp;<span class="op" id="5101948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5101951">if</span>&nbsp;<span class="op" id="5101954">!</span><span class="ident" id="5101955">isOperandChar</span><span class="op" id="5101968">(</span><span class="ident" id="5101969">x</span><span class="op" id="5101970">.</span><span class="ident" id="5101971">Rune</span><span class="op" id="5101975">(</span><span class="op" id="5101976">)</span><span class="op" id="5101977">)</span>&nbsp;<span class="op" id="5101979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5101983">panic</span><span class="op" id="5101988">(</span><span class="string" id="5101989">&#34;incorrect&nbsp;operand&nbsp;start&#34;</span><span class="op" id="5102014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5102017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5102021">for</span>&nbsp;<span class="op" id="5102025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5102029">x</span><span class="op" id="5102030">.</span><span class="ident" id="5102031">Next</span><span class="op" id="5102035">(</span><span class="op" id="5102036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5102040">if</span>&nbsp;<span class="ident" id="5102043">x</span><span class="op" id="5102044">.</span><span class="ident" id="5102045">Ended</span><span class="op" id="5102050">(</span><span class="op" id="5102051">)</span>&nbsp;<span class="op" id="5102053">||</span>&nbsp;<span class="op" id="5102056">!</span><span class="ident" id="5102057">isOperandChar</span><span class="op" id="5102070">(</span><span class="ident" id="5102071">x</span><span class="op" id="5102072">.</span><span class="ident" id="5102073">Rune</span><span class="op" id="5102077">(</span><span class="op" id="5102078">)</span><span class="op" id="5102079">)</span>&nbsp;<span class="op" id="5102081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5102086">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5102094">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5102097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5102101">ret</span>&nbsp;<span class="op" id="5102105">:=</span>&nbsp;<span class="ident" id="5102108">x</span><span class="op" id="5102109">.</span><span class="ident" id="5102110">MakeToken</span><span class="op" id="5102119">(</span><span class="ident" id="5102120">Operand</span><span class="op" id="5102127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5102130">if</span>&nbsp;<span class="ident" id="5102133">isKeyword</span><span class="op" id="5102142">(</span><span class="ident" id="5102143">ret</span><span class="op" id="5102146">.</span><span class="ident" id="5102147">Lit</span><span class="op" id="5102150">)</span>&nbsp;<span class="op" id="5102152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5102156">ret</span><span class="op" id="5102159">.</span><span class="ident" id="5102160">Type</span>&nbsp;<span class="op" id="5102165">=</span>&nbsp;<span class="ident" id="5102167">Keyword</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5102176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5102179">return</span>&nbsp;<span class="ident" id="5102186">ret</span><br>
<span class="lineno"></span><span class="op" id="5102190">}</span>
</div>
</body>
</html>
