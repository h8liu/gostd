<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7614961">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7615016">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7615070">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7615121">package</span>&nbsp;<span class="ident" id="7615129">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7615134">import</span>&nbsp;<span class="op" id="7615141">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615144">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615153">&#34;encoding/gob&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615169">&#34;encoding/json&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615186">&#34;encoding/xml&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615202">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615209">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615217">&#34;strconv&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615228">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7615239">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7615249">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7615252">func</span>&nbsp;<span class="ident" id="7615257">TestZeroRat</span><span class="op" id="7615268">(</span><span class="ident" id="7615269">t</span>&nbsp;<span class="op" id="7615271">*</span><span class="ident" id="7615272"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7615279">.</span><span class="ident" id="7615280">T</span><span class="op" id="7615281">)</span>&nbsp;<span class="op" id="7615283">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615286">var</span>&nbsp;<span class="ident" id="7615290">x</span><span class="op" id="7615291">,</span>&nbsp;<span class="ident" id="7615293">y</span><span class="op" id="7615294">,</span>&nbsp;<span class="ident" id="7615296">z</span>&nbsp;<span class="ident" id="7615298"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615303"><a href="/math/big/rat_test.go.html#7615293">y</a></span><span class="op" id="7615304">.</span><span class="ident" id="7615305">SetFrac64</span><span class="op" id="7615314">(</span><span class="num" id="7615315">0</span><span class="op" id="7615316">,</span>&nbsp;<span class="num" id="7615318">42</span><span class="op" id="7615320">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615324">if</span>&nbsp;<span class="ident" id="7615327"><a href="/math/big/rat_test.go.html#7615290">x</a></span><span class="op" id="7615328">.</span><span class="ident" id="7615329">Cmp</span><span class="op" id="7615332">(</span><span class="op" id="7615333">&amp;</span><span class="ident" id="7615334"><a href="/math/big/rat_test.go.html#7615293">y</a></span><span class="op" id="7615335">)</span>&nbsp;<span class="op" id="7615337">!=</span>&nbsp;<span class="num" id="7615340">0</span>&nbsp;<span class="op" id="7615342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615346"><a href="/math/big/rat_test.go.html#7615269">t</a></span><span class="op" id="7615347">.</span><span class="ident" id="7615348">Errorf</span><span class="op" id="7615354">(</span><span class="string" id="7615355">&#34;x&nbsp;and&nbsp;y&nbsp;should&nbsp;be&nbsp;both&nbsp;equal&nbsp;and&nbsp;zero&#34;</span><span class="op" id="7615394">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7615397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615401">if</span>&nbsp;<span class="ident" id="7615404">s</span>&nbsp;<span class="op" id="7615406">:=</span>&nbsp;<span class="ident" id="7615409"><a href="/math/big/rat_test.go.html#7615290">x</a></span><span class="op" id="7615410">.</span><span class="ident" id="7615411">String</span><span class="op" id="7615417">(</span><span class="op" id="7615418">)</span><span class="op" id="7615419">;</span>&nbsp;<span class="ident" id="7615421"><a href="/math/big/rat_test.go.html#7615404">s</a></span>&nbsp;<span class="op" id="7615423">!=</span>&nbsp;<span class="string" id="7615426">&#34;0/1&#34;</span>&nbsp;<span class="op" id="7615432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615436"><a href="/math/big/rat_test.go.html#7615269">t</a></span><span class="op" id="7615437">.</span><span class="ident" id="7615438">Errorf</span><span class="op" id="7615444">(</span><span class="string" id="7615445">&#34;got&nbsp;x&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0/1&#34;</span><span class="op" id="7615467">,</span>&nbsp;<span class="ident" id="7615469"><a href="/math/big/rat_test.go.html#7615404">s</a></span><span class="op" id="7615470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7615473">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615477">if</span>&nbsp;<span class="ident" id="7615480">s</span>&nbsp;<span class="op" id="7615482">:=</span>&nbsp;<span class="ident" id="7615485"><a href="/math/big/rat_test.go.html#7615290">x</a></span><span class="op" id="7615486">.</span><span class="ident" id="7615487">RatString</span><span class="op" id="7615496">(</span><span class="op" id="7615497">)</span><span class="op" id="7615498">;</span>&nbsp;<span class="ident" id="7615500"><a href="/math/big/rat_test.go.html#7615480">s</a></span>&nbsp;<span class="op" id="7615502">!=</span>&nbsp;<span class="string" id="7615505">&#34;0&#34;</span>&nbsp;<span class="op" id="7615509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615513"><a href="/math/big/rat_test.go.html#7615269">t</a></span><span class="op" id="7615514">.</span><span class="ident" id="7615515">Errorf</span><span class="op" id="7615521">(</span><span class="string" id="7615522">&#34;got&nbsp;x&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0&#34;</span><span class="op" id="7615542">,</span>&nbsp;<span class="ident" id="7615544"><a href="/math/big/rat_test.go.html#7615480">s</a></span><span class="op" id="7615545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7615548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615552"><a href="/math/big/rat_test.go.html#7615296">z</a></span><span class="op" id="7615553">.</span><span class="ident" id="7615554">Add</span><span class="op" id="7615557">(</span><span class="op" id="7615558">&amp;</span><span class="ident" id="7615559"><a href="/math/big/rat_test.go.html#7615290">x</a></span><span class="op" id="7615560">,</span>&nbsp;<span class="op" id="7615562">&amp;</span><span class="ident" id="7615563"><a href="/math/big/rat_test.go.html#7615293">y</a></span><span class="op" id="7615564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615567">if</span>&nbsp;<span class="ident" id="7615570">s</span>&nbsp;<span class="op" id="7615572">:=</span>&nbsp;<span class="ident" id="7615575"><a href="/math/big/rat_test.go.html#7615296">z</a></span><span class="op" id="7615576">.</span><span class="ident" id="7615577">RatString</span><span class="op" id="7615586">(</span><span class="op" id="7615587">)</span><span class="op" id="7615588">;</span>&nbsp;<span class="ident" id="7615590"><a href="/math/big/rat_test.go.html#7615570">s</a></span>&nbsp;<span class="op" id="7615592">!=</span>&nbsp;<span class="string" id="7615595">&#34;0&#34;</span>&nbsp;<span class="op" id="7615599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615603"><a href="/math/big/rat_test.go.html#7615269">t</a></span><span class="op" id="7615604">.</span><span class="ident" id="7615605">Errorf</span><span class="op" id="7615611">(</span><span class="string" id="7615612">&#34;got&nbsp;x+y&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0&#34;</span><span class="op" id="7615634">,</span>&nbsp;<span class="ident" id="7615636"><a href="/math/big/rat_test.go.html#7615570">s</a></span><span class="op" id="7615637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7615640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615644"><a href="/math/big/rat_test.go.html#7615296">z</a></span><span class="op" id="7615645">.</span><span class="ident" id="7615646">Sub</span><span class="op" id="7615649">(</span><span class="op" id="7615650">&amp;</span><span class="ident" id="7615651"><a href="/math/big/rat_test.go.html#7615290">x</a></span><span class="op" id="7615652">,</span>&nbsp;<span class="op" id="7615654">&amp;</span><span class="ident" id="7615655"><a href="/math/big/rat_test.go.html#7615293">y</a></span><span class="op" id="7615656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615659">if</span>&nbsp;<span class="ident" id="7615662">s</span>&nbsp;<span class="op" id="7615664">:=</span>&nbsp;<span class="ident" id="7615667"><a href="/math/big/rat_test.go.html#7615296">z</a></span><span class="op" id="7615668">.</span><span class="ident" id="7615669">RatString</span><span class="op" id="7615678">(</span><span class="op" id="7615679">)</span><span class="op" id="7615680">;</span>&nbsp;<span class="ident" id="7615682"><a href="/math/big/rat_test.go.html#7615662">s</a></span>&nbsp;<span class="op" id="7615684">!=</span>&nbsp;<span class="string" id="7615687">&#34;0&#34;</span>&nbsp;<span class="op" id="7615691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615695"><a href="/math/big/rat_test.go.html#7615269">t</a></span><span class="op" id="7615696">.</span><span class="ident" id="7615697">Errorf</span><span class="op" id="7615703">(</span><span class="string" id="7615704">&#34;got&nbsp;x-y&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0&#34;</span><span class="op" id="7615726">,</span>&nbsp;<span class="ident" id="7615728"><a href="/math/big/rat_test.go.html#7615662">s</a></span><span class="op" id="7615729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7615732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615736"><a href="/math/big/rat_test.go.html#7615296">z</a></span><span class="op" id="7615737">.</span><span class="ident" id="7615738">Mul</span><span class="op" id="7615741">(</span><span class="op" id="7615742">&amp;</span><span class="ident" id="7615743"><a href="/math/big/rat_test.go.html#7615290">x</a></span><span class="op" id="7615744">,</span>&nbsp;<span class="op" id="7615746">&amp;</span><span class="ident" id="7615747"><a href="/math/big/rat_test.go.html#7615293">y</a></span><span class="op" id="7615748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615751">if</span>&nbsp;<span class="ident" id="7615754">s</span>&nbsp;<span class="op" id="7615756">:=</span>&nbsp;<span class="ident" id="7615759"><a href="/math/big/rat_test.go.html#7615296">z</a></span><span class="op" id="7615760">.</span><span class="ident" id="7615761">RatString</span><span class="op" id="7615770">(</span><span class="op" id="7615771">)</span><span class="op" id="7615772">;</span>&nbsp;<span class="ident" id="7615774"><a href="/math/big/rat_test.go.html#7615754">s</a></span>&nbsp;<span class="op" id="7615776">!=</span>&nbsp;<span class="string" id="7615779">&#34;0&#34;</span>&nbsp;<span class="op" id="7615783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615787"><a href="/math/big/rat_test.go.html#7615269">t</a></span><span class="op" id="7615788">.</span><span class="ident" id="7615789">Errorf</span><span class="op" id="7615795">(</span><span class="string" id="7615796">&#34;got&nbsp;x*y&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0&#34;</span><span class="op" id="7615818">,</span>&nbsp;<span class="ident" id="7615820"><a href="/math/big/rat_test.go.html#7615754">s</a></span><span class="op" id="7615821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7615824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7615828">//&nbsp;check&nbsp;for&nbsp;division&nbsp;by&nbsp;zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615859">defer</span>&nbsp;<span class="keyword" id="7615865">func</span><span class="op" id="7615869">(</span><span class="op" id="7615870">)</span>&nbsp;<span class="op" id="7615872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7615876">if</span>&nbsp;<span class="ident" id="7615879">s</span>&nbsp;<span class="op" id="7615881">:=</span>&nbsp;<span class="builtinfunc" id="7615884">recover</span><span class="op" id="7615891">(</span><span class="op" id="7615892">)</span><span class="op" id="7615893">;</span>&nbsp;<span class="ident" id="7615895"><a href="/math/big/rat_test.go.html#7615879">s</a></span>&nbsp;<span class="op" id="7615897">==</span>&nbsp;<span class="ident" id="7615900">nil</span>&nbsp;<span class="op" id="7615904">||</span>&nbsp;<span class="ident" id="7615907"><a href="/math/big/rat_test.go.html#7615879">s</a></span><span class="op" id="7615908">.</span><span class="op" id="7615909">(</span><span class="builtintype" id="7615910">string</span><span class="op" id="7615916">)</span>&nbsp;<span class="op" id="7615918">!=</span>&nbsp;<span class="string" id="7615921">&#34;division&nbsp;by&nbsp;zero&#34;</span>&nbsp;<span class="op" id="7615940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7615945">panic</span><span class="op" id="7615950">(</span><span class="ident" id="7615951"><a href="/math/big/rat_test.go.html#7615879">s</a></span><span class="op" id="7615952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7615956">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7615959">}</span><span class="op" id="7615960">(</span><span class="op" id="7615961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7615964"><a href="/math/big/rat_test.go.html#7615296">z</a></span><span class="op" id="7615965">.</span><span class="ident" id="7615966">Quo</span><span class="op" id="7615969">(</span><span class="op" id="7615970">&amp;</span><span class="ident" id="7615971"><a href="/math/big/rat_test.go.html#7615290">x</a></span><span class="op" id="7615972">,</span>&nbsp;<span class="op" id="7615974">&amp;</span><span class="ident" id="7615975"><a href="/math/big/rat_test.go.html#7615293">y</a></span><span class="op" id="7615976">)</span><br>
<span class="lineno"></span><span class="op" id="7615978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7615981">var</span>&nbsp;<span class="ident" id="7615985">setStringTests</span>&nbsp;<span class="op" id="7616000">=</span>&nbsp;<span class="op" id="7616002">[</span><span class="op" id="7616003">]</span><span class="keyword" id="7616004">struct</span>&nbsp;<span class="op" id="7616011">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7616014">in</span><span class="op" id="7616016">,</span>&nbsp;<span class="ident" id="7616018">out</span>&nbsp;<span class="builtintype" id="7616022">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7616030">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7616038">bool</span><br>
<span class="lineno"></span><span class="op" id="7616043">}</span><span class="op" id="7616044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616047">{</span><span class="string" id="7616048">&#34;0&#34;</span><span class="op" id="7616051">,</span>&nbsp;<span class="string" id="7616053">&#34;0&#34;</span><span class="op" id="7616056">,</span>&nbsp;<span class="builtintype" id="7616058">true</span><span class="op" id="7616062">}</span><span class="op" id="7616063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616066">{</span><span class="string" id="7616067">&#34;-0&#34;</span><span class="op" id="7616071">,</span>&nbsp;<span class="string" id="7616073">&#34;0&#34;</span><span class="op" id="7616076">,</span>&nbsp;<span class="builtintype" id="7616078">true</span><span class="op" id="7616082">}</span><span class="op" id="7616083">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616086">{</span><span class="string" id="7616087">&#34;1&#34;</span><span class="op" id="7616090">,</span>&nbsp;<span class="string" id="7616092">&#34;1&#34;</span><span class="op" id="7616095">,</span>&nbsp;<span class="builtintype" id="7616097">true</span><span class="op" id="7616101">}</span><span class="op" id="7616102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616105">{</span><span class="string" id="7616106">&#34;-1&#34;</span><span class="op" id="7616110">,</span>&nbsp;<span class="string" id="7616112">&#34;-1&#34;</span><span class="op" id="7616116">,</span>&nbsp;<span class="builtintype" id="7616118">true</span><span class="op" id="7616122">}</span><span class="op" id="7616123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616126">{</span><span class="string" id="7616127">&#34;1.&#34;</span><span class="op" id="7616131">,</span>&nbsp;<span class="string" id="7616133">&#34;1&#34;</span><span class="op" id="7616136">,</span>&nbsp;<span class="builtintype" id="7616138">true</span><span class="op" id="7616142">}</span><span class="op" id="7616143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616146">{</span><span class="string" id="7616147">&#34;1e0&#34;</span><span class="op" id="7616152">,</span>&nbsp;<span class="string" id="7616154">&#34;1&#34;</span><span class="op" id="7616157">,</span>&nbsp;<span class="builtintype" id="7616159">true</span><span class="op" id="7616163">}</span><span class="op" id="7616164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616167">{</span><span class="string" id="7616168">&#34;1.e1&#34;</span><span class="op" id="7616174">,</span>&nbsp;<span class="string" id="7616176">&#34;10&#34;</span><span class="op" id="7616180">,</span>&nbsp;<span class="builtintype" id="7616182">true</span><span class="op" id="7616186">}</span><span class="op" id="7616187">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616190">{</span><span class="ident" id="7616191">in</span><span class="op" id="7616193">:</span>&nbsp;<span class="string" id="7616195">&#34;1e&#34;</span><span class="op" id="7616199">,</span>&nbsp;<span class="ident" id="7616201">ok</span><span class="op" id="7616203">:</span>&nbsp;<span class="builtintype" id="7616205">false</span><span class="op" id="7616210">}</span><span class="op" id="7616211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616214">{</span><span class="ident" id="7616215">in</span><span class="op" id="7616217">:</span>&nbsp;<span class="string" id="7616219">&#34;1.e&#34;</span><span class="op" id="7616224">,</span>&nbsp;<span class="ident" id="7616226">ok</span><span class="op" id="7616228">:</span>&nbsp;<span class="builtintype" id="7616230">false</span><span class="op" id="7616235">}</span><span class="op" id="7616236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616239">{</span><span class="ident" id="7616240">in</span><span class="op" id="7616242">:</span>&nbsp;<span class="string" id="7616244">&#34;1e+14e-5&#34;</span><span class="op" id="7616254">,</span>&nbsp;<span class="ident" id="7616256">ok</span><span class="op" id="7616258">:</span>&nbsp;<span class="builtintype" id="7616260">false</span><span class="op" id="7616265">}</span><span class="op" id="7616266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616269">{</span><span class="ident" id="7616270">in</span><span class="op" id="7616272">:</span>&nbsp;<span class="string" id="7616274">&#34;1e4.5&#34;</span><span class="op" id="7616281">,</span>&nbsp;<span class="ident" id="7616283">ok</span><span class="op" id="7616285">:</span>&nbsp;<span class="builtintype" id="7616287">false</span><span class="op" id="7616292">}</span><span class="op" id="7616293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616296">{</span><span class="ident" id="7616297">in</span><span class="op" id="7616299">:</span>&nbsp;<span class="string" id="7616301">&#34;r&#34;</span><span class="op" id="7616304">,</span>&nbsp;<span class="ident" id="7616306">ok</span><span class="op" id="7616308">:</span>&nbsp;<span class="builtintype" id="7616310">false</span><span class="op" id="7616315">}</span><span class="op" id="7616316">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616319">{</span><span class="ident" id="7616320">in</span><span class="op" id="7616322">:</span>&nbsp;<span class="string" id="7616324">&#34;a/b&#34;</span><span class="op" id="7616329">,</span>&nbsp;<span class="ident" id="7616331">ok</span><span class="op" id="7616333">:</span>&nbsp;<span class="builtintype" id="7616335">false</span><span class="op" id="7616340">}</span><span class="op" id="7616341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616344">{</span><span class="ident" id="7616345">in</span><span class="op" id="7616347">:</span>&nbsp;<span class="string" id="7616349">&#34;a.b&#34;</span><span class="op" id="7616354">,</span>&nbsp;<span class="ident" id="7616356">ok</span><span class="op" id="7616358">:</span>&nbsp;<span class="builtintype" id="7616360">false</span><span class="op" id="7616365">}</span><span class="op" id="7616366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616369">{</span><span class="string" id="7616370">&#34;-0.1&#34;</span><span class="op" id="7616376">,</span>&nbsp;<span class="string" id="7616378">&#34;-1/10&#34;</span><span class="op" id="7616385">,</span>&nbsp;<span class="builtintype" id="7616387">true</span><span class="op" id="7616391">}</span><span class="op" id="7616392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616395">{</span><span class="string" id="7616396">&#34;-.1&#34;</span><span class="op" id="7616401">,</span>&nbsp;<span class="string" id="7616403">&#34;-1/10&#34;</span><span class="op" id="7616410">,</span>&nbsp;<span class="builtintype" id="7616412">true</span><span class="op" id="7616416">}</span><span class="op" id="7616417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616420">{</span><span class="string" id="7616421">&#34;2/4&#34;</span><span class="op" id="7616426">,</span>&nbsp;<span class="string" id="7616428">&#34;1/2&#34;</span><span class="op" id="7616433">,</span>&nbsp;<span class="builtintype" id="7616435">true</span><span class="op" id="7616439">}</span><span class="op" id="7616440">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616443">{</span><span class="string" id="7616444">&#34;.25&#34;</span><span class="op" id="7616449">,</span>&nbsp;<span class="string" id="7616451">&#34;1/4&#34;</span><span class="op" id="7616456">,</span>&nbsp;<span class="builtintype" id="7616458">true</span><span class="op" id="7616462">}</span><span class="op" id="7616463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616466">{</span><span class="string" id="7616467">&#34;-1/5&#34;</span><span class="op" id="7616473">,</span>&nbsp;<span class="string" id="7616475">&#34;-1/5&#34;</span><span class="op" id="7616481">,</span>&nbsp;<span class="builtintype" id="7616483">true</span><span class="op" id="7616487">}</span><span class="op" id="7616488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616491">{</span><span class="string" id="7616492">&#34;8129567.7690E14&#34;</span><span class="op" id="7616509">,</span>&nbsp;<span class="string" id="7616511">&#34;812956776900000000000&#34;</span><span class="op" id="7616534">,</span>&nbsp;<span class="builtintype" id="7616536">true</span><span class="op" id="7616540">}</span><span class="op" id="7616541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616544">{</span><span class="string" id="7616545">&#34;78189e+4&#34;</span><span class="op" id="7616555">,</span>&nbsp;<span class="string" id="7616557">&#34;781890000&#34;</span><span class="op" id="7616568">,</span>&nbsp;<span class="builtintype" id="7616570">true</span><span class="op" id="7616574">}</span><span class="op" id="7616575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616578">{</span><span class="string" id="7616579">&#34;553019.8935e+8&#34;</span><span class="op" id="7616595">,</span>&nbsp;<span class="string" id="7616597">&#34;55301989350000&#34;</span><span class="op" id="7616613">,</span>&nbsp;<span class="builtintype" id="7616615">true</span><span class="op" id="7616619">}</span><span class="op" id="7616620">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616623">{</span><span class="string" id="7616624">&#34;98765432109876543210987654321e-10&#34;</span><span class="op" id="7616659">,</span>&nbsp;<span class="string" id="7616661">&#34;98765432109876543210987654321/10000000000&#34;</span><span class="op" id="7616704">,</span>&nbsp;<span class="builtintype" id="7616706">true</span><span class="op" id="7616710">}</span><span class="op" id="7616711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616714">{</span><span class="string" id="7616715">&#34;9877861857500000E-7&#34;</span><span class="op" id="7616736">,</span>&nbsp;<span class="string" id="7616738">&#34;3951144743/4&#34;</span><span class="op" id="7616752">,</span>&nbsp;<span class="builtintype" id="7616754">true</span><span class="op" id="7616758">}</span><span class="op" id="7616759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616762">{</span><span class="string" id="7616763">&#34;2169378.417e-3&#34;</span><span class="op" id="7616779">,</span>&nbsp;<span class="string" id="7616781">&#34;2169378417/1000000&#34;</span><span class="op" id="7616801">,</span>&nbsp;<span class="builtintype" id="7616803">true</span><span class="op" id="7616807">}</span><span class="op" id="7616808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616811">{</span><span class="string" id="7616812">&#34;884243222337379604041632732738665534&#34;</span><span class="op" id="7616850">,</span>&nbsp;<span class="string" id="7616852">&#34;884243222337379604041632732738665534&#34;</span><span class="op" id="7616890">,</span>&nbsp;<span class="builtintype" id="7616892">true</span><span class="op" id="7616896">}</span><span class="op" id="7616897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616900">{</span><span class="string" id="7616901">&#34;53/70893980658822810696&#34;</span><span class="op" id="7616926">,</span>&nbsp;<span class="string" id="7616928">&#34;53/70893980658822810696&#34;</span><span class="op" id="7616953">,</span>&nbsp;<span class="builtintype" id="7616955">true</span><span class="op" id="7616959">}</span><span class="op" id="7616960">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7616963">{</span><span class="string" id="7616964">&#34;106/141787961317645621392&#34;</span><span class="op" id="7616991">,</span>&nbsp;<span class="string" id="7616993">&#34;53/70893980658822810696&#34;</span><span class="op" id="7617018">,</span>&nbsp;<span class="builtintype" id="7617020">true</span><span class="op" id="7617024">}</span><span class="op" id="7617025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617028">{</span><span class="string" id="7617029">&#34;204211327800791583.81095&#34;</span><span class="op" id="7617055">,</span>&nbsp;<span class="string" id="7617057">&#34;4084226556015831676219/20000&#34;</span><span class="op" id="7617087">,</span>&nbsp;<span class="builtintype" id="7617089">true</span><span class="op" id="7617093">}</span><span class="op" id="7617094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617097">{</span><span class="ident" id="7617098">in</span><span class="op" id="7617100">:</span>&nbsp;<span class="string" id="7617102">&#34;1/0&#34;</span><span class="op" id="7617107">,</span>&nbsp;<span class="ident" id="7617109">ok</span><span class="op" id="7617111">:</span>&nbsp;<span class="builtintype" id="7617113">false</span><span class="op" id="7617118">}</span><span class="op" id="7617119">,</span><br>
<span class="lineno"></span><span class="op" id="7617121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7617124">func</span>&nbsp;<span class="ident" id="7617129">TestRatSetString</span><span class="op" id="7617145">(</span><span class="ident" id="7617146">t</span>&nbsp;<span class="op" id="7617148">*</span><span class="ident" id="7617149"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7617156">.</span><span class="ident" id="7617157">T</span><span class="op" id="7617158">)</span>&nbsp;<span class="op" id="7617160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617163">for</span>&nbsp;<span class="ident" id="7617167">i</span><span class="op" id="7617168">,</span>&nbsp;<span class="ident" id="7617170">test</span>&nbsp;<span class="op" id="7617175">:=</span>&nbsp;<span class="keyword" id="7617178">range</span>&nbsp;<span class="ident" id="7617184"><a href="/math/big/rat_test.go.html#7615985">setStringTests</a></span>&nbsp;<span class="op" id="7617199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617203">x</span><span class="op" id="7617204">,</span>&nbsp;<span class="ident" id="7617206">ok</span>&nbsp;<span class="op" id="7617209">:=</span>&nbsp;<span class="builtinfunc" id="7617212">new</span><span class="op" id="7617215">(</span><span class="ident" id="7617216"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7617219">)</span><span class="op" id="7617220">.</span><span class="ident" id="7617221">SetString</span><span class="op" id="7617230">(</span><span class="ident" id="7617231"><a href="/math/big/rat_test.go.html#7617170">test</a></span><span class="op" id="7617235">.</span><span class="ident" id="7617236">in</span><span class="op" id="7617238">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617243">if</span>&nbsp;<span class="ident" id="7617246"><a href="/math/big/rat_test.go.html#7617206">ok</a></span>&nbsp;<span class="op" id="7617249">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617254">if</span>&nbsp;<span class="op" id="7617257">!</span><span class="ident" id="7617258"><a href="/math/big/rat_test.go.html#7617170">test</a></span><span class="op" id="7617262">.</span><span class="ident" id="7617263">ok</span>&nbsp;<span class="op" id="7617266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617272"><a href="/math/big/rat_test.go.html#7617146">t</a></span><span class="op" id="7617273">.</span><span class="ident" id="7617274">Errorf</span><span class="op" id="7617280">(</span><span class="string" id="7617281">&#34;#%d&nbsp;SetString(%q)&nbsp;expected&nbsp;failure&#34;</span><span class="op" id="7617317">,</span>&nbsp;<span class="ident" id="7617319"><a href="/math/big/rat_test.go.html#7617167">i</a></span><span class="op" id="7617320">,</span>&nbsp;<span class="ident" id="7617322"><a href="/math/big/rat_test.go.html#7617170">test</a></span><span class="op" id="7617326">.</span><span class="ident" id="7617327">in</span><span class="op" id="7617329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617334">}</span>&nbsp;<span class="keyword" id="7617336">else</span>&nbsp;<span class="keyword" id="7617341">if</span>&nbsp;<span class="ident" id="7617344"><a href="/math/big/rat_test.go.html#7617203">x</a></span><span class="op" id="7617345">.</span><span class="ident" id="7617346">RatString</span><span class="op" id="7617355">(</span><span class="op" id="7617356">)</span>&nbsp;<span class="op" id="7617358">!=</span>&nbsp;<span class="ident" id="7617361"><a href="/math/big/rat_test.go.html#7617170">test</a></span><span class="op" id="7617365">.</span><span class="ident" id="7617366">out</span>&nbsp;<span class="op" id="7617370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617376"><a href="/math/big/rat_test.go.html#7617146">t</a></span><span class="op" id="7617377">.</span><span class="ident" id="7617378">Errorf</span><span class="op" id="7617384">(</span><span class="string" id="7617385">&#34;#%d&nbsp;SetString(%q)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7617419">,</span>&nbsp;<span class="ident" id="7617421"><a href="/math/big/rat_test.go.html#7617167">i</a></span><span class="op" id="7617422">,</span>&nbsp;<span class="ident" id="7617424"><a href="/math/big/rat_test.go.html#7617170">test</a></span><span class="op" id="7617428">.</span><span class="ident" id="7617429">in</span><span class="op" id="7617431">,</span>&nbsp;<span class="ident" id="7617433"><a href="/math/big/rat_test.go.html#7617203">x</a></span><span class="op" id="7617434">.</span><span class="ident" id="7617435">RatString</span><span class="op" id="7617444">(</span><span class="op" id="7617445">)</span><span class="op" id="7617446">,</span>&nbsp;<span class="ident" id="7617448"><a href="/math/big/rat_test.go.html#7617170">test</a></span><span class="op" id="7617452">.</span><span class="ident" id="7617453">out</span><span class="op" id="7617456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617461">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617465">}</span>&nbsp;<span class="keyword" id="7617467">else</span>&nbsp;<span class="keyword" id="7617472">if</span>&nbsp;<span class="ident" id="7617475"><a href="/math/big/rat_test.go.html#7617203">x</a></span>&nbsp;<span class="op" id="7617477">!=</span>&nbsp;<span class="ident" id="7617480">nil</span>&nbsp;<span class="op" id="7617484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617489"><a href="/math/big/rat_test.go.html#7617146">t</a></span><span class="op" id="7617490">.</span><span class="ident" id="7617491">Errorf</span><span class="op" id="7617497">(</span><span class="string" id="7617498">&#34;#%d&nbsp;SetString(%q)&nbsp;got&nbsp;%p&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7617533">,</span>&nbsp;<span class="ident" id="7617535"><a href="/math/big/rat_test.go.html#7617167">i</a></span><span class="op" id="7617536">,</span>&nbsp;<span class="ident" id="7617538"><a href="/math/big/rat_test.go.html#7617170">test</a></span><span class="op" id="7617542">.</span><span class="ident" id="7617543">in</span><span class="op" id="7617545">,</span>&nbsp;<span class="ident" id="7617547"><a href="/math/big/rat_test.go.html#7617203">x</a></span><span class="op" id="7617548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617555">}</span><br>
<span class="lineno"></span><span class="op" id="7617557">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7617560">func</span>&nbsp;<span class="ident" id="7617565">TestRatScan</span><span class="op" id="7617576">(</span><span class="ident" id="7617577">t</span>&nbsp;<span class="op" id="7617579">*</span><span class="ident" id="7617580"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7617587">.</span><span class="ident" id="7617588">T</span><span class="op" id="7617589">)</span>&nbsp;<span class="op" id="7617591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617594">var</span>&nbsp;<span class="ident" id="7617598">buf</span>&nbsp;<span class="ident" id="7617602"><a href="/math/big/rat_test.go.html#7615144">bytes</a></span><span class="op" id="7617607">.</span><span class="ident" id="7617608">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617616">for</span>&nbsp;<span class="ident" id="7617620">i</span><span class="op" id="7617621">,</span>&nbsp;<span class="ident" id="7617623">test</span>&nbsp;<span class="op" id="7617628">:=</span>&nbsp;<span class="keyword" id="7617631">range</span>&nbsp;<span class="ident" id="7617637"><a href="/math/big/rat_test.go.html#7615985">setStringTests</a></span>&nbsp;<span class="op" id="7617652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617656">x</span>&nbsp;<span class="op" id="7617658">:=</span>&nbsp;<span class="builtinfunc" id="7617661">new</span><span class="op" id="7617664">(</span><span class="ident" id="7617665"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7617668">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617672"><a href="/math/big/rat_test.go.html#7617598">buf</a></span><span class="op" id="7617675">.</span><span class="ident" id="7617676">Reset</span><span class="op" id="7617681">(</span><span class="op" id="7617682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617686"><a href="/math/big/rat_test.go.html#7617598">buf</a></span><span class="op" id="7617689">.</span><span class="ident" id="7617690">WriteString</span><span class="op" id="7617701">(</span><span class="ident" id="7617702"><a href="/math/big/rat_test.go.html#7617623">test</a></span><span class="op" id="7617706">.</span><span class="ident" id="7617707">in</span><span class="op" id="7617709">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617714">_</span><span class="op" id="7617715">,</span>&nbsp;<span class="ident" id="7617717">err</span>&nbsp;<span class="op" id="7617721">:=</span>&nbsp;<span class="ident" id="7617724"><a href="/math/big/rat_test.go.html#7615202">fmt</a></span><span class="op" id="7617727">.</span><span class="ident" id="7617728">Fscanf</span><span class="op" id="7617734">(</span><span class="op" id="7617735">&amp;</span><span class="ident" id="7617736"><a href="/math/big/rat_test.go.html#7617598">buf</a></span><span class="op" id="7617739">,</span>&nbsp;<span class="string" id="7617741">&#34;%v&#34;</span><span class="op" id="7617745">,</span>&nbsp;<span class="ident" id="7617747"><a href="/math/big/rat_test.go.html#7617656">x</a></span><span class="op" id="7617748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617752">if</span>&nbsp;<span class="ident" id="7617755"><a href="/math/big/rat_test.go.html#7617717">err</a></span>&nbsp;<span class="op" id="7617759">==</span>&nbsp;<span class="ident" id="7617762">nil</span>&nbsp;<span class="op" id="7617766">!=</span>&nbsp;<span class="ident" id="7617769"><a href="/math/big/rat_test.go.html#7617623">test</a></span><span class="op" id="7617773">.</span><span class="ident" id="7617774">ok</span>&nbsp;<span class="op" id="7617777">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617782">if</span>&nbsp;<span class="ident" id="7617785"><a href="/math/big/rat_test.go.html#7617623">test</a></span><span class="op" id="7617789">.</span><span class="ident" id="7617790">ok</span>&nbsp;<span class="op" id="7617793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617799"><a href="/math/big/rat_test.go.html#7617577">t</a></span><span class="op" id="7617800">.</span><span class="ident" id="7617801">Errorf</span><span class="op" id="7617807">(</span><span class="string" id="7617808">&#34;#%d&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7617823">,</span>&nbsp;<span class="ident" id="7617825"><a href="/math/big/rat_test.go.html#7617620">i</a></span><span class="op" id="7617826">,</span>&nbsp;<span class="ident" id="7617828"><a href="/math/big/rat_test.go.html#7617717">err</a></span><span class="op" id="7617831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617836">}</span>&nbsp;<span class="keyword" id="7617838">else</span>&nbsp;<span class="op" id="7617843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617849"><a href="/math/big/rat_test.go.html#7617577">t</a></span><span class="op" id="7617850">.</span><span class="ident" id="7617851">Errorf</span><span class="op" id="7617857">(</span><span class="string" id="7617858">&#34;#%d&nbsp;expected&nbsp;error&#34;</span><span class="op" id="7617878">,</span>&nbsp;<span class="ident" id="7617880"><a href="/math/big/rat_test.go.html#7617620">i</a></span><span class="op" id="7617881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617886">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617891">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7617902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7617906">if</span>&nbsp;<span class="ident" id="7617909"><a href="/math/big/rat_test.go.html#7617717">err</a></span>&nbsp;<span class="op" id="7617913">==</span>&nbsp;<span class="ident" id="7617916">nil</span>&nbsp;<span class="op" id="7617920">&amp;&amp;</span>&nbsp;<span class="ident" id="7617923"><a href="/math/big/rat_test.go.html#7617656">x</a></span><span class="op" id="7617924">.</span><span class="ident" id="7617925">RatString</span><span class="op" id="7617934">(</span><span class="op" id="7617935">)</span>&nbsp;<span class="op" id="7617937">!=</span>&nbsp;<span class="ident" id="7617940"><a href="/math/big/rat_test.go.html#7617623">test</a></span><span class="op" id="7617944">.</span><span class="ident" id="7617945">out</span>&nbsp;<span class="op" id="7617949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7617954"><a href="/math/big/rat_test.go.html#7617577">t</a></span><span class="op" id="7617955">.</span><span class="ident" id="7617956">Errorf</span><span class="op" id="7617962">(</span><span class="string" id="7617963">&#34;#%d&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7617983">,</span>&nbsp;<span class="ident" id="7617985"><a href="/math/big/rat_test.go.html#7617620">i</a></span><span class="op" id="7617986">,</span>&nbsp;<span class="ident" id="7617988"><a href="/math/big/rat_test.go.html#7617656">x</a></span><span class="op" id="7617989">.</span><span class="ident" id="7617990">RatString</span><span class="op" id="7617999">(</span><span class="op" id="7618000">)</span><span class="op" id="7618001">,</span>&nbsp;<span class="ident" id="7618003"><a href="/math/big/rat_test.go.html#7617623">test</a></span><span class="op" id="7618007">.</span><span class="ident" id="7618008">out</span><span class="op" id="7618011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618015">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618018">}</span><br>
<span class="lineno"></span><span class="op" id="7618020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7618023">var</span>&nbsp;<span class="ident" id="7618027">floatStringTests</span>&nbsp;<span class="op" id="7618044">=</span>&nbsp;<span class="op" id="7618046">[</span><span class="op" id="7618047">]</span><span class="keyword" id="7618048">struct</span>&nbsp;<span class="op" id="7618055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618058">in</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7618063">string</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618071">prec</span>&nbsp;<span class="builtintype" id="7618076">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618081">out</span>&nbsp;&nbsp;<span class="builtintype" id="7618086">string</span><br>
<span class="lineno"></span><span class="op" id="7618093">}</span><span class="op" id="7618094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618097">{</span><span class="string" id="7618098">&#34;0&#34;</span><span class="op" id="7618101">,</span>&nbsp;<span class="num" id="7618103">0</span><span class="op" id="7618104">,</span>&nbsp;<span class="string" id="7618106">&#34;0&#34;</span><span class="op" id="7618109">}</span><span class="op" id="7618110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618113">{</span><span class="string" id="7618114">&#34;0&#34;</span><span class="op" id="7618117">,</span>&nbsp;<span class="num" id="7618119">4</span><span class="op" id="7618120">,</span>&nbsp;<span class="string" id="7618122">&#34;0.0000&#34;</span><span class="op" id="7618130">}</span><span class="op" id="7618131">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618134">{</span><span class="string" id="7618135">&#34;1&#34;</span><span class="op" id="7618138">,</span>&nbsp;<span class="num" id="7618140">0</span><span class="op" id="7618141">,</span>&nbsp;<span class="string" id="7618143">&#34;1&#34;</span><span class="op" id="7618146">}</span><span class="op" id="7618147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618150">{</span><span class="string" id="7618151">&#34;1&#34;</span><span class="op" id="7618154">,</span>&nbsp;<span class="num" id="7618156">2</span><span class="op" id="7618157">,</span>&nbsp;<span class="string" id="7618159">&#34;1.00&#34;</span><span class="op" id="7618165">}</span><span class="op" id="7618166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618169">{</span><span class="string" id="7618170">&#34;-1&#34;</span><span class="op" id="7618174">,</span>&nbsp;<span class="num" id="7618176">0</span><span class="op" id="7618177">,</span>&nbsp;<span class="string" id="7618179">&#34;-1&#34;</span><span class="op" id="7618183">}</span><span class="op" id="7618184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618187">{</span><span class="string" id="7618188">&#34;.25&#34;</span><span class="op" id="7618193">,</span>&nbsp;<span class="num" id="7618195">2</span><span class="op" id="7618196">,</span>&nbsp;<span class="string" id="7618198">&#34;0.25&#34;</span><span class="op" id="7618204">}</span><span class="op" id="7618205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618208">{</span><span class="string" id="7618209">&#34;.25&#34;</span><span class="op" id="7618214">,</span>&nbsp;<span class="num" id="7618216">1</span><span class="op" id="7618217">,</span>&nbsp;<span class="string" id="7618219">&#34;0.3&#34;</span><span class="op" id="7618224">}</span><span class="op" id="7618225">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618228">{</span><span class="string" id="7618229">&#34;.25&#34;</span><span class="op" id="7618234">,</span>&nbsp;<span class="num" id="7618236">3</span><span class="op" id="7618237">,</span>&nbsp;<span class="string" id="7618239">&#34;0.250&#34;</span><span class="op" id="7618246">}</span><span class="op" id="7618247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618250">{</span><span class="string" id="7618251">&#34;-1/3&#34;</span><span class="op" id="7618257">,</span>&nbsp;<span class="num" id="7618259">3</span><span class="op" id="7618260">,</span>&nbsp;<span class="string" id="7618262">&#34;-0.333&#34;</span><span class="op" id="7618270">}</span><span class="op" id="7618271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618274">{</span><span class="string" id="7618275">&#34;-2/3&#34;</span><span class="op" id="7618281">,</span>&nbsp;<span class="num" id="7618283">4</span><span class="op" id="7618284">,</span>&nbsp;<span class="string" id="7618286">&#34;-0.6667&#34;</span><span class="op" id="7618295">}</span><span class="op" id="7618296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618299">{</span><span class="string" id="7618300">&#34;0.96&#34;</span><span class="op" id="7618306">,</span>&nbsp;<span class="num" id="7618308">1</span><span class="op" id="7618309">,</span>&nbsp;<span class="string" id="7618311">&#34;1.0&#34;</span><span class="op" id="7618316">}</span><span class="op" id="7618317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618320">{</span><span class="string" id="7618321">&#34;0.999&#34;</span><span class="op" id="7618328">,</span>&nbsp;<span class="num" id="7618330">2</span><span class="op" id="7618331">,</span>&nbsp;<span class="string" id="7618333">&#34;1.00&#34;</span><span class="op" id="7618339">}</span><span class="op" id="7618340">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618343">{</span><span class="string" id="7618344">&#34;0.9&#34;</span><span class="op" id="7618349">,</span>&nbsp;<span class="num" id="7618351">0</span><span class="op" id="7618352">,</span>&nbsp;<span class="string" id="7618354">&#34;1&#34;</span><span class="op" id="7618357">}</span><span class="op" id="7618358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618361">{</span><span class="string" id="7618362">&#34;.25&#34;</span><span class="op" id="7618367">,</span>&nbsp;<span class="op" id="7618369">-</span><span class="num" id="7618370">1</span><span class="op" id="7618371">,</span>&nbsp;<span class="string" id="7618373">&#34;0&#34;</span><span class="op" id="7618376">}</span><span class="op" id="7618377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618380">{</span><span class="string" id="7618381">&#34;.55&#34;</span><span class="op" id="7618386">,</span>&nbsp;<span class="op" id="7618388">-</span><span class="num" id="7618389">1</span><span class="op" id="7618390">,</span>&nbsp;<span class="string" id="7618392">&#34;1&#34;</span><span class="op" id="7618395">}</span><span class="op" id="7618396">,</span><br>
<span class="lineno"></span><span class="op" id="7618398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="7618401">func</span>&nbsp;<span class="ident" id="7618406">TestFloatString</span><span class="op" id="7618421">(</span><span class="ident" id="7618422">t</span>&nbsp;<span class="op" id="7618424">*</span><span class="ident" id="7618425"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7618432">.</span><span class="ident" id="7618433">T</span><span class="op" id="7618434">)</span>&nbsp;<span class="op" id="7618436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7618439">for</span>&nbsp;<span class="ident" id="7618443">i</span><span class="op" id="7618444">,</span>&nbsp;<span class="ident" id="7618446">test</span>&nbsp;<span class="op" id="7618451">:=</span>&nbsp;<span class="keyword" id="7618454">range</span>&nbsp;<span class="ident" id="7618460"><a href="/math/big/rat_test.go.html#7618027">floatStringTests</a></span>&nbsp;<span class="op" id="7618477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618481">x</span><span class="op" id="7618482">,</span>&nbsp;<span class="ident" id="7618484">_</span>&nbsp;<span class="op" id="7618486">:=</span>&nbsp;<span class="builtinfunc" id="7618489">new</span><span class="op" id="7618492">(</span><span class="ident" id="7618493"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7618496">)</span><span class="op" id="7618497">.</span><span class="ident" id="7618498">SetString</span><span class="op" id="7618507">(</span><span class="ident" id="7618508"><a href="/math/big/rat_test.go.html#7618446">test</a></span><span class="op" id="7618512">.</span><span class="ident" id="7618513">in</span><span class="op" id="7618515">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7618520">if</span>&nbsp;<span class="ident" id="7618523"><a href="/math/big/rat_test.go.html#7618481">x</a></span><span class="op" id="7618524">.</span><span class="ident" id="7618525">FloatString</span><span class="op" id="7618536">(</span><span class="ident" id="7618537"><a href="/math/big/rat_test.go.html#7618446">test</a></span><span class="op" id="7618541">.</span><span class="ident" id="7618542">prec</span><span class="op" id="7618546">)</span>&nbsp;<span class="op" id="7618548">!=</span>&nbsp;<span class="ident" id="7618551"><a href="/math/big/rat_test.go.html#7618446">test</a></span><span class="op" id="7618555">.</span><span class="ident" id="7618556">out</span>&nbsp;<span class="op" id="7618560">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618565"><a href="/math/big/rat_test.go.html#7618422">t</a></span><span class="op" id="7618566">.</span><span class="ident" id="7618567">Errorf</span><span class="op" id="7618573">(</span><span class="string" id="7618574">&#34;#%d&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7618594">,</span>&nbsp;<span class="ident" id="7618596"><a href="/math/big/rat_test.go.html#7618443">i</a></span><span class="op" id="7618597">,</span>&nbsp;<span class="ident" id="7618599"><a href="/math/big/rat_test.go.html#7618481">x</a></span><span class="op" id="7618600">.</span><span class="ident" id="7618601">FloatString</span><span class="op" id="7618612">(</span><span class="ident" id="7618613"><a href="/math/big/rat_test.go.html#7618446">test</a></span><span class="op" id="7618617">.</span><span class="ident" id="7618618">prec</span><span class="op" id="7618622">)</span><span class="op" id="7618623">,</span>&nbsp;<span class="ident" id="7618625"><a href="/math/big/rat_test.go.html#7618446">test</a></span><span class="op" id="7618629">.</span><span class="ident" id="7618630">out</span><span class="op" id="7618633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618640">}</span><br>
<span class="lineno"></span><span class="op" id="7618642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="7618645">func</span>&nbsp;<span class="ident" id="7618650">TestRatSign</span><span class="op" id="7618661">(</span><span class="ident" id="7618662">t</span>&nbsp;<span class="op" id="7618664">*</span><span class="ident" id="7618665"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7618672">.</span><span class="ident" id="7618673">T</span><span class="op" id="7618674">)</span>&nbsp;<span class="op" id="7618676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618679">zero</span>&nbsp;<span class="op" id="7618684">:=</span>&nbsp;<span class="ident" id="7618687"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7618693">(</span><span class="num" id="7618694">0</span><span class="op" id="7618695">,</span>&nbsp;<span class="num" id="7618697">1</span><span class="op" id="7618698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7618701">for</span>&nbsp;<span class="ident" id="7618705">_</span><span class="op" id="7618706">,</span>&nbsp;<span class="ident" id="7618708">a</span>&nbsp;<span class="op" id="7618710">:=</span>&nbsp;<span class="keyword" id="7618713">range</span>&nbsp;<span class="ident" id="7618719"><a href="/math/big/rat_test.go.html#7615985">setStringTests</a></span>&nbsp;<span class="op" id="7618734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618738">x</span><span class="op" id="7618739">,</span>&nbsp;<span class="ident" id="7618741">ok</span>&nbsp;<span class="op" id="7618744">:=</span>&nbsp;<span class="builtinfunc" id="7618747">new</span><span class="op" id="7618750">(</span><span class="ident" id="7618751"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7618754">)</span><span class="op" id="7618755">.</span><span class="ident" id="7618756">SetString</span><span class="op" id="7618765">(</span><span class="ident" id="7618766"><a href="/math/big/rat_test.go.html#7618708">a</a></span><span class="op" id="7618767">.</span><span class="ident" id="7618768">in</span><span class="op" id="7618770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7618774">if</span>&nbsp;<span class="op" id="7618777">!</span><span class="ident" id="7618778"><a href="/math/big/rat_test.go.html#7618741">ok</a></span>&nbsp;<span class="op" id="7618781">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7618786">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618801">s</span>&nbsp;<span class="op" id="7618803">:=</span>&nbsp;<span class="ident" id="7618806"><a href="/math/big/rat_test.go.html#7618738">x</a></span><span class="op" id="7618807">.</span><span class="ident" id="7618808">Sign</span><span class="op" id="7618812">(</span><span class="op" id="7618813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618817">e</span>&nbsp;<span class="op" id="7618819">:=</span>&nbsp;<span class="ident" id="7618822"><a href="/math/big/rat_test.go.html#7618738">x</a></span><span class="op" id="7618823">.</span><span class="ident" id="7618824">Cmp</span><span class="op" id="7618827">(</span><span class="ident" id="7618828"><a href="/math/big/rat_test.go.html#7618679">zero</a></span><span class="op" id="7618832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7618836">if</span>&nbsp;<span class="ident" id="7618839"><a href="/math/big/rat_test.go.html#7618801">s</a></span>&nbsp;<span class="op" id="7618841">!=</span>&nbsp;<span class="ident" id="7618844"><a href="/math/big/rat_test.go.html#7618817">e</a></span>&nbsp;<span class="op" id="7618846">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618851"><a href="/math/big/rat_test.go.html#7618662">t</a></span><span class="op" id="7618852">.</span><span class="ident" id="7618853">Errorf</span><span class="op" id="7618859">(</span><span class="string" id="7618860">&#34;got&nbsp;%d;&nbsp;want&nbsp;%d&nbsp;for&nbsp;z&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7618888">,</span>&nbsp;<span class="ident" id="7618890"><a href="/math/big/rat_test.go.html#7618801">s</a></span><span class="op" id="7618891">,</span>&nbsp;<span class="ident" id="7618893"><a href="/math/big/rat_test.go.html#7618817">e</a></span><span class="op" id="7618894">,</span>&nbsp;<span class="op" id="7618896">&amp;</span><span class="ident" id="7618897"><a href="/math/big/rat_test.go.html#7618738">x</a></span><span class="op" id="7618898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618905">}</span><br>
<span class="lineno"></span><span class="op" id="7618907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="7618910">var</span>&nbsp;<span class="ident" id="7618914">ratCmpTests</span>&nbsp;<span class="op" id="7618926">=</span>&nbsp;<span class="op" id="7618928">[</span><span class="op" id="7618929">]</span><span class="keyword" id="7618930">struct</span>&nbsp;<span class="op" id="7618937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618940">rat1</span><span class="op" id="7618944">,</span>&nbsp;<span class="ident" id="7618946">rat2</span>&nbsp;<span class="builtintype" id="7618951">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7618959">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7618970">int</span><br>
<span class="lineno"></span><span class="op" id="7618974">}</span><span class="op" id="7618975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618978">{</span><span class="string" id="7618979">&#34;0&#34;</span><span class="op" id="7618982">,</span>&nbsp;<span class="string" id="7618984">&#34;0/1&#34;</span><span class="op" id="7618989">,</span>&nbsp;<span class="num" id="7618991">0</span><span class="op" id="7618992">}</span><span class="op" id="7618993">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7618996">{</span><span class="string" id="7618997">&#34;1/1&#34;</span><span class="op" id="7619002">,</span>&nbsp;<span class="string" id="7619004">&#34;1&#34;</span><span class="op" id="7619007">,</span>&nbsp;<span class="num" id="7619009">0</span><span class="op" id="7619010">}</span><span class="op" id="7619011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619014">{</span><span class="string" id="7619015">&#34;-1&#34;</span><span class="op" id="7619019">,</span>&nbsp;<span class="string" id="7619021">&#34;-2/2&#34;</span><span class="op" id="7619027">,</span>&nbsp;<span class="num" id="7619029">0</span><span class="op" id="7619030">}</span><span class="op" id="7619031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619034">{</span><span class="string" id="7619035">&#34;1&#34;</span><span class="op" id="7619038">,</span>&nbsp;<span class="string" id="7619040">&#34;0&#34;</span><span class="op" id="7619043">,</span>&nbsp;<span class="num" id="7619045">1</span><span class="op" id="7619046">}</span><span class="op" id="7619047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619050">{</span><span class="string" id="7619051">&#34;0/1&#34;</span><span class="op" id="7619056">,</span>&nbsp;<span class="string" id="7619058">&#34;1/1&#34;</span><span class="op" id="7619063">,</span>&nbsp;<span class="op" id="7619065">-</span><span class="num" id="7619066">1</span><span class="op" id="7619067">}</span><span class="op" id="7619068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619071">{</span><span class="string" id="7619072">&#34;-5/1434770811533343057144&#34;</span><span class="op" id="7619099">,</span>&nbsp;<span class="string" id="7619101">&#34;-5/1434770811533343057145&#34;</span><span class="op" id="7619128">,</span>&nbsp;<span class="op" id="7619130">-</span><span class="num" id="7619131">1</span><span class="op" id="7619132">}</span><span class="op" id="7619133">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619136">{</span><span class="string" id="7619137">&#34;49832350382626108453/8964749413&#34;</span><span class="op" id="7619170">,</span>&nbsp;<span class="string" id="7619172">&#34;49832350382626108454/8964749413&#34;</span><span class="op" id="7619205">,</span>&nbsp;<span class="op" id="7619207">-</span><span class="num" id="7619208">1</span><span class="op" id="7619209">}</span><span class="op" id="7619210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619213">{</span><span class="string" id="7619214">&#34;-37414950961700930/7204075375675961&#34;</span><span class="op" id="7619251">,</span>&nbsp;<span class="string" id="7619253">&#34;37414950961700930/7204075375675961&#34;</span><span class="op" id="7619289">,</span>&nbsp;<span class="op" id="7619291">-</span><span class="num" id="7619292">1</span><span class="op" id="7619293">}</span><span class="op" id="7619294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619297">{</span><span class="string" id="7619298">&#34;37414950961700930/7204075375675961&#34;</span><span class="op" id="7619334">,</span>&nbsp;<span class="string" id="7619336">&#34;74829901923401860/14408150751351922&#34;</span><span class="op" id="7619373">,</span>&nbsp;<span class="num" id="7619375">0</span><span class="op" id="7619376">}</span><span class="op" id="7619377">,</span><br>
<span class="lineno"></span><span class="op" id="7619379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="7619382">func</span>&nbsp;<span class="ident" id="7619387">TestRatCmp</span><span class="op" id="7619397">(</span><span class="ident" id="7619398">t</span>&nbsp;<span class="op" id="7619400">*</span><span class="ident" id="7619401"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7619408">.</span><span class="ident" id="7619409">T</span><span class="op" id="7619410">)</span>&nbsp;<span class="op" id="7619412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7619415">for</span>&nbsp;<span class="ident" id="7619419">i</span><span class="op" id="7619420">,</span>&nbsp;<span class="ident" id="7619422">test</span>&nbsp;<span class="op" id="7619427">:=</span>&nbsp;<span class="keyword" id="7619430">range</span>&nbsp;<span class="ident" id="7619436"><a href="/math/big/rat_test.go.html#7618914">ratCmpTests</a></span>&nbsp;<span class="op" id="7619448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619452">x</span><span class="op" id="7619453">,</span>&nbsp;<span class="ident" id="7619455">_</span>&nbsp;<span class="op" id="7619457">:=</span>&nbsp;<span class="builtinfunc" id="7619460">new</span><span class="op" id="7619463">(</span><span class="ident" id="7619464"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7619467">)</span><span class="op" id="7619468">.</span><span class="ident" id="7619469">SetString</span><span class="op" id="7619478">(</span><span class="ident" id="7619479"><a href="/math/big/rat_test.go.html#7619422">test</a></span><span class="op" id="7619483">.</span><span class="ident" id="7619484">rat1</span><span class="op" id="7619488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619492">y</span><span class="op" id="7619493">,</span>&nbsp;<span class="ident" id="7619495">_</span>&nbsp;<span class="op" id="7619497">:=</span>&nbsp;<span class="builtinfunc" id="7619500">new</span><span class="op" id="7619503">(</span><span class="ident" id="7619504"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7619507">)</span><span class="op" id="7619508">.</span><span class="ident" id="7619509">SetString</span><span class="op" id="7619518">(</span><span class="ident" id="7619519"><a href="/math/big/rat_test.go.html#7619422">test</a></span><span class="op" id="7619523">.</span><span class="ident" id="7619524">rat2</span><span class="op" id="7619528">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619533">out</span>&nbsp;<span class="op" id="7619537">:=</span>&nbsp;<span class="ident" id="7619540"><a href="/math/big/rat_test.go.html#7619452">x</a></span><span class="op" id="7619541">.</span><span class="ident" id="7619542">Cmp</span><span class="op" id="7619545">(</span><span class="ident" id="7619546"><a href="/math/big/rat_test.go.html#7619492">y</a></span><span class="op" id="7619547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7619551">if</span>&nbsp;<span class="ident" id="7619554"><a href="/math/big/rat_test.go.html#7619533">out</a></span>&nbsp;<span class="op" id="7619558">!=</span>&nbsp;<span class="ident" id="7619561"><a href="/math/big/rat_test.go.html#7619422">test</a></span><span class="op" id="7619565">.</span><span class="ident" id="7619566">out</span>&nbsp;<span class="op" id="7619570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619575"><a href="/math/big/rat_test.go.html#7619398">t</a></span><span class="op" id="7619576">.</span><span class="ident" id="7619577">Errorf</span><span class="op" id="7619583">(</span><span class="string" id="7619584">&#34;#%d&nbsp;got&nbsp;out&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7619611">,</span>&nbsp;<span class="ident" id="7619613"><a href="/math/big/rat_test.go.html#7619419">i</a></span><span class="op" id="7619614">,</span>&nbsp;<span class="ident" id="7619616"><a href="/math/big/rat_test.go.html#7619533">out</a></span><span class="op" id="7619619">,</span>&nbsp;<span class="ident" id="7619621"><a href="/math/big/rat_test.go.html#7619422">test</a></span><span class="op" id="7619625">.</span><span class="ident" id="7619626">out</span><span class="op" id="7619629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619636">}</span><br>
<span class="lineno">205</span><span class="op" id="7619638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7619641">func</span>&nbsp;<span class="ident" id="7619646">TestIsInt</span><span class="op" id="7619655">(</span><span class="ident" id="7619656">t</span>&nbsp;<span class="op" id="7619658">*</span><span class="ident" id="7619659"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7619666">.</span><span class="ident" id="7619667">T</span><span class="op" id="7619668">)</span>&nbsp;<span class="op" id="7619670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619673">one</span>&nbsp;<span class="op" id="7619677">:=</span>&nbsp;<span class="ident" id="7619680"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7619686">(</span><span class="num" id="7619687">1</span><span class="op" id="7619688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7619691">for</span>&nbsp;<span class="ident" id="7619695">_</span><span class="op" id="7619696">,</span>&nbsp;<span class="ident" id="7619698">a</span>&nbsp;<span class="op" id="7619700">:=</span>&nbsp;<span class="keyword" id="7619703">range</span>&nbsp;<span class="ident" id="7619709"><a href="/math/big/rat_test.go.html#7615985">setStringTests</a></span>&nbsp;<span class="op" id="7619724">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619728">x</span><span class="op" id="7619729">,</span>&nbsp;<span class="ident" id="7619731">ok</span>&nbsp;<span class="op" id="7619734">:=</span>&nbsp;<span class="builtinfunc" id="7619737">new</span><span class="op" id="7619740">(</span><span class="ident" id="7619741"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7619744">)</span><span class="op" id="7619745">.</span><span class="ident" id="7619746">SetString</span><span class="op" id="7619755">(</span><span class="ident" id="7619756"><a href="/math/big/rat_test.go.html#7619698">a</a></span><span class="op" id="7619757">.</span><span class="ident" id="7619758">in</span><span class="op" id="7619760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7619764">if</span>&nbsp;<span class="op" id="7619767">!</span><span class="ident" id="7619768"><a href="/math/big/rat_test.go.html#7619731">ok</a></span>&nbsp;<span class="op" id="7619771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7619776">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619791">i</span>&nbsp;<span class="op" id="7619793">:=</span>&nbsp;<span class="ident" id="7619796"><a href="/math/big/rat_test.go.html#7619728">x</a></span><span class="op" id="7619797">.</span><span class="ident" id="7619798">IsInt</span><span class="op" id="7619803">(</span><span class="op" id="7619804">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619808">e</span>&nbsp;<span class="op" id="7619810">:=</span>&nbsp;<span class="ident" id="7619813"><a href="/math/big/rat_test.go.html#7619728">x</a></span><span class="op" id="7619814">.</span><span class="ident" id="7619815">Denom</span><span class="op" id="7619820">(</span><span class="op" id="7619821">)</span><span class="op" id="7619822">.</span><span class="ident" id="7619823">Cmp</span><span class="op" id="7619826">(</span><span class="ident" id="7619827"><a href="/math/big/rat_test.go.html#7619673">one</a></span><span class="op" id="7619830">)</span>&nbsp;<span class="op" id="7619832">==</span>&nbsp;<span class="num" id="7619835">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7619839">if</span>&nbsp;<span class="ident" id="7619842"><a href="/math/big/rat_test.go.html#7619791">i</a></span>&nbsp;<span class="op" id="7619844">!=</span>&nbsp;<span class="ident" id="7619847"><a href="/math/big/rat_test.go.html#7619808">e</a></span>&nbsp;<span class="op" id="7619849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619854"><a href="/math/big/rat_test.go.html#7619656">t</a></span><span class="op" id="7619855">.</span><span class="ident" id="7619856">Errorf</span><span class="op" id="7619862">(</span><span class="string" id="7619863">&#34;got&nbsp;IsInt(%v)&nbsp;==&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7619893">,</span>&nbsp;<span class="ident" id="7619895"><a href="/math/big/rat_test.go.html#7619728">x</a></span><span class="op" id="7619896">,</span>&nbsp;<span class="ident" id="7619898"><a href="/math/big/rat_test.go.html#7619791">i</a></span><span class="op" id="7619899">,</span>&nbsp;<span class="ident" id="7619901"><a href="/math/big/rat_test.go.html#7619808">e</a></span><span class="op" id="7619902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7619909">}</span><br>
<span class="lineno">220</span><span class="op" id="7619911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7619914">func</span>&nbsp;<span class="ident" id="7619919">TestRatAbs</span><span class="op" id="7619929">(</span><span class="ident" id="7619930">t</span>&nbsp;<span class="op" id="7619932">*</span><span class="ident" id="7619933"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7619940">.</span><span class="ident" id="7619941">T</span><span class="op" id="7619942">)</span>&nbsp;<span class="op" id="7619944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7619947">zero</span>&nbsp;<span class="op" id="7619952">:=</span>&nbsp;<span class="builtinfunc" id="7619955">new</span><span class="op" id="7619958">(</span><span class="ident" id="7619959"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7619962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7619965">for</span>&nbsp;<span class="ident" id="7619969">_</span><span class="op" id="7619970">,</span>&nbsp;<span class="ident" id="7619972">a</span>&nbsp;<span class="op" id="7619974">:=</span>&nbsp;<span class="keyword" id="7619977">range</span>&nbsp;<span class="ident" id="7619983"><a href="/math/big/rat_test.go.html#7615985">setStringTests</a></span>&nbsp;<span class="op" id="7619998">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620002">x</span><span class="op" id="7620003">,</span>&nbsp;<span class="ident" id="7620005">ok</span>&nbsp;<span class="op" id="7620008">:=</span>&nbsp;<span class="builtinfunc" id="7620011">new</span><span class="op" id="7620014">(</span><span class="ident" id="7620015"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620018">)</span><span class="op" id="7620019">.</span><span class="ident" id="7620020">SetString</span><span class="op" id="7620029">(</span><span class="ident" id="7620030"><a href="/math/big/rat_test.go.html#7619972">a</a></span><span class="op" id="7620031">.</span><span class="ident" id="7620032">in</span><span class="op" id="7620034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620038">if</span>&nbsp;<span class="op" id="7620041">!</span><span class="ident" id="7620042"><a href="/math/big/rat_test.go.html#7620005">ok</a></span>&nbsp;<span class="op" id="7620045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620050">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620065">e</span>&nbsp;<span class="op" id="7620067">:=</span>&nbsp;<span class="builtinfunc" id="7620070">new</span><span class="op" id="7620073">(</span><span class="ident" id="7620074"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620077">)</span><span class="op" id="7620078">.</span><span class="ident" id="7620079">Set</span><span class="op" id="7620082">(</span><span class="ident" id="7620083"><a href="/math/big/rat_test.go.html#7620002">x</a></span><span class="op" id="7620084">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620088">if</span>&nbsp;<span class="ident" id="7620091"><a href="/math/big/rat_test.go.html#7620065">e</a></span><span class="op" id="7620092">.</span><span class="ident" id="7620093">Cmp</span><span class="op" id="7620096">(</span><span class="ident" id="7620097"><a href="/math/big/rat_test.go.html#7619947">zero</a></span><span class="op" id="7620101">)</span>&nbsp;<span class="op" id="7620103">&lt;</span>&nbsp;<span class="num" id="7620105">0</span>&nbsp;<span class="op" id="7620107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620112"><a href="/math/big/rat_test.go.html#7620065">e</a></span><span class="op" id="7620113">.</span><span class="ident" id="7620114">Sub</span><span class="op" id="7620117">(</span><span class="ident" id="7620118"><a href="/math/big/rat_test.go.html#7619947">zero</a></span><span class="op" id="7620122">,</span>&nbsp;<span class="ident" id="7620124"><a href="/math/big/rat_test.go.html#7620065">e</a></span><span class="op" id="7620125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620133">z</span>&nbsp;<span class="op" id="7620135">:=</span>&nbsp;<span class="builtinfunc" id="7620138">new</span><span class="op" id="7620141">(</span><span class="ident" id="7620142"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620145">)</span><span class="op" id="7620146">.</span><span class="ident" id="7620147">Abs</span><span class="op" id="7620150">(</span><span class="ident" id="7620151"><a href="/math/big/rat_test.go.html#7620002">x</a></span><span class="op" id="7620152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620156">if</span>&nbsp;<span class="ident" id="7620159"><a href="/math/big/rat_test.go.html#7620133">z</a></span><span class="op" id="7620160">.</span><span class="ident" id="7620161">Cmp</span><span class="op" id="7620164">(</span><span class="ident" id="7620165"><a href="/math/big/rat_test.go.html#7620065">e</a></span><span class="op" id="7620166">)</span>&nbsp;<span class="op" id="7620168">!=</span>&nbsp;<span class="num" id="7620171">0</span>&nbsp;<span class="op" id="7620173">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620178"><a href="/math/big/rat_test.go.html#7619930">t</a></span><span class="op" id="7620179">.</span><span class="ident" id="7620180">Errorf</span><span class="op" id="7620186">(</span><span class="string" id="7620187">&#34;got&nbsp;Abs(%v)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7620214">,</span>&nbsp;<span class="ident" id="7620216"><a href="/math/big/rat_test.go.html#7620002">x</a></span><span class="op" id="7620217">,</span>&nbsp;<span class="ident" id="7620219"><a href="/math/big/rat_test.go.html#7620133">z</a></span><span class="op" id="7620220">,</span>&nbsp;<span class="ident" id="7620222"><a href="/math/big/rat_test.go.html#7620065">e</a></span><span class="op" id="7620223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620230">}</span><br>
<span class="lineno"></span><span class="op" id="7620232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="7620235">func</span>&nbsp;<span class="ident" id="7620240">TestRatNeg</span><span class="op" id="7620250">(</span><span class="ident" id="7620251">t</span>&nbsp;<span class="op" id="7620253">*</span><span class="ident" id="7620254"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7620261">.</span><span class="ident" id="7620262">T</span><span class="op" id="7620263">)</span>&nbsp;<span class="op" id="7620265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620268">zero</span>&nbsp;<span class="op" id="7620273">:=</span>&nbsp;<span class="builtinfunc" id="7620276">new</span><span class="op" id="7620279">(</span><span class="ident" id="7620280"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620286">for</span>&nbsp;<span class="ident" id="7620290">_</span><span class="op" id="7620291">,</span>&nbsp;<span class="ident" id="7620293">a</span>&nbsp;<span class="op" id="7620295">:=</span>&nbsp;<span class="keyword" id="7620298">range</span>&nbsp;<span class="ident" id="7620304"><a href="/math/big/rat_test.go.html#7615985">setStringTests</a></span>&nbsp;<span class="op" id="7620319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620323">x</span><span class="op" id="7620324">,</span>&nbsp;<span class="ident" id="7620326">ok</span>&nbsp;<span class="op" id="7620329">:=</span>&nbsp;<span class="builtinfunc" id="7620332">new</span><span class="op" id="7620335">(</span><span class="ident" id="7620336"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620339">)</span><span class="op" id="7620340">.</span><span class="ident" id="7620341">SetString</span><span class="op" id="7620350">(</span><span class="ident" id="7620351"><a href="/math/big/rat_test.go.html#7620293">a</a></span><span class="op" id="7620352">.</span><span class="ident" id="7620353">in</span><span class="op" id="7620355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620359">if</span>&nbsp;<span class="op" id="7620362">!</span><span class="ident" id="7620363"><a href="/math/big/rat_test.go.html#7620326">ok</a></span>&nbsp;<span class="op" id="7620366">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620371">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620386">e</span>&nbsp;<span class="op" id="7620388">:=</span>&nbsp;<span class="builtinfunc" id="7620391">new</span><span class="op" id="7620394">(</span><span class="ident" id="7620395"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620398">)</span><span class="op" id="7620399">.</span><span class="ident" id="7620400">Sub</span><span class="op" id="7620403">(</span><span class="ident" id="7620404"><a href="/math/big/rat_test.go.html#7620268">zero</a></span><span class="op" id="7620408">,</span>&nbsp;<span class="ident" id="7620410"><a href="/math/big/rat_test.go.html#7620323">x</a></span><span class="op" id="7620411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620415">z</span>&nbsp;<span class="op" id="7620417">:=</span>&nbsp;<span class="builtinfunc" id="7620420">new</span><span class="op" id="7620423">(</span><span class="ident" id="7620424"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620427">)</span><span class="op" id="7620428">.</span><span class="ident" id="7620429">Neg</span><span class="op" id="7620432">(</span><span class="ident" id="7620433"><a href="/math/big/rat_test.go.html#7620323">x</a></span><span class="op" id="7620434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620438">if</span>&nbsp;<span class="ident" id="7620441"><a href="/math/big/rat_test.go.html#7620415">z</a></span><span class="op" id="7620442">.</span><span class="ident" id="7620443">Cmp</span><span class="op" id="7620446">(</span><span class="ident" id="7620447"><a href="/math/big/rat_test.go.html#7620386">e</a></span><span class="op" id="7620448">)</span>&nbsp;<span class="op" id="7620450">!=</span>&nbsp;<span class="num" id="7620453">0</span>&nbsp;<span class="op" id="7620455">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620460"><a href="/math/big/rat_test.go.html#7620251">t</a></span><span class="op" id="7620461">.</span><span class="ident" id="7620462">Errorf</span><span class="op" id="7620468">(</span><span class="string" id="7620469">&#34;got&nbsp;Neg(%v)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7620496">,</span>&nbsp;<span class="ident" id="7620498"><a href="/math/big/rat_test.go.html#7620323">x</a></span><span class="op" id="7620499">,</span>&nbsp;<span class="ident" id="7620501"><a href="/math/big/rat_test.go.html#7620415">z</a></span><span class="op" id="7620502">,</span>&nbsp;<span class="ident" id="7620504"><a href="/math/big/rat_test.go.html#7620386">e</a></span><span class="op" id="7620505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620512">}</span><br>
<span class="lineno"></span><span class="op" id="7620514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="7620517">func</span>&nbsp;<span class="ident" id="7620522">TestRatInv</span><span class="op" id="7620532">(</span><span class="ident" id="7620533">t</span>&nbsp;<span class="op" id="7620535">*</span><span class="ident" id="7620536"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7620543">.</span><span class="ident" id="7620544">T</span><span class="op" id="7620545">)</span>&nbsp;<span class="op" id="7620547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620550">zero</span>&nbsp;<span class="op" id="7620555">:=</span>&nbsp;<span class="builtinfunc" id="7620558">new</span><span class="op" id="7620561">(</span><span class="ident" id="7620562"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620568">for</span>&nbsp;<span class="ident" id="7620572">_</span><span class="op" id="7620573">,</span>&nbsp;<span class="ident" id="7620575">a</span>&nbsp;<span class="op" id="7620577">:=</span>&nbsp;<span class="keyword" id="7620580">range</span>&nbsp;<span class="ident" id="7620586"><a href="/math/big/rat_test.go.html#7615985">setStringTests</a></span>&nbsp;<span class="op" id="7620601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620605">x</span><span class="op" id="7620606">,</span>&nbsp;<span class="ident" id="7620608">ok</span>&nbsp;<span class="op" id="7620611">:=</span>&nbsp;<span class="builtinfunc" id="7620614">new</span><span class="op" id="7620617">(</span><span class="ident" id="7620618"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620621">)</span><span class="op" id="7620622">.</span><span class="ident" id="7620623">SetString</span><span class="op" id="7620632">(</span><span class="ident" id="7620633"><a href="/math/big/rat_test.go.html#7620575">a</a></span><span class="op" id="7620634">.</span><span class="ident" id="7620635">in</span><span class="op" id="7620637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620641">if</span>&nbsp;<span class="op" id="7620644">!</span><span class="ident" id="7620645"><a href="/math/big/rat_test.go.html#7620608">ok</a></span>&nbsp;<span class="op" id="7620648">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620653">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620668">if</span>&nbsp;<span class="ident" id="7620671"><a href="/math/big/rat_test.go.html#7620605">x</a></span><span class="op" id="7620672">.</span><span class="ident" id="7620673">Cmp</span><span class="op" id="7620676">(</span><span class="ident" id="7620677"><a href="/math/big/rat_test.go.html#7620550">zero</a></span><span class="op" id="7620681">)</span>&nbsp;<span class="op" id="7620683">==</span>&nbsp;<span class="num" id="7620686">0</span>&nbsp;<span class="op" id="7620688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620693">continue</span>&nbsp;<span class="comment" id="7620702">//&nbsp;avoid&nbsp;division&nbsp;by&nbsp;zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620730">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620734">e</span>&nbsp;<span class="op" id="7620736">:=</span>&nbsp;<span class="builtinfunc" id="7620739">new</span><span class="op" id="7620742">(</span><span class="ident" id="7620743"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620746">)</span><span class="op" id="7620747">.</span><span class="ident" id="7620748">SetFrac</span><span class="op" id="7620755">(</span><span class="ident" id="7620756"><a href="/math/big/rat_test.go.html#7620605">x</a></span><span class="op" id="7620757">.</span><span class="ident" id="7620758">Denom</span><span class="op" id="7620763">(</span><span class="op" id="7620764">)</span><span class="op" id="7620765">,</span>&nbsp;<span class="ident" id="7620767"><a href="/math/big/rat_test.go.html#7620605">x</a></span><span class="op" id="7620768">.</span><span class="ident" id="7620769">Num</span><span class="op" id="7620772">(</span><span class="op" id="7620773">)</span><span class="op" id="7620774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620778">z</span>&nbsp;<span class="op" id="7620780">:=</span>&nbsp;<span class="builtinfunc" id="7620783">new</span><span class="op" id="7620786">(</span><span class="ident" id="7620787"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620790">)</span><span class="op" id="7620791">.</span><span class="ident" id="7620792">Inv</span><span class="op" id="7620795">(</span><span class="ident" id="7620796"><a href="/math/big/rat_test.go.html#7620605">x</a></span><span class="op" id="7620797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7620801">if</span>&nbsp;<span class="ident" id="7620804"><a href="/math/big/rat_test.go.html#7620778">z</a></span><span class="op" id="7620805">.</span><span class="ident" id="7620806">Cmp</span><span class="op" id="7620809">(</span><span class="ident" id="7620810"><a href="/math/big/rat_test.go.html#7620734">e</a></span><span class="op" id="7620811">)</span>&nbsp;<span class="op" id="7620813">!=</span>&nbsp;<span class="num" id="7620816">0</span>&nbsp;<span class="op" id="7620818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620823"><a href="/math/big/rat_test.go.html#7620533">t</a></span><span class="op" id="7620824">.</span><span class="ident" id="7620825">Errorf</span><span class="op" id="7620831">(</span><span class="string" id="7620832">&#34;got&nbsp;Inv(%v)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7620859">,</span>&nbsp;<span class="ident" id="7620861"><a href="/math/big/rat_test.go.html#7620605">x</a></span><span class="op" id="7620862">,</span>&nbsp;<span class="ident" id="7620864"><a href="/math/big/rat_test.go.html#7620778">z</a></span><span class="op" id="7620865">,</span>&nbsp;<span class="ident" id="7620867"><a href="/math/big/rat_test.go.html#7620734">e</a></span><span class="op" id="7620868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620872">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7620875">}</span><br>
<span class="lineno"></span><span class="op" id="7620877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7620880">type</span>&nbsp;<span class="ident" id="7620885">ratBinFun</span>&nbsp;<span class="keyword" id="7620895">func</span><span class="op" id="7620899">(</span><span class="ident" id="7620900">z</span><span class="op" id="7620901">,</span>&nbsp;<span class="ident" id="7620903">x</span><span class="op" id="7620904">,</span>&nbsp;<span class="ident" id="7620906">y</span>&nbsp;<span class="op" id="7620908">*</span><span class="ident" id="7620909"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7620912">)</span>&nbsp;<span class="op" id="7620914">*</span><span class="ident" id="7620915"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span><span class="keyword" id="7620919">type</span>&nbsp;<span class="ident" id="7620924">ratBinArg</span>&nbsp;<span class="keyword" id="7620934">struct</span>&nbsp;<span class="op" id="7620941">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7620944">x</span><span class="op" id="7620945">,</span>&nbsp;<span class="ident" id="7620947">y</span><span class="op" id="7620948">,</span>&nbsp;<span class="ident" id="7620950">z</span>&nbsp;<span class="builtintype" id="7620952">string</span><br>
<span class="lineno"></span><span class="op" id="7620959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7620962">func</span>&nbsp;<span class="ident" id="7620967">testRatBin</span><span class="op" id="7620977">(</span><span class="ident" id="7620978">t</span>&nbsp;<span class="op" id="7620980">*</span><span class="ident" id="7620981"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7620988">.</span><span class="ident" id="7620989">T</span><span class="op" id="7620990">,</span>&nbsp;<span class="ident" id="7620992">i</span>&nbsp;<span class="builtintype" id="7620994">int</span><span class="op" id="7620997">,</span>&nbsp;<span class="ident" id="7620999">name</span>&nbsp;<span class="builtintype" id="7621004">string</span><span class="op" id="7621010">,</span>&nbsp;<span class="ident" id="7621012">f</span>&nbsp;<span class="ident" id="7621014"><a href="/math/big/rat_test.go.html#7620885">ratBinFun</a></span><span class="op" id="7621023">,</span>&nbsp;<span class="ident" id="7621025">a</span>&nbsp;<span class="ident" id="7621027"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7621036">)</span>&nbsp;<span class="op" id="7621038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7621041">x</span><span class="op" id="7621042">,</span>&nbsp;<span class="ident" id="7621044">_</span>&nbsp;<span class="op" id="7621046">:=</span>&nbsp;<span class="builtinfunc" id="7621049">new</span><span class="op" id="7621052">(</span><span class="ident" id="7621053"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7621056">)</span><span class="op" id="7621057">.</span><span class="ident" id="7621058">SetString</span><span class="op" id="7621067">(</span><span class="ident" id="7621068"><a href="/math/big/rat_test.go.html#7621025">a</a></span><span class="op" id="7621069">.</span><span class="ident" id="7621070">x</span><span class="op" id="7621071">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7621074">y</span><span class="op" id="7621075">,</span>&nbsp;<span class="ident" id="7621077">_</span>&nbsp;<span class="op" id="7621079">:=</span>&nbsp;<span class="builtinfunc" id="7621082">new</span><span class="op" id="7621085">(</span><span class="ident" id="7621086"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7621089">)</span><span class="op" id="7621090">.</span><span class="ident" id="7621091">SetString</span><span class="op" id="7621100">(</span><span class="ident" id="7621101"><a href="/math/big/rat_test.go.html#7621025">a</a></span><span class="op" id="7621102">.</span><span class="ident" id="7621103">y</span><span class="op" id="7621104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7621107">z</span><span class="op" id="7621108">,</span>&nbsp;<span class="ident" id="7621110">_</span>&nbsp;<span class="op" id="7621112">:=</span>&nbsp;<span class="builtinfunc" id="7621115">new</span><span class="op" id="7621118">(</span><span class="ident" id="7621119"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7621122">)</span><span class="op" id="7621123">.</span><span class="ident" id="7621124">SetString</span><span class="op" id="7621133">(</span><span class="ident" id="7621134"><a href="/math/big/rat_test.go.html#7621025">a</a></span><span class="op" id="7621135">.</span><span class="ident" id="7621136">z</span><span class="op" id="7621137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7621140">out</span>&nbsp;<span class="op" id="7621144">:=</span>&nbsp;<span class="ident" id="7621147"><a href="/math/big/rat_test.go.html#7621012">f</a></span><span class="op" id="7621148">(</span><span class="builtinfunc" id="7621149">new</span><span class="op" id="7621152">(</span><span class="ident" id="7621153"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7621156">)</span><span class="op" id="7621157">,</span>&nbsp;<span class="ident" id="7621159"><a href="/math/big/rat_test.go.html#7621041">x</a></span><span class="op" id="7621160">,</span>&nbsp;<span class="ident" id="7621162"><a href="/math/big/rat_test.go.html#7621074">y</a></span><span class="op" id="7621163">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7621167">if</span>&nbsp;<span class="ident" id="7621170"><a href="/math/big/rat_test.go.html#7621140">out</a></span><span class="op" id="7621173">.</span><span class="ident" id="7621174">Cmp</span><span class="op" id="7621177">(</span><span class="ident" id="7621178"><a href="/math/big/rat_test.go.html#7621107">z</a></span><span class="op" id="7621179">)</span>&nbsp;<span class="op" id="7621181">!=</span>&nbsp;<span class="num" id="7621184">0</span>&nbsp;<span class="op" id="7621186">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7621190"><a href="/math/big/rat_test.go.html#7620978">t</a></span><span class="op" id="7621191">.</span><span class="ident" id="7621192">Errorf</span><span class="op" id="7621198">(</span><span class="string" id="7621199">&#34;%s&nbsp;#%d&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7621222">,</span>&nbsp;<span class="ident" id="7621224"><a href="/math/big/rat_test.go.html#7620999">name</a></span><span class="op" id="7621228">,</span>&nbsp;<span class="ident" id="7621230"><a href="/math/big/rat_test.go.html#7620992">i</a></span><span class="op" id="7621231">,</span>&nbsp;<span class="ident" id="7621233"><a href="/math/big/rat_test.go.html#7621140">out</a></span><span class="op" id="7621236">,</span>&nbsp;<span class="ident" id="7621238"><a href="/math/big/rat_test.go.html#7621107">z</a></span><span class="op" id="7621239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621242">}</span><br>
<span class="lineno"></span><span class="op" id="7621244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7621247">var</span>&nbsp;<span class="ident" id="7621251">ratBinTests</span>&nbsp;<span class="op" id="7621263">=</span>&nbsp;<span class="op" id="7621265">[</span><span class="op" id="7621266">]</span><span class="keyword" id="7621267">struct</span>&nbsp;<span class="op" id="7621274">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7621277">x</span><span class="op" id="7621278">,</span>&nbsp;<span class="ident" id="7621280">y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7621287">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7621295">sum</span><span class="op" id="7621298">,</span>&nbsp;<span class="ident" id="7621300">prod</span>&nbsp;<span class="builtintype" id="7621305">string</span><br>
<span class="lineno"></span><span class="op" id="7621312">}</span><span class="op" id="7621313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621316">{</span><span class="string" id="7621317">&#34;0&#34;</span><span class="op" id="7621320">,</span>&nbsp;<span class="string" id="7621322">&#34;0&#34;</span><span class="op" id="7621325">,</span>&nbsp;<span class="string" id="7621327">&#34;0&#34;</span><span class="op" id="7621330">,</span>&nbsp;<span class="string" id="7621332">&#34;0&#34;</span><span class="op" id="7621335">}</span><span class="op" id="7621336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621339">{</span><span class="string" id="7621340">&#34;0&#34;</span><span class="op" id="7621343">,</span>&nbsp;<span class="string" id="7621345">&#34;1&#34;</span><span class="op" id="7621348">,</span>&nbsp;<span class="string" id="7621350">&#34;1&#34;</span><span class="op" id="7621353">,</span>&nbsp;<span class="string" id="7621355">&#34;0&#34;</span><span class="op" id="7621358">}</span><span class="op" id="7621359">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621362">{</span><span class="string" id="7621363">&#34;-1&#34;</span><span class="op" id="7621367">,</span>&nbsp;<span class="string" id="7621369">&#34;0&#34;</span><span class="op" id="7621372">,</span>&nbsp;<span class="string" id="7621374">&#34;-1&#34;</span><span class="op" id="7621378">,</span>&nbsp;<span class="string" id="7621380">&#34;0&#34;</span><span class="op" id="7621383">}</span><span class="op" id="7621384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621387">{</span><span class="string" id="7621388">&#34;-1&#34;</span><span class="op" id="7621392">,</span>&nbsp;<span class="string" id="7621394">&#34;1&#34;</span><span class="op" id="7621397">,</span>&nbsp;<span class="string" id="7621399">&#34;0&#34;</span><span class="op" id="7621402">,</span>&nbsp;<span class="string" id="7621404">&#34;-1&#34;</span><span class="op" id="7621408">}</span><span class="op" id="7621409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621412">{</span><span class="string" id="7621413">&#34;1&#34;</span><span class="op" id="7621416">,</span>&nbsp;<span class="string" id="7621418">&#34;1&#34;</span><span class="op" id="7621421">,</span>&nbsp;<span class="string" id="7621423">&#34;2&#34;</span><span class="op" id="7621426">,</span>&nbsp;<span class="string" id="7621428">&#34;1&#34;</span><span class="op" id="7621431">}</span><span class="op" id="7621432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621435">{</span><span class="string" id="7621436">&#34;1/2&#34;</span><span class="op" id="7621441">,</span>&nbsp;<span class="string" id="7621443">&#34;1/2&#34;</span><span class="op" id="7621448">,</span>&nbsp;<span class="string" id="7621450">&#34;1&#34;</span><span class="op" id="7621453">,</span>&nbsp;<span class="string" id="7621455">&#34;1/4&#34;</span><span class="op" id="7621460">}</span><span class="op" id="7621461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621464">{</span><span class="string" id="7621465">&#34;1/4&#34;</span><span class="op" id="7621470">,</span>&nbsp;<span class="string" id="7621472">&#34;1/3&#34;</span><span class="op" id="7621477">,</span>&nbsp;<span class="string" id="7621479">&#34;7/12&#34;</span><span class="op" id="7621485">,</span>&nbsp;<span class="string" id="7621487">&#34;1/12&#34;</span><span class="op" id="7621493">}</span><span class="op" id="7621494">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621497">{</span><span class="string" id="7621498">&#34;2/5&#34;</span><span class="op" id="7621503">,</span>&nbsp;<span class="string" id="7621505">&#34;-14/3&#34;</span><span class="op" id="7621512">,</span>&nbsp;<span class="string" id="7621514">&#34;-64/15&#34;</span><span class="op" id="7621522">,</span>&nbsp;<span class="string" id="7621524">&#34;-28/15&#34;</span><span class="op" id="7621532">}</span><span class="op" id="7621533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621536">{</span><span class="string" id="7621537">&#34;4707/49292519774798173060&#34;</span><span class="op" id="7621564">,</span>&nbsp;<span class="string" id="7621566">&#34;-3367/70976135186689855734&#34;</span><span class="op" id="7621594">,</span>&nbsp;<span class="string" id="7621596">&#34;84058377121001851123459/1749296273614329067191168098769082663020&#34;</span><span class="op" id="7621662">,</span>&nbsp;<span class="string" id="7621664">&#34;-1760941/388732505247628681598037355282018369560&#34;</span><span class="op" id="7621714">}</span><span class="op" id="7621715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621718">{</span><span class="string" id="7621719">&#34;-61204110018146728334/3&#34;</span><span class="op" id="7621744">,</span>&nbsp;<span class="string" id="7621746">&#34;-31052192278051565633/2&#34;</span><span class="op" id="7621771">,</span>&nbsp;<span class="string" id="7621773">&#34;-215564796870448153567/6&#34;</span><span class="op" id="7621799">,</span>&nbsp;<span class="string" id="7621801">&#34;950260896245257153059642991192710872711/3&#34;</span><span class="op" id="7621844">}</span><span class="op" id="7621845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7621848">{</span><span class="string" id="7621849">&#34;-854857841473707320655/4237645934602118692642972629634714039&#34;</span><span class="op" id="7621911">,</span>&nbsp;<span class="string" id="7621913">&#34;-18/31750379913563777419&#34;</span><span class="op" id="7621939">,</span>&nbsp;<span class="string" id="7621941">&#34;-27/133467566250814981&#34;</span><span class="op" id="7621965">,</span>&nbsp;<span class="string" id="7621967">&#34;15387441146526731771790/134546868362786310073779084329032722548987800600710485341&#34;</span><span class="op" id="7622050">}</span><span class="op" id="7622051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7622054">{</span><span class="string" id="7622055">&#34;618575745270541348005638912139/19198433543745179392300736&#34;</span><span class="op" id="7622114">,</span>&nbsp;<span class="string" id="7622116">&#34;-19948846211000086/637313996471&#34;</span><span class="op" id="7622149">,</span>&nbsp;<span class="string" id="7622151">&#34;27674141753240653/30123979153216&#34;</span><span class="op" id="7622185">,</span>&nbsp;<span class="string" id="7622187">&#34;-6169936206128396568797607742807090270137721977/6117715203873571641674006593837351328&#34;</span><span class="op" id="7622274">}</span><span class="op" id="7622275">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7622278">{</span><span class="string" id="7622279">&#34;-3/26206484091896184128&#34;</span><span class="op" id="7622304">,</span>&nbsp;<span class="string" id="7622306">&#34;5/2848423294177090248&#34;</span><span class="op" id="7622329">,</span>&nbsp;<span class="string" id="7622331">&#34;15310893822118706237/9330894968229805033368778458685147968&#34;</span><span class="op" id="7622391">,</span>&nbsp;<span class="string" id="7622393">&#34;-5/24882386581946146755650075889827061248&#34;</span><span class="op" id="7622436">}</span><span class="op" id="7622437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7622440">{</span><span class="string" id="7622441">&#34;26946729/330400702820&#34;</span><span class="op" id="7622464">,</span>&nbsp;<span class="string" id="7622466">&#34;41563965/225583428284&#34;</span><span class="op" id="7622489">,</span>&nbsp;<span class="string" id="7622491">&#34;1238218672302860271/4658307703098666660055&#34;</span><span class="op" id="7622535">,</span>&nbsp;<span class="string" id="7622537">&#34;224002580204097/14906584649915733312176&#34;</span><span class="op" id="7622578">}</span><span class="op" id="7622579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7622582">{</span><span class="string" id="7622583">&#34;-8259900599013409474/7&#34;</span><span class="op" id="7622607">,</span>&nbsp;<span class="string" id="7622609">&#34;-84829337473700364773/56707961321161574960&#34;</span><span class="op" id="7622653">,</span>&nbsp;<span class="string" id="7622655">&#34;-468402123685491748914621885145127724451/396955729248131024720&#34;</span><span class="op" id="7622719">,</span>&nbsp;<span class="string" id="7622721">&#34;350340947706464153265156004876107029701/198477864624065512360&#34;</span><span class="op" id="7622784">}</span><span class="op" id="7622785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7622788">{</span><span class="string" id="7622789">&#34;575775209696864/1320203974639986246357&#34;</span><span class="op" id="7622829">,</span>&nbsp;<span class="string" id="7622831">&#34;29/712593081308&#34;</span><span class="op" id="7622848">,</span>&nbsp;<span class="string" id="7622850">&#34;410331716733912717985762465/940768218243776489278275419794956&#34;</span><span class="op" id="7622913">,</span>&nbsp;<span class="string" id="7622915">&#34;808/45524274987585732633&#34;</span><span class="op" id="7622941">}</span><span class="op" id="7622942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7622945">{</span><span class="string" id="7622946">&#34;1786597389946320496771/2066653520653241&#34;</span><span class="op" id="7622987">,</span>&nbsp;<span class="string" id="7622989">&#34;6269770/1992362624741777&#34;</span><span class="op" id="7623015">,</span>&nbsp;<span class="string" id="7623017">&#34;3559549865190272133656109052308126637/4117523232840525481453983149257&#34;</span><span class="op" id="7623088">,</span>&nbsp;<span class="string" id="7623090">&#34;8967230/3296219033&#34;</span><span class="op" id="7623110">}</span><span class="op" id="7623111">,</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7623114">{</span><span class="string" id="7623115">&#34;-36459180403360509753/32150500941194292113930&#34;</span><span class="op" id="7623162">,</span>&nbsp;<span class="string" id="7623164">&#34;9381566963714/9633539&#34;</span><span class="op" id="7623187">,</span>&nbsp;<span class="string" id="7623189">&#34;301622077145533298008420642898530153/309723104686531919656937098270&#34;</span><span class="op" id="7623258">,</span>&nbsp;<span class="string" id="7623260">&#34;-3784609207827/3426986245&#34;</span><span class="op" id="7623287">}</span><span class="op" id="7623288">,</span><br>
<span class="lineno"></span><span class="op" id="7623290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7623293">func</span>&nbsp;<span class="ident" id="7623298">TestRatBin</span><span class="op" id="7623308">(</span><span class="ident" id="7623309">t</span>&nbsp;<span class="op" id="7623311">*</span><span class="ident" id="7623312"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7623319">.</span><span class="ident" id="7623320">T</span><span class="op" id="7623321">)</span>&nbsp;<span class="op" id="7623323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7623326">for</span>&nbsp;<span class="ident" id="7623330">i</span><span class="op" id="7623331">,</span>&nbsp;<span class="ident" id="7623333">test</span>&nbsp;<span class="op" id="7623338">:=</span>&nbsp;<span class="keyword" id="7623341">range</span>&nbsp;<span class="ident" id="7623347"><a href="/math/big/rat_test.go.html#7621251">ratBinTests</a></span>&nbsp;<span class="op" id="7623359">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623363">arg</span>&nbsp;<span class="op" id="7623367">:=</span>&nbsp;<span class="ident" id="7623370"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7623379">{</span><span class="ident" id="7623380"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623384">.</span><span class="ident" id="7623385">x</span><span class="op" id="7623386">,</span>&nbsp;<span class="ident" id="7623388"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623392">.</span><span class="ident" id="7623393">y</span><span class="op" id="7623394">,</span>&nbsp;<span class="ident" id="7623396"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623400">.</span><span class="ident" id="7623401">sum</span><span class="op" id="7623404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623408"><a href="/math/big/rat_test.go.html#7620967">testRatBin</a></span><span class="op" id="7623418">(</span><span class="ident" id="7623419"><a href="/math/big/rat_test.go.html#7623309">t</a></span><span class="op" id="7623420">,</span>&nbsp;<span class="ident" id="7623422"><a href="/math/big/rat_test.go.html#7623330">i</a></span><span class="op" id="7623423">,</span>&nbsp;<span class="string" id="7623425">&#34;Add&#34;</span><span class="op" id="7623430">,</span>&nbsp;<span class="op" id="7623432">(</span><span class="op" id="7623433">*</span><span class="ident" id="7623434"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7623437">)</span><span class="op" id="7623438">.</span><span class="ident" id="7623439">Add</span><span class="op" id="7623442">,</span>&nbsp;<span class="ident" id="7623444"><a href="/math/big/rat_test.go.html#7623363">arg</a></span><span class="op" id="7623447">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623452"><a href="/math/big/rat_test.go.html#7623363">arg</a></span>&nbsp;<span class="op" id="7623456">=</span>&nbsp;<span class="ident" id="7623458"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7623467">{</span><span class="ident" id="7623468"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623472">.</span><span class="ident" id="7623473">y</span><span class="op" id="7623474">,</span>&nbsp;<span class="ident" id="7623476"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623480">.</span><span class="ident" id="7623481">x</span><span class="op" id="7623482">,</span>&nbsp;<span class="ident" id="7623484"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623488">.</span><span class="ident" id="7623489">sum</span><span class="op" id="7623492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623496"><a href="/math/big/rat_test.go.html#7620967">testRatBin</a></span><span class="op" id="7623506">(</span><span class="ident" id="7623507"><a href="/math/big/rat_test.go.html#7623309">t</a></span><span class="op" id="7623508">,</span>&nbsp;<span class="ident" id="7623510"><a href="/math/big/rat_test.go.html#7623330">i</a></span><span class="op" id="7623511">,</span>&nbsp;<span class="string" id="7623513">&#34;Add&nbsp;symmetric&#34;</span><span class="op" id="7623528">,</span>&nbsp;<span class="op" id="7623530">(</span><span class="op" id="7623531">*</span><span class="ident" id="7623532"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7623535">)</span><span class="op" id="7623536">.</span><span class="ident" id="7623537">Add</span><span class="op" id="7623540">,</span>&nbsp;<span class="ident" id="7623542"><a href="/math/big/rat_test.go.html#7623363">arg</a></span><span class="op" id="7623545">)</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623550"><a href="/math/big/rat_test.go.html#7623363">arg</a></span>&nbsp;<span class="op" id="7623554">=</span>&nbsp;<span class="ident" id="7623556"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7623565">{</span><span class="ident" id="7623566"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623570">.</span><span class="ident" id="7623571">sum</span><span class="op" id="7623574">,</span>&nbsp;<span class="ident" id="7623576"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623580">.</span><span class="ident" id="7623581">x</span><span class="op" id="7623582">,</span>&nbsp;<span class="ident" id="7623584"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623588">.</span><span class="ident" id="7623589">y</span><span class="op" id="7623590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623594"><a href="/math/big/rat_test.go.html#7620967">testRatBin</a></span><span class="op" id="7623604">(</span><span class="ident" id="7623605"><a href="/math/big/rat_test.go.html#7623309">t</a></span><span class="op" id="7623606">,</span>&nbsp;<span class="ident" id="7623608"><a href="/math/big/rat_test.go.html#7623330">i</a></span><span class="op" id="7623609">,</span>&nbsp;<span class="string" id="7623611">&#34;Sub&#34;</span><span class="op" id="7623616">,</span>&nbsp;<span class="op" id="7623618">(</span><span class="op" id="7623619">*</span><span class="ident" id="7623620"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7623623">)</span><span class="op" id="7623624">.</span><span class="ident" id="7623625">Sub</span><span class="op" id="7623628">,</span>&nbsp;<span class="ident" id="7623630"><a href="/math/big/rat_test.go.html#7623363">arg</a></span><span class="op" id="7623633">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623638"><a href="/math/big/rat_test.go.html#7623363">arg</a></span>&nbsp;<span class="op" id="7623642">=</span>&nbsp;<span class="ident" id="7623644"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7623653">{</span><span class="ident" id="7623654"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623658">.</span><span class="ident" id="7623659">sum</span><span class="op" id="7623662">,</span>&nbsp;<span class="ident" id="7623664"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623668">.</span><span class="ident" id="7623669">y</span><span class="op" id="7623670">,</span>&nbsp;<span class="ident" id="7623672"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623676">.</span><span class="ident" id="7623677">x</span><span class="op" id="7623678">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623682"><a href="/math/big/rat_test.go.html#7620967">testRatBin</a></span><span class="op" id="7623692">(</span><span class="ident" id="7623693"><a href="/math/big/rat_test.go.html#7623309">t</a></span><span class="op" id="7623694">,</span>&nbsp;<span class="ident" id="7623696"><a href="/math/big/rat_test.go.html#7623330">i</a></span><span class="op" id="7623697">,</span>&nbsp;<span class="string" id="7623699">&#34;Sub&nbsp;symmetric&#34;</span><span class="op" id="7623714">,</span>&nbsp;<span class="op" id="7623716">(</span><span class="op" id="7623717">*</span><span class="ident" id="7623718"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7623721">)</span><span class="op" id="7623722">.</span><span class="ident" id="7623723">Sub</span><span class="op" id="7623726">,</span>&nbsp;<span class="ident" id="7623728"><a href="/math/big/rat_test.go.html#7623363">arg</a></span><span class="op" id="7623731">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623736"><a href="/math/big/rat_test.go.html#7623363">arg</a></span>&nbsp;<span class="op" id="7623740">=</span>&nbsp;<span class="ident" id="7623742"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7623751">{</span><span class="ident" id="7623752"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623756">.</span><span class="ident" id="7623757">x</span><span class="op" id="7623758">,</span>&nbsp;<span class="ident" id="7623760"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623764">.</span><span class="ident" id="7623765">y</span><span class="op" id="7623766">,</span>&nbsp;<span class="ident" id="7623768"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623772">.</span><span class="ident" id="7623773">prod</span><span class="op" id="7623777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623781"><a href="/math/big/rat_test.go.html#7620967">testRatBin</a></span><span class="op" id="7623791">(</span><span class="ident" id="7623792"><a href="/math/big/rat_test.go.html#7623309">t</a></span><span class="op" id="7623793">,</span>&nbsp;<span class="ident" id="7623795"><a href="/math/big/rat_test.go.html#7623330">i</a></span><span class="op" id="7623796">,</span>&nbsp;<span class="string" id="7623798">&#34;Mul&#34;</span><span class="op" id="7623803">,</span>&nbsp;<span class="op" id="7623805">(</span><span class="op" id="7623806">*</span><span class="ident" id="7623807"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7623810">)</span><span class="op" id="7623811">.</span><span class="ident" id="7623812">Mul</span><span class="op" id="7623815">,</span>&nbsp;<span class="ident" id="7623817"><a href="/math/big/rat_test.go.html#7623363">arg</a></span><span class="op" id="7623820">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623825"><a href="/math/big/rat_test.go.html#7623363">arg</a></span>&nbsp;<span class="op" id="7623829">=</span>&nbsp;<span class="ident" id="7623831"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7623840">{</span><span class="ident" id="7623841"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623845">.</span><span class="ident" id="7623846">y</span><span class="op" id="7623847">,</span>&nbsp;<span class="ident" id="7623849"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623853">.</span><span class="ident" id="7623854">x</span><span class="op" id="7623855">,</span>&nbsp;<span class="ident" id="7623857"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623861">.</span><span class="ident" id="7623862">prod</span><span class="op" id="7623866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623870"><a href="/math/big/rat_test.go.html#7620967">testRatBin</a></span><span class="op" id="7623880">(</span><span class="ident" id="7623881"><a href="/math/big/rat_test.go.html#7623309">t</a></span><span class="op" id="7623882">,</span>&nbsp;<span class="ident" id="7623884"><a href="/math/big/rat_test.go.html#7623330">i</a></span><span class="op" id="7623885">,</span>&nbsp;<span class="string" id="7623887">&#34;Mul&nbsp;symmetric&#34;</span><span class="op" id="7623902">,</span>&nbsp;<span class="op" id="7623904">(</span><span class="op" id="7623905">*</span><span class="ident" id="7623906"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7623909">)</span><span class="op" id="7623910">.</span><span class="ident" id="7623911">Mul</span><span class="op" id="7623914">,</span>&nbsp;<span class="ident" id="7623916"><a href="/math/big/rat_test.go.html#7623363">arg</a></span><span class="op" id="7623919">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7623924">if</span>&nbsp;<span class="ident" id="7623927"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623931">.</span><span class="ident" id="7623932">x</span>&nbsp;<span class="op" id="7623934">!=</span>&nbsp;<span class="string" id="7623937">&#34;0&#34;</span>&nbsp;<span class="op" id="7623941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623946"><a href="/math/big/rat_test.go.html#7623363">arg</a></span>&nbsp;<span class="op" id="7623950">=</span>&nbsp;<span class="ident" id="7623952"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7623961">{</span><span class="ident" id="7623962"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623966">.</span><span class="ident" id="7623967">prod</span><span class="op" id="7623971">,</span>&nbsp;<span class="ident" id="7623973"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623977">.</span><span class="ident" id="7623978">x</span><span class="op" id="7623979">,</span>&nbsp;<span class="ident" id="7623981"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7623985">.</span><span class="ident" id="7623986">y</span><span class="op" id="7623987">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7623992"><a href="/math/big/rat_test.go.html#7620967">testRatBin</a></span><span class="op" id="7624002">(</span><span class="ident" id="7624003"><a href="/math/big/rat_test.go.html#7623309">t</a></span><span class="op" id="7624004">,</span>&nbsp;<span class="ident" id="7624006"><a href="/math/big/rat_test.go.html#7623330">i</a></span><span class="op" id="7624007">,</span>&nbsp;<span class="string" id="7624009">&#34;Quo&#34;</span><span class="op" id="7624014">,</span>&nbsp;<span class="op" id="7624016">(</span><span class="op" id="7624017">*</span><span class="ident" id="7624018"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7624021">)</span><span class="op" id="7624022">.</span><span class="ident" id="7624023">Quo</span><span class="op" id="7624026">,</span>&nbsp;<span class="ident" id="7624028"><a href="/math/big/rat_test.go.html#7623363">arg</a></span><span class="op" id="7624031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7624040">if</span>&nbsp;<span class="ident" id="7624043"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7624047">.</span><span class="ident" id="7624048">y</span>&nbsp;<span class="op" id="7624050">!=</span>&nbsp;<span class="string" id="7624053">&#34;0&#34;</span>&nbsp;<span class="op" id="7624057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624062"><a href="/math/big/rat_test.go.html#7623363">arg</a></span>&nbsp;<span class="op" id="7624066">=</span>&nbsp;<span class="ident" id="7624068"><a href="/math/big/rat_test.go.html#7620924">ratBinArg</a></span><span class="op" id="7624077">{</span><span class="ident" id="7624078"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7624082">.</span><span class="ident" id="7624083">prod</span><span class="op" id="7624087">,</span>&nbsp;<span class="ident" id="7624089"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7624093">.</span><span class="ident" id="7624094">y</span><span class="op" id="7624095">,</span>&nbsp;<span class="ident" id="7624097"><a href="/math/big/rat_test.go.html#7623333">test</a></span><span class="op" id="7624101">.</span><span class="ident" id="7624102">x</span><span class="op" id="7624103">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624108"><a href="/math/big/rat_test.go.html#7620967">testRatBin</a></span><span class="op" id="7624118">(</span><span class="ident" id="7624119"><a href="/math/big/rat_test.go.html#7623309">t</a></span><span class="op" id="7624120">,</span>&nbsp;<span class="ident" id="7624122"><a href="/math/big/rat_test.go.html#7623330">i</a></span><span class="op" id="7624123">,</span>&nbsp;<span class="string" id="7624125">&#34;Quo&nbsp;symmetric&#34;</span><span class="op" id="7624140">,</span>&nbsp;<span class="op" id="7624142">(</span><span class="op" id="7624143">*</span><span class="ident" id="7624144"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7624147">)</span><span class="op" id="7624148">.</span><span class="ident" id="7624149">Quo</span><span class="op" id="7624152">,</span>&nbsp;<span class="ident" id="7624154"><a href="/math/big/rat_test.go.html#7623363">arg</a></span><span class="op" id="7624157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624164">}</span><br>
<span class="lineno"></span><span class="op" id="7624166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7624169">func</span>&nbsp;<span class="ident" id="7624174">TestIssue820</span><span class="op" id="7624186">(</span><span class="ident" id="7624187">t</span>&nbsp;<span class="op" id="7624189">*</span><span class="ident" id="7624190"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7624197">.</span><span class="ident" id="7624198">T</span><span class="op" id="7624199">)</span>&nbsp;<span class="op" id="7624201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624204">x</span>&nbsp;<span class="op" id="7624206">:=</span>&nbsp;<span class="ident" id="7624209"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7624215">(</span><span class="num" id="7624216">3</span><span class="op" id="7624217">,</span>&nbsp;<span class="num" id="7624219">1</span><span class="op" id="7624220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624223">y</span>&nbsp;<span class="op" id="7624225">:=</span>&nbsp;<span class="ident" id="7624228"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7624234">(</span><span class="num" id="7624235">2</span><span class="op" id="7624236">,</span>&nbsp;<span class="num" id="7624238">1</span><span class="op" id="7624239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624242">z</span>&nbsp;<span class="op" id="7624244">:=</span>&nbsp;<span class="ident" id="7624247"><a href="/math/big/rat_test.go.html#7624223">y</a></span><span class="op" id="7624248">.</span><span class="ident" id="7624249">Quo</span><span class="op" id="7624252">(</span><span class="ident" id="7624253"><a href="/math/big/rat_test.go.html#7624204">x</a></span><span class="op" id="7624254">,</span>&nbsp;<span class="ident" id="7624256"><a href="/math/big/rat_test.go.html#7624223">y</a></span><span class="op" id="7624257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624260">q</span>&nbsp;<span class="op" id="7624262">:=</span>&nbsp;<span class="ident" id="7624265"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7624271">(</span><span class="num" id="7624272">3</span><span class="op" id="7624273">,</span>&nbsp;<span class="num" id="7624275">2</span><span class="op" id="7624276">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7624279">if</span>&nbsp;<span class="ident" id="7624282"><a href="/math/big/rat_test.go.html#7624242">z</a></span><span class="op" id="7624283">.</span><span class="ident" id="7624284">Cmp</span><span class="op" id="7624287">(</span><span class="ident" id="7624288"><a href="/math/big/rat_test.go.html#7624260">q</a></span><span class="op" id="7624289">)</span>&nbsp;<span class="op" id="7624291">!=</span>&nbsp;<span class="num" id="7624294">0</span>&nbsp;<span class="op" id="7624296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624300"><a href="/math/big/rat_test.go.html#7624187">t</a></span><span class="op" id="7624301">.</span><span class="ident" id="7624302">Errorf</span><span class="op" id="7624308">(</span><span class="string" id="7624309">&#34;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7624325">,</span>&nbsp;<span class="ident" id="7624327"><a href="/math/big/rat_test.go.html#7624242">z</a></span><span class="op" id="7624328">,</span>&nbsp;<span class="ident" id="7624330"><a href="/math/big/rat_test.go.html#7624260">q</a></span><span class="op" id="7624331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624338"><a href="/math/big/rat_test.go.html#7624223">y</a></span>&nbsp;<span class="op" id="7624340">=</span>&nbsp;<span class="ident" id="7624342"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7624348">(</span><span class="num" id="7624349">3</span><span class="op" id="7624350">,</span>&nbsp;<span class="num" id="7624352">1</span><span class="op" id="7624353">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624356"><a href="/math/big/rat_test.go.html#7624204">x</a></span>&nbsp;<span class="op" id="7624358">=</span>&nbsp;<span class="ident" id="7624360"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7624366">(</span><span class="num" id="7624367">2</span><span class="op" id="7624368">,</span>&nbsp;<span class="num" id="7624370">1</span><span class="op" id="7624371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624374"><a href="/math/big/rat_test.go.html#7624242">z</a></span>&nbsp;<span class="op" id="7624376">=</span>&nbsp;<span class="ident" id="7624378"><a href="/math/big/rat_test.go.html#7624223">y</a></span><span class="op" id="7624379">.</span><span class="ident" id="7624380">Quo</span><span class="op" id="7624383">(</span><span class="ident" id="7624384"><a href="/math/big/rat_test.go.html#7624204">x</a></span><span class="op" id="7624385">,</span>&nbsp;<span class="ident" id="7624387"><a href="/math/big/rat_test.go.html#7624223">y</a></span><span class="op" id="7624388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624391"><a href="/math/big/rat_test.go.html#7624260">q</a></span>&nbsp;<span class="op" id="7624393">=</span>&nbsp;<span class="ident" id="7624395"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7624401">(</span><span class="num" id="7624402">2</span><span class="op" id="7624403">,</span>&nbsp;<span class="num" id="7624405">3</span><span class="op" id="7624406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7624409">if</span>&nbsp;<span class="ident" id="7624412"><a href="/math/big/rat_test.go.html#7624242">z</a></span><span class="op" id="7624413">.</span><span class="ident" id="7624414">Cmp</span><span class="op" id="7624417">(</span><span class="ident" id="7624418"><a href="/math/big/rat_test.go.html#7624260">q</a></span><span class="op" id="7624419">)</span>&nbsp;<span class="op" id="7624421">!=</span>&nbsp;<span class="num" id="7624424">0</span>&nbsp;<span class="op" id="7624426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624430"><a href="/math/big/rat_test.go.html#7624187">t</a></span><span class="op" id="7624431">.</span><span class="ident" id="7624432">Errorf</span><span class="op" id="7624438">(</span><span class="string" id="7624439">&#34;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7624455">,</span>&nbsp;<span class="ident" id="7624457"><a href="/math/big/rat_test.go.html#7624242">z</a></span><span class="op" id="7624458">,</span>&nbsp;<span class="ident" id="7624460"><a href="/math/big/rat_test.go.html#7624260">q</a></span><span class="op" id="7624461">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624468"><a href="/math/big/rat_test.go.html#7624204">x</a></span>&nbsp;<span class="op" id="7624470">=</span>&nbsp;<span class="ident" id="7624472"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7624478">(</span><span class="num" id="7624479">3</span><span class="op" id="7624480">,</span>&nbsp;<span class="num" id="7624482">1</span><span class="op" id="7624483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624486"><a href="/math/big/rat_test.go.html#7624242">z</a></span>&nbsp;<span class="op" id="7624488">=</span>&nbsp;<span class="ident" id="7624490"><a href="/math/big/rat_test.go.html#7624204">x</a></span><span class="op" id="7624491">.</span><span class="ident" id="7624492">Quo</span><span class="op" id="7624495">(</span><span class="ident" id="7624496"><a href="/math/big/rat_test.go.html#7624204">x</a></span><span class="op" id="7624497">,</span>&nbsp;<span class="ident" id="7624499"><a href="/math/big/rat_test.go.html#7624204">x</a></span><span class="op" id="7624500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624503"><a href="/math/big/rat_test.go.html#7624260">q</a></span>&nbsp;<span class="op" id="7624505">=</span>&nbsp;<span class="ident" id="7624507"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7624513">(</span><span class="num" id="7624514">3</span><span class="op" id="7624515">,</span>&nbsp;<span class="num" id="7624517">3</span><span class="op" id="7624518">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7624521">if</span>&nbsp;<span class="ident" id="7624524"><a href="/math/big/rat_test.go.html#7624242">z</a></span><span class="op" id="7624525">.</span><span class="ident" id="7624526">Cmp</span><span class="op" id="7624529">(</span><span class="ident" id="7624530"><a href="/math/big/rat_test.go.html#7624260">q</a></span><span class="op" id="7624531">)</span>&nbsp;<span class="op" id="7624533">!=</span>&nbsp;<span class="num" id="7624536">0</span>&nbsp;<span class="op" id="7624538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624542"><a href="/math/big/rat_test.go.html#7624187">t</a></span><span class="op" id="7624543">.</span><span class="ident" id="7624544">Errorf</span><span class="op" id="7624550">(</span><span class="string" id="7624551">&#34;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7624567">,</span>&nbsp;<span class="ident" id="7624569"><a href="/math/big/rat_test.go.html#7624242">z</a></span><span class="op" id="7624570">,</span>&nbsp;<span class="ident" id="7624572"><a href="/math/big/rat_test.go.html#7624260">q</a></span><span class="op" id="7624573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624576">}</span><br>
<span class="lineno"></span><span class="op" id="7624578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7624581">var</span>&nbsp;<span class="ident" id="7624585">setFrac64Tests</span>&nbsp;<span class="op" id="7624600">=</span>&nbsp;<span class="op" id="7624602">[</span><span class="op" id="7624603">]</span><span class="keyword" id="7624604">struct</span>&nbsp;<span class="op" id="7624611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624614">a</span><span class="op" id="7624615">,</span>&nbsp;<span class="ident" id="7624617">b</span>&nbsp;<span class="ident" id="7624619">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624626">out</span>&nbsp;&nbsp;<span class="builtintype" id="7624631">string</span><br>
<span class="lineno"></span><span class="op" id="7624638">}</span><span class="op" id="7624639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624642">{</span><span class="num" id="7624643">0</span><span class="op" id="7624644">,</span>&nbsp;<span class="num" id="7624646">1</span><span class="op" id="7624647">,</span>&nbsp;<span class="string" id="7624649">&#34;0&#34;</span><span class="op" id="7624652">}</span><span class="op" id="7624653">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624656">{</span><span class="num" id="7624657">0</span><span class="op" id="7624658">,</span>&nbsp;<span class="op" id="7624660">-</span><span class="num" id="7624661">1</span><span class="op" id="7624662">,</span>&nbsp;<span class="string" id="7624664">&#34;0&#34;</span><span class="op" id="7624667">}</span><span class="op" id="7624668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624671">{</span><span class="num" id="7624672">1</span><span class="op" id="7624673">,</span>&nbsp;<span class="num" id="7624675">1</span><span class="op" id="7624676">,</span>&nbsp;<span class="string" id="7624678">&#34;1&#34;</span><span class="op" id="7624681">}</span><span class="op" id="7624682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624685">{</span><span class="op" id="7624686">-</span><span class="num" id="7624687">1</span><span class="op" id="7624688">,</span>&nbsp;<span class="num" id="7624690">1</span><span class="op" id="7624691">,</span>&nbsp;<span class="string" id="7624693">&#34;-1&#34;</span><span class="op" id="7624697">}</span><span class="op" id="7624698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624701">{</span><span class="num" id="7624702">1</span><span class="op" id="7624703">,</span>&nbsp;<span class="op" id="7624705">-</span><span class="num" id="7624706">1</span><span class="op" id="7624707">,</span>&nbsp;<span class="string" id="7624709">&#34;-1&#34;</span><span class="op" id="7624713">}</span><span class="op" id="7624714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624717">{</span><span class="op" id="7624718">-</span><span class="num" id="7624719">1</span><span class="op" id="7624720">,</span>&nbsp;<span class="op" id="7624722">-</span><span class="num" id="7624723">1</span><span class="op" id="7624724">,</span>&nbsp;<span class="string" id="7624726">&#34;1&#34;</span><span class="op" id="7624729">}</span><span class="op" id="7624730">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7624733">{</span><span class="op" id="7624734">-</span><span class="num" id="7624735">9223372036854775808</span><span class="op" id="7624754">,</span>&nbsp;<span class="op" id="7624756">-</span><span class="num" id="7624757">9223372036854775808</span><span class="op" id="7624776">,</span>&nbsp;<span class="string" id="7624778">&#34;1&#34;</span><span class="op" id="7624781">}</span><span class="op" id="7624782">,</span><br>
<span class="lineno"></span><span class="op" id="7624784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7624787">func</span>&nbsp;<span class="ident" id="7624792">TestRatSetFrac64Rat</span><span class="op" id="7624811">(</span><span class="ident" id="7624812">t</span>&nbsp;<span class="op" id="7624814">*</span><span class="ident" id="7624815"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7624822">.</span><span class="ident" id="7624823">T</span><span class="op" id="7624824">)</span>&nbsp;<span class="op" id="7624826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7624829">for</span>&nbsp;<span class="ident" id="7624833">i</span><span class="op" id="7624834">,</span>&nbsp;<span class="ident" id="7624836">test</span>&nbsp;<span class="op" id="7624841">:=</span>&nbsp;<span class="keyword" id="7624844">range</span>&nbsp;<span class="ident" id="7624850"><a href="/math/big/rat_test.go.html#7624585">setFrac64Tests</a></span>&nbsp;<span class="op" id="7624865">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624869">x</span>&nbsp;<span class="op" id="7624871">:=</span>&nbsp;<span class="builtinfunc" id="7624874">new</span><span class="op" id="7624877">(</span><span class="ident" id="7624878"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7624881">)</span><span class="op" id="7624882">.</span><span class="ident" id="7624883">SetFrac64</span><span class="op" id="7624892">(</span><span class="ident" id="7624893"><a href="/math/big/rat_test.go.html#7624836">test</a></span><span class="op" id="7624897">.</span><span class="ident" id="7624898">a</span><span class="op" id="7624899">,</span>&nbsp;<span class="ident" id="7624901"><a href="/math/big/rat_test.go.html#7624836">test</a></span><span class="op" id="7624905">.</span><span class="ident" id="7624906">b</span><span class="op" id="7624907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7624911">if</span>&nbsp;<span class="ident" id="7624914"><a href="/math/big/rat_test.go.html#7624869">x</a></span><span class="op" id="7624915">.</span><span class="ident" id="7624916">RatString</span><span class="op" id="7624925">(</span><span class="op" id="7624926">)</span>&nbsp;<span class="op" id="7624928">!=</span>&nbsp;<span class="ident" id="7624931"><a href="/math/big/rat_test.go.html#7624836">test</a></span><span class="op" id="7624935">.</span><span class="ident" id="7624936">out</span>&nbsp;<span class="op" id="7624940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7624945"><a href="/math/big/rat_test.go.html#7624812">t</a></span><span class="op" id="7624946">.</span><span class="ident" id="7624947">Errorf</span><span class="op" id="7624953">(</span><span class="string" id="7624954">&#34;#%d&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7624974">,</span>&nbsp;<span class="ident" id="7624976"><a href="/math/big/rat_test.go.html#7624833">i</a></span><span class="op" id="7624977">,</span>&nbsp;<span class="ident" id="7624979"><a href="/math/big/rat_test.go.html#7624869">x</a></span><span class="op" id="7624980">.</span><span class="ident" id="7624981">RatString</span><span class="op" id="7624990">(</span><span class="op" id="7624991">)</span><span class="op" id="7624992">,</span>&nbsp;<span class="ident" id="7624994"><a href="/math/big/rat_test.go.html#7624836">test</a></span><span class="op" id="7624998">.</span><span class="ident" id="7624999">out</span><span class="op" id="7625002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625009">}</span><br>
<span class="lineno">390</span><span class="op" id="7625011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7625014">func</span>&nbsp;<span class="ident" id="7625019">TestRatGobEncoding</span><span class="op" id="7625037">(</span><span class="ident" id="7625038">t</span>&nbsp;<span class="op" id="7625040">*</span><span class="ident" id="7625041"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7625048">.</span><span class="ident" id="7625049">T</span><span class="op" id="7625050">)</span>&nbsp;<span class="op" id="7625052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625055">var</span>&nbsp;<span class="ident" id="7625059">medium</span>&nbsp;<span class="ident" id="7625066"><a href="/math/big/rat_test.go.html#7615144">bytes</a></span><span class="op" id="7625071">.</span><span class="ident" id="7625072">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625080">enc</span>&nbsp;<span class="op" id="7625084">:=</span>&nbsp;<span class="ident" id="7625087"><a href="/math/big/rat_test.go.html#7615153">gob</a></span><span class="op" id="7625090">.</span><span class="ident" id="7625091">NewEncoder</span><span class="op" id="7625101">(</span><span class="op" id="7625102">&amp;</span><span class="ident" id="7625103"><a href="/math/big/rat_test.go.html#7625059">medium</a></span><span class="op" id="7625109">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625112">dec</span>&nbsp;<span class="op" id="7625116">:=</span>&nbsp;<span class="ident" id="7625119"><a href="/math/big/rat_test.go.html#7615153">gob</a></span><span class="op" id="7625122">.</span><span class="ident" id="7625123">NewDecoder</span><span class="op" id="7625133">(</span><span class="op" id="7625134">&amp;</span><span class="ident" id="7625135"><a href="/math/big/rat_test.go.html#7625059">medium</a></span><span class="op" id="7625141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625144">for</span>&nbsp;<span class="ident" id="7625148">_</span><span class="op" id="7625149">,</span>&nbsp;<span class="ident" id="7625151">test</span>&nbsp;<span class="op" id="7625156">:=</span>&nbsp;<span class="keyword" id="7625159">range</span>&nbsp;<span class="ident" id="7625165"><a href="/math/big/int_test.go.html#7585618">encodingTests</a></span>&nbsp;<span class="op" id="7625179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625183"><a href="/math/big/rat_test.go.html#7625059">medium</a></span><span class="op" id="7625189">.</span><span class="ident" id="7625190">Reset</span><span class="op" id="7625195">(</span><span class="op" id="7625196">)</span>&nbsp;<span class="comment" id="7625198">//&nbsp;empty&nbsp;buffer&nbsp;for&nbsp;each&nbsp;test&nbsp;case&nbsp;(in&nbsp;case&nbsp;of&nbsp;failures)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625257">var</span>&nbsp;<span class="ident" id="7625261">tx</span>&nbsp;<span class="ident" id="7625264"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625270"><a href="/math/big/rat_test.go.html#7625261">tx</a></span><span class="op" id="7625272">.</span><span class="ident" id="7625273">SetString</span><span class="op" id="7625282">(</span><span class="ident" id="7625283"><a href="/math/big/rat_test.go.html#7625151">test</a></span>&nbsp;<span class="op" id="7625288">+</span>&nbsp;<span class="string" id="7625290">&#34;.14159265&#34;</span><span class="op" id="7625301">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625305">if</span>&nbsp;<span class="ident" id="7625308">err</span>&nbsp;<span class="op" id="7625312">:=</span>&nbsp;<span class="ident" id="7625315"><a href="/math/big/rat_test.go.html#7625080">enc</a></span><span class="op" id="7625318">.</span><span class="ident" id="7625319">Encode</span><span class="op" id="7625325">(</span><span class="op" id="7625326">&amp;</span><span class="ident" id="7625327"><a href="/math/big/rat_test.go.html#7625261">tx</a></span><span class="op" id="7625329">)</span><span class="op" id="7625330">;</span>&nbsp;<span class="ident" id="7625332"><a href="/math/big/rat_test.go.html#7625308">err</a></span>&nbsp;<span class="op" id="7625336">!=</span>&nbsp;<span class="ident" id="7625339">nil</span>&nbsp;<span class="op" id="7625343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625348"><a href="/math/big/rat_test.go.html#7625038">t</a></span><span class="op" id="7625349">.</span><span class="ident" id="7625350">Errorf</span><span class="op" id="7625356">(</span><span class="string" id="7625357">&#34;encoding&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7625384">,</span>&nbsp;<span class="op" id="7625386">&amp;</span><span class="ident" id="7625387"><a href="/math/big/rat_test.go.html#7625261">tx</a></span><span class="op" id="7625389">,</span>&nbsp;<span class="ident" id="7625391"><a href="/math/big/rat_test.go.html#7625308">err</a></span><span class="op" id="7625394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625402">var</span>&nbsp;<span class="ident" id="7625406">rx</span>&nbsp;<span class="ident" id="7625409"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625415">if</span>&nbsp;<span class="ident" id="7625418">err</span>&nbsp;<span class="op" id="7625422">:=</span>&nbsp;<span class="ident" id="7625425"><a href="/math/big/rat_test.go.html#7625112">dec</a></span><span class="op" id="7625428">.</span><span class="ident" id="7625429">Decode</span><span class="op" id="7625435">(</span><span class="op" id="7625436">&amp;</span><span class="ident" id="7625437"><a href="/math/big/rat_test.go.html#7625406">rx</a></span><span class="op" id="7625439">)</span><span class="op" id="7625440">;</span>&nbsp;<span class="ident" id="7625442"><a href="/math/big/rat_test.go.html#7625418">err</a></span>&nbsp;<span class="op" id="7625446">!=</span>&nbsp;<span class="ident" id="7625449">nil</span>&nbsp;<span class="op" id="7625453">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625458"><a href="/math/big/rat_test.go.html#7625038">t</a></span><span class="op" id="7625459">.</span><span class="ident" id="7625460">Errorf</span><span class="op" id="7625466">(</span><span class="string" id="7625467">&#34;decoding&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7625494">,</span>&nbsp;<span class="op" id="7625496">&amp;</span><span class="ident" id="7625497"><a href="/math/big/rat_test.go.html#7625261">tx</a></span><span class="op" id="7625499">,</span>&nbsp;<span class="ident" id="7625501"><a href="/math/big/rat_test.go.html#7625418">err</a></span><span class="op" id="7625504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625512">if</span>&nbsp;<span class="ident" id="7625515"><a href="/math/big/rat_test.go.html#7625406">rx</a></span><span class="op" id="7625517">.</span><span class="ident" id="7625518">Cmp</span><span class="op" id="7625521">(</span><span class="op" id="7625522">&amp;</span><span class="ident" id="7625523"><a href="/math/big/rat_test.go.html#7625261">tx</a></span><span class="op" id="7625525">)</span>&nbsp;<span class="op" id="7625527">!=</span>&nbsp;<span class="num" id="7625530">0</span>&nbsp;<span class="op" id="7625532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625537"><a href="/math/big/rat_test.go.html#7625038">t</a></span><span class="op" id="7625538">.</span><span class="ident" id="7625539">Errorf</span><span class="op" id="7625545">(</span><span class="string" id="7625546">&#34;transmission&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7625589">,</span>&nbsp;<span class="op" id="7625591">&amp;</span><span class="ident" id="7625592"><a href="/math/big/rat_test.go.html#7625261">tx</a></span><span class="op" id="7625594">,</span>&nbsp;<span class="op" id="7625596">&amp;</span><span class="ident" id="7625597"><a href="/math/big/rat_test.go.html#7625406">rx</a></span><span class="op" id="7625599">,</span>&nbsp;<span class="op" id="7625601">&amp;</span><span class="ident" id="7625602"><a href="/math/big/rat_test.go.html#7625261">tx</a></span><span class="op" id="7625604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625608">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625611">}</span><br>
<span class="lineno"></span><span class="op" id="7625613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7625616">//&nbsp;Sending&nbsp;a&nbsp;nil&nbsp;Rat&nbsp;pointer&nbsp;(inside&nbsp;a&nbsp;slice)&nbsp;on&nbsp;a&nbsp;round&nbsp;trip&nbsp;through&nbsp;gob&nbsp;should&nbsp;yield&nbsp;a&nbsp;zero.</span><br>
<span class="lineno"></span><span class="comment" id="7625711">//&nbsp;TODO:&nbsp;top-level&nbsp;nils.</span><br>
<span class="lineno">415</span><span class="keyword" id="7625736">func</span>&nbsp;<span class="ident" id="7625741">TestGobEncodingNilRatInSlice</span><span class="op" id="7625769">(</span><span class="ident" id="7625770">t</span>&nbsp;<span class="op" id="7625772">*</span><span class="ident" id="7625773"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7625780">.</span><span class="ident" id="7625781">T</span><span class="op" id="7625782">)</span>&nbsp;<span class="op" id="7625784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625787">buf</span>&nbsp;<span class="op" id="7625791">:=</span>&nbsp;<span class="builtinfunc" id="7625794">new</span><span class="op" id="7625797">(</span><span class="ident" id="7625798"><a href="/math/big/rat_test.go.html#7615144">bytes</a></span><span class="op" id="7625803">.</span><span class="ident" id="7625804">Buffer</span><span class="op" id="7625810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625813">enc</span>&nbsp;<span class="op" id="7625817">:=</span>&nbsp;<span class="ident" id="7625820"><a href="/math/big/rat_test.go.html#7615153">gob</a></span><span class="op" id="7625823">.</span><span class="ident" id="7625824">NewEncoder</span><span class="op" id="7625834">(</span><span class="ident" id="7625835"><a href="/math/big/rat_test.go.html#7625787">buf</a></span><span class="op" id="7625838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625841">dec</span>&nbsp;<span class="op" id="7625845">:=</span>&nbsp;<span class="ident" id="7625848"><a href="/math/big/rat_test.go.html#7615153">gob</a></span><span class="op" id="7625851">.</span><span class="ident" id="7625852">NewDecoder</span><span class="op" id="7625862">(</span><span class="ident" id="7625863"><a href="/math/big/rat_test.go.html#7625787">buf</a></span><span class="op" id="7625866">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625870">var</span>&nbsp;<span class="ident" id="7625874">in</span>&nbsp;<span class="op" id="7625877">=</span>&nbsp;<span class="builtinfunc" id="7625879">make</span><span class="op" id="7625883">(</span><span class="op" id="7625884">[</span><span class="op" id="7625885">]</span><span class="op" id="7625886">*</span><span class="ident" id="7625887"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7625890">,</span>&nbsp;<span class="num" id="7625892">1</span><span class="op" id="7625893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625896">err</span>&nbsp;<span class="op" id="7625900">:=</span>&nbsp;<span class="ident" id="7625903"><a href="/math/big/rat_test.go.html#7625813">enc</a></span><span class="op" id="7625906">.</span><span class="ident" id="7625907">Encode</span><span class="op" id="7625913">(</span><span class="op" id="7625914">&amp;</span><span class="ident" id="7625915"><a href="/math/big/rat_test.go.html#7625874">in</a></span><span class="op" id="7625917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625920">if</span>&nbsp;<span class="ident" id="7625923"><a href="/math/big/rat_test.go.html#7625896">err</a></span>&nbsp;<span class="op" id="7625927">!=</span>&nbsp;<span class="ident" id="7625930">nil</span>&nbsp;<span class="op" id="7625934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625938"><a href="/math/big/rat_test.go.html#7625770">t</a></span><span class="op" id="7625939">.</span><span class="ident" id="7625940">Errorf</span><span class="op" id="7625946">(</span><span class="string" id="7625947">&#34;gob&nbsp;encode&nbsp;failed:&nbsp;%q&#34;</span><span class="op" id="7625970">,</span>&nbsp;<span class="ident" id="7625972"><a href="/math/big/rat_test.go.html#7625896">err</a></span><span class="op" id="7625975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7625978">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7625981">var</span>&nbsp;<span class="ident" id="7625985">out</span>&nbsp;<span class="op" id="7625989">[</span><span class="op" id="7625990">]</span><span class="op" id="7625991">*</span><span class="ident" id="7625992"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7625997"><a href="/math/big/rat_test.go.html#7625896">err</a></span>&nbsp;<span class="op" id="7626001">=</span>&nbsp;<span class="ident" id="7626003"><a href="/math/big/rat_test.go.html#7625841">dec</a></span><span class="op" id="7626006">.</span><span class="ident" id="7626007">Decode</span><span class="op" id="7626013">(</span><span class="op" id="7626014">&amp;</span><span class="ident" id="7626015"><a href="/math/big/rat_test.go.html#7625985">out</a></span><span class="op" id="7626018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626021">if</span>&nbsp;<span class="ident" id="7626024"><a href="/math/big/rat_test.go.html#7625896">err</a></span>&nbsp;<span class="op" id="7626028">!=</span>&nbsp;<span class="ident" id="7626031">nil</span>&nbsp;<span class="op" id="7626035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626039"><a href="/math/big/rat_test.go.html#7625770">t</a></span><span class="op" id="7626040">.</span><span class="ident" id="7626041">Fatalf</span><span class="op" id="7626047">(</span><span class="string" id="7626048">&#34;gob&nbsp;decode&nbsp;failed:&nbsp;%q&#34;</span><span class="op" id="7626071">,</span>&nbsp;<span class="ident" id="7626073"><a href="/math/big/rat_test.go.html#7625896">err</a></span><span class="op" id="7626076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626079">}</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626082">if</span>&nbsp;<span class="builtinfunc" id="7626085">len</span><span class="op" id="7626088">(</span><span class="ident" id="7626089"><a href="/math/big/rat_test.go.html#7625985">out</a></span><span class="op" id="7626092">)</span>&nbsp;<span class="op" id="7626094">!=</span>&nbsp;<span class="num" id="7626097">1</span>&nbsp;<span class="op" id="7626099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626103"><a href="/math/big/rat_test.go.html#7625770">t</a></span><span class="op" id="7626104">.</span><span class="ident" id="7626105">Fatalf</span><span class="op" id="7626111">(</span><span class="string" id="7626112">&#34;wrong&nbsp;len;&nbsp;want&nbsp;1&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7626138">,</span>&nbsp;<span class="builtinfunc" id="7626140">len</span><span class="op" id="7626143">(</span><span class="ident" id="7626144"><a href="/math/big/rat_test.go.html#7625985">out</a></span><span class="op" id="7626147">)</span><span class="op" id="7626148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626154">var</span>&nbsp;<span class="ident" id="7626158">zero</span>&nbsp;<span class="ident" id="7626163"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626168">if</span>&nbsp;<span class="ident" id="7626171"><a href="/math/big/rat_test.go.html#7625985">out</a></span><span class="op" id="7626174">[</span><span class="num" id="7626175">0</span><span class="op" id="7626176">]</span><span class="op" id="7626177">.</span><span class="ident" id="7626178">Cmp</span><span class="op" id="7626181">(</span><span class="op" id="7626182">&amp;</span><span class="ident" id="7626183"><a href="/math/big/rat_test.go.html#7626158">zero</a></span><span class="op" id="7626187">)</span>&nbsp;<span class="op" id="7626189">!=</span>&nbsp;<span class="num" id="7626192">0</span>&nbsp;<span class="op" id="7626194">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626198"><a href="/math/big/rat_test.go.html#7625770">t</a></span><span class="op" id="7626199">.</span><span class="ident" id="7626200">Errorf</span><span class="op" id="7626206">(</span><span class="string" id="7626207">&#34;transmission&nbsp;of&nbsp;(*Int)(nill)&nbsp;failed:&nbsp;got&nbsp;%s&nbsp;want&nbsp;0&#34;</span><span class="op" id="7626259">,</span>&nbsp;<span class="ident" id="7626261"><a href="/math/big/rat_test.go.html#7625985">out</a></span><span class="op" id="7626264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7626267">}</span><br>
<span class="lineno"></span><span class="op" id="7626269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7626272">var</span>&nbsp;<span class="ident" id="7626276">ratNums</span>&nbsp;<span class="op" id="7626284">=</span>&nbsp;<span class="op" id="7626286">[</span><span class="op" id="7626287">]</span><span class="builtintype" id="7626288">string</span><span class="op" id="7626294">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626297">&#34;-141592653589793238462643383279502884197169399375105820974944592307816406286&#34;</span><span class="op" id="7626375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626378">&#34;-1415926535897932384626433832795028841971&#34;</span><span class="op" id="7626421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626424">&#34;-141592653589793&#34;</span><span class="op" id="7626442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626445">&#34;-1&#34;</span><span class="op" id="7626449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626452">&#34;0&#34;</span><span class="op" id="7626455">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626458">&#34;1&#34;</span><span class="op" id="7626461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626464">&#34;141592653589793&#34;</span><span class="op" id="7626481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626484">&#34;1415926535897932384626433832795028841971&#34;</span><span class="op" id="7626526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626529">&#34;141592653589793238462643383279502884197169399375105820974944592307816406286&#34;</span><span class="op" id="7626606">,</span><br>
<span class="lineno"></span><span class="op" id="7626608">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7626611">var</span>&nbsp;<span class="ident" id="7626615">ratDenoms</span>&nbsp;<span class="op" id="7626625">=</span>&nbsp;<span class="op" id="7626627">[</span><span class="op" id="7626628">]</span><span class="builtintype" id="7626629">string</span><span class="op" id="7626635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626638">&#34;1&#34;</span><span class="op" id="7626641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626644">&#34;718281828459045&#34;</span><span class="op" id="7626661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626664">&#34;7182818284590452353602874713526624977572&#34;</span><span class="op" id="7626706">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7626709">&#34;718281828459045235360287471352662497757247093699959574966967627724076630353&#34;</span><span class="op" id="7626786">,</span><br>
<span class="lineno"></span><span class="op" id="7626788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7626791">func</span>&nbsp;<span class="ident" id="7626796">TestRatJSONEncoding</span><span class="op" id="7626815">(</span><span class="ident" id="7626816">t</span>&nbsp;<span class="op" id="7626818">*</span><span class="ident" id="7626819"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7626826">.</span><span class="ident" id="7626827">T</span><span class="op" id="7626828">)</span>&nbsp;<span class="op" id="7626830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626833">for</span>&nbsp;<span class="ident" id="7626837">_</span><span class="op" id="7626838">,</span>&nbsp;<span class="ident" id="7626840">num</span>&nbsp;<span class="op" id="7626844">:=</span>&nbsp;<span class="keyword" id="7626847">range</span>&nbsp;<span class="ident" id="7626853"><a href="/math/big/rat_test.go.html#7626276">ratNums</a></span>&nbsp;<span class="op" id="7626861">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626865">for</span>&nbsp;<span class="ident" id="7626869">_</span><span class="op" id="7626870">,</span>&nbsp;<span class="ident" id="7626872">denom</span>&nbsp;<span class="op" id="7626878">:=</span>&nbsp;<span class="keyword" id="7626881">range</span>&nbsp;<span class="ident" id="7626887"><a href="/math/big/rat_test.go.html#7626615">ratDenoms</a></span>&nbsp;<span class="op" id="7626897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626902">var</span>&nbsp;<span class="ident" id="7626906">tx</span>&nbsp;<span class="ident" id="7626909"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626916"><a href="/math/big/rat_test.go.html#7626906">tx</a></span><span class="op" id="7626918">.</span><span class="ident" id="7626919">SetString</span><span class="op" id="7626928">(</span><span class="ident" id="7626929"><a href="/math/big/rat_test.go.html#7626840">num</a></span>&nbsp;<span class="op" id="7626933">+</span>&nbsp;<span class="string" id="7626935">&#34;/&#34;</span>&nbsp;<span class="op" id="7626939">+</span>&nbsp;<span class="ident" id="7626941"><a href="/math/big/rat_test.go.html#7626872">denom</a></span><span class="op" id="7626946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7626951">b</span><span class="op" id="7626952">,</span>&nbsp;<span class="ident" id="7626954">err</span>&nbsp;<span class="op" id="7626958">:=</span>&nbsp;<span class="ident" id="7626961"><a href="/math/big/rat_test.go.html#7615169">json</a></span><span class="op" id="7626965">.</span><span class="ident" id="7626966">Marshal</span><span class="op" id="7626973">(</span><span class="op" id="7626974">&amp;</span><span class="ident" id="7626975"><a href="/math/big/rat_test.go.html#7626906">tx</a></span><span class="op" id="7626977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7626982">if</span>&nbsp;<span class="ident" id="7626985"><a href="/math/big/rat_test.go.html#7626954">err</a></span>&nbsp;<span class="op" id="7626989">!=</span>&nbsp;<span class="ident" id="7626992">nil</span>&nbsp;<span class="op" id="7626996">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627002"><a href="/math/big/rat_test.go.html#7626816">t</a></span><span class="op" id="7627003">.</span><span class="ident" id="7627004">Errorf</span><span class="op" id="7627010">(</span><span class="string" id="7627011">&#34;marshaling&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7627040">,</span>&nbsp;<span class="op" id="7627042">&amp;</span><span class="ident" id="7627043"><a href="/math/big/rat_test.go.html#7626906">tx</a></span><span class="op" id="7627045">,</span>&nbsp;<span class="ident" id="7627047"><a href="/math/big/rat_test.go.html#7626954">err</a></span><span class="op" id="7627050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627056">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627073">var</span>&nbsp;<span class="ident" id="7627077">rx</span>&nbsp;<span class="ident" id="7627080"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627087">if</span>&nbsp;<span class="ident" id="7627090">err</span>&nbsp;<span class="op" id="7627094">:=</span>&nbsp;<span class="ident" id="7627097"><a href="/math/big/rat_test.go.html#7615169">json</a></span><span class="op" id="7627101">.</span><span class="ident" id="7627102">Unmarshal</span><span class="op" id="7627111">(</span><span class="ident" id="7627112"><a href="/math/big/rat_test.go.html#7626951">b</a></span><span class="op" id="7627113">,</span>&nbsp;<span class="op" id="7627115">&amp;</span><span class="ident" id="7627116"><a href="/math/big/rat_test.go.html#7627077">rx</a></span><span class="op" id="7627118">)</span><span class="op" id="7627119">;</span>&nbsp;<span class="ident" id="7627121"><a href="/math/big/rat_test.go.html#7627090">err</a></span>&nbsp;<span class="op" id="7627125">!=</span>&nbsp;<span class="ident" id="7627128">nil</span>&nbsp;<span class="op" id="7627132">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627138"><a href="/math/big/rat_test.go.html#7626816">t</a></span><span class="op" id="7627139">.</span><span class="ident" id="7627140">Errorf</span><span class="op" id="7627146">(</span><span class="string" id="7627147">&#34;unmarshaling&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7627178">,</span>&nbsp;<span class="op" id="7627180">&amp;</span><span class="ident" id="7627181"><a href="/math/big/rat_test.go.html#7626906">tx</a></span><span class="op" id="7627183">,</span>&nbsp;<span class="ident" id="7627185"><a href="/math/big/rat_test.go.html#7627090">err</a></span><span class="op" id="7627188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627194">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627211">if</span>&nbsp;<span class="ident" id="7627214"><a href="/math/big/rat_test.go.html#7627077">rx</a></span><span class="op" id="7627216">.</span><span class="ident" id="7627217">Cmp</span><span class="op" id="7627220">(</span><span class="op" id="7627221">&amp;</span><span class="ident" id="7627222"><a href="/math/big/rat_test.go.html#7626906">tx</a></span><span class="op" id="7627224">)</span>&nbsp;<span class="op" id="7627226">!=</span>&nbsp;<span class="num" id="7627229">0</span>&nbsp;<span class="op" id="7627231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627237"><a href="/math/big/rat_test.go.html#7626816">t</a></span><span class="op" id="7627238">.</span><span class="ident" id="7627239">Errorf</span><span class="op" id="7627245">(</span><span class="string" id="7627246">&#34;JSON&nbsp;encoding&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7627290">,</span>&nbsp;<span class="op" id="7627292">&amp;</span><span class="ident" id="7627293"><a href="/math/big/rat_test.go.html#7626906">tx</a></span><span class="op" id="7627295">,</span>&nbsp;<span class="op" id="7627297">&amp;</span><span class="ident" id="7627298"><a href="/math/big/rat_test.go.html#7627077">rx</a></span><span class="op" id="7627300">,</span>&nbsp;<span class="op" id="7627302">&amp;</span><span class="ident" id="7627303"><a href="/math/big/rat_test.go.html#7626906">tx</a></span><span class="op" id="7627305">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627317">}</span><br>
<span class="lineno"></span><span class="op" id="7627319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="7627322">func</span>&nbsp;<span class="ident" id="7627327">TestRatXMLEncoding</span><span class="op" id="7627345">(</span><span class="ident" id="7627346">t</span>&nbsp;<span class="op" id="7627348">*</span><span class="ident" id="7627349"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7627356">.</span><span class="ident" id="7627357">T</span><span class="op" id="7627358">)</span>&nbsp;<span class="op" id="7627360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627363">for</span>&nbsp;<span class="ident" id="7627367">_</span><span class="op" id="7627368">,</span>&nbsp;<span class="ident" id="7627370">num</span>&nbsp;<span class="op" id="7627374">:=</span>&nbsp;<span class="keyword" id="7627377">range</span>&nbsp;<span class="ident" id="7627383"><a href="/math/big/rat_test.go.html#7626276">ratNums</a></span>&nbsp;<span class="op" id="7627391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627395">for</span>&nbsp;<span class="ident" id="7627399">_</span><span class="op" id="7627400">,</span>&nbsp;<span class="ident" id="7627402">denom</span>&nbsp;<span class="op" id="7627408">:=</span>&nbsp;<span class="keyword" id="7627411">range</span>&nbsp;<span class="ident" id="7627417"><a href="/math/big/rat_test.go.html#7626615">ratDenoms</a></span>&nbsp;<span class="op" id="7627427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627432">var</span>&nbsp;<span class="ident" id="7627436">tx</span>&nbsp;<span class="ident" id="7627439"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627446"><a href="/math/big/rat_test.go.html#7627436">tx</a></span><span class="op" id="7627448">.</span><span class="ident" id="7627449">SetString</span><span class="op" id="7627458">(</span><span class="ident" id="7627459"><a href="/math/big/rat_test.go.html#7627370">num</a></span>&nbsp;<span class="op" id="7627463">+</span>&nbsp;<span class="string" id="7627465">&#34;/&#34;</span>&nbsp;<span class="op" id="7627469">+</span>&nbsp;<span class="ident" id="7627471"><a href="/math/big/rat_test.go.html#7627402">denom</a></span><span class="op" id="7627476">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627481">b</span><span class="op" id="7627482">,</span>&nbsp;<span class="ident" id="7627484">err</span>&nbsp;<span class="op" id="7627488">:=</span>&nbsp;<span class="ident" id="7627491"><a href="/math/big/rat_test.go.html#7615186">xml</a></span><span class="op" id="7627494">.</span><span class="ident" id="7627495">Marshal</span><span class="op" id="7627502">(</span><span class="op" id="7627503">&amp;</span><span class="ident" id="7627504"><a href="/math/big/rat_test.go.html#7627436">tx</a></span><span class="op" id="7627506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627511">if</span>&nbsp;<span class="ident" id="7627514"><a href="/math/big/rat_test.go.html#7627484">err</a></span>&nbsp;<span class="op" id="7627518">!=</span>&nbsp;<span class="ident" id="7627521">nil</span>&nbsp;<span class="op" id="7627525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627531"><a href="/math/big/rat_test.go.html#7627346">t</a></span><span class="op" id="7627532">.</span><span class="ident" id="7627533">Errorf</span><span class="op" id="7627539">(</span><span class="string" id="7627540">&#34;marshaling&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7627569">,</span>&nbsp;<span class="op" id="7627571">&amp;</span><span class="ident" id="7627572"><a href="/math/big/rat_test.go.html#7627436">tx</a></span><span class="op" id="7627574">,</span>&nbsp;<span class="ident" id="7627576"><a href="/math/big/rat_test.go.html#7627484">err</a></span><span class="op" id="7627579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627585">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627597">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627602">var</span>&nbsp;<span class="ident" id="7627606">rx</span>&nbsp;<span class="ident" id="7627609"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627616">if</span>&nbsp;<span class="ident" id="7627619">err</span>&nbsp;<span class="op" id="7627623">:=</span>&nbsp;<span class="ident" id="7627626"><a href="/math/big/rat_test.go.html#7615186">xml</a></span><span class="op" id="7627629">.</span><span class="ident" id="7627630">Unmarshal</span><span class="op" id="7627639">(</span><span class="ident" id="7627640"><a href="/math/big/rat_test.go.html#7627481">b</a></span><span class="op" id="7627641">,</span>&nbsp;<span class="op" id="7627643">&amp;</span><span class="ident" id="7627644"><a href="/math/big/rat_test.go.html#7627606">rx</a></span><span class="op" id="7627646">)</span><span class="op" id="7627647">;</span>&nbsp;<span class="ident" id="7627649"><a href="/math/big/rat_test.go.html#7627619">err</a></span>&nbsp;<span class="op" id="7627653">!=</span>&nbsp;<span class="ident" id="7627656">nil</span>&nbsp;<span class="op" id="7627660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627666"><a href="/math/big/rat_test.go.html#7627346">t</a></span><span class="op" id="7627667">.</span><span class="ident" id="7627668">Errorf</span><span class="op" id="7627674">(</span><span class="string" id="7627675">&#34;unmarshaling&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7627706">,</span>&nbsp;<span class="op" id="7627708">&amp;</span><span class="ident" id="7627709"><a href="/math/big/rat_test.go.html#7627436">tx</a></span><span class="op" id="7627711">,</span>&nbsp;<span class="ident" id="7627713"><a href="/math/big/rat_test.go.html#7627619">err</a></span><span class="op" id="7627716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627722">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627734">}</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627739">if</span>&nbsp;<span class="ident" id="7627742"><a href="/math/big/rat_test.go.html#7627606">rx</a></span><span class="op" id="7627744">.</span><span class="ident" id="7627745">Cmp</span><span class="op" id="7627748">(</span><span class="op" id="7627749">&amp;</span><span class="ident" id="7627750"><a href="/math/big/rat_test.go.html#7627436">tx</a></span><span class="op" id="7627752">)</span>&nbsp;<span class="op" id="7627754">!=</span>&nbsp;<span class="num" id="7627757">0</span>&nbsp;<span class="op" id="7627759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627765"><a href="/math/big/rat_test.go.html#7627346">t</a></span><span class="op" id="7627766">.</span><span class="ident" id="7627767">Errorf</span><span class="op" id="7627773">(</span><span class="string" id="7627774">&#34;XML&nbsp;encoding&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7627817">,</span>&nbsp;<span class="op" id="7627819">&amp;</span><span class="ident" id="7627820"><a href="/math/big/rat_test.go.html#7627436">tx</a></span><span class="op" id="7627822">,</span>&nbsp;<span class="op" id="7627824">&amp;</span><span class="ident" id="7627825"><a href="/math/big/rat_test.go.html#7627606">rx</a></span><span class="op" id="7627827">,</span>&nbsp;<span class="op" id="7627829">&amp;</span><span class="ident" id="7627830"><a href="/math/big/rat_test.go.html#7627436">tx</a></span><span class="op" id="7627832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7627844">}</span><br>
<span class="lineno">500</span><span class="op" id="7627846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7627849">func</span>&nbsp;<span class="ident" id="7627854">TestIssue2379</span><span class="op" id="7627867">(</span><span class="ident" id="7627868">t</span>&nbsp;<span class="op" id="7627870">*</span><span class="ident" id="7627871"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7627878">.</span><span class="ident" id="7627879">T</span><span class="op" id="7627880">)</span>&nbsp;<span class="op" id="7627882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7627885">//&nbsp;1)&nbsp;no&nbsp;aliasing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627904">q</span>&nbsp;<span class="op" id="7627906">:=</span>&nbsp;<span class="ident" id="7627909"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7627915">(</span><span class="num" id="7627916">3</span><span class="op" id="7627917">,</span>&nbsp;<span class="num" id="7627919">2</span><span class="op" id="7627920">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627923">x</span>&nbsp;<span class="op" id="7627925">:=</span>&nbsp;<span class="builtinfunc" id="7627928">new</span><span class="op" id="7627931">(</span><span class="ident" id="7627932"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7627935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627938"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7627939">.</span><span class="ident" id="7627940">SetFrac</span><span class="op" id="7627947">(</span><span class="ident" id="7627948"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7627954">(</span><span class="num" id="7627955">3</span><span class="op" id="7627956">)</span><span class="op" id="7627957">,</span>&nbsp;<span class="ident" id="7627959"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7627965">(</span><span class="num" id="7627966">2</span><span class="op" id="7627967">)</span><span class="op" id="7627968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7627971">if</span>&nbsp;<span class="ident" id="7627974"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7627975">.</span><span class="ident" id="7627976">Cmp</span><span class="op" id="7627979">(</span><span class="ident" id="7627980"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7627981">)</span>&nbsp;<span class="op" id="7627983">!=</span>&nbsp;<span class="num" id="7627986">0</span>&nbsp;<span class="op" id="7627988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7627992"><a href="/math/big/rat_test.go.html#7627868">t</a></span><span class="op" id="7627993">.</span><span class="ident" id="7627994">Errorf</span><span class="op" id="7628000">(</span><span class="string" id="7628001">&#34;1)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7628020">,</span>&nbsp;<span class="ident" id="7628022"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628023">,</span>&nbsp;<span class="ident" id="7628025"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628029">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7628033">//&nbsp;2)&nbsp;aliasing&nbsp;of&nbsp;numerator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628062"><a href="/math/big/rat_test.go.html#7627923">x</a></span>&nbsp;<span class="op" id="7628064">=</span>&nbsp;<span class="ident" id="7628066"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7628072">(</span><span class="num" id="7628073">2</span><span class="op" id="7628074">,</span>&nbsp;<span class="num" id="7628076">3</span><span class="op" id="7628077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628080"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628081">.</span><span class="ident" id="7628082">SetFrac</span><span class="op" id="7628089">(</span><span class="ident" id="7628090"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7628096">(</span><span class="num" id="7628097">3</span><span class="op" id="7628098">)</span><span class="op" id="7628099">,</span>&nbsp;<span class="ident" id="7628101"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628102">.</span><span class="ident" id="7628103">Num</span><span class="op" id="7628106">(</span><span class="op" id="7628107">)</span><span class="op" id="7628108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7628111">if</span>&nbsp;<span class="ident" id="7628114"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628115">.</span><span class="ident" id="7628116">Cmp</span><span class="op" id="7628119">(</span><span class="ident" id="7628120"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628121">)</span>&nbsp;<span class="op" id="7628123">!=</span>&nbsp;<span class="num" id="7628126">0</span>&nbsp;<span class="op" id="7628128">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628132"><a href="/math/big/rat_test.go.html#7627868">t</a></span><span class="op" id="7628133">.</span><span class="ident" id="7628134">Errorf</span><span class="op" id="7628140">(</span><span class="string" id="7628141">&#34;2)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7628160">,</span>&nbsp;<span class="ident" id="7628162"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628163">,</span>&nbsp;<span class="ident" id="7628165"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7628173">//&nbsp;3)&nbsp;aliasing&nbsp;of&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628204"><a href="/math/big/rat_test.go.html#7627923">x</a></span>&nbsp;<span class="op" id="7628206">=</span>&nbsp;<span class="ident" id="7628208"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7628214">(</span><span class="num" id="7628215">2</span><span class="op" id="7628216">,</span>&nbsp;<span class="num" id="7628218">3</span><span class="op" id="7628219">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628222"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628223">.</span><span class="ident" id="7628224">SetFrac</span><span class="op" id="7628231">(</span><span class="ident" id="7628232"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628233">.</span><span class="ident" id="7628234">Denom</span><span class="op" id="7628239">(</span><span class="op" id="7628240">)</span><span class="op" id="7628241">,</span>&nbsp;<span class="ident" id="7628243"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7628249">(</span><span class="num" id="7628250">2</span><span class="op" id="7628251">)</span><span class="op" id="7628252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7628255">if</span>&nbsp;<span class="ident" id="7628258"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628259">.</span><span class="ident" id="7628260">Cmp</span><span class="op" id="7628263">(</span><span class="ident" id="7628264"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628265">)</span>&nbsp;<span class="op" id="7628267">!=</span>&nbsp;<span class="num" id="7628270">0</span>&nbsp;<span class="op" id="7628272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628276"><a href="/math/big/rat_test.go.html#7627868">t</a></span><span class="op" id="7628277">.</span><span class="ident" id="7628278">Errorf</span><span class="op" id="7628284">(</span><span class="string" id="7628285">&#34;3)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7628304">,</span>&nbsp;<span class="ident" id="7628306"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628307">,</span>&nbsp;<span class="ident" id="7628309"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7628317">//&nbsp;4)&nbsp;aliasing&nbsp;of&nbsp;numerator&nbsp;and&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628362"><a href="/math/big/rat_test.go.html#7627923">x</a></span>&nbsp;<span class="op" id="7628364">=</span>&nbsp;<span class="ident" id="7628366"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7628372">(</span><span class="num" id="7628373">2</span><span class="op" id="7628374">,</span>&nbsp;<span class="num" id="7628376">3</span><span class="op" id="7628377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628380"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628381">.</span><span class="ident" id="7628382">SetFrac</span><span class="op" id="7628389">(</span><span class="ident" id="7628390"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628391">.</span><span class="ident" id="7628392">Denom</span><span class="op" id="7628397">(</span><span class="op" id="7628398">)</span><span class="op" id="7628399">,</span>&nbsp;<span class="ident" id="7628401"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628402">.</span><span class="ident" id="7628403">Num</span><span class="op" id="7628406">(</span><span class="op" id="7628407">)</span><span class="op" id="7628408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7628411">if</span>&nbsp;<span class="ident" id="7628414"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628415">.</span><span class="ident" id="7628416">Cmp</span><span class="op" id="7628419">(</span><span class="ident" id="7628420"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628421">)</span>&nbsp;<span class="op" id="7628423">!=</span>&nbsp;<span class="num" id="7628426">0</span>&nbsp;<span class="op" id="7628428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628432"><a href="/math/big/rat_test.go.html#7627868">t</a></span><span class="op" id="7628433">.</span><span class="ident" id="7628434">Errorf</span><span class="op" id="7628440">(</span><span class="string" id="7628441">&#34;4)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7628460">,</span>&nbsp;<span class="ident" id="7628462"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628463">,</span>&nbsp;<span class="ident" id="7628465"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628466">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7628473">//&nbsp;5)&nbsp;numerator&nbsp;and&nbsp;denominator&nbsp;are&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628519"><a href="/math/big/rat_test.go.html#7627904">q</a></span>&nbsp;<span class="op" id="7628521">=</span>&nbsp;<span class="ident" id="7628523"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7628529">(</span><span class="num" id="7628530">1</span><span class="op" id="7628531">,</span>&nbsp;<span class="num" id="7628533">1</span><span class="op" id="7628534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628537"><a href="/math/big/rat_test.go.html#7627923">x</a></span>&nbsp;<span class="op" id="7628539">=</span>&nbsp;<span class="builtinfunc" id="7628541">new</span><span class="op" id="7628544">(</span><span class="ident" id="7628545"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7628548">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628551">n</span>&nbsp;<span class="op" id="7628553">:=</span>&nbsp;<span class="ident" id="7628556"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7628562">(</span><span class="num" id="7628563">7</span><span class="op" id="7628564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628567"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628568">.</span><span class="ident" id="7628569">SetFrac</span><span class="op" id="7628576">(</span><span class="ident" id="7628577"><a href="/math/big/rat_test.go.html#7628551">n</a></span><span class="op" id="7628578">,</span>&nbsp;<span class="ident" id="7628580"><a href="/math/big/rat_test.go.html#7628551">n</a></span><span class="op" id="7628581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7628584">if</span>&nbsp;<span class="ident" id="7628587"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628588">.</span><span class="ident" id="7628589">Cmp</span><span class="op" id="7628592">(</span><span class="ident" id="7628593"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628594">)</span>&nbsp;<span class="op" id="7628596">!=</span>&nbsp;<span class="num" id="7628599">0</span>&nbsp;<span class="op" id="7628601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628605"><a href="/math/big/rat_test.go.html#7627868">t</a></span><span class="op" id="7628606">.</span><span class="ident" id="7628607">Errorf</span><span class="op" id="7628613">(</span><span class="string" id="7628614">&#34;5)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7628633">,</span>&nbsp;<span class="ident" id="7628635"><a href="/math/big/rat_test.go.html#7627923">x</a></span><span class="op" id="7628636">,</span>&nbsp;<span class="ident" id="7628638"><a href="/math/big/rat_test.go.html#7627904">q</a></span><span class="op" id="7628639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628642">}</span><br>
<span class="lineno">540</span><span class="op" id="7628644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7628647">func</span>&nbsp;<span class="ident" id="7628652">TestIssue3521</span><span class="op" id="7628665">(</span><span class="ident" id="7628666">t</span>&nbsp;<span class="op" id="7628668">*</span><span class="ident" id="7628669"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7628676">.</span><span class="ident" id="7628677">T</span><span class="op" id="7628678">)</span>&nbsp;<span class="op" id="7628680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628683">a</span>&nbsp;<span class="op" id="7628685">:=</span>&nbsp;<span class="builtinfunc" id="7628688">new</span><span class="op" id="7628691">(</span><span class="ident" id="7628692"><a href="/math/big/int.go.html#3732722">Int</a></span><span class="op" id="7628695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628698">b</span>&nbsp;<span class="op" id="7628700">:=</span>&nbsp;<span class="builtinfunc" id="7628703">new</span><span class="op" id="7628706">(</span><span class="ident" id="7628707"><a href="/math/big/int.go.html#3732722">Int</a></span><span class="op" id="7628710">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628713"><a href="/math/big/rat_test.go.html#7628683">a</a></span><span class="op" id="7628714">.</span><span class="ident" id="7628715">SetString</span><span class="op" id="7628724">(</span><span class="string" id="7628725">&#34;64375784358435883458348587&#34;</span><span class="op" id="7628753">,</span>&nbsp;<span class="num" id="7628755">0</span><span class="op" id="7628756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628759"><a href="/math/big/rat_test.go.html#7628698">b</a></span><span class="op" id="7628760">.</span><span class="ident" id="7628761">SetString</span><span class="op" id="7628770">(</span><span class="string" id="7628771">&#34;4789759874531&#34;</span><span class="op" id="7628786">,</span>&nbsp;<span class="num" id="7628788">0</span><span class="op" id="7628789">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7628793">//&nbsp;0)&nbsp;a&nbsp;raw&nbsp;zero&nbsp;value&nbsp;has&nbsp;1&nbsp;as&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628838">zero</span>&nbsp;<span class="op" id="7628843">:=</span>&nbsp;<span class="builtinfunc" id="7628846">new</span><span class="op" id="7628849">(</span><span class="ident" id="7628850"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7628853">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628856">one</span>&nbsp;<span class="op" id="7628860">:=</span>&nbsp;<span class="ident" id="7628863"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7628869">(</span><span class="num" id="7628870">1</span><span class="op" id="7628871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7628874">if</span>&nbsp;<span class="ident" id="7628877"><a href="/math/big/rat_test.go.html#7628838">zero</a></span><span class="op" id="7628881">.</span><span class="ident" id="7628882">Denom</span><span class="op" id="7628887">(</span><span class="op" id="7628888">)</span><span class="op" id="7628889">.</span><span class="ident" id="7628890">Cmp</span><span class="op" id="7628893">(</span><span class="ident" id="7628894"><a href="/math/big/rat_test.go.html#7628856">one</a></span><span class="op" id="7628897">)</span>&nbsp;<span class="op" id="7628899">!=</span>&nbsp;<span class="num" id="7628902">0</span>&nbsp;<span class="op" id="7628904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7628908"><a href="/math/big/rat_test.go.html#7628666">t</a></span><span class="op" id="7628909">.</span><span class="ident" id="7628910">Errorf</span><span class="op" id="7628916">(</span><span class="string" id="7628917">&#34;0)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7628936">,</span>&nbsp;<span class="ident" id="7628938"><a href="/math/big/rat_test.go.html#7628838">zero</a></span><span class="op" id="7628942">.</span><span class="ident" id="7628943">Denom</span><span class="op" id="7628948">(</span><span class="op" id="7628949">)</span><span class="op" id="7628950">,</span>&nbsp;<span class="ident" id="7628952"><a href="/math/big/rat_test.go.html#7628856">one</a></span><span class="op" id="7628955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7628958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7628962">//&nbsp;1a)&nbsp;a&nbsp;zero&nbsp;value&nbsp;remains&nbsp;zero&nbsp;independent&nbsp;of&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629023">x</span>&nbsp;<span class="op" id="7629025">:=</span>&nbsp;<span class="builtinfunc" id="7629028">new</span><span class="op" id="7629031">(</span><span class="ident" id="7629032"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7629035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629038"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629039">.</span><span class="ident" id="7629040">Denom</span><span class="op" id="7629045">(</span><span class="op" id="7629046">)</span><span class="op" id="7629047">.</span><span class="ident" id="7629048">Set</span><span class="op" id="7629051">(</span><span class="builtinfunc" id="7629052">new</span><span class="op" id="7629055">(</span><span class="ident" id="7629056"><a href="/math/big/int.go.html#3732722">Int</a></span><span class="op" id="7629059">)</span><span class="op" id="7629060">.</span><span class="ident" id="7629061">Neg</span><span class="op" id="7629064">(</span><span class="ident" id="7629065"><a href="/math/big/rat_test.go.html#7628698">b</a></span><span class="op" id="7629066">)</span><span class="op" id="7629067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7629070">if</span>&nbsp;<span class="ident" id="7629073"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629074">.</span><span class="ident" id="7629075">Cmp</span><span class="op" id="7629078">(</span><span class="ident" id="7629079"><a href="/math/big/rat_test.go.html#7628838">zero</a></span><span class="op" id="7629083">)</span>&nbsp;<span class="op" id="7629085">!=</span>&nbsp;<span class="num" id="7629088">0</span>&nbsp;<span class="op" id="7629090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629094"><a href="/math/big/rat_test.go.html#7628666">t</a></span><span class="op" id="7629095">.</span><span class="ident" id="7629096">Errorf</span><span class="op" id="7629102">(</span><span class="string" id="7629103">&#34;1a)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7629123">,</span>&nbsp;<span class="ident" id="7629125"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629126">,</span>&nbsp;<span class="ident" id="7629128"><a href="/math/big/rat_test.go.html#7628838">zero</a></span><span class="op" id="7629132">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7629135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7629139">//&nbsp;1b)&nbsp;a&nbsp;zero&nbsp;value&nbsp;may&nbsp;have&nbsp;a&nbsp;denominator&nbsp;!=&nbsp;0&nbsp;and&nbsp;!=&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629197"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629198">.</span><span class="ident" id="7629199">Num</span><span class="op" id="7629202">(</span><span class="op" id="7629203">)</span><span class="op" id="7629204">.</span><span class="ident" id="7629205">Set</span><span class="op" id="7629208">(</span><span class="ident" id="7629209"><a href="/math/big/rat_test.go.html#7628683">a</a></span><span class="op" id="7629210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629213">qab</span>&nbsp;<span class="op" id="7629217">:=</span>&nbsp;<span class="builtinfunc" id="7629220">new</span><span class="op" id="7629223">(</span><span class="ident" id="7629224"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7629227">)</span><span class="op" id="7629228">.</span><span class="ident" id="7629229">SetFrac</span><span class="op" id="7629236">(</span><span class="ident" id="7629237"><a href="/math/big/rat_test.go.html#7628683">a</a></span><span class="op" id="7629238">,</span>&nbsp;<span class="ident" id="7629240"><a href="/math/big/rat_test.go.html#7628698">b</a></span><span class="op" id="7629241">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7629244">if</span>&nbsp;<span class="ident" id="7629247"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629248">.</span><span class="ident" id="7629249">Cmp</span><span class="op" id="7629252">(</span><span class="ident" id="7629253"><a href="/math/big/rat_test.go.html#7629213">qab</a></span><span class="op" id="7629256">)</span>&nbsp;<span class="op" id="7629258">!=</span>&nbsp;<span class="num" id="7629261">0</span>&nbsp;<span class="op" id="7629263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629267"><a href="/math/big/rat_test.go.html#7628666">t</a></span><span class="op" id="7629268">.</span><span class="ident" id="7629269">Errorf</span><span class="op" id="7629275">(</span><span class="string" id="7629276">&#34;1b)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7629296">,</span>&nbsp;<span class="ident" id="7629298"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629299">,</span>&nbsp;<span class="ident" id="7629301"><a href="/math/big/rat_test.go.html#7629213">qab</a></span><span class="op" id="7629304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7629307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7629311">//&nbsp;2a)&nbsp;an&nbsp;integral&nbsp;value&nbsp;becomes&nbsp;a&nbsp;fraction&nbsp;depending&nbsp;on&nbsp;denominator</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629381"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629382">.</span><span class="ident" id="7629383">SetFrac64</span><span class="op" id="7629392">(</span><span class="num" id="7629393">10</span><span class="op" id="7629395">,</span>&nbsp;<span class="num" id="7629397">2</span><span class="op" id="7629398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629401"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629402">.</span><span class="ident" id="7629403">Denom</span><span class="op" id="7629408">(</span><span class="op" id="7629409">)</span><span class="op" id="7629410">.</span><span class="ident" id="7629411">SetInt64</span><span class="op" id="7629419">(</span><span class="num" id="7629420">3</span><span class="op" id="7629421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629424">q53</span>&nbsp;<span class="op" id="7629428">:=</span>&nbsp;<span class="ident" id="7629431"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7629437">(</span><span class="num" id="7629438">5</span><span class="op" id="7629439">,</span>&nbsp;<span class="num" id="7629441">3</span><span class="op" id="7629442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7629445">if</span>&nbsp;<span class="ident" id="7629448"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629449">.</span><span class="ident" id="7629450">Cmp</span><span class="op" id="7629453">(</span><span class="ident" id="7629454"><a href="/math/big/rat_test.go.html#7629424">q53</a></span><span class="op" id="7629457">)</span>&nbsp;<span class="op" id="7629459">!=</span>&nbsp;<span class="num" id="7629462">0</span>&nbsp;<span class="op" id="7629464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629468"><a href="/math/big/rat_test.go.html#7628666">t</a></span><span class="op" id="7629469">.</span><span class="ident" id="7629470">Errorf</span><span class="op" id="7629476">(</span><span class="string" id="7629477">&#34;2a)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7629497">,</span>&nbsp;<span class="ident" id="7629499"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629500">,</span>&nbsp;<span class="ident" id="7629502"><a href="/math/big/rat_test.go.html#7629424">q53</a></span><span class="op" id="7629505">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7629508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7629512">//&nbsp;2b)&nbsp;an&nbsp;integral&nbsp;value&nbsp;becomes&nbsp;a&nbsp;fraction&nbsp;depending&nbsp;on&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629582"><a href="/math/big/rat_test.go.html#7629023">x</a></span>&nbsp;<span class="op" id="7629584">=</span>&nbsp;<span class="ident" id="7629586"><a href="/math/big/rat.go.html#3793251">NewRat</a></span><span class="op" id="7629592">(</span><span class="num" id="7629593">10</span><span class="op" id="7629595">,</span>&nbsp;<span class="num" id="7629597">2</span><span class="op" id="7629598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629601"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629602">.</span><span class="ident" id="7629603">Denom</span><span class="op" id="7629608">(</span><span class="op" id="7629609">)</span><span class="op" id="7629610">.</span><span class="ident" id="7629611">SetInt64</span><span class="op" id="7629619">(</span><span class="num" id="7629620">3</span><span class="op" id="7629621">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7629624">if</span>&nbsp;<span class="ident" id="7629627"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629628">.</span><span class="ident" id="7629629">Cmp</span><span class="op" id="7629632">(</span><span class="ident" id="7629633"><a href="/math/big/rat_test.go.html#7629424">q53</a></span><span class="op" id="7629636">)</span>&nbsp;<span class="op" id="7629638">!=</span>&nbsp;<span class="num" id="7629641">0</span>&nbsp;<span class="op" id="7629643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629647"><a href="/math/big/rat_test.go.html#7628666">t</a></span><span class="op" id="7629648">.</span><span class="ident" id="7629649">Errorf</span><span class="op" id="7629655">(</span><span class="string" id="7629656">&#34;2b)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7629676">,</span>&nbsp;<span class="ident" id="7629678"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629679">,</span>&nbsp;<span class="ident" id="7629681"><a href="/math/big/rat_test.go.html#7629424">q53</a></span><span class="op" id="7629684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7629687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7629691">//&nbsp;3)&nbsp;changing&nbsp;the&nbsp;numerator/denominator&nbsp;of&nbsp;a&nbsp;Rat&nbsp;changes&nbsp;the&nbsp;Rat</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629758"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629759">.</span><span class="ident" id="7629760">SetFrac</span><span class="op" id="7629767">(</span><span class="ident" id="7629768"><a href="/math/big/rat_test.go.html#7628683">a</a></span><span class="op" id="7629769">,</span>&nbsp;<span class="ident" id="7629771"><a href="/math/big/rat_test.go.html#7628698">b</a></span><span class="op" id="7629772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629775"><a href="/math/big/rat_test.go.html#7628683">a</a></span>&nbsp;<span class="op" id="7629777">=</span>&nbsp;<span class="ident" id="7629779"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629780">.</span><span class="ident" id="7629781">Num</span><span class="op" id="7629784">(</span><span class="op" id="7629785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629788"><a href="/math/big/rat_test.go.html#7628698">b</a></span>&nbsp;<span class="op" id="7629790">=</span>&nbsp;<span class="ident" id="7629792"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629793">.</span><span class="ident" id="7629794">Denom</span><span class="op" id="7629799">(</span><span class="op" id="7629800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629803"><a href="/math/big/rat_test.go.html#7628683">a</a></span><span class="op" id="7629804">.</span><span class="ident" id="7629805">SetInt64</span><span class="op" id="7629813">(</span><span class="num" id="7629814">5</span><span class="op" id="7629815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629818"><a href="/math/big/rat_test.go.html#7628698">b</a></span><span class="op" id="7629819">.</span><span class="ident" id="7629820">SetInt64</span><span class="op" id="7629828">(</span><span class="num" id="7629829">3</span><span class="op" id="7629830">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7629833">if</span>&nbsp;<span class="ident" id="7629836"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629837">.</span><span class="ident" id="7629838">Cmp</span><span class="op" id="7629841">(</span><span class="ident" id="7629842"><a href="/math/big/rat_test.go.html#7629424">q53</a></span><span class="op" id="7629845">)</span>&nbsp;<span class="op" id="7629847">!=</span>&nbsp;<span class="num" id="7629850">0</span>&nbsp;<span class="op" id="7629852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7629856"><a href="/math/big/rat_test.go.html#7628666">t</a></span><span class="op" id="7629857">.</span><span class="ident" id="7629858">Errorf</span><span class="op" id="7629864">(</span><span class="string" id="7629865">&#34;3)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7629884">,</span>&nbsp;<span class="ident" id="7629886"><a href="/math/big/rat_test.go.html#7629023">x</a></span><span class="op" id="7629887">,</span>&nbsp;<span class="ident" id="7629889"><a href="/math/big/rat_test.go.html#7629424">q53</a></span><span class="op" id="7629892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7629895">}</span><br>
<span class="lineno"></span><span class="op" id="7629897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span><span class="comment" id="7629900">//&nbsp;Test&nbsp;inputs&nbsp;to&nbsp;Rat.SetString.&nbsp;&nbsp;The&nbsp;prefix&nbsp;&#34;long:&#34;&nbsp;causes&nbsp;the&nbsp;test</span><br>
<span class="lineno"></span><span class="comment" id="7629969">//&nbsp;to&nbsp;be&nbsp;skipped&nbsp;in&nbsp;--test.short&nbsp;mode.&nbsp;&nbsp;(The&nbsp;threshold&nbsp;is&nbsp;about&nbsp;500us.)</span><br>
<span class="lineno"></span><span class="keyword" id="7630041">var</span>&nbsp;<span class="ident" id="7630045">float64inputs</span>&nbsp;<span class="op" id="7630059">=</span>&nbsp;<span class="op" id="7630061">[</span><span class="op" id="7630062">]</span><span class="builtintype" id="7630063">string</span><span class="op" id="7630069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7630072">//&nbsp;Constants&nbsp;plundered&nbsp;from&nbsp;strconv/testfp.txt.</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7630122">//&nbsp;Table&nbsp;1:&nbsp;Stress&nbsp;Inputs&nbsp;for&nbsp;Conversion&nbsp;to&nbsp;53-bit&nbsp;Binary,&nbsp;&lt;&nbsp;1/2&nbsp;ULP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630192">&#34;5e+125&#34;</span><span class="op" id="7630200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630203">&#34;69e+267&#34;</span><span class="op" id="7630212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630215">&#34;999e-026&#34;</span><span class="op" id="7630225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630228">&#34;7861e-034&#34;</span><span class="op" id="7630239">,</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630242">&#34;75569e-254&#34;</span><span class="op" id="7630254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630257">&#34;928609e-261&#34;</span><span class="op" id="7630270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630273">&#34;9210917e+080&#34;</span><span class="op" id="7630287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630290">&#34;84863171e+114&#34;</span><span class="op" id="7630305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630308">&#34;653777767e+273&#34;</span><span class="op" id="7630324">,</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630327">&#34;5232604057e-298&#34;</span><span class="op" id="7630344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630347">&#34;27235667517e-109&#34;</span><span class="op" id="7630365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630368">&#34;653532977297e-123&#34;</span><span class="op" id="7630387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630390">&#34;3142213164987e-294&#34;</span><span class="op" id="7630410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630413">&#34;46202199371337e-072&#34;</span><span class="op" id="7630434">,</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630437">&#34;231010996856685e-073&#34;</span><span class="op" id="7630459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630462">&#34;9324754620109615e+212&#34;</span><span class="op" id="7630485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630488">&#34;78459735791271921e+049&#34;</span><span class="op" id="7630512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630515">&#34;272104041512242479e+200&#34;</span><span class="op" id="7630540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630543">&#34;6802601037806061975e+198&#34;</span><span class="op" id="7630569">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630572">&#34;20505426358836677347e-221&#34;</span><span class="op" id="7630599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630602">&#34;836168422905420598437e-234&#34;</span><span class="op" id="7630630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630633">&#34;4891559871276714924261e+222&#34;</span><span class="op" id="7630662">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7630666">//&nbsp;Table&nbsp;2:&nbsp;Stress&nbsp;Inputs&nbsp;for&nbsp;Conversion&nbsp;to&nbsp;53-bit&nbsp;Binary,&nbsp;&gt;&nbsp;1/2&nbsp;ULP</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630736">&#34;9e-265&#34;</span><span class="op" id="7630744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630747">&#34;85e-037&#34;</span><span class="op" id="7630756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630759">&#34;623e+100&#34;</span><span class="op" id="7630769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630772">&#34;3571e+263&#34;</span><span class="op" id="7630783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630786">&#34;81661e+153&#34;</span><span class="op" id="7630798">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630801">&#34;920657e-023&#34;</span><span class="op" id="7630814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630817">&#34;4603285e-024&#34;</span><span class="op" id="7630831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630834">&#34;87575437e-309&#34;</span><span class="op" id="7630849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630852">&#34;245540327e+122&#34;</span><span class="op" id="7630868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630871">&#34;6138508175e+120&#34;</span><span class="op" id="7630888">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630891">&#34;83356057653e+193&#34;</span><span class="op" id="7630909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630912">&#34;619534293513e+124&#34;</span><span class="op" id="7630931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630934">&#34;2335141086879e+218&#34;</span><span class="op" id="7630954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630957">&#34;36167929443327e-159&#34;</span><span class="op" id="7630978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7630981">&#34;609610927149051e-255&#34;</span><span class="op" id="7631003">,</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631006">&#34;3743626360493413e-165&#34;</span><span class="op" id="7631029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631032">&#34;94080055902682397e-242&#34;</span><span class="op" id="7631056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631059">&#34;899810892172646163e+283&#34;</span><span class="op" id="7631084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631087">&#34;7120190517612959703e+120&#34;</span><span class="op" id="7631113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631116">&#34;25188282901709339043e-252&#34;</span><span class="op" id="7631143">,</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631146">&#34;308984926168550152811e-052&#34;</span><span class="op" id="7631174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631177">&#34;6372891218502368041059e+064&#34;</span><span class="op" id="7631206">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7631210">//&nbsp;Table&nbsp;14:&nbsp;Stress&nbsp;Inputs&nbsp;for&nbsp;Conversion&nbsp;to&nbsp;24-bit&nbsp;Binary,&nbsp;&lt;1/2&nbsp;ULP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631280">&#34;5e-20&#34;</span><span class="op" id="7631287">,</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631290">&#34;67e+14&#34;</span><span class="op" id="7631298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631301">&#34;985e+15&#34;</span><span class="op" id="7631310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631313">&#34;7693e-42&#34;</span><span class="op" id="7631323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631326">&#34;55895e-16&#34;</span><span class="op" id="7631337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631340">&#34;996622e-44&#34;</span><span class="op" id="7631352">,</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631355">&#34;7038531e-32&#34;</span><span class="op" id="7631368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631371">&#34;60419369e-46&#34;</span><span class="op" id="7631385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631388">&#34;702990899e-20&#34;</span><span class="op" id="7631403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631406">&#34;6930161142e-48&#34;</span><span class="op" id="7631422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631425">&#34;25933168707e+13&#34;</span><span class="op" id="7631442">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631445">&#34;596428896559e+20&#34;</span><span class="op" id="7631463">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7631467">//&nbsp;Table&nbsp;15:&nbsp;Stress&nbsp;Inputs&nbsp;for&nbsp;Conversion&nbsp;to&nbsp;24-bit&nbsp;Binary,&nbsp;&gt;1/2&nbsp;ULP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631537">&#34;3e-23&#34;</span><span class="op" id="7631544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631547">&#34;57e+18&#34;</span><span class="op" id="7631555">,</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631558">&#34;789e-35&#34;</span><span class="op" id="7631567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631570">&#34;2539e-18&#34;</span><span class="op" id="7631580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631583">&#34;76173e+28&#34;</span><span class="op" id="7631594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631597">&#34;887745e-11&#34;</span><span class="op" id="7631609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631612">&#34;5382571e-37&#34;</span><span class="op" id="7631625">,</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631628">&#34;82381273e-35&#34;</span><span class="op" id="7631642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631645">&#34;750486563e-38&#34;</span><span class="op" id="7631660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631663">&#34;3752432815e-39&#34;</span><span class="op" id="7631679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631682">&#34;75224575729e-45&#34;</span><span class="op" id="7631699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631702">&#34;459926601011e+15&#34;</span><span class="op" id="7631720">,</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7631724">//&nbsp;Constants&nbsp;plundered&nbsp;from&nbsp;strconv/atof_test.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631776">&#34;0&#34;</span><span class="op" id="7631779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631782">&#34;1&#34;</span><span class="op" id="7631785">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631788">&#34;+1&#34;</span><span class="op" id="7631792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631795">&#34;1e23&#34;</span><span class="op" id="7631801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631804">&#34;1E23&#34;</span><span class="op" id="7631810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631813">&#34;100000000000000000000000&#34;</span><span class="op" id="7631839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631842">&#34;1e-100&#34;</span><span class="op" id="7631850">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631853">&#34;123456700&#34;</span><span class="op" id="7631864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631867">&#34;99999999999999974834176&#34;</span><span class="op" id="7631892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631895">&#34;100000000000000000000001&#34;</span><span class="op" id="7631921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631924">&#34;100000000000000008388608&#34;</span><span class="op" id="7631950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631953">&#34;100000000000000016777215&#34;</span><span class="op" id="7631979">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631982">&#34;100000000000000016777216&#34;</span><span class="op" id="7632008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632011">&#34;-1&#34;</span><span class="op" id="7632015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632018">&#34;-0.1&#34;</span><span class="op" id="7632024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632027">&#34;-0&#34;</span><span class="op" id="7632031">,</span>&nbsp;<span class="comment" id="7632033">//&nbsp;NB:&nbsp;exception&nbsp;made&nbsp;for&nbsp;this&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632071">&#34;1e-20&#34;</span><span class="op" id="7632078">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632081">&#34;625e-3&#34;</span><span class="op" id="7632089">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632093">//&nbsp;largest&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632113">&#34;1.7976931348623157e308&#34;</span><span class="op" id="7632137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632140">&#34;-1.7976931348623157e308&#34;</span><span class="op" id="7632165">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632168">//&nbsp;next&nbsp;float64&nbsp;-&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632197">&#34;1.7976931348623159e308&#34;</span><span class="op" id="7632221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632224">&#34;-1.7976931348623159e308&#34;</span><span class="op" id="7632249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632252">//&nbsp;the&nbsp;border&nbsp;is&nbsp;...158079</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632280">//&nbsp;borderline&nbsp;-&nbsp;okay</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632302">&#34;1.7976931348623158e308&#34;</span><span class="op" id="7632326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632329">&#34;-1.7976931348623158e308&#34;</span><span class="op" id="7632354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632357">//&nbsp;borderline&nbsp;-&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632384">&#34;1.797693134862315808e308&#34;</span><span class="op" id="7632410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632413">&#34;-1.797693134862315808e308&#34;</span><span class="op" id="7632440">,</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632444">//&nbsp;a&nbsp;little&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632467">&#34;1e308&#34;</span><span class="op" id="7632474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632477">&#34;2e308&#34;</span><span class="op" id="7632484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632487">&#34;1e309&#34;</span><span class="op" id="7632494">,</span><br>
<span class="lineno">715</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632498">//&nbsp;way&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632516">&#34;1e310&#34;</span><span class="op" id="7632523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632526">&#34;-1e310&#34;</span><span class="op" id="7632534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632537">&#34;1e400&#34;</span><span class="op" id="7632544">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632547">&#34;-1e400&#34;</span><span class="op" id="7632555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632558">&#34;long:1e400000&#34;</span><span class="op" id="7632573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632576">&#34;long:-1e400000&#34;</span><span class="op" id="7632592">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632596">//&nbsp;denormalized</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632613">&#34;1e-305&#34;</span><span class="op" id="7632621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632624">&#34;1e-306&#34;</span><span class="op" id="7632632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632635">&#34;1e-307&#34;</span><span class="op" id="7632643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632646">&#34;1e-308&#34;</span><span class="op" id="7632654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632657">&#34;1e-309&#34;</span><span class="op" id="7632665">,</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632668">&#34;1e-310&#34;</span><span class="op" id="7632676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632679">&#34;1e-322&#34;</span><span class="op" id="7632687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632690">//&nbsp;smallest&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632712">&#34;5e-324&#34;</span><span class="op" id="7632720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632723">&#34;4e-324&#34;</span><span class="op" id="7632731">,</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632734">&#34;3e-324&#34;</span><span class="op" id="7632742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632745">//&nbsp;too&nbsp;small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632759">&#34;2e-324&#34;</span><span class="op" id="7632767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632770">//&nbsp;way&nbsp;too&nbsp;small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632788">&#34;1e-350&#34;</span><span class="op" id="7632796">,</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632799">&#34;long:1e-400000&#34;</span><span class="op" id="7632815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632818">//&nbsp;way&nbsp;too&nbsp;small,&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632846">&#34;-1e-350&#34;</span><span class="op" id="7632855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7632858">&#34;long:-1e-400000&#34;</span><span class="op" id="7632875">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632879">//&nbsp;try&nbsp;to&nbsp;overflow&nbsp;exponent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632908">//&nbsp;[Disabled:&nbsp;too&nbsp;slow&nbsp;and&nbsp;memory-hungry&nbsp;with&nbsp;rationals.]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632967">//&nbsp;&#34;1e-4294967296&#34;,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7632988">//&nbsp;&#34;1e+4294967296&#34;,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633009">//&nbsp;&#34;1e-18446744073709551616&#34;,</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633040">//&nbsp;&#34;1e+18446744073709551616&#34;,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633072">//&nbsp;http://www.exploringbinary.com/java-hangs-when-converting-2-2250738585072012e-308/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633159">&#34;2.2250738585072012e-308&#34;</span><span class="op" id="7633184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633187">//&nbsp;http://www.exploringbinary.com/php-hangs-on-numeric-value-2-2250738585072011e-308/</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633274">&#34;2.2250738585072011e-308&#34;</span><span class="op" id="7633299">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633303">//&nbsp;A&nbsp;very&nbsp;large&nbsp;number&nbsp;(initially&nbsp;wrongly&nbsp;parsed&nbsp;by&nbsp;the&nbsp;fast&nbsp;algorithm).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633377">&#34;4.630813248087435e+307&#34;</span><span class="op" id="7633401">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633405">//&nbsp;A&nbsp;different&nbsp;kind&nbsp;of&nbsp;very&nbsp;large&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633448">&#34;22.222222222222222&#34;</span><span class="op" id="7633468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633471">&#34;long:2.&#34;</span>&nbsp;<span class="op" id="7633481">+</span>&nbsp;<span class="ident" id="7633483"><a href="/math/big/rat_test.go.html#7615228">strings</a></span><span class="op" id="7633490">.</span><span class="ident" id="7633491">Repeat</span><span class="op" id="7633497">(</span><span class="string" id="7633498">&#34;2&#34;</span><span class="op" id="7633501">,</span>&nbsp;<span class="num" id="7633503">4000</span><span class="op" id="7633507">)</span>&nbsp;<span class="op" id="7633509">+</span>&nbsp;<span class="string" id="7633511">&#34;e+1&#34;</span><span class="op" id="7633516">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633520">//&nbsp;Exactly&nbsp;halfway&nbsp;between&nbsp;1&nbsp;and&nbsp;math.Nextafter(1,&nbsp;2).</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633576">//&nbsp;Round&nbsp;to&nbsp;even&nbsp;(down).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633602">&#34;1.00000000000000011102230246251565404236316680908203125&#34;</span><span class="op" id="7633659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633662">//&nbsp;Slightly&nbsp;lower;&nbsp;still&nbsp;round&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633700">&#34;1.00000000000000011102230246251565404236316680908203124&#34;</span><span class="op" id="7633757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633760">//&nbsp;Slightly&nbsp;higher;&nbsp;round&nbsp;up.</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633791">&#34;1.00000000000000011102230246251565404236316680908203126&#34;</span><span class="op" id="7633848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7633851">//&nbsp;Slightly&nbsp;higher,&nbsp;but&nbsp;you&nbsp;have&nbsp;to&nbsp;read&nbsp;all&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7633917">&#34;long:1.00000000000000011102230246251565404236316680908203125&#34;</span>&nbsp;<span class="op" id="7633980">+</span>&nbsp;<span class="ident" id="7633982"><a href="/math/big/rat_test.go.html#7615228">strings</a></span><span class="op" id="7633989">.</span><span class="ident" id="7633990">Repeat</span><span class="op" id="7633996">(</span><span class="string" id="7633997">&#34;0&#34;</span><span class="op" id="7634000">,</span>&nbsp;<span class="num" id="7634002">10000</span><span class="op" id="7634007">)</span>&nbsp;<span class="op" id="7634009">+</span>&nbsp;<span class="string" id="7634011">&#34;1&#34;</span><span class="op" id="7634014">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7634018">//&nbsp;Smallest&nbsp;denormal,&nbsp;2^(-1022-52)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634054">&#34;4.940656458412465441765687928682213723651e-324&#34;</span><span class="op" id="7634102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7634105">//&nbsp;Half&nbsp;of&nbsp;smallest&nbsp;denormal,&nbsp;2^(-1022-53)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634149">&#34;2.470328229206232720882843964341106861825e-324&#34;</span><span class="op" id="7634197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7634200">//&nbsp;A&nbsp;little&nbsp;more&nbsp;than&nbsp;the&nbsp;exact&nbsp;half&nbsp;of&nbsp;smallest&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7634259">//&nbsp;2^-1075&nbsp;+&nbsp;2^-1100.&nbsp;&nbsp;(Rounds&nbsp;to&nbsp;1p-1074.)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634304">&#34;2.470328302827751011111470718709768633275e-324&#34;</span><span class="op" id="7634352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7634355">//&nbsp;The&nbsp;exact&nbsp;halfway&nbsp;between&nbsp;smallest&nbsp;normal&nbsp;and&nbsp;largest&nbsp;denormal:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7634423">//&nbsp;2^-1022&nbsp;-&nbsp;2^-1075.&nbsp;&nbsp;(Rounds&nbsp;to&nbsp;2^-1022.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634468">&#34;2.225073858507201136057409796709131975935e-308&#34;</span><span class="op" id="7634516">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634520">&#34;1152921504606846975&#34;</span><span class="op" id="7634541">,</span>&nbsp;&nbsp;<span class="comment" id="7634544">//&nbsp;&nbsp;&nbsp;1&lt;&lt;60&nbsp;-&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634560">&#34;-1152921504606846975&#34;</span><span class="op" id="7634582">,</span>&nbsp;<span class="comment" id="7634584">//&nbsp;-(1&lt;&lt;60&nbsp;-&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634601">&#34;1152921504606846977&#34;</span><span class="op" id="7634622">,</span>&nbsp;&nbsp;<span class="comment" id="7634625">//&nbsp;&nbsp;&nbsp;1&lt;&lt;60&nbsp;+&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634641">&#34;-1152921504606846977&#34;</span><span class="op" id="7634663">,</span>&nbsp;<span class="comment" id="7634665">//&nbsp;-(1&lt;&lt;60&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7634683">&#34;1/3&#34;</span><span class="op" id="7634688">,</span><br>
<span class="lineno"></span><span class="op" id="7634690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7634693">//&nbsp;isFinite&nbsp;reports&nbsp;whether&nbsp;f&nbsp;represents&nbsp;a&nbsp;finite&nbsp;rational&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="7634759">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;!math.IsNan(f)&nbsp;&amp;&amp;&nbsp;!math.IsInf(f,&nbsp;0).</span><br>
<span class="lineno">795</span><span class="keyword" id="7634819">func</span>&nbsp;<span class="ident" id="7634824">isFinite</span><span class="op" id="7634832">(</span><span class="ident" id="7634833">f</span>&nbsp;<span class="builtintype" id="7634835">float64</span><span class="op" id="7634842">)</span>&nbsp;<span class="builtintype" id="7634844">bool</span>&nbsp;<span class="op" id="7634849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7634852">return</span>&nbsp;<span class="ident" id="7634859"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7634863">.</span><span class="ident" id="7634864">Abs</span><span class="op" id="7634867">(</span><span class="ident" id="7634868"><a href="/math/big/rat_test.go.html#7634833">f</a></span><span class="op" id="7634869">)</span>&nbsp;<span class="op" id="7634871">&lt;=</span>&nbsp;<span class="ident" id="7634874"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7634878">.</span><span class="ident" id="7634879">MaxFloat64</span><br>
<span class="lineno"></span><span class="op" id="7634890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7634893">func</span>&nbsp;<span class="ident" id="7634898">TestFloat32SpecialCases</span><span class="op" id="7634921">(</span><span class="ident" id="7634922">t</span>&nbsp;<span class="op" id="7634924">*</span><span class="ident" id="7634925"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7634932">.</span><span class="ident" id="7634933">T</span><span class="op" id="7634934">)</span>&nbsp;<span class="op" id="7634936">{</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7634939">for</span>&nbsp;<span class="ident" id="7634943">_</span><span class="op" id="7634944">,</span>&nbsp;<span class="ident" id="7634946">input</span>&nbsp;<span class="op" id="7634952">:=</span>&nbsp;<span class="keyword" id="7634955">range</span>&nbsp;<span class="ident" id="7634961"><a href="/math/big/rat_test.go.html#7630045">float64inputs</a></span>&nbsp;<span class="op" id="7634975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7634979">if</span>&nbsp;<span class="ident" id="7634982"><a href="/math/big/rat_test.go.html#7615228">strings</a></span><span class="op" id="7634989">.</span><span class="ident" id="7634990">HasPrefix</span><span class="op" id="7634999">(</span><span class="ident" id="7635000"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7635005">,</span>&nbsp;<span class="string" id="7635007">&#34;long:&#34;</span><span class="op" id="7635014">)</span>&nbsp;<span class="op" id="7635016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635021">if</span>&nbsp;<span class="ident" id="7635024"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7635031">.</span><span class="ident" id="7635032">Short</span><span class="op" id="7635037">(</span><span class="op" id="7635038">)</span>&nbsp;<span class="op" id="7635040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635046">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635058">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635063"><a href="/math/big/rat_test.go.html#7634946">input</a></span>&nbsp;<span class="op" id="7635069">=</span>&nbsp;<span class="ident" id="7635071"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7635076">[</span><span class="builtinfunc" id="7635077">len</span><span class="op" id="7635080">(</span><span class="string" id="7635081">&#34;long:&#34;</span><span class="op" id="7635088">)</span><span class="op" id="7635089">:</span><span class="op" id="7635090">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635099">r</span><span class="op" id="7635100">,</span>&nbsp;<span class="ident" id="7635102">ok</span>&nbsp;<span class="op" id="7635105">:=</span>&nbsp;<span class="builtinfunc" id="7635108">new</span><span class="op" id="7635111">(</span><span class="ident" id="7635112"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7635115">)</span><span class="op" id="7635116">.</span><span class="ident" id="7635117">SetString</span><span class="op" id="7635126">(</span><span class="ident" id="7635127"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7635132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635136">if</span>&nbsp;<span class="op" id="7635139">!</span><span class="ident" id="7635140"><a href="/math/big/rat_test.go.html#7635102">ok</a></span>&nbsp;<span class="op" id="7635143">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635148"><a href="/math/big/rat_test.go.html#7634922">t</a></span><span class="op" id="7635149">.</span><span class="ident" id="7635150">Errorf</span><span class="op" id="7635156">(</span><span class="string" id="7635157">&#34;Rat.SetString(%q)&nbsp;failed&#34;</span><span class="op" id="7635183">,</span>&nbsp;<span class="ident" id="7635185"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7635190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635195">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635210">f</span><span class="op" id="7635211">,</span>&nbsp;<span class="ident" id="7635213">exact</span>&nbsp;<span class="op" id="7635219">:=</span>&nbsp;<span class="ident" id="7635222"><a href="/math/big/rat_test.go.html#7635099">r</a></span><span class="op" id="7635223">.</span><span class="ident" id="7635224">Float32</span><span class="op" id="7635231">(</span><span class="op" id="7635232">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635237">//&nbsp;1.&nbsp;Check&nbsp;string&nbsp;-&gt;&nbsp;Rat&nbsp;-&gt;&nbsp;float32&nbsp;conversions&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635292">//&nbsp;consistent&nbsp;with&nbsp;strconv.ParseFloat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635333">//&nbsp;Skip&nbsp;this&nbsp;check&nbsp;if&nbsp;the&nbsp;input&nbsp;uses&nbsp;&#34;a/b&#34;&nbsp;rational&nbsp;syntax.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635395">if</span>&nbsp;<span class="op" id="7635398">!</span><span class="ident" id="7635399"><a href="/math/big/rat_test.go.html#7615228">strings</a></span><span class="op" id="7635406">.</span><span class="ident" id="7635407">Contains</span><span class="op" id="7635415">(</span><span class="ident" id="7635416"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7635421">,</span>&nbsp;<span class="string" id="7635423">&#34;/&#34;</span><span class="op" id="7635426">)</span>&nbsp;<span class="op" id="7635428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635433">e64</span><span class="op" id="7635436">,</span>&nbsp;<span class="ident" id="7635438">_</span>&nbsp;<span class="op" id="7635440">:=</span>&nbsp;<span class="ident" id="7635443"><a href="/math/big/rat_test.go.html#7615217">strconv</a></span><span class="op" id="7635450">.</span><span class="ident" id="7635451">ParseFloat</span><span class="op" id="7635461">(</span><span class="ident" id="7635462"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7635467">,</span>&nbsp;<span class="num" id="7635469">32</span><span class="op" id="7635471">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635476">e</span>&nbsp;<span class="op" id="7635478">:=</span>&nbsp;<span class="builtintype" id="7635481">float32</span><span class="op" id="7635488">(</span><span class="ident" id="7635489"><a href="/math/big/rat_test.go.html#7635433">e64</a></span><span class="op" id="7635492">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635498">//&nbsp;Careful:&nbsp;negative&nbsp;Rats&nbsp;too&nbsp;small&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635541">//&nbsp;float64&nbsp;become&nbsp;-0,&nbsp;but&nbsp;Rat&nbsp;obviously&nbsp;cannot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635591">//&nbsp;preserve&nbsp;the&nbsp;sign&nbsp;from&nbsp;SetString(&#34;-0&#34;).</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635637">switch</span>&nbsp;<span class="op" id="7635644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635649">case</span>&nbsp;<span class="ident" id="7635654"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7635658">.</span><span class="ident" id="7635659">Float32bits</span><span class="op" id="7635670">(</span><span class="ident" id="7635671"><a href="/math/big/rat_test.go.html#7635476">e</a></span><span class="op" id="7635672">)</span>&nbsp;<span class="op" id="7635674">==</span>&nbsp;<span class="ident" id="7635677"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7635681">.</span><span class="ident" id="7635682">Float32bits</span><span class="op" id="7635693">(</span><span class="ident" id="7635694"><a href="/math/big/rat_test.go.html#7635210">f</a></span><span class="op" id="7635695">)</span><span class="op" id="7635696">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635702">//&nbsp;Ok:&nbsp;bitwise&nbsp;equal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635727">case</span>&nbsp;<span class="ident" id="7635732"><a href="/math/big/rat_test.go.html#7635210">f</a></span>&nbsp;<span class="op" id="7635734">==</span>&nbsp;<span class="num" id="7635737">0</span>&nbsp;<span class="op" id="7635739">&amp;&amp;</span>&nbsp;<span class="ident" id="7635742"><a href="/math/big/rat_test.go.html#7635099">r</a></span><span class="op" id="7635743">.</span><span class="ident" id="7635744">Num</span><span class="op" id="7635747">(</span><span class="op" id="7635748">)</span><span class="op" id="7635749">.</span><span class="ident" id="7635750">BitLen</span><span class="op" id="7635756">(</span><span class="op" id="7635757">)</span>&nbsp;<span class="op" id="7635759">==</span>&nbsp;<span class="num" id="7635762">0</span><span class="op" id="7635763">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635769">//&nbsp;Ok:&nbsp;Rat(0)&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;both&nbsp;+/-&nbsp;float64(0).</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635824">default</span><span class="op" id="7635831">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7635837"><a href="/math/big/rat_test.go.html#7634922">t</a></span><span class="op" id="7635838">.</span><span class="ident" id="7635839">Errorf</span><span class="op" id="7635845">(</span><span class="string" id="7635846">&#34;strconv.ParseFloat(%q)&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;want&nbsp;%g&nbsp;(%b);&nbsp;delta&nbsp;=&nbsp;%g&#34;</span><span class="op" id="7635906">,</span>&nbsp;<span class="ident" id="7635908"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7635913">,</span>&nbsp;<span class="ident" id="7635915"><a href="/math/big/rat_test.go.html#7635476">e</a></span><span class="op" id="7635916">,</span>&nbsp;<span class="ident" id="7635918"><a href="/math/big/rat_test.go.html#7635476">e</a></span><span class="op" id="7635919">,</span>&nbsp;<span class="ident" id="7635921"><a href="/math/big/rat_test.go.html#7635210">f</a></span><span class="op" id="7635922">,</span>&nbsp;<span class="ident" id="7635924"><a href="/math/big/rat_test.go.html#7635210">f</a></span><span class="op" id="7635925">,</span>&nbsp;<span class="ident" id="7635927"><a href="/math/big/rat_test.go.html#7635210">f</a></span><span class="op" id="7635928">-</span><span class="ident" id="7635929"><a href="/math/big/rat_test.go.html#7635476">e</a></span><span class="op" id="7635930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635944">if</span>&nbsp;<span class="op" id="7635947">!</span><span class="ident" id="7635948"><a href="/math/big/rat_test.go.html#7634824">isFinite</a></span><span class="op" id="7635956">(</span><span class="builtintype" id="7635957">float64</span><span class="op" id="7635964">(</span><span class="ident" id="7635965"><a href="/math/big/rat_test.go.html#7635210">f</a></span><span class="op" id="7635966">)</span><span class="op" id="7635967">)</span>&nbsp;<span class="op" id="7635969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7635974">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7635985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7635990">//&nbsp;2.&nbsp;Check&nbsp;f&nbsp;is&nbsp;best&nbsp;approximation&nbsp;to&nbsp;r.</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636034">if</span>&nbsp;<span class="op" id="7636037">!</span><span class="ident" id="7636038"><a href="/math/big/rat_test.go.html#7641766">checkIsBestApprox32</a></span><span class="op" id="7636057">(</span><span class="ident" id="7636058"><a href="/math/big/rat_test.go.html#7634922">t</a></span><span class="op" id="7636059">,</span>&nbsp;<span class="ident" id="7636061"><a href="/math/big/rat_test.go.html#7635210">f</a></span><span class="op" id="7636062">,</span>&nbsp;<span class="ident" id="7636064"><a href="/math/big/rat_test.go.html#7635099">r</a></span><span class="op" id="7636065">)</span>&nbsp;<span class="op" id="7636067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7636072">//&nbsp;Append&nbsp;context&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636106"><a href="/math/big/rat_test.go.html#7634922">t</a></span><span class="op" id="7636107">.</span><span class="ident" id="7636108">Errorf</span><span class="op" id="7636114">(</span><span class="string" id="7636115">&#34;(input&nbsp;was&nbsp;%q)&#34;</span><span class="op" id="7636131">,</span>&nbsp;<span class="ident" id="7636133"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7636138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7636147">//&nbsp;3.&nbsp;Check&nbsp;f-&gt;R-&gt;f&nbsp;roundtrip&nbsp;is&nbsp;non-lossy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636193"><a href="/math/big/rat_test.go.html#7640598">checkNonLossyRoundtrip32</a></span><span class="op" id="7636217">(</span><span class="ident" id="7636218"><a href="/math/big/rat_test.go.html#7634922">t</a></span><span class="op" id="7636219">,</span>&nbsp;<span class="ident" id="7636221"><a href="/math/big/rat_test.go.html#7635210">f</a></span><span class="op" id="7636222">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7636227">//&nbsp;4.&nbsp;Check&nbsp;exactness&nbsp;using&nbsp;slow&nbsp;algorithm.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636273">if</span>&nbsp;<span class="ident" id="7636276">wasExact</span>&nbsp;<span class="op" id="7636285">:=</span>&nbsp;<span class="builtinfunc" id="7636288">new</span><span class="op" id="7636291">(</span><span class="ident" id="7636292"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7636295">)</span><span class="op" id="7636296">.</span><span class="ident" id="7636297">SetFloat64</span><span class="op" id="7636307">(</span><span class="builtintype" id="7636308">float64</span><span class="op" id="7636315">(</span><span class="ident" id="7636316"><a href="/math/big/rat_test.go.html#7635210">f</a></span><span class="op" id="7636317">)</span><span class="op" id="7636318">)</span><span class="op" id="7636319">.</span><span class="ident" id="7636320">Cmp</span><span class="op" id="7636323">(</span><span class="ident" id="7636324"><a href="/math/big/rat_test.go.html#7635099">r</a></span><span class="op" id="7636325">)</span>&nbsp;<span class="op" id="7636327">==</span>&nbsp;<span class="num" id="7636330">0</span><span class="op" id="7636331">;</span>&nbsp;<span class="ident" id="7636333"><a href="/math/big/rat_test.go.html#7636276">wasExact</a></span>&nbsp;<span class="op" id="7636342">!=</span>&nbsp;<span class="ident" id="7636345"><a href="/math/big/rat_test.go.html#7635213">exact</a></span>&nbsp;<span class="op" id="7636351">{</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636356"><a href="/math/big/rat_test.go.html#7634922">t</a></span><span class="op" id="7636357">.</span><span class="ident" id="7636358">Errorf</span><span class="op" id="7636364">(</span><span class="string" id="7636365">&#34;Rat.SetString(%q).Float32().exact&nbsp;=&nbsp;%t,&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7636414">,</span>&nbsp;<span class="ident" id="7636416"><a href="/math/big/rat_test.go.html#7634946">input</a></span><span class="op" id="7636421">,</span>&nbsp;<span class="ident" id="7636423"><a href="/math/big/rat_test.go.html#7635213">exact</a></span><span class="op" id="7636428">,</span>&nbsp;<span class="ident" id="7636430"><a href="/math/big/rat_test.go.html#7636276">wasExact</a></span><span class="op" id="7636438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636445">}</span><br>
<span class="lineno"></span><span class="op" id="7636447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">855</span><span class="keyword" id="7636450">func</span>&nbsp;<span class="ident" id="7636455">TestFloat64SpecialCases</span><span class="op" id="7636478">(</span><span class="ident" id="7636479">t</span>&nbsp;<span class="op" id="7636481">*</span><span class="ident" id="7636482"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7636489">.</span><span class="ident" id="7636490">T</span><span class="op" id="7636491">)</span>&nbsp;<span class="op" id="7636493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636496">for</span>&nbsp;<span class="ident" id="7636500">_</span><span class="op" id="7636501">,</span>&nbsp;<span class="ident" id="7636503">input</span>&nbsp;<span class="op" id="7636509">:=</span>&nbsp;<span class="keyword" id="7636512">range</span>&nbsp;<span class="ident" id="7636518"><a href="/math/big/rat_test.go.html#7630045">float64inputs</a></span>&nbsp;<span class="op" id="7636532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636536">if</span>&nbsp;<span class="ident" id="7636539"><a href="/math/big/rat_test.go.html#7615228">strings</a></span><span class="op" id="7636546">.</span><span class="ident" id="7636547">HasPrefix</span><span class="op" id="7636556">(</span><span class="ident" id="7636557"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7636562">,</span>&nbsp;<span class="string" id="7636564">&#34;long:&#34;</span><span class="op" id="7636571">)</span>&nbsp;<span class="op" id="7636573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636578">if</span>&nbsp;<span class="ident" id="7636581"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7636588">.</span><span class="ident" id="7636589">Short</span><span class="op" id="7636594">(</span><span class="op" id="7636595">)</span>&nbsp;<span class="op" id="7636597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636603">continue</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636620"><a href="/math/big/rat_test.go.html#7636503">input</a></span>&nbsp;<span class="op" id="7636626">=</span>&nbsp;<span class="ident" id="7636628"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7636633">[</span><span class="builtinfunc" id="7636634">len</span><span class="op" id="7636637">(</span><span class="string" id="7636638">&#34;long:&#34;</span><span class="op" id="7636645">)</span><span class="op" id="7636646">:</span><span class="op" id="7636647">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636656">r</span><span class="op" id="7636657">,</span>&nbsp;<span class="ident" id="7636659">ok</span>&nbsp;<span class="op" id="7636662">:=</span>&nbsp;<span class="builtinfunc" id="7636665">new</span><span class="op" id="7636668">(</span><span class="ident" id="7636669"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7636672">)</span><span class="op" id="7636673">.</span><span class="ident" id="7636674">SetString</span><span class="op" id="7636683">(</span><span class="ident" id="7636684"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7636689">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636693">if</span>&nbsp;<span class="op" id="7636696">!</span><span class="ident" id="7636697"><a href="/math/big/rat_test.go.html#7636659">ok</a></span>&nbsp;<span class="op" id="7636700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636705"><a href="/math/big/rat_test.go.html#7636479">t</a></span><span class="op" id="7636706">.</span><span class="ident" id="7636707">Errorf</span><span class="op" id="7636713">(</span><span class="string" id="7636714">&#34;Rat.SetString(%q)&nbsp;failed&#34;</span><span class="op" id="7636740">,</span>&nbsp;<span class="ident" id="7636742"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7636747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636752">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7636763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636767">f</span><span class="op" id="7636768">,</span>&nbsp;<span class="ident" id="7636770">exact</span>&nbsp;<span class="op" id="7636776">:=</span>&nbsp;<span class="ident" id="7636779"><a href="/math/big/rat_test.go.html#7636656">r</a></span><span class="op" id="7636780">.</span><span class="ident" id="7636781">Float64</span><span class="op" id="7636788">(</span><span class="op" id="7636789">)</span><br>
<span class="lineno">870</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7636794">//&nbsp;1.&nbsp;Check&nbsp;string&nbsp;-&gt;&nbsp;Rat&nbsp;-&gt;&nbsp;float64&nbsp;conversions&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7636849">//&nbsp;consistent&nbsp;with&nbsp;strconv.ParseFloat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7636890">//&nbsp;Skip&nbsp;this&nbsp;check&nbsp;if&nbsp;the&nbsp;input&nbsp;uses&nbsp;&#34;a/b&#34;&nbsp;rational&nbsp;syntax.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7636952">if</span>&nbsp;<span class="op" id="7636955">!</span><span class="ident" id="7636956"><a href="/math/big/rat_test.go.html#7615228">strings</a></span><span class="op" id="7636963">.</span><span class="ident" id="7636964">Contains</span><span class="op" id="7636972">(</span><span class="ident" id="7636973"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7636978">,</span>&nbsp;<span class="string" id="7636980">&#34;/&#34;</span><span class="op" id="7636983">)</span>&nbsp;<span class="op" id="7636985">{</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7636990">e</span><span class="op" id="7636991">,</span>&nbsp;<span class="ident" id="7636993">_</span>&nbsp;<span class="op" id="7636995">:=</span>&nbsp;<span class="ident" id="7636998"><a href="/math/big/rat_test.go.html#7615217">strconv</a></span><span class="op" id="7637005">.</span><span class="ident" id="7637006">ParseFloat</span><span class="op" id="7637016">(</span><span class="ident" id="7637017"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7637022">,</span>&nbsp;<span class="num" id="7637024">64</span><span class="op" id="7637026">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637032">//&nbsp;Careful:&nbsp;negative&nbsp;Rats&nbsp;too&nbsp;small&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637075">//&nbsp;float64&nbsp;become&nbsp;-0,&nbsp;but&nbsp;Rat&nbsp;obviously&nbsp;cannot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637125">//&nbsp;preserve&nbsp;the&nbsp;sign&nbsp;from&nbsp;SetString(&#34;-0&#34;).</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7637171">switch</span>&nbsp;<span class="op" id="7637178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7637183">case</span>&nbsp;<span class="ident" id="7637188"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7637192">.</span><span class="ident" id="7637193">Float64bits</span><span class="op" id="7637204">(</span><span class="ident" id="7637205"><a href="/math/big/rat_test.go.html#7636990">e</a></span><span class="op" id="7637206">)</span>&nbsp;<span class="op" id="7637208">==</span>&nbsp;<span class="ident" id="7637211"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7637215">.</span><span class="ident" id="7637216">Float64bits</span><span class="op" id="7637227">(</span><span class="ident" id="7637228"><a href="/math/big/rat_test.go.html#7636767">f</a></span><span class="op" id="7637229">)</span><span class="op" id="7637230">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637236">//&nbsp;Ok:&nbsp;bitwise&nbsp;equal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7637261">case</span>&nbsp;<span class="ident" id="7637266"><a href="/math/big/rat_test.go.html#7636767">f</a></span>&nbsp;<span class="op" id="7637268">==</span>&nbsp;<span class="num" id="7637271">0</span>&nbsp;<span class="op" id="7637273">&amp;&amp;</span>&nbsp;<span class="ident" id="7637276"><a href="/math/big/rat_test.go.html#7636656">r</a></span><span class="op" id="7637277">.</span><span class="ident" id="7637278">Num</span><span class="op" id="7637281">(</span><span class="op" id="7637282">)</span><span class="op" id="7637283">.</span><span class="ident" id="7637284">BitLen</span><span class="op" id="7637290">(</span><span class="op" id="7637291">)</span>&nbsp;<span class="op" id="7637293">==</span>&nbsp;<span class="num" id="7637296">0</span><span class="op" id="7637297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637303">//&nbsp;Ok:&nbsp;Rat(0)&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;both&nbsp;+/-&nbsp;float64(0).</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7637358">default</span><span class="op" id="7637365">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7637371"><a href="/math/big/rat_test.go.html#7636479">t</a></span><span class="op" id="7637372">.</span><span class="ident" id="7637373">Errorf</span><span class="op" id="7637379">(</span><span class="string" id="7637380">&#34;strconv.ParseFloat(%q)&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;want&nbsp;%g&nbsp;(%b);&nbsp;delta&nbsp;=&nbsp;%g&#34;</span><span class="op" id="7637440">,</span>&nbsp;<span class="ident" id="7637442"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7637447">,</span>&nbsp;<span class="ident" id="7637449"><a href="/math/big/rat_test.go.html#7636990">e</a></span><span class="op" id="7637450">,</span>&nbsp;<span class="ident" id="7637452"><a href="/math/big/rat_test.go.html#7636990">e</a></span><span class="op" id="7637453">,</span>&nbsp;<span class="ident" id="7637455"><a href="/math/big/rat_test.go.html#7636767">f</a></span><span class="op" id="7637456">,</span>&nbsp;<span class="ident" id="7637458"><a href="/math/big/rat_test.go.html#7636767">f</a></span><span class="op" id="7637459">,</span>&nbsp;<span class="ident" id="7637461"><a href="/math/big/rat_test.go.html#7636767">f</a></span><span class="op" id="7637462">-</span><span class="ident" id="7637463"><a href="/math/big/rat_test.go.html#7636990">e</a></span><span class="op" id="7637464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7637469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7637473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7637478">if</span>&nbsp;<span class="op" id="7637481">!</span><span class="ident" id="7637482"><a href="/math/big/rat_test.go.html#7634824">isFinite</a></span><span class="op" id="7637490">(</span><span class="ident" id="7637491"><a href="/math/big/rat_test.go.html#7636767">f</a></span><span class="op" id="7637492">)</span>&nbsp;<span class="op" id="7637494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7637499">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7637510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637515">//&nbsp;2.&nbsp;Check&nbsp;f&nbsp;is&nbsp;best&nbsp;approximation&nbsp;to&nbsp;r.</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7637559">if</span>&nbsp;<span class="op" id="7637562">!</span><span class="ident" id="7637563"><a href="/math/big/rat_test.go.html#7643070">checkIsBestApprox64</a></span><span class="op" id="7637582">(</span><span class="ident" id="7637583"><a href="/math/big/rat_test.go.html#7636479">t</a></span><span class="op" id="7637584">,</span>&nbsp;<span class="ident" id="7637586"><a href="/math/big/rat_test.go.html#7636767">f</a></span><span class="op" id="7637587">,</span>&nbsp;<span class="ident" id="7637589"><a href="/math/big/rat_test.go.html#7636656">r</a></span><span class="op" id="7637590">)</span>&nbsp;<span class="op" id="7637592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637597">//&nbsp;Append&nbsp;context&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7637631"><a href="/math/big/rat_test.go.html#7636479">t</a></span><span class="op" id="7637632">.</span><span class="ident" id="7637633">Errorf</span><span class="op" id="7637639">(</span><span class="string" id="7637640">&#34;(input&nbsp;was&nbsp;%q)&#34;</span><span class="op" id="7637656">,</span>&nbsp;<span class="ident" id="7637658"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7637663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7637667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637672">//&nbsp;3.&nbsp;Check&nbsp;f-&gt;R-&gt;f&nbsp;roundtrip&nbsp;is&nbsp;non-lossy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7637718"><a href="/math/big/rat_test.go.html#7641111">checkNonLossyRoundtrip64</a></span><span class="op" id="7637742">(</span><span class="ident" id="7637743"><a href="/math/big/rat_test.go.html#7636479">t</a></span><span class="op" id="7637744">,</span>&nbsp;<span class="ident" id="7637746"><a href="/math/big/rat_test.go.html#7636767">f</a></span><span class="op" id="7637747">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7637752">//&nbsp;4.&nbsp;Check&nbsp;exactness&nbsp;using&nbsp;slow&nbsp;algorithm.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7637798">if</span>&nbsp;<span class="ident" id="7637801">wasExact</span>&nbsp;<span class="op" id="7637810">:=</span>&nbsp;<span class="builtinfunc" id="7637813">new</span><span class="op" id="7637816">(</span><span class="ident" id="7637817"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7637820">)</span><span class="op" id="7637821">.</span><span class="ident" id="7637822">SetFloat64</span><span class="op" id="7637832">(</span><span class="ident" id="7637833"><a href="/math/big/rat_test.go.html#7636767">f</a></span><span class="op" id="7637834">)</span><span class="op" id="7637835">.</span><span class="ident" id="7637836">Cmp</span><span class="op" id="7637839">(</span><span class="ident" id="7637840"><a href="/math/big/rat_test.go.html#7636656">r</a></span><span class="op" id="7637841">)</span>&nbsp;<span class="op" id="7637843">==</span>&nbsp;<span class="num" id="7637846">0</span><span class="op" id="7637847">;</span>&nbsp;<span class="ident" id="7637849"><a href="/math/big/rat_test.go.html#7637801">wasExact</a></span>&nbsp;<span class="op" id="7637858">!=</span>&nbsp;<span class="ident" id="7637861"><a href="/math/big/rat_test.go.html#7636770">exact</a></span>&nbsp;<span class="op" id="7637867">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7637872"><a href="/math/big/rat_test.go.html#7636479">t</a></span><span class="op" id="7637873">.</span><span class="ident" id="7637874">Errorf</span><span class="op" id="7637880">(</span><span class="string" id="7637881">&#34;Rat.SetString(%q).Float64().exact&nbsp;=&nbsp;%t,&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7637930">,</span>&nbsp;<span class="ident" id="7637932"><a href="/math/big/rat_test.go.html#7636503">input</a></span><span class="op" id="7637937">,</span>&nbsp;<span class="ident" id="7637939"><a href="/math/big/rat_test.go.html#7636770">exact</a></span><span class="op" id="7637944">,</span>&nbsp;<span class="ident" id="7637946"><a href="/math/big/rat_test.go.html#7637801">wasExact</a></span><span class="op" id="7637954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7637958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7637961">}</span><br>
<span class="lineno"></span><span class="op" id="7637963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">910</span><span class="keyword" id="7637966">func</span>&nbsp;<span class="ident" id="7637971">TestFloat32Distribution</span><span class="op" id="7637994">(</span><span class="ident" id="7637995">t</span>&nbsp;<span class="op" id="7637997">*</span><span class="ident" id="7637998"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7638005">.</span><span class="ident" id="7638006">T</span><span class="op" id="7638007">)</span>&nbsp;<span class="op" id="7638009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7638012">//&nbsp;Generate&nbsp;a&nbsp;distribution&nbsp;of&nbsp;(sign,&nbsp;mantissa,&nbsp;exp)&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7638072">//&nbsp;broader&nbsp;than&nbsp;the&nbsp;float32&nbsp;range,&nbsp;and&nbsp;check&nbsp;Rat.Float32()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7638132">//&nbsp;always&nbsp;picks&nbsp;the&nbsp;closest&nbsp;float32&nbsp;approximation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638184">var</span>&nbsp;<span class="ident" id="7638188">add</span>&nbsp;<span class="op" id="7638192">=</span>&nbsp;<span class="op" id="7638194">[</span><span class="op" id="7638195">]</span><span class="ident" id="7638196">int64</span><span class="op" id="7638201">{</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7638205">0</span><span class="op" id="7638206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7638210">1</span><span class="op" id="7638211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7638215">3</span><span class="op" id="7638216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7638220">5</span><span class="op" id="7638221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7638225">7</span><span class="op" id="7638226">,</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7638230">9</span><span class="op" id="7638231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7638235">11</span><span class="op" id="7638237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7638240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638243">var</span>&nbsp;<span class="ident" id="7638247">winc</span><span class="op" id="7638251">,</span>&nbsp;<span class="ident" id="7638253">einc</span>&nbsp;<span class="op" id="7638258">=</span>&nbsp;<span class="ident" id="7638260">uint64</span><span class="op" id="7638266">(</span><span class="num" id="7638267">1</span><span class="op" id="7638268">)</span><span class="op" id="7638269">,</span>&nbsp;<span class="num" id="7638271">1</span>&nbsp;<span class="comment" id="7638273">//&nbsp;soak&nbsp;test&nbsp;(~1.5s&nbsp;on&nbsp;x86-64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638305">if</span>&nbsp;<span class="ident" id="7638308"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7638315">.</span><span class="ident" id="7638316">Short</span><span class="op" id="7638321">(</span><span class="op" id="7638322">)</span>&nbsp;<span class="op" id="7638324">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638328"><a href="/math/big/rat_test.go.html#7638247">winc</a></span><span class="op" id="7638332">,</span>&nbsp;<span class="ident" id="7638334"><a href="/math/big/rat_test.go.html#7638253">einc</a></span>&nbsp;<span class="op" id="7638339">=</span>&nbsp;<span class="num" id="7638341">5</span><span class="op" id="7638342">,</span>&nbsp;<span class="num" id="7638344">15</span>&nbsp;<span class="comment" id="7638347">//&nbsp;quick&nbsp;test&nbsp;(~60ms&nbsp;on&nbsp;x86-64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7638380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638384">for</span>&nbsp;<span class="ident" id="7638388">_</span><span class="op" id="7638389">,</span>&nbsp;<span class="ident" id="7638391">sign</span>&nbsp;<span class="op" id="7638396">:=</span>&nbsp;<span class="keyword" id="7638399">range</span>&nbsp;<span class="string" id="7638405">&#34;+-&#34;</span>&nbsp;<span class="op" id="7638410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638414">for</span>&nbsp;<span class="ident" id="7638418">_</span><span class="op" id="7638419">,</span>&nbsp;<span class="ident" id="7638421">a</span>&nbsp;<span class="op" id="7638423">:=</span>&nbsp;<span class="keyword" id="7638426">range</span>&nbsp;<span class="ident" id="7638432"><a href="/math/big/rat_test.go.html#7638188">add</a></span>&nbsp;<span class="op" id="7638436">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638441">for</span>&nbsp;<span class="ident" id="7638445">wid</span>&nbsp;<span class="op" id="7638449">:=</span>&nbsp;<span class="ident" id="7638452">uint64</span><span class="op" id="7638458">(</span><span class="num" id="7638459">0</span><span class="op" id="7638460">)</span><span class="op" id="7638461">;</span>&nbsp;<span class="ident" id="7638463"><a href="/math/big/rat_test.go.html#7638445">wid</a></span>&nbsp;<span class="op" id="7638467">&lt;</span>&nbsp;<span class="num" id="7638469">30</span><span class="op" id="7638471">;</span>&nbsp;<span class="ident" id="7638473"><a href="/math/big/rat_test.go.html#7638445">wid</a></span>&nbsp;<span class="op" id="7638477">+=</span>&nbsp;<span class="ident" id="7638480"><a href="/math/big/rat_test.go.html#7638247">winc</a></span>&nbsp;<span class="op" id="7638485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638491">b</span>&nbsp;<span class="op" id="7638493">:=</span>&nbsp;<span class="num" id="7638496">1</span><span class="op" id="7638497">&lt;&lt;</span><span class="ident" id="7638499"><a href="/math/big/rat_test.go.html#7638445">wid</a></span>&nbsp;<span class="op" id="7638503">+</span>&nbsp;<span class="ident" id="7638505"><a href="/math/big/rat_test.go.html#7638421">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638511">if</span>&nbsp;<span class="ident" id="7638514"><a href="/math/big/rat_test.go.html#7638391">sign</a></span>&nbsp;<span class="op" id="7638519">==</span>&nbsp;<span class="string" id="7638522">&#39;-&#39;</span>&nbsp;<span class="op" id="7638526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638533"><a href="/math/big/rat_test.go.html#7638491">b</a></span>&nbsp;<span class="op" id="7638535">=</span>&nbsp;<span class="op" id="7638537">-</span><span class="ident" id="7638538"><a href="/math/big/rat_test.go.html#7638491">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7638544">}</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638550">for</span>&nbsp;<span class="ident" id="7638554">exp</span>&nbsp;<span class="op" id="7638558">:=</span>&nbsp;<span class="op" id="7638561">-</span><span class="num" id="7638562">150</span><span class="op" id="7638565">;</span>&nbsp;<span class="ident" id="7638567"><a href="/math/big/rat_test.go.html#7638554">exp</a></span>&nbsp;<span class="op" id="7638571">&lt;</span>&nbsp;<span class="num" id="7638573">150</span><span class="op" id="7638576">;</span>&nbsp;<span class="ident" id="7638578"><a href="/math/big/rat_test.go.html#7638554">exp</a></span>&nbsp;<span class="op" id="7638582">+=</span>&nbsp;<span class="ident" id="7638585"><a href="/math/big/rat_test.go.html#7638253">einc</a></span>&nbsp;<span class="op" id="7638590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638597">num</span><span class="op" id="7638600">,</span>&nbsp;<span class="ident" id="7638602">den</span>&nbsp;<span class="op" id="7638606">:=</span>&nbsp;<span class="ident" id="7638609"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7638615">(</span><span class="ident" id="7638616"><a href="/math/big/rat_test.go.html#7638491">b</a></span><span class="op" id="7638617">)</span><span class="op" id="7638618">,</span>&nbsp;<span class="ident" id="7638620"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7638626">(</span><span class="num" id="7638627">1</span><span class="op" id="7638628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638635">if</span>&nbsp;<span class="ident" id="7638638"><a href="/math/big/rat_test.go.html#7638554">exp</a></span>&nbsp;<span class="op" id="7638642">&gt;</span>&nbsp;<span class="num" id="7638644">0</span>&nbsp;<span class="op" id="7638646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638654"><a href="/math/big/rat_test.go.html#7638597">num</a></span><span class="op" id="7638657">.</span><span class="ident" id="7638658">Lsh</span><span class="op" id="7638661">(</span><span class="ident" id="7638662"><a href="/math/big/rat_test.go.html#7638597">num</a></span><span class="op" id="7638665">,</span>&nbsp;<span class="builtintype" id="7638667">uint</span><span class="op" id="7638671">(</span><span class="ident" id="7638672"><a href="/math/big/rat_test.go.html#7638554">exp</a></span><span class="op" id="7638675">)</span><span class="op" id="7638676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7638683">}</span>&nbsp;<span class="keyword" id="7638685">else</span>&nbsp;<span class="op" id="7638690">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638698"><a href="/math/big/rat_test.go.html#7638602">den</a></span><span class="op" id="7638701">.</span><span class="ident" id="7638702">Lsh</span><span class="op" id="7638705">(</span><span class="ident" id="7638706"><a href="/math/big/rat_test.go.html#7638602">den</a></span><span class="op" id="7638709">,</span>&nbsp;<span class="builtintype" id="7638711">uint</span><span class="op" id="7638715">(</span><span class="op" id="7638716">-</span><span class="ident" id="7638717"><a href="/math/big/rat_test.go.html#7638554">exp</a></span><span class="op" id="7638720">)</span><span class="op" id="7638721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7638728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638735">r</span>&nbsp;<span class="op" id="7638737">:=</span>&nbsp;<span class="builtinfunc" id="7638740">new</span><span class="op" id="7638743">(</span><span class="ident" id="7638744"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7638747">)</span><span class="op" id="7638748">.</span><span class="ident" id="7638749">SetFrac</span><span class="op" id="7638756">(</span><span class="ident" id="7638757"><a href="/math/big/rat_test.go.html#7638597">num</a></span><span class="op" id="7638760">,</span>&nbsp;<span class="ident" id="7638762"><a href="/math/big/rat_test.go.html#7638602">den</a></span><span class="op" id="7638765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638772">f</span><span class="op" id="7638773">,</span>&nbsp;<span class="ident" id="7638775">_</span>&nbsp;<span class="op" id="7638777">:=</span>&nbsp;<span class="ident" id="7638780"><a href="/math/big/rat_test.go.html#7638735">r</a></span><span class="op" id="7638781">.</span><span class="ident" id="7638782">Float32</span><span class="op" id="7638789">(</span><span class="op" id="7638790">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7638798">if</span>&nbsp;<span class="op" id="7638801">!</span><span class="ident" id="7638802"><a href="/math/big/rat_test.go.html#7641766">checkIsBestApprox32</a></span><span class="op" id="7638821">(</span><span class="ident" id="7638822"><a href="/math/big/rat_test.go.html#7637995">t</a></span><span class="op" id="7638823">,</span>&nbsp;<span class="ident" id="7638825"><a href="/math/big/rat_test.go.html#7638772">f</a></span><span class="op" id="7638826">,</span>&nbsp;<span class="ident" id="7638828"><a href="/math/big/rat_test.go.html#7638735">r</a></span><span class="op" id="7638829">)</span>&nbsp;<span class="op" id="7638831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7638839">//&nbsp;Append&nbsp;context&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638876"><a href="/math/big/rat_test.go.html#7637995">t</a></span><span class="op" id="7638877">.</span><span class="ident" id="7638878">Errorf</span><span class="op" id="7638884">(</span><span class="string" id="7638885">&#34;(input&nbsp;was&nbsp;mantissa&nbsp;%#x,&nbsp;exp&nbsp;%d;&nbsp;f&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;f&nbsp;~&nbsp;%g;&nbsp;r&nbsp;=&nbsp;%v)&#34;</span><span class="op" id="7638948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7638957"><a href="/math/big/rat_test.go.html#7638491">b</a></span><span class="op" id="7638958">,</span>&nbsp;<span class="ident" id="7638960"><a href="/math/big/rat_test.go.html#7638554">exp</a></span><span class="op" id="7638963">,</span>&nbsp;<span class="ident" id="7638965"><a href="/math/big/rat_test.go.html#7638772">f</a></span><span class="op" id="7638966">,</span>&nbsp;<span class="ident" id="7638968"><a href="/math/big/rat_test.go.html#7638772">f</a></span><span class="op" id="7638969">,</span>&nbsp;<span class="ident" id="7638971"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7638975">.</span><span class="ident" id="7638976">Ldexp</span><span class="op" id="7638981">(</span><span class="builtintype" id="7638982">float64</span><span class="op" id="7638989">(</span><span class="ident" id="7638990"><a href="/math/big/rat_test.go.html#7638491">b</a></span><span class="op" id="7638991">)</span><span class="op" id="7638992">,</span>&nbsp;<span class="ident" id="7638994"><a href="/math/big/rat_test.go.html#7638554">exp</a></span><span class="op" id="7638997">)</span><span class="op" id="7638998">,</span>&nbsp;<span class="ident" id="7639000"><a href="/math/big/rat_test.go.html#7638735">r</a></span><span class="op" id="7639001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639008">}</span><br>
<span class="lineno">950</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639016"><a href="/math/big/rat_test.go.html#7640598">checkNonLossyRoundtrip32</a></span><span class="op" id="7639040">(</span><span class="ident" id="7639041"><a href="/math/big/rat_test.go.html#7637995">t</a></span><span class="op" id="7639042">,</span>&nbsp;<span class="ident" id="7639044"><a href="/math/big/rat_test.go.html#7638772">f</a></span><span class="op" id="7639045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639060">}</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639063">}</span><br>
<span class="lineno"></span><span class="op" id="7639065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7639068">func</span>&nbsp;<span class="ident" id="7639073">TestFloat64Distribution</span><span class="op" id="7639096">(</span><span class="ident" id="7639097">t</span>&nbsp;<span class="op" id="7639099">*</span><span class="ident" id="7639100"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7639107">.</span><span class="ident" id="7639108">T</span><span class="op" id="7639109">)</span>&nbsp;<span class="op" id="7639111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7639114">//&nbsp;Generate&nbsp;a&nbsp;distribution&nbsp;of&nbsp;(sign,&nbsp;mantissa,&nbsp;exp)&nbsp;values</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7639174">//&nbsp;broader&nbsp;than&nbsp;the&nbsp;float64&nbsp;range,&nbsp;and&nbsp;check&nbsp;Rat.Float64()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7639234">//&nbsp;always&nbsp;picks&nbsp;the&nbsp;closest&nbsp;float64&nbsp;approximation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639286">var</span>&nbsp;<span class="ident" id="7639290">add</span>&nbsp;<span class="op" id="7639294">=</span>&nbsp;<span class="op" id="7639296">[</span><span class="op" id="7639297">]</span><span class="ident" id="7639298">int64</span><span class="op" id="7639303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7639307">0</span><span class="op" id="7639308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7639312">1</span><span class="op" id="7639313">,</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7639317">3</span><span class="op" id="7639318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7639322">5</span><span class="op" id="7639323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7639327">7</span><span class="op" id="7639328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7639332">9</span><span class="op" id="7639333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7639337">11</span><span class="op" id="7639339">,</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639345">var</span>&nbsp;<span class="ident" id="7639349">winc</span><span class="op" id="7639353">,</span>&nbsp;<span class="ident" id="7639355">einc</span>&nbsp;<span class="op" id="7639360">=</span>&nbsp;<span class="ident" id="7639362">uint64</span><span class="op" id="7639368">(</span><span class="num" id="7639369">1</span><span class="op" id="7639370">)</span><span class="op" id="7639371">,</span>&nbsp;<span class="num" id="7639373">1</span>&nbsp;<span class="comment" id="7639375">//&nbsp;soak&nbsp;test&nbsp;(~75s&nbsp;on&nbsp;x86-64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639406">if</span>&nbsp;<span class="ident" id="7639409"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7639416">.</span><span class="ident" id="7639417">Short</span><span class="op" id="7639422">(</span><span class="op" id="7639423">)</span>&nbsp;<span class="op" id="7639425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639429"><a href="/math/big/rat_test.go.html#7639349">winc</a></span><span class="op" id="7639433">,</span>&nbsp;<span class="ident" id="7639435"><a href="/math/big/rat_test.go.html#7639355">einc</a></span>&nbsp;<span class="op" id="7639440">=</span>&nbsp;<span class="num" id="7639442">10</span><span class="op" id="7639444">,</span>&nbsp;<span class="num" id="7639446">500</span>&nbsp;<span class="comment" id="7639450">//&nbsp;quick&nbsp;test&nbsp;(~12ms&nbsp;on&nbsp;x86-64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639483">}</span><br>
<span class="lineno">975</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639487">for</span>&nbsp;<span class="ident" id="7639491">_</span><span class="op" id="7639492">,</span>&nbsp;<span class="ident" id="7639494">sign</span>&nbsp;<span class="op" id="7639499">:=</span>&nbsp;<span class="keyword" id="7639502">range</span>&nbsp;<span class="string" id="7639508">&#34;+-&#34;</span>&nbsp;<span class="op" id="7639513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639517">for</span>&nbsp;<span class="ident" id="7639521">_</span><span class="op" id="7639522">,</span>&nbsp;<span class="ident" id="7639524">a</span>&nbsp;<span class="op" id="7639526">:=</span>&nbsp;<span class="keyword" id="7639529">range</span>&nbsp;<span class="ident" id="7639535"><a href="/math/big/rat_test.go.html#7639290">add</a></span>&nbsp;<span class="op" id="7639539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639544">for</span>&nbsp;<span class="ident" id="7639548">wid</span>&nbsp;<span class="op" id="7639552">:=</span>&nbsp;<span class="ident" id="7639555">uint64</span><span class="op" id="7639561">(</span><span class="num" id="7639562">0</span><span class="op" id="7639563">)</span><span class="op" id="7639564">;</span>&nbsp;<span class="ident" id="7639566"><a href="/math/big/rat_test.go.html#7639548">wid</a></span>&nbsp;<span class="op" id="7639570">&lt;</span>&nbsp;<span class="num" id="7639572">60</span><span class="op" id="7639574">;</span>&nbsp;<span class="ident" id="7639576"><a href="/math/big/rat_test.go.html#7639548">wid</a></span>&nbsp;<span class="op" id="7639580">+=</span>&nbsp;<span class="ident" id="7639583"><a href="/math/big/rat_test.go.html#7639349">winc</a></span>&nbsp;<span class="op" id="7639588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639594">b</span>&nbsp;<span class="op" id="7639596">:=</span>&nbsp;<span class="num" id="7639599">1</span><span class="op" id="7639600">&lt;&lt;</span><span class="ident" id="7639602"><a href="/math/big/rat_test.go.html#7639548">wid</a></span>&nbsp;<span class="op" id="7639606">+</span>&nbsp;<span class="ident" id="7639608"><a href="/math/big/rat_test.go.html#7639524">a</a></span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639614">if</span>&nbsp;<span class="ident" id="7639617"><a href="/math/big/rat_test.go.html#7639494">sign</a></span>&nbsp;<span class="op" id="7639622">==</span>&nbsp;<span class="string" id="7639625">&#39;-&#39;</span>&nbsp;<span class="op" id="7639629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639636"><a href="/math/big/rat_test.go.html#7639594">b</a></span>&nbsp;<span class="op" id="7639638">=</span>&nbsp;<span class="op" id="7639640">-</span><span class="ident" id="7639641"><a href="/math/big/rat_test.go.html#7639594">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639653">for</span>&nbsp;<span class="ident" id="7639657">exp</span>&nbsp;<span class="op" id="7639661">:=</span>&nbsp;<span class="op" id="7639664">-</span><span class="num" id="7639665">1100</span><span class="op" id="7639669">;</span>&nbsp;<span class="ident" id="7639671"><a href="/math/big/rat_test.go.html#7639657">exp</a></span>&nbsp;<span class="op" id="7639675">&lt;</span>&nbsp;<span class="num" id="7639677">1100</span><span class="op" id="7639681">;</span>&nbsp;<span class="ident" id="7639683"><a href="/math/big/rat_test.go.html#7639657">exp</a></span>&nbsp;<span class="op" id="7639687">+=</span>&nbsp;<span class="ident" id="7639690"><a href="/math/big/rat_test.go.html#7639355">einc</a></span>&nbsp;<span class="op" id="7639695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639702">num</span><span class="op" id="7639705">,</span>&nbsp;<span class="ident" id="7639707">den</span>&nbsp;<span class="op" id="7639711">:=</span>&nbsp;<span class="ident" id="7639714"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7639720">(</span><span class="ident" id="7639721"><a href="/math/big/rat_test.go.html#7639594">b</a></span><span class="op" id="7639722">)</span><span class="op" id="7639723">,</span>&nbsp;<span class="ident" id="7639725"><a href="/math/big/int.go.html#3733392">NewInt</a></span><span class="op" id="7639731">(</span><span class="num" id="7639732">1</span><span class="op" id="7639733">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639740">if</span>&nbsp;<span class="ident" id="7639743"><a href="/math/big/rat_test.go.html#7639657">exp</a></span>&nbsp;<span class="op" id="7639747">&gt;</span>&nbsp;<span class="num" id="7639749">0</span>&nbsp;<span class="op" id="7639751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639759"><a href="/math/big/rat_test.go.html#7639702">num</a></span><span class="op" id="7639762">.</span><span class="ident" id="7639763">Lsh</span><span class="op" id="7639766">(</span><span class="ident" id="7639767"><a href="/math/big/rat_test.go.html#7639702">num</a></span><span class="op" id="7639770">,</span>&nbsp;<span class="builtintype" id="7639772">uint</span><span class="op" id="7639776">(</span><span class="ident" id="7639777"><a href="/math/big/rat_test.go.html#7639657">exp</a></span><span class="op" id="7639780">)</span><span class="op" id="7639781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639788">}</span>&nbsp;<span class="keyword" id="7639790">else</span>&nbsp;<span class="op" id="7639795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639803"><a href="/math/big/rat_test.go.html#7639707">den</a></span><span class="op" id="7639806">.</span><span class="ident" id="7639807">Lsh</span><span class="op" id="7639810">(</span><span class="ident" id="7639811"><a href="/math/big/rat_test.go.html#7639707">den</a></span><span class="op" id="7639814">,</span>&nbsp;<span class="builtintype" id="7639816">uint</span><span class="op" id="7639820">(</span><span class="op" id="7639821">-</span><span class="ident" id="7639822"><a href="/math/big/rat_test.go.html#7639657">exp</a></span><span class="op" id="7639825">)</span><span class="op" id="7639826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7639833">}</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639840">r</span>&nbsp;<span class="op" id="7639842">:=</span>&nbsp;<span class="builtinfunc" id="7639845">new</span><span class="op" id="7639848">(</span><span class="ident" id="7639849"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7639852">)</span><span class="op" id="7639853">.</span><span class="ident" id="7639854">SetFrac</span><span class="op" id="7639861">(</span><span class="ident" id="7639862"><a href="/math/big/rat_test.go.html#7639702">num</a></span><span class="op" id="7639865">,</span>&nbsp;<span class="ident" id="7639867"><a href="/math/big/rat_test.go.html#7639707">den</a></span><span class="op" id="7639870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639877">f</span><span class="op" id="7639878">,</span>&nbsp;<span class="ident" id="7639880">_</span>&nbsp;<span class="op" id="7639882">:=</span>&nbsp;<span class="ident" id="7639885"><a href="/math/big/rat_test.go.html#7639840">r</a></span><span class="op" id="7639886">.</span><span class="ident" id="7639887">Float64</span><span class="op" id="7639894">(</span><span class="op" id="7639895">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7639903">if</span>&nbsp;<span class="op" id="7639906">!</span><span class="ident" id="7639907"><a href="/math/big/rat_test.go.html#7643070">checkIsBestApprox64</a></span><span class="op" id="7639926">(</span><span class="ident" id="7639927"><a href="/math/big/rat_test.go.html#7639097">t</a></span><span class="op" id="7639928">,</span>&nbsp;<span class="ident" id="7639930"><a href="/math/big/rat_test.go.html#7639877">f</a></span><span class="op" id="7639931">,</span>&nbsp;<span class="ident" id="7639933"><a href="/math/big/rat_test.go.html#7639840">r</a></span><span class="op" id="7639934">)</span>&nbsp;<span class="op" id="7639936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7639944">//&nbsp;Append&nbsp;context&nbsp;information.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7639981"><a href="/math/big/rat_test.go.html#7639097">t</a></span><span class="op" id="7639982">.</span><span class="ident" id="7639983">Errorf</span><span class="op" id="7639989">(</span><span class="string" id="7639990">&#34;(input&nbsp;was&nbsp;mantissa&nbsp;%#x,&nbsp;exp&nbsp;%d;&nbsp;f&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;f&nbsp;~&nbsp;%g;&nbsp;r&nbsp;=&nbsp;%v)&#34;</span><span class="op" id="7640053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7640062"><a href="/math/big/rat_test.go.html#7639594">b</a></span><span class="op" id="7640063">,</span>&nbsp;<span class="ident" id="7640065"><a href="/math/big/rat_test.go.html#7639657">exp</a></span><span class="op" id="7640068">,</span>&nbsp;<span class="ident" id="7640070"><a href="/math/big/rat_test.go.html#7639877">f</a></span><span class="op" id="7640071">,</span>&nbsp;<span class="ident" id="7640073"><a href="/math/big/rat_test.go.html#7639877">f</a></span><span class="op" id="7640074">,</span>&nbsp;<span class="ident" id="7640076"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7640080">.</span><span class="ident" id="7640081">Ldexp</span><span class="op" id="7640086">(</span><span class="builtintype" id="7640087">float64</span><span class="op" id="7640094">(</span><span class="ident" id="7640095"><a href="/math/big/rat_test.go.html#7639594">b</a></span><span class="op" id="7640096">)</span><span class="op" id="7640097">,</span>&nbsp;<span class="ident" id="7640099"><a href="/math/big/rat_test.go.html#7639657">exp</a></span><span class="op" id="7640102">)</span><span class="op" id="7640103">,</span>&nbsp;<span class="ident" id="7640105"><a href="/math/big/rat_test.go.html#7639840">r</a></span><span class="op" id="7640106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7640121"><a href="/math/big/rat_test.go.html#7641111">checkNonLossyRoundtrip64</a></span><span class="op" id="7640145">(</span><span class="ident" id="7640146"><a href="/math/big/rat_test.go.html#7639097">t</a></span><span class="op" id="7640147">,</span>&nbsp;<span class="ident" id="7640149"><a href="/math/big/rat_test.go.html#7639877">f</a></span><span class="op" id="7640150">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640168">}</span><br>
<span class="lineno"></span><span class="op" id="7640170">}</span><br>
<span class="lineno">1005</span><br>
<span class="lineno"></span><span class="comment" id="7640173">//&nbsp;TestSetFloat64NonFinite&nbsp;checks&nbsp;that&nbsp;SetFloat64&nbsp;of&nbsp;a&nbsp;non-finite&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="7640245">//&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="7640261">func</span>&nbsp;<span class="ident" id="7640266">TestSetFloat64NonFinite</span><span class="op" id="7640289">(</span><span class="ident" id="7640290">t</span>&nbsp;<span class="op" id="7640292">*</span><span class="ident" id="7640293"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7640300">.</span><span class="ident" id="7640301">T</span><span class="op" id="7640302">)</span>&nbsp;<span class="op" id="7640304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7640307">for</span>&nbsp;<span class="ident" id="7640311">_</span><span class="op" id="7640312">,</span>&nbsp;<span class="ident" id="7640314">f</span>&nbsp;<span class="op" id="7640316">:=</span>&nbsp;<span class="keyword" id="7640319">range</span>&nbsp;<span class="op" id="7640325">[</span><span class="op" id="7640326">]</span><span class="builtintype" id="7640327">float64</span><span class="op" id="7640334">{</span><span class="ident" id="7640335"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7640339">.</span><span class="ident" id="7640340">NaN</span><span class="op" id="7640343">(</span><span class="op" id="7640344">)</span><span class="op" id="7640345">,</span>&nbsp;<span class="ident" id="7640347"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7640351">.</span><span class="ident" id="7640352">Inf</span><span class="op" id="7640355">(</span><span class="op" id="7640356">+</span><span class="num" id="7640357">1</span><span class="op" id="7640358">)</span><span class="op" id="7640359">,</span>&nbsp;<span class="ident" id="7640361"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7640365">.</span><span class="ident" id="7640366">Inf</span><span class="op" id="7640369">(</span><span class="op" id="7640370">-</span><span class="num" id="7640371">1</span><span class="op" id="7640372">)</span><span class="op" id="7640373">}</span>&nbsp;<span class="op" id="7640375">{</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7640379">var</span>&nbsp;<span class="ident" id="7640383">r</span>&nbsp;<span class="ident" id="7640385"><a href="/math/big/rat.go.html#3792985">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7640391">if</span>&nbsp;<span class="ident" id="7640394">r2</span>&nbsp;<span class="op" id="7640397">:=</span>&nbsp;<span class="ident" id="7640400"><a href="/math/big/rat_test.go.html#7640383">r</a></span><span class="op" id="7640401">.</span><span class="ident" id="7640402">SetFloat64</span><span class="op" id="7640412">(</span><span class="ident" id="7640413"><a href="/math/big/rat_test.go.html#7640314">f</a></span><span class="op" id="7640414">)</span><span class="op" id="7640415">;</span>&nbsp;<span class="ident" id="7640417"><a href="/math/big/rat_test.go.html#7640394">r2</a></span>&nbsp;<span class="op" id="7640420">!=</span>&nbsp;<span class="ident" id="7640423">nil</span>&nbsp;<span class="op" id="7640427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7640432"><a href="/math/big/rat_test.go.html#7640290">t</a></span><span class="op" id="7640433">.</span><span class="ident" id="7640434">Errorf</span><span class="op" id="7640440">(</span><span class="string" id="7640441">&#34;SetFloat64(%g)&nbsp;was&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7640474">,</span>&nbsp;<span class="ident" id="7640476"><a href="/math/big/rat_test.go.html#7640314">f</a></span><span class="op" id="7640477">,</span>&nbsp;<span class="ident" id="7640479"><a href="/math/big/rat_test.go.html#7640394">r2</a></span><span class="op" id="7640481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640488">}</span><br>
<span class="lineno">1015</span><span class="op" id="7640490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7640493">//&nbsp;checkNonLossyRoundtrip32&nbsp;checks&nbsp;that&nbsp;a&nbsp;float-&gt;Rat-&gt;float&nbsp;roundtrip&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7640566">//&nbsp;non-lossy&nbsp;for&nbsp;finite&nbsp;f.</span><br>
<span class="lineno"></span><span class="keyword" id="7640593">func</span>&nbsp;<span class="ident" id="7640598">checkNonLossyRoundtrip32</span><span class="op" id="7640622">(</span><span class="ident" id="7640623">t</span>&nbsp;<span class="op" id="7640625">*</span><span class="ident" id="7640626"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7640633">.</span><span class="ident" id="7640634">T</span><span class="op" id="7640635">,</span>&nbsp;<span class="ident" id="7640637">f</span>&nbsp;<span class="builtintype" id="7640639">float32</span><span class="op" id="7640646">)</span>&nbsp;<span class="op" id="7640648">{</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7640651">if</span>&nbsp;<span class="op" id="7640654">!</span><span class="ident" id="7640655"><a href="/math/big/rat_test.go.html#7634824">isFinite</a></span><span class="op" id="7640663">(</span><span class="builtintype" id="7640664">float64</span><span class="op" id="7640671">(</span><span class="ident" id="7640672"><a href="/math/big/rat_test.go.html#7640637">f</a></span><span class="op" id="7640673">)</span><span class="op" id="7640674">)</span>&nbsp;<span class="op" id="7640676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7640680">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7640691">r</span>&nbsp;<span class="op" id="7640693">:=</span>&nbsp;<span class="builtinfunc" id="7640696">new</span><span class="op" id="7640699">(</span><span class="ident" id="7640700"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7640703">)</span><span class="op" id="7640704">.</span><span class="ident" id="7640705">SetFloat64</span><span class="op" id="7640715">(</span><span class="builtintype" id="7640716">float64</span><span class="op" id="7640723">(</span><span class="ident" id="7640724"><a href="/math/big/rat_test.go.html#7640637">f</a></span><span class="op" id="7640725">)</span><span class="op" id="7640726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7640729">if</span>&nbsp;<span class="ident" id="7640732"><a href="/math/big/rat_test.go.html#7640691">r</a></span>&nbsp;<span class="op" id="7640734">==</span>&nbsp;<span class="ident" id="7640737">nil</span>&nbsp;<span class="op" id="7640741">{</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7640745"><a href="/math/big/rat_test.go.html#7640623">t</a></span><span class="op" id="7640746">.</span><span class="ident" id="7640747">Errorf</span><span class="op" id="7640753">(</span><span class="string" id="7640754">&#34;Rat.SetFloat64(float64(%g)&nbsp;(%b))&nbsp;==&nbsp;nil&#34;</span><span class="op" id="7640795">,</span>&nbsp;<span class="ident" id="7640797"><a href="/math/big/rat_test.go.html#7640637">f</a></span><span class="op" id="7640798">,</span>&nbsp;<span class="ident" id="7640800"><a href="/math/big/rat_test.go.html#7640637">f</a></span><span class="op" id="7640801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7640805">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7640813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7640816">f2</span><span class="op" id="7640818">,</span>&nbsp;<span class="ident" id="7640820">exact</span>&nbsp;<span class="op" id="7640826">:=</span>&nbsp;<span class="ident" id="7640829"><a href="/math/big/rat_test.go.html#7640691">r</a></span><span class="op" id="7640830">.</span><span class="ident" id="7640831">Float32</span><span class="op" id="7640838">(</span><span class="op" id="7640839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7640842">if</span>&nbsp;<span class="ident" id="7640845"><a href="/math/big/rat_test.go.html#7640637">f</a></span>&nbsp;<span class="op" id="7640847">!=</span>&nbsp;<span class="ident" id="7640850"><a href="/math/big/rat_test.go.html#7640816">f2</a></span>&nbsp;<span class="op" id="7640853">||</span>&nbsp;<span class="op" id="7640856">!</span><span class="ident" id="7640857"><a href="/math/big/rat_test.go.html#7640820">exact</a></span>&nbsp;<span class="op" id="7640863">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7640867"><a href="/math/big/rat_test.go.html#7640623">t</a></span><span class="op" id="7640868">.</span><span class="ident" id="7640869">Errorf</span><span class="op" id="7640875">(</span><span class="string" id="7640876">&#34;Rat.SetFloat64(float64(%g)).Float32()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;%v,&nbsp;want&nbsp;%g&nbsp;(%b),&nbsp;%v;&nbsp;delta&nbsp;=&nbsp;%b&#34;</span><span class="op" id="7640959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7640964"><a href="/math/big/rat_test.go.html#7640637">f</a></span><span class="op" id="7640965">,</span>&nbsp;<span class="ident" id="7640967"><a href="/math/big/rat_test.go.html#7640816">f2</a></span><span class="op" id="7640969">,</span>&nbsp;<span class="ident" id="7640971"><a href="/math/big/rat_test.go.html#7640816">f2</a></span><span class="op" id="7640973">,</span>&nbsp;<span class="ident" id="7640975"><a href="/math/big/rat_test.go.html#7640820">exact</a></span><span class="op" id="7640980">,</span>&nbsp;<span class="ident" id="7640982"><a href="/math/big/rat_test.go.html#7640637">f</a></span><span class="op" id="7640983">,</span>&nbsp;<span class="ident" id="7640985"><a href="/math/big/rat_test.go.html#7640637">f</a></span><span class="op" id="7640986">,</span>&nbsp;<span class="builtintype" id="7640988">true</span><span class="op" id="7640992">,</span>&nbsp;<span class="ident" id="7640994"><a href="/math/big/rat_test.go.html#7640816">f2</a></span><span class="op" id="7640996">-</span><span class="ident" id="7640997"><a href="/math/big/rat_test.go.html#7640637">f</a></span><span class="op" id="7640998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7641001">}</span><br>
<span class="lineno"></span><span class="op" id="7641003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1035</span><span class="comment" id="7641006">//&nbsp;checkNonLossyRoundtrip64&nbsp;checks&nbsp;that&nbsp;a&nbsp;float-&gt;Rat-&gt;float&nbsp;roundtrip&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7641079">//&nbsp;non-lossy&nbsp;for&nbsp;finite&nbsp;f.</span><br>
<span class="lineno"></span><span class="keyword" id="7641106">func</span>&nbsp;<span class="ident" id="7641111">checkNonLossyRoundtrip64</span><span class="op" id="7641135">(</span><span class="ident" id="7641136">t</span>&nbsp;<span class="op" id="7641138">*</span><span class="ident" id="7641139"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7641146">.</span><span class="ident" id="7641147">T</span><span class="op" id="7641148">,</span>&nbsp;<span class="ident" id="7641150">f</span>&nbsp;<span class="builtintype" id="7641152">float64</span><span class="op" id="7641159">)</span>&nbsp;<span class="op" id="7641161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7641164">if</span>&nbsp;<span class="op" id="7641167">!</span><span class="ident" id="7641168"><a href="/math/big/rat_test.go.html#7634824">isFinite</a></span><span class="op" id="7641176">(</span><span class="ident" id="7641177"><a href="/math/big/rat_test.go.html#7641150">f</a></span><span class="op" id="7641178">)</span>&nbsp;<span class="op" id="7641180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7641184">return</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7641192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7641195">r</span>&nbsp;<span class="op" id="7641197">:=</span>&nbsp;<span class="builtinfunc" id="7641200">new</span><span class="op" id="7641203">(</span><span class="ident" id="7641204"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7641207">)</span><span class="op" id="7641208">.</span><span class="ident" id="7641209">SetFloat64</span><span class="op" id="7641219">(</span><span class="ident" id="7641220"><a href="/math/big/rat_test.go.html#7641150">f</a></span><span class="op" id="7641221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7641224">if</span>&nbsp;<span class="ident" id="7641227"><a href="/math/big/rat_test.go.html#7641195">r</a></span>&nbsp;<span class="op" id="7641229">==</span>&nbsp;<span class="ident" id="7641232">nil</span>&nbsp;<span class="op" id="7641236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7641240"><a href="/math/big/rat_test.go.html#7641136">t</a></span><span class="op" id="7641241">.</span><span class="ident" id="7641242">Errorf</span><span class="op" id="7641248">(</span><span class="string" id="7641249">&#34;Rat.SetFloat64(%g&nbsp;(%b))&nbsp;==&nbsp;nil&#34;</span><span class="op" id="7641281">,</span>&nbsp;<span class="ident" id="7641283"><a href="/math/big/rat_test.go.html#7641150">f</a></span><span class="op" id="7641284">,</span>&nbsp;<span class="ident" id="7641286"><a href="/math/big/rat_test.go.html#7641150">f</a></span><span class="op" id="7641287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7641291">return</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7641299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7641302">f2</span><span class="op" id="7641304">,</span>&nbsp;<span class="ident" id="7641306">exact</span>&nbsp;<span class="op" id="7641312">:=</span>&nbsp;<span class="ident" id="7641315"><a href="/math/big/rat_test.go.html#7641195">r</a></span><span class="op" id="7641316">.</span><span class="ident" id="7641317">Float64</span><span class="op" id="7641324">(</span><span class="op" id="7641325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7641328">if</span>&nbsp;<span class="ident" id="7641331"><a href="/math/big/rat_test.go.html#7641150">f</a></span>&nbsp;<span class="op" id="7641333">!=</span>&nbsp;<span class="ident" id="7641336"><a href="/math/big/rat_test.go.html#7641302">f2</a></span>&nbsp;<span class="op" id="7641339">||</span>&nbsp;<span class="op" id="7641342">!</span><span class="ident" id="7641343"><a href="/math/big/rat_test.go.html#7641306">exact</a></span>&nbsp;<span class="op" id="7641349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7641353"><a href="/math/big/rat_test.go.html#7641136">t</a></span><span class="op" id="7641354">.</span><span class="ident" id="7641355">Errorf</span><span class="op" id="7641361">(</span><span class="string" id="7641362">&#34;Rat.SetFloat64(%g).Float64()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;%v,&nbsp;want&nbsp;%g&nbsp;(%b),&nbsp;%v;&nbsp;delta&nbsp;=&nbsp;%b&#34;</span><span class="op" id="7641436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7641441"><a href="/math/big/rat_test.go.html#7641150">f</a></span><span class="op" id="7641442">,</span>&nbsp;<span class="ident" id="7641444"><a href="/math/big/rat_test.go.html#7641302">f2</a></span><span class="op" id="7641446">,</span>&nbsp;<span class="ident" id="7641448"><a href="/math/big/rat_test.go.html#7641302">f2</a></span><span class="op" id="7641450">,</span>&nbsp;<span class="ident" id="7641452"><a href="/math/big/rat_test.go.html#7641306">exact</a></span><span class="op" id="7641457">,</span>&nbsp;<span class="ident" id="7641459"><a href="/math/big/rat_test.go.html#7641150">f</a></span><span class="op" id="7641460">,</span>&nbsp;<span class="ident" id="7641462"><a href="/math/big/rat_test.go.html#7641150">f</a></span><span class="op" id="7641463">,</span>&nbsp;<span class="builtintype" id="7641465">true</span><span class="op" id="7641469">,</span>&nbsp;<span class="ident" id="7641471"><a href="/math/big/rat_test.go.html#7641302">f2</a></span><span class="op" id="7641473">-</span><span class="ident" id="7641474"><a href="/math/big/rat_test.go.html#7641150">f</a></span><span class="op" id="7641475">)</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7641478">}</span><br>
<span class="lineno"></span><span class="op" id="7641480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7641483">//&nbsp;delta&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;difference&nbsp;between&nbsp;r&nbsp;and&nbsp;f.</span><br>
<span class="lineno"></span><span class="keyword" id="7641541">func</span>&nbsp;<span class="ident" id="7641546">delta</span><span class="op" id="7641551">(</span><span class="ident" id="7641552">r</span>&nbsp;<span class="op" id="7641554">*</span><span class="ident" id="7641555"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7641558">,</span>&nbsp;<span class="ident" id="7641560">f</span>&nbsp;<span class="builtintype" id="7641562">float64</span><span class="op" id="7641569">)</span>&nbsp;<span class="op" id="7641571">*</span><span class="ident" id="7641572"><a href="/math/big/rat.go.html#3792985">Rat</a></span>&nbsp;<span class="op" id="7641576">{</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7641579">d</span>&nbsp;<span class="op" id="7641581">:=</span>&nbsp;<span class="builtinfunc" id="7641584">new</span><span class="op" id="7641587">(</span><span class="ident" id="7641588"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7641591">)</span><span class="op" id="7641592">.</span><span class="ident" id="7641593">Sub</span><span class="op" id="7641596">(</span><span class="ident" id="7641597"><a href="/math/big/rat_test.go.html#7641552">r</a></span><span class="op" id="7641598">,</span>&nbsp;<span class="builtinfunc" id="7641600">new</span><span class="op" id="7641603">(</span><span class="ident" id="7641604"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7641607">)</span><span class="op" id="7641608">.</span><span class="ident" id="7641609">SetFloat64</span><span class="op" id="7641619">(</span><span class="ident" id="7641620"><a href="/math/big/rat_test.go.html#7641560">f</a></span><span class="op" id="7641621">)</span><span class="op" id="7641622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7641625">return</span>&nbsp;<span class="ident" id="7641632"><a href="/math/big/rat_test.go.html#7641579">d</a></span><span class="op" id="7641633">.</span><span class="ident" id="7641634">Abs</span><span class="op" id="7641637">(</span><span class="ident" id="7641638"><a href="/math/big/rat_test.go.html#7641579">d</a></span><span class="op" id="7641639">)</span><br>
<span class="lineno"></span><span class="op" id="7641641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7641644">//&nbsp;checkIsBestApprox32&nbsp;checks&nbsp;that&nbsp;f&nbsp;is&nbsp;the&nbsp;best&nbsp;possible&nbsp;float32</span><br>
<span class="lineno">1060</span><span class="comment" id="7641710">//&nbsp;approximation&nbsp;of&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="7641733">//&nbsp;Returns&nbsp;true&nbsp;on&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="7641761">func</span>&nbsp;<span class="ident" id="7641766">checkIsBestApprox32</span><span class="op" id="7641785">(</span><span class="ident" id="7641786">t</span>&nbsp;<span class="op" id="7641788">*</span><span class="ident" id="7641789"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7641796">.</span><span class="ident" id="7641797">T</span><span class="op" id="7641798">,</span>&nbsp;<span class="ident" id="7641800">f</span>&nbsp;<span class="builtintype" id="7641802">float32</span><span class="op" id="7641809">,</span>&nbsp;<span class="ident" id="7641811">r</span>&nbsp;<span class="op" id="7641813">*</span><span class="ident" id="7641814"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7641817">)</span>&nbsp;<span class="builtintype" id="7641819">bool</span>&nbsp;<span class="op" id="7641824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7641827">if</span>&nbsp;<span class="ident" id="7641830"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7641834">.</span><span class="ident" id="7641835">Abs</span><span class="op" id="7641838">(</span><span class="builtintype" id="7641839">float64</span><span class="op" id="7641846">(</span><span class="ident" id="7641847"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7641848">)</span><span class="op" id="7641849">)</span>&nbsp;<span class="op" id="7641851">&gt;=</span>&nbsp;<span class="ident" id="7641854"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7641858">.</span><span class="ident" id="7641859">MaxFloat32</span>&nbsp;<span class="op" id="7641870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7641874">//&nbsp;Cannot&nbsp;check&nbsp;+Inf,&nbsp;-Inf,&nbsp;nor&nbsp;the&nbsp;float&nbsp;next&nbsp;to&nbsp;them&nbsp;(MaxFloat32).</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7641945">//&nbsp;But&nbsp;we&nbsp;have&nbsp;tests&nbsp;for&nbsp;these&nbsp;special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7641993">return</span>&nbsp;<span class="builtintype" id="7642000">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7642006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7642010">//&nbsp;r&nbsp;must&nbsp;be&nbsp;strictly&nbsp;between&nbsp;f0&nbsp;and&nbsp;f1,&nbsp;the&nbsp;floats&nbsp;bracketing&nbsp;f.</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642077">f0</span>&nbsp;<span class="op" id="7642080">:=</span>&nbsp;<span class="ident" id="7642083"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7642087">.</span><span class="ident" id="7642088">Nextafter32</span><span class="op" id="7642099">(</span><span class="ident" id="7642100"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642101">,</span>&nbsp;<span class="builtintype" id="7642103">float32</span><span class="op" id="7642110">(</span><span class="ident" id="7642111"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7642115">.</span><span class="ident" id="7642116">Inf</span><span class="op" id="7642119">(</span><span class="op" id="7642120">-</span><span class="num" id="7642121">1</span><span class="op" id="7642122">)</span><span class="op" id="7642123">)</span><span class="op" id="7642124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642127">f1</span>&nbsp;<span class="op" id="7642130">:=</span>&nbsp;<span class="ident" id="7642133"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7642137">.</span><span class="ident" id="7642138">Nextafter32</span><span class="op" id="7642149">(</span><span class="ident" id="7642150"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642151">,</span>&nbsp;<span class="builtintype" id="7642153">float32</span><span class="op" id="7642160">(</span><span class="ident" id="7642161"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7642165">.</span><span class="ident" id="7642166">Inf</span><span class="op" id="7642169">(</span><span class="op" id="7642170">+</span><span class="num" id="7642171">1</span><span class="op" id="7642172">)</span><span class="op" id="7642173">)</span><span class="op" id="7642174">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7642178">//&nbsp;For&nbsp;f&nbsp;to&nbsp;be&nbsp;correct,&nbsp;r&nbsp;must&nbsp;be&nbsp;closer&nbsp;to&nbsp;f&nbsp;than&nbsp;to&nbsp;f0&nbsp;or&nbsp;f1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642243">df</span>&nbsp;<span class="op" id="7642246">:=</span>&nbsp;<span class="ident" id="7642249"><a href="/math/big/rat_test.go.html#7641546">delta</a></span><span class="op" id="7642254">(</span><span class="ident" id="7642255"><a href="/math/big/rat_test.go.html#7641811">r</a></span><span class="op" id="7642256">,</span>&nbsp;<span class="builtintype" id="7642258">float64</span><span class="op" id="7642265">(</span><span class="ident" id="7642266"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642267">)</span><span class="op" id="7642268">)</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642271">df0</span>&nbsp;<span class="op" id="7642275">:=</span>&nbsp;<span class="ident" id="7642278"><a href="/math/big/rat_test.go.html#7641546">delta</a></span><span class="op" id="7642283">(</span><span class="ident" id="7642284"><a href="/math/big/rat_test.go.html#7641811">r</a></span><span class="op" id="7642285">,</span>&nbsp;<span class="builtintype" id="7642287">float64</span><span class="op" id="7642294">(</span><span class="ident" id="7642295"><a href="/math/big/rat_test.go.html#7642077">f0</a></span><span class="op" id="7642297">)</span><span class="op" id="7642298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642301">df1</span>&nbsp;<span class="op" id="7642305">:=</span>&nbsp;<span class="ident" id="7642308"><a href="/math/big/rat_test.go.html#7641546">delta</a></span><span class="op" id="7642313">(</span><span class="ident" id="7642314"><a href="/math/big/rat_test.go.html#7641811">r</a></span><span class="op" id="7642315">,</span>&nbsp;<span class="builtintype" id="7642317">float64</span><span class="op" id="7642324">(</span><span class="ident" id="7642325"><a href="/math/big/rat_test.go.html#7642127">f1</a></span><span class="op" id="7642327">)</span><span class="op" id="7642328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642331">if</span>&nbsp;<span class="ident" id="7642334"><a href="/math/big/rat_test.go.html#7642243">df</a></span><span class="op" id="7642336">.</span><span class="ident" id="7642337">Cmp</span><span class="op" id="7642340">(</span><span class="ident" id="7642341"><a href="/math/big/rat_test.go.html#7642271">df0</a></span><span class="op" id="7642344">)</span>&nbsp;<span class="op" id="7642346">&gt;</span>&nbsp;<span class="num" id="7642348">0</span>&nbsp;<span class="op" id="7642350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642354"><a href="/math/big/rat_test.go.html#7641786">t</a></span><span class="op" id="7642355">.</span><span class="ident" id="7642356">Errorf</span><span class="op" id="7642362">(</span><span class="string" id="7642363">&#34;Rat(%v).Float32()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;but&nbsp;previous&nbsp;float32&nbsp;%g&nbsp;(%b)&nbsp;is&nbsp;closer&#34;</span><span class="op" id="7642432">,</span>&nbsp;<span class="ident" id="7642434"><a href="/math/big/rat_test.go.html#7641811">r</a></span><span class="op" id="7642435">,</span>&nbsp;<span class="ident" id="7642437"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642438">,</span>&nbsp;<span class="ident" id="7642440"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642441">,</span>&nbsp;<span class="ident" id="7642443"><a href="/math/big/rat_test.go.html#7642077">f0</a></span><span class="op" id="7642445">,</span>&nbsp;<span class="ident" id="7642447"><a href="/math/big/rat_test.go.html#7642077">f0</a></span><span class="op" id="7642449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642453">return</span>&nbsp;<span class="builtintype" id="7642460">false</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7642467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642470">if</span>&nbsp;<span class="ident" id="7642473"><a href="/math/big/rat_test.go.html#7642243">df</a></span><span class="op" id="7642475">.</span><span class="ident" id="7642476">Cmp</span><span class="op" id="7642479">(</span><span class="ident" id="7642480"><a href="/math/big/rat_test.go.html#7642301">df1</a></span><span class="op" id="7642483">)</span>&nbsp;<span class="op" id="7642485">&gt;</span>&nbsp;<span class="num" id="7642487">0</span>&nbsp;<span class="op" id="7642489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642493"><a href="/math/big/rat_test.go.html#7641786">t</a></span><span class="op" id="7642494">.</span><span class="ident" id="7642495">Errorf</span><span class="op" id="7642501">(</span><span class="string" id="7642502">&#34;Rat(%v).Float32()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;but&nbsp;next&nbsp;float32&nbsp;%g&nbsp;(%b)&nbsp;is&nbsp;closer&#34;</span><span class="op" id="7642567">,</span>&nbsp;<span class="ident" id="7642569"><a href="/math/big/rat_test.go.html#7641811">r</a></span><span class="op" id="7642570">,</span>&nbsp;<span class="ident" id="7642572"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642573">,</span>&nbsp;<span class="ident" id="7642575"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642576">,</span>&nbsp;<span class="ident" id="7642578"><a href="/math/big/rat_test.go.html#7642127">f1</a></span><span class="op" id="7642580">,</span>&nbsp;<span class="ident" id="7642582"><a href="/math/big/rat_test.go.html#7642127">f1</a></span><span class="op" id="7642584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642588">return</span>&nbsp;<span class="builtintype" id="7642595">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7642602">}</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642605">if</span>&nbsp;<span class="ident" id="7642608"><a href="/math/big/rat_test.go.html#7642243">df</a></span><span class="op" id="7642610">.</span><span class="ident" id="7642611">Cmp</span><span class="op" id="7642614">(</span><span class="ident" id="7642615"><a href="/math/big/rat_test.go.html#7642271">df0</a></span><span class="op" id="7642618">)</span>&nbsp;<span class="op" id="7642620">==</span>&nbsp;<span class="num" id="7642623">0</span>&nbsp;<span class="op" id="7642625">&amp;&amp;</span>&nbsp;<span class="op" id="7642628">!</span><span class="ident" id="7642629"><a href="/math/big/rat_test.go.html#7644199">isEven32</a></span><span class="op" id="7642637">(</span><span class="ident" id="7642638"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642639">)</span>&nbsp;<span class="op" id="7642641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642645"><a href="/math/big/rat_test.go.html#7641786">t</a></span><span class="op" id="7642646">.</span><span class="ident" id="7642647">Errorf</span><span class="op" id="7642653">(</span><span class="string" id="7642654">&#34;Rat(%v).Float32()&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;halfway&nbsp;should&nbsp;have&nbsp;rounded&nbsp;to&nbsp;%g&nbsp;(%b)&nbsp;instead&#34;</span><span class="op" id="7642731">,</span>&nbsp;<span class="ident" id="7642733"><a href="/math/big/rat_test.go.html#7641811">r</a></span><span class="op" id="7642734">,</span>&nbsp;<span class="ident" id="7642736"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642737">,</span>&nbsp;<span class="ident" id="7642739"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642740">,</span>&nbsp;<span class="ident" id="7642742"><a href="/math/big/rat_test.go.html#7642077">f0</a></span><span class="op" id="7642744">,</span>&nbsp;<span class="ident" id="7642746"><a href="/math/big/rat_test.go.html#7642077">f0</a></span><span class="op" id="7642748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642752">return</span>&nbsp;<span class="builtintype" id="7642759">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7642766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642769">if</span>&nbsp;<span class="ident" id="7642772"><a href="/math/big/rat_test.go.html#7642243">df</a></span><span class="op" id="7642774">.</span><span class="ident" id="7642775">Cmp</span><span class="op" id="7642778">(</span><span class="ident" id="7642779"><a href="/math/big/rat_test.go.html#7642301">df1</a></span><span class="op" id="7642782">)</span>&nbsp;<span class="op" id="7642784">==</span>&nbsp;<span class="num" id="7642787">0</span>&nbsp;<span class="op" id="7642789">&amp;&amp;</span>&nbsp;<span class="op" id="7642792">!</span><span class="ident" id="7642793"><a href="/math/big/rat_test.go.html#7644199">isEven32</a></span><span class="op" id="7642801">(</span><span class="ident" id="7642802"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642803">)</span>&nbsp;<span class="op" id="7642805">{</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7642809"><a href="/math/big/rat_test.go.html#7641786">t</a></span><span class="op" id="7642810">.</span><span class="ident" id="7642811">Errorf</span><span class="op" id="7642817">(</span><span class="string" id="7642818">&#34;Rat(%v).Float32()&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;halfway&nbsp;should&nbsp;have&nbsp;rounded&nbsp;to&nbsp;%g&nbsp;(%b)&nbsp;instead&#34;</span><span class="op" id="7642895">,</span>&nbsp;<span class="ident" id="7642897"><a href="/math/big/rat_test.go.html#7641811">r</a></span><span class="op" id="7642898">,</span>&nbsp;<span class="ident" id="7642900"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642901">,</span>&nbsp;<span class="ident" id="7642903"><a href="/math/big/rat_test.go.html#7641800">f</a></span><span class="op" id="7642904">,</span>&nbsp;<span class="ident" id="7642906"><a href="/math/big/rat_test.go.html#7642127">f1</a></span><span class="op" id="7642908">,</span>&nbsp;<span class="ident" id="7642910"><a href="/math/big/rat_test.go.html#7642127">f1</a></span><span class="op" id="7642912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642916">return</span>&nbsp;<span class="builtintype" id="7642923">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7642930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7642933">return</span>&nbsp;<span class="builtintype" id="7642940">true</span><br>
<span class="lineno"></span><span class="op" id="7642945">}</span><br>
<span class="lineno">1095</span><br>
<span class="lineno"></span><span class="comment" id="7642948">//&nbsp;checkIsBestApprox64&nbsp;checks&nbsp;that&nbsp;f&nbsp;is&nbsp;the&nbsp;best&nbsp;possible&nbsp;float64</span><br>
<span class="lineno"></span><span class="comment" id="7643014">//&nbsp;approximation&nbsp;of&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="7643037">//&nbsp;Returns&nbsp;true&nbsp;on&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="7643065">func</span>&nbsp;<span class="ident" id="7643070">checkIsBestApprox64</span><span class="op" id="7643089">(</span><span class="ident" id="7643090">t</span>&nbsp;<span class="op" id="7643092">*</span><span class="ident" id="7643093"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7643100">.</span><span class="ident" id="7643101">T</span><span class="op" id="7643102">,</span>&nbsp;<span class="ident" id="7643104">f</span>&nbsp;<span class="builtintype" id="7643106">float64</span><span class="op" id="7643113">,</span>&nbsp;<span class="ident" id="7643115">r</span>&nbsp;<span class="op" id="7643117">*</span><span class="ident" id="7643118"><a href="/math/big/rat.go.html#3792985">Rat</a></span><span class="op" id="7643121">)</span>&nbsp;<span class="builtintype" id="7643123">bool</span>&nbsp;<span class="op" id="7643128">{</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7643131">if</span>&nbsp;<span class="ident" id="7643134"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7643138">.</span><span class="ident" id="7643139">Abs</span><span class="op" id="7643142">(</span><span class="ident" id="7643143"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643144">)</span>&nbsp;<span class="op" id="7643146">&gt;=</span>&nbsp;<span class="ident" id="7643149"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7643153">.</span><span class="ident" id="7643154">MaxFloat64</span>&nbsp;<span class="op" id="7643165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7643169">//&nbsp;Cannot&nbsp;check&nbsp;+Inf,&nbsp;-Inf,&nbsp;nor&nbsp;the&nbsp;float&nbsp;next&nbsp;to&nbsp;them&nbsp;(MaxFloat64).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7643240">//&nbsp;But&nbsp;we&nbsp;have&nbsp;tests&nbsp;for&nbsp;these&nbsp;special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7643288">return</span>&nbsp;<span class="builtintype" id="7643295">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7643301">}</span><br>
<span class="lineno">1105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7643305">//&nbsp;r&nbsp;must&nbsp;be&nbsp;strictly&nbsp;between&nbsp;f0&nbsp;and&nbsp;f1,&nbsp;the&nbsp;floats&nbsp;bracketing&nbsp;f.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7643372">f0</span>&nbsp;<span class="op" id="7643375">:=</span>&nbsp;<span class="ident" id="7643378"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7643382">.</span><span class="ident" id="7643383">Nextafter</span><span class="op" id="7643392">(</span><span class="ident" id="7643393"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643394">,</span>&nbsp;<span class="ident" id="7643396"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7643400">.</span><span class="ident" id="7643401">Inf</span><span class="op" id="7643404">(</span><span class="op" id="7643405">-</span><span class="num" id="7643406">1</span><span class="op" id="7643407">)</span><span class="op" id="7643408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7643411">f1</span>&nbsp;<span class="op" id="7643414">:=</span>&nbsp;<span class="ident" id="7643417"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7643421">.</span><span class="ident" id="7643422">Nextafter</span><span class="op" id="7643431">(</span><span class="ident" id="7643432"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643433">,</span>&nbsp;<span class="ident" id="7643435"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7643439">.</span><span class="ident" id="7643440">Inf</span><span class="op" id="7643443">(</span><span class="op" id="7643444">+</span><span class="num" id="7643445">1</span><span class="op" id="7643446">)</span><span class="op" id="7643447">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7643451">//&nbsp;For&nbsp;f&nbsp;to&nbsp;be&nbsp;correct,&nbsp;r&nbsp;must&nbsp;be&nbsp;closer&nbsp;to&nbsp;f&nbsp;than&nbsp;to&nbsp;f0&nbsp;or&nbsp;f1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7643516">df</span>&nbsp;<span class="op" id="7643519">:=</span>&nbsp;<span class="ident" id="7643522"><a href="/math/big/rat_test.go.html#7641546">delta</a></span><span class="op" id="7643527">(</span><span class="ident" id="7643528"><a href="/math/big/rat_test.go.html#7643115">r</a></span><span class="op" id="7643529">,</span>&nbsp;<span class="ident" id="7643531"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7643535">df0</span>&nbsp;<span class="op" id="7643539">:=</span>&nbsp;<span class="ident" id="7643542"><a href="/math/big/rat_test.go.html#7641546">delta</a></span><span class="op" id="7643547">(</span><span class="ident" id="7643548"><a href="/math/big/rat_test.go.html#7643115">r</a></span><span class="op" id="7643549">,</span>&nbsp;<span class="ident" id="7643551"><a href="/math/big/rat_test.go.html#7643372">f0</a></span><span class="op" id="7643553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7643556">df1</span>&nbsp;<span class="op" id="7643560">:=</span>&nbsp;<span class="ident" id="7643563"><a href="/math/big/rat_test.go.html#7641546">delta</a></span><span class="op" id="7643568">(</span><span class="ident" id="7643569"><a href="/math/big/rat_test.go.html#7643115">r</a></span><span class="op" id="7643570">,</span>&nbsp;<span class="ident" id="7643572"><a href="/math/big/rat_test.go.html#7643411">f1</a></span><span class="op" id="7643574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7643577">if</span>&nbsp;<span class="ident" id="7643580"><a href="/math/big/rat_test.go.html#7643516">df</a></span><span class="op" id="7643582">.</span><span class="ident" id="7643583">Cmp</span><span class="op" id="7643586">(</span><span class="ident" id="7643587"><a href="/math/big/rat_test.go.html#7643535">df0</a></span><span class="op" id="7643590">)</span>&nbsp;<span class="op" id="7643592">&gt;</span>&nbsp;<span class="num" id="7643594">0</span>&nbsp;<span class="op" id="7643596">{</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7643600"><a href="/math/big/rat_test.go.html#7643090">t</a></span><span class="op" id="7643601">.</span><span class="ident" id="7643602">Errorf</span><span class="op" id="7643608">(</span><span class="string" id="7643609">&#34;Rat(%v).Float64()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;but&nbsp;previous&nbsp;float64&nbsp;%g&nbsp;(%b)&nbsp;is&nbsp;closer&#34;</span><span class="op" id="7643678">,</span>&nbsp;<span class="ident" id="7643680"><a href="/math/big/rat_test.go.html#7643115">r</a></span><span class="op" id="7643681">,</span>&nbsp;<span class="ident" id="7643683"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643684">,</span>&nbsp;<span class="ident" id="7643686"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643687">,</span>&nbsp;<span class="ident" id="7643689"><a href="/math/big/rat_test.go.html#7643372">f0</a></span><span class="op" id="7643691">,</span>&nbsp;<span class="ident" id="7643693"><a href="/math/big/rat_test.go.html#7643372">f0</a></span><span class="op" id="7643695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7643699">return</span>&nbsp;<span class="builtintype" id="7643706">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7643713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7643716">if</span>&nbsp;<span class="ident" id="7643719"><a href="/math/big/rat_test.go.html#7643516">df</a></span><span class="op" id="7643721">.</span><span class="ident" id="7643722">Cmp</span><span class="op" id="7643725">(</span><span class="ident" id="7643726"><a href="/math/big/rat_test.go.html#7643556">df1</a></span><span class="op" id="7643729">)</span>&nbsp;<span class="op" id="7643731">&gt;</span>&nbsp;<span class="num" id="7643733">0</span>&nbsp;<span class="op" id="7643735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7643739"><a href="/math/big/rat_test.go.html#7643090">t</a></span><span class="op" id="7643740">.</span><span class="ident" id="7643741">Errorf</span><span class="op" id="7643747">(</span><span class="string" id="7643748">&#34;Rat(%v).Float64()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;but&nbsp;next&nbsp;float64&nbsp;%g&nbsp;(%b)&nbsp;is&nbsp;closer&#34;</span><span class="op" id="7643813">,</span>&nbsp;<span class="ident" id="7643815"><a href="/math/big/rat_test.go.html#7643115">r</a></span><span class="op" id="7643816">,</span>&nbsp;<span class="ident" id="7643818"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643819">,</span>&nbsp;<span class="ident" id="7643821"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643822">,</span>&nbsp;<span class="ident" id="7643824"><a href="/math/big/rat_test.go.html#7643411">f1</a></span><span class="op" id="7643826">,</span>&nbsp;<span class="ident" id="7643828"><a href="/math/big/rat_test.go.html#7643411">f1</a></span><span class="op" id="7643830">)</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7643834">return</span>&nbsp;<span class="builtintype" id="7643841">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7643848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7643851">if</span>&nbsp;<span class="ident" id="7643854"><a href="/math/big/rat_test.go.html#7643516">df</a></span><span class="op" id="7643856">.</span><span class="ident" id="7643857">Cmp</span><span class="op" id="7643860">(</span><span class="ident" id="7643861"><a href="/math/big/rat_test.go.html#7643535">df0</a></span><span class="op" id="7643864">)</span>&nbsp;<span class="op" id="7643866">==</span>&nbsp;<span class="num" id="7643869">0</span>&nbsp;<span class="op" id="7643871">&amp;&amp;</span>&nbsp;<span class="op" id="7643874">!</span><span class="ident" id="7643875"><a href="/math/big/rat_test.go.html#7644267">isEven64</a></span><span class="op" id="7643883">(</span><span class="ident" id="7643884"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643885">)</span>&nbsp;<span class="op" id="7643887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7643891"><a href="/math/big/rat_test.go.html#7643090">t</a></span><span class="op" id="7643892">.</span><span class="ident" id="7643893">Errorf</span><span class="op" id="7643899">(</span><span class="string" id="7643900">&#34;Rat(%v).Float64()&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;halfway&nbsp;should&nbsp;have&nbsp;rounded&nbsp;to&nbsp;%g&nbsp;(%b)&nbsp;instead&#34;</span><span class="op" id="7643977">,</span>&nbsp;<span class="ident" id="7643979"><a href="/math/big/rat_test.go.html#7643115">r</a></span><span class="op" id="7643980">,</span>&nbsp;<span class="ident" id="7643982"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643983">,</span>&nbsp;<span class="ident" id="7643985"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7643986">,</span>&nbsp;<span class="ident" id="7643988"><a href="/math/big/rat_test.go.html#7643372">f0</a></span><span class="op" id="7643990">,</span>&nbsp;<span class="ident" id="7643992"><a href="/math/big/rat_test.go.html#7643372">f0</a></span><span class="op" id="7643994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7643998">return</span>&nbsp;<span class="builtintype" id="7644005">false</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7644015">if</span>&nbsp;<span class="ident" id="7644018"><a href="/math/big/rat_test.go.html#7643516">df</a></span><span class="op" id="7644020">.</span><span class="ident" id="7644021">Cmp</span><span class="op" id="7644024">(</span><span class="ident" id="7644025"><a href="/math/big/rat_test.go.html#7643556">df1</a></span><span class="op" id="7644028">)</span>&nbsp;<span class="op" id="7644030">==</span>&nbsp;<span class="num" id="7644033">0</span>&nbsp;<span class="op" id="7644035">&amp;&amp;</span>&nbsp;<span class="op" id="7644038">!</span><span class="ident" id="7644039"><a href="/math/big/rat_test.go.html#7644267">isEven64</a></span><span class="op" id="7644047">(</span><span class="ident" id="7644048"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7644049">)</span>&nbsp;<span class="op" id="7644051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644055"><a href="/math/big/rat_test.go.html#7643090">t</a></span><span class="op" id="7644056">.</span><span class="ident" id="7644057">Errorf</span><span class="op" id="7644063">(</span><span class="string" id="7644064">&#34;Rat(%v).Float64()&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;halfway&nbsp;should&nbsp;have&nbsp;rounded&nbsp;to&nbsp;%g&nbsp;(%b)&nbsp;instead&#34;</span><span class="op" id="7644141">,</span>&nbsp;<span class="ident" id="7644143"><a href="/math/big/rat_test.go.html#7643115">r</a></span><span class="op" id="7644144">,</span>&nbsp;<span class="ident" id="7644146"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7644147">,</span>&nbsp;<span class="ident" id="7644149"><a href="/math/big/rat_test.go.html#7643104">f</a></span><span class="op" id="7644150">,</span>&nbsp;<span class="ident" id="7644152"><a href="/math/big/rat_test.go.html#7643411">f1</a></span><span class="op" id="7644154">,</span>&nbsp;<span class="ident" id="7644156"><a href="/math/big/rat_test.go.html#7643411">f1</a></span><span class="op" id="7644158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7644162">return</span>&nbsp;<span class="builtintype" id="7644169">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644176">}</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7644179">return</span>&nbsp;<span class="builtintype" id="7644186">true</span><br>
<span class="lineno"></span><span class="op" id="7644191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7644194">func</span>&nbsp;<span class="ident" id="7644199">isEven32</span><span class="op" id="7644207">(</span><span class="ident" id="7644208">f</span>&nbsp;<span class="builtintype" id="7644210">float32</span><span class="op" id="7644217">)</span>&nbsp;<span class="builtintype" id="7644219">bool</span>&nbsp;<span class="op" id="7644224">{</span>&nbsp;<span class="keyword" id="7644226">return</span>&nbsp;<span class="ident" id="7644233"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644237">.</span><span class="ident" id="7644238">Float32bits</span><span class="op" id="7644249">(</span><span class="ident" id="7644250"><a href="/math/big/rat_test.go.html#7644208">f</a></span><span class="op" id="7644251">)</span><span class="op" id="7644252">&amp;</span><span class="num" id="7644253">1</span>&nbsp;<span class="op" id="7644255">==</span>&nbsp;<span class="num" id="7644258">0</span>&nbsp;<span class="op" id="7644260">}</span><br>
<span class="lineno"></span><span class="keyword" id="7644262">func</span>&nbsp;<span class="ident" id="7644267">isEven64</span><span class="op" id="7644275">(</span><span class="ident" id="7644276">f</span>&nbsp;<span class="builtintype" id="7644278">float64</span><span class="op" id="7644285">)</span>&nbsp;<span class="builtintype" id="7644287">bool</span>&nbsp;<span class="op" id="7644292">{</span>&nbsp;<span class="keyword" id="7644294">return</span>&nbsp;<span class="ident" id="7644301"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644305">.</span><span class="ident" id="7644306">Float64bits</span><span class="op" id="7644317">(</span><span class="ident" id="7644318"><a href="/math/big/rat_test.go.html#7644276">f</a></span><span class="op" id="7644319">)</span><span class="op" id="7644320">&amp;</span><span class="num" id="7644321">1</span>&nbsp;<span class="op" id="7644323">==</span>&nbsp;<span class="num" id="7644326">0</span>&nbsp;<span class="op" id="7644328">}</span><br>
<span class="lineno">1135</span><br>
<span class="lineno"></span><span class="keyword" id="7644331">func</span>&nbsp;<span class="ident" id="7644336">TestIsFinite</span><span class="op" id="7644348">(</span><span class="ident" id="7644349">t</span>&nbsp;<span class="op" id="7644351">*</span><span class="ident" id="7644352"><a href="/math/big/rat_test.go.html#7615239">testing</a></span><span class="op" id="7644359">.</span><span class="ident" id="7644360">T</span><span class="op" id="7644361">)</span>&nbsp;<span class="op" id="7644363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644366">finites</span>&nbsp;<span class="op" id="7644374">:=</span>&nbsp;<span class="op" id="7644377">[</span><span class="op" id="7644378">]</span><span class="builtintype" id="7644379">float64</span><span class="op" id="7644386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7644390">1.0</span>&nbsp;<span class="op" id="7644394">/</span>&nbsp;<span class="num" id="7644396">3</span><span class="op" id="7644397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7644401">4891559871276714924261e+222</span><span class="op" id="7644428">,</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644432"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644436">.</span><span class="ident" id="7644437">MaxFloat64</span><span class="op" id="7644447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644451"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644455">.</span><span class="ident" id="7644456">SmallestNonzeroFloat64</span><span class="op" id="7644478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644482">-</span><span class="ident" id="7644483"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644487">.</span><span class="ident" id="7644488">MaxFloat64</span><span class="op" id="7644498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644502">-</span><span class="ident" id="7644503"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644507">.</span><span class="ident" id="7644508">SmallestNonzeroFloat64</span><span class="op" id="7644530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644533">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7644536">for</span>&nbsp;<span class="ident" id="7644540">_</span><span class="op" id="7644541">,</span>&nbsp;<span class="ident" id="7644543">f</span>&nbsp;<span class="op" id="7644545">:=</span>&nbsp;<span class="keyword" id="7644548">range</span>&nbsp;<span class="ident" id="7644554"><a href="/math/big/rat_test.go.html#7644366">finites</a></span>&nbsp;<span class="op" id="7644562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7644566">if</span>&nbsp;<span class="op" id="7644569">!</span><span class="ident" id="7644570"><a href="/math/big/rat_test.go.html#7634824">isFinite</a></span><span class="op" id="7644578">(</span><span class="ident" id="7644579"><a href="/math/big/rat_test.go.html#7644543">f</a></span><span class="op" id="7644580">)</span>&nbsp;<span class="op" id="7644582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644587"><a href="/math/big/rat_test.go.html#7644349">t</a></span><span class="op" id="7644588">.</span><span class="ident" id="7644589">Errorf</span><span class="op" id="7644595">(</span><span class="string" id="7644596">&#34;!IsFinite(%g&nbsp;(%b))&#34;</span><span class="op" id="7644616">,</span>&nbsp;<span class="ident" id="7644618"><a href="/math/big/rat_test.go.html#7644543">f</a></span><span class="op" id="7644619">,</span>&nbsp;<span class="ident" id="7644621"><a href="/math/big/rat_test.go.html#7644543">f</a></span><span class="op" id="7644622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644629">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644632">nonfinites</span>&nbsp;<span class="op" id="7644643">:=</span>&nbsp;<span class="op" id="7644646">[</span><span class="op" id="7644647">]</span><span class="builtintype" id="7644648">float64</span><span class="op" id="7644655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644659"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644663">.</span><span class="ident" id="7644664">NaN</span><span class="op" id="7644667">(</span><span class="op" id="7644668">)</span><span class="op" id="7644669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644673"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644677">.</span><span class="ident" id="7644678">Inf</span><span class="op" id="7644681">(</span><span class="op" id="7644682">-</span><span class="num" id="7644683">1</span><span class="op" id="7644684">)</span><span class="op" id="7644685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644689"><a href="/math/big/rat_test.go.html#7615209">math</a></span><span class="op" id="7644693">.</span><span class="ident" id="7644694">Inf</span><span class="op" id="7644697">(</span><span class="op" id="7644698">+</span><span class="num" id="7644699">1</span><span class="op" id="7644700">)</span><span class="op" id="7644701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644704">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7644707">for</span>&nbsp;<span class="ident" id="7644711">_</span><span class="op" id="7644712">,</span>&nbsp;<span class="ident" id="7644714">f</span>&nbsp;<span class="op" id="7644716">:=</span>&nbsp;<span class="keyword" id="7644719">range</span>&nbsp;<span class="ident" id="7644725"><a href="/math/big/rat_test.go.html#7644632">nonfinites</a></span>&nbsp;<span class="op" id="7644736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7644740">if</span>&nbsp;<span class="ident" id="7644743"><a href="/math/big/rat_test.go.html#7634824">isFinite</a></span><span class="op" id="7644751">(</span><span class="ident" id="7644752"><a href="/math/big/rat_test.go.html#7644714">f</a></span><span class="op" id="7644753">)</span>&nbsp;<span class="op" id="7644755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7644760"><a href="/math/big/rat_test.go.html#7644349">t</a></span><span class="op" id="7644761">.</span><span class="ident" id="7644762">Errorf</span><span class="op" id="7644768">(</span><span class="string" id="7644769">&#34;IsFinite(%g,&nbsp;(%b))&#34;</span><span class="op" id="7644789">,</span>&nbsp;<span class="ident" id="7644791"><a href="/math/big/rat_test.go.html#7644714">f</a></span><span class="op" id="7644792">,</span>&nbsp;<span class="ident" id="7644794"><a href="/math/big/rat_test.go.html#7644714">f</a></span><span class="op" id="7644795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7644802">}</span><br>
<span class="lineno">1160</span><span class="op" id="7644804">}</span>
</div>
</body>
</html>
