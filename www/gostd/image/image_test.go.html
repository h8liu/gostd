<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7711284">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7711339">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7711393">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7711444">package</span>&nbsp;<span class="ident" id="7711452">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7711459">import</span>&nbsp;<span class="op" id="7711466">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7711469">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7711484">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7711494">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7711497">type</span>&nbsp;<span class="ident" id="7711502">image</span>&nbsp;<span class="keyword" id="7711508">interface</span>&nbsp;<span class="op" id="7711518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711521">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711528">Opaque</span><span class="op" id="7711534">(</span><span class="op" id="7711535">)</span>&nbsp;<span class="builtintype" id="7711537">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711543">Set</span><span class="op" id="7711546">(</span><span class="builtintype" id="7711547">int</span><span class="op" id="7711550">,</span>&nbsp;<span class="builtintype" id="7711552">int</span><span class="op" id="7711555">,</span>&nbsp;<span class="ident" id="7711557">color</span><span class="op" id="7711562">.</span><span class="ident" id="7711563">Color</span><span class="op" id="7711568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711571">SubImage</span><span class="op" id="7711579">(</span><span class="ident" id="7711580">Rectangle</span><span class="op" id="7711589">)</span>&nbsp;<span class="ident" id="7711591">Image</span><br>
<span class="lineno"></span><span class="op" id="7711597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7711600">func</span>&nbsp;<span class="ident" id="7711605">cmp</span><span class="op" id="7711608">(</span><span class="ident" id="7711609">t</span>&nbsp;<span class="op" id="7711611">*</span><span class="ident" id="7711612">testing</span><span class="op" id="7711619">.</span><span class="ident" id="7711620">T</span><span class="op" id="7711621">,</span>&nbsp;<span class="ident" id="7711623">cm</span>&nbsp;<span class="ident" id="7711626">color</span><span class="op" id="7711631">.</span><span class="ident" id="7711632">Model</span><span class="op" id="7711637">,</span>&nbsp;<span class="ident" id="7711639">c0</span><span class="op" id="7711641">,</span>&nbsp;<span class="ident" id="7711643">c1</span>&nbsp;<span class="ident" id="7711646">color</span><span class="op" id="7711651">.</span><span class="ident" id="7711652">Color</span><span class="op" id="7711657">)</span>&nbsp;<span class="builtintype" id="7711659">bool</span>&nbsp;<span class="op" id="7711664">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711667">r0</span><span class="op" id="7711669">,</span>&nbsp;<span class="ident" id="7711671">g0</span><span class="op" id="7711673">,</span>&nbsp;<span class="ident" id="7711675">b0</span><span class="op" id="7711677">,</span>&nbsp;<span class="ident" id="7711679">a0</span>&nbsp;<span class="op" id="7711682">:=</span>&nbsp;<span class="ident" id="7711685">cm</span><span class="op" id="7711687">.</span><span class="ident" id="7711688">Convert</span><span class="op" id="7711695">(</span><span class="ident" id="7711696">c0</span><span class="op" id="7711698">)</span><span class="op" id="7711699">.</span><span class="ident" id="7711700">RGBA</span><span class="op" id="7711704">(</span><span class="op" id="7711705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711708">r1</span><span class="op" id="7711710">,</span>&nbsp;<span class="ident" id="7711712">g1</span><span class="op" id="7711714">,</span>&nbsp;<span class="ident" id="7711716">b1</span><span class="op" id="7711718">,</span>&nbsp;<span class="ident" id="7711720">a1</span>&nbsp;<span class="op" id="7711723">:=</span>&nbsp;<span class="ident" id="7711726">cm</span><span class="op" id="7711728">.</span><span class="ident" id="7711729">Convert</span><span class="op" id="7711736">(</span><span class="ident" id="7711737">c1</span><span class="op" id="7711739">)</span><span class="op" id="7711740">.</span><span class="ident" id="7711741">RGBA</span><span class="op" id="7711745">(</span><span class="op" id="7711746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7711749">return</span>&nbsp;<span class="ident" id="7711756">r0</span>&nbsp;<span class="op" id="7711759">==</span>&nbsp;<span class="ident" id="7711762">r1</span>&nbsp;<span class="op" id="7711765">&amp;&amp;</span>&nbsp;<span class="ident" id="7711768">g0</span>&nbsp;<span class="op" id="7711771">==</span>&nbsp;<span class="ident" id="7711774">g1</span>&nbsp;<span class="op" id="7711777">&amp;&amp;</span>&nbsp;<span class="ident" id="7711780">b0</span>&nbsp;<span class="op" id="7711783">==</span>&nbsp;<span class="ident" id="7711786">b1</span>&nbsp;<span class="op" id="7711789">&amp;&amp;</span>&nbsp;<span class="ident" id="7711792">a0</span>&nbsp;<span class="op" id="7711795">==</span>&nbsp;<span class="ident" id="7711798">a1</span><br>
<span class="lineno"></span><span class="op" id="7711801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7711804">func</span>&nbsp;<span class="ident" id="7711809">TestImage</span><span class="op" id="7711818">(</span><span class="ident" id="7711819">t</span>&nbsp;<span class="op" id="7711821">*</span><span class="ident" id="7711822">testing</span><span class="op" id="7711829">.</span><span class="ident" id="7711830">T</span><span class="op" id="7711831">)</span>&nbsp;<span class="op" id="7711833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711836">testImage</span>&nbsp;<span class="op" id="7711846">:=</span>&nbsp;<span class="op" id="7711849">[</span><span class="op" id="7711850">]</span><span class="ident" id="7711851">image</span><span class="op" id="7711856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711860">NewRGBA</span><span class="op" id="7711867">(</span><span class="ident" id="7711868">Rect</span><span class="op" id="7711872">(</span><span class="num" id="7711873">0</span><span class="op" id="7711874">,</span>&nbsp;<span class="num" id="7711876">0</span><span class="op" id="7711877">,</span>&nbsp;<span class="num" id="7711879">10</span><span class="op" id="7711881">,</span>&nbsp;<span class="num" id="7711883">10</span><span class="op" id="7711885">)</span><span class="op" id="7711886">)</span><span class="op" id="7711887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711891">NewRGBA64</span><span class="op" id="7711900">(</span><span class="ident" id="7711901">Rect</span><span class="op" id="7711905">(</span><span class="num" id="7711906">0</span><span class="op" id="7711907">,</span>&nbsp;<span class="num" id="7711909">0</span><span class="op" id="7711910">,</span>&nbsp;<span class="num" id="7711912">10</span><span class="op" id="7711914">,</span>&nbsp;<span class="num" id="7711916">10</span><span class="op" id="7711918">)</span><span class="op" id="7711919">)</span><span class="op" id="7711920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711924">NewNRGBA</span><span class="op" id="7711932">(</span><span class="ident" id="7711933">Rect</span><span class="op" id="7711937">(</span><span class="num" id="7711938">0</span><span class="op" id="7711939">,</span>&nbsp;<span class="num" id="7711941">0</span><span class="op" id="7711942">,</span>&nbsp;<span class="num" id="7711944">10</span><span class="op" id="7711946">,</span>&nbsp;<span class="num" id="7711948">10</span><span class="op" id="7711950">)</span><span class="op" id="7711951">)</span><span class="op" id="7711952">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711956">NewNRGBA64</span><span class="op" id="7711966">(</span><span class="ident" id="7711967">Rect</span><span class="op" id="7711971">(</span><span class="num" id="7711972">0</span><span class="op" id="7711973">,</span>&nbsp;<span class="num" id="7711975">0</span><span class="op" id="7711976">,</span>&nbsp;<span class="num" id="7711978">10</span><span class="op" id="7711980">,</span>&nbsp;<span class="num" id="7711982">10</span><span class="op" id="7711984">)</span><span class="op" id="7711985">)</span><span class="op" id="7711986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7711990">NewAlpha</span><span class="op" id="7711998">(</span><span class="ident" id="7711999">Rect</span><span class="op" id="7712003">(</span><span class="num" id="7712004">0</span><span class="op" id="7712005">,</span>&nbsp;<span class="num" id="7712007">0</span><span class="op" id="7712008">,</span>&nbsp;<span class="num" id="7712010">10</span><span class="op" id="7712012">,</span>&nbsp;<span class="num" id="7712014">10</span><span class="op" id="7712016">)</span><span class="op" id="7712017">)</span><span class="op" id="7712018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712022">NewAlpha16</span><span class="op" id="7712032">(</span><span class="ident" id="7712033">Rect</span><span class="op" id="7712037">(</span><span class="num" id="7712038">0</span><span class="op" id="7712039">,</span>&nbsp;<span class="num" id="7712041">0</span><span class="op" id="7712042">,</span>&nbsp;<span class="num" id="7712044">10</span><span class="op" id="7712046">,</span>&nbsp;<span class="num" id="7712048">10</span><span class="op" id="7712050">)</span><span class="op" id="7712051">)</span><span class="op" id="7712052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712056">NewGray</span><span class="op" id="7712063">(</span><span class="ident" id="7712064">Rect</span><span class="op" id="7712068">(</span><span class="num" id="7712069">0</span><span class="op" id="7712070">,</span>&nbsp;<span class="num" id="7712072">0</span><span class="op" id="7712073">,</span>&nbsp;<span class="num" id="7712075">10</span><span class="op" id="7712077">,</span>&nbsp;<span class="num" id="7712079">10</span><span class="op" id="7712081">)</span><span class="op" id="7712082">)</span><span class="op" id="7712083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712087">NewGray16</span><span class="op" id="7712096">(</span><span class="ident" id="7712097">Rect</span><span class="op" id="7712101">(</span><span class="num" id="7712102">0</span><span class="op" id="7712103">,</span>&nbsp;<span class="num" id="7712105">0</span><span class="op" id="7712106">,</span>&nbsp;<span class="num" id="7712108">10</span><span class="op" id="7712110">,</span>&nbsp;<span class="num" id="7712112">10</span><span class="op" id="7712114">)</span><span class="op" id="7712115">)</span><span class="op" id="7712116">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712120">NewPaletted</span><span class="op" id="7712131">(</span><span class="ident" id="7712132">Rect</span><span class="op" id="7712136">(</span><span class="num" id="7712137">0</span><span class="op" id="7712138">,</span>&nbsp;<span class="num" id="7712140">0</span><span class="op" id="7712141">,</span>&nbsp;<span class="num" id="7712143">10</span><span class="op" id="7712145">,</span>&nbsp;<span class="num" id="7712147">10</span><span class="op" id="7712149">)</span><span class="op" id="7712150">,</span>&nbsp;<span class="ident" id="7712152">color</span><span class="op" id="7712157">.</span><span class="ident" id="7712158">Palette</span><span class="op" id="7712165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712170">Transparent</span><span class="op" id="7712181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712186">Opaque</span><span class="op" id="7712192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7712196">}</span><span class="op" id="7712197">)</span><span class="op" id="7712198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7712201">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712204">for</span>&nbsp;<span class="ident" id="7712208">_</span><span class="op" id="7712209">,</span>&nbsp;<span class="ident" id="7712211">m</span>&nbsp;<span class="op" id="7712213">:=</span>&nbsp;<span class="keyword" id="7712216">range</span>&nbsp;<span class="ident" id="7712222">testImage</span>&nbsp;<span class="op" id="7712232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712236">if</span>&nbsp;<span class="op" id="7712239">!</span><span class="ident" id="7712240">Rect</span><span class="op" id="7712244">(</span><span class="num" id="7712245">0</span><span class="op" id="7712246">,</span>&nbsp;<span class="num" id="7712248">0</span><span class="op" id="7712249">,</span>&nbsp;<span class="num" id="7712251">10</span><span class="op" id="7712253">,</span>&nbsp;<span class="num" id="7712255">10</span><span class="op" id="7712257">)</span><span class="op" id="7712258">.</span><span class="ident" id="7712259">Eq</span><span class="op" id="7712261">(</span><span class="ident" id="7712262">m</span><span class="op" id="7712263">.</span><span class="ident" id="7712264">Bounds</span><span class="op" id="7712270">(</span><span class="op" id="7712271">)</span><span class="op" id="7712272">)</span>&nbsp;<span class="op" id="7712274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712279">t</span><span class="op" id="7712280">.</span><span class="ident" id="7712281">Errorf</span><span class="op" id="7712287">(</span><span class="string" id="7712288">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7712316">,</span>&nbsp;<span class="ident" id="7712318">m</span><span class="op" id="7712319">,</span>&nbsp;<span class="ident" id="7712321">Rect</span><span class="op" id="7712325">(</span><span class="num" id="7712326">0</span><span class="op" id="7712327">,</span>&nbsp;<span class="num" id="7712329">0</span><span class="op" id="7712330">,</span>&nbsp;<span class="num" id="7712332">10</span><span class="op" id="7712334">,</span>&nbsp;<span class="num" id="7712336">10</span><span class="op" id="7712338">)</span><span class="op" id="7712339">,</span>&nbsp;<span class="ident" id="7712341">m</span><span class="op" id="7712342">.</span><span class="ident" id="7712343">Bounds</span><span class="op" id="7712349">(</span><span class="op" id="7712350">)</span><span class="op" id="7712351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712356">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7712367">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712371">if</span>&nbsp;<span class="op" id="7712374">!</span><span class="ident" id="7712375">cmp</span><span class="op" id="7712378">(</span><span class="ident" id="7712379">t</span><span class="op" id="7712380">,</span>&nbsp;<span class="ident" id="7712382">m</span><span class="op" id="7712383">.</span><span class="ident" id="7712384">ColorModel</span><span class="op" id="7712394">(</span><span class="op" id="7712395">)</span><span class="op" id="7712396">,</span>&nbsp;<span class="ident" id="7712398">Transparent</span><span class="op" id="7712409">,</span>&nbsp;<span class="ident" id="7712411">m</span><span class="op" id="7712412">.</span><span class="ident" id="7712413">At</span><span class="op" id="7712415">(</span><span class="num" id="7712416">6</span><span class="op" id="7712417">,</span>&nbsp;<span class="num" id="7712419">3</span><span class="op" id="7712420">)</span><span class="op" id="7712421">)</span>&nbsp;<span class="op" id="7712423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712428">t</span><span class="op" id="7712429">.</span><span class="ident" id="7712430">Errorf</span><span class="op" id="7712436">(</span><span class="string" id="7712437">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7712479">,</span>&nbsp;<span class="ident" id="7712481">m</span><span class="op" id="7712482">,</span>&nbsp;<span class="ident" id="7712484">m</span><span class="op" id="7712485">.</span><span class="ident" id="7712486">At</span><span class="op" id="7712488">(</span><span class="num" id="7712489">6</span><span class="op" id="7712490">,</span>&nbsp;<span class="num" id="7712492">3</span><span class="op" id="7712493">)</span><span class="op" id="7712494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712499">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7712510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712514">m</span><span class="op" id="7712515">.</span><span class="ident" id="7712516">Set</span><span class="op" id="7712519">(</span><span class="num" id="7712520">6</span><span class="op" id="7712521">,</span>&nbsp;<span class="num" id="7712523">3</span><span class="op" id="7712524">,</span>&nbsp;<span class="ident" id="7712526">Opaque</span><span class="op" id="7712532">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712536">if</span>&nbsp;<span class="op" id="7712539">!</span><span class="ident" id="7712540">cmp</span><span class="op" id="7712543">(</span><span class="ident" id="7712544">t</span><span class="op" id="7712545">,</span>&nbsp;<span class="ident" id="7712547">m</span><span class="op" id="7712548">.</span><span class="ident" id="7712549">ColorModel</span><span class="op" id="7712559">(</span><span class="op" id="7712560">)</span><span class="op" id="7712561">,</span>&nbsp;<span class="ident" id="7712563">Opaque</span><span class="op" id="7712569">,</span>&nbsp;<span class="ident" id="7712571">m</span><span class="op" id="7712572">.</span><span class="ident" id="7712573">At</span><span class="op" id="7712575">(</span><span class="num" id="7712576">6</span><span class="op" id="7712577">,</span>&nbsp;<span class="num" id="7712579">3</span><span class="op" id="7712580">)</span><span class="op" id="7712581">)</span>&nbsp;<span class="op" id="7712583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712588">t</span><span class="op" id="7712589">.</span><span class="ident" id="7712590">Errorf</span><span class="op" id="7712596">(</span><span class="string" id="7712597">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7712643">,</span>&nbsp;<span class="ident" id="7712645">m</span><span class="op" id="7712646">,</span>&nbsp;<span class="ident" id="7712648">m</span><span class="op" id="7712649">.</span><span class="ident" id="7712650">At</span><span class="op" id="7712652">(</span><span class="num" id="7712653">6</span><span class="op" id="7712654">,</span>&nbsp;<span class="num" id="7712656">3</span><span class="op" id="7712657">)</span><span class="op" id="7712658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712663">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7712674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712678">if</span>&nbsp;<span class="op" id="7712681">!</span><span class="ident" id="7712682">m</span><span class="op" id="7712683">.</span><span class="ident" id="7712684">SubImage</span><span class="op" id="7712692">(</span><span class="ident" id="7712693">Rect</span><span class="op" id="7712697">(</span><span class="num" id="7712698">6</span><span class="op" id="7712699">,</span>&nbsp;<span class="num" id="7712701">3</span><span class="op" id="7712702">,</span>&nbsp;<span class="num" id="7712704">7</span><span class="op" id="7712705">,</span>&nbsp;<span class="num" id="7712707">4</span><span class="op" id="7712708">)</span><span class="op" id="7712709">)</span><span class="op" id="7712710">.</span><span class="op" id="7712711">(</span><span class="ident" id="7712712">image</span><span class="op" id="7712717">)</span><span class="op" id="7712718">.</span><span class="ident" id="7712719">Opaque</span><span class="op" id="7712725">(</span><span class="op" id="7712726">)</span>&nbsp;<span class="op" id="7712728">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712733">t</span><span class="op" id="7712734">.</span><span class="ident" id="7712735">Errorf</span><span class="op" id="7712741">(</span><span class="string" id="7712742">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="7712772">,</span>&nbsp;<span class="ident" id="7712774">m</span><span class="op" id="7712775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712780">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7712791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712795">m</span>&nbsp;<span class="op" id="7712797">=</span>&nbsp;<span class="ident" id="7712799">m</span><span class="op" id="7712800">.</span><span class="ident" id="7712801">SubImage</span><span class="op" id="7712809">(</span><span class="ident" id="7712810">Rect</span><span class="op" id="7712814">(</span><span class="num" id="7712815">3</span><span class="op" id="7712816">,</span>&nbsp;<span class="num" id="7712818">2</span><span class="op" id="7712819">,</span>&nbsp;<span class="num" id="7712821">9</span><span class="op" id="7712822">,</span>&nbsp;<span class="num" id="7712824">8</span><span class="op" id="7712825">)</span><span class="op" id="7712826">)</span><span class="op" id="7712827">.</span><span class="op" id="7712828">(</span><span class="ident" id="7712829">image</span><span class="op" id="7712834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712838">if</span>&nbsp;<span class="op" id="7712841">!</span><span class="ident" id="7712842">Rect</span><span class="op" id="7712846">(</span><span class="num" id="7712847">3</span><span class="op" id="7712848">,</span>&nbsp;<span class="num" id="7712850">2</span><span class="op" id="7712851">,</span>&nbsp;<span class="num" id="7712853">9</span><span class="op" id="7712854">,</span>&nbsp;<span class="num" id="7712856">8</span><span class="op" id="7712857">)</span><span class="op" id="7712858">.</span><span class="ident" id="7712859">Eq</span><span class="op" id="7712861">(</span><span class="ident" id="7712862">m</span><span class="op" id="7712863">.</span><span class="ident" id="7712864">Bounds</span><span class="op" id="7712870">(</span><span class="op" id="7712871">)</span><span class="op" id="7712872">)</span>&nbsp;<span class="op" id="7712874">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7712879">t</span><span class="op" id="7712880">.</span><span class="ident" id="7712881">Errorf</span><span class="op" id="7712887">(</span><span class="string" id="7712888">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7712926">,</span>&nbsp;<span class="ident" id="7712928">m</span><span class="op" id="7712929">,</span>&nbsp;<span class="ident" id="7712931">Rect</span><span class="op" id="7712935">(</span><span class="num" id="7712936">3</span><span class="op" id="7712937">,</span>&nbsp;<span class="num" id="7712939">2</span><span class="op" id="7712940">,</span>&nbsp;<span class="num" id="7712942">9</span><span class="op" id="7712943">,</span>&nbsp;<span class="num" id="7712945">8</span><span class="op" id="7712946">)</span><span class="op" id="7712947">,</span>&nbsp;<span class="ident" id="7712949">m</span><span class="op" id="7712950">.</span><span class="ident" id="7712951">Bounds</span><span class="op" id="7712957">(</span><span class="op" id="7712958">)</span><span class="op" id="7712959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712964">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7712975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7712979">if</span>&nbsp;<span class="op" id="7712982">!</span><span class="ident" id="7712983">cmp</span><span class="op" id="7712986">(</span><span class="ident" id="7712987">t</span><span class="op" id="7712988">,</span>&nbsp;<span class="ident" id="7712990">m</span><span class="op" id="7712991">.</span><span class="ident" id="7712992">ColorModel</span><span class="op" id="7713002">(</span><span class="op" id="7713003">)</span><span class="op" id="7713004">,</span>&nbsp;<span class="ident" id="7713006">Opaque</span><span class="op" id="7713012">,</span>&nbsp;<span class="ident" id="7713014">m</span><span class="op" id="7713015">.</span><span class="ident" id="7713016">At</span><span class="op" id="7713018">(</span><span class="num" id="7713019">6</span><span class="op" id="7713020">,</span>&nbsp;<span class="num" id="7713022">3</span><span class="op" id="7713023">)</span><span class="op" id="7713024">)</span>&nbsp;<span class="op" id="7713026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713031">t</span><span class="op" id="7713032">.</span><span class="ident" id="7713033">Errorf</span><span class="op" id="7713039">(</span><span class="string" id="7713040">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7713096">,</span>&nbsp;<span class="ident" id="7713098">m</span><span class="op" id="7713099">,</span>&nbsp;<span class="ident" id="7713101">m</span><span class="op" id="7713102">.</span><span class="ident" id="7713103">At</span><span class="op" id="7713105">(</span><span class="num" id="7713106">6</span><span class="op" id="7713107">,</span>&nbsp;<span class="num" id="7713109">3</span><span class="op" id="7713110">)</span><span class="op" id="7713111">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7713116">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7713127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7713131">if</span>&nbsp;<span class="op" id="7713134">!</span><span class="ident" id="7713135">cmp</span><span class="op" id="7713138">(</span><span class="ident" id="7713139">t</span><span class="op" id="7713140">,</span>&nbsp;<span class="ident" id="7713142">m</span><span class="op" id="7713143">.</span><span class="ident" id="7713144">ColorModel</span><span class="op" id="7713154">(</span><span class="op" id="7713155">)</span><span class="op" id="7713156">,</span>&nbsp;<span class="ident" id="7713158">Transparent</span><span class="op" id="7713169">,</span>&nbsp;<span class="ident" id="7713171">m</span><span class="op" id="7713172">.</span><span class="ident" id="7713173">At</span><span class="op" id="7713175">(</span><span class="num" id="7713176">3</span><span class="op" id="7713177">,</span>&nbsp;<span class="num" id="7713179">3</span><span class="op" id="7713180">)</span><span class="op" id="7713181">)</span>&nbsp;<span class="op" id="7713183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713188">t</span><span class="op" id="7713189">.</span><span class="ident" id="7713190">Errorf</span><span class="op" id="7713196">(</span><span class="string" id="7713197">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7713249">,</span>&nbsp;<span class="ident" id="7713251">m</span><span class="op" id="7713252">,</span>&nbsp;<span class="ident" id="7713254">m</span><span class="op" id="7713255">.</span><span class="ident" id="7713256">At</span><span class="op" id="7713258">(</span><span class="num" id="7713259">3</span><span class="op" id="7713260">,</span>&nbsp;<span class="num" id="7713262">3</span><span class="op" id="7713263">)</span><span class="op" id="7713264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7713269">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7713280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713284">m</span><span class="op" id="7713285">.</span><span class="ident" id="7713286">Set</span><span class="op" id="7713289">(</span><span class="num" id="7713290">3</span><span class="op" id="7713291">,</span>&nbsp;<span class="num" id="7713293">3</span><span class="op" id="7713294">,</span>&nbsp;<span class="ident" id="7713296">Opaque</span><span class="op" id="7713302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7713306">if</span>&nbsp;<span class="op" id="7713309">!</span><span class="ident" id="7713310">cmp</span><span class="op" id="7713313">(</span><span class="ident" id="7713314">t</span><span class="op" id="7713315">,</span>&nbsp;<span class="ident" id="7713317">m</span><span class="op" id="7713318">.</span><span class="ident" id="7713319">ColorModel</span><span class="op" id="7713329">(</span><span class="op" id="7713330">)</span><span class="op" id="7713331">,</span>&nbsp;<span class="ident" id="7713333">Opaque</span><span class="op" id="7713339">,</span>&nbsp;<span class="ident" id="7713341">m</span><span class="op" id="7713342">.</span><span class="ident" id="7713343">At</span><span class="op" id="7713345">(</span><span class="num" id="7713346">3</span><span class="op" id="7713347">,</span>&nbsp;<span class="num" id="7713349">3</span><span class="op" id="7713350">)</span><span class="op" id="7713351">)</span>&nbsp;<span class="op" id="7713353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713358">t</span><span class="op" id="7713359">.</span><span class="ident" id="7713360">Errorf</span><span class="op" id="7713366">(</span><span class="string" id="7713367">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7713423">,</span>&nbsp;<span class="ident" id="7713425">m</span><span class="op" id="7713426">,</span>&nbsp;<span class="ident" id="7713428">m</span><span class="op" id="7713429">.</span><span class="ident" id="7713430">At</span><span class="op" id="7713432">(</span><span class="num" id="7713433">3</span><span class="op" id="7713434">,</span>&nbsp;<span class="num" id="7713436">3</span><span class="op" id="7713437">)</span><span class="op" id="7713438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7713443">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7713454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7713458">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713536">m</span><span class="op" id="7713537">.</span><span class="ident" id="7713538">SubImage</span><span class="op" id="7713546">(</span><span class="ident" id="7713547">Rect</span><span class="op" id="7713551">(</span><span class="num" id="7713552">0</span><span class="op" id="7713553">,</span>&nbsp;<span class="num" id="7713555">0</span><span class="op" id="7713556">,</span>&nbsp;<span class="num" id="7713558">0</span><span class="op" id="7713559">,</span>&nbsp;<span class="num" id="7713561">0</span><span class="op" id="7713562">)</span><span class="op" id="7713563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713567">m</span><span class="op" id="7713568">.</span><span class="ident" id="7713569">SubImage</span><span class="op" id="7713577">(</span><span class="ident" id="7713578">Rect</span><span class="op" id="7713582">(</span><span class="num" id="7713583">10</span><span class="op" id="7713585">,</span>&nbsp;<span class="num" id="7713587">0</span><span class="op" id="7713588">,</span>&nbsp;<span class="num" id="7713590">10</span><span class="op" id="7713592">,</span>&nbsp;<span class="num" id="7713594">0</span><span class="op" id="7713595">)</span><span class="op" id="7713596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713600">m</span><span class="op" id="7713601">.</span><span class="ident" id="7713602">SubImage</span><span class="op" id="7713610">(</span><span class="ident" id="7713611">Rect</span><span class="op" id="7713615">(</span><span class="num" id="7713616">0</span><span class="op" id="7713617">,</span>&nbsp;<span class="num" id="7713619">10</span><span class="op" id="7713621">,</span>&nbsp;<span class="num" id="7713623">0</span><span class="op" id="7713624">,</span>&nbsp;<span class="num" id="7713626">10</span><span class="op" id="7713628">)</span><span class="op" id="7713629">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713633">m</span><span class="op" id="7713634">.</span><span class="ident" id="7713635">SubImage</span><span class="op" id="7713643">(</span><span class="ident" id="7713644">Rect</span><span class="op" id="7713648">(</span><span class="num" id="7713649">10</span><span class="op" id="7713651">,</span>&nbsp;<span class="num" id="7713653">10</span><span class="op" id="7713655">,</span>&nbsp;<span class="num" id="7713657">10</span><span class="op" id="7713659">,</span>&nbsp;<span class="num" id="7713661">10</span><span class="op" id="7713663">)</span><span class="op" id="7713664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7713667">}</span><br>
<span class="lineno"></span><span class="op" id="7713669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7713672">func</span>&nbsp;<span class="ident" id="7713677">Test16BitsPerColorChannel</span><span class="op" id="7713702">(</span><span class="ident" id="7713703">t</span>&nbsp;<span class="op" id="7713705">*</span><span class="ident" id="7713706">testing</span><span class="op" id="7713713">.</span><span class="ident" id="7713714">T</span><span class="op" id="7713715">)</span>&nbsp;<span class="op" id="7713717">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713720">testColorModel</span>&nbsp;<span class="op" id="7713735">:=</span>&nbsp;<span class="op" id="7713738">[</span><span class="op" id="7713739">]</span><span class="ident" id="7713740">color</span><span class="op" id="7713745">.</span><span class="ident" id="7713746">Model</span><span class="op" id="7713751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713755">color</span><span class="op" id="7713760">.</span><span class="ident" id="7713761">RGBA64Model</span><span class="op" id="7713772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713776">color</span><span class="op" id="7713781">.</span><span class="ident" id="7713782">NRGBA64Model</span><span class="op" id="7713794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713798">color</span><span class="op" id="7713803">.</span><span class="ident" id="7713804">Alpha16Model</span><span class="op" id="7713816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713820">color</span><span class="op" id="7713825">.</span><span class="ident" id="7713826">Gray16Model</span><span class="op" id="7713837">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7713840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7713843">for</span>&nbsp;<span class="ident" id="7713847">_</span><span class="op" id="7713848">,</span>&nbsp;<span class="ident" id="7713850">cm</span>&nbsp;<span class="op" id="7713853">:=</span>&nbsp;<span class="keyword" id="7713856">range</span>&nbsp;<span class="ident" id="7713862">testColorModel</span>&nbsp;<span class="op" id="7713877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713881">c</span>&nbsp;<span class="op" id="7713883">:=</span>&nbsp;<span class="ident" id="7713886">cm</span><span class="op" id="7713888">.</span><span class="ident" id="7713889">Convert</span><span class="op" id="7713896">(</span><span class="ident" id="7713897">color</span><span class="op" id="7713902">.</span><span class="ident" id="7713903">RGBA64</span><span class="op" id="7713909">{</span><span class="num" id="7713910">0x1234</span><span class="op" id="7713916">,</span>&nbsp;<span class="num" id="7713918">0x1234</span><span class="op" id="7713924">,</span>&nbsp;<span class="num" id="7713926">0x1234</span><span class="op" id="7713932">,</span>&nbsp;<span class="num" id="7713934">0x1234</span><span class="op" id="7713940">}</span><span class="op" id="7713941">)</span>&nbsp;<span class="comment" id="7713943">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7713969">r</span><span class="op" id="7713970">,</span>&nbsp;<span class="ident" id="7713972">_</span><span class="op" id="7713973">,</span>&nbsp;<span class="ident" id="7713975">_</span><span class="op" id="7713976">,</span>&nbsp;<span class="ident" id="7713978">_</span>&nbsp;<span class="op" id="7713980">:=</span>&nbsp;<span class="ident" id="7713983">c</span><span class="op" id="7713984">.</span><span class="ident" id="7713985">RGBA</span><span class="op" id="7713989">(</span><span class="op" id="7713990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7713994">if</span>&nbsp;<span class="ident" id="7713997">r</span>&nbsp;<span class="op" id="7713999">!=</span>&nbsp;<span class="num" id="7714002">0x1234</span>&nbsp;<span class="op" id="7714009">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714014">t</span><span class="op" id="7714015">.</span><span class="ident" id="7714016">Errorf</span><span class="op" id="7714022">(</span><span class="string" id="7714023">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7714061">,</span>&nbsp;<span class="ident" id="7714063">c</span><span class="op" id="7714064">,</span>&nbsp;<span class="num" id="7714066">0x1234</span><span class="op" id="7714072">,</span>&nbsp;<span class="ident" id="7714074">r</span><span class="op" id="7714075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7714080">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7714091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7714094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714097">testImage</span>&nbsp;<span class="op" id="7714107">:=</span>&nbsp;<span class="op" id="7714110">[</span><span class="op" id="7714111">]</span><span class="ident" id="7714112">image</span><span class="op" id="7714117">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714121">NewRGBA64</span><span class="op" id="7714130">(</span><span class="ident" id="7714131">Rect</span><span class="op" id="7714135">(</span><span class="num" id="7714136">0</span><span class="op" id="7714137">,</span>&nbsp;<span class="num" id="7714139">0</span><span class="op" id="7714140">,</span>&nbsp;<span class="num" id="7714142">10</span><span class="op" id="7714144">,</span>&nbsp;<span class="num" id="7714146">10</span><span class="op" id="7714148">)</span><span class="op" id="7714149">)</span><span class="op" id="7714150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714154">NewNRGBA64</span><span class="op" id="7714164">(</span><span class="ident" id="7714165">Rect</span><span class="op" id="7714169">(</span><span class="num" id="7714170">0</span><span class="op" id="7714171">,</span>&nbsp;<span class="num" id="7714173">0</span><span class="op" id="7714174">,</span>&nbsp;<span class="num" id="7714176">10</span><span class="op" id="7714178">,</span>&nbsp;<span class="num" id="7714180">10</span><span class="op" id="7714182">)</span><span class="op" id="7714183">)</span><span class="op" id="7714184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714188">NewAlpha16</span><span class="op" id="7714198">(</span><span class="ident" id="7714199">Rect</span><span class="op" id="7714203">(</span><span class="num" id="7714204">0</span><span class="op" id="7714205">,</span>&nbsp;<span class="num" id="7714207">0</span><span class="op" id="7714208">,</span>&nbsp;<span class="num" id="7714210">10</span><span class="op" id="7714212">,</span>&nbsp;<span class="num" id="7714214">10</span><span class="op" id="7714216">)</span><span class="op" id="7714217">)</span><span class="op" id="7714218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714222">NewGray16</span><span class="op" id="7714231">(</span><span class="ident" id="7714232">Rect</span><span class="op" id="7714236">(</span><span class="num" id="7714237">0</span><span class="op" id="7714238">,</span>&nbsp;<span class="num" id="7714240">0</span><span class="op" id="7714241">,</span>&nbsp;<span class="num" id="7714243">10</span><span class="op" id="7714245">,</span>&nbsp;<span class="num" id="7714247">10</span><span class="op" id="7714249">)</span><span class="op" id="7714250">)</span><span class="op" id="7714251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7714254">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7714257">for</span>&nbsp;<span class="ident" id="7714261">_</span><span class="op" id="7714262">,</span>&nbsp;<span class="ident" id="7714264">m</span>&nbsp;<span class="op" id="7714266">:=</span>&nbsp;<span class="keyword" id="7714269">range</span>&nbsp;<span class="ident" id="7714275">testImage</span>&nbsp;<span class="op" id="7714285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714289">m</span><span class="op" id="7714290">.</span><span class="ident" id="7714291">Set</span><span class="op" id="7714294">(</span><span class="num" id="7714295">1</span><span class="op" id="7714296">,</span>&nbsp;<span class="num" id="7714298">2</span><span class="op" id="7714299">,</span>&nbsp;<span class="ident" id="7714301">color</span><span class="op" id="7714306">.</span><span class="ident" id="7714307">NRGBA64</span><span class="op" id="7714314">{</span><span class="num" id="7714315">0xffff</span><span class="op" id="7714321">,</span>&nbsp;<span class="num" id="7714323">0xffff</span><span class="op" id="7714329">,</span>&nbsp;<span class="num" id="7714331">0xffff</span><span class="op" id="7714337">,</span>&nbsp;<span class="num" id="7714339">0x1357</span><span class="op" id="7714345">}</span><span class="op" id="7714346">)</span>&nbsp;<span class="comment" id="7714348">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714378">r</span><span class="op" id="7714379">,</span>&nbsp;<span class="ident" id="7714381">_</span><span class="op" id="7714382">,</span>&nbsp;<span class="ident" id="7714384">_</span><span class="op" id="7714385">,</span>&nbsp;<span class="ident" id="7714387">_</span>&nbsp;<span class="op" id="7714389">:=</span>&nbsp;<span class="ident" id="7714392">m</span><span class="op" id="7714393">.</span><span class="ident" id="7714394">At</span><span class="op" id="7714396">(</span><span class="num" id="7714397">1</span><span class="op" id="7714398">,</span>&nbsp;<span class="num" id="7714400">2</span><span class="op" id="7714401">)</span><span class="op" id="7714402">.</span><span class="ident" id="7714403">RGBA</span><span class="op" id="7714407">(</span><span class="op" id="7714408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7714412">if</span>&nbsp;<span class="ident" id="7714415">r</span>&nbsp;<span class="op" id="7714417">!=</span>&nbsp;<span class="num" id="7714420">0x1357</span>&nbsp;<span class="op" id="7714427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7714432">t</span><span class="op" id="7714433">.</span><span class="ident" id="7714434">Errorf</span><span class="op" id="7714440">(</span><span class="string" id="7714441">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7714479">,</span>&nbsp;<span class="ident" id="7714481">m</span><span class="op" id="7714482">,</span>&nbsp;<span class="num" id="7714484">0x1357</span><span class="op" id="7714490">,</span>&nbsp;<span class="ident" id="7714492">r</span><span class="op" id="7714493">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7714498">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7714509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7714512">}</span><br>
<span class="lineno"></span><span class="op" id="7714514">}</span>
</div>
</body>
</html>
