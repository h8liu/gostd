<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>bytes</h2>
<ul>
<li><a href="/gostd/bytes/buffer.go.html">buffer.go</a></li>
<li><a href="/gostd/bytes/buffer_test.go.html">buffer_test.go</a></li>
<li><a href="/gostd/bytes/bytes.go.html">bytes.go</a></li>
<li><a href="/gostd/bytes/bytes_decl.go.html">bytes_decl.go</a></li>
<li><a href="/gostd/bytes/bytes_test.go.html">bytes_test.go</a></li>
<li><a href="/gostd/bytes/compare_test.go.html">compare_test.go</a></li>
<li><a href="/gostd/bytes/equal_test.go.html">equal_test.go</a></li>
<li><a href="/gostd/bytes/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/bytes/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/bytes/reader.go.html" class="current">reader.go</a></li>
<li><a href="/gostd/bytes/reader_test.go.html">reader_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2004188">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2004243">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2004297">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2004348">package</span>&nbsp;<span class="ident" id="2004356">bytes</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2004363">import</span>&nbsp;<span class="op" id="2004370">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2004373">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2004383">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2004389">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2004404">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2004407">//&nbsp;A&nbsp;Reader&nbsp;implements&nbsp;the&nbsp;io.Reader,&nbsp;io.ReaderAt,&nbsp;io.WriterTo,&nbsp;io.Seeker,</span><br>
<span class="lineno"></span><span class="comment" id="2004482">//&nbsp;io.ByteScanner,&nbsp;and&nbsp;io.RuneScanner&nbsp;interfaces&nbsp;by&nbsp;reading&nbsp;from</span><br>
<span class="lineno">15</span><span class="comment" id="2004547">//&nbsp;a&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="2004564">//&nbsp;Unlike&nbsp;a&nbsp;Buffer,&nbsp;a&nbsp;Reader&nbsp;is&nbsp;read-only&nbsp;and&nbsp;supports&nbsp;seeking.</span><br>
<span class="lineno"></span><span class="keyword" id="2004628">type</span>&nbsp;<span class="ident" id="2004633">Reader</span>&nbsp;<span class="keyword" id="2004640">struct</span>&nbsp;<span class="op" id="2004647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004650">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004659">[</span><span class="op" id="2004660">]</span><span class="builtintype" id="2004661">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004667">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004676">int64</span>&nbsp;<span class="comment" id="2004682">//&nbsp;current&nbsp;reading&nbsp;index</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004708">prevRune</span>&nbsp;<span class="builtintype" id="2004717">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2004723">//&nbsp;index&nbsp;of&nbsp;previous&nbsp;rune;&nbsp;or&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="op" id="2004757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2004760">//&nbsp;Len&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;of&nbsp;the&nbsp;unread&nbsp;portion&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2004824">//&nbsp;slice.</span><br>
<span class="lineno">25</span><span class="keyword" id="2004834">func</span>&nbsp;<span class="op" id="2004839">(</span><span class="ident" id="2004840">r</span>&nbsp;<span class="op" id="2004842">*</span><span class="ident" id="2004843">Reader</span><span class="op" id="2004849">)</span>&nbsp;<span class="ident" id="2004851">Len</span><span class="op" id="2004854">(</span><span class="op" id="2004855">)</span>&nbsp;<span class="builtintype" id="2004857">int</span>&nbsp;<span class="op" id="2004861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004864">if</span>&nbsp;<span class="ident" id="2004867">r</span><span class="op" id="2004868">.</span><span class="ident" id="2004869">i</span>&nbsp;<span class="op" id="2004871">&gt;=</span>&nbsp;<span class="ident" id="2004874">int64</span><span class="op" id="2004879">(</span><span class="builtinfunc" id="2004880">len</span><span class="op" id="2004883">(</span><span class="ident" id="2004884">r</span><span class="op" id="2004885">.</span><span class="ident" id="2004886">s</span><span class="op" id="2004887">)</span><span class="op" id="2004888">)</span>&nbsp;<span class="op" id="2004890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004894">return</span>&nbsp;<span class="num" id="2004901">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004907">return</span>&nbsp;<span class="builtintype" id="2004914">int</span><span class="op" id="2004917">(</span><span class="ident" id="2004918">int64</span><span class="op" id="2004923">(</span><span class="builtinfunc" id="2004924">len</span><span class="op" id="2004927">(</span><span class="ident" id="2004928">r</span><span class="op" id="2004929">.</span><span class="ident" id="2004930">s</span><span class="op" id="2004931">)</span><span class="op" id="2004932">)</span>&nbsp;<span class="op" id="2004934">-</span>&nbsp;<span class="ident" id="2004936">r</span><span class="op" id="2004937">.</span><span class="ident" id="2004938">i</span><span class="op" id="2004939">)</span><br>
<span class="lineno">30</span><span class="op" id="2004941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2004944">func</span>&nbsp;<span class="op" id="2004949">(</span><span class="ident" id="2004950">r</span>&nbsp;<span class="op" id="2004952">*</span><span class="ident" id="2004953">Reader</span><span class="op" id="2004959">)</span>&nbsp;<span class="ident" id="2004961">Read</span><span class="op" id="2004965">(</span><span class="ident" id="2004966">b</span>&nbsp;<span class="op" id="2004968">[</span><span class="op" id="2004969">]</span><span class="builtintype" id="2004970">byte</span><span class="op" id="2004974">)</span>&nbsp;<span class="op" id="2004976">(</span><span class="ident" id="2004977">n</span>&nbsp;<span class="builtintype" id="2004979">int</span><span class="op" id="2004982">,</span>&nbsp;<span class="ident" id="2004984">err</span>&nbsp;<span class="builtintype" id="2004988">error</span><span class="op" id="2004993">)</span>&nbsp;<span class="op" id="2004995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004998">if</span>&nbsp;<span class="builtinfunc" id="2005001">len</span><span class="op" id="2005004">(</span><span class="ident" id="2005005">b</span><span class="op" id="2005006">)</span>&nbsp;<span class="op" id="2005008">==</span>&nbsp;<span class="num" id="2005011">0</span>&nbsp;<span class="op" id="2005013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005017">return</span>&nbsp;<span class="num" id="2005024">0</span><span class="op" id="2005025">,</span>&nbsp;<span class="builtintype" id="2005027">nil</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005035">if</span>&nbsp;<span class="ident" id="2005038">r</span><span class="op" id="2005039">.</span><span class="ident" id="2005040">i</span>&nbsp;<span class="op" id="2005042">&gt;=</span>&nbsp;<span class="ident" id="2005045">int64</span><span class="op" id="2005050">(</span><span class="builtinfunc" id="2005051">len</span><span class="op" id="2005054">(</span><span class="ident" id="2005055">r</span><span class="op" id="2005056">.</span><span class="ident" id="2005057">s</span><span class="op" id="2005058">)</span><span class="op" id="2005059">)</span>&nbsp;<span class="op" id="2005061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005065">return</span>&nbsp;<span class="num" id="2005072">0</span><span class="op" id="2005073">,</span>&nbsp;<span class="ident" id="2005075">io</span><span class="op" id="2005077">.</span><span class="ident" id="2005078">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005086">r</span><span class="op" id="2005087">.</span><span class="ident" id="2005088">prevRune</span>&nbsp;<span class="op" id="2005097">=</span>&nbsp;<span class="op" id="2005099">-</span><span class="num" id="2005100">1</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005103">n</span>&nbsp;<span class="op" id="2005105">=</span>&nbsp;<span class="builtinfunc" id="2005107">copy</span><span class="op" id="2005111">(</span><span class="ident" id="2005112">b</span><span class="op" id="2005113">,</span>&nbsp;<span class="ident" id="2005115">r</span><span class="op" id="2005116">.</span><span class="ident" id="2005117">s</span><span class="op" id="2005118">[</span><span class="ident" id="2005119">r</span><span class="op" id="2005120">.</span><span class="ident" id="2005121">i</span><span class="op" id="2005122">:</span><span class="op" id="2005123">]</span><span class="op" id="2005124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005127">r</span><span class="op" id="2005128">.</span><span class="ident" id="2005129">i</span>&nbsp;<span class="op" id="2005131">+=</span>&nbsp;<span class="ident" id="2005134">int64</span><span class="op" id="2005139">(</span><span class="ident" id="2005140">n</span><span class="op" id="2005141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005144">return</span><br>
<span class="lineno"></span><span class="op" id="2005151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="2005154">func</span>&nbsp;<span class="op" id="2005159">(</span><span class="ident" id="2005160">r</span>&nbsp;<span class="op" id="2005162">*</span><span class="ident" id="2005163">Reader</span><span class="op" id="2005169">)</span>&nbsp;<span class="ident" id="2005171">ReadAt</span><span class="op" id="2005177">(</span><span class="ident" id="2005178">b</span>&nbsp;<span class="op" id="2005180">[</span><span class="op" id="2005181">]</span><span class="builtintype" id="2005182">byte</span><span class="op" id="2005186">,</span>&nbsp;<span class="ident" id="2005188">off</span>&nbsp;<span class="ident" id="2005192">int64</span><span class="op" id="2005197">)</span>&nbsp;<span class="op" id="2005199">(</span><span class="ident" id="2005200">n</span>&nbsp;<span class="builtintype" id="2005202">int</span><span class="op" id="2005205">,</span>&nbsp;<span class="ident" id="2005207">err</span>&nbsp;<span class="builtintype" id="2005211">error</span><span class="op" id="2005216">)</span>&nbsp;<span class="op" id="2005218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005221">//&nbsp;cannot&nbsp;modify&nbsp;state&nbsp;-&nbsp;see&nbsp;io.ReaderAt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005263">if</span>&nbsp;<span class="ident" id="2005266">off</span>&nbsp;<span class="op" id="2005270">&lt;</span>&nbsp;<span class="num" id="2005272">0</span>&nbsp;<span class="op" id="2005274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005278">return</span>&nbsp;<span class="num" id="2005285">0</span><span class="op" id="2005286">,</span>&nbsp;<span class="ident" id="2005288">errors</span><span class="op" id="2005294">.</span><span class="ident" id="2005295">New</span><span class="op" id="2005298">(</span><span class="string" id="2005299">&#34;bytes.Reader.ReadAt:&nbsp;negative&nbsp;offset&#34;</span><span class="op" id="2005337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005340">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005343">if</span>&nbsp;<span class="ident" id="2005346">off</span>&nbsp;<span class="op" id="2005350">&gt;=</span>&nbsp;<span class="ident" id="2005353">int64</span><span class="op" id="2005358">(</span><span class="builtinfunc" id="2005359">len</span><span class="op" id="2005362">(</span><span class="ident" id="2005363">r</span><span class="op" id="2005364">.</span><span class="ident" id="2005365">s</span><span class="op" id="2005366">)</span><span class="op" id="2005367">)</span>&nbsp;<span class="op" id="2005369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005373">return</span>&nbsp;<span class="num" id="2005380">0</span><span class="op" id="2005381">,</span>&nbsp;<span class="ident" id="2005383">io</span><span class="op" id="2005385">.</span><span class="ident" id="2005386">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005394">n</span>&nbsp;<span class="op" id="2005396">=</span>&nbsp;<span class="builtinfunc" id="2005398">copy</span><span class="op" id="2005402">(</span><span class="ident" id="2005403">b</span><span class="op" id="2005404">,</span>&nbsp;<span class="ident" id="2005406">r</span><span class="op" id="2005407">.</span><span class="ident" id="2005408">s</span><span class="op" id="2005409">[</span><span class="ident" id="2005410">off</span><span class="op" id="2005413">:</span><span class="op" id="2005414">]</span><span class="op" id="2005415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005418">if</span>&nbsp;<span class="ident" id="2005421">n</span>&nbsp;<span class="op" id="2005423">&lt;</span>&nbsp;<span class="builtinfunc" id="2005425">len</span><span class="op" id="2005428">(</span><span class="ident" id="2005429">b</span><span class="op" id="2005430">)</span>&nbsp;<span class="op" id="2005432">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005436">err</span>&nbsp;<span class="op" id="2005440">=</span>&nbsp;<span class="ident" id="2005442">io</span><span class="op" id="2005444">.</span><span class="ident" id="2005445">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005453">return</span><br>
<span class="lineno"></span><span class="op" id="2005460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="2005463">func</span>&nbsp;<span class="op" id="2005468">(</span><span class="ident" id="2005469">r</span>&nbsp;<span class="op" id="2005471">*</span><span class="ident" id="2005472">Reader</span><span class="op" id="2005478">)</span>&nbsp;<span class="ident" id="2005480">ReadByte</span><span class="op" id="2005488">(</span><span class="op" id="2005489">)</span>&nbsp;<span class="op" id="2005491">(</span><span class="ident" id="2005492">b</span>&nbsp;<span class="builtintype" id="2005494">byte</span><span class="op" id="2005498">,</span>&nbsp;<span class="ident" id="2005500">err</span>&nbsp;<span class="builtintype" id="2005504">error</span><span class="op" id="2005509">)</span>&nbsp;<span class="op" id="2005511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005514">r</span><span class="op" id="2005515">.</span><span class="ident" id="2005516">prevRune</span>&nbsp;<span class="op" id="2005525">=</span>&nbsp;<span class="op" id="2005527">-</span><span class="num" id="2005528">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005531">if</span>&nbsp;<span class="ident" id="2005534">r</span><span class="op" id="2005535">.</span><span class="ident" id="2005536">i</span>&nbsp;<span class="op" id="2005538">&gt;=</span>&nbsp;<span class="ident" id="2005541">int64</span><span class="op" id="2005546">(</span><span class="builtinfunc" id="2005547">len</span><span class="op" id="2005550">(</span><span class="ident" id="2005551">r</span><span class="op" id="2005552">.</span><span class="ident" id="2005553">s</span><span class="op" id="2005554">)</span><span class="op" id="2005555">)</span>&nbsp;<span class="op" id="2005557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005561">return</span>&nbsp;<span class="num" id="2005568">0</span><span class="op" id="2005569">,</span>&nbsp;<span class="ident" id="2005571">io</span><span class="op" id="2005573">.</span><span class="ident" id="2005574">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005579">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005582">b</span>&nbsp;<span class="op" id="2005584">=</span>&nbsp;<span class="ident" id="2005586">r</span><span class="op" id="2005587">.</span><span class="ident" id="2005588">s</span><span class="op" id="2005589">[</span><span class="ident" id="2005590">r</span><span class="op" id="2005591">.</span><span class="ident" id="2005592">i</span><span class="op" id="2005593">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005596">r</span><span class="op" id="2005597">.</span><span class="ident" id="2005598">i</span><span class="op" id="2005599">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005603">return</span><br>
<span class="lineno"></span><span class="op" id="2005610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="2005613">func</span>&nbsp;<span class="op" id="2005618">(</span><span class="ident" id="2005619">r</span>&nbsp;<span class="op" id="2005621">*</span><span class="ident" id="2005622">Reader</span><span class="op" id="2005628">)</span>&nbsp;<span class="ident" id="2005630">UnreadByte</span><span class="op" id="2005640">(</span><span class="op" id="2005641">)</span>&nbsp;<span class="builtintype" id="2005643">error</span>&nbsp;<span class="op" id="2005649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005652">r</span><span class="op" id="2005653">.</span><span class="ident" id="2005654">prevRune</span>&nbsp;<span class="op" id="2005663">=</span>&nbsp;<span class="op" id="2005665">-</span><span class="num" id="2005666">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005669">if</span>&nbsp;<span class="ident" id="2005672">r</span><span class="op" id="2005673">.</span><span class="ident" id="2005674">i</span>&nbsp;<span class="op" id="2005676">&lt;=</span>&nbsp;<span class="num" id="2005679">0</span>&nbsp;<span class="op" id="2005681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005685">return</span>&nbsp;<span class="ident" id="2005692">errors</span><span class="op" id="2005698">.</span><span class="ident" id="2005699">New</span><span class="op" id="2005702">(</span><span class="string" id="2005703">&#34;bytes.Reader.UnreadByte:&nbsp;at&nbsp;beginning&nbsp;of&nbsp;slice&#34;</span><span class="op" id="2005751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005754">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005757">r</span><span class="op" id="2005758">.</span><span class="ident" id="2005759">i</span><span class="op" id="2005760">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005764">return</span>&nbsp;<span class="builtintype" id="2005771">nil</span><br>
<span class="lineno"></span><span class="op" id="2005775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2005778">func</span>&nbsp;<span class="op" id="2005783">(</span><span class="ident" id="2005784">r</span>&nbsp;<span class="op" id="2005786">*</span><span class="ident" id="2005787">Reader</span><span class="op" id="2005793">)</span>&nbsp;<span class="ident" id="2005795">ReadRune</span><span class="op" id="2005803">(</span><span class="op" id="2005804">)</span>&nbsp;<span class="op" id="2005806">(</span><span class="ident" id="2005807">ch</span>&nbsp;<span class="builtintype" id="2005810">rune</span><span class="op" id="2005814">,</span>&nbsp;<span class="ident" id="2005816">size</span>&nbsp;<span class="builtintype" id="2005821">int</span><span class="op" id="2005824">,</span>&nbsp;<span class="ident" id="2005826">err</span>&nbsp;<span class="builtintype" id="2005830">error</span><span class="op" id="2005835">)</span>&nbsp;<span class="op" id="2005837">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005840">if</span>&nbsp;<span class="ident" id="2005843">r</span><span class="op" id="2005844">.</span><span class="ident" id="2005845">i</span>&nbsp;<span class="op" id="2005847">&gt;=</span>&nbsp;<span class="ident" id="2005850">int64</span><span class="op" id="2005855">(</span><span class="builtinfunc" id="2005856">len</span><span class="op" id="2005859">(</span><span class="ident" id="2005860">r</span><span class="op" id="2005861">.</span><span class="ident" id="2005862">s</span><span class="op" id="2005863">)</span><span class="op" id="2005864">)</span>&nbsp;<span class="op" id="2005866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005870">r</span><span class="op" id="2005871">.</span><span class="ident" id="2005872">prevRune</span>&nbsp;<span class="op" id="2005881">=</span>&nbsp;<span class="op" id="2005883">-</span><span class="num" id="2005884">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005888">return</span>&nbsp;<span class="num" id="2005895">0</span><span class="op" id="2005896">,</span>&nbsp;<span class="num" id="2005898">0</span><span class="op" id="2005899">,</span>&nbsp;<span class="ident" id="2005901">io</span><span class="op" id="2005903">.</span><span class="ident" id="2005904">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005912">r</span><span class="op" id="2005913">.</span><span class="ident" id="2005914">prevRune</span>&nbsp;<span class="op" id="2005923">=</span>&nbsp;<span class="builtintype" id="2005925">int</span><span class="op" id="2005928">(</span><span class="ident" id="2005929">r</span><span class="op" id="2005930">.</span><span class="ident" id="2005931">i</span><span class="op" id="2005932">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005935">if</span>&nbsp;<span class="ident" id="2005938">c</span>&nbsp;<span class="op" id="2005940">:=</span>&nbsp;<span class="ident" id="2005943">r</span><span class="op" id="2005944">.</span><span class="ident" id="2005945">s</span><span class="op" id="2005946">[</span><span class="ident" id="2005947">r</span><span class="op" id="2005948">.</span><span class="ident" id="2005949">i</span><span class="op" id="2005950">]</span><span class="op" id="2005951">;</span>&nbsp;<span class="ident" id="2005953">c</span>&nbsp;<span class="op" id="2005955">&lt;</span>&nbsp;<span class="ident" id="2005957">utf8</span><span class="op" id="2005961">.</span><span class="ident" id="2005962">RuneSelf</span>&nbsp;<span class="op" id="2005971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005975">r</span><span class="op" id="2005976">.</span><span class="ident" id="2005977">i</span><span class="op" id="2005978">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005983">return</span>&nbsp;<span class="builtintype" id="2005990">rune</span><span class="op" id="2005994">(</span><span class="ident" id="2005995">c</span><span class="op" id="2005996">)</span><span class="op" id="2005997">,</span>&nbsp;<span class="num" id="2005999">1</span><span class="op" id="2006000">,</span>&nbsp;<span class="builtintype" id="2006002">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006010">ch</span><span class="op" id="2006012">,</span>&nbsp;<span class="ident" id="2006014">size</span>&nbsp;<span class="op" id="2006019">=</span>&nbsp;<span class="ident" id="2006021">utf8</span><span class="op" id="2006025">.</span><span class="ident" id="2006026">DecodeRune</span><span class="op" id="2006036">(</span><span class="ident" id="2006037">r</span><span class="op" id="2006038">.</span><span class="ident" id="2006039">s</span><span class="op" id="2006040">[</span><span class="ident" id="2006041">r</span><span class="op" id="2006042">.</span><span class="ident" id="2006043">i</span><span class="op" id="2006044">:</span><span class="op" id="2006045">]</span><span class="op" id="2006046">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006049">r</span><span class="op" id="2006050">.</span><span class="ident" id="2006051">i</span>&nbsp;<span class="op" id="2006053">+=</span>&nbsp;<span class="ident" id="2006056">int64</span><span class="op" id="2006061">(</span><span class="ident" id="2006062">size</span><span class="op" id="2006066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006069">return</span><br>
<span class="lineno"></span><span class="op" id="2006076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2006079">func</span>&nbsp;<span class="op" id="2006084">(</span><span class="ident" id="2006085">r</span>&nbsp;<span class="op" id="2006087">*</span><span class="ident" id="2006088">Reader</span><span class="op" id="2006094">)</span>&nbsp;<span class="ident" id="2006096">UnreadRune</span><span class="op" id="2006106">(</span><span class="op" id="2006107">)</span>&nbsp;<span class="builtintype" id="2006109">error</span>&nbsp;<span class="op" id="2006115">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006118">if</span>&nbsp;<span class="ident" id="2006121">r</span><span class="op" id="2006122">.</span><span class="ident" id="2006123">prevRune</span>&nbsp;<span class="op" id="2006132">&lt;</span>&nbsp;<span class="num" id="2006134">0</span>&nbsp;<span class="op" id="2006136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006140">return</span>&nbsp;<span class="ident" id="2006147">errors</span><span class="op" id="2006153">.</span><span class="ident" id="2006154">New</span><span class="op" id="2006157">(</span><span class="string" id="2006158">&#34;bytes.Reader.UnreadRune:&nbsp;previous&nbsp;operation&nbsp;was&nbsp;not&nbsp;ReadRune&#34;</span><span class="op" id="2006220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006226">r</span><span class="op" id="2006227">.</span><span class="ident" id="2006228">i</span>&nbsp;<span class="op" id="2006230">=</span>&nbsp;<span class="ident" id="2006232">int64</span><span class="op" id="2006237">(</span><span class="ident" id="2006238">r</span><span class="op" id="2006239">.</span><span class="ident" id="2006240">prevRune</span><span class="op" id="2006248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006251">r</span><span class="op" id="2006252">.</span><span class="ident" id="2006253">prevRune</span>&nbsp;<span class="op" id="2006262">=</span>&nbsp;<span class="op" id="2006264">-</span><span class="num" id="2006265">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006268">return</span>&nbsp;<span class="builtintype" id="2006275">nil</span><br>
<span class="lineno"></span><span class="op" id="2006279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2006282">//&nbsp;Seek&nbsp;implements&nbsp;the&nbsp;io.Seeker&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2006326">func</span>&nbsp;<span class="op" id="2006331">(</span><span class="ident" id="2006332">r</span>&nbsp;<span class="op" id="2006334">*</span><span class="ident" id="2006335">Reader</span><span class="op" id="2006341">)</span>&nbsp;<span class="ident" id="2006343">Seek</span><span class="op" id="2006347">(</span><span class="ident" id="2006348">offset</span>&nbsp;<span class="ident" id="2006355">int64</span><span class="op" id="2006360">,</span>&nbsp;<span class="ident" id="2006362">whence</span>&nbsp;<span class="builtintype" id="2006369">int</span><span class="op" id="2006372">)</span>&nbsp;<span class="op" id="2006374">(</span><span class="ident" id="2006375">int64</span><span class="op" id="2006380">,</span>&nbsp;<span class="builtintype" id="2006382">error</span><span class="op" id="2006387">)</span>&nbsp;<span class="op" id="2006389">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006392">r</span><span class="op" id="2006393">.</span><span class="ident" id="2006394">prevRune</span>&nbsp;<span class="op" id="2006403">=</span>&nbsp;<span class="op" id="2006405">-</span><span class="num" id="2006406">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006409">var</span>&nbsp;<span class="ident" id="2006413">abs</span>&nbsp;<span class="ident" id="2006417">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006424">switch</span>&nbsp;<span class="ident" id="2006431">whence</span>&nbsp;<span class="op" id="2006438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006441">case</span>&nbsp;<span class="num" id="2006446">0</span><span class="op" id="2006447">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006451">abs</span>&nbsp;<span class="op" id="2006455">=</span>&nbsp;<span class="ident" id="2006457">offset</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006465">case</span>&nbsp;<span class="num" id="2006470">1</span><span class="op" id="2006471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006475">abs</span>&nbsp;<span class="op" id="2006479">=</span>&nbsp;<span class="ident" id="2006481">int64</span><span class="op" id="2006486">(</span><span class="ident" id="2006487">r</span><span class="op" id="2006488">.</span><span class="ident" id="2006489">i</span><span class="op" id="2006490">)</span>&nbsp;<span class="op" id="2006492">+</span>&nbsp;<span class="ident" id="2006494">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006502">case</span>&nbsp;<span class="num" id="2006507">2</span><span class="op" id="2006508">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006512">abs</span>&nbsp;<span class="op" id="2006516">=</span>&nbsp;<span class="ident" id="2006518">int64</span><span class="op" id="2006523">(</span><span class="builtinfunc" id="2006524">len</span><span class="op" id="2006527">(</span><span class="ident" id="2006528">r</span><span class="op" id="2006529">.</span><span class="ident" id="2006530">s</span><span class="op" id="2006531">)</span><span class="op" id="2006532">)</span>&nbsp;<span class="op" id="2006534">+</span>&nbsp;<span class="ident" id="2006536">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006544">default</span><span class="op" id="2006551">:</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006555">return</span>&nbsp;<span class="num" id="2006562">0</span><span class="op" id="2006563">,</span>&nbsp;<span class="ident" id="2006565">errors</span><span class="op" id="2006571">.</span><span class="ident" id="2006572">New</span><span class="op" id="2006575">(</span><span class="string" id="2006576">&#34;bytes.Reader.Seek:&nbsp;invalid&nbsp;whence&#34;</span><span class="op" id="2006611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006617">if</span>&nbsp;<span class="ident" id="2006620">abs</span>&nbsp;<span class="op" id="2006624">&lt;</span>&nbsp;<span class="num" id="2006626">0</span>&nbsp;<span class="op" id="2006628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006632">return</span>&nbsp;<span class="num" id="2006639">0</span><span class="op" id="2006640">,</span>&nbsp;<span class="ident" id="2006642">errors</span><span class="op" id="2006648">.</span><span class="ident" id="2006649">New</span><span class="op" id="2006652">(</span><span class="string" id="2006653">&#34;bytes.Reader.Seek:&nbsp;negative&nbsp;position&#34;</span><span class="op" id="2006691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006694">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006697">r</span><span class="op" id="2006698">.</span><span class="ident" id="2006699">i</span>&nbsp;<span class="op" id="2006701">=</span>&nbsp;<span class="ident" id="2006703">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006708">return</span>&nbsp;<span class="ident" id="2006715">abs</span><span class="op" id="2006718">,</span>&nbsp;<span class="builtintype" id="2006720">nil</span><br>
<span class="lineno"></span><span class="op" id="2006724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2006727">//&nbsp;WriteTo&nbsp;implements&nbsp;the&nbsp;io.WriterTo&nbsp;interface.</span><br>
<span class="lineno">125</span><span class="keyword" id="2006776">func</span>&nbsp;<span class="op" id="2006781">(</span><span class="ident" id="2006782">r</span>&nbsp;<span class="op" id="2006784">*</span><span class="ident" id="2006785">Reader</span><span class="op" id="2006791">)</span>&nbsp;<span class="ident" id="2006793">WriteTo</span><span class="op" id="2006800">(</span><span class="ident" id="2006801">w</span>&nbsp;<span class="ident" id="2006803">io</span><span class="op" id="2006805">.</span><span class="ident" id="2006806">Writer</span><span class="op" id="2006812">)</span>&nbsp;<span class="op" id="2006814">(</span><span class="ident" id="2006815">n</span>&nbsp;<span class="ident" id="2006817">int64</span><span class="op" id="2006822">,</span>&nbsp;<span class="ident" id="2006824">err</span>&nbsp;<span class="builtintype" id="2006828">error</span><span class="op" id="2006833">)</span>&nbsp;<span class="op" id="2006835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006838">r</span><span class="op" id="2006839">.</span><span class="ident" id="2006840">prevRune</span>&nbsp;<span class="op" id="2006849">=</span>&nbsp;<span class="op" id="2006851">-</span><span class="num" id="2006852">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006855">if</span>&nbsp;<span class="ident" id="2006858">r</span><span class="op" id="2006859">.</span><span class="ident" id="2006860">i</span>&nbsp;<span class="op" id="2006862">&gt;=</span>&nbsp;<span class="ident" id="2006865">int64</span><span class="op" id="2006870">(</span><span class="builtinfunc" id="2006871">len</span><span class="op" id="2006874">(</span><span class="ident" id="2006875">r</span><span class="op" id="2006876">.</span><span class="ident" id="2006877">s</span><span class="op" id="2006878">)</span><span class="op" id="2006879">)</span>&nbsp;<span class="op" id="2006881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006885">return</span>&nbsp;<span class="num" id="2006892">0</span><span class="op" id="2006893">,</span>&nbsp;<span class="builtintype" id="2006895">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006900">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006903">b</span>&nbsp;<span class="op" id="2006905">:=</span>&nbsp;<span class="ident" id="2006908">r</span><span class="op" id="2006909">.</span><span class="ident" id="2006910">s</span><span class="op" id="2006911">[</span><span class="ident" id="2006912">r</span><span class="op" id="2006913">.</span><span class="ident" id="2006914">i</span><span class="op" id="2006915">:</span><span class="op" id="2006916">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006919">m</span><span class="op" id="2006920">,</span>&nbsp;<span class="ident" id="2006922">err</span>&nbsp;<span class="op" id="2006926">:=</span>&nbsp;<span class="ident" id="2006929">w</span><span class="op" id="2006930">.</span><span class="ident" id="2006931">Write</span><span class="op" id="2006936">(</span><span class="ident" id="2006937">b</span><span class="op" id="2006938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006941">if</span>&nbsp;<span class="ident" id="2006944">m</span>&nbsp;<span class="op" id="2006946">&gt;</span>&nbsp;<span class="builtinfunc" id="2006948">len</span><span class="op" id="2006951">(</span><span class="ident" id="2006952">b</span><span class="op" id="2006953">)</span>&nbsp;<span class="op" id="2006955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2006959">panic</span><span class="op" id="2006964">(</span><span class="string" id="2006965">&#34;bytes.Reader.WriteTo:&nbsp;invalid&nbsp;Write&nbsp;count&#34;</span><span class="op" id="2007008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2007011">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007014">r</span><span class="op" id="2007015">.</span><span class="ident" id="2007016">i</span>&nbsp;<span class="op" id="2007018">+=</span>&nbsp;<span class="ident" id="2007021">int64</span><span class="op" id="2007026">(</span><span class="ident" id="2007027">m</span><span class="op" id="2007028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007031">n</span>&nbsp;<span class="op" id="2007033">=</span>&nbsp;<span class="ident" id="2007035">int64</span><span class="op" id="2007040">(</span><span class="ident" id="2007041">m</span><span class="op" id="2007042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007045">if</span>&nbsp;<span class="ident" id="2007048">m</span>&nbsp;<span class="op" id="2007050">!=</span>&nbsp;<span class="builtinfunc" id="2007053">len</span><span class="op" id="2007056">(</span><span class="ident" id="2007057">b</span><span class="op" id="2007058">)</span>&nbsp;<span class="op" id="2007060">&amp;&amp;</span>&nbsp;<span class="ident" id="2007063">err</span>&nbsp;<span class="op" id="2007067">==</span>&nbsp;<span class="builtintype" id="2007070">nil</span>&nbsp;<span class="op" id="2007074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007078">err</span>&nbsp;<span class="op" id="2007082">=</span>&nbsp;<span class="ident" id="2007084">io</span><span class="op" id="2007086">.</span><span class="ident" id="2007087">ErrShortWrite</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2007102">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007105">return</span><br>
<span class="lineno"></span><span class="op" id="2007112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2007115">//&nbsp;NewReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;reading&nbsp;from&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="2007165">func</span>&nbsp;<span class="ident" id="2007170">NewReader</span><span class="op" id="2007179">(</span><span class="ident" id="2007180">b</span>&nbsp;<span class="op" id="2007182">[</span><span class="op" id="2007183">]</span><span class="builtintype" id="2007184">byte</span><span class="op" id="2007188">)</span>&nbsp;<span class="op" id="2007190">*</span><span class="ident" id="2007191">Reader</span>&nbsp;<span class="op" id="2007198">{</span>&nbsp;<span class="keyword" id="2007200">return</span>&nbsp;<span class="op" id="2007207">&amp;</span><span class="ident" id="2007208">Reader</span><span class="op" id="2007214">{</span><span class="ident" id="2007215">b</span><span class="op" id="2007216">,</span>&nbsp;<span class="num" id="2007218">0</span><span class="op" id="2007219">,</span>&nbsp;<span class="op" id="2007221">-</span><span class="num" id="2007222">1</span><span class="op" id="2007223">}</span>&nbsp;<span class="op" id="2007225">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
