<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/user</h2>
<ul>
<li><a href="/gostd/os/user/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/os/user/lookup_stubs.go.html">lookup_stubs.go</a></li>
<li><a href="/gostd/os/user/user.go.html">user.go</a></li>
<li><a href="/gostd/os/user/user_test.go.html" class="current">user_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8535377">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8535432">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8535486">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8535537">package</span>&nbsp;<span class="ident" id="8535545">user</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8535551">import</span>&nbsp;<span class="op" id="8535558">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8535561">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8535572">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8535582">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8535585">func</span>&nbsp;<span class="ident" id="8535590">check</span><span class="op" id="8535595">(</span><span class="ident" id="8535596">t</span>&nbsp;<span class="op" id="8535598">*</span><span class="ident" id="8535599">testing</span><span class="op" id="8535606">.</span><span class="ident" id="8535607">T</span><span class="op" id="8535608">)</span>&nbsp;<span class="op" id="8535610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8535613">if</span>&nbsp;<span class="op" id="8535616">!</span><span class="ident" id="8535617">implemented</span>&nbsp;<span class="op" id="8535629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8535633">t</span><span class="op" id="8535634">.</span><span class="ident" id="8535635">Skip</span><span class="op" id="8535639">(</span><span class="string" id="8535640">&#34;user:&nbsp;not&nbsp;implemented;&nbsp;skipping&nbsp;tests&#34;</span><span class="op" id="8535679">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8535682">}</span><br>
<span class="lineno"></span><span class="op" id="8535684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8535687">func</span>&nbsp;<span class="ident" id="8535692">TestCurrent</span><span class="op" id="8535703">(</span><span class="ident" id="8535704">t</span>&nbsp;<span class="op" id="8535706">*</span><span class="ident" id="8535707">testing</span><span class="op" id="8535714">.</span><span class="ident" id="8535715">T</span><span class="op" id="8535716">)</span>&nbsp;<span class="op" id="8535718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8535721">check</span><span class="op" id="8535726">(</span><span class="ident" id="8535727">t</span><span class="op" id="8535728">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8535732">u</span><span class="op" id="8535733">,</span>&nbsp;<span class="ident" id="8535735">err</span>&nbsp;<span class="op" id="8535739">:=</span>&nbsp;<span class="ident" id="8535742">Current</span><span class="op" id="8535749">(</span><span class="op" id="8535750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8535753">if</span>&nbsp;<span class="ident" id="8535756">err</span>&nbsp;<span class="op" id="8535760">!=</span>&nbsp;<span class="ident" id="8535763">nil</span>&nbsp;<span class="op" id="8535767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8535771">t</span><span class="op" id="8535772">.</span><span class="ident" id="8535773">Fatalf</span><span class="op" id="8535779">(</span><span class="string" id="8535780">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8535793">,</span>&nbsp;<span class="ident" id="8535795">err</span><span class="op" id="8535798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8535801">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8535804">if</span>&nbsp;<span class="ident" id="8535807">u</span><span class="op" id="8535808">.</span><span class="ident" id="8535809">HomeDir</span>&nbsp;<span class="op" id="8535817">==</span>&nbsp;<span class="string" id="8535820">&#34;&#34;</span>&nbsp;<span class="op" id="8535823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8535827">t</span><span class="op" id="8535828">.</span><span class="ident" id="8535829">Errorf</span><span class="op" id="8535835">(</span><span class="string" id="8535836">&#34;didn&#39;t&nbsp;get&nbsp;a&nbsp;HomeDir&#34;</span><span class="op" id="8535858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8535861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8535864">if</span>&nbsp;<span class="ident" id="8535867">u</span><span class="op" id="8535868">.</span><span class="ident" id="8535869">Username</span>&nbsp;<span class="op" id="8535878">==</span>&nbsp;<span class="string" id="8535881">&#34;&#34;</span>&nbsp;<span class="op" id="8535884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8535888">t</span><span class="op" id="8535889">.</span><span class="ident" id="8535890">Errorf</span><span class="op" id="8535896">(</span><span class="string" id="8535897">&#34;didn&#39;t&nbsp;get&nbsp;a&nbsp;username&#34;</span><span class="op" id="8535920">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8535923">}</span><br>
<span class="lineno"></span><span class="op" id="8535925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8535928">func</span>&nbsp;<span class="ident" id="8535933">compare</span><span class="op" id="8535940">(</span><span class="ident" id="8535941">t</span>&nbsp;<span class="op" id="8535943">*</span><span class="ident" id="8535944">testing</span><span class="op" id="8535951">.</span><span class="ident" id="8535952">T</span><span class="op" id="8535953">,</span>&nbsp;<span class="ident" id="8535955">want</span><span class="op" id="8535959">,</span>&nbsp;<span class="ident" id="8535961">got</span>&nbsp;<span class="op" id="8535965">*</span><span class="ident" id="8535966">User</span><span class="op" id="8535970">)</span>&nbsp;<span class="op" id="8535972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8535975">if</span>&nbsp;<span class="ident" id="8535978">want</span><span class="op" id="8535982">.</span><span class="ident" id="8535983">Uid</span>&nbsp;<span class="op" id="8535987">!=</span>&nbsp;<span class="ident" id="8535990">got</span><span class="op" id="8535993">.</span><span class="ident" id="8535994">Uid</span>&nbsp;<span class="op" id="8535998">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536002">t</span><span class="op" id="8536003">.</span><span class="ident" id="8536004">Errorf</span><span class="op" id="8536010">(</span><span class="string" id="8536011">&#34;got&nbsp;Uid=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8536032">,</span>&nbsp;<span class="ident" id="8536034">got</span><span class="op" id="8536037">.</span><span class="ident" id="8536038">Uid</span><span class="op" id="8536041">,</span>&nbsp;<span class="ident" id="8536043">want</span><span class="op" id="8536047">.</span><span class="ident" id="8536048">Uid</span><span class="op" id="8536051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536057">if</span>&nbsp;<span class="ident" id="8536060">want</span><span class="op" id="8536064">.</span><span class="ident" id="8536065">Username</span>&nbsp;<span class="op" id="8536074">!=</span>&nbsp;<span class="ident" id="8536077">got</span><span class="op" id="8536080">.</span><span class="ident" id="8536081">Username</span>&nbsp;<span class="op" id="8536090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536094">t</span><span class="op" id="8536095">.</span><span class="ident" id="8536096">Errorf</span><span class="op" id="8536102">(</span><span class="string" id="8536103">&#34;got&nbsp;Username=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8536129">,</span>&nbsp;<span class="ident" id="8536131">got</span><span class="op" id="8536134">.</span><span class="ident" id="8536135">Username</span><span class="op" id="8536143">,</span>&nbsp;<span class="ident" id="8536145">want</span><span class="op" id="8536149">.</span><span class="ident" id="8536150">Username</span><span class="op" id="8536158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536161">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536164">if</span>&nbsp;<span class="ident" id="8536167">want</span><span class="op" id="8536171">.</span><span class="ident" id="8536172">Name</span>&nbsp;<span class="op" id="8536177">!=</span>&nbsp;<span class="ident" id="8536180">got</span><span class="op" id="8536183">.</span><span class="ident" id="8536184">Name</span>&nbsp;<span class="op" id="8536189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536193">t</span><span class="op" id="8536194">.</span><span class="ident" id="8536195">Errorf</span><span class="op" id="8536201">(</span><span class="string" id="8536202">&#34;got&nbsp;Name=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8536224">,</span>&nbsp;<span class="ident" id="8536226">got</span><span class="op" id="8536229">.</span><span class="ident" id="8536230">Name</span><span class="op" id="8536234">,</span>&nbsp;<span class="ident" id="8536236">want</span><span class="op" id="8536240">.</span><span class="ident" id="8536241">Name</span><span class="op" id="8536245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8536251">//&nbsp;TODO(brainman):&nbsp;fix&nbsp;it&nbsp;once&nbsp;we&nbsp;know&nbsp;how.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536296">if</span>&nbsp;<span class="ident" id="8536299">runtime</span><span class="op" id="8536306">.</span><span class="ident" id="8536307">GOOS</span>&nbsp;<span class="op" id="8536312">==</span>&nbsp;<span class="string" id="8536315">&#34;windows&#34;</span>&nbsp;<span class="op" id="8536325">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536329">t</span><span class="op" id="8536330">.</span><span class="ident" id="8536331">Skip</span><span class="op" id="8536335">(</span><span class="string" id="8536336">&#34;skipping&nbsp;Gid&nbsp;and&nbsp;HomeDir&nbsp;comparisons&#34;</span><span class="op" id="8536374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536380">if</span>&nbsp;<span class="ident" id="8536383">want</span><span class="op" id="8536387">.</span><span class="ident" id="8536388">Gid</span>&nbsp;<span class="op" id="8536392">!=</span>&nbsp;<span class="ident" id="8536395">got</span><span class="op" id="8536398">.</span><span class="ident" id="8536399">Gid</span>&nbsp;<span class="op" id="8536403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536407">t</span><span class="op" id="8536408">.</span><span class="ident" id="8536409">Errorf</span><span class="op" id="8536415">(</span><span class="string" id="8536416">&#34;got&nbsp;Gid=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8536437">,</span>&nbsp;<span class="ident" id="8536439">got</span><span class="op" id="8536442">.</span><span class="ident" id="8536443">Gid</span><span class="op" id="8536446">,</span>&nbsp;<span class="ident" id="8536448">want</span><span class="op" id="8536452">.</span><span class="ident" id="8536453">Gid</span><span class="op" id="8536456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536459">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536462">if</span>&nbsp;<span class="ident" id="8536465">want</span><span class="op" id="8536469">.</span><span class="ident" id="8536470">HomeDir</span>&nbsp;<span class="op" id="8536478">!=</span>&nbsp;<span class="ident" id="8536481">got</span><span class="op" id="8536484">.</span><span class="ident" id="8536485">HomeDir</span>&nbsp;<span class="op" id="8536493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536497">t</span><span class="op" id="8536498">.</span><span class="ident" id="8536499">Errorf</span><span class="op" id="8536505">(</span><span class="string" id="8536506">&#34;got&nbsp;HomeDir=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8536531">,</span>&nbsp;<span class="ident" id="8536533">got</span><span class="op" id="8536536">.</span><span class="ident" id="8536537">HomeDir</span><span class="op" id="8536544">,</span>&nbsp;<span class="ident" id="8536546">want</span><span class="op" id="8536550">.</span><span class="ident" id="8536551">HomeDir</span><span class="op" id="8536558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536561">}</span><br>
<span class="lineno"></span><span class="op" id="8536563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="8536566">func</span>&nbsp;<span class="ident" id="8536571">TestLookup</span><span class="op" id="8536581">(</span><span class="ident" id="8536582">t</span>&nbsp;<span class="op" id="8536584">*</span><span class="ident" id="8536585">testing</span><span class="op" id="8536592">.</span><span class="ident" id="8536593">T</span><span class="op" id="8536594">)</span>&nbsp;<span class="op" id="8536596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536599">check</span><span class="op" id="8536604">(</span><span class="ident" id="8536605">t</span><span class="op" id="8536606">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536610">if</span>&nbsp;<span class="ident" id="8536613">runtime</span><span class="op" id="8536620">.</span><span class="ident" id="8536621">GOOS</span>&nbsp;<span class="op" id="8536626">==</span>&nbsp;<span class="string" id="8536629">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8536637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536641">t</span><span class="op" id="8536642">.</span><span class="ident" id="8536643">Skipf</span><span class="op" id="8536648">(</span><span class="string" id="8536649">&#34;Lookup&nbsp;not&nbsp;implemented&nbsp;on&nbsp;%q&#34;</span><span class="op" id="8536679">,</span>&nbsp;<span class="ident" id="8536681">runtime</span><span class="op" id="8536688">.</span><span class="ident" id="8536689">GOOS</span><span class="op" id="8536693">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536700">want</span><span class="op" id="8536704">,</span>&nbsp;<span class="ident" id="8536706">err</span>&nbsp;<span class="op" id="8536710">:=</span>&nbsp;<span class="ident" id="8536713">Current</span><span class="op" id="8536720">(</span><span class="op" id="8536721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536724">if</span>&nbsp;<span class="ident" id="8536727">err</span>&nbsp;<span class="op" id="8536731">!=</span>&nbsp;<span class="ident" id="8536734">nil</span>&nbsp;<span class="op" id="8536738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536742">t</span><span class="op" id="8536743">.</span><span class="ident" id="8536744">Fatalf</span><span class="op" id="8536750">(</span><span class="string" id="8536751">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8536764">,</span>&nbsp;<span class="ident" id="8536766">err</span><span class="op" id="8536769">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536775">got</span><span class="op" id="8536778">,</span>&nbsp;<span class="ident" id="8536780">err</span>&nbsp;<span class="op" id="8536784">:=</span>&nbsp;<span class="ident" id="8536787">Lookup</span><span class="op" id="8536793">(</span><span class="ident" id="8536794">want</span><span class="op" id="8536798">.</span><span class="ident" id="8536799">Username</span><span class="op" id="8536807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536810">if</span>&nbsp;<span class="ident" id="8536813">err</span>&nbsp;<span class="op" id="8536817">!=</span>&nbsp;<span class="ident" id="8536820">nil</span>&nbsp;<span class="op" id="8536824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536828">t</span><span class="op" id="8536829">.</span><span class="ident" id="8536830">Fatalf</span><span class="op" id="8536836">(</span><span class="string" id="8536837">&#34;Lookup:&nbsp;%v&#34;</span><span class="op" id="8536849">,</span>&nbsp;<span class="ident" id="8536851">err</span><span class="op" id="8536854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8536857">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536860">compare</span><span class="op" id="8536867">(</span><span class="ident" id="8536868">t</span><span class="op" id="8536869">,</span>&nbsp;<span class="ident" id="8536871">want</span><span class="op" id="8536875">,</span>&nbsp;<span class="ident" id="8536877">got</span><span class="op" id="8536880">)</span><br>
<span class="lineno"></span><span class="op" id="8536882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8536885">func</span>&nbsp;<span class="ident" id="8536890">TestLookupId</span><span class="op" id="8536902">(</span><span class="ident" id="8536903">t</span>&nbsp;<span class="op" id="8536905">*</span><span class="ident" id="8536906">testing</span><span class="op" id="8536913">.</span><span class="ident" id="8536914">T</span><span class="op" id="8536915">)</span>&nbsp;<span class="op" id="8536917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536920">check</span><span class="op" id="8536925">(</span><span class="ident" id="8536926">t</span><span class="op" id="8536927">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8536931">if</span>&nbsp;<span class="ident" id="8536934">runtime</span><span class="op" id="8536941">.</span><span class="ident" id="8536942">GOOS</span>&nbsp;<span class="op" id="8536947">==</span>&nbsp;<span class="string" id="8536950">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8536958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8536962">t</span><span class="op" id="8536963">.</span><span class="ident" id="8536964">Skipf</span><span class="op" id="8536969">(</span><span class="string" id="8536970">&#34;LookupId&nbsp;not&nbsp;implemented&nbsp;on&nbsp;%q&#34;</span><span class="op" id="8537002">,</span>&nbsp;<span class="ident" id="8537004">runtime</span><span class="op" id="8537011">.</span><span class="ident" id="8537012">GOOS</span><span class="op" id="8537016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8537019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8537023">want</span><span class="op" id="8537027">,</span>&nbsp;<span class="ident" id="8537029">err</span>&nbsp;<span class="op" id="8537033">:=</span>&nbsp;<span class="ident" id="8537036">Current</span><span class="op" id="8537043">(</span><span class="op" id="8537044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8537047">if</span>&nbsp;<span class="ident" id="8537050">err</span>&nbsp;<span class="op" id="8537054">!=</span>&nbsp;<span class="ident" id="8537057">nil</span>&nbsp;<span class="op" id="8537061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8537065">t</span><span class="op" id="8537066">.</span><span class="ident" id="8537067">Fatalf</span><span class="op" id="8537073">(</span><span class="string" id="8537074">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8537087">,</span>&nbsp;<span class="ident" id="8537089">err</span><span class="op" id="8537092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8537095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8537098">got</span><span class="op" id="8537101">,</span>&nbsp;<span class="ident" id="8537103">err</span>&nbsp;<span class="op" id="8537107">:=</span>&nbsp;<span class="ident" id="8537110">LookupId</span><span class="op" id="8537118">(</span><span class="ident" id="8537119">want</span><span class="op" id="8537123">.</span><span class="ident" id="8537124">Uid</span><span class="op" id="8537127">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8537130">if</span>&nbsp;<span class="ident" id="8537133">err</span>&nbsp;<span class="op" id="8537137">!=</span>&nbsp;<span class="ident" id="8537140">nil</span>&nbsp;<span class="op" id="8537144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8537148">t</span><span class="op" id="8537149">.</span><span class="ident" id="8537150">Fatalf</span><span class="op" id="8537156">(</span><span class="string" id="8537157">&#34;LookupId:&nbsp;%v&#34;</span><span class="op" id="8537171">,</span>&nbsp;<span class="ident" id="8537173">err</span><span class="op" id="8537176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8537179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8537182">compare</span><span class="op" id="8537189">(</span><span class="ident" id="8537190">t</span><span class="op" id="8537191">,</span>&nbsp;<span class="ident" id="8537193">want</span><span class="op" id="8537197">,</span>&nbsp;<span class="ident" id="8537199">got</span><span class="op" id="8537202">)</span><br>
<span class="lineno"></span><span class="op" id="8537204">}</span>
</div>
</body>
</html>
