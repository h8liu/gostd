<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2814275">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2814330">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2814384">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2814435">//&nbsp;Deep&nbsp;equality&nbsp;test&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2814473">package</span>&nbsp;<span class="ident" id="2814481">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2814490">//&nbsp;During&nbsp;deepValueEqual,&nbsp;must&nbsp;keep&nbsp;track&nbsp;of&nbsp;checks&nbsp;that&nbsp;are</span><br>
<span class="lineno">10</span><span class="comment" id="2814551">//&nbsp;in&nbsp;progress.&nbsp;&nbsp;The&nbsp;comparison&nbsp;algorithm&nbsp;assumes&nbsp;that&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2814610">//&nbsp;checks&nbsp;in&nbsp;progress&nbsp;are&nbsp;true&nbsp;when&nbsp;it&nbsp;reencounters&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="2814668">//&nbsp;Visited&nbsp;comparisons&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;map&nbsp;indexed&nbsp;by&nbsp;visit.</span><br>
<span class="lineno"></span><span class="keyword" id="2814729">type</span>&nbsp;<span class="ident" id="2814734">visit</span>&nbsp;<span class="keyword" id="2814740">struct</span>&nbsp;<span class="op" id="2814747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2814750">a1</span>&nbsp;&nbsp;<span class="builtintype" id="2814754">uintptr</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2814763">a2</span>&nbsp;&nbsp;<span class="builtintype" id="2814767">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2814776">typ</span>&nbsp;<span class="ident" id="2814780"><a href="/reflect/type.go.html#2823607">Type</a></span><br>
<span class="lineno"></span><span class="op" id="2814785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2814788">//&nbsp;Tests&nbsp;for&nbsp;deep&nbsp;equality&nbsp;using&nbsp;reflected&nbsp;types.&nbsp;The&nbsp;map&nbsp;argument&nbsp;tracks</span><br>
<span class="lineno">20</span><span class="comment" id="2814862">//&nbsp;comparisons&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;seen,&nbsp;which&nbsp;allows&nbsp;short&nbsp;circuiting&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2814939">//&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2814959">func</span>&nbsp;<span class="ident" id="2814964">deepValueEqual</span><span class="op" id="2814978">(</span><span class="ident" id="2814979">v1</span><span class="op" id="2814981">,</span>&nbsp;<span class="ident" id="2814983">v2</span>&nbsp;<span class="ident" id="2814986"><a href="/reflect/value.go.html#2875697">Value</a></span><span class="op" id="2814991">,</span>&nbsp;<span class="ident" id="2814993">visited</span>&nbsp;<span class="keyword" id="2815001">map</span><span class="op" id="2815004">[</span><span class="ident" id="2815005"><a href="/reflect/deepequal.go.html#2814734">visit</a></span><span class="op" id="2815010">]</span><span class="builtintype" id="2815011">bool</span><span class="op" id="2815015">,</span>&nbsp;<span class="ident" id="2815017">depth</span>&nbsp;<span class="builtintype" id="2815023">int</span><span class="op" id="2815026">)</span>&nbsp;<span class="builtintype" id="2815028">bool</span>&nbsp;<span class="op" id="2815033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815036">if</span>&nbsp;<span class="op" id="2815039">!</span><span class="ident" id="2815040"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815042">.</span><span class="ident" id="2815043">IsValid</span><span class="op" id="2815050">(</span><span class="op" id="2815051">)</span>&nbsp;<span class="op" id="2815053">||</span>&nbsp;<span class="op" id="2815056">!</span><span class="ident" id="2815057"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2815059">.</span><span class="ident" id="2815060">IsValid</span><span class="op" id="2815067">(</span><span class="op" id="2815068">)</span>&nbsp;<span class="op" id="2815070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815074">return</span>&nbsp;<span class="ident" id="2815081"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815083">.</span><span class="ident" id="2815084">IsValid</span><span class="op" id="2815091">(</span><span class="op" id="2815092">)</span>&nbsp;<span class="op" id="2815094">==</span>&nbsp;<span class="ident" id="2815097"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2815099">.</span><span class="ident" id="2815100">IsValid</span><span class="op" id="2815107">(</span><span class="op" id="2815108">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815114">if</span>&nbsp;<span class="ident" id="2815117"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815119">.</span><span class="ident" id="2815120">Type</span><span class="op" id="2815124">(</span><span class="op" id="2815125">)</span>&nbsp;<span class="op" id="2815127">!=</span>&nbsp;<span class="ident" id="2815130"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2815132">.</span><span class="ident" id="2815133">Type</span><span class="op" id="2815137">(</span><span class="op" id="2815138">)</span>&nbsp;<span class="op" id="2815140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815144">return</span>&nbsp;<span class="builtintype" id="2815151">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2815162">//&nbsp;if&nbsp;depth&nbsp;&gt;&nbsp;10&nbsp;{&nbsp;panic(&#34;deepValueEqual&#34;)&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;for&nbsp;debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2815225">hard</span>&nbsp;<span class="op" id="2815230">:=</span>&nbsp;<span class="keyword" id="2815233">func</span><span class="op" id="2815237">(</span><span class="ident" id="2815238">k</span>&nbsp;<span class="ident" id="2815240"><a href="/reflect/type.go.html#2829996">Kind</a></span><span class="op" id="2815244">)</span>&nbsp;<span class="builtintype" id="2815246">bool</span>&nbsp;<span class="op" id="2815251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815255">switch</span>&nbsp;<span class="ident" id="2815262"><a href="/reflect/deepequal.go.html#2815238">k</a></span>&nbsp;<span class="op" id="2815264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815268">case</span>&nbsp;<span class="ident" id="2815273"><a href="/reflect/type.go.html#2830162">Array</a></span><span class="op" id="2815278">,</span>&nbsp;<span class="ident" id="2815280"><a href="/reflect/type.go.html#2830192">Map</a></span><span class="op" id="2815283">,</span>&nbsp;<span class="ident" id="2815285"><a href="/reflect/type.go.html#2830202">Slice</a></span><span class="op" id="2815290">,</span>&nbsp;<span class="ident" id="2815292"><a href="/reflect/type.go.html#2830217">Struct</a></span><span class="op" id="2815298">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815303">return</span>&nbsp;<span class="builtintype" id="2815310">true</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815321">return</span>&nbsp;<span class="builtintype" id="2815328">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815339">if</span>&nbsp;<span class="ident" id="2815342"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815344">.</span><span class="ident" id="2815345">CanAddr</span><span class="op" id="2815352">(</span><span class="op" id="2815353">)</span>&nbsp;<span class="op" id="2815355">&amp;&amp;</span>&nbsp;<span class="ident" id="2815358"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2815360">.</span><span class="ident" id="2815361">CanAddr</span><span class="op" id="2815368">(</span><span class="op" id="2815369">)</span>&nbsp;<span class="op" id="2815371">&amp;&amp;</span>&nbsp;<span class="ident" id="2815374"><a href="/reflect/deepequal.go.html#2815225">hard</a></span><span class="op" id="2815378">(</span><span class="ident" id="2815379"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815381">.</span><span class="ident" id="2815382">Kind</span><span class="op" id="2815386">(</span><span class="op" id="2815387">)</span><span class="op" id="2815388">)</span>&nbsp;<span class="op" id="2815390">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2815394">addr1</span>&nbsp;<span class="op" id="2815400">:=</span>&nbsp;<span class="ident" id="2815403"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815405">.</span><span class="ident" id="2815406">UnsafeAddr</span><span class="op" id="2815416">(</span><span class="op" id="2815417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2815421">addr2</span>&nbsp;<span class="op" id="2815427">:=</span>&nbsp;<span class="ident" id="2815430"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2815432">.</span><span class="ident" id="2815433">UnsafeAddr</span><span class="op" id="2815443">(</span><span class="op" id="2815444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815448">if</span>&nbsp;<span class="ident" id="2815451"><a href="/reflect/deepequal.go.html#2815394">addr1</a></span>&nbsp;<span class="op" id="2815457">&gt;</span>&nbsp;<span class="ident" id="2815459"><a href="/reflect/deepequal.go.html#2815421">addr2</a></span>&nbsp;<span class="op" id="2815465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2815470">//&nbsp;Canonicalize&nbsp;order&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&nbsp;entries&nbsp;in&nbsp;visited.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2815535"><a href="/reflect/deepequal.go.html#2815394">addr1</a></span><span class="op" id="2815540">,</span>&nbsp;<span class="ident" id="2815542"><a href="/reflect/deepequal.go.html#2815421">addr2</a></span>&nbsp;<span class="op" id="2815548">=</span>&nbsp;<span class="ident" id="2815550"><a href="/reflect/deepequal.go.html#2815421">addr2</a></span><span class="op" id="2815555">,</span>&nbsp;<span class="ident" id="2815557"><a href="/reflect/deepequal.go.html#2815394">addr1</a></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2815570">//&nbsp;Short&nbsp;circuit&nbsp;if&nbsp;references&nbsp;are&nbsp;identical&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815621">if</span>&nbsp;<span class="ident" id="2815624"><a href="/reflect/deepequal.go.html#2815394">addr1</a></span>&nbsp;<span class="op" id="2815630">==</span>&nbsp;<span class="ident" id="2815633"><a href="/reflect/deepequal.go.html#2815421">addr2</a></span>&nbsp;<span class="op" id="2815639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815644">return</span>&nbsp;<span class="builtintype" id="2815651">true</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2815663">//&nbsp;...&nbsp;or&nbsp;already&nbsp;seen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2815688">typ</span>&nbsp;<span class="op" id="2815692">:=</span>&nbsp;<span class="ident" id="2815695"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815697">.</span><span class="ident" id="2815698">Type</span><span class="op" id="2815702">(</span><span class="op" id="2815703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2815707">v</span>&nbsp;<span class="op" id="2815709">:=</span>&nbsp;<span class="ident" id="2815712"><a href="/reflect/deepequal.go.html#2814734">visit</a></span><span class="op" id="2815717">{</span><span class="ident" id="2815718"><a href="/reflect/deepequal.go.html#2815394">addr1</a></span><span class="op" id="2815723">,</span>&nbsp;<span class="ident" id="2815725"><a href="/reflect/deepequal.go.html#2815421">addr2</a></span><span class="op" id="2815730">,</span>&nbsp;<span class="ident" id="2815732"><a href="/reflect/deepequal.go.html#2815688">typ</a></span><span class="op" id="2815735">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815739">if</span>&nbsp;<span class="ident" id="2815742"><a href="/reflect/deepequal.go.html#2814993">visited</a></span><span class="op" id="2815749">[</span><span class="ident" id="2815750"><a href="/reflect/deepequal.go.html#2815707">v</a></span><span class="op" id="2815751">]</span>&nbsp;<span class="op" id="2815753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815758">return</span>&nbsp;<span class="builtintype" id="2815765">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2815777">//&nbsp;Remember&nbsp;for&nbsp;later.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2815802"><a href="/reflect/deepequal.go.html#2814993">visited</a></span><span class="op" id="2815809">[</span><span class="ident" id="2815810"><a href="/reflect/deepequal.go.html#2815707">v</a></span><span class="op" id="2815811">]</span>&nbsp;<span class="op" id="2815813">=</span>&nbsp;<span class="builtintype" id="2815815">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815825">switch</span>&nbsp;<span class="ident" id="2815832"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815834">.</span><span class="ident" id="2815835">Kind</span><span class="op" id="2815839">(</span><span class="op" id="2815840">)</span>&nbsp;<span class="op" id="2815842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815845">case</span>&nbsp;<span class="ident" id="2815850"><a href="/reflect/type.go.html#2830162">Array</a></span><span class="op" id="2815855">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815859">for</span>&nbsp;<span class="ident" id="2815863">i</span>&nbsp;<span class="op" id="2815865">:=</span>&nbsp;<span class="num" id="2815868">0</span><span class="op" id="2815869">;</span>&nbsp;<span class="ident" id="2815871"><a href="/reflect/deepequal.go.html#2815863">i</a></span>&nbsp;<span class="op" id="2815873">&lt;</span>&nbsp;<span class="ident" id="2815875"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815877">.</span><span class="ident" id="2815878">Len</span><span class="op" id="2815881">(</span><span class="op" id="2815882">)</span><span class="op" id="2815883">;</span>&nbsp;<span class="ident" id="2815885"><a href="/reflect/deepequal.go.html#2815863">i</a></span><span class="op" id="2815886">++</span>&nbsp;<span class="op" id="2815889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815894">if</span>&nbsp;<span class="op" id="2815897">!</span><span class="ident" id="2815898"><a href="/reflect/deepequal.go.html#2814964">deepValueEqual</a></span><span class="op" id="2815912">(</span><span class="ident" id="2815913"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2815915">.</span><span class="ident" id="2815916">Index</span><span class="op" id="2815921">(</span><span class="ident" id="2815922"><a href="/reflect/deepequal.go.html#2815863">i</a></span><span class="op" id="2815923">)</span><span class="op" id="2815924">,</span>&nbsp;<span class="ident" id="2815926"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2815928">.</span><span class="ident" id="2815929">Index</span><span class="op" id="2815934">(</span><span class="ident" id="2815935"><a href="/reflect/deepequal.go.html#2815863">i</a></span><span class="op" id="2815936">)</span><span class="op" id="2815937">,</span>&nbsp;<span class="ident" id="2815939"><a href="/reflect/deepequal.go.html#2814993">visited</a></span><span class="op" id="2815946">,</span>&nbsp;<span class="ident" id="2815948"><a href="/reflect/deepequal.go.html#2815017">depth</a></span><span class="op" id="2815953">+</span><span class="num" id="2815954">1</span><span class="op" id="2815955">)</span>&nbsp;<span class="op" id="2815957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815963">return</span>&nbsp;<span class="builtintype" id="2815970">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2815983">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2815987">return</span>&nbsp;<span class="builtintype" id="2815994">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816000">case</span>&nbsp;<span class="ident" id="2816005"><a href="/reflect/type.go.html#2830202">Slice</a></span><span class="op" id="2816010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816014">if</span>&nbsp;<span class="ident" id="2816017"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816019">.</span><span class="ident" id="2816020">IsNil</span><span class="op" id="2816025">(</span><span class="op" id="2816026">)</span>&nbsp;<span class="op" id="2816028">!=</span>&nbsp;<span class="ident" id="2816031"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816033">.</span><span class="ident" id="2816034">IsNil</span><span class="op" id="2816039">(</span><span class="op" id="2816040">)</span>&nbsp;<span class="op" id="2816042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816047">return</span>&nbsp;<span class="builtintype" id="2816054">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816062">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816066">if</span>&nbsp;<span class="ident" id="2816069"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816071">.</span><span class="ident" id="2816072">Len</span><span class="op" id="2816075">(</span><span class="op" id="2816076">)</span>&nbsp;<span class="op" id="2816078">!=</span>&nbsp;<span class="ident" id="2816081"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816083">.</span><span class="ident" id="2816084">Len</span><span class="op" id="2816087">(</span><span class="op" id="2816088">)</span>&nbsp;<span class="op" id="2816090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816095">return</span>&nbsp;<span class="builtintype" id="2816102">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816114">if</span>&nbsp;<span class="ident" id="2816117"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816119">.</span><span class="ident" id="2816120">Pointer</span><span class="op" id="2816127">(</span><span class="op" id="2816128">)</span>&nbsp;<span class="op" id="2816130">==</span>&nbsp;<span class="ident" id="2816133"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816135">.</span><span class="ident" id="2816136">Pointer</span><span class="op" id="2816143">(</span><span class="op" id="2816144">)</span>&nbsp;<span class="op" id="2816146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816151">return</span>&nbsp;<span class="builtintype" id="2816158">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816169">for</span>&nbsp;<span class="ident" id="2816173">i</span>&nbsp;<span class="op" id="2816175">:=</span>&nbsp;<span class="num" id="2816178">0</span><span class="op" id="2816179">;</span>&nbsp;<span class="ident" id="2816181"><a href="/reflect/deepequal.go.html#2816173">i</a></span>&nbsp;<span class="op" id="2816183">&lt;</span>&nbsp;<span class="ident" id="2816185"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816187">.</span><span class="ident" id="2816188">Len</span><span class="op" id="2816191">(</span><span class="op" id="2816192">)</span><span class="op" id="2816193">;</span>&nbsp;<span class="ident" id="2816195"><a href="/reflect/deepequal.go.html#2816173">i</a></span><span class="op" id="2816196">++</span>&nbsp;<span class="op" id="2816199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816204">if</span>&nbsp;<span class="op" id="2816207">!</span><span class="ident" id="2816208"><a href="/reflect/deepequal.go.html#2814964">deepValueEqual</a></span><span class="op" id="2816222">(</span><span class="ident" id="2816223"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816225">.</span><span class="ident" id="2816226">Index</span><span class="op" id="2816231">(</span><span class="ident" id="2816232"><a href="/reflect/deepequal.go.html#2816173">i</a></span><span class="op" id="2816233">)</span><span class="op" id="2816234">,</span>&nbsp;<span class="ident" id="2816236"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816238">.</span><span class="ident" id="2816239">Index</span><span class="op" id="2816244">(</span><span class="ident" id="2816245"><a href="/reflect/deepequal.go.html#2816173">i</a></span><span class="op" id="2816246">)</span><span class="op" id="2816247">,</span>&nbsp;<span class="ident" id="2816249"><a href="/reflect/deepequal.go.html#2814993">visited</a></span><span class="op" id="2816256">,</span>&nbsp;<span class="ident" id="2816258"><a href="/reflect/deepequal.go.html#2815017">depth</a></span><span class="op" id="2816263">+</span><span class="num" id="2816264">1</span><span class="op" id="2816265">)</span>&nbsp;<span class="op" id="2816267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816273">return</span>&nbsp;<span class="builtintype" id="2816280">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816289">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816297">return</span>&nbsp;<span class="builtintype" id="2816304">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816310">case</span>&nbsp;<span class="ident" id="2816315"><a href="/reflect/type.go.html#2830181">Interface</a></span><span class="op" id="2816324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816328">if</span>&nbsp;<span class="ident" id="2816331"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816333">.</span><span class="ident" id="2816334">IsNil</span><span class="op" id="2816339">(</span><span class="op" id="2816340">)</span>&nbsp;<span class="op" id="2816342">||</span>&nbsp;<span class="ident" id="2816345"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816347">.</span><span class="ident" id="2816348">IsNil</span><span class="op" id="2816353">(</span><span class="op" id="2816354">)</span>&nbsp;<span class="op" id="2816356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816361">return</span>&nbsp;<span class="ident" id="2816368"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816370">.</span><span class="ident" id="2816371">IsNil</span><span class="op" id="2816376">(</span><span class="op" id="2816377">)</span>&nbsp;<span class="op" id="2816379">==</span>&nbsp;<span class="ident" id="2816382"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816384">.</span><span class="ident" id="2816385">IsNil</span><span class="op" id="2816390">(</span><span class="op" id="2816391">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816399">return</span>&nbsp;<span class="ident" id="2816406"><a href="/reflect/deepequal.go.html#2814964">deepValueEqual</a></span><span class="op" id="2816420">(</span><span class="ident" id="2816421"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816423">.</span><span class="ident" id="2816424">Elem</span><span class="op" id="2816428">(</span><span class="op" id="2816429">)</span><span class="op" id="2816430">,</span>&nbsp;<span class="ident" id="2816432"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816434">.</span><span class="ident" id="2816435">Elem</span><span class="op" id="2816439">(</span><span class="op" id="2816440">)</span><span class="op" id="2816441">,</span>&nbsp;<span class="ident" id="2816443"><a href="/reflect/deepequal.go.html#2814993">visited</a></span><span class="op" id="2816450">,</span>&nbsp;<span class="ident" id="2816452"><a href="/reflect/deepequal.go.html#2815017">depth</a></span><span class="op" id="2816457">+</span><span class="num" id="2816458">1</span><span class="op" id="2816459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816462">case</span>&nbsp;<span class="ident" id="2816467"><a href="/reflect/type.go.html#2830197">Ptr</a></span><span class="op" id="2816470">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816474">return</span>&nbsp;<span class="ident" id="2816481"><a href="/reflect/deepequal.go.html#2814964">deepValueEqual</a></span><span class="op" id="2816495">(</span><span class="ident" id="2816496"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816498">.</span><span class="ident" id="2816499">Elem</span><span class="op" id="2816503">(</span><span class="op" id="2816504">)</span><span class="op" id="2816505">,</span>&nbsp;<span class="ident" id="2816507"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816509">.</span><span class="ident" id="2816510">Elem</span><span class="op" id="2816514">(</span><span class="op" id="2816515">)</span><span class="op" id="2816516">,</span>&nbsp;<span class="ident" id="2816518"><a href="/reflect/deepequal.go.html#2814993">visited</a></span><span class="op" id="2816525">,</span>&nbsp;<span class="ident" id="2816527"><a href="/reflect/deepequal.go.html#2815017">depth</a></span><span class="op" id="2816532">+</span><span class="num" id="2816533">1</span><span class="op" id="2816534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816537">case</span>&nbsp;<span class="ident" id="2816542"><a href="/reflect/type.go.html#2830217">Struct</a></span><span class="op" id="2816548">:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816552">for</span>&nbsp;<span class="ident" id="2816556">i</span><span class="op" id="2816557">,</span>&nbsp;<span class="ident" id="2816559">n</span>&nbsp;<span class="op" id="2816561">:=</span>&nbsp;<span class="num" id="2816564">0</span><span class="op" id="2816565">,</span>&nbsp;<span class="ident" id="2816567"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816569">.</span><span class="ident" id="2816570">NumField</span><span class="op" id="2816578">(</span><span class="op" id="2816579">)</span><span class="op" id="2816580">;</span>&nbsp;<span class="ident" id="2816582"><a href="/reflect/deepequal.go.html#2816556">i</a></span>&nbsp;<span class="op" id="2816584">&lt;</span>&nbsp;<span class="ident" id="2816586"><a href="/reflect/deepequal.go.html#2816559">n</a></span><span class="op" id="2816587">;</span>&nbsp;<span class="ident" id="2816589"><a href="/reflect/deepequal.go.html#2816556">i</a></span><span class="op" id="2816590">++</span>&nbsp;<span class="op" id="2816593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816598">if</span>&nbsp;<span class="op" id="2816601">!</span><span class="ident" id="2816602"><a href="/reflect/deepequal.go.html#2814964">deepValueEqual</a></span><span class="op" id="2816616">(</span><span class="ident" id="2816617"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816619">.</span><span class="ident" id="2816620">Field</span><span class="op" id="2816625">(</span><span class="ident" id="2816626"><a href="/reflect/deepequal.go.html#2816556">i</a></span><span class="op" id="2816627">)</span><span class="op" id="2816628">,</span>&nbsp;<span class="ident" id="2816630"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816632">.</span><span class="ident" id="2816633">Field</span><span class="op" id="2816638">(</span><span class="ident" id="2816639"><a href="/reflect/deepequal.go.html#2816556">i</a></span><span class="op" id="2816640">)</span><span class="op" id="2816641">,</span>&nbsp;<span class="ident" id="2816643"><a href="/reflect/deepequal.go.html#2814993">visited</a></span><span class="op" id="2816650">,</span>&nbsp;<span class="ident" id="2816652"><a href="/reflect/deepequal.go.html#2815017">depth</a></span><span class="op" id="2816657">+</span><span class="num" id="2816658">1</span><span class="op" id="2816659">)</span>&nbsp;<span class="op" id="2816661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816667">return</span>&nbsp;<span class="builtintype" id="2816674">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816687">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816691">return</span>&nbsp;<span class="builtintype" id="2816698">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816704">case</span>&nbsp;<span class="ident" id="2816709"><a href="/reflect/type.go.html#2830192">Map</a></span><span class="op" id="2816712">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816716">if</span>&nbsp;<span class="ident" id="2816719"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816721">.</span><span class="ident" id="2816722">IsNil</span><span class="op" id="2816727">(</span><span class="op" id="2816728">)</span>&nbsp;<span class="op" id="2816730">!=</span>&nbsp;<span class="ident" id="2816733"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816735">.</span><span class="ident" id="2816736">IsNil</span><span class="op" id="2816741">(</span><span class="op" id="2816742">)</span>&nbsp;<span class="op" id="2816744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816749">return</span>&nbsp;<span class="builtintype" id="2816756">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816764">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816768">if</span>&nbsp;<span class="ident" id="2816771"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816773">.</span><span class="ident" id="2816774">Len</span><span class="op" id="2816777">(</span><span class="op" id="2816778">)</span>&nbsp;<span class="op" id="2816780">!=</span>&nbsp;<span class="ident" id="2816783"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816785">.</span><span class="ident" id="2816786">Len</span><span class="op" id="2816789">(</span><span class="op" id="2816790">)</span>&nbsp;<span class="op" id="2816792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816797">return</span>&nbsp;<span class="builtintype" id="2816804">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816816">if</span>&nbsp;<span class="ident" id="2816819"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816821">.</span><span class="ident" id="2816822">Pointer</span><span class="op" id="2816829">(</span><span class="op" id="2816830">)</span>&nbsp;<span class="op" id="2816832">==</span>&nbsp;<span class="ident" id="2816835"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816837">.</span><span class="ident" id="2816838">Pointer</span><span class="op" id="2816845">(</span><span class="op" id="2816846">)</span>&nbsp;<span class="op" id="2816848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816853">return</span>&nbsp;<span class="builtintype" id="2816860">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816871">for</span>&nbsp;<span class="ident" id="2816875">_</span><span class="op" id="2816876">,</span>&nbsp;<span class="ident" id="2816878">k</span>&nbsp;<span class="op" id="2816880">:=</span>&nbsp;<span class="keyword" id="2816883">range</span>&nbsp;<span class="ident" id="2816889"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816891">.</span><span class="ident" id="2816892">MapKeys</span><span class="op" id="2816899">(</span><span class="op" id="2816900">)</span>&nbsp;<span class="op" id="2816902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816907">if</span>&nbsp;<span class="op" id="2816910">!</span><span class="ident" id="2816911"><a href="/reflect/deepequal.go.html#2814964">deepValueEqual</a></span><span class="op" id="2816925">(</span><span class="ident" id="2816926"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2816928">.</span><span class="ident" id="2816929">MapIndex</span><span class="op" id="2816937">(</span><span class="ident" id="2816938"><a href="/reflect/deepequal.go.html#2816878">k</a></span><span class="op" id="2816939">)</span><span class="op" id="2816940">,</span>&nbsp;<span class="ident" id="2816942"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2816944">.</span><span class="ident" id="2816945">MapIndex</span><span class="op" id="2816953">(</span><span class="ident" id="2816954"><a href="/reflect/deepequal.go.html#2816878">k</a></span><span class="op" id="2816955">)</span><span class="op" id="2816956">,</span>&nbsp;<span class="ident" id="2816958"><a href="/reflect/deepequal.go.html#2814993">visited</a></span><span class="op" id="2816965">,</span>&nbsp;<span class="ident" id="2816967"><a href="/reflect/deepequal.go.html#2815017">depth</a></span><span class="op" id="2816972">+</span><span class="num" id="2816973">1</span><span class="op" id="2816974">)</span>&nbsp;<span class="op" id="2816976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2816982">return</span>&nbsp;<span class="builtintype" id="2816989">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2816998">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2817002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817006">return</span>&nbsp;<span class="builtintype" id="2817013">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817019">case</span>&nbsp;<span class="ident" id="2817024"><a href="/reflect/type.go.html#2830175">Func</a></span><span class="op" id="2817028">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817032">if</span>&nbsp;<span class="ident" id="2817035"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2817037">.</span><span class="ident" id="2817038">IsNil</span><span class="op" id="2817043">(</span><span class="op" id="2817044">)</span>&nbsp;<span class="op" id="2817046">&amp;&amp;</span>&nbsp;<span class="ident" id="2817049"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2817051">.</span><span class="ident" id="2817052">IsNil</span><span class="op" id="2817057">(</span><span class="op" id="2817058">)</span>&nbsp;<span class="op" id="2817060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817065">return</span>&nbsp;<span class="builtintype" id="2817072">true</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2817079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2817083">//&nbsp;Can&#39;t&nbsp;do&nbsp;better&nbsp;than&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817115">return</span>&nbsp;<span class="builtintype" id="2817122">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817129">default</span><span class="op" id="2817136">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2817140">//&nbsp;Normal&nbsp;equality&nbsp;suffices</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817170">return</span>&nbsp;<span class="ident" id="2817177"><a href="/reflect/value.go.html#2900898">valueInterface</a></span><span class="op" id="2817191">(</span><span class="ident" id="2817192"><a href="/reflect/deepequal.go.html#2814979">v1</a></span><span class="op" id="2817194">,</span>&nbsp;<span class="builtintype" id="2817196">false</span><span class="op" id="2817201">)</span>&nbsp;<span class="op" id="2817203">==</span>&nbsp;<span class="ident" id="2817206"><a href="/reflect/value.go.html#2900898">valueInterface</a></span><span class="op" id="2817220">(</span><span class="ident" id="2817221"><a href="/reflect/deepequal.go.html#2814983">v2</a></span><span class="op" id="2817223">,</span>&nbsp;<span class="builtintype" id="2817225">false</span><span class="op" id="2817230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2817233">}</span><br>
<span class="lineno"></span><span class="op" id="2817235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2817238">//&nbsp;DeepEqual&nbsp;tests&nbsp;for&nbsp;deep&nbsp;equality.&nbsp;It&nbsp;uses&nbsp;normal&nbsp;==&nbsp;equality&nbsp;where</span><br>
<span class="lineno">130</span><span class="comment" id="2817309">//&nbsp;possible&nbsp;but&nbsp;will&nbsp;scan&nbsp;elements&nbsp;of&nbsp;arrays,&nbsp;slices,&nbsp;maps,&nbsp;and&nbsp;fields&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2817383">//&nbsp;structs.&nbsp;In&nbsp;maps,&nbsp;keys&nbsp;are&nbsp;compared&nbsp;with&nbsp;==&nbsp;but&nbsp;elements&nbsp;use&nbsp;deep</span><br>
<span class="lineno"></span><span class="comment" id="2817452">//&nbsp;equality.&nbsp;DeepEqual&nbsp;correctly&nbsp;handles&nbsp;recursive&nbsp;types.&nbsp;Functions&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2817530">//&nbsp;only&nbsp;if&nbsp;they&nbsp;are&nbsp;both&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2817560">//&nbsp;An&nbsp;empty&nbsp;slice&nbsp;is&nbsp;not&nbsp;equal&nbsp;to&nbsp;a&nbsp;nil&nbsp;slice.</span><br>
<span class="lineno">135</span><span class="keyword" id="2817607">func</span>&nbsp;<span class="ident" id="2817612">DeepEqual</span><span class="op" id="2817621">(</span><span class="ident" id="2817622">a1</span><span class="op" id="2817624">,</span>&nbsp;<span class="ident" id="2817626">a2</span>&nbsp;<span class="keyword" id="2817629">interface</span><span class="op" id="2817638">{</span><span class="op" id="2817639">}</span><span class="op" id="2817640">)</span>&nbsp;<span class="builtintype" id="2817642">bool</span>&nbsp;<span class="op" id="2817647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817650">if</span>&nbsp;<span class="ident" id="2817653"><a href="/reflect/deepequal.go.html#2817622">a1</a></span>&nbsp;<span class="op" id="2817656">==</span>&nbsp;<span class="ident" id="2817659">nil</span>&nbsp;<span class="op" id="2817663">||</span>&nbsp;<span class="ident" id="2817666"><a href="/reflect/deepequal.go.html#2817626">a2</a></span>&nbsp;<span class="op" id="2817669">==</span>&nbsp;<span class="ident" id="2817672">nil</span>&nbsp;<span class="op" id="2817676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817680">return</span>&nbsp;<span class="ident" id="2817687"><a href="/reflect/deepequal.go.html#2817622">a1</a></span>&nbsp;<span class="op" id="2817690">==</span>&nbsp;<span class="ident" id="2817693"><a href="/reflect/deepequal.go.html#2817626">a2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2817697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2817700">v1</span>&nbsp;<span class="op" id="2817703">:=</span>&nbsp;<span class="ident" id="2817706"><a href="/reflect/value.go.html#2934676">ValueOf</a></span><span class="op" id="2817713">(</span><span class="ident" id="2817714"><a href="/reflect/deepequal.go.html#2817622">a1</a></span><span class="op" id="2817716">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2817719">v2</span>&nbsp;<span class="op" id="2817722">:=</span>&nbsp;<span class="ident" id="2817725"><a href="/reflect/value.go.html#2934676">ValueOf</a></span><span class="op" id="2817732">(</span><span class="ident" id="2817733"><a href="/reflect/deepequal.go.html#2817626">a2</a></span><span class="op" id="2817735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817738">if</span>&nbsp;<span class="ident" id="2817741"><a href="/reflect/deepequal.go.html#2817700">v1</a></span><span class="op" id="2817743">.</span><span class="ident" id="2817744">Type</span><span class="op" id="2817748">(</span><span class="op" id="2817749">)</span>&nbsp;<span class="op" id="2817751">!=</span>&nbsp;<span class="ident" id="2817754"><a href="/reflect/deepequal.go.html#2817719">v2</a></span><span class="op" id="2817756">.</span><span class="ident" id="2817757">Type</span><span class="op" id="2817761">(</span><span class="op" id="2817762">)</span>&nbsp;<span class="op" id="2817764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817768">return</span>&nbsp;<span class="builtintype" id="2817775">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2817782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2817785">return</span>&nbsp;<span class="ident" id="2817792"><a href="/reflect/deepequal.go.html#2814964">deepValueEqual</a></span><span class="op" id="2817806">(</span><span class="ident" id="2817807"><a href="/reflect/deepequal.go.html#2817700">v1</a></span><span class="op" id="2817809">,</span>&nbsp;<span class="ident" id="2817811"><a href="/reflect/deepequal.go.html#2817719">v2</a></span><span class="op" id="2817813">,</span>&nbsp;<span class="builtinfunc" id="2817815">make</span><span class="op" id="2817819">(</span><span class="keyword" id="2817820">map</span><span class="op" id="2817823">[</span><span class="ident" id="2817824"><a href="/reflect/deepequal.go.html#2814734">visit</a></span><span class="op" id="2817829">]</span><span class="builtintype" id="2817830">bool</span><span class="op" id="2817834">)</span><span class="op" id="2817835">,</span>&nbsp;<span class="num" id="2817837">0</span><span class="op" id="2817838">)</span><br>
<span class="lineno">145</span><span class="op" id="2817840">}</span>
</div>
</body>
</html>
