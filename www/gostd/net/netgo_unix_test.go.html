<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8278181">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8278236">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8278290">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8278341">//&nbsp;+build&nbsp;!cgo&nbsp;netgo</span><br>
<span class="lineno"></span><span class="comment" id="8278362">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8278427">package</span>&nbsp;<span class="ident" id="8278435">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="8278440">import</span>&nbsp;<span class="string" id="8278447">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8278458">func</span>&nbsp;<span class="ident" id="8278463">TestGoLookupIP</span><span class="op" id="8278477">(</span><span class="ident" id="8278478">t</span>&nbsp;<span class="op" id="8278480">*</span><span class="ident" id="8278481">testing</span><span class="op" id="8278488">.</span><span class="ident" id="8278489">T</span><span class="op" id="8278490">)</span>&nbsp;<span class="op" id="8278492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278495">host</span>&nbsp;<span class="op" id="8278500">:=</span>&nbsp;<span class="string" id="8278503">&#34;localhost&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278516">_</span><span class="op" id="8278517">,</span>&nbsp;<span class="ident" id="8278519">err</span><span class="op" id="8278522">,</span>&nbsp;<span class="ident" id="8278524">ok</span>&nbsp;<span class="op" id="8278527">:=</span>&nbsp;<span class="ident" id="8278530">cgoLookupIP</span><span class="op" id="8278541">(</span><span class="ident" id="8278542">host</span><span class="op" id="8278546">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8278549">if</span>&nbsp;<span class="ident" id="8278552">ok</span>&nbsp;<span class="op" id="8278555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278559">t</span><span class="op" id="8278560">.</span><span class="ident" id="8278561">Errorf</span><span class="op" id="8278567">(</span><span class="string" id="8278568">&#34;cgoLookupIP&nbsp;must&nbsp;be&nbsp;a&nbsp;placeholder&#34;</span><span class="op" id="8278603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8278609">if</span>&nbsp;<span class="ident" id="8278612">err</span>&nbsp;<span class="op" id="8278616">!=</span>&nbsp;<span class="ident" id="8278619">nil</span>&nbsp;<span class="op" id="8278623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278627">t</span><span class="op" id="8278628">.</span><span class="ident" id="8278629">Errorf</span><span class="op" id="8278635">(</span><span class="string" id="8278636">&#34;cgoLookupIP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8278660">,</span>&nbsp;<span class="ident" id="8278662">err</span><span class="op" id="8278665">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8278671">if</span>&nbsp;<span class="ident" id="8278674">_</span><span class="op" id="8278675">,</span>&nbsp;<span class="ident" id="8278677">err</span>&nbsp;<span class="op" id="8278681">:=</span>&nbsp;<span class="ident" id="8278684">goLookupIP</span><span class="op" id="8278694">(</span><span class="ident" id="8278695">host</span><span class="op" id="8278699">)</span><span class="op" id="8278700">;</span>&nbsp;<span class="ident" id="8278702">err</span>&nbsp;<span class="op" id="8278706">!=</span>&nbsp;<span class="ident" id="8278709">nil</span>&nbsp;<span class="op" id="8278713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278717">t</span><span class="op" id="8278718">.</span><span class="ident" id="8278719">Errorf</span><span class="op" id="8278725">(</span><span class="string" id="8278726">&#34;goLookupIP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8278749">,</span>&nbsp;<span class="ident" id="8278751">err</span><span class="op" id="8278754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278757">}</span><br>
<span class="lineno"></span><span class="op" id="8278759">}</span>
</div>
</body>
</html>
