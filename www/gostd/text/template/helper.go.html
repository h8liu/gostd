<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5728735">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5728790">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5728844">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5728895">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5728955">package</span>&nbsp;<span class="ident" id="5728963">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5728973">import</span>&nbsp;<span class="op" id="5728980">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5728983">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5728990">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5729003">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="5729019">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5729022">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5729068">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="5729149">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="5729223">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="5729250">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="5729311">func</span>&nbsp;<span class="ident" id="5729316">Must</span><span class="op" id="5729320">(</span><span class="ident" id="5729321">t</span>&nbsp;<span class="op" id="5729323">*</span><span class="ident" id="5729324">Template</span><span class="op" id="5729332">,</span>&nbsp;<span class="ident" id="5729334">err</span>&nbsp;<span class="builtintype" id="5729338">error</span><span class="op" id="5729343">)</span>&nbsp;<span class="op" id="5729345">*</span><span class="ident" id="5729346">Template</span>&nbsp;<span class="op" id="5729355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5729358">if</span>&nbsp;<span class="ident" id="5729361">err</span>&nbsp;<span class="op" id="5729365">!=</span>&nbsp;<span class="ident" id="5729368">nil</span>&nbsp;<span class="op" id="5729372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5729376">panic</span><span class="op" id="5729381">(</span><span class="ident" id="5729382">err</span><span class="op" id="5729385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5729388">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5729391">return</span>&nbsp;<span class="ident" id="5729398">t</span><br>
<span class="lineno"></span><span class="op" id="5729400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5729403">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="5729481">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="5729560">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5729633">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="5729705">func</span>&nbsp;<span class="ident" id="5729710">ParseFiles</span><span class="op" id="5729720">(</span><span class="ident" id="5729721">filenames</span>&nbsp;<span class="op" id="5729731">...</span><span class="builtintype" id="5729734">string</span><span class="op" id="5729740">)</span>&nbsp;<span class="op" id="5729742">(</span><span class="op" id="5729743">*</span><span class="ident" id="5729744">Template</span><span class="op" id="5729752">,</span>&nbsp;<span class="builtintype" id="5729754">error</span><span class="op" id="5729759">)</span>&nbsp;<span class="op" id="5729761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5729764">return</span>&nbsp;<span class="ident" id="5729771">parseFiles</span><span class="op" id="5729781">(</span><span class="ident" id="5729782">nil</span><span class="op" id="5729785">,</span>&nbsp;<span class="ident" id="5729787">filenames</span><span class="op" id="5729796">...</span><span class="op" id="5729799">)</span><br>
<span class="lineno"></span><span class="op" id="5729801">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="5729804">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5729885">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="5729959">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="5730014">func</span>&nbsp;<span class="op" id="5730019">(</span><span class="ident" id="5730020">t</span>&nbsp;<span class="op" id="5730022">*</span><span class="ident" id="5730023">Template</span><span class="op" id="5730031">)</span>&nbsp;<span class="ident" id="5730033">ParseFiles</span><span class="op" id="5730043">(</span><span class="ident" id="5730044">filenames</span>&nbsp;<span class="op" id="5730054">...</span><span class="builtintype" id="5730057">string</span><span class="op" id="5730063">)</span>&nbsp;<span class="op" id="5730065">(</span><span class="op" id="5730066">*</span><span class="ident" id="5730067">Template</span><span class="op" id="5730075">,</span>&nbsp;<span class="builtintype" id="5730077">error</span><span class="op" id="5730082">)</span>&nbsp;<span class="op" id="5730084">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5730087">return</span>&nbsp;<span class="ident" id="5730094">parseFiles</span><span class="op" id="5730104">(</span><span class="ident" id="5730105">t</span><span class="op" id="5730106">,</span>&nbsp;<span class="ident" id="5730108">filenames</span><span class="op" id="5730117">...</span><span class="op" id="5730120">)</span><br>
<span class="lineno"></span><span class="op" id="5730122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5730125">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="5730198">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="5730253">func</span>&nbsp;<span class="ident" id="5730258">parseFiles</span><span class="op" id="5730268">(</span><span class="ident" id="5730269">t</span>&nbsp;<span class="op" id="5730271">*</span><span class="ident" id="5730272">Template</span><span class="op" id="5730280">,</span>&nbsp;<span class="ident" id="5730282">filenames</span>&nbsp;<span class="op" id="5730292">...</span><span class="builtintype" id="5730295">string</span><span class="op" id="5730301">)</span>&nbsp;<span class="op" id="5730303">(</span><span class="op" id="5730304">*</span><span class="ident" id="5730305">Template</span><span class="op" id="5730313">,</span>&nbsp;<span class="builtintype" id="5730315">error</span><span class="op" id="5730320">)</span>&nbsp;<span class="op" id="5730322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5730325">if</span>&nbsp;<span class="builtinfunc" id="5730328">len</span><span class="op" id="5730331">(</span><span class="ident" id="5730332">filenames</span><span class="op" id="5730341">)</span>&nbsp;<span class="op" id="5730343">==</span>&nbsp;<span class="num" id="5730346">0</span>&nbsp;<span class="op" id="5730348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5730352">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5730398">return</span>&nbsp;<span class="ident" id="5730405">nil</span><span class="op" id="5730408">,</span>&nbsp;<span class="ident" id="5730410">fmt</span><span class="op" id="5730413">.</span><span class="ident" id="5730414">Errorf</span><span class="op" id="5730420">(</span><span class="string" id="5730421">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="5730469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5730472">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5730475">for</span>&nbsp;<span class="ident" id="5730479">_</span><span class="op" id="5730480">,</span>&nbsp;<span class="ident" id="5730482">filename</span>&nbsp;<span class="op" id="5730491">:=</span>&nbsp;<span class="keyword" id="5730494">range</span>&nbsp;<span class="ident" id="5730500">filenames</span>&nbsp;<span class="op" id="5730510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5730514">b</span><span class="op" id="5730515">,</span>&nbsp;<span class="ident" id="5730517">err</span>&nbsp;<span class="op" id="5730521">:=</span>&nbsp;<span class="ident" id="5730524">ioutil</span><span class="op" id="5730530">.</span><span class="ident" id="5730531">ReadFile</span><span class="op" id="5730539">(</span><span class="ident" id="5730540">filename</span><span class="op" id="5730548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5730552">if</span>&nbsp;<span class="ident" id="5730555">err</span>&nbsp;<span class="op" id="5730559">!=</span>&nbsp;<span class="ident" id="5730562">nil</span>&nbsp;<span class="op" id="5730566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5730571">return</span>&nbsp;<span class="ident" id="5730578">nil</span><span class="op" id="5730581">,</span>&nbsp;<span class="ident" id="5730583">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5730589">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5730593">s</span>&nbsp;<span class="op" id="5730595">:=</span>&nbsp;<span class="builtintype" id="5730598">string</span><span class="op" id="5730604">(</span><span class="ident" id="5730605">b</span><span class="op" id="5730606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5730610">name</span>&nbsp;<span class="op" id="5730615">:=</span>&nbsp;<span class="ident" id="5730618">filepath</span><span class="op" id="5730626">.</span><span class="ident" id="5730627">Base</span><span class="op" id="5730631">(</span><span class="ident" id="5730632">filename</span><span class="op" id="5730640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5730644">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5730709">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5730772">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5730842">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5730893">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5730947">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5731013">var</span>&nbsp;<span class="ident" id="5731017">tmpl</span>&nbsp;<span class="op" id="5731022">*</span><span class="ident" id="5731023">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5731034">if</span>&nbsp;<span class="ident" id="5731037">t</span>&nbsp;<span class="op" id="5731039">==</span>&nbsp;<span class="ident" id="5731042">nil</span>&nbsp;<span class="op" id="5731046">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5731051">t</span>&nbsp;<span class="op" id="5731053">=</span>&nbsp;<span class="ident" id="5731055">New</span><span class="op" id="5731058">(</span><span class="ident" id="5731059">name</span><span class="op" id="5731063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5731067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5731071">if</span>&nbsp;<span class="ident" id="5731074">name</span>&nbsp;<span class="op" id="5731079">==</span>&nbsp;<span class="ident" id="5731082">t</span><span class="op" id="5731083">.</span><span class="ident" id="5731084">Name</span><span class="op" id="5731088">(</span><span class="op" id="5731089">)</span>&nbsp;<span class="op" id="5731091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5731096">tmpl</span>&nbsp;<span class="op" id="5731101">=</span>&nbsp;<span class="ident" id="5731103">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5731107">}</span>&nbsp;<span class="keyword" id="5731109">else</span>&nbsp;<span class="op" id="5731114">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5731119">tmpl</span>&nbsp;<span class="op" id="5731124">=</span>&nbsp;<span class="ident" id="5731126">t</span><span class="op" id="5731127">.</span><span class="ident" id="5731128">New</span><span class="op" id="5731131">(</span><span class="ident" id="5731132">name</span><span class="op" id="5731136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5731140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5731144">_</span><span class="op" id="5731145">,</span>&nbsp;<span class="ident" id="5731147">err</span>&nbsp;<span class="op" id="5731151">=</span>&nbsp;<span class="ident" id="5731153">tmpl</span><span class="op" id="5731157">.</span><span class="ident" id="5731158">Parse</span><span class="op" id="5731163">(</span><span class="ident" id="5731164">s</span><span class="op" id="5731165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5731169">if</span>&nbsp;<span class="ident" id="5731172">err</span>&nbsp;<span class="op" id="5731176">!=</span>&nbsp;<span class="ident" id="5731179">nil</span>&nbsp;<span class="op" id="5731183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5731188">return</span>&nbsp;<span class="ident" id="5731195">nil</span><span class="op" id="5731198">,</span>&nbsp;<span class="ident" id="5731200">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5731206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5731209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5731212">return</span>&nbsp;<span class="ident" id="5731219">t</span><span class="op" id="5731220">,</span>&nbsp;<span class="ident" id="5731222">nil</span><br>
<span class="lineno"></span><span class="op" id="5731226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="5731229">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5731310">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="5731386">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5731462">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="5731535">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="5731596">func</span>&nbsp;<span class="ident" id="5731601">ParseGlob</span><span class="op" id="5731610">(</span><span class="ident" id="5731611">pattern</span>&nbsp;<span class="builtintype" id="5731619">string</span><span class="op" id="5731625">)</span>&nbsp;<span class="op" id="5731627">(</span><span class="op" id="5731628">*</span><span class="ident" id="5731629">Template</span><span class="op" id="5731637">,</span>&nbsp;<span class="builtintype" id="5731639">error</span><span class="op" id="5731644">)</span>&nbsp;<span class="op" id="5731646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5731649">return</span>&nbsp;<span class="ident" id="5731656">parseGlob</span><span class="op" id="5731665">(</span><span class="ident" id="5731666">nil</span><span class="op" id="5731669">,</span>&nbsp;<span class="ident" id="5731671">pattern</span><span class="op" id="5731678">)</span><br>
<span class="lineno"></span><span class="op" id="5731680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5731683">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="5731759">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5731832">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5731909">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5731985">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="5731997">func</span>&nbsp;<span class="op" id="5732002">(</span><span class="ident" id="5732003">t</span>&nbsp;<span class="op" id="5732005">*</span><span class="ident" id="5732006">Template</span><span class="op" id="5732014">)</span>&nbsp;<span class="ident" id="5732016">ParseGlob</span><span class="op" id="5732025">(</span><span class="ident" id="5732026">pattern</span>&nbsp;<span class="builtintype" id="5732034">string</span><span class="op" id="5732040">)</span>&nbsp;<span class="op" id="5732042">(</span><span class="op" id="5732043">*</span><span class="ident" id="5732044">Template</span><span class="op" id="5732052">,</span>&nbsp;<span class="builtintype" id="5732054">error</span><span class="op" id="5732059">)</span>&nbsp;<span class="op" id="5732061">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5732064">return</span>&nbsp;<span class="ident" id="5732071">parseGlob</span><span class="op" id="5732080">(</span><span class="ident" id="5732081">t</span><span class="op" id="5732082">,</span>&nbsp;<span class="ident" id="5732084">pattern</span><span class="op" id="5732091">)</span><br>
<span class="lineno"></span><span class="op" id="5732093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5732096">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="5732169">func</span>&nbsp;<span class="ident" id="5732174">parseGlob</span><span class="op" id="5732183">(</span><span class="ident" id="5732184">t</span>&nbsp;<span class="op" id="5732186">*</span><span class="ident" id="5732187">Template</span><span class="op" id="5732195">,</span>&nbsp;<span class="ident" id="5732197">pattern</span>&nbsp;<span class="builtintype" id="5732205">string</span><span class="op" id="5732211">)</span>&nbsp;<span class="op" id="5732213">(</span><span class="op" id="5732214">*</span><span class="ident" id="5732215">Template</span><span class="op" id="5732223">,</span>&nbsp;<span class="builtintype" id="5732225">error</span><span class="op" id="5732230">)</span>&nbsp;<span class="op" id="5732232">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5732235">filenames</span><span class="op" id="5732244">,</span>&nbsp;<span class="ident" id="5732246">err</span>&nbsp;<span class="op" id="5732250">:=</span>&nbsp;<span class="ident" id="5732253">filepath</span><span class="op" id="5732261">.</span><span class="ident" id="5732262">Glob</span><span class="op" id="5732266">(</span><span class="ident" id="5732267">pattern</span><span class="op" id="5732274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5732277">if</span>&nbsp;<span class="ident" id="5732280">err</span>&nbsp;<span class="op" id="5732284">!=</span>&nbsp;<span class="ident" id="5732287">nil</span>&nbsp;<span class="op" id="5732291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5732295">return</span>&nbsp;<span class="ident" id="5732302">nil</span><span class="op" id="5732305">,</span>&nbsp;<span class="ident" id="5732307">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5732312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5732315">if</span>&nbsp;<span class="builtinfunc" id="5732318">len</span><span class="op" id="5732321">(</span><span class="ident" id="5732322">filenames</span><span class="op" id="5732331">)</span>&nbsp;<span class="op" id="5732333">==</span>&nbsp;<span class="num" id="5732336">0</span>&nbsp;<span class="op" id="5732338">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5732342">return</span>&nbsp;<span class="ident" id="5732349">nil</span><span class="op" id="5732352">,</span>&nbsp;<span class="ident" id="5732354">fmt</span><span class="op" id="5732357">.</span><span class="ident" id="5732358">Errorf</span><span class="op" id="5732364">(</span><span class="string" id="5732365">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="5732406">,</span>&nbsp;<span class="ident" id="5732408">pattern</span><span class="op" id="5732415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5732418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5732421">return</span>&nbsp;<span class="ident" id="5732428">parseFiles</span><span class="op" id="5732438">(</span><span class="ident" id="5732439">t</span><span class="op" id="5732440">,</span>&nbsp;<span class="ident" id="5732442">filenames</span><span class="op" id="5732451">...</span><span class="op" id="5732454">)</span><br>
<span class="lineno"></span><span class="op" id="5732456">}</span>
</div>
</body>
</html>
