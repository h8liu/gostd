<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html" class="current">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7316450">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7316505">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7316559">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7316610">package</span>&nbsp;<span class="ident" id="7316618">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7316627">import</span>&nbsp;<span class="op" id="7316634">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7316637">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7316648">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7316658">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7316661">var</span>&nbsp;<span class="ident" id="7316665">golden</span>&nbsp;<span class="op" id="7316672">=</span>&nbsp;<span class="op" id="7316674">[</span><span class="op" id="7316675">]</span><span class="keyword" id="7316676">struct</span>&nbsp;<span class="op" id="7316683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7316686">out</span>&nbsp;<span class="builtintype" id="7316690">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7316698">in</span>&nbsp;&nbsp;<span class="builtintype" id="7316702">string</span><br>
<span class="lineno">15</span><span class="op" id="7316709">}</span><span class="op" id="7316710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316713">{</span><span class="num" id="7316714">0x00000001</span><span class="op" id="7316724">,</span>&nbsp;<span class="string" id="7316726">&#34;&#34;</span><span class="op" id="7316728">}</span><span class="op" id="7316729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316732">{</span><span class="num" id="7316733">0x00620062</span><span class="op" id="7316743">,</span>&nbsp;<span class="string" id="7316745">&#34;a&#34;</span><span class="op" id="7316748">}</span><span class="op" id="7316749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316752">{</span><span class="num" id="7316753">0x012600c4</span><span class="op" id="7316763">,</span>&nbsp;<span class="string" id="7316765">&#34;ab&#34;</span><span class="op" id="7316769">}</span><span class="op" id="7316770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316773">{</span><span class="num" id="7316774">0x024d0127</span><span class="op" id="7316784">,</span>&nbsp;<span class="string" id="7316786">&#34;abc&#34;</span><span class="op" id="7316791">}</span><span class="op" id="7316792">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316795">{</span><span class="num" id="7316796">0x03d8018b</span><span class="op" id="7316806">,</span>&nbsp;<span class="string" id="7316808">&#34;abcd&#34;</span><span class="op" id="7316814">}</span><span class="op" id="7316815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316818">{</span><span class="num" id="7316819">0x05c801f0</span><span class="op" id="7316829">,</span>&nbsp;<span class="string" id="7316831">&#34;abcde&#34;</span><span class="op" id="7316838">}</span><span class="op" id="7316839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316842">{</span><span class="num" id="7316843">0x081e0256</span><span class="op" id="7316853">,</span>&nbsp;<span class="string" id="7316855">&#34;abcdef&#34;</span><span class="op" id="7316863">}</span><span class="op" id="7316864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316867">{</span><span class="num" id="7316868">0x0adb02bd</span><span class="op" id="7316878">,</span>&nbsp;<span class="string" id="7316880">&#34;abcdefg&#34;</span><span class="op" id="7316889">}</span><span class="op" id="7316890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316893">{</span><span class="num" id="7316894">0x0e000325</span><span class="op" id="7316904">,</span>&nbsp;<span class="string" id="7316906">&#34;abcdefgh&#34;</span><span class="op" id="7316916">}</span><span class="op" id="7316917">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316920">{</span><span class="num" id="7316921">0x118e038e</span><span class="op" id="7316931">,</span>&nbsp;<span class="string" id="7316933">&#34;abcdefghi&#34;</span><span class="op" id="7316944">}</span><span class="op" id="7316945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316948">{</span><span class="num" id="7316949">0x158603f8</span><span class="op" id="7316959">,</span>&nbsp;<span class="string" id="7316961">&#34;abcdefghij&#34;</span><span class="op" id="7316973">}</span><span class="op" id="7316974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7316977">{</span><span class="num" id="7316978">0x3f090f02</span><span class="op" id="7316988">,</span>&nbsp;<span class="string" id="7316990">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7317033">}</span><span class="op" id="7317034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317037">{</span><span class="num" id="7317038">0x46d81477</span><span class="op" id="7317048">,</span>&nbsp;<span class="string" id="7317050">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7317109">}</span><span class="op" id="7317110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317113">{</span><span class="num" id="7317114">0x40ee0ee1</span><span class="op" id="7317124">,</span>&nbsp;<span class="string" id="7317126">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7317170">}</span><span class="op" id="7317171">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317174">{</span><span class="num" id="7317175">0x16661315</span><span class="op" id="7317185">,</span>&nbsp;<span class="string" id="7317187">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7317246">}</span><span class="op" id="7317247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317250">{</span><span class="num" id="7317251">0x5b2e1480</span><span class="op" id="7317261">,</span>&nbsp;<span class="string" id="7317263">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7317323">}</span><span class="op" id="7317324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317327">{</span><span class="num" id="7317328">0x8c3c09ea</span><span class="op" id="7317338">,</span>&nbsp;<span class="string" id="7317340">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7317369">}</span><span class="op" id="7317370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317373">{</span><span class="num" id="7317374">0x45ac18fd</span><span class="op" id="7317384">,</span>&nbsp;<span class="string" id="7317386">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7317455">}</span><span class="op" id="7317456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317459">{</span><span class="num" id="7317460">0x53c61462</span><span class="op" id="7317470">,</span>&nbsp;<span class="string" id="7317472">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7317531">}</span><span class="op" id="7317532">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317535">{</span><span class="num" id="7317536">0x7e511e63</span><span class="op" id="7317546">,</span>&nbsp;<span class="string" id="7317548">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7317638">}</span><span class="op" id="7317639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317642">{</span><span class="num" id="7317643">0xe4801a6a</span><span class="op" id="7317653">,</span>&nbsp;<span class="string" id="7317655">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7317732">}</span><span class="op" id="7317733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317736">{</span><span class="num" id="7317737">0x61b507df</span><span class="op" id="7317747">,</span>&nbsp;<span class="string" id="7317749">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7317775">}</span><span class="op" id="7317776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317779">{</span><span class="num" id="7317780">0xb8631171</span><span class="op" id="7317790">,</span>&nbsp;<span class="string" id="7317792">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7317843">}</span><span class="op" id="7317844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317847">{</span><span class="num" id="7317848">0x8b5e1904</span><span class="op" id="7317858">,</span>&nbsp;<span class="string" id="7317860">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7317934">}</span><span class="op" id="7317935">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7317938">{</span><span class="num" id="7317939">0x7cc6102b</span><span class="op" id="7317949">,</span>&nbsp;<span class="string" id="7317951">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7317999">}</span><span class="op" id="7318000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318003">{</span><span class="num" id="7318004">0x700318e7</span><span class="op" id="7318014">,</span>&nbsp;<span class="string" id="7318016">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7318088">}</span><span class="op" id="7318089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318092">{</span><span class="num" id="7318093">0x1e601747</span><span class="op" id="7318103">,</span>&nbsp;<span class="string" id="7318105">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7318175">}</span><span class="op" id="7318176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318179">{</span><span class="num" id="7318180">0xb55b0b09</span><span class="op" id="7318190">,</span>&nbsp;<span class="string" id="7318192">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7318226">}</span><span class="op" id="7318227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318230">{</span><span class="num" id="7318231">0x39111dd0</span><span class="op" id="7318241">,</span>&nbsp;<span class="string" id="7318243">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7318333">}</span><span class="op" id="7318334">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318337">{</span><span class="num" id="7318338">0x91dd304f</span><span class="op" id="7318348">,</span>&nbsp;<span class="string" id="7318350">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7318484">}</span><span class="op" id="7318485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318488">{</span><span class="num" id="7318489">0x2e5d1316</span><span class="op" id="7318499">,</span>&nbsp;<span class="string" id="7318501">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7318559">}</span><span class="op" id="7318560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318563">{</span><span class="num" id="7318564">0xd0201df6</span><span class="op" id="7318574">,</span>&nbsp;<span class="string" id="7318576">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="7318659">}</span><span class="op" id="7318660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318663">{</span><span class="num" id="7318664">0x211297c8</span><span class="op" id="7318674">,</span>&nbsp;<span class="ident" id="7318676">strings</span><span class="op" id="7318683">.</span><span class="ident" id="7318684">Repeat</span><span class="op" id="7318690">(</span><span class="string" id="7318691">&#34;\xff&#34;</span><span class="op" id="7318697">,</span>&nbsp;<span class="num" id="7318699">5548</span><span class="op" id="7318703">)</span>&nbsp;<span class="op" id="7318705">+</span>&nbsp;<span class="string" id="7318707">&#34;8&#34;</span><span class="op" id="7318710">}</span><span class="op" id="7318711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318714">{</span><span class="num" id="7318715">0xbaa198c8</span><span class="op" id="7318725">,</span>&nbsp;<span class="ident" id="7318727">strings</span><span class="op" id="7318734">.</span><span class="ident" id="7318735">Repeat</span><span class="op" id="7318741">(</span><span class="string" id="7318742">&#34;\xff&#34;</span><span class="op" id="7318748">,</span>&nbsp;<span class="num" id="7318750">5549</span><span class="op" id="7318754">)</span>&nbsp;<span class="op" id="7318756">+</span>&nbsp;<span class="string" id="7318758">&#34;9&#34;</span><span class="op" id="7318761">}</span><span class="op" id="7318762">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318765">{</span><span class="num" id="7318766">0x553499be</span><span class="op" id="7318776">,</span>&nbsp;<span class="ident" id="7318778">strings</span><span class="op" id="7318785">.</span><span class="ident" id="7318786">Repeat</span><span class="op" id="7318792">(</span><span class="string" id="7318793">&#34;\xff&#34;</span><span class="op" id="7318799">,</span>&nbsp;<span class="num" id="7318801">5550</span><span class="op" id="7318805">)</span>&nbsp;<span class="op" id="7318807">+</span>&nbsp;<span class="string" id="7318809">&#34;0&#34;</span><span class="op" id="7318812">}</span><span class="op" id="7318813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318816">{</span><span class="num" id="7318817">0xf0c19abe</span><span class="op" id="7318827">,</span>&nbsp;<span class="ident" id="7318829">strings</span><span class="op" id="7318836">.</span><span class="ident" id="7318837">Repeat</span><span class="op" id="7318843">(</span><span class="string" id="7318844">&#34;\xff&#34;</span><span class="op" id="7318850">,</span>&nbsp;<span class="num" id="7318852">5551</span><span class="op" id="7318856">)</span>&nbsp;<span class="op" id="7318858">+</span>&nbsp;<span class="string" id="7318860">&#34;1&#34;</span><span class="op" id="7318863">}</span><span class="op" id="7318864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318867">{</span><span class="num" id="7318868">0x8d5c9bbe</span><span class="op" id="7318878">,</span>&nbsp;<span class="ident" id="7318880">strings</span><span class="op" id="7318887">.</span><span class="ident" id="7318888">Repeat</span><span class="op" id="7318894">(</span><span class="string" id="7318895">&#34;\xff&#34;</span><span class="op" id="7318901">,</span>&nbsp;<span class="num" id="7318903">5552</span><span class="op" id="7318907">)</span>&nbsp;<span class="op" id="7318909">+</span>&nbsp;<span class="string" id="7318911">&#34;2&#34;</span><span class="op" id="7318914">}</span><span class="op" id="7318915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318918">{</span><span class="num" id="7318919">0x2af69cbe</span><span class="op" id="7318929">,</span>&nbsp;<span class="ident" id="7318931">strings</span><span class="op" id="7318938">.</span><span class="ident" id="7318939">Repeat</span><span class="op" id="7318945">(</span><span class="string" id="7318946">&#34;\xff&#34;</span><span class="op" id="7318952">,</span>&nbsp;<span class="num" id="7318954">5553</span><span class="op" id="7318958">)</span>&nbsp;<span class="op" id="7318960">+</span>&nbsp;<span class="string" id="7318962">&#34;3&#34;</span><span class="op" id="7318965">}</span><span class="op" id="7318966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7318969">{</span><span class="num" id="7318970">0xc9809dbe</span><span class="op" id="7318980">,</span>&nbsp;<span class="ident" id="7318982">strings</span><span class="op" id="7318989">.</span><span class="ident" id="7318990">Repeat</span><span class="op" id="7318996">(</span><span class="string" id="7318997">&#34;\xff&#34;</span><span class="op" id="7319003">,</span>&nbsp;<span class="num" id="7319005">5554</span><span class="op" id="7319009">)</span>&nbsp;<span class="op" id="7319011">+</span>&nbsp;<span class="string" id="7319013">&#34;4&#34;</span><span class="op" id="7319016">}</span><span class="op" id="7319017">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319020">{</span><span class="num" id="7319021">0x69189ebe</span><span class="op" id="7319031">,</span>&nbsp;<span class="ident" id="7319033">strings</span><span class="op" id="7319040">.</span><span class="ident" id="7319041">Repeat</span><span class="op" id="7319047">(</span><span class="string" id="7319048">&#34;\xff&#34;</span><span class="op" id="7319054">,</span>&nbsp;<span class="num" id="7319056">5555</span><span class="op" id="7319060">)</span>&nbsp;<span class="op" id="7319062">+</span>&nbsp;<span class="string" id="7319064">&#34;5&#34;</span><span class="op" id="7319067">}</span><span class="op" id="7319068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319071">{</span><span class="num" id="7319072">0x86af0001</span><span class="op" id="7319082">,</span>&nbsp;<span class="ident" id="7319084">strings</span><span class="op" id="7319091">.</span><span class="ident" id="7319092">Repeat</span><span class="op" id="7319098">(</span><span class="string" id="7319099">&#34;\x00&#34;</span><span class="op" id="7319105">,</span>&nbsp;<span class="num" id="7319107">1e5</span><span class="op" id="7319110">)</span><span class="op" id="7319111">}</span><span class="op" id="7319112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319115">{</span><span class="num" id="7319116">0x79660b4d</span><span class="op" id="7319126">,</span>&nbsp;<span class="ident" id="7319128">strings</span><span class="op" id="7319135">.</span><span class="ident" id="7319136">Repeat</span><span class="op" id="7319142">(</span><span class="string" id="7319143">&#34;a&#34;</span><span class="op" id="7319146">,</span>&nbsp;<span class="num" id="7319148">1e5</span><span class="op" id="7319151">)</span><span class="op" id="7319152">}</span><span class="op" id="7319153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319156">{</span><span class="num" id="7319157">0x110588ee</span><span class="op" id="7319167">,</span>&nbsp;<span class="ident" id="7319169">strings</span><span class="op" id="7319176">.</span><span class="ident" id="7319177">Repeat</span><span class="op" id="7319183">(</span><span class="string" id="7319184">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="7319212">,</span>&nbsp;<span class="num" id="7319214">1e4</span><span class="op" id="7319217">)</span><span class="op" id="7319218">}</span><span class="op" id="7319219">,</span><br>
<span class="lineno"></span><span class="op" id="7319221">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="7319224">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="7319298">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="7319365">func</span>&nbsp;<span class="ident" id="7319370">checksum</span><span class="op" id="7319378">(</span><span class="ident" id="7319379">p</span>&nbsp;<span class="op" id="7319381">[</span><span class="op" id="7319382">]</span><span class="builtintype" id="7319383">byte</span><span class="op" id="7319387">)</span>&nbsp;<span class="builtintype" id="7319389">uint32</span>&nbsp;<span class="op" id="7319396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319399">s1</span><span class="op" id="7319401">,</span>&nbsp;<span class="ident" id="7319403">s2</span>&nbsp;<span class="op" id="7319406">:=</span>&nbsp;<span class="builtintype" id="7319409">uint32</span><span class="op" id="7319415">(</span><span class="num" id="7319416">1</span><span class="op" id="7319417">)</span><span class="op" id="7319418">,</span>&nbsp;<span class="builtintype" id="7319420">uint32</span><span class="op" id="7319426">(</span><span class="num" id="7319427">0</span><span class="op" id="7319428">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7319431">for</span>&nbsp;<span class="ident" id="7319435">_</span><span class="op" id="7319436">,</span>&nbsp;<span class="ident" id="7319438">x</span>&nbsp;<span class="op" id="7319440">:=</span>&nbsp;<span class="keyword" id="7319443">range</span>&nbsp;<span class="ident" id="7319449">p</span>&nbsp;<span class="op" id="7319451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319455">s1</span>&nbsp;<span class="op" id="7319458">=</span>&nbsp;<span class="op" id="7319460">(</span><span class="ident" id="7319461">s1</span>&nbsp;<span class="op" id="7319464">+</span>&nbsp;<span class="builtintype" id="7319466">uint32</span><span class="op" id="7319472">(</span><span class="ident" id="7319473">x</span><span class="op" id="7319474">)</span><span class="op" id="7319475">)</span>&nbsp;<span class="op" id="7319477">%</span>&nbsp;<span class="ident" id="7319479">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319485">s2</span>&nbsp;<span class="op" id="7319488">=</span>&nbsp;<span class="op" id="7319490">(</span><span class="ident" id="7319491">s2</span>&nbsp;<span class="op" id="7319494">+</span>&nbsp;<span class="ident" id="7319496">s1</span><span class="op" id="7319498">)</span>&nbsp;<span class="op" id="7319500">%</span>&nbsp;<span class="ident" id="7319502">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7319510">return</span>&nbsp;<span class="ident" id="7319517">s2</span><span class="op" id="7319519">&lt;&lt;</span><span class="num" id="7319521">16</span>&nbsp;<span class="op" id="7319524">|</span>&nbsp;<span class="ident" id="7319526">s1</span><br>
<span class="lineno">70</span><span class="op" id="7319529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7319532">func</span>&nbsp;<span class="ident" id="7319537">TestGolden</span><span class="op" id="7319547">(</span><span class="ident" id="7319548">t</span>&nbsp;<span class="op" id="7319550">*</span><span class="ident" id="7319551">testing</span><span class="op" id="7319558">.</span><span class="ident" id="7319559">T</span><span class="op" id="7319560">)</span>&nbsp;<span class="op" id="7319562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7319565">for</span>&nbsp;<span class="ident" id="7319569">_</span><span class="op" id="7319570">,</span>&nbsp;<span class="ident" id="7319572">g</span>&nbsp;<span class="op" id="7319574">:=</span>&nbsp;<span class="keyword" id="7319577">range</span>&nbsp;<span class="ident" id="7319583">golden</span>&nbsp;<span class="op" id="7319590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319594">in</span>&nbsp;<span class="op" id="7319597">:=</span>&nbsp;<span class="ident" id="7319600">g</span><span class="op" id="7319601">.</span><span class="ident" id="7319602">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7319607">if</span>&nbsp;<span class="builtinfunc" id="7319610">len</span><span class="op" id="7319613">(</span><span class="ident" id="7319614">in</span><span class="op" id="7319616">)</span>&nbsp;<span class="op" id="7319618">&gt;</span>&nbsp;<span class="num" id="7319620">220</span>&nbsp;<span class="op" id="7319624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319629">in</span>&nbsp;<span class="op" id="7319632">=</span>&nbsp;<span class="ident" id="7319634">in</span><span class="op" id="7319636">[</span><span class="op" id="7319637">:</span><span class="num" id="7319638">100</span><span class="op" id="7319641">]</span>&nbsp;<span class="op" id="7319643">+</span>&nbsp;<span class="string" id="7319645">&#34;...&#34;</span>&nbsp;<span class="op" id="7319651">+</span>&nbsp;<span class="ident" id="7319653">in</span><span class="op" id="7319655">[</span><span class="builtinfunc" id="7319656">len</span><span class="op" id="7319659">(</span><span class="ident" id="7319660">in</span><span class="op" id="7319662">)</span><span class="op" id="7319663">-</span><span class="num" id="7319664">100</span><span class="op" id="7319667">:</span><span class="op" id="7319668">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319676">p</span>&nbsp;<span class="op" id="7319678">:=</span>&nbsp;<span class="op" id="7319681">[</span><span class="op" id="7319682">]</span><span class="builtintype" id="7319683">byte</span><span class="op" id="7319687">(</span><span class="ident" id="7319688">g</span><span class="op" id="7319689">.</span><span class="ident" id="7319690">in</span><span class="op" id="7319692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7319696">if</span>&nbsp;<span class="ident" id="7319699">got</span>&nbsp;<span class="op" id="7319703">:=</span>&nbsp;<span class="ident" id="7319706">checksum</span><span class="op" id="7319714">(</span><span class="ident" id="7319715">p</span><span class="op" id="7319716">)</span><span class="op" id="7319717">;</span>&nbsp;<span class="ident" id="7319719">got</span>&nbsp;<span class="op" id="7319723">!=</span>&nbsp;<span class="ident" id="7319726">g</span><span class="op" id="7319727">.</span><span class="ident" id="7319728">out</span>&nbsp;<span class="op" id="7319732">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319737">t</span><span class="op" id="7319738">.</span><span class="ident" id="7319739">Errorf</span><span class="op" id="7319745">(</span><span class="string" id="7319746">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7319800">,</span>&nbsp;<span class="ident" id="7319802">in</span><span class="op" id="7319804">,</span>&nbsp;<span class="ident" id="7319806">got</span><span class="op" id="7319809">,</span>&nbsp;<span class="ident" id="7319811">g</span><span class="op" id="7319812">.</span><span class="ident" id="7319813">out</span><span class="op" id="7319816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7319821">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7319836">if</span>&nbsp;<span class="ident" id="7319839">got</span>&nbsp;<span class="op" id="7319843">:=</span>&nbsp;<span class="ident" id="7319846">Checksum</span><span class="op" id="7319854">(</span><span class="ident" id="7319855">p</span><span class="op" id="7319856">)</span><span class="op" id="7319857">;</span>&nbsp;<span class="ident" id="7319859">got</span>&nbsp;<span class="op" id="7319863">!=</span>&nbsp;<span class="ident" id="7319866">g</span><span class="op" id="7319867">.</span><span class="ident" id="7319868">out</span>&nbsp;<span class="op" id="7319872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7319877">t</span><span class="op" id="7319878">.</span><span class="ident" id="7319879">Errorf</span><span class="op" id="7319885">(</span><span class="string" id="7319886">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7319943">,</span>&nbsp;<span class="ident" id="7319945">in</span><span class="op" id="7319947">,</span>&nbsp;<span class="ident" id="7319949">got</span><span class="op" id="7319952">,</span>&nbsp;<span class="ident" id="7319954">g</span><span class="op" id="7319955">.</span><span class="ident" id="7319956">out</span><span class="op" id="7319959">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7319964">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7319978">}</span><br>
<span class="lineno"></span><span class="op" id="7319980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7319983">func</span>&nbsp;<span class="ident" id="7319988">BenchmarkAdler32KB</span><span class="op" id="7320006">(</span><span class="ident" id="7320007">b</span>&nbsp;<span class="op" id="7320009">*</span><span class="ident" id="7320010">testing</span><span class="op" id="7320017">.</span><span class="ident" id="7320018">B</span><span class="op" id="7320019">)</span>&nbsp;<span class="op" id="7320021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320024">b</span><span class="op" id="7320025">.</span><span class="ident" id="7320026">SetBytes</span><span class="op" id="7320034">(</span><span class="num" id="7320035">1024</span><span class="op" id="7320039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320042">data</span>&nbsp;<span class="op" id="7320047">:=</span>&nbsp;<span class="builtinfunc" id="7320050">make</span><span class="op" id="7320054">(</span><span class="op" id="7320055">[</span><span class="op" id="7320056">]</span><span class="builtintype" id="7320057">byte</span><span class="op" id="7320061">,</span>&nbsp;<span class="num" id="7320063">1024</span><span class="op" id="7320067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7320070">for</span>&nbsp;<span class="ident" id="7320074">i</span>&nbsp;<span class="op" id="7320076">:=</span>&nbsp;<span class="keyword" id="7320079">range</span>&nbsp;<span class="ident" id="7320085">data</span>&nbsp;<span class="op" id="7320090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320094">data</span><span class="op" id="7320098">[</span><span class="ident" id="7320099">i</span><span class="op" id="7320100">]</span>&nbsp;<span class="op" id="7320102">=</span>&nbsp;<span class="builtintype" id="7320104">byte</span><span class="op" id="7320108">(</span><span class="ident" id="7320109">i</span><span class="op" id="7320110">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7320113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320116">h</span>&nbsp;<span class="op" id="7320118">:=</span>&nbsp;<span class="ident" id="7320121">New</span><span class="op" id="7320124">(</span><span class="op" id="7320125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320128">in</span>&nbsp;<span class="op" id="7320131">:=</span>&nbsp;<span class="builtinfunc" id="7320134">make</span><span class="op" id="7320138">(</span><span class="op" id="7320139">[</span><span class="op" id="7320140">]</span><span class="builtintype" id="7320141">byte</span><span class="op" id="7320145">,</span>&nbsp;<span class="num" id="7320147">0</span><span class="op" id="7320148">,</span>&nbsp;<span class="ident" id="7320150">h</span><span class="op" id="7320151">.</span><span class="ident" id="7320152">Size</span><span class="op" id="7320156">(</span><span class="op" id="7320157">)</span><span class="op" id="7320158">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320162">b</span><span class="op" id="7320163">.</span><span class="ident" id="7320164">ResetTimer</span><span class="op" id="7320174">(</span><span class="op" id="7320175">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7320178">for</span>&nbsp;<span class="ident" id="7320182">i</span>&nbsp;<span class="op" id="7320184">:=</span>&nbsp;<span class="num" id="7320187">0</span><span class="op" id="7320188">;</span>&nbsp;<span class="ident" id="7320190">i</span>&nbsp;<span class="op" id="7320192">&lt;</span>&nbsp;<span class="ident" id="7320194">b</span><span class="op" id="7320195">.</span><span class="ident" id="7320196">N</span><span class="op" id="7320197">;</span>&nbsp;<span class="ident" id="7320199">i</span><span class="op" id="7320200">++</span>&nbsp;<span class="op" id="7320203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320207">h</span><span class="op" id="7320208">.</span><span class="ident" id="7320209">Reset</span><span class="op" id="7320214">(</span><span class="op" id="7320215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320219">h</span><span class="op" id="7320220">.</span><span class="ident" id="7320221">Write</span><span class="op" id="7320226">(</span><span class="ident" id="7320227">data</span><span class="op" id="7320231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7320235">h</span><span class="op" id="7320236">.</span><span class="ident" id="7320237">Sum</span><span class="op" id="7320240">(</span><span class="ident" id="7320241">in</span><span class="op" id="7320243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7320246">}</span><br>
<span class="lineno">105</span><span class="op" id="7320248">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
