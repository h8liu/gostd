<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html" class="current">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3799436">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3799492">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3799546">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3799597">package</span>&nbsp;<span class="ident" id="3799605">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3799610">import</span>&nbsp;<span class="string" id="3799617">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3799625">//&nbsp;protocols&nbsp;contains&nbsp;minimal&nbsp;mappings&nbsp;between&nbsp;internet&nbsp;protocol</span><br>
<span class="lineno">10</span><span class="comment" id="3799690">//&nbsp;names&nbsp;and&nbsp;numbers&nbsp;for&nbsp;platforms&nbsp;that&nbsp;don&#39;t&nbsp;have&nbsp;a&nbsp;complete&nbsp;list&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3799760">//&nbsp;protocol&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="comment" id="3799781">//</span><br>
<span class="lineno"></span><span class="comment" id="3799784">//&nbsp;See&nbsp;http://www.iana.org/assignments/protocol-numbers</span><br>
<span class="lineno"></span><span class="keyword" id="3799840">var</span>&nbsp;<span class="ident" id="3799844">protocols</span>&nbsp;<span class="op" id="3799854">=</span>&nbsp;<span class="keyword" id="3799856">map</span><span class="op" id="3799859">[</span><span class="builtintype" id="3799860">string</span><span class="op" id="3799866">]</span><span class="builtintype" id="3799867">int</span><span class="op" id="3799870">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3799873">&#34;icmp&#34;</span><span class="op" id="3799879">:</span>&nbsp;<span class="num" id="3799881">1</span><span class="op" id="3799882">,</span>&nbsp;<span class="string" id="3799884">&#34;ICMP&#34;</span><span class="op" id="3799890">:</span>&nbsp;<span class="num" id="3799892">1</span><span class="op" id="3799893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3799896">&#34;igmp&#34;</span><span class="op" id="3799902">:</span>&nbsp;<span class="num" id="3799904">2</span><span class="op" id="3799905">,</span>&nbsp;<span class="string" id="3799907">&#34;IGMP&#34;</span><span class="op" id="3799913">:</span>&nbsp;<span class="num" id="3799915">2</span><span class="op" id="3799916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3799919">&#34;tcp&#34;</span><span class="op" id="3799924">:</span>&nbsp;<span class="num" id="3799926">6</span><span class="op" id="3799927">,</span>&nbsp;<span class="string" id="3799929">&#34;TCP&#34;</span><span class="op" id="3799934">:</span>&nbsp;<span class="num" id="3799936">6</span><span class="op" id="3799937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3799940">&#34;udp&#34;</span><span class="op" id="3799945">:</span>&nbsp;<span class="num" id="3799947">17</span><span class="op" id="3799949">,</span>&nbsp;<span class="string" id="3799951">&#34;UDP&#34;</span><span class="op" id="3799956">:</span>&nbsp;<span class="num" id="3799958">17</span><span class="op" id="3799960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3799963">&#34;ipv6-icmp&#34;</span><span class="op" id="3799974">:</span>&nbsp;<span class="num" id="3799976">58</span><span class="op" id="3799978">,</span>&nbsp;<span class="string" id="3799980">&#34;IPV6-ICMP&#34;</span><span class="op" id="3799991">:</span>&nbsp;<span class="num" id="3799993">58</span><span class="op" id="3799995">,</span>&nbsp;<span class="string" id="3799997">&#34;IPv6-ICMP&#34;</span><span class="op" id="3800008">:</span>&nbsp;<span class="num" id="3800010">58</span><span class="op" id="3800012">,</span><br>
<span class="lineno">20</span><span class="op" id="3800014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3800017">//&nbsp;LookupHost&nbsp;looks&nbsp;up&nbsp;the&nbsp;given&nbsp;host&nbsp;using&nbsp;the&nbsp;local&nbsp;resolver.</span><br>
<span class="lineno"></span><span class="comment" id="3800081">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;that&nbsp;host&#39;s&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="3800130">func</span>&nbsp;<span class="ident" id="3800135">LookupHost</span><span class="op" id="3800145">(</span><span class="ident" id="3800146">host</span>&nbsp;<span class="builtintype" id="3800151">string</span><span class="op" id="3800157">)</span>&nbsp;<span class="op" id="3800159">(</span><span class="ident" id="3800160">addrs</span>&nbsp;<span class="op" id="3800166">[</span><span class="op" id="3800167">]</span><span class="builtintype" id="3800168">string</span><span class="op" id="3800174">,</span>&nbsp;<span class="ident" id="3800176">err</span>&nbsp;<span class="builtintype" id="3800180">error</span><span class="op" id="3800185">)</span>&nbsp;<span class="op" id="3800187">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3800190">return</span>&nbsp;<span class="ident" id="3800197">lookupHost</span><span class="op" id="3800207">(</span><span class="ident" id="3800208">host</span><span class="op" id="3800212">)</span><br>
<span class="lineno"></span><span class="op" id="3800214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3800217">//&nbsp;LookupIP&nbsp;looks&nbsp;up&nbsp;host&nbsp;using&nbsp;the&nbsp;local&nbsp;resolver.</span><br>
<span class="lineno"></span><span class="comment" id="3800269">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;that&nbsp;host&#39;s&nbsp;IPv4&nbsp;and&nbsp;IPv6&nbsp;addresses.</span><br>
<span class="lineno">30</span><span class="keyword" id="3800332">func</span>&nbsp;<span class="ident" id="3800337">LookupIP</span><span class="op" id="3800345">(</span><span class="ident" id="3800346">host</span>&nbsp;<span class="builtintype" id="3800351">string</span><span class="op" id="3800357">)</span>&nbsp;<span class="op" id="3800359">(</span><span class="ident" id="3800360">addrs</span>&nbsp;<span class="op" id="3800366">[</span><span class="op" id="3800367">]</span><span class="ident" id="3800368">IP</span><span class="op" id="3800370">,</span>&nbsp;<span class="ident" id="3800372">err</span>&nbsp;<span class="builtintype" id="3800376">error</span><span class="op" id="3800381">)</span>&nbsp;<span class="op" id="3800383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3800386">return</span>&nbsp;<span class="ident" id="3800393">lookupIPMerge</span><span class="op" id="3800406">(</span><span class="ident" id="3800407">host</span><span class="op" id="3800411">)</span><br>
<span class="lineno"></span><span class="op" id="3800413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3800416">var</span>&nbsp;<span class="ident" id="3800420">lookupGroup</span>&nbsp;<span class="ident" id="3800432">singleflight</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3800446">//&nbsp;lookupIPMerge&nbsp;wraps&nbsp;lookupIP,&nbsp;but&nbsp;makes&nbsp;sure&nbsp;that&nbsp;for&nbsp;any&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="3800513">//&nbsp;host,&nbsp;only&nbsp;one&nbsp;lookup&nbsp;is&nbsp;in-flight&nbsp;at&nbsp;a&nbsp;time.&nbsp;The&nbsp;returned&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="3800582">//&nbsp;is&nbsp;always&nbsp;owned&nbsp;by&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span><span class="keyword" id="3800616">func</span>&nbsp;<span class="ident" id="3800621">lookupIPMerge</span><span class="op" id="3800634">(</span><span class="ident" id="3800635">host</span>&nbsp;<span class="builtintype" id="3800640">string</span><span class="op" id="3800646">)</span>&nbsp;<span class="op" id="3800648">(</span><span class="ident" id="3800649">addrs</span>&nbsp;<span class="op" id="3800655">[</span><span class="op" id="3800656">]</span><span class="ident" id="3800657">IP</span><span class="op" id="3800659">,</span>&nbsp;<span class="ident" id="3800661">err</span>&nbsp;<span class="builtintype" id="3800665">error</span><span class="op" id="3800670">)</span>&nbsp;<span class="op" id="3800672">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3800675">addrsi</span><span class="op" id="3800681">,</span>&nbsp;<span class="ident" id="3800683">err</span><span class="op" id="3800686">,</span>&nbsp;<span class="ident" id="3800688">shared</span>&nbsp;<span class="op" id="3800695">:=</span>&nbsp;<span class="ident" id="3800698">lookupGroup</span><span class="op" id="3800709">.</span><span class="ident" id="3800710">Do</span><span class="op" id="3800712">(</span><span class="ident" id="3800713">host</span><span class="op" id="3800717">,</span>&nbsp;<span class="keyword" id="3800719">func</span><span class="op" id="3800723">(</span><span class="op" id="3800724">)</span>&nbsp;<span class="op" id="3800726">(</span><span class="keyword" id="3800727">interface</span><span class="op" id="3800736">{</span><span class="op" id="3800737">}</span><span class="op" id="3800738">,</span>&nbsp;<span class="builtintype" id="3800740">error</span><span class="op" id="3800745">)</span>&nbsp;<span class="op" id="3800747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3800751">return</span>&nbsp;<span class="ident" id="3800758">lookupIP</span><span class="op" id="3800766">(</span><span class="ident" id="3800767">host</span><span class="op" id="3800771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3800774">}</span><span class="op" id="3800775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3800778">return</span>&nbsp;<span class="ident" id="3800785">lookupIPReturn</span><span class="op" id="3800799">(</span><span class="ident" id="3800800">addrsi</span><span class="op" id="3800806">,</span>&nbsp;<span class="ident" id="3800808">err</span><span class="op" id="3800811">,</span>&nbsp;<span class="ident" id="3800813">shared</span><span class="op" id="3800819">)</span><br>
<span class="lineno"></span><span class="op" id="3800821">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3800824">//&nbsp;lookupIPReturn&nbsp;turns&nbsp;the&nbsp;return&nbsp;values&nbsp;from&nbsp;singleflight.Do&nbsp;into</span><br>
<span class="lineno"></span><span class="comment" id="3800892">//&nbsp;the&nbsp;return&nbsp;values&nbsp;from&nbsp;LookupIP.</span><br>
<span class="lineno"></span><span class="keyword" id="3800928">func</span>&nbsp;<span class="ident" id="3800933">lookupIPReturn</span><span class="op" id="3800947">(</span><span class="ident" id="3800948">addrsi</span>&nbsp;<span class="keyword" id="3800955">interface</span><span class="op" id="3800964">{</span><span class="op" id="3800965">}</span><span class="op" id="3800966">,</span>&nbsp;<span class="ident" id="3800968">err</span>&nbsp;<span class="builtintype" id="3800972">error</span><span class="op" id="3800977">,</span>&nbsp;<span class="ident" id="3800979">shared</span>&nbsp;<span class="builtintype" id="3800986">bool</span><span class="op" id="3800990">)</span>&nbsp;<span class="op" id="3800992">(</span><span class="op" id="3800993">[</span><span class="op" id="3800994">]</span><span class="ident" id="3800995">IP</span><span class="op" id="3800997">,</span>&nbsp;<span class="builtintype" id="3800999">error</span><span class="op" id="3801004">)</span>&nbsp;<span class="op" id="3801006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801009">if</span>&nbsp;<span class="ident" id="3801012">err</span>&nbsp;<span class="op" id="3801016">!=</span>&nbsp;<span class="builtintype" id="3801019">nil</span>&nbsp;<span class="op" id="3801023">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801027">return</span>&nbsp;<span class="builtintype" id="3801034">nil</span><span class="op" id="3801037">,</span>&nbsp;<span class="ident" id="3801039">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3801044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3801047">addrs</span>&nbsp;<span class="op" id="3801053">:=</span>&nbsp;<span class="ident" id="3801056">addrsi</span><span class="op" id="3801062">.</span><span class="op" id="3801063">(</span><span class="op" id="3801064">[</span><span class="op" id="3801065">]</span><span class="ident" id="3801066">IP</span><span class="op" id="3801068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801071">if</span>&nbsp;<span class="ident" id="3801074">shared</span>&nbsp;<span class="op" id="3801081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3801085">clone</span>&nbsp;<span class="op" id="3801091">:=</span>&nbsp;<span class="builtinfunc" id="3801094">make</span><span class="op" id="3801098">(</span><span class="op" id="3801099">[</span><span class="op" id="3801100">]</span><span class="ident" id="3801101">IP</span><span class="op" id="3801103">,</span>&nbsp;<span class="builtinfunc" id="3801105">len</span><span class="op" id="3801108">(</span><span class="ident" id="3801109">addrs</span><span class="op" id="3801114">)</span><span class="op" id="3801115">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3801119">copy</span><span class="op" id="3801123">(</span><span class="ident" id="3801124">clone</span><span class="op" id="3801129">,</span>&nbsp;<span class="ident" id="3801131">addrs</span><span class="op" id="3801136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3801140">addrs</span>&nbsp;<span class="op" id="3801146">=</span>&nbsp;<span class="ident" id="3801148">clone</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3801155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801158">return</span>&nbsp;<span class="ident" id="3801165">addrs</span><span class="op" id="3801170">,</span>&nbsp;<span class="builtintype" id="3801172">nil</span><br>
<span class="lineno"></span><span class="op" id="3801176">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3801179">//&nbsp;lookupIPDeadline&nbsp;looks&nbsp;up&nbsp;a&nbsp;hostname&nbsp;with&nbsp;a&nbsp;deadline.</span><br>
<span class="lineno"></span><span class="keyword" id="3801236">func</span>&nbsp;<span class="ident" id="3801241">lookupIPDeadline</span><span class="op" id="3801257">(</span><span class="ident" id="3801258">host</span>&nbsp;<span class="builtintype" id="3801263">string</span><span class="op" id="3801269">,</span>&nbsp;<span class="ident" id="3801271">deadline</span>&nbsp;<span class="ident" id="3801280">time</span><span class="op" id="3801284">.</span><span class="ident" id="3801285">Time</span><span class="op" id="3801289">)</span>&nbsp;<span class="op" id="3801291">(</span><span class="ident" id="3801292">addrs</span>&nbsp;<span class="op" id="3801298">[</span><span class="op" id="3801299">]</span><span class="ident" id="3801300">IP</span><span class="op" id="3801302">,</span>&nbsp;<span class="ident" id="3801304">err</span>&nbsp;<span class="builtintype" id="3801308">error</span><span class="op" id="3801313">)</span>&nbsp;<span class="op" id="3801315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801318">if</span>&nbsp;<span class="ident" id="3801321">deadline</span><span class="op" id="3801329">.</span><span class="ident" id="3801330">IsZero</span><span class="op" id="3801336">(</span><span class="op" id="3801337">)</span>&nbsp;<span class="op" id="3801339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801343">return</span>&nbsp;<span class="ident" id="3801350">lookupIPMerge</span><span class="op" id="3801363">(</span><span class="ident" id="3801364">host</span><span class="op" id="3801368">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3801371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3801375">//&nbsp;We&nbsp;could&nbsp;push&nbsp;the&nbsp;deadline&nbsp;down&nbsp;into&nbsp;the&nbsp;name&nbsp;resolution</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3801436">//&nbsp;functions.&nbsp;&nbsp;However,&nbsp;the&nbsp;most&nbsp;commonly&nbsp;used&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3801499">//&nbsp;calls&nbsp;getaddrinfo,&nbsp;which&nbsp;has&nbsp;no&nbsp;timeout.</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3801545">timeout</span>&nbsp;<span class="op" id="3801553">:=</span>&nbsp;<span class="ident" id="3801556">deadline</span><span class="op" id="3801564">.</span><span class="ident" id="3801565">Sub</span><span class="op" id="3801568">(</span><span class="ident" id="3801569">time</span><span class="op" id="3801573">.</span><span class="ident" id="3801574">Now</span><span class="op" id="3801577">(</span><span class="op" id="3801578">)</span><span class="op" id="3801579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801582">if</span>&nbsp;<span class="ident" id="3801585">timeout</span>&nbsp;<span class="op" id="3801593">&lt;=</span>&nbsp;<span class="num" id="3801596">0</span>&nbsp;<span class="op" id="3801598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801602">return</span>&nbsp;<span class="builtintype" id="3801609">nil</span><span class="op" id="3801612">,</span>&nbsp;<span class="ident" id="3801614">errTimeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3801626">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3801629">t</span>&nbsp;<span class="op" id="3801631">:=</span>&nbsp;<span class="ident" id="3801634">time</span><span class="op" id="3801638">.</span><span class="ident" id="3801639">NewTimer</span><span class="op" id="3801647">(</span><span class="ident" id="3801648">timeout</span><span class="op" id="3801655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801658">defer</span>&nbsp;<span class="ident" id="3801664">t</span><span class="op" id="3801665">.</span><span class="ident" id="3801666">Stop</span><span class="op" id="3801670">(</span><span class="op" id="3801671">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3801675">ch</span>&nbsp;<span class="op" id="3801678">:=</span>&nbsp;<span class="ident" id="3801681">lookupGroup</span><span class="op" id="3801692">.</span><span class="ident" id="3801693">DoChan</span><span class="op" id="3801699">(</span><span class="ident" id="3801700">host</span><span class="op" id="3801704">,</span>&nbsp;<span class="keyword" id="3801706">func</span><span class="op" id="3801710">(</span><span class="op" id="3801711">)</span>&nbsp;<span class="op" id="3801713">(</span><span class="keyword" id="3801714">interface</span><span class="op" id="3801723">{</span><span class="op" id="3801724">}</span><span class="op" id="3801725">,</span>&nbsp;<span class="builtintype" id="3801727">error</span><span class="op" id="3801732">)</span>&nbsp;<span class="op" id="3801734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801738">return</span>&nbsp;<span class="ident" id="3801745">lookupIP</span><span class="op" id="3801753">(</span><span class="ident" id="3801754">host</span><span class="op" id="3801758">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3801761">}</span><span class="op" id="3801762">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801766">select</span>&nbsp;<span class="op" id="3801773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3801776">case</span>&nbsp;<span class="op" id="3801781">&lt;-</span><span class="ident" id="3801783">t</span><span class="op" id="3801784">.</span><span class="ident" id="3801785">C</span><span class="op" id="3801786">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3801790">//&nbsp;The&nbsp;DNS&nbsp;lookup&nbsp;timed&nbsp;out&nbsp;for&nbsp;some&nbsp;reason.&nbsp;&nbsp;Force</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3801844">//&nbsp;future&nbsp;requests&nbsp;to&nbsp;start&nbsp;the&nbsp;DNS&nbsp;lookup&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3801895">//&nbsp;rather&nbsp;than&nbsp;waiting&nbsp;for&nbsp;the&nbsp;current&nbsp;lookup&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3801946">//&nbsp;complete.&nbsp;&nbsp;See&nbsp;issue&nbsp;8602.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3801978">lookupGroup</span><span class="op" id="3801989">.</span><span class="ident" id="3801990">Forget</span><span class="op" id="3801996">(</span><span class="ident" id="3801997">host</span><span class="op" id="3802001">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3802006">return</span>&nbsp;<span class="builtintype" id="3802013">nil</span><span class="op" id="3802016">,</span>&nbsp;<span class="ident" id="3802018">errTimeout</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3802031">case</span>&nbsp;<span class="ident" id="3802036">r</span>&nbsp;<span class="op" id="3802038">:=</span>&nbsp;<span class="op" id="3802041">&lt;-</span><span class="ident" id="3802043">ch</span><span class="op" id="3802045">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3802049">return</span>&nbsp;<span class="ident" id="3802056">lookupIPReturn</span><span class="op" id="3802070">(</span><span class="ident" id="3802071">r</span><span class="op" id="3802072">.</span><span class="ident" id="3802073">v</span><span class="op" id="3802074">,</span>&nbsp;<span class="ident" id="3802076">r</span><span class="op" id="3802077">.</span><span class="ident" id="3802078">err</span><span class="op" id="3802081">,</span>&nbsp;<span class="ident" id="3802083">r</span><span class="op" id="3802084">.</span><span class="ident" id="3802085">shared</span><span class="op" id="3802091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3802094">}</span><br>
<span class="lineno">95</span><span class="op" id="3802096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3802099">//&nbsp;LookupPort&nbsp;looks&nbsp;up&nbsp;the&nbsp;port&nbsp;for&nbsp;the&nbsp;given&nbsp;network&nbsp;and&nbsp;service.</span><br>
<span class="lineno"></span><span class="keyword" id="3802166">func</span>&nbsp;<span class="ident" id="3802171">LookupPort</span><span class="op" id="3802181">(</span><span class="ident" id="3802182">network</span><span class="op" id="3802189">,</span>&nbsp;<span class="ident" id="3802191">service</span>&nbsp;<span class="builtintype" id="3802199">string</span><span class="op" id="3802205">)</span>&nbsp;<span class="op" id="3802207">(</span><span class="ident" id="3802208">port</span>&nbsp;<span class="builtintype" id="3802213">int</span><span class="op" id="3802216">,</span>&nbsp;<span class="ident" id="3802218">err</span>&nbsp;<span class="builtintype" id="3802222">error</span><span class="op" id="3802227">)</span>&nbsp;<span class="op" id="3802229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3802232">return</span>&nbsp;<span class="ident" id="3802239">lookupPort</span><span class="op" id="3802249">(</span><span class="ident" id="3802250">network</span><span class="op" id="3802257">,</span>&nbsp;<span class="ident" id="3802259">service</span><span class="op" id="3802266">)</span><br>
<span class="lineno">100</span><span class="op" id="3802268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3802271">//&nbsp;LookupCNAME&nbsp;returns&nbsp;the&nbsp;canonical&nbsp;DNS&nbsp;host&nbsp;for&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3802337">//&nbsp;Callers&nbsp;that&nbsp;do&nbsp;not&nbsp;care&nbsp;about&nbsp;the&nbsp;canonical&nbsp;name&nbsp;can&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="3802399">//&nbsp;LookupHost&nbsp;or&nbsp;LookupIP&nbsp;directly;&nbsp;both&nbsp;take&nbsp;care&nbsp;of&nbsp;resolving</span><br>
<span class="lineno">105</span><span class="comment" id="3802463">//&nbsp;the&nbsp;canonical&nbsp;name&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;lookup.</span><br>
<span class="lineno"></span><span class="keyword" id="3802508">func</span>&nbsp;<span class="ident" id="3802513">LookupCNAME</span><span class="op" id="3802524">(</span><span class="ident" id="3802525">name</span>&nbsp;<span class="builtintype" id="3802530">string</span><span class="op" id="3802536">)</span>&nbsp;<span class="op" id="3802538">(</span><span class="ident" id="3802539">cname</span>&nbsp;<span class="builtintype" id="3802545">string</span><span class="op" id="3802551">,</span>&nbsp;<span class="ident" id="3802553">err</span>&nbsp;<span class="builtintype" id="3802557">error</span><span class="op" id="3802562">)</span>&nbsp;<span class="op" id="3802564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3802567">return</span>&nbsp;<span class="ident" id="3802574">lookupCNAME</span><span class="op" id="3802585">(</span><span class="ident" id="3802586">name</span><span class="op" id="3802590">)</span><br>
<span class="lineno"></span><span class="op" id="3802592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="3802595">//&nbsp;LookupSRV&nbsp;tries&nbsp;to&nbsp;resolve&nbsp;an&nbsp;SRV&nbsp;query&nbsp;of&nbsp;the&nbsp;given&nbsp;service,</span><br>
<span class="lineno"></span><span class="comment" id="3802660">//&nbsp;protocol,&nbsp;and&nbsp;domain&nbsp;name.&nbsp;&nbsp;The&nbsp;proto&nbsp;is&nbsp;&#34;tcp&#34;&nbsp;or&nbsp;&#34;udp&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3802720">//&nbsp;The&nbsp;returned&nbsp;records&nbsp;are&nbsp;sorted&nbsp;by&nbsp;priority&nbsp;and&nbsp;randomized</span><br>
<span class="lineno"></span><span class="comment" id="3802782">//&nbsp;by&nbsp;weight&nbsp;within&nbsp;a&nbsp;priority.</span><br>
<span class="lineno"></span><span class="comment" id="3802814">//</span><br>
<span class="lineno">115</span><span class="comment" id="3802817">//&nbsp;LookupSRV&nbsp;constructs&nbsp;the&nbsp;DNS&nbsp;name&nbsp;to&nbsp;look&nbsp;up&nbsp;following&nbsp;RFC&nbsp;2782.</span><br>
<span class="lineno"></span><span class="comment" id="3802885">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;looks&nbsp;up&nbsp;_service._proto.name.&nbsp;&nbsp;To&nbsp;accommodate&nbsp;services</span><br>
<span class="lineno"></span><span class="comment" id="3802956">//&nbsp;publishing&nbsp;SRV&nbsp;records&nbsp;under&nbsp;non-standard&nbsp;names,&nbsp;if&nbsp;both&nbsp;service</span><br>
<span class="lineno"></span><span class="comment" id="3803024">//&nbsp;and&nbsp;proto&nbsp;are&nbsp;empty&nbsp;strings,&nbsp;LookupSRV&nbsp;looks&nbsp;up&nbsp;name&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="3803090">func</span>&nbsp;<span class="ident" id="3803095">LookupSRV</span><span class="op" id="3803104">(</span><span class="ident" id="3803105">service</span><span class="op" id="3803112">,</span>&nbsp;<span class="ident" id="3803114">proto</span><span class="op" id="3803119">,</span>&nbsp;<span class="ident" id="3803121">name</span>&nbsp;<span class="builtintype" id="3803126">string</span><span class="op" id="3803132">)</span>&nbsp;<span class="op" id="3803134">(</span><span class="ident" id="3803135">cname</span>&nbsp;<span class="builtintype" id="3803141">string</span><span class="op" id="3803147">,</span>&nbsp;<span class="ident" id="3803149">addrs</span>&nbsp;<span class="op" id="3803155">[</span><span class="op" id="3803156">]</span><span class="op" id="3803157">*</span><span class="ident" id="3803158">SRV</span><span class="op" id="3803161">,</span>&nbsp;<span class="ident" id="3803163">err</span>&nbsp;<span class="builtintype" id="3803167">error</span><span class="op" id="3803172">)</span>&nbsp;<span class="op" id="3803174">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3803177">return</span>&nbsp;<span class="ident" id="3803184">lookupSRV</span><span class="op" id="3803193">(</span><span class="ident" id="3803194">service</span><span class="op" id="3803201">,</span>&nbsp;<span class="ident" id="3803203">proto</span><span class="op" id="3803208">,</span>&nbsp;<span class="ident" id="3803210">name</span><span class="op" id="3803214">)</span><br>
<span class="lineno"></span><span class="op" id="3803216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3803219">//&nbsp;LookupMX&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;MX&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name&nbsp;sorted&nbsp;by&nbsp;preference.</span><br>
<span class="lineno"></span><span class="keyword" id="3803306">func</span>&nbsp;<span class="ident" id="3803311">LookupMX</span><span class="op" id="3803319">(</span><span class="ident" id="3803320">name</span>&nbsp;<span class="builtintype" id="3803325">string</span><span class="op" id="3803331">)</span>&nbsp;<span class="op" id="3803333">(</span><span class="ident" id="3803334">mx</span>&nbsp;<span class="op" id="3803337">[</span><span class="op" id="3803338">]</span><span class="op" id="3803339">*</span><span class="ident" id="3803340">MX</span><span class="op" id="3803342">,</span>&nbsp;<span class="ident" id="3803344">err</span>&nbsp;<span class="builtintype" id="3803348">error</span><span class="op" id="3803353">)</span>&nbsp;<span class="op" id="3803355">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3803358">return</span>&nbsp;<span class="ident" id="3803365">lookupMX</span><span class="op" id="3803373">(</span><span class="ident" id="3803374">name</span><span class="op" id="3803378">)</span><br>
<span class="lineno"></span><span class="op" id="3803380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3803383">//&nbsp;LookupNS&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;NS&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3803449">func</span>&nbsp;<span class="ident" id="3803454">LookupNS</span><span class="op" id="3803462">(</span><span class="ident" id="3803463">name</span>&nbsp;<span class="builtintype" id="3803468">string</span><span class="op" id="3803474">)</span>&nbsp;<span class="op" id="3803476">(</span><span class="ident" id="3803477">ns</span>&nbsp;<span class="op" id="3803480">[</span><span class="op" id="3803481">]</span><span class="op" id="3803482">*</span><span class="ident" id="3803483">NS</span><span class="op" id="3803485">,</span>&nbsp;<span class="ident" id="3803487">err</span>&nbsp;<span class="builtintype" id="3803491">error</span><span class="op" id="3803496">)</span>&nbsp;<span class="op" id="3803498">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3803501">return</span>&nbsp;<span class="ident" id="3803508">lookupNS</span><span class="op" id="3803516">(</span><span class="ident" id="3803517">name</span><span class="op" id="3803521">)</span><br>
<span class="lineno"></span><span class="op" id="3803523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3803526">//&nbsp;LookupTXT&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;TXT&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3803594">func</span>&nbsp;<span class="ident" id="3803599">LookupTXT</span><span class="op" id="3803608">(</span><span class="ident" id="3803609">name</span>&nbsp;<span class="builtintype" id="3803614">string</span><span class="op" id="3803620">)</span>&nbsp;<span class="op" id="3803622">(</span><span class="ident" id="3803623">txt</span>&nbsp;<span class="op" id="3803627">[</span><span class="op" id="3803628">]</span><span class="builtintype" id="3803629">string</span><span class="op" id="3803635">,</span>&nbsp;<span class="ident" id="3803637">err</span>&nbsp;<span class="builtintype" id="3803641">error</span><span class="op" id="3803646">)</span>&nbsp;<span class="op" id="3803648">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3803651">return</span>&nbsp;<span class="ident" id="3803658">lookupTXT</span><span class="op" id="3803667">(</span><span class="ident" id="3803668">name</span><span class="op" id="3803672">)</span><br>
<span class="lineno"></span><span class="op" id="3803674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3803677">//&nbsp;LookupAddr&nbsp;performs&nbsp;a&nbsp;reverse&nbsp;lookup&nbsp;for&nbsp;the&nbsp;given&nbsp;address,&nbsp;returning&nbsp;a&nbsp;list</span><br>
<span class="lineno"></span><span class="comment" id="3803757">//&nbsp;of&nbsp;names&nbsp;mapping&nbsp;to&nbsp;that&nbsp;address.</span><br>
<span class="lineno">140</span><span class="keyword" id="3803794">func</span>&nbsp;<span class="ident" id="3803799">LookupAddr</span><span class="op" id="3803809">(</span><span class="ident" id="3803810">addr</span>&nbsp;<span class="builtintype" id="3803815">string</span><span class="op" id="3803821">)</span>&nbsp;<span class="op" id="3803823">(</span><span class="ident" id="3803824">name</span>&nbsp;<span class="op" id="3803829">[</span><span class="op" id="3803830">]</span><span class="builtintype" id="3803831">string</span><span class="op" id="3803837">,</span>&nbsp;<span class="ident" id="3803839">err</span>&nbsp;<span class="builtintype" id="3803843">error</span><span class="op" id="3803848">)</span>&nbsp;<span class="op" id="3803850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3803853">return</span>&nbsp;<span class="ident" id="3803860">lookupAddr</span><span class="op" id="3803870">(</span><span class="ident" id="3803871">addr</span><span class="op" id="3803875">)</span><br>
<span class="lineno"></span><span class="op" id="3803877">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
