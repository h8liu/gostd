<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html" class="current">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6625759">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6625814">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6625868">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6625919">package</span>&nbsp;<span class="ident" id="6625927">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6625935">import</span>&nbsp;<span class="op" id="6625942">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6625945">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6625954">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6625972">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6625979">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6625985">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6625991">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6626008">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6626025">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6626036">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6626047">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6626058">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6626073">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6626076">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="6626138">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="6626206">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="6626272">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="6626336">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6626404">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="6626468">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="6626540">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="6626611">//</span><br>
<span class="lineno">30</span><span class="comment" id="6626614">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="6626669">//</span><br>
<span class="lineno"></span><span class="comment" id="6626672">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="6626683">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="6626692">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="6626702">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="6626713">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="6626725">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="6626736">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="6626743">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="6626770">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="6626777">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="6626798">//</span><br>
<span class="lineno"></span><span class="comment" id="6626801">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="6626859">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="6626916">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="6626973">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="6627036">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="6627094">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6627137">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="6627203">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="6627261">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="6627318">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="6627378">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6627435">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="6627502">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="6627567">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="6627616">//</span><br>
<span class="lineno"></span><span class="comment" id="6627619">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="6627681">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="6627748">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="6627796">//</span><br>
<span class="lineno"></span><span class="comment" id="6627799">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="6627865">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="6627939">//</span><br>
<span class="lineno">65</span><span class="keyword" id="6627942">func</span>&nbsp;<span class="ident" id="6627947">TestRE2Search</span><span class="op" id="6627960">(</span><span class="ident" id="6627961">t</span>&nbsp;<span class="op" id="6627963">*</span><span class="ident" id="6627964">testing</span><span class="op" id="6627971">.</span><span class="ident" id="6627972">T</span><span class="op" id="6627973">)</span>&nbsp;<span class="op" id="6627975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6627978">testRE2</span><span class="op" id="6627985">(</span><span class="ident" id="6627986">t</span><span class="op" id="6627987">,</span>&nbsp;<span class="string" id="6627989">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="6628014">)</span><br>
<span class="lineno"></span><span class="op" id="6628016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6628019">func</span>&nbsp;<span class="ident" id="6628024">testRE2</span><span class="op" id="6628031">(</span><span class="ident" id="6628032">t</span>&nbsp;<span class="op" id="6628034">*</span><span class="ident" id="6628035">testing</span><span class="op" id="6628042">.</span><span class="ident" id="6628043">T</span><span class="op" id="6628044">,</span>&nbsp;<span class="ident" id="6628046">file</span>&nbsp;<span class="builtintype" id="6628051">string</span><span class="op" id="6628057">)</span>&nbsp;<span class="op" id="6628059">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628062">f</span><span class="op" id="6628063">,</span>&nbsp;<span class="ident" id="6628065">err</span>&nbsp;<span class="op" id="6628069">:=</span>&nbsp;<span class="ident" id="6628072">os</span><span class="op" id="6628074">.</span><span class="ident" id="6628075">Open</span><span class="op" id="6628079">(</span><span class="ident" id="6628080">file</span><span class="op" id="6628084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628087">if</span>&nbsp;<span class="ident" id="6628090">err</span>&nbsp;<span class="op" id="6628094">!=</span>&nbsp;<span class="ident" id="6628097">nil</span>&nbsp;<span class="op" id="6628101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628105">t</span><span class="op" id="6628106">.</span><span class="ident" id="6628107">Fatal</span><span class="op" id="6628112">(</span><span class="ident" id="6628113">err</span><span class="op" id="6628116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628122">defer</span>&nbsp;<span class="ident" id="6628128">f</span><span class="op" id="6628129">.</span><span class="ident" id="6628130">Close</span><span class="op" id="6628135">(</span><span class="op" id="6628136">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628139">var</span>&nbsp;<span class="ident" id="6628143">txt</span>&nbsp;<span class="ident" id="6628147">io</span><span class="op" id="6628149">.</span><span class="ident" id="6628150">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628158">if</span>&nbsp;<span class="ident" id="6628161">strings</span><span class="op" id="6628168">.</span><span class="ident" id="6628169">HasSuffix</span><span class="op" id="6628178">(</span><span class="ident" id="6628179">file</span><span class="op" id="6628183">,</span>&nbsp;<span class="string" id="6628185">&#34;.bz2&#34;</span><span class="op" id="6628191">)</span>&nbsp;<span class="op" id="6628193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628197">z</span>&nbsp;<span class="op" id="6628199">:=</span>&nbsp;<span class="ident" id="6628202">bzip2</span><span class="op" id="6628207">.</span><span class="ident" id="6628208">NewReader</span><span class="op" id="6628217">(</span><span class="ident" id="6628218">f</span><span class="op" id="6628219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628223">txt</span>&nbsp;<span class="op" id="6628227">=</span>&nbsp;<span class="ident" id="6628229">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628233">file</span>&nbsp;<span class="op" id="6628238">=</span>&nbsp;<span class="ident" id="6628240">file</span><span class="op" id="6628244">[</span><span class="op" id="6628245">:</span><span class="builtinfunc" id="6628246">len</span><span class="op" id="6628249">(</span><span class="ident" id="6628250">file</span><span class="op" id="6628254">)</span><span class="op" id="6628255">-</span><span class="builtinfunc" id="6628256">len</span><span class="op" id="6628259">(</span><span class="string" id="6628260">&#34;.bz2&#34;</span><span class="op" id="6628266">)</span><span class="op" id="6628267">]</span>&nbsp;<span class="comment" id="6628269">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628292">}</span>&nbsp;<span class="keyword" id="6628294">else</span>&nbsp;<span class="op" id="6628299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628303">txt</span>&nbsp;<span class="op" id="6628307">=</span>&nbsp;<span class="ident" id="6628309">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628315">lineno</span>&nbsp;<span class="op" id="6628322">:=</span>&nbsp;<span class="num" id="6628325">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628328">scanner</span>&nbsp;<span class="op" id="6628336">:=</span>&nbsp;<span class="ident" id="6628339">bufio</span><span class="op" id="6628344">.</span><span class="ident" id="6628345">NewScanner</span><span class="op" id="6628355">(</span><span class="ident" id="6628356">txt</span><span class="op" id="6628359">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628362">var</span>&nbsp;<span class="op" id="6628366">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628370">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6628380">[</span><span class="op" id="6628381">]</span><span class="builtintype" id="6628382">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628391">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6628401">[</span><span class="op" id="6628402">]</span><span class="builtintype" id="6628403">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628412">inStrings</span>&nbsp;<span class="builtintype" id="6628422">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628429">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6628439">*</span><span class="ident" id="6628440">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628449">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6628459">*</span><span class="ident" id="6628460">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628469">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6628479">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628485">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6628495">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6628500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628503">for</span>&nbsp;<span class="ident" id="6628507">lineno</span>&nbsp;<span class="op" id="6628514">:=</span>&nbsp;<span class="num" id="6628517">1</span><span class="op" id="6628518">;</span>&nbsp;<span class="ident" id="6628520">scanner</span><span class="op" id="6628527">.</span><span class="ident" id="6628528">Scan</span><span class="op" id="6628532">(</span><span class="op" id="6628533">)</span><span class="op" id="6628534">;</span>&nbsp;<span class="ident" id="6628536">lineno</span><span class="op" id="6628542">++</span>&nbsp;<span class="op" id="6628545">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628549">line</span>&nbsp;<span class="op" id="6628554">:=</span>&nbsp;<span class="ident" id="6628557">scanner</span><span class="op" id="6628564">.</span><span class="ident" id="6628565">Text</span><span class="op" id="6628569">(</span><span class="op" id="6628570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628574">switch</span>&nbsp;<span class="op" id="6628581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628585">case</span>&nbsp;<span class="ident" id="6628590">line</span>&nbsp;<span class="op" id="6628595">==</span>&nbsp;<span class="string" id="6628598">&#34;&#34;</span><span class="op" id="6628600">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628605">t</span><span class="op" id="6628606">.</span><span class="ident" id="6628607">Fatalf</span><span class="op" id="6628613">(</span><span class="string" id="6628614">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="6628644">,</span>&nbsp;<span class="ident" id="6628646">file</span><span class="op" id="6628650">,</span>&nbsp;<span class="ident" id="6628652">lineno</span><span class="op" id="6628658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628662">case</span>&nbsp;<span class="ident" id="6628667">line</span><span class="op" id="6628671">[</span><span class="num" id="6628672">0</span><span class="op" id="6628673">]</span>&nbsp;<span class="op" id="6628675">==</span>&nbsp;<span class="string" id="6628678">&#39;#&#39;</span><span class="op" id="6628681">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628686">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628697">case</span>&nbsp;<span class="string" id="6628702">&#39;A&#39;</span>&nbsp;<span class="op" id="6628706">&lt;=</span>&nbsp;<span class="ident" id="6628709">line</span><span class="op" id="6628713">[</span><span class="num" id="6628714">0</span><span class="op" id="6628715">]</span>&nbsp;<span class="op" id="6628717">&amp;&amp;</span>&nbsp;<span class="ident" id="6628720">line</span><span class="op" id="6628724">[</span><span class="num" id="6628725">0</span><span class="op" id="6628726">]</span>&nbsp;<span class="op" id="6628728">&lt;=</span>&nbsp;<span class="string" id="6628731">&#39;Z&#39;</span><span class="op" id="6628734">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6628739">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628756">t</span><span class="op" id="6628757">.</span><span class="ident" id="6628758">Logf</span><span class="op" id="6628762">(</span><span class="string" id="6628763">&#34;%s\n&#34;</span><span class="op" id="6628769">,</span>&nbsp;<span class="ident" id="6628771">line</span><span class="op" id="6628775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628780">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628791">case</span>&nbsp;<span class="ident" id="6628796">line</span>&nbsp;<span class="op" id="6628801">==</span>&nbsp;<span class="string" id="6628804">&#34;strings&#34;</span><span class="op" id="6628813">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628818">str</span>&nbsp;<span class="op" id="6628822">=</span>&nbsp;<span class="ident" id="6628824">str</span><span class="op" id="6628827">[</span><span class="op" id="6628828">:</span><span class="num" id="6628829">0</span><span class="op" id="6628830">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628835">inStrings</span>&nbsp;<span class="op" id="6628845">=</span>&nbsp;<span class="builtintype" id="6628847">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628854">case</span>&nbsp;<span class="ident" id="6628859">line</span>&nbsp;<span class="op" id="6628864">==</span>&nbsp;<span class="string" id="6628867">&#34;regexps&#34;</span><span class="op" id="6628876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628881">inStrings</span>&nbsp;<span class="op" id="6628891">=</span>&nbsp;<span class="builtintype" id="6628893">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628901">case</span>&nbsp;<span class="ident" id="6628906">line</span><span class="op" id="6628910">[</span><span class="num" id="6628911">0</span><span class="op" id="6628912">]</span>&nbsp;<span class="op" id="6628914">==</span>&nbsp;<span class="string" id="6628917">&#39;&#34;&#39;</span><span class="op" id="6628920">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6628925">q</span><span class="op" id="6628926">,</span>&nbsp;<span class="ident" id="6628928">err</span>&nbsp;<span class="op" id="6628932">:=</span>&nbsp;<span class="ident" id="6628935">strconv</span><span class="op" id="6628942">.</span><span class="ident" id="6628943">Unquote</span><span class="op" id="6628950">(</span><span class="ident" id="6628951">line</span><span class="op" id="6628955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6628960">if</span>&nbsp;<span class="ident" id="6628963">err</span>&nbsp;<span class="op" id="6628967">!=</span>&nbsp;<span class="ident" id="6628970">nil</span>&nbsp;<span class="op" id="6628974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6628980">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629024">t</span><span class="op" id="6629025">.</span><span class="ident" id="6629026">Fatalf</span><span class="op" id="6629032">(</span><span class="string" id="6629033">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6629056">,</span>&nbsp;<span class="ident" id="6629058">file</span><span class="op" id="6629062">,</span>&nbsp;<span class="ident" id="6629064">lineno</span><span class="op" id="6629070">,</span>&nbsp;<span class="ident" id="6629072">line</span><span class="op" id="6629076">,</span>&nbsp;<span class="ident" id="6629078">err</span><span class="op" id="6629081">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629091">if</span>&nbsp;<span class="ident" id="6629094">inStrings</span>&nbsp;<span class="op" id="6629104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629110">str</span>&nbsp;<span class="op" id="6629114">=</span>&nbsp;<span class="builtinfunc" id="6629116">append</span><span class="op" id="6629122">(</span><span class="ident" id="6629123">str</span><span class="op" id="6629126">,</span>&nbsp;<span class="ident" id="6629128">q</span><span class="op" id="6629129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629135">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629147">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6629152">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629171">if</span>&nbsp;<span class="builtinfunc" id="6629174">len</span><span class="op" id="6629177">(</span><span class="ident" id="6629178">input</span><span class="op" id="6629183">)</span>&nbsp;<span class="op" id="6629185">!=</span>&nbsp;<span class="num" id="6629188">0</span>&nbsp;<span class="op" id="6629190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629196">t</span><span class="op" id="6629197">.</span><span class="ident" id="6629198">Fatalf</span><span class="op" id="6629204">(</span><span class="string" id="6629205">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="6629258">,</span>&nbsp;<span class="ident" id="6629260">file</span><span class="op" id="6629264">,</span>&nbsp;<span class="ident" id="6629266">lineno</span><span class="op" id="6629272">,</span>&nbsp;<span class="builtinfunc" id="6629274">len</span><span class="op" id="6629277">(</span><span class="ident" id="6629278">input</span><span class="op" id="6629283">)</span><span class="op" id="6629284">,</span>&nbsp;<span class="ident" id="6629286">q</span><span class="op" id="6629287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629297">re</span><span class="op" id="6629299">,</span>&nbsp;<span class="ident" id="6629301">err</span>&nbsp;<span class="op" id="6629305">=</span>&nbsp;<span class="ident" id="6629307">tryCompile</span><span class="op" id="6629317">(</span><span class="ident" id="6629318">q</span><span class="op" id="6629319">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629324">if</span>&nbsp;<span class="ident" id="6629327">err</span>&nbsp;<span class="op" id="6629331">!=</span>&nbsp;<span class="ident" id="6629334">nil</span>&nbsp;<span class="op" id="6629338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629344">if</span>&nbsp;<span class="ident" id="6629347">err</span><span class="op" id="6629350">.</span><span class="ident" id="6629351">Error</span><span class="op" id="6629356">(</span><span class="op" id="6629357">)</span>&nbsp;<span class="op" id="6629359">==</span>&nbsp;<span class="string" id="6629362">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="6629417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6629424">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629487">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629500">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629506">t</span><span class="op" id="6629507">.</span><span class="ident" id="6629508">Errorf</span><span class="op" id="6629514">(</span><span class="string" id="6629515">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="6629539">,</span>&nbsp;<span class="ident" id="6629541">file</span><span class="op" id="6629545">,</span>&nbsp;<span class="ident" id="6629547">lineno</span><span class="op" id="6629553">,</span>&nbsp;<span class="ident" id="6629555">q</span><span class="op" id="6629556">,</span>&nbsp;<span class="ident" id="6629558">err</span><span class="op" id="6629561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629567">if</span>&nbsp;<span class="ident" id="6629570">nfail</span><span class="op" id="6629575">++</span><span class="op" id="6629577">;</span>&nbsp;<span class="ident" id="6629579">nfail</span>&nbsp;<span class="op" id="6629585">&gt;=</span>&nbsp;<span class="num" id="6629588">100</span>&nbsp;<span class="op" id="6629592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629599">t</span><span class="op" id="6629600">.</span><span class="ident" id="6629601">Fatalf</span><span class="op" id="6629607">(</span><span class="string" id="6629608">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6629634">,</span>&nbsp;<span class="ident" id="6629636">nfail</span><span class="op" id="6629641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629653">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629670">full</span>&nbsp;<span class="op" id="6629675">:=</span>&nbsp;<span class="string" id="6629678">`\A(?:`</span>&nbsp;<span class="op" id="6629686">+</span>&nbsp;<span class="ident" id="6629688">q</span>&nbsp;<span class="op" id="6629690">+</span>&nbsp;<span class="string" id="6629692">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629701">refull</span><span class="op" id="6629707">,</span>&nbsp;<span class="ident" id="6629709">err</span>&nbsp;<span class="op" id="6629713">=</span>&nbsp;<span class="ident" id="6629715">tryCompile</span><span class="op" id="6629725">(</span><span class="ident" id="6629726">full</span><span class="op" id="6629730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629735">if</span>&nbsp;<span class="ident" id="6629738">err</span>&nbsp;<span class="op" id="6629742">!=</span>&nbsp;<span class="ident" id="6629745">nil</span>&nbsp;<span class="op" id="6629749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6629755">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629814">t</span><span class="op" id="6629815">.</span><span class="ident" id="6629816">Fatalf</span><span class="op" id="6629822">(</span><span class="string" id="6629823">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="6629852">,</span>&nbsp;<span class="ident" id="6629854">file</span><span class="op" id="6629858">,</span>&nbsp;<span class="ident" id="6629860">lineno</span><span class="op" id="6629866">,</span>&nbsp;<span class="ident" id="6629868">full</span><span class="op" id="6629872">,</span>&nbsp;<span class="ident" id="6629874">err</span><span class="op" id="6629877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6629882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629887">input</span>&nbsp;<span class="op" id="6629893">=</span>&nbsp;<span class="ident" id="6629895">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6629901">case</span>&nbsp;<span class="ident" id="6629906">line</span><span class="op" id="6629910">[</span><span class="num" id="6629911">0</span><span class="op" id="6629912">]</span>&nbsp;<span class="op" id="6629914">==</span>&nbsp;<span class="string" id="6629917">&#39;-&#39;</span>&nbsp;<span class="op" id="6629921">||</span>&nbsp;<span class="string" id="6629924">&#39;0&#39;</span>&nbsp;<span class="op" id="6629928">&lt;=</span>&nbsp;<span class="ident" id="6629931">line</span><span class="op" id="6629935">[</span><span class="num" id="6629936">0</span><span class="op" id="6629937">]</span>&nbsp;<span class="op" id="6629939">&amp;&amp;</span>&nbsp;<span class="ident" id="6629942">line</span><span class="op" id="6629946">[</span><span class="num" id="6629947">0</span><span class="op" id="6629948">]</span>&nbsp;<span class="op" id="6629950">&lt;=</span>&nbsp;<span class="string" id="6629953">&#39;9&#39;</span><span class="op" id="6629956">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6629961">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6629996">ncase</span><span class="op" id="6630001">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630007">if</span>&nbsp;<span class="ident" id="6630010">re</span>&nbsp;<span class="op" id="6630013">==</span>&nbsp;<span class="ident" id="6630016">nil</span>&nbsp;<span class="op" id="6630020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6630026">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630066">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630078">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630083">if</span>&nbsp;<span class="builtinfunc" id="6630086">len</span><span class="op" id="6630089">(</span><span class="ident" id="6630090">input</span><span class="op" id="6630095">)</span>&nbsp;<span class="op" id="6630097">==</span>&nbsp;<span class="num" id="6630100">0</span>&nbsp;<span class="op" id="6630102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630108">t</span><span class="op" id="6630109">.</span><span class="ident" id="6630110">Fatalf</span><span class="op" id="6630116">(</span><span class="string" id="6630117">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="6630157">,</span>&nbsp;<span class="ident" id="6630159">file</span><span class="op" id="6630163">,</span>&nbsp;<span class="ident" id="6630165">lineno</span><span class="op" id="6630171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630181">var</span>&nbsp;<span class="ident" id="6630185">text</span>&nbsp;<span class="builtintype" id="6630190">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630200">text</span><span class="op" id="6630204">,</span>&nbsp;<span class="ident" id="6630206">input</span>&nbsp;<span class="op" id="6630212">=</span>&nbsp;<span class="ident" id="6630214">input</span><span class="op" id="6630219">[</span><span class="num" id="6630220">0</span><span class="op" id="6630221">]</span><span class="op" id="6630222">,</span>&nbsp;<span class="ident" id="6630224">input</span><span class="op" id="6630229">[</span><span class="num" id="6630230">1</span><span class="op" id="6630231">:</span><span class="op" id="6630232">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630237">if</span>&nbsp;<span class="op" id="6630240">!</span><span class="ident" id="6630241">isSingleBytes</span><span class="op" id="6630254">(</span><span class="ident" id="6630255">text</span><span class="op" id="6630259">)</span>&nbsp;<span class="op" id="6630261">&amp;&amp;</span>&nbsp;<span class="ident" id="6630264">strings</span><span class="op" id="6630271">.</span><span class="ident" id="6630272">Contains</span><span class="op" id="6630280">(</span><span class="ident" id="6630281">re</span><span class="op" id="6630283">.</span><span class="ident" id="6630284">String</span><span class="op" id="6630290">(</span><span class="op" id="6630291">)</span><span class="op" id="6630292">,</span>&nbsp;<span class="string" id="6630294">`\B`</span><span class="op" id="6630298">)</span>&nbsp;<span class="op" id="6630300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6630306">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6630353">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6630398">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6630446">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6630497">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630540">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630557">res</span>&nbsp;<span class="op" id="6630561">:=</span>&nbsp;<span class="ident" id="6630564">strings</span><span class="op" id="6630571">.</span><span class="ident" id="6630572">Split</span><span class="op" id="6630577">(</span><span class="ident" id="6630578">line</span><span class="op" id="6630582">,</span>&nbsp;<span class="string" id="6630584">&#34;;&#34;</span><span class="op" id="6630587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630592">if</span>&nbsp;<span class="builtinfunc" id="6630595">len</span><span class="op" id="6630598">(</span><span class="ident" id="6630599">res</span><span class="op" id="6630602">)</span>&nbsp;<span class="op" id="6630604">!=</span>&nbsp;<span class="builtinfunc" id="6630607">len</span><span class="op" id="6630610">(</span><span class="ident" id="6630611">run</span><span class="op" id="6630614">)</span>&nbsp;<span class="op" id="6630616">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630622">t</span><span class="op" id="6630623">.</span><span class="ident" id="6630624">Fatalf</span><span class="op" id="6630630">(</span><span class="string" id="6630631">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6630669">,</span>&nbsp;<span class="ident" id="6630671">file</span><span class="op" id="6630675">,</span>&nbsp;<span class="ident" id="6630677">lineno</span><span class="op" id="6630683">,</span>&nbsp;<span class="builtinfunc" id="6630685">len</span><span class="op" id="6630688">(</span><span class="ident" id="6630689">res</span><span class="op" id="6630692">)</span><span class="op" id="6630693">,</span>&nbsp;<span class="builtinfunc" id="6630695">len</span><span class="op" id="6630698">(</span><span class="ident" id="6630699">run</span><span class="op" id="6630702">)</span><span class="op" id="6630703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6630708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630713">for</span>&nbsp;<span class="ident" id="6630717">i</span>&nbsp;<span class="op" id="6630719">:=</span>&nbsp;<span class="keyword" id="6630722">range</span>&nbsp;<span class="ident" id="6630728">res</span>&nbsp;<span class="op" id="6630732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630738">have</span><span class="op" id="6630742">,</span>&nbsp;<span class="ident" id="6630744">suffix</span>&nbsp;<span class="op" id="6630751">:=</span>&nbsp;<span class="ident" id="6630754">run</span><span class="op" id="6630757">[</span><span class="ident" id="6630758">i</span><span class="op" id="6630759">]</span><span class="op" id="6630760">(</span><span class="ident" id="6630761">re</span><span class="op" id="6630763">,</span>&nbsp;<span class="ident" id="6630765">refull</span><span class="op" id="6630771">,</span>&nbsp;<span class="ident" id="6630773">text</span><span class="op" id="6630777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630783">want</span>&nbsp;<span class="op" id="6630788">:=</span>&nbsp;<span class="ident" id="6630791">parseResult</span><span class="op" id="6630802">(</span><span class="ident" id="6630803">t</span><span class="op" id="6630804">,</span>&nbsp;<span class="ident" id="6630806">file</span><span class="op" id="6630810">,</span>&nbsp;<span class="ident" id="6630812">lineno</span><span class="op" id="6630818">,</span>&nbsp;<span class="ident" id="6630820">res</span><span class="op" id="6630823">[</span><span class="ident" id="6630824">i</span><span class="op" id="6630825">]</span><span class="op" id="6630826">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630832">if</span>&nbsp;<span class="op" id="6630835">!</span><span class="ident" id="6630836">same</span><span class="op" id="6630840">(</span><span class="ident" id="6630841">have</span><span class="op" id="6630845">,</span>&nbsp;<span class="ident" id="6630847">want</span><span class="op" id="6630851">)</span>&nbsp;<span class="op" id="6630853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6630860">t</span><span class="op" id="6630861">.</span><span class="ident" id="6630862">Errorf</span><span class="op" id="6630868">(</span><span class="string" id="6630869">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6630920">,</span>&nbsp;<span class="ident" id="6630922">file</span><span class="op" id="6630926">,</span>&nbsp;<span class="ident" id="6630928">lineno</span><span class="op" id="6630934">,</span>&nbsp;<span class="ident" id="6630936">re</span><span class="op" id="6630938">,</span>&nbsp;<span class="ident" id="6630940">suffix</span><span class="op" id="6630946">,</span>&nbsp;<span class="ident" id="6630948">text</span><span class="op" id="6630952">,</span>&nbsp;<span class="ident" id="6630954">have</span><span class="op" id="6630958">,</span>&nbsp;<span class="ident" id="6630960">want</span><span class="op" id="6630964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6630971">if</span>&nbsp;<span class="ident" id="6630974">nfail</span><span class="op" id="6630979">++</span><span class="op" id="6630981">;</span>&nbsp;<span class="ident" id="6630983">nfail</span>&nbsp;<span class="op" id="6630989">&gt;=</span>&nbsp;<span class="num" id="6630992">100</span>&nbsp;<span class="op" id="6630996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631004">t</span><span class="op" id="6631005">.</span><span class="ident" id="6631006">Fatalf</span><span class="op" id="6631012">(</span><span class="string" id="6631013">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6631039">,</span>&nbsp;<span class="ident" id="6631041">nfail</span><span class="op" id="6631046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631053">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631060">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631079">b</span><span class="op" id="6631080">,</span>&nbsp;<span class="ident" id="6631082">suffix</span>&nbsp;<span class="op" id="6631089">:=</span>&nbsp;<span class="ident" id="6631092">match</span><span class="op" id="6631097">[</span><span class="ident" id="6631098">i</span><span class="op" id="6631099">]</span><span class="op" id="6631100">(</span><span class="ident" id="6631101">re</span><span class="op" id="6631103">,</span>&nbsp;<span class="ident" id="6631105">refull</span><span class="op" id="6631111">,</span>&nbsp;<span class="ident" id="6631113">text</span><span class="op" id="6631117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631123">if</span>&nbsp;<span class="ident" id="6631126">b</span>&nbsp;<span class="op" id="6631128">!=</span>&nbsp;<span class="op" id="6631131">(</span><span class="ident" id="6631132">want</span>&nbsp;<span class="op" id="6631137">!=</span>&nbsp;<span class="ident" id="6631140">nil</span><span class="op" id="6631143">)</span>&nbsp;<span class="op" id="6631145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631152">t</span><span class="op" id="6631153">.</span><span class="ident" id="6631154">Errorf</span><span class="op" id="6631160">(</span><span class="string" id="6631161">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6631206">,</span>&nbsp;<span class="ident" id="6631208">file</span><span class="op" id="6631212">,</span>&nbsp;<span class="ident" id="6631214">lineno</span><span class="op" id="6631220">,</span>&nbsp;<span class="ident" id="6631222">re</span><span class="op" id="6631224">,</span>&nbsp;<span class="ident" id="6631226">suffix</span><span class="op" id="6631232">,</span>&nbsp;<span class="ident" id="6631234">text</span><span class="op" id="6631238">,</span>&nbsp;<span class="ident" id="6631240">b</span><span class="op" id="6631241">,</span>&nbsp;<span class="op" id="6631243">!</span><span class="ident" id="6631244">b</span><span class="op" id="6631245">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631252">if</span>&nbsp;<span class="ident" id="6631255">nfail</span><span class="op" id="6631260">++</span><span class="op" id="6631262">;</span>&nbsp;<span class="ident" id="6631264">nfail</span>&nbsp;<span class="op" id="6631270">&gt;=</span>&nbsp;<span class="num" id="6631273">100</span>&nbsp;<span class="op" id="6631277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631285">t</span><span class="op" id="6631286">.</span><span class="ident" id="6631287">Fatalf</span><span class="op" id="6631293">(</span><span class="string" id="6631294">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="6631320">,</span>&nbsp;<span class="ident" id="6631322">nfail</span><span class="op" id="6631327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631341">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631354">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631364">default</span><span class="op" id="6631371">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631376">t</span><span class="op" id="6631377">.</span><span class="ident" id="6631378">Fatalf</span><span class="op" id="6631384">(</span><span class="string" id="6631385">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="6631411">,</span>&nbsp;<span class="ident" id="6631413">file</span><span class="op" id="6631417">,</span>&nbsp;<span class="ident" id="6631419">lineno</span><span class="op" id="6631425">,</span>&nbsp;<span class="ident" id="6631427">line</span><span class="op" id="6631431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631435">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631441">if</span>&nbsp;<span class="ident" id="6631444">err</span>&nbsp;<span class="op" id="6631448">:=</span>&nbsp;<span class="ident" id="6631451">scanner</span><span class="op" id="6631458">.</span><span class="ident" id="6631459">Err</span><span class="op" id="6631462">(</span><span class="op" id="6631463">)</span><span class="op" id="6631464">;</span>&nbsp;<span class="ident" id="6631466">err</span>&nbsp;<span class="op" id="6631470">!=</span>&nbsp;<span class="ident" id="6631473">nil</span>&nbsp;<span class="op" id="6631477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631481">t</span><span class="op" id="6631482">.</span><span class="ident" id="6631483">Fatalf</span><span class="op" id="6631489">(</span><span class="string" id="6631490">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="6631501">,</span>&nbsp;<span class="ident" id="6631503">file</span><span class="op" id="6631507">,</span>&nbsp;<span class="ident" id="6631509">lineno</span><span class="op" id="6631515">,</span>&nbsp;<span class="ident" id="6631517">err</span><span class="op" id="6631520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631526">if</span>&nbsp;<span class="builtinfunc" id="6631529">len</span><span class="op" id="6631532">(</span><span class="ident" id="6631533">input</span><span class="op" id="6631538">)</span>&nbsp;<span class="op" id="6631540">!=</span>&nbsp;<span class="num" id="6631543">0</span>&nbsp;<span class="op" id="6631545">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631549">t</span><span class="op" id="6631550">.</span><span class="ident" id="6631551">Fatalf</span><span class="op" id="6631557">(</span><span class="string" id="6631558">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="6631607">,</span>&nbsp;<span class="ident" id="6631609">file</span><span class="op" id="6631613">,</span>&nbsp;<span class="ident" id="6631615">lineno</span><span class="op" id="6631621">,</span>&nbsp;<span class="builtinfunc" id="6631623">len</span><span class="op" id="6631626">(</span><span class="ident" id="6631627">input</span><span class="op" id="6631632">)</span><span class="op" id="6631633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6631636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631639">t</span><span class="op" id="6631640">.</span><span class="ident" id="6631641">Logf</span><span class="op" id="6631645">(</span><span class="string" id="6631646">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="6631663">,</span>&nbsp;<span class="ident" id="6631665">ncase</span><span class="op" id="6631670">)</span><br>
<span class="lineno"></span><span class="op" id="6631672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6631675">var</span>&nbsp;<span class="ident" id="6631679">run</span>&nbsp;<span class="op" id="6631683">=</span>&nbsp;<span class="op" id="6631685">[</span><span class="op" id="6631686">]</span><span class="keyword" id="6631687">func</span><span class="op" id="6631691">(</span><span class="op" id="6631692">*</span><span class="ident" id="6631693">Regexp</span><span class="op" id="6631699">,</span>&nbsp;<span class="op" id="6631701">*</span><span class="ident" id="6631702">Regexp</span><span class="op" id="6631708">,</span>&nbsp;<span class="builtintype" id="6631710">string</span><span class="op" id="6631716">)</span>&nbsp;<span class="op" id="6631718">(</span><span class="op" id="6631719">[</span><span class="op" id="6631720">]</span><span class="builtintype" id="6631721">int</span><span class="op" id="6631724">,</span>&nbsp;<span class="builtintype" id="6631726">string</span><span class="op" id="6631732">)</span><span class="op" id="6631733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631736">runFull</span><span class="op" id="6631743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631746">runPartial</span><span class="op" id="6631756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631759">runFullLongest</span><span class="op" id="6631773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631776">runPartialLongest</span><span class="op" id="6631793">,</span><br>
<span class="lineno">205</span><span class="op" id="6631795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6631798">func</span>&nbsp;<span class="ident" id="6631803">runFull</span><span class="op" id="6631810">(</span><span class="ident" id="6631811">re</span><span class="op" id="6631813">,</span>&nbsp;<span class="ident" id="6631815">refull</span>&nbsp;<span class="op" id="6631822">*</span><span class="ident" id="6631823">Regexp</span><span class="op" id="6631829">,</span>&nbsp;<span class="ident" id="6631831">text</span>&nbsp;<span class="builtintype" id="6631836">string</span><span class="op" id="6631842">)</span>&nbsp;<span class="op" id="6631844">(</span><span class="op" id="6631845">[</span><span class="op" id="6631846">]</span><span class="builtintype" id="6631847">int</span><span class="op" id="6631850">,</span>&nbsp;<span class="builtintype" id="6631852">string</span><span class="op" id="6631858">)</span>&nbsp;<span class="op" id="6631860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6631863">refull</span><span class="op" id="6631869">.</span><span class="ident" id="6631870">longest</span>&nbsp;<span class="op" id="6631878">=</span>&nbsp;<span class="builtintype" id="6631880">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6631887">return</span>&nbsp;<span class="ident" id="6631894">refull</span><span class="op" id="6631900">.</span><span class="ident" id="6631901">FindStringSubmatchIndex</span><span class="op" id="6631924">(</span><span class="ident" id="6631925">text</span><span class="op" id="6631929">)</span><span class="op" id="6631930">,</span>&nbsp;<span class="string" id="6631932">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="6631941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6631944">func</span>&nbsp;<span class="ident" id="6631949">runPartial</span><span class="op" id="6631959">(</span><span class="ident" id="6631960">re</span><span class="op" id="6631962">,</span>&nbsp;<span class="ident" id="6631964">refull</span>&nbsp;<span class="op" id="6631971">*</span><span class="ident" id="6631972">Regexp</span><span class="op" id="6631978">,</span>&nbsp;<span class="ident" id="6631980">text</span>&nbsp;<span class="builtintype" id="6631985">string</span><span class="op" id="6631991">)</span>&nbsp;<span class="op" id="6631993">(</span><span class="op" id="6631994">[</span><span class="op" id="6631995">]</span><span class="builtintype" id="6631996">int</span><span class="op" id="6631999">,</span>&nbsp;<span class="builtintype" id="6632001">string</span><span class="op" id="6632007">)</span>&nbsp;<span class="op" id="6632009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632012">re</span><span class="op" id="6632014">.</span><span class="ident" id="6632015">longest</span>&nbsp;<span class="op" id="6632023">=</span>&nbsp;<span class="builtintype" id="6632025">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632032">return</span>&nbsp;<span class="ident" id="6632039">re</span><span class="op" id="6632041">.</span><span class="ident" id="6632042">FindStringSubmatchIndex</span><span class="op" id="6632065">(</span><span class="ident" id="6632066">text</span><span class="op" id="6632070">)</span><span class="op" id="6632071">,</span>&nbsp;<span class="string" id="6632073">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="6632076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6632079">func</span>&nbsp;<span class="ident" id="6632084">runFullLongest</span><span class="op" id="6632098">(</span><span class="ident" id="6632099">re</span><span class="op" id="6632101">,</span>&nbsp;<span class="ident" id="6632103">refull</span>&nbsp;<span class="op" id="6632110">*</span><span class="ident" id="6632111">Regexp</span><span class="op" id="6632117">,</span>&nbsp;<span class="ident" id="6632119">text</span>&nbsp;<span class="builtintype" id="6632124">string</span><span class="op" id="6632130">)</span>&nbsp;<span class="op" id="6632132">(</span><span class="op" id="6632133">[</span><span class="op" id="6632134">]</span><span class="builtintype" id="6632135">int</span><span class="op" id="6632138">,</span>&nbsp;<span class="builtintype" id="6632140">string</span><span class="op" id="6632146">)</span>&nbsp;<span class="op" id="6632148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632151">refull</span><span class="op" id="6632157">.</span><span class="ident" id="6632158">longest</span>&nbsp;<span class="op" id="6632166">=</span>&nbsp;<span class="builtintype" id="6632168">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632174">return</span>&nbsp;<span class="ident" id="6632181">refull</span><span class="op" id="6632187">.</span><span class="ident" id="6632188">FindStringSubmatchIndex</span><span class="op" id="6632211">(</span><span class="ident" id="6632212">text</span><span class="op" id="6632216">)</span><span class="op" id="6632217">,</span>&nbsp;<span class="string" id="6632219">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="6632236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6632239">func</span>&nbsp;<span class="ident" id="6632244">runPartialLongest</span><span class="op" id="6632261">(</span><span class="ident" id="6632262">re</span><span class="op" id="6632264">,</span>&nbsp;<span class="ident" id="6632266">refull</span>&nbsp;<span class="op" id="6632273">*</span><span class="ident" id="6632274">Regexp</span><span class="op" id="6632280">,</span>&nbsp;<span class="ident" id="6632282">text</span>&nbsp;<span class="builtintype" id="6632287">string</span><span class="op" id="6632293">)</span>&nbsp;<span class="op" id="6632295">(</span><span class="op" id="6632296">[</span><span class="op" id="6632297">]</span><span class="builtintype" id="6632298">int</span><span class="op" id="6632301">,</span>&nbsp;<span class="builtintype" id="6632303">string</span><span class="op" id="6632309">)</span>&nbsp;<span class="op" id="6632311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632314">re</span><span class="op" id="6632316">.</span><span class="ident" id="6632317">longest</span>&nbsp;<span class="op" id="6632325">=</span>&nbsp;<span class="builtintype" id="6632327">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632333">return</span>&nbsp;<span class="ident" id="6632340">re</span><span class="op" id="6632342">.</span><span class="ident" id="6632343">FindStringSubmatchIndex</span><span class="op" id="6632366">(</span><span class="ident" id="6632367">text</span><span class="op" id="6632371">)</span><span class="op" id="6632372">,</span>&nbsp;<span class="string" id="6632374">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="6632386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6632389">var</span>&nbsp;<span class="ident" id="6632393">match</span>&nbsp;<span class="op" id="6632399">=</span>&nbsp;<span class="op" id="6632401">[</span><span class="op" id="6632402">]</span><span class="keyword" id="6632403">func</span><span class="op" id="6632407">(</span><span class="op" id="6632408">*</span><span class="ident" id="6632409">Regexp</span><span class="op" id="6632415">,</span>&nbsp;<span class="op" id="6632417">*</span><span class="ident" id="6632418">Regexp</span><span class="op" id="6632424">,</span>&nbsp;<span class="builtintype" id="6632426">string</span><span class="op" id="6632432">)</span>&nbsp;<span class="op" id="6632434">(</span><span class="builtintype" id="6632435">bool</span><span class="op" id="6632439">,</span>&nbsp;<span class="builtintype" id="6632441">string</span><span class="op" id="6632447">)</span><span class="op" id="6632448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632451">matchFull</span><span class="op" id="6632460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632463">matchPartial</span><span class="op" id="6632475">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632478">matchFullLongest</span><span class="op" id="6632494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632497">matchPartialLongest</span><span class="op" id="6632516">,</span><br>
<span class="lineno"></span><span class="op" id="6632518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6632521">func</span>&nbsp;<span class="ident" id="6632526">matchFull</span><span class="op" id="6632535">(</span><span class="ident" id="6632536">re</span><span class="op" id="6632538">,</span>&nbsp;<span class="ident" id="6632540">refull</span>&nbsp;<span class="op" id="6632547">*</span><span class="ident" id="6632548">Regexp</span><span class="op" id="6632554">,</span>&nbsp;<span class="ident" id="6632556">text</span>&nbsp;<span class="builtintype" id="6632561">string</span><span class="op" id="6632567">)</span>&nbsp;<span class="op" id="6632569">(</span><span class="builtintype" id="6632570">bool</span><span class="op" id="6632574">,</span>&nbsp;<span class="builtintype" id="6632576">string</span><span class="op" id="6632582">)</span>&nbsp;<span class="op" id="6632584">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632587">refull</span><span class="op" id="6632593">.</span><span class="ident" id="6632594">longest</span>&nbsp;<span class="op" id="6632602">=</span>&nbsp;<span class="builtintype" id="6632604">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632611">return</span>&nbsp;<span class="ident" id="6632618">refull</span><span class="op" id="6632624">.</span><span class="ident" id="6632625">MatchString</span><span class="op" id="6632636">(</span><span class="ident" id="6632637">text</span><span class="op" id="6632641">)</span><span class="op" id="6632642">,</span>&nbsp;<span class="string" id="6632644">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6632653">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6632656">func</span>&nbsp;<span class="ident" id="6632661">matchPartial</span><span class="op" id="6632673">(</span><span class="ident" id="6632674">re</span><span class="op" id="6632676">,</span>&nbsp;<span class="ident" id="6632678">refull</span>&nbsp;<span class="op" id="6632685">*</span><span class="ident" id="6632686">Regexp</span><span class="op" id="6632692">,</span>&nbsp;<span class="ident" id="6632694">text</span>&nbsp;<span class="builtintype" id="6632699">string</span><span class="op" id="6632705">)</span>&nbsp;<span class="op" id="6632707">(</span><span class="builtintype" id="6632708">bool</span><span class="op" id="6632712">,</span>&nbsp;<span class="builtintype" id="6632714">string</span><span class="op" id="6632720">)</span>&nbsp;<span class="op" id="6632722">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632725">re</span><span class="op" id="6632727">.</span><span class="ident" id="6632728">longest</span>&nbsp;<span class="op" id="6632736">=</span>&nbsp;<span class="builtintype" id="6632738">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632745">return</span>&nbsp;<span class="ident" id="6632752">re</span><span class="op" id="6632754">.</span><span class="ident" id="6632755">MatchString</span><span class="op" id="6632766">(</span><span class="ident" id="6632767">text</span><span class="op" id="6632771">)</span><span class="op" id="6632772">,</span>&nbsp;<span class="string" id="6632774">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6632777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6632780">func</span>&nbsp;<span class="ident" id="6632785">matchFullLongest</span><span class="op" id="6632801">(</span><span class="ident" id="6632802">re</span><span class="op" id="6632804">,</span>&nbsp;<span class="ident" id="6632806">refull</span>&nbsp;<span class="op" id="6632813">*</span><span class="ident" id="6632814">Regexp</span><span class="op" id="6632820">,</span>&nbsp;<span class="ident" id="6632822">text</span>&nbsp;<span class="builtintype" id="6632827">string</span><span class="op" id="6632833">)</span>&nbsp;<span class="op" id="6632835">(</span><span class="builtintype" id="6632836">bool</span><span class="op" id="6632840">,</span>&nbsp;<span class="builtintype" id="6632842">string</span><span class="op" id="6632848">)</span>&nbsp;<span class="op" id="6632850">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6632853">refull</span><span class="op" id="6632859">.</span><span class="ident" id="6632860">longest</span>&nbsp;<span class="op" id="6632868">=</span>&nbsp;<span class="builtintype" id="6632870">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6632876">return</span>&nbsp;<span class="ident" id="6632883">refull</span><span class="op" id="6632889">.</span><span class="ident" id="6632890">MatchString</span><span class="op" id="6632901">(</span><span class="ident" id="6632902">text</span><span class="op" id="6632906">)</span><span class="op" id="6632907">,</span>&nbsp;<span class="string" id="6632909">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6632926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6632929">func</span>&nbsp;<span class="ident" id="6632934">matchPartialLongest</span><span class="op" id="6632953">(</span><span class="ident" id="6632954">re</span><span class="op" id="6632956">,</span>&nbsp;<span class="ident" id="6632958">refull</span>&nbsp;<span class="op" id="6632965">*</span><span class="ident" id="6632966">Regexp</span><span class="op" id="6632972">,</span>&nbsp;<span class="ident" id="6632974">text</span>&nbsp;<span class="builtintype" id="6632979">string</span><span class="op" id="6632985">)</span>&nbsp;<span class="op" id="6632987">(</span><span class="builtintype" id="6632988">bool</span><span class="op" id="6632992">,</span>&nbsp;<span class="builtintype" id="6632994">string</span><span class="op" id="6633000">)</span>&nbsp;<span class="op" id="6633002">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633005">re</span><span class="op" id="6633007">.</span><span class="ident" id="6633008">longest</span>&nbsp;<span class="op" id="6633016">=</span>&nbsp;<span class="builtintype" id="6633018">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633024">return</span>&nbsp;<span class="ident" id="6633031">re</span><span class="op" id="6633033">.</span><span class="ident" id="6633034">MatchString</span><span class="op" id="6633045">(</span><span class="ident" id="6633046">text</span><span class="op" id="6633050">)</span><span class="op" id="6633051">,</span>&nbsp;<span class="string" id="6633053">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="6633065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6633068">func</span>&nbsp;<span class="ident" id="6633073">isSingleBytes</span><span class="op" id="6633086">(</span><span class="ident" id="6633087">s</span>&nbsp;<span class="builtintype" id="6633089">string</span><span class="op" id="6633095">)</span>&nbsp;<span class="builtintype" id="6633097">bool</span>&nbsp;<span class="op" id="6633102">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633105">for</span>&nbsp;<span class="ident" id="6633109">_</span><span class="op" id="6633110">,</span>&nbsp;<span class="ident" id="6633112">c</span>&nbsp;<span class="op" id="6633114">:=</span>&nbsp;<span class="keyword" id="6633117">range</span>&nbsp;<span class="ident" id="6633123">s</span>&nbsp;<span class="op" id="6633125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633129">if</span>&nbsp;<span class="ident" id="6633132">c</span>&nbsp;<span class="op" id="6633134">&gt;=</span>&nbsp;<span class="ident" id="6633137">utf8</span><span class="op" id="6633141">.</span><span class="ident" id="6633142">RuneSelf</span>&nbsp;<span class="op" id="6633151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633156">return</span>&nbsp;<span class="builtintype" id="6633163">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633174">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633177">return</span>&nbsp;<span class="builtintype" id="6633184">true</span><br>
<span class="lineno"></span><span class="op" id="6633189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6633192">func</span>&nbsp;<span class="ident" id="6633197">tryCompile</span><span class="op" id="6633207">(</span><span class="ident" id="6633208">s</span>&nbsp;<span class="builtintype" id="6633210">string</span><span class="op" id="6633216">)</span>&nbsp;<span class="op" id="6633218">(</span><span class="ident" id="6633219">re</span>&nbsp;<span class="op" id="6633222">*</span><span class="ident" id="6633223">Regexp</span><span class="op" id="6633229">,</span>&nbsp;<span class="ident" id="6633231">err</span>&nbsp;<span class="builtintype" id="6633235">error</span><span class="op" id="6633240">)</span>&nbsp;<span class="op" id="6633242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6633245">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633287">defer</span>&nbsp;<span class="keyword" id="6633293">func</span><span class="op" id="6633297">(</span><span class="op" id="6633298">)</span>&nbsp;<span class="op" id="6633300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633304">if</span>&nbsp;<span class="ident" id="6633307">r</span>&nbsp;<span class="op" id="6633309">:=</span>&nbsp;<span class="builtinfunc" id="6633312">recover</span><span class="op" id="6633319">(</span><span class="op" id="6633320">)</span><span class="op" id="6633321">;</span>&nbsp;<span class="ident" id="6633323">r</span>&nbsp;<span class="op" id="6633325">!=</span>&nbsp;<span class="ident" id="6633328">nil</span>&nbsp;<span class="op" id="6633332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633337">err</span>&nbsp;<span class="op" id="6633341">=</span>&nbsp;<span class="ident" id="6633343">fmt</span><span class="op" id="6633346">.</span><span class="ident" id="6633347">Errorf</span><span class="op" id="6633353">(</span><span class="string" id="6633354">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="6633365">,</span>&nbsp;<span class="ident" id="6633367">r</span><span class="op" id="6633368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633375">}</span><span class="op" id="6633376">(</span><span class="op" id="6633377">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633380">return</span>&nbsp;<span class="ident" id="6633387">Compile</span><span class="op" id="6633394">(</span><span class="ident" id="6633395">s</span><span class="op" id="6633396">)</span><br>
<span class="lineno"></span><span class="op" id="6633398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6633401">func</span>&nbsp;<span class="ident" id="6633406">parseResult</span><span class="op" id="6633417">(</span><span class="ident" id="6633418">t</span>&nbsp;<span class="op" id="6633420">*</span><span class="ident" id="6633421">testing</span><span class="op" id="6633428">.</span><span class="ident" id="6633429">T</span><span class="op" id="6633430">,</span>&nbsp;<span class="ident" id="6633432">file</span>&nbsp;<span class="builtintype" id="6633437">string</span><span class="op" id="6633443">,</span>&nbsp;<span class="ident" id="6633445">lineno</span>&nbsp;<span class="builtintype" id="6633452">int</span><span class="op" id="6633455">,</span>&nbsp;<span class="ident" id="6633457">res</span>&nbsp;<span class="builtintype" id="6633461">string</span><span class="op" id="6633467">)</span>&nbsp;<span class="op" id="6633469">[</span><span class="op" id="6633470">]</span><span class="builtintype" id="6633471">int</span>&nbsp;<span class="op" id="6633475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6633478">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633513">if</span>&nbsp;<span class="ident" id="6633516">res</span>&nbsp;<span class="op" id="6633520">==</span>&nbsp;<span class="string" id="6633523">&#34;-&#34;</span>&nbsp;<span class="op" id="6633527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633531">return</span>&nbsp;<span class="ident" id="6633538">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6633546">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633594">n</span>&nbsp;<span class="op" id="6633596">:=</span>&nbsp;<span class="num" id="6633599">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633602">for</span>&nbsp;<span class="ident" id="6633606">j</span>&nbsp;<span class="op" id="6633608">:=</span>&nbsp;<span class="num" id="6633611">0</span><span class="op" id="6633612">;</span>&nbsp;<span class="ident" id="6633614">j</span>&nbsp;<span class="op" id="6633616">&lt;</span>&nbsp;<span class="builtinfunc" id="6633618">len</span><span class="op" id="6633621">(</span><span class="ident" id="6633622">res</span><span class="op" id="6633625">)</span><span class="op" id="6633626">;</span>&nbsp;<span class="ident" id="6633628">j</span><span class="op" id="6633629">++</span>&nbsp;<span class="op" id="6633632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633636">if</span>&nbsp;<span class="ident" id="6633639">res</span><span class="op" id="6633642">[</span><span class="ident" id="6633643">j</span><span class="op" id="6633644">]</span>&nbsp;<span class="op" id="6633646">==</span>&nbsp;<span class="string" id="6633649">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6633653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633658">n</span><span class="op" id="6633659">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633667">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633670">out</span>&nbsp;<span class="op" id="6633674">:=</span>&nbsp;<span class="builtinfunc" id="6633677">make</span><span class="op" id="6633681">(</span><span class="op" id="6633682">[</span><span class="op" id="6633683">]</span><span class="builtintype" id="6633684">int</span><span class="op" id="6633687">,</span>&nbsp;<span class="num" id="6633689">2</span><span class="op" id="6633690">*</span><span class="ident" id="6633691">n</span><span class="op" id="6633692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633695">i</span>&nbsp;<span class="op" id="6633697">:=</span>&nbsp;<span class="num" id="6633700">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633703">n</span>&nbsp;<span class="op" id="6633705">=</span>&nbsp;<span class="num" id="6633707">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633710">for</span>&nbsp;<span class="ident" id="6633714">j</span>&nbsp;<span class="op" id="6633716">:=</span>&nbsp;<span class="num" id="6633719">0</span><span class="op" id="6633720">;</span>&nbsp;<span class="ident" id="6633722">j</span>&nbsp;<span class="op" id="6633724">&lt;=</span>&nbsp;<span class="builtinfunc" id="6633727">len</span><span class="op" id="6633730">(</span><span class="ident" id="6633731">res</span><span class="op" id="6633734">)</span><span class="op" id="6633735">;</span>&nbsp;<span class="ident" id="6633737">j</span><span class="op" id="6633738">++</span>&nbsp;<span class="op" id="6633741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633745">if</span>&nbsp;<span class="ident" id="6633748">j</span>&nbsp;<span class="op" id="6633750">==</span>&nbsp;<span class="builtinfunc" id="6633753">len</span><span class="op" id="6633756">(</span><span class="ident" id="6633757">res</span><span class="op" id="6633760">)</span>&nbsp;<span class="op" id="6633762">||</span>&nbsp;<span class="ident" id="6633765">res</span><span class="op" id="6633768">[</span><span class="ident" id="6633769">j</span><span class="op" id="6633770">]</span>&nbsp;<span class="op" id="6633772">==</span>&nbsp;<span class="string" id="6633775">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6633779">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6633784">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633835">pair</span>&nbsp;<span class="op" id="6633840">:=</span>&nbsp;<span class="ident" id="6633843">res</span><span class="op" id="6633846">[</span><span class="ident" id="6633847">i</span><span class="op" id="6633848">:</span><span class="ident" id="6633849">j</span><span class="op" id="6633850">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633855">if</span>&nbsp;<span class="ident" id="6633858">pair</span>&nbsp;<span class="op" id="6633863">==</span>&nbsp;<span class="string" id="6633866">&#34;-&#34;</span>&nbsp;<span class="op" id="6633870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633876">out</span><span class="op" id="6633879">[</span><span class="ident" id="6633880">n</span><span class="op" id="6633881">]</span>&nbsp;<span class="op" id="6633883">=</span>&nbsp;<span class="op" id="6633885">-</span><span class="num" id="6633886">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633892">out</span><span class="op" id="6633895">[</span><span class="ident" id="6633896">n</span><span class="op" id="6633897">+</span><span class="num" id="6633898">1</span><span class="op" id="6633899">]</span>&nbsp;<span class="op" id="6633901">=</span>&nbsp;<span class="op" id="6633903">-</span><span class="num" id="6633904">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6633909">}</span>&nbsp;<span class="keyword" id="6633911">else</span>&nbsp;<span class="op" id="6633916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633922">k</span>&nbsp;<span class="op" id="6633924">:=</span>&nbsp;<span class="ident" id="6633927">strings</span><span class="op" id="6633934">.</span><span class="ident" id="6633935">Index</span><span class="op" id="6633940">(</span><span class="ident" id="6633941">pair</span><span class="op" id="6633945">,</span>&nbsp;<span class="string" id="6633947">&#34;-&#34;</span><span class="op" id="6633950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6633956">if</span>&nbsp;<span class="ident" id="6633959">k</span>&nbsp;<span class="op" id="6633961">&lt;</span>&nbsp;<span class="num" id="6633963">0</span>&nbsp;<span class="op" id="6633965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6633972">t</span><span class="op" id="6633973">.</span><span class="ident" id="6633974">Fatalf</span><span class="op" id="6633980">(</span><span class="string" id="6633981">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="6634005">,</span>&nbsp;<span class="ident" id="6634007">file</span><span class="op" id="6634011">,</span>&nbsp;<span class="ident" id="6634013">lineno</span><span class="op" id="6634019">,</span>&nbsp;<span class="ident" id="6634021">pair</span><span class="op" id="6634025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634031">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634037">lo</span><span class="op" id="6634039">,</span>&nbsp;<span class="ident" id="6634041">err1</span>&nbsp;<span class="op" id="6634046">:=</span>&nbsp;<span class="ident" id="6634049">strconv</span><span class="op" id="6634056">.</span><span class="ident" id="6634057">Atoi</span><span class="op" id="6634061">(</span><span class="ident" id="6634062">pair</span><span class="op" id="6634066">[</span><span class="op" id="6634067">:</span><span class="ident" id="6634068">k</span><span class="op" id="6634069">]</span><span class="op" id="6634070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634076">hi</span><span class="op" id="6634078">,</span>&nbsp;<span class="ident" id="6634080">err2</span>&nbsp;<span class="op" id="6634085">:=</span>&nbsp;<span class="ident" id="6634088">strconv</span><span class="op" id="6634095">.</span><span class="ident" id="6634096">Atoi</span><span class="op" id="6634100">(</span><span class="ident" id="6634101">pair</span><span class="op" id="6634105">[</span><span class="ident" id="6634106">k</span><span class="op" id="6634107">+</span><span class="num" id="6634108">1</span><span class="op" id="6634109">:</span><span class="op" id="6634110">]</span><span class="op" id="6634111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634117">if</span>&nbsp;<span class="ident" id="6634120">err1</span>&nbsp;<span class="op" id="6634125">!=</span>&nbsp;<span class="ident" id="6634128">nil</span>&nbsp;<span class="op" id="6634132">||</span>&nbsp;<span class="ident" id="6634135">err2</span>&nbsp;<span class="op" id="6634140">!=</span>&nbsp;<span class="ident" id="6634143">nil</span>&nbsp;<span class="op" id="6634147">||</span>&nbsp;<span class="ident" id="6634150">lo</span>&nbsp;<span class="op" id="6634153">&gt;</span>&nbsp;<span class="ident" id="6634155">hi</span>&nbsp;<span class="op" id="6634158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634165">t</span><span class="op" id="6634166">.</span><span class="ident" id="6634167">Fatalf</span><span class="op" id="6634173">(</span><span class="string" id="6634174">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="6634198">,</span>&nbsp;<span class="ident" id="6634200">file</span><span class="op" id="6634204">,</span>&nbsp;<span class="ident" id="6634206">lineno</span><span class="op" id="6634212">,</span>&nbsp;<span class="ident" id="6634214">pair</span><span class="op" id="6634218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634224">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634230">out</span><span class="op" id="6634233">[</span><span class="ident" id="6634234">n</span><span class="op" id="6634235">]</span>&nbsp;<span class="op" id="6634237">=</span>&nbsp;<span class="ident" id="6634239">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634246">out</span><span class="op" id="6634249">[</span><span class="ident" id="6634250">n</span><span class="op" id="6634251">+</span><span class="num" id="6634252">1</span><span class="op" id="6634253">]</span>&nbsp;<span class="op" id="6634255">=</span>&nbsp;<span class="ident" id="6634257">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634268">n</span>&nbsp;<span class="op" id="6634270">+=</span>&nbsp;<span class="num" id="6634273">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634278">i</span>&nbsp;<span class="op" id="6634280">=</span>&nbsp;<span class="ident" id="6634282">j</span>&nbsp;<span class="op" id="6634284">+</span>&nbsp;<span class="num" id="6634286">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634296">return</span>&nbsp;<span class="ident" id="6634303">out</span><br>
<span class="lineno"></span><span class="op" id="6634307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="6634310">func</span>&nbsp;<span class="ident" id="6634315">same</span><span class="op" id="6634319">(</span><span class="ident" id="6634320">x</span><span class="op" id="6634321">,</span>&nbsp;<span class="ident" id="6634323">y</span>&nbsp;<span class="op" id="6634325">[</span><span class="op" id="6634326">]</span><span class="builtintype" id="6634327">int</span><span class="op" id="6634330">)</span>&nbsp;<span class="builtintype" id="6634332">bool</span>&nbsp;<span class="op" id="6634337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634340">if</span>&nbsp;<span class="builtinfunc" id="6634343">len</span><span class="op" id="6634346">(</span><span class="ident" id="6634347">x</span><span class="op" id="6634348">)</span>&nbsp;<span class="op" id="6634350">!=</span>&nbsp;<span class="builtinfunc" id="6634353">len</span><span class="op" id="6634356">(</span><span class="ident" id="6634357">y</span><span class="op" id="6634358">)</span>&nbsp;<span class="op" id="6634360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634364">return</span>&nbsp;<span class="builtintype" id="6634371">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634381">for</span>&nbsp;<span class="ident" id="6634385">i</span><span class="op" id="6634386">,</span>&nbsp;<span class="ident" id="6634388">xi</span>&nbsp;<span class="op" id="6634391">:=</span>&nbsp;<span class="keyword" id="6634394">range</span>&nbsp;<span class="ident" id="6634400">x</span>&nbsp;<span class="op" id="6634402">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634406">if</span>&nbsp;<span class="ident" id="6634409">xi</span>&nbsp;<span class="op" id="6634412">!=</span>&nbsp;<span class="ident" id="6634415">y</span><span class="op" id="6634416">[</span><span class="ident" id="6634417">i</span><span class="op" id="6634418">]</span>&nbsp;<span class="op" id="6634420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634425">return</span>&nbsp;<span class="builtintype" id="6634432">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634446">return</span>&nbsp;<span class="builtintype" id="6634453">true</span><br>
<span class="lineno">325</span><span class="op" id="6634458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6634461">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6634518">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="6634578">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="6634630">func</span>&nbsp;<span class="ident" id="6634635">TestFowler</span><span class="op" id="6634645">(</span><span class="ident" id="6634646">t</span>&nbsp;<span class="op" id="6634648">*</span><span class="ident" id="6634649">testing</span><span class="op" id="6634656">.</span><span class="ident" id="6634657">T</span><span class="op" id="6634658">)</span>&nbsp;<span class="op" id="6634660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634663">files</span><span class="op" id="6634668">,</span>&nbsp;<span class="ident" id="6634670">err</span>&nbsp;<span class="op" id="6634674">:=</span>&nbsp;<span class="ident" id="6634677">filepath</span><span class="op" id="6634685">.</span><span class="ident" id="6634686">Glob</span><span class="op" id="6634690">(</span><span class="string" id="6634691">&#34;testdata/*.dat&#34;</span><span class="op" id="6634707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634710">if</span>&nbsp;<span class="ident" id="6634713">err</span>&nbsp;<span class="op" id="6634717">!=</span>&nbsp;<span class="ident" id="6634720">nil</span>&nbsp;<span class="op" id="6634724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634728">t</span><span class="op" id="6634729">.</span><span class="ident" id="6634730">Fatal</span><span class="op" id="6634735">(</span><span class="ident" id="6634736">err</span><span class="op" id="6634739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634742">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634745">for</span>&nbsp;<span class="ident" id="6634749">_</span><span class="op" id="6634750">,</span>&nbsp;<span class="ident" id="6634752">file</span>&nbsp;<span class="op" id="6634757">:=</span>&nbsp;<span class="keyword" id="6634760">range</span>&nbsp;<span class="ident" id="6634766">files</span>&nbsp;<span class="op" id="6634772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634776">t</span><span class="op" id="6634777">.</span><span class="ident" id="6634778">Log</span><span class="op" id="6634781">(</span><span class="ident" id="6634782">file</span><span class="op" id="6634786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634790">testFowler</span><span class="op" id="6634800">(</span><span class="ident" id="6634801">t</span><span class="op" id="6634802">,</span>&nbsp;<span class="ident" id="6634804">file</span><span class="op" id="6634808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634811">}</span><br>
<span class="lineno"></span><span class="op" id="6634813">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="6634816">var</span>&nbsp;<span class="ident" id="6634820">notab</span>&nbsp;<span class="op" id="6634826">=</span>&nbsp;<span class="ident" id="6634828">MustCompilePOSIX</span><span class="op" id="6634844">(</span><span class="string" id="6634845">`[^\t]+`</span><span class="op" id="6634853">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6634856">func</span>&nbsp;<span class="ident" id="6634861">testFowler</span><span class="op" id="6634871">(</span><span class="ident" id="6634872">t</span>&nbsp;<span class="op" id="6634874">*</span><span class="ident" id="6634875">testing</span><span class="op" id="6634882">.</span><span class="ident" id="6634883">T</span><span class="op" id="6634884">,</span>&nbsp;<span class="ident" id="6634886">file</span>&nbsp;<span class="builtintype" id="6634891">string</span><span class="op" id="6634897">)</span>&nbsp;<span class="op" id="6634899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634902">f</span><span class="op" id="6634903">,</span>&nbsp;<span class="ident" id="6634905">err</span>&nbsp;<span class="op" id="6634909">:=</span>&nbsp;<span class="ident" id="6634912">os</span><span class="op" id="6634914">.</span><span class="ident" id="6634915">Open</span><span class="op" id="6634919">(</span><span class="ident" id="6634920">file</span><span class="op" id="6634924">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634927">if</span>&nbsp;<span class="ident" id="6634930">err</span>&nbsp;<span class="op" id="6634934">!=</span>&nbsp;<span class="ident" id="6634937">nil</span>&nbsp;<span class="op" id="6634941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634945">t</span><span class="op" id="6634946">.</span><span class="ident" id="6634947">Error</span><span class="op" id="6634952">(</span><span class="ident" id="6634953">err</span><span class="op" id="6634956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634960">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6634968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6634971">defer</span>&nbsp;<span class="ident" id="6634977">f</span><span class="op" id="6634978">.</span><span class="ident" id="6634979">Close</span><span class="op" id="6634984">(</span><span class="op" id="6634985">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6634988">b</span>&nbsp;<span class="op" id="6634990">:=</span>&nbsp;<span class="ident" id="6634993">bufio</span><span class="op" id="6634998">.</span><span class="ident" id="6634999">NewReader</span><span class="op" id="6635008">(</span><span class="ident" id="6635009">f</span><span class="op" id="6635010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635013">lineno</span>&nbsp;<span class="op" id="6635020">:=</span>&nbsp;<span class="num" id="6635023">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635026">lastRegexp</span>&nbsp;<span class="op" id="6635037">:=</span>&nbsp;<span class="string" id="6635040">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="6635043">Reading</span><span class="op" id="6635050">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635053">for</span>&nbsp;<span class="op" id="6635057">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635061">lineno</span><span class="op" id="6635067">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635072">line</span><span class="op" id="6635076">,</span>&nbsp;<span class="ident" id="6635078">err</span>&nbsp;<span class="op" id="6635082">:=</span>&nbsp;<span class="ident" id="6635085">b</span><span class="op" id="6635086">.</span><span class="ident" id="6635087">ReadString</span><span class="op" id="6635097">(</span><span class="string" id="6635098">&#39;\n&#39;</span><span class="op" id="6635102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635106">if</span>&nbsp;<span class="ident" id="6635109">err</span>&nbsp;<span class="op" id="6635113">!=</span>&nbsp;<span class="ident" id="6635116">nil</span>&nbsp;<span class="op" id="6635120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635125">if</span>&nbsp;<span class="ident" id="6635128">err</span>&nbsp;<span class="op" id="6635132">!=</span>&nbsp;<span class="ident" id="6635135">io</span><span class="op" id="6635137">.</span><span class="ident" id="6635138">EOF</span>&nbsp;<span class="op" id="6635142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635148">t</span><span class="op" id="6635149">.</span><span class="ident" id="6635150">Errorf</span><span class="op" id="6635156">(</span><span class="string" id="6635157">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="6635168">,</span>&nbsp;<span class="ident" id="6635170">file</span><span class="op" id="6635174">,</span>&nbsp;<span class="ident" id="6635176">lineno</span><span class="op" id="6635182">,</span>&nbsp;<span class="ident" id="6635184">err</span><span class="op" id="6635187">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635197">break</span>&nbsp;<span class="ident" id="6635203">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635218">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635281">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635286">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635304">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635375">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635445">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635516">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635534">if</span>&nbsp;<span class="ident" id="6635537">line</span><span class="op" id="6635541">[</span><span class="num" id="6635542">0</span><span class="op" id="6635543">]</span>&nbsp;<span class="op" id="6635545">==</span>&nbsp;<span class="string" id="6635548">&#39;#&#39;</span>&nbsp;<span class="op" id="6635552">||</span>&nbsp;<span class="ident" id="6635555">line</span><span class="op" id="6635559">[</span><span class="num" id="6635560">0</span><span class="op" id="6635561">]</span>&nbsp;<span class="op" id="6635563">==</span>&nbsp;<span class="string" id="6635566">&#39;\n&#39;</span>&nbsp;<span class="op" id="6635571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635576">continue</span>&nbsp;<span class="ident" id="6635585">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635599">line</span>&nbsp;<span class="op" id="6635604">=</span>&nbsp;<span class="ident" id="6635606">line</span><span class="op" id="6635610">[</span><span class="op" id="6635611">:</span><span class="builtinfunc" id="6635612">len</span><span class="op" id="6635615">(</span><span class="ident" id="6635616">line</span><span class="op" id="6635620">)</span><span class="op" id="6635621">-</span><span class="num" id="6635622">1</span><span class="op" id="6635623">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635627">field</span>&nbsp;<span class="op" id="6635633">:=</span>&nbsp;<span class="ident" id="6635636">notab</span><span class="op" id="6635641">.</span><span class="ident" id="6635642">FindAllString</span><span class="op" id="6635655">(</span><span class="ident" id="6635656">line</span><span class="op" id="6635660">,</span>&nbsp;<span class="op" id="6635662">-</span><span class="num" id="6635663">1</span><span class="op" id="6635664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635668">for</span>&nbsp;<span class="ident" id="6635672">i</span><span class="op" id="6635673">,</span>&nbsp;<span class="ident" id="6635675">f</span>&nbsp;<span class="op" id="6635677">:=</span>&nbsp;<span class="keyword" id="6635680">range</span>&nbsp;<span class="ident" id="6635686">field</span>&nbsp;<span class="op" id="6635692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635697">if</span>&nbsp;<span class="ident" id="6635700">f</span>&nbsp;<span class="op" id="6635702">==</span>&nbsp;<span class="string" id="6635705">&#34;NULL&#34;</span>&nbsp;<span class="op" id="6635712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635718">field</span><span class="op" id="6635723">[</span><span class="ident" id="6635724">i</span><span class="op" id="6635725">]</span>&nbsp;<span class="op" id="6635727">=</span>&nbsp;<span class="string" id="6635729">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635735">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635740">if</span>&nbsp;<span class="ident" id="6635743">f</span>&nbsp;<span class="op" id="6635745">==</span>&nbsp;<span class="string" id="6635748">&#34;NIL&#34;</span>&nbsp;<span class="op" id="6635754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6635760">t</span><span class="op" id="6635761">.</span><span class="ident" id="6635762">Logf</span><span class="op" id="6635766">(</span><span class="string" id="6635767">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="6635784">,</span>&nbsp;<span class="ident" id="6635786">file</span><span class="op" id="6635790">,</span>&nbsp;<span class="ident" id="6635792">lineno</span><span class="op" id="6635798">,</span>&nbsp;<span class="ident" id="6635800">line</span><span class="op" id="6635804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635810">continue</span>&nbsp;<span class="ident" id="6635819">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635834">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635838">if</span>&nbsp;<span class="builtinfunc" id="6635841">len</span><span class="op" id="6635844">(</span><span class="ident" id="6635845">field</span><span class="op" id="6635850">)</span>&nbsp;<span class="op" id="6635852">==</span>&nbsp;<span class="num" id="6635855">0</span>&nbsp;<span class="op" id="6635857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6635862">continue</span>&nbsp;<span class="ident" id="6635871">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6635881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635886">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6635961">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636033">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636105">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636184">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636243">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636248">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636288">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636326">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636378">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636414">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636464">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636500">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636505">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636550">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636594">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636642">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636693">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636737">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636793">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636855">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636903">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636937">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6636971">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637021">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637056">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637094">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637136">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637190">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637234">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637278">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637314">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637357">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637416">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637479">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637530">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637581">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637627">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637672">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637716">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637789">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637861">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637932">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637937">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637967">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6637972">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638033">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638038">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638116">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638181">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638253">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638302">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638344">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638368">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638373">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638423">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638464">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638518">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638550">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638555">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638610">flag</span>&nbsp;<span class="op" id="6638615">:=</span>&nbsp;<span class="ident" id="6638618">field</span><span class="op" id="6638623">[</span><span class="num" id="6638624">0</span><span class="op" id="6638625">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638629">switch</span>&nbsp;<span class="ident" id="6638636">flag</span><span class="op" id="6638640">[</span><span class="num" id="6638641">0</span><span class="op" id="6638642">]</span>&nbsp;<span class="op" id="6638644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638648">case</span>&nbsp;<span class="string" id="6638653">&#39;?&#39;</span><span class="op" id="6638656">,</span>&nbsp;<span class="string" id="6638658">&#39;&amp;&#39;</span><span class="op" id="6638661">,</span>&nbsp;<span class="string" id="6638663">&#39;|&#39;</span><span class="op" id="6638666">,</span>&nbsp;<span class="string" id="6638668">&#39;;&#39;</span><span class="op" id="6638671">,</span>&nbsp;<span class="string" id="6638673">&#39;{&#39;</span><span class="op" id="6638676">,</span>&nbsp;<span class="string" id="6638678">&#39;}&#39;</span><span class="op" id="6638681">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638686">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6638726">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638753">flag</span>&nbsp;<span class="op" id="6638758">=</span>&nbsp;<span class="ident" id="6638760">flag</span><span class="op" id="6638764">[</span><span class="num" id="6638765">1</span><span class="op" id="6638766">:</span><span class="op" id="6638767">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638772">if</span>&nbsp;<span class="ident" id="6638775">flag</span>&nbsp;<span class="op" id="6638780">==</span>&nbsp;<span class="string" id="6638783">&#34;&#34;</span>&nbsp;<span class="op" id="6638786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638792">continue</span>&nbsp;<span class="ident" id="6638801">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638816">case</span>&nbsp;<span class="string" id="6638821">&#39;:&#39;</span><span class="op" id="6638824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638829">i</span>&nbsp;<span class="op" id="6638831">:=</span>&nbsp;<span class="ident" id="6638834">strings</span><span class="op" id="6638841">.</span><span class="ident" id="6638842">Index</span><span class="op" id="6638847">(</span><span class="ident" id="6638848">flag</span><span class="op" id="6638852">[</span><span class="num" id="6638853">1</span><span class="op" id="6638854">:</span><span class="op" id="6638855">]</span><span class="op" id="6638856">,</span>&nbsp;<span class="string" id="6638858">&#34;:&#34;</span><span class="op" id="6638861">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638866">if</span>&nbsp;<span class="ident" id="6638869">i</span>&nbsp;<span class="op" id="6638871">&lt;</span>&nbsp;<span class="num" id="6638873">0</span>&nbsp;<span class="op" id="6638875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638881">t</span><span class="op" id="6638882">.</span><span class="ident" id="6638883">Logf</span><span class="op" id="6638887">(</span><span class="string" id="6638888">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="6638898">,</span>&nbsp;<span class="ident" id="6638900">line</span><span class="op" id="6638904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638910">continue</span>&nbsp;<span class="ident" id="6638919">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6638930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6638935">flag</span>&nbsp;<span class="op" id="6638940">=</span>&nbsp;<span class="ident" id="6638942">flag</span><span class="op" id="6638946">[</span><span class="num" id="6638947">1</span><span class="op" id="6638948">+</span><span class="ident" id="6638949">i</span><span class="op" id="6638950">+</span><span class="num" id="6638951">1</span><span class="op" id="6638952">:</span><span class="op" id="6638953">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6638957">case</span>&nbsp;<span class="string" id="6638962">&#39;C&#39;</span><span class="op" id="6638965">,</span>&nbsp;<span class="string" id="6638967">&#39;N&#39;</span><span class="op" id="6638970">,</span>&nbsp;<span class="string" id="6638972">&#39;T&#39;</span><span class="op" id="6638975">,</span>&nbsp;<span class="string" id="6638977">&#39;0&#39;</span><span class="op" id="6638980">,</span>&nbsp;<span class="string" id="6638982">&#39;1&#39;</span><span class="op" id="6638985">,</span>&nbsp;<span class="string" id="6638987">&#39;2&#39;</span><span class="op" id="6638990">,</span>&nbsp;<span class="string" id="6638992">&#39;3&#39;</span><span class="op" id="6638995">,</span>&nbsp;<span class="string" id="6638997">&#39;4&#39;</span><span class="op" id="6639000">,</span>&nbsp;<span class="string" id="6639002">&#39;5&#39;</span><span class="op" id="6639005">,</span>&nbsp;<span class="string" id="6639007">&#39;6&#39;</span><span class="op" id="6639010">,</span>&nbsp;<span class="string" id="6639012">&#39;7&#39;</span><span class="op" id="6639015">,</span>&nbsp;<span class="string" id="6639017">&#39;8&#39;</span><span class="op" id="6639020">,</span>&nbsp;<span class="string" id="6639022">&#39;9&#39;</span><span class="op" id="6639025">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639030">t</span><span class="op" id="6639031">.</span><span class="ident" id="6639032">Logf</span><span class="op" id="6639036">(</span><span class="string" id="6639037">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="6639047">,</span>&nbsp;<span class="ident" id="6639049">line</span><span class="op" id="6639053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6639058">continue</span>&nbsp;<span class="ident" id="6639067">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6639082">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6639160">if</span>&nbsp;<span class="builtinfunc" id="6639163">len</span><span class="op" id="6639166">(</span><span class="ident" id="6639167">field</span><span class="op" id="6639172">)</span>&nbsp;<span class="op" id="6639174">&lt;</span>&nbsp;<span class="num" id="6639176">4</span>&nbsp;<span class="op" id="6639178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639183">t</span><span class="op" id="6639184">.</span><span class="ident" id="6639185">Errorf</span><span class="op" id="6639191">(</span><span class="string" id="6639192">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="6639219">,</span>&nbsp;<span class="ident" id="6639221">file</span><span class="op" id="6639225">,</span>&nbsp;<span class="ident" id="6639227">lineno</span><span class="op" id="6639233">,</span>&nbsp;<span class="ident" id="6639235">line</span><span class="op" id="6639239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6639244">continue</span>&nbsp;<span class="ident" id="6639253">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639263">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6639268">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6639311">if</span>&nbsp;<span class="ident" id="6639314">strings</span><span class="op" id="6639321">.</span><span class="ident" id="6639322">Contains</span><span class="op" id="6639330">(</span><span class="ident" id="6639331">flag</span><span class="op" id="6639335">,</span>&nbsp;<span class="string" id="6639337">&#34;$&#34;</span><span class="op" id="6639340">)</span>&nbsp;<span class="op" id="6639342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639347">f</span>&nbsp;<span class="op" id="6639349">:=</span>&nbsp;<span class="string" id="6639352">`&#34;`</span>&nbsp;<span class="op" id="6639356">+</span>&nbsp;<span class="ident" id="6639358">field</span><span class="op" id="6639363">[</span><span class="num" id="6639364">1</span><span class="op" id="6639365">]</span>&nbsp;<span class="op" id="6639367">+</span>&nbsp;<span class="string" id="6639369">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6639376">if</span>&nbsp;<span class="ident" id="6639379">field</span><span class="op" id="6639384">[</span><span class="num" id="6639385">1</span><span class="op" id="6639386">]</span><span class="op" id="6639387">,</span>&nbsp;<span class="ident" id="6639389">err</span>&nbsp;<span class="op" id="6639393">=</span>&nbsp;<span class="ident" id="6639395">strconv</span><span class="op" id="6639402">.</span><span class="ident" id="6639403">Unquote</span><span class="op" id="6639410">(</span><span class="ident" id="6639411">f</span><span class="op" id="6639412">)</span><span class="op" id="6639413">;</span>&nbsp;<span class="ident" id="6639415">err</span>&nbsp;<span class="op" id="6639419">!=</span>&nbsp;<span class="ident" id="6639422">nil</span>&nbsp;<span class="op" id="6639426">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639432">t</span><span class="op" id="6639433">.</span><span class="ident" id="6639434">Errorf</span><span class="op" id="6639440">(</span><span class="string" id="6639441">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="6639467">,</span>&nbsp;<span class="ident" id="6639469">file</span><span class="op" id="6639473">,</span>&nbsp;<span class="ident" id="6639475">lineno</span><span class="op" id="6639481">,</span>&nbsp;<span class="ident" id="6639483">f</span><span class="op" id="6639484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639494">f</span>&nbsp;<span class="op" id="6639496">=</span>&nbsp;<span class="string" id="6639498">`&#34;`</span>&nbsp;<span class="op" id="6639502">+</span>&nbsp;<span class="ident" id="6639504">field</span><span class="op" id="6639509">[</span><span class="num" id="6639510">2</span><span class="op" id="6639511">]</span>&nbsp;<span class="op" id="6639513">+</span>&nbsp;<span class="string" id="6639515">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6639522">if</span>&nbsp;<span class="ident" id="6639525">field</span><span class="op" id="6639530">[</span><span class="num" id="6639531">2</span><span class="op" id="6639532">]</span><span class="op" id="6639533">,</span>&nbsp;<span class="ident" id="6639535">err</span>&nbsp;<span class="op" id="6639539">=</span>&nbsp;<span class="ident" id="6639541">strconv</span><span class="op" id="6639548">.</span><span class="ident" id="6639549">Unquote</span><span class="op" id="6639556">(</span><span class="ident" id="6639557">f</span><span class="op" id="6639558">)</span><span class="op" id="6639559">;</span>&nbsp;<span class="ident" id="6639561">err</span>&nbsp;<span class="op" id="6639565">!=</span>&nbsp;<span class="ident" id="6639568">nil</span>&nbsp;<span class="op" id="6639572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639578">t</span><span class="op" id="6639579">.</span><span class="ident" id="6639580">Errorf</span><span class="op" id="6639586">(</span><span class="string" id="6639587">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="6639613">,</span>&nbsp;<span class="ident" id="6639615">file</span><span class="op" id="6639619">,</span>&nbsp;<span class="ident" id="6639621">lineno</span><span class="op" id="6639627">,</span>&nbsp;<span class="ident" id="6639629">f</span><span class="op" id="6639630">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6639644">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6639719">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6639756">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6639761">if</span>&nbsp;<span class="ident" id="6639764">field</span><span class="op" id="6639769">[</span><span class="num" id="6639770">1</span><span class="op" id="6639771">]</span>&nbsp;<span class="op" id="6639773">==</span>&nbsp;<span class="string" id="6639776">&#34;SAME&#34;</span>&nbsp;<span class="op" id="6639783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639788">field</span><span class="op" id="6639793">[</span><span class="num" id="6639794">1</span><span class="op" id="6639795">]</span>&nbsp;<span class="op" id="6639797">=</span>&nbsp;<span class="ident" id="6639799">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6639812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639816">lastRegexp</span>&nbsp;<span class="op" id="6639827">=</span>&nbsp;<span class="ident" id="6639829">field</span><span class="op" id="6639834">[</span><span class="num" id="6639835">1</span><span class="op" id="6639836">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6639841">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639878">text</span>&nbsp;<span class="op" id="6639883">:=</span>&nbsp;<span class="ident" id="6639886">field</span><span class="op" id="6639891">[</span><span class="num" id="6639892">2</span><span class="op" id="6639893">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6639898">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6639934">ok</span><span class="op" id="6639936">,</span>&nbsp;<span class="ident" id="6639938">shouldCompile</span><span class="op" id="6639951">,</span>&nbsp;<span class="ident" id="6639953">shouldMatch</span><span class="op" id="6639964">,</span>&nbsp;<span class="ident" id="6639966">pos</span>&nbsp;<span class="op" id="6639970">:=</span>&nbsp;<span class="ident" id="6639973">parseFowlerResult</span><span class="op" id="6639990">(</span><span class="ident" id="6639991">field</span><span class="op" id="6639996">[</span><span class="num" id="6639997">3</span><span class="op" id="6639998">]</span><span class="op" id="6639999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640003">if</span>&nbsp;<span class="op" id="6640006">!</span><span class="ident" id="6640007">ok</span>&nbsp;<span class="op" id="6640010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640015">t</span><span class="op" id="6640016">.</span><span class="ident" id="6640017">Errorf</span><span class="op" id="6640023">(</span><span class="string" id="6640024">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="6640056">,</span>&nbsp;<span class="ident" id="6640058">file</span><span class="op" id="6640062">,</span>&nbsp;<span class="ident" id="6640064">lineno</span><span class="op" id="6640070">,</span>&nbsp;<span class="ident" id="6640072">field</span><span class="op" id="6640077">[</span><span class="num" id="6640078">3</span><span class="op" id="6640079">]</span><span class="op" id="6640080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640085">continue</span>&nbsp;<span class="ident" id="6640094">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640104">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6640109">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640166">Testing</span><span class="op" id="6640173">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6640177">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640252">for</span>&nbsp;<span class="ident" id="6640256">_</span><span class="op" id="6640257">,</span>&nbsp;<span class="ident" id="6640259">c</span>&nbsp;<span class="op" id="6640261">:=</span>&nbsp;<span class="keyword" id="6640264">range</span>&nbsp;<span class="ident" id="6640270">flag</span>&nbsp;<span class="op" id="6640275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640280">pattern</span>&nbsp;<span class="op" id="6640288">:=</span>&nbsp;<span class="ident" id="6640291">field</span><span class="op" id="6640296">[</span><span class="num" id="6640297">1</span><span class="op" id="6640298">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640303">syn</span>&nbsp;<span class="op" id="6640307">:=</span>&nbsp;<span class="ident" id="6640310">syntax</span><span class="op" id="6640316">.</span><span class="ident" id="6640317">POSIX</span>&nbsp;<span class="op" id="6640323">|</span>&nbsp;<span class="ident" id="6640325">syntax</span><span class="op" id="6640331">.</span><span class="ident" id="6640332">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640343">switch</span>&nbsp;<span class="ident" id="6640350">c</span>&nbsp;<span class="op" id="6640352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640357">default</span><span class="op" id="6640364">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640370">continue</span>&nbsp;<span class="ident" id="6640379">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640390">case</span>&nbsp;<span class="string" id="6640395">&#39;E&#39;</span><span class="op" id="6640398">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6640404">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640444">case</span>&nbsp;<span class="string" id="6640449">&#39;L&#39;</span><span class="op" id="6640452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6640458">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640473">pattern</span>&nbsp;<span class="op" id="6640481">=</span>&nbsp;<span class="ident" id="6640483">QuoteMeta</span><span class="op" id="6640492">(</span><span class="ident" id="6640493">pattern</span><span class="op" id="6640500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640511">for</span>&nbsp;<span class="ident" id="6640515">_</span><span class="op" id="6640516">,</span>&nbsp;<span class="ident" id="6640518">c</span>&nbsp;<span class="op" id="6640520">:=</span>&nbsp;<span class="keyword" id="6640523">range</span>&nbsp;<span class="ident" id="6640529">flag</span>&nbsp;<span class="op" id="6640534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640540">switch</span>&nbsp;<span class="ident" id="6640547">c</span>&nbsp;<span class="op" id="6640549">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640555">case</span>&nbsp;<span class="string" id="6640560">&#39;i&#39;</span><span class="op" id="6640563">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640570">syn</span>&nbsp;<span class="op" id="6640574">|=</span>&nbsp;<span class="ident" id="6640577">syntax</span><span class="op" id="6640583">.</span><span class="ident" id="6640584">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640608">re</span><span class="op" id="6640610">,</span>&nbsp;<span class="ident" id="6640612">err</span>&nbsp;<span class="op" id="6640616">:=</span>&nbsp;<span class="ident" id="6640619">compile</span><span class="op" id="6640626">(</span><span class="ident" id="6640627">pattern</span><span class="op" id="6640634">,</span>&nbsp;<span class="ident" id="6640636">syn</span><span class="op" id="6640639">,</span>&nbsp;<span class="builtintype" id="6640641">true</span><span class="op" id="6640645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640650">if</span>&nbsp;<span class="ident" id="6640653">err</span>&nbsp;<span class="op" id="6640657">!=</span>&nbsp;<span class="ident" id="6640660">nil</span>&nbsp;<span class="op" id="6640664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640670">if</span>&nbsp;<span class="ident" id="6640673">shouldCompile</span>&nbsp;<span class="op" id="6640687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640694">t</span><span class="op" id="6640695">.</span><span class="ident" id="6640696">Errorf</span><span class="op" id="6640702">(</span><span class="string" id="6640703">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="6640731">,</span>&nbsp;<span class="ident" id="6640733">file</span><span class="op" id="6640737">,</span>&nbsp;<span class="ident" id="6640739">lineno</span><span class="op" id="6640745">,</span>&nbsp;<span class="ident" id="6640747">pattern</span><span class="op" id="6640754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640760">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640766">continue</span>&nbsp;<span class="ident" id="6640775">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640791">if</span>&nbsp;<span class="op" id="6640794">!</span><span class="ident" id="6640795">shouldCompile</span>&nbsp;<span class="op" id="6640809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640815">t</span><span class="op" id="6640816">.</span><span class="ident" id="6640817">Errorf</span><span class="op" id="6640823">(</span><span class="string" id="6640824">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="6640855">,</span>&nbsp;<span class="ident" id="6640857">file</span><span class="op" id="6640861">,</span>&nbsp;<span class="ident" id="6640863">lineno</span><span class="op" id="6640869">,</span>&nbsp;<span class="ident" id="6640871">pattern</span><span class="op" id="6640878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640884">continue</span>&nbsp;<span class="ident" id="6640893">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6640904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640909">match</span>&nbsp;<span class="op" id="6640915">:=</span>&nbsp;<span class="ident" id="6640918">re</span><span class="op" id="6640920">.</span><span class="ident" id="6640921">MatchString</span><span class="op" id="6640932">(</span><span class="ident" id="6640933">text</span><span class="op" id="6640937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6640942">if</span>&nbsp;<span class="ident" id="6640945">match</span>&nbsp;<span class="op" id="6640951">!=</span>&nbsp;<span class="ident" id="6640954">shouldMatch</span>&nbsp;<span class="op" id="6640966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6640972">t</span><span class="op" id="6640973">.</span><span class="ident" id="6640974">Errorf</span><span class="op" id="6640980">(</span><span class="string" id="6640981">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6641018">,</span>&nbsp;<span class="ident" id="6641020">file</span><span class="op" id="6641024">,</span>&nbsp;<span class="ident" id="6641026">lineno</span><span class="op" id="6641032">,</span>&nbsp;<span class="ident" id="6641034">pattern</span><span class="op" id="6641041">,</span>&nbsp;<span class="ident" id="6641043">text</span><span class="op" id="6641047">,</span>&nbsp;<span class="ident" id="6641049">match</span><span class="op" id="6641054">,</span>&nbsp;<span class="ident" id="6641056">shouldMatch</span><span class="op" id="6641067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641073">continue</span>&nbsp;<span class="ident" id="6641082">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641098">have</span>&nbsp;<span class="op" id="6641103">:=</span>&nbsp;<span class="ident" id="6641106">re</span><span class="op" id="6641108">.</span><span class="ident" id="6641109">FindStringSubmatchIndex</span><span class="op" id="6641132">(</span><span class="ident" id="6641133">text</span><span class="op" id="6641137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641142">if</span>&nbsp;<span class="op" id="6641145">(</span><span class="builtinfunc" id="6641146">len</span><span class="op" id="6641149">(</span><span class="ident" id="6641150">have</span><span class="op" id="6641154">)</span>&nbsp;<span class="op" id="6641156">&gt;</span>&nbsp;<span class="num" id="6641158">0</span><span class="op" id="6641159">)</span>&nbsp;<span class="op" id="6641161">!=</span>&nbsp;<span class="ident" id="6641164">match</span>&nbsp;<span class="op" id="6641170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641176">t</span><span class="op" id="6641177">.</span><span class="ident" id="6641178">Errorf</span><span class="op" id="6641184">(</span><span class="string" id="6641185">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6641250">,</span>&nbsp;<span class="ident" id="6641252">file</span><span class="op" id="6641256">,</span>&nbsp;<span class="ident" id="6641258">lineno</span><span class="op" id="6641264">,</span>&nbsp;<span class="ident" id="6641266">pattern</span><span class="op" id="6641273">,</span>&nbsp;<span class="ident" id="6641275">text</span><span class="op" id="6641279">,</span>&nbsp;<span class="ident" id="6641281">match</span><span class="op" id="6641286">,</span>&nbsp;<span class="ident" id="6641288">pattern</span><span class="op" id="6641295">,</span>&nbsp;<span class="ident" id="6641297">text</span><span class="op" id="6641301">,</span>&nbsp;<span class="ident" id="6641303">have</span><span class="op" id="6641307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641313">continue</span>&nbsp;<span class="ident" id="6641322">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641338">if</span>&nbsp;<span class="builtinfunc" id="6641341">len</span><span class="op" id="6641344">(</span><span class="ident" id="6641345">have</span><span class="op" id="6641349">)</span>&nbsp;<span class="op" id="6641351">&gt;</span>&nbsp;<span class="builtinfunc" id="6641353">len</span><span class="op" id="6641356">(</span><span class="ident" id="6641357">pos</span><span class="op" id="6641360">)</span>&nbsp;<span class="op" id="6641362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641368">have</span>&nbsp;<span class="op" id="6641373">=</span>&nbsp;<span class="ident" id="6641375">have</span><span class="op" id="6641379">[</span><span class="op" id="6641380">:</span><span class="builtinfunc" id="6641381">len</span><span class="op" id="6641384">(</span><span class="ident" id="6641385">pos</span><span class="op" id="6641388">)</span><span class="op" id="6641389">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6641399">if</span>&nbsp;<span class="op" id="6641402">!</span><span class="ident" id="6641403">same</span><span class="op" id="6641407">(</span><span class="ident" id="6641408">have</span><span class="op" id="6641412">,</span>&nbsp;<span class="ident" id="6641414">pos</span><span class="op" id="6641417">)</span>&nbsp;<span class="op" id="6641419">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6641425">t</span><span class="op" id="6641426">.</span><span class="ident" id="6641427">Errorf</span><span class="op" id="6641433">(</span><span class="string" id="6641434">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6641483">,</span>&nbsp;<span class="ident" id="6641485">file</span><span class="op" id="6641489">,</span>&nbsp;<span class="ident" id="6641491">lineno</span><span class="op" id="6641497">,</span>&nbsp;<span class="ident" id="6641499">pattern</span><span class="op" id="6641506">,</span>&nbsp;<span class="ident" id="6641508">text</span><span class="op" id="6641512">,</span>&nbsp;<span class="ident" id="6641514">have</span><span class="op" id="6641518">,</span>&nbsp;<span class="ident" id="6641520">pos</span><span class="op" id="6641523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6641535">}</span><br>
<span class="lineno"></span><span class="op" id="6641537">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="6641540">func</span>&nbsp;<span class="ident" id="6641545">parseFowlerResult</span><span class="op" id="6641562">(</span><span class="ident" id="6641563">s</span>&nbsp;<span class="builtintype" id="6641565">string</span><span class="op" id="6641571">)</span>&nbsp;<span class="op" id="6641573">(</span><span class="ident" id="6641574">ok</span><span class="op" id="6641576">,</span>&nbsp;<span class="ident" id="6641578">compiled</span><span class="op" id="6641586">,</span>&nbsp;<span class="ident" id="6641588">matched</span>&nbsp;<span class="builtintype" id="6641596">bool</span><span class="op" id="6641600">,</span>&nbsp;<span class="ident" id="6641602">pos</span>&nbsp;<span class="op" id="6641606">[</span><span class="op" id="6641607">]</span><span class="builtintype" id="6641608">int</span><span class="op" id="6641611">)</span>&nbsp;<span class="op" id="6641613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6641616">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6641687">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6641757">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6641826">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6641896">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6641965">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642036">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642111">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642187">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642260">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642336">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642412">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642484">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642559">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642577">switch</span>&nbsp;<span class="op" id="6642584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642587">case</span>&nbsp;<span class="ident" id="6642592">s</span>&nbsp;<span class="op" id="6642594">==</span>&nbsp;<span class="string" id="6642597">&#34;&#34;</span><span class="op" id="6642599">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642603">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642644">ok</span>&nbsp;<span class="op" id="6642647">=</span>&nbsp;<span class="builtintype" id="6642649">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642656">compiled</span>&nbsp;<span class="op" id="6642665">=</span>&nbsp;<span class="builtintype" id="6642667">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642674">matched</span>&nbsp;<span class="op" id="6642682">=</span>&nbsp;<span class="builtintype" id="6642684">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642691">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642699">case</span>&nbsp;<span class="ident" id="6642704">s</span>&nbsp;<span class="op" id="6642706">==</span>&nbsp;<span class="string" id="6642709">&#34;NOMATCH&#34;</span><span class="op" id="6642718">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642722">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642742">ok</span>&nbsp;<span class="op" id="6642745">=</span>&nbsp;<span class="builtintype" id="6642747">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642754">compiled</span>&nbsp;<span class="op" id="6642763">=</span>&nbsp;<span class="builtintype" id="6642765">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642772">matched</span>&nbsp;<span class="op" id="6642780">=</span>&nbsp;<span class="builtintype" id="6642782">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642790">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642798">case</span>&nbsp;<span class="string" id="6642803">&#39;A&#39;</span>&nbsp;<span class="op" id="6642807">&lt;=</span>&nbsp;<span class="ident" id="6642810">s</span><span class="op" id="6642811">[</span><span class="num" id="6642812">0</span><span class="op" id="6642813">]</span>&nbsp;<span class="op" id="6642815">&amp;&amp;</span>&nbsp;<span class="ident" id="6642818">s</span><span class="op" id="6642819">[</span><span class="num" id="6642820">0</span><span class="op" id="6642821">]</span>&nbsp;<span class="op" id="6642823">&lt;=</span>&nbsp;<span class="string" id="6642826">&#39;Z&#39;</span><span class="op" id="6642829">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6642833">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642884">ok</span>&nbsp;<span class="op" id="6642887">=</span>&nbsp;<span class="builtintype" id="6642889">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642896">compiled</span>&nbsp;<span class="op" id="6642905">=</span>&nbsp;<span class="builtintype" id="6642907">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642915">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6642923">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6642926">compiled</span>&nbsp;<span class="op" id="6642935">=</span>&nbsp;<span class="builtintype" id="6642937">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642944">var</span>&nbsp;<span class="ident" id="6642948">x</span>&nbsp;<span class="op" id="6642950">[</span><span class="op" id="6642951">]</span><span class="builtintype" id="6642952">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642957">for</span>&nbsp;<span class="ident" id="6642961">s</span>&nbsp;<span class="op" id="6642963">!=</span>&nbsp;<span class="string" id="6642966">&#34;&#34;</span>&nbsp;<span class="op" id="6642969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642973">var</span>&nbsp;<span class="ident" id="6642977">end</span>&nbsp;<span class="builtintype" id="6642981">byte</span>&nbsp;<span class="op" id="6642986">=</span>&nbsp;<span class="string" id="6642988">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6642994">if</span>&nbsp;<span class="builtinfunc" id="6642997">len</span><span class="op" id="6643000">(</span><span class="ident" id="6643001">x</span><span class="op" id="6643002">)</span><span class="op" id="6643003">%</span><span class="num" id="6643004">2</span>&nbsp;<span class="op" id="6643006">==</span>&nbsp;<span class="num" id="6643009">0</span>&nbsp;<span class="op" id="6643011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643016">if</span>&nbsp;<span class="ident" id="6643019">s</span><span class="op" id="6643020">[</span><span class="num" id="6643021">0</span><span class="op" id="6643022">]</span>&nbsp;<span class="op" id="6643024">!=</span>&nbsp;<span class="string" id="6643027">&#39;(&#39;</span>&nbsp;<span class="op" id="6643031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643037">ok</span>&nbsp;<span class="op" id="6643040">=</span>&nbsp;<span class="builtintype" id="6643042">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643052">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643062">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643067">s</span>&nbsp;<span class="op" id="6643069">=</span>&nbsp;<span class="ident" id="6643071">s</span><span class="op" id="6643072">[</span><span class="num" id="6643073">1</span><span class="op" id="6643074">:</span><span class="op" id="6643075">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643080">end</span>&nbsp;<span class="op" id="6643084">=</span>&nbsp;<span class="string" id="6643086">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643096">i</span>&nbsp;<span class="op" id="6643098">:=</span>&nbsp;<span class="num" id="6643101">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643105">for</span>&nbsp;<span class="ident" id="6643109">i</span>&nbsp;<span class="op" id="6643111">&lt;</span>&nbsp;<span class="builtinfunc" id="6643113">len</span><span class="op" id="6643116">(</span><span class="ident" id="6643117">s</span><span class="op" id="6643118">)</span>&nbsp;<span class="op" id="6643120">&amp;&amp;</span>&nbsp;<span class="ident" id="6643123">s</span><span class="op" id="6643124">[</span><span class="ident" id="6643125">i</span><span class="op" id="6643126">]</span>&nbsp;<span class="op" id="6643128">!=</span>&nbsp;<span class="ident" id="6643131">end</span>&nbsp;<span class="op" id="6643135">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643140">i</span><span class="op" id="6643141">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643150">if</span>&nbsp;<span class="ident" id="6643153">i</span>&nbsp;<span class="op" id="6643155">==</span>&nbsp;<span class="num" id="6643158">0</span>&nbsp;<span class="op" id="6643160">||</span>&nbsp;<span class="ident" id="6643163">i</span>&nbsp;<span class="op" id="6643165">==</span>&nbsp;<span class="builtinfunc" id="6643168">len</span><span class="op" id="6643171">(</span><span class="ident" id="6643172">s</span><span class="op" id="6643173">)</span>&nbsp;<span class="op" id="6643175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643180">ok</span>&nbsp;<span class="op" id="6643183">=</span>&nbsp;<span class="builtintype" id="6643185">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643194">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643207">var</span>&nbsp;<span class="ident" id="6643211">v</span>&nbsp;<span class="op" id="6643213">=</span>&nbsp;<span class="op" id="6643215">-</span><span class="num" id="6643216">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643220">var</span>&nbsp;<span class="ident" id="6643224">err</span>&nbsp;<span class="builtintype" id="6643228">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643236">if</span>&nbsp;<span class="ident" id="6643239">s</span><span class="op" id="6643240">[</span><span class="op" id="6643241">:</span><span class="ident" id="6643242">i</span><span class="op" id="6643243">]</span>&nbsp;<span class="op" id="6643245">!=</span>&nbsp;<span class="string" id="6643248">&#34;?&#34;</span>&nbsp;<span class="op" id="6643252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643257">v</span><span class="op" id="6643258">,</span>&nbsp;<span class="ident" id="6643260">err</span>&nbsp;<span class="op" id="6643264">=</span>&nbsp;<span class="ident" id="6643266">strconv</span><span class="op" id="6643273">.</span><span class="ident" id="6643274">Atoi</span><span class="op" id="6643278">(</span><span class="ident" id="6643279">s</span><span class="op" id="6643280">[</span><span class="op" id="6643281">:</span><span class="ident" id="6643282">i</span><span class="op" id="6643283">]</span><span class="op" id="6643284">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643289">if</span>&nbsp;<span class="ident" id="6643292">err</span>&nbsp;<span class="op" id="6643296">!=</span>&nbsp;<span class="ident" id="6643299">nil</span>&nbsp;<span class="op" id="6643303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643309">ok</span>&nbsp;<span class="op" id="6643312">=</span>&nbsp;<span class="builtintype" id="6643314">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643324">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643338">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643342">x</span>&nbsp;<span class="op" id="6643344">=</span>&nbsp;<span class="builtinfunc" id="6643346">append</span><span class="op" id="6643352">(</span><span class="ident" id="6643353">x</span><span class="op" id="6643354">,</span>&nbsp;<span class="ident" id="6643356">v</span><span class="op" id="6643357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643361">s</span>&nbsp;<span class="op" id="6643363">=</span>&nbsp;<span class="ident" id="6643365">s</span><span class="op" id="6643366">[</span><span class="ident" id="6643367">i</span><span class="op" id="6643368">+</span><span class="num" id="6643369">1</span><span class="op" id="6643370">:</span><span class="op" id="6643371">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643377">if</span>&nbsp;<span class="builtinfunc" id="6643380">len</span><span class="op" id="6643383">(</span><span class="ident" id="6643384">x</span><span class="op" id="6643385">)</span><span class="op" id="6643386">%</span><span class="num" id="6643387">2</span>&nbsp;<span class="op" id="6643389">!=</span>&nbsp;<span class="num" id="6643392">0</span>&nbsp;<span class="op" id="6643394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643398">ok</span>&nbsp;<span class="op" id="6643401">=</span>&nbsp;<span class="builtintype" id="6643403">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643411">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643422">ok</span>&nbsp;<span class="op" id="6643425">=</span>&nbsp;<span class="builtintype" id="6643427">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643433">matched</span>&nbsp;<span class="op" id="6643441">=</span>&nbsp;<span class="builtintype" id="6643443">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643449">pos</span>&nbsp;<span class="op" id="6643453">=</span>&nbsp;<span class="ident" id="6643455">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643458">return</span><br>
<span class="lineno"></span><span class="op" id="6643465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6643468">var</span>&nbsp;<span class="ident" id="6643472">text</span>&nbsp;<span class="op" id="6643477">[</span><span class="op" id="6643478">]</span><span class="builtintype" id="6643479">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="6643485">func</span>&nbsp;<span class="ident" id="6643490">makeText</span><span class="op" id="6643498">(</span><span class="ident" id="6643499">n</span>&nbsp;<span class="builtintype" id="6643501">int</span><span class="op" id="6643504">)</span>&nbsp;<span class="op" id="6643506">[</span><span class="op" id="6643507">]</span><span class="builtintype" id="6643508">byte</span>&nbsp;<span class="op" id="6643513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643516">if</span>&nbsp;<span class="builtinfunc" id="6643519">len</span><span class="op" id="6643522">(</span><span class="ident" id="6643523">text</span><span class="op" id="6643527">)</span>&nbsp;<span class="op" id="6643529">&gt;=</span>&nbsp;<span class="ident" id="6643532">n</span>&nbsp;<span class="op" id="6643534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643538">return</span>&nbsp;<span class="ident" id="6643545">text</span><span class="op" id="6643549">[</span><span class="op" id="6643550">:</span><span class="ident" id="6643551">n</span><span class="op" id="6643552">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643558">text</span>&nbsp;<span class="op" id="6643563">=</span>&nbsp;<span class="builtinfunc" id="6643565">make</span><span class="op" id="6643569">(</span><span class="op" id="6643570">[</span><span class="op" id="6643571">]</span><span class="builtintype" id="6643572">byte</span><span class="op" id="6643576">,</span>&nbsp;<span class="ident" id="6643578">n</span><span class="op" id="6643579">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643582">x</span>&nbsp;<span class="op" id="6643584">:=</span>&nbsp;<span class="op" id="6643587">^</span><span class="builtintype" id="6643588">uint32</span><span class="op" id="6643594">(</span><span class="num" id="6643595">0</span><span class="op" id="6643596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643599">for</span>&nbsp;<span class="ident" id="6643603">i</span>&nbsp;<span class="op" id="6643605">:=</span>&nbsp;<span class="keyword" id="6643608">range</span>&nbsp;<span class="ident" id="6643614">text</span>&nbsp;<span class="op" id="6643619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643623">x</span>&nbsp;<span class="op" id="6643625">+=</span>&nbsp;<span class="ident" id="6643628">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643632">x</span>&nbsp;<span class="op" id="6643634">^=</span>&nbsp;<span class="num" id="6643637">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643641">if</span>&nbsp;<span class="builtintype" id="6643644">int32</span><span class="op" id="6643649">(</span><span class="ident" id="6643650">x</span><span class="op" id="6643651">)</span>&nbsp;<span class="op" id="6643653">&lt;</span>&nbsp;<span class="num" id="6643655">0</span>&nbsp;<span class="op" id="6643657">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643662">x</span>&nbsp;<span class="op" id="6643664">^=</span>&nbsp;<span class="num" id="6643667">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643684">if</span>&nbsp;<span class="ident" id="6643687">x</span><span class="op" id="6643688">%</span><span class="num" id="6643689">31</span>&nbsp;<span class="op" id="6643692">==</span>&nbsp;<span class="num" id="6643695">0</span>&nbsp;<span class="op" id="6643697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643702">text</span><span class="op" id="6643706">[</span><span class="ident" id="6643707">i</span><span class="op" id="6643708">]</span>&nbsp;<span class="op" id="6643710">=</span>&nbsp;<span class="string" id="6643712">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643719">}</span>&nbsp;<span class="keyword" id="6643721">else</span>&nbsp;<span class="op" id="6643726">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643731">text</span><span class="op" id="6643735">[</span><span class="ident" id="6643736">i</span><span class="op" id="6643737">]</span>&nbsp;<span class="op" id="6643739">=</span>&nbsp;<span class="builtintype" id="6643741">byte</span><span class="op" id="6643745">(</span><span class="ident" id="6643746">x</span><span class="op" id="6643747">%</span><span class="op" id="6643748">(</span><span class="num" id="6643749">0x7E</span><span class="op" id="6643753">+</span><span class="num" id="6643754">1</span><span class="op" id="6643755">-</span><span class="num" id="6643756">0x20</span><span class="op" id="6643760">)</span>&nbsp;<span class="op" id="6643762">+</span>&nbsp;<span class="num" id="6643764">0x20</span><span class="op" id="6643768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643778">return</span>&nbsp;<span class="ident" id="6643785">text</span><br>
<span class="lineno"></span><span class="op" id="6643790">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="6643793">func</span>&nbsp;<span class="ident" id="6643798">benchmark</span><span class="op" id="6643807">(</span><span class="ident" id="6643808">b</span>&nbsp;<span class="op" id="6643810">*</span><span class="ident" id="6643811">testing</span><span class="op" id="6643818">.</span><span class="ident" id="6643819">B</span><span class="op" id="6643820">,</span>&nbsp;<span class="ident" id="6643822">re</span>&nbsp;<span class="builtintype" id="6643825">string</span><span class="op" id="6643831">,</span>&nbsp;<span class="ident" id="6643833">n</span>&nbsp;<span class="builtintype" id="6643835">int</span><span class="op" id="6643838">)</span>&nbsp;<span class="op" id="6643840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643843">r</span>&nbsp;<span class="op" id="6643845">:=</span>&nbsp;<span class="ident" id="6643848">MustCompile</span><span class="op" id="6643859">(</span><span class="ident" id="6643860">re</span><span class="op" id="6643862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643865">t</span>&nbsp;<span class="op" id="6643867">:=</span>&nbsp;<span class="ident" id="6643870">makeText</span><span class="op" id="6643878">(</span><span class="ident" id="6643879">n</span><span class="op" id="6643880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643883">b</span><span class="op" id="6643884">.</span><span class="ident" id="6643885">ResetTimer</span><span class="op" id="6643895">(</span><span class="op" id="6643896">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643899">b</span><span class="op" id="6643900">.</span><span class="ident" id="6643901">SetBytes</span><span class="op" id="6643909">(</span><span class="ident" id="6643910">int64</span><span class="op" id="6643915">(</span><span class="ident" id="6643916">n</span><span class="op" id="6643917">)</span><span class="op" id="6643918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643921">for</span>&nbsp;<span class="ident" id="6643925">i</span>&nbsp;<span class="op" id="6643927">:=</span>&nbsp;<span class="num" id="6643930">0</span><span class="op" id="6643931">;</span>&nbsp;<span class="ident" id="6643933">i</span>&nbsp;<span class="op" id="6643935">&lt;</span>&nbsp;<span class="ident" id="6643937">b</span><span class="op" id="6643938">.</span><span class="ident" id="6643939">N</span><span class="op" id="6643940">;</span>&nbsp;<span class="ident" id="6643942">i</span><span class="op" id="6643943">++</span>&nbsp;<span class="op" id="6643946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6643950">if</span>&nbsp;<span class="ident" id="6643953">r</span><span class="op" id="6643954">.</span><span class="ident" id="6643955">Match</span><span class="op" id="6643960">(</span><span class="ident" id="6643961">t</span><span class="op" id="6643962">)</span>&nbsp;<span class="op" id="6643964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6643969">b</span><span class="op" id="6643970">.</span><span class="ident" id="6643971">Fatal</span><span class="op" id="6643976">(</span><span class="string" id="6643977">&#34;match!&#34;</span><span class="op" id="6643985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643989">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6643992">}</span><br>
<span class="lineno"></span><span class="op" id="6643994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6643997">const</span>&nbsp;<span class="op" id="6644003">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6644006">easy0</span>&nbsp;&nbsp;<span class="op" id="6644013">=</span>&nbsp;<span class="string" id="6644015">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6644046">easy1</span>&nbsp;&nbsp;<span class="op" id="6644053">=</span>&nbsp;<span class="string" id="6644055">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6644106">medium</span>&nbsp;<span class="op" id="6644113">=</span>&nbsp;<span class="string" id="6644115">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6644151">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6644158">=</span>&nbsp;<span class="string" id="6644160">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6644197">parens</span>&nbsp;<span class="op" id="6644204">=</span>&nbsp;<span class="string" id="6644206">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="6644256">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6644260">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="6644303">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6644306">func</span>&nbsp;<span class="ident" id="6644311">BenchmarkMatchEasy0_32</span><span class="op" id="6644333">(</span><span class="ident" id="6644334">b</span>&nbsp;<span class="op" id="6644336">*</span><span class="ident" id="6644337">testing</span><span class="op" id="6644344">.</span><span class="ident" id="6644345">B</span><span class="op" id="6644346">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6644350">{</span>&nbsp;<span class="ident" id="6644352">benchmark</span><span class="op" id="6644361">(</span><span class="ident" id="6644362">b</span><span class="op" id="6644363">,</span>&nbsp;<span class="ident" id="6644365">easy0</span><span class="op" id="6644370">,</span>&nbsp;<span class="num" id="6644372">32</span><span class="op" id="6644374">&lt;&lt;</span><span class="num" id="6644376">0</span><span class="op" id="6644377">)</span>&nbsp;<span class="op" id="6644379">}</span><br>
<span class="lineno"></span><span class="keyword" id="6644381">func</span>&nbsp;<span class="ident" id="6644386">BenchmarkMatchEasy0_1K</span><span class="op" id="6644408">(</span><span class="ident" id="6644409">b</span>&nbsp;<span class="op" id="6644411">*</span><span class="ident" id="6644412">testing</span><span class="op" id="6644419">.</span><span class="ident" id="6644420">B</span><span class="op" id="6644421">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6644425">{</span>&nbsp;<span class="ident" id="6644427">benchmark</span><span class="op" id="6644436">(</span><span class="ident" id="6644437">b</span><span class="op" id="6644438">,</span>&nbsp;<span class="ident" id="6644440">easy0</span><span class="op" id="6644445">,</span>&nbsp;<span class="num" id="6644447">1</span><span class="op" id="6644448">&lt;&lt;</span><span class="num" id="6644450">10</span><span class="op" id="6644452">)</span>&nbsp;<span class="op" id="6644454">}</span><br>
<span class="lineno"></span><span class="keyword" id="6644456">func</span>&nbsp;<span class="ident" id="6644461">BenchmarkMatchEasy0_32K</span><span class="op" id="6644484">(</span><span class="ident" id="6644485">b</span>&nbsp;<span class="op" id="6644487">*</span><span class="ident" id="6644488">testing</span><span class="op" id="6644495">.</span><span class="ident" id="6644496">B</span><span class="op" id="6644497">)</span>&nbsp;&nbsp;<span class="op" id="6644500">{</span>&nbsp;<span class="ident" id="6644502">benchmark</span><span class="op" id="6644511">(</span><span class="ident" id="6644512">b</span><span class="op" id="6644513">,</span>&nbsp;<span class="ident" id="6644515">easy0</span><span class="op" id="6644520">,</span>&nbsp;<span class="num" id="6644522">32</span><span class="op" id="6644524">&lt;&lt;</span><span class="num" id="6644526">10</span><span class="op" id="6644528">)</span>&nbsp;<span class="op" id="6644530">}</span><br>
<span class="lineno">685</span><span class="keyword" id="6644532">func</span>&nbsp;<span class="ident" id="6644537">BenchmarkMatchEasy0_1M</span><span class="op" id="6644559">(</span><span class="ident" id="6644560">b</span>&nbsp;<span class="op" id="6644562">*</span><span class="ident" id="6644563">testing</span><span class="op" id="6644570">.</span><span class="ident" id="6644571">B</span><span class="op" id="6644572">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6644576">{</span>&nbsp;<span class="ident" id="6644578">benchmark</span><span class="op" id="6644587">(</span><span class="ident" id="6644588">b</span><span class="op" id="6644589">,</span>&nbsp;<span class="ident" id="6644591">easy0</span><span class="op" id="6644596">,</span>&nbsp;<span class="num" id="6644598">1</span><span class="op" id="6644599">&lt;&lt;</span><span class="num" id="6644601">20</span><span class="op" id="6644603">)</span>&nbsp;<span class="op" id="6644605">}</span><br>
<span class="lineno"></span><span class="keyword" id="6644607">func</span>&nbsp;<span class="ident" id="6644612">BenchmarkMatchEasy0_32M</span><span class="op" id="6644635">(</span><span class="ident" id="6644636">b</span>&nbsp;<span class="op" id="6644638">*</span><span class="ident" id="6644639">testing</span><span class="op" id="6644646">.</span><span class="ident" id="6644647">B</span><span class="op" id="6644648">)</span>&nbsp;&nbsp;<span class="op" id="6644651">{</span>&nbsp;<span class="ident" id="6644653">benchmark</span><span class="op" id="6644662">(</span><span class="ident" id="6644663">b</span><span class="op" id="6644664">,</span>&nbsp;<span class="ident" id="6644666">easy0</span><span class="op" id="6644671">,</span>&nbsp;<span class="num" id="6644673">32</span><span class="op" id="6644675">&lt;&lt;</span><span class="num" id="6644677">20</span><span class="op" id="6644679">)</span>&nbsp;<span class="op" id="6644681">}</span><br>
<span class="lineno"></span><span class="keyword" id="6644683">func</span>&nbsp;<span class="ident" id="6644688">BenchmarkMatchEasy1_32</span><span class="op" id="6644710">(</span><span class="ident" id="6644711">b</span>&nbsp;<span class="op" id="6644713">*</span><span class="ident" id="6644714">testing</span><span class="op" id="6644721">.</span><span class="ident" id="6644722">B</span><span class="op" id="6644723">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6644727">{</span>&nbsp;<span class="ident" id="6644729">benchmark</span><span class="op" id="6644738">(</span><span class="ident" id="6644739">b</span><span class="op" id="6644740">,</span>&nbsp;<span class="ident" id="6644742">easy1</span><span class="op" id="6644747">,</span>&nbsp;<span class="num" id="6644749">32</span><span class="op" id="6644751">&lt;&lt;</span><span class="num" id="6644753">0</span><span class="op" id="6644754">)</span>&nbsp;<span class="op" id="6644756">}</span><br>
<span class="lineno"></span><span class="keyword" id="6644758">func</span>&nbsp;<span class="ident" id="6644763">BenchmarkMatchEasy1_1K</span><span class="op" id="6644785">(</span><span class="ident" id="6644786">b</span>&nbsp;<span class="op" id="6644788">*</span><span class="ident" id="6644789">testing</span><span class="op" id="6644796">.</span><span class="ident" id="6644797">B</span><span class="op" id="6644798">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6644802">{</span>&nbsp;<span class="ident" id="6644804">benchmark</span><span class="op" id="6644813">(</span><span class="ident" id="6644814">b</span><span class="op" id="6644815">,</span>&nbsp;<span class="ident" id="6644817">easy1</span><span class="op" id="6644822">,</span>&nbsp;<span class="num" id="6644824">1</span><span class="op" id="6644825">&lt;&lt;</span><span class="num" id="6644827">10</span><span class="op" id="6644829">)</span>&nbsp;<span class="op" id="6644831">}</span><br>
<span class="lineno"></span><span class="keyword" id="6644833">func</span>&nbsp;<span class="ident" id="6644838">BenchmarkMatchEasy1_32K</span><span class="op" id="6644861">(</span><span class="ident" id="6644862">b</span>&nbsp;<span class="op" id="6644864">*</span><span class="ident" id="6644865">testing</span><span class="op" id="6644872">.</span><span class="ident" id="6644873">B</span><span class="op" id="6644874">)</span>&nbsp;&nbsp;<span class="op" id="6644877">{</span>&nbsp;<span class="ident" id="6644879">benchmark</span><span class="op" id="6644888">(</span><span class="ident" id="6644889">b</span><span class="op" id="6644890">,</span>&nbsp;<span class="ident" id="6644892">easy1</span><span class="op" id="6644897">,</span>&nbsp;<span class="num" id="6644899">32</span><span class="op" id="6644901">&lt;&lt;</span><span class="num" id="6644903">10</span><span class="op" id="6644905">)</span>&nbsp;<span class="op" id="6644907">}</span><br>
<span class="lineno">690</span><span class="keyword" id="6644909">func</span>&nbsp;<span class="ident" id="6644914">BenchmarkMatchEasy1_1M</span><span class="op" id="6644936">(</span><span class="ident" id="6644937">b</span>&nbsp;<span class="op" id="6644939">*</span><span class="ident" id="6644940">testing</span><span class="op" id="6644947">.</span><span class="ident" id="6644948">B</span><span class="op" id="6644949">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6644953">{</span>&nbsp;<span class="ident" id="6644955">benchmark</span><span class="op" id="6644964">(</span><span class="ident" id="6644965">b</span><span class="op" id="6644966">,</span>&nbsp;<span class="ident" id="6644968">easy1</span><span class="op" id="6644973">,</span>&nbsp;<span class="num" id="6644975">1</span><span class="op" id="6644976">&lt;&lt;</span><span class="num" id="6644978">20</span><span class="op" id="6644980">)</span>&nbsp;<span class="op" id="6644982">}</span><br>
<span class="lineno"></span><span class="keyword" id="6644984">func</span>&nbsp;<span class="ident" id="6644989">BenchmarkMatchEasy1_32M</span><span class="op" id="6645012">(</span><span class="ident" id="6645013">b</span>&nbsp;<span class="op" id="6645015">*</span><span class="ident" id="6645016">testing</span><span class="op" id="6645023">.</span><span class="ident" id="6645024">B</span><span class="op" id="6645025">)</span>&nbsp;&nbsp;<span class="op" id="6645028">{</span>&nbsp;<span class="ident" id="6645030">benchmark</span><span class="op" id="6645039">(</span><span class="ident" id="6645040">b</span><span class="op" id="6645041">,</span>&nbsp;<span class="ident" id="6645043">easy1</span><span class="op" id="6645048">,</span>&nbsp;<span class="num" id="6645050">32</span><span class="op" id="6645052">&lt;&lt;</span><span class="num" id="6645054">20</span><span class="op" id="6645056">)</span>&nbsp;<span class="op" id="6645058">}</span><br>
<span class="lineno"></span><span class="keyword" id="6645060">func</span>&nbsp;<span class="ident" id="6645065">BenchmarkMatchMedium_32</span><span class="op" id="6645088">(</span><span class="ident" id="6645089">b</span>&nbsp;<span class="op" id="6645091">*</span><span class="ident" id="6645092">testing</span><span class="op" id="6645099">.</span><span class="ident" id="6645100">B</span><span class="op" id="6645101">)</span>&nbsp;&nbsp;<span class="op" id="6645104">{</span>&nbsp;<span class="ident" id="6645106">benchmark</span><span class="op" id="6645115">(</span><span class="ident" id="6645116">b</span><span class="op" id="6645117">,</span>&nbsp;<span class="ident" id="6645119">medium</span><span class="op" id="6645125">,</span>&nbsp;<span class="num" id="6645127">32</span><span class="op" id="6645129">&lt;&lt;</span><span class="num" id="6645131">0</span><span class="op" id="6645132">)</span>&nbsp;<span class="op" id="6645134">}</span><br>
<span class="lineno"></span><span class="keyword" id="6645136">func</span>&nbsp;<span class="ident" id="6645141">BenchmarkMatchMedium_1K</span><span class="op" id="6645164">(</span><span class="ident" id="6645165">b</span>&nbsp;<span class="op" id="6645167">*</span><span class="ident" id="6645168">testing</span><span class="op" id="6645175">.</span><span class="ident" id="6645176">B</span><span class="op" id="6645177">)</span>&nbsp;&nbsp;<span class="op" id="6645180">{</span>&nbsp;<span class="ident" id="6645182">benchmark</span><span class="op" id="6645191">(</span><span class="ident" id="6645192">b</span><span class="op" id="6645193">,</span>&nbsp;<span class="ident" id="6645195">medium</span><span class="op" id="6645201">,</span>&nbsp;<span class="num" id="6645203">1</span><span class="op" id="6645204">&lt;&lt;</span><span class="num" id="6645206">10</span><span class="op" id="6645208">)</span>&nbsp;<span class="op" id="6645210">}</span><br>
<span class="lineno"></span><span class="keyword" id="6645212">func</span>&nbsp;<span class="ident" id="6645217">BenchmarkMatchMedium_32K</span><span class="op" id="6645241">(</span><span class="ident" id="6645242">b</span>&nbsp;<span class="op" id="6645244">*</span><span class="ident" id="6645245">testing</span><span class="op" id="6645252">.</span><span class="ident" id="6645253">B</span><span class="op" id="6645254">)</span>&nbsp;<span class="op" id="6645256">{</span>&nbsp;<span class="ident" id="6645258">benchmark</span><span class="op" id="6645267">(</span><span class="ident" id="6645268">b</span><span class="op" id="6645269">,</span>&nbsp;<span class="ident" id="6645271">medium</span><span class="op" id="6645277">,</span>&nbsp;<span class="num" id="6645279">32</span><span class="op" id="6645281">&lt;&lt;</span><span class="num" id="6645283">10</span><span class="op" id="6645285">)</span>&nbsp;<span class="op" id="6645287">}</span><br>
<span class="lineno">695</span><span class="keyword" id="6645289">func</span>&nbsp;<span class="ident" id="6645294">BenchmarkMatchMedium_1M</span><span class="op" id="6645317">(</span><span class="ident" id="6645318">b</span>&nbsp;<span class="op" id="6645320">*</span><span class="ident" id="6645321">testing</span><span class="op" id="6645328">.</span><span class="ident" id="6645329">B</span><span class="op" id="6645330">)</span>&nbsp;&nbsp;<span class="op" id="6645333">{</span>&nbsp;<span class="ident" id="6645335">benchmark</span><span class="op" id="6645344">(</span><span class="ident" id="6645345">b</span><span class="op" id="6645346">,</span>&nbsp;<span class="ident" id="6645348">medium</span><span class="op" id="6645354">,</span>&nbsp;<span class="num" id="6645356">1</span><span class="op" id="6645357">&lt;&lt;</span><span class="num" id="6645359">20</span><span class="op" id="6645361">)</span>&nbsp;<span class="op" id="6645363">}</span><br>
<span class="lineno"></span><span class="keyword" id="6645365">func</span>&nbsp;<span class="ident" id="6645370">BenchmarkMatchMedium_32M</span><span class="op" id="6645394">(</span><span class="ident" id="6645395">b</span>&nbsp;<span class="op" id="6645397">*</span><span class="ident" id="6645398">testing</span><span class="op" id="6645405">.</span><span class="ident" id="6645406">B</span><span class="op" id="6645407">)</span>&nbsp;<span class="op" id="6645409">{</span>&nbsp;<span class="ident" id="6645411">benchmark</span><span class="op" id="6645420">(</span><span class="ident" id="6645421">b</span><span class="op" id="6645422">,</span>&nbsp;<span class="ident" id="6645424">medium</span><span class="op" id="6645430">,</span>&nbsp;<span class="num" id="6645432">32</span><span class="op" id="6645434">&lt;&lt;</span><span class="num" id="6645436">20</span><span class="op" id="6645438">)</span>&nbsp;<span class="op" id="6645440">}</span><br>
<span class="lineno"></span><span class="keyword" id="6645442">func</span>&nbsp;<span class="ident" id="6645447">BenchmarkMatchHard_32</span><span class="op" id="6645468">(</span><span class="ident" id="6645469">b</span>&nbsp;<span class="op" id="6645471">*</span><span class="ident" id="6645472">testing</span><span class="op" id="6645479">.</span><span class="ident" id="6645480">B</span><span class="op" id="6645481">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6645486">{</span>&nbsp;<span class="ident" id="6645488">benchmark</span><span class="op" id="6645497">(</span><span class="ident" id="6645498">b</span><span class="op" id="6645499">,</span>&nbsp;<span class="ident" id="6645501">hard</span><span class="op" id="6645505">,</span>&nbsp;<span class="num" id="6645507">32</span><span class="op" id="6645509">&lt;&lt;</span><span class="num" id="6645511">0</span><span class="op" id="6645512">)</span>&nbsp;<span class="op" id="6645514">}</span><br>
<span class="lineno"></span><span class="keyword" id="6645516">func</span>&nbsp;<span class="ident" id="6645521">BenchmarkMatchHard_1K</span><span class="op" id="6645542">(</span><span class="ident" id="6645543">b</span>&nbsp;<span class="op" id="6645545">*</span><span class="ident" id="6645546">testing</span><span class="op" id="6645553">.</span><span class="ident" id="6645554">B</span><span class="op" id="6645555">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6645560">{</span>&nbsp;<span class="ident" id="6645562">benchmark</span><span class="op" id="6645571">(</span><span class="ident" id="6645572">b</span><span class="op" id="6645573">,</span>&nbsp;<span class="ident" id="6645575">hard</span><span class="op" id="6645579">,</span>&nbsp;<span class="num" id="6645581">1</span><span class="op" id="6645582">&lt;&lt;</span><span class="num" id="6645584">10</span><span class="op" id="6645586">)</span>&nbsp;<span class="op" id="6645588">}</span><br>
<span class="lineno"></span><span class="keyword" id="6645590">func</span>&nbsp;<span class="ident" id="6645595">BenchmarkMatchHard_32K</span><span class="op" id="6645617">(</span><span class="ident" id="6645618">b</span>&nbsp;<span class="op" id="6645620">*</span><span class="ident" id="6645621">testing</span><span class="op" id="6645628">.</span><span class="ident" id="6645629">B</span><span class="op" id="6645630">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6645634">{</span>&nbsp;<span class="ident" id="6645636">benchmark</span><span class="op" id="6645645">(</span><span class="ident" id="6645646">b</span><span class="op" id="6645647">,</span>&nbsp;<span class="ident" id="6645649">hard</span><span class="op" id="6645653">,</span>&nbsp;<span class="num" id="6645655">32</span><span class="op" id="6645657">&lt;&lt;</span><span class="num" id="6645659">10</span><span class="op" id="6645661">)</span>&nbsp;<span class="op" id="6645663">}</span><br>
<span class="lineno">700</span><span class="keyword" id="6645665">func</span>&nbsp;<span class="ident" id="6645670">BenchmarkMatchHard_1M</span><span class="op" id="6645691">(</span><span class="ident" id="6645692">b</span>&nbsp;<span class="op" id="6645694">*</span><span class="ident" id="6645695">testing</span><span class="op" id="6645702">.</span><span class="ident" id="6645703">B</span><span class="op" id="6645704">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6645709">{</span>&nbsp;<span class="ident" id="6645711">benchmark</span><span class="op" id="6645720">(</span><span class="ident" id="6645721">b</span><span class="op" id="6645722">,</span>&nbsp;<span class="ident" id="6645724">hard</span><span class="op" id="6645728">,</span>&nbsp;<span class="num" id="6645730">1</span><span class="op" id="6645731">&lt;&lt;</span><span class="num" id="6645733">20</span><span class="op" id="6645735">)</span>&nbsp;<span class="op" id="6645737">}</span><br>
<span class="lineno"></span><span class="keyword" id="6645739">func</span>&nbsp;<span class="ident" id="6645744">BenchmarkMatchHard_32M</span><span class="op" id="6645766">(</span><span class="ident" id="6645767">b</span>&nbsp;<span class="op" id="6645769">*</span><span class="ident" id="6645770">testing</span><span class="op" id="6645777">.</span><span class="ident" id="6645778">B</span><span class="op" id="6645779">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6645783">{</span>&nbsp;<span class="ident" id="6645785">benchmark</span><span class="op" id="6645794">(</span><span class="ident" id="6645795">b</span><span class="op" id="6645796">,</span>&nbsp;<span class="ident" id="6645798">hard</span><span class="op" id="6645802">,</span>&nbsp;<span class="num" id="6645804">32</span><span class="op" id="6645806">&lt;&lt;</span><span class="num" id="6645808">20</span><span class="op" id="6645810">)</span>&nbsp;<span class="op" id="6645812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6645815">func</span>&nbsp;<span class="ident" id="6645820">TestLongest</span><span class="op" id="6645831">(</span><span class="ident" id="6645832">t</span>&nbsp;<span class="op" id="6645834">*</span><span class="ident" id="6645835">testing</span><span class="op" id="6645842">.</span><span class="ident" id="6645843">T</span><span class="op" id="6645844">)</span>&nbsp;<span class="op" id="6645846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645849">re</span><span class="op" id="6645851">,</span>&nbsp;<span class="ident" id="6645853">err</span>&nbsp;<span class="op" id="6645857">:=</span>&nbsp;<span class="ident" id="6645860">Compile</span><span class="op" id="6645867">(</span><span class="string" id="6645868">`a(|b)`</span><span class="op" id="6645875">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645878">if</span>&nbsp;<span class="ident" id="6645881">err</span>&nbsp;<span class="op" id="6645885">!=</span>&nbsp;<span class="ident" id="6645888">nil</span>&nbsp;<span class="op" id="6645892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645896">t</span><span class="op" id="6645897">.</span><span class="ident" id="6645898">Fatal</span><span class="op" id="6645903">(</span><span class="ident" id="6645904">err</span><span class="op" id="6645907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6645910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6645913">if</span>&nbsp;<span class="ident" id="6645916">g</span><span class="op" id="6645917">,</span>&nbsp;<span class="ident" id="6645919">w</span>&nbsp;<span class="op" id="6645921">:=</span>&nbsp;<span class="ident" id="6645924">re</span><span class="op" id="6645926">.</span><span class="ident" id="6645927">FindString</span><span class="op" id="6645937">(</span><span class="string" id="6645938">&#34;ab&#34;</span><span class="op" id="6645942">)</span><span class="op" id="6645943">,</span>&nbsp;<span class="string" id="6645945">&#34;a&#34;</span><span class="op" id="6645948">;</span>&nbsp;<span class="ident" id="6645950">g</span>&nbsp;<span class="op" id="6645952">!=</span>&nbsp;<span class="ident" id="6645955">w</span>&nbsp;<span class="op" id="6645957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6645961">t</span><span class="op" id="6645962">.</span><span class="ident" id="6645963">Errorf</span><span class="op" id="6645969">(</span><span class="string" id="6645970">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6645999">,</span>&nbsp;<span class="ident" id="6646001">g</span><span class="op" id="6646002">,</span>&nbsp;<span class="ident" id="6646004">w</span><span class="op" id="6646005">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646011">re</span><span class="op" id="6646013">.</span><span class="ident" id="6646014">Longest</span><span class="op" id="6646021">(</span><span class="op" id="6646022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6646025">if</span>&nbsp;<span class="ident" id="6646028">g</span><span class="op" id="6646029">,</span>&nbsp;<span class="ident" id="6646031">w</span>&nbsp;<span class="op" id="6646033">:=</span>&nbsp;<span class="ident" id="6646036">re</span><span class="op" id="6646038">.</span><span class="ident" id="6646039">FindString</span><span class="op" id="6646049">(</span><span class="string" id="6646050">&#34;ab&#34;</span><span class="op" id="6646054">)</span><span class="op" id="6646055">,</span>&nbsp;<span class="string" id="6646057">&#34;ab&#34;</span><span class="op" id="6646061">;</span>&nbsp;<span class="ident" id="6646063">g</span>&nbsp;<span class="op" id="6646065">!=</span>&nbsp;<span class="ident" id="6646068">w</span>&nbsp;<span class="op" id="6646070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6646074">t</span><span class="op" id="6646075">.</span><span class="ident" id="6646076">Errorf</span><span class="op" id="6646082">(</span><span class="string" id="6646083">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6646114">,</span>&nbsp;<span class="ident" id="6646116">g</span><span class="op" id="6646117">,</span>&nbsp;<span class="ident" id="6646119">w</span><span class="op" id="6646120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6646123">}</span><br>
<span class="lineno">715</span><span class="op" id="6646125">}</span>
</div>
</body>
</html>
