<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/binary</h2>
<ul>
<li><a href="/gostd/encoding/binary/binary.go.html">binary.go</a></li>
<li><a href="/gostd/encoding/binary/binary_test.go.html" class="current">binary_test.go</a></li>
<li><a href="/gostd/encoding/binary/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/binary/varint.go.html">varint.go</a></li>
<li><a href="/gostd/encoding/binary/varint_test.go.html">varint_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8489537">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8489593">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8489647">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8489698">package</span>&nbsp;<span class="ident" id="8489706">binary</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8489714">import</span>&nbsp;<span class="op" id="8489721">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8489724">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8489733">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8489739">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8489747">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8489758">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8489769">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8489779">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8489782">type</span>&nbsp;<span class="ident" id="8489787">Struct</span>&nbsp;<span class="keyword" id="8489794">struct</span>&nbsp;<span class="op" id="8489801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489804">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8489815">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489821">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8489832">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489839">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8489850">int32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489857">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489868">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489875">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8489886">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489893">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8489904">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489912">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8489923">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489931">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489942">uint64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489950">Float32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8489961">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489970">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8489981">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8489990">Complex64</span>&nbsp;&nbsp;<span class="builtintype" id="8490001">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490012">Complex128</span>&nbsp;<span class="builtintype" id="8490023">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490035">Array</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8490046">[</span><span class="num" id="8490047">4</span><span class="op" id="8490048">]</span><span class="builtintype" id="8490049">uint8</span><br>
<span class="lineno">30</span><span class="op" id="8490055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8490058">type</span>&nbsp;<span class="ident" id="8490063">T</span>&nbsp;<span class="keyword" id="8490065">struct</span>&nbsp;<span class="op" id="8490072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490075">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8490083">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490088">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8490096">uint</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490102">Uintptr</span>&nbsp;<span class="builtintype" id="8490110">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490119">Array</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8490127">[</span><span class="num" id="8490128">4</span><span class="op" id="8490129">]</span><span class="builtintype" id="8490130">int</span><br>
<span class="lineno"></span><span class="op" id="8490134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8490137">var</span>&nbsp;<span class="ident" id="8490141">s</span>&nbsp;<span class="op" id="8490143">=</span>&nbsp;<span class="ident" id="8490145">Struct</span><span class="op" id="8490151">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490154">0x01</span><span class="op" id="8490158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490161">0x0203</span><span class="op" id="8490167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490170">0x04050607</span><span class="op" id="8490180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490183">0x08090a0b0c0d0e0f</span><span class="op" id="8490201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490204">0x10</span><span class="op" id="8490208">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490211">0x1112</span><span class="op" id="8490217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490220">0x13141516</span><span class="op" id="8490230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490233">0x1718191a1b1c1d1e</span><span class="op" id="8490251">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490255">math</span><span class="op" id="8490259">.</span><span class="ident" id="8490260">Float32frombits</span><span class="op" id="8490275">(</span><span class="num" id="8490276">0x1f202122</span><span class="op" id="8490286">)</span><span class="op" id="8490287">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490290">math</span><span class="op" id="8490294">.</span><span class="ident" id="8490295">Float64frombits</span><span class="op" id="8490310">(</span><span class="num" id="8490311">0x232425262728292a</span><span class="op" id="8490329">)</span><span class="op" id="8490330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8490333">complex</span><span class="op" id="8490340">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490344">math</span><span class="op" id="8490348">.</span><span class="ident" id="8490349">Float32frombits</span><span class="op" id="8490364">(</span><span class="num" id="8490365">0x2b2c2d2e</span><span class="op" id="8490375">)</span><span class="op" id="8490376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490380">math</span><span class="op" id="8490384">.</span><span class="ident" id="8490385">Float32frombits</span><span class="op" id="8490400">(</span><span class="num" id="8490401">0x2f303132</span><span class="op" id="8490411">)</span><span class="op" id="8490412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8490415">)</span><span class="op" id="8490416">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8490419">complex</span><span class="op" id="8490426">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490430">math</span><span class="op" id="8490434">.</span><span class="ident" id="8490435">Float64frombits</span><span class="op" id="8490450">(</span><span class="num" id="8490451">0x333435363738393a</span><span class="op" id="8490469">)</span><span class="op" id="8490470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8490474">math</span><span class="op" id="8490478">.</span><span class="ident" id="8490479">Float64frombits</span><span class="op" id="8490494">(</span><span class="num" id="8490495">0x3b3c3d3e3f404142</span><span class="op" id="8490513">)</span><span class="op" id="8490514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8490517">)</span><span class="op" id="8490518">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8490522">[</span><span class="num" id="8490523">4</span><span class="op" id="8490524">]</span><span class="builtintype" id="8490525">uint8</span><span class="op" id="8490530">{</span><span class="num" id="8490531">0x43</span><span class="op" id="8490535">,</span>&nbsp;<span class="num" id="8490537">0x44</span><span class="op" id="8490541">,</span>&nbsp;<span class="num" id="8490543">0x45</span><span class="op" id="8490547">,</span>&nbsp;<span class="num" id="8490549">0x46</span><span class="op" id="8490553">}</span><span class="op" id="8490554">,</span><br>
<span class="lineno"></span><span class="op" id="8490556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8490559">var</span>&nbsp;<span class="ident" id="8490563">big</span>&nbsp;<span class="op" id="8490567">=</span>&nbsp;<span class="op" id="8490569">[</span><span class="op" id="8490570">]</span><span class="builtintype" id="8490571">byte</span><span class="op" id="8490575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490578">1</span><span class="op" id="8490579">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490582">2</span><span class="op" id="8490583">,</span>&nbsp;<span class="num" id="8490585">3</span><span class="op" id="8490586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490589">4</span><span class="op" id="8490590">,</span>&nbsp;<span class="num" id="8490592">5</span><span class="op" id="8490593">,</span>&nbsp;<span class="num" id="8490595">6</span><span class="op" id="8490596">,</span>&nbsp;<span class="num" id="8490598">7</span><span class="op" id="8490599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490602">8</span><span class="op" id="8490603">,</span>&nbsp;<span class="num" id="8490605">9</span><span class="op" id="8490606">,</span>&nbsp;<span class="num" id="8490608">10</span><span class="op" id="8490610">,</span>&nbsp;<span class="num" id="8490612">11</span><span class="op" id="8490614">,</span>&nbsp;<span class="num" id="8490616">12</span><span class="op" id="8490618">,</span>&nbsp;<span class="num" id="8490620">13</span><span class="op" id="8490622">,</span>&nbsp;<span class="num" id="8490624">14</span><span class="op" id="8490626">,</span>&nbsp;<span class="num" id="8490628">15</span><span class="op" id="8490630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490633">16</span><span class="op" id="8490635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490638">17</span><span class="op" id="8490640">,</span>&nbsp;<span class="num" id="8490642">18</span><span class="op" id="8490644">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490647">19</span><span class="op" id="8490649">,</span>&nbsp;<span class="num" id="8490651">20</span><span class="op" id="8490653">,</span>&nbsp;<span class="num" id="8490655">21</span><span class="op" id="8490657">,</span>&nbsp;<span class="num" id="8490659">22</span><span class="op" id="8490661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490664">23</span><span class="op" id="8490666">,</span>&nbsp;<span class="num" id="8490668">24</span><span class="op" id="8490670">,</span>&nbsp;<span class="num" id="8490672">25</span><span class="op" id="8490674">,</span>&nbsp;<span class="num" id="8490676">26</span><span class="op" id="8490678">,</span>&nbsp;<span class="num" id="8490680">27</span><span class="op" id="8490682">,</span>&nbsp;<span class="num" id="8490684">28</span><span class="op" id="8490686">,</span>&nbsp;<span class="num" id="8490688">29</span><span class="op" id="8490690">,</span>&nbsp;<span class="num" id="8490692">30</span><span class="op" id="8490694">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490698">31</span><span class="op" id="8490700">,</span>&nbsp;<span class="num" id="8490702">32</span><span class="op" id="8490704">,</span>&nbsp;<span class="num" id="8490706">33</span><span class="op" id="8490708">,</span>&nbsp;<span class="num" id="8490710">34</span><span class="op" id="8490712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490715">35</span><span class="op" id="8490717">,</span>&nbsp;<span class="num" id="8490719">36</span><span class="op" id="8490721">,</span>&nbsp;<span class="num" id="8490723">37</span><span class="op" id="8490725">,</span>&nbsp;<span class="num" id="8490727">38</span><span class="op" id="8490729">,</span>&nbsp;<span class="num" id="8490731">39</span><span class="op" id="8490733">,</span>&nbsp;<span class="num" id="8490735">40</span><span class="op" id="8490737">,</span>&nbsp;<span class="num" id="8490739">41</span><span class="op" id="8490741">,</span>&nbsp;<span class="num" id="8490743">42</span><span class="op" id="8490745">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490748">43</span><span class="op" id="8490750">,</span>&nbsp;<span class="num" id="8490752">44</span><span class="op" id="8490754">,</span>&nbsp;<span class="num" id="8490756">45</span><span class="op" id="8490758">,</span>&nbsp;<span class="num" id="8490760">46</span><span class="op" id="8490762">,</span>&nbsp;<span class="num" id="8490764">47</span><span class="op" id="8490766">,</span>&nbsp;<span class="num" id="8490768">48</span><span class="op" id="8490770">,</span>&nbsp;<span class="num" id="8490772">49</span><span class="op" id="8490774">,</span>&nbsp;<span class="num" id="8490776">50</span><span class="op" id="8490778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490781">51</span><span class="op" id="8490783">,</span>&nbsp;<span class="num" id="8490785">52</span><span class="op" id="8490787">,</span>&nbsp;<span class="num" id="8490789">53</span><span class="op" id="8490791">,</span>&nbsp;<span class="num" id="8490793">54</span><span class="op" id="8490795">,</span>&nbsp;<span class="num" id="8490797">55</span><span class="op" id="8490799">,</span>&nbsp;<span class="num" id="8490801">56</span><span class="op" id="8490803">,</span>&nbsp;<span class="num" id="8490805">57</span><span class="op" id="8490807">,</span>&nbsp;<span class="num" id="8490809">58</span><span class="op" id="8490811">,</span>&nbsp;<span class="num" id="8490813">59</span><span class="op" id="8490815">,</span>&nbsp;<span class="num" id="8490817">60</span><span class="op" id="8490819">,</span>&nbsp;<span class="num" id="8490821">61</span><span class="op" id="8490823">,</span>&nbsp;<span class="num" id="8490825">62</span><span class="op" id="8490827">,</span>&nbsp;<span class="num" id="8490829">63</span><span class="op" id="8490831">,</span>&nbsp;<span class="num" id="8490833">64</span><span class="op" id="8490835">,</span>&nbsp;<span class="num" id="8490837">65</span><span class="op" id="8490839">,</span>&nbsp;<span class="num" id="8490841">66</span><span class="op" id="8490843">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490847">67</span><span class="op" id="8490849">,</span>&nbsp;<span class="num" id="8490851">68</span><span class="op" id="8490853">,</span>&nbsp;<span class="num" id="8490855">69</span><span class="op" id="8490857">,</span>&nbsp;<span class="num" id="8490859">70</span><span class="op" id="8490861">,</span><br>
<span class="lineno"></span><span class="op" id="8490863">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="8490866">var</span>&nbsp;<span class="ident" id="8490870">little</span>&nbsp;<span class="op" id="8490877">=</span>&nbsp;<span class="op" id="8490879">[</span><span class="op" id="8490880">]</span><span class="builtintype" id="8490881">byte</span><span class="op" id="8490885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490888">1</span><span class="op" id="8490889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490892">3</span><span class="op" id="8490893">,</span>&nbsp;<span class="num" id="8490895">2</span><span class="op" id="8490896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490899">7</span><span class="op" id="8490900">,</span>&nbsp;<span class="num" id="8490902">6</span><span class="op" id="8490903">,</span>&nbsp;<span class="num" id="8490905">5</span><span class="op" id="8490906">,</span>&nbsp;<span class="num" id="8490908">4</span><span class="op" id="8490909">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490912">15</span><span class="op" id="8490914">,</span>&nbsp;<span class="num" id="8490916">14</span><span class="op" id="8490918">,</span>&nbsp;<span class="num" id="8490920">13</span><span class="op" id="8490922">,</span>&nbsp;<span class="num" id="8490924">12</span><span class="op" id="8490926">,</span>&nbsp;<span class="num" id="8490928">11</span><span class="op" id="8490930">,</span>&nbsp;<span class="num" id="8490932">10</span><span class="op" id="8490934">,</span>&nbsp;<span class="num" id="8490936">9</span><span class="op" id="8490937">,</span>&nbsp;<span class="num" id="8490939">8</span><span class="op" id="8490940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490943">16</span><span class="op" id="8490945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490948">18</span><span class="op" id="8490950">,</span>&nbsp;<span class="num" id="8490952">17</span><span class="op" id="8490954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490957">22</span><span class="op" id="8490959">,</span>&nbsp;<span class="num" id="8490961">21</span><span class="op" id="8490963">,</span>&nbsp;<span class="num" id="8490965">20</span><span class="op" id="8490967">,</span>&nbsp;<span class="num" id="8490969">19</span><span class="op" id="8490971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8490974">30</span><span class="op" id="8490976">,</span>&nbsp;<span class="num" id="8490978">29</span><span class="op" id="8490980">,</span>&nbsp;<span class="num" id="8490982">28</span><span class="op" id="8490984">,</span>&nbsp;<span class="num" id="8490986">27</span><span class="op" id="8490988">,</span>&nbsp;<span class="num" id="8490990">26</span><span class="op" id="8490992">,</span>&nbsp;<span class="num" id="8490994">25</span><span class="op" id="8490996">,</span>&nbsp;<span class="num" id="8490998">24</span><span class="op" id="8491000">,</span>&nbsp;<span class="num" id="8491002">23</span><span class="op" id="8491004">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8491008">34</span><span class="op" id="8491010">,</span>&nbsp;<span class="num" id="8491012">33</span><span class="op" id="8491014">,</span>&nbsp;<span class="num" id="8491016">32</span><span class="op" id="8491018">,</span>&nbsp;<span class="num" id="8491020">31</span><span class="op" id="8491022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8491025">42</span><span class="op" id="8491027">,</span>&nbsp;<span class="num" id="8491029">41</span><span class="op" id="8491031">,</span>&nbsp;<span class="num" id="8491033">40</span><span class="op" id="8491035">,</span>&nbsp;<span class="num" id="8491037">39</span><span class="op" id="8491039">,</span>&nbsp;<span class="num" id="8491041">38</span><span class="op" id="8491043">,</span>&nbsp;<span class="num" id="8491045">37</span><span class="op" id="8491047">,</span>&nbsp;<span class="num" id="8491049">36</span><span class="op" id="8491051">,</span>&nbsp;<span class="num" id="8491053">35</span><span class="op" id="8491055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8491058">46</span><span class="op" id="8491060">,</span>&nbsp;<span class="num" id="8491062">45</span><span class="op" id="8491064">,</span>&nbsp;<span class="num" id="8491066">44</span><span class="op" id="8491068">,</span>&nbsp;<span class="num" id="8491070">43</span><span class="op" id="8491072">,</span>&nbsp;<span class="num" id="8491074">50</span><span class="op" id="8491076">,</span>&nbsp;<span class="num" id="8491078">49</span><span class="op" id="8491080">,</span>&nbsp;<span class="num" id="8491082">48</span><span class="op" id="8491084">,</span>&nbsp;<span class="num" id="8491086">47</span><span class="op" id="8491088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8491091">58</span><span class="op" id="8491093">,</span>&nbsp;<span class="num" id="8491095">57</span><span class="op" id="8491097">,</span>&nbsp;<span class="num" id="8491099">56</span><span class="op" id="8491101">,</span>&nbsp;<span class="num" id="8491103">55</span><span class="op" id="8491105">,</span>&nbsp;<span class="num" id="8491107">54</span><span class="op" id="8491109">,</span>&nbsp;<span class="num" id="8491111">53</span><span class="op" id="8491113">,</span>&nbsp;<span class="num" id="8491115">52</span><span class="op" id="8491117">,</span>&nbsp;<span class="num" id="8491119">51</span><span class="op" id="8491121">,</span>&nbsp;<span class="num" id="8491123">66</span><span class="op" id="8491125">,</span>&nbsp;<span class="num" id="8491127">65</span><span class="op" id="8491129">,</span>&nbsp;<span class="num" id="8491131">64</span><span class="op" id="8491133">,</span>&nbsp;<span class="num" id="8491135">63</span><span class="op" id="8491137">,</span>&nbsp;<span class="num" id="8491139">62</span><span class="op" id="8491141">,</span>&nbsp;<span class="num" id="8491143">61</span><span class="op" id="8491145">,</span>&nbsp;<span class="num" id="8491147">60</span><span class="op" id="8491149">,</span>&nbsp;<span class="num" id="8491151">59</span><span class="op" id="8491153">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8491157">67</span><span class="op" id="8491159">,</span>&nbsp;<span class="num" id="8491161">68</span><span class="op" id="8491163">,</span>&nbsp;<span class="num" id="8491165">69</span><span class="op" id="8491167">,</span>&nbsp;<span class="num" id="8491169">70</span><span class="op" id="8491171">,</span><br>
<span class="lineno"></span><span class="op" id="8491173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8491176">var</span>&nbsp;<span class="ident" id="8491180">src</span>&nbsp;<span class="op" id="8491184">=</span>&nbsp;<span class="op" id="8491186">[</span><span class="op" id="8491187">]</span><span class="builtintype" id="8491188">byte</span><span class="op" id="8491192">{</span><span class="num" id="8491193">1</span><span class="op" id="8491194">,</span>&nbsp;<span class="num" id="8491196">2</span><span class="op" id="8491197">,</span>&nbsp;<span class="num" id="8491199">3</span><span class="op" id="8491200">,</span>&nbsp;<span class="num" id="8491202">4</span><span class="op" id="8491203">,</span>&nbsp;<span class="num" id="8491205">5</span><span class="op" id="8491206">,</span>&nbsp;<span class="num" id="8491208">6</span><span class="op" id="8491209">,</span>&nbsp;<span class="num" id="8491211">7</span><span class="op" id="8491212">,</span>&nbsp;<span class="num" id="8491214">8</span><span class="op" id="8491215">}</span><br>
<span class="lineno">100</span><span class="keyword" id="8491217">var</span>&nbsp;<span class="ident" id="8491221">res</span>&nbsp;<span class="op" id="8491225">=</span>&nbsp;<span class="op" id="8491227">[</span><span class="op" id="8491228">]</span><span class="builtintype" id="8491229">int32</span><span class="op" id="8491234">{</span><span class="num" id="8491235">0x01020304</span><span class="op" id="8491245">,</span>&nbsp;<span class="num" id="8491247">0x05060708</span><span class="op" id="8491257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8491260">func</span>&nbsp;<span class="ident" id="8491265">checkResult</span><span class="op" id="8491276">(</span><span class="ident" id="8491277">t</span>&nbsp;<span class="op" id="8491279">*</span><span class="ident" id="8491280">testing</span><span class="op" id="8491287">.</span><span class="ident" id="8491288">T</span><span class="op" id="8491289">,</span>&nbsp;<span class="ident" id="8491291">dir</span>&nbsp;<span class="builtintype" id="8491295">string</span><span class="op" id="8491301">,</span>&nbsp;<span class="ident" id="8491303">order</span>&nbsp;<span class="ident" id="8491309">ByteOrder</span><span class="op" id="8491318">,</span>&nbsp;<span class="ident" id="8491320">err</span>&nbsp;<span class="builtintype" id="8491324">error</span><span class="op" id="8491329">,</span>&nbsp;<span class="ident" id="8491331">have</span><span class="op" id="8491335">,</span>&nbsp;<span class="ident" id="8491337">want</span>&nbsp;<span class="keyword" id="8491342">interface</span><span class="op" id="8491351">{</span><span class="op" id="8491352">}</span><span class="op" id="8491353">)</span>&nbsp;<span class="op" id="8491355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8491358">if</span>&nbsp;<span class="ident" id="8491361">err</span>&nbsp;<span class="op" id="8491365">!=</span>&nbsp;<span class="ident" id="8491368">nil</span>&nbsp;<span class="op" id="8491372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8491376">t</span><span class="op" id="8491377">.</span><span class="ident" id="8491378">Errorf</span><span class="op" id="8491384">(</span><span class="string" id="8491385">&#34;%v&nbsp;%v:&nbsp;%v&#34;</span><span class="op" id="8491396">,</span>&nbsp;<span class="ident" id="8491398">dir</span><span class="op" id="8491401">,</span>&nbsp;<span class="ident" id="8491403">order</span><span class="op" id="8491408">,</span>&nbsp;<span class="ident" id="8491410">err</span><span class="op" id="8491413">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8491417">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8491425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8491428">if</span>&nbsp;<span class="op" id="8491431">!</span><span class="ident" id="8491432">reflect</span><span class="op" id="8491439">.</span><span class="ident" id="8491440">DeepEqual</span><span class="op" id="8491449">(</span><span class="ident" id="8491450">have</span><span class="op" id="8491454">,</span>&nbsp;<span class="ident" id="8491456">want</span><span class="op" id="8491460">)</span>&nbsp;<span class="op" id="8491462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8491466">t</span><span class="op" id="8491467">.</span><span class="ident" id="8491468">Errorf</span><span class="op" id="8491474">(</span><span class="string" id="8491475">&#34;%v&nbsp;%v:\n\thave&nbsp;%+v\n\twant&nbsp;%+v&#34;</span><span class="op" id="8491507">,</span>&nbsp;<span class="ident" id="8491509">dir</span><span class="op" id="8491512">,</span>&nbsp;<span class="ident" id="8491514">order</span><span class="op" id="8491519">,</span>&nbsp;<span class="ident" id="8491521">have</span><span class="op" id="8491525">,</span>&nbsp;<span class="ident" id="8491527">want</span><span class="op" id="8491531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8491534">}</span><br>
<span class="lineno">110</span><span class="op" id="8491536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8491539">func</span>&nbsp;<span class="ident" id="8491544">testRead</span><span class="op" id="8491552">(</span><span class="ident" id="8491553">t</span>&nbsp;<span class="op" id="8491555">*</span><span class="ident" id="8491556">testing</span><span class="op" id="8491563">.</span><span class="ident" id="8491564">T</span><span class="op" id="8491565">,</span>&nbsp;<span class="ident" id="8491567">order</span>&nbsp;<span class="ident" id="8491573">ByteOrder</span><span class="op" id="8491582">,</span>&nbsp;<span class="ident" id="8491584">b</span>&nbsp;<span class="op" id="8491586">[</span><span class="op" id="8491587">]</span><span class="builtintype" id="8491588">byte</span><span class="op" id="8491592">,</span>&nbsp;<span class="ident" id="8491594">s1</span>&nbsp;<span class="keyword" id="8491597">interface</span><span class="op" id="8491606">{</span><span class="op" id="8491607">}</span><span class="op" id="8491608">)</span>&nbsp;<span class="op" id="8491610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8491613">var</span>&nbsp;<span class="ident" id="8491617">s2</span>&nbsp;<span class="ident" id="8491620">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8491628">err</span>&nbsp;<span class="op" id="8491632">:=</span>&nbsp;<span class="ident" id="8491635">Read</span><span class="op" id="8491639">(</span><span class="ident" id="8491640">bytes</span><span class="op" id="8491645">.</span><span class="ident" id="8491646">NewReader</span><span class="op" id="8491655">(</span><span class="ident" id="8491656">b</span><span class="op" id="8491657">)</span><span class="op" id="8491658">,</span>&nbsp;<span class="ident" id="8491660">order</span><span class="op" id="8491665">,</span>&nbsp;<span class="op" id="8491667">&amp;</span><span class="ident" id="8491668">s2</span><span class="op" id="8491670">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8491673">checkResult</span><span class="op" id="8491684">(</span><span class="ident" id="8491685">t</span><span class="op" id="8491686">,</span>&nbsp;<span class="string" id="8491688">&#34;Read&#34;</span><span class="op" id="8491694">,</span>&nbsp;<span class="ident" id="8491696">order</span><span class="op" id="8491701">,</span>&nbsp;<span class="ident" id="8491703">err</span><span class="op" id="8491706">,</span>&nbsp;<span class="ident" id="8491708">s2</span><span class="op" id="8491710">,</span>&nbsp;<span class="ident" id="8491712">s1</span><span class="op" id="8491714">)</span><br>
<span class="lineno"></span><span class="op" id="8491716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8491719">func</span>&nbsp;<span class="ident" id="8491724">testWrite</span><span class="op" id="8491733">(</span><span class="ident" id="8491734">t</span>&nbsp;<span class="op" id="8491736">*</span><span class="ident" id="8491737">testing</span><span class="op" id="8491744">.</span><span class="ident" id="8491745">T</span><span class="op" id="8491746">,</span>&nbsp;<span class="ident" id="8491748">order</span>&nbsp;<span class="ident" id="8491754">ByteOrder</span><span class="op" id="8491763">,</span>&nbsp;<span class="ident" id="8491765">b</span>&nbsp;<span class="op" id="8491767">[</span><span class="op" id="8491768">]</span><span class="builtintype" id="8491769">byte</span><span class="op" id="8491773">,</span>&nbsp;<span class="ident" id="8491775">s1</span>&nbsp;<span class="keyword" id="8491778">interface</span><span class="op" id="8491787">{</span><span class="op" id="8491788">}</span><span class="op" id="8491789">)</span>&nbsp;<span class="op" id="8491791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8491794">buf</span>&nbsp;<span class="op" id="8491798">:=</span>&nbsp;<span class="builtinfunc" id="8491801">new</span><span class="op" id="8491804">(</span><span class="ident" id="8491805">bytes</span><span class="op" id="8491810">.</span><span class="ident" id="8491811">Buffer</span><span class="op" id="8491817">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8491820">err</span>&nbsp;<span class="op" id="8491824">:=</span>&nbsp;<span class="ident" id="8491827">Write</span><span class="op" id="8491832">(</span><span class="ident" id="8491833">buf</span><span class="op" id="8491836">,</span>&nbsp;<span class="ident" id="8491838">order</span><span class="op" id="8491843">,</span>&nbsp;<span class="ident" id="8491845">s1</span><span class="op" id="8491847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8491850">checkResult</span><span class="op" id="8491861">(</span><span class="ident" id="8491862">t</span><span class="op" id="8491863">,</span>&nbsp;<span class="string" id="8491865">&#34;Write&#34;</span><span class="op" id="8491872">,</span>&nbsp;<span class="ident" id="8491874">order</span><span class="op" id="8491879">,</span>&nbsp;<span class="ident" id="8491881">err</span><span class="op" id="8491884">,</span>&nbsp;<span class="ident" id="8491886">buf</span><span class="op" id="8491889">.</span><span class="ident" id="8491890">Bytes</span><span class="op" id="8491895">(</span><span class="op" id="8491896">)</span><span class="op" id="8491897">,</span>&nbsp;<span class="ident" id="8491899">b</span><span class="op" id="8491900">)</span><br>
<span class="lineno"></span><span class="op" id="8491902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8491905">func</span>&nbsp;<span class="ident" id="8491910">TestLittleEndianRead</span><span class="op" id="8491930">(</span><span class="ident" id="8491931">t</span>&nbsp;<span class="op" id="8491933">*</span><span class="ident" id="8491934">testing</span><span class="op" id="8491941">.</span><span class="ident" id="8491942">T</span><span class="op" id="8491943">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8491949">{</span>&nbsp;<span class="ident" id="8491951">testRead</span><span class="op" id="8491959">(</span><span class="ident" id="8491960">t</span><span class="op" id="8491961">,</span>&nbsp;<span class="ident" id="8491963">LittleEndian</span><span class="op" id="8491975">,</span>&nbsp;<span class="ident" id="8491977">little</span><span class="op" id="8491983">,</span>&nbsp;<span class="ident" id="8491985">s</span><span class="op" id="8491986">)</span>&nbsp;<span class="op" id="8491988">}</span><br>
<span class="lineno">125</span><span class="keyword" id="8491990">func</span>&nbsp;<span class="ident" id="8491995">TestLittleEndianWrite</span><span class="op" id="8492016">(</span><span class="ident" id="8492017">t</span>&nbsp;<span class="op" id="8492019">*</span><span class="ident" id="8492020">testing</span><span class="op" id="8492027">.</span><span class="ident" id="8492028">T</span><span class="op" id="8492029">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492034">{</span>&nbsp;<span class="ident" id="8492036">testWrite</span><span class="op" id="8492045">(</span><span class="ident" id="8492046">t</span><span class="op" id="8492047">,</span>&nbsp;<span class="ident" id="8492049">LittleEndian</span><span class="op" id="8492061">,</span>&nbsp;<span class="ident" id="8492063">little</span><span class="op" id="8492069">,</span>&nbsp;<span class="ident" id="8492071">s</span><span class="op" id="8492072">)</span>&nbsp;<span class="op" id="8492074">}</span><br>
<span class="lineno"></span><span class="keyword" id="8492076">func</span>&nbsp;<span class="ident" id="8492081">TestLittleEndianPtrWrite</span><span class="op" id="8492105">(</span><span class="ident" id="8492106">t</span>&nbsp;<span class="op" id="8492108">*</span><span class="ident" id="8492109">testing</span><span class="op" id="8492116">.</span><span class="ident" id="8492117">T</span><span class="op" id="8492118">)</span>&nbsp;<span class="op" id="8492120">{</span>&nbsp;<span class="ident" id="8492122">testWrite</span><span class="op" id="8492131">(</span><span class="ident" id="8492132">t</span><span class="op" id="8492133">,</span>&nbsp;<span class="ident" id="8492135">LittleEndian</span><span class="op" id="8492147">,</span>&nbsp;<span class="ident" id="8492149">little</span><span class="op" id="8492155">,</span>&nbsp;<span class="op" id="8492157">&amp;</span><span class="ident" id="8492158">s</span><span class="op" id="8492159">)</span>&nbsp;<span class="op" id="8492161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8492164">func</span>&nbsp;<span class="ident" id="8492169">TestBigEndianRead</span><span class="op" id="8492186">(</span><span class="ident" id="8492187">t</span>&nbsp;<span class="op" id="8492189">*</span><span class="ident" id="8492190">testing</span><span class="op" id="8492197">.</span><span class="ident" id="8492198">T</span><span class="op" id="8492199">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492205">{</span>&nbsp;<span class="ident" id="8492207">testRead</span><span class="op" id="8492215">(</span><span class="ident" id="8492216">t</span><span class="op" id="8492217">,</span>&nbsp;<span class="ident" id="8492219">BigEndian</span><span class="op" id="8492228">,</span>&nbsp;<span class="ident" id="8492230">big</span><span class="op" id="8492233">,</span>&nbsp;<span class="ident" id="8492235">s</span><span class="op" id="8492236">)</span>&nbsp;<span class="op" id="8492238">}</span><br>
<span class="lineno"></span><span class="keyword" id="8492240">func</span>&nbsp;<span class="ident" id="8492245">TestBigEndianWrite</span><span class="op" id="8492263">(</span><span class="ident" id="8492264">t</span>&nbsp;<span class="op" id="8492266">*</span><span class="ident" id="8492267">testing</span><span class="op" id="8492274">.</span><span class="ident" id="8492275">T</span><span class="op" id="8492276">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492281">{</span>&nbsp;<span class="ident" id="8492283">testWrite</span><span class="op" id="8492292">(</span><span class="ident" id="8492293">t</span><span class="op" id="8492294">,</span>&nbsp;<span class="ident" id="8492296">BigEndian</span><span class="op" id="8492305">,</span>&nbsp;<span class="ident" id="8492307">big</span><span class="op" id="8492310">,</span>&nbsp;<span class="ident" id="8492312">s</span><span class="op" id="8492313">)</span>&nbsp;<span class="op" id="8492315">}</span><br>
<span class="lineno">130</span><span class="keyword" id="8492317">func</span>&nbsp;<span class="ident" id="8492322">TestBigEndianPtrWrite</span><span class="op" id="8492343">(</span><span class="ident" id="8492344">t</span>&nbsp;<span class="op" id="8492346">*</span><span class="ident" id="8492347">testing</span><span class="op" id="8492354">.</span><span class="ident" id="8492355">T</span><span class="op" id="8492356">)</span>&nbsp;<span class="op" id="8492358">{</span>&nbsp;<span class="ident" id="8492360">testWrite</span><span class="op" id="8492369">(</span><span class="ident" id="8492370">t</span><span class="op" id="8492371">,</span>&nbsp;<span class="ident" id="8492373">BigEndian</span><span class="op" id="8492382">,</span>&nbsp;<span class="ident" id="8492384">big</span><span class="op" id="8492387">,</span>&nbsp;<span class="op" id="8492389">&amp;</span><span class="ident" id="8492390">s</span><span class="op" id="8492391">)</span>&nbsp;<span class="op" id="8492393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8492396">func</span>&nbsp;<span class="ident" id="8492401">TestReadSlice</span><span class="op" id="8492414">(</span><span class="ident" id="8492415">t</span>&nbsp;<span class="op" id="8492417">*</span><span class="ident" id="8492418">testing</span><span class="op" id="8492425">.</span><span class="ident" id="8492426">T</span><span class="op" id="8492427">)</span>&nbsp;<span class="op" id="8492429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8492432">slice</span>&nbsp;<span class="op" id="8492438">:=</span>&nbsp;<span class="builtinfunc" id="8492441">make</span><span class="op" id="8492445">(</span><span class="op" id="8492446">[</span><span class="op" id="8492447">]</span><span class="builtintype" id="8492448">int32</span><span class="op" id="8492453">,</span>&nbsp;<span class="num" id="8492455">2</span><span class="op" id="8492456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8492459">err</span>&nbsp;<span class="op" id="8492463">:=</span>&nbsp;<span class="ident" id="8492466">Read</span><span class="op" id="8492470">(</span><span class="ident" id="8492471">bytes</span><span class="op" id="8492476">.</span><span class="ident" id="8492477">NewReader</span><span class="op" id="8492486">(</span><span class="ident" id="8492487">src</span><span class="op" id="8492490">)</span><span class="op" id="8492491">,</span>&nbsp;<span class="ident" id="8492493">BigEndian</span><span class="op" id="8492502">,</span>&nbsp;<span class="ident" id="8492504">slice</span><span class="op" id="8492509">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8492512">checkResult</span><span class="op" id="8492523">(</span><span class="ident" id="8492524">t</span><span class="op" id="8492525">,</span>&nbsp;<span class="string" id="8492527">&#34;ReadSlice&#34;</span><span class="op" id="8492538">,</span>&nbsp;<span class="ident" id="8492540">BigEndian</span><span class="op" id="8492549">,</span>&nbsp;<span class="ident" id="8492551">err</span><span class="op" id="8492554">,</span>&nbsp;<span class="ident" id="8492556">slice</span><span class="op" id="8492561">,</span>&nbsp;<span class="ident" id="8492563">res</span><span class="op" id="8492566">)</span><br>
<span class="lineno"></span><span class="op" id="8492568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8492571">func</span>&nbsp;<span class="ident" id="8492576">TestWriteSlice</span><span class="op" id="8492590">(</span><span class="ident" id="8492591">t</span>&nbsp;<span class="op" id="8492593">*</span><span class="ident" id="8492594">testing</span><span class="op" id="8492601">.</span><span class="ident" id="8492602">T</span><span class="op" id="8492603">)</span>&nbsp;<span class="op" id="8492605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8492608">buf</span>&nbsp;<span class="op" id="8492612">:=</span>&nbsp;<span class="builtinfunc" id="8492615">new</span><span class="op" id="8492618">(</span><span class="ident" id="8492619">bytes</span><span class="op" id="8492624">.</span><span class="ident" id="8492625">Buffer</span><span class="op" id="8492631">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8492634">err</span>&nbsp;<span class="op" id="8492638">:=</span>&nbsp;<span class="ident" id="8492641">Write</span><span class="op" id="8492646">(</span><span class="ident" id="8492647">buf</span><span class="op" id="8492650">,</span>&nbsp;<span class="ident" id="8492652">BigEndian</span><span class="op" id="8492661">,</span>&nbsp;<span class="ident" id="8492663">res</span><span class="op" id="8492666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8492669">checkResult</span><span class="op" id="8492680">(</span><span class="ident" id="8492681">t</span><span class="op" id="8492682">,</span>&nbsp;<span class="string" id="8492684">&#34;WriteSlice&#34;</span><span class="op" id="8492696">,</span>&nbsp;<span class="ident" id="8492698">BigEndian</span><span class="op" id="8492707">,</span>&nbsp;<span class="ident" id="8492709">err</span><span class="op" id="8492712">,</span>&nbsp;<span class="ident" id="8492714">buf</span><span class="op" id="8492717">.</span><span class="ident" id="8492718">Bytes</span><span class="op" id="8492723">(</span><span class="op" id="8492724">)</span><span class="op" id="8492725">,</span>&nbsp;<span class="ident" id="8492727">src</span><span class="op" id="8492730">)</span><br>
<span class="lineno"></span><span class="op" id="8492732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8492735">//&nbsp;Addresses&nbsp;of&nbsp;arrays&nbsp;are&nbsp;easier&nbsp;to&nbsp;manipulate&nbsp;with&nbsp;reflection&nbsp;than&nbsp;are&nbsp;slices.</span><br>
<span class="lineno">145</span><span class="keyword" id="8492816">var</span>&nbsp;<span class="ident" id="8492820">intArrays</span>&nbsp;<span class="op" id="8492830">=</span>&nbsp;<span class="op" id="8492832">[</span><span class="op" id="8492833">]</span><span class="keyword" id="8492834">interface</span><span class="op" id="8492843">{</span><span class="op" id="8492844">}</span><span class="op" id="8492845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492848">&amp;</span><span class="op" id="8492849">[</span><span class="num" id="8492850">100</span><span class="op" id="8492853">]</span><span class="builtintype" id="8492854">int8</span><span class="op" id="8492858">{</span><span class="op" id="8492859">}</span><span class="op" id="8492860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492863">&amp;</span><span class="op" id="8492864">[</span><span class="num" id="8492865">100</span><span class="op" id="8492868">]</span><span class="builtintype" id="8492869">int16</span><span class="op" id="8492874">{</span><span class="op" id="8492875">}</span><span class="op" id="8492876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492879">&amp;</span><span class="op" id="8492880">[</span><span class="num" id="8492881">100</span><span class="op" id="8492884">]</span><span class="builtintype" id="8492885">int32</span><span class="op" id="8492890">{</span><span class="op" id="8492891">}</span><span class="op" id="8492892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492895">&amp;</span><span class="op" id="8492896">[</span><span class="num" id="8492897">100</span><span class="op" id="8492900">]</span><span class="ident" id="8492901">int64</span><span class="op" id="8492906">{</span><span class="op" id="8492907">}</span><span class="op" id="8492908">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492911">&amp;</span><span class="op" id="8492912">[</span><span class="num" id="8492913">100</span><span class="op" id="8492916">]</span><span class="builtintype" id="8492917">uint8</span><span class="op" id="8492922">{</span><span class="op" id="8492923">}</span><span class="op" id="8492924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492927">&amp;</span><span class="op" id="8492928">[</span><span class="num" id="8492929">100</span><span class="op" id="8492932">]</span><span class="builtintype" id="8492933">uint16</span><span class="op" id="8492939">{</span><span class="op" id="8492940">}</span><span class="op" id="8492941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492944">&amp;</span><span class="op" id="8492945">[</span><span class="num" id="8492946">100</span><span class="op" id="8492949">]</span><span class="builtintype" id="8492950">uint32</span><span class="op" id="8492956">{</span><span class="op" id="8492957">}</span><span class="op" id="8492958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8492961">&amp;</span><span class="op" id="8492962">[</span><span class="num" id="8492963">100</span><span class="op" id="8492966">]</span><span class="ident" id="8492967">uint64</span><span class="op" id="8492973">{</span><span class="op" id="8492974">}</span><span class="op" id="8492975">,</span><br>
<span class="lineno"></span><span class="op" id="8492977">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="8492980">func</span>&nbsp;<span class="ident" id="8492985">TestSliceRoundTrip</span><span class="op" id="8493003">(</span><span class="ident" id="8493004">t</span>&nbsp;<span class="op" id="8493006">*</span><span class="ident" id="8493007">testing</span><span class="op" id="8493014">.</span><span class="ident" id="8493015">T</span><span class="op" id="8493016">)</span>&nbsp;<span class="op" id="8493018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493021">buf</span>&nbsp;<span class="op" id="8493025">:=</span>&nbsp;<span class="builtinfunc" id="8493028">new</span><span class="op" id="8493031">(</span><span class="ident" id="8493032">bytes</span><span class="op" id="8493037">.</span><span class="ident" id="8493038">Buffer</span><span class="op" id="8493044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493047">for</span>&nbsp;<span class="ident" id="8493051">_</span><span class="op" id="8493052">,</span>&nbsp;<span class="ident" id="8493054">array</span>&nbsp;<span class="op" id="8493060">:=</span>&nbsp;<span class="keyword" id="8493063">range</span>&nbsp;<span class="ident" id="8493069">intArrays</span>&nbsp;<span class="op" id="8493079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493083">src</span>&nbsp;<span class="op" id="8493087">:=</span>&nbsp;<span class="ident" id="8493090">reflect</span><span class="op" id="8493097">.</span><span class="ident" id="8493098">ValueOf</span><span class="op" id="8493105">(</span><span class="ident" id="8493106">array</span><span class="op" id="8493111">)</span><span class="op" id="8493112">.</span><span class="ident" id="8493113">Elem</span><span class="op" id="8493117">(</span><span class="op" id="8493118">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493122">unsigned</span>&nbsp;<span class="op" id="8493131">:=</span>&nbsp;<span class="builtintype" id="8493134">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493142">switch</span>&nbsp;<span class="ident" id="8493149">src</span><span class="op" id="8493152">.</span><span class="ident" id="8493153">Index</span><span class="op" id="8493158">(</span><span class="num" id="8493159">0</span><span class="op" id="8493160">)</span><span class="op" id="8493161">.</span><span class="ident" id="8493162">Kind</span><span class="op" id="8493166">(</span><span class="op" id="8493167">)</span>&nbsp;<span class="op" id="8493169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493173">case</span>&nbsp;<span class="ident" id="8493178">reflect</span><span class="op" id="8493185">.</span><span class="ident" id="8493186">Uint8</span><span class="op" id="8493191">,</span>&nbsp;<span class="ident" id="8493193">reflect</span><span class="op" id="8493200">.</span><span class="ident" id="8493201">Uint16</span><span class="op" id="8493207">,</span>&nbsp;<span class="ident" id="8493209">reflect</span><span class="op" id="8493216">.</span><span class="ident" id="8493217">Uint32</span><span class="op" id="8493223">,</span>&nbsp;<span class="ident" id="8493225">reflect</span><span class="op" id="8493232">.</span><span class="ident" id="8493233">Uint64</span><span class="op" id="8493239">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493244">unsigned</span>&nbsp;<span class="op" id="8493253">=</span>&nbsp;<span class="builtintype" id="8493255">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8493262">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493266">for</span>&nbsp;<span class="ident" id="8493270">i</span>&nbsp;<span class="op" id="8493272">:=</span>&nbsp;<span class="num" id="8493275">0</span><span class="op" id="8493276">;</span>&nbsp;<span class="ident" id="8493278">i</span>&nbsp;<span class="op" id="8493280">&lt;</span>&nbsp;<span class="ident" id="8493282">src</span><span class="op" id="8493285">.</span><span class="ident" id="8493286">Len</span><span class="op" id="8493289">(</span><span class="op" id="8493290">)</span><span class="op" id="8493291">;</span>&nbsp;<span class="ident" id="8493293">i</span><span class="op" id="8493294">++</span>&nbsp;<span class="op" id="8493297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493302">if</span>&nbsp;<span class="ident" id="8493305">unsigned</span>&nbsp;<span class="op" id="8493314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493320">src</span><span class="op" id="8493323">.</span><span class="ident" id="8493324">Index</span><span class="op" id="8493329">(</span><span class="ident" id="8493330">i</span><span class="op" id="8493331">)</span><span class="op" id="8493332">.</span><span class="ident" id="8493333">SetUint</span><span class="op" id="8493340">(</span><span class="ident" id="8493341">uint64</span><span class="op" id="8493347">(</span><span class="ident" id="8493348">i</span>&nbsp;<span class="op" id="8493350">*</span>&nbsp;<span class="num" id="8493352">0x07654321</span><span class="op" id="8493362">)</span><span class="op" id="8493363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8493368">}</span>&nbsp;<span class="keyword" id="8493370">else</span>&nbsp;<span class="op" id="8493375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493381">src</span><span class="op" id="8493384">.</span><span class="ident" id="8493385">Index</span><span class="op" id="8493390">(</span><span class="ident" id="8493391">i</span><span class="op" id="8493392">)</span><span class="op" id="8493393">.</span><span class="ident" id="8493394">SetInt</span><span class="op" id="8493400">(</span><span class="ident" id="8493401">int64</span><span class="op" id="8493406">(</span><span class="ident" id="8493407">i</span>&nbsp;<span class="op" id="8493409">*</span>&nbsp;<span class="num" id="8493411">0x07654321</span><span class="op" id="8493421">)</span><span class="op" id="8493422">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8493427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8493431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493435">buf</span><span class="op" id="8493438">.</span><span class="ident" id="8493439">Reset</span><span class="op" id="8493444">(</span><span class="op" id="8493445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493449">srcSlice</span>&nbsp;<span class="op" id="8493458">:=</span>&nbsp;<span class="ident" id="8493461">src</span><span class="op" id="8493464">.</span><span class="ident" id="8493465">Slice</span><span class="op" id="8493470">(</span><span class="num" id="8493471">0</span><span class="op" id="8493472">,</span>&nbsp;<span class="ident" id="8493474">src</span><span class="op" id="8493477">.</span><span class="ident" id="8493478">Len</span><span class="op" id="8493481">(</span><span class="op" id="8493482">)</span><span class="op" id="8493483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493487">err</span>&nbsp;<span class="op" id="8493491">:=</span>&nbsp;<span class="ident" id="8493494">Write</span><span class="op" id="8493499">(</span><span class="ident" id="8493500">buf</span><span class="op" id="8493503">,</span>&nbsp;<span class="ident" id="8493505">BigEndian</span><span class="op" id="8493514">,</span>&nbsp;<span class="ident" id="8493516">srcSlice</span><span class="op" id="8493524">.</span><span class="ident" id="8493525">Interface</span><span class="op" id="8493534">(</span><span class="op" id="8493535">)</span><span class="op" id="8493536">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493540">if</span>&nbsp;<span class="ident" id="8493543">err</span>&nbsp;<span class="op" id="8493547">!=</span>&nbsp;<span class="ident" id="8493550">nil</span>&nbsp;<span class="op" id="8493554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493559">t</span><span class="op" id="8493560">.</span><span class="ident" id="8493561">Fatal</span><span class="op" id="8493566">(</span><span class="ident" id="8493567">err</span><span class="op" id="8493570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8493574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493578">dst</span>&nbsp;<span class="op" id="8493582">:=</span>&nbsp;<span class="ident" id="8493585">reflect</span><span class="op" id="8493592">.</span><span class="ident" id="8493593">New</span><span class="op" id="8493596">(</span><span class="ident" id="8493597">src</span><span class="op" id="8493600">.</span><span class="ident" id="8493601">Type</span><span class="op" id="8493605">(</span><span class="op" id="8493606">)</span><span class="op" id="8493607">)</span><span class="op" id="8493608">.</span><span class="ident" id="8493609">Elem</span><span class="op" id="8493613">(</span><span class="op" id="8493614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493618">dstSlice</span>&nbsp;<span class="op" id="8493627">:=</span>&nbsp;<span class="ident" id="8493630">dst</span><span class="op" id="8493633">.</span><span class="ident" id="8493634">Slice</span><span class="op" id="8493639">(</span><span class="num" id="8493640">0</span><span class="op" id="8493641">,</span>&nbsp;<span class="ident" id="8493643">dst</span><span class="op" id="8493646">.</span><span class="ident" id="8493647">Len</span><span class="op" id="8493650">(</span><span class="op" id="8493651">)</span><span class="op" id="8493652">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493656">err</span>&nbsp;<span class="op" id="8493660">=</span>&nbsp;<span class="ident" id="8493662">Read</span><span class="op" id="8493666">(</span><span class="ident" id="8493667">buf</span><span class="op" id="8493670">,</span>&nbsp;<span class="ident" id="8493672">BigEndian</span><span class="op" id="8493681">,</span>&nbsp;<span class="ident" id="8493683">dstSlice</span><span class="op" id="8493691">.</span><span class="ident" id="8493692">Interface</span><span class="op" id="8493701">(</span><span class="op" id="8493702">)</span><span class="op" id="8493703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493707">if</span>&nbsp;<span class="ident" id="8493710">err</span>&nbsp;<span class="op" id="8493714">!=</span>&nbsp;<span class="ident" id="8493717">nil</span>&nbsp;<span class="op" id="8493721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493726">t</span><span class="op" id="8493727">.</span><span class="ident" id="8493728">Fatal</span><span class="op" id="8493733">(</span><span class="ident" id="8493734">err</span><span class="op" id="8493737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8493741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493745">if</span>&nbsp;<span class="op" id="8493748">!</span><span class="ident" id="8493749">reflect</span><span class="op" id="8493756">.</span><span class="ident" id="8493757">DeepEqual</span><span class="op" id="8493766">(</span><span class="ident" id="8493767">src</span><span class="op" id="8493770">.</span><span class="ident" id="8493771">Interface</span><span class="op" id="8493780">(</span><span class="op" id="8493781">)</span><span class="op" id="8493782">,</span>&nbsp;<span class="ident" id="8493784">dst</span><span class="op" id="8493787">.</span><span class="ident" id="8493788">Interface</span><span class="op" id="8493797">(</span><span class="op" id="8493798">)</span><span class="op" id="8493799">)</span>&nbsp;<span class="op" id="8493801">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493806">t</span><span class="op" id="8493807">.</span><span class="ident" id="8493808">Fatal</span><span class="op" id="8493813">(</span><span class="ident" id="8493814">src</span><span class="op" id="8493817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8493821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8493824">}</span><br>
<span class="lineno"></span><span class="op" id="8493826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="8493829">func</span>&nbsp;<span class="ident" id="8493834">TestWriteT</span><span class="op" id="8493844">(</span><span class="ident" id="8493845">t</span>&nbsp;<span class="op" id="8493847">*</span><span class="ident" id="8493848">testing</span><span class="op" id="8493855">.</span><span class="ident" id="8493856">T</span><span class="op" id="8493857">)</span>&nbsp;<span class="op" id="8493859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493862">buf</span>&nbsp;<span class="op" id="8493866">:=</span>&nbsp;<span class="builtinfunc" id="8493869">new</span><span class="op" id="8493872">(</span><span class="ident" id="8493873">bytes</span><span class="op" id="8493878">.</span><span class="ident" id="8493879">Buffer</span><span class="op" id="8493885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493888">ts</span>&nbsp;<span class="op" id="8493891">:=</span>&nbsp;<span class="ident" id="8493894">T</span><span class="op" id="8493895">{</span><span class="op" id="8493896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8493899">if</span>&nbsp;<span class="ident" id="8493902">err</span>&nbsp;<span class="op" id="8493906">:=</span>&nbsp;<span class="ident" id="8493909">Write</span><span class="op" id="8493914">(</span><span class="ident" id="8493915">buf</span><span class="op" id="8493918">,</span>&nbsp;<span class="ident" id="8493920">BigEndian</span><span class="op" id="8493929">,</span>&nbsp;<span class="ident" id="8493931">ts</span><span class="op" id="8493933">)</span><span class="op" id="8493934">;</span>&nbsp;<span class="ident" id="8493936">err</span>&nbsp;<span class="op" id="8493940">==</span>&nbsp;<span class="ident" id="8493943">nil</span>&nbsp;<span class="op" id="8493947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8493951">t</span><span class="op" id="8493952">.</span><span class="ident" id="8493953">Errorf</span><span class="op" id="8493959">(</span><span class="string" id="8493960">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="8493999">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8494002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494006">tv</span>&nbsp;<span class="op" id="8494009">:=</span>&nbsp;<span class="ident" id="8494012">reflect</span><span class="op" id="8494019">.</span><span class="ident" id="8494020">Indirect</span><span class="op" id="8494028">(</span><span class="ident" id="8494029">reflect</span><span class="op" id="8494036">.</span><span class="ident" id="8494037">ValueOf</span><span class="op" id="8494044">(</span><span class="ident" id="8494045">ts</span><span class="op" id="8494047">)</span><span class="op" id="8494048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8494051">for</span>&nbsp;<span class="ident" id="8494055">i</span><span class="op" id="8494056">,</span>&nbsp;<span class="ident" id="8494058">n</span>&nbsp;<span class="op" id="8494060">:=</span>&nbsp;<span class="num" id="8494063">0</span><span class="op" id="8494064">,</span>&nbsp;<span class="ident" id="8494066">tv</span><span class="op" id="8494068">.</span><span class="ident" id="8494069">NumField</span><span class="op" id="8494077">(</span><span class="op" id="8494078">)</span><span class="op" id="8494079">;</span>&nbsp;<span class="ident" id="8494081">i</span>&nbsp;<span class="op" id="8494083">&lt;</span>&nbsp;<span class="ident" id="8494085">n</span><span class="op" id="8494086">;</span>&nbsp;<span class="ident" id="8494088">i</span><span class="op" id="8494089">++</span>&nbsp;<span class="op" id="8494092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494096">typ</span>&nbsp;<span class="op" id="8494100">:=</span>&nbsp;<span class="ident" id="8494103">tv</span><span class="op" id="8494105">.</span><span class="ident" id="8494106">Field</span><span class="op" id="8494111">(</span><span class="ident" id="8494112">i</span><span class="op" id="8494113">)</span><span class="op" id="8494114">.</span><span class="ident" id="8494115">Type</span><span class="op" id="8494119">(</span><span class="op" id="8494120">)</span><span class="op" id="8494121">.</span><span class="ident" id="8494122">String</span><span class="op" id="8494128">(</span><span class="op" id="8494129">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8494133">if</span>&nbsp;<span class="ident" id="8494136">typ</span>&nbsp;<span class="op" id="8494140">==</span>&nbsp;<span class="string" id="8494143">&#34;[4]int&#34;</span>&nbsp;<span class="op" id="8494152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494157">typ</span>&nbsp;<span class="op" id="8494161">=</span>&nbsp;<span class="string" id="8494163">&#34;int&#34;</span>&nbsp;<span class="comment" id="8494169">//&nbsp;the&nbsp;problem&nbsp;is&nbsp;int,&nbsp;not&nbsp;the&nbsp;[4]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8494206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8494210">if</span>&nbsp;<span class="ident" id="8494213">err</span>&nbsp;<span class="op" id="8494217">:=</span>&nbsp;<span class="ident" id="8494220">Write</span><span class="op" id="8494225">(</span><span class="ident" id="8494226">buf</span><span class="op" id="8494229">,</span>&nbsp;<span class="ident" id="8494231">BigEndian</span><span class="op" id="8494240">,</span>&nbsp;<span class="ident" id="8494242">tv</span><span class="op" id="8494244">.</span><span class="ident" id="8494245">Field</span><span class="op" id="8494250">(</span><span class="ident" id="8494251">i</span><span class="op" id="8494252">)</span><span class="op" id="8494253">.</span><span class="ident" id="8494254">Interface</span><span class="op" id="8494263">(</span><span class="op" id="8494264">)</span><span class="op" id="8494265">)</span><span class="op" id="8494266">;</span>&nbsp;<span class="ident" id="8494268">err</span>&nbsp;<span class="op" id="8494272">==</span>&nbsp;<span class="ident" id="8494275">nil</span>&nbsp;<span class="op" id="8494279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494284">t</span><span class="op" id="8494285">.</span><span class="ident" id="8494286">Errorf</span><span class="op" id="8494292">(</span><span class="string" id="8494293">&#34;WriteT.%v:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="8494335">,</span>&nbsp;<span class="ident" id="8494337">tv</span><span class="op" id="8494339">.</span><span class="ident" id="8494340">Field</span><span class="op" id="8494345">(</span><span class="ident" id="8494346">i</span><span class="op" id="8494347">)</span><span class="op" id="8494348">.</span><span class="ident" id="8494349">Type</span><span class="op" id="8494353">(</span><span class="op" id="8494354">)</span><span class="op" id="8494355">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8494359">}</span>&nbsp;<span class="keyword" id="8494361">else</span>&nbsp;<span class="keyword" id="8494366">if</span>&nbsp;<span class="op" id="8494369">!</span><span class="ident" id="8494370">strings</span><span class="op" id="8494377">.</span><span class="ident" id="8494378">Contains</span><span class="op" id="8494386">(</span><span class="ident" id="8494387">err</span><span class="op" id="8494390">.</span><span class="ident" id="8494391">Error</span><span class="op" id="8494396">(</span><span class="op" id="8494397">)</span><span class="op" id="8494398">,</span>&nbsp;<span class="ident" id="8494400">typ</span><span class="op" id="8494403">)</span>&nbsp;<span class="op" id="8494405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494410">t</span><span class="op" id="8494411">.</span><span class="ident" id="8494412">Errorf</span><span class="op" id="8494418">(</span><span class="string" id="8494419">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;%q,&nbsp;want&nbsp;it&nbsp;to&nbsp;mention&nbsp;%s&#34;</span><span class="op" id="8494466">,</span>&nbsp;<span class="ident" id="8494468">err</span><span class="op" id="8494471">,</span>&nbsp;<span class="ident" id="8494473">typ</span><span class="op" id="8494476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8494480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8494483">}</span><br>
<span class="lineno"></span><span class="op" id="8494485">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="8494488">type</span>&nbsp;<span class="ident" id="8494493">BlankFields</span>&nbsp;<span class="keyword" id="8494505">struct</span>&nbsp;<span class="op" id="8494512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494515">A</span>&nbsp;<span class="builtintype" id="8494517">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494525">_</span>&nbsp;<span class="builtintype" id="8494527">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494534">B</span>&nbsp;<span class="builtintype" id="8494536">float64</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494545">_</span>&nbsp;<span class="op" id="8494547">[</span><span class="num" id="8494548">4</span><span class="op" id="8494549">]</span><span class="builtintype" id="8494550">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494557">C</span>&nbsp;<span class="builtintype" id="8494559">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494565">_</span>&nbsp;<span class="op" id="8494567">[</span><span class="num" id="8494568">7</span><span class="op" id="8494569">]</span><span class="builtintype" id="8494570">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494576">_</span>&nbsp;<span class="keyword" id="8494578">struct</span>&nbsp;<span class="op" id="8494585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494589">f</span>&nbsp;<span class="op" id="8494591">[</span><span class="num" id="8494592">8</span><span class="op" id="8494593">]</span><span class="builtintype" id="8494594">float32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8494603">}</span><br>
<span class="lineno"></span><span class="op" id="8494605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8494608">type</span>&nbsp;<span class="ident" id="8494613">BlankFieldsProbe</span>&nbsp;<span class="keyword" id="8494630">struct</span>&nbsp;<span class="op" id="8494637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494640">A</span>&nbsp;&nbsp;<span class="builtintype" id="8494643">uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494651">P0</span>&nbsp;<span class="builtintype" id="8494654">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494661">B</span>&nbsp;&nbsp;<span class="builtintype" id="8494664">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494673">P1</span>&nbsp;<span class="op" id="8494676">[</span><span class="num" id="8494677">4</span><span class="op" id="8494678">]</span><span class="builtintype" id="8494679">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494686">C</span>&nbsp;&nbsp;<span class="builtintype" id="8494689">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494695">P2</span>&nbsp;<span class="op" id="8494698">[</span><span class="num" id="8494699">7</span><span class="op" id="8494700">]</span><span class="builtintype" id="8494701">byte</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494707">P3</span>&nbsp;<span class="keyword" id="8494710">struct</span>&nbsp;<span class="op" id="8494717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494721">F</span>&nbsp;<span class="op" id="8494723">[</span><span class="num" id="8494724">8</span><span class="op" id="8494725">]</span><span class="builtintype" id="8494726">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8494735">}</span><br>
<span class="lineno"></span><span class="op" id="8494737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8494740">func</span>&nbsp;<span class="ident" id="8494745">TestBlankFields</span><span class="op" id="8494760">(</span><span class="ident" id="8494761">t</span>&nbsp;<span class="op" id="8494763">*</span><span class="ident" id="8494764">testing</span><span class="op" id="8494771">.</span><span class="ident" id="8494772">T</span><span class="op" id="8494773">)</span>&nbsp;<span class="op" id="8494775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494778">buf</span>&nbsp;<span class="op" id="8494782">:=</span>&nbsp;<span class="builtinfunc" id="8494785">new</span><span class="op" id="8494788">(</span><span class="ident" id="8494789">bytes</span><span class="op" id="8494794">.</span><span class="ident" id="8494795">Buffer</span><span class="op" id="8494801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494804">b1</span>&nbsp;<span class="op" id="8494807">:=</span>&nbsp;<span class="ident" id="8494810">BlankFields</span><span class="op" id="8494821">{</span><span class="ident" id="8494822">A</span><span class="op" id="8494823">:</span>&nbsp;<span class="num" id="8494825">1234567890</span><span class="op" id="8494835">,</span>&nbsp;<span class="ident" id="8494837">B</span><span class="op" id="8494838">:</span>&nbsp;<span class="num" id="8494840">2.718281828</span><span class="op" id="8494851">,</span>&nbsp;<span class="ident" id="8494853">C</span><span class="op" id="8494854">:</span>&nbsp;<span class="num" id="8494856">42</span><span class="op" id="8494858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8494861">if</span>&nbsp;<span class="ident" id="8494864">err</span>&nbsp;<span class="op" id="8494868">:=</span>&nbsp;<span class="ident" id="8494871">Write</span><span class="op" id="8494876">(</span><span class="ident" id="8494877">buf</span><span class="op" id="8494880">,</span>&nbsp;<span class="ident" id="8494882">LittleEndian</span><span class="op" id="8494894">,</span>&nbsp;<span class="op" id="8494896">&amp;</span><span class="ident" id="8494897">b1</span><span class="op" id="8494899">)</span><span class="op" id="8494900">;</span>&nbsp;<span class="ident" id="8494902">err</span>&nbsp;<span class="op" id="8494906">!=</span>&nbsp;<span class="ident" id="8494909">nil</span>&nbsp;<span class="op" id="8494913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8494917">t</span><span class="op" id="8494918">.</span><span class="ident" id="8494919">Error</span><span class="op" id="8494924">(</span><span class="ident" id="8494925">err</span><span class="op" id="8494928">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8494931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8494935">//&nbsp;zero&nbsp;values&nbsp;must&nbsp;have&nbsp;been&nbsp;written&nbsp;for&nbsp;blank&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8494991">var</span>&nbsp;<span class="ident" id="8494995">p</span>&nbsp;<span class="ident" id="8494997">BlankFieldsProbe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495015">if</span>&nbsp;<span class="ident" id="8495018">err</span>&nbsp;<span class="op" id="8495022">:=</span>&nbsp;<span class="ident" id="8495025">Read</span><span class="op" id="8495029">(</span><span class="ident" id="8495030">buf</span><span class="op" id="8495033">,</span>&nbsp;<span class="ident" id="8495035">LittleEndian</span><span class="op" id="8495047">,</span>&nbsp;<span class="op" id="8495049">&amp;</span><span class="ident" id="8495050">p</span><span class="op" id="8495051">)</span><span class="op" id="8495052">;</span>&nbsp;<span class="ident" id="8495054">err</span>&nbsp;<span class="op" id="8495058">!=</span>&nbsp;<span class="ident" id="8495061">nil</span>&nbsp;<span class="op" id="8495065">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8495069">t</span><span class="op" id="8495070">.</span><span class="ident" id="8495071">Error</span><span class="op" id="8495076">(</span><span class="ident" id="8495077">err</span><span class="op" id="8495080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8495083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8495087">//&nbsp;quick&nbsp;test:&nbsp;only&nbsp;check&nbsp;first&nbsp;value&nbsp;of&nbsp;slices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495136">if</span>&nbsp;<span class="ident" id="8495139">p</span><span class="op" id="8495140">.</span><span class="ident" id="8495141">P0</span>&nbsp;<span class="op" id="8495144">!=</span>&nbsp;<span class="num" id="8495147">0</span>&nbsp;<span class="op" id="8495149">||</span>&nbsp;<span class="ident" id="8495152">p</span><span class="op" id="8495153">.</span><span class="ident" id="8495154">P1</span><span class="op" id="8495156">[</span><span class="num" id="8495157">0</span><span class="op" id="8495158">]</span>&nbsp;<span class="op" id="8495160">!=</span>&nbsp;<span class="num" id="8495163">0</span>&nbsp;<span class="op" id="8495165">||</span>&nbsp;<span class="ident" id="8495168">p</span><span class="op" id="8495169">.</span><span class="ident" id="8495170">P2</span><span class="op" id="8495172">[</span><span class="num" id="8495173">0</span><span class="op" id="8495174">]</span>&nbsp;<span class="op" id="8495176">!=</span>&nbsp;<span class="num" id="8495179">0</span>&nbsp;<span class="op" id="8495181">||</span>&nbsp;<span class="ident" id="8495184">p</span><span class="op" id="8495185">.</span><span class="ident" id="8495186">P3</span><span class="op" id="8495188">.</span><span class="ident" id="8495189">F</span><span class="op" id="8495190">[</span><span class="num" id="8495191">0</span><span class="op" id="8495192">]</span>&nbsp;<span class="op" id="8495194">!=</span>&nbsp;<span class="num" id="8495197">0</span>&nbsp;<span class="op" id="8495199">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8495203">t</span><span class="op" id="8495204">.</span><span class="ident" id="8495205">Errorf</span><span class="op" id="8495211">(</span><span class="string" id="8495212">&#34;non-zero&nbsp;values&nbsp;for&nbsp;originally&nbsp;blank&nbsp;fields:&nbsp;%#v&#34;</span><span class="op" id="8495262">,</span>&nbsp;<span class="ident" id="8495264">p</span><span class="op" id="8495265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8495268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8495272">//&nbsp;write&nbsp;p&nbsp;and&nbsp;see&nbsp;if&nbsp;we&nbsp;can&nbsp;probe&nbsp;only&nbsp;some&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495325">if</span>&nbsp;<span class="ident" id="8495328">err</span>&nbsp;<span class="op" id="8495332">:=</span>&nbsp;<span class="ident" id="8495335">Write</span><span class="op" id="8495340">(</span><span class="ident" id="8495341">buf</span><span class="op" id="8495344">,</span>&nbsp;<span class="ident" id="8495346">LittleEndian</span><span class="op" id="8495358">,</span>&nbsp;<span class="op" id="8495360">&amp;</span><span class="ident" id="8495361">p</span><span class="op" id="8495362">)</span><span class="op" id="8495363">;</span>&nbsp;<span class="ident" id="8495365">err</span>&nbsp;<span class="op" id="8495369">!=</span>&nbsp;<span class="ident" id="8495372">nil</span>&nbsp;<span class="op" id="8495376">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8495380">t</span><span class="op" id="8495381">.</span><span class="ident" id="8495382">Error</span><span class="op" id="8495387">(</span><span class="ident" id="8495388">err</span><span class="op" id="8495391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8495394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8495398">//&nbsp;read&nbsp;should&nbsp;ignore&nbsp;blank&nbsp;fields&nbsp;in&nbsp;b2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495440">var</span>&nbsp;<span class="ident" id="8495444">b2</span>&nbsp;<span class="ident" id="8495447">BlankFields</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495460">if</span>&nbsp;<span class="ident" id="8495463">err</span>&nbsp;<span class="op" id="8495467">:=</span>&nbsp;<span class="ident" id="8495470">Read</span><span class="op" id="8495474">(</span><span class="ident" id="8495475">buf</span><span class="op" id="8495478">,</span>&nbsp;<span class="ident" id="8495480">LittleEndian</span><span class="op" id="8495492">,</span>&nbsp;<span class="op" id="8495494">&amp;</span><span class="ident" id="8495495">b2</span><span class="op" id="8495497">)</span><span class="op" id="8495498">;</span>&nbsp;<span class="ident" id="8495500">err</span>&nbsp;<span class="op" id="8495504">!=</span>&nbsp;<span class="ident" id="8495507">nil</span>&nbsp;<span class="op" id="8495511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8495515">t</span><span class="op" id="8495516">.</span><span class="ident" id="8495517">Error</span><span class="op" id="8495522">(</span><span class="ident" id="8495523">err</span><span class="op" id="8495526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8495529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495532">if</span>&nbsp;<span class="ident" id="8495535">b1</span><span class="op" id="8495537">.</span><span class="ident" id="8495538">A</span>&nbsp;<span class="op" id="8495540">!=</span>&nbsp;<span class="ident" id="8495543">b2</span><span class="op" id="8495545">.</span><span class="ident" id="8495546">A</span>&nbsp;<span class="op" id="8495548">||</span>&nbsp;<span class="ident" id="8495551">b1</span><span class="op" id="8495553">.</span><span class="ident" id="8495554">B</span>&nbsp;<span class="op" id="8495556">!=</span>&nbsp;<span class="ident" id="8495559">b2</span><span class="op" id="8495561">.</span><span class="ident" id="8495562">B</span>&nbsp;<span class="op" id="8495564">||</span>&nbsp;<span class="ident" id="8495567">b1</span><span class="op" id="8495569">.</span><span class="ident" id="8495570">C</span>&nbsp;<span class="op" id="8495572">!=</span>&nbsp;<span class="ident" id="8495575">b2</span><span class="op" id="8495577">.</span><span class="ident" id="8495578">C</span>&nbsp;<span class="op" id="8495580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8495584">t</span><span class="op" id="8495585">.</span><span class="ident" id="8495586">Errorf</span><span class="op" id="8495592">(</span><span class="string" id="8495593">&#34;%#v&nbsp;!=&nbsp;%#v&#34;</span><span class="op" id="8495605">,</span>&nbsp;<span class="ident" id="8495607">b1</span><span class="op" id="8495609">,</span>&nbsp;<span class="ident" id="8495611">b2</span><span class="op" id="8495613">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8495616">}</span><br>
<span class="lineno"></span><span class="op" id="8495618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8495621">//&nbsp;An&nbsp;attempt&nbsp;to&nbsp;read&nbsp;into&nbsp;a&nbsp;struct&nbsp;with&nbsp;an&nbsp;unexported&nbsp;field&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="8495687">//&nbsp;panic.&nbsp;&nbsp;This&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;best&nbsp;choice,&nbsp;but&nbsp;at&nbsp;this&nbsp;point</span><br>
<span class="lineno">270</span><span class="comment" id="8495754">//&nbsp;anything&nbsp;else&nbsp;would&nbsp;be&nbsp;an&nbsp;API&nbsp;change.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8495796">type</span>&nbsp;<span class="ident" id="8495801">Unexported</span>&nbsp;<span class="keyword" id="8495812">struct</span>&nbsp;<span class="op" id="8495819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8495822">a</span>&nbsp;<span class="builtintype" id="8495824">int32</span><br>
<span class="lineno"></span><span class="op" id="8495830">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="8495833">func</span>&nbsp;<span class="ident" id="8495838">TestUnexportedRead</span><span class="op" id="8495856">(</span><span class="ident" id="8495857">t</span>&nbsp;<span class="op" id="8495859">*</span><span class="ident" id="8495860">testing</span><span class="op" id="8495867">.</span><span class="ident" id="8495868">T</span><span class="op" id="8495869">)</span>&nbsp;<span class="op" id="8495871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495874">var</span>&nbsp;<span class="ident" id="8495878">buf</span>&nbsp;<span class="ident" id="8495882">bytes</span><span class="op" id="8495887">.</span><span class="ident" id="8495888">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8495896">u1</span>&nbsp;<span class="op" id="8495899">:=</span>&nbsp;<span class="ident" id="8495902">Unexported</span><span class="op" id="8495912">{</span><span class="ident" id="8495913">a</span><span class="op" id="8495914">:</span>&nbsp;<span class="num" id="8495916">1</span><span class="op" id="8495917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495920">if</span>&nbsp;<span class="ident" id="8495923">err</span>&nbsp;<span class="op" id="8495927">:=</span>&nbsp;<span class="ident" id="8495930">Write</span><span class="op" id="8495935">(</span><span class="op" id="8495936">&amp;</span><span class="ident" id="8495937">buf</span><span class="op" id="8495940">,</span>&nbsp;<span class="ident" id="8495942">LittleEndian</span><span class="op" id="8495954">,</span>&nbsp;<span class="op" id="8495956">&amp;</span><span class="ident" id="8495957">u1</span><span class="op" id="8495959">)</span><span class="op" id="8495960">;</span>&nbsp;<span class="ident" id="8495962">err</span>&nbsp;<span class="op" id="8495966">!=</span>&nbsp;<span class="ident" id="8495969">nil</span>&nbsp;<span class="op" id="8495973">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8495977">t</span><span class="op" id="8495978">.</span><span class="ident" id="8495979">Fatal</span><span class="op" id="8495984">(</span><span class="ident" id="8495985">err</span><span class="op" id="8495988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8495991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8495995">defer</span>&nbsp;<span class="keyword" id="8496001">func</span><span class="op" id="8496005">(</span><span class="op" id="8496006">)</span>&nbsp;<span class="op" id="8496008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8496012">if</span>&nbsp;<span class="builtinfunc" id="8496015">recover</span><span class="op" id="8496022">(</span><span class="op" id="8496023">)</span>&nbsp;<span class="op" id="8496025">==</span>&nbsp;<span class="ident" id="8496028">nil</span>&nbsp;<span class="op" id="8496032">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496037">t</span><span class="op" id="8496038">.</span><span class="ident" id="8496039">Fatal</span><span class="op" id="8496044">(</span><span class="string" id="8496045">&#34;did&nbsp;not&nbsp;panic&#34;</span><span class="op" id="8496060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8496064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8496067">}</span><span class="op" id="8496068">(</span><span class="op" id="8496069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8496072">var</span>&nbsp;<span class="ident" id="8496076">u2</span>&nbsp;<span class="ident" id="8496079">Unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496091">Read</span><span class="op" id="8496095">(</span><span class="op" id="8496096">&amp;</span><span class="ident" id="8496097">buf</span><span class="op" id="8496100">,</span>&nbsp;<span class="ident" id="8496102">LittleEndian</span><span class="op" id="8496114">,</span>&nbsp;<span class="op" id="8496116">&amp;</span><span class="ident" id="8496117">u2</span><span class="op" id="8496119">)</span><br>
<span class="lineno">290</span><span class="op" id="8496121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8496124">func</span>&nbsp;<span class="ident" id="8496129">TestReadErrorMsg</span><span class="op" id="8496145">(</span><span class="ident" id="8496146">t</span>&nbsp;<span class="op" id="8496148">*</span><span class="ident" id="8496149">testing</span><span class="op" id="8496156">.</span><span class="ident" id="8496157">T</span><span class="op" id="8496158">)</span>&nbsp;<span class="op" id="8496160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8496163">var</span>&nbsp;<span class="ident" id="8496167">buf</span>&nbsp;<span class="ident" id="8496171">bytes</span><span class="op" id="8496176">.</span><span class="ident" id="8496177">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496185">read</span>&nbsp;<span class="op" id="8496190">:=</span>&nbsp;<span class="keyword" id="8496193">func</span><span class="op" id="8496197">(</span><span class="ident" id="8496198">data</span>&nbsp;<span class="keyword" id="8496203">interface</span><span class="op" id="8496212">{</span><span class="op" id="8496213">}</span><span class="op" id="8496214">)</span>&nbsp;<span class="op" id="8496216">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496220">err</span>&nbsp;<span class="op" id="8496224">:=</span>&nbsp;<span class="ident" id="8496227">Read</span><span class="op" id="8496231">(</span><span class="op" id="8496232">&amp;</span><span class="ident" id="8496233">buf</span><span class="op" id="8496236">,</span>&nbsp;<span class="ident" id="8496238">LittleEndian</span><span class="op" id="8496250">,</span>&nbsp;<span class="ident" id="8496252">data</span><span class="op" id="8496256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496260">want</span>&nbsp;<span class="op" id="8496265">:=</span>&nbsp;<span class="string" id="8496268">&#34;binary.Read:&nbsp;invalid&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="8496297">+</span>&nbsp;<span class="ident" id="8496299">reflect</span><span class="op" id="8496306">.</span><span class="ident" id="8496307">TypeOf</span><span class="op" id="8496313">(</span><span class="ident" id="8496314">data</span><span class="op" id="8496318">)</span><span class="op" id="8496319">.</span><span class="ident" id="8496320">String</span><span class="op" id="8496326">(</span><span class="op" id="8496327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8496331">if</span>&nbsp;<span class="ident" id="8496334">err</span>&nbsp;<span class="op" id="8496338">==</span>&nbsp;<span class="ident" id="8496341">nil</span>&nbsp;<span class="op" id="8496345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496350">t</span><span class="op" id="8496351">.</span><span class="ident" id="8496352">Errorf</span><span class="op" id="8496358">(</span><span class="string" id="8496359">&#34;%T:&nbsp;got&nbsp;no&nbsp;error;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8496386">,</span>&nbsp;<span class="ident" id="8496388">data</span><span class="op" id="8496392">,</span>&nbsp;<span class="ident" id="8496394">want</span><span class="op" id="8496398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8496403">return</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8496412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8496416">if</span>&nbsp;<span class="ident" id="8496419">got</span>&nbsp;<span class="op" id="8496423">:=</span>&nbsp;<span class="ident" id="8496426">err</span><span class="op" id="8496429">.</span><span class="ident" id="8496430">Error</span><span class="op" id="8496435">(</span><span class="op" id="8496436">)</span><span class="op" id="8496437">;</span>&nbsp;<span class="ident" id="8496439">got</span>&nbsp;<span class="op" id="8496443">!=</span>&nbsp;<span class="ident" id="8496446">want</span>&nbsp;<span class="op" id="8496451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496456">t</span><span class="op" id="8496457">.</span><span class="ident" id="8496458">Errorf</span><span class="op" id="8496464">(</span><span class="string" id="8496465">&#34;%T:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8496486">,</span>&nbsp;<span class="ident" id="8496488">data</span><span class="op" id="8496492">,</span>&nbsp;<span class="ident" id="8496494">got</span><span class="op" id="8496497">,</span>&nbsp;<span class="ident" id="8496499">want</span><span class="op" id="8496503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8496507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8496510">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496513">read</span><span class="op" id="8496517">(</span><span class="num" id="8496518">0</span><span class="op" id="8496519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496522">s</span>&nbsp;<span class="op" id="8496524">:=</span>&nbsp;<span class="builtinfunc" id="8496527">new</span><span class="op" id="8496530">(</span><span class="keyword" id="8496531">struct</span><span class="op" id="8496537">{</span><span class="op" id="8496538">}</span><span class="op" id="8496539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496542">read</span><span class="op" id="8496546">(</span><span class="op" id="8496547">&amp;</span><span class="ident" id="8496548">s</span><span class="op" id="8496549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496552">p</span>&nbsp;<span class="op" id="8496554">:=</span>&nbsp;<span class="op" id="8496557">&amp;</span><span class="ident" id="8496558">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496561">read</span><span class="op" id="8496565">(</span><span class="op" id="8496566">&amp;</span><span class="ident" id="8496567">p</span><span class="op" id="8496568">)</span><br>
<span class="lineno">310</span><span class="op" id="8496570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8496573">type</span>&nbsp;<span class="ident" id="8496578">byteSliceReader</span>&nbsp;<span class="keyword" id="8496594">struct</span>&nbsp;<span class="op" id="8496601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496604">remain</span>&nbsp;<span class="op" id="8496611">[</span><span class="op" id="8496612">]</span><span class="builtintype" id="8496613">byte</span><br>
<span class="lineno"></span><span class="op" id="8496618">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="8496621">func</span>&nbsp;<span class="op" id="8496626">(</span><span class="ident" id="8496627">br</span>&nbsp;<span class="op" id="8496630">*</span><span class="ident" id="8496631">byteSliceReader</span><span class="op" id="8496646">)</span>&nbsp;<span class="ident" id="8496648">Read</span><span class="op" id="8496652">(</span><span class="ident" id="8496653">p</span>&nbsp;<span class="op" id="8496655">[</span><span class="op" id="8496656">]</span><span class="builtintype" id="8496657">byte</span><span class="op" id="8496661">)</span>&nbsp;<span class="op" id="8496663">(</span><span class="builtintype" id="8496664">int</span><span class="op" id="8496667">,</span>&nbsp;<span class="builtintype" id="8496669">error</span><span class="op" id="8496674">)</span>&nbsp;<span class="op" id="8496676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496679">n</span>&nbsp;<span class="op" id="8496681">:=</span>&nbsp;<span class="builtinfunc" id="8496684">copy</span><span class="op" id="8496688">(</span><span class="ident" id="8496689">p</span><span class="op" id="8496690">,</span>&nbsp;<span class="ident" id="8496692">br</span><span class="op" id="8496694">.</span><span class="ident" id="8496695">remain</span><span class="op" id="8496701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496704">br</span><span class="op" id="8496706">.</span><span class="ident" id="8496707">remain</span>&nbsp;<span class="op" id="8496714">=</span>&nbsp;<span class="ident" id="8496716">br</span><span class="op" id="8496718">.</span><span class="ident" id="8496719">remain</span><span class="op" id="8496725">[</span><span class="ident" id="8496726">n</span><span class="op" id="8496727">:</span><span class="op" id="8496728">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8496731">return</span>&nbsp;<span class="ident" id="8496738">n</span><span class="op" id="8496739">,</span>&nbsp;<span class="ident" id="8496741">nil</span><br>
<span class="lineno">320</span><span class="op" id="8496745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8496748">func</span>&nbsp;<span class="ident" id="8496753">BenchmarkReadSlice1000Int32s</span><span class="op" id="8496781">(</span><span class="ident" id="8496782">b</span>&nbsp;<span class="op" id="8496784">*</span><span class="ident" id="8496785">testing</span><span class="op" id="8496792">.</span><span class="ident" id="8496793">B</span><span class="op" id="8496794">)</span>&nbsp;<span class="op" id="8496796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496799">bsr</span>&nbsp;<span class="op" id="8496803">:=</span>&nbsp;<span class="op" id="8496806">&amp;</span><span class="ident" id="8496807">byteSliceReader</span><span class="op" id="8496822">{</span><span class="op" id="8496823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496826">slice</span>&nbsp;<span class="op" id="8496832">:=</span>&nbsp;<span class="builtinfunc" id="8496835">make</span><span class="op" id="8496839">(</span><span class="op" id="8496840">[</span><span class="op" id="8496841">]</span><span class="builtintype" id="8496842">int32</span><span class="op" id="8496847">,</span>&nbsp;<span class="num" id="8496849">1000</span><span class="op" id="8496853">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496856">buf</span>&nbsp;<span class="op" id="8496860">:=</span>&nbsp;<span class="builtinfunc" id="8496863">make</span><span class="op" id="8496867">(</span><span class="op" id="8496868">[</span><span class="op" id="8496869">]</span><span class="builtintype" id="8496870">byte</span><span class="op" id="8496874">,</span>&nbsp;<span class="builtinfunc" id="8496876">len</span><span class="op" id="8496879">(</span><span class="ident" id="8496880">slice</span><span class="op" id="8496885">)</span><span class="op" id="8496886">*</span><span class="num" id="8496887">4</span><span class="op" id="8496888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496891">b</span><span class="op" id="8496892">.</span><span class="ident" id="8496893">SetBytes</span><span class="op" id="8496901">(</span><span class="ident" id="8496902">int64</span><span class="op" id="8496907">(</span><span class="builtinfunc" id="8496908">len</span><span class="op" id="8496911">(</span><span class="ident" id="8496912">buf</span><span class="op" id="8496915">)</span><span class="op" id="8496916">)</span><span class="op" id="8496917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496920">b</span><span class="op" id="8496921">.</span><span class="ident" id="8496922">ResetTimer</span><span class="op" id="8496932">(</span><span class="op" id="8496933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8496936">for</span>&nbsp;<span class="ident" id="8496940">i</span>&nbsp;<span class="op" id="8496942">:=</span>&nbsp;<span class="num" id="8496945">0</span><span class="op" id="8496946">;</span>&nbsp;<span class="ident" id="8496948">i</span>&nbsp;<span class="op" id="8496950">&lt;</span>&nbsp;<span class="ident" id="8496952">b</span><span class="op" id="8496953">.</span><span class="ident" id="8496954">N</span><span class="op" id="8496955">;</span>&nbsp;<span class="ident" id="8496957">i</span><span class="op" id="8496958">++</span>&nbsp;<span class="op" id="8496961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496965">bsr</span><span class="op" id="8496968">.</span><span class="ident" id="8496969">remain</span>&nbsp;<span class="op" id="8496976">=</span>&nbsp;<span class="ident" id="8496978">buf</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8496984">Read</span><span class="op" id="8496988">(</span><span class="ident" id="8496989">bsr</span><span class="op" id="8496992">,</span>&nbsp;<span class="ident" id="8496994">BigEndian</span><span class="op" id="8497003">,</span>&nbsp;<span class="ident" id="8497005">slice</span><span class="op" id="8497010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8497013">}</span><br>
<span class="lineno"></span><span class="op" id="8497015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8497018">func</span>&nbsp;<span class="ident" id="8497023">BenchmarkReadStruct</span><span class="op" id="8497042">(</span><span class="ident" id="8497043">b</span>&nbsp;<span class="op" id="8497045">*</span><span class="ident" id="8497046">testing</span><span class="op" id="8497053">.</span><span class="ident" id="8497054">B</span><span class="op" id="8497055">)</span>&nbsp;<span class="op" id="8497057">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497060">bsr</span>&nbsp;<span class="op" id="8497064">:=</span>&nbsp;<span class="op" id="8497067">&amp;</span><span class="ident" id="8497068">byteSliceReader</span><span class="op" id="8497083">{</span><span class="op" id="8497084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8497087">var</span>&nbsp;<span class="ident" id="8497091">buf</span>&nbsp;<span class="ident" id="8497095">bytes</span><span class="op" id="8497100">.</span><span class="ident" id="8497101">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497109">Write</span><span class="op" id="8497114">(</span><span class="op" id="8497115">&amp;</span><span class="ident" id="8497116">buf</span><span class="op" id="8497119">,</span>&nbsp;<span class="ident" id="8497121">BigEndian</span><span class="op" id="8497130">,</span>&nbsp;<span class="op" id="8497132">&amp;</span><span class="ident" id="8497133">s</span><span class="op" id="8497134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497137">b</span><span class="op" id="8497138">.</span><span class="ident" id="8497139">SetBytes</span><span class="op" id="8497147">(</span><span class="ident" id="8497148">int64</span><span class="op" id="8497153">(</span><span class="ident" id="8497154">dataSize</span><span class="op" id="8497162">(</span><span class="ident" id="8497163">reflect</span><span class="op" id="8497170">.</span><span class="ident" id="8497171">ValueOf</span><span class="op" id="8497178">(</span><span class="ident" id="8497179">s</span><span class="op" id="8497180">)</span><span class="op" id="8497181">)</span><span class="op" id="8497182">)</span><span class="op" id="8497183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497186">t</span>&nbsp;<span class="op" id="8497188">:=</span>&nbsp;<span class="ident" id="8497191">s</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497194">b</span><span class="op" id="8497195">.</span><span class="ident" id="8497196">ResetTimer</span><span class="op" id="8497206">(</span><span class="op" id="8497207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8497210">for</span>&nbsp;<span class="ident" id="8497214">i</span>&nbsp;<span class="op" id="8497216">:=</span>&nbsp;<span class="num" id="8497219">0</span><span class="op" id="8497220">;</span>&nbsp;<span class="ident" id="8497222">i</span>&nbsp;<span class="op" id="8497224">&lt;</span>&nbsp;<span class="ident" id="8497226">b</span><span class="op" id="8497227">.</span><span class="ident" id="8497228">N</span><span class="op" id="8497229">;</span>&nbsp;<span class="ident" id="8497231">i</span><span class="op" id="8497232">++</span>&nbsp;<span class="op" id="8497235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497239">bsr</span><span class="op" id="8497242">.</span><span class="ident" id="8497243">remain</span>&nbsp;<span class="op" id="8497250">=</span>&nbsp;<span class="ident" id="8497252">buf</span><span class="op" id="8497255">.</span><span class="ident" id="8497256">Bytes</span><span class="op" id="8497261">(</span><span class="op" id="8497262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497266">Read</span><span class="op" id="8497270">(</span><span class="ident" id="8497271">bsr</span><span class="op" id="8497274">,</span>&nbsp;<span class="ident" id="8497276">BigEndian</span><span class="op" id="8497285">,</span>&nbsp;<span class="op" id="8497287">&amp;</span><span class="ident" id="8497288">t</span><span class="op" id="8497289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8497292">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497295">b</span><span class="op" id="8497296">.</span><span class="ident" id="8497297">StopTimer</span><span class="op" id="8497306">(</span><span class="op" id="8497307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8497310">if</span>&nbsp;<span class="op" id="8497313">!</span><span class="ident" id="8497314">reflect</span><span class="op" id="8497321">.</span><span class="ident" id="8497322">DeepEqual</span><span class="op" id="8497331">(</span><span class="ident" id="8497332">s</span><span class="op" id="8497333">,</span>&nbsp;<span class="ident" id="8497335">t</span><span class="op" id="8497336">)</span>&nbsp;<span class="op" id="8497338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497342">b</span><span class="op" id="8497343">.</span><span class="ident" id="8497344">Fatal</span><span class="op" id="8497349">(</span><span class="string" id="8497350">&#34;no&nbsp;match&#34;</span><span class="op" id="8497360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8497363">}</span><br>
<span class="lineno"></span><span class="op" id="8497365">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="8497368">func</span>&nbsp;<span class="ident" id="8497373">BenchmarkReadInts</span><span class="op" id="8497390">(</span><span class="ident" id="8497391">b</span>&nbsp;<span class="op" id="8497393">*</span><span class="ident" id="8497394">testing</span><span class="op" id="8497401">.</span><span class="ident" id="8497402">B</span><span class="op" id="8497403">)</span>&nbsp;<span class="op" id="8497405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8497408">var</span>&nbsp;<span class="ident" id="8497412">ls</span>&nbsp;<span class="ident" id="8497415">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497423">bsr</span>&nbsp;<span class="op" id="8497427">:=</span>&nbsp;<span class="op" id="8497430">&amp;</span><span class="ident" id="8497431">byteSliceReader</span><span class="op" id="8497446">{</span><span class="op" id="8497447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8497450">var</span>&nbsp;<span class="ident" id="8497454">r</span>&nbsp;<span class="ident" id="8497456">io</span><span class="op" id="8497458">.</span><span class="ident" id="8497459">Reader</span>&nbsp;<span class="op" id="8497466">=</span>&nbsp;<span class="ident" id="8497468">bsr</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497473">b</span><span class="op" id="8497474">.</span><span class="ident" id="8497475">SetBytes</span><span class="op" id="8497483">(</span><span class="num" id="8497484">2</span>&nbsp;<span class="op" id="8497486">*</span>&nbsp;<span class="op" id="8497488">(</span><span class="num" id="8497489">1</span>&nbsp;<span class="op" id="8497491">+</span>&nbsp;<span class="num" id="8497493">2</span>&nbsp;<span class="op" id="8497495">+</span>&nbsp;<span class="num" id="8497497">4</span>&nbsp;<span class="op" id="8497499">+</span>&nbsp;<span class="num" id="8497501">8</span><span class="op" id="8497502">)</span><span class="op" id="8497503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497506">b</span><span class="op" id="8497507">.</span><span class="ident" id="8497508">ResetTimer</span><span class="op" id="8497518">(</span><span class="op" id="8497519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8497522">for</span>&nbsp;<span class="ident" id="8497526">i</span>&nbsp;<span class="op" id="8497528">:=</span>&nbsp;<span class="num" id="8497531">0</span><span class="op" id="8497532">;</span>&nbsp;<span class="ident" id="8497534">i</span>&nbsp;<span class="op" id="8497536">&lt;</span>&nbsp;<span class="ident" id="8497538">b</span><span class="op" id="8497539">.</span><span class="ident" id="8497540">N</span><span class="op" id="8497541">;</span>&nbsp;<span class="ident" id="8497543">i</span><span class="op" id="8497544">++</span>&nbsp;<span class="op" id="8497547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497551">bsr</span><span class="op" id="8497554">.</span><span class="ident" id="8497555">remain</span>&nbsp;<span class="op" id="8497562">=</span>&nbsp;<span class="ident" id="8497564">big</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497570">Read</span><span class="op" id="8497574">(</span><span class="ident" id="8497575">r</span><span class="op" id="8497576">,</span>&nbsp;<span class="ident" id="8497578">BigEndian</span><span class="op" id="8497587">,</span>&nbsp;<span class="op" id="8497589">&amp;</span><span class="ident" id="8497590">ls</span><span class="op" id="8497592">.</span><span class="ident" id="8497593">Int8</span><span class="op" id="8497597">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497601">Read</span><span class="op" id="8497605">(</span><span class="ident" id="8497606">r</span><span class="op" id="8497607">,</span>&nbsp;<span class="ident" id="8497609">BigEndian</span><span class="op" id="8497618">,</span>&nbsp;<span class="op" id="8497620">&amp;</span><span class="ident" id="8497621">ls</span><span class="op" id="8497623">.</span><span class="ident" id="8497624">Int16</span><span class="op" id="8497629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497633">Read</span><span class="op" id="8497637">(</span><span class="ident" id="8497638">r</span><span class="op" id="8497639">,</span>&nbsp;<span class="ident" id="8497641">BigEndian</span><span class="op" id="8497650">,</span>&nbsp;<span class="op" id="8497652">&amp;</span><span class="ident" id="8497653">ls</span><span class="op" id="8497655">.</span><span class="ident" id="8497656">Int32</span><span class="op" id="8497661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497665">Read</span><span class="op" id="8497669">(</span><span class="ident" id="8497670">r</span><span class="op" id="8497671">,</span>&nbsp;<span class="ident" id="8497673">BigEndian</span><span class="op" id="8497682">,</span>&nbsp;<span class="op" id="8497684">&amp;</span><span class="ident" id="8497685">ls</span><span class="op" id="8497687">.</span><span class="ident" id="8497688">Int64</span><span class="op" id="8497693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497697">Read</span><span class="op" id="8497701">(</span><span class="ident" id="8497702">r</span><span class="op" id="8497703">,</span>&nbsp;<span class="ident" id="8497705">BigEndian</span><span class="op" id="8497714">,</span>&nbsp;<span class="op" id="8497716">&amp;</span><span class="ident" id="8497717">ls</span><span class="op" id="8497719">.</span><span class="ident" id="8497720">Uint8</span><span class="op" id="8497725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497729">Read</span><span class="op" id="8497733">(</span><span class="ident" id="8497734">r</span><span class="op" id="8497735">,</span>&nbsp;<span class="ident" id="8497737">BigEndian</span><span class="op" id="8497746">,</span>&nbsp;<span class="op" id="8497748">&amp;</span><span class="ident" id="8497749">ls</span><span class="op" id="8497751">.</span><span class="ident" id="8497752">Uint16</span><span class="op" id="8497758">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497762">Read</span><span class="op" id="8497766">(</span><span class="ident" id="8497767">r</span><span class="op" id="8497768">,</span>&nbsp;<span class="ident" id="8497770">BigEndian</span><span class="op" id="8497779">,</span>&nbsp;<span class="op" id="8497781">&amp;</span><span class="ident" id="8497782">ls</span><span class="op" id="8497784">.</span><span class="ident" id="8497785">Uint32</span><span class="op" id="8497791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497795">Read</span><span class="op" id="8497799">(</span><span class="ident" id="8497800">r</span><span class="op" id="8497801">,</span>&nbsp;<span class="ident" id="8497803">BigEndian</span><span class="op" id="8497812">,</span>&nbsp;<span class="op" id="8497814">&amp;</span><span class="ident" id="8497815">ls</span><span class="op" id="8497817">.</span><span class="ident" id="8497818">Uint64</span><span class="op" id="8497824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8497827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497831">want</span>&nbsp;<span class="op" id="8497836">:=</span>&nbsp;<span class="ident" id="8497839">s</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497842">want</span><span class="op" id="8497846">.</span><span class="ident" id="8497847">Float32</span>&nbsp;<span class="op" id="8497855">=</span>&nbsp;<span class="num" id="8497857">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497860">want</span><span class="op" id="8497864">.</span><span class="ident" id="8497865">Float64</span>&nbsp;<span class="op" id="8497873">=</span>&nbsp;<span class="num" id="8497875">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497878">want</span><span class="op" id="8497882">.</span><span class="ident" id="8497883">Complex64</span>&nbsp;<span class="op" id="8497893">=</span>&nbsp;<span class="num" id="8497895">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497898">want</span><span class="op" id="8497902">.</span><span class="ident" id="8497903">Complex128</span>&nbsp;<span class="op" id="8497914">=</span>&nbsp;<span class="num" id="8497916">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8497919">for</span>&nbsp;<span class="ident" id="8497923">i</span>&nbsp;<span class="op" id="8497925">:=</span>&nbsp;<span class="keyword" id="8497928">range</span>&nbsp;<span class="ident" id="8497934">want</span><span class="op" id="8497938">.</span><span class="ident" id="8497939">Array</span>&nbsp;<span class="op" id="8497945">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497949">want</span><span class="op" id="8497953">.</span><span class="ident" id="8497954">Array</span><span class="op" id="8497959">[</span><span class="ident" id="8497960">i</span><span class="op" id="8497961">]</span>&nbsp;<span class="op" id="8497963">=</span>&nbsp;<span class="num" id="8497965">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8497968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8497971">b</span><span class="op" id="8497972">.</span><span class="ident" id="8497973">StopTimer</span><span class="op" id="8497982">(</span><span class="op" id="8497983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8497986">if</span>&nbsp;<span class="op" id="8497989">!</span><span class="ident" id="8497990">reflect</span><span class="op" id="8497997">.</span><span class="ident" id="8497998">DeepEqual</span><span class="op" id="8498007">(</span><span class="ident" id="8498008">ls</span><span class="op" id="8498010">,</span>&nbsp;<span class="ident" id="8498012">want</span><span class="op" id="8498016">)</span>&nbsp;<span class="op" id="8498018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8498022">panic</span><span class="op" id="8498027">(</span><span class="string" id="8498028">&#34;no&nbsp;match&#34;</span><span class="op" id="8498038">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8498041">}</span><br>
<span class="lineno"></span><span class="op" id="8498043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8498046">func</span>&nbsp;<span class="ident" id="8498051">BenchmarkWriteInts</span><span class="op" id="8498069">(</span><span class="ident" id="8498070">b</span>&nbsp;<span class="op" id="8498072">*</span><span class="ident" id="8498073">testing</span><span class="op" id="8498080">.</span><span class="ident" id="8498081">B</span><span class="op" id="8498082">)</span>&nbsp;<span class="op" id="8498084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498087">buf</span>&nbsp;<span class="op" id="8498091">:=</span>&nbsp;<span class="builtinfunc" id="8498094">new</span><span class="op" id="8498097">(</span><span class="ident" id="8498098">bytes</span><span class="op" id="8498103">.</span><span class="ident" id="8498104">Buffer</span><span class="op" id="8498110">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8498113">var</span>&nbsp;<span class="ident" id="8498117">w</span>&nbsp;<span class="ident" id="8498119">io</span><span class="op" id="8498121">.</span><span class="ident" id="8498122">Writer</span>&nbsp;<span class="op" id="8498129">=</span>&nbsp;<span class="ident" id="8498131">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498136">b</span><span class="op" id="8498137">.</span><span class="ident" id="8498138">SetBytes</span><span class="op" id="8498146">(</span><span class="num" id="8498147">2</span>&nbsp;<span class="op" id="8498149">*</span>&nbsp;<span class="op" id="8498151">(</span><span class="num" id="8498152">1</span>&nbsp;<span class="op" id="8498154">+</span>&nbsp;<span class="num" id="8498156">2</span>&nbsp;<span class="op" id="8498158">+</span>&nbsp;<span class="num" id="8498160">4</span>&nbsp;<span class="op" id="8498162">+</span>&nbsp;<span class="num" id="8498164">8</span><span class="op" id="8498165">)</span><span class="op" id="8498166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498169">b</span><span class="op" id="8498170">.</span><span class="ident" id="8498171">ResetTimer</span><span class="op" id="8498181">(</span><span class="op" id="8498182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8498185">for</span>&nbsp;<span class="ident" id="8498189">i</span>&nbsp;<span class="op" id="8498191">:=</span>&nbsp;<span class="num" id="8498194">0</span><span class="op" id="8498195">;</span>&nbsp;<span class="ident" id="8498197">i</span>&nbsp;<span class="op" id="8498199">&lt;</span>&nbsp;<span class="ident" id="8498201">b</span><span class="op" id="8498202">.</span><span class="ident" id="8498203">N</span><span class="op" id="8498204">;</span>&nbsp;<span class="ident" id="8498206">i</span><span class="op" id="8498207">++</span>&nbsp;<span class="op" id="8498210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498214">buf</span><span class="op" id="8498217">.</span><span class="ident" id="8498218">Reset</span><span class="op" id="8498223">(</span><span class="op" id="8498224">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498228">Write</span><span class="op" id="8498233">(</span><span class="ident" id="8498234">w</span><span class="op" id="8498235">,</span>&nbsp;<span class="ident" id="8498237">BigEndian</span><span class="op" id="8498246">,</span>&nbsp;<span class="ident" id="8498248">s</span><span class="op" id="8498249">.</span><span class="ident" id="8498250">Int8</span><span class="op" id="8498254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498258">Write</span><span class="op" id="8498263">(</span><span class="ident" id="8498264">w</span><span class="op" id="8498265">,</span>&nbsp;<span class="ident" id="8498267">BigEndian</span><span class="op" id="8498276">,</span>&nbsp;<span class="ident" id="8498278">s</span><span class="op" id="8498279">.</span><span class="ident" id="8498280">Int16</span><span class="op" id="8498285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498289">Write</span><span class="op" id="8498294">(</span><span class="ident" id="8498295">w</span><span class="op" id="8498296">,</span>&nbsp;<span class="ident" id="8498298">BigEndian</span><span class="op" id="8498307">,</span>&nbsp;<span class="ident" id="8498309">s</span><span class="op" id="8498310">.</span><span class="ident" id="8498311">Int32</span><span class="op" id="8498316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498320">Write</span><span class="op" id="8498325">(</span><span class="ident" id="8498326">w</span><span class="op" id="8498327">,</span>&nbsp;<span class="ident" id="8498329">BigEndian</span><span class="op" id="8498338">,</span>&nbsp;<span class="ident" id="8498340">s</span><span class="op" id="8498341">.</span><span class="ident" id="8498342">Int64</span><span class="op" id="8498347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498351">Write</span><span class="op" id="8498356">(</span><span class="ident" id="8498357">w</span><span class="op" id="8498358">,</span>&nbsp;<span class="ident" id="8498360">BigEndian</span><span class="op" id="8498369">,</span>&nbsp;<span class="ident" id="8498371">s</span><span class="op" id="8498372">.</span><span class="ident" id="8498373">Uint8</span><span class="op" id="8498378">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498382">Write</span><span class="op" id="8498387">(</span><span class="ident" id="8498388">w</span><span class="op" id="8498389">,</span>&nbsp;<span class="ident" id="8498391">BigEndian</span><span class="op" id="8498400">,</span>&nbsp;<span class="ident" id="8498402">s</span><span class="op" id="8498403">.</span><span class="ident" id="8498404">Uint16</span><span class="op" id="8498410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498414">Write</span><span class="op" id="8498419">(</span><span class="ident" id="8498420">w</span><span class="op" id="8498421">,</span>&nbsp;<span class="ident" id="8498423">BigEndian</span><span class="op" id="8498432">,</span>&nbsp;<span class="ident" id="8498434">s</span><span class="op" id="8498435">.</span><span class="ident" id="8498436">Uint32</span><span class="op" id="8498442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498446">Write</span><span class="op" id="8498451">(</span><span class="ident" id="8498452">w</span><span class="op" id="8498453">,</span>&nbsp;<span class="ident" id="8498455">BigEndian</span><span class="op" id="8498464">,</span>&nbsp;<span class="ident" id="8498466">s</span><span class="op" id="8498467">.</span><span class="ident" id="8498468">Uint64</span><span class="op" id="8498474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8498477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498480">b</span><span class="op" id="8498481">.</span><span class="ident" id="8498482">StopTimer</span><span class="op" id="8498491">(</span><span class="op" id="8498492">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8498495">if</span>&nbsp;<span class="op" id="8498498">!</span><span class="ident" id="8498499">bytes</span><span class="op" id="8498504">.</span><span class="ident" id="8498505">Equal</span><span class="op" id="8498510">(</span><span class="ident" id="8498511">buf</span><span class="op" id="8498514">.</span><span class="ident" id="8498515">Bytes</span><span class="op" id="8498520">(</span><span class="op" id="8498521">)</span><span class="op" id="8498522">,</span>&nbsp;<span class="ident" id="8498524">big</span><span class="op" id="8498527">[</span><span class="op" id="8498528">:</span><span class="num" id="8498529">30</span><span class="op" id="8498531">]</span><span class="op" id="8498532">)</span>&nbsp;<span class="op" id="8498534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498538">b</span><span class="op" id="8498539">.</span><span class="ident" id="8498540">Fatalf</span><span class="op" id="8498546">(</span><span class="string" id="8498547">&#34;first&nbsp;half&nbsp;doesn&#39;t&nbsp;match:&nbsp;%x&nbsp;%x&#34;</span><span class="op" id="8498580">,</span>&nbsp;<span class="ident" id="8498582">buf</span><span class="op" id="8498585">.</span><span class="ident" id="8498586">Bytes</span><span class="op" id="8498591">(</span><span class="op" id="8498592">)</span><span class="op" id="8498593">,</span>&nbsp;<span class="ident" id="8498595">big</span><span class="op" id="8498598">[</span><span class="op" id="8498599">:</span><span class="num" id="8498600">30</span><span class="op" id="8498602">]</span><span class="op" id="8498603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8498606">}</span><br>
<span class="lineno"></span><span class="op" id="8498608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="8498611">func</span>&nbsp;<span class="ident" id="8498616">BenchmarkWriteSlice1000Int32s</span><span class="op" id="8498645">(</span><span class="ident" id="8498646">b</span>&nbsp;<span class="op" id="8498648">*</span><span class="ident" id="8498649">testing</span><span class="op" id="8498656">.</span><span class="ident" id="8498657">B</span><span class="op" id="8498658">)</span>&nbsp;<span class="op" id="8498660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498663">slice</span>&nbsp;<span class="op" id="8498669">:=</span>&nbsp;<span class="builtinfunc" id="8498672">make</span><span class="op" id="8498676">(</span><span class="op" id="8498677">[</span><span class="op" id="8498678">]</span><span class="builtintype" id="8498679">int32</span><span class="op" id="8498684">,</span>&nbsp;<span class="num" id="8498686">1000</span><span class="op" id="8498690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498693">buf</span>&nbsp;<span class="op" id="8498697">:=</span>&nbsp;<span class="builtinfunc" id="8498700">new</span><span class="op" id="8498703">(</span><span class="ident" id="8498704">bytes</span><span class="op" id="8498709">.</span><span class="ident" id="8498710">Buffer</span><span class="op" id="8498716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8498719">var</span>&nbsp;<span class="ident" id="8498723">w</span>&nbsp;<span class="ident" id="8498725">io</span><span class="op" id="8498727">.</span><span class="ident" id="8498728">Writer</span>&nbsp;<span class="op" id="8498735">=</span>&nbsp;<span class="ident" id="8498737">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498742">b</span><span class="op" id="8498743">.</span><span class="ident" id="8498744">SetBytes</span><span class="op" id="8498752">(</span><span class="num" id="8498753">4</span>&nbsp;<span class="op" id="8498755">*</span>&nbsp;<span class="num" id="8498757">1000</span><span class="op" id="8498761">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498764">b</span><span class="op" id="8498765">.</span><span class="ident" id="8498766">ResetTimer</span><span class="op" id="8498776">(</span><span class="op" id="8498777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8498780">for</span>&nbsp;<span class="ident" id="8498784">i</span>&nbsp;<span class="op" id="8498786">:=</span>&nbsp;<span class="num" id="8498789">0</span><span class="op" id="8498790">;</span>&nbsp;<span class="ident" id="8498792">i</span>&nbsp;<span class="op" id="8498794">&lt;</span>&nbsp;<span class="ident" id="8498796">b</span><span class="op" id="8498797">.</span><span class="ident" id="8498798">N</span><span class="op" id="8498799">;</span>&nbsp;<span class="ident" id="8498801">i</span><span class="op" id="8498802">++</span>&nbsp;<span class="op" id="8498805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498809">buf</span><span class="op" id="8498812">.</span><span class="ident" id="8498813">Reset</span><span class="op" id="8498818">(</span><span class="op" id="8498819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498823">Write</span><span class="op" id="8498828">(</span><span class="ident" id="8498829">w</span><span class="op" id="8498830">,</span>&nbsp;<span class="ident" id="8498832">BigEndian</span><span class="op" id="8498841">,</span>&nbsp;<span class="ident" id="8498843">slice</span><span class="op" id="8498848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8498851">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8498854">b</span><span class="op" id="8498855">.</span><span class="ident" id="8498856">StopTimer</span><span class="op" id="8498865">(</span><span class="op" id="8498866">)</span><br>
<span class="lineno"></span><span class="op" id="8498868">}</span>
</div>
</body>
</html>
