<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path</h2>
<ul>
<li><a href="/gostd/path/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/path/match.go.html">match.go</a></li>
<li><a href="/gostd/path/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/path.go.html">path.go</a></li>
<li><a href="/gostd/path/path_test.go.html" class="current">path_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8413777">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8413832">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8413886">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8413937">package</span>&nbsp;<span class="ident" id="8413945">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8413951">import</span>&nbsp;<span class="op" id="8413958">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8413961">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8413972">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8413982">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8413985">type</span>&nbsp;<span class="ident" id="8413990">PathTest</span>&nbsp;<span class="keyword" id="8413999">struct</span>&nbsp;<span class="op" id="8414006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8414009">path</span><span class="op" id="8414013">,</span>&nbsp;<span class="ident" id="8414015">result</span>&nbsp;<span class="builtintype" id="8414022">string</span><br>
<span class="lineno"></span><span class="op" id="8414029">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8414032">var</span>&nbsp;<span class="ident" id="8414036">cleantests</span>&nbsp;<span class="op" id="8414047">=</span>&nbsp;<span class="op" id="8414049">[</span><span class="op" id="8414050">]</span><span class="ident" id="8414051">PathTest</span><span class="op" id="8414059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8414062">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414080">{</span><span class="string" id="8414081">&#34;&#34;</span><span class="op" id="8414083">,</span>&nbsp;<span class="string" id="8414085">&#34;.&#34;</span><span class="op" id="8414088">}</span><span class="op" id="8414089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414092">{</span><span class="string" id="8414093">&#34;abc&#34;</span><span class="op" id="8414098">,</span>&nbsp;<span class="string" id="8414100">&#34;abc&#34;</span><span class="op" id="8414105">}</span><span class="op" id="8414106">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414109">{</span><span class="string" id="8414110">&#34;abc/def&#34;</span><span class="op" id="8414119">,</span>&nbsp;<span class="string" id="8414121">&#34;abc/def&#34;</span><span class="op" id="8414130">}</span><span class="op" id="8414131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414134">{</span><span class="string" id="8414135">&#34;a/b/c&#34;</span><span class="op" id="8414142">,</span>&nbsp;<span class="string" id="8414144">&#34;a/b/c&#34;</span><span class="op" id="8414151">}</span><span class="op" id="8414152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414155">{</span><span class="string" id="8414156">&#34;.&#34;</span><span class="op" id="8414159">,</span>&nbsp;<span class="string" id="8414161">&#34;.&#34;</span><span class="op" id="8414164">}</span><span class="op" id="8414165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414168">{</span><span class="string" id="8414169">&#34;..&#34;</span><span class="op" id="8414173">,</span>&nbsp;<span class="string" id="8414175">&#34;..&#34;</span><span class="op" id="8414179">}</span><span class="op" id="8414180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414183">{</span><span class="string" id="8414184">&#34;../..&#34;</span><span class="op" id="8414191">,</span>&nbsp;<span class="string" id="8414193">&#34;../..&#34;</span><span class="op" id="8414200">}</span><span class="op" id="8414201">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414204">{</span><span class="string" id="8414205">&#34;../../abc&#34;</span><span class="op" id="8414216">,</span>&nbsp;<span class="string" id="8414218">&#34;../../abc&#34;</span><span class="op" id="8414229">}</span><span class="op" id="8414230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414233">{</span><span class="string" id="8414234">&#34;/abc&#34;</span><span class="op" id="8414240">,</span>&nbsp;<span class="string" id="8414242">&#34;/abc&#34;</span><span class="op" id="8414248">}</span><span class="op" id="8414249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414252">{</span><span class="string" id="8414253">&#34;/&#34;</span><span class="op" id="8414256">,</span>&nbsp;<span class="string" id="8414258">&#34;/&#34;</span><span class="op" id="8414261">}</span><span class="op" id="8414262">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8414266">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414292">{</span><span class="string" id="8414293">&#34;abc/&#34;</span><span class="op" id="8414299">,</span>&nbsp;<span class="string" id="8414301">&#34;abc&#34;</span><span class="op" id="8414306">}</span><span class="op" id="8414307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414310">{</span><span class="string" id="8414311">&#34;abc/def/&#34;</span><span class="op" id="8414321">,</span>&nbsp;<span class="string" id="8414323">&#34;abc/def&#34;</span><span class="op" id="8414332">}</span><span class="op" id="8414333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414336">{</span><span class="string" id="8414337">&#34;a/b/c/&#34;</span><span class="op" id="8414345">,</span>&nbsp;<span class="string" id="8414347">&#34;a/b/c&#34;</span><span class="op" id="8414354">}</span><span class="op" id="8414355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414358">{</span><span class="string" id="8414359">&#34;./&#34;</span><span class="op" id="8414363">,</span>&nbsp;<span class="string" id="8414365">&#34;.&#34;</span><span class="op" id="8414368">}</span><span class="op" id="8414369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414372">{</span><span class="string" id="8414373">&#34;../&#34;</span><span class="op" id="8414378">,</span>&nbsp;<span class="string" id="8414380">&#34;..&#34;</span><span class="op" id="8414384">}</span><span class="op" id="8414385">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414388">{</span><span class="string" id="8414389">&#34;../../&#34;</span><span class="op" id="8414397">,</span>&nbsp;<span class="string" id="8414399">&#34;../..&#34;</span><span class="op" id="8414406">}</span><span class="op" id="8414407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414410">{</span><span class="string" id="8414411">&#34;/abc/&#34;</span><span class="op" id="8414418">,</span>&nbsp;<span class="string" id="8414420">&#34;/abc&#34;</span><span class="op" id="8414426">}</span><span class="op" id="8414427">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8414431">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414456">{</span><span class="string" id="8414457">&#34;abc//def//ghi&#34;</span><span class="op" id="8414472">,</span>&nbsp;<span class="string" id="8414474">&#34;abc/def/ghi&#34;</span><span class="op" id="8414487">}</span><span class="op" id="8414488">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414491">{</span><span class="string" id="8414492">&#34;//abc&#34;</span><span class="op" id="8414499">,</span>&nbsp;<span class="string" id="8414501">&#34;/abc&#34;</span><span class="op" id="8414507">}</span><span class="op" id="8414508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414511">{</span><span class="string" id="8414512">&#34;///abc&#34;</span><span class="op" id="8414520">,</span>&nbsp;<span class="string" id="8414522">&#34;/abc&#34;</span><span class="op" id="8414528">}</span><span class="op" id="8414529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414532">{</span><span class="string" id="8414533">&#34;//abc//&#34;</span><span class="op" id="8414542">,</span>&nbsp;<span class="string" id="8414544">&#34;/abc&#34;</span><span class="op" id="8414550">}</span><span class="op" id="8414551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414554">{</span><span class="string" id="8414555">&#34;abc//&#34;</span><span class="op" id="8414562">,</span>&nbsp;<span class="string" id="8414564">&#34;abc&#34;</span><span class="op" id="8414569">}</span><span class="op" id="8414570">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8414574">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414596">{</span><span class="string" id="8414597">&#34;abc/./def&#34;</span><span class="op" id="8414608">,</span>&nbsp;<span class="string" id="8414610">&#34;abc/def&#34;</span><span class="op" id="8414619">}</span><span class="op" id="8414620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414623">{</span><span class="string" id="8414624">&#34;/./abc/def&#34;</span><span class="op" id="8414636">,</span>&nbsp;<span class="string" id="8414638">&#34;/abc/def&#34;</span><span class="op" id="8414648">}</span><span class="op" id="8414649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414652">{</span><span class="string" id="8414653">&#34;abc/.&#34;</span><span class="op" id="8414660">,</span>&nbsp;<span class="string" id="8414662">&#34;abc&#34;</span><span class="op" id="8414667">}</span><span class="op" id="8414668">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8414672">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414695">{</span><span class="string" id="8414696">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="8414716">,</span>&nbsp;<span class="string" id="8414718">&#34;abc/def/jkl&#34;</span><span class="op" id="8414731">}</span><span class="op" id="8414732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414735">{</span><span class="string" id="8414736">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="8414759">,</span>&nbsp;<span class="string" id="8414761">&#34;abc/jkl&#34;</span><span class="op" id="8414770">}</span><span class="op" id="8414771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414774">{</span><span class="string" id="8414775">&#34;abc/def/..&#34;</span><span class="op" id="8414787">,</span>&nbsp;<span class="string" id="8414789">&#34;abc&#34;</span><span class="op" id="8414794">}</span><span class="op" id="8414795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414798">{</span><span class="string" id="8414799">&#34;abc/def/../..&#34;</span><span class="op" id="8414814">,</span>&nbsp;<span class="string" id="8414816">&#34;.&#34;</span><span class="op" id="8414819">}</span><span class="op" id="8414820">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414823">{</span><span class="string" id="8414824">&#34;/abc/def/../..&#34;</span><span class="op" id="8414840">,</span>&nbsp;<span class="string" id="8414842">&#34;/&#34;</span><span class="op" id="8414845">}</span><span class="op" id="8414846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414849">{</span><span class="string" id="8414850">&#34;abc/def/../../..&#34;</span><span class="op" id="8414868">,</span>&nbsp;<span class="string" id="8414870">&#34;..&#34;</span><span class="op" id="8414874">}</span><span class="op" id="8414875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414878">{</span><span class="string" id="8414879">&#34;/abc/def/../../..&#34;</span><span class="op" id="8414898">,</span>&nbsp;<span class="string" id="8414900">&#34;/&#34;</span><span class="op" id="8414903">}</span><span class="op" id="8414904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414907">{</span><span class="string" id="8414908">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="8414947">,</span>&nbsp;<span class="string" id="8414949">&#34;../../mno&#34;</span><span class="op" id="8414960">}</span><span class="op" id="8414961">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8414965">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414982">{</span><span class="string" id="8414983">&#34;abc/./../def&#34;</span><span class="op" id="8414997">,</span>&nbsp;<span class="string" id="8414999">&#34;def&#34;</span><span class="op" id="8415004">}</span><span class="op" id="8415005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415008">{</span><span class="string" id="8415009">&#34;abc//./../def&#34;</span><span class="op" id="8415024">,</span>&nbsp;<span class="string" id="8415026">&#34;def&#34;</span><span class="op" id="8415031">}</span><span class="op" id="8415032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415035">{</span><span class="string" id="8415036">&#34;abc/../../././../def&#34;</span><span class="op" id="8415058">,</span>&nbsp;<span class="string" id="8415060">&#34;../../def&#34;</span><span class="op" id="8415071">}</span><span class="op" id="8415072">,</span><br>
<span class="lineno"></span><span class="op" id="8415074">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8415077">func</span>&nbsp;<span class="ident" id="8415082">TestClean</span><span class="op" id="8415091">(</span><span class="ident" id="8415092">t</span>&nbsp;<span class="op" id="8415094">*</span><span class="ident" id="8415095">testing</span><span class="op" id="8415102">.</span><span class="ident" id="8415103">T</span><span class="op" id="8415104">)</span>&nbsp;<span class="op" id="8415106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415109">for</span>&nbsp;<span class="ident" id="8415113">_</span><span class="op" id="8415114">,</span>&nbsp;<span class="ident" id="8415116">test</span>&nbsp;<span class="op" id="8415121">:=</span>&nbsp;<span class="keyword" id="8415124">range</span>&nbsp;<span class="ident" id="8415130">cleantests</span>&nbsp;<span class="op" id="8415141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415145">if</span>&nbsp;<span class="ident" id="8415148">s</span>&nbsp;<span class="op" id="8415150">:=</span>&nbsp;<span class="ident" id="8415153">Clean</span><span class="op" id="8415158">(</span><span class="ident" id="8415159">test</span><span class="op" id="8415163">.</span><span class="ident" id="8415164">path</span><span class="op" id="8415168">)</span><span class="op" id="8415169">;</span>&nbsp;<span class="ident" id="8415171">s</span>&nbsp;<span class="op" id="8415173">!=</span>&nbsp;<span class="ident" id="8415176">test</span><span class="op" id="8415180">.</span><span class="ident" id="8415181">result</span>&nbsp;<span class="op" id="8415188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8415193">t</span><span class="op" id="8415194">.</span><span class="ident" id="8415195">Errorf</span><span class="op" id="8415201">(</span><span class="string" id="8415202">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8415227">,</span>&nbsp;<span class="ident" id="8415229">test</span><span class="op" id="8415233">.</span><span class="ident" id="8415234">path</span><span class="op" id="8415238">,</span>&nbsp;<span class="ident" id="8415240">s</span><span class="op" id="8415241">,</span>&nbsp;<span class="ident" id="8415243">test</span><span class="op" id="8415247">.</span><span class="ident" id="8415248">result</span><span class="op" id="8415254">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415262">if</span>&nbsp;<span class="ident" id="8415265">s</span>&nbsp;<span class="op" id="8415267">:=</span>&nbsp;<span class="ident" id="8415270">Clean</span><span class="op" id="8415275">(</span><span class="ident" id="8415276">test</span><span class="op" id="8415280">.</span><span class="ident" id="8415281">result</span><span class="op" id="8415287">)</span><span class="op" id="8415288">;</span>&nbsp;<span class="ident" id="8415290">s</span>&nbsp;<span class="op" id="8415292">!=</span>&nbsp;<span class="ident" id="8415295">test</span><span class="op" id="8415299">.</span><span class="ident" id="8415300">result</span>&nbsp;<span class="op" id="8415307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8415312">t</span><span class="op" id="8415313">.</span><span class="ident" id="8415314">Errorf</span><span class="op" id="8415320">(</span><span class="string" id="8415321">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8415346">,</span>&nbsp;<span class="ident" id="8415348">test</span><span class="op" id="8415352">.</span><span class="ident" id="8415353">result</span><span class="op" id="8415359">,</span>&nbsp;<span class="ident" id="8415361">s</span><span class="op" id="8415362">,</span>&nbsp;<span class="ident" id="8415364">test</span><span class="op" id="8415368">.</span><span class="ident" id="8415369">result</span><span class="op" id="8415375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415382">}</span><br>
<span class="lineno">75</span><span class="op" id="8415384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8415387">func</span>&nbsp;<span class="ident" id="8415392">TestCleanMallocs</span><span class="op" id="8415408">(</span><span class="ident" id="8415409">t</span>&nbsp;<span class="op" id="8415411">*</span><span class="ident" id="8415412">testing</span><span class="op" id="8415419">.</span><span class="ident" id="8415420">T</span><span class="op" id="8415421">)</span>&nbsp;<span class="op" id="8415423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415426">if</span>&nbsp;<span class="ident" id="8415429">testing</span><span class="op" id="8415436">.</span><span class="ident" id="8415437">Short</span><span class="op" id="8415442">(</span><span class="op" id="8415443">)</span>&nbsp;<span class="op" id="8415445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8415449">t</span><span class="op" id="8415450">.</span><span class="ident" id="8415451">Skip</span><span class="op" id="8415455">(</span><span class="string" id="8415456">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="8415493">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415499">if</span>&nbsp;<span class="ident" id="8415502">runtime</span><span class="op" id="8415509">.</span><span class="ident" id="8415510">GOMAXPROCS</span><span class="op" id="8415520">(</span><span class="num" id="8415521">0</span><span class="op" id="8415522">)</span>&nbsp;<span class="op" id="8415524">&gt;</span>&nbsp;<span class="num" id="8415526">1</span>&nbsp;<span class="op" id="8415528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8415532">t</span><span class="op" id="8415533">.</span><span class="ident" id="8415534">Log</span><span class="op" id="8415537">(</span><span class="string" id="8415538">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="8415582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415586">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415594">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415598">for</span>&nbsp;<span class="ident" id="8415602">_</span><span class="op" id="8415603">,</span>&nbsp;<span class="ident" id="8415605">test</span>&nbsp;<span class="op" id="8415610">:=</span>&nbsp;<span class="keyword" id="8415613">range</span>&nbsp;<span class="ident" id="8415619">cleantests</span>&nbsp;<span class="op" id="8415630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8415634">allocs</span>&nbsp;<span class="op" id="8415641">:=</span>&nbsp;<span class="ident" id="8415644">testing</span><span class="op" id="8415651">.</span><span class="ident" id="8415652">AllocsPerRun</span><span class="op" id="8415664">(</span><span class="num" id="8415665">100</span><span class="op" id="8415668">,</span>&nbsp;<span class="keyword" id="8415670">func</span><span class="op" id="8415674">(</span><span class="op" id="8415675">)</span>&nbsp;<span class="op" id="8415677">{</span>&nbsp;<span class="ident" id="8415679">Clean</span><span class="op" id="8415684">(</span><span class="ident" id="8415685">test</span><span class="op" id="8415689">.</span><span class="ident" id="8415690">result</span><span class="op" id="8415696">)</span>&nbsp;<span class="op" id="8415698">}</span><span class="op" id="8415699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415703">if</span>&nbsp;<span class="ident" id="8415706">allocs</span>&nbsp;<span class="op" id="8415713">&gt;</span>&nbsp;<span class="num" id="8415715">0</span>&nbsp;<span class="op" id="8415717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8415722">t</span><span class="op" id="8415723">.</span><span class="ident" id="8415724">Errorf</span><span class="op" id="8415730">(</span><span class="string" id="8415731">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="8415764">,</span>&nbsp;<span class="ident" id="8415766">test</span><span class="op" id="8415770">.</span><span class="ident" id="8415771">result</span><span class="op" id="8415777">,</span>&nbsp;<span class="ident" id="8415779">allocs</span><span class="op" id="8415785">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415792">}</span><br>
<span class="lineno"></span><span class="op" id="8415794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8415797">type</span>&nbsp;<span class="ident" id="8415802">SplitTest</span>&nbsp;<span class="keyword" id="8415812">struct</span>&nbsp;<span class="op" id="8415819">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8415822">path</span><span class="op" id="8415826">,</span>&nbsp;<span class="ident" id="8415828">dir</span><span class="op" id="8415831">,</span>&nbsp;<span class="ident" id="8415833">file</span>&nbsp;<span class="builtintype" id="8415838">string</span><br>
<span class="lineno"></span><span class="op" id="8415845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8415848">var</span>&nbsp;<span class="ident" id="8415852">splittests</span>&nbsp;<span class="op" id="8415863">=</span>&nbsp;<span class="op" id="8415865">[</span><span class="op" id="8415866">]</span><span class="ident" id="8415867">SplitTest</span><span class="op" id="8415876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415879">{</span><span class="string" id="8415880">&#34;a/b&#34;</span><span class="op" id="8415885">,</span>&nbsp;<span class="string" id="8415887">&#34;a/&#34;</span><span class="op" id="8415891">,</span>&nbsp;<span class="string" id="8415893">&#34;b&#34;</span><span class="op" id="8415896">}</span><span class="op" id="8415897">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415900">{</span><span class="string" id="8415901">&#34;a/b/&#34;</span><span class="op" id="8415907">,</span>&nbsp;<span class="string" id="8415909">&#34;a/b/&#34;</span><span class="op" id="8415915">,</span>&nbsp;<span class="string" id="8415917">&#34;&#34;</span><span class="op" id="8415919">}</span><span class="op" id="8415920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415923">{</span><span class="string" id="8415924">&#34;a/&#34;</span><span class="op" id="8415928">,</span>&nbsp;<span class="string" id="8415930">&#34;a/&#34;</span><span class="op" id="8415934">,</span>&nbsp;<span class="string" id="8415936">&#34;&#34;</span><span class="op" id="8415938">}</span><span class="op" id="8415939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415942">{</span><span class="string" id="8415943">&#34;a&#34;</span><span class="op" id="8415946">,</span>&nbsp;<span class="string" id="8415948">&#34;&#34;</span><span class="op" id="8415950">,</span>&nbsp;<span class="string" id="8415952">&#34;a&#34;</span><span class="op" id="8415955">}</span><span class="op" id="8415956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415959">{</span><span class="string" id="8415960">&#34;/&#34;</span><span class="op" id="8415963">,</span>&nbsp;<span class="string" id="8415965">&#34;/&#34;</span><span class="op" id="8415968">,</span>&nbsp;<span class="string" id="8415970">&#34;&#34;</span><span class="op" id="8415972">}</span><span class="op" id="8415973">,</span><br>
<span class="lineno"></span><span class="op" id="8415975">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="8415978">func</span>&nbsp;<span class="ident" id="8415983">TestSplit</span><span class="op" id="8415992">(</span><span class="ident" id="8415993">t</span>&nbsp;<span class="op" id="8415995">*</span><span class="ident" id="8415996">testing</span><span class="op" id="8416003">.</span><span class="ident" id="8416004">T</span><span class="op" id="8416005">)</span>&nbsp;<span class="op" id="8416007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8416010">for</span>&nbsp;<span class="ident" id="8416014">_</span><span class="op" id="8416015">,</span>&nbsp;<span class="ident" id="8416017">test</span>&nbsp;<span class="op" id="8416022">:=</span>&nbsp;<span class="keyword" id="8416025">range</span>&nbsp;<span class="ident" id="8416031">splittests</span>&nbsp;<span class="op" id="8416042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8416046">if</span>&nbsp;<span class="ident" id="8416049">d</span><span class="op" id="8416050">,</span>&nbsp;<span class="ident" id="8416052">f</span>&nbsp;<span class="op" id="8416054">:=</span>&nbsp;<span class="ident" id="8416057">Split</span><span class="op" id="8416062">(</span><span class="ident" id="8416063">test</span><span class="op" id="8416067">.</span><span class="ident" id="8416068">path</span><span class="op" id="8416072">)</span><span class="op" id="8416073">;</span>&nbsp;<span class="ident" id="8416075">d</span>&nbsp;<span class="op" id="8416077">!=</span>&nbsp;<span class="ident" id="8416080">test</span><span class="op" id="8416084">.</span><span class="ident" id="8416085">dir</span>&nbsp;<span class="op" id="8416089">||</span>&nbsp;<span class="ident" id="8416092">f</span>&nbsp;<span class="op" id="8416094">!=</span>&nbsp;<span class="ident" id="8416097">test</span><span class="op" id="8416101">.</span><span class="ident" id="8416102">file</span>&nbsp;<span class="op" id="8416107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8416112">t</span><span class="op" id="8416113">.</span><span class="ident" id="8416114">Errorf</span><span class="op" id="8416120">(</span><span class="string" id="8416121">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="8416154">,</span>&nbsp;<span class="ident" id="8416156">test</span><span class="op" id="8416160">.</span><span class="ident" id="8416161">path</span><span class="op" id="8416165">,</span>&nbsp;<span class="ident" id="8416167">d</span><span class="op" id="8416168">,</span>&nbsp;<span class="ident" id="8416170">f</span><span class="op" id="8416171">,</span>&nbsp;<span class="ident" id="8416173">test</span><span class="op" id="8416177">.</span><span class="ident" id="8416178">dir</span><span class="op" id="8416181">,</span>&nbsp;<span class="ident" id="8416183">test</span><span class="op" id="8416187">.</span><span class="ident" id="8416188">file</span><span class="op" id="8416192">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416199">}</span><br>
<span class="lineno"></span><span class="op" id="8416201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8416204">type</span>&nbsp;<span class="ident" id="8416209">JoinTest</span>&nbsp;<span class="keyword" id="8416218">struct</span>&nbsp;<span class="op" id="8416225">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8416228">elem</span>&nbsp;<span class="op" id="8416233">[</span><span class="op" id="8416234">]</span><span class="builtintype" id="8416235">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8416243">path</span>&nbsp;<span class="builtintype" id="8416248">string</span><br>
<span class="lineno"></span><span class="op" id="8416255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8416258">var</span>&nbsp;<span class="ident" id="8416262">jointests</span>&nbsp;<span class="op" id="8416272">=</span>&nbsp;<span class="op" id="8416274">[</span><span class="op" id="8416275">]</span><span class="ident" id="8416276">JoinTest</span><span class="op" id="8416284">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8416287">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416307">{</span><span class="op" id="8416308">[</span><span class="op" id="8416309">]</span><span class="builtintype" id="8416310">string</span><span class="op" id="8416316">{</span><span class="op" id="8416317">}</span><span class="op" id="8416318">,</span>&nbsp;<span class="string" id="8416320">&#34;&#34;</span><span class="op" id="8416322">}</span><span class="op" id="8416323">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8416327">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416345">{</span><span class="op" id="8416346">[</span><span class="op" id="8416347">]</span><span class="builtintype" id="8416348">string</span><span class="op" id="8416354">{</span><span class="string" id="8416355">&#34;&#34;</span><span class="op" id="8416357">}</span><span class="op" id="8416358">,</span>&nbsp;<span class="string" id="8416360">&#34;&#34;</span><span class="op" id="8416362">}</span><span class="op" id="8416363">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416366">{</span><span class="op" id="8416367">[</span><span class="op" id="8416368">]</span><span class="builtintype" id="8416369">string</span><span class="op" id="8416375">{</span><span class="string" id="8416376">&#34;a&#34;</span><span class="op" id="8416379">}</span><span class="op" id="8416380">,</span>&nbsp;<span class="string" id="8416382">&#34;a&#34;</span><span class="op" id="8416385">}</span><span class="op" id="8416386">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8416390">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416409">{</span><span class="op" id="8416410">[</span><span class="op" id="8416411">]</span><span class="builtintype" id="8416412">string</span><span class="op" id="8416418">{</span><span class="string" id="8416419">&#34;a&#34;</span><span class="op" id="8416422">,</span>&nbsp;<span class="string" id="8416424">&#34;b&#34;</span><span class="op" id="8416427">}</span><span class="op" id="8416428">,</span>&nbsp;<span class="string" id="8416430">&#34;a/b&#34;</span><span class="op" id="8416435">}</span><span class="op" id="8416436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416439">{</span><span class="op" id="8416440">[</span><span class="op" id="8416441">]</span><span class="builtintype" id="8416442">string</span><span class="op" id="8416448">{</span><span class="string" id="8416449">&#34;a&#34;</span><span class="op" id="8416452">,</span>&nbsp;<span class="string" id="8416454">&#34;&#34;</span><span class="op" id="8416456">}</span><span class="op" id="8416457">,</span>&nbsp;<span class="string" id="8416459">&#34;a&#34;</span><span class="op" id="8416462">}</span><span class="op" id="8416463">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416466">{</span><span class="op" id="8416467">[</span><span class="op" id="8416468">]</span><span class="builtintype" id="8416469">string</span><span class="op" id="8416475">{</span><span class="string" id="8416476">&#34;&#34;</span><span class="op" id="8416478">,</span>&nbsp;<span class="string" id="8416480">&#34;b&#34;</span><span class="op" id="8416483">}</span><span class="op" id="8416484">,</span>&nbsp;<span class="string" id="8416486">&#34;b&#34;</span><span class="op" id="8416489">}</span><span class="op" id="8416490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416493">{</span><span class="op" id="8416494">[</span><span class="op" id="8416495">]</span><span class="builtintype" id="8416496">string</span><span class="op" id="8416502">{</span><span class="string" id="8416503">&#34;/&#34;</span><span class="op" id="8416506">,</span>&nbsp;<span class="string" id="8416508">&#34;a&#34;</span><span class="op" id="8416511">}</span><span class="op" id="8416512">,</span>&nbsp;<span class="string" id="8416514">&#34;/a&#34;</span><span class="op" id="8416518">}</span><span class="op" id="8416519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416522">{</span><span class="op" id="8416523">[</span><span class="op" id="8416524">]</span><span class="builtintype" id="8416525">string</span><span class="op" id="8416531">{</span><span class="string" id="8416532">&#34;/&#34;</span><span class="op" id="8416535">,</span>&nbsp;<span class="string" id="8416537">&#34;&#34;</span><span class="op" id="8416539">}</span><span class="op" id="8416540">,</span>&nbsp;<span class="string" id="8416542">&#34;/&#34;</span><span class="op" id="8416545">}</span><span class="op" id="8416546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416549">{</span><span class="op" id="8416550">[</span><span class="op" id="8416551">]</span><span class="builtintype" id="8416552">string</span><span class="op" id="8416558">{</span><span class="string" id="8416559">&#34;a/&#34;</span><span class="op" id="8416563">,</span>&nbsp;<span class="string" id="8416565">&#34;b&#34;</span><span class="op" id="8416568">}</span><span class="op" id="8416569">,</span>&nbsp;<span class="string" id="8416571">&#34;a/b&#34;</span><span class="op" id="8416576">}</span><span class="op" id="8416577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416580">{</span><span class="op" id="8416581">[</span><span class="op" id="8416582">]</span><span class="builtintype" id="8416583">string</span><span class="op" id="8416589">{</span><span class="string" id="8416590">&#34;a/&#34;</span><span class="op" id="8416594">,</span>&nbsp;<span class="string" id="8416596">&#34;&#34;</span><span class="op" id="8416598">}</span><span class="op" id="8416599">,</span>&nbsp;<span class="string" id="8416601">&#34;a&#34;</span><span class="op" id="8416604">}</span><span class="op" id="8416605">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416608">{</span><span class="op" id="8416609">[</span><span class="op" id="8416610">]</span><span class="builtintype" id="8416611">string</span><span class="op" id="8416617">{</span><span class="string" id="8416618">&#34;&#34;</span><span class="op" id="8416620">,</span>&nbsp;<span class="string" id="8416622">&#34;&#34;</span><span class="op" id="8416624">}</span><span class="op" id="8416625">,</span>&nbsp;<span class="string" id="8416627">&#34;&#34;</span><span class="op" id="8416629">}</span><span class="op" id="8416630">,</span><br>
<span class="lineno"></span><span class="op" id="8416632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8416635">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="8416683">func</span>&nbsp;<span class="ident" id="8416688">join</span><span class="op" id="8416692">(</span><span class="ident" id="8416693">elem</span>&nbsp;<span class="op" id="8416698">[</span><span class="op" id="8416699">]</span><span class="builtintype" id="8416700">string</span><span class="op" id="8416706">,</span>&nbsp;<span class="ident" id="8416708">args</span>&nbsp;<span class="op" id="8416713">...</span><span class="builtintype" id="8416716">string</span><span class="op" id="8416722">)</span>&nbsp;<span class="builtintype" id="8416724">string</span>&nbsp;<span class="op" id="8416731">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8416734">args</span>&nbsp;<span class="op" id="8416739">=</span>&nbsp;<span class="ident" id="8416741">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8416747">return</span>&nbsp;<span class="ident" id="8416754">Join</span><span class="op" id="8416758">(</span><span class="ident" id="8416759">args</span><span class="op" id="8416763">...</span><span class="op" id="8416766">)</span><br>
<span class="lineno"></span><span class="op" id="8416768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8416771">func</span>&nbsp;<span class="ident" id="8416776">TestJoin</span><span class="op" id="8416784">(</span><span class="ident" id="8416785">t</span>&nbsp;<span class="op" id="8416787">*</span><span class="ident" id="8416788">testing</span><span class="op" id="8416795">.</span><span class="ident" id="8416796">T</span><span class="op" id="8416797">)</span>&nbsp;<span class="op" id="8416799">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8416802">for</span>&nbsp;<span class="ident" id="8416806">_</span><span class="op" id="8416807">,</span>&nbsp;<span class="ident" id="8416809">test</span>&nbsp;<span class="op" id="8416814">:=</span>&nbsp;<span class="keyword" id="8416817">range</span>&nbsp;<span class="ident" id="8416823">jointests</span>&nbsp;<span class="op" id="8416833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8416837">if</span>&nbsp;<span class="ident" id="8416840">p</span>&nbsp;<span class="op" id="8416842">:=</span>&nbsp;<span class="ident" id="8416845">join</span><span class="op" id="8416849">(</span><span class="ident" id="8416850">test</span><span class="op" id="8416854">.</span><span class="ident" id="8416855">elem</span><span class="op" id="8416859">)</span><span class="op" id="8416860">;</span>&nbsp;<span class="ident" id="8416862">p</span>&nbsp;<span class="op" id="8416864">!=</span>&nbsp;<span class="ident" id="8416867">test</span><span class="op" id="8416871">.</span><span class="ident" id="8416872">path</span>&nbsp;<span class="op" id="8416877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8416882">t</span><span class="op" id="8416883">.</span><span class="ident" id="8416884">Errorf</span><span class="op" id="8416890">(</span><span class="string" id="8416891">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8416915">,</span>&nbsp;<span class="ident" id="8416917">test</span><span class="op" id="8416921">.</span><span class="ident" id="8416922">elem</span><span class="op" id="8416926">,</span>&nbsp;<span class="ident" id="8416928">p</span><span class="op" id="8416929">,</span>&nbsp;<span class="ident" id="8416931">test</span><span class="op" id="8416935">.</span><span class="ident" id="8416936">path</span><span class="op" id="8416940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416947">}</span><br>
<span class="lineno">150</span><span class="op" id="8416949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8416952">type</span>&nbsp;<span class="ident" id="8416957">ExtTest</span>&nbsp;<span class="keyword" id="8416965">struct</span>&nbsp;<span class="op" id="8416972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8416975">path</span><span class="op" id="8416979">,</span>&nbsp;<span class="ident" id="8416981">ext</span>&nbsp;<span class="builtintype" id="8416985">string</span><br>
<span class="lineno"></span><span class="op" id="8416992">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="8416995">var</span>&nbsp;<span class="ident" id="8416999">exttests</span>&nbsp;<span class="op" id="8417008">=</span>&nbsp;<span class="op" id="8417010">[</span><span class="op" id="8417011">]</span><span class="ident" id="8417012">ExtTest</span><span class="op" id="8417019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417022">{</span><span class="string" id="8417023">&#34;path.go&#34;</span><span class="op" id="8417032">,</span>&nbsp;<span class="string" id="8417034">&#34;.go&#34;</span><span class="op" id="8417039">}</span><span class="op" id="8417040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417043">{</span><span class="string" id="8417044">&#34;path.pb.go&#34;</span><span class="op" id="8417056">,</span>&nbsp;<span class="string" id="8417058">&#34;.go&#34;</span><span class="op" id="8417063">}</span><span class="op" id="8417064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417067">{</span><span class="string" id="8417068">&#34;a.dir/b&#34;</span><span class="op" id="8417077">,</span>&nbsp;<span class="string" id="8417079">&#34;&#34;</span><span class="op" id="8417081">}</span><span class="op" id="8417082">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417085">{</span><span class="string" id="8417086">&#34;a.dir/b.go&#34;</span><span class="op" id="8417098">,</span>&nbsp;<span class="string" id="8417100">&#34;.go&#34;</span><span class="op" id="8417105">}</span><span class="op" id="8417106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417109">{</span><span class="string" id="8417110">&#34;a.dir/&#34;</span><span class="op" id="8417118">,</span>&nbsp;<span class="string" id="8417120">&#34;&#34;</span><span class="op" id="8417122">}</span><span class="op" id="8417123">,</span><br>
<span class="lineno"></span><span class="op" id="8417125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8417128">func</span>&nbsp;<span class="ident" id="8417133">TestExt</span><span class="op" id="8417140">(</span><span class="ident" id="8417141">t</span>&nbsp;<span class="op" id="8417143">*</span><span class="ident" id="8417144">testing</span><span class="op" id="8417151">.</span><span class="ident" id="8417152">T</span><span class="op" id="8417153">)</span>&nbsp;<span class="op" id="8417155">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8417158">for</span>&nbsp;<span class="ident" id="8417162">_</span><span class="op" id="8417163">,</span>&nbsp;<span class="ident" id="8417165">test</span>&nbsp;<span class="op" id="8417170">:=</span>&nbsp;<span class="keyword" id="8417173">range</span>&nbsp;<span class="ident" id="8417179">exttests</span>&nbsp;<span class="op" id="8417188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8417192">if</span>&nbsp;<span class="ident" id="8417195">x</span>&nbsp;<span class="op" id="8417197">:=</span>&nbsp;<span class="ident" id="8417200">Ext</span><span class="op" id="8417203">(</span><span class="ident" id="8417204">test</span><span class="op" id="8417208">.</span><span class="ident" id="8417209">path</span><span class="op" id="8417213">)</span><span class="op" id="8417214">;</span>&nbsp;<span class="ident" id="8417216">x</span>&nbsp;<span class="op" id="8417218">!=</span>&nbsp;<span class="ident" id="8417221">test</span><span class="op" id="8417225">.</span><span class="ident" id="8417226">ext</span>&nbsp;<span class="op" id="8417230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8417235">t</span><span class="op" id="8417236">.</span><span class="ident" id="8417237">Errorf</span><span class="op" id="8417243">(</span><span class="string" id="8417244">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8417267">,</span>&nbsp;<span class="ident" id="8417269">test</span><span class="op" id="8417273">.</span><span class="ident" id="8417274">path</span><span class="op" id="8417278">,</span>&nbsp;<span class="ident" id="8417280">x</span><span class="op" id="8417281">,</span>&nbsp;<span class="ident" id="8417283">test</span><span class="op" id="8417287">.</span><span class="ident" id="8417288">ext</span><span class="op" id="8417291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417298">}</span><br>
<span class="lineno">170</span><span class="op" id="8417300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8417303">var</span>&nbsp;<span class="ident" id="8417307">basetests</span>&nbsp;<span class="op" id="8417317">=</span>&nbsp;<span class="op" id="8417319">[</span><span class="op" id="8417320">]</span><span class="ident" id="8417321">PathTest</span><span class="op" id="8417329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8417332">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417350">{</span><span class="string" id="8417351">&#34;&#34;</span><span class="op" id="8417353">,</span>&nbsp;<span class="string" id="8417355">&#34;.&#34;</span><span class="op" id="8417358">}</span><span class="op" id="8417359">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417362">{</span><span class="string" id="8417363">&#34;.&#34;</span><span class="op" id="8417366">,</span>&nbsp;<span class="string" id="8417368">&#34;.&#34;</span><span class="op" id="8417371">}</span><span class="op" id="8417372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417375">{</span><span class="string" id="8417376">&#34;/.&#34;</span><span class="op" id="8417380">,</span>&nbsp;<span class="string" id="8417382">&#34;.&#34;</span><span class="op" id="8417385">}</span><span class="op" id="8417386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417389">{</span><span class="string" id="8417390">&#34;/&#34;</span><span class="op" id="8417393">,</span>&nbsp;<span class="string" id="8417395">&#34;/&#34;</span><span class="op" id="8417398">}</span><span class="op" id="8417399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417402">{</span><span class="string" id="8417403">&#34;////&#34;</span><span class="op" id="8417409">,</span>&nbsp;<span class="string" id="8417411">&#34;/&#34;</span><span class="op" id="8417414">}</span><span class="op" id="8417415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417418">{</span><span class="string" id="8417419">&#34;x/&#34;</span><span class="op" id="8417423">,</span>&nbsp;<span class="string" id="8417425">&#34;x&#34;</span><span class="op" id="8417428">}</span><span class="op" id="8417429">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417432">{</span><span class="string" id="8417433">&#34;abc&#34;</span><span class="op" id="8417438">,</span>&nbsp;<span class="string" id="8417440">&#34;abc&#34;</span><span class="op" id="8417445">}</span><span class="op" id="8417446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417449">{</span><span class="string" id="8417450">&#34;abc/def&#34;</span><span class="op" id="8417459">,</span>&nbsp;<span class="string" id="8417461">&#34;def&#34;</span><span class="op" id="8417466">}</span><span class="op" id="8417467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417470">{</span><span class="string" id="8417471">&#34;a/b/.x&#34;</span><span class="op" id="8417479">,</span>&nbsp;<span class="string" id="8417481">&#34;.x&#34;</span><span class="op" id="8417485">}</span><span class="op" id="8417486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417489">{</span><span class="string" id="8417490">&#34;a/b/c.&#34;</span><span class="op" id="8417498">,</span>&nbsp;<span class="string" id="8417500">&#34;c.&#34;</span><span class="op" id="8417504">}</span><span class="op" id="8417505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417508">{</span><span class="string" id="8417509">&#34;a/b/c.x&#34;</span><span class="op" id="8417518">,</span>&nbsp;<span class="string" id="8417520">&#34;c.x&#34;</span><span class="op" id="8417525">}</span><span class="op" id="8417526">,</span><br>
<span class="lineno">185</span><span class="op" id="8417528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8417531">func</span>&nbsp;<span class="ident" id="8417536">TestBase</span><span class="op" id="8417544">(</span><span class="ident" id="8417545">t</span>&nbsp;<span class="op" id="8417547">*</span><span class="ident" id="8417548">testing</span><span class="op" id="8417555">.</span><span class="ident" id="8417556">T</span><span class="op" id="8417557">)</span>&nbsp;<span class="op" id="8417559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8417562">for</span>&nbsp;<span class="ident" id="8417566">_</span><span class="op" id="8417567">,</span>&nbsp;<span class="ident" id="8417569">test</span>&nbsp;<span class="op" id="8417574">:=</span>&nbsp;<span class="keyword" id="8417577">range</span>&nbsp;<span class="ident" id="8417583">basetests</span>&nbsp;<span class="op" id="8417593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8417597">if</span>&nbsp;<span class="ident" id="8417600">s</span>&nbsp;<span class="op" id="8417602">:=</span>&nbsp;<span class="ident" id="8417605">Base</span><span class="op" id="8417609">(</span><span class="ident" id="8417610">test</span><span class="op" id="8417614">.</span><span class="ident" id="8417615">path</span><span class="op" id="8417619">)</span><span class="op" id="8417620">;</span>&nbsp;<span class="ident" id="8417622">s</span>&nbsp;<span class="op" id="8417624">!=</span>&nbsp;<span class="ident" id="8417627">test</span><span class="op" id="8417631">.</span><span class="ident" id="8417632">result</span>&nbsp;<span class="op" id="8417639">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8417644">t</span><span class="op" id="8417645">.</span><span class="ident" id="8417646">Errorf</span><span class="op" id="8417652">(</span><span class="string" id="8417653">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8417677">,</span>&nbsp;<span class="ident" id="8417679">test</span><span class="op" id="8417683">.</span><span class="ident" id="8417684">path</span><span class="op" id="8417688">,</span>&nbsp;<span class="ident" id="8417690">s</span><span class="op" id="8417691">,</span>&nbsp;<span class="ident" id="8417693">test</span><span class="op" id="8417697">.</span><span class="ident" id="8417698">result</span><span class="op" id="8417704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417711">}</span><br>
<span class="lineno"></span><span class="op" id="8417713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="8417716">var</span>&nbsp;<span class="ident" id="8417720">dirtests</span>&nbsp;<span class="op" id="8417729">=</span>&nbsp;<span class="op" id="8417731">[</span><span class="op" id="8417732">]</span><span class="ident" id="8417733">PathTest</span><span class="op" id="8417741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417744">{</span><span class="string" id="8417745">&#34;&#34;</span><span class="op" id="8417747">,</span>&nbsp;<span class="string" id="8417749">&#34;.&#34;</span><span class="op" id="8417752">}</span><span class="op" id="8417753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417756">{</span><span class="string" id="8417757">&#34;.&#34;</span><span class="op" id="8417760">,</span>&nbsp;<span class="string" id="8417762">&#34;.&#34;</span><span class="op" id="8417765">}</span><span class="op" id="8417766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417769">{</span><span class="string" id="8417770">&#34;/.&#34;</span><span class="op" id="8417774">,</span>&nbsp;<span class="string" id="8417776">&#34;/&#34;</span><span class="op" id="8417779">}</span><span class="op" id="8417780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417783">{</span><span class="string" id="8417784">&#34;/&#34;</span><span class="op" id="8417787">,</span>&nbsp;<span class="string" id="8417789">&#34;/&#34;</span><span class="op" id="8417792">}</span><span class="op" id="8417793">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417796">{</span><span class="string" id="8417797">&#34;////&#34;</span><span class="op" id="8417803">,</span>&nbsp;<span class="string" id="8417805">&#34;/&#34;</span><span class="op" id="8417808">}</span><span class="op" id="8417809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417812">{</span><span class="string" id="8417813">&#34;/foo&#34;</span><span class="op" id="8417819">,</span>&nbsp;<span class="string" id="8417821">&#34;/&#34;</span><span class="op" id="8417824">}</span><span class="op" id="8417825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417828">{</span><span class="string" id="8417829">&#34;x/&#34;</span><span class="op" id="8417833">,</span>&nbsp;<span class="string" id="8417835">&#34;x&#34;</span><span class="op" id="8417838">}</span><span class="op" id="8417839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417842">{</span><span class="string" id="8417843">&#34;abc&#34;</span><span class="op" id="8417848">,</span>&nbsp;<span class="string" id="8417850">&#34;.&#34;</span><span class="op" id="8417853">}</span><span class="op" id="8417854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417857">{</span><span class="string" id="8417858">&#34;abc/def&#34;</span><span class="op" id="8417867">,</span>&nbsp;<span class="string" id="8417869">&#34;abc&#34;</span><span class="op" id="8417874">}</span><span class="op" id="8417875">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417878">{</span><span class="string" id="8417879">&#34;abc////def&#34;</span><span class="op" id="8417891">,</span>&nbsp;<span class="string" id="8417893">&#34;abc&#34;</span><span class="op" id="8417898">}</span><span class="op" id="8417899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417902">{</span><span class="string" id="8417903">&#34;a/b/.x&#34;</span><span class="op" id="8417911">,</span>&nbsp;<span class="string" id="8417913">&#34;a/b&#34;</span><span class="op" id="8417918">}</span><span class="op" id="8417919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417922">{</span><span class="string" id="8417923">&#34;a/b/c.&#34;</span><span class="op" id="8417931">,</span>&nbsp;<span class="string" id="8417933">&#34;a/b&#34;</span><span class="op" id="8417938">}</span><span class="op" id="8417939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8417942">{</span><span class="string" id="8417943">&#34;a/b/c.x&#34;</span><span class="op" id="8417952">,</span>&nbsp;<span class="string" id="8417954">&#34;a/b&#34;</span><span class="op" id="8417959">}</span><span class="op" id="8417960">,</span><br>
<span class="lineno"></span><span class="op" id="8417962">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="8417965">func</span>&nbsp;<span class="ident" id="8417970">TestDir</span><span class="op" id="8417977">(</span><span class="ident" id="8417978">t</span>&nbsp;<span class="op" id="8417980">*</span><span class="ident" id="8417981">testing</span><span class="op" id="8417988">.</span><span class="ident" id="8417989">T</span><span class="op" id="8417990">)</span>&nbsp;<span class="op" id="8417992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8417995">for</span>&nbsp;<span class="ident" id="8417999">_</span><span class="op" id="8418000">,</span>&nbsp;<span class="ident" id="8418002">test</span>&nbsp;<span class="op" id="8418007">:=</span>&nbsp;<span class="keyword" id="8418010">range</span>&nbsp;<span class="ident" id="8418016">dirtests</span>&nbsp;<span class="op" id="8418025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8418029">if</span>&nbsp;<span class="ident" id="8418032">s</span>&nbsp;<span class="op" id="8418034">:=</span>&nbsp;<span class="ident" id="8418037">Dir</span><span class="op" id="8418040">(</span><span class="ident" id="8418041">test</span><span class="op" id="8418045">.</span><span class="ident" id="8418046">path</span><span class="op" id="8418050">)</span><span class="op" id="8418051">;</span>&nbsp;<span class="ident" id="8418053">s</span>&nbsp;<span class="op" id="8418055">!=</span>&nbsp;<span class="ident" id="8418058">test</span><span class="op" id="8418062">.</span><span class="ident" id="8418063">result</span>&nbsp;<span class="op" id="8418070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8418075">t</span><span class="op" id="8418076">.</span><span class="ident" id="8418077">Errorf</span><span class="op" id="8418083">(</span><span class="string" id="8418084">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8418107">,</span>&nbsp;<span class="ident" id="8418109">test</span><span class="op" id="8418113">.</span><span class="ident" id="8418114">path</span><span class="op" id="8418118">,</span>&nbsp;<span class="ident" id="8418120">s</span><span class="op" id="8418121">,</span>&nbsp;<span class="ident" id="8418123">test</span><span class="op" id="8418127">.</span><span class="ident" id="8418128">result</span><span class="op" id="8418134">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418141">}</span><br>
<span class="lineno"></span><span class="op" id="8418143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8418146">type</span>&nbsp;<span class="ident" id="8418151">IsAbsTest</span>&nbsp;<span class="keyword" id="8418161">struct</span>&nbsp;<span class="op" id="8418168">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8418171">path</span>&nbsp;&nbsp;<span class="builtintype" id="8418177">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8418185">isAbs</span>&nbsp;<span class="builtintype" id="8418191">bool</span><br>
<span class="lineno"></span><span class="op" id="8418196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8418199">var</span>&nbsp;<span class="ident" id="8418203">isAbsTests</span>&nbsp;<span class="op" id="8418214">=</span>&nbsp;<span class="op" id="8418216">[</span><span class="op" id="8418217">]</span><span class="ident" id="8418218">IsAbsTest</span><span class="op" id="8418227">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418230">{</span><span class="string" id="8418231">&#34;&#34;</span><span class="op" id="8418233">,</span>&nbsp;<span class="builtintype" id="8418235">false</span><span class="op" id="8418240">}</span><span class="op" id="8418241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418244">{</span><span class="string" id="8418245">&#34;/&#34;</span><span class="op" id="8418248">,</span>&nbsp;<span class="builtintype" id="8418250">true</span><span class="op" id="8418254">}</span><span class="op" id="8418255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418258">{</span><span class="string" id="8418259">&#34;/usr/bin/gcc&#34;</span><span class="op" id="8418273">,</span>&nbsp;<span class="builtintype" id="8418275">true</span><span class="op" id="8418279">}</span><span class="op" id="8418280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418283">{</span><span class="string" id="8418284">&#34;..&#34;</span><span class="op" id="8418288">,</span>&nbsp;<span class="builtintype" id="8418290">false</span><span class="op" id="8418295">}</span><span class="op" id="8418296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418299">{</span><span class="string" id="8418300">&#34;/a/../bb&#34;</span><span class="op" id="8418310">,</span>&nbsp;<span class="builtintype" id="8418312">true</span><span class="op" id="8418316">}</span><span class="op" id="8418317">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418320">{</span><span class="string" id="8418321">&#34;.&#34;</span><span class="op" id="8418324">,</span>&nbsp;<span class="builtintype" id="8418326">false</span><span class="op" id="8418331">}</span><span class="op" id="8418332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418335">{</span><span class="string" id="8418336">&#34;./&#34;</span><span class="op" id="8418340">,</span>&nbsp;<span class="builtintype" id="8418342">false</span><span class="op" id="8418347">}</span><span class="op" id="8418348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418351">{</span><span class="string" id="8418352">&#34;lala&#34;</span><span class="op" id="8418358">,</span>&nbsp;<span class="builtintype" id="8418360">false</span><span class="op" id="8418365">}</span><span class="op" id="8418366">,</span><br>
<span class="lineno"></span><span class="op" id="8418368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8418371">func</span>&nbsp;<span class="ident" id="8418376">TestIsAbs</span><span class="op" id="8418385">(</span><span class="ident" id="8418386">t</span>&nbsp;<span class="op" id="8418388">*</span><span class="ident" id="8418389">testing</span><span class="op" id="8418396">.</span><span class="ident" id="8418397">T</span><span class="op" id="8418398">)</span>&nbsp;<span class="op" id="8418400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8418403">for</span>&nbsp;<span class="ident" id="8418407">_</span><span class="op" id="8418408">,</span>&nbsp;<span class="ident" id="8418410">test</span>&nbsp;<span class="op" id="8418415">:=</span>&nbsp;<span class="keyword" id="8418418">range</span>&nbsp;<span class="ident" id="8418424">isAbsTests</span>&nbsp;<span class="op" id="8418435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8418439">if</span>&nbsp;<span class="ident" id="8418442">r</span>&nbsp;<span class="op" id="8418444">:=</span>&nbsp;<span class="ident" id="8418447">IsAbs</span><span class="op" id="8418452">(</span><span class="ident" id="8418453">test</span><span class="op" id="8418457">.</span><span class="ident" id="8418458">path</span><span class="op" id="8418462">)</span><span class="op" id="8418463">;</span>&nbsp;<span class="ident" id="8418465">r</span>&nbsp;<span class="op" id="8418467">!=</span>&nbsp;<span class="ident" id="8418470">test</span><span class="op" id="8418474">.</span><span class="ident" id="8418475">isAbs</span>&nbsp;<span class="op" id="8418481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8418486">t</span><span class="op" id="8418487">.</span><span class="ident" id="8418488">Errorf</span><span class="op" id="8418494">(</span><span class="string" id="8418495">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8418520">,</span>&nbsp;<span class="ident" id="8418522">test</span><span class="op" id="8418526">.</span><span class="ident" id="8418527">path</span><span class="op" id="8418531">,</span>&nbsp;<span class="ident" id="8418533">r</span><span class="op" id="8418534">,</span>&nbsp;<span class="ident" id="8418536">test</span><span class="op" id="8418540">.</span><span class="ident" id="8418541">isAbs</span><span class="op" id="8418546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418550">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8418553">}</span><br>
<span class="lineno"></span><span class="op" id="8418555">}</span>
</div>
</body>
</html>
