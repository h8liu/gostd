<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html" class="current">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8189000">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8189055">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8189109">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8189160">package</span>&nbsp;<span class="ident" id="8189168">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8189174">import</span>&nbsp;<span class="op" id="8189181">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8189184">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8189197">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8189203">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8189220">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8189230">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8189233">func</span>&nbsp;<span class="ident" id="8189238">checker</span><span class="op" id="8189245">(</span><span class="ident" id="8189246">t</span>&nbsp;<span class="op" id="8189248">*</span><span class="ident" id="8189249">testing</span><span class="op" id="8189256">.</span><span class="ident" id="8189257">T</span><span class="op" id="8189258">)</span>&nbsp;<span class="keyword" id="8189260">func</span><span class="op" id="8189264">(</span><span class="builtintype" id="8189265">string</span><span class="op" id="8189271">,</span>&nbsp;<span class="builtintype" id="8189273">error</span><span class="op" id="8189278">)</span>&nbsp;<span class="op" id="8189280">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8189283">return</span>&nbsp;<span class="keyword" id="8189290">func</span><span class="op" id="8189294">(</span><span class="ident" id="8189295">call</span>&nbsp;<span class="builtintype" id="8189300">string</span><span class="op" id="8189306">,</span>&nbsp;<span class="ident" id="8189308">err</span>&nbsp;<span class="builtintype" id="8189312">error</span><span class="op" id="8189317">)</span>&nbsp;<span class="op" id="8189319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8189323">if</span>&nbsp;<span class="ident" id="8189326">err</span>&nbsp;<span class="op" id="8189330">==</span>&nbsp;<span class="ident" id="8189333">nil</span>&nbsp;<span class="op" id="8189337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8189342">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8189351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189355">t</span><span class="op" id="8189356">.</span><span class="ident" id="8189357">Fatalf</span><span class="op" id="8189363">(</span><span class="string" id="8189364">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="8189372">,</span>&nbsp;<span class="ident" id="8189374">call</span><span class="op" id="8189378">,</span>&nbsp;<span class="ident" id="8189380">err</span><span class="op" id="8189383">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8189386">}</span><br>
<span class="lineno"></span><span class="op" id="8189388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8189391">func</span>&nbsp;<span class="ident" id="8189396">TestFileTransport</span><span class="op" id="8189413">(</span><span class="ident" id="8189414">t</span>&nbsp;<span class="op" id="8189416">*</span><span class="ident" id="8189417">testing</span><span class="op" id="8189424">.</span><span class="ident" id="8189425">T</span><span class="op" id="8189426">)</span>&nbsp;<span class="op" id="8189428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189431">check</span>&nbsp;<span class="op" id="8189437">:=</span>&nbsp;<span class="ident" id="8189440">checker</span><span class="op" id="8189447">(</span><span class="ident" id="8189448">t</span><span class="op" id="8189449">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189453">dname</span><span class="op" id="8189458">,</span>&nbsp;<span class="ident" id="8189460">err</span>&nbsp;<span class="op" id="8189464">:=</span>&nbsp;<span class="ident" id="8189467">ioutil</span><span class="op" id="8189473">.</span><span class="ident" id="8189474">TempDir</span><span class="op" id="8189481">(</span><span class="string" id="8189482">&#34;&#34;</span><span class="op" id="8189484">,</span>&nbsp;<span class="string" id="8189486">&#34;&#34;</span><span class="op" id="8189488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189491">check</span><span class="op" id="8189496">(</span><span class="string" id="8189497">&#34;TempDir&#34;</span><span class="op" id="8189506">,</span>&nbsp;<span class="ident" id="8189508">err</span><span class="op" id="8189511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189514">fname</span>&nbsp;<span class="op" id="8189520">:=</span>&nbsp;<span class="ident" id="8189523">filepath</span><span class="op" id="8189531">.</span><span class="ident" id="8189532">Join</span><span class="op" id="8189536">(</span><span class="ident" id="8189537">dname</span><span class="op" id="8189542">,</span>&nbsp;<span class="string" id="8189544">&#34;foo.txt&#34;</span><span class="op" id="8189553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189556">err</span>&nbsp;<span class="op" id="8189560">=</span>&nbsp;<span class="ident" id="8189562">ioutil</span><span class="op" id="8189568">.</span><span class="ident" id="8189569">WriteFile</span><span class="op" id="8189578">(</span><span class="ident" id="8189579">fname</span><span class="op" id="8189584">,</span>&nbsp;<span class="op" id="8189586">[</span><span class="op" id="8189587">]</span><span class="builtintype" id="8189588">byte</span><span class="op" id="8189592">(</span><span class="string" id="8189593">&#34;Bar&#34;</span><span class="op" id="8189598">)</span><span class="op" id="8189599">,</span>&nbsp;<span class="num" id="8189601">0644</span><span class="op" id="8189605">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189608">check</span><span class="op" id="8189613">(</span><span class="string" id="8189614">&#34;WriteFile&#34;</span><span class="op" id="8189625">,</span>&nbsp;<span class="ident" id="8189627">err</span><span class="op" id="8189630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8189633">defer</span>&nbsp;<span class="ident" id="8189639">os</span><span class="op" id="8189641">.</span><span class="ident" id="8189642">Remove</span><span class="op" id="8189648">(</span><span class="ident" id="8189649">dname</span><span class="op" id="8189654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8189657">defer</span>&nbsp;<span class="ident" id="8189663">os</span><span class="op" id="8189665">.</span><span class="ident" id="8189666">Remove</span><span class="op" id="8189672">(</span><span class="ident" id="8189673">fname</span><span class="op" id="8189678">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189682">tr</span>&nbsp;<span class="op" id="8189685">:=</span>&nbsp;<span class="op" id="8189688">&amp;</span><span class="ident" id="8189689">Transport</span><span class="op" id="8189698">{</span><span class="op" id="8189699">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189702">tr</span><span class="op" id="8189704">.</span><span class="ident" id="8189705">RegisterProtocol</span><span class="op" id="8189721">(</span><span class="string" id="8189722">&#34;file&#34;</span><span class="op" id="8189728">,</span>&nbsp;<span class="ident" id="8189730">NewFileTransport</span><span class="op" id="8189746">(</span><span class="ident" id="8189747">Dir</span><span class="op" id="8189750">(</span><span class="ident" id="8189751">dname</span><span class="op" id="8189756">)</span><span class="op" id="8189757">)</span><span class="op" id="8189758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189761">c</span>&nbsp;<span class="op" id="8189763">:=</span>&nbsp;<span class="op" id="8189766">&amp;</span><span class="ident" id="8189767">Client</span><span class="op" id="8189773">{</span><span class="ident" id="8189774">Transport</span><span class="op" id="8189783">:</span>&nbsp;<span class="ident" id="8189785">tr</span><span class="op" id="8189787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189791">fooURLs</span>&nbsp;<span class="op" id="8189799">:=</span>&nbsp;<span class="op" id="8189802">[</span><span class="op" id="8189803">]</span><span class="builtintype" id="8189804">string</span><span class="op" id="8189810">{</span><span class="string" id="8189811">&#34;file:///foo.txt&#34;</span><span class="op" id="8189828">,</span>&nbsp;<span class="string" id="8189830">&#34;file://../foo.txt&#34;</span><span class="op" id="8189849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8189852">for</span>&nbsp;<span class="ident" id="8189856">_</span><span class="op" id="8189857">,</span>&nbsp;<span class="ident" id="8189859">urlstr</span>&nbsp;<span class="op" id="8189866">:=</span>&nbsp;<span class="keyword" id="8189869">range</span>&nbsp;<span class="ident" id="8189875">fooURLs</span>&nbsp;<span class="op" id="8189883">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189887">res</span><span class="op" id="8189890">,</span>&nbsp;<span class="ident" id="8189892">err</span>&nbsp;<span class="op" id="8189896">:=</span>&nbsp;<span class="ident" id="8189899">c</span><span class="op" id="8189900">.</span><span class="ident" id="8189901">Get</span><span class="op" id="8189904">(</span><span class="ident" id="8189905">urlstr</span><span class="op" id="8189911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189915">check</span><span class="op" id="8189920">(</span><span class="string" id="8189921">&#34;Get&nbsp;&#34;</span><span class="op" id="8189927">+</span><span class="ident" id="8189928">urlstr</span><span class="op" id="8189934">,</span>&nbsp;<span class="ident" id="8189936">err</span><span class="op" id="8189939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8189943">if</span>&nbsp;<span class="ident" id="8189946">res</span><span class="op" id="8189949">.</span><span class="ident" id="8189950">StatusCode</span>&nbsp;<span class="op" id="8189961">!=</span>&nbsp;<span class="num" id="8189964">200</span>&nbsp;<span class="op" id="8189968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8189973">t</span><span class="op" id="8189974">.</span><span class="ident" id="8189975">Errorf</span><span class="op" id="8189981">(</span><span class="string" id="8189982">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="8190017">,</span>&nbsp;<span class="ident" id="8190019">urlstr</span><span class="op" id="8190025">,</span>&nbsp;<span class="ident" id="8190027">res</span><span class="op" id="8190030">.</span><span class="ident" id="8190031">StatusCode</span><span class="op" id="8190041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8190045">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8190049">if</span>&nbsp;<span class="ident" id="8190052">res</span><span class="op" id="8190055">.</span><span class="ident" id="8190056">ContentLength</span>&nbsp;<span class="op" id="8190070">!=</span>&nbsp;<span class="op" id="8190073">-</span><span class="num" id="8190074">1</span>&nbsp;<span class="op" id="8190076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190081">t</span><span class="op" id="8190082">.</span><span class="ident" id="8190083">Errorf</span><span class="op" id="8190089">(</span><span class="string" id="8190090">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="8190127">,</span>&nbsp;<span class="ident" id="8190129">urlstr</span><span class="op" id="8190135">,</span>&nbsp;<span class="ident" id="8190137">res</span><span class="op" id="8190140">.</span><span class="ident" id="8190141">ContentLength</span><span class="op" id="8190154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8190158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8190162">if</span>&nbsp;<span class="ident" id="8190165">res</span><span class="op" id="8190168">.</span><span class="ident" id="8190169">Body</span>&nbsp;<span class="op" id="8190174">==</span>&nbsp;<span class="ident" id="8190177">nil</span>&nbsp;<span class="op" id="8190181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190186">t</span><span class="op" id="8190187">.</span><span class="ident" id="8190188">Fatalf</span><span class="op" id="8190194">(</span><span class="string" id="8190195">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="8190213">,</span>&nbsp;<span class="ident" id="8190215">urlstr</span><span class="op" id="8190221">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8190225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190229">slurp</span><span class="op" id="8190234">,</span>&nbsp;<span class="ident" id="8190236">err</span>&nbsp;<span class="op" id="8190240">:=</span>&nbsp;<span class="ident" id="8190243">ioutil</span><span class="op" id="8190249">.</span><span class="ident" id="8190250">ReadAll</span><span class="op" id="8190257">(</span><span class="ident" id="8190258">res</span><span class="op" id="8190261">.</span><span class="ident" id="8190262">Body</span><span class="op" id="8190266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190270">check</span><span class="op" id="8190275">(</span><span class="string" id="8190276">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="8190286">+</span><span class="ident" id="8190287">urlstr</span><span class="op" id="8190293">,</span>&nbsp;<span class="ident" id="8190295">err</span><span class="op" id="8190298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8190302">if</span>&nbsp;<span class="builtintype" id="8190305">string</span><span class="op" id="8190311">(</span><span class="ident" id="8190312">slurp</span><span class="op" id="8190317">)</span>&nbsp;<span class="op" id="8190319">!=</span>&nbsp;<span class="string" id="8190322">&#34;Bar&#34;</span>&nbsp;<span class="op" id="8190328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190333">t</span><span class="op" id="8190334">.</span><span class="ident" id="8190335">Errorf</span><span class="op" id="8190341">(</span><span class="string" id="8190342">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8190375">,</span>&nbsp;<span class="ident" id="8190377">urlstr</span><span class="op" id="8190383">,</span>&nbsp;<span class="builtintype" id="8190385">string</span><span class="op" id="8190391">(</span><span class="ident" id="8190392">slurp</span><span class="op" id="8190397">)</span><span class="op" id="8190398">,</span>&nbsp;<span class="string" id="8190400">&#34;Bar&#34;</span><span class="op" id="8190405">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8190409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8190412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8190416">const</span>&nbsp;<span class="ident" id="8190422">badURL</span>&nbsp;<span class="op" id="8190429">=</span>&nbsp;<span class="string" id="8190431">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190457">res</span><span class="op" id="8190460">,</span>&nbsp;<span class="ident" id="8190462">err</span>&nbsp;<span class="op" id="8190466">:=</span>&nbsp;<span class="ident" id="8190469">c</span><span class="op" id="8190470">.</span><span class="ident" id="8190471">Get</span><span class="op" id="8190474">(</span><span class="ident" id="8190475">badURL</span><span class="op" id="8190481">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190484">check</span><span class="op" id="8190489">(</span><span class="string" id="8190490">&#34;Get&nbsp;&#34;</span><span class="op" id="8190496">+</span><span class="ident" id="8190497">badURL</span><span class="op" id="8190503">,</span>&nbsp;<span class="ident" id="8190505">err</span><span class="op" id="8190508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8190511">if</span>&nbsp;<span class="ident" id="8190514">res</span><span class="op" id="8190517">.</span><span class="ident" id="8190518">StatusCode</span>&nbsp;<span class="op" id="8190529">!=</span>&nbsp;<span class="num" id="8190532">404</span>&nbsp;<span class="op" id="8190536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190540">t</span><span class="op" id="8190541">.</span><span class="ident" id="8190542">Errorf</span><span class="op" id="8190548">(</span><span class="string" id="8190549">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="8190584">,</span>&nbsp;<span class="ident" id="8190586">badURL</span><span class="op" id="8190592">,</span>&nbsp;<span class="ident" id="8190594">res</span><span class="op" id="8190597">.</span><span class="ident" id="8190598">StatusCode</span><span class="op" id="8190608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8190611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8190614">res</span><span class="op" id="8190617">.</span><span class="ident" id="8190618">Body</span><span class="op" id="8190622">.</span><span class="ident" id="8190623">Close</span><span class="op" id="8190628">(</span><span class="op" id="8190629">)</span><br>
<span class="lineno">65</span><span class="op" id="8190631">}</span>
</div>
</body>
</html>
