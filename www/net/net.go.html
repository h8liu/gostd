<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1463864">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1463919">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1463973">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1464024">/*<br>
<span class="lineno"></span>Package&nbsp;net&nbsp;provides&nbsp;a&nbsp;portable&nbsp;interface&nbsp;for&nbsp;network&nbsp;I/O,&nbsp;including<br>
<span class="lineno"></span>TCP/IP,&nbsp;UDP,&nbsp;domain&nbsp;name&nbsp;resolution,&nbsp;and&nbsp;Unix&nbsp;domain&nbsp;sockets.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Although&nbsp;the&nbsp;package&nbsp;provides&nbsp;access&nbsp;to&nbsp;low-level&nbsp;networking<br>
<span class="lineno">10</span>primitives,&nbsp;most&nbsp;clients&nbsp;will&nbsp;need&nbsp;only&nbsp;the&nbsp;basic&nbsp;interface&nbsp;provided<br>
<span class="lineno"></span>by&nbsp;the&nbsp;Dial,&nbsp;Listen,&nbsp;and&nbsp;Accept&nbsp;functions&nbsp;and&nbsp;the&nbsp;associated<br>
<span class="lineno"></span>Conn&nbsp;and&nbsp;Listener&nbsp;interfaces.&nbsp;The&nbsp;crypto/tls&nbsp;package&nbsp;uses<br>
<span class="lineno"></span>the&nbsp;same&nbsp;interfaces&nbsp;and&nbsp;similar&nbsp;Dial&nbsp;and&nbsp;Listen&nbsp;functions.<br>
<span class="lineno"></span><br>
<span class="lineno">15</span>The&nbsp;Dial&nbsp;function&nbsp;connects&nbsp;to&nbsp;a&nbsp;server:<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspconn,&nbsp;err&nbsp;:=&nbsp;net.Dial(&#34;tcp&#34;,&nbsp;&#34;google.com:80&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;handle&nbsp;error<br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfmt.Fprintf(conn,&nbsp;&#34;GET&nbsp;/&nbsp;HTTP/1.0\r\n\r\n&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspstatus,&nbsp;err&nbsp;:=&nbsp;bufio.NewReader(conn).ReadString(&#39;\n&#39;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;...<br>
<span class="lineno"></span><br>
<span class="lineno">25</span>The&nbsp;Listen&nbsp;function&nbsp;creates&nbsp;servers:<br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspln,&nbsp;err&nbsp;:=&nbsp;net.Listen(&#34;tcp&#34;,&nbsp;&#34;:8080&#34;)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;handle&nbsp;error<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfor&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspconn,&nbsp;err&nbsp;:=&nbsp;ln.Accept()<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;handle&nbsp;error<br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspgo&nbsp;handleConnection(conn)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>*/</span><br>
<span class="lineno"></span><span class="keyword" id="1464927">package</span>&nbsp;<span class="ident" id="1464935">net</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="1464940">//&nbsp;TODO(rsc):</span><br>
<span class="lineno"></span><span class="comment" id="1464954">//&nbsp;&nbsp;&nbsp;&nbspsupport&nbsp;for&nbsp;raw&nbsp;ethernet&nbsp;sockets</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1464991">import</span>&nbsp;<span class="op" id="1464998">(</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1465001">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1465011">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1465017">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1465023">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1465034">&#34;time&#34;</span><br>
<span class="lineno">50</span><span class="op" id="1465041">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1465044">//&nbsp;Addr&nbsp;represents&nbsp;a&nbsp;network&nbsp;end&nbsp;point&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="1465092">type</span>&nbsp;<span class="ident" id="1465097">Addr</span>&nbsp;<span class="keyword" id="1465102">interface</span>&nbsp;<span class="op" id="1465112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465115">Network</span><span class="op" id="1465122">(</span><span class="op" id="1465123">)</span>&nbsp;<span class="builtintype" id="1465125">string</span>&nbsp;<span class="comment" id="1465132">//&nbsp;name&nbsp;of&nbsp;the&nbsp;network</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465156">String</span><span class="op" id="1465162">(</span><span class="op" id="1465163">)</span>&nbsp;<span class="builtintype" id="1465165">string</span>&nbsp;&nbsp;<span class="comment" id="1465173">//&nbsp;string&nbsp;form&nbsp;of&nbsp;address</span><br>
<span class="lineno"></span><span class="op" id="1465199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1465202">//&nbsp;Conn&nbsp;is&nbsp;a&nbsp;generic&nbsp;stream-oriented&nbsp;network&nbsp;connection.</span><br>
<span class="lineno"></span><span class="comment" id="1465259">//</span><br>
<span class="lineno">60</span><span class="comment" id="1465262">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;Conn&nbsp;simultaneously.</span><br>
<span class="lineno"></span><span class="keyword" id="1465330">type</span>&nbsp;<span class="ident" id="1465335">Conn</span>&nbsp;<span class="keyword" id="1465340">interface</span>&nbsp;<span class="op" id="1465350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465353">//&nbsp;Read&nbsp;reads&nbsp;data&nbsp;from&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465394">//&nbsp;Read&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;a&nbsp;Error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465469">//&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetReadDeadline.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465536">Read</span><span class="op" id="1465540">(</span><span class="ident" id="1465541">b</span>&nbsp;<span class="op" id="1465543">[</span><span class="op" id="1465544">]</span><span class="builtintype" id="1465545">byte</span><span class="op" id="1465549">)</span>&nbsp;<span class="op" id="1465551">(</span><span class="ident" id="1465552">n</span>&nbsp;<span class="builtintype" id="1465554">int</span><span class="op" id="1465557">,</span>&nbsp;<span class="ident" id="1465559">err</span>&nbsp;<span class="builtintype" id="1465563">error</span><span class="op" id="1465568">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465572">//&nbsp;Write&nbsp;writes&nbsp;data&nbsp;to&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465613">//&nbsp;Write&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return&nbsp;a&nbsp;Error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465689">//&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465757">Write</span><span class="op" id="1465762">(</span><span class="ident" id="1465763">b</span>&nbsp;<span class="op" id="1465765">[</span><span class="op" id="1465766">]</span><span class="builtintype" id="1465767">byte</span><span class="op" id="1465771">)</span>&nbsp;<span class="op" id="1465773">(</span><span class="ident" id="1465774">n</span>&nbsp;<span class="builtintype" id="1465776">int</span><span class="op" id="1465779">,</span>&nbsp;<span class="ident" id="1465781">err</span>&nbsp;<span class="builtintype" id="1465785">error</span><span class="op" id="1465790">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465794">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465827">//&nbsp;Any&nbsp;blocked&nbsp;Read&nbsp;or&nbsp;Write&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465905">Close</span><span class="op" id="1465910">(</span><span class="op" id="1465911">)</span>&nbsp;<span class="builtintype" id="1465913">error</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465921">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465970">LocalAddr</span><span class="op" id="1465979">(</span><span class="op" id="1465980">)</span>&nbsp;<span class="ident" id="1465982"><a href="/net/net.go.html#1465097">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1465989">//&nbsp;RemoteAddr&nbsp;returns&nbsp;the&nbsp;remote&nbsp;network&nbsp;address.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466040">RemoteAddr</span><span class="op" id="1466050">(</span><span class="op" id="1466051">)</span>&nbsp;<span class="ident" id="1466053"><a href="/net/net.go.html#1465097">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466060">//&nbsp;SetDeadline&nbsp;sets&nbsp;the&nbsp;read&nbsp;and&nbsp;write&nbsp;deadlines&nbsp;associated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466121">//&nbsp;with&nbsp;the&nbsp;connection.&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;both</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466179">//&nbsp;SetReadDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466221">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466225">//&nbsp;A&nbsp;deadline&nbsp;is&nbsp;an&nbsp;absolute&nbsp;time&nbsp;after&nbsp;which&nbsp;I/O&nbsp;operations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466287">//&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466339">//&nbsp;blocking.&nbsp;The&nbsp;deadline&nbsp;applies&nbsp;to&nbsp;all&nbsp;future&nbsp;I/O,&nbsp;not&nbsp;just</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466402">//&nbsp;the&nbsp;immediately&nbsp;following&nbsp;call&nbsp;to&nbsp;Read&nbsp;or&nbsp;Write.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466455">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466459">//&nbsp;An&nbsp;idle&nbsp;timeout&nbsp;can&nbsp;be&nbsp;implemented&nbsp;by&nbsp;repeatedly&nbsp;extending</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466522">//&nbsp;the&nbsp;deadline&nbsp;after&nbsp;successful&nbsp;Read&nbsp;or&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466577">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466581">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;I/O&nbsp;operations&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466644">SetDeadline</span><span class="op" id="1466655">(</span><span class="ident" id="1466656">t</span>&nbsp;<span class="ident" id="1466658"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1466662">.</span><span class="ident" id="1466663">Time</span><span class="op" id="1466667">)</span>&nbsp;<span class="builtintype" id="1466669">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466677">//&nbsp;SetReadDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Read&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466738">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Read&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466791">SetReadDeadline</span><span class="op" id="1466806">(</span><span class="ident" id="1466807">t</span>&nbsp;<span class="ident" id="1466809"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1466813">.</span><span class="ident" id="1466814">Time</span><span class="op" id="1466818">)</span>&nbsp;<span class="builtintype" id="1466820">error</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466828">//&nbsp;SetWriteDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466891">//&nbsp;Even&nbsp;if&nbsp;write&nbsp;times&nbsp;out,&nbsp;it&nbsp;may&nbsp;return&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1466957">//&nbsp;some&nbsp;of&nbsp;the&nbsp;data&nbsp;was&nbsp;successfully&nbsp;written.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1467004">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Write&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467058">SetWriteDeadline</span><span class="op" id="1467074">(</span><span class="ident" id="1467075">t</span>&nbsp;<span class="ident" id="1467077"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1467081">.</span><span class="ident" id="1467082">Time</span><span class="op" id="1467086">)</span>&nbsp;<span class="builtintype" id="1467088">error</span><br>
<span class="lineno"></span><span class="op" id="1467094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1467097">type</span>&nbsp;<span class="ident" id="1467102">conn</span>&nbsp;<span class="keyword" id="1467107">struct</span>&nbsp;<span class="op" id="1467114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467117">fd</span>&nbsp;<span class="op" id="1467120">*</span><span class="ident" id="1467121"><a href="/net/fd_unix.go.html#1388279">netFD</a></span><br>
<span class="lineno">110</span><span class="op" id="1467127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1467130">func</span>&nbsp;<span class="op" id="1467135">(</span><span class="ident" id="1467136">c</span>&nbsp;<span class="op" id="1467138">*</span><span class="ident" id="1467139"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1467143">)</span>&nbsp;<span class="ident" id="1467145">ok</span><span class="op" id="1467147">(</span><span class="op" id="1467148">)</span>&nbsp;<span class="builtintype" id="1467150">bool</span>&nbsp;<span class="op" id="1467155">{</span>&nbsp;<span class="keyword" id="1467157">return</span>&nbsp;<span class="ident" id="1467164"><a href="/net/net.go.html#1467136">c</a></span>&nbsp;<span class="op" id="1467166">!=</span>&nbsp;<span class="ident" id="1467169">nil</span>&nbsp;<span class="op" id="1467173">&amp;&amp;</span>&nbsp;<span class="ident" id="1467176"><a href="/net/net.go.html#1467136">c</a></span><span class="op" id="1467177">.</span><span class="ident" id="1467178">fd</span>&nbsp;<span class="op" id="1467181">!=</span>&nbsp;<span class="ident" id="1467184">nil</span>&nbsp;<span class="op" id="1467188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1467191">//&nbsp;Implementation&nbsp;of&nbsp;the&nbsp;Conn&nbsp;interface.</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="1467233">//&nbsp;Read&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;Read&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="1467274">func</span>&nbsp;<span class="op" id="1467279">(</span><span class="ident" id="1467280">c</span>&nbsp;<span class="op" id="1467282">*</span><span class="ident" id="1467283"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1467287">)</span>&nbsp;<span class="ident" id="1467289">Read</span><span class="op" id="1467293">(</span><span class="ident" id="1467294">b</span>&nbsp;<span class="op" id="1467296">[</span><span class="op" id="1467297">]</span><span class="builtintype" id="1467298">byte</span><span class="op" id="1467302">)</span>&nbsp;<span class="op" id="1467304">(</span><span class="builtintype" id="1467305">int</span><span class="op" id="1467308">,</span>&nbsp;<span class="builtintype" id="1467310">error</span><span class="op" id="1467315">)</span>&nbsp;<span class="op" id="1467317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467320">if</span>&nbsp;<span class="op" id="1467323">!</span><span class="ident" id="1467324"><a href="/net/net.go.html#1467280">c</a></span><span class="op" id="1467325">.</span><span class="ident" id="1467326">ok</span><span class="op" id="1467328">(</span><span class="op" id="1467329">)</span>&nbsp;<span class="op" id="1467331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467335">return</span>&nbsp;<span class="num" id="1467342">0</span><span class="op" id="1467343">,</span>&nbsp;<span class="ident" id="1467345"><a href="/net/net.go.html#1465023">syscall</a></span><span class="op" id="1467352">.</span><span class="ident" id="1467353">EINVAL</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467364">return</span>&nbsp;<span class="ident" id="1467371"><a href="/net/net.go.html#1467280">c</a></span><span class="op" id="1467372">.</span><span class="ident" id="1467373">fd</span><span class="op" id="1467375">.</span><span class="ident" id="1467376">Read</span><span class="op" id="1467380">(</span><span class="ident" id="1467381"><a href="/net/net.go.html#1467294">b</a></span><span class="op" id="1467382">)</span><br>
<span class="lineno"></span><span class="op" id="1467384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1467387">//&nbsp;Write&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;Write&nbsp;method.</span><br>
<span class="lineno">125</span><span class="keyword" id="1467430">func</span>&nbsp;<span class="op" id="1467435">(</span><span class="ident" id="1467436">c</span>&nbsp;<span class="op" id="1467438">*</span><span class="ident" id="1467439"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1467443">)</span>&nbsp;<span class="ident" id="1467445">Write</span><span class="op" id="1467450">(</span><span class="ident" id="1467451">b</span>&nbsp;<span class="op" id="1467453">[</span><span class="op" id="1467454">]</span><span class="builtintype" id="1467455">byte</span><span class="op" id="1467459">)</span>&nbsp;<span class="op" id="1467461">(</span><span class="builtintype" id="1467462">int</span><span class="op" id="1467465">,</span>&nbsp;<span class="builtintype" id="1467467">error</span><span class="op" id="1467472">)</span>&nbsp;<span class="op" id="1467474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467477">if</span>&nbsp;<span class="op" id="1467480">!</span><span class="ident" id="1467481"><a href="/net/net.go.html#1467436">c</a></span><span class="op" id="1467482">.</span><span class="ident" id="1467483">ok</span><span class="op" id="1467485">(</span><span class="op" id="1467486">)</span>&nbsp;<span class="op" id="1467488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467492">return</span>&nbsp;<span class="num" id="1467499">0</span><span class="op" id="1467500">,</span>&nbsp;<span class="ident" id="1467502"><a href="/net/net.go.html#1465023">syscall</a></span><span class="op" id="1467509">.</span><span class="ident" id="1467510">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467521">return</span>&nbsp;<span class="ident" id="1467528"><a href="/net/net.go.html#1467436">c</a></span><span class="op" id="1467529">.</span><span class="ident" id="1467530">fd</span><span class="op" id="1467532">.</span><span class="ident" id="1467533">Write</span><span class="op" id="1467538">(</span><span class="ident" id="1467539"><a href="/net/net.go.html#1467451">b</a></span><span class="op" id="1467540">)</span><br>
<span class="lineno">130</span><span class="op" id="1467542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1467545">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="1467577">func</span>&nbsp;<span class="op" id="1467582">(</span><span class="ident" id="1467583">c</span>&nbsp;<span class="op" id="1467585">*</span><span class="ident" id="1467586"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1467590">)</span>&nbsp;<span class="ident" id="1467592">Close</span><span class="op" id="1467597">(</span><span class="op" id="1467598">)</span>&nbsp;<span class="builtintype" id="1467600">error</span>&nbsp;<span class="op" id="1467606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467609">if</span>&nbsp;<span class="op" id="1467612">!</span><span class="ident" id="1467613"><a href="/net/net.go.html#1467583">c</a></span><span class="op" id="1467614">.</span><span class="ident" id="1467615">ok</span><span class="op" id="1467617">(</span><span class="op" id="1467618">)</span>&nbsp;<span class="op" id="1467620">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467624">return</span>&nbsp;<span class="ident" id="1467631"><a href="/net/net.go.html#1465023">syscall</a></span><span class="op" id="1467638">.</span><span class="ident" id="1467639">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467650">return</span>&nbsp;<span class="ident" id="1467657"><a href="/net/net.go.html#1467583">c</a></span><span class="op" id="1467658">.</span><span class="ident" id="1467659">fd</span><span class="op" id="1467661">.</span><span class="ident" id="1467662">Close</span><span class="op" id="1467667">(</span><span class="op" id="1467668">)</span><br>
<span class="lineno"></span><span class="op" id="1467670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="1467673">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="1467721">func</span>&nbsp;<span class="op" id="1467726">(</span><span class="ident" id="1467727">c</span>&nbsp;<span class="op" id="1467729">*</span><span class="ident" id="1467730"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1467734">)</span>&nbsp;<span class="ident" id="1467736">LocalAddr</span><span class="op" id="1467745">(</span><span class="op" id="1467746">)</span>&nbsp;<span class="ident" id="1467748"><a href="/net/net.go.html#1465097">Addr</a></span>&nbsp;<span class="op" id="1467753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467756">if</span>&nbsp;<span class="op" id="1467759">!</span><span class="ident" id="1467760"><a href="/net/net.go.html#1467727">c</a></span><span class="op" id="1467761">.</span><span class="ident" id="1467762">ok</span><span class="op" id="1467764">(</span><span class="op" id="1467765">)</span>&nbsp;<span class="op" id="1467767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467771">return</span>&nbsp;<span class="ident" id="1467778">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467783">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467786">return</span>&nbsp;<span class="ident" id="1467793"><a href="/net/net.go.html#1467727">c</a></span><span class="op" id="1467794">.</span><span class="ident" id="1467795">fd</span><span class="op" id="1467797">.</span><span class="ident" id="1467798">laddr</span><br>
<span class="lineno"></span><span class="op" id="1467804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1467807">//&nbsp;RemoteAddr&nbsp;returns&nbsp;the&nbsp;remote&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span><span class="keyword" id="1467857">func</span>&nbsp;<span class="op" id="1467862">(</span><span class="ident" id="1467863">c</span>&nbsp;<span class="op" id="1467865">*</span><span class="ident" id="1467866"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1467870">)</span>&nbsp;<span class="ident" id="1467872">RemoteAddr</span><span class="op" id="1467882">(</span><span class="op" id="1467883">)</span>&nbsp;<span class="ident" id="1467885"><a href="/net/net.go.html#1465097">Addr</a></span>&nbsp;<span class="op" id="1467890">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467893">if</span>&nbsp;<span class="op" id="1467896">!</span><span class="ident" id="1467897"><a href="/net/net.go.html#1467863">c</a></span><span class="op" id="1467898">.</span><span class="ident" id="1467899">ok</span><span class="op" id="1467901">(</span><span class="op" id="1467902">)</span>&nbsp;<span class="op" id="1467904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467908">return</span>&nbsp;<span class="ident" id="1467915">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467923">return</span>&nbsp;<span class="ident" id="1467930"><a href="/net/net.go.html#1467863">c</a></span><span class="op" id="1467931">.</span><span class="ident" id="1467932">fd</span><span class="op" id="1467934">.</span><span class="ident" id="1467935">raddr</span><br>
<span class="lineno"></span><span class="op" id="1467941">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="1467944">//&nbsp;SetDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetDeadline&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="1467999">func</span>&nbsp;<span class="op" id="1468004">(</span><span class="ident" id="1468005">c</span>&nbsp;<span class="op" id="1468007">*</span><span class="ident" id="1468008"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1468012">)</span>&nbsp;<span class="ident" id="1468014">SetDeadline</span><span class="op" id="1468025">(</span><span class="ident" id="1468026">t</span>&nbsp;<span class="ident" id="1468028"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1468032">.</span><span class="ident" id="1468033">Time</span><span class="op" id="1468037">)</span>&nbsp;<span class="builtintype" id="1468039">error</span>&nbsp;<span class="op" id="1468045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468048">if</span>&nbsp;<span class="op" id="1468051">!</span><span class="ident" id="1468052"><a href="/net/net.go.html#1468005">c</a></span><span class="op" id="1468053">.</span><span class="ident" id="1468054">ok</span><span class="op" id="1468056">(</span><span class="op" id="1468057">)</span>&nbsp;<span class="op" id="1468059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468063">return</span>&nbsp;<span class="ident" id="1468070"><a href="/net/net.go.html#1465023">syscall</a></span><span class="op" id="1468077">.</span><span class="ident" id="1468078">EINVAL</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468089">return</span>&nbsp;<span class="ident" id="1468096"><a href="/net/net.go.html#1468005">c</a></span><span class="op" id="1468097">.</span><span class="ident" id="1468098">fd</span><span class="op" id="1468100">.</span><span class="ident" id="1468101">setDeadline</span><span class="op" id="1468112">(</span><span class="ident" id="1468113"><a href="/net/net.go.html#1468026">t</a></span><span class="op" id="1468114">)</span><br>
<span class="lineno"></span><span class="op" id="1468116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1468119">//&nbsp;SetReadDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetReadDeadline&nbsp;method.</span><br>
<span class="lineno">165</span><span class="keyword" id="1468182">func</span>&nbsp;<span class="op" id="1468187">(</span><span class="ident" id="1468188">c</span>&nbsp;<span class="op" id="1468190">*</span><span class="ident" id="1468191"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1468195">)</span>&nbsp;<span class="ident" id="1468197">SetReadDeadline</span><span class="op" id="1468212">(</span><span class="ident" id="1468213">t</span>&nbsp;<span class="ident" id="1468215"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1468219">.</span><span class="ident" id="1468220">Time</span><span class="op" id="1468224">)</span>&nbsp;<span class="builtintype" id="1468226">error</span>&nbsp;<span class="op" id="1468232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468235">if</span>&nbsp;<span class="op" id="1468238">!</span><span class="ident" id="1468239"><a href="/net/net.go.html#1468188">c</a></span><span class="op" id="1468240">.</span><span class="ident" id="1468241">ok</span><span class="op" id="1468243">(</span><span class="op" id="1468244">)</span>&nbsp;<span class="op" id="1468246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468250">return</span>&nbsp;<span class="ident" id="1468257"><a href="/net/net.go.html#1465023">syscall</a></span><span class="op" id="1468264">.</span><span class="ident" id="1468265">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468276">return</span>&nbsp;<span class="ident" id="1468283"><a href="/net/net.go.html#1468188">c</a></span><span class="op" id="1468284">.</span><span class="ident" id="1468285">fd</span><span class="op" id="1468287">.</span><span class="ident" id="1468288">setReadDeadline</span><span class="op" id="1468303">(</span><span class="ident" id="1468304"><a href="/net/net.go.html#1468213">t</a></span><span class="op" id="1468305">)</span><br>
<span class="lineno">170</span><span class="op" id="1468307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1468310">//&nbsp;SetWriteDeadline&nbsp;implements&nbsp;the&nbsp;Conn&nbsp;SetWriteDeadline&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="1468375">func</span>&nbsp;<span class="op" id="1468380">(</span><span class="ident" id="1468381">c</span>&nbsp;<span class="op" id="1468383">*</span><span class="ident" id="1468384"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1468388">)</span>&nbsp;<span class="ident" id="1468390">SetWriteDeadline</span><span class="op" id="1468406">(</span><span class="ident" id="1468407">t</span>&nbsp;<span class="ident" id="1468409"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1468413">.</span><span class="ident" id="1468414">Time</span><span class="op" id="1468418">)</span>&nbsp;<span class="builtintype" id="1468420">error</span>&nbsp;<span class="op" id="1468426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468429">if</span>&nbsp;<span class="op" id="1468432">!</span><span class="ident" id="1468433"><a href="/net/net.go.html#1468381">c</a></span><span class="op" id="1468434">.</span><span class="ident" id="1468435">ok</span><span class="op" id="1468437">(</span><span class="op" id="1468438">)</span>&nbsp;<span class="op" id="1468440">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468444">return</span>&nbsp;<span class="ident" id="1468451"><a href="/net/net.go.html#1465023">syscall</a></span><span class="op" id="1468458">.</span><span class="ident" id="1468459">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468470">return</span>&nbsp;<span class="ident" id="1468477"><a href="/net/net.go.html#1468381">c</a></span><span class="op" id="1468478">.</span><span class="ident" id="1468479">fd</span><span class="op" id="1468481">.</span><span class="ident" id="1468482">setWriteDeadline</span><span class="op" id="1468498">(</span><span class="ident" id="1468499"><a href="/net/net.go.html#1468407">t</a></span><span class="op" id="1468500">)</span><br>
<span class="lineno"></span><span class="op" id="1468502">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="1468505">//&nbsp;SetReadBuffer&nbsp;sets&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;operating&nbsp;system&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="1468562">//&nbsp;receive&nbsp;buffer&nbsp;associated&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="1468612">func</span>&nbsp;<span class="op" id="1468617">(</span><span class="ident" id="1468618">c</span>&nbsp;<span class="op" id="1468620">*</span><span class="ident" id="1468621"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1468625">)</span>&nbsp;<span class="ident" id="1468627">SetReadBuffer</span><span class="op" id="1468640">(</span><span class="ident" id="1468641">bytes</span>&nbsp;<span class="builtintype" id="1468647">int</span><span class="op" id="1468650">)</span>&nbsp;<span class="builtintype" id="1468652">error</span>&nbsp;<span class="op" id="1468658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468661">if</span>&nbsp;<span class="op" id="1468664">!</span><span class="ident" id="1468665"><a href="/net/net.go.html#1468618">c</a></span><span class="op" id="1468666">.</span><span class="ident" id="1468667">ok</span><span class="op" id="1468669">(</span><span class="op" id="1468670">)</span>&nbsp;<span class="op" id="1468672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468676">return</span>&nbsp;<span class="ident" id="1468683"><a href="/net/net.go.html#1465023">syscall</a></span><span class="op" id="1468690">.</span><span class="ident" id="1468691">EINVAL</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468702">return</span>&nbsp;<span class="ident" id="1468709"><a href="/net/sockopt_posix.go.html#1500571">setReadBuffer</a></span><span class="op" id="1468722">(</span><span class="ident" id="1468723"><a href="/net/net.go.html#1468618">c</a></span><span class="op" id="1468724">.</span><span class="ident" id="1468725">fd</span><span class="op" id="1468727">,</span>&nbsp;<span class="ident" id="1468729"><a href="/net/net.go.html#1468641">bytes</a></span><span class="op" id="1468734">)</span><br>
<span class="lineno"></span><span class="op" id="1468736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1468739">//&nbsp;SetWriteBuffer&nbsp;sets&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;operating&nbsp;system&#39;s</span><br>
<span class="lineno">190</span><span class="comment" id="1468797">//&nbsp;transmit&nbsp;buffer&nbsp;associated&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span><span class="keyword" id="1468848">func</span>&nbsp;<span class="op" id="1468853">(</span><span class="ident" id="1468854">c</span>&nbsp;<span class="op" id="1468856">*</span><span class="ident" id="1468857"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1468861">)</span>&nbsp;<span class="ident" id="1468863">SetWriteBuffer</span><span class="op" id="1468877">(</span><span class="ident" id="1468878">bytes</span>&nbsp;<span class="builtintype" id="1468884">int</span><span class="op" id="1468887">)</span>&nbsp;<span class="builtintype" id="1468889">error</span>&nbsp;<span class="op" id="1468895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468898">if</span>&nbsp;<span class="op" id="1468901">!</span><span class="ident" id="1468902"><a href="/net/net.go.html#1468854">c</a></span><span class="op" id="1468903">.</span><span class="ident" id="1468904">ok</span><span class="op" id="1468906">(</span><span class="op" id="1468907">)</span>&nbsp;<span class="op" id="1468909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468913">return</span>&nbsp;<span class="ident" id="1468920"><a href="/net/net.go.html#1465023">syscall</a></span><span class="op" id="1468927">.</span><span class="ident" id="1468928">EINVAL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468936">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468939">return</span>&nbsp;<span class="ident" id="1468946"><a href="/net/sockopt_posix.go.html#1500815">setWriteBuffer</a></span><span class="op" id="1468960">(</span><span class="ident" id="1468961"><a href="/net/net.go.html#1468854">c</a></span><span class="op" id="1468962">.</span><span class="ident" id="1468963">fd</span><span class="op" id="1468965">,</span>&nbsp;<span class="ident" id="1468967"><a href="/net/net.go.html#1468878">bytes</a></span><span class="op" id="1468972">)</span><br>
<span class="lineno"></span><span class="op" id="1468974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1468977">//&nbsp;File&nbsp;sets&nbsp;the&nbsp;underlying&nbsp;os.File&nbsp;to&nbsp;blocking&nbsp;mode&nbsp;and&nbsp;returns&nbsp;a&nbsp;copy.</span><br>
<span class="lineno"></span><span class="comment" id="1469050">//&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility&nbsp;to&nbsp;close&nbsp;f&nbsp;when&nbsp;finished.</span><br>
<span class="lineno">200</span><span class="comment" id="1469113">//&nbsp;Closing&nbsp;c&nbsp;does&nbsp;not&nbsp;affect&nbsp;f,&nbsp;and&nbsp;closing&nbsp;f&nbsp;does&nbsp;not&nbsp;affect&nbsp;c.</span><br>
<span class="lineno"></span><span class="comment" id="1469178">//</span><br>
<span class="lineno"></span><span class="comment" id="1469181">//&nbsp;The&nbsp;returned&nbsp;os.File&#39;s&nbsp;file&nbsp;descriptor&nbsp;is&nbsp;different&nbsp;from&nbsp;the&nbsp;connection&#39;s.</span><br>
<span class="lineno"></span><span class="comment" id="1469259">//&nbsp;Attempting&nbsp;to&nbsp;change&nbsp;properties&nbsp;of&nbsp;the&nbsp;original&nbsp;using&nbsp;this&nbsp;duplicate</span><br>
<span class="lineno"></span><span class="comment" id="1469331">//&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;have&nbsp;the&nbsp;desired&nbsp;effect.</span><br>
<span class="lineno">205</span><span class="keyword" id="1469374">func</span>&nbsp;<span class="op" id="1469379">(</span><span class="ident" id="1469380">c</span>&nbsp;<span class="op" id="1469382">*</span><span class="ident" id="1469383"><a href="/net/net.go.html#1467102">conn</a></span><span class="op" id="1469387">)</span>&nbsp;<span class="ident" id="1469389">File</span><span class="op" id="1469393">(</span><span class="op" id="1469394">)</span>&nbsp;<span class="op" id="1469396">(</span><span class="ident" id="1469397">f</span>&nbsp;<span class="op" id="1469399">*</span><span class="ident" id="1469400"><a href="/net/net.go.html#1465017">os</a></span><span class="op" id="1469402">.</span><span class="ident" id="1469403">File</span><span class="op" id="1469407">,</span>&nbsp;<span class="ident" id="1469409">err</span>&nbsp;<span class="builtintype" id="1469413">error</span><span class="op" id="1469418">)</span>&nbsp;<span class="op" id="1469420">{</span>&nbsp;<span class="keyword" id="1469422">return</span>&nbsp;<span class="ident" id="1469429"><a href="/net/net.go.html#1469380">c</a></span><span class="op" id="1469430">.</span><span class="ident" id="1469431">fd</span><span class="op" id="1469433">.</span><span class="ident" id="1469434">dup</span><span class="op" id="1469437">(</span><span class="op" id="1469438">)</span>&nbsp;<span class="op" id="1469440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1469443">//&nbsp;An&nbsp;Error&nbsp;represents&nbsp;a&nbsp;network&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1469483">type</span>&nbsp;<span class="ident" id="1469488">Error</span>&nbsp;<span class="keyword" id="1469494">interface</span>&nbsp;<span class="op" id="1469504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1469507">error</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469514">Timeout</span><span class="op" id="1469521">(</span><span class="op" id="1469522">)</span>&nbsp;<span class="builtintype" id="1469524">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="1469531">//&nbsp;Is&nbsp;the&nbsp;error&nbsp;a&nbsp;timeout?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469559">Temporary</span><span class="op" id="1469568">(</span><span class="op" id="1469569">)</span>&nbsp;<span class="builtintype" id="1469571">bool</span>&nbsp;<span class="comment" id="1469576">//&nbsp;Is&nbsp;the&nbsp;error&nbsp;temporary?</span><br>
<span class="lineno"></span><span class="op" id="1469603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1469606">//&nbsp;PacketConn&nbsp;is&nbsp;a&nbsp;generic&nbsp;packet-oriented&nbsp;network&nbsp;connection.</span><br>
<span class="lineno">215</span><span class="comment" id="1469669">//</span><br>
<span class="lineno"></span><span class="comment" id="1469672">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;PacketConn&nbsp;simultaneously.</span><br>
<span class="lineno"></span><span class="keyword" id="1469746">type</span>&nbsp;<span class="ident" id="1469751">PacketConn</span>&nbsp;<span class="keyword" id="1469762">interface</span>&nbsp;<span class="op" id="1469772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1469775">//&nbsp;ReadFrom&nbsp;reads&nbsp;a&nbsp;packet&nbsp;from&nbsp;the&nbsp;connection,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1469824">//&nbsp;copying&nbsp;the&nbsp;payload&nbsp;into&nbsp;b.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1469882">//&nbsp;bytes&nbsp;copied&nbsp;into&nbsp;b&nbsp;and&nbsp;the&nbsp;return&nbsp;address&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1469934">//&nbsp;was&nbsp;on&nbsp;the&nbsp;packet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1469957">//&nbsp;ReadFrom&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470005">//&nbsp;an&nbsp;error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470067">//&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetReadDeadline.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470108">ReadFrom</span><span class="op" id="1470116">(</span><span class="ident" id="1470117">b</span>&nbsp;<span class="op" id="1470119">[</span><span class="op" id="1470120">]</span><span class="builtintype" id="1470121">byte</span><span class="op" id="1470125">)</span>&nbsp;<span class="op" id="1470127">(</span><span class="ident" id="1470128">n</span>&nbsp;<span class="builtintype" id="1470130">int</span><span class="op" id="1470133">,</span>&nbsp;<span class="ident" id="1470135">addr</span>&nbsp;<span class="ident" id="1470140"><a href="/net/net.go.html#1465097">Addr</a></span><span class="op" id="1470144">,</span>&nbsp;<span class="ident" id="1470146">err</span>&nbsp;<span class="builtintype" id="1470150">error</span><span class="op" id="1470155">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470159">//&nbsp;WriteTo&nbsp;writes&nbsp;a&nbsp;packet&nbsp;with&nbsp;payload&nbsp;b&nbsp;to&nbsp;addr.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470211">//&nbsp;WriteTo&nbsp;can&nbsp;be&nbsp;made&nbsp;to&nbsp;time&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470258">//&nbsp;an&nbsp;error&nbsp;with&nbsp;Timeout()&nbsp;==&nbsp;true&nbsp;after&nbsp;a&nbsp;fixed&nbsp;time&nbsp;limit;</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470320">//&nbsp;see&nbsp;SetDeadline&nbsp;and&nbsp;SetWriteDeadline.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470362">//&nbsp;On&nbsp;packet-oriented&nbsp;connections,&nbsp;write&nbsp;timeouts&nbsp;are&nbsp;rare.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470423">WriteTo</span><span class="op" id="1470430">(</span><span class="ident" id="1470431">b</span>&nbsp;<span class="op" id="1470433">[</span><span class="op" id="1470434">]</span><span class="builtintype" id="1470435">byte</span><span class="op" id="1470439">,</span>&nbsp;<span class="ident" id="1470441">addr</span>&nbsp;<span class="ident" id="1470446"><a href="/net/net.go.html#1465097">Addr</a></span><span class="op" id="1470450">)</span>&nbsp;<span class="op" id="1470452">(</span><span class="ident" id="1470453">n</span>&nbsp;<span class="builtintype" id="1470455">int</span><span class="op" id="1470458">,</span>&nbsp;<span class="ident" id="1470460">err</span>&nbsp;<span class="builtintype" id="1470464">error</span><span class="op" id="1470469">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470473">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;connection.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470506">//&nbsp;Any&nbsp;blocked&nbsp;ReadFrom&nbsp;or&nbsp;WriteTo&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470590">Close</span><span class="op" id="1470595">(</span><span class="op" id="1470596">)</span>&nbsp;<span class="builtintype" id="1470598">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470606">//&nbsp;LocalAddr&nbsp;returns&nbsp;the&nbsp;local&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470655">LocalAddr</span><span class="op" id="1470664">(</span><span class="op" id="1470665">)</span>&nbsp;<span class="ident" id="1470667"><a href="/net/net.go.html#1465097">Addr</a></span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470674">//&nbsp;SetDeadline&nbsp;sets&nbsp;the&nbsp;read&nbsp;and&nbsp;write&nbsp;deadlines&nbsp;associated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470735">//&nbsp;with&nbsp;the&nbsp;connection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470760">SetDeadline</span><span class="op" id="1470771">(</span><span class="ident" id="1470772">t</span>&nbsp;<span class="ident" id="1470774"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1470778">.</span><span class="ident" id="1470779">Time</span><span class="op" id="1470783">)</span>&nbsp;<span class="builtintype" id="1470785">error</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470793">//&nbsp;SetReadDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Read&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470854">//&nbsp;If&nbsp;the&nbsp;deadline&nbsp;is&nbsp;reached,&nbsp;Read&nbsp;will&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470916">//&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of&nbsp;blocking.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1470958">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Read&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471011">SetReadDeadline</span><span class="op" id="1471026">(</span><span class="ident" id="1471027">t</span>&nbsp;<span class="ident" id="1471029"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1471033">.</span><span class="ident" id="1471034">Time</span><span class="op" id="1471038">)</span>&nbsp;<span class="builtintype" id="1471040">error</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471048">//&nbsp;SetWriteDeadline&nbsp;sets&nbsp;the&nbsp;deadline&nbsp;for&nbsp;future&nbsp;Write&nbsp;calls.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471111">//&nbsp;If&nbsp;the&nbsp;deadline&nbsp;is&nbsp;reached,&nbsp;Write&nbsp;will&nbsp;fail&nbsp;with&nbsp;a&nbsp;timeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471174">//&nbsp;(see&nbsp;type&nbsp;Error)&nbsp;instead&nbsp;of&nbsp;blocking.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471216">//&nbsp;A&nbsp;zero&nbsp;value&nbsp;for&nbsp;t&nbsp;means&nbsp;Write&nbsp;will&nbsp;not&nbsp;time&nbsp;out.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471270">//&nbsp;Even&nbsp;if&nbsp;write&nbsp;times&nbsp;out,&nbsp;it&nbsp;may&nbsp;return&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;indicating&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471336">//&nbsp;some&nbsp;of&nbsp;the&nbsp;data&nbsp;was&nbsp;successfully&nbsp;written.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471383">SetWriteDeadline</span><span class="op" id="1471399">(</span><span class="ident" id="1471400">t</span>&nbsp;<span class="ident" id="1471402"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1471406">.</span><span class="ident" id="1471407">Time</span><span class="op" id="1471411">)</span>&nbsp;<span class="builtintype" id="1471413">error</span><br>
<span class="lineno"></span><span class="op" id="1471419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="1471422">var</span>&nbsp;<span class="ident" id="1471426">listenerBacklog</span>&nbsp;<span class="op" id="1471442">=</span>&nbsp;<span class="ident" id="1471444"><a href="/net/sock_linux.go.html#1491298">maxListenerBacklog</a></span><span class="op" id="1471462">(</span><span class="op" id="1471463">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1471466">//&nbsp;A&nbsp;Listener&nbsp;is&nbsp;a&nbsp;generic&nbsp;network&nbsp;listener&nbsp;for&nbsp;stream-oriented&nbsp;protocols.</span><br>
<span class="lineno"></span><span class="comment" id="1471541">//</span><br>
<span class="lineno"></span><span class="comment" id="1471544">//&nbsp;Multiple&nbsp;goroutines&nbsp;may&nbsp;invoke&nbsp;methods&nbsp;on&nbsp;a&nbsp;Listener&nbsp;simultaneously.</span><br>
<span class="lineno">265</span><span class="keyword" id="1471616">type</span>&nbsp;<span class="ident" id="1471621">Listener</span>&nbsp;<span class="keyword" id="1471630">interface</span>&nbsp;<span class="op" id="1471640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471643">//&nbsp;Accept&nbsp;waits&nbsp;for&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;connection&nbsp;to&nbsp;the&nbsp;listener.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471713">Accept</span><span class="op" id="1471719">(</span><span class="op" id="1471720">)</span>&nbsp;<span class="op" id="1471722">(</span><span class="ident" id="1471723">c</span>&nbsp;<span class="ident" id="1471725"><a href="/net/net.go.html#1465335">Conn</a></span><span class="op" id="1471729">,</span>&nbsp;<span class="ident" id="1471731">err</span>&nbsp;<span class="builtintype" id="1471735">error</span><span class="op" id="1471740">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471744">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;listener.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471775">//&nbsp;Any&nbsp;blocked&nbsp;Accept&nbsp;operations&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;and&nbsp;return&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471846">Close</span><span class="op" id="1471851">(</span><span class="op" id="1471852">)</span>&nbsp;<span class="builtintype" id="1471854">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471862">//&nbsp;Addr&nbsp;returns&nbsp;the&nbsp;listener&#39;s&nbsp;network&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471911">Addr</span><span class="op" id="1471915">(</span><span class="op" id="1471916">)</span>&nbsp;<span class="ident" id="1471918"><a href="/net/net.go.html#1465097">Addr</a></span><br>
<span class="lineno">275</span><span class="op" id="1471923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1471926">//&nbsp;Various&nbsp;errors&nbsp;contained&nbsp;in&nbsp;OpError.</span><br>
<span class="lineno"></span><span class="keyword" id="1471966">var</span>&nbsp;<span class="op" id="1471970">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471973">//&nbsp;For&nbsp;connection&nbsp;setup&nbsp;and&nbsp;write&nbsp;operations.</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472020">errMissingAddress</span>&nbsp;<span class="op" id="1472038">=</span>&nbsp;<span class="ident" id="1472040"><a href="/net/net.go.html#1465001">errors</a></span><span class="op" id="1472046">.</span><span class="ident" id="1472047">New</span><span class="op" id="1472050">(</span><span class="string" id="1472051">&#34;missing&nbsp;address&#34;</span><span class="op" id="1472068">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472072">//&nbsp;For&nbsp;both&nbsp;read&nbsp;and&nbsp;write&nbsp;operations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472112">errTimeout</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1472132">error</span>&nbsp;<span class="op" id="1472138">=</span>&nbsp;<span class="op" id="1472140">&amp;</span><span class="ident" id="1472141"><a href="/net/net.go.html#1473359">timeoutError</a></span><span class="op" id="1472153">{</span><span class="op" id="1472154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472157">errClosing</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1472183">=</span>&nbsp;<span class="ident" id="1472185"><a href="/net/net.go.html#1465001">errors</a></span><span class="op" id="1472191">.</span><span class="ident" id="1472192">New</span><span class="op" id="1472195">(</span><span class="string" id="1472196">&#34;use&nbsp;of&nbsp;closed&nbsp;network&nbsp;connection&#34;</span><span class="op" id="1472230">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472233">ErrWriteToConnected</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1472259">=</span>&nbsp;<span class="ident" id="1472261"><a href="/net/net.go.html#1465001">errors</a></span><span class="op" id="1472267">.</span><span class="ident" id="1472268">New</span><span class="op" id="1472271">(</span><span class="string" id="1472272">&#34;use&nbsp;of&nbsp;WriteTo&nbsp;with&nbsp;pre-connected&nbsp;connection&#34;</span><span class="op" id="1472318">)</span><br>
<span class="lineno"></span><span class="op" id="1472320">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1472323">//&nbsp;OpError&nbsp;is&nbsp;the&nbsp;error&nbsp;type&nbsp;usually&nbsp;returned&nbsp;by&nbsp;functions&nbsp;in&nbsp;the&nbsp;net</span><br>
<span class="lineno"></span><span class="comment" id="1472393">//&nbsp;package.&nbsp;It&nbsp;describes&nbsp;the&nbsp;operation,&nbsp;network&nbsp;type,&nbsp;and&nbsp;address&nbsp;of</span><br>
<span class="lineno">290</span><span class="comment" id="1472462">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1472475">type</span>&nbsp;<span class="ident" id="1472480">OpError</span>&nbsp;<span class="keyword" id="1472488">struct</span>&nbsp;<span class="op" id="1472495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472498">//&nbsp;Op&nbsp;is&nbsp;the&nbsp;operation&nbsp;which&nbsp;caused&nbsp;the&nbsp;error,&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472554">//&nbsp;&#34;read&#34;&nbsp;or&nbsp;&#34;write&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472577">Op</span>&nbsp;<span class="builtintype" id="1472580">string</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472589">//&nbsp;Net&nbsp;is&nbsp;the&nbsp;network&nbsp;type&nbsp;on&nbsp;which&nbsp;this&nbsp;error&nbsp;occurred,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472647">//&nbsp;such&nbsp;as&nbsp;&#34;tcp&#34;&nbsp;or&nbsp;&#34;udp6&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472676">Net</span>&nbsp;<span class="builtintype" id="1472680">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472689">//&nbsp;Addr&nbsp;is&nbsp;the&nbsp;network&nbsp;address&nbsp;on&nbsp;which&nbsp;this&nbsp;error&nbsp;occurred.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472751">Addr</span>&nbsp;<span class="ident" id="1472756"><a href="/net/net.go.html#1465097">Addr</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472763">//&nbsp;Err&nbsp;is&nbsp;the&nbsp;error&nbsp;that&nbsp;occurred&nbsp;during&nbsp;the&nbsp;operation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472820">Err</span>&nbsp;<span class="builtintype" id="1472824">error</span><br>
<span class="lineno">305</span><span class="op" id="1472830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1472833">func</span>&nbsp;<span class="op" id="1472838">(</span><span class="ident" id="1472839">e</span>&nbsp;<span class="op" id="1472841">*</span><span class="ident" id="1472842"><a href="/net/net.go.html#1472480">OpError</a></span><span class="op" id="1472849">)</span>&nbsp;<span class="ident" id="1472851">Error</span><span class="op" id="1472856">(</span><span class="op" id="1472857">)</span>&nbsp;<span class="builtintype" id="1472859">string</span>&nbsp;<span class="op" id="1472866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472869">if</span>&nbsp;<span class="ident" id="1472872"><a href="/net/net.go.html#1472839">e</a></span>&nbsp;<span class="op" id="1472874">==</span>&nbsp;<span class="ident" id="1472877">nil</span>&nbsp;<span class="op" id="1472881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472885">return</span>&nbsp;<span class="string" id="1472892">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1472901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472904">s</span>&nbsp;<span class="op" id="1472906">:=</span>&nbsp;<span class="ident" id="1472909"><a href="/net/net.go.html#1472839">e</a></span><span class="op" id="1472910">.</span><span class="ident" id="1472911">Op</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472915">if</span>&nbsp;<span class="ident" id="1472918"><a href="/net/net.go.html#1472839">e</a></span><span class="op" id="1472919">.</span><span class="ident" id="1472920">Net</span>&nbsp;<span class="op" id="1472924">!=</span>&nbsp;<span class="string" id="1472927">&#34;&#34;</span>&nbsp;<span class="op" id="1472930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472934"><a href="/net/net.go.html#1472904">s</a></span>&nbsp;<span class="op" id="1472936">+=</span>&nbsp;<span class="string" id="1472939">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="1472943">+</span>&nbsp;<span class="ident" id="1472945"><a href="/net/net.go.html#1472839">e</a></span><span class="op" id="1472946">.</span><span class="ident" id="1472947">Net</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1472952">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472955">if</span>&nbsp;<span class="ident" id="1472958"><a href="/net/net.go.html#1472839">e</a></span><span class="op" id="1472959">.</span><span class="ident" id="1472960">Addr</span>&nbsp;<span class="op" id="1472965">!=</span>&nbsp;<span class="ident" id="1472968">nil</span>&nbsp;<span class="op" id="1472972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472976"><a href="/net/net.go.html#1472904">s</a></span>&nbsp;<span class="op" id="1472978">+=</span>&nbsp;<span class="string" id="1472981">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="1472985">+</span>&nbsp;<span class="ident" id="1472987"><a href="/net/net.go.html#1472839">e</a></span><span class="op" id="1472988">.</span><span class="ident" id="1472989">Addr</span><span class="op" id="1472993">.</span><span class="ident" id="1472994">String</span><span class="op" id="1473000">(</span><span class="op" id="1473001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473007"><a href="/net/net.go.html#1472904">s</a></span>&nbsp;<span class="op" id="1473009">+=</span>&nbsp;<span class="string" id="1473012">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="1473017">+</span>&nbsp;<span class="ident" id="1473019"><a href="/net/net.go.html#1472839">e</a></span><span class="op" id="1473020">.</span><span class="ident" id="1473021">Err</span><span class="op" id="1473024">.</span><span class="ident" id="1473025">Error</span><span class="op" id="1473030">(</span><span class="op" id="1473031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473034">return</span>&nbsp;<span class="ident" id="1473041"><a href="/net/net.go.html#1472904">s</a></span><br>
<span class="lineno">320</span><span class="op" id="1473043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473046">type</span>&nbsp;<span class="ident" id="1473051">temporary</span>&nbsp;<span class="keyword" id="1473061">interface</span>&nbsp;<span class="op" id="1473071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473074">Temporary</span><span class="op" id="1473083">(</span><span class="op" id="1473084">)</span>&nbsp;<span class="builtintype" id="1473086">bool</span><br>
<span class="lineno"></span><span class="op" id="1473091">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="1473094">func</span>&nbsp;<span class="op" id="1473099">(</span><span class="ident" id="1473100">e</span>&nbsp;<span class="op" id="1473102">*</span><span class="ident" id="1473103"><a href="/net/net.go.html#1472480">OpError</a></span><span class="op" id="1473110">)</span>&nbsp;<span class="ident" id="1473112">Temporary</span><span class="op" id="1473121">(</span><span class="op" id="1473122">)</span>&nbsp;<span class="builtintype" id="1473124">bool</span>&nbsp;<span class="op" id="1473129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473132">t</span><span class="op" id="1473133">,</span>&nbsp;<span class="ident" id="1473135">ok</span>&nbsp;<span class="op" id="1473138">:=</span>&nbsp;<span class="ident" id="1473141"><a href="/net/net.go.html#1473100">e</a></span><span class="op" id="1473142">.</span><span class="ident" id="1473143">Err</span><span class="op" id="1473146">.</span><span class="op" id="1473147">(</span><span class="ident" id="1473148"><a href="/net/net.go.html#1473051">temporary</a></span><span class="op" id="1473157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473160">return</span>&nbsp;<span class="ident" id="1473167"><a href="/net/net.go.html#1473135">ok</a></span>&nbsp;<span class="op" id="1473170">&amp;&amp;</span>&nbsp;<span class="ident" id="1473173"><a href="/net/net.go.html#1473132">t</a></span><span class="op" id="1473174">.</span><span class="ident" id="1473175">Temporary</span><span class="op" id="1473184">(</span><span class="op" id="1473185">)</span><br>
<span class="lineno"></span><span class="op" id="1473187">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="1473190">var</span>&nbsp;<span class="ident" id="1473194">noDeadline</span>&nbsp;<span class="op" id="1473205">=</span>&nbsp;<span class="ident" id="1473207"><a href="/net/net.go.html#1465034">time</a></span><span class="op" id="1473211">.</span><span class="ident" id="1473212">Time</span><span class="op" id="1473216">{</span><span class="op" id="1473217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473220">type</span>&nbsp;<span class="ident" id="1473225">timeout</span>&nbsp;<span class="keyword" id="1473233">interface</span>&nbsp;<span class="op" id="1473243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473246">Timeout</span><span class="op" id="1473253">(</span><span class="op" id="1473254">)</span>&nbsp;<span class="builtintype" id="1473256">bool</span><br>
<span class="lineno">335</span><span class="op" id="1473261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473264">func</span>&nbsp;<span class="op" id="1473269">(</span><span class="ident" id="1473270">e</span>&nbsp;<span class="op" id="1473272">*</span><span class="ident" id="1473273"><a href="/net/net.go.html#1472480">OpError</a></span><span class="op" id="1473280">)</span>&nbsp;<span class="ident" id="1473282">Timeout</span><span class="op" id="1473289">(</span><span class="op" id="1473290">)</span>&nbsp;<span class="builtintype" id="1473292">bool</span>&nbsp;<span class="op" id="1473297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473300">t</span><span class="op" id="1473301">,</span>&nbsp;<span class="ident" id="1473303">ok</span>&nbsp;<span class="op" id="1473306">:=</span>&nbsp;<span class="ident" id="1473309"><a href="/net/net.go.html#1473270">e</a></span><span class="op" id="1473310">.</span><span class="ident" id="1473311">Err</span><span class="op" id="1473314">.</span><span class="op" id="1473315">(</span><span class="ident" id="1473316"><a href="/net/net.go.html#1473225">timeout</a></span><span class="op" id="1473323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473326">return</span>&nbsp;<span class="ident" id="1473333"><a href="/net/net.go.html#1473303">ok</a></span>&nbsp;<span class="op" id="1473336">&amp;&amp;</span>&nbsp;<span class="ident" id="1473339"><a href="/net/net.go.html#1473300">t</a></span><span class="op" id="1473340">.</span><span class="ident" id="1473341">Timeout</span><span class="op" id="1473348">(</span><span class="op" id="1473349">)</span><br>
<span class="lineno">340</span><span class="op" id="1473351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473354">type</span>&nbsp;<span class="ident" id="1473359">timeoutError</span>&nbsp;<span class="keyword" id="1473372">struct</span><span class="op" id="1473378">{</span><span class="op" id="1473379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473382">func</span>&nbsp;<span class="op" id="1473387">(</span><span class="ident" id="1473388">e</span>&nbsp;<span class="op" id="1473390">*</span><span class="ident" id="1473391"><a href="/net/net.go.html#1473359">timeoutError</a></span><span class="op" id="1473403">)</span>&nbsp;<span class="ident" id="1473405">Error</span><span class="op" id="1473410">(</span><span class="op" id="1473411">)</span>&nbsp;<span class="builtintype" id="1473413">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1473422">{</span>&nbsp;<span class="keyword" id="1473424">return</span>&nbsp;<span class="string" id="1473431">&#34;i/o&nbsp;timeout&#34;</span>&nbsp;<span class="op" id="1473445">}</span><br>
<span class="lineno">345</span><span class="keyword" id="1473447">func</span>&nbsp;<span class="op" id="1473452">(</span><span class="ident" id="1473453">e</span>&nbsp;<span class="op" id="1473455">*</span><span class="ident" id="1473456"><a href="/net/net.go.html#1473359">timeoutError</a></span><span class="op" id="1473468">)</span>&nbsp;<span class="ident" id="1473470">Timeout</span><span class="op" id="1473477">(</span><span class="op" id="1473478">)</span>&nbsp;<span class="builtintype" id="1473480">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1473487">{</span>&nbsp;<span class="keyword" id="1473489">return</span>&nbsp;<span class="builtintype" id="1473496">true</span>&nbsp;<span class="op" id="1473501">}</span><br>
<span class="lineno"></span><span class="keyword" id="1473503">func</span>&nbsp;<span class="op" id="1473508">(</span><span class="ident" id="1473509">e</span>&nbsp;<span class="op" id="1473511">*</span><span class="ident" id="1473512"><a href="/net/net.go.html#1473359">timeoutError</a></span><span class="op" id="1473524">)</span>&nbsp;<span class="ident" id="1473526">Temporary</span><span class="op" id="1473535">(</span><span class="op" id="1473536">)</span>&nbsp;<span class="builtintype" id="1473538">bool</span>&nbsp;<span class="op" id="1473543">{</span>&nbsp;<span class="keyword" id="1473545">return</span>&nbsp;<span class="builtintype" id="1473552">true</span>&nbsp;<span class="op" id="1473557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473560">type</span>&nbsp;<span class="ident" id="1473565">AddrError</span>&nbsp;<span class="keyword" id="1473575">struct</span>&nbsp;<span class="op" id="1473582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473585">Err</span>&nbsp;&nbsp;<span class="builtintype" id="1473590">string</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473598">Addr</span>&nbsp;<span class="builtintype" id="1473603">string</span><br>
<span class="lineno"></span><span class="op" id="1473610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473613">func</span>&nbsp;<span class="op" id="1473618">(</span><span class="ident" id="1473619">e</span>&nbsp;<span class="op" id="1473621">*</span><span class="ident" id="1473622"><a href="/net/net.go.html#1473565">AddrError</a></span><span class="op" id="1473631">)</span>&nbsp;<span class="ident" id="1473633">Error</span><span class="op" id="1473638">(</span><span class="op" id="1473639">)</span>&nbsp;<span class="builtintype" id="1473641">string</span>&nbsp;<span class="op" id="1473648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473651">if</span>&nbsp;<span class="ident" id="1473654"><a href="/net/net.go.html#1473619">e</a></span>&nbsp;<span class="op" id="1473656">==</span>&nbsp;<span class="ident" id="1473659">nil</span>&nbsp;<span class="op" id="1473663">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473667">return</span>&nbsp;<span class="string" id="1473674">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473686">s</span>&nbsp;<span class="op" id="1473688">:=</span>&nbsp;<span class="ident" id="1473691"><a href="/net/net.go.html#1473619">e</a></span><span class="op" id="1473692">.</span><span class="ident" id="1473693">Err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473698">if</span>&nbsp;<span class="ident" id="1473701"><a href="/net/net.go.html#1473619">e</a></span><span class="op" id="1473702">.</span><span class="ident" id="1473703">Addr</span>&nbsp;<span class="op" id="1473708">!=</span>&nbsp;<span class="string" id="1473711">&#34;&#34;</span>&nbsp;<span class="op" id="1473714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473718"><a href="/net/net.go.html#1473686">s</a></span>&nbsp;<span class="op" id="1473720">+=</span>&nbsp;<span class="string" id="1473723">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="1473727">+</span>&nbsp;<span class="ident" id="1473729"><a href="/net/net.go.html#1473619">e</a></span><span class="op" id="1473730">.</span><span class="ident" id="1473731">Addr</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473740">return</span>&nbsp;<span class="ident" id="1473747"><a href="/net/net.go.html#1473686">s</a></span><br>
<span class="lineno"></span><span class="op" id="1473749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473752">func</span>&nbsp;<span class="op" id="1473757">(</span><span class="ident" id="1473758">e</span>&nbsp;<span class="op" id="1473760">*</span><span class="ident" id="1473761"><a href="/net/net.go.html#1473565">AddrError</a></span><span class="op" id="1473770">)</span>&nbsp;<span class="ident" id="1473772">Temporary</span><span class="op" id="1473781">(</span><span class="op" id="1473782">)</span>&nbsp;<span class="builtintype" id="1473784">bool</span>&nbsp;<span class="op" id="1473789">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473792">return</span>&nbsp;<span class="builtintype" id="1473799">false</span><br>
<span class="lineno"></span><span class="op" id="1473805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473808">func</span>&nbsp;<span class="op" id="1473813">(</span><span class="ident" id="1473814">e</span>&nbsp;<span class="op" id="1473816">*</span><span class="ident" id="1473817"><a href="/net/net.go.html#1473565">AddrError</a></span><span class="op" id="1473826">)</span>&nbsp;<span class="ident" id="1473828">Timeout</span><span class="op" id="1473835">(</span><span class="op" id="1473836">)</span>&nbsp;<span class="builtintype" id="1473838">bool</span>&nbsp;<span class="op" id="1473843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473846">return</span>&nbsp;<span class="builtintype" id="1473853">false</span><br>
<span class="lineno">370</span><span class="op" id="1473859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473862">type</span>&nbsp;<span class="ident" id="1473867">UnknownNetworkError</span>&nbsp;<span class="builtintype" id="1473887">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473895">func</span>&nbsp;<span class="op" id="1473900">(</span><span class="ident" id="1473901">e</span>&nbsp;<span class="ident" id="1473903"><a href="/net/net.go.html#1473867">UnknownNetworkError</a></span><span class="op" id="1473922">)</span>&nbsp;<span class="ident" id="1473924">Error</span><span class="op" id="1473929">(</span><span class="op" id="1473930">)</span>&nbsp;<span class="builtintype" id="1473932">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1473941">{</span>&nbsp;<span class="keyword" id="1473943">return</span>&nbsp;<span class="string" id="1473950">&#34;unknown&nbsp;network&nbsp;&#34;</span>&nbsp;<span class="op" id="1473969">+</span>&nbsp;<span class="builtintype" id="1473971">string</span><span class="op" id="1473977">(</span><span class="ident" id="1473978"><a href="/net/net.go.html#1473901">e</a></span><span class="op" id="1473979">)</span>&nbsp;<span class="op" id="1473981">}</span><br>
<span class="lineno">375</span><span class="keyword" id="1473983">func</span>&nbsp;<span class="op" id="1473988">(</span><span class="ident" id="1473989">e</span>&nbsp;<span class="ident" id="1473991"><a href="/net/net.go.html#1473867">UnknownNetworkError</a></span><span class="op" id="1474010">)</span>&nbsp;<span class="ident" id="1474012">Temporary</span><span class="op" id="1474021">(</span><span class="op" id="1474022">)</span>&nbsp;<span class="builtintype" id="1474024">bool</span>&nbsp;<span class="op" id="1474029">{</span>&nbsp;<span class="keyword" id="1474031">return</span>&nbsp;<span class="builtintype" id="1474038">false</span>&nbsp;<span class="op" id="1474044">}</span><br>
<span class="lineno"></span><span class="keyword" id="1474046">func</span>&nbsp;<span class="op" id="1474051">(</span><span class="ident" id="1474052">e</span>&nbsp;<span class="ident" id="1474054"><a href="/net/net.go.html#1473867">UnknownNetworkError</a></span><span class="op" id="1474073">)</span>&nbsp;<span class="ident" id="1474075">Timeout</span><span class="op" id="1474082">(</span><span class="op" id="1474083">)</span>&nbsp;<span class="builtintype" id="1474085">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1474092">{</span>&nbsp;<span class="keyword" id="1474094">return</span>&nbsp;<span class="builtintype" id="1474101">false</span>&nbsp;<span class="op" id="1474107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1474110">type</span>&nbsp;<span class="ident" id="1474115">InvalidAddrError</span>&nbsp;<span class="builtintype" id="1474132">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="1474140">func</span>&nbsp;<span class="op" id="1474145">(</span><span class="ident" id="1474146">e</span>&nbsp;<span class="ident" id="1474148"><a href="/net/net.go.html#1474115">InvalidAddrError</a></span><span class="op" id="1474164">)</span>&nbsp;<span class="ident" id="1474166">Error</span><span class="op" id="1474171">(</span><span class="op" id="1474172">)</span>&nbsp;<span class="builtintype" id="1474174">string</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1474183">{</span>&nbsp;<span class="keyword" id="1474185">return</span>&nbsp;<span class="builtintype" id="1474192">string</span><span class="op" id="1474198">(</span><span class="ident" id="1474199"><a href="/net/net.go.html#1474146">e</a></span><span class="op" id="1474200">)</span>&nbsp;<span class="op" id="1474202">}</span><br>
<span class="lineno"></span><span class="keyword" id="1474204">func</span>&nbsp;<span class="op" id="1474209">(</span><span class="ident" id="1474210">e</span>&nbsp;<span class="ident" id="1474212"><a href="/net/net.go.html#1474115">InvalidAddrError</a></span><span class="op" id="1474228">)</span>&nbsp;<span class="ident" id="1474230">Timeout</span><span class="op" id="1474237">(</span><span class="op" id="1474238">)</span>&nbsp;<span class="builtintype" id="1474240">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1474247">{</span>&nbsp;<span class="keyword" id="1474249">return</span>&nbsp;<span class="builtintype" id="1474256">false</span>&nbsp;<span class="op" id="1474262">}</span><br>
<span class="lineno"></span><span class="keyword" id="1474264">func</span>&nbsp;<span class="op" id="1474269">(</span><span class="ident" id="1474270">e</span>&nbsp;<span class="ident" id="1474272"><a href="/net/net.go.html#1474115">InvalidAddrError</a></span><span class="op" id="1474288">)</span>&nbsp;<span class="ident" id="1474290">Temporary</span><span class="op" id="1474299">(</span><span class="op" id="1474300">)</span>&nbsp;<span class="builtintype" id="1474302">bool</span>&nbsp;<span class="op" id="1474307">{</span>&nbsp;<span class="keyword" id="1474309">return</span>&nbsp;<span class="builtintype" id="1474316">false</span>&nbsp;<span class="op" id="1474322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1474325">//&nbsp;DNSConfigError&nbsp;represents&nbsp;an&nbsp;error&nbsp;reading&nbsp;the&nbsp;machine&#39;s&nbsp;DNS&nbsp;configuration.</span><br>
<span class="lineno">385</span><span class="keyword" id="1474404">type</span>&nbsp;<span class="ident" id="1474409">DNSConfigError</span>&nbsp;<span class="keyword" id="1474424">struct</span>&nbsp;<span class="op" id="1474431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474434">Err</span>&nbsp;<span class="builtintype" id="1474438">error</span><br>
<span class="lineno"></span><span class="op" id="1474444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1474447">func</span>&nbsp;<span class="op" id="1474452">(</span><span class="ident" id="1474453">e</span>&nbsp;<span class="op" id="1474455">*</span><span class="ident" id="1474456"><a href="/net/net.go.html#1474409">DNSConfigError</a></span><span class="op" id="1474470">)</span>&nbsp;<span class="ident" id="1474472">Error</span><span class="op" id="1474477">(</span><span class="op" id="1474478">)</span>&nbsp;<span class="builtintype" id="1474480">string</span>&nbsp;<span class="op" id="1474487">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474490">return</span>&nbsp;<span class="string" id="1474497">&#34;error&nbsp;reading&nbsp;DNS&nbsp;config:&nbsp;&#34;</span>&nbsp;<span class="op" id="1474526">+</span>&nbsp;<span class="ident" id="1474528"><a href="/net/net.go.html#1474453">e</a></span><span class="op" id="1474529">.</span><span class="ident" id="1474530">Err</span><span class="op" id="1474533">.</span><span class="ident" id="1474534">Error</span><span class="op" id="1474539">(</span><span class="op" id="1474540">)</span><br>
<span class="lineno"></span><span class="op" id="1474542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1474545">func</span>&nbsp;<span class="op" id="1474550">(</span><span class="ident" id="1474551">e</span>&nbsp;<span class="op" id="1474553">*</span><span class="ident" id="1474554"><a href="/net/net.go.html#1474409">DNSConfigError</a></span><span class="op" id="1474568">)</span>&nbsp;<span class="ident" id="1474570">Timeout</span><span class="op" id="1474577">(</span><span class="op" id="1474578">)</span>&nbsp;<span class="builtintype" id="1474580">bool</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1474587">{</span>&nbsp;<span class="keyword" id="1474589">return</span>&nbsp;<span class="builtintype" id="1474596">false</span>&nbsp;<span class="op" id="1474602">}</span><br>
<span class="lineno"></span><span class="keyword" id="1474604">func</span>&nbsp;<span class="op" id="1474609">(</span><span class="ident" id="1474610">e</span>&nbsp;<span class="op" id="1474612">*</span><span class="ident" id="1474613"><a href="/net/net.go.html#1474409">DNSConfigError</a></span><span class="op" id="1474627">)</span>&nbsp;<span class="ident" id="1474629">Temporary</span><span class="op" id="1474638">(</span><span class="op" id="1474639">)</span>&nbsp;<span class="builtintype" id="1474641">bool</span>&nbsp;<span class="op" id="1474646">{</span>&nbsp;<span class="keyword" id="1474648">return</span>&nbsp;<span class="builtintype" id="1474655">false</span>&nbsp;<span class="op" id="1474661">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span><span class="keyword" id="1474664">type</span>&nbsp;<span class="ident" id="1474669">writerOnly</span>&nbsp;<span class="keyword" id="1474680">struct</span>&nbsp;<span class="op" id="1474687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474690"><a href="/net/net.go.html#1465011">io</a></span><span class="op" id="1474692">.</span><span class="ident" id="1474693">Writer</span><br>
<span class="lineno"></span><span class="op" id="1474700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">400</span><span class="comment" id="1474703">//&nbsp;Fallback&nbsp;implementation&nbsp;of&nbsp;io.ReaderFrom&#39;s&nbsp;ReadFrom,&nbsp;when&nbsp;sendfile&nbsp;isn&#39;t</span><br>
<span class="lineno"></span><span class="comment" id="1474779">//&nbsp;applicable.</span><br>
<span class="lineno"></span><span class="keyword" id="1474794">func</span>&nbsp;<span class="ident" id="1474799">genericReadFrom</span><span class="op" id="1474814">(</span><span class="ident" id="1474815">w</span>&nbsp;<span class="ident" id="1474817"><a href="/net/net.go.html#1465011">io</a></span><span class="op" id="1474819">.</span><span class="ident" id="1474820">Writer</span><span class="op" id="1474826">,</span>&nbsp;<span class="ident" id="1474828">r</span>&nbsp;<span class="ident" id="1474830"><a href="/net/net.go.html#1465011">io</a></span><span class="op" id="1474832">.</span><span class="ident" id="1474833">Reader</span><span class="op" id="1474839">)</span>&nbsp;<span class="op" id="1474841">(</span><span class="ident" id="1474842">n</span>&nbsp;<span class="ident" id="1474844">int64</span><span class="op" id="1474849">,</span>&nbsp;<span class="ident" id="1474851">err</span>&nbsp;<span class="builtintype" id="1474855">error</span><span class="op" id="1474860">)</span>&nbsp;<span class="op" id="1474862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474865">//&nbsp;Use&nbsp;wrapper&nbsp;to&nbsp;hide&nbsp;existing&nbsp;r.ReadFrom&nbsp;from&nbsp;io.Copy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474923">return</span>&nbsp;<span class="ident" id="1474930"><a href="/net/net.go.html#1465011">io</a></span><span class="op" id="1474932">.</span><span class="ident" id="1474933">Copy</span><span class="op" id="1474937">(</span><span class="ident" id="1474938"><a href="/net/net.go.html#1474669">writerOnly</a></span><span class="op" id="1474948">{</span><span class="ident" id="1474949"><a href="/net/net.go.html#1474815">w</a></span><span class="op" id="1474950">}</span><span class="op" id="1474951">,</span>&nbsp;<span class="ident" id="1474953"><a href="/net/net.go.html#1474828">r</a></span><span class="op" id="1474954">)</span><br>
<span class="lineno">405</span><span class="op" id="1474956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1474959">//&nbsp;Limit&nbsp;the&nbsp;number&nbsp;of&nbsp;concurrent&nbsp;cgo-using&nbsp;goroutines,&nbsp;because</span><br>
<span class="lineno"></span><span class="comment" id="1475023">//&nbsp;each&nbsp;will&nbsp;block&nbsp;an&nbsp;entire&nbsp;operating&nbsp;system&nbsp;thread.&nbsp;The&nbsp;usual&nbsp;culprit</span><br>
<span class="lineno"></span><span class="comment" id="1475095">//&nbsp;is&nbsp;resolving&nbsp;many&nbsp;DNS&nbsp;names&nbsp;in&nbsp;separate&nbsp;goroutines&nbsp;but&nbsp;the&nbsp;DNS</span><br>
<span class="lineno">410</span><span class="comment" id="1475161">//&nbsp;server&nbsp;is&nbsp;not&nbsp;responding.&nbsp;Then&nbsp;the&nbsp;many&nbsp;lookups&nbsp;each&nbsp;use&nbsp;a&nbsp;different</span><br>
<span class="lineno"></span><span class="comment" id="1475233">//&nbsp;thread,&nbsp;and&nbsp;the&nbsp;system&nbsp;or&nbsp;the&nbsp;program&nbsp;runs&nbsp;out&nbsp;of&nbsp;threads.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1475296">var</span>&nbsp;<span class="ident" id="1475300">threadLimit</span>&nbsp;<span class="op" id="1475312">=</span>&nbsp;<span class="builtinfunc" id="1475314">make</span><span class="op" id="1475318">(</span><span class="keyword" id="1475319">chan</span>&nbsp;<span class="keyword" id="1475324">struct</span><span class="op" id="1475330">{</span><span class="op" id="1475331">}</span><span class="op" id="1475332">,</span>&nbsp;<span class="num" id="1475334">500</span><span class="op" id="1475337">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">415</span><span class="comment" id="1475340">//&nbsp;Using&nbsp;send&nbsp;for&nbsp;acquire&nbsp;is&nbsp;fine&nbsp;here&nbsp;because&nbsp;we&nbsp;are&nbsp;not&nbsp;using&nbsp;this</span><br>
<span class="lineno"></span><span class="comment" id="1475409">//&nbsp;to&nbsp;protect&nbsp;any&nbsp;memory.&nbsp;All&nbsp;we&nbsp;care&nbsp;about&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;goroutines</span><br>
<span class="lineno"></span><span class="comment" id="1475481">//&nbsp;making&nbsp;calls&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1475509">func</span>&nbsp;<span class="ident" id="1475514">acquireThread</span><span class="op" id="1475527">(</span><span class="op" id="1475528">)</span>&nbsp;<span class="op" id="1475530">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475533"><a href="/net/net.go.html#1475300">threadLimit</a></span>&nbsp;<span class="op" id="1475545">&lt;-</span>&nbsp;<span class="keyword" id="1475548">struct</span><span class="op" id="1475554">{</span><span class="op" id="1475555">}</span><span class="op" id="1475556">{</span><span class="op" id="1475557">}</span><br>
<span class="lineno"></span><span class="op" id="1475559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1475562">func</span>&nbsp;<span class="ident" id="1475567">releaseThread</span><span class="op" id="1475580">(</span><span class="op" id="1475581">)</span>&nbsp;<span class="op" id="1475583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1475586">&lt;-</span><span class="ident" id="1475588"><a href="/net/net.go.html#1475300">threadLimit</a></span><br>
<span class="lineno">425</span><span class="op" id="1475600">}</span>
</div>
</body>
</html>
