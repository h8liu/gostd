<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html" class="current">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3268863">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3268919">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3268973">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3269024">package</span>&nbsp;<span class="ident" id="3269032">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3269037">//&nbsp;UDPAddr&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;a&nbsp;UDP&nbsp;end&nbsp;point.</span><br>
<span class="lineno"></span><span class="keyword" id="3269091">type</span>&nbsp;<span class="ident" id="3269096">UDPAddr</span>&nbsp;<span class="keyword" id="3269104">struct</span>&nbsp;<span class="op" id="3269111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3269114">IP</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3269119">IP</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3269123">Port</span>&nbsp;<span class="builtintype" id="3269128">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3269133">Zone</span>&nbsp;<span class="builtintype" id="3269138">string</span>&nbsp;<span class="comment" id="3269145">//&nbsp;IPv6&nbsp;scoped&nbsp;addressing&nbsp;zone</span><br>
<span class="lineno"></span><span class="op" id="3269176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3269179">//&nbsp;Network&nbsp;returns&nbsp;the&nbsp;address&#39;s&nbsp;network&nbsp;name,&nbsp;&#34;udp&#34;.</span><br>
<span class="lineno">15</span><span class="keyword" id="3269233">func</span>&nbsp;<span class="op" id="3269238">(</span><span class="ident" id="3269239">a</span>&nbsp;<span class="op" id="3269241">*</span><span class="ident" id="3269242">UDPAddr</span><span class="op" id="3269249">)</span>&nbsp;<span class="ident" id="3269251">Network</span><span class="op" id="3269258">(</span><span class="op" id="3269259">)</span>&nbsp;<span class="builtintype" id="3269261">string</span>&nbsp;<span class="op" id="3269268">{</span>&nbsp;<span class="keyword" id="3269270">return</span>&nbsp;<span class="string" id="3269277">&#34;udp&#34;</span>&nbsp;<span class="op" id="3269283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3269286">func</span>&nbsp;<span class="op" id="3269291">(</span><span class="ident" id="3269292">a</span>&nbsp;<span class="op" id="3269294">*</span><span class="ident" id="3269295">UDPAddr</span><span class="op" id="3269302">)</span>&nbsp;<span class="ident" id="3269304">String</span><span class="op" id="3269310">(</span><span class="op" id="3269311">)</span>&nbsp;<span class="builtintype" id="3269313">string</span>&nbsp;<span class="op" id="3269320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269323">if</span>&nbsp;<span class="ident" id="3269326">a</span>&nbsp;<span class="op" id="3269328">==</span>&nbsp;<span class="ident" id="3269331">nil</span>&nbsp;<span class="op" id="3269335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269339">return</span>&nbsp;<span class="string" id="3269346">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3269355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3269358">ip</span>&nbsp;<span class="op" id="3269361">:=</span>&nbsp;<span class="ident" id="3269364">ipEmptyString</span><span class="op" id="3269377">(</span><span class="ident" id="3269378">a</span><span class="op" id="3269379">.</span><span class="ident" id="3269380">IP</span><span class="op" id="3269382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269385">if</span>&nbsp;<span class="ident" id="3269388">a</span><span class="op" id="3269389">.</span><span class="ident" id="3269390">Zone</span>&nbsp;<span class="op" id="3269395">!=</span>&nbsp;<span class="string" id="3269398">&#34;&#34;</span>&nbsp;<span class="op" id="3269401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269405">return</span>&nbsp;<span class="ident" id="3269412">JoinHostPort</span><span class="op" id="3269424">(</span><span class="ident" id="3269425">ip</span><span class="op" id="3269427">+</span><span class="string" id="3269428">&#34;%&#34;</span><span class="op" id="3269431">+</span><span class="ident" id="3269432">a</span><span class="op" id="3269433">.</span><span class="ident" id="3269434">Zone</span><span class="op" id="3269438">,</span>&nbsp;<span class="ident" id="3269440">itoa</span><span class="op" id="3269444">(</span><span class="ident" id="3269445">a</span><span class="op" id="3269446">.</span><span class="ident" id="3269447">Port</span><span class="op" id="3269451">)</span><span class="op" id="3269452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3269455">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269458">return</span>&nbsp;<span class="ident" id="3269465">JoinHostPort</span><span class="op" id="3269477">(</span><span class="ident" id="3269478">ip</span><span class="op" id="3269480">,</span>&nbsp;<span class="ident" id="3269482">itoa</span><span class="op" id="3269486">(</span><span class="ident" id="3269487">a</span><span class="op" id="3269488">.</span><span class="ident" id="3269489">Port</span><span class="op" id="3269493">)</span><span class="op" id="3269494">)</span><br>
<span class="lineno"></span><span class="op" id="3269496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3269499">func</span>&nbsp;<span class="op" id="3269504">(</span><span class="ident" id="3269505">a</span>&nbsp;<span class="op" id="3269507">*</span><span class="ident" id="3269508">UDPAddr</span><span class="op" id="3269515">)</span>&nbsp;<span class="ident" id="3269517">toAddr</span><span class="op" id="3269523">(</span><span class="op" id="3269524">)</span>&nbsp;<span class="ident" id="3269526">Addr</span>&nbsp;<span class="op" id="3269531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269534">if</span>&nbsp;<span class="ident" id="3269537">a</span>&nbsp;<span class="op" id="3269539">==</span>&nbsp;<span class="ident" id="3269542">nil</span>&nbsp;<span class="op" id="3269546">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269550">return</span>&nbsp;<span class="ident" id="3269557">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3269562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269565">return</span>&nbsp;<span class="ident" id="3269572">a</span><br>
<span class="lineno"></span><span class="op" id="3269574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3269577">//&nbsp;ResolveUDPAddr&nbsp;parses&nbsp;addr&nbsp;as&nbsp;a&nbsp;UDP&nbsp;address&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;host:port&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3269648">//&nbsp;or&nbsp;&#34;[ipv6-host%zone]:port&#34;&nbsp;and&nbsp;resolves&nbsp;a&nbsp;pair&nbsp;of&nbsp;domain&nbsp;name&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3269717">//&nbsp;port&nbsp;name&nbsp;on&nbsp;the&nbsp;network&nbsp;net,&nbsp;which&nbsp;must&nbsp;be&nbsp;&#34;udp&#34;,&nbsp;&#34;udp4&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3269781">//&nbsp;&#34;udp6&#34;.&nbsp;&nbsp;A&nbsp;literal&nbsp;address&nbsp;or&nbsp;host&nbsp;name&nbsp;for&nbsp;IPv6&nbsp;must&nbsp;be&nbsp;enclosed</span><br>
<span class="lineno"></span><span class="comment" id="3269850">//&nbsp;in&nbsp;square&nbsp;brackets,&nbsp;as&nbsp;in&nbsp;&#34;[::1]:80&#34;,&nbsp;&#34;[ipv6-host]:http&#34;&nbsp;or</span><br>
<span class="lineno">40</span><span class="comment" id="3269913">//&nbsp;&#34;[ipv6-host%zone]:80&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3269939">func</span>&nbsp;<span class="ident" id="3269944">ResolveUDPAddr</span><span class="op" id="3269958">(</span><span class="ident" id="3269959">net</span><span class="op" id="3269962">,</span>&nbsp;<span class="ident" id="3269964">addr</span>&nbsp;<span class="builtintype" id="3269969">string</span><span class="op" id="3269975">)</span>&nbsp;<span class="op" id="3269977">(</span><span class="op" id="3269978">*</span><span class="ident" id="3269979">UDPAddr</span><span class="op" id="3269986">,</span>&nbsp;<span class="builtintype" id="3269988">error</span><span class="op" id="3269993">)</span>&nbsp;<span class="op" id="3269995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3269998">switch</span>&nbsp;<span class="ident" id="3270005">net</span>&nbsp;<span class="op" id="3270009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270012">case</span>&nbsp;<span class="string" id="3270017">&#34;udp&#34;</span><span class="op" id="3270022">,</span>&nbsp;<span class="string" id="3270024">&#34;udp4&#34;</span><span class="op" id="3270030">,</span>&nbsp;<span class="string" id="3270032">&#34;udp6&#34;</span><span class="op" id="3270038">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270041">case</span>&nbsp;<span class="string" id="3270046">&#34;&#34;</span><span class="op" id="3270048">:</span>&nbsp;<span class="comment" id="3270050">//&nbsp;a&nbsp;hint&nbsp;wildcard&nbsp;for&nbsp;Go&nbsp;1.0&nbsp;undocumented&nbsp;behavior</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3270104">net</span>&nbsp;<span class="op" id="3270108">=</span>&nbsp;<span class="string" id="3270110">&#34;udp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270117">default</span><span class="op" id="3270124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270128">return</span>&nbsp;<span class="ident" id="3270135">nil</span><span class="op" id="3270138">,</span>&nbsp;<span class="ident" id="3270140">UnknownNetworkError</span><span class="op" id="3270159">(</span><span class="ident" id="3270160">net</span><span class="op" id="3270163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3270166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3270169">a</span><span class="op" id="3270170">,</span>&nbsp;<span class="ident" id="3270172">err</span>&nbsp;<span class="op" id="3270176">:=</span>&nbsp;<span class="ident" id="3270179">resolveInternetAddr</span><span class="op" id="3270198">(</span><span class="ident" id="3270199">net</span><span class="op" id="3270202">,</span>&nbsp;<span class="ident" id="3270204">addr</span><span class="op" id="3270208">,</span>&nbsp;<span class="ident" id="3270210">noDeadline</span><span class="op" id="3270220">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270223">if</span>&nbsp;<span class="ident" id="3270226">err</span>&nbsp;<span class="op" id="3270230">!=</span>&nbsp;<span class="ident" id="3270233">nil</span>&nbsp;<span class="op" id="3270237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270241">return</span>&nbsp;<span class="ident" id="3270248">nil</span><span class="op" id="3270251">,</span>&nbsp;<span class="ident" id="3270253">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3270258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3270261">return</span>&nbsp;<span class="ident" id="3270268">a</span><span class="op" id="3270269">.</span><span class="ident" id="3270270">toAddr</span><span class="op" id="3270276">(</span><span class="op" id="3270277">)</span><span class="op" id="3270278">.</span><span class="op" id="3270279">(</span><span class="op" id="3270280">*</span><span class="ident" id="3270281">UDPAddr</span><span class="op" id="3270288">)</span><span class="op" id="3270289">,</span>&nbsp;<span class="ident" id="3270291">nil</span><br>
<span class="lineno"></span><span class="op" id="3270295">}</span>
</div>
</body>
</html>
