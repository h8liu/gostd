<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7841393">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7841448">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7841502">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7841553">package</span>&nbsp;<span class="ident" id="7841561">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7841570">import</span>&nbsp;<span class="op" id="7841577">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841580">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841592">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841605">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841611">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841628">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841639">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7841649">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7841652">var</span>&nbsp;<span class="ident" id="7841656">fset</span>&nbsp;<span class="op" id="7841661">=</span>&nbsp;<span class="ident" id="7841663">token</span><span class="op" id="7841668">.</span><span class="ident" id="7841669">NewFileSet</span><span class="op" id="7841679">(</span><span class="op" id="7841680">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7841683">const</span>&nbsp;<span class="comment" id="7841689">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="7841701">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841704">special</span>&nbsp;<span class="op" id="7841712">=</span>&nbsp;<span class="ident" id="7841714">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841720">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841729">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841739">keyword</span><br>
<span class="lineno"></span><span class="op" id="7841747">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7841750">func</span>&nbsp;<span class="ident" id="7841755">tokenclass</span><span class="op" id="7841765">(</span><span class="ident" id="7841766">tok</span>&nbsp;<span class="ident" id="7841770">token</span><span class="op" id="7841775">.</span><span class="ident" id="7841776">Token</span><span class="op" id="7841781">)</span>&nbsp;<span class="builtintype" id="7841783">int</span>&nbsp;<span class="op" id="7841787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841790">switch</span>&nbsp;<span class="op" id="7841797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841800">case</span>&nbsp;<span class="ident" id="7841805">tok</span><span class="op" id="7841808">.</span><span class="ident" id="7841809">IsLiteral</span><span class="op" id="7841818">(</span><span class="op" id="7841819">)</span><span class="op" id="7841820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841824">return</span>&nbsp;<span class="ident" id="7841831">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841840">case</span>&nbsp;<span class="ident" id="7841845">tok</span><span class="op" id="7841848">.</span><span class="ident" id="7841849">IsOperator</span><span class="op" id="7841859">(</span><span class="op" id="7841860">)</span><span class="op" id="7841861">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841865">return</span>&nbsp;<span class="ident" id="7841872">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841882">case</span>&nbsp;<span class="ident" id="7841887">tok</span><span class="op" id="7841890">.</span><span class="ident" id="7841891">IsKeyword</span><span class="op" id="7841900">(</span><span class="op" id="7841901">)</span><span class="op" id="7841902">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841906">return</span>&nbsp;<span class="ident" id="7841913">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7841922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841925">return</span>&nbsp;<span class="ident" id="7841932">special</span><br>
<span class="lineno">35</span><span class="op" id="7841940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7841943">type</span>&nbsp;<span class="ident" id="7841948">elt</span>&nbsp;<span class="keyword" id="7841952">struct</span>&nbsp;<span class="op" id="7841959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841962">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7841968">token</span><span class="op" id="7841973">.</span><span class="ident" id="7841974">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841981">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7841987">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841995">class</span>&nbsp;<span class="builtintype" id="7842001">int</span><br>
<span class="lineno"></span><span class="op" id="7842005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7842008">var</span>&nbsp;<span class="ident" id="7842012">tokens</span>&nbsp;<span class="op" id="7842019">=</span>&nbsp;<span class="op" id="7842021">[</span><span class="op" id="7842022">...</span><span class="op" id="7842025">]</span><span class="ident" id="7842026">elt</span><span class="op" id="7842029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7842032">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842051">{</span><span class="ident" id="7842052">token</span><span class="op" id="7842057">.</span><span class="ident" id="7842058">COMMENT</span><span class="op" id="7842065">,</span>&nbsp;<span class="string" id="7842067">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7842084">,</span>&nbsp;<span class="ident" id="7842086">special</span><span class="op" id="7842093">}</span><span class="op" id="7842094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842097">{</span><span class="ident" id="7842098">token</span><span class="op" id="7842103">.</span><span class="ident" id="7842104">COMMENT</span><span class="op" id="7842111">,</span>&nbsp;<span class="string" id="7842113">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="7842130">,</span>&nbsp;<span class="ident" id="7842132">special</span><span class="op" id="7842139">}</span><span class="op" id="7842140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842143">{</span><span class="ident" id="7842144">token</span><span class="op" id="7842149">.</span><span class="ident" id="7842150">COMMENT</span><span class="op" id="7842157">,</span>&nbsp;<span class="string" id="7842159">&#34;/*\r*/&#34;</span><span class="op" id="7842167">,</span>&nbsp;<span class="ident" id="7842169">special</span><span class="op" id="7842176">}</span><span class="op" id="7842177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842180">{</span><span class="ident" id="7842181">token</span><span class="op" id="7842186">.</span><span class="ident" id="7842187">COMMENT</span><span class="op" id="7842194">,</span>&nbsp;<span class="string" id="7842196">&#34;//\r\n&#34;</span><span class="op" id="7842204">,</span>&nbsp;<span class="ident" id="7842206">special</span><span class="op" id="7842213">}</span><span class="op" id="7842214">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7842218">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842258">{</span><span class="ident" id="7842259">token</span><span class="op" id="7842264">.</span><span class="ident" id="7842265">IDENT</span><span class="op" id="7842270">,</span>&nbsp;<span class="string" id="7842272">&#34;foobar&#34;</span><span class="op" id="7842280">,</span>&nbsp;<span class="ident" id="7842282">literal</span><span class="op" id="7842289">}</span><span class="op" id="7842290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842293">{</span><span class="ident" id="7842294">token</span><span class="op" id="7842299">.</span><span class="ident" id="7842300">IDENT</span><span class="op" id="7842305">,</span>&nbsp;<span class="string" id="7842307">&#34;a۰۱۸&#34;</span><span class="op" id="7842316">,</span>&nbsp;<span class="ident" id="7842318">literal</span><span class="op" id="7842325">}</span><span class="op" id="7842326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842329">{</span><span class="ident" id="7842330">token</span><span class="op" id="7842335">.</span><span class="ident" id="7842336">IDENT</span><span class="op" id="7842341">,</span>&nbsp;<span class="string" id="7842343">&#34;foo६४&#34;</span><span class="op" id="7842354">,</span>&nbsp;<span class="ident" id="7842356">literal</span><span class="op" id="7842363">}</span><span class="op" id="7842364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842367">{</span><span class="ident" id="7842368">token</span><span class="op" id="7842373">.</span><span class="ident" id="7842374">IDENT</span><span class="op" id="7842379">,</span>&nbsp;<span class="string" id="7842381">&#34;bar９８７６&#34;</span><span class="op" id="7842398">,</span>&nbsp;<span class="ident" id="7842400">literal</span><span class="op" id="7842407">}</span><span class="op" id="7842408">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842411">{</span><span class="ident" id="7842412">token</span><span class="op" id="7842417">.</span><span class="ident" id="7842418">IDENT</span><span class="op" id="7842423">,</span>&nbsp;<span class="string" id="7842425">&#34;ŝ&#34;</span><span class="op" id="7842429">,</span>&nbsp;<span class="ident" id="7842431">literal</span><span class="op" id="7842438">}</span><span class="op" id="7842439">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7842444">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842469">{</span><span class="ident" id="7842470">token</span><span class="op" id="7842475">.</span><span class="ident" id="7842476">IDENT</span><span class="op" id="7842481">,</span>&nbsp;<span class="string" id="7842483">&#34;ŝfoo&#34;</span><span class="op" id="7842490">,</span>&nbsp;<span class="ident" id="7842492">literal</span><span class="op" id="7842499">}</span><span class="op" id="7842500">,</span>&nbsp;<span class="comment" id="7842502">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842527">{</span><span class="ident" id="7842528">token</span><span class="op" id="7842533">.</span><span class="ident" id="7842534">INT</span><span class="op" id="7842537">,</span>&nbsp;<span class="string" id="7842539">&#34;0&#34;</span><span class="op" id="7842542">,</span>&nbsp;<span class="ident" id="7842544">literal</span><span class="op" id="7842551">}</span><span class="op" id="7842552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842555">{</span><span class="ident" id="7842556">token</span><span class="op" id="7842561">.</span><span class="ident" id="7842562">INT</span><span class="op" id="7842565">,</span>&nbsp;<span class="string" id="7842567">&#34;1&#34;</span><span class="op" id="7842570">,</span>&nbsp;<span class="ident" id="7842572">literal</span><span class="op" id="7842579">}</span><span class="op" id="7842580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842583">{</span><span class="ident" id="7842584">token</span><span class="op" id="7842589">.</span><span class="ident" id="7842590">INT</span><span class="op" id="7842593">,</span>&nbsp;<span class="string" id="7842595">&#34;123456789012345678890&#34;</span><span class="op" id="7842618">,</span>&nbsp;<span class="ident" id="7842620">literal</span><span class="op" id="7842627">}</span><span class="op" id="7842628">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842631">{</span><span class="ident" id="7842632">token</span><span class="op" id="7842637">.</span><span class="ident" id="7842638">INT</span><span class="op" id="7842641">,</span>&nbsp;<span class="string" id="7842643">&#34;01234567&#34;</span><span class="op" id="7842653">,</span>&nbsp;<span class="ident" id="7842655">literal</span><span class="op" id="7842662">}</span><span class="op" id="7842663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842666">{</span><span class="ident" id="7842667">token</span><span class="op" id="7842672">.</span><span class="ident" id="7842673">INT</span><span class="op" id="7842676">,</span>&nbsp;<span class="string" id="7842678">&#34;0xcafebabe&#34;</span><span class="op" id="7842690">,</span>&nbsp;<span class="ident" id="7842692">literal</span><span class="op" id="7842699">}</span><span class="op" id="7842700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842703">{</span><span class="ident" id="7842704">token</span><span class="op" id="7842709">.</span><span class="ident" id="7842710">FLOAT</span><span class="op" id="7842715">,</span>&nbsp;<span class="string" id="7842717">&#34;0.&#34;</span><span class="op" id="7842721">,</span>&nbsp;<span class="ident" id="7842723">literal</span><span class="op" id="7842730">}</span><span class="op" id="7842731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842734">{</span><span class="ident" id="7842735">token</span><span class="op" id="7842740">.</span><span class="ident" id="7842741">FLOAT</span><span class="op" id="7842746">,</span>&nbsp;<span class="string" id="7842748">&#34;.0&#34;</span><span class="op" id="7842752">,</span>&nbsp;<span class="ident" id="7842754">literal</span><span class="op" id="7842761">}</span><span class="op" id="7842762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842765">{</span><span class="ident" id="7842766">token</span><span class="op" id="7842771">.</span><span class="ident" id="7842772">FLOAT</span><span class="op" id="7842777">,</span>&nbsp;<span class="string" id="7842779">&#34;3.14159265&#34;</span><span class="op" id="7842791">,</span>&nbsp;<span class="ident" id="7842793">literal</span><span class="op" id="7842800">}</span><span class="op" id="7842801">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842804">{</span><span class="ident" id="7842805">token</span><span class="op" id="7842810">.</span><span class="ident" id="7842811">FLOAT</span><span class="op" id="7842816">,</span>&nbsp;<span class="string" id="7842818">&#34;1e0&#34;</span><span class="op" id="7842823">,</span>&nbsp;<span class="ident" id="7842825">literal</span><span class="op" id="7842832">}</span><span class="op" id="7842833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842836">{</span><span class="ident" id="7842837">token</span><span class="op" id="7842842">.</span><span class="ident" id="7842843">FLOAT</span><span class="op" id="7842848">,</span>&nbsp;<span class="string" id="7842850">&#34;1e+100&#34;</span><span class="op" id="7842858">,</span>&nbsp;<span class="ident" id="7842860">literal</span><span class="op" id="7842867">}</span><span class="op" id="7842868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842871">{</span><span class="ident" id="7842872">token</span><span class="op" id="7842877">.</span><span class="ident" id="7842878">FLOAT</span><span class="op" id="7842883">,</span>&nbsp;<span class="string" id="7842885">&#34;1e-100&#34;</span><span class="op" id="7842893">,</span>&nbsp;<span class="ident" id="7842895">literal</span><span class="op" id="7842902">}</span><span class="op" id="7842903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842906">{</span><span class="ident" id="7842907">token</span><span class="op" id="7842912">.</span><span class="ident" id="7842913">FLOAT</span><span class="op" id="7842918">,</span>&nbsp;<span class="string" id="7842920">&#34;2.71828e-1000&#34;</span><span class="op" id="7842935">,</span>&nbsp;<span class="ident" id="7842937">literal</span><span class="op" id="7842944">}</span><span class="op" id="7842945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842948">{</span><span class="ident" id="7842949">token</span><span class="op" id="7842954">.</span><span class="ident" id="7842955">IMAG</span><span class="op" id="7842959">,</span>&nbsp;<span class="string" id="7842961">&#34;0i&#34;</span><span class="op" id="7842965">,</span>&nbsp;<span class="ident" id="7842967">literal</span><span class="op" id="7842974">}</span><span class="op" id="7842975">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7842978">{</span><span class="ident" id="7842979">token</span><span class="op" id="7842984">.</span><span class="ident" id="7842985">IMAG</span><span class="op" id="7842989">,</span>&nbsp;<span class="string" id="7842991">&#34;1i&#34;</span><span class="op" id="7842995">,</span>&nbsp;<span class="ident" id="7842997">literal</span><span class="op" id="7843004">}</span><span class="op" id="7843005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843008">{</span><span class="ident" id="7843009">token</span><span class="op" id="7843014">.</span><span class="ident" id="7843015">IMAG</span><span class="op" id="7843019">,</span>&nbsp;<span class="string" id="7843021">&#34;012345678901234567889i&#34;</span><span class="op" id="7843045">,</span>&nbsp;<span class="ident" id="7843047">literal</span><span class="op" id="7843054">}</span><span class="op" id="7843055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843058">{</span><span class="ident" id="7843059">token</span><span class="op" id="7843064">.</span><span class="ident" id="7843065">IMAG</span><span class="op" id="7843069">,</span>&nbsp;<span class="string" id="7843071">&#34;123456789012345678890i&#34;</span><span class="op" id="7843095">,</span>&nbsp;<span class="ident" id="7843097">literal</span><span class="op" id="7843104">}</span><span class="op" id="7843105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843108">{</span><span class="ident" id="7843109">token</span><span class="op" id="7843114">.</span><span class="ident" id="7843115">IMAG</span><span class="op" id="7843119">,</span>&nbsp;<span class="string" id="7843121">&#34;0.i&#34;</span><span class="op" id="7843126">,</span>&nbsp;<span class="ident" id="7843128">literal</span><span class="op" id="7843135">}</span><span class="op" id="7843136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843139">{</span><span class="ident" id="7843140">token</span><span class="op" id="7843145">.</span><span class="ident" id="7843146">IMAG</span><span class="op" id="7843150">,</span>&nbsp;<span class="string" id="7843152">&#34;.0i&#34;</span><span class="op" id="7843157">,</span>&nbsp;<span class="ident" id="7843159">literal</span><span class="op" id="7843166">}</span><span class="op" id="7843167">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843170">{</span><span class="ident" id="7843171">token</span><span class="op" id="7843176">.</span><span class="ident" id="7843177">IMAG</span><span class="op" id="7843181">,</span>&nbsp;<span class="string" id="7843183">&#34;3.14159265i&#34;</span><span class="op" id="7843196">,</span>&nbsp;<span class="ident" id="7843198">literal</span><span class="op" id="7843205">}</span><span class="op" id="7843206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843209">{</span><span class="ident" id="7843210">token</span><span class="op" id="7843215">.</span><span class="ident" id="7843216">IMAG</span><span class="op" id="7843220">,</span>&nbsp;<span class="string" id="7843222">&#34;1e0i&#34;</span><span class="op" id="7843228">,</span>&nbsp;<span class="ident" id="7843230">literal</span><span class="op" id="7843237">}</span><span class="op" id="7843238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843241">{</span><span class="ident" id="7843242">token</span><span class="op" id="7843247">.</span><span class="ident" id="7843248">IMAG</span><span class="op" id="7843252">,</span>&nbsp;<span class="string" id="7843254">&#34;1e+100i&#34;</span><span class="op" id="7843263">,</span>&nbsp;<span class="ident" id="7843265">literal</span><span class="op" id="7843272">}</span><span class="op" id="7843273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843276">{</span><span class="ident" id="7843277">token</span><span class="op" id="7843282">.</span><span class="ident" id="7843283">IMAG</span><span class="op" id="7843287">,</span>&nbsp;<span class="string" id="7843289">&#34;1e-100i&#34;</span><span class="op" id="7843298">,</span>&nbsp;<span class="ident" id="7843300">literal</span><span class="op" id="7843307">}</span><span class="op" id="7843308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843311">{</span><span class="ident" id="7843312">token</span><span class="op" id="7843317">.</span><span class="ident" id="7843318">IMAG</span><span class="op" id="7843322">,</span>&nbsp;<span class="string" id="7843324">&#34;2.71828e-1000i&#34;</span><span class="op" id="7843340">,</span>&nbsp;<span class="ident" id="7843342">literal</span><span class="op" id="7843349">}</span><span class="op" id="7843350">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843353">{</span><span class="ident" id="7843354">token</span><span class="op" id="7843359">.</span><span class="ident" id="7843360">CHAR</span><span class="op" id="7843364">,</span>&nbsp;<span class="string" id="7843366">&#34;&#39;a&#39;&#34;</span><span class="op" id="7843371">,</span>&nbsp;<span class="ident" id="7843373">literal</span><span class="op" id="7843380">}</span><span class="op" id="7843381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843384">{</span><span class="ident" id="7843385">token</span><span class="op" id="7843390">.</span><span class="ident" id="7843391">CHAR</span><span class="op" id="7843395">,</span>&nbsp;<span class="string" id="7843397">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="7843406">,</span>&nbsp;<span class="ident" id="7843408">literal</span><span class="op" id="7843415">}</span><span class="op" id="7843416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843419">{</span><span class="ident" id="7843420">token</span><span class="op" id="7843425">.</span><span class="ident" id="7843426">CHAR</span><span class="op" id="7843430">,</span>&nbsp;<span class="string" id="7843432">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="7843441">,</span>&nbsp;<span class="ident" id="7843443">literal</span><span class="op" id="7843450">}</span><span class="op" id="7843451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843454">{</span><span class="ident" id="7843455">token</span><span class="op" id="7843460">.</span><span class="ident" id="7843461">CHAR</span><span class="op" id="7843465">,</span>&nbsp;<span class="string" id="7843467">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="7843478">,</span>&nbsp;<span class="ident" id="7843480">literal</span><span class="op" id="7843487">}</span><span class="op" id="7843488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843491">{</span><span class="ident" id="7843492">token</span><span class="op" id="7843497">.</span><span class="ident" id="7843498">CHAR</span><span class="op" id="7843502">,</span>&nbsp;<span class="string" id="7843504">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="7843519">,</span>&nbsp;<span class="ident" id="7843521">literal</span><span class="op" id="7843528">}</span><span class="op" id="7843529">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843532">{</span><span class="ident" id="7843533">token</span><span class="op" id="7843538">.</span><span class="ident" id="7843539">STRING</span><span class="op" id="7843545">,</span>&nbsp;<span class="string" id="7843547">&#34;`foobar`&#34;</span><span class="op" id="7843557">,</span>&nbsp;<span class="ident" id="7843559">literal</span><span class="op" id="7843566">}</span><span class="op" id="7843567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843570">{</span><span class="ident" id="7843571">token</span><span class="op" id="7843576">.</span><span class="ident" id="7843577">STRING</span><span class="op" id="7843583">,</span>&nbsp;<span class="string" id="7843585">&#34;`&#34;</span>&nbsp;<span class="op" id="7843589">+</span>&nbsp;<span class="string" id="7843591">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="7843626">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7843630">&#34;`&#34;</span><span class="op" id="7843633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7843637">literal</span><span class="op" id="7843644">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843647">}</span><span class="op" id="7843648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843651">{</span><span class="ident" id="7843652">token</span><span class="op" id="7843657">.</span><span class="ident" id="7843658">STRING</span><span class="op" id="7843664">,</span>&nbsp;<span class="string" id="7843666">&#34;`\r`&#34;</span><span class="op" id="7843672">,</span>&nbsp;<span class="ident" id="7843674">literal</span><span class="op" id="7843681">}</span><span class="op" id="7843682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843685">{</span><span class="ident" id="7843686">token</span><span class="op" id="7843691">.</span><span class="ident" id="7843692">STRING</span><span class="op" id="7843698">,</span>&nbsp;<span class="string" id="7843700">&#34;`foo\r\nbar`&#34;</span><span class="op" id="7843714">,</span>&nbsp;<span class="ident" id="7843716">literal</span><span class="op" id="7843723">}</span><span class="op" id="7843724">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7843728">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843757">{</span><span class="ident" id="7843758">token</span><span class="op" id="7843763">.</span><span class="ident" id="7843764">ADD</span><span class="op" id="7843767">,</span>&nbsp;<span class="string" id="7843769">&#34;+&#34;</span><span class="op" id="7843772">,</span>&nbsp;<span class="ident" id="7843774">operator</span><span class="op" id="7843782">}</span><span class="op" id="7843783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843786">{</span><span class="ident" id="7843787">token</span><span class="op" id="7843792">.</span><span class="ident" id="7843793">SUB</span><span class="op" id="7843796">,</span>&nbsp;<span class="string" id="7843798">&#34;-&#34;</span><span class="op" id="7843801">,</span>&nbsp;<span class="ident" id="7843803">operator</span><span class="op" id="7843811">}</span><span class="op" id="7843812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843815">{</span><span class="ident" id="7843816">token</span><span class="op" id="7843821">.</span><span class="ident" id="7843822">MUL</span><span class="op" id="7843825">,</span>&nbsp;<span class="string" id="7843827">&#34;*&#34;</span><span class="op" id="7843830">,</span>&nbsp;<span class="ident" id="7843832">operator</span><span class="op" id="7843840">}</span><span class="op" id="7843841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843844">{</span><span class="ident" id="7843845">token</span><span class="op" id="7843850">.</span><span class="ident" id="7843851">QUO</span><span class="op" id="7843854">,</span>&nbsp;<span class="string" id="7843856">&#34;/&#34;</span><span class="op" id="7843859">,</span>&nbsp;<span class="ident" id="7843861">operator</span><span class="op" id="7843869">}</span><span class="op" id="7843870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843873">{</span><span class="ident" id="7843874">token</span><span class="op" id="7843879">.</span><span class="ident" id="7843880">REM</span><span class="op" id="7843883">,</span>&nbsp;<span class="string" id="7843885">&#34;%&#34;</span><span class="op" id="7843888">,</span>&nbsp;<span class="ident" id="7843890">operator</span><span class="op" id="7843898">}</span><span class="op" id="7843899">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843903">{</span><span class="ident" id="7843904">token</span><span class="op" id="7843909">.</span><span class="ident" id="7843910">AND</span><span class="op" id="7843913">,</span>&nbsp;<span class="string" id="7843915">&#34;&amp;&#34;</span><span class="op" id="7843918">,</span>&nbsp;<span class="ident" id="7843920">operator</span><span class="op" id="7843928">}</span><span class="op" id="7843929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843932">{</span><span class="ident" id="7843933">token</span><span class="op" id="7843938">.</span><span class="ident" id="7843939">OR</span><span class="op" id="7843941">,</span>&nbsp;<span class="string" id="7843943">&#34;|&#34;</span><span class="op" id="7843946">,</span>&nbsp;<span class="ident" id="7843948">operator</span><span class="op" id="7843956">}</span><span class="op" id="7843957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843960">{</span><span class="ident" id="7843961">token</span><span class="op" id="7843966">.</span><span class="ident" id="7843967">XOR</span><span class="op" id="7843970">,</span>&nbsp;<span class="string" id="7843972">&#34;^&#34;</span><span class="op" id="7843975">,</span>&nbsp;<span class="ident" id="7843977">operator</span><span class="op" id="7843985">}</span><span class="op" id="7843986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7843989">{</span><span class="ident" id="7843990">token</span><span class="op" id="7843995">.</span><span class="ident" id="7843996">SHL</span><span class="op" id="7843999">,</span>&nbsp;<span class="string" id="7844001">&#34;&lt;&lt;&#34;</span><span class="op" id="7844005">,</span>&nbsp;<span class="ident" id="7844007">operator</span><span class="op" id="7844015">}</span><span class="op" id="7844016">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844019">{</span><span class="ident" id="7844020">token</span><span class="op" id="7844025">.</span><span class="ident" id="7844026">SHR</span><span class="op" id="7844029">,</span>&nbsp;<span class="string" id="7844031">&#34;&gt;&gt;&#34;</span><span class="op" id="7844035">,</span>&nbsp;<span class="ident" id="7844037">operator</span><span class="op" id="7844045">}</span><span class="op" id="7844046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844049">{</span><span class="ident" id="7844050">token</span><span class="op" id="7844055">.</span><span class="ident" id="7844056">AND_NOT</span><span class="op" id="7844063">,</span>&nbsp;<span class="string" id="7844065">&#34;&amp;^&#34;</span><span class="op" id="7844069">,</span>&nbsp;<span class="ident" id="7844071">operator</span><span class="op" id="7844079">}</span><span class="op" id="7844080">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844084">{</span><span class="ident" id="7844085">token</span><span class="op" id="7844090">.</span><span class="ident" id="7844091">ADD_ASSIGN</span><span class="op" id="7844101">,</span>&nbsp;<span class="string" id="7844103">&#34;+=&#34;</span><span class="op" id="7844107">,</span>&nbsp;<span class="ident" id="7844109">operator</span><span class="op" id="7844117">}</span><span class="op" id="7844118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844121">{</span><span class="ident" id="7844122">token</span><span class="op" id="7844127">.</span><span class="ident" id="7844128">SUB_ASSIGN</span><span class="op" id="7844138">,</span>&nbsp;<span class="string" id="7844140">&#34;-=&#34;</span><span class="op" id="7844144">,</span>&nbsp;<span class="ident" id="7844146">operator</span><span class="op" id="7844154">}</span><span class="op" id="7844155">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844158">{</span><span class="ident" id="7844159">token</span><span class="op" id="7844164">.</span><span class="ident" id="7844165">MUL_ASSIGN</span><span class="op" id="7844175">,</span>&nbsp;<span class="string" id="7844177">&#34;*=&#34;</span><span class="op" id="7844181">,</span>&nbsp;<span class="ident" id="7844183">operator</span><span class="op" id="7844191">}</span><span class="op" id="7844192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844195">{</span><span class="ident" id="7844196">token</span><span class="op" id="7844201">.</span><span class="ident" id="7844202">QUO_ASSIGN</span><span class="op" id="7844212">,</span>&nbsp;<span class="string" id="7844214">&#34;/=&#34;</span><span class="op" id="7844218">,</span>&nbsp;<span class="ident" id="7844220">operator</span><span class="op" id="7844228">}</span><span class="op" id="7844229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844232">{</span><span class="ident" id="7844233">token</span><span class="op" id="7844238">.</span><span class="ident" id="7844239">REM_ASSIGN</span><span class="op" id="7844249">,</span>&nbsp;<span class="string" id="7844251">&#34;%=&#34;</span><span class="op" id="7844255">,</span>&nbsp;<span class="ident" id="7844257">operator</span><span class="op" id="7844265">}</span><span class="op" id="7844266">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844270">{</span><span class="ident" id="7844271">token</span><span class="op" id="7844276">.</span><span class="ident" id="7844277">AND_ASSIGN</span><span class="op" id="7844287">,</span>&nbsp;<span class="string" id="7844289">&#34;&amp;=&#34;</span><span class="op" id="7844293">,</span>&nbsp;<span class="ident" id="7844295">operator</span><span class="op" id="7844303">}</span><span class="op" id="7844304">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844307">{</span><span class="ident" id="7844308">token</span><span class="op" id="7844313">.</span><span class="ident" id="7844314">OR_ASSIGN</span><span class="op" id="7844323">,</span>&nbsp;<span class="string" id="7844325">&#34;|=&#34;</span><span class="op" id="7844329">,</span>&nbsp;<span class="ident" id="7844331">operator</span><span class="op" id="7844339">}</span><span class="op" id="7844340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844343">{</span><span class="ident" id="7844344">token</span><span class="op" id="7844349">.</span><span class="ident" id="7844350">XOR_ASSIGN</span><span class="op" id="7844360">,</span>&nbsp;<span class="string" id="7844362">&#34;^=&#34;</span><span class="op" id="7844366">,</span>&nbsp;<span class="ident" id="7844368">operator</span><span class="op" id="7844376">}</span><span class="op" id="7844377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844380">{</span><span class="ident" id="7844381">token</span><span class="op" id="7844386">.</span><span class="ident" id="7844387">SHL_ASSIGN</span><span class="op" id="7844397">,</span>&nbsp;<span class="string" id="7844399">&#34;&lt;&lt;=&#34;</span><span class="op" id="7844404">,</span>&nbsp;<span class="ident" id="7844406">operator</span><span class="op" id="7844414">}</span><span class="op" id="7844415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844418">{</span><span class="ident" id="7844419">token</span><span class="op" id="7844424">.</span><span class="ident" id="7844425">SHR_ASSIGN</span><span class="op" id="7844435">,</span>&nbsp;<span class="string" id="7844437">&#34;&gt;&gt;=&#34;</span><span class="op" id="7844442">,</span>&nbsp;<span class="ident" id="7844444">operator</span><span class="op" id="7844452">}</span><span class="op" id="7844453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844456">{</span><span class="ident" id="7844457">token</span><span class="op" id="7844462">.</span><span class="ident" id="7844463">AND_NOT_ASSIGN</span><span class="op" id="7844477">,</span>&nbsp;<span class="string" id="7844479">&#34;&amp;^=&#34;</span><span class="op" id="7844484">,</span>&nbsp;<span class="ident" id="7844486">operator</span><span class="op" id="7844494">}</span><span class="op" id="7844495">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844499">{</span><span class="ident" id="7844500">token</span><span class="op" id="7844505">.</span><span class="ident" id="7844506">LAND</span><span class="op" id="7844510">,</span>&nbsp;<span class="string" id="7844512">&#34;&amp;&amp;&#34;</span><span class="op" id="7844516">,</span>&nbsp;<span class="ident" id="7844518">operator</span><span class="op" id="7844526">}</span><span class="op" id="7844527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844530">{</span><span class="ident" id="7844531">token</span><span class="op" id="7844536">.</span><span class="ident" id="7844537">LOR</span><span class="op" id="7844540">,</span>&nbsp;<span class="string" id="7844542">&#34;||&#34;</span><span class="op" id="7844546">,</span>&nbsp;<span class="ident" id="7844548">operator</span><span class="op" id="7844556">}</span><span class="op" id="7844557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844560">{</span><span class="ident" id="7844561">token</span><span class="op" id="7844566">.</span><span class="ident" id="7844567">ARROW</span><span class="op" id="7844572">,</span>&nbsp;<span class="string" id="7844574">&#34;&lt;-&#34;</span><span class="op" id="7844578">,</span>&nbsp;<span class="ident" id="7844580">operator</span><span class="op" id="7844588">}</span><span class="op" id="7844589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844592">{</span><span class="ident" id="7844593">token</span><span class="op" id="7844598">.</span><span class="ident" id="7844599">INC</span><span class="op" id="7844602">,</span>&nbsp;<span class="string" id="7844604">&#34;++&#34;</span><span class="op" id="7844608">,</span>&nbsp;<span class="ident" id="7844610">operator</span><span class="op" id="7844618">}</span><span class="op" id="7844619">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844622">{</span><span class="ident" id="7844623">token</span><span class="op" id="7844628">.</span><span class="ident" id="7844629">DEC</span><span class="op" id="7844632">,</span>&nbsp;<span class="string" id="7844634">&#34;--&#34;</span><span class="op" id="7844638">,</span>&nbsp;<span class="ident" id="7844640">operator</span><span class="op" id="7844648">}</span><span class="op" id="7844649">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844653">{</span><span class="ident" id="7844654">token</span><span class="op" id="7844659">.</span><span class="ident" id="7844660">EQL</span><span class="op" id="7844663">,</span>&nbsp;<span class="string" id="7844665">&#34;==&#34;</span><span class="op" id="7844669">,</span>&nbsp;<span class="ident" id="7844671">operator</span><span class="op" id="7844679">}</span><span class="op" id="7844680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844683">{</span><span class="ident" id="7844684">token</span><span class="op" id="7844689">.</span><span class="ident" id="7844690">LSS</span><span class="op" id="7844693">,</span>&nbsp;<span class="string" id="7844695">&#34;&lt;&#34;</span><span class="op" id="7844698">,</span>&nbsp;<span class="ident" id="7844700">operator</span><span class="op" id="7844708">}</span><span class="op" id="7844709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844712">{</span><span class="ident" id="7844713">token</span><span class="op" id="7844718">.</span><span class="ident" id="7844719">GTR</span><span class="op" id="7844722">,</span>&nbsp;<span class="string" id="7844724">&#34;&gt;&#34;</span><span class="op" id="7844727">,</span>&nbsp;<span class="ident" id="7844729">operator</span><span class="op" id="7844737">}</span><span class="op" id="7844738">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844741">{</span><span class="ident" id="7844742">token</span><span class="op" id="7844747">.</span><span class="ident" id="7844748">ASSIGN</span><span class="op" id="7844754">,</span>&nbsp;<span class="string" id="7844756">&#34;=&#34;</span><span class="op" id="7844759">,</span>&nbsp;<span class="ident" id="7844761">operator</span><span class="op" id="7844769">}</span><span class="op" id="7844770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844773">{</span><span class="ident" id="7844774">token</span><span class="op" id="7844779">.</span><span class="ident" id="7844780">NOT</span><span class="op" id="7844783">,</span>&nbsp;<span class="string" id="7844785">&#34;!&#34;</span><span class="op" id="7844788">,</span>&nbsp;<span class="ident" id="7844790">operator</span><span class="op" id="7844798">}</span><span class="op" id="7844799">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844803">{</span><span class="ident" id="7844804">token</span><span class="op" id="7844809">.</span><span class="ident" id="7844810">NEQ</span><span class="op" id="7844813">,</span>&nbsp;<span class="string" id="7844815">&#34;!=&#34;</span><span class="op" id="7844819">,</span>&nbsp;<span class="ident" id="7844821">operator</span><span class="op" id="7844829">}</span><span class="op" id="7844830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844833">{</span><span class="ident" id="7844834">token</span><span class="op" id="7844839">.</span><span class="ident" id="7844840">LEQ</span><span class="op" id="7844843">,</span>&nbsp;<span class="string" id="7844845">&#34;&lt;=&#34;</span><span class="op" id="7844849">,</span>&nbsp;<span class="ident" id="7844851">operator</span><span class="op" id="7844859">}</span><span class="op" id="7844860">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844863">{</span><span class="ident" id="7844864">token</span><span class="op" id="7844869">.</span><span class="ident" id="7844870">GEQ</span><span class="op" id="7844873">,</span>&nbsp;<span class="string" id="7844875">&#34;&gt;=&#34;</span><span class="op" id="7844879">,</span>&nbsp;<span class="ident" id="7844881">operator</span><span class="op" id="7844889">}</span><span class="op" id="7844890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844893">{</span><span class="ident" id="7844894">token</span><span class="op" id="7844899">.</span><span class="ident" id="7844900">DEFINE</span><span class="op" id="7844906">,</span>&nbsp;<span class="string" id="7844908">&#34;:=&#34;</span><span class="op" id="7844912">,</span>&nbsp;<span class="ident" id="7844914">operator</span><span class="op" id="7844922">}</span><span class="op" id="7844923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844926">{</span><span class="ident" id="7844927">token</span><span class="op" id="7844932">.</span><span class="ident" id="7844933">ELLIPSIS</span><span class="op" id="7844941">,</span>&nbsp;<span class="string" id="7844943">&#34;...&#34;</span><span class="op" id="7844948">,</span>&nbsp;<span class="ident" id="7844950">operator</span><span class="op" id="7844958">}</span><span class="op" id="7844959">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844963">{</span><span class="ident" id="7844964">token</span><span class="op" id="7844969">.</span><span class="ident" id="7844970">LPAREN</span><span class="op" id="7844976">,</span>&nbsp;<span class="string" id="7844978">&#34;(&#34;</span><span class="op" id="7844981">,</span>&nbsp;<span class="ident" id="7844983">operator</span><span class="op" id="7844991">}</span><span class="op" id="7844992">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7844995">{</span><span class="ident" id="7844996">token</span><span class="op" id="7845001">.</span><span class="ident" id="7845002">LBRACK</span><span class="op" id="7845008">,</span>&nbsp;<span class="string" id="7845010">&#34;[&#34;</span><span class="op" id="7845013">,</span>&nbsp;<span class="ident" id="7845015">operator</span><span class="op" id="7845023">}</span><span class="op" id="7845024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845027">{</span><span class="ident" id="7845028">token</span><span class="op" id="7845033">.</span><span class="ident" id="7845034">LBRACE</span><span class="op" id="7845040">,</span>&nbsp;<span class="string" id="7845042">&#34;{&#34;</span><span class="op" id="7845045">,</span>&nbsp;<span class="ident" id="7845047">operator</span><span class="op" id="7845055">}</span><span class="op" id="7845056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845059">{</span><span class="ident" id="7845060">token</span><span class="op" id="7845065">.</span><span class="ident" id="7845066">COMMA</span><span class="op" id="7845071">,</span>&nbsp;<span class="string" id="7845073">&#34;,&#34;</span><span class="op" id="7845076">,</span>&nbsp;<span class="ident" id="7845078">operator</span><span class="op" id="7845086">}</span><span class="op" id="7845087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845090">{</span><span class="ident" id="7845091">token</span><span class="op" id="7845096">.</span><span class="ident" id="7845097">PERIOD</span><span class="op" id="7845103">,</span>&nbsp;<span class="string" id="7845105">&#34;.&#34;</span><span class="op" id="7845108">,</span>&nbsp;<span class="ident" id="7845110">operator</span><span class="op" id="7845118">}</span><span class="op" id="7845119">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845123">{</span><span class="ident" id="7845124">token</span><span class="op" id="7845129">.</span><span class="ident" id="7845130">RPAREN</span><span class="op" id="7845136">,</span>&nbsp;<span class="string" id="7845138">&#34;)&#34;</span><span class="op" id="7845141">,</span>&nbsp;<span class="ident" id="7845143">operator</span><span class="op" id="7845151">}</span><span class="op" id="7845152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845155">{</span><span class="ident" id="7845156">token</span><span class="op" id="7845161">.</span><span class="ident" id="7845162">RBRACK</span><span class="op" id="7845168">,</span>&nbsp;<span class="string" id="7845170">&#34;]&#34;</span><span class="op" id="7845173">,</span>&nbsp;<span class="ident" id="7845175">operator</span><span class="op" id="7845183">}</span><span class="op" id="7845184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845187">{</span><span class="ident" id="7845188">token</span><span class="op" id="7845193">.</span><span class="ident" id="7845194">RBRACE</span><span class="op" id="7845200">,</span>&nbsp;<span class="string" id="7845202">&#34;}&#34;</span><span class="op" id="7845205">,</span>&nbsp;<span class="ident" id="7845207">operator</span><span class="op" id="7845215">}</span><span class="op" id="7845216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845219">{</span><span class="ident" id="7845220">token</span><span class="op" id="7845225">.</span><span class="ident" id="7845226">SEMICOLON</span><span class="op" id="7845235">,</span>&nbsp;<span class="string" id="7845237">&#34;;&#34;</span><span class="op" id="7845240">,</span>&nbsp;<span class="ident" id="7845242">operator</span><span class="op" id="7845250">}</span><span class="op" id="7845251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845254">{</span><span class="ident" id="7845255">token</span><span class="op" id="7845260">.</span><span class="ident" id="7845261">COLON</span><span class="op" id="7845266">,</span>&nbsp;<span class="string" id="7845268">&#34;:&#34;</span><span class="op" id="7845271">,</span>&nbsp;<span class="ident" id="7845273">operator</span><span class="op" id="7845281">}</span><span class="op" id="7845282">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7845286">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845299">{</span><span class="ident" id="7845300">token</span><span class="op" id="7845305">.</span><span class="ident" id="7845306">BREAK</span><span class="op" id="7845311">,</span>&nbsp;<span class="string" id="7845313">&#34;break&#34;</span><span class="op" id="7845320">,</span>&nbsp;<span class="ident" id="7845322">keyword</span><span class="op" id="7845329">}</span><span class="op" id="7845330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845333">{</span><span class="ident" id="7845334">token</span><span class="op" id="7845339">.</span><span class="ident" id="7845340">CASE</span><span class="op" id="7845344">,</span>&nbsp;<span class="string" id="7845346">&#34;case&#34;</span><span class="op" id="7845352">,</span>&nbsp;<span class="ident" id="7845354">keyword</span><span class="op" id="7845361">}</span><span class="op" id="7845362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845365">{</span><span class="ident" id="7845366">token</span><span class="op" id="7845371">.</span><span class="ident" id="7845372">CHAN</span><span class="op" id="7845376">,</span>&nbsp;<span class="string" id="7845378">&#34;chan&#34;</span><span class="op" id="7845384">,</span>&nbsp;<span class="ident" id="7845386">keyword</span><span class="op" id="7845393">}</span><span class="op" id="7845394">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845397">{</span><span class="ident" id="7845398">token</span><span class="op" id="7845403">.</span><span class="ident" id="7845404">CONST</span><span class="op" id="7845409">,</span>&nbsp;<span class="string" id="7845411">&#34;const&#34;</span><span class="op" id="7845418">,</span>&nbsp;<span class="ident" id="7845420">keyword</span><span class="op" id="7845427">}</span><span class="op" id="7845428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845431">{</span><span class="ident" id="7845432">token</span><span class="op" id="7845437">.</span><span class="ident" id="7845438">CONTINUE</span><span class="op" id="7845446">,</span>&nbsp;<span class="string" id="7845448">&#34;continue&#34;</span><span class="op" id="7845458">,</span>&nbsp;<span class="ident" id="7845460">keyword</span><span class="op" id="7845467">}</span><span class="op" id="7845468">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845472">{</span><span class="ident" id="7845473">token</span><span class="op" id="7845478">.</span><span class="ident" id="7845479">DEFAULT</span><span class="op" id="7845486">,</span>&nbsp;<span class="string" id="7845488">&#34;default&#34;</span><span class="op" id="7845497">,</span>&nbsp;<span class="ident" id="7845499">keyword</span><span class="op" id="7845506">}</span><span class="op" id="7845507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845510">{</span><span class="ident" id="7845511">token</span><span class="op" id="7845516">.</span><span class="ident" id="7845517">DEFER</span><span class="op" id="7845522">,</span>&nbsp;<span class="string" id="7845524">&#34;defer&#34;</span><span class="op" id="7845531">,</span>&nbsp;<span class="ident" id="7845533">keyword</span><span class="op" id="7845540">}</span><span class="op" id="7845541">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845544">{</span><span class="ident" id="7845545">token</span><span class="op" id="7845550">.</span><span class="ident" id="7845551">ELSE</span><span class="op" id="7845555">,</span>&nbsp;<span class="string" id="7845557">&#34;else&#34;</span><span class="op" id="7845563">,</span>&nbsp;<span class="ident" id="7845565">keyword</span><span class="op" id="7845572">}</span><span class="op" id="7845573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845576">{</span><span class="ident" id="7845577">token</span><span class="op" id="7845582">.</span><span class="ident" id="7845583">FALLTHROUGH</span><span class="op" id="7845594">,</span>&nbsp;<span class="string" id="7845596">&#34;fallthrough&#34;</span><span class="op" id="7845609">,</span>&nbsp;<span class="ident" id="7845611">keyword</span><span class="op" id="7845618">}</span><span class="op" id="7845619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845622">{</span><span class="ident" id="7845623">token</span><span class="op" id="7845628">.</span><span class="ident" id="7845629">FOR</span><span class="op" id="7845632">,</span>&nbsp;<span class="string" id="7845634">&#34;for&#34;</span><span class="op" id="7845639">,</span>&nbsp;<span class="ident" id="7845641">keyword</span><span class="op" id="7845648">}</span><span class="op" id="7845649">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845653">{</span><span class="ident" id="7845654">token</span><span class="op" id="7845659">.</span><span class="ident" id="7845660">FUNC</span><span class="op" id="7845664">,</span>&nbsp;<span class="string" id="7845666">&#34;func&#34;</span><span class="op" id="7845672">,</span>&nbsp;<span class="ident" id="7845674">keyword</span><span class="op" id="7845681">}</span><span class="op" id="7845682">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845685">{</span><span class="ident" id="7845686">token</span><span class="op" id="7845691">.</span><span class="ident" id="7845692">GO</span><span class="op" id="7845694">,</span>&nbsp;<span class="string" id="7845696">&#34;go&#34;</span><span class="op" id="7845700">,</span>&nbsp;<span class="ident" id="7845702">keyword</span><span class="op" id="7845709">}</span><span class="op" id="7845710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845713">{</span><span class="ident" id="7845714">token</span><span class="op" id="7845719">.</span><span class="ident" id="7845720">GOTO</span><span class="op" id="7845724">,</span>&nbsp;<span class="string" id="7845726">&#34;goto&#34;</span><span class="op" id="7845732">,</span>&nbsp;<span class="ident" id="7845734">keyword</span><span class="op" id="7845741">}</span><span class="op" id="7845742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845745">{</span><span class="ident" id="7845746">token</span><span class="op" id="7845751">.</span><span class="ident" id="7845752">IF</span><span class="op" id="7845754">,</span>&nbsp;<span class="string" id="7845756">&#34;if&#34;</span><span class="op" id="7845760">,</span>&nbsp;<span class="ident" id="7845762">keyword</span><span class="op" id="7845769">}</span><span class="op" id="7845770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845773">{</span><span class="ident" id="7845774">token</span><span class="op" id="7845779">.</span><span class="ident" id="7845780">IMPORT</span><span class="op" id="7845786">,</span>&nbsp;<span class="string" id="7845788">&#34;import&#34;</span><span class="op" id="7845796">,</span>&nbsp;<span class="ident" id="7845798">keyword</span><span class="op" id="7845805">}</span><span class="op" id="7845806">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845810">{</span><span class="ident" id="7845811">token</span><span class="op" id="7845816">.</span><span class="ident" id="7845817">INTERFACE</span><span class="op" id="7845826">,</span>&nbsp;<span class="string" id="7845828">&#34;interface&#34;</span><span class="op" id="7845839">,</span>&nbsp;<span class="ident" id="7845841">keyword</span><span class="op" id="7845848">}</span><span class="op" id="7845849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845852">{</span><span class="ident" id="7845853">token</span><span class="op" id="7845858">.</span><span class="ident" id="7845859">MAP</span><span class="op" id="7845862">,</span>&nbsp;<span class="string" id="7845864">&#34;map&#34;</span><span class="op" id="7845869">,</span>&nbsp;<span class="ident" id="7845871">keyword</span><span class="op" id="7845878">}</span><span class="op" id="7845879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845882">{</span><span class="ident" id="7845883">token</span><span class="op" id="7845888">.</span><span class="ident" id="7845889">PACKAGE</span><span class="op" id="7845896">,</span>&nbsp;<span class="string" id="7845898">&#34;package&#34;</span><span class="op" id="7845907">,</span>&nbsp;<span class="ident" id="7845909">keyword</span><span class="op" id="7845916">}</span><span class="op" id="7845917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845920">{</span><span class="ident" id="7845921">token</span><span class="op" id="7845926">.</span><span class="ident" id="7845927">RANGE</span><span class="op" id="7845932">,</span>&nbsp;<span class="string" id="7845934">&#34;range&#34;</span><span class="op" id="7845941">,</span>&nbsp;<span class="ident" id="7845943">keyword</span><span class="op" id="7845950">}</span><span class="op" id="7845951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845954">{</span><span class="ident" id="7845955">token</span><span class="op" id="7845960">.</span><span class="ident" id="7845961">RETURN</span><span class="op" id="7845967">,</span>&nbsp;<span class="string" id="7845969">&#34;return&#34;</span><span class="op" id="7845977">,</span>&nbsp;<span class="ident" id="7845979">keyword</span><span class="op" id="7845986">}</span><span class="op" id="7845987">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7845991">{</span><span class="ident" id="7845992">token</span><span class="op" id="7845997">.</span><span class="ident" id="7845998">SELECT</span><span class="op" id="7846004">,</span>&nbsp;<span class="string" id="7846006">&#34;select&#34;</span><span class="op" id="7846014">,</span>&nbsp;<span class="ident" id="7846016">keyword</span><span class="op" id="7846023">}</span><span class="op" id="7846024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846027">{</span><span class="ident" id="7846028">token</span><span class="op" id="7846033">.</span><span class="ident" id="7846034">STRUCT</span><span class="op" id="7846040">,</span>&nbsp;<span class="string" id="7846042">&#34;struct&#34;</span><span class="op" id="7846050">,</span>&nbsp;<span class="ident" id="7846052">keyword</span><span class="op" id="7846059">}</span><span class="op" id="7846060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846063">{</span><span class="ident" id="7846064">token</span><span class="op" id="7846069">.</span><span class="ident" id="7846070">SWITCH</span><span class="op" id="7846076">,</span>&nbsp;<span class="string" id="7846078">&#34;switch&#34;</span><span class="op" id="7846086">,</span>&nbsp;<span class="ident" id="7846088">keyword</span><span class="op" id="7846095">}</span><span class="op" id="7846096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846099">{</span><span class="ident" id="7846100">token</span><span class="op" id="7846105">.</span><span class="ident" id="7846106">TYPE</span><span class="op" id="7846110">,</span>&nbsp;<span class="string" id="7846112">&#34;type&#34;</span><span class="op" id="7846118">,</span>&nbsp;<span class="ident" id="7846120">keyword</span><span class="op" id="7846127">}</span><span class="op" id="7846128">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846131">{</span><span class="ident" id="7846132">token</span><span class="op" id="7846137">.</span><span class="ident" id="7846138">VAR</span><span class="op" id="7846141">,</span>&nbsp;<span class="string" id="7846143">&#34;var&#34;</span><span class="op" id="7846148">,</span>&nbsp;<span class="ident" id="7846150">keyword</span><span class="op" id="7846157">}</span><span class="op" id="7846158">,</span><br>
<span class="lineno"></span><span class="op" id="7846160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7846163">const</span>&nbsp;<span class="ident" id="7846169">whitespace</span>&nbsp;<span class="op" id="7846180">=</span>&nbsp;<span class="string" id="7846182">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="7846197">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="7846220">var</span>&nbsp;<span class="ident" id="7846224">source</span>&nbsp;<span class="op" id="7846231">=</span>&nbsp;<span class="keyword" id="7846233">func</span><span class="op" id="7846237">(</span><span class="op" id="7846238">)</span>&nbsp;<span class="op" id="7846240">[</span><span class="op" id="7846241">]</span><span class="builtintype" id="7846242">byte</span>&nbsp;<span class="op" id="7846247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846250">var</span>&nbsp;<span class="ident" id="7846254">src</span>&nbsp;<span class="op" id="7846258">[</span><span class="op" id="7846259">]</span><span class="builtintype" id="7846260">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846266">for</span>&nbsp;<span class="ident" id="7846270">_</span><span class="op" id="7846271">,</span>&nbsp;<span class="ident" id="7846273">t</span>&nbsp;<span class="op" id="7846275">:=</span>&nbsp;<span class="keyword" id="7846278">range</span>&nbsp;<span class="ident" id="7846284">tokens</span>&nbsp;<span class="op" id="7846291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7846295">src</span>&nbsp;<span class="op" id="7846299">=</span>&nbsp;<span class="builtinfunc" id="7846301">append</span><span class="op" id="7846307">(</span><span class="ident" id="7846308">src</span><span class="op" id="7846311">,</span>&nbsp;<span class="ident" id="7846313">t</span><span class="op" id="7846314">.</span><span class="ident" id="7846315">lit</span><span class="op" id="7846318">...</span><span class="op" id="7846321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7846325">src</span>&nbsp;<span class="op" id="7846329">=</span>&nbsp;<span class="builtinfunc" id="7846331">append</span><span class="op" id="7846337">(</span><span class="ident" id="7846338">src</span><span class="op" id="7846341">,</span>&nbsp;<span class="ident" id="7846343">whitespace</span><span class="op" id="7846353">...</span><span class="op" id="7846356">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846362">return</span>&nbsp;<span class="ident" id="7846369">src</span><br>
<span class="lineno"></span><span class="op" id="7846373">}</span><span class="op" id="7846374">(</span><span class="op" id="7846375">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7846378">func</span>&nbsp;<span class="ident" id="7846383">newlineCount</span><span class="op" id="7846395">(</span><span class="ident" id="7846396">s</span>&nbsp;<span class="builtintype" id="7846398">string</span><span class="op" id="7846404">)</span>&nbsp;<span class="builtintype" id="7846406">int</span>&nbsp;<span class="op" id="7846410">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7846413">n</span>&nbsp;<span class="op" id="7846415">:=</span>&nbsp;<span class="num" id="7846418">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846421">for</span>&nbsp;<span class="ident" id="7846425">i</span>&nbsp;<span class="op" id="7846427">:=</span>&nbsp;<span class="num" id="7846430">0</span><span class="op" id="7846431">;</span>&nbsp;<span class="ident" id="7846433">i</span>&nbsp;<span class="op" id="7846435">&lt;</span>&nbsp;<span class="builtinfunc" id="7846437">len</span><span class="op" id="7846440">(</span><span class="ident" id="7846441">s</span><span class="op" id="7846442">)</span><span class="op" id="7846443">;</span>&nbsp;<span class="ident" id="7846445">i</span><span class="op" id="7846446">++</span>&nbsp;<span class="op" id="7846449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846453">if</span>&nbsp;<span class="ident" id="7846456">s</span><span class="op" id="7846457">[</span><span class="ident" id="7846458">i</span><span class="op" id="7846459">]</span>&nbsp;<span class="op" id="7846461">==</span>&nbsp;<span class="string" id="7846464">&#39;\n&#39;</span>&nbsp;<span class="op" id="7846469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7846474">n</span><span class="op" id="7846475">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846480">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846486">return</span>&nbsp;<span class="ident" id="7846493">n</span><br>
<span class="lineno"></span><span class="op" id="7846495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7846498">func</span>&nbsp;<span class="ident" id="7846503">checkPos</span><span class="op" id="7846511">(</span><span class="ident" id="7846512">t</span>&nbsp;<span class="op" id="7846514">*</span><span class="ident" id="7846515">testing</span><span class="op" id="7846522">.</span><span class="ident" id="7846523">T</span><span class="op" id="7846524">,</span>&nbsp;<span class="ident" id="7846526">lit</span>&nbsp;<span class="builtintype" id="7846530">string</span><span class="op" id="7846536">,</span>&nbsp;<span class="ident" id="7846538">p</span>&nbsp;<span class="ident" id="7846540">token</span><span class="op" id="7846545">.</span><span class="ident" id="7846546">Pos</span><span class="op" id="7846549">,</span>&nbsp;<span class="ident" id="7846551">expected</span>&nbsp;<span class="ident" id="7846560">token</span><span class="op" id="7846565">.</span><span class="ident" id="7846566">Position</span><span class="op" id="7846574">)</span>&nbsp;<span class="op" id="7846576">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7846579">pos</span>&nbsp;<span class="op" id="7846583">:=</span>&nbsp;<span class="ident" id="7846586">fset</span><span class="op" id="7846590">.</span><span class="ident" id="7846591">Position</span><span class="op" id="7846599">(</span><span class="ident" id="7846600">p</span><span class="op" id="7846601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846604">if</span>&nbsp;<span class="ident" id="7846607">pos</span><span class="op" id="7846610">.</span><span class="ident" id="7846611">Filename</span>&nbsp;<span class="op" id="7846620">!=</span>&nbsp;<span class="ident" id="7846623">expected</span><span class="op" id="7846631">.</span><span class="ident" id="7846632">Filename</span>&nbsp;<span class="op" id="7846641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7846645">t</span><span class="op" id="7846646">.</span><span class="ident" id="7846647">Errorf</span><span class="op" id="7846653">(</span><span class="string" id="7846654">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7846696">,</span>&nbsp;<span class="ident" id="7846698">lit</span><span class="op" id="7846701">,</span>&nbsp;<span class="ident" id="7846703">pos</span><span class="op" id="7846706">.</span><span class="ident" id="7846707">Filename</span><span class="op" id="7846715">,</span>&nbsp;<span class="ident" id="7846717">expected</span><span class="op" id="7846725">.</span><span class="ident" id="7846726">Filename</span><span class="op" id="7846734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846740">if</span>&nbsp;<span class="ident" id="7846743">pos</span><span class="op" id="7846746">.</span><span class="ident" id="7846747">Offset</span>&nbsp;<span class="op" id="7846754">!=</span>&nbsp;<span class="ident" id="7846757">expected</span><span class="op" id="7846765">.</span><span class="ident" id="7846766">Offset</span>&nbsp;<span class="op" id="7846773">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7846777">t</span><span class="op" id="7846778">.</span><span class="ident" id="7846779">Errorf</span><span class="op" id="7846785">(</span><span class="string" id="7846786">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7846828">,</span>&nbsp;<span class="ident" id="7846830">lit</span><span class="op" id="7846833">,</span>&nbsp;<span class="ident" id="7846835">pos</span><span class="op" id="7846838">.</span><span class="ident" id="7846839">Offset</span><span class="op" id="7846845">,</span>&nbsp;<span class="ident" id="7846847">expected</span><span class="op" id="7846855">.</span><span class="ident" id="7846856">Offset</span><span class="op" id="7846862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846868">if</span>&nbsp;<span class="ident" id="7846871">pos</span><span class="op" id="7846874">.</span><span class="ident" id="7846875">Line</span>&nbsp;<span class="op" id="7846880">!=</span>&nbsp;<span class="ident" id="7846883">expected</span><span class="op" id="7846891">.</span><span class="ident" id="7846892">Line</span>&nbsp;<span class="op" id="7846897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7846901">t</span><span class="op" id="7846902">.</span><span class="ident" id="7846903">Errorf</span><span class="op" id="7846909">(</span><span class="string" id="7846910">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7846948">,</span>&nbsp;<span class="ident" id="7846950">lit</span><span class="op" id="7846953">,</span>&nbsp;<span class="ident" id="7846955">pos</span><span class="op" id="7846958">.</span><span class="ident" id="7846959">Line</span><span class="op" id="7846963">,</span>&nbsp;<span class="ident" id="7846965">expected</span><span class="op" id="7846973">.</span><span class="ident" id="7846974">Line</span><span class="op" id="7846978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7846981">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7846984">if</span>&nbsp;<span class="ident" id="7846987">pos</span><span class="op" id="7846990">.</span><span class="ident" id="7846991">Column</span>&nbsp;<span class="op" id="7846998">!=</span>&nbsp;<span class="ident" id="7847001">expected</span><span class="op" id="7847009">.</span><span class="ident" id="7847010">Column</span>&nbsp;<span class="op" id="7847017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847021">t</span><span class="op" id="7847022">.</span><span class="ident" id="7847023">Errorf</span><span class="op" id="7847029">(</span><span class="string" id="7847030">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7847070">,</span>&nbsp;<span class="ident" id="7847072">lit</span><span class="op" id="7847075">,</span>&nbsp;<span class="ident" id="7847077">pos</span><span class="op" id="7847080">.</span><span class="ident" id="7847081">Column</span><span class="op" id="7847087">,</span>&nbsp;<span class="ident" id="7847089">expected</span><span class="op" id="7847097">.</span><span class="ident" id="7847098">Column</span><span class="op" id="7847104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7847107">}</span><br>
<span class="lineno"></span><span class="op" id="7847109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="7847112">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="7847172">func</span>&nbsp;<span class="ident" id="7847177">TestScan</span><span class="op" id="7847185">(</span><span class="ident" id="7847186">t</span>&nbsp;<span class="op" id="7847188">*</span><span class="ident" id="7847189">testing</span><span class="op" id="7847196">.</span><span class="ident" id="7847197">T</span><span class="op" id="7847198">)</span>&nbsp;<span class="op" id="7847200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847203">whitespace_linecount</span>&nbsp;<span class="op" id="7847224">:=</span>&nbsp;<span class="ident" id="7847227">newlineCount</span><span class="op" id="7847239">(</span><span class="ident" id="7847240">whitespace</span><span class="op" id="7847250">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7847254">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847272">eh</span>&nbsp;<span class="op" id="7847275">:=</span>&nbsp;<span class="keyword" id="7847278">func</span><span class="op" id="7847282">(</span><span class="ident" id="7847283">_</span>&nbsp;<span class="ident" id="7847285">token</span><span class="op" id="7847290">.</span><span class="ident" id="7847291">Position</span><span class="op" id="7847299">,</span>&nbsp;<span class="ident" id="7847301">msg</span>&nbsp;<span class="builtintype" id="7847305">string</span><span class="op" id="7847311">)</span>&nbsp;<span class="op" id="7847313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847317">t</span><span class="op" id="7847318">.</span><span class="ident" id="7847319">Errorf</span><span class="op" id="7847325">(</span><span class="string" id="7847326">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="7847359">,</span>&nbsp;<span class="ident" id="7847361">msg</span><span class="op" id="7847364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7847367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7847371">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7847387">var</span>&nbsp;<span class="ident" id="7847391">s</span>&nbsp;<span class="ident" id="7847393">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847402">s</span><span class="op" id="7847403">.</span><span class="ident" id="7847404">Init</span><span class="op" id="7847408">(</span><span class="ident" id="7847409">fset</span><span class="op" id="7847413">.</span><span class="ident" id="7847414">AddFile</span><span class="op" id="7847421">(</span><span class="string" id="7847422">&#34;&#34;</span><span class="op" id="7847424">,</span>&nbsp;<span class="ident" id="7847426">fset</span><span class="op" id="7847430">.</span><span class="ident" id="7847431">Base</span><span class="op" id="7847435">(</span><span class="op" id="7847436">)</span><span class="op" id="7847437">,</span>&nbsp;<span class="builtinfunc" id="7847439">len</span><span class="op" id="7847442">(</span><span class="ident" id="7847443">source</span><span class="op" id="7847449">)</span><span class="op" id="7847450">)</span><span class="op" id="7847451">,</span>&nbsp;<span class="ident" id="7847453">source</span><span class="op" id="7847459">,</span>&nbsp;<span class="ident" id="7847461">eh</span><span class="op" id="7847463">,</span>&nbsp;<span class="ident" id="7847465">ScanComments</span><span class="op" id="7847477">|</span><span class="ident" id="7847478">dontInsertSemis</span><span class="op" id="7847493">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7847497">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847526">epos</span>&nbsp;<span class="op" id="7847531">:=</span>&nbsp;<span class="ident" id="7847534">token</span><span class="op" id="7847539">.</span><span class="ident" id="7847540">Position</span><span class="op" id="7847548">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847552">Filename</span><span class="op" id="7847560">:</span>&nbsp;<span class="string" id="7847562">&#34;&#34;</span><span class="op" id="7847564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847568">Offset</span><span class="op" id="7847574">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7847578">0</span><span class="op" id="7847579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847583">Line</span><span class="op" id="7847587">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7847593">1</span><span class="op" id="7847594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847598">Column</span><span class="op" id="7847604">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7847608">1</span><span class="op" id="7847609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7847612">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847616">index</span>&nbsp;<span class="op" id="7847622">:=</span>&nbsp;<span class="num" id="7847625">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7847628">for</span>&nbsp;<span class="op" id="7847632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847636">pos</span><span class="op" id="7847639">,</span>&nbsp;<span class="ident" id="7847641">tok</span><span class="op" id="7847644">,</span>&nbsp;<span class="ident" id="7847646">lit</span>&nbsp;<span class="op" id="7847650">:=</span>&nbsp;<span class="ident" id="7847653">s</span><span class="op" id="7847654">.</span><span class="ident" id="7847655">Scan</span><span class="op" id="7847659">(</span><span class="op" id="7847660">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7847665">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7847685">if</span>&nbsp;<span class="ident" id="7847688">tok</span>&nbsp;<span class="op" id="7847692">==</span>&nbsp;<span class="ident" id="7847695">token</span><span class="op" id="7847700">.</span><span class="ident" id="7847701">EOF</span>&nbsp;<span class="op" id="7847705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7847710">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847735">epos</span><span class="op" id="7847739">.</span><span class="ident" id="7847740">Line</span>&nbsp;<span class="op" id="7847745">=</span>&nbsp;<span class="ident" id="7847747">newlineCount</span><span class="op" id="7847759">(</span><span class="builtintype" id="7847760">string</span><span class="op" id="7847766">(</span><span class="ident" id="7847767">source</span><span class="op" id="7847773">)</span><span class="op" id="7847774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847779">epos</span><span class="op" id="7847783">.</span><span class="ident" id="7847784">Column</span>&nbsp;<span class="op" id="7847791">=</span>&nbsp;<span class="num" id="7847793">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7847797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847801">checkPos</span><span class="op" id="7847809">(</span><span class="ident" id="7847810">t</span><span class="op" id="7847811">,</span>&nbsp;<span class="ident" id="7847813">lit</span><span class="op" id="7847816">,</span>&nbsp;<span class="ident" id="7847818">pos</span><span class="op" id="7847821">,</span>&nbsp;<span class="ident" id="7847823">epos</span><span class="op" id="7847827">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7847832">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847849">e</span>&nbsp;<span class="op" id="7847851">:=</span>&nbsp;<span class="ident" id="7847854">elt</span><span class="op" id="7847857">{</span><span class="ident" id="7847858">token</span><span class="op" id="7847863">.</span><span class="ident" id="7847864">EOF</span><span class="op" id="7847867">,</span>&nbsp;<span class="string" id="7847869">&#34;&#34;</span><span class="op" id="7847871">,</span>&nbsp;<span class="ident" id="7847873">special</span><span class="op" id="7847880">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7847884">if</span>&nbsp;<span class="ident" id="7847887">index</span>&nbsp;<span class="op" id="7847893">&lt;</span>&nbsp;<span class="builtinfunc" id="7847895">len</span><span class="op" id="7847898">(</span><span class="ident" id="7847899">tokens</span><span class="op" id="7847905">)</span>&nbsp;<span class="op" id="7847907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847912">e</span>&nbsp;<span class="op" id="7847914">=</span>&nbsp;<span class="ident" id="7847916">tokens</span><span class="op" id="7847922">[</span><span class="ident" id="7847923">index</span><span class="op" id="7847928">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847933">index</span><span class="op" id="7847938">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7847943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7847947">if</span>&nbsp;<span class="ident" id="7847950">tok</span>&nbsp;<span class="op" id="7847954">!=</span>&nbsp;<span class="ident" id="7847957">e</span><span class="op" id="7847958">.</span><span class="ident" id="7847959">tok</span>&nbsp;<span class="op" id="7847963">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7847968">t</span><span class="op" id="7847969">.</span><span class="ident" id="7847970">Errorf</span><span class="op" id="7847976">(</span><span class="string" id="7847977">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7848016">,</span>&nbsp;<span class="ident" id="7848018">lit</span><span class="op" id="7848021">,</span>&nbsp;<span class="ident" id="7848023">tok</span><span class="op" id="7848026">,</span>&nbsp;<span class="ident" id="7848028">e</span><span class="op" id="7848029">.</span><span class="ident" id="7848030">tok</span><span class="op" id="7848033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7848042">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848065">if</span>&nbsp;<span class="ident" id="7848068">tokenclass</span><span class="op" id="7848078">(</span><span class="ident" id="7848079">tok</span><span class="op" id="7848082">)</span>&nbsp;<span class="op" id="7848084">!=</span>&nbsp;<span class="ident" id="7848087">e</span><span class="op" id="7848088">.</span><span class="ident" id="7848089">class</span>&nbsp;<span class="op" id="7848095">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848100">t</span><span class="op" id="7848101">.</span><span class="ident" id="7848102">Errorf</span><span class="op" id="7848108">(</span><span class="string" id="7848109">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7848148">,</span>&nbsp;<span class="ident" id="7848150">lit</span><span class="op" id="7848153">,</span>&nbsp;<span class="ident" id="7848155">tokenclass</span><span class="op" id="7848165">(</span><span class="ident" id="7848166">tok</span><span class="op" id="7848169">)</span><span class="op" id="7848170">,</span>&nbsp;<span class="ident" id="7848172">e</span><span class="op" id="7848173">.</span><span class="ident" id="7848174">class</span><span class="op" id="7848179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7848188">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848207">elit</span>&nbsp;<span class="op" id="7848212">:=</span>&nbsp;<span class="string" id="7848215">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848220">switch</span>&nbsp;<span class="ident" id="7848227">e</span><span class="op" id="7848228">.</span><span class="ident" id="7848229">tok</span>&nbsp;<span class="op" id="7848233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848237">case</span>&nbsp;<span class="ident" id="7848242">token</span><span class="op" id="7848247">.</span><span class="ident" id="7848248">COMMENT</span><span class="op" id="7848255">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7848260">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848285">elit</span>&nbsp;<span class="op" id="7848290">=</span>&nbsp;<span class="builtintype" id="7848292">string</span><span class="op" id="7848298">(</span><span class="ident" id="7848299">stripCR</span><span class="op" id="7848306">(</span><span class="op" id="7848307">[</span><span class="op" id="7848308">]</span><span class="builtintype" id="7848309">byte</span><span class="op" id="7848313">(</span><span class="ident" id="7848314">e</span><span class="op" id="7848315">.</span><span class="ident" id="7848316">lit</span><span class="op" id="7848319">)</span><span class="op" id="7848320">)</span><span class="op" id="7848321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7848326">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848378">if</span>&nbsp;<span class="ident" id="7848381">elit</span><span class="op" id="7848385">[</span><span class="num" id="7848386">1</span><span class="op" id="7848387">]</span>&nbsp;<span class="op" id="7848389">==</span>&nbsp;<span class="string" id="7848392">&#39;/&#39;</span>&nbsp;<span class="op" id="7848396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848402">elit</span>&nbsp;<span class="op" id="7848407">=</span>&nbsp;<span class="ident" id="7848409">elit</span><span class="op" id="7848413">[</span><span class="num" id="7848414">0</span>&nbsp;<span class="op" id="7848416">:</span>&nbsp;<span class="builtinfunc" id="7848418">len</span><span class="op" id="7848421">(</span><span class="ident" id="7848422">elit</span><span class="op" id="7848426">)</span><span class="op" id="7848427">-</span><span class="num" id="7848428">1</span><span class="op" id="7848429">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848438">case</span>&nbsp;<span class="ident" id="7848443">token</span><span class="op" id="7848448">.</span><span class="ident" id="7848449">IDENT</span><span class="op" id="7848454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848459">elit</span>&nbsp;<span class="op" id="7848464">=</span>&nbsp;<span class="ident" id="7848466">e</span><span class="op" id="7848467">.</span><span class="ident" id="7848468">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848474">case</span>&nbsp;<span class="ident" id="7848479">token</span><span class="op" id="7848484">.</span><span class="ident" id="7848485">SEMICOLON</span><span class="op" id="7848494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848499">elit</span>&nbsp;<span class="op" id="7848504">=</span>&nbsp;<span class="string" id="7848506">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848512">default</span><span class="op" id="7848519">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848524">if</span>&nbsp;<span class="ident" id="7848527">e</span><span class="op" id="7848528">.</span><span class="ident" id="7848529">tok</span><span class="op" id="7848532">.</span><span class="ident" id="7848533">IsLiteral</span><span class="op" id="7848542">(</span><span class="op" id="7848543">)</span>&nbsp;<span class="op" id="7848545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7848551">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848588">elit</span>&nbsp;<span class="op" id="7848593">=</span>&nbsp;<span class="ident" id="7848595">e</span><span class="op" id="7848596">.</span><span class="ident" id="7848597">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848605">if</span>&nbsp;<span class="ident" id="7848608">elit</span><span class="op" id="7848612">[</span><span class="num" id="7848613">0</span><span class="op" id="7848614">]</span>&nbsp;<span class="op" id="7848616">==</span>&nbsp;<span class="string" id="7848619">&#39;`&#39;</span>&nbsp;<span class="op" id="7848623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848630">elit</span>&nbsp;<span class="op" id="7848635">=</span>&nbsp;<span class="builtintype" id="7848637">string</span><span class="op" id="7848643">(</span><span class="ident" id="7848644">stripCR</span><span class="op" id="7848651">(</span><span class="op" id="7848652">[</span><span class="op" id="7848653">]</span><span class="builtintype" id="7848654">byte</span><span class="op" id="7848658">(</span><span class="ident" id="7848659">elit</span><span class="op" id="7848663">)</span><span class="op" id="7848664">)</span><span class="op" id="7848665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848676">}</span>&nbsp;<span class="keyword" id="7848678">else</span>&nbsp;<span class="keyword" id="7848683">if</span>&nbsp;<span class="ident" id="7848686">e</span><span class="op" id="7848687">.</span><span class="ident" id="7848688">tok</span><span class="op" id="7848691">.</span><span class="ident" id="7848692">IsKeyword</span><span class="op" id="7848701">(</span><span class="op" id="7848702">)</span>&nbsp;<span class="op" id="7848704">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848710">elit</span>&nbsp;<span class="op" id="7848715">=</span>&nbsp;<span class="ident" id="7848717">e</span><span class="op" id="7848718">.</span><span class="ident" id="7848719">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848734">if</span>&nbsp;<span class="ident" id="7848737">lit</span>&nbsp;<span class="op" id="7848741">!=</span>&nbsp;<span class="ident" id="7848744">elit</span>&nbsp;<span class="op" id="7848749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848754">t</span><span class="op" id="7848755">.</span><span class="ident" id="7848756">Errorf</span><span class="op" id="7848762">(</span><span class="string" id="7848763">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7848804">,</span>&nbsp;<span class="ident" id="7848806">lit</span><span class="op" id="7848809">,</span>&nbsp;<span class="ident" id="7848811">lit</span><span class="op" id="7848814">,</span>&nbsp;<span class="ident" id="7848816">elit</span><span class="op" id="7848820">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848829">if</span>&nbsp;<span class="ident" id="7848832">tok</span>&nbsp;<span class="op" id="7848836">==</span>&nbsp;<span class="ident" id="7848839">token</span><span class="op" id="7848844">.</span><span class="ident" id="7848845">EOF</span>&nbsp;<span class="op" id="7848849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848854">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848862">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7848867">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848888">epos</span><span class="op" id="7848892">.</span><span class="ident" id="7848893">Offset</span>&nbsp;<span class="op" id="7848900">+=</span>&nbsp;<span class="builtinfunc" id="7848903">len</span><span class="op" id="7848906">(</span><span class="ident" id="7848907">e</span><span class="op" id="7848908">.</span><span class="ident" id="7848909">lit</span><span class="op" id="7848912">)</span>&nbsp;<span class="op" id="7848914">+</span>&nbsp;<span class="builtinfunc" id="7848916">len</span><span class="op" id="7848919">(</span><span class="ident" id="7848920">whitespace</span><span class="op" id="7848930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7848934">epos</span><span class="op" id="7848938">.</span><span class="ident" id="7848939">Line</span>&nbsp;<span class="op" id="7848944">+=</span>&nbsp;<span class="ident" id="7848947">newlineCount</span><span class="op" id="7848959">(</span><span class="ident" id="7848960">e</span><span class="op" id="7848961">.</span><span class="ident" id="7848962">lit</span><span class="op" id="7848965">)</span>&nbsp;<span class="op" id="7848967">+</span>&nbsp;<span class="ident" id="7848969">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7848992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7848996">if</span>&nbsp;<span class="ident" id="7848999">s</span><span class="op" id="7849000">.</span><span class="ident" id="7849001">ErrorCount</span>&nbsp;<span class="op" id="7849012">!=</span>&nbsp;<span class="num" id="7849015">0</span>&nbsp;<span class="op" id="7849017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849021">t</span><span class="op" id="7849022">.</span><span class="ident" id="7849023">Errorf</span><span class="op" id="7849029">(</span><span class="string" id="7849030">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7849047">,</span>&nbsp;<span class="ident" id="7849049">s</span><span class="op" id="7849050">.</span><span class="ident" id="7849051">ErrorCount</span><span class="op" id="7849061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7849064">}</span><br>
<span class="lineno">310</span><span class="op" id="7849066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7849069">func</span>&nbsp;<span class="ident" id="7849074">checkSemi</span><span class="op" id="7849083">(</span><span class="ident" id="7849084">t</span>&nbsp;<span class="op" id="7849086">*</span><span class="ident" id="7849087">testing</span><span class="op" id="7849094">.</span><span class="ident" id="7849095">T</span><span class="op" id="7849096">,</span>&nbsp;<span class="ident" id="7849098">line</span>&nbsp;<span class="builtintype" id="7849103">string</span><span class="op" id="7849109">,</span>&nbsp;<span class="ident" id="7849111">mode</span>&nbsp;<span class="ident" id="7849116">Mode</span><span class="op" id="7849120">)</span>&nbsp;<span class="op" id="7849122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7849125">var</span>&nbsp;<span class="ident" id="7849129">S</span>&nbsp;<span class="ident" id="7849131">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849140">file</span>&nbsp;<span class="op" id="7849145">:=</span>&nbsp;<span class="ident" id="7849148">fset</span><span class="op" id="7849152">.</span><span class="ident" id="7849153">AddFile</span><span class="op" id="7849160">(</span><span class="string" id="7849161">&#34;TestSemis&#34;</span><span class="op" id="7849172">,</span>&nbsp;<span class="ident" id="7849174">fset</span><span class="op" id="7849178">.</span><span class="ident" id="7849179">Base</span><span class="op" id="7849183">(</span><span class="op" id="7849184">)</span><span class="op" id="7849185">,</span>&nbsp;<span class="builtinfunc" id="7849187">len</span><span class="op" id="7849190">(</span><span class="ident" id="7849191">line</span><span class="op" id="7849195">)</span><span class="op" id="7849196">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849199">S</span><span class="op" id="7849200">.</span><span class="ident" id="7849201">Init</span><span class="op" id="7849205">(</span><span class="ident" id="7849206">file</span><span class="op" id="7849210">,</span>&nbsp;<span class="op" id="7849212">[</span><span class="op" id="7849213">]</span><span class="builtintype" id="7849214">byte</span><span class="op" id="7849218">(</span><span class="ident" id="7849219">line</span><span class="op" id="7849223">)</span><span class="op" id="7849224">,</span>&nbsp;<span class="ident" id="7849226">nil</span><span class="op" id="7849229">,</span>&nbsp;<span class="ident" id="7849231">mode</span><span class="op" id="7849235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849238">pos</span><span class="op" id="7849241">,</span>&nbsp;<span class="ident" id="7849243">tok</span><span class="op" id="7849246">,</span>&nbsp;<span class="ident" id="7849248">lit</span>&nbsp;<span class="op" id="7849252">:=</span>&nbsp;<span class="ident" id="7849255">S</span><span class="op" id="7849256">.</span><span class="ident" id="7849257">Scan</span><span class="op" id="7849261">(</span><span class="op" id="7849262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7849265">for</span>&nbsp;<span class="ident" id="7849269">tok</span>&nbsp;<span class="op" id="7849273">!=</span>&nbsp;<span class="ident" id="7849276">token</span><span class="op" id="7849281">.</span><span class="ident" id="7849282">EOF</span>&nbsp;<span class="op" id="7849286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7849290">if</span>&nbsp;<span class="ident" id="7849293">tok</span>&nbsp;<span class="op" id="7849297">==</span>&nbsp;<span class="ident" id="7849300">token</span><span class="op" id="7849305">.</span><span class="ident" id="7849306">ILLEGAL</span>&nbsp;<span class="op" id="7849314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7849319">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7849366">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849408">semiLit</span>&nbsp;<span class="op" id="7849416">:=</span>&nbsp;<span class="string" id="7849419">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7849427">if</span>&nbsp;<span class="ident" id="7849430">lit</span><span class="op" id="7849433">[</span><span class="num" id="7849434">0</span><span class="op" id="7849435">]</span>&nbsp;<span class="op" id="7849437">==</span>&nbsp;<span class="string" id="7849440">&#39;#&#39;</span>&nbsp;<span class="op" id="7849444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849450">semiLit</span>&nbsp;<span class="op" id="7849458">=</span>&nbsp;<span class="string" id="7849460">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7849467">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7849472">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849509">semiPos</span>&nbsp;<span class="op" id="7849517">:=</span>&nbsp;<span class="ident" id="7849520">file</span><span class="op" id="7849524">.</span><span class="ident" id="7849525">Position</span><span class="op" id="7849533">(</span><span class="ident" id="7849534">pos</span><span class="op" id="7849537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849542">semiPos</span><span class="op" id="7849549">.</span><span class="ident" id="7849550">Offset</span><span class="op" id="7849556">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849562">semiPos</span><span class="op" id="7849569">.</span><span class="ident" id="7849570">Column</span><span class="op" id="7849576">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849582">pos</span><span class="op" id="7849585">,</span>&nbsp;<span class="ident" id="7849587">tok</span><span class="op" id="7849590">,</span>&nbsp;<span class="ident" id="7849592">lit</span>&nbsp;<span class="op" id="7849596">=</span>&nbsp;<span class="ident" id="7849598">S</span><span class="op" id="7849599">.</span><span class="ident" id="7849600">Scan</span><span class="op" id="7849604">(</span><span class="op" id="7849605">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7849610">if</span>&nbsp;<span class="ident" id="7849613">tok</span>&nbsp;<span class="op" id="7849617">==</span>&nbsp;<span class="ident" id="7849620">token</span><span class="op" id="7849625">.</span><span class="ident" id="7849626">SEMICOLON</span>&nbsp;<span class="op" id="7849636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7849642">if</span>&nbsp;<span class="ident" id="7849645">lit</span>&nbsp;<span class="op" id="7849649">!=</span>&nbsp;<span class="ident" id="7849652">semiLit</span>&nbsp;<span class="op" id="7849660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849667">t</span><span class="op" id="7849668">.</span><span class="ident" id="7849669">Errorf</span><span class="op" id="7849675">(</span><span class="string" id="7849676">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="7849717">,</span>&nbsp;<span class="ident" id="7849719">line</span><span class="op" id="7849723">,</span>&nbsp;<span class="ident" id="7849725">lit</span><span class="op" id="7849728">,</span>&nbsp;<span class="ident" id="7849730">semiLit</span><span class="op" id="7849737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7849743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849749">checkPos</span><span class="op" id="7849757">(</span><span class="ident" id="7849758">t</span><span class="op" id="7849759">,</span>&nbsp;<span class="ident" id="7849761">line</span><span class="op" id="7849765">,</span>&nbsp;<span class="ident" id="7849767">pos</span><span class="op" id="7849770">,</span>&nbsp;<span class="ident" id="7849772">semiPos</span><span class="op" id="7849779">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7849784">}</span>&nbsp;<span class="keyword" id="7849786">else</span>&nbsp;<span class="op" id="7849791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849797">t</span><span class="op" id="7849798">.</span><span class="ident" id="7849799">Errorf</span><span class="op" id="7849805">(</span><span class="string" id="7849806">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="7849844">,</span>&nbsp;<span class="ident" id="7849846">line</span><span class="op" id="7849850">,</span>&nbsp;<span class="ident" id="7849852">tok</span><span class="op" id="7849855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7849860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7849864">}</span>&nbsp;<span class="keyword" id="7849866">else</span>&nbsp;<span class="keyword" id="7849871">if</span>&nbsp;<span class="ident" id="7849874">tok</span>&nbsp;<span class="op" id="7849878">==</span>&nbsp;<span class="ident" id="7849881">token</span><span class="op" id="7849886">.</span><span class="ident" id="7849887">SEMICOLON</span>&nbsp;<span class="op" id="7849897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849902">t</span><span class="op" id="7849903">.</span><span class="ident" id="7849904">Errorf</span><span class="op" id="7849910">(</span><span class="string" id="7849911">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="7849951">,</span>&nbsp;<span class="ident" id="7849953">line</span><span class="op" id="7849957">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7849961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7849965">pos</span><span class="op" id="7849968">,</span>&nbsp;<span class="ident" id="7849970">tok</span><span class="op" id="7849973">,</span>&nbsp;<span class="ident" id="7849975">lit</span>&nbsp;<span class="op" id="7849979">=</span>&nbsp;<span class="ident" id="7849981">S</span><span class="op" id="7849982">.</span><span class="ident" id="7849983">Scan</span><span class="op" id="7849987">(</span><span class="op" id="7849988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7849991">}</span><br>
<span class="lineno"></span><span class="op" id="7849993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7849996">var</span>&nbsp;<span class="ident" id="7850000">lines</span>&nbsp;<span class="op" id="7850006">=</span>&nbsp;<span class="op" id="7850008">[</span><span class="op" id="7850009">]</span><span class="builtintype" id="7850010">string</span><span class="op" id="7850016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7850019">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7850069">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850121">&#34;&#34;</span><span class="op" id="7850123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850126">&#34;\ufeff#;&#34;</span><span class="op" id="7850136">,</span>&nbsp;<span class="comment" id="7850138">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850163">&#34;#;&#34;</span><span class="op" id="7850167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850170">&#34;foo$\n&#34;</span><span class="op" id="7850178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850181">&#34;123$\n&#34;</span><span class="op" id="7850189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850192">&#34;1.2$\n&#34;</span><span class="op" id="7850200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850203">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="7850211">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850214">`&#34;x&#34;`</span>&nbsp;<span class="op" id="7850220">+</span>&nbsp;<span class="string" id="7850222">&#34;$\n&#34;</span><span class="op" id="7850227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850230">&#34;`x`$\n&#34;</span><span class="op" id="7850238">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850242">&#34;+\n&#34;</span><span class="op" id="7850247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850250">&#34;-\n&#34;</span><span class="op" id="7850255">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850258">&#34;*\n&#34;</span><span class="op" id="7850263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850266">&#34;/\n&#34;</span><span class="op" id="7850271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850274">&#34;%\n&#34;</span><span class="op" id="7850279">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850283">&#34;&amp;\n&#34;</span><span class="op" id="7850288">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850291">&#34;|\n&#34;</span><span class="op" id="7850296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850299">&#34;^\n&#34;</span><span class="op" id="7850304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850307">&#34;&lt;&lt;\n&#34;</span><span class="op" id="7850313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850316">&#34;&gt;&gt;\n&#34;</span><span class="op" id="7850322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850325">&#34;&amp;^\n&#34;</span><span class="op" id="7850331">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850335">&#34;+=\n&#34;</span><span class="op" id="7850341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850344">&#34;-=\n&#34;</span><span class="op" id="7850350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850353">&#34;*=\n&#34;</span><span class="op" id="7850359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850362">&#34;/=\n&#34;</span><span class="op" id="7850368">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850371">&#34;%=\n&#34;</span><span class="op" id="7850377">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850381">&#34;&amp;=\n&#34;</span><span class="op" id="7850387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850390">&#34;|=\n&#34;</span><span class="op" id="7850396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850399">&#34;^=\n&#34;</span><span class="op" id="7850405">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850408">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="7850415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850418">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="7850425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850428">&#34;&amp;^=\n&#34;</span><span class="op" id="7850435">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850439">&#34;&amp;&amp;\n&#34;</span><span class="op" id="7850445">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850448">&#34;||\n&#34;</span><span class="op" id="7850454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850457">&#34;&lt;-\n&#34;</span><span class="op" id="7850463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850466">&#34;++$\n&#34;</span><span class="op" id="7850473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850476">&#34;--$\n&#34;</span><span class="op" id="7850483">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850487">&#34;==\n&#34;</span><span class="op" id="7850493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850496">&#34;&lt;\n&#34;</span><span class="op" id="7850501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850504">&#34;&gt;\n&#34;</span><span class="op" id="7850509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850512">&#34;=\n&#34;</span><span class="op" id="7850517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850520">&#34;!\n&#34;</span><span class="op" id="7850525">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850529">&#34;!=\n&#34;</span><span class="op" id="7850535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850538">&#34;&lt;=\n&#34;</span><span class="op" id="7850544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850547">&#34;&gt;=\n&#34;</span><span class="op" id="7850553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850556">&#34;:=\n&#34;</span><span class="op" id="7850562">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850565">&#34;...\n&#34;</span><span class="op" id="7850572">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850576">&#34;(\n&#34;</span><span class="op" id="7850581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850584">&#34;[\n&#34;</span><span class="op" id="7850589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850592">&#34;{\n&#34;</span><span class="op" id="7850597">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850600">&#34;,\n&#34;</span><span class="op" id="7850605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850608">&#34;.\n&#34;</span><span class="op" id="7850613">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850617">&#34;)$\n&#34;</span><span class="op" id="7850623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850626">&#34;]$\n&#34;</span><span class="op" id="7850632">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850635">&#34;}$\n&#34;</span><span class="op" id="7850641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850644">&#34;#;\n&#34;</span><span class="op" id="7850650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850653">&#34;:\n&#34;</span><span class="op" id="7850658">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850662">&#34;break$\n&#34;</span><span class="op" id="7850672">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850675">&#34;case\n&#34;</span><span class="op" id="7850683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850686">&#34;chan\n&#34;</span><span class="op" id="7850694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850697">&#34;const\n&#34;</span><span class="op" id="7850706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850709">&#34;continue$\n&#34;</span><span class="op" id="7850722">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850726">&#34;default\n&#34;</span><span class="op" id="7850737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850740">&#34;defer\n&#34;</span><span class="op" id="7850749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850752">&#34;else\n&#34;</span><span class="op" id="7850760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850763">&#34;fallthrough$\n&#34;</span><span class="op" id="7850779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850782">&#34;for\n&#34;</span><span class="op" id="7850789">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850793">&#34;func\n&#34;</span><span class="op" id="7850801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850804">&#34;go\n&#34;</span><span class="op" id="7850810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850813">&#34;goto\n&#34;</span><span class="op" id="7850821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850824">&#34;if\n&#34;</span><span class="op" id="7850830">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850833">&#34;import\n&#34;</span><span class="op" id="7850843">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850847">&#34;interface\n&#34;</span><span class="op" id="7850860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850863">&#34;map\n&#34;</span><span class="op" id="7850870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850873">&#34;package\n&#34;</span><span class="op" id="7850884">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850887">&#34;range\n&#34;</span><span class="op" id="7850896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850899">&#34;return$\n&#34;</span><span class="op" id="7850910">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850914">&#34;select\n&#34;</span><span class="op" id="7850924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850927">&#34;struct\n&#34;</span><span class="op" id="7850937">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850940">&#34;switch\n&#34;</span><span class="op" id="7850950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850953">&#34;type\n&#34;</span><span class="op" id="7850961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850964">&#34;var\n&#34;</span><span class="op" id="7850971">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850975">&#34;foo$//comment\n&#34;</span><span class="op" id="7850992">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7850995">&#34;foo$//comment&#34;</span><span class="op" id="7851010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851013">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="7851032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851035">&#34;foo$/*\n*/&#34;</span><span class="op" id="7851047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851050">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7851073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851076">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7851092">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851096">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="7851118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851121">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="7851141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851144">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="7851167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851170">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="7851186">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851189">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="7851225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851228">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="7851257">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851261">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7851288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851291">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7851324">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851327">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="7851398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851401">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="7851441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851444">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="7851487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851490">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="7851533">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851537">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="7851604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851607">&#34;package&nbsp;main$&#34;</span><span class="op" id="7851622">,</span><br>
<span class="lineno"></span><span class="op" id="7851624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7851627">func</span>&nbsp;<span class="ident" id="7851632">TestSemis</span><span class="op" id="7851641">(</span><span class="ident" id="7851642">t</span>&nbsp;<span class="op" id="7851644">*</span><span class="ident" id="7851645">testing</span><span class="op" id="7851652">.</span><span class="ident" id="7851653">T</span><span class="op" id="7851654">)</span>&nbsp;<span class="op" id="7851656">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7851659">for</span>&nbsp;<span class="ident" id="7851663">_</span><span class="op" id="7851664">,</span>&nbsp;<span class="ident" id="7851666">line</span>&nbsp;<span class="op" id="7851671">:=</span>&nbsp;<span class="keyword" id="7851674">range</span>&nbsp;<span class="ident" id="7851680">lines</span>&nbsp;<span class="op" id="7851686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7851690">checkSemi</span><span class="op" id="7851699">(</span><span class="ident" id="7851700">t</span><span class="op" id="7851701">,</span>&nbsp;<span class="ident" id="7851703">line</span><span class="op" id="7851707">,</span>&nbsp;<span class="num" id="7851709">0</span><span class="op" id="7851710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7851714">checkSemi</span><span class="op" id="7851723">(</span><span class="ident" id="7851724">t</span><span class="op" id="7851725">,</span>&nbsp;<span class="ident" id="7851727">line</span><span class="op" id="7851731">,</span>&nbsp;<span class="ident" id="7851733">ScanComments</span><span class="op" id="7851745">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7851750">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7851815">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7851856">for</span>&nbsp;<span class="ident" id="7851860">i</span>&nbsp;<span class="op" id="7851862">:=</span>&nbsp;<span class="builtinfunc" id="7851865">len</span><span class="op" id="7851868">(</span><span class="ident" id="7851869">line</span><span class="op" id="7851873">)</span>&nbsp;<span class="op" id="7851875">-</span>&nbsp;<span class="num" id="7851877">1</span><span class="op" id="7851878">;</span>&nbsp;<span class="ident" id="7851880">i</span>&nbsp;<span class="op" id="7851882">&gt;=</span>&nbsp;<span class="num" id="7851885">0</span>&nbsp;<span class="op" id="7851887">&amp;&amp;</span>&nbsp;<span class="ident" id="7851890">line</span><span class="op" id="7851894">[</span><span class="ident" id="7851895">i</span><span class="op" id="7851896">]</span>&nbsp;<span class="op" id="7851898">==</span>&nbsp;<span class="string" id="7851901">&#39;\n&#39;</span><span class="op" id="7851905">;</span>&nbsp;<span class="ident" id="7851907">i</span><span class="op" id="7851908">--</span>&nbsp;<span class="op" id="7851911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7851916">checkSemi</span><span class="op" id="7851925">(</span><span class="ident" id="7851926">t</span><span class="op" id="7851927">,</span>&nbsp;<span class="ident" id="7851929">line</span><span class="op" id="7851933">[</span><span class="num" id="7851934">0</span><span class="op" id="7851935">:</span><span class="ident" id="7851936">i</span><span class="op" id="7851937">]</span><span class="op" id="7851938">,</span>&nbsp;<span class="num" id="7851940">0</span><span class="op" id="7851941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7851946">checkSemi</span><span class="op" id="7851955">(</span><span class="ident" id="7851956">t</span><span class="op" id="7851957">,</span>&nbsp;<span class="ident" id="7851959">line</span><span class="op" id="7851963">[</span><span class="num" id="7851964">0</span><span class="op" id="7851965">:</span><span class="ident" id="7851966">i</span><span class="op" id="7851967">]</span><span class="op" id="7851968">,</span>&nbsp;<span class="ident" id="7851970">ScanComments</span><span class="op" id="7851982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7851986">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7851989">}</span><br>
<span class="lineno"></span><span class="op" id="7851991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7851994">type</span>&nbsp;<span class="ident" id="7851999">segment</span>&nbsp;<span class="keyword" id="7852007">struct</span>&nbsp;<span class="op" id="7852014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7852017">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="7852026">string</span>&nbsp;<span class="comment" id="7852033">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7852059">filename</span>&nbsp;<span class="builtintype" id="7852068">string</span>&nbsp;<span class="comment" id="7852075">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7852106">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7852115">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7852122">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="7852155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7852158">var</span>&nbsp;<span class="ident" id="7852162">segments</span>&nbsp;<span class="op" id="7852171">=</span>&nbsp;<span class="op" id="7852173">[</span><span class="op" id="7852174">]</span><span class="ident" id="7852175">segment</span><span class="op" id="7852182">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7852185">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852262">{</span><span class="string" id="7852263">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="7852272">,</span>&nbsp;<span class="ident" id="7852274">filepath</span><span class="op" id="7852282">.</span><span class="ident" id="7852283">Join</span><span class="op" id="7852287">(</span><span class="string" id="7852288">&#34;dir&#34;</span><span class="op" id="7852293">,</span>&nbsp;<span class="string" id="7852295">&#34;TestLineComments&#34;</span><span class="op" id="7852313">)</span><span class="op" id="7852314">,</span>&nbsp;<span class="num" id="7852316">1</span><span class="op" id="7852317">}</span><span class="op" id="7852318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852321">{</span><span class="string" id="7852322">&#34;\nline2&#34;</span><span class="op" id="7852331">,</span>&nbsp;<span class="ident" id="7852333">filepath</span><span class="op" id="7852341">.</span><span class="ident" id="7852342">Join</span><span class="op" id="7852346">(</span><span class="string" id="7852347">&#34;dir&#34;</span><span class="op" id="7852352">,</span>&nbsp;<span class="string" id="7852354">&#34;TestLineComments&#34;</span><span class="op" id="7852372">)</span><span class="op" id="7852373">,</span>&nbsp;<span class="num" id="7852375">2</span><span class="op" id="7852376">}</span><span class="op" id="7852377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852380">{</span><span class="string" id="7852381">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="7852411">,</span>&nbsp;<span class="ident" id="7852413">filepath</span><span class="op" id="7852421">.</span><span class="ident" id="7852422">Join</span><span class="op" id="7852426">(</span><span class="string" id="7852427">&#34;dir&#34;</span><span class="op" id="7852432">,</span>&nbsp;<span class="string" id="7852434">&#34;TestLineComments&#34;</span><span class="op" id="7852452">)</span><span class="op" id="7852453">,</span>&nbsp;<span class="num" id="7852455">3</span><span class="op" id="7852456">}</span><span class="op" id="7852457">,</span>&nbsp;<span class="comment" id="7852459">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852489">{</span><span class="string" id="7852490">&#34;\nline4&#34;</span><span class="op" id="7852499">,</span>&nbsp;<span class="ident" id="7852501">filepath</span><span class="op" id="7852509">.</span><span class="ident" id="7852510">Join</span><span class="op" id="7852514">(</span><span class="string" id="7852515">&#34;dir&#34;</span><span class="op" id="7852520">,</span>&nbsp;<span class="string" id="7852522">&#34;TestLineComments&#34;</span><span class="op" id="7852540">)</span><span class="op" id="7852541">,</span>&nbsp;<span class="num" id="7852543">4</span><span class="op" id="7852544">}</span><span class="op" id="7852545">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852548">{</span><span class="string" id="7852549">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7852583">,</span>&nbsp;<span class="ident" id="7852585">filepath</span><span class="op" id="7852593">.</span><span class="ident" id="7852594">Join</span><span class="op" id="7852598">(</span><span class="string" id="7852599">&#34;dir&#34;</span><span class="op" id="7852604">,</span>&nbsp;<span class="string" id="7852606">&#34;File1.go&#34;</span><span class="op" id="7852616">)</span><span class="op" id="7852617">,</span>&nbsp;<span class="num" id="7852619">100</span><span class="op" id="7852622">}</span><span class="op" id="7852623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852626">{</span><span class="string" id="7852627">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="7852654">,</span>&nbsp;<span class="string" id="7852656">&#34;&#34;</span><span class="op" id="7852658">,</span>&nbsp;<span class="num" id="7852660">42</span><span class="op" id="7852662">}</span><span class="op" id="7852663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852666">{</span><span class="string" id="7852667">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="7852701">,</span>&nbsp;<span class="ident" id="7852703">filepath</span><span class="op" id="7852711">.</span><span class="ident" id="7852712">Join</span><span class="op" id="7852716">(</span><span class="string" id="7852717">&#34;dir&#34;</span><span class="op" id="7852722">,</span>&nbsp;<span class="string" id="7852724">&#34;File2.go&#34;</span><span class="op" id="7852734">)</span><span class="op" id="7852735">,</span>&nbsp;<span class="num" id="7852737">200</span><span class="op" id="7852740">}</span><span class="op" id="7852741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852744">{</span><span class="string" id="7852745">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7852774">,</span>&nbsp;<span class="ident" id="7852776">filepath</span><span class="op" id="7852784">.</span><span class="ident" id="7852785">Join</span><span class="op" id="7852789">(</span><span class="string" id="7852790">&#34;dir&#34;</span><span class="op" id="7852795">,</span>&nbsp;<span class="string" id="7852797">&#34;foo&#34;</span><span class="op" id="7852802">)</span><span class="op" id="7852803">,</span>&nbsp;<span class="num" id="7852805">42</span><span class="op" id="7852807">}</span><span class="op" id="7852808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852811">{</span><span class="string" id="7852812">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="7852840">,</span>&nbsp;<span class="ident" id="7852842">filepath</span><span class="op" id="7852850">.</span><span class="ident" id="7852851">Join</span><span class="op" id="7852855">(</span><span class="string" id="7852856">&#34;dir&#34;</span><span class="op" id="7852861">,</span>&nbsp;<span class="string" id="7852863">&#34;foo&#34;</span><span class="op" id="7852868">)</span><span class="op" id="7852869">,</span>&nbsp;<span class="num" id="7852871">44</span><span class="op" id="7852873">}</span><span class="op" id="7852874">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7852886">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852916">{</span><span class="string" id="7852917">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="7852944">,</span>&nbsp;<span class="ident" id="7852946">filepath</span><span class="op" id="7852954">.</span><span class="ident" id="7852955">Join</span><span class="op" id="7852959">(</span><span class="string" id="7852960">&#34;dir&#34;</span><span class="op" id="7852965">,</span>&nbsp;<span class="string" id="7852967">&#34;foo&#34;</span><span class="op" id="7852972">)</span><span class="op" id="7852973">,</span>&nbsp;<span class="num" id="7852975">46</span><span class="op" id="7852977">}</span><span class="op" id="7852978">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7852991">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853021">{</span><span class="string" id="7853022">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="7853060">,</span>&nbsp;<span class="ident" id="7853062">filepath</span><span class="op" id="7853070">.</span><span class="ident" id="7853071">Join</span><span class="op" id="7853075">(</span><span class="string" id="7853076">&#34;dir&#34;</span><span class="op" id="7853081">,</span>&nbsp;<span class="string" id="7853083">&#34;foo&#34;</span><span class="op" id="7853088">)</span><span class="op" id="7853089">,</span>&nbsp;<span class="num" id="7853091">48</span><span class="op" id="7853093">}</span><span class="op" id="7853094">,</span>&nbsp;<span class="comment" id="7853096">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853126">{</span><span class="string" id="7853127">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7853156">,</span>&nbsp;<span class="ident" id="7853158">filepath</span><span class="op" id="7853166">.</span><span class="ident" id="7853167">Join</span><span class="op" id="7853171">(</span><span class="string" id="7853172">&#34;dir&#34;</span><span class="op" id="7853177">,</span>&nbsp;<span class="string" id="7853179">&#34;foo&#34;</span><span class="op" id="7853184">)</span><span class="op" id="7853185">,</span>&nbsp;<span class="num" id="7853187">42</span><span class="op" id="7853189">}</span><span class="op" id="7853190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853193">{</span><span class="string" id="7853194">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7853234">,</span>&nbsp;<span class="ident" id="7853236">filepath</span><span class="op" id="7853244">.</span><span class="ident" id="7853245">Join</span><span class="op" id="7853249">(</span><span class="string" id="7853250">&#34;dir&#34;</span><span class="op" id="7853255">,</span>&nbsp;<span class="string" id="7853257">&#34;a&#34;</span><span class="op" id="7853260">,</span>&nbsp;<span class="string" id="7853262">&#34;b&#34;</span><span class="op" id="7853265">,</span>&nbsp;<span class="string" id="7853267">&#34;c&#34;</span><span class="op" id="7853270">,</span>&nbsp;<span class="string" id="7853272">&#34;File1.go&#34;</span><span class="op" id="7853282">)</span><span class="op" id="7853283">,</span>&nbsp;<span class="num" id="7853285">100</span><span class="op" id="7853288">}</span><span class="op" id="7853289">,</span><br>
<span class="lineno"></span><span class="op" id="7853291">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="7853294">var</span>&nbsp;<span class="ident" id="7853298">unixsegments</span>&nbsp;<span class="op" id="7853311">=</span>&nbsp;<span class="op" id="7853313">[</span><span class="op" id="7853314">]</span><span class="ident" id="7853315">segment</span><span class="op" id="7853322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853325">{</span><span class="string" id="7853326">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7853354">,</span>&nbsp;<span class="string" id="7853356">&#34;/bar&#34;</span><span class="op" id="7853362">,</span>&nbsp;<span class="num" id="7853364">42</span><span class="op" id="7853366">}</span><span class="op" id="7853367">,</span><br>
<span class="lineno"></span><span class="op" id="7853369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="7853372">var</span>&nbsp;<span class="ident" id="7853376">winsegments</span>&nbsp;<span class="op" id="7853388">=</span>&nbsp;<span class="op" id="7853390">[</span><span class="op" id="7853391">]</span><span class="ident" id="7853392">segment</span><span class="op" id="7853399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853402">{</span><span class="string" id="7853403">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7853434">,</span>&nbsp;<span class="string" id="7853436">&#34;c:\\bar&#34;</span><span class="op" id="7853445">,</span>&nbsp;<span class="num" id="7853447">42</span><span class="op" id="7853449">}</span><span class="op" id="7853450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853453">{</span><span class="string" id="7853454">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7853497">,</span>&nbsp;<span class="string" id="7853499">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="7853518">,</span>&nbsp;<span class="num" id="7853520">100</span><span class="op" id="7853523">}</span><span class="op" id="7853524">,</span><br>
<span class="lineno"></span><span class="op" id="7853526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="7853529">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7853615">func</span>&nbsp;<span class="ident" id="7853620">TestLineComments</span><span class="op" id="7853636">(</span><span class="ident" id="7853637">t</span>&nbsp;<span class="op" id="7853639">*</span><span class="ident" id="7853640">testing</span><span class="op" id="7853647">.</span><span class="ident" id="7853648">T</span><span class="op" id="7853649">)</span>&nbsp;<span class="op" id="7853651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853654">segs</span>&nbsp;<span class="op" id="7853659">:=</span>&nbsp;<span class="ident" id="7853662">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853672">if</span>&nbsp;<span class="ident" id="7853675">runtime</span><span class="op" id="7853682">.</span><span class="ident" id="7853683">GOOS</span>&nbsp;<span class="op" id="7853688">==</span>&nbsp;<span class="string" id="7853691">&#34;windows&#34;</span>&nbsp;<span class="op" id="7853701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853705">segs</span>&nbsp;<span class="op" id="7853710">=</span>&nbsp;<span class="builtinfunc" id="7853712">append</span><span class="op" id="7853718">(</span><span class="ident" id="7853719">segs</span><span class="op" id="7853723">,</span>&nbsp;<span class="ident" id="7853725">winsegments</span><span class="op" id="7853736">...</span><span class="op" id="7853739">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853742">}</span>&nbsp;<span class="keyword" id="7853744">else</span>&nbsp;<span class="op" id="7853749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853753">segs</span>&nbsp;<span class="op" id="7853758">=</span>&nbsp;<span class="builtinfunc" id="7853760">append</span><span class="op" id="7853766">(</span><span class="ident" id="7853767">segs</span><span class="op" id="7853771">,</span>&nbsp;<span class="ident" id="7853773">unixsegments</span><span class="op" id="7853785">...</span><span class="op" id="7853788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7853795">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853811">var</span>&nbsp;<span class="ident" id="7853815">src</span>&nbsp;<span class="builtintype" id="7853819">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853827">for</span>&nbsp;<span class="ident" id="7853831">_</span><span class="op" id="7853832">,</span>&nbsp;<span class="ident" id="7853834">e</span>&nbsp;<span class="op" id="7853836">:=</span>&nbsp;<span class="keyword" id="7853839">range</span>&nbsp;<span class="ident" id="7853845">segs</span>&nbsp;<span class="op" id="7853850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853854">src</span>&nbsp;<span class="op" id="7853858">+=</span>&nbsp;<span class="ident" id="7853861">e</span><span class="op" id="7853862">.</span><span class="ident" id="7853863">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7853876">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853892">var</span>&nbsp;<span class="ident" id="7853896">S</span>&nbsp;<span class="ident" id="7853898">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853907">file</span>&nbsp;<span class="op" id="7853912">:=</span>&nbsp;<span class="ident" id="7853915">fset</span><span class="op" id="7853919">.</span><span class="ident" id="7853920">AddFile</span><span class="op" id="7853927">(</span><span class="ident" id="7853928">filepath</span><span class="op" id="7853936">.</span><span class="ident" id="7853937">Join</span><span class="op" id="7853941">(</span><span class="string" id="7853942">&#34;dir&#34;</span><span class="op" id="7853947">,</span>&nbsp;<span class="string" id="7853949">&#34;TestLineComments&#34;</span><span class="op" id="7853967">)</span><span class="op" id="7853968">,</span>&nbsp;<span class="ident" id="7853970">fset</span><span class="op" id="7853974">.</span><span class="ident" id="7853975">Base</span><span class="op" id="7853979">(</span><span class="op" id="7853980">)</span><span class="op" id="7853981">,</span>&nbsp;<span class="builtinfunc" id="7853983">len</span><span class="op" id="7853986">(</span><span class="ident" id="7853987">src</span><span class="op" id="7853990">)</span><span class="op" id="7853991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853994">S</span><span class="op" id="7853995">.</span><span class="ident" id="7853996">Init</span><span class="op" id="7854000">(</span><span class="ident" id="7854001">file</span><span class="op" id="7854005">,</span>&nbsp;<span class="op" id="7854007">[</span><span class="op" id="7854008">]</span><span class="builtintype" id="7854009">byte</span><span class="op" id="7854013">(</span><span class="ident" id="7854014">src</span><span class="op" id="7854017">)</span><span class="op" id="7854018">,</span>&nbsp;<span class="ident" id="7854020">nil</span><span class="op" id="7854023">,</span>&nbsp;<span class="ident" id="7854025">dontInsertSemis</span><span class="op" id="7854040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854043">for</span>&nbsp;<span class="ident" id="7854047">_</span><span class="op" id="7854048">,</span>&nbsp;<span class="ident" id="7854050">s</span>&nbsp;<span class="op" id="7854052">:=</span>&nbsp;<span class="keyword" id="7854055">range</span>&nbsp;<span class="ident" id="7854061">segs</span>&nbsp;<span class="op" id="7854066">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854070">p</span><span class="op" id="7854071">,</span>&nbsp;<span class="ident" id="7854073">_</span><span class="op" id="7854074">,</span>&nbsp;<span class="ident" id="7854076">lit</span>&nbsp;<span class="op" id="7854080">:=</span>&nbsp;<span class="ident" id="7854083">S</span><span class="op" id="7854084">.</span><span class="ident" id="7854085">Scan</span><span class="op" id="7854089">(</span><span class="op" id="7854090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854094">pos</span>&nbsp;<span class="op" id="7854098">:=</span>&nbsp;<span class="ident" id="7854101">file</span><span class="op" id="7854105">.</span><span class="ident" id="7854106">Position</span><span class="op" id="7854114">(</span><span class="ident" id="7854115">p</span><span class="op" id="7854116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854120">checkPos</span><span class="op" id="7854128">(</span><span class="ident" id="7854129">t</span><span class="op" id="7854130">,</span>&nbsp;<span class="ident" id="7854132">lit</span><span class="op" id="7854135">,</span>&nbsp;<span class="ident" id="7854137">p</span><span class="op" id="7854138">,</span>&nbsp;<span class="ident" id="7854140">token</span><span class="op" id="7854145">.</span><span class="ident" id="7854146">Position</span><span class="op" id="7854154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854159">Filename</span><span class="op" id="7854167">:</span>&nbsp;<span class="ident" id="7854169">s</span><span class="op" id="7854170">.</span><span class="ident" id="7854171">filename</span><span class="op" id="7854179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854184">Offset</span><span class="op" id="7854190">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7854194">pos</span><span class="op" id="7854197">.</span><span class="ident" id="7854198">Offset</span><span class="op" id="7854204">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854209">Line</span><span class="op" id="7854213">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7854219">s</span><span class="op" id="7854220">.</span><span class="ident" id="7854221">line</span><span class="op" id="7854225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854230">Column</span><span class="op" id="7854236">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7854240">pos</span><span class="op" id="7854243">.</span><span class="ident" id="7854244">Column</span><span class="op" id="7854250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7854254">}</span><span class="op" id="7854255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7854258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854262">if</span>&nbsp;<span class="ident" id="7854265">S</span><span class="op" id="7854266">.</span><span class="ident" id="7854267">ErrorCount</span>&nbsp;<span class="op" id="7854278">!=</span>&nbsp;<span class="num" id="7854281">0</span>&nbsp;<span class="op" id="7854283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854287">t</span><span class="op" id="7854288">.</span><span class="ident" id="7854289">Errorf</span><span class="op" id="7854295">(</span><span class="string" id="7854296">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7854313">,</span>&nbsp;<span class="ident" id="7854315">S</span><span class="op" id="7854316">.</span><span class="ident" id="7854317">ErrorCount</span><span class="op" id="7854327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7854330">}</span><br>
<span class="lineno"></span><span class="op" id="7854332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="7854335">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7854412">func</span>&nbsp;<span class="ident" id="7854417">TestInit</span><span class="op" id="7854425">(</span><span class="ident" id="7854426">t</span>&nbsp;<span class="op" id="7854428">*</span><span class="ident" id="7854429">testing</span><span class="op" id="7854436">.</span><span class="ident" id="7854437">T</span><span class="op" id="7854438">)</span>&nbsp;<span class="op" id="7854440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854443">var</span>&nbsp;<span class="ident" id="7854447">s</span>&nbsp;<span class="ident" id="7854449">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7854459">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854472">src1</span>&nbsp;<span class="op" id="7854477">:=</span>&nbsp;<span class="string" id="7854480">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854495">f1</span>&nbsp;<span class="op" id="7854498">:=</span>&nbsp;<span class="ident" id="7854501">fset</span><span class="op" id="7854505">.</span><span class="ident" id="7854506">AddFile</span><span class="op" id="7854513">(</span><span class="string" id="7854514">&#34;src1&#34;</span><span class="op" id="7854520">,</span>&nbsp;<span class="ident" id="7854522">fset</span><span class="op" id="7854526">.</span><span class="ident" id="7854527">Base</span><span class="op" id="7854531">(</span><span class="op" id="7854532">)</span><span class="op" id="7854533">,</span>&nbsp;<span class="builtinfunc" id="7854535">len</span><span class="op" id="7854538">(</span><span class="ident" id="7854539">src1</span><span class="op" id="7854543">)</span><span class="op" id="7854544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854547">s</span><span class="op" id="7854548">.</span><span class="ident" id="7854549">Init</span><span class="op" id="7854553">(</span><span class="ident" id="7854554">f1</span><span class="op" id="7854556">,</span>&nbsp;<span class="op" id="7854558">[</span><span class="op" id="7854559">]</span><span class="builtintype" id="7854560">byte</span><span class="op" id="7854564">(</span><span class="ident" id="7854565">src1</span><span class="op" id="7854569">)</span><span class="op" id="7854570">,</span>&nbsp;<span class="ident" id="7854572">nil</span><span class="op" id="7854575">,</span>&nbsp;<span class="ident" id="7854577">dontInsertSemis</span><span class="op" id="7854592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854595">if</span>&nbsp;<span class="ident" id="7854598">f1</span><span class="op" id="7854600">.</span><span class="ident" id="7854601">Size</span><span class="op" id="7854605">(</span><span class="op" id="7854606">)</span>&nbsp;<span class="op" id="7854608">!=</span>&nbsp;<span class="builtinfunc" id="7854611">len</span><span class="op" id="7854614">(</span><span class="ident" id="7854615">src1</span><span class="op" id="7854619">)</span>&nbsp;<span class="op" id="7854621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854625">t</span><span class="op" id="7854626">.</span><span class="ident" id="7854627">Errorf</span><span class="op" id="7854633">(</span><span class="string" id="7854634">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7854670">,</span>&nbsp;<span class="ident" id="7854672">f1</span><span class="op" id="7854674">.</span><span class="ident" id="7854675">Size</span><span class="op" id="7854679">(</span><span class="op" id="7854680">)</span><span class="op" id="7854681">,</span>&nbsp;<span class="builtinfunc" id="7854683">len</span><span class="op" id="7854686">(</span><span class="ident" id="7854687">src1</span><span class="op" id="7854691">)</span><span class="op" id="7854692">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7854695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854698">s</span><span class="op" id="7854699">.</span><span class="ident" id="7854700">Scan</span><span class="op" id="7854704">(</span><span class="op" id="7854705">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7854720">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854727">s</span><span class="op" id="7854728">.</span><span class="ident" id="7854729">Scan</span><span class="op" id="7854733">(</span><span class="op" id="7854734">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7854749">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854758">_</span><span class="op" id="7854759">,</span>&nbsp;<span class="ident" id="7854761">tok</span><span class="op" id="7854764">,</span>&nbsp;<span class="ident" id="7854766">_</span>&nbsp;<span class="op" id="7854768">:=</span>&nbsp;<span class="ident" id="7854771">s</span><span class="op" id="7854772">.</span><span class="ident" id="7854773">Scan</span><span class="op" id="7854777">(</span><span class="op" id="7854778">)</span>&nbsp;<span class="comment" id="7854780">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854786">if</span>&nbsp;<span class="ident" id="7854789">tok</span>&nbsp;<span class="op" id="7854793">!=</span>&nbsp;<span class="ident" id="7854796">token</span><span class="op" id="7854801">.</span><span class="ident" id="7854802">LBRACE</span>&nbsp;<span class="op" id="7854809">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854813">t</span><span class="op" id="7854814">.</span><span class="ident" id="7854815">Errorf</span><span class="op" id="7854821">(</span><span class="string" id="7854822">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7854854">,</span>&nbsp;<span class="ident" id="7854856">tok</span><span class="op" id="7854859">,</span>&nbsp;<span class="ident" id="7854861">token</span><span class="op" id="7854866">.</span><span class="ident" id="7854867">LBRACE</span><span class="op" id="7854873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7854876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7854880">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854893">src2</span>&nbsp;<span class="op" id="7854898">:=</span>&nbsp;<span class="string" id="7854901">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854916">f2</span>&nbsp;<span class="op" id="7854919">:=</span>&nbsp;<span class="ident" id="7854922">fset</span><span class="op" id="7854926">.</span><span class="ident" id="7854927">AddFile</span><span class="op" id="7854934">(</span><span class="string" id="7854935">&#34;src2&#34;</span><span class="op" id="7854941">,</span>&nbsp;<span class="ident" id="7854943">fset</span><span class="op" id="7854947">.</span><span class="ident" id="7854948">Base</span><span class="op" id="7854952">(</span><span class="op" id="7854953">)</span><span class="op" id="7854954">,</span>&nbsp;<span class="builtinfunc" id="7854956">len</span><span class="op" id="7854959">(</span><span class="ident" id="7854960">src2</span><span class="op" id="7854964">)</span><span class="op" id="7854965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854968">s</span><span class="op" id="7854969">.</span><span class="ident" id="7854970">Init</span><span class="op" id="7854974">(</span><span class="ident" id="7854975">f2</span><span class="op" id="7854977">,</span>&nbsp;<span class="op" id="7854979">[</span><span class="op" id="7854980">]</span><span class="builtintype" id="7854981">byte</span><span class="op" id="7854985">(</span><span class="ident" id="7854986">src2</span><span class="op" id="7854990">)</span><span class="op" id="7854991">,</span>&nbsp;<span class="ident" id="7854993">nil</span><span class="op" id="7854996">,</span>&nbsp;<span class="ident" id="7854998">dontInsertSemis</span><span class="op" id="7855013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855016">if</span>&nbsp;<span class="ident" id="7855019">f2</span><span class="op" id="7855021">.</span><span class="ident" id="7855022">Size</span><span class="op" id="7855026">(</span><span class="op" id="7855027">)</span>&nbsp;<span class="op" id="7855029">!=</span>&nbsp;<span class="builtinfunc" id="7855032">len</span><span class="op" id="7855035">(</span><span class="ident" id="7855036">src2</span><span class="op" id="7855040">)</span>&nbsp;<span class="op" id="7855042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855046">t</span><span class="op" id="7855047">.</span><span class="ident" id="7855048">Errorf</span><span class="op" id="7855054">(</span><span class="string" id="7855055">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7855091">,</span>&nbsp;<span class="ident" id="7855093">f2</span><span class="op" id="7855095">.</span><span class="ident" id="7855096">Size</span><span class="op" id="7855100">(</span><span class="op" id="7855101">)</span><span class="op" id="7855102">,</span>&nbsp;<span class="builtinfunc" id="7855104">len</span><span class="op" id="7855107">(</span><span class="ident" id="7855108">src2</span><span class="op" id="7855112">)</span><span class="op" id="7855113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855116">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855119">_</span><span class="op" id="7855120">,</span>&nbsp;<span class="ident" id="7855122">tok</span><span class="op" id="7855125">,</span>&nbsp;<span class="ident" id="7855127">_</span>&nbsp;<span class="op" id="7855129">=</span>&nbsp;<span class="ident" id="7855131">s</span><span class="op" id="7855132">.</span><span class="ident" id="7855133">Scan</span><span class="op" id="7855137">(</span><span class="op" id="7855138">)</span>&nbsp;<span class="comment" id="7855140">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855147">if</span>&nbsp;<span class="ident" id="7855150">tok</span>&nbsp;<span class="op" id="7855154">!=</span>&nbsp;<span class="ident" id="7855157">token</span><span class="op" id="7855162">.</span><span class="ident" id="7855163">GO</span>&nbsp;<span class="op" id="7855166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855170">t</span><span class="op" id="7855171">.</span><span class="ident" id="7855172">Errorf</span><span class="op" id="7855178">(</span><span class="string" id="7855179">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7855211">,</span>&nbsp;<span class="ident" id="7855213">tok</span><span class="op" id="7855216">,</span>&nbsp;<span class="ident" id="7855218">token</span><span class="op" id="7855223">.</span><span class="ident" id="7855224">GO</span><span class="op" id="7855226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855233">if</span>&nbsp;<span class="ident" id="7855236">s</span><span class="op" id="7855237">.</span><span class="ident" id="7855238">ErrorCount</span>&nbsp;<span class="op" id="7855249">!=</span>&nbsp;<span class="num" id="7855252">0</span>&nbsp;<span class="op" id="7855254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855258">t</span><span class="op" id="7855259">.</span><span class="ident" id="7855260">Errorf</span><span class="op" id="7855266">(</span><span class="string" id="7855267">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7855284">,</span>&nbsp;<span class="ident" id="7855286">s</span><span class="op" id="7855287">.</span><span class="ident" id="7855288">ErrorCount</span><span class="op" id="7855298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855301">}</span><br>
<span class="lineno"></span><span class="op" id="7855303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7855306">func</span>&nbsp;<span class="ident" id="7855311">TestStdErrorHander</span><span class="op" id="7855329">(</span><span class="ident" id="7855330">t</span>&nbsp;<span class="op" id="7855332">*</span><span class="ident" id="7855333">testing</span><span class="op" id="7855340">.</span><span class="ident" id="7855341">T</span><span class="op" id="7855342">)</span>&nbsp;<span class="op" id="7855344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855347">const</span>&nbsp;<span class="ident" id="7855353">src</span>&nbsp;<span class="op" id="7855357">=</span>&nbsp;<span class="string" id="7855359">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7855365">+</span>&nbsp;<span class="comment" id="7855367">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855406">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7855414">+</span>&nbsp;<span class="comment" id="7855416">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855449">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="7855469">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855473">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7855479">+</span>&nbsp;<span class="comment" id="7855481">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855516">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="7855535">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855539">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7855547">+</span>&nbsp;<span class="comment" id="7855549">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855588">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="7855607">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855611">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="7855619">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855652">var</span>&nbsp;<span class="ident" id="7855656">list</span>&nbsp;<span class="ident" id="7855661">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855672">eh</span>&nbsp;<span class="op" id="7855675">:=</span>&nbsp;<span class="keyword" id="7855678">func</span><span class="op" id="7855682">(</span><span class="ident" id="7855683">pos</span>&nbsp;<span class="ident" id="7855687">token</span><span class="op" id="7855692">.</span><span class="ident" id="7855693">Position</span><span class="op" id="7855701">,</span>&nbsp;<span class="ident" id="7855703">msg</span>&nbsp;<span class="builtintype" id="7855707">string</span><span class="op" id="7855713">)</span>&nbsp;<span class="op" id="7855715">{</span>&nbsp;<span class="ident" id="7855717">list</span><span class="op" id="7855721">.</span><span class="ident" id="7855722">Add</span><span class="op" id="7855725">(</span><span class="ident" id="7855726">pos</span><span class="op" id="7855729">,</span>&nbsp;<span class="ident" id="7855731">msg</span><span class="op" id="7855734">)</span>&nbsp;<span class="op" id="7855736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855740">var</span>&nbsp;<span class="ident" id="7855744">s</span>&nbsp;<span class="ident" id="7855746">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855755">s</span><span class="op" id="7855756">.</span><span class="ident" id="7855757">Init</span><span class="op" id="7855761">(</span><span class="ident" id="7855762">fset</span><span class="op" id="7855766">.</span><span class="ident" id="7855767">AddFile</span><span class="op" id="7855774">(</span><span class="string" id="7855775">&#34;File1&#34;</span><span class="op" id="7855782">,</span>&nbsp;<span class="ident" id="7855784">fset</span><span class="op" id="7855788">.</span><span class="ident" id="7855789">Base</span><span class="op" id="7855793">(</span><span class="op" id="7855794">)</span><span class="op" id="7855795">,</span>&nbsp;<span class="builtinfunc" id="7855797">len</span><span class="op" id="7855800">(</span><span class="ident" id="7855801">src</span><span class="op" id="7855804">)</span><span class="op" id="7855805">)</span><span class="op" id="7855806">,</span>&nbsp;<span class="op" id="7855808">[</span><span class="op" id="7855809">]</span><span class="builtintype" id="7855810">byte</span><span class="op" id="7855814">(</span><span class="ident" id="7855815">src</span><span class="op" id="7855818">)</span><span class="op" id="7855819">,</span>&nbsp;<span class="ident" id="7855821">eh</span><span class="op" id="7855823">,</span>&nbsp;<span class="ident" id="7855825">dontInsertSemis</span><span class="op" id="7855840">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855843">for</span>&nbsp;<span class="op" id="7855847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855851">if</span>&nbsp;<span class="ident" id="7855854">_</span><span class="op" id="7855855">,</span>&nbsp;<span class="ident" id="7855857">tok</span><span class="op" id="7855860">,</span>&nbsp;<span class="ident" id="7855862">_</span>&nbsp;<span class="op" id="7855864">:=</span>&nbsp;<span class="ident" id="7855867">s</span><span class="op" id="7855868">.</span><span class="ident" id="7855869">Scan</span><span class="op" id="7855873">(</span><span class="op" id="7855874">)</span><span class="op" id="7855875">;</span>&nbsp;<span class="ident" id="7855877">tok</span>&nbsp;<span class="op" id="7855881">==</span>&nbsp;<span class="ident" id="7855884">token</span><span class="op" id="7855889">.</span><span class="ident" id="7855890">EOF</span>&nbsp;<span class="op" id="7855894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855899">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855910">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855914">if</span>&nbsp;<span class="builtinfunc" id="7855917">len</span><span class="op" id="7855920">(</span><span class="ident" id="7855921">list</span><span class="op" id="7855925">)</span>&nbsp;<span class="op" id="7855927">!=</span>&nbsp;<span class="ident" id="7855930">s</span><span class="op" id="7855931">.</span><span class="ident" id="7855932">ErrorCount</span>&nbsp;<span class="op" id="7855943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855947">t</span><span class="op" id="7855948">.</span><span class="ident" id="7855949">Errorf</span><span class="op" id="7855955">(</span><span class="string" id="7855956">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7855986">,</span>&nbsp;<span class="builtinfunc" id="7855988">len</span><span class="op" id="7855991">(</span><span class="ident" id="7855992">list</span><span class="op" id="7855996">)</span><span class="op" id="7855997">,</span>&nbsp;<span class="ident" id="7855999">s</span><span class="op" id="7856000">.</span><span class="ident" id="7856001">ErrorCount</span><span class="op" id="7856011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856018">if</span>&nbsp;<span class="builtinfunc" id="7856021">len</span><span class="op" id="7856024">(</span><span class="ident" id="7856025">list</span><span class="op" id="7856029">)</span>&nbsp;<span class="op" id="7856031">!=</span>&nbsp;<span class="num" id="7856034">9</span>&nbsp;<span class="op" id="7856036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856040">t</span><span class="op" id="7856041">.</span><span class="ident" id="7856042">Errorf</span><span class="op" id="7856048">(</span><span class="string" id="7856049">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7856082">,</span>&nbsp;<span class="builtinfunc" id="7856084">len</span><span class="op" id="7856087">(</span><span class="ident" id="7856088">list</span><span class="op" id="7856092">)</span><span class="op" id="7856093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856097">PrintError</span><span class="op" id="7856107">(</span><span class="ident" id="7856108">os</span><span class="op" id="7856110">.</span><span class="ident" id="7856111">Stderr</span><span class="op" id="7856117">,</span>&nbsp;<span class="ident" id="7856119">list</span><span class="op" id="7856123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856130">list</span><span class="op" id="7856134">.</span><span class="ident" id="7856135">Sort</span><span class="op" id="7856139">(</span><span class="op" id="7856140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856143">if</span>&nbsp;<span class="builtinfunc" id="7856146">len</span><span class="op" id="7856149">(</span><span class="ident" id="7856150">list</span><span class="op" id="7856154">)</span>&nbsp;<span class="op" id="7856156">!=</span>&nbsp;<span class="num" id="7856159">9</span>&nbsp;<span class="op" id="7856161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856165">t</span><span class="op" id="7856166">.</span><span class="ident" id="7856167">Errorf</span><span class="op" id="7856173">(</span><span class="string" id="7856174">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7856210">,</span>&nbsp;<span class="builtinfunc" id="7856212">len</span><span class="op" id="7856215">(</span><span class="ident" id="7856216">list</span><span class="op" id="7856220">)</span><span class="op" id="7856221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856225">PrintError</span><span class="op" id="7856235">(</span><span class="ident" id="7856236">os</span><span class="op" id="7856238">.</span><span class="ident" id="7856239">Stderr</span><span class="op" id="7856245">,</span>&nbsp;<span class="ident" id="7856247">list</span><span class="op" id="7856251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856254">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856258">list</span><span class="op" id="7856262">.</span><span class="ident" id="7856263">RemoveMultiples</span><span class="op" id="7856278">(</span><span class="op" id="7856279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856282">if</span>&nbsp;<span class="builtinfunc" id="7856285">len</span><span class="op" id="7856288">(</span><span class="ident" id="7856289">list</span><span class="op" id="7856293">)</span>&nbsp;<span class="op" id="7856295">!=</span>&nbsp;<span class="num" id="7856298">4</span>&nbsp;<span class="op" id="7856300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856304">t</span><span class="op" id="7856305">.</span><span class="ident" id="7856306">Errorf</span><span class="op" id="7856312">(</span><span class="string" id="7856313">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="7856355">,</span>&nbsp;<span class="builtinfunc" id="7856357">len</span><span class="op" id="7856360">(</span><span class="ident" id="7856361">list</span><span class="op" id="7856365">)</span><span class="op" id="7856366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856370">PrintError</span><span class="op" id="7856380">(</span><span class="ident" id="7856381">os</span><span class="op" id="7856383">.</span><span class="ident" id="7856384">Stderr</span><span class="op" id="7856390">,</span>&nbsp;<span class="ident" id="7856392">list</span><span class="op" id="7856396">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856399">}</span><br>
<span class="lineno"></span><span class="op" id="7856401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7856404">type</span>&nbsp;<span class="ident" id="7856409">errorCollector</span>&nbsp;<span class="keyword" id="7856424">struct</span>&nbsp;<span class="op" id="7856431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856434">cnt</span>&nbsp;<span class="builtintype" id="7856438">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7856453">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856486">msg</span>&nbsp;<span class="builtintype" id="7856490">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7856505">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856540">pos</span>&nbsp;<span class="ident" id="7856544">token</span><span class="op" id="7856549">.</span><span class="ident" id="7856550">Position</span>&nbsp;<span class="comment" id="7856559">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="7856594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7856597">func</span>&nbsp;<span class="ident" id="7856602">checkError</span><span class="op" id="7856612">(</span><span class="ident" id="7856613">t</span>&nbsp;<span class="op" id="7856615">*</span><span class="ident" id="7856616">testing</span><span class="op" id="7856623">.</span><span class="ident" id="7856624">T</span><span class="op" id="7856625">,</span>&nbsp;<span class="ident" id="7856627">src</span>&nbsp;<span class="builtintype" id="7856631">string</span><span class="op" id="7856637">,</span>&nbsp;<span class="ident" id="7856639">tok</span>&nbsp;<span class="ident" id="7856643">token</span><span class="op" id="7856648">.</span><span class="ident" id="7856649">Token</span><span class="op" id="7856654">,</span>&nbsp;<span class="ident" id="7856656">pos</span>&nbsp;<span class="builtintype" id="7856660">int</span><span class="op" id="7856663">,</span>&nbsp;<span class="ident" id="7856665">lit</span><span class="op" id="7856668">,</span>&nbsp;<span class="ident" id="7856670">err</span>&nbsp;<span class="builtintype" id="7856674">string</span><span class="op" id="7856680">)</span>&nbsp;<span class="op" id="7856682">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856685">var</span>&nbsp;<span class="ident" id="7856689">s</span>&nbsp;<span class="ident" id="7856691">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856700">var</span>&nbsp;<span class="ident" id="7856704">h</span>&nbsp;<span class="ident" id="7856706">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856722">eh</span>&nbsp;<span class="op" id="7856725">:=</span>&nbsp;<span class="keyword" id="7856728">func</span><span class="op" id="7856732">(</span><span class="ident" id="7856733">pos</span>&nbsp;<span class="ident" id="7856737">token</span><span class="op" id="7856742">.</span><span class="ident" id="7856743">Position</span><span class="op" id="7856751">,</span>&nbsp;<span class="ident" id="7856753">msg</span>&nbsp;<span class="builtintype" id="7856757">string</span><span class="op" id="7856763">)</span>&nbsp;<span class="op" id="7856765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856769">h</span><span class="op" id="7856770">.</span><span class="ident" id="7856771">cnt</span><span class="op" id="7856774">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856779">h</span><span class="op" id="7856780">.</span><span class="ident" id="7856781">msg</span>&nbsp;<span class="op" id="7856785">=</span>&nbsp;<span class="ident" id="7856787">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856793">h</span><span class="op" id="7856794">.</span><span class="ident" id="7856795">pos</span>&nbsp;<span class="op" id="7856799">=</span>&nbsp;<span class="ident" id="7856801">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856809">s</span><span class="op" id="7856810">.</span><span class="ident" id="7856811">Init</span><span class="op" id="7856815">(</span><span class="ident" id="7856816">fset</span><span class="op" id="7856820">.</span><span class="ident" id="7856821">AddFile</span><span class="op" id="7856828">(</span><span class="string" id="7856829">&#34;&#34;</span><span class="op" id="7856831">,</span>&nbsp;<span class="ident" id="7856833">fset</span><span class="op" id="7856837">.</span><span class="ident" id="7856838">Base</span><span class="op" id="7856842">(</span><span class="op" id="7856843">)</span><span class="op" id="7856844">,</span>&nbsp;<span class="builtinfunc" id="7856846">len</span><span class="op" id="7856849">(</span><span class="ident" id="7856850">src</span><span class="op" id="7856853">)</span><span class="op" id="7856854">)</span><span class="op" id="7856855">,</span>&nbsp;<span class="op" id="7856857">[</span><span class="op" id="7856858">]</span><span class="builtintype" id="7856859">byte</span><span class="op" id="7856863">(</span><span class="ident" id="7856864">src</span><span class="op" id="7856867">)</span><span class="op" id="7856868">,</span>&nbsp;<span class="ident" id="7856870">eh</span><span class="op" id="7856872">,</span>&nbsp;<span class="ident" id="7856874">ScanComments</span><span class="op" id="7856886">|</span><span class="ident" id="7856887">dontInsertSemis</span><span class="op" id="7856902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856905">_</span><span class="op" id="7856906">,</span>&nbsp;<span class="ident" id="7856908">tok0</span><span class="op" id="7856912">,</span>&nbsp;<span class="ident" id="7856914">lit0</span>&nbsp;<span class="op" id="7856919">:=</span>&nbsp;<span class="ident" id="7856922">s</span><span class="op" id="7856923">.</span><span class="ident" id="7856924">Scan</span><span class="op" id="7856928">(</span><span class="op" id="7856929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856932">if</span>&nbsp;<span class="ident" id="7856935">tok0</span>&nbsp;<span class="op" id="7856940">!=</span>&nbsp;<span class="ident" id="7856943">tok</span>&nbsp;<span class="op" id="7856947">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856951">t</span><span class="op" id="7856952">.</span><span class="ident" id="7856953">Errorf</span><span class="op" id="7856959">(</span><span class="string" id="7856960">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7856985">,</span>&nbsp;<span class="ident" id="7856987">src</span><span class="op" id="7856990">,</span>&nbsp;<span class="ident" id="7856992">tok0</span><span class="op" id="7856996">,</span>&nbsp;<span class="ident" id="7856998">tok</span><span class="op" id="7857001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857007">if</span>&nbsp;<span class="ident" id="7857010">tok0</span>&nbsp;<span class="op" id="7857015">!=</span>&nbsp;<span class="ident" id="7857018">token</span><span class="op" id="7857023">.</span><span class="ident" id="7857024">ILLEGAL</span>&nbsp;<span class="op" id="7857032">&amp;&amp;</span>&nbsp;<span class="ident" id="7857035">lit0</span>&nbsp;<span class="op" id="7857040">!=</span>&nbsp;<span class="ident" id="7857043">lit</span>&nbsp;<span class="op" id="7857047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857051">t</span><span class="op" id="7857052">.</span><span class="ident" id="7857053">Errorf</span><span class="op" id="7857059">(</span><span class="string" id="7857060">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7857093">,</span>&nbsp;<span class="ident" id="7857095">src</span><span class="op" id="7857098">,</span>&nbsp;<span class="ident" id="7857100">lit0</span><span class="op" id="7857104">,</span>&nbsp;<span class="ident" id="7857106">lit</span><span class="op" id="7857109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857112">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857115">cnt</span>&nbsp;<span class="op" id="7857119">:=</span>&nbsp;<span class="num" id="7857122">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857125">if</span>&nbsp;<span class="ident" id="7857128">err</span>&nbsp;<span class="op" id="7857132">!=</span>&nbsp;<span class="string" id="7857135">&#34;&#34;</span>&nbsp;<span class="op" id="7857138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857142">cnt</span>&nbsp;<span class="op" id="7857146">=</span>&nbsp;<span class="num" id="7857148">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857154">if</span>&nbsp;<span class="ident" id="7857157">h</span><span class="op" id="7857158">.</span><span class="ident" id="7857159">cnt</span>&nbsp;<span class="op" id="7857163">!=</span>&nbsp;<span class="ident" id="7857166">cnt</span>&nbsp;<span class="op" id="7857170">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857174">t</span><span class="op" id="7857175">.</span><span class="ident" id="7857176">Errorf</span><span class="op" id="7857182">(</span><span class="string" id="7857183">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7857212">,</span>&nbsp;<span class="ident" id="7857214">src</span><span class="op" id="7857217">,</span>&nbsp;<span class="ident" id="7857219">h</span><span class="op" id="7857220">.</span><span class="ident" id="7857221">cnt</span><span class="op" id="7857224">,</span>&nbsp;<span class="ident" id="7857226">cnt</span><span class="op" id="7857229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857235">if</span>&nbsp;<span class="ident" id="7857238">h</span><span class="op" id="7857239">.</span><span class="ident" id="7857240">msg</span>&nbsp;<span class="op" id="7857244">!=</span>&nbsp;<span class="ident" id="7857247">err</span>&nbsp;<span class="op" id="7857251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857255">t</span><span class="op" id="7857256">.</span><span class="ident" id="7857257">Errorf</span><span class="op" id="7857263">(</span><span class="string" id="7857264">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7857293">,</span>&nbsp;<span class="ident" id="7857295">src</span><span class="op" id="7857298">,</span>&nbsp;<span class="ident" id="7857300">h</span><span class="op" id="7857301">.</span><span class="ident" id="7857302">msg</span><span class="op" id="7857305">,</span>&nbsp;<span class="ident" id="7857307">err</span><span class="op" id="7857310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857313">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857316">if</span>&nbsp;<span class="ident" id="7857319">h</span><span class="op" id="7857320">.</span><span class="ident" id="7857321">pos</span><span class="op" id="7857324">.</span><span class="ident" id="7857325">Offset</span>&nbsp;<span class="op" id="7857332">!=</span>&nbsp;<span class="ident" id="7857335">pos</span>&nbsp;<span class="op" id="7857339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857343">t</span><span class="op" id="7857344">.</span><span class="ident" id="7857345">Errorf</span><span class="op" id="7857351">(</span><span class="string" id="7857352">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7857384">,</span>&nbsp;<span class="ident" id="7857386">src</span><span class="op" id="7857389">,</span>&nbsp;<span class="ident" id="7857391">h</span><span class="op" id="7857392">.</span><span class="ident" id="7857393">pos</span><span class="op" id="7857396">.</span><span class="ident" id="7857397">Offset</span><span class="op" id="7857403">,</span>&nbsp;<span class="ident" id="7857405">pos</span><span class="op" id="7857408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857411">}</span><br>
<span class="lineno"></span><span class="op" id="7857413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="7857416">var</span>&nbsp;<span class="ident" id="7857420">errors</span>&nbsp;<span class="op" id="7857427">=</span>&nbsp;<span class="op" id="7857429">[</span><span class="op" id="7857430">]</span><span class="keyword" id="7857431">struct</span>&nbsp;<span class="op" id="7857438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857441">src</span>&nbsp;<span class="builtintype" id="7857445">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857453">tok</span>&nbsp;<span class="ident" id="7857457">token</span><span class="op" id="7857462">.</span><span class="ident" id="7857463">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857470">pos</span>&nbsp;<span class="builtintype" id="7857474">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857479">lit</span>&nbsp;<span class="builtintype" id="7857483">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857491">err</span>&nbsp;<span class="builtintype" id="7857495">string</span><br>
<span class="lineno"></span><span class="op" id="7857502">}</span><span class="op" id="7857503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857506">{</span><span class="string" id="7857507">&#34;\a&#34;</span><span class="op" id="7857511">,</span>&nbsp;<span class="ident" id="7857513">token</span><span class="op" id="7857518">.</span><span class="ident" id="7857519">ILLEGAL</span><span class="op" id="7857526">,</span>&nbsp;<span class="num" id="7857528">0</span><span class="op" id="7857529">,</span>&nbsp;<span class="string" id="7857531">&#34;&#34;</span><span class="op" id="7857533">,</span>&nbsp;<span class="string" id="7857535">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="7857561">}</span><span class="op" id="7857562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857565">{</span><span class="string" id="7857566">`#`</span><span class="op" id="7857569">,</span>&nbsp;<span class="ident" id="7857571">token</span><span class="op" id="7857576">.</span><span class="ident" id="7857577">ILLEGAL</span><span class="op" id="7857584">,</span>&nbsp;<span class="num" id="7857586">0</span><span class="op" id="7857587">,</span>&nbsp;<span class="string" id="7857589">&#34;&#34;</span><span class="op" id="7857591">,</span>&nbsp;<span class="string" id="7857593">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="7857623">}</span><span class="op" id="7857624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857627">{</span><span class="string" id="7857628">`…`</span><span class="op" id="7857633">,</span>&nbsp;<span class="ident" id="7857635">token</span><span class="op" id="7857640">.</span><span class="ident" id="7857641">ILLEGAL</span><span class="op" id="7857648">,</span>&nbsp;<span class="num" id="7857650">0</span><span class="op" id="7857651">,</span>&nbsp;<span class="string" id="7857653">&#34;&#34;</span><span class="op" id="7857655">,</span>&nbsp;<span class="string" id="7857657">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="7857689">}</span><span class="op" id="7857690">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857693">{</span><span class="string" id="7857694">`&#39;&nbsp;&#39;`</span><span class="op" id="7857699">,</span>&nbsp;<span class="ident" id="7857701">token</span><span class="op" id="7857706">.</span><span class="ident" id="7857707">CHAR</span><span class="op" id="7857711">,</span>&nbsp;<span class="num" id="7857713">0</span><span class="op" id="7857714">,</span>&nbsp;<span class="string" id="7857716">`&#39;&nbsp;&#39;`</span><span class="op" id="7857721">,</span>&nbsp;<span class="string" id="7857723">&#34;&#34;</span><span class="op" id="7857725">}</span><span class="op" id="7857726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857729">{</span><span class="string" id="7857730">`&#39;&#39;`</span><span class="op" id="7857734">,</span>&nbsp;<span class="ident" id="7857736">token</span><span class="op" id="7857741">.</span><span class="ident" id="7857742">CHAR</span><span class="op" id="7857746">,</span>&nbsp;<span class="num" id="7857748">0</span><span class="op" id="7857749">,</span>&nbsp;<span class="string" id="7857751">`&#39;&#39;`</span><span class="op" id="7857755">,</span>&nbsp;<span class="string" id="7857757">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7857779">}</span><span class="op" id="7857780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857783">{</span><span class="string" id="7857784">`&#39;12&#39;`</span><span class="op" id="7857790">,</span>&nbsp;<span class="ident" id="7857792">token</span><span class="op" id="7857797">.</span><span class="ident" id="7857798">CHAR</span><span class="op" id="7857802">,</span>&nbsp;<span class="num" id="7857804">0</span><span class="op" id="7857805">,</span>&nbsp;<span class="string" id="7857807">`&#39;12&#39;`</span><span class="op" id="7857813">,</span>&nbsp;<span class="string" id="7857815">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7857837">}</span><span class="op" id="7857838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857841">{</span><span class="string" id="7857842">`&#39;123&#39;`</span><span class="op" id="7857849">,</span>&nbsp;<span class="ident" id="7857851">token</span><span class="op" id="7857856">.</span><span class="ident" id="7857857">CHAR</span><span class="op" id="7857861">,</span>&nbsp;<span class="num" id="7857863">0</span><span class="op" id="7857864">,</span>&nbsp;<span class="string" id="7857866">`&#39;123&#39;`</span><span class="op" id="7857873">,</span>&nbsp;<span class="string" id="7857875">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7857897">}</span><span class="op" id="7857898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857901">{</span><span class="string" id="7857902">`&#39;\0&#39;`</span><span class="op" id="7857908">,</span>&nbsp;<span class="ident" id="7857910">token</span><span class="op" id="7857915">.</span><span class="ident" id="7857916">CHAR</span><span class="op" id="7857920">,</span>&nbsp;<span class="num" id="7857922">3</span><span class="op" id="7857923">,</span>&nbsp;<span class="string" id="7857925">`&#39;\0&#39;`</span><span class="op" id="7857931">,</span>&nbsp;<span class="string" id="7857933">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7857982">}</span><span class="op" id="7857983">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857986">{</span><span class="string" id="7857987">`&#39;\07&#39;`</span><span class="op" id="7857994">,</span>&nbsp;<span class="ident" id="7857996">token</span><span class="op" id="7858001">.</span><span class="ident" id="7858002">CHAR</span><span class="op" id="7858006">,</span>&nbsp;<span class="num" id="7858008">4</span><span class="op" id="7858009">,</span>&nbsp;<span class="string" id="7858011">`&#39;\07&#39;`</span><span class="op" id="7858018">,</span>&nbsp;<span class="string" id="7858020">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858069">}</span><span class="op" id="7858070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858073">{</span><span class="string" id="7858074">`&#39;\8&#39;`</span><span class="op" id="7858080">,</span>&nbsp;<span class="ident" id="7858082">token</span><span class="op" id="7858087">.</span><span class="ident" id="7858088">CHAR</span><span class="op" id="7858092">,</span>&nbsp;<span class="num" id="7858094">2</span><span class="op" id="7858095">,</span>&nbsp;<span class="string" id="7858097">`&#39;\8&#39;`</span><span class="op" id="7858103">,</span>&nbsp;<span class="string" id="7858105">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858130">}</span><span class="op" id="7858131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858134">{</span><span class="string" id="7858135">`&#39;\08&#39;`</span><span class="op" id="7858142">,</span>&nbsp;<span class="ident" id="7858144">token</span><span class="op" id="7858149">.</span><span class="ident" id="7858150">CHAR</span><span class="op" id="7858154">,</span>&nbsp;<span class="num" id="7858156">3</span><span class="op" id="7858157">,</span>&nbsp;<span class="string" id="7858159">`&#39;\08&#39;`</span><span class="op" id="7858166">,</span>&nbsp;<span class="string" id="7858168">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858217">}</span><span class="op" id="7858218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858221">{</span><span class="string" id="7858222">`&#39;\x&#39;`</span><span class="op" id="7858228">,</span>&nbsp;<span class="ident" id="7858230">token</span><span class="op" id="7858235">.</span><span class="ident" id="7858236">CHAR</span><span class="op" id="7858240">,</span>&nbsp;<span class="num" id="7858242">3</span><span class="op" id="7858243">,</span>&nbsp;<span class="string" id="7858245">`&#39;\x&#39;`</span><span class="op" id="7858251">,</span>&nbsp;<span class="string" id="7858253">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858302">}</span><span class="op" id="7858303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858306">{</span><span class="string" id="7858307">`&#39;\x0&#39;`</span><span class="op" id="7858314">,</span>&nbsp;<span class="ident" id="7858316">token</span><span class="op" id="7858321">.</span><span class="ident" id="7858322">CHAR</span><span class="op" id="7858326">,</span>&nbsp;<span class="num" id="7858328">4</span><span class="op" id="7858329">,</span>&nbsp;<span class="string" id="7858331">`&#39;\x0&#39;`</span><span class="op" id="7858338">,</span>&nbsp;<span class="string" id="7858340">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858389">}</span><span class="op" id="7858390">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858393">{</span><span class="string" id="7858394">`&#39;\x0g&#39;`</span><span class="op" id="7858402">,</span>&nbsp;<span class="ident" id="7858404">token</span><span class="op" id="7858409">.</span><span class="ident" id="7858410">CHAR</span><span class="op" id="7858414">,</span>&nbsp;<span class="num" id="7858416">4</span><span class="op" id="7858417">,</span>&nbsp;<span class="string" id="7858419">`&#39;\x0g&#39;`</span><span class="op" id="7858427">,</span>&nbsp;<span class="string" id="7858429">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858478">}</span><span class="op" id="7858479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858482">{</span><span class="string" id="7858483">`&#39;\u&#39;`</span><span class="op" id="7858489">,</span>&nbsp;<span class="ident" id="7858491">token</span><span class="op" id="7858496">.</span><span class="ident" id="7858497">CHAR</span><span class="op" id="7858501">,</span>&nbsp;<span class="num" id="7858503">3</span><span class="op" id="7858504">,</span>&nbsp;<span class="string" id="7858506">`&#39;\u&#39;`</span><span class="op" id="7858512">,</span>&nbsp;<span class="string" id="7858514">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858563">}</span><span class="op" id="7858564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858567">{</span><span class="string" id="7858568">`&#39;\u0&#39;`</span><span class="op" id="7858575">,</span>&nbsp;<span class="ident" id="7858577">token</span><span class="op" id="7858582">.</span><span class="ident" id="7858583">CHAR</span><span class="op" id="7858587">,</span>&nbsp;<span class="num" id="7858589">4</span><span class="op" id="7858590">,</span>&nbsp;<span class="string" id="7858592">`&#39;\u0&#39;`</span><span class="op" id="7858599">,</span>&nbsp;<span class="string" id="7858601">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858650">}</span><span class="op" id="7858651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858654">{</span><span class="string" id="7858655">`&#39;\u00&#39;`</span><span class="op" id="7858663">,</span>&nbsp;<span class="ident" id="7858665">token</span><span class="op" id="7858670">.</span><span class="ident" id="7858671">CHAR</span><span class="op" id="7858675">,</span>&nbsp;<span class="num" id="7858677">5</span><span class="op" id="7858678">,</span>&nbsp;<span class="string" id="7858680">`&#39;\u00&#39;`</span><span class="op" id="7858688">,</span>&nbsp;<span class="string" id="7858690">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858739">}</span><span class="op" id="7858740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858743">{</span><span class="string" id="7858744">`&#39;\u000&#39;`</span><span class="op" id="7858753">,</span>&nbsp;<span class="ident" id="7858755">token</span><span class="op" id="7858760">.</span><span class="ident" id="7858761">CHAR</span><span class="op" id="7858765">,</span>&nbsp;<span class="num" id="7858767">6</span><span class="op" id="7858768">,</span>&nbsp;<span class="string" id="7858770">`&#39;\u000&#39;`</span><span class="op" id="7858779">,</span>&nbsp;<span class="string" id="7858781">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7858830">}</span><span class="op" id="7858831">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858834">{</span><span class="string" id="7858835">`&#39;\u000`</span><span class="op" id="7858843">,</span>&nbsp;<span class="ident" id="7858845">token</span><span class="op" id="7858850">.</span><span class="ident" id="7858851">CHAR</span><span class="op" id="7858855">,</span>&nbsp;<span class="num" id="7858857">6</span><span class="op" id="7858858">,</span>&nbsp;<span class="string" id="7858860">`&#39;\u000`</span><span class="op" id="7858868">,</span>&nbsp;<span class="string" id="7858870">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7858902">}</span><span class="op" id="7858903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858906">{</span><span class="string" id="7858907">`&#39;\u0000&#39;`</span><span class="op" id="7858917">,</span>&nbsp;<span class="ident" id="7858919">token</span><span class="op" id="7858924">.</span><span class="ident" id="7858925">CHAR</span><span class="op" id="7858929">,</span>&nbsp;<span class="num" id="7858931">0</span><span class="op" id="7858932">,</span>&nbsp;<span class="string" id="7858934">`&#39;\u0000&#39;`</span><span class="op" id="7858944">,</span>&nbsp;<span class="string" id="7858946">&#34;&#34;</span><span class="op" id="7858948">}</span><span class="op" id="7858949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858952">{</span><span class="string" id="7858953">`&#39;\U&#39;`</span><span class="op" id="7858959">,</span>&nbsp;<span class="ident" id="7858961">token</span><span class="op" id="7858966">.</span><span class="ident" id="7858967">CHAR</span><span class="op" id="7858971">,</span>&nbsp;<span class="num" id="7858973">3</span><span class="op" id="7858974">,</span>&nbsp;<span class="string" id="7858976">`&#39;\U&#39;`</span><span class="op" id="7858982">,</span>&nbsp;<span class="string" id="7858984">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7859033">}</span><span class="op" id="7859034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859037">{</span><span class="string" id="7859038">`&#39;\U0&#39;`</span><span class="op" id="7859045">,</span>&nbsp;<span class="ident" id="7859047">token</span><span class="op" id="7859052">.</span><span class="ident" id="7859053">CHAR</span><span class="op" id="7859057">,</span>&nbsp;<span class="num" id="7859059">4</span><span class="op" id="7859060">,</span>&nbsp;<span class="string" id="7859062">`&#39;\U0&#39;`</span><span class="op" id="7859069">,</span>&nbsp;<span class="string" id="7859071">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7859120">}</span><span class="op" id="7859121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859124">{</span><span class="string" id="7859125">`&#39;\U00&#39;`</span><span class="op" id="7859133">,</span>&nbsp;<span class="ident" id="7859135">token</span><span class="op" id="7859140">.</span><span class="ident" id="7859141">CHAR</span><span class="op" id="7859145">,</span>&nbsp;<span class="num" id="7859147">5</span><span class="op" id="7859148">,</span>&nbsp;<span class="string" id="7859150">`&#39;\U00&#39;`</span><span class="op" id="7859158">,</span>&nbsp;<span class="string" id="7859160">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7859209">}</span><span class="op" id="7859210">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859213">{</span><span class="string" id="7859214">`&#39;\U000&#39;`</span><span class="op" id="7859223">,</span>&nbsp;<span class="ident" id="7859225">token</span><span class="op" id="7859230">.</span><span class="ident" id="7859231">CHAR</span><span class="op" id="7859235">,</span>&nbsp;<span class="num" id="7859237">6</span><span class="op" id="7859238">,</span>&nbsp;<span class="string" id="7859240">`&#39;\U000&#39;`</span><span class="op" id="7859249">,</span>&nbsp;<span class="string" id="7859251">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7859300">}</span><span class="op" id="7859301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859304">{</span><span class="string" id="7859305">`&#39;\U0000&#39;`</span><span class="op" id="7859315">,</span>&nbsp;<span class="ident" id="7859317">token</span><span class="op" id="7859322">.</span><span class="ident" id="7859323">CHAR</span><span class="op" id="7859327">,</span>&nbsp;<span class="num" id="7859329">7</span><span class="op" id="7859330">,</span>&nbsp;<span class="string" id="7859332">`&#39;\U0000&#39;`</span><span class="op" id="7859342">,</span>&nbsp;<span class="string" id="7859344">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7859393">}</span><span class="op" id="7859394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859397">{</span><span class="string" id="7859398">`&#39;\U00000&#39;`</span><span class="op" id="7859409">,</span>&nbsp;<span class="ident" id="7859411">token</span><span class="op" id="7859416">.</span><span class="ident" id="7859417">CHAR</span><span class="op" id="7859421">,</span>&nbsp;<span class="num" id="7859423">8</span><span class="op" id="7859424">,</span>&nbsp;<span class="string" id="7859426">`&#39;\U00000&#39;`</span><span class="op" id="7859437">,</span>&nbsp;<span class="string" id="7859439">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7859488">}</span><span class="op" id="7859489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859492">{</span><span class="string" id="7859493">`&#39;\U000000&#39;`</span><span class="op" id="7859505">,</span>&nbsp;<span class="ident" id="7859507">token</span><span class="op" id="7859512">.</span><span class="ident" id="7859513">CHAR</span><span class="op" id="7859517">,</span>&nbsp;<span class="num" id="7859519">9</span><span class="op" id="7859520">,</span>&nbsp;<span class="string" id="7859522">`&#39;\U000000&#39;`</span><span class="op" id="7859534">,</span>&nbsp;<span class="string" id="7859536">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7859585">}</span><span class="op" id="7859586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859589">{</span><span class="string" id="7859590">`&#39;\U0000000&#39;`</span><span class="op" id="7859603">,</span>&nbsp;<span class="ident" id="7859605">token</span><span class="op" id="7859610">.</span><span class="ident" id="7859611">CHAR</span><span class="op" id="7859615">,</span>&nbsp;<span class="num" id="7859617">10</span><span class="op" id="7859619">,</span>&nbsp;<span class="string" id="7859621">`&#39;\U0000000&#39;`</span><span class="op" id="7859634">,</span>&nbsp;<span class="string" id="7859636">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7859685">}</span><span class="op" id="7859686">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859689">{</span><span class="string" id="7859690">`&#39;\U0000000`</span><span class="op" id="7859702">,</span>&nbsp;<span class="ident" id="7859704">token</span><span class="op" id="7859709">.</span><span class="ident" id="7859710">CHAR</span><span class="op" id="7859714">,</span>&nbsp;<span class="num" id="7859716">10</span><span class="op" id="7859718">,</span>&nbsp;<span class="string" id="7859720">`&#39;\U0000000`</span><span class="op" id="7859732">,</span>&nbsp;<span class="string" id="7859734">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7859766">}</span><span class="op" id="7859767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859770">{</span><span class="string" id="7859771">`&#39;\U00000000&#39;`</span><span class="op" id="7859785">,</span>&nbsp;<span class="ident" id="7859787">token</span><span class="op" id="7859792">.</span><span class="ident" id="7859793">CHAR</span><span class="op" id="7859797">,</span>&nbsp;<span class="num" id="7859799">0</span><span class="op" id="7859800">,</span>&nbsp;<span class="string" id="7859802">`&#39;\U00000000&#39;`</span><span class="op" id="7859816">,</span>&nbsp;<span class="string" id="7859818">&#34;&#34;</span><span class="op" id="7859820">}</span><span class="op" id="7859821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859824">{</span><span class="string" id="7859825">`&#39;\Uffffffff&#39;`</span><span class="op" id="7859839">,</span>&nbsp;<span class="ident" id="7859841">token</span><span class="op" id="7859846">.</span><span class="ident" id="7859847">CHAR</span><span class="op" id="7859851">,</span>&nbsp;<span class="num" id="7859853">2</span><span class="op" id="7859854">,</span>&nbsp;<span class="string" id="7859856">`&#39;\Uffffffff&#39;`</span><span class="op" id="7859870">,</span>&nbsp;<span class="string" id="7859872">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="7859919">}</span><span class="op" id="7859920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859923">{</span><span class="string" id="7859924">`&#39;`</span><span class="op" id="7859927">,</span>&nbsp;<span class="ident" id="7859929">token</span><span class="op" id="7859934">.</span><span class="ident" id="7859935">CHAR</span><span class="op" id="7859939">,</span>&nbsp;<span class="num" id="7859941">0</span><span class="op" id="7859942">,</span>&nbsp;<span class="string" id="7859944">`&#39;`</span><span class="op" id="7859947">,</span>&nbsp;<span class="string" id="7859949">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7859978">}</span><span class="op" id="7859979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859982">{</span><span class="string" id="7859983">`&#39;\`</span><span class="op" id="7859987">,</span>&nbsp;<span class="ident" id="7859989">token</span><span class="op" id="7859994">.</span><span class="ident" id="7859995">CHAR</span><span class="op" id="7859999">,</span>&nbsp;<span class="num" id="7860001">2</span><span class="op" id="7860002">,</span>&nbsp;<span class="string" id="7860004">`&#39;\`</span><span class="op" id="7860008">,</span>&nbsp;<span class="string" id="7860010">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7860042">}</span><span class="op" id="7860043">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860046">{</span><span class="string" id="7860047">&#34;&#39;\n&#34;</span><span class="op" id="7860052">,</span>&nbsp;<span class="ident" id="7860054">token</span><span class="op" id="7860059">.</span><span class="ident" id="7860060">CHAR</span><span class="op" id="7860064">,</span>&nbsp;<span class="num" id="7860066">0</span><span class="op" id="7860067">,</span>&nbsp;<span class="string" id="7860069">&#34;&#39;&#34;</span><span class="op" id="7860072">,</span>&nbsp;<span class="string" id="7860074">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7860103">}</span><span class="op" id="7860104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860107">{</span><span class="string" id="7860108">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7860116">,</span>&nbsp;<span class="ident" id="7860118">token</span><span class="op" id="7860123">.</span><span class="ident" id="7860124">CHAR</span><span class="op" id="7860128">,</span>&nbsp;<span class="num" id="7860130">0</span><span class="op" id="7860131">,</span>&nbsp;<span class="string" id="7860133">&#34;&#39;&#34;</span><span class="op" id="7860136">,</span>&nbsp;<span class="string" id="7860138">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7860167">}</span><span class="op" id="7860168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860171">{</span><span class="string" id="7860172">`&#34;&#34;`</span><span class="op" id="7860176">,</span>&nbsp;<span class="ident" id="7860178">token</span><span class="op" id="7860183">.</span><span class="ident" id="7860184">STRING</span><span class="op" id="7860190">,</span>&nbsp;<span class="num" id="7860192">0</span><span class="op" id="7860193">,</span>&nbsp;<span class="string" id="7860195">`&#34;&#34;`</span><span class="op" id="7860199">,</span>&nbsp;<span class="string" id="7860201">&#34;&#34;</span><span class="op" id="7860203">}</span><span class="op" id="7860204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860207">{</span><span class="string" id="7860208">`&#34;abc`</span><span class="op" id="7860214">,</span>&nbsp;<span class="ident" id="7860216">token</span><span class="op" id="7860221">.</span><span class="ident" id="7860222">STRING</span><span class="op" id="7860228">,</span>&nbsp;<span class="num" id="7860230">0</span><span class="op" id="7860231">,</span>&nbsp;<span class="string" id="7860233">`&#34;abc`</span><span class="op" id="7860239">,</span>&nbsp;<span class="string" id="7860241">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7860272">}</span><span class="op" id="7860273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860276">{</span><span class="string" id="7860277">&#34;\&#34;abc\n&#34;</span><span class="op" id="7860286">,</span>&nbsp;<span class="ident" id="7860288">token</span><span class="op" id="7860293">.</span><span class="ident" id="7860294">STRING</span><span class="op" id="7860300">,</span>&nbsp;<span class="num" id="7860302">0</span><span class="op" id="7860303">,</span>&nbsp;<span class="string" id="7860305">`&#34;abc`</span><span class="op" id="7860311">,</span>&nbsp;<span class="string" id="7860313">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7860344">}</span><span class="op" id="7860345">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860348">{</span><span class="string" id="7860349">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7860361">,</span>&nbsp;<span class="ident" id="7860363">token</span><span class="op" id="7860368">.</span><span class="ident" id="7860369">STRING</span><span class="op" id="7860375">,</span>&nbsp;<span class="num" id="7860377">0</span><span class="op" id="7860378">,</span>&nbsp;<span class="string" id="7860380">`&#34;abc`</span><span class="op" id="7860386">,</span>&nbsp;<span class="string" id="7860388">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7860419">}</span><span class="op" id="7860420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860423">{</span><span class="string" id="7860424">&#34;``&#34;</span><span class="op" id="7860428">,</span>&nbsp;<span class="ident" id="7860430">token</span><span class="op" id="7860435">.</span><span class="ident" id="7860436">STRING</span><span class="op" id="7860442">,</span>&nbsp;<span class="num" id="7860444">0</span><span class="op" id="7860445">,</span>&nbsp;<span class="string" id="7860447">&#34;``&#34;</span><span class="op" id="7860451">,</span>&nbsp;<span class="string" id="7860453">&#34;&#34;</span><span class="op" id="7860455">}</span><span class="op" id="7860456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860459">{</span><span class="string" id="7860460">&#34;`&#34;</span><span class="op" id="7860463">,</span>&nbsp;<span class="ident" id="7860465">token</span><span class="op" id="7860470">.</span><span class="ident" id="7860471">STRING</span><span class="op" id="7860477">,</span>&nbsp;<span class="num" id="7860479">0</span><span class="op" id="7860480">,</span>&nbsp;<span class="string" id="7860482">&#34;`&#34;</span><span class="op" id="7860485">,</span>&nbsp;<span class="string" id="7860487">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7860522">}</span><span class="op" id="7860523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860526">{</span><span class="string" id="7860527">&#34;/**/&#34;</span><span class="op" id="7860533">,</span>&nbsp;<span class="ident" id="7860535">token</span><span class="op" id="7860540">.</span><span class="ident" id="7860541">COMMENT</span><span class="op" id="7860548">,</span>&nbsp;<span class="num" id="7860550">0</span><span class="op" id="7860551">,</span>&nbsp;<span class="string" id="7860553">&#34;/**/&#34;</span><span class="op" id="7860559">,</span>&nbsp;<span class="string" id="7860561">&#34;&#34;</span><span class="op" id="7860563">}</span><span class="op" id="7860564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860567">{</span><span class="string" id="7860568">&#34;/*&#34;</span><span class="op" id="7860572">,</span>&nbsp;<span class="ident" id="7860574">token</span><span class="op" id="7860579">.</span><span class="ident" id="7860580">COMMENT</span><span class="op" id="7860587">,</span>&nbsp;<span class="num" id="7860589">0</span><span class="op" id="7860590">,</span>&nbsp;<span class="string" id="7860592">&#34;/*&#34;</span><span class="op" id="7860596">,</span>&nbsp;<span class="string" id="7860598">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7860622">}</span><span class="op" id="7860623">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860626">{</span><span class="string" id="7860627">&#34;077&#34;</span><span class="op" id="7860632">,</span>&nbsp;<span class="ident" id="7860634">token</span><span class="op" id="7860639">.</span><span class="ident" id="7860640">INT</span><span class="op" id="7860643">,</span>&nbsp;<span class="num" id="7860645">0</span><span class="op" id="7860646">,</span>&nbsp;<span class="string" id="7860648">&#34;077&#34;</span><span class="op" id="7860653">,</span>&nbsp;<span class="string" id="7860655">&#34;&#34;</span><span class="op" id="7860657">}</span><span class="op" id="7860658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860661">{</span><span class="string" id="7860662">&#34;078.&#34;</span><span class="op" id="7860668">,</span>&nbsp;<span class="ident" id="7860670">token</span><span class="op" id="7860675">.</span><span class="ident" id="7860676">FLOAT</span><span class="op" id="7860681">,</span>&nbsp;<span class="num" id="7860683">0</span><span class="op" id="7860684">,</span>&nbsp;<span class="string" id="7860686">&#34;078.&#34;</span><span class="op" id="7860692">,</span>&nbsp;<span class="string" id="7860694">&#34;&#34;</span><span class="op" id="7860696">}</span><span class="op" id="7860697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860700">{</span><span class="string" id="7860701">&#34;07801234567.&#34;</span><span class="op" id="7860715">,</span>&nbsp;<span class="ident" id="7860717">token</span><span class="op" id="7860722">.</span><span class="ident" id="7860723">FLOAT</span><span class="op" id="7860728">,</span>&nbsp;<span class="num" id="7860730">0</span><span class="op" id="7860731">,</span>&nbsp;<span class="string" id="7860733">&#34;07801234567.&#34;</span><span class="op" id="7860747">,</span>&nbsp;<span class="string" id="7860749">&#34;&#34;</span><span class="op" id="7860751">}</span><span class="op" id="7860752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860755">{</span><span class="string" id="7860756">&#34;078e0&#34;</span><span class="op" id="7860763">,</span>&nbsp;<span class="ident" id="7860765">token</span><span class="op" id="7860770">.</span><span class="ident" id="7860771">FLOAT</span><span class="op" id="7860776">,</span>&nbsp;<span class="num" id="7860778">0</span><span class="op" id="7860779">,</span>&nbsp;<span class="string" id="7860781">&#34;078e0&#34;</span><span class="op" id="7860788">,</span>&nbsp;<span class="string" id="7860790">&#34;&#34;</span><span class="op" id="7860792">}</span><span class="op" id="7860793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860796">{</span><span class="string" id="7860797">&#34;078&#34;</span><span class="op" id="7860802">,</span>&nbsp;<span class="ident" id="7860804">token</span><span class="op" id="7860809">.</span><span class="ident" id="7860810">INT</span><span class="op" id="7860813">,</span>&nbsp;<span class="num" id="7860815">0</span><span class="op" id="7860816">,</span>&nbsp;<span class="string" id="7860818">&#34;078&#34;</span><span class="op" id="7860823">,</span>&nbsp;<span class="string" id="7860825">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7860847">}</span><span class="op" id="7860848">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860851">{</span><span class="string" id="7860852">&#34;07800000009&#34;</span><span class="op" id="7860865">,</span>&nbsp;<span class="ident" id="7860867">token</span><span class="op" id="7860872">.</span><span class="ident" id="7860873">INT</span><span class="op" id="7860876">,</span>&nbsp;<span class="num" id="7860878">0</span><span class="op" id="7860879">,</span>&nbsp;<span class="string" id="7860881">&#34;07800000009&#34;</span><span class="op" id="7860894">,</span>&nbsp;<span class="string" id="7860896">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7860918">}</span><span class="op" id="7860919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860922">{</span><span class="string" id="7860923">&#34;0x&#34;</span><span class="op" id="7860927">,</span>&nbsp;<span class="ident" id="7860929">token</span><span class="op" id="7860934">.</span><span class="ident" id="7860935">INT</span><span class="op" id="7860938">,</span>&nbsp;<span class="num" id="7860940">0</span><span class="op" id="7860941">,</span>&nbsp;<span class="string" id="7860943">&#34;0x&#34;</span><span class="op" id="7860947">,</span>&nbsp;<span class="string" id="7860949">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7860977">}</span><span class="op" id="7860978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860981">{</span><span class="string" id="7860982">&#34;0X&#34;</span><span class="op" id="7860986">,</span>&nbsp;<span class="ident" id="7860988">token</span><span class="op" id="7860993">.</span><span class="ident" id="7860994">INT</span><span class="op" id="7860997">,</span>&nbsp;<span class="num" id="7860999">0</span><span class="op" id="7861000">,</span>&nbsp;<span class="string" id="7861002">&#34;0X&#34;</span><span class="op" id="7861006">,</span>&nbsp;<span class="string" id="7861008">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7861036">}</span><span class="op" id="7861037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861040">{</span><span class="string" id="7861041">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7861057">,</span>&nbsp;<span class="ident" id="7861059">token</span><span class="op" id="7861064">.</span><span class="ident" id="7861065">STRING</span><span class="op" id="7861071">,</span>&nbsp;<span class="num" id="7861073">4</span><span class="op" id="7861074">,</span>&nbsp;<span class="string" id="7861076">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7861092">,</span>&nbsp;<span class="string" id="7861094">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7861117">}</span><span class="op" id="7861118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861121">{</span><span class="string" id="7861122">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7861138">,</span>&nbsp;<span class="ident" id="7861140">token</span><span class="op" id="7861145">.</span><span class="ident" id="7861146">STRING</span><span class="op" id="7861152">,</span>&nbsp;<span class="num" id="7861154">4</span><span class="op" id="7861155">,</span>&nbsp;<span class="string" id="7861157">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7861173">,</span>&nbsp;<span class="string" id="7861175">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7861199">}</span><span class="op" id="7861200">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861203">{</span><span class="string" id="7861204">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7861218">,</span>&nbsp;<span class="ident" id="7861220">token</span><span class="op" id="7861225">.</span><span class="ident" id="7861226">ILLEGAL</span><span class="op" id="7861233">,</span>&nbsp;<span class="num" id="7861235">3</span><span class="op" id="7861236">,</span>&nbsp;<span class="string" id="7861238">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7861252">,</span>&nbsp;<span class="string" id="7861254">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7861279">}</span><span class="op" id="7861280">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7861305">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861335">{</span><span class="string" id="7861336">&#34;//\ufeff&#34;</span><span class="op" id="7861346">,</span>&nbsp;<span class="ident" id="7861348">token</span><span class="op" id="7861353">.</span><span class="ident" id="7861354">COMMENT</span><span class="op" id="7861361">,</span>&nbsp;<span class="num" id="7861363">2</span><span class="op" id="7861364">,</span>&nbsp;<span class="string" id="7861366">&#34;//\ufeff&#34;</span><span class="op" id="7861376">,</span>&nbsp;<span class="string" id="7861378">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7861403">}</span><span class="op" id="7861404">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7861437">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861467">{</span><span class="string" id="7861468">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7861478">+</span>&nbsp;<span class="string" id="7861480">`&#39;`</span><span class="op" id="7861483">,</span>&nbsp;<span class="ident" id="7861485">token</span><span class="op" id="7861490">.</span><span class="ident" id="7861491">CHAR</span><span class="op" id="7861495">,</span>&nbsp;<span class="num" id="7861497">1</span><span class="op" id="7861498">,</span>&nbsp;<span class="string" id="7861500">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7861510">+</span>&nbsp;<span class="string" id="7861512">`&#39;`</span><span class="op" id="7861515">,</span>&nbsp;<span class="string" id="7861517">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7861542">}</span><span class="op" id="7861543">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7861569">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861599">{</span><span class="string" id="7861600">`&#34;`</span>&nbsp;<span class="op" id="7861604">+</span>&nbsp;<span class="string" id="7861606">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7861621">+</span>&nbsp;<span class="string" id="7861623">`&#34;`</span><span class="op" id="7861626">,</span>&nbsp;<span class="ident" id="7861628">token</span><span class="op" id="7861633">.</span><span class="ident" id="7861634">STRING</span><span class="op" id="7861640">,</span>&nbsp;<span class="num" id="7861642">4</span><span class="op" id="7861643">,</span>&nbsp;<span class="string" id="7861645">`&#34;`</span>&nbsp;<span class="op" id="7861649">+</span>&nbsp;<span class="string" id="7861651">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7861666">+</span>&nbsp;<span class="string" id="7861668">`&#34;`</span><span class="op" id="7861671">,</span>&nbsp;<span class="string" id="7861673">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7861698">}</span><span class="op" id="7861699">,</span>&nbsp;<span class="comment" id="7861701">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="7861730">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="7861733">func</span>&nbsp;<span class="ident" id="7861738">TestScanErrors</span><span class="op" id="7861752">(</span><span class="ident" id="7861753">t</span>&nbsp;<span class="op" id="7861755">*</span><span class="ident" id="7861756">testing</span><span class="op" id="7861763">.</span><span class="ident" id="7861764">T</span><span class="op" id="7861765">)</span>&nbsp;<span class="op" id="7861767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861770">for</span>&nbsp;<span class="ident" id="7861774">_</span><span class="op" id="7861775">,</span>&nbsp;<span class="ident" id="7861777">e</span>&nbsp;<span class="op" id="7861779">:=</span>&nbsp;<span class="keyword" id="7861782">range</span>&nbsp;<span class="ident" id="7861788">errors</span>&nbsp;<span class="op" id="7861795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861799">checkError</span><span class="op" id="7861809">(</span><span class="ident" id="7861810">t</span><span class="op" id="7861811">,</span>&nbsp;<span class="ident" id="7861813">e</span><span class="op" id="7861814">.</span><span class="ident" id="7861815">src</span><span class="op" id="7861818">,</span>&nbsp;<span class="ident" id="7861820">e</span><span class="op" id="7861821">.</span><span class="ident" id="7861822">tok</span><span class="op" id="7861825">,</span>&nbsp;<span class="ident" id="7861827">e</span><span class="op" id="7861828">.</span><span class="ident" id="7861829">pos</span><span class="op" id="7861832">,</span>&nbsp;<span class="ident" id="7861834">e</span><span class="op" id="7861835">.</span><span class="ident" id="7861836">lit</span><span class="op" id="7861839">,</span>&nbsp;<span class="ident" id="7861841">e</span><span class="op" id="7861842">.</span><span class="ident" id="7861843">err</span><span class="op" id="7861846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861849">}</span><br>
<span class="lineno">735</span><span class="op" id="7861851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7861854">func</span>&nbsp;<span class="ident" id="7861859">BenchmarkScan</span><span class="op" id="7861872">(</span><span class="ident" id="7861873">b</span>&nbsp;<span class="op" id="7861875">*</span><span class="ident" id="7861876">testing</span><span class="op" id="7861883">.</span><span class="ident" id="7861884">B</span><span class="op" id="7861885">)</span>&nbsp;<span class="op" id="7861887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861890">b</span><span class="op" id="7861891">.</span><span class="ident" id="7861892">StopTimer</span><span class="op" id="7861901">(</span><span class="op" id="7861902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861905">fset</span>&nbsp;<span class="op" id="7861910">:=</span>&nbsp;<span class="ident" id="7861913">token</span><span class="op" id="7861918">.</span><span class="ident" id="7861919">NewFileSet</span><span class="op" id="7861929">(</span><span class="op" id="7861930">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861933">file</span>&nbsp;<span class="op" id="7861938">:=</span>&nbsp;<span class="ident" id="7861941">fset</span><span class="op" id="7861945">.</span><span class="ident" id="7861946">AddFile</span><span class="op" id="7861953">(</span><span class="string" id="7861954">&#34;&#34;</span><span class="op" id="7861956">,</span>&nbsp;<span class="ident" id="7861958">fset</span><span class="op" id="7861962">.</span><span class="ident" id="7861963">Base</span><span class="op" id="7861967">(</span><span class="op" id="7861968">)</span><span class="op" id="7861969">,</span>&nbsp;<span class="builtinfunc" id="7861971">len</span><span class="op" id="7861974">(</span><span class="ident" id="7861975">source</span><span class="op" id="7861981">)</span><span class="op" id="7861982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861985">var</span>&nbsp;<span class="ident" id="7861989">s</span>&nbsp;<span class="ident" id="7861991">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862000">b</span><span class="op" id="7862001">.</span><span class="ident" id="7862002">StartTimer</span><span class="op" id="7862012">(</span><span class="op" id="7862013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862016">for</span>&nbsp;<span class="ident" id="7862020">i</span>&nbsp;<span class="op" id="7862022">:=</span>&nbsp;<span class="num" id="7862025">0</span><span class="op" id="7862026">;</span>&nbsp;<span class="ident" id="7862028">i</span>&nbsp;<span class="op" id="7862030">&lt;</span>&nbsp;<span class="ident" id="7862032">b</span><span class="op" id="7862033">.</span><span class="ident" id="7862034">N</span><span class="op" id="7862035">;</span>&nbsp;<span class="ident" id="7862037">i</span><span class="op" id="7862038">++</span>&nbsp;<span class="op" id="7862041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862045">s</span><span class="op" id="7862046">.</span><span class="ident" id="7862047">Init</span><span class="op" id="7862051">(</span><span class="ident" id="7862052">file</span><span class="op" id="7862056">,</span>&nbsp;<span class="ident" id="7862058">source</span><span class="op" id="7862064">,</span>&nbsp;<span class="ident" id="7862066">nil</span><span class="op" id="7862069">,</span>&nbsp;<span class="ident" id="7862071">ScanComments</span><span class="op" id="7862083">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862087">for</span>&nbsp;<span class="op" id="7862091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862096">_</span><span class="op" id="7862097">,</span>&nbsp;<span class="ident" id="7862099">tok</span><span class="op" id="7862102">,</span>&nbsp;<span class="ident" id="7862104">_</span>&nbsp;<span class="op" id="7862106">:=</span>&nbsp;<span class="ident" id="7862109">s</span><span class="op" id="7862110">.</span><span class="ident" id="7862111">Scan</span><span class="op" id="7862115">(</span><span class="op" id="7862116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862121">if</span>&nbsp;<span class="ident" id="7862124">tok</span>&nbsp;<span class="op" id="7862128">==</span>&nbsp;<span class="ident" id="7862131">token</span><span class="op" id="7862136">.</span><span class="ident" id="7862137">EOF</span>&nbsp;<span class="op" id="7862141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862147">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862156">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862163">}</span><br>
<span class="lineno"></span><span class="op" id="7862165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7862168">func</span>&nbsp;<span class="ident" id="7862173">BenchmarkScanFile</span><span class="op" id="7862190">(</span><span class="ident" id="7862191">b</span>&nbsp;<span class="op" id="7862193">*</span><span class="ident" id="7862194">testing</span><span class="op" id="7862201">.</span><span class="ident" id="7862202">B</span><span class="op" id="7862203">)</span>&nbsp;<span class="op" id="7862205">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862208">b</span><span class="op" id="7862209">.</span><span class="ident" id="7862210">StopTimer</span><span class="op" id="7862219">(</span><span class="op" id="7862220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862223">const</span>&nbsp;<span class="ident" id="7862229">filename</span>&nbsp;<span class="op" id="7862238">=</span>&nbsp;<span class="string" id="7862240">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862254">src</span><span class="op" id="7862257">,</span>&nbsp;<span class="ident" id="7862259">err</span>&nbsp;<span class="op" id="7862263">:=</span>&nbsp;<span class="ident" id="7862266">ioutil</span><span class="op" id="7862272">.</span><span class="ident" id="7862273">ReadFile</span><span class="op" id="7862281">(</span><span class="ident" id="7862282">filename</span><span class="op" id="7862290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862293">if</span>&nbsp;<span class="ident" id="7862296">err</span>&nbsp;<span class="op" id="7862300">!=</span>&nbsp;<span class="ident" id="7862303">nil</span>&nbsp;<span class="op" id="7862307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7862311">panic</span><span class="op" id="7862316">(</span><span class="ident" id="7862317">err</span><span class="op" id="7862320">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862326">fset</span>&nbsp;<span class="op" id="7862331">:=</span>&nbsp;<span class="ident" id="7862334">token</span><span class="op" id="7862339">.</span><span class="ident" id="7862340">NewFileSet</span><span class="op" id="7862350">(</span><span class="op" id="7862351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862354">file</span>&nbsp;<span class="op" id="7862359">:=</span>&nbsp;<span class="ident" id="7862362">fset</span><span class="op" id="7862366">.</span><span class="ident" id="7862367">AddFile</span><span class="op" id="7862374">(</span><span class="ident" id="7862375">filename</span><span class="op" id="7862383">,</span>&nbsp;<span class="ident" id="7862385">fset</span><span class="op" id="7862389">.</span><span class="ident" id="7862390">Base</span><span class="op" id="7862394">(</span><span class="op" id="7862395">)</span><span class="op" id="7862396">,</span>&nbsp;<span class="builtinfunc" id="7862398">len</span><span class="op" id="7862401">(</span><span class="ident" id="7862402">src</span><span class="op" id="7862405">)</span><span class="op" id="7862406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862409">b</span><span class="op" id="7862410">.</span><span class="ident" id="7862411">SetBytes</span><span class="op" id="7862419">(</span><span class="ident" id="7862420">int64</span><span class="op" id="7862425">(</span><span class="builtinfunc" id="7862426">len</span><span class="op" id="7862429">(</span><span class="ident" id="7862430">src</span><span class="op" id="7862433">)</span><span class="op" id="7862434">)</span><span class="op" id="7862435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862438">var</span>&nbsp;<span class="ident" id="7862442">s</span>&nbsp;<span class="ident" id="7862444">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862453">b</span><span class="op" id="7862454">.</span><span class="ident" id="7862455">StartTimer</span><span class="op" id="7862465">(</span><span class="op" id="7862466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862469">for</span>&nbsp;<span class="ident" id="7862473">i</span>&nbsp;<span class="op" id="7862475">:=</span>&nbsp;<span class="num" id="7862478">0</span><span class="op" id="7862479">;</span>&nbsp;<span class="ident" id="7862481">i</span>&nbsp;<span class="op" id="7862483">&lt;</span>&nbsp;<span class="ident" id="7862485">b</span><span class="op" id="7862486">.</span><span class="ident" id="7862487">N</span><span class="op" id="7862488">;</span>&nbsp;<span class="ident" id="7862490">i</span><span class="op" id="7862491">++</span>&nbsp;<span class="op" id="7862494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862498">s</span><span class="op" id="7862499">.</span><span class="ident" id="7862500">Init</span><span class="op" id="7862504">(</span><span class="ident" id="7862505">file</span><span class="op" id="7862509">,</span>&nbsp;<span class="ident" id="7862511">src</span><span class="op" id="7862514">,</span>&nbsp;<span class="ident" id="7862516">nil</span><span class="op" id="7862519">,</span>&nbsp;<span class="ident" id="7862521">ScanComments</span><span class="op" id="7862533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862537">for</span>&nbsp;<span class="op" id="7862541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862546">_</span><span class="op" id="7862547">,</span>&nbsp;<span class="ident" id="7862549">tok</span><span class="op" id="7862552">,</span>&nbsp;<span class="ident" id="7862554">_</span>&nbsp;<span class="op" id="7862556">:=</span>&nbsp;<span class="ident" id="7862559">s</span><span class="op" id="7862560">.</span><span class="ident" id="7862561">Scan</span><span class="op" id="7862565">(</span><span class="op" id="7862566">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862571">if</span>&nbsp;<span class="ident" id="7862574">tok</span>&nbsp;<span class="op" id="7862578">==</span>&nbsp;<span class="ident" id="7862581">token</span><span class="op" id="7862586">.</span><span class="ident" id="7862587">EOF</span>&nbsp;<span class="op" id="7862591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862597">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862613">}</span><br>
<span class="lineno">775</span><span class="op" id="7862615">}</span>
</div>
</body>
</html>
