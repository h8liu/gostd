<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html" class="current">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3938438">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3938494">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3938548">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3938599">package</span>&nbsp;<span class="ident" id="3938607">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3938613">import</span>&nbsp;<span class="op" id="3938620">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3938623">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3938632">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3938650">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3938653">//&nbsp;The&nbsp;algorithm&nbsp;uses&nbsp;at&nbsp;most&nbsp;sniffLen&nbsp;bytes&nbsp;to&nbsp;make&nbsp;its&nbsp;decision.</span><br>
<span class="lineno"></span><span class="keyword" id="3938720">const</span>&nbsp;<span class="ident" id="3938726">sniffLen</span>&nbsp;<span class="op" id="3938735">=</span>&nbsp;<span class="num" id="3938737">512</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3938742">//&nbsp;DetectContentType&nbsp;implements&nbsp;the&nbsp;algorithm&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="3938798">//&nbsp;at&nbsp;http://mimesniff.spec.whatwg.org/&nbsp;to&nbsp;determine&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3938855">//&nbsp;Content-Type&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;&nbsp;It&nbsp;considers&nbsp;at&nbsp;most&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3938916">//&nbsp;first&nbsp;512&nbsp;bytes&nbsp;of&nbsp;data.&nbsp;&nbsp;DetectContentType&nbsp;always&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3938978">//&nbsp;a&nbsp;valid&nbsp;MIME&nbsp;type:&nbsp;if&nbsp;it&nbsp;cannot&nbsp;determine&nbsp;a&nbsp;more&nbsp;specific&nbsp;one,&nbsp;it</span><br>
<span class="lineno">20</span><span class="comment" id="3939047">//&nbsp;returns&nbsp;&#34;application/octet-stream&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3939086">func</span>&nbsp;<span class="ident" id="3939091">DetectContentType</span><span class="op" id="3939108">(</span><span class="ident" id="3939109">data</span>&nbsp;<span class="op" id="3939114">[</span><span class="op" id="3939115">]</span><span class="builtintype" id="3939116">byte</span><span class="op" id="3939120">)</span>&nbsp;<span class="builtintype" id="3939122">string</span>&nbsp;<span class="op" id="3939129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3939132">if</span>&nbsp;<span class="builtinfunc" id="3939135">len</span><span class="op" id="3939138">(</span><span class="ident" id="3939139">data</span><span class="op" id="3939143">)</span>&nbsp;<span class="op" id="3939145">&gt;</span>&nbsp;<span class="ident" id="3939147">sniffLen</span>&nbsp;<span class="op" id="3939156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939160">data</span>&nbsp;<span class="op" id="3939165">=</span>&nbsp;<span class="ident" id="3939167">data</span><span class="op" id="3939171">[</span><span class="op" id="3939172">:</span><span class="ident" id="3939173">sniffLen</span><span class="op" id="3939181">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3939184">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3939188">//&nbsp;Index&nbsp;of&nbsp;the&nbsp;first&nbsp;non-whitespace&nbsp;byte&nbsp;in&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939240">firstNonWS</span>&nbsp;<span class="op" id="3939251">:=</span>&nbsp;<span class="num" id="3939254">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3939257">for</span>&nbsp;<span class="op" id="3939261">;</span>&nbsp;<span class="ident" id="3939263">firstNonWS</span>&nbsp;<span class="op" id="3939274">&lt;</span>&nbsp;<span class="builtinfunc" id="3939276">len</span><span class="op" id="3939279">(</span><span class="ident" id="3939280">data</span><span class="op" id="3939284">)</span>&nbsp;<span class="op" id="3939286">&amp;&amp;</span>&nbsp;<span class="ident" id="3939289">isWS</span><span class="op" id="3939293">(</span><span class="ident" id="3939294">data</span><span class="op" id="3939298">[</span><span class="ident" id="3939299">firstNonWS</span><span class="op" id="3939309">]</span><span class="op" id="3939310">)</span><span class="op" id="3939311">;</span>&nbsp;<span class="ident" id="3939313">firstNonWS</span><span class="op" id="3939323">++</span>&nbsp;<span class="op" id="3939326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3939329">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3939333">for</span>&nbsp;<span class="ident" id="3939337">_</span><span class="op" id="3939338">,</span>&nbsp;<span class="ident" id="3939340">sig</span>&nbsp;<span class="op" id="3939344">:=</span>&nbsp;<span class="keyword" id="3939347">range</span>&nbsp;<span class="ident" id="3939353">sniffSignatures</span>&nbsp;<span class="op" id="3939369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3939373">if</span>&nbsp;<span class="ident" id="3939376">ct</span>&nbsp;<span class="op" id="3939379">:=</span>&nbsp;<span class="ident" id="3939382">sig</span><span class="op" id="3939385">.</span><span class="ident" id="3939386">match</span><span class="op" id="3939391">(</span><span class="ident" id="3939392">data</span><span class="op" id="3939396">,</span>&nbsp;<span class="ident" id="3939398">firstNonWS</span><span class="op" id="3939408">)</span><span class="op" id="3939409">;</span>&nbsp;<span class="ident" id="3939411">ct</span>&nbsp;<span class="op" id="3939414">!=</span>&nbsp;<span class="string" id="3939417">&#34;&#34;</span>&nbsp;<span class="op" id="3939420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3939425">return</span>&nbsp;<span class="ident" id="3939432">ct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3939437">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3939440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3939444">return</span>&nbsp;<span class="string" id="3939451">&#34;application/octet-stream&#34;</span>&nbsp;<span class="comment" id="3939478">//&nbsp;fallback</span><br>
<span class="lineno"></span><span class="op" id="3939490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3939493">func</span>&nbsp;<span class="ident" id="3939498">isWS</span><span class="op" id="3939502">(</span><span class="ident" id="3939503">b</span>&nbsp;<span class="builtintype" id="3939505">byte</span><span class="op" id="3939509">)</span>&nbsp;<span class="builtintype" id="3939511">bool</span>&nbsp;<span class="op" id="3939516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3939519">return</span>&nbsp;<span class="ident" id="3939526">bytes</span><span class="op" id="3939531">.</span><span class="ident" id="3939532">IndexByte</span><span class="op" id="3939541">(</span><span class="op" id="3939542">[</span><span class="op" id="3939543">]</span><span class="builtintype" id="3939544">byte</span><span class="op" id="3939548">(</span><span class="string" id="3939549">&#34;\t\n\x0C\r&nbsp;&#34;</span><span class="op" id="3939562">)</span><span class="op" id="3939563">,</span>&nbsp;<span class="ident" id="3939565">b</span><span class="op" id="3939566">)</span>&nbsp;<span class="op" id="3939568">!=</span>&nbsp;<span class="op" id="3939571">-</span><span class="num" id="3939572">1</span><br>
<span class="lineno"></span><span class="op" id="3939574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3939577">type</span>&nbsp;<span class="ident" id="3939582">sniffSig</span>&nbsp;<span class="keyword" id="3939591">interface</span>&nbsp;<span class="op" id="3939601">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3939604">//&nbsp;match&nbsp;returns&nbsp;the&nbsp;MIME&nbsp;type&nbsp;of&nbsp;the&nbsp;data,&nbsp;or&nbsp;&#34;&#34;&nbsp;if&nbsp;unknown.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939667">match</span><span class="op" id="3939672">(</span><span class="ident" id="3939673">data</span>&nbsp;<span class="op" id="3939678">[</span><span class="op" id="3939679">]</span><span class="builtintype" id="3939680">byte</span><span class="op" id="3939684">,</span>&nbsp;<span class="ident" id="3939686">firstNonWS</span>&nbsp;<span class="builtintype" id="3939697">int</span><span class="op" id="3939700">)</span>&nbsp;<span class="builtintype" id="3939702">string</span><br>
<span class="lineno"></span><span class="op" id="3939709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3939712">//&nbsp;Data&nbsp;matching&nbsp;the&nbsp;table&nbsp;in&nbsp;section&nbsp;6.</span><br>
<span class="lineno">50</span><span class="keyword" id="3939753">var</span>&nbsp;<span class="ident" id="3939757">sniffSignatures</span>&nbsp;<span class="op" id="3939773">=</span>&nbsp;<span class="op" id="3939775">[</span><span class="op" id="3939776">]</span><span class="ident" id="3939777">sniffSig</span><span class="op" id="3939785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939788">htmlSig</span><span class="op" id="3939795">(</span><span class="string" id="3939796">&#34;&lt;!DOCTYPE&nbsp;HTML&#34;</span><span class="op" id="3939812">)</span><span class="op" id="3939813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939816">htmlSig</span><span class="op" id="3939823">(</span><span class="string" id="3939824">&#34;&lt;HTML&#34;</span><span class="op" id="3939831">)</span><span class="op" id="3939832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939835">htmlSig</span><span class="op" id="3939842">(</span><span class="string" id="3939843">&#34;&lt;HEAD&#34;</span><span class="op" id="3939850">)</span><span class="op" id="3939851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939854">htmlSig</span><span class="op" id="3939861">(</span><span class="string" id="3939862">&#34;&lt;SCRIPT&#34;</span><span class="op" id="3939871">)</span><span class="op" id="3939872">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939875">htmlSig</span><span class="op" id="3939882">(</span><span class="string" id="3939883">&#34;&lt;IFRAME&#34;</span><span class="op" id="3939892">)</span><span class="op" id="3939893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939896">htmlSig</span><span class="op" id="3939903">(</span><span class="string" id="3939904">&#34;&lt;H1&#34;</span><span class="op" id="3939909">)</span><span class="op" id="3939910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939913">htmlSig</span><span class="op" id="3939920">(</span><span class="string" id="3939921">&#34;&lt;DIV&#34;</span><span class="op" id="3939927">)</span><span class="op" id="3939928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939931">htmlSig</span><span class="op" id="3939938">(</span><span class="string" id="3939939">&#34;&lt;FONT&#34;</span><span class="op" id="3939946">)</span><span class="op" id="3939947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939950">htmlSig</span><span class="op" id="3939957">(</span><span class="string" id="3939958">&#34;&lt;TABLE&#34;</span><span class="op" id="3939966">)</span><span class="op" id="3939967">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939970">htmlSig</span><span class="op" id="3939977">(</span><span class="string" id="3939978">&#34;&lt;A&#34;</span><span class="op" id="3939982">)</span><span class="op" id="3939983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3939986">htmlSig</span><span class="op" id="3939993">(</span><span class="string" id="3939994">&#34;&lt;STYLE&#34;</span><span class="op" id="3940002">)</span><span class="op" id="3940003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3940006">htmlSig</span><span class="op" id="3940013">(</span><span class="string" id="3940014">&#34;&lt;TITLE&#34;</span><span class="op" id="3940022">)</span><span class="op" id="3940023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3940026">htmlSig</span><span class="op" id="3940033">(</span><span class="string" id="3940034">&#34;&lt;B&#34;</span><span class="op" id="3940038">)</span><span class="op" id="3940039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3940042">htmlSig</span><span class="op" id="3940049">(</span><span class="string" id="3940050">&#34;&lt;BODY&#34;</span><span class="op" id="3940057">)</span><span class="op" id="3940058">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3940061">htmlSig</span><span class="op" id="3940068">(</span><span class="string" id="3940069">&#34;&lt;BR&#34;</span><span class="op" id="3940074">)</span><span class="op" id="3940075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3940078">htmlSig</span><span class="op" id="3940085">(</span><span class="string" id="3940086">&#34;&lt;P&#34;</span><span class="op" id="3940090">)</span><span class="op" id="3940091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3940094">htmlSig</span><span class="op" id="3940101">(</span><span class="string" id="3940102">&#34;&lt;!--&#34;</span><span class="op" id="3940108">)</span><span class="op" id="3940109">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940113">&amp;</span><span class="ident" id="3940114">maskedSig</span><span class="op" id="3940123">{</span><span class="ident" id="3940124">mask</span><span class="op" id="3940128">:</span>&nbsp;<span class="op" id="3940130">[</span><span class="op" id="3940131">]</span><span class="builtintype" id="3940132">byte</span><span class="op" id="3940136">(</span><span class="string" id="3940137">&#34;\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3940159">)</span><span class="op" id="3940160">,</span>&nbsp;<span class="ident" id="3940162">pat</span><span class="op" id="3940165">:</span>&nbsp;<span class="op" id="3940167">[</span><span class="op" id="3940168">]</span><span class="builtintype" id="3940169">byte</span><span class="op" id="3940173">(</span><span class="string" id="3940174">&#34;&lt;?xml&#34;</span><span class="op" id="3940181">)</span><span class="op" id="3940182">,</span>&nbsp;<span class="ident" id="3940184">skipWS</span><span class="op" id="3940190">:</span>&nbsp;<span class="builtintype" id="3940192">true</span><span class="op" id="3940196">,</span>&nbsp;<span class="ident" id="3940198">ct</span><span class="op" id="3940200">:</span>&nbsp;<span class="string" id="3940202">&#34;text/xml;&nbsp;charset=utf-8&#34;</span><span class="op" id="3940227">}</span><span class="op" id="3940228">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940232">&amp;</span><span class="ident" id="3940233">exactSig</span><span class="op" id="3940241">{</span><span class="op" id="3940242">[</span><span class="op" id="3940243">]</span><span class="builtintype" id="3940244">byte</span><span class="op" id="3940248">(</span><span class="string" id="3940249">&#34;%PDF-&#34;</span><span class="op" id="3940256">)</span><span class="op" id="3940257">,</span>&nbsp;<span class="string" id="3940259">&#34;application/pdf&#34;</span><span class="op" id="3940276">}</span><span class="op" id="3940277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940280">&amp;</span><span class="ident" id="3940281">exactSig</span><span class="op" id="3940289">{</span><span class="op" id="3940290">[</span><span class="op" id="3940291">]</span><span class="builtintype" id="3940292">byte</span><span class="op" id="3940296">(</span><span class="string" id="3940297">&#34;%!PS-Adobe-&#34;</span><span class="op" id="3940310">)</span><span class="op" id="3940311">,</span>&nbsp;<span class="string" id="3940313">&#34;application/postscript&#34;</span><span class="op" id="3940337">}</span><span class="op" id="3940338">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3940342">//&nbsp;UTF&nbsp;BOMs.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940356">&amp;</span><span class="ident" id="3940357">maskedSig</span><span class="op" id="3940366">{</span><span class="ident" id="3940367">mask</span><span class="op" id="3940371">:</span>&nbsp;<span class="op" id="3940373">[</span><span class="op" id="3940374">]</span><span class="builtintype" id="3940375">byte</span><span class="op" id="3940379">(</span><span class="string" id="3940380">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3940398">)</span><span class="op" id="3940399">,</span>&nbsp;<span class="ident" id="3940401">pat</span><span class="op" id="3940404">:</span>&nbsp;<span class="op" id="3940406">[</span><span class="op" id="3940407">]</span><span class="builtintype" id="3940408">byte</span><span class="op" id="3940412">(</span><span class="string" id="3940413">&#34;\xFE\xFF\x00\x00&#34;</span><span class="op" id="3940431">)</span><span class="op" id="3940432">,</span>&nbsp;<span class="ident" id="3940434">ct</span><span class="op" id="3940436">:</span>&nbsp;<span class="string" id="3940438">&#34;text/plain;&nbsp;charset=utf-16be&#34;</span><span class="op" id="3940468">}</span><span class="op" id="3940469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940472">&amp;</span><span class="ident" id="3940473">maskedSig</span><span class="op" id="3940482">{</span><span class="ident" id="3940483">mask</span><span class="op" id="3940487">:</span>&nbsp;<span class="op" id="3940489">[</span><span class="op" id="3940490">]</span><span class="builtintype" id="3940491">byte</span><span class="op" id="3940495">(</span><span class="string" id="3940496">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="3940514">)</span><span class="op" id="3940515">,</span>&nbsp;<span class="ident" id="3940517">pat</span><span class="op" id="3940520">:</span>&nbsp;<span class="op" id="3940522">[</span><span class="op" id="3940523">]</span><span class="builtintype" id="3940524">byte</span><span class="op" id="3940528">(</span><span class="string" id="3940529">&#34;\xFF\xFE\x00\x00&#34;</span><span class="op" id="3940547">)</span><span class="op" id="3940548">,</span>&nbsp;<span class="ident" id="3940550">ct</span><span class="op" id="3940552">:</span>&nbsp;<span class="string" id="3940554">&#34;text/plain;&nbsp;charset=utf-16le&#34;</span><span class="op" id="3940584">}</span><span class="op" id="3940585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940588">&amp;</span><span class="ident" id="3940589">maskedSig</span><span class="op" id="3940598">{</span><span class="ident" id="3940599">mask</span><span class="op" id="3940603">:</span>&nbsp;<span class="op" id="3940605">[</span><span class="op" id="3940606">]</span><span class="builtintype" id="3940607">byte</span><span class="op" id="3940611">(</span><span class="string" id="3940612">&#34;\xFF\xFF\xFF\x00&#34;</span><span class="op" id="3940630">)</span><span class="op" id="3940631">,</span>&nbsp;<span class="ident" id="3940633">pat</span><span class="op" id="3940636">:</span>&nbsp;<span class="op" id="3940638">[</span><span class="op" id="3940639">]</span><span class="builtintype" id="3940640">byte</span><span class="op" id="3940644">(</span><span class="string" id="3940645">&#34;\xEF\xBB\xBF\x00&#34;</span><span class="op" id="3940663">)</span><span class="op" id="3940664">,</span>&nbsp;<span class="ident" id="3940666">ct</span><span class="op" id="3940668">:</span>&nbsp;<span class="string" id="3940670">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="3940697">}</span><span class="op" id="3940698">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940702">&amp;</span><span class="ident" id="3940703">exactSig</span><span class="op" id="3940711">{</span><span class="op" id="3940712">[</span><span class="op" id="3940713">]</span><span class="builtintype" id="3940714">byte</span><span class="op" id="3940718">(</span><span class="string" id="3940719">&#34;GIF87a&#34;</span><span class="op" id="3940727">)</span><span class="op" id="3940728">,</span>&nbsp;<span class="string" id="3940730">&#34;image/gif&#34;</span><span class="op" id="3940741">}</span><span class="op" id="3940742">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940745">&amp;</span><span class="ident" id="3940746">exactSig</span><span class="op" id="3940754">{</span><span class="op" id="3940755">[</span><span class="op" id="3940756">]</span><span class="builtintype" id="3940757">byte</span><span class="op" id="3940761">(</span><span class="string" id="3940762">&#34;GIF89a&#34;</span><span class="op" id="3940770">)</span><span class="op" id="3940771">,</span>&nbsp;<span class="string" id="3940773">&#34;image/gif&#34;</span><span class="op" id="3940784">}</span><span class="op" id="3940785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940788">&amp;</span><span class="ident" id="3940789">exactSig</span><span class="op" id="3940797">{</span><span class="op" id="3940798">[</span><span class="op" id="3940799">]</span><span class="builtintype" id="3940800">byte</span><span class="op" id="3940804">(</span><span class="string" id="3940805">&#34;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&#34;</span><span class="op" id="3940839">)</span><span class="op" id="3940840">,</span>&nbsp;<span class="string" id="3940842">&#34;image/png&#34;</span><span class="op" id="3940853">}</span><span class="op" id="3940854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940857">&amp;</span><span class="ident" id="3940858">exactSig</span><span class="op" id="3940866">{</span><span class="op" id="3940867">[</span><span class="op" id="3940868">]</span><span class="builtintype" id="3940869">byte</span><span class="op" id="3940873">(</span><span class="string" id="3940874">&#34;\xFF\xD8\xFF&#34;</span><span class="op" id="3940888">)</span><span class="op" id="3940889">,</span>&nbsp;<span class="string" id="3940891">&#34;image/jpeg&#34;</span><span class="op" id="3940903">}</span><span class="op" id="3940904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940907">&amp;</span><span class="ident" id="3940908">exactSig</span><span class="op" id="3940916">{</span><span class="op" id="3940917">[</span><span class="op" id="3940918">]</span><span class="builtintype" id="3940919">byte</span><span class="op" id="3940923">(</span><span class="string" id="3940924">&#34;BM&#34;</span><span class="op" id="3940928">)</span><span class="op" id="3940929">,</span>&nbsp;<span class="string" id="3940931">&#34;image/bmp&#34;</span><span class="op" id="3940942">}</span><span class="op" id="3940943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3940946">&amp;</span><span class="ident" id="3940947">maskedSig</span><span class="op" id="3940956">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3940960">mask</span><span class="op" id="3940964">:</span>&nbsp;<span class="op" id="3940966">[</span><span class="op" id="3940967">]</span><span class="builtintype" id="3940968">byte</span><span class="op" id="3940972">(</span><span class="string" id="3940973">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3941031">)</span><span class="op" id="3941032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941036">pat</span><span class="op" id="3941039">:</span>&nbsp;&nbsp;<span class="op" id="3941042">[</span><span class="op" id="3941043">]</span><span class="builtintype" id="3941044">byte</span><span class="op" id="3941048">(</span><span class="string" id="3941049">&#34;RIFF\x00\x00\x00\x00WEBPVP&#34;</span><span class="op" id="3941077">)</span><span class="op" id="3941078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941082">ct</span><span class="op" id="3941084">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3941088">&#34;image/webp&#34;</span><span class="op" id="3941100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941103">}</span><span class="op" id="3941104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941107">&amp;</span><span class="ident" id="3941108">exactSig</span><span class="op" id="3941116">{</span><span class="op" id="3941117">[</span><span class="op" id="3941118">]</span><span class="builtintype" id="3941119">byte</span><span class="op" id="3941123">(</span><span class="string" id="3941124">&#34;\x00\x00\x01\x00&#34;</span><span class="op" id="3941142">)</span><span class="op" id="3941143">,</span>&nbsp;<span class="string" id="3941145">&#34;image/vnd.microsoft.icon&#34;</span><span class="op" id="3941171">}</span><span class="op" id="3941172">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941175">&amp;</span><span class="ident" id="3941176">exactSig</span><span class="op" id="3941184">{</span><span class="op" id="3941185">[</span><span class="op" id="3941186">]</span><span class="builtintype" id="3941187">byte</span><span class="op" id="3941191">(</span><span class="string" id="3941192">&#34;\x4F\x67\x67\x53\x00&#34;</span><span class="op" id="3941214">)</span><span class="op" id="3941215">,</span>&nbsp;<span class="string" id="3941217">&#34;application/ogg&#34;</span><span class="op" id="3941234">}</span><span class="op" id="3941235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941238">&amp;</span><span class="ident" id="3941239">maskedSig</span><span class="op" id="3941248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941252">mask</span><span class="op" id="3941256">:</span>&nbsp;<span class="op" id="3941258">[</span><span class="op" id="3941259">]</span><span class="builtintype" id="3941260">byte</span><span class="op" id="3941264">(</span><span class="string" id="3941265">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="3941315">)</span><span class="op" id="3941316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941320">pat</span><span class="op" id="3941323">:</span>&nbsp;&nbsp;<span class="op" id="3941326">[</span><span class="op" id="3941327">]</span><span class="builtintype" id="3941328">byte</span><span class="op" id="3941332">(</span><span class="string" id="3941333">&#34;RIFF\x00\x00\x00\x00WAVE&#34;</span><span class="op" id="3941359">)</span><span class="op" id="3941360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941364">ct</span><span class="op" id="3941366">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="3941370">&#34;audio/wave&#34;</span><span class="op" id="3941382">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941385">}</span><span class="op" id="3941386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941389">&amp;</span><span class="ident" id="3941390">exactSig</span><span class="op" id="3941398">{</span><span class="op" id="3941399">[</span><span class="op" id="3941400">]</span><span class="builtintype" id="3941401">byte</span><span class="op" id="3941405">(</span><span class="string" id="3941406">&#34;\x1A\x45\xDF\xA3&#34;</span><span class="op" id="3941424">)</span><span class="op" id="3941425">,</span>&nbsp;<span class="string" id="3941427">&#34;video/webm&#34;</span><span class="op" id="3941439">}</span><span class="op" id="3941440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941443">&amp;</span><span class="ident" id="3941444">exactSig</span><span class="op" id="3941452">{</span><span class="op" id="3941453">[</span><span class="op" id="3941454">]</span><span class="builtintype" id="3941455">byte</span><span class="op" id="3941459">(</span><span class="string" id="3941460">&#34;\x52\x61\x72\x20\x1A\x07\x00&#34;</span><span class="op" id="3941490">)</span><span class="op" id="3941491">,</span>&nbsp;<span class="string" id="3941493">&#34;application/x-rar-compressed&#34;</span><span class="op" id="3941523">}</span><span class="op" id="3941524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941527">&amp;</span><span class="ident" id="3941528">exactSig</span><span class="op" id="3941536">{</span><span class="op" id="3941537">[</span><span class="op" id="3941538">]</span><span class="builtintype" id="3941539">byte</span><span class="op" id="3941543">(</span><span class="string" id="3941544">&#34;\x50\x4B\x03\x04&#34;</span><span class="op" id="3941562">)</span><span class="op" id="3941563">,</span>&nbsp;<span class="string" id="3941565">&#34;application/zip&#34;</span><span class="op" id="3941582">}</span><span class="op" id="3941583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941586">&amp;</span><span class="ident" id="3941587">exactSig</span><span class="op" id="3941595">{</span><span class="op" id="3941596">[</span><span class="op" id="3941597">]</span><span class="builtintype" id="3941598">byte</span><span class="op" id="3941602">(</span><span class="string" id="3941603">&#34;\x1F\x8B\x08&#34;</span><span class="op" id="3941617">)</span><span class="op" id="3941618">,</span>&nbsp;<span class="string" id="3941620">&#34;application/x-gzip&#34;</span><span class="op" id="3941640">}</span><span class="op" id="3941641">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3941645">//&nbsp;TODO(dsymonds):&nbsp;Re-enable&nbsp;this&nbsp;when&nbsp;the&nbsp;spec&nbsp;is&nbsp;sorted&nbsp;w.r.t.&nbsp;MP4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3941716">//mp4Sig(0),</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941731">textSig</span><span class="op" id="3941738">(</span><span class="num" id="3941739">0</span><span class="op" id="3941740">)</span><span class="op" id="3941741">,</span>&nbsp;<span class="comment" id="3941743">//&nbsp;should&nbsp;be&nbsp;last</span><br>
<span class="lineno">105</span><span class="op" id="3941761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3941764">type</span>&nbsp;<span class="ident" id="3941769">exactSig</span>&nbsp;<span class="keyword" id="3941778">struct</span>&nbsp;<span class="op" id="3941785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941788">sig</span>&nbsp;<span class="op" id="3941792">[</span><span class="op" id="3941793">]</span><span class="builtintype" id="3941794">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941800">ct</span>&nbsp;&nbsp;<span class="builtintype" id="3941804">string</span><br>
<span class="lineno">110</span><span class="op" id="3941811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3941814">func</span>&nbsp;<span class="op" id="3941819">(</span><span class="ident" id="3941820">e</span>&nbsp;<span class="op" id="3941822">*</span><span class="ident" id="3941823">exactSig</span><span class="op" id="3941831">)</span>&nbsp;<span class="ident" id="3941833">match</span><span class="op" id="3941838">(</span><span class="ident" id="3941839">data</span>&nbsp;<span class="op" id="3941844">[</span><span class="op" id="3941845">]</span><span class="builtintype" id="3941846">byte</span><span class="op" id="3941850">,</span>&nbsp;<span class="ident" id="3941852">firstNonWS</span>&nbsp;<span class="builtintype" id="3941863">int</span><span class="op" id="3941866">)</span>&nbsp;<span class="builtintype" id="3941868">string</span>&nbsp;<span class="op" id="3941875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3941878">if</span>&nbsp;<span class="ident" id="3941881">bytes</span><span class="op" id="3941886">.</span><span class="ident" id="3941887">HasPrefix</span><span class="op" id="3941896">(</span><span class="ident" id="3941897">data</span><span class="op" id="3941901">,</span>&nbsp;<span class="ident" id="3941903">e</span><span class="op" id="3941904">.</span><span class="ident" id="3941905">sig</span><span class="op" id="3941908">)</span>&nbsp;<span class="op" id="3941910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3941914">return</span>&nbsp;<span class="ident" id="3941921">e</span><span class="op" id="3941922">.</span><span class="ident" id="3941923">ct</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3941927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3941930">return</span>&nbsp;<span class="string" id="3941937">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3941940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3941943">type</span>&nbsp;<span class="ident" id="3941948">maskedSig</span>&nbsp;<span class="keyword" id="3941958">struct</span>&nbsp;<span class="op" id="3941965">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941968">mask</span><span class="op" id="3941972">,</span>&nbsp;<span class="ident" id="3941974">pat</span>&nbsp;<span class="op" id="3941978">[</span><span class="op" id="3941979">]</span><span class="builtintype" id="3941980">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3941986">skipWS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3941996">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3942002">ct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3942012">string</span><br>
<span class="lineno"></span><span class="op" id="3942019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="3942022">func</span>&nbsp;<span class="op" id="3942027">(</span><span class="ident" id="3942028">m</span>&nbsp;<span class="op" id="3942030">*</span><span class="ident" id="3942031">maskedSig</span><span class="op" id="3942040">)</span>&nbsp;<span class="ident" id="3942042">match</span><span class="op" id="3942047">(</span><span class="ident" id="3942048">data</span>&nbsp;<span class="op" id="3942053">[</span><span class="op" id="3942054">]</span><span class="builtintype" id="3942055">byte</span><span class="op" id="3942059">,</span>&nbsp;<span class="ident" id="3942061">firstNonWS</span>&nbsp;<span class="builtintype" id="3942072">int</span><span class="op" id="3942075">)</span>&nbsp;<span class="builtintype" id="3942077">string</span>&nbsp;<span class="op" id="3942084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942087">if</span>&nbsp;<span class="ident" id="3942090">m</span><span class="op" id="3942091">.</span><span class="ident" id="3942092">skipWS</span>&nbsp;<span class="op" id="3942099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3942103">data</span>&nbsp;<span class="op" id="3942108">=</span>&nbsp;<span class="ident" id="3942110">data</span><span class="op" id="3942114">[</span><span class="ident" id="3942115">firstNonWS</span><span class="op" id="3942125">:</span><span class="op" id="3942126">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942132">if</span>&nbsp;<span class="builtinfunc" id="3942135">len</span><span class="op" id="3942138">(</span><span class="ident" id="3942139">data</span><span class="op" id="3942143">)</span>&nbsp;<span class="op" id="3942145">&lt;</span>&nbsp;<span class="builtinfunc" id="3942147">len</span><span class="op" id="3942150">(</span><span class="ident" id="3942151">m</span><span class="op" id="3942152">.</span><span class="ident" id="3942153">mask</span><span class="op" id="3942157">)</span>&nbsp;<span class="op" id="3942159">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942163">return</span>&nbsp;<span class="string" id="3942170">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942177">for</span>&nbsp;<span class="ident" id="3942181">i</span><span class="op" id="3942182">,</span>&nbsp;<span class="ident" id="3942184">mask</span>&nbsp;<span class="op" id="3942189">:=</span>&nbsp;<span class="keyword" id="3942192">range</span>&nbsp;<span class="ident" id="3942198">m</span><span class="op" id="3942199">.</span><span class="ident" id="3942200">mask</span>&nbsp;<span class="op" id="3942205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3942209">db</span>&nbsp;<span class="op" id="3942212">:=</span>&nbsp;<span class="ident" id="3942215">data</span><span class="op" id="3942219">[</span><span class="ident" id="3942220">i</span><span class="op" id="3942221">]</span>&nbsp;<span class="op" id="3942223">&amp;</span>&nbsp;<span class="ident" id="3942225">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942232">if</span>&nbsp;<span class="ident" id="3942235">db</span>&nbsp;<span class="op" id="3942238">!=</span>&nbsp;<span class="ident" id="3942241">m</span><span class="op" id="3942242">.</span><span class="ident" id="3942243">pat</span><span class="op" id="3942246">[</span><span class="ident" id="3942247">i</span><span class="op" id="3942248">]</span>&nbsp;<span class="op" id="3942250">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942255">return</span>&nbsp;<span class="string" id="3942262">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942273">return</span>&nbsp;<span class="ident" id="3942280">m</span><span class="op" id="3942281">.</span><span class="ident" id="3942282">ct</span><br>
<span class="lineno"></span><span class="op" id="3942285">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="3942288">type</span>&nbsp;<span class="ident" id="3942293">htmlSig</span>&nbsp;<span class="op" id="3942301">[</span><span class="op" id="3942302">]</span><span class="builtintype" id="3942303">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3942309">func</span>&nbsp;<span class="op" id="3942314">(</span><span class="ident" id="3942315">h</span>&nbsp;<span class="ident" id="3942317">htmlSig</span><span class="op" id="3942324">)</span>&nbsp;<span class="ident" id="3942326">match</span><span class="op" id="3942331">(</span><span class="ident" id="3942332">data</span>&nbsp;<span class="op" id="3942337">[</span><span class="op" id="3942338">]</span><span class="builtintype" id="3942339">byte</span><span class="op" id="3942343">,</span>&nbsp;<span class="ident" id="3942345">firstNonWS</span>&nbsp;<span class="builtintype" id="3942356">int</span><span class="op" id="3942359">)</span>&nbsp;<span class="builtintype" id="3942361">string</span>&nbsp;<span class="op" id="3942368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3942371">data</span>&nbsp;<span class="op" id="3942376">=</span>&nbsp;<span class="ident" id="3942378">data</span><span class="op" id="3942382">[</span><span class="ident" id="3942383">firstNonWS</span><span class="op" id="3942393">:</span><span class="op" id="3942394">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942397">if</span>&nbsp;<span class="builtinfunc" id="3942400">len</span><span class="op" id="3942403">(</span><span class="ident" id="3942404">data</span><span class="op" id="3942408">)</span>&nbsp;<span class="op" id="3942410">&lt;</span>&nbsp;<span class="builtinfunc" id="3942412">len</span><span class="op" id="3942415">(</span><span class="ident" id="3942416">h</span><span class="op" id="3942417">)</span><span class="op" id="3942418">+</span><span class="num" id="3942419">1</span>&nbsp;<span class="op" id="3942421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942425">return</span>&nbsp;<span class="string" id="3942432">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942439">for</span>&nbsp;<span class="ident" id="3942443">i</span><span class="op" id="3942444">,</span>&nbsp;<span class="ident" id="3942446">b</span>&nbsp;<span class="op" id="3942448">:=</span>&nbsp;<span class="keyword" id="3942451">range</span>&nbsp;<span class="ident" id="3942457">h</span>&nbsp;<span class="op" id="3942459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3942463">db</span>&nbsp;<span class="op" id="3942466">:=</span>&nbsp;<span class="ident" id="3942469">data</span><span class="op" id="3942473">[</span><span class="ident" id="3942474">i</span><span class="op" id="3942475">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942479">if</span>&nbsp;<span class="string" id="3942482">&#39;A&#39;</span>&nbsp;<span class="op" id="3942486">&lt;=</span>&nbsp;<span class="ident" id="3942489">b</span>&nbsp;<span class="op" id="3942491">&amp;&amp;</span>&nbsp;<span class="ident" id="3942494">b</span>&nbsp;<span class="op" id="3942496">&lt;=</span>&nbsp;<span class="string" id="3942499">&#39;Z&#39;</span>&nbsp;<span class="op" id="3942503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3942508">db</span>&nbsp;<span class="op" id="3942511">&amp;=</span>&nbsp;<span class="num" id="3942514">0xDF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942525">if</span>&nbsp;<span class="ident" id="3942528">b</span>&nbsp;<span class="op" id="3942530">!=</span>&nbsp;<span class="ident" id="3942533">db</span>&nbsp;<span class="op" id="3942536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942541">return</span>&nbsp;<span class="string" id="3942548">&#34;&#34;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3942559">//&nbsp;Next&nbsp;byte&nbsp;must&nbsp;be&nbsp;space&nbsp;or&nbsp;right&nbsp;angle&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942611">if</span>&nbsp;<span class="ident" id="3942614">db</span>&nbsp;<span class="op" id="3942617">:=</span>&nbsp;<span class="ident" id="3942620">data</span><span class="op" id="3942624">[</span><span class="builtinfunc" id="3942625">len</span><span class="op" id="3942628">(</span><span class="ident" id="3942629">h</span><span class="op" id="3942630">)</span><span class="op" id="3942631">]</span><span class="op" id="3942632">;</span>&nbsp;<span class="ident" id="3942634">db</span>&nbsp;<span class="op" id="3942637">!=</span>&nbsp;<span class="string" id="3942640">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3942644">&amp;&amp;</span>&nbsp;<span class="ident" id="3942647">db</span>&nbsp;<span class="op" id="3942650">!=</span>&nbsp;<span class="string" id="3942653">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="3942657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942661">return</span>&nbsp;<span class="string" id="3942668">&#34;&#34;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942675">return</span>&nbsp;<span class="string" id="3942682">&#34;text/html;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3942709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3942712">type</span>&nbsp;<span class="ident" id="3942717">mp4Sig</span>&nbsp;<span class="builtintype" id="3942724">int</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="3942729">func</span>&nbsp;<span class="op" id="3942734">(</span><span class="ident" id="3942735">mp4Sig</span><span class="op" id="3942741">)</span>&nbsp;<span class="ident" id="3942743">match</span><span class="op" id="3942748">(</span><span class="ident" id="3942749">data</span>&nbsp;<span class="op" id="3942754">[</span><span class="op" id="3942755">]</span><span class="builtintype" id="3942756">byte</span><span class="op" id="3942760">,</span>&nbsp;<span class="ident" id="3942762">firstNonWS</span>&nbsp;<span class="builtintype" id="3942773">int</span><span class="op" id="3942776">)</span>&nbsp;<span class="builtintype" id="3942778">string</span>&nbsp;<span class="op" id="3942785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3942788">//&nbsp;c.f.&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942810">if</span>&nbsp;<span class="builtinfunc" id="3942813">len</span><span class="op" id="3942816">(</span><span class="ident" id="3942817">data</span><span class="op" id="3942821">)</span>&nbsp;<span class="op" id="3942823">&lt;</span>&nbsp;<span class="num" id="3942825">8</span>&nbsp;<span class="op" id="3942827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942831">return</span>&nbsp;<span class="string" id="3942838">&#34;&#34;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3942845">boxSize</span>&nbsp;<span class="op" id="3942853">:=</span>&nbsp;<span class="builtintype" id="3942856">int</span><span class="op" id="3942859">(</span><span class="ident" id="3942860">binary</span><span class="op" id="3942866">.</span><span class="ident" id="3942867">BigEndian</span><span class="op" id="3942876">.</span><span class="ident" id="3942877">Uint32</span><span class="op" id="3942883">(</span><span class="ident" id="3942884">data</span><span class="op" id="3942888">[</span><span class="op" id="3942889">:</span><span class="num" id="3942890">4</span><span class="op" id="3942891">]</span><span class="op" id="3942892">)</span><span class="op" id="3942893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942896">if</span>&nbsp;<span class="ident" id="3942899">boxSize</span><span class="op" id="3942906">%</span><span class="num" id="3942907">4</span>&nbsp;<span class="op" id="3942909">!=</span>&nbsp;<span class="num" id="3942912">0</span>&nbsp;<span class="op" id="3942914">||</span>&nbsp;<span class="builtinfunc" id="3942917">len</span><span class="op" id="3942920">(</span><span class="ident" id="3942921">data</span><span class="op" id="3942925">)</span>&nbsp;<span class="op" id="3942927">&lt;</span>&nbsp;<span class="ident" id="3942929">boxSize</span>&nbsp;<span class="op" id="3942937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942941">return</span>&nbsp;<span class="string" id="3942948">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3942952">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3942955">if</span>&nbsp;<span class="op" id="3942958">!</span><span class="ident" id="3942959">bytes</span><span class="op" id="3942964">.</span><span class="ident" id="3942965">Equal</span><span class="op" id="3942970">(</span><span class="ident" id="3942971">data</span><span class="op" id="3942975">[</span><span class="num" id="3942976">4</span><span class="op" id="3942977">:</span><span class="num" id="3942978">8</span><span class="op" id="3942979">]</span><span class="op" id="3942980">,</span>&nbsp;<span class="op" id="3942982">[</span><span class="op" id="3942983">]</span><span class="builtintype" id="3942984">byte</span><span class="op" id="3942988">(</span><span class="string" id="3942989">&#34;ftyp&#34;</span><span class="op" id="3942995">)</span><span class="op" id="3942996">)</span>&nbsp;<span class="op" id="3942998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943002">return</span>&nbsp;<span class="string" id="3943009">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3943013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943016">for</span>&nbsp;<span class="ident" id="3943020">st</span>&nbsp;<span class="op" id="3943023">:=</span>&nbsp;<span class="num" id="3943026">8</span><span class="op" id="3943027">;</span>&nbsp;<span class="ident" id="3943029">st</span>&nbsp;<span class="op" id="3943032">&lt;</span>&nbsp;<span class="ident" id="3943034">boxSize</span><span class="op" id="3943041">;</span>&nbsp;<span class="ident" id="3943043">st</span>&nbsp;<span class="op" id="3943046">+=</span>&nbsp;<span class="num" id="3943049">4</span>&nbsp;<span class="op" id="3943051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943055">if</span>&nbsp;<span class="ident" id="3943058">st</span>&nbsp;<span class="op" id="3943061">==</span>&nbsp;<span class="num" id="3943064">12</span>&nbsp;<span class="op" id="3943067">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3943072">//&nbsp;minor&nbsp;version&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943099">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3943110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3943114">seg</span>&nbsp;<span class="op" id="3943118">:=</span>&nbsp;<span class="builtintype" id="3943121">string</span><span class="op" id="3943127">(</span><span class="ident" id="3943128">data</span><span class="op" id="3943132">[</span><span class="ident" id="3943133">st</span>&nbsp;<span class="op" id="3943136">:</span>&nbsp;<span class="ident" id="3943138">st</span><span class="op" id="3943140">+</span><span class="num" id="3943141">3</span><span class="op" id="3943142">]</span><span class="op" id="3943143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943147">switch</span>&nbsp;<span class="ident" id="3943154">seg</span>&nbsp;<span class="op" id="3943158">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943162">case</span>&nbsp;<span class="string" id="3943167">&#34;mp4&#34;</span><span class="op" id="3943172">,</span>&nbsp;<span class="string" id="3943174">&#34;iso&#34;</span><span class="op" id="3943179">,</span>&nbsp;<span class="string" id="3943181">&#34;M4V&#34;</span><span class="op" id="3943186">,</span>&nbsp;<span class="string" id="3943188">&#34;M4P&#34;</span><span class="op" id="3943193">,</span>&nbsp;<span class="string" id="3943195">&#34;M4B&#34;</span><span class="op" id="3943200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943205">return</span>&nbsp;<span class="string" id="3943212">&#34;video/mp4&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3943227">/*&nbsp;The&nbsp;remainder&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;spec.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;M4A&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;audio/mp4&#34;<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;3gp&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;video/3gpp&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;jp2&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;image/jp2&#34;&nbsp;//&nbsp;JPEG&nbsp;2000<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp*/</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3943401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3943404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943407">return</span>&nbsp;<span class="string" id="3943414">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3943417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="3943420">type</span>&nbsp;<span class="ident" id="3943425">textSig</span>&nbsp;<span class="builtintype" id="3943433">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3943438">func</span>&nbsp;<span class="op" id="3943443">(</span><span class="ident" id="3943444">textSig</span><span class="op" id="3943451">)</span>&nbsp;<span class="ident" id="3943453">match</span><span class="op" id="3943458">(</span><span class="ident" id="3943459">data</span>&nbsp;<span class="op" id="3943464">[</span><span class="op" id="3943465">]</span><span class="builtintype" id="3943466">byte</span><span class="op" id="3943470">,</span>&nbsp;<span class="ident" id="3943472">firstNonWS</span>&nbsp;<span class="builtintype" id="3943483">int</span><span class="op" id="3943486">)</span>&nbsp;<span class="builtintype" id="3943488">string</span>&nbsp;<span class="op" id="3943495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3943498">//&nbsp;c.f.&nbsp;section&nbsp;5,&nbsp;step&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943526">for</span>&nbsp;<span class="ident" id="3943530">_</span><span class="op" id="3943531">,</span>&nbsp;<span class="ident" id="3943533">b</span>&nbsp;<span class="op" id="3943535">:=</span>&nbsp;<span class="keyword" id="3943538">range</span>&nbsp;<span class="ident" id="3943544">data</span><span class="op" id="3943548">[</span><span class="ident" id="3943549">firstNonWS</span><span class="op" id="3943559">:</span><span class="op" id="3943560">]</span>&nbsp;<span class="op" id="3943562">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943566">switch</span>&nbsp;<span class="op" id="3943573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943577">case</span>&nbsp;<span class="num" id="3943582">0x00</span>&nbsp;<span class="op" id="3943587">&lt;=</span>&nbsp;<span class="ident" id="3943590">b</span>&nbsp;<span class="op" id="3943592">&amp;&amp;</span>&nbsp;<span class="ident" id="3943595">b</span>&nbsp;<span class="op" id="3943597">&lt;=</span>&nbsp;<span class="num" id="3943600">0x08</span><span class="op" id="3943604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3943609">b</span>&nbsp;<span class="op" id="3943611">==</span>&nbsp;<span class="num" id="3943614">0x0B</span><span class="op" id="3943618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3943623">0x0E</span>&nbsp;<span class="op" id="3943628">&lt;=</span>&nbsp;<span class="ident" id="3943631">b</span>&nbsp;<span class="op" id="3943633">&amp;&amp;</span>&nbsp;<span class="ident" id="3943636">b</span>&nbsp;<span class="op" id="3943638">&lt;=</span>&nbsp;<span class="num" id="3943641">0x1A</span><span class="op" id="3943645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="3943650">0x1C</span>&nbsp;<span class="op" id="3943655">&lt;=</span>&nbsp;<span class="ident" id="3943658">b</span>&nbsp;<span class="op" id="3943660">&amp;&amp;</span>&nbsp;<span class="ident" id="3943663">b</span>&nbsp;<span class="op" id="3943665">&lt;=</span>&nbsp;<span class="num" id="3943668">0x1F</span><span class="op" id="3943672">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943677">return</span>&nbsp;<span class="string" id="3943684">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3943689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3943692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3943695">return</span>&nbsp;<span class="string" id="3943702">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3943730">}</span>
</div>
</body>
</html>
