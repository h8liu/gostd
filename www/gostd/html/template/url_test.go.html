<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8481856">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8481911">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8481965">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8482016">package</span>&nbsp;<span class="ident" id="8482024">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8482034">import</span>&nbsp;<span class="op" id="8482041">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482044">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8482054">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8482057">func</span>&nbsp;<span class="ident" id="8482062">TestURLNormalizer</span><span class="op" id="8482079">(</span><span class="ident" id="8482080">t</span>&nbsp;<span class="op" id="8482082">*</span><span class="ident" id="8482083">testing</span><span class="op" id="8482090">.</span><span class="ident" id="8482091">T</span><span class="op" id="8482092">)</span>&nbsp;<span class="op" id="8482094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8482097">tests</span>&nbsp;<span class="op" id="8482103">:=</span>&nbsp;<span class="op" id="8482106">[</span><span class="op" id="8482107">]</span><span class="keyword" id="8482108">struct</span>&nbsp;<span class="op" id="8482115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8482119">url</span><span class="op" id="8482122">,</span>&nbsp;<span class="ident" id="8482124">want</span>&nbsp;<span class="builtintype" id="8482129">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482137">}</span><span class="op" id="8482138">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482142">{</span><span class="string" id="8482143">&#34;&#34;</span><span class="op" id="8482145">,</span>&nbsp;<span class="string" id="8482147">&#34;&#34;</span><span class="op" id="8482149">}</span><span class="op" id="8482150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482159">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8482212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482217">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8482270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482274">}</span><span class="op" id="8482275">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482279">{</span><span class="string" id="8482280">&#34;&nbsp;&#34;</span><span class="op" id="8482283">,</span>&nbsp;<span class="string" id="8482285">&#34;%20&#34;</span><span class="op" id="8482290">}</span><span class="op" id="8482291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482295">{</span><span class="string" id="8482296">&#34;%7c&#34;</span><span class="op" id="8482301">,</span>&nbsp;<span class="string" id="8482303">&#34;%7c&#34;</span><span class="op" id="8482308">}</span><span class="op" id="8482309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482313">{</span><span class="string" id="8482314">&#34;%7C&#34;</span><span class="op" id="8482319">,</span>&nbsp;<span class="string" id="8482321">&#34;%7C&#34;</span><span class="op" id="8482326">}</span><span class="op" id="8482327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482331">{</span><span class="string" id="8482332">&#34;%2&#34;</span><span class="op" id="8482336">,</span>&nbsp;<span class="string" id="8482338">&#34;%252&#34;</span><span class="op" id="8482344">}</span><span class="op" id="8482345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482349">{</span><span class="string" id="8482350">&#34;%&#34;</span><span class="op" id="8482353">,</span>&nbsp;<span class="string" id="8482355">&#34;%25&#34;</span><span class="op" id="8482360">}</span><span class="op" id="8482361">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482365">{</span><span class="string" id="8482366">&#34;%z&#34;</span><span class="op" id="8482370">,</span>&nbsp;<span class="string" id="8482372">&#34;%25z&#34;</span><span class="op" id="8482378">}</span><span class="op" id="8482379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482383">{</span><span class="string" id="8482384">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="8482404">,</span>&nbsp;<span class="string" id="8482406">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="8482431">}</span><span class="op" id="8482432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8482438">for</span>&nbsp;<span class="ident" id="8482442">_</span><span class="op" id="8482443">,</span>&nbsp;<span class="ident" id="8482445">test</span>&nbsp;<span class="op" id="8482450">:=</span>&nbsp;<span class="keyword" id="8482453">range</span>&nbsp;<span class="ident" id="8482459">tests</span>&nbsp;<span class="op" id="8482465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8482469">if</span>&nbsp;<span class="ident" id="8482472">got</span>&nbsp;<span class="op" id="8482476">:=</span>&nbsp;<span class="ident" id="8482479">urlNormalizer</span><span class="op" id="8482492">(</span><span class="ident" id="8482493">test</span><span class="op" id="8482497">.</span><span class="ident" id="8482498">url</span><span class="op" id="8482501">)</span><span class="op" id="8482502">;</span>&nbsp;<span class="ident" id="8482504">test</span><span class="op" id="8482508">.</span><span class="ident" id="8482509">want</span>&nbsp;<span class="op" id="8482514">!=</span>&nbsp;<span class="ident" id="8482517">got</span>&nbsp;<span class="op" id="8482521">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8482526">t</span><span class="op" id="8482527">.</span><span class="ident" id="8482528">Errorf</span><span class="op" id="8482534">(</span><span class="string" id="8482535">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="8482566">,</span>&nbsp;<span class="ident" id="8482568">test</span><span class="op" id="8482572">.</span><span class="ident" id="8482573">url</span><span class="op" id="8482576">,</span>&nbsp;<span class="ident" id="8482578">test</span><span class="op" id="8482582">.</span><span class="ident" id="8482583">want</span><span class="op" id="8482587">,</span>&nbsp;<span class="ident" id="8482589">got</span><span class="op" id="8482592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8482600">if</span>&nbsp;<span class="ident" id="8482603">test</span><span class="op" id="8482607">.</span><span class="ident" id="8482608">want</span>&nbsp;<span class="op" id="8482613">!=</span>&nbsp;<span class="ident" id="8482616">urlNormalizer</span><span class="op" id="8482629">(</span><span class="ident" id="8482630">test</span><span class="op" id="8482634">.</span><span class="ident" id="8482635">want</span><span class="op" id="8482639">)</span>&nbsp;<span class="op" id="8482641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8482646">t</span><span class="op" id="8482647">.</span><span class="ident" id="8482648">Errorf</span><span class="op" id="8482654">(</span><span class="string" id="8482655">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="8482675">,</span>&nbsp;<span class="ident" id="8482677">test</span><span class="op" id="8482681">.</span><span class="ident" id="8482682">want</span><span class="op" id="8482686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482690">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8482693">}</span><br>
<span class="lineno"></span><span class="op" id="8482695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8482698">func</span>&nbsp;<span class="ident" id="8482703">TestURLFilters</span><span class="op" id="8482717">(</span><span class="ident" id="8482718">t</span>&nbsp;<span class="op" id="8482720">*</span><span class="ident" id="8482721">testing</span><span class="op" id="8482728">.</span><span class="ident" id="8482729">T</span><span class="op" id="8482730">)</span>&nbsp;<span class="op" id="8482732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8482735">input</span>&nbsp;<span class="op" id="8482741">:=</span>&nbsp;<span class="op" id="8482744">(</span><span class="string" id="8482745">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="8482806">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482810">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="8482877">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482881">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="8482900">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482904">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="8482923">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482927">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="8482946">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482950">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="8482969">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482973">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8482992">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8482996">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="8483018">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483022">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="8483064">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8483068">tests</span>&nbsp;<span class="op" id="8483074">:=</span>&nbsp;<span class="op" id="8483077">[</span><span class="op" id="8483078">]</span><span class="keyword" id="8483079">struct</span>&nbsp;<span class="op" id="8483086">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8483090">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8483098">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8483107">escaper</span>&nbsp;<span class="keyword" id="8483115">func</span><span class="op" id="8483119">(</span><span class="op" id="8483120">...</span><span class="keyword" id="8483123">interface</span><span class="op" id="8483132">{</span><span class="op" id="8483133">}</span><span class="op" id="8483134">)</span>&nbsp;<span class="builtintype" id="8483136">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8483145">escaped</span>&nbsp;<span class="builtintype" id="8483153">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8483161">}</span><span class="op" id="8483162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8483166">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483171">&#34;urlEscaper&#34;</span><span class="op" id="8483183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8483188">urlEscaper</span><span class="op" id="8483198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483203">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8483254">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483260">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8483311">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483317">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="8483364">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483370">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="8483401">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483407">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8483428">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483434">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="8483461">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483467">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8483488">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483494">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8483521">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483527">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8483580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8483584">}</span><span class="op" id="8483585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8483589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483594">&#34;urlNormalizer&#34;</span><span class="op" id="8483609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8483614">urlNormalizer</span><span class="op" id="8483627">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483632">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8483683">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483689">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8483740">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483746">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="8483777">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483783">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="8483806">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483812">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8483831">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483837">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="8483860">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483866">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8483887">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483893">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8483920">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8483926">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8483979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8483983">}</span><span class="op" id="8483984">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8483987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8483991">for</span>&nbsp;<span class="ident" id="8483995">_</span><span class="op" id="8483996">,</span>&nbsp;<span class="ident" id="8483998">test</span>&nbsp;<span class="op" id="8484003">:=</span>&nbsp;<span class="keyword" id="8484006">range</span>&nbsp;<span class="ident" id="8484012">tests</span>&nbsp;<span class="op" id="8484018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8484022">if</span>&nbsp;<span class="ident" id="8484025">s</span>&nbsp;<span class="op" id="8484027">:=</span>&nbsp;<span class="ident" id="8484030">test</span><span class="op" id="8484034">.</span><span class="ident" id="8484035">escaper</span><span class="op" id="8484042">(</span><span class="ident" id="8484043">input</span><span class="op" id="8484048">)</span><span class="op" id="8484049">;</span>&nbsp;<span class="ident" id="8484051">s</span>&nbsp;<span class="op" id="8484053">!=</span>&nbsp;<span class="ident" id="8484056">test</span><span class="op" id="8484060">.</span><span class="ident" id="8484061">escaped</span>&nbsp;<span class="op" id="8484069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8484074">t</span><span class="op" id="8484075">.</span><span class="ident" id="8484076">Errorf</span><span class="op" id="8484082">(</span><span class="string" id="8484083">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="8484110">,</span>&nbsp;<span class="ident" id="8484112">test</span><span class="op" id="8484116">.</span><span class="ident" id="8484117">name</span><span class="op" id="8484121">,</span>&nbsp;<span class="ident" id="8484123">test</span><span class="op" id="8484127">.</span><span class="ident" id="8484128">escaped</span><span class="op" id="8484135">,</span>&nbsp;<span class="ident" id="8484137">s</span><span class="op" id="8484138">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8484143">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8484154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8484157">}</span><br>
<span class="lineno"></span><span class="op" id="8484159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8484162">func</span>&nbsp;<span class="ident" id="8484167">BenchmarkURLEscaper</span><span class="op" id="8484186">(</span><span class="ident" id="8484187">b</span>&nbsp;<span class="op" id="8484189">*</span><span class="ident" id="8484190">testing</span><span class="op" id="8484197">.</span><span class="ident" id="8484198">B</span><span class="op" id="8484199">)</span>&nbsp;<span class="op" id="8484201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8484204">for</span>&nbsp;<span class="ident" id="8484208">i</span>&nbsp;<span class="op" id="8484210">:=</span>&nbsp;<span class="num" id="8484213">0</span><span class="op" id="8484214">;</span>&nbsp;<span class="ident" id="8484216">i</span>&nbsp;<span class="op" id="8484218">&lt;</span>&nbsp;<span class="ident" id="8484220">b</span><span class="op" id="8484221">.</span><span class="ident" id="8484222">N</span><span class="op" id="8484223">;</span>&nbsp;<span class="ident" id="8484225">i</span><span class="op" id="8484226">++</span>&nbsp;<span class="op" id="8484229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8484233">urlEscaper</span><span class="op" id="8484243">(</span><span class="string" id="8484244">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8484293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8484296">}</span><br>
<span class="lineno"></span><span class="op" id="8484298">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="8484301">func</span>&nbsp;<span class="ident" id="8484306">BenchmarkURLEscaperNoSpecials</span><span class="op" id="8484335">(</span><span class="ident" id="8484336">b</span>&nbsp;<span class="op" id="8484338">*</span><span class="ident" id="8484339">testing</span><span class="op" id="8484346">.</span><span class="ident" id="8484347">B</span><span class="op" id="8484348">)</span>&nbsp;<span class="op" id="8484350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8484353">for</span>&nbsp;<span class="ident" id="8484357">i</span>&nbsp;<span class="op" id="8484359">:=</span>&nbsp;<span class="num" id="8484362">0</span><span class="op" id="8484363">;</span>&nbsp;<span class="ident" id="8484365">i</span>&nbsp;<span class="op" id="8484367">&lt;</span>&nbsp;<span class="ident" id="8484369">b</span><span class="op" id="8484370">.</span><span class="ident" id="8484371">N</span><span class="op" id="8484372">;</span>&nbsp;<span class="ident" id="8484374">i</span><span class="op" id="8484375">++</span>&nbsp;<span class="op" id="8484378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8484382">urlEscaper</span><span class="op" id="8484392">(</span><span class="string" id="8484393">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="8484431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8484434">}</span><br>
<span class="lineno">100</span><span class="op" id="8484436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8484439">func</span>&nbsp;<span class="ident" id="8484444">BenchmarkURLNormalizer</span><span class="op" id="8484466">(</span><span class="ident" id="8484467">b</span>&nbsp;<span class="op" id="8484469">*</span><span class="ident" id="8484470">testing</span><span class="op" id="8484477">.</span><span class="ident" id="8484478">B</span><span class="op" id="8484479">)</span>&nbsp;<span class="op" id="8484481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8484484">for</span>&nbsp;<span class="ident" id="8484488">i</span>&nbsp;<span class="op" id="8484490">:=</span>&nbsp;<span class="num" id="8484493">0</span><span class="op" id="8484494">;</span>&nbsp;<span class="ident" id="8484496">i</span>&nbsp;<span class="op" id="8484498">&lt;</span>&nbsp;<span class="ident" id="8484500">b</span><span class="op" id="8484501">.</span><span class="ident" id="8484502">N</span><span class="op" id="8484503">;</span>&nbsp;<span class="ident" id="8484505">i</span><span class="op" id="8484506">++</span>&nbsp;<span class="op" id="8484509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8484513">urlNormalizer</span><span class="op" id="8484526">(</span><span class="string" id="8484527">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="8484575">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8484578">}</span><br>
<span class="lineno"></span><span class="op" id="8484580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8484583">func</span>&nbsp;<span class="ident" id="8484588">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="8484620">(</span><span class="ident" id="8484621">b</span>&nbsp;<span class="op" id="8484623">*</span><span class="ident" id="8484624">testing</span><span class="op" id="8484631">.</span><span class="ident" id="8484632">B</span><span class="op" id="8484633">)</span>&nbsp;<span class="op" id="8484635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8484638">for</span>&nbsp;<span class="ident" id="8484642">i</span>&nbsp;<span class="op" id="8484644">:=</span>&nbsp;<span class="num" id="8484647">0</span><span class="op" id="8484648">;</span>&nbsp;<span class="ident" id="8484650">i</span>&nbsp;<span class="op" id="8484652">&lt;</span>&nbsp;<span class="ident" id="8484654">b</span><span class="op" id="8484655">.</span><span class="ident" id="8484656">N</span><span class="op" id="8484657">;</span>&nbsp;<span class="ident" id="8484659">i</span><span class="op" id="8484660">++</span>&nbsp;<span class="op" id="8484663">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8484667">urlNormalizer</span><span class="op" id="8484680">(</span><span class="string" id="8484681">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8484730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8484733">}</span><br>
<span class="lineno"></span><span class="op" id="8484735">}</span>
</div>
</body>
</html>
