<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base32</h2>
<ul>
<li><a href="/gostd/encoding/base32/base32.go.html">base32.go</a></li>
<li><a href="/gostd/encoding/base32/base32_test.go.html" class="current">base32_test.go</a></li>
<li><a href="/gostd/encoding/base32/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6802172">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6802227">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6802281">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6802332">package</span>&nbsp;<span class="ident" id="6802340">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6802348">import</span>&nbsp;<span class="op" id="6802355">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6802358">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6802367">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6802373">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6802386">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6802397">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6802407">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6802410">type</span>&nbsp;<span class="ident" id="6802415">testpair</span>&nbsp;<span class="keyword" id="6802424">struct</span>&nbsp;<span class="op" id="6802431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6802434">decoded</span><span class="op" id="6802441">,</span>&nbsp;<span class="ident" id="6802443">encoded</span>&nbsp;<span class="builtintype" id="6802451">string</span><br>
<span class="lineno"></span><span class="op" id="6802458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6802461">var</span>&nbsp;<span class="ident" id="6802465">pairs</span>&nbsp;<span class="op" id="6802471">=</span>&nbsp;<span class="op" id="6802473">[</span><span class="op" id="6802474">]</span><span class="ident" id="6802475">testpair</span><span class="op" id="6802483">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6802486">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802508">{</span><span class="string" id="6802509">&#34;&#34;</span><span class="op" id="6802511">,</span>&nbsp;<span class="string" id="6802513">&#34;&#34;</span><span class="op" id="6802515">}</span><span class="op" id="6802516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802519">{</span><span class="string" id="6802520">&#34;f&#34;</span><span class="op" id="6802523">,</span>&nbsp;<span class="string" id="6802525">&#34;MY======&#34;</span><span class="op" id="6802535">}</span><span class="op" id="6802536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802539">{</span><span class="string" id="6802540">&#34;fo&#34;</span><span class="op" id="6802544">,</span>&nbsp;<span class="string" id="6802546">&#34;MZXQ====&#34;</span><span class="op" id="6802556">}</span><span class="op" id="6802557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802560">{</span><span class="string" id="6802561">&#34;foo&#34;</span><span class="op" id="6802566">,</span>&nbsp;<span class="string" id="6802568">&#34;MZXW6===&#34;</span><span class="op" id="6802578">}</span><span class="op" id="6802579">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802582">{</span><span class="string" id="6802583">&#34;foob&#34;</span><span class="op" id="6802589">,</span>&nbsp;<span class="string" id="6802591">&#34;MZXW6YQ=&#34;</span><span class="op" id="6802601">}</span><span class="op" id="6802602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802605">{</span><span class="string" id="6802606">&#34;fooba&#34;</span><span class="op" id="6802613">,</span>&nbsp;<span class="string" id="6802615">&#34;MZXW6YTB&#34;</span><span class="op" id="6802625">}</span><span class="op" id="6802626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802629">{</span><span class="string" id="6802630">&#34;foobar&#34;</span><span class="op" id="6802638">,</span>&nbsp;<span class="string" id="6802640">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="6802658">}</span><span class="op" id="6802659">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6802663">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802707">{</span><span class="string" id="6802708">&#34;sure.&#34;</span><span class="op" id="6802715">,</span>&nbsp;<span class="string" id="6802717">&#34;ON2XEZJO&#34;</span><span class="op" id="6802727">}</span><span class="op" id="6802728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802731">{</span><span class="string" id="6802732">&#34;sure&#34;</span><span class="op" id="6802738">,</span>&nbsp;<span class="string" id="6802740">&#34;ON2XEZI=&#34;</span><span class="op" id="6802750">}</span><span class="op" id="6802751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802754">{</span><span class="string" id="6802755">&#34;sur&#34;</span><span class="op" id="6802760">,</span>&nbsp;<span class="string" id="6802762">&#34;ON2XE===&#34;</span><span class="op" id="6802772">}</span><span class="op" id="6802773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802776">{</span><span class="string" id="6802777">&#34;su&#34;</span><span class="op" id="6802781">,</span>&nbsp;<span class="string" id="6802783">&#34;ON2Q====&#34;</span><span class="op" id="6802793">}</span><span class="op" id="6802794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802797">{</span><span class="string" id="6802798">&#34;leasure.&#34;</span><span class="op" id="6802808">,</span>&nbsp;<span class="string" id="6802810">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="6802828">}</span><span class="op" id="6802829">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802832">{</span><span class="string" id="6802833">&#34;easure.&#34;</span><span class="op" id="6802842">,</span>&nbsp;<span class="string" id="6802844">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="6802862">}</span><span class="op" id="6802863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802866">{</span><span class="string" id="6802867">&#34;asure.&#34;</span><span class="op" id="6802875">,</span>&nbsp;<span class="string" id="6802877">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="6802895">}</span><span class="op" id="6802896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6802899">{</span><span class="string" id="6802900">&#34;sure.&#34;</span><span class="op" id="6802907">,</span>&nbsp;<span class="string" id="6802909">&#34;ON2XEZJO&#34;</span><span class="op" id="6802919">}</span><span class="op" id="6802920">,</span><br>
<span class="lineno"></span><span class="op" id="6802922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6802925">var</span>&nbsp;<span class="ident" id="6802929">bigtest</span>&nbsp;<span class="op" id="6802937">=</span>&nbsp;<span class="ident" id="6802939">testpair</span><span class="op" id="6802947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6802950">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="6802986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6802989">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="6803047">,</span><br>
<span class="lineno"></span><span class="op" id="6803049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="6803052">func</span>&nbsp;<span class="ident" id="6803057">testEqual</span><span class="op" id="6803066">(</span><span class="ident" id="6803067">t</span>&nbsp;<span class="op" id="6803069">*</span><span class="ident" id="6803070">testing</span><span class="op" id="6803077">.</span><span class="ident" id="6803078">T</span><span class="op" id="6803079">,</span>&nbsp;<span class="ident" id="6803081">msg</span>&nbsp;<span class="builtintype" id="6803085">string</span><span class="op" id="6803091">,</span>&nbsp;<span class="ident" id="6803093">args</span>&nbsp;<span class="op" id="6803098">...</span><span class="keyword" id="6803101">interface</span><span class="op" id="6803110">{</span><span class="op" id="6803111">}</span><span class="op" id="6803112">)</span>&nbsp;<span class="builtintype" id="6803114">bool</span>&nbsp;<span class="op" id="6803119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6803122">if</span>&nbsp;<span class="ident" id="6803125">args</span><span class="op" id="6803129">[</span><span class="builtinfunc" id="6803130">len</span><span class="op" id="6803133">(</span><span class="ident" id="6803134">args</span><span class="op" id="6803138">)</span><span class="op" id="6803139">-</span><span class="num" id="6803140">2</span><span class="op" id="6803141">]</span>&nbsp;<span class="op" id="6803143">!=</span>&nbsp;<span class="ident" id="6803146">args</span><span class="op" id="6803150">[</span><span class="builtinfunc" id="6803151">len</span><span class="op" id="6803154">(</span><span class="ident" id="6803155">args</span><span class="op" id="6803159">)</span><span class="op" id="6803160">-</span><span class="num" id="6803161">1</span><span class="op" id="6803162">]</span>&nbsp;<span class="op" id="6803164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803168">t</span><span class="op" id="6803169">.</span><span class="ident" id="6803170">Errorf</span><span class="op" id="6803176">(</span><span class="ident" id="6803177">msg</span><span class="op" id="6803180">,</span>&nbsp;<span class="ident" id="6803182">args</span><span class="op" id="6803186">...</span><span class="op" id="6803189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6803193">return</span>&nbsp;<span class="builtintype" id="6803200">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6803207">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6803210">return</span>&nbsp;<span class="builtintype" id="6803217">true</span><br>
<span class="lineno"></span><span class="op" id="6803222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6803225">func</span>&nbsp;<span class="ident" id="6803230">TestEncode</span><span class="op" id="6803240">(</span><span class="ident" id="6803241">t</span>&nbsp;<span class="op" id="6803243">*</span><span class="ident" id="6803244">testing</span><span class="op" id="6803251">.</span><span class="ident" id="6803252">T</span><span class="op" id="6803253">)</span>&nbsp;<span class="op" id="6803255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6803258">for</span>&nbsp;<span class="ident" id="6803262">_</span><span class="op" id="6803263">,</span>&nbsp;<span class="ident" id="6803265">p</span>&nbsp;<span class="op" id="6803267">:=</span>&nbsp;<span class="keyword" id="6803270">range</span>&nbsp;<span class="ident" id="6803276">pairs</span>&nbsp;<span class="op" id="6803282">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803286">got</span>&nbsp;<span class="op" id="6803290">:=</span>&nbsp;<span class="ident" id="6803293">StdEncoding</span><span class="op" id="6803304">.</span><span class="ident" id="6803305">EncodeToString</span><span class="op" id="6803319">(</span><span class="op" id="6803320">[</span><span class="op" id="6803321">]</span><span class="builtintype" id="6803322">byte</span><span class="op" id="6803326">(</span><span class="ident" id="6803327">p</span><span class="op" id="6803328">.</span><span class="ident" id="6803329">decoded</span><span class="op" id="6803336">)</span><span class="op" id="6803337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803341">testEqual</span><span class="op" id="6803350">(</span><span class="ident" id="6803351">t</span><span class="op" id="6803352">,</span>&nbsp;<span class="string" id="6803354">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6803380">,</span>&nbsp;<span class="ident" id="6803382">p</span><span class="op" id="6803383">.</span><span class="ident" id="6803384">decoded</span><span class="op" id="6803391">,</span>&nbsp;<span class="ident" id="6803393">got</span><span class="op" id="6803396">,</span>&nbsp;<span class="ident" id="6803398">p</span><span class="op" id="6803399">.</span><span class="ident" id="6803400">encoded</span><span class="op" id="6803407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6803410">}</span><br>
<span class="lineno"></span><span class="op" id="6803412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6803415">func</span>&nbsp;<span class="ident" id="6803420">TestEncoder</span><span class="op" id="6803431">(</span><span class="ident" id="6803432">t</span>&nbsp;<span class="op" id="6803434">*</span><span class="ident" id="6803435">testing</span><span class="op" id="6803442">.</span><span class="ident" id="6803443">T</span><span class="op" id="6803444">)</span>&nbsp;<span class="op" id="6803446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6803449">for</span>&nbsp;<span class="ident" id="6803453">_</span><span class="op" id="6803454">,</span>&nbsp;<span class="ident" id="6803456">p</span>&nbsp;<span class="op" id="6803458">:=</span>&nbsp;<span class="keyword" id="6803461">range</span>&nbsp;<span class="ident" id="6803467">pairs</span>&nbsp;<span class="op" id="6803473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803477">bb</span>&nbsp;<span class="op" id="6803480">:=</span>&nbsp;<span class="op" id="6803483">&amp;</span><span class="ident" id="6803484">bytes</span><span class="op" id="6803489">.</span><span class="ident" id="6803490">Buffer</span><span class="op" id="6803496">{</span><span class="op" id="6803497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803501">encoder</span>&nbsp;<span class="op" id="6803509">:=</span>&nbsp;<span class="ident" id="6803512">NewEncoder</span><span class="op" id="6803522">(</span><span class="ident" id="6803523">StdEncoding</span><span class="op" id="6803534">,</span>&nbsp;<span class="ident" id="6803536">bb</span><span class="op" id="6803538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803542">encoder</span><span class="op" id="6803549">.</span><span class="ident" id="6803550">Write</span><span class="op" id="6803555">(</span><span class="op" id="6803556">[</span><span class="op" id="6803557">]</span><span class="builtintype" id="6803558">byte</span><span class="op" id="6803562">(</span><span class="ident" id="6803563">p</span><span class="op" id="6803564">.</span><span class="ident" id="6803565">decoded</span><span class="op" id="6803572">)</span><span class="op" id="6803573">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803577">encoder</span><span class="op" id="6803584">.</span><span class="ident" id="6803585">Close</span><span class="op" id="6803590">(</span><span class="op" id="6803591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803595">testEqual</span><span class="op" id="6803604">(</span><span class="ident" id="6803605">t</span><span class="op" id="6803606">,</span>&nbsp;<span class="string" id="6803608">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6803634">,</span>&nbsp;<span class="ident" id="6803636">p</span><span class="op" id="6803637">.</span><span class="ident" id="6803638">decoded</span><span class="op" id="6803645">,</span>&nbsp;<span class="ident" id="6803647">bb</span><span class="op" id="6803649">.</span><span class="ident" id="6803650">String</span><span class="op" id="6803656">(</span><span class="op" id="6803657">)</span><span class="op" id="6803658">,</span>&nbsp;<span class="ident" id="6803660">p</span><span class="op" id="6803661">.</span><span class="ident" id="6803662">encoded</span><span class="op" id="6803669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6803672">}</span><br>
<span class="lineno"></span><span class="op" id="6803674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6803677">func</span>&nbsp;<span class="ident" id="6803682">TestEncoderBuffering</span><span class="op" id="6803702">(</span><span class="ident" id="6803703">t</span>&nbsp;<span class="op" id="6803705">*</span><span class="ident" id="6803706">testing</span><span class="op" id="6803713">.</span><span class="ident" id="6803714">T</span><span class="op" id="6803715">)</span>&nbsp;<span class="op" id="6803717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803720">input</span>&nbsp;<span class="op" id="6803726">:=</span>&nbsp;<span class="op" id="6803729">[</span><span class="op" id="6803730">]</span><span class="builtintype" id="6803731">byte</span><span class="op" id="6803735">(</span><span class="ident" id="6803736">bigtest</span><span class="op" id="6803743">.</span><span class="ident" id="6803744">decoded</span><span class="op" id="6803751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6803754">for</span>&nbsp;<span class="ident" id="6803758">bs</span>&nbsp;<span class="op" id="6803761">:=</span>&nbsp;<span class="num" id="6803764">1</span><span class="op" id="6803765">;</span>&nbsp;<span class="ident" id="6803767">bs</span>&nbsp;<span class="op" id="6803770">&lt;=</span>&nbsp;<span class="num" id="6803773">12</span><span class="op" id="6803775">;</span>&nbsp;<span class="ident" id="6803777">bs</span><span class="op" id="6803779">++</span>&nbsp;<span class="op" id="6803782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803786">bb</span>&nbsp;<span class="op" id="6803789">:=</span>&nbsp;<span class="op" id="6803792">&amp;</span><span class="ident" id="6803793">bytes</span><span class="op" id="6803798">.</span><span class="ident" id="6803799">Buffer</span><span class="op" id="6803805">{</span><span class="op" id="6803806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803810">encoder</span>&nbsp;<span class="op" id="6803818">:=</span>&nbsp;<span class="ident" id="6803821">NewEncoder</span><span class="op" id="6803831">(</span><span class="ident" id="6803832">StdEncoding</span><span class="op" id="6803843">,</span>&nbsp;<span class="ident" id="6803845">bb</span><span class="op" id="6803847">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6803851">for</span>&nbsp;<span class="ident" id="6803855">pos</span>&nbsp;<span class="op" id="6803859">:=</span>&nbsp;<span class="num" id="6803862">0</span><span class="op" id="6803863">;</span>&nbsp;<span class="ident" id="6803865">pos</span>&nbsp;<span class="op" id="6803869">&lt;</span>&nbsp;<span class="builtinfunc" id="6803871">len</span><span class="op" id="6803874">(</span><span class="ident" id="6803875">input</span><span class="op" id="6803880">)</span><span class="op" id="6803881">;</span>&nbsp;<span class="ident" id="6803883">pos</span>&nbsp;<span class="op" id="6803887">+=</span>&nbsp;<span class="ident" id="6803890">bs</span>&nbsp;<span class="op" id="6803893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803898">end</span>&nbsp;<span class="op" id="6803902">:=</span>&nbsp;<span class="ident" id="6803905">pos</span>&nbsp;<span class="op" id="6803909">+</span>&nbsp;<span class="ident" id="6803911">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6803917">if</span>&nbsp;<span class="ident" id="6803920">end</span>&nbsp;<span class="op" id="6803924">&gt;</span>&nbsp;<span class="builtinfunc" id="6803926">len</span><span class="op" id="6803929">(</span><span class="ident" id="6803930">input</span><span class="op" id="6803935">)</span>&nbsp;<span class="op" id="6803937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803943">end</span>&nbsp;<span class="op" id="6803947">=</span>&nbsp;<span class="builtinfunc" id="6803949">len</span><span class="op" id="6803952">(</span><span class="ident" id="6803953">input</span><span class="op" id="6803958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6803963">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6803968">n</span><span class="op" id="6803969">,</span>&nbsp;<span class="ident" id="6803971">err</span>&nbsp;<span class="op" id="6803975">:=</span>&nbsp;<span class="ident" id="6803978">encoder</span><span class="op" id="6803985">.</span><span class="ident" id="6803986">Write</span><span class="op" id="6803991">(</span><span class="ident" id="6803992">input</span><span class="op" id="6803997">[</span><span class="ident" id="6803998">pos</span><span class="op" id="6804001">:</span><span class="ident" id="6804002">end</span><span class="op" id="6804005">]</span><span class="op" id="6804006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804011">testEqual</span><span class="op" id="6804020">(</span><span class="ident" id="6804021">t</span><span class="op" id="6804022">,</span>&nbsp;<span class="string" id="6804024">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6804058">,</span>&nbsp;<span class="ident" id="6804060">input</span><span class="op" id="6804065">[</span><span class="ident" id="6804066">pos</span><span class="op" id="6804069">:</span><span class="ident" id="6804070">end</span><span class="op" id="6804073">]</span><span class="op" id="6804074">,</span>&nbsp;<span class="ident" id="6804076">err</span><span class="op" id="6804079">,</span>&nbsp;<span class="builtintype" id="6804081">error</span><span class="op" id="6804086">(</span><span class="ident" id="6804087">nil</span><span class="op" id="6804090">)</span><span class="op" id="6804091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804096">testEqual</span><span class="op" id="6804105">(</span><span class="ident" id="6804106">t</span><span class="op" id="6804107">,</span>&nbsp;<span class="string" id="6804109">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6804144">,</span>&nbsp;<span class="ident" id="6804146">input</span><span class="op" id="6804151">[</span><span class="ident" id="6804152">pos</span><span class="op" id="6804155">:</span><span class="ident" id="6804156">end</span><span class="op" id="6804159">]</span><span class="op" id="6804160">,</span>&nbsp;<span class="ident" id="6804162">n</span><span class="op" id="6804163">,</span>&nbsp;<span class="ident" id="6804165">end</span><span class="op" id="6804168">-</span><span class="ident" id="6804169">pos</span><span class="op" id="6804172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6804176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804180">err</span>&nbsp;<span class="op" id="6804184">:=</span>&nbsp;<span class="ident" id="6804187">encoder</span><span class="op" id="6804194">.</span><span class="ident" id="6804195">Close</span><span class="op" id="6804200">(</span><span class="op" id="6804201">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804205">testEqual</span><span class="op" id="6804214">(</span><span class="ident" id="6804215">t</span><span class="op" id="6804216">,</span>&nbsp;<span class="string" id="6804218">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6804248">,</span>&nbsp;<span class="ident" id="6804250">err</span><span class="op" id="6804253">,</span>&nbsp;<span class="builtintype" id="6804255">error</span><span class="op" id="6804260">(</span><span class="ident" id="6804261">nil</span><span class="op" id="6804264">)</span><span class="op" id="6804265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804269">testEqual</span><span class="op" id="6804278">(</span><span class="ident" id="6804279">t</span><span class="op" id="6804280">,</span>&nbsp;<span class="string" id="6804282">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6804315">,</span>&nbsp;<span class="ident" id="6804317">bs</span><span class="op" id="6804319">,</span>&nbsp;<span class="ident" id="6804321">bigtest</span><span class="op" id="6804328">.</span><span class="ident" id="6804329">decoded</span><span class="op" id="6804336">,</span>&nbsp;<span class="ident" id="6804338">bb</span><span class="op" id="6804340">.</span><span class="ident" id="6804341">String</span><span class="op" id="6804347">(</span><span class="op" id="6804348">)</span><span class="op" id="6804349">,</span>&nbsp;<span class="ident" id="6804351">bigtest</span><span class="op" id="6804358">.</span><span class="ident" id="6804359">encoded</span><span class="op" id="6804366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6804369">}</span><br>
<span class="lineno"></span><span class="op" id="6804371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6804374">func</span>&nbsp;<span class="ident" id="6804379">TestDecode</span><span class="op" id="6804389">(</span><span class="ident" id="6804390">t</span>&nbsp;<span class="op" id="6804392">*</span><span class="ident" id="6804393">testing</span><span class="op" id="6804400">.</span><span class="ident" id="6804401">T</span><span class="op" id="6804402">)</span>&nbsp;<span class="op" id="6804404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6804407">for</span>&nbsp;<span class="ident" id="6804411">_</span><span class="op" id="6804412">,</span>&nbsp;<span class="ident" id="6804414">p</span>&nbsp;<span class="op" id="6804416">:=</span>&nbsp;<span class="keyword" id="6804419">range</span>&nbsp;<span class="ident" id="6804425">pairs</span>&nbsp;<span class="op" id="6804431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804435">dbuf</span>&nbsp;<span class="op" id="6804440">:=</span>&nbsp;<span class="builtinfunc" id="6804443">make</span><span class="op" id="6804447">(</span><span class="op" id="6804448">[</span><span class="op" id="6804449">]</span><span class="builtintype" id="6804450">byte</span><span class="op" id="6804454">,</span>&nbsp;<span class="ident" id="6804456">StdEncoding</span><span class="op" id="6804467">.</span><span class="ident" id="6804468">DecodedLen</span><span class="op" id="6804478">(</span><span class="builtinfunc" id="6804479">len</span><span class="op" id="6804482">(</span><span class="ident" id="6804483">p</span><span class="op" id="6804484">.</span><span class="ident" id="6804485">encoded</span><span class="op" id="6804492">)</span><span class="op" id="6804493">)</span><span class="op" id="6804494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804498">count</span><span class="op" id="6804503">,</span>&nbsp;<span class="ident" id="6804505">end</span><span class="op" id="6804508">,</span>&nbsp;<span class="ident" id="6804510">err</span>&nbsp;<span class="op" id="6804514">:=</span>&nbsp;<span class="ident" id="6804517">StdEncoding</span><span class="op" id="6804528">.</span><span class="ident" id="6804529">decode</span><span class="op" id="6804535">(</span><span class="ident" id="6804536">dbuf</span><span class="op" id="6804540">,</span>&nbsp;<span class="op" id="6804542">[</span><span class="op" id="6804543">]</span><span class="builtintype" id="6804544">byte</span><span class="op" id="6804548">(</span><span class="ident" id="6804549">p</span><span class="op" id="6804550">.</span><span class="ident" id="6804551">encoded</span><span class="op" id="6804558">)</span><span class="op" id="6804559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804563">testEqual</span><span class="op" id="6804572">(</span><span class="ident" id="6804573">t</span><span class="op" id="6804574">,</span>&nbsp;<span class="string" id="6804576">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6804608">,</span>&nbsp;<span class="ident" id="6804610">p</span><span class="op" id="6804611">.</span><span class="ident" id="6804612">encoded</span><span class="op" id="6804619">,</span>&nbsp;<span class="ident" id="6804621">err</span><span class="op" id="6804624">,</span>&nbsp;<span class="builtintype" id="6804626">error</span><span class="op" id="6804631">(</span><span class="ident" id="6804632">nil</span><span class="op" id="6804635">)</span><span class="op" id="6804636">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804640">testEqual</span><span class="op" id="6804649">(</span><span class="ident" id="6804650">t</span><span class="op" id="6804651">,</span>&nbsp;<span class="string" id="6804653">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6804686">,</span>&nbsp;<span class="ident" id="6804688">p</span><span class="op" id="6804689">.</span><span class="ident" id="6804690">encoded</span><span class="op" id="6804697">,</span>&nbsp;<span class="ident" id="6804699">count</span><span class="op" id="6804704">,</span>&nbsp;<span class="builtinfunc" id="6804706">len</span><span class="op" id="6804709">(</span><span class="ident" id="6804710">p</span><span class="op" id="6804711">.</span><span class="ident" id="6804712">decoded</span><span class="op" id="6804719">)</span><span class="op" id="6804720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6804724">if</span>&nbsp;<span class="builtinfunc" id="6804727">len</span><span class="op" id="6804730">(</span><span class="ident" id="6804731">p</span><span class="op" id="6804732">.</span><span class="ident" id="6804733">encoded</span><span class="op" id="6804740">)</span>&nbsp;<span class="op" id="6804742">&gt;</span>&nbsp;<span class="num" id="6804744">0</span>&nbsp;<span class="op" id="6804746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804751">testEqual</span><span class="op" id="6804760">(</span><span class="ident" id="6804761">t</span><span class="op" id="6804762">,</span>&nbsp;<span class="string" id="6804764">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6804794">,</span>&nbsp;<span class="ident" id="6804796">p</span><span class="op" id="6804797">.</span><span class="ident" id="6804798">encoded</span><span class="op" id="6804805">,</span>&nbsp;<span class="ident" id="6804807">end</span><span class="op" id="6804810">,</span>&nbsp;<span class="op" id="6804812">(</span><span class="ident" id="6804813">p</span><span class="op" id="6804814">.</span><span class="ident" id="6804815">encoded</span><span class="op" id="6804822">[</span><span class="builtinfunc" id="6804823">len</span><span class="op" id="6804826">(</span><span class="ident" id="6804827">p</span><span class="op" id="6804828">.</span><span class="ident" id="6804829">encoded</span><span class="op" id="6804836">)</span><span class="op" id="6804837">-</span><span class="num" id="6804838">1</span><span class="op" id="6804839">]</span>&nbsp;<span class="op" id="6804841">==</span>&nbsp;<span class="string" id="6804844">&#39;=&#39;</span><span class="op" id="6804847">)</span><span class="op" id="6804848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6804852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804856">testEqual</span><span class="op" id="6804865">(</span><span class="ident" id="6804866">t</span><span class="op" id="6804867">,</span>&nbsp;<span class="string" id="6804869">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6804895">,</span>&nbsp;<span class="ident" id="6804897">p</span><span class="op" id="6804898">.</span><span class="ident" id="6804899">encoded</span><span class="op" id="6804906">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6804911">string</span><span class="op" id="6804917">(</span><span class="ident" id="6804918">dbuf</span><span class="op" id="6804922">[</span><span class="num" id="6804923">0</span><span class="op" id="6804924">:</span><span class="ident" id="6804925">count</span><span class="op" id="6804930">]</span><span class="op" id="6804931">)</span><span class="op" id="6804932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804937">p</span><span class="op" id="6804938">.</span><span class="ident" id="6804939">decoded</span><span class="op" id="6804946">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6804951">dbuf</span><span class="op" id="6804955">,</span>&nbsp;<span class="ident" id="6804957">err</span>&nbsp;<span class="op" id="6804961">=</span>&nbsp;<span class="ident" id="6804963">StdEncoding</span><span class="op" id="6804974">.</span><span class="ident" id="6804975">DecodeString</span><span class="op" id="6804987">(</span><span class="ident" id="6804988">p</span><span class="op" id="6804989">.</span><span class="ident" id="6804990">encoded</span><span class="op" id="6804997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805001">testEqual</span><span class="op" id="6805010">(</span><span class="ident" id="6805011">t</span><span class="op" id="6805012">,</span>&nbsp;<span class="string" id="6805014">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6805052">,</span>&nbsp;<span class="ident" id="6805054">p</span><span class="op" id="6805055">.</span><span class="ident" id="6805056">encoded</span><span class="op" id="6805063">,</span>&nbsp;<span class="ident" id="6805065">err</span><span class="op" id="6805068">,</span>&nbsp;<span class="builtintype" id="6805070">error</span><span class="op" id="6805075">(</span><span class="ident" id="6805076">nil</span><span class="op" id="6805079">)</span><span class="op" id="6805080">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805084">testEqual</span><span class="op" id="6805093">(</span><span class="ident" id="6805094">t</span><span class="op" id="6805095">,</span>&nbsp;<span class="string" id="6805097">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6805129">,</span>&nbsp;<span class="ident" id="6805131">p</span><span class="op" id="6805132">.</span><span class="ident" id="6805133">encoded</span><span class="op" id="6805140">,</span>&nbsp;<span class="builtintype" id="6805142">string</span><span class="op" id="6805148">(</span><span class="ident" id="6805149">dbuf</span><span class="op" id="6805153">)</span><span class="op" id="6805154">,</span>&nbsp;<span class="ident" id="6805156">p</span><span class="op" id="6805157">.</span><span class="ident" id="6805158">decoded</span><span class="op" id="6805165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6805168">}</span><br>
<span class="lineno"></span><span class="op" id="6805170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6805173">func</span>&nbsp;<span class="ident" id="6805178">TestDecoder</span><span class="op" id="6805189">(</span><span class="ident" id="6805190">t</span>&nbsp;<span class="op" id="6805192">*</span><span class="ident" id="6805193">testing</span><span class="op" id="6805200">.</span><span class="ident" id="6805201">T</span><span class="op" id="6805202">)</span>&nbsp;<span class="op" id="6805204">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6805207">for</span>&nbsp;<span class="ident" id="6805211">_</span><span class="op" id="6805212">,</span>&nbsp;<span class="ident" id="6805214">p</span>&nbsp;<span class="op" id="6805216">:=</span>&nbsp;<span class="keyword" id="6805219">range</span>&nbsp;<span class="ident" id="6805225">pairs</span>&nbsp;<span class="op" id="6805231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805235">decoder</span>&nbsp;<span class="op" id="6805243">:=</span>&nbsp;<span class="ident" id="6805246">NewDecoder</span><span class="op" id="6805256">(</span><span class="ident" id="6805257">StdEncoding</span><span class="op" id="6805268">,</span>&nbsp;<span class="ident" id="6805270">strings</span><span class="op" id="6805277">.</span><span class="ident" id="6805278">NewReader</span><span class="op" id="6805287">(</span><span class="ident" id="6805288">p</span><span class="op" id="6805289">.</span><span class="ident" id="6805290">encoded</span><span class="op" id="6805297">)</span><span class="op" id="6805298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805302">dbuf</span>&nbsp;<span class="op" id="6805307">:=</span>&nbsp;<span class="builtinfunc" id="6805310">make</span><span class="op" id="6805314">(</span><span class="op" id="6805315">[</span><span class="op" id="6805316">]</span><span class="builtintype" id="6805317">byte</span><span class="op" id="6805321">,</span>&nbsp;<span class="ident" id="6805323">StdEncoding</span><span class="op" id="6805334">.</span><span class="ident" id="6805335">DecodedLen</span><span class="op" id="6805345">(</span><span class="builtinfunc" id="6805346">len</span><span class="op" id="6805349">(</span><span class="ident" id="6805350">p</span><span class="op" id="6805351">.</span><span class="ident" id="6805352">encoded</span><span class="op" id="6805359">)</span><span class="op" id="6805360">)</span><span class="op" id="6805361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805365">count</span><span class="op" id="6805370">,</span>&nbsp;<span class="ident" id="6805372">err</span>&nbsp;<span class="op" id="6805376">:=</span>&nbsp;<span class="ident" id="6805379">decoder</span><span class="op" id="6805386">.</span><span class="ident" id="6805387">Read</span><span class="op" id="6805391">(</span><span class="ident" id="6805392">dbuf</span><span class="op" id="6805396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6805400">if</span>&nbsp;<span class="ident" id="6805403">err</span>&nbsp;<span class="op" id="6805407">!=</span>&nbsp;<span class="ident" id="6805410">nil</span>&nbsp;<span class="op" id="6805414">&amp;&amp;</span>&nbsp;<span class="ident" id="6805417">err</span>&nbsp;<span class="op" id="6805421">!=</span>&nbsp;<span class="ident" id="6805424">io</span><span class="op" id="6805426">.</span><span class="ident" id="6805427">EOF</span>&nbsp;<span class="op" id="6805431">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805436">t</span><span class="op" id="6805437">.</span><span class="ident" id="6805438">Fatal</span><span class="op" id="6805443">(</span><span class="string" id="6805444">&#34;Read&nbsp;failed&#34;</span><span class="op" id="6805457">,</span>&nbsp;<span class="ident" id="6805459">err</span><span class="op" id="6805462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6805466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805470">testEqual</span><span class="op" id="6805479">(</span><span class="ident" id="6805480">t</span><span class="op" id="6805481">,</span>&nbsp;<span class="string" id="6805483">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6805518">,</span>&nbsp;<span class="ident" id="6805520">p</span><span class="op" id="6805521">.</span><span class="ident" id="6805522">encoded</span><span class="op" id="6805529">,</span>&nbsp;<span class="ident" id="6805531">count</span><span class="op" id="6805536">,</span>&nbsp;<span class="builtinfunc" id="6805538">len</span><span class="op" id="6805541">(</span><span class="ident" id="6805542">p</span><span class="op" id="6805543">.</span><span class="ident" id="6805544">decoded</span><span class="op" id="6805551">)</span><span class="op" id="6805552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805556">testEqual</span><span class="op" id="6805565">(</span><span class="ident" id="6805566">t</span><span class="op" id="6805567">,</span>&nbsp;<span class="string" id="6805569">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6805599">,</span>&nbsp;<span class="ident" id="6805601">p</span><span class="op" id="6805602">.</span><span class="ident" id="6805603">encoded</span><span class="op" id="6805610">,</span>&nbsp;<span class="builtintype" id="6805612">string</span><span class="op" id="6805618">(</span><span class="ident" id="6805619">dbuf</span><span class="op" id="6805623">[</span><span class="num" id="6805624">0</span><span class="op" id="6805625">:</span><span class="ident" id="6805626">count</span><span class="op" id="6805631">]</span><span class="op" id="6805632">)</span><span class="op" id="6805633">,</span>&nbsp;<span class="ident" id="6805635">p</span><span class="op" id="6805636">.</span><span class="ident" id="6805637">decoded</span><span class="op" id="6805644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6805648">if</span>&nbsp;<span class="ident" id="6805651">err</span>&nbsp;<span class="op" id="6805655">!=</span>&nbsp;<span class="ident" id="6805658">io</span><span class="op" id="6805660">.</span><span class="ident" id="6805661">EOF</span>&nbsp;<span class="op" id="6805665">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805670">count</span><span class="op" id="6805675">,</span>&nbsp;<span class="ident" id="6805677">err</span>&nbsp;<span class="op" id="6805681">=</span>&nbsp;<span class="ident" id="6805683">decoder</span><span class="op" id="6805690">.</span><span class="ident" id="6805691">Read</span><span class="op" id="6805695">(</span><span class="ident" id="6805696">dbuf</span><span class="op" id="6805700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6805704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805708">testEqual</span><span class="op" id="6805717">(</span><span class="ident" id="6805718">t</span><span class="op" id="6805719">,</span>&nbsp;<span class="string" id="6805721">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6805749">,</span>&nbsp;<span class="ident" id="6805751">p</span><span class="op" id="6805752">.</span><span class="ident" id="6805753">encoded</span><span class="op" id="6805760">,</span>&nbsp;<span class="ident" id="6805762">err</span><span class="op" id="6805765">,</span>&nbsp;<span class="ident" id="6805767">io</span><span class="op" id="6805769">.</span><span class="ident" id="6805770">EOF</span><span class="op" id="6805773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6805776">}</span><br>
<span class="lineno"></span><span class="op" id="6805778">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="6805781">func</span>&nbsp;<span class="ident" id="6805786">TestDecoderBuffering</span><span class="op" id="6805806">(</span><span class="ident" id="6805807">t</span>&nbsp;<span class="op" id="6805809">*</span><span class="ident" id="6805810">testing</span><span class="op" id="6805817">.</span><span class="ident" id="6805818">T</span><span class="op" id="6805819">)</span>&nbsp;<span class="op" id="6805821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6805824">for</span>&nbsp;<span class="ident" id="6805828">bs</span>&nbsp;<span class="op" id="6805831">:=</span>&nbsp;<span class="num" id="6805834">1</span><span class="op" id="6805835">;</span>&nbsp;<span class="ident" id="6805837">bs</span>&nbsp;<span class="op" id="6805840">&lt;=</span>&nbsp;<span class="num" id="6805843">12</span><span class="op" id="6805845">;</span>&nbsp;<span class="ident" id="6805847">bs</span><span class="op" id="6805849">++</span>&nbsp;<span class="op" id="6805852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805856">decoder</span>&nbsp;<span class="op" id="6805864">:=</span>&nbsp;<span class="ident" id="6805867">NewDecoder</span><span class="op" id="6805877">(</span><span class="ident" id="6805878">StdEncoding</span><span class="op" id="6805889">,</span>&nbsp;<span class="ident" id="6805891">strings</span><span class="op" id="6805898">.</span><span class="ident" id="6805899">NewReader</span><span class="op" id="6805908">(</span><span class="ident" id="6805909">bigtest</span><span class="op" id="6805916">.</span><span class="ident" id="6805917">encoded</span><span class="op" id="6805924">)</span><span class="op" id="6805925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6805929">buf</span>&nbsp;<span class="op" id="6805933">:=</span>&nbsp;<span class="builtinfunc" id="6805936">make</span><span class="op" id="6805940">(</span><span class="op" id="6805941">[</span><span class="op" id="6805942">]</span><span class="builtintype" id="6805943">byte</span><span class="op" id="6805947">,</span>&nbsp;<span class="builtinfunc" id="6805949">len</span><span class="op" id="6805952">(</span><span class="ident" id="6805953">bigtest</span><span class="op" id="6805960">.</span><span class="ident" id="6805961">decoded</span><span class="op" id="6805968">)</span><span class="op" id="6805969">+</span><span class="num" id="6805970">12</span><span class="op" id="6805972">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6805976">var</span>&nbsp;<span class="ident" id="6805980">total</span>&nbsp;<span class="builtintype" id="6805986">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6805992">for</span>&nbsp;<span class="ident" id="6805996">total</span>&nbsp;<span class="op" id="6806002">=</span>&nbsp;<span class="num" id="6806004">0</span><span class="op" id="6806005">;</span>&nbsp;<span class="ident" id="6806007">total</span>&nbsp;<span class="op" id="6806013">&lt;</span>&nbsp;<span class="builtinfunc" id="6806015">len</span><span class="op" id="6806018">(</span><span class="ident" id="6806019">bigtest</span><span class="op" id="6806026">.</span><span class="ident" id="6806027">decoded</span><span class="op" id="6806034">)</span><span class="op" id="6806035">;</span>&nbsp;<span class="op" id="6806037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806042">n</span><span class="op" id="6806043">,</span>&nbsp;<span class="ident" id="6806045">err</span>&nbsp;<span class="op" id="6806049">:=</span>&nbsp;<span class="ident" id="6806052">decoder</span><span class="op" id="6806059">.</span><span class="ident" id="6806060">Read</span><span class="op" id="6806064">(</span><span class="ident" id="6806065">buf</span><span class="op" id="6806068">[</span><span class="ident" id="6806069">total</span>&nbsp;<span class="op" id="6806075">:</span>&nbsp;<span class="ident" id="6806077">total</span><span class="op" id="6806082">+</span><span class="ident" id="6806083">bs</span><span class="op" id="6806085">]</span><span class="op" id="6806086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806091">testEqual</span><span class="op" id="6806100">(</span><span class="ident" id="6806101">t</span><span class="op" id="6806102">,</span>&nbsp;<span class="string" id="6806104">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="6806149">,</span>&nbsp;<span class="ident" id="6806151">bigtest</span><span class="op" id="6806158">.</span><span class="ident" id="6806159">encoded</span><span class="op" id="6806166">,</span>&nbsp;<span class="ident" id="6806168">total</span><span class="op" id="6806173">,</span>&nbsp;<span class="ident" id="6806175">n</span><span class="op" id="6806176">,</span>&nbsp;<span class="ident" id="6806178">err</span><span class="op" id="6806181">,</span>&nbsp;<span class="builtintype" id="6806183">error</span><span class="op" id="6806188">(</span><span class="ident" id="6806189">nil</span><span class="op" id="6806192">)</span><span class="op" id="6806193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806198">total</span>&nbsp;<span class="op" id="6806204">+=</span>&nbsp;<span class="ident" id="6806207">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806215">testEqual</span><span class="op" id="6806224">(</span><span class="ident" id="6806225">t</span><span class="op" id="6806226">,</span>&nbsp;<span class="string" id="6806228">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6806261">,</span>&nbsp;<span class="ident" id="6806263">bs</span><span class="op" id="6806265">,</span>&nbsp;<span class="ident" id="6806267">bigtest</span><span class="op" id="6806274">.</span><span class="ident" id="6806275">encoded</span><span class="op" id="6806282">,</span>&nbsp;<span class="builtintype" id="6806284">string</span><span class="op" id="6806290">(</span><span class="ident" id="6806291">buf</span><span class="op" id="6806294">[</span><span class="num" id="6806295">0</span><span class="op" id="6806296">:</span><span class="ident" id="6806297">total</span><span class="op" id="6806302">]</span><span class="op" id="6806303">)</span><span class="op" id="6806304">,</span>&nbsp;<span class="ident" id="6806306">bigtest</span><span class="op" id="6806313">.</span><span class="ident" id="6806314">decoded</span><span class="op" id="6806321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806324">}</span><br>
<span class="lineno"></span><span class="op" id="6806326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="6806329">func</span>&nbsp;<span class="ident" id="6806334">TestDecodeCorrupt</span><span class="op" id="6806351">(</span><span class="ident" id="6806352">t</span>&nbsp;<span class="op" id="6806354">*</span><span class="ident" id="6806355">testing</span><span class="op" id="6806362">.</span><span class="ident" id="6806363">T</span><span class="op" id="6806364">)</span>&nbsp;<span class="op" id="6806366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806369">testCases</span>&nbsp;<span class="op" id="6806379">:=</span>&nbsp;<span class="op" id="6806382">[</span><span class="op" id="6806383">]</span><span class="keyword" id="6806384">struct</span>&nbsp;<span class="op" id="6806391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806395">input</span>&nbsp;&nbsp;<span class="builtintype" id="6806402">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806411">offset</span>&nbsp;<span class="builtintype" id="6806418">int</span>&nbsp;<span class="comment" id="6806422">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806450">}</span><span class="op" id="6806451">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806455">{</span><span class="string" id="6806456">&#34;&#34;</span><span class="op" id="6806458">,</span>&nbsp;<span class="op" id="6806460">-</span><span class="num" id="6806461">1</span><span class="op" id="6806462">}</span><span class="op" id="6806463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806467">{</span><span class="string" id="6806468">&#34;!!!!&#34;</span><span class="op" id="6806474">,</span>&nbsp;<span class="num" id="6806476">0</span><span class="op" id="6806477">}</span><span class="op" id="6806478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806482">{</span><span class="string" id="6806483">&#34;x===&#34;</span><span class="op" id="6806489">,</span>&nbsp;<span class="num" id="6806491">0</span><span class="op" id="6806492">}</span><span class="op" id="6806493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806497">{</span><span class="string" id="6806498">&#34;AA=A====&#34;</span><span class="op" id="6806508">,</span>&nbsp;<span class="num" id="6806510">2</span><span class="op" id="6806511">}</span><span class="op" id="6806512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806516">{</span><span class="string" id="6806517">&#34;AAA=AAAA&#34;</span><span class="op" id="6806527">,</span>&nbsp;<span class="num" id="6806529">3</span><span class="op" id="6806530">}</span><span class="op" id="6806531">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806535">{</span><span class="string" id="6806536">&#34;MMMMMMMMM&#34;</span><span class="op" id="6806547">,</span>&nbsp;<span class="num" id="6806549">8</span><span class="op" id="6806550">}</span><span class="op" id="6806551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806555">{</span><span class="string" id="6806556">&#34;MMMMMM&#34;</span><span class="op" id="6806564">,</span>&nbsp;<span class="num" id="6806566">0</span><span class="op" id="6806567">}</span><span class="op" id="6806568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806572">{</span><span class="string" id="6806573">&#34;A=&#34;</span><span class="op" id="6806577">,</span>&nbsp;<span class="num" id="6806579">1</span><span class="op" id="6806580">}</span><span class="op" id="6806581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806585">{</span><span class="string" id="6806586">&#34;AA=&#34;</span><span class="op" id="6806591">,</span>&nbsp;<span class="num" id="6806593">3</span><span class="op" id="6806594">}</span><span class="op" id="6806595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806599">{</span><span class="string" id="6806600">&#34;AA==&#34;</span><span class="op" id="6806606">,</span>&nbsp;<span class="num" id="6806608">4</span><span class="op" id="6806609">}</span><span class="op" id="6806610">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806614">{</span><span class="string" id="6806615">&#34;AA===&#34;</span><span class="op" id="6806622">,</span>&nbsp;<span class="num" id="6806624">5</span><span class="op" id="6806625">}</span><span class="op" id="6806626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806630">{</span><span class="string" id="6806631">&#34;AAAA=&#34;</span><span class="op" id="6806638">,</span>&nbsp;<span class="num" id="6806640">5</span><span class="op" id="6806641">}</span><span class="op" id="6806642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806646">{</span><span class="string" id="6806647">&#34;AAAA==&#34;</span><span class="op" id="6806655">,</span>&nbsp;<span class="num" id="6806657">6</span><span class="op" id="6806658">}</span><span class="op" id="6806659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806663">{</span><span class="string" id="6806664">&#34;AAAAA=&#34;</span><span class="op" id="6806672">,</span>&nbsp;<span class="num" id="6806674">6</span><span class="op" id="6806675">}</span><span class="op" id="6806676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806680">{</span><span class="string" id="6806681">&#34;AAAAA==&#34;</span><span class="op" id="6806690">,</span>&nbsp;<span class="num" id="6806692">7</span><span class="op" id="6806693">}</span><span class="op" id="6806694">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806698">{</span><span class="string" id="6806699">&#34;A=======&#34;</span><span class="op" id="6806709">,</span>&nbsp;<span class="num" id="6806711">1</span><span class="op" id="6806712">}</span><span class="op" id="6806713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806717">{</span><span class="string" id="6806718">&#34;AA======&#34;</span><span class="op" id="6806728">,</span>&nbsp;<span class="op" id="6806730">-</span><span class="num" id="6806731">1</span><span class="op" id="6806732">}</span><span class="op" id="6806733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806737">{</span><span class="string" id="6806738">&#34;AAA=====&#34;</span><span class="op" id="6806748">,</span>&nbsp;<span class="num" id="6806750">3</span><span class="op" id="6806751">}</span><span class="op" id="6806752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806756">{</span><span class="string" id="6806757">&#34;AAAA====&#34;</span><span class="op" id="6806767">,</span>&nbsp;<span class="op" id="6806769">-</span><span class="num" id="6806770">1</span><span class="op" id="6806771">}</span><span class="op" id="6806772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806776">{</span><span class="string" id="6806777">&#34;AAAAA===&#34;</span><span class="op" id="6806787">,</span>&nbsp;<span class="op" id="6806789">-</span><span class="num" id="6806790">1</span><span class="op" id="6806791">}</span><span class="op" id="6806792">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806796">{</span><span class="string" id="6806797">&#34;AAAAAA==&#34;</span><span class="op" id="6806807">,</span>&nbsp;<span class="num" id="6806809">6</span><span class="op" id="6806810">}</span><span class="op" id="6806811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806815">{</span><span class="string" id="6806816">&#34;AAAAAAA=&#34;</span><span class="op" id="6806826">,</span>&nbsp;<span class="op" id="6806828">-</span><span class="num" id="6806829">1</span><span class="op" id="6806830">}</span><span class="op" id="6806831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806835">{</span><span class="string" id="6806836">&#34;AAAAAAAA&#34;</span><span class="op" id="6806846">,</span>&nbsp;<span class="op" id="6806848">-</span><span class="num" id="6806849">1</span><span class="op" id="6806850">}</span><span class="op" id="6806851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6806854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6806857">for</span>&nbsp;<span class="ident" id="6806861">_</span><span class="op" id="6806862">,</span>&nbsp;<span class="ident" id="6806864">tc</span>&nbsp;<span class="op" id="6806867">:=</span>&nbsp;<span class="keyword" id="6806870">range</span>&nbsp;<span class="ident" id="6806876">testCases</span>&nbsp;<span class="op" id="6806886">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806890">dbuf</span>&nbsp;<span class="op" id="6806895">:=</span>&nbsp;<span class="builtinfunc" id="6806898">make</span><span class="op" id="6806902">(</span><span class="op" id="6806903">[</span><span class="op" id="6806904">]</span><span class="builtintype" id="6806905">byte</span><span class="op" id="6806909">,</span>&nbsp;<span class="ident" id="6806911">StdEncoding</span><span class="op" id="6806922">.</span><span class="ident" id="6806923">DecodedLen</span><span class="op" id="6806933">(</span><span class="builtinfunc" id="6806934">len</span><span class="op" id="6806937">(</span><span class="ident" id="6806938">tc</span><span class="op" id="6806940">.</span><span class="ident" id="6806941">input</span><span class="op" id="6806946">)</span><span class="op" id="6806947">)</span><span class="op" id="6806948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6806952">_</span><span class="op" id="6806953">,</span>&nbsp;<span class="ident" id="6806955">err</span>&nbsp;<span class="op" id="6806959">:=</span>&nbsp;<span class="ident" id="6806962">StdEncoding</span><span class="op" id="6806973">.</span><span class="ident" id="6806974">Decode</span><span class="op" id="6806980">(</span><span class="ident" id="6806981">dbuf</span><span class="op" id="6806985">,</span>&nbsp;<span class="op" id="6806987">[</span><span class="op" id="6806988">]</span><span class="builtintype" id="6806989">byte</span><span class="op" id="6806993">(</span><span class="ident" id="6806994">tc</span><span class="op" id="6806996">.</span><span class="ident" id="6806997">input</span><span class="op" id="6807002">)</span><span class="op" id="6807003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807007">if</span>&nbsp;<span class="ident" id="6807010">tc</span><span class="op" id="6807012">.</span><span class="ident" id="6807013">offset</span>&nbsp;<span class="op" id="6807020">==</span>&nbsp;<span class="op" id="6807023">-</span><span class="num" id="6807024">1</span>&nbsp;<span class="op" id="6807026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807031">if</span>&nbsp;<span class="ident" id="6807034">err</span>&nbsp;<span class="op" id="6807038">!=</span>&nbsp;<span class="ident" id="6807041">nil</span>&nbsp;<span class="op" id="6807045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807051">t</span><span class="op" id="6807052">.</span><span class="ident" id="6807053">Error</span><span class="op" id="6807058">(</span><span class="string" id="6807059">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="6807098">,</span>&nbsp;<span class="ident" id="6807100">tc</span><span class="op" id="6807102">.</span><span class="ident" id="6807103">input</span><span class="op" id="6807108">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6807113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807118">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6807129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807133">switch</span>&nbsp;<span class="ident" id="6807140">err</span>&nbsp;<span class="op" id="6807144">:=</span>&nbsp;<span class="ident" id="6807147">err</span><span class="op" id="6807150">.</span><span class="op" id="6807151">(</span><span class="keyword" id="6807152">type</span><span class="op" id="6807156">)</span>&nbsp;<span class="op" id="6807158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807162">case</span>&nbsp;<span class="ident" id="6807167">CorruptInputError</span><span class="op" id="6807184">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807189">testEqual</span><span class="op" id="6807198">(</span><span class="ident" id="6807199">t</span><span class="op" id="6807200">,</span>&nbsp;<span class="string" id="6807202">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6807242">,</span>&nbsp;<span class="ident" id="6807244">tc</span><span class="op" id="6807246">.</span><span class="ident" id="6807247">input</span><span class="op" id="6807252">,</span>&nbsp;<span class="builtintype" id="6807254">int</span><span class="op" id="6807257">(</span><span class="ident" id="6807258">err</span><span class="op" id="6807261">)</span><span class="op" id="6807262">,</span>&nbsp;<span class="ident" id="6807264">tc</span><span class="op" id="6807266">.</span><span class="ident" id="6807267">offset</span><span class="op" id="6807273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807277">default</span><span class="op" id="6807284">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807289">t</span><span class="op" id="6807290">.</span><span class="ident" id="6807291">Error</span><span class="op" id="6807296">(</span><span class="string" id="6807297">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="6807337">,</span>&nbsp;<span class="ident" id="6807339">tc</span><span class="op" id="6807341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6807345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6807348">}</span><br>
<span class="lineno">185</span><span class="op" id="6807350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6807353">func</span>&nbsp;<span class="ident" id="6807358">TestBig</span><span class="op" id="6807365">(</span><span class="ident" id="6807366">t</span>&nbsp;<span class="op" id="6807368">*</span><span class="ident" id="6807369">testing</span><span class="op" id="6807376">.</span><span class="ident" id="6807377">T</span><span class="op" id="6807378">)</span>&nbsp;<span class="op" id="6807380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807383">n</span>&nbsp;<span class="op" id="6807385">:=</span>&nbsp;<span class="num" id="6807388">3</span><span class="op" id="6807389">*</span><span class="num" id="6807390">1000</span>&nbsp;<span class="op" id="6807395">+</span>&nbsp;<span class="num" id="6807397">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807400">raw</span>&nbsp;<span class="op" id="6807404">:=</span>&nbsp;<span class="builtinfunc" id="6807407">make</span><span class="op" id="6807411">(</span><span class="op" id="6807412">[</span><span class="op" id="6807413">]</span><span class="builtintype" id="6807414">byte</span><span class="op" id="6807418">,</span>&nbsp;<span class="ident" id="6807420">n</span><span class="op" id="6807421">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807424">const</span>&nbsp;<span class="ident" id="6807430">alpha</span>&nbsp;<span class="op" id="6807436">=</span>&nbsp;<span class="string" id="6807438">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807504">for</span>&nbsp;<span class="ident" id="6807508">i</span>&nbsp;<span class="op" id="6807510">:=</span>&nbsp;<span class="num" id="6807513">0</span><span class="op" id="6807514">;</span>&nbsp;<span class="ident" id="6807516">i</span>&nbsp;<span class="op" id="6807518">&lt;</span>&nbsp;<span class="ident" id="6807520">n</span><span class="op" id="6807521">;</span>&nbsp;<span class="ident" id="6807523">i</span><span class="op" id="6807524">++</span>&nbsp;<span class="op" id="6807527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807531">raw</span><span class="op" id="6807534">[</span><span class="ident" id="6807535">i</span><span class="op" id="6807536">]</span>&nbsp;<span class="op" id="6807538">=</span>&nbsp;<span class="ident" id="6807540">alpha</span><span class="op" id="6807545">[</span><span class="ident" id="6807546">i</span><span class="op" id="6807547">%</span><span class="builtinfunc" id="6807548">len</span><span class="op" id="6807551">(</span><span class="ident" id="6807552">alpha</span><span class="op" id="6807557">)</span><span class="op" id="6807558">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6807561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807564">encoded</span>&nbsp;<span class="op" id="6807572">:=</span>&nbsp;<span class="builtinfunc" id="6807575">new</span><span class="op" id="6807578">(</span><span class="ident" id="6807579">bytes</span><span class="op" id="6807584">.</span><span class="ident" id="6807585">Buffer</span><span class="op" id="6807591">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807594">w</span>&nbsp;<span class="op" id="6807596">:=</span>&nbsp;<span class="ident" id="6807599">NewEncoder</span><span class="op" id="6807609">(</span><span class="ident" id="6807610">StdEncoding</span><span class="op" id="6807621">,</span>&nbsp;<span class="ident" id="6807623">encoded</span><span class="op" id="6807630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807633">nn</span><span class="op" id="6807635">,</span>&nbsp;<span class="ident" id="6807637">err</span>&nbsp;<span class="op" id="6807641">:=</span>&nbsp;<span class="ident" id="6807644">w</span><span class="op" id="6807645">.</span><span class="ident" id="6807646">Write</span><span class="op" id="6807651">(</span><span class="ident" id="6807652">raw</span><span class="op" id="6807655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807658">if</span>&nbsp;<span class="ident" id="6807661">nn</span>&nbsp;<span class="op" id="6807664">!=</span>&nbsp;<span class="ident" id="6807667">n</span>&nbsp;<span class="op" id="6807669">||</span>&nbsp;<span class="ident" id="6807672">err</span>&nbsp;<span class="op" id="6807676">!=</span>&nbsp;<span class="ident" id="6807679">nil</span>&nbsp;<span class="op" id="6807683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807687">t</span><span class="op" id="6807688">.</span><span class="ident" id="6807689">Fatalf</span><span class="op" id="6807695">(</span><span class="string" id="6807696">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="6807738">,</span>&nbsp;<span class="ident" id="6807740">nn</span><span class="op" id="6807742">,</span>&nbsp;<span class="ident" id="6807744">err</span><span class="op" id="6807747">,</span>&nbsp;<span class="ident" id="6807749">n</span><span class="op" id="6807750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6807753">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807756">err</span>&nbsp;<span class="op" id="6807760">=</span>&nbsp;<span class="ident" id="6807762">w</span><span class="op" id="6807763">.</span><span class="ident" id="6807764">Close</span><span class="op" id="6807769">(</span><span class="op" id="6807770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807773">if</span>&nbsp;<span class="ident" id="6807776">err</span>&nbsp;<span class="op" id="6807780">!=</span>&nbsp;<span class="ident" id="6807783">nil</span>&nbsp;<span class="op" id="6807787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807791">t</span><span class="op" id="6807792">.</span><span class="ident" id="6807793">Fatalf</span><span class="op" id="6807799">(</span><span class="string" id="6807800">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="6807831">,</span>&nbsp;<span class="ident" id="6807833">err</span><span class="op" id="6807836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6807839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807842">decoded</span><span class="op" id="6807849">,</span>&nbsp;<span class="ident" id="6807851">err</span>&nbsp;<span class="op" id="6807855">:=</span>&nbsp;<span class="ident" id="6807858">ioutil</span><span class="op" id="6807864">.</span><span class="ident" id="6807865">ReadAll</span><span class="op" id="6807872">(</span><span class="ident" id="6807873">NewDecoder</span><span class="op" id="6807883">(</span><span class="ident" id="6807884">StdEncoding</span><span class="op" id="6807895">,</span>&nbsp;<span class="ident" id="6807897">encoded</span><span class="op" id="6807904">)</span><span class="op" id="6807905">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807908">if</span>&nbsp;<span class="ident" id="6807911">err</span>&nbsp;<span class="op" id="6807915">!=</span>&nbsp;<span class="ident" id="6807918">nil</span>&nbsp;<span class="op" id="6807922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6807926">t</span><span class="op" id="6807927">.</span><span class="ident" id="6807928">Fatalf</span><span class="op" id="6807934">(</span><span class="string" id="6807935">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="6807972">,</span>&nbsp;<span class="ident" id="6807974">err</span><span class="op" id="6807977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6807980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6807984">if</span>&nbsp;<span class="op" id="6807987">!</span><span class="ident" id="6807988">bytes</span><span class="op" id="6807993">.</span><span class="ident" id="6807994">Equal</span><span class="op" id="6807999">(</span><span class="ident" id="6808000">raw</span><span class="op" id="6808003">,</span>&nbsp;<span class="ident" id="6808005">decoded</span><span class="op" id="6808012">)</span>&nbsp;<span class="op" id="6808014">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808018">var</span>&nbsp;<span class="ident" id="6808022">i</span>&nbsp;<span class="builtintype" id="6808024">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808030">for</span>&nbsp;<span class="ident" id="6808034">i</span>&nbsp;<span class="op" id="6808036">=</span>&nbsp;<span class="num" id="6808038">0</span><span class="op" id="6808039">;</span>&nbsp;<span class="ident" id="6808041">i</span>&nbsp;<span class="op" id="6808043">&lt;</span>&nbsp;<span class="builtinfunc" id="6808045">len</span><span class="op" id="6808048">(</span><span class="ident" id="6808049">decoded</span><span class="op" id="6808056">)</span>&nbsp;<span class="op" id="6808058">&amp;&amp;</span>&nbsp;<span class="ident" id="6808061">i</span>&nbsp;<span class="op" id="6808063">&lt;</span>&nbsp;<span class="builtinfunc" id="6808065">len</span><span class="op" id="6808068">(</span><span class="ident" id="6808069">raw</span><span class="op" id="6808072">)</span><span class="op" id="6808073">;</span>&nbsp;<span class="ident" id="6808075">i</span><span class="op" id="6808076">++</span>&nbsp;<span class="op" id="6808079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808084">if</span>&nbsp;<span class="ident" id="6808087">decoded</span><span class="op" id="6808094">[</span><span class="ident" id="6808095">i</span><span class="op" id="6808096">]</span>&nbsp;<span class="op" id="6808098">!=</span>&nbsp;<span class="ident" id="6808101">raw</span><span class="op" id="6808104">[</span><span class="ident" id="6808105">i</span><span class="op" id="6808106">]</span>&nbsp;<span class="op" id="6808108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808114">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808123">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808131">t</span><span class="op" id="6808132">.</span><span class="ident" id="6808133">Errorf</span><span class="op" id="6808139">(</span><span class="string" id="6808140">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="6808192">,</span>&nbsp;<span class="ident" id="6808194">n</span><span class="op" id="6808195">,</span>&nbsp;<span class="ident" id="6808197">i</span><span class="op" id="6808198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808201">}</span><br>
<span class="lineno"></span><span class="op" id="6808203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="6808206">func</span>&nbsp;<span class="ident" id="6808211">testStringEncoding</span><span class="op" id="6808229">(</span><span class="ident" id="6808230">t</span>&nbsp;<span class="op" id="6808232">*</span><span class="ident" id="6808233">testing</span><span class="op" id="6808240">.</span><span class="ident" id="6808241">T</span><span class="op" id="6808242">,</span>&nbsp;<span class="ident" id="6808244">expected</span>&nbsp;<span class="builtintype" id="6808253">string</span><span class="op" id="6808259">,</span>&nbsp;<span class="ident" id="6808261">examples</span>&nbsp;<span class="op" id="6808270">[</span><span class="op" id="6808271">]</span><span class="builtintype" id="6808272">string</span><span class="op" id="6808278">)</span>&nbsp;<span class="op" id="6808280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808283">for</span>&nbsp;<span class="ident" id="6808287">_</span><span class="op" id="6808288">,</span>&nbsp;<span class="ident" id="6808290">e</span>&nbsp;<span class="op" id="6808292">:=</span>&nbsp;<span class="keyword" id="6808295">range</span>&nbsp;<span class="ident" id="6808301">examples</span>&nbsp;<span class="op" id="6808310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808314">buf</span><span class="op" id="6808317">,</span>&nbsp;<span class="ident" id="6808319">err</span>&nbsp;<span class="op" id="6808323">:=</span>&nbsp;<span class="ident" id="6808326">StdEncoding</span><span class="op" id="6808337">.</span><span class="ident" id="6808338">DecodeString</span><span class="op" id="6808350">(</span><span class="ident" id="6808351">e</span><span class="op" id="6808352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808356">if</span>&nbsp;<span class="ident" id="6808359">err</span>&nbsp;<span class="op" id="6808363">!=</span>&nbsp;<span class="ident" id="6808366">nil</span>&nbsp;<span class="op" id="6808370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808375">t</span><span class="op" id="6808376">.</span><span class="ident" id="6808377">Errorf</span><span class="op" id="6808383">(</span><span class="string" id="6808384">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6808407">,</span>&nbsp;<span class="ident" id="6808409">e</span><span class="op" id="6808410">,</span>&nbsp;<span class="ident" id="6808412">err</span><span class="op" id="6808415">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808420">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6808435">if</span>&nbsp;<span class="ident" id="6808438">s</span>&nbsp;<span class="op" id="6808440">:=</span>&nbsp;<span class="builtintype" id="6808443">string</span><span class="op" id="6808449">(</span><span class="ident" id="6808450">buf</span><span class="op" id="6808453">)</span><span class="op" id="6808454">;</span>&nbsp;<span class="ident" id="6808456">s</span>&nbsp;<span class="op" id="6808458">!=</span>&nbsp;<span class="ident" id="6808461">expected</span>&nbsp;<span class="op" id="6808470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808475">t</span><span class="op" id="6808476">.</span><span class="ident" id="6808477">Errorf</span><span class="op" id="6808483">(</span><span class="string" id="6808484">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6808510">,</span>&nbsp;<span class="ident" id="6808512">e</span><span class="op" id="6808513">,</span>&nbsp;<span class="ident" id="6808515">s</span><span class="op" id="6808516">,</span>&nbsp;<span class="ident" id="6808518">expected</span><span class="op" id="6808526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808530">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808533">}</span><br>
<span class="lineno"></span><span class="op" id="6808535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6808538">func</span>&nbsp;<span class="ident" id="6808543">TestNewLineCharacters</span><span class="op" id="6808564">(</span><span class="ident" id="6808565">t</span>&nbsp;<span class="op" id="6808567">*</span><span class="ident" id="6808568">testing</span><span class="op" id="6808575">.</span><span class="ident" id="6808576">T</span><span class="op" id="6808577">)</span>&nbsp;<span class="op" id="6808579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6808582">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808652">examples</span>&nbsp;<span class="op" id="6808661">:=</span>&nbsp;<span class="op" id="6808664">[</span><span class="op" id="6808665">]</span><span class="builtintype" id="6808666">string</span><span class="op" id="6808672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808676">&#34;ON2XEZI=&#34;</span><span class="op" id="6808686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808690">&#34;ON2XEZI=\r&#34;</span><span class="op" id="6808702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808706">&#34;ON2XEZI=\n&#34;</span><span class="op" id="6808718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808722">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="6808736">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808740">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="6808754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808758">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="6808772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808776">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="6808790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808794">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="6808806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808810">&#34;ON2XEZI\n=&#34;</span><span class="op" id="6808822">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6808825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808828">testStringEncoding</span><span class="op" id="6808846">(</span><span class="ident" id="6808847">t</span><span class="op" id="6808848">,</span>&nbsp;<span class="string" id="6808850">&#34;sure&#34;</span><span class="op" id="6808856">,</span>&nbsp;<span class="ident" id="6808858">examples</span><span class="op" id="6808866">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6808870">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6808942">examples</span>&nbsp;<span class="op" id="6808951">=</span>&nbsp;<span class="op" id="6808953">[</span><span class="op" id="6808954">]</span><span class="builtintype" id="6808955">string</span><span class="op" id="6808961">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808965">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="6808983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6808987">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="6809009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6809012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6809015">testStringEncoding</span><span class="op" id="6809033">(</span><span class="ident" id="6809034">t</span><span class="op" id="6809035">,</span>&nbsp;<span class="string" id="6809037">&#34;foobar&#34;</span><span class="op" id="6809045">,</span>&nbsp;<span class="ident" id="6809047">examples</span><span class="op" id="6809055">)</span><br>
<span class="lineno"></span><span class="op" id="6809057">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="6809060">func</span>&nbsp;<span class="ident" id="6809065">TestDecoderIssue4779</span><span class="op" id="6809085">(</span><span class="ident" id="6809086">t</span>&nbsp;<span class="op" id="6809088">*</span><span class="ident" id="6809089">testing</span><span class="op" id="6809096">.</span><span class="ident" id="6809097">T</span><span class="op" id="6809098">)</span>&nbsp;<span class="op" id="6809100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6809103">encoded</span>&nbsp;<span class="op" id="6809111">:=</span>&nbsp;<span class="string" id="6809114">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6809848">encodedShort</span>&nbsp;<span class="op" id="6809861">:=</span>&nbsp;<span class="ident" id="6809864">strings</span><span class="op" id="6809871">.</span><span class="ident" id="6809872">Replace</span><span class="op" id="6809879">(</span><span class="ident" id="6809880">encoded</span><span class="op" id="6809887">,</span>&nbsp;<span class="string" id="6809889">&#34;\n&#34;</span><span class="op" id="6809893">,</span>&nbsp;<span class="string" id="6809895">&#34;&#34;</span><span class="op" id="6809897">,</span>&nbsp;<span class="op" id="6809899">-</span><span class="num" id="6809900">1</span><span class="op" id="6809901">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6809905">dec</span>&nbsp;<span class="op" id="6809909">:=</span>&nbsp;<span class="ident" id="6809912">NewDecoder</span><span class="op" id="6809922">(</span><span class="ident" id="6809923">StdEncoding</span><span class="op" id="6809934">,</span>&nbsp;<span class="ident" id="6809936">strings</span><span class="op" id="6809943">.</span><span class="ident" id="6809944">NewReader</span><span class="op" id="6809953">(</span><span class="ident" id="6809954">encoded</span><span class="op" id="6809961">)</span><span class="op" id="6809962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6809965">res1</span><span class="op" id="6809969">,</span>&nbsp;<span class="ident" id="6809971">err</span>&nbsp;<span class="op" id="6809975">:=</span>&nbsp;<span class="ident" id="6809978">ioutil</span><span class="op" id="6809984">.</span><span class="ident" id="6809985">ReadAll</span><span class="op" id="6809992">(</span><span class="ident" id="6809993">dec</span><span class="op" id="6809996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6809999">if</span>&nbsp;<span class="ident" id="6810002">err</span>&nbsp;<span class="op" id="6810006">!=</span>&nbsp;<span class="ident" id="6810009">nil</span>&nbsp;<span class="op" id="6810013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810017">t</span><span class="op" id="6810018">.</span><span class="ident" id="6810019">Errorf</span><span class="op" id="6810025">(</span><span class="string" id="6810026">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6810046">,</span>&nbsp;<span class="ident" id="6810048">err</span><span class="op" id="6810051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6810054">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810058">dec</span>&nbsp;<span class="op" id="6810062">=</span>&nbsp;<span class="ident" id="6810064">NewDecoder</span><span class="op" id="6810074">(</span><span class="ident" id="6810075">StdEncoding</span><span class="op" id="6810086">,</span>&nbsp;<span class="ident" id="6810088">strings</span><span class="op" id="6810095">.</span><span class="ident" id="6810096">NewReader</span><span class="op" id="6810105">(</span><span class="ident" id="6810106">encodedShort</span><span class="op" id="6810118">)</span><span class="op" id="6810119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6810122">var</span>&nbsp;<span class="ident" id="6810126">res2</span>&nbsp;<span class="op" id="6810131">[</span><span class="op" id="6810132">]</span><span class="builtintype" id="6810133">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810139">res2</span><span class="op" id="6810143">,</span>&nbsp;<span class="ident" id="6810145">err</span>&nbsp;<span class="op" id="6810149">=</span>&nbsp;<span class="ident" id="6810151">ioutil</span><span class="op" id="6810157">.</span><span class="ident" id="6810158">ReadAll</span><span class="op" id="6810165">(</span><span class="ident" id="6810166">dec</span><span class="op" id="6810169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6810172">if</span>&nbsp;<span class="ident" id="6810175">err</span>&nbsp;<span class="op" id="6810179">!=</span>&nbsp;<span class="ident" id="6810182">nil</span>&nbsp;<span class="op" id="6810186">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810190">t</span><span class="op" id="6810191">.</span><span class="ident" id="6810192">Errorf</span><span class="op" id="6810198">(</span><span class="string" id="6810199">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6810219">,</span>&nbsp;<span class="ident" id="6810221">err</span><span class="op" id="6810224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6810227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6810231">if</span>&nbsp;<span class="op" id="6810234">!</span><span class="ident" id="6810235">bytes</span><span class="op" id="6810240">.</span><span class="ident" id="6810241">Equal</span><span class="op" id="6810246">(</span><span class="ident" id="6810247">res1</span><span class="op" id="6810251">,</span>&nbsp;<span class="ident" id="6810253">res2</span><span class="op" id="6810257">)</span>&nbsp;<span class="op" id="6810259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810263">t</span><span class="op" id="6810264">.</span><span class="ident" id="6810265">Error</span><span class="op" id="6810270">(</span><span class="string" id="6810271">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="6810298">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6810301">}</span><br>
<span class="lineno"></span><span class="op" id="6810303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6810306">func</span>&nbsp;<span class="ident" id="6810311">BenchmarkEncodeToString</span><span class="op" id="6810334">(</span><span class="ident" id="6810335">b</span>&nbsp;<span class="op" id="6810337">*</span><span class="ident" id="6810338">testing</span><span class="op" id="6810345">.</span><span class="ident" id="6810346">B</span><span class="op" id="6810347">)</span>&nbsp;<span class="op" id="6810349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810352">data</span>&nbsp;<span class="op" id="6810357">:=</span>&nbsp;<span class="builtinfunc" id="6810360">make</span><span class="op" id="6810364">(</span><span class="op" id="6810365">[</span><span class="op" id="6810366">]</span><span class="builtintype" id="6810367">byte</span><span class="op" id="6810371">,</span>&nbsp;<span class="num" id="6810373">8192</span><span class="op" id="6810377">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810380">b</span><span class="op" id="6810381">.</span><span class="ident" id="6810382">SetBytes</span><span class="op" id="6810390">(</span><span class="ident" id="6810391">int64</span><span class="op" id="6810396">(</span><span class="builtinfunc" id="6810397">len</span><span class="op" id="6810400">(</span><span class="ident" id="6810401">data</span><span class="op" id="6810405">)</span><span class="op" id="6810406">)</span><span class="op" id="6810407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6810410">for</span>&nbsp;<span class="ident" id="6810414">i</span>&nbsp;<span class="op" id="6810416">:=</span>&nbsp;<span class="num" id="6810419">0</span><span class="op" id="6810420">;</span>&nbsp;<span class="ident" id="6810422">i</span>&nbsp;<span class="op" id="6810424">&lt;</span>&nbsp;<span class="ident" id="6810426">b</span><span class="op" id="6810427">.</span><span class="ident" id="6810428">N</span><span class="op" id="6810429">;</span>&nbsp;<span class="ident" id="6810431">i</span><span class="op" id="6810432">++</span>&nbsp;<span class="op" id="6810435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810439">StdEncoding</span><span class="op" id="6810450">.</span><span class="ident" id="6810451">EncodeToString</span><span class="op" id="6810465">(</span><span class="ident" id="6810466">data</span><span class="op" id="6810470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6810473">}</span><br>
<span class="lineno"></span><span class="op" id="6810475">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="6810478">func</span>&nbsp;<span class="ident" id="6810483">BenchmarkDecodeString</span><span class="op" id="6810504">(</span><span class="ident" id="6810505">b</span>&nbsp;<span class="op" id="6810507">*</span><span class="ident" id="6810508">testing</span><span class="op" id="6810515">.</span><span class="ident" id="6810516">B</span><span class="op" id="6810517">)</span>&nbsp;<span class="op" id="6810519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810522">data</span>&nbsp;<span class="op" id="6810527">:=</span>&nbsp;<span class="ident" id="6810530">StdEncoding</span><span class="op" id="6810541">.</span><span class="ident" id="6810542">EncodeToString</span><span class="op" id="6810556">(</span><span class="builtinfunc" id="6810557">make</span><span class="op" id="6810561">(</span><span class="op" id="6810562">[</span><span class="op" id="6810563">]</span><span class="builtintype" id="6810564">byte</span><span class="op" id="6810568">,</span>&nbsp;<span class="num" id="6810570">8192</span><span class="op" id="6810574">)</span><span class="op" id="6810575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810578">b</span><span class="op" id="6810579">.</span><span class="ident" id="6810580">SetBytes</span><span class="op" id="6810588">(</span><span class="ident" id="6810589">int64</span><span class="op" id="6810594">(</span><span class="builtinfunc" id="6810595">len</span><span class="op" id="6810598">(</span><span class="ident" id="6810599">data</span><span class="op" id="6810603">)</span><span class="op" id="6810604">)</span><span class="op" id="6810605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6810608">for</span>&nbsp;<span class="ident" id="6810612">i</span>&nbsp;<span class="op" id="6810614">:=</span>&nbsp;<span class="num" id="6810617">0</span><span class="op" id="6810618">;</span>&nbsp;<span class="ident" id="6810620">i</span>&nbsp;<span class="op" id="6810622">&lt;</span>&nbsp;<span class="ident" id="6810624">b</span><span class="op" id="6810625">.</span><span class="ident" id="6810626">N</span><span class="op" id="6810627">;</span>&nbsp;<span class="ident" id="6810629">i</span><span class="op" id="6810630">++</span>&nbsp;<span class="op" id="6810633">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6810637">StdEncoding</span><span class="op" id="6810648">.</span><span class="ident" id="6810649">DecodeString</span><span class="op" id="6810661">(</span><span class="ident" id="6810662">data</span><span class="op" id="6810666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6810669">}</span><br>
<span class="lineno"></span><span class="op" id="6810671">}</span>
</div>
</body>
</html>
