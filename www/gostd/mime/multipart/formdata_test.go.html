<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html" class="current">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7745415">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7745470">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7745524">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7745575">package</span>&nbsp;<span class="ident" id="7745583">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7745594">import</span>&nbsp;<span class="op" id="7745601">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7745604">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7745613">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7745619">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7745625">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7745635">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7745646">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7745656">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7745659">func</span>&nbsp;<span class="ident" id="7745664">TestReadForm</span><span class="op" id="7745676">(</span><span class="ident" id="7745677">t</span>&nbsp;<span class="op" id="7745679">*</span><span class="ident" id="7745680"><a href="/gostd/mime/multipart/formdata_test.go.html#7745646">testing</a></span><span class="op" id="7745687">.</span><span class="ident" id="7745688"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7745689">)</span>&nbsp;<span class="op" id="7745691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7745694">testBody</span>&nbsp;<span class="op" id="7745703">:=</span>&nbsp;<span class="ident" id="7745706"><a href="/gostd/mime/multipart/formdata_test.go.html#7745625">regexp</a></span><span class="op" id="7745712">.</span><span class="ident" id="7745713"><a href="/gostd/regexp/regexp.go.html#3571892">MustCompile</a></span><span class="op" id="7745724">(</span><span class="string" id="7745725">&#34;\n&#34;</span><span class="op" id="7745729">)</span><span class="op" id="7745730">.</span><span class="ident" id="7745731"><a href="/gostd/regexp/regexp.go.html#3577810">ReplaceAllString</a></span><span class="op" id="7745747">(</span><span class="ident" id="7745748"><a href="/gostd/mime/multipart/formdata_test.go.html#7747071">message</a></span><span class="op" id="7745755">,</span>&nbsp;<span class="string" id="7745757">&#34;\r\n&#34;</span><span class="op" id="7745763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7745766">b</span>&nbsp;<span class="op" id="7745768">:=</span>&nbsp;<span class="ident" id="7745771"><a href="/gostd/mime/multipart/formdata_test.go.html#7745635">strings</a></span><span class="op" id="7745778">.</span><span class="ident" id="7745779"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7745788">(</span><span class="ident" id="7745789"><a href="/gostd/mime/multipart/formdata_test.go.html#7745694">testBody</a></span><span class="op" id="7745797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7745800">r</span>&nbsp;<span class="op" id="7745802">:=</span>&nbsp;<span class="ident" id="7745805"><a href="/gostd/mime/multipart/multipart.go.html#4313338">NewReader</a></span><span class="op" id="7745814">(</span><span class="ident" id="7745815"><a href="/gostd/mime/multipart/formdata_test.go.html#7745766">b</a></span><span class="op" id="7745816">,</span>&nbsp;<span class="ident" id="7745818"><a href="/gostd/mime/multipart/formdata_test.go.html#7747033">boundary</a></span><span class="op" id="7745826">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7745829">f</span><span class="op" id="7745830">,</span>&nbsp;<span class="ident" id="7745832">err</span>&nbsp;<span class="op" id="7745836">:=</span>&nbsp;<span class="ident" id="7745839"><a href="/gostd/mime/multipart/formdata_test.go.html#7745800">r</a></span><span class="op" id="7745840">.</span><span class="ident" id="7745841"><a href="/gostd/mime/multipart/formdata.go.html#4307931">ReadForm</a></span><span class="op" id="7745849">(</span><span class="num" id="7745850">25</span><span class="op" id="7745852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7745855">if</span>&nbsp;<span class="ident" id="7745858"><a href="/gostd/mime/multipart/formdata_test.go.html#7745832">err</a></span>&nbsp;<span class="op" id="7745862">!=</span>&nbsp;<span class="builtintype" id="7745865">nil</span>&nbsp;<span class="op" id="7745869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7745873"><a href="/gostd/mime/multipart/formdata_test.go.html#7745677">t</a></span><span class="op" id="7745874">.</span><span class="ident" id="7745875"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7745880">(</span><span class="string" id="7745881">&#34;ReadForm:&#34;</span><span class="op" id="7745892">,</span>&nbsp;<span class="ident" id="7745894"><a href="/gostd/mime/multipart/formdata_test.go.html#7745832">err</a></span><span class="op" id="7745897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7745900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7745903">defer</span>&nbsp;<span class="ident" id="7745909"><a href="/gostd/mime/multipart/formdata_test.go.html#7745829">f</a></span><span class="op" id="7745910">.</span><span class="ident" id="7745911"><a href="/gostd/mime/multipart/formdata.go.html#4309807">RemoveAll</a></span><span class="op" id="7745920">(</span><span class="op" id="7745921">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7745924">if</span>&nbsp;<span class="ident" id="7745927">g</span><span class="op" id="7745928">,</span>&nbsp;<span class="ident" id="7745930">e</span>&nbsp;<span class="op" id="7745932">:=</span>&nbsp;<span class="ident" id="7745935"><a href="/gostd/mime/multipart/formdata_test.go.html#7745829">f</a></span><span class="op" id="7745936">.</span><span class="ident" id="7745937"><a href="/gostd/mime/multipart/formdata.go.html#4309666">Value</a></span><span class="op" id="7745942">[</span><span class="string" id="7745943">&#34;texta&#34;</span><span class="op" id="7745950">]</span><span class="op" id="7745951">[</span><span class="num" id="7745952">0</span><span class="op" id="7745953">]</span><span class="op" id="7745954">,</span>&nbsp;<span class="ident" id="7745956"><a href="/gostd/mime/multipart/formdata_test.go.html#7746987">textaValue</a></span><span class="op" id="7745966">;</span>&nbsp;<span class="ident" id="7745968"><a href="/gostd/mime/multipart/formdata_test.go.html#7745927">g</a></span>&nbsp;<span class="op" id="7745970">!=</span>&nbsp;<span class="ident" id="7745973"><a href="/gostd/mime/multipart/formdata_test.go.html#7745930">e</a></span>&nbsp;<span class="op" id="7745975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7745979"><a href="/gostd/mime/multipart/formdata_test.go.html#7745677">t</a></span><span class="op" id="7745980">.</span><span class="ident" id="7745981"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7745987">(</span><span class="string" id="7745988">&#34;texta&nbsp;value&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7746015">,</span>&nbsp;<span class="ident" id="7746017"><a href="/gostd/mime/multipart/formdata_test.go.html#7745927">g</a></span><span class="op" id="7746018">,</span>&nbsp;<span class="ident" id="7746020"><a href="/gostd/mime/multipart/formdata_test.go.html#7745930">e</a></span><span class="op" id="7746021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7746024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7746027">if</span>&nbsp;<span class="ident" id="7746030">g</span><span class="op" id="7746031">,</span>&nbsp;<span class="ident" id="7746033">e</span>&nbsp;<span class="op" id="7746035">:=</span>&nbsp;<span class="ident" id="7746038"><a href="/gostd/mime/multipart/formdata_test.go.html#7745829">f</a></span><span class="op" id="7746039">.</span><span class="ident" id="7746040"><a href="/gostd/mime/multipart/formdata.go.html#4309666">Value</a></span><span class="op" id="7746045">[</span><span class="string" id="7746046">&#34;textb&#34;</span><span class="op" id="7746053">]</span><span class="op" id="7746054">[</span><span class="num" id="7746055">0</span><span class="op" id="7746056">]</span><span class="op" id="7746057">,</span>&nbsp;<span class="ident" id="7746059"><a href="/gostd/mime/multipart/formdata_test.go.html#7747010">textbValue</a></span><span class="op" id="7746069">;</span>&nbsp;<span class="ident" id="7746071"><a href="/gostd/mime/multipart/formdata_test.go.html#7746030">g</a></span>&nbsp;<span class="op" id="7746073">!=</span>&nbsp;<span class="ident" id="7746076"><a href="/gostd/mime/multipart/formdata_test.go.html#7746033">e</a></span>&nbsp;<span class="op" id="7746078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746082"><a href="/gostd/mime/multipart/formdata_test.go.html#7745677">t</a></span><span class="op" id="7746083">.</span><span class="ident" id="7746084"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7746090">(</span><span class="string" id="7746091">&#34;texta&nbsp;value&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7746118">,</span>&nbsp;<span class="ident" id="7746120"><a href="/gostd/mime/multipart/formdata_test.go.html#7746030">g</a></span><span class="op" id="7746121">,</span>&nbsp;<span class="ident" id="7746123"><a href="/gostd/mime/multipart/formdata_test.go.html#7746033">e</a></span><span class="op" id="7746124">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7746127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746130">fd</span>&nbsp;<span class="op" id="7746133">:=</span>&nbsp;<span class="ident" id="7746136"><a href="/gostd/mime/multipart/formdata_test.go.html#7746469">testFile</a></span><span class="op" id="7746144">(</span><span class="ident" id="7746145"><a href="/gostd/mime/multipart/formdata_test.go.html#7745677">t</a></span><span class="op" id="7746146">,</span>&nbsp;<span class="ident" id="7746148"><a href="/gostd/mime/multipart/formdata_test.go.html#7745829">f</a></span><span class="op" id="7746149">.</span><span class="ident" id="7746150"><a href="/gostd/mime/multipart/formdata.go.html#4309693">File</a></span><span class="op" id="7746154">[</span><span class="string" id="7746155">&#34;filea&#34;</span><span class="op" id="7746162">]</span><span class="op" id="7746163">[</span><span class="num" id="7746164">0</span><span class="op" id="7746165">]</span><span class="op" id="7746166">,</span>&nbsp;<span class="string" id="7746168">&#34;filea.txt&#34;</span><span class="op" id="7746179">,</span>&nbsp;<span class="ident" id="7746181"><a href="/gostd/mime/multipart/formdata_test.go.html#7746909">fileaContents</a></span><span class="op" id="7746194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7746197">if</span>&nbsp;<span class="ident" id="7746200">_</span><span class="op" id="7746201">,</span>&nbsp;<span class="ident" id="7746203">ok</span>&nbsp;<span class="op" id="7746206">:=</span>&nbsp;<span class="ident" id="7746209"><a href="/gostd/mime/multipart/formdata_test.go.html#7746130">fd</a></span><span class="op" id="7746211">.</span><span class="op" id="7746212">(</span><span class="op" id="7746213">*</span><span class="ident" id="7746214"><a href="/gostd/mime/multipart/formdata_test.go.html#7745619">os</a></span><span class="op" id="7746216">.</span><span class="ident" id="7746217"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="7746221">)</span><span class="op" id="7746222">;</span>&nbsp;<span class="ident" id="7746224"><a href="/gostd/mime/multipart/formdata_test.go.html#7746203">ok</a></span>&nbsp;<span class="op" id="7746227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746231"><a href="/gostd/mime/multipart/formdata_test.go.html#7745677">t</a></span><span class="op" id="7746232">.</span><span class="ident" id="7746233"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="7746238">(</span><span class="string" id="7746239">&#34;file&nbsp;is&nbsp;*os.File,&nbsp;should&nbsp;not&nbsp;be&#34;</span><span class="op" id="7746272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7746275">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746278"><a href="/gostd/mime/multipart/formdata_test.go.html#7746130">fd</a></span><span class="op" id="7746280">.</span><span class="ident" id="7746281"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="7746286">(</span><span class="op" id="7746287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746290"><a href="/gostd/mime/multipart/formdata_test.go.html#7746130">fd</a></span>&nbsp;<span class="op" id="7746293">=</span>&nbsp;<span class="ident" id="7746295"><a href="/gostd/mime/multipart/formdata_test.go.html#7746469">testFile</a></span><span class="op" id="7746303">(</span><span class="ident" id="7746304"><a href="/gostd/mime/multipart/formdata_test.go.html#7745677">t</a></span><span class="op" id="7746305">,</span>&nbsp;<span class="ident" id="7746307"><a href="/gostd/mime/multipart/formdata_test.go.html#7745829">f</a></span><span class="op" id="7746308">.</span><span class="ident" id="7746309"><a href="/gostd/mime/multipart/formdata.go.html#4309693">File</a></span><span class="op" id="7746313">[</span><span class="string" id="7746314">&#34;fileb&#34;</span><span class="op" id="7746321">]</span><span class="op" id="7746322">[</span><span class="num" id="7746323">0</span><span class="op" id="7746324">]</span><span class="op" id="7746325">,</span>&nbsp;<span class="string" id="7746327">&#34;fileb.txt&#34;</span><span class="op" id="7746338">,</span>&nbsp;<span class="ident" id="7746340"><a href="/gostd/mime/multipart/formdata_test.go.html#7746949">filebContents</a></span><span class="op" id="7746353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7746356">if</span>&nbsp;<span class="ident" id="7746359">_</span><span class="op" id="7746360">,</span>&nbsp;<span class="ident" id="7746362">ok</span>&nbsp;<span class="op" id="7746365">:=</span>&nbsp;<span class="ident" id="7746368"><a href="/gostd/mime/multipart/formdata_test.go.html#7746130">fd</a></span><span class="op" id="7746370">.</span><span class="op" id="7746371">(</span><span class="op" id="7746372">*</span><span class="ident" id="7746373"><a href="/gostd/mime/multipart/formdata_test.go.html#7745619">os</a></span><span class="op" id="7746375">.</span><span class="ident" id="7746376"><a href="/gostd/os/file_unix.go.html#2452288">File</a></span><span class="op" id="7746380">)</span><span class="op" id="7746381">;</span>&nbsp;<span class="op" id="7746383">!</span><span class="ident" id="7746384"><a href="/gostd/mime/multipart/formdata_test.go.html#7746362">ok</a></span>&nbsp;<span class="op" id="7746387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746391"><a href="/gostd/mime/multipart/formdata_test.go.html#7745677">t</a></span><span class="op" id="7746392">.</span><span class="ident" id="7746393"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7746399">(</span><span class="string" id="7746400">&#34;file&nbsp;has&nbsp;unexpected&nbsp;underlying&nbsp;type&nbsp;%T&#34;</span><span class="op" id="7746440">,</span>&nbsp;<span class="ident" id="7746442"><a href="/gostd/mime/multipart/formdata_test.go.html#7746130">fd</a></span><span class="op" id="7746444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7746447">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746450"><a href="/gostd/mime/multipart/formdata_test.go.html#7746130">fd</a></span><span class="op" id="7746452">.</span><span class="ident" id="7746453"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="7746458">(</span><span class="op" id="7746459">)</span><br>
<span class="lineno"></span><span class="op" id="7746461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7746464">func</span>&nbsp;<span class="ident" id="7746469">testFile</span><span class="op" id="7746477">(</span><span class="ident" id="7746478">t</span>&nbsp;<span class="op" id="7746480">*</span><span class="ident" id="7746481"><a href="/gostd/mime/multipart/formdata_test.go.html#7745646">testing</a></span><span class="op" id="7746488">.</span><span class="ident" id="7746489"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7746490">,</span>&nbsp;<span class="ident" id="7746492">fh</span>&nbsp;<span class="op" id="7746495">*</span><span class="ident" id="7746496"><a href="/gostd/mime/multipart/formdata.go.html#4310100">FileHeader</a></span><span class="op" id="7746506">,</span>&nbsp;<span class="ident" id="7746508">efn</span><span class="op" id="7746511">,</span>&nbsp;<span class="ident" id="7746513">econtent</span>&nbsp;<span class="builtintype" id="7746522">string</span><span class="op" id="7746528">)</span>&nbsp;<span class="ident" id="7746530"><a href="/gostd/mime/multipart/formdata.go.html#4310690">File</a></span>&nbsp;<span class="op" id="7746535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7746538">if</span>&nbsp;<span class="ident" id="7746541"><a href="/gostd/mime/multipart/formdata_test.go.html#7746492">fh</a></span><span class="op" id="7746543">.</span><span class="ident" id="7746544"><a href="/gostd/mime/multipart/formdata.go.html#4310121">Filename</a></span>&nbsp;<span class="op" id="7746553">!=</span>&nbsp;<span class="ident" id="7746556"><a href="/gostd/mime/multipart/formdata_test.go.html#7746508">efn</a></span>&nbsp;<span class="op" id="7746560">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746564"><a href="/gostd/mime/multipart/formdata_test.go.html#7746478">t</a></span><span class="op" id="7746565">.</span><span class="ident" id="7746566"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7746572">(</span><span class="string" id="7746573">&#34;filename&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7746597">,</span>&nbsp;<span class="ident" id="7746599"><a href="/gostd/mime/multipart/formdata_test.go.html#7746492">fh</a></span><span class="op" id="7746601">.</span><span class="ident" id="7746602"><a href="/gostd/mime/multipart/formdata.go.html#4310121">Filename</a></span><span class="op" id="7746610">,</span>&nbsp;<span class="ident" id="7746612"><a href="/gostd/mime/multipart/formdata_test.go.html#7746508">efn</a></span><span class="op" id="7746615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7746618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746621">f</span><span class="op" id="7746622">,</span>&nbsp;<span class="ident" id="7746624">err</span>&nbsp;<span class="op" id="7746628">:=</span>&nbsp;<span class="ident" id="7746631"><a href="/gostd/mime/multipart/formdata_test.go.html#7746492">fh</a></span><span class="op" id="7746633">.</span><span class="ident" id="7746634"><a href="/gostd/mime/multipart/formdata.go.html#4310286">Open</a></span><span class="op" id="7746638">(</span><span class="op" id="7746639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7746642">if</span>&nbsp;<span class="ident" id="7746645"><a href="/gostd/mime/multipart/formdata_test.go.html#7746624">err</a></span>&nbsp;<span class="op" id="7746649">!=</span>&nbsp;<span class="builtintype" id="7746652">nil</span>&nbsp;<span class="op" id="7746656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746660"><a href="/gostd/mime/multipart/formdata_test.go.html#7746478">t</a></span><span class="op" id="7746661">.</span><span class="ident" id="7746662"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7746667">(</span><span class="string" id="7746668">&#34;opening&nbsp;file:&#34;</span><span class="op" id="7746683">,</span>&nbsp;<span class="ident" id="7746685"><a href="/gostd/mime/multipart/formdata_test.go.html#7746624">err</a></span><span class="op" id="7746688">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7746691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746694">b</span>&nbsp;<span class="op" id="7746696">:=</span>&nbsp;<span class="builtinfunc" id="7746699">new</span><span class="op" id="7746702">(</span><span class="ident" id="7746703"><a href="/gostd/mime/multipart/formdata_test.go.html#7745604">bytes</a></span><span class="op" id="7746708">.</span><span class="ident" id="7746709"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="7746715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746718">_</span><span class="op" id="7746719">,</span>&nbsp;<span class="ident" id="7746721"><a href="/gostd/mime/multipart/formdata_test.go.html#7746624">err</a></span>&nbsp;<span class="op" id="7746725">=</span>&nbsp;<span class="ident" id="7746727"><a href="/gostd/mime/multipart/formdata_test.go.html#7745613">io</a></span><span class="op" id="7746729">.</span><span class="ident" id="7746730"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="7746734">(</span><span class="ident" id="7746735"><a href="/gostd/mime/multipart/formdata_test.go.html#7746694">b</a></span><span class="op" id="7746736">,</span>&nbsp;<span class="ident" id="7746738"><a href="/gostd/mime/multipart/formdata_test.go.html#7746621">f</a></span><span class="op" id="7746739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7746742">if</span>&nbsp;<span class="ident" id="7746745"><a href="/gostd/mime/multipart/formdata_test.go.html#7746624">err</a></span>&nbsp;<span class="op" id="7746749">!=</span>&nbsp;<span class="builtintype" id="7746752">nil</span>&nbsp;<span class="op" id="7746756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746760"><a href="/gostd/mime/multipart/formdata_test.go.html#7746478">t</a></span><span class="op" id="7746761">.</span><span class="ident" id="7746762"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7746767">(</span><span class="string" id="7746768">&#34;copying&nbsp;contents:&#34;</span><span class="op" id="7746787">,</span>&nbsp;<span class="ident" id="7746789"><a href="/gostd/mime/multipart/formdata_test.go.html#7746624">err</a></span><span class="op" id="7746792">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7746795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7746798">if</span>&nbsp;<span class="ident" id="7746801">g</span>&nbsp;<span class="op" id="7746803">:=</span>&nbsp;<span class="ident" id="7746806"><a href="/gostd/mime/multipart/formdata_test.go.html#7746694">b</a></span><span class="op" id="7746807">.</span><span class="ident" id="7746808"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7746814">(</span><span class="op" id="7746815">)</span><span class="op" id="7746816">;</span>&nbsp;<span class="ident" id="7746818"><a href="/gostd/mime/multipart/formdata_test.go.html#7746801">g</a></span>&nbsp;<span class="op" id="7746820">!=</span>&nbsp;<span class="ident" id="7746823"><a href="/gostd/mime/multipart/formdata_test.go.html#7746513">econtent</a></span>&nbsp;<span class="op" id="7746832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746836"><a href="/gostd/mime/multipart/formdata_test.go.html#7746478">t</a></span><span class="op" id="7746837">.</span><span class="ident" id="7746838"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7746844">(</span><span class="string" id="7746845">&#34;contents&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7746869">,</span>&nbsp;<span class="ident" id="7746871"><a href="/gostd/mime/multipart/formdata_test.go.html#7746801">g</a></span><span class="op" id="7746872">,</span>&nbsp;<span class="ident" id="7746874"><a href="/gostd/mime/multipart/formdata_test.go.html#7746513">econtent</a></span><span class="op" id="7746882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7746885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7746888">return</span>&nbsp;<span class="ident" id="7746895"><a href="/gostd/mime/multipart/formdata_test.go.html#7746621">f</a></span><br>
<span class="lineno">60</span><span class="op" id="7746897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7746900">const</span>&nbsp;<span class="op" id="7746906">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746909">fileaContents</span>&nbsp;<span class="op" id="7746923">=</span>&nbsp;<span class="string" id="7746925">&#34;This&nbsp;is&nbsp;a&nbsp;test&nbsp;file.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746949">filebContents</span>&nbsp;<span class="op" id="7746963">=</span>&nbsp;<span class="string" id="7746965">&#34;Another&nbsp;test&nbsp;file.&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7746987">textaValue</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7747001">=</span>&nbsp;<span class="string" id="7747003">&#34;foo&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7747010">textbValue</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7747024">=</span>&nbsp;<span class="string" id="7747026">&#34;bar&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7747033">boundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7747047">=</span>&nbsp;<span class="string" id="7747049">`MyBoundary`</span><br>
<span class="lineno"></span><span class="op" id="7747062">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7747065">const</span>&nbsp;<span class="ident" id="7747071">message</span>&nbsp;<span class="op" id="7747079">=</span>&nbsp;<span class="string" id="7747081">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;filea&#34;;&nbsp;filename=&#34;filea.txt&#34;<br>
<span class="lineno"></span>Content-Type:&nbsp;text/plain<br>
<span class="lineno"></span><br>
<span class="lineno">75</span>`</span>&nbsp;<span class="op" id="7747191">+</span>&nbsp;<span class="ident" id="7747193"><a href="/gostd/mime/multipart/formdata_test.go.html#7746909">fileaContents</a></span>&nbsp;<span class="op" id="7747207">+</span>&nbsp;<span class="string" id="7747209">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;fileb&#34;;&nbsp;filename=&#34;fileb.txt&#34;<br>
<span class="lineno"></span>Content-Type:&nbsp;text/plain<br>
<span class="lineno"></span><br>
<span class="lineno">80</span>`</span>&nbsp;<span class="op" id="7747319">+</span>&nbsp;<span class="ident" id="7747321"><a href="/gostd/mime/multipart/formdata_test.go.html#7746949">filebContents</a></span>&nbsp;<span class="op" id="7747335">+</span>&nbsp;<span class="string" id="7747337">`<br>
<span class="lineno"></span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;texta&#34;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span>&nbsp;<span class="op" id="7747400">+</span>&nbsp;<span class="ident" id="7747402"><a href="/gostd/mime/multipart/formdata_test.go.html#7746987">textaValue</a></span>&nbsp;<span class="op" id="7747413">+</span>&nbsp;<span class="string" id="7747415">`<br>
<span class="lineno">85</span>--MyBoundary<br>
<span class="lineno"></span>Content-Disposition:&nbsp;form-data;&nbsp;name=&#34;textb&#34;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span>&nbsp;<span class="op" id="7747478">+</span>&nbsp;<span class="ident" id="7747480"><a href="/gostd/mime/multipart/formdata_test.go.html#7747010">textbValue</a></span>&nbsp;<span class="op" id="7747491">+</span>&nbsp;<span class="string" id="7747493">`<br>
<span class="lineno"></span>--MyBoundary--<br>
<span class="lineno">90</span>`</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
