<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc</h2>
<ul>
<li><a href="/gostd/net/rpc/client.go.html">client.go</a></li>
<li><a href="/gostd/net/rpc/client_test.go.html" class="current">client_test.go</a></li>
<li><a href="/gostd/net/rpc/debug.go.html">debug.go</a></li>
<li><a href="/gostd/net/rpc/server.go.html">server.go</a></li>
<li><a href="/gostd/net/rpc/server_test.go.html">server_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7017766">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7017821">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7017875">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7017926">package</span>&nbsp;<span class="ident" id="7017934">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7017939">import</span>&nbsp;<span class="op" id="7017946">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7017949">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7017959">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7017966">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7017973">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7017984">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7017995">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7018005">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7018008">type</span>&nbsp;<span class="ident" id="7018013">shutdownCodec</span>&nbsp;<span class="keyword" id="7018027">struct</span>&nbsp;<span class="op" id="7018034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018037">responded</span>&nbsp;<span class="keyword" id="7018047">chan</span>&nbsp;<span class="builtintype" id="7018052">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018057">closed</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7018067">bool</span><br>
<span class="lineno"></span><span class="op" id="7018072">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7018075">func</span>&nbsp;<span class="op" id="7018080">(</span><span class="ident" id="7018081">c</span>&nbsp;<span class="op" id="7018083">*</span><span class="ident" id="7018084">shutdownCodec</span><span class="op" id="7018097">)</span>&nbsp;<span class="ident" id="7018099">WriteRequest</span><span class="op" id="7018111">(</span><span class="op" id="7018112">*</span><span class="ident" id="7018113">Request</span><span class="op" id="7018120">,</span>&nbsp;<span class="keyword" id="7018122">interface</span><span class="op" id="7018131">{</span><span class="op" id="7018132">}</span><span class="op" id="7018133">)</span>&nbsp;<span class="builtintype" id="7018135">error</span>&nbsp;<span class="op" id="7018141">{</span>&nbsp;<span class="keyword" id="7018143">return</span>&nbsp;<span class="builtintype" id="7018150">nil</span>&nbsp;<span class="op" id="7018154">}</span><br>
<span class="lineno"></span><span class="keyword" id="7018156">func</span>&nbsp;<span class="op" id="7018161">(</span><span class="ident" id="7018162">c</span>&nbsp;<span class="op" id="7018164">*</span><span class="ident" id="7018165">shutdownCodec</span><span class="op" id="7018178">)</span>&nbsp;<span class="ident" id="7018180">ReadResponseBody</span><span class="op" id="7018196">(</span><span class="keyword" id="7018197">interface</span><span class="op" id="7018206">{</span><span class="op" id="7018207">}</span><span class="op" id="7018208">)</span>&nbsp;<span class="builtintype" id="7018210">error</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018222">{</span>&nbsp;<span class="keyword" id="7018224">return</span>&nbsp;<span class="builtintype" id="7018231">nil</span>&nbsp;<span class="op" id="7018235">}</span><br>
<span class="lineno"></span><span class="keyword" id="7018237">func</span>&nbsp;<span class="op" id="7018242">(</span><span class="ident" id="7018243">c</span>&nbsp;<span class="op" id="7018245">*</span><span class="ident" id="7018246">shutdownCodec</span><span class="op" id="7018259">)</span>&nbsp;<span class="ident" id="7018261">ReadResponseHeader</span><span class="op" id="7018279">(</span><span class="op" id="7018280">*</span><span class="ident" id="7018281">Response</span><span class="op" id="7018289">)</span>&nbsp;<span class="builtintype" id="7018291">error</span>&nbsp;<span class="op" id="7018297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018300">c</span><span class="op" id="7018301">.</span><span class="ident" id="7018302">responded</span>&nbsp;<span class="op" id="7018312">&lt;-</span>&nbsp;<span class="num" id="7018315">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018318">return</span>&nbsp;<span class="ident" id="7018325">errors</span><span class="op" id="7018331">.</span><span class="ident" id="7018332">New</span><span class="op" id="7018335">(</span><span class="string" id="7018336">&#34;shutdownCodec&nbsp;ReadResponseHeader&#34;</span><span class="op" id="7018370">)</span><br>
<span class="lineno"></span><span class="op" id="7018372">}</span><br>
<span class="lineno"></span><span class="keyword" id="7018374">func</span>&nbsp;<span class="op" id="7018379">(</span><span class="ident" id="7018380">c</span>&nbsp;<span class="op" id="7018382">*</span><span class="ident" id="7018383">shutdownCodec</span><span class="op" id="7018396">)</span>&nbsp;<span class="ident" id="7018398">Close</span><span class="op" id="7018403">(</span><span class="op" id="7018404">)</span>&nbsp;<span class="builtintype" id="7018406">error</span>&nbsp;<span class="op" id="7018412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018415">c</span><span class="op" id="7018416">.</span><span class="ident" id="7018417">closed</span>&nbsp;<span class="op" id="7018424">=</span>&nbsp;<span class="builtintype" id="7018426">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018432">return</span>&nbsp;<span class="builtintype" id="7018439">nil</span><br>
<span class="lineno">30</span><span class="op" id="7018443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7018446">func</span>&nbsp;<span class="ident" id="7018451">TestCloseCodec</span><span class="op" id="7018465">(</span><span class="ident" id="7018466">t</span>&nbsp;<span class="op" id="7018468">*</span><span class="ident" id="7018469">testing</span><span class="op" id="7018476">.</span><span class="ident" id="7018477">T</span><span class="op" id="7018478">)</span>&nbsp;<span class="op" id="7018480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018483">codec</span>&nbsp;<span class="op" id="7018489">:=</span>&nbsp;<span class="op" id="7018492">&amp;</span><span class="ident" id="7018493">shutdownCodec</span><span class="op" id="7018506">{</span><span class="ident" id="7018507">responded</span><span class="op" id="7018516">:</span>&nbsp;<span class="builtinfunc" id="7018518">make</span><span class="op" id="7018522">(</span><span class="keyword" id="7018523">chan</span>&nbsp;<span class="builtintype" id="7018528">int</span><span class="op" id="7018531">)</span><span class="op" id="7018532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018535">client</span>&nbsp;<span class="op" id="7018542">:=</span>&nbsp;<span class="ident" id="7018545">NewClientWithCodec</span><span class="op" id="7018563">(</span><span class="ident" id="7018564">codec</span><span class="op" id="7018569">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018572">&lt;-</span><span class="ident" id="7018574">codec</span><span class="op" id="7018579">.</span><span class="ident" id="7018580">responded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018591">client</span><span class="op" id="7018597">.</span><span class="ident" id="7018598">Close</span><span class="op" id="7018603">(</span><span class="op" id="7018604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018607">if</span>&nbsp;<span class="op" id="7018610">!</span><span class="ident" id="7018611">codec</span><span class="op" id="7018616">.</span><span class="ident" id="7018617">closed</span>&nbsp;<span class="op" id="7018624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018628">t</span><span class="op" id="7018629">.</span><span class="ident" id="7018630">Error</span><span class="op" id="7018635">(</span><span class="string" id="7018636">&#34;client.Close&nbsp;did&nbsp;not&nbsp;close&nbsp;codec&#34;</span><span class="op" id="7018670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018673">}</span><br>
<span class="lineno">40</span><span class="op" id="7018675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7018678">//&nbsp;Test&nbsp;that&nbsp;errors&nbsp;in&nbsp;gob&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection.&nbsp;Issue&nbsp;7689.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7018744">type</span>&nbsp;<span class="ident" id="7018749">R</span>&nbsp;<span class="keyword" id="7018751">struct</span>&nbsp;<span class="op" id="7018758">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018761">msg</span>&nbsp;<span class="op" id="7018765">[</span><span class="op" id="7018766">]</span><span class="builtintype" id="7018767">byte</span>&nbsp;<span class="comment" id="7018772">//&nbsp;Not&nbsp;exported,&nbsp;so&nbsp;R&nbsp;does&nbsp;not&nbsp;work&nbsp;with&nbsp;gob.</span><br>
<span class="lineno"></span><span class="op" id="7018818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7018821">type</span>&nbsp;<span class="ident" id="7018826">S</span>&nbsp;<span class="keyword" id="7018828">struct</span><span class="op" id="7018834">{</span><span class="op" id="7018835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="7018838">func</span>&nbsp;<span class="op" id="7018843">(</span><span class="ident" id="7018844">s</span>&nbsp;<span class="op" id="7018846">*</span><span class="ident" id="7018847">S</span><span class="op" id="7018848">)</span>&nbsp;<span class="ident" id="7018850">Recv</span><span class="op" id="7018854">(</span><span class="ident" id="7018855">nul</span>&nbsp;<span class="op" id="7018859">*</span><span class="keyword" id="7018860">struct</span><span class="op" id="7018866">{</span><span class="op" id="7018867">}</span><span class="op" id="7018868">,</span>&nbsp;<span class="ident" id="7018870">reply</span>&nbsp;<span class="op" id="7018876">*</span><span class="ident" id="7018877">R</span><span class="op" id="7018878">)</span>&nbsp;<span class="builtintype" id="7018880">error</span>&nbsp;<span class="op" id="7018886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7018889">*</span><span class="ident" id="7018890">reply</span>&nbsp;<span class="op" id="7018896">=</span>&nbsp;<span class="ident" id="7018898">R</span><span class="op" id="7018899">{</span><span class="op" id="7018900">[</span><span class="op" id="7018901">]</span><span class="builtintype" id="7018902">byte</span><span class="op" id="7018906">(</span><span class="string" id="7018907">&#34;foo&#34;</span><span class="op" id="7018912">)</span><span class="op" id="7018913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018916">return</span>&nbsp;<span class="builtintype" id="7018923">nil</span><br>
<span class="lineno"></span><span class="op" id="7018927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7018930">func</span>&nbsp;<span class="ident" id="7018935">TestGobError</span><span class="op" id="7018947">(</span><span class="ident" id="7018948">t</span>&nbsp;<span class="op" id="7018950">*</span><span class="ident" id="7018951">testing</span><span class="op" id="7018958">.</span><span class="ident" id="7018959">T</span><span class="op" id="7018960">)</span>&nbsp;<span class="op" id="7018962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7018965">if</span>&nbsp;<span class="ident" id="7018968">runtime</span><span class="op" id="7018975">.</span><span class="ident" id="7018976">GOOS</span>&nbsp;<span class="op" id="7018981">==</span>&nbsp;<span class="string" id="7018984">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7018992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7018996">t</span><span class="op" id="7018997">.</span><span class="ident" id="7018998">Skip</span><span class="op" id="7019002">(</span><span class="string" id="7019003">&#34;skipping&nbsp;test;&nbsp;see&nbsp;http://golang.org/issue/8908&#34;</span><span class="op" id="7019052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7019055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7019058">defer</span>&nbsp;<span class="keyword" id="7019064">func</span><span class="op" id="7019068">(</span><span class="op" id="7019069">)</span>&nbsp;<span class="op" id="7019071">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019075">err</span>&nbsp;<span class="op" id="7019079">:=</span>&nbsp;<span class="builtinfunc" id="7019082">recover</span><span class="op" id="7019089">(</span><span class="op" id="7019090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7019094">if</span>&nbsp;<span class="ident" id="7019097">err</span>&nbsp;<span class="op" id="7019101">==</span>&nbsp;<span class="builtintype" id="7019104">nil</span>&nbsp;<span class="op" id="7019108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019113">t</span><span class="op" id="7019114">.</span><span class="ident" id="7019115">Fatal</span><span class="op" id="7019120">(</span><span class="string" id="7019121">&#34;no&nbsp;error&#34;</span><span class="op" id="7019131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7019135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7019139">if</span>&nbsp;<span class="op" id="7019142">!</span><span class="ident" id="7019143">strings</span><span class="op" id="7019150">.</span><span class="ident" id="7019151">Contains</span><span class="op" id="7019159">(</span><span class="string" id="7019160">&#34;reading&nbsp;body&nbsp;EOF&#34;</span><span class="op" id="7019178">,</span>&nbsp;<span class="ident" id="7019180">err</span><span class="op" id="7019183">.</span><span class="op" id="7019184">(</span><span class="builtintype" id="7019185">error</span><span class="op" id="7019190">)</span><span class="op" id="7019191">.</span><span class="ident" id="7019192">Error</span><span class="op" id="7019197">(</span><span class="op" id="7019198">)</span><span class="op" id="7019199">)</span>&nbsp;<span class="op" id="7019201">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019206">t</span><span class="op" id="7019207">.</span><span class="ident" id="7019208">Fatal</span><span class="op" id="7019213">(</span><span class="string" id="7019214">&#34;expected&nbsp;`reading&nbsp;body&nbsp;EOF&#39;,&nbsp;got&#34;</span><span class="op" id="7019248">,</span>&nbsp;<span class="ident" id="7019250">err</span><span class="op" id="7019253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7019257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7019260">}</span><span class="op" id="7019261">(</span><span class="op" id="7019262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019265">Register</span><span class="op" id="7019273">(</span><span class="builtinfunc" id="7019274">new</span><span class="op" id="7019277">(</span><span class="ident" id="7019278">S</span><span class="op" id="7019279">)</span><span class="op" id="7019280">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019284">listen</span><span class="op" id="7019290">,</span>&nbsp;<span class="ident" id="7019292">err</span>&nbsp;<span class="op" id="7019296">:=</span>&nbsp;<span class="ident" id="7019299">net</span><span class="op" id="7019302">.</span><span class="ident" id="7019303">Listen</span><span class="op" id="7019309">(</span><span class="string" id="7019310">&#34;tcp&#34;</span><span class="op" id="7019315">,</span>&nbsp;<span class="string" id="7019317">&#34;127.0.0.1:0&#34;</span><span class="op" id="7019330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7019333">if</span>&nbsp;<span class="ident" id="7019336">err</span>&nbsp;<span class="op" id="7019340">!=</span>&nbsp;<span class="builtintype" id="7019343">nil</span>&nbsp;<span class="op" id="7019347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7019351">panic</span><span class="op" id="7019356">(</span><span class="ident" id="7019357">err</span><span class="op" id="7019360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7019363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7019366">go</span>&nbsp;<span class="ident" id="7019369">Accept</span><span class="op" id="7019375">(</span><span class="ident" id="7019376">listen</span><span class="op" id="7019382">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019386">client</span><span class="op" id="7019392">,</span>&nbsp;<span class="ident" id="7019394">err</span>&nbsp;<span class="op" id="7019398">:=</span>&nbsp;<span class="ident" id="7019401">Dial</span><span class="op" id="7019405">(</span><span class="string" id="7019406">&#34;tcp&#34;</span><span class="op" id="7019411">,</span>&nbsp;<span class="ident" id="7019413">listen</span><span class="op" id="7019419">.</span><span class="ident" id="7019420">Addr</span><span class="op" id="7019424">(</span><span class="op" id="7019425">)</span><span class="op" id="7019426">.</span><span class="ident" id="7019427">String</span><span class="op" id="7019433">(</span><span class="op" id="7019434">)</span><span class="op" id="7019435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7019438">if</span>&nbsp;<span class="ident" id="7019441">err</span>&nbsp;<span class="op" id="7019445">!=</span>&nbsp;<span class="builtintype" id="7019448">nil</span>&nbsp;<span class="op" id="7019452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7019456">panic</span><span class="op" id="7019461">(</span><span class="ident" id="7019462">err</span><span class="op" id="7019465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7019468">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7019472">var</span>&nbsp;<span class="ident" id="7019476">reply</span>&nbsp;<span class="ident" id="7019482">Reply</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019489">err</span>&nbsp;<span class="op" id="7019493">=</span>&nbsp;<span class="ident" id="7019495">client</span><span class="op" id="7019501">.</span><span class="ident" id="7019502">Call</span><span class="op" id="7019506">(</span><span class="string" id="7019507">&#34;S.Recv&#34;</span><span class="op" id="7019515">,</span>&nbsp;<span class="op" id="7019517">&amp;</span><span class="keyword" id="7019518">struct</span><span class="op" id="7019524">{</span><span class="op" id="7019525">}</span><span class="op" id="7019526">{</span><span class="op" id="7019527">}</span><span class="op" id="7019528">,</span>&nbsp;<span class="op" id="7019530">&amp;</span><span class="ident" id="7019531">reply</span><span class="op" id="7019536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7019539">if</span>&nbsp;<span class="ident" id="7019542">err</span>&nbsp;<span class="op" id="7019546">!=</span>&nbsp;<span class="builtintype" id="7019549">nil</span>&nbsp;<span class="op" id="7019553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7019557">panic</span><span class="op" id="7019562">(</span><span class="ident" id="7019563">err</span><span class="op" id="7019566">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7019569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019573">fmt</span><span class="op" id="7019576">.</span><span class="ident" id="7019577">Printf</span><span class="op" id="7019583">(</span><span class="string" id="7019584">&#34;%#v\n&#34;</span><span class="op" id="7019591">,</span>&nbsp;<span class="ident" id="7019593">reply</span><span class="op" id="7019598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019601">client</span><span class="op" id="7019607">.</span><span class="ident" id="7019608">Close</span><span class="op" id="7019613">(</span><span class="op" id="7019614">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7019618">listen</span><span class="op" id="7019624">.</span><span class="ident" id="7019625">Close</span><span class="op" id="7019630">(</span><span class="op" id="7019631">)</span><br>
<span class="lineno"></span><span class="op" id="7019633">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
