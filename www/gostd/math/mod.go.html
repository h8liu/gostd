<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1628663">//&nbsp;Copyright&nbsp;2009-2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1628723">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1628777">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1628828">package</span>&nbsp;<span class="ident" id="1628836">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1628842">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspFloating-point&nbsp;mod&nbsp;function.<br>
<span class="lineno"></span>*/</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="1628879">//&nbsp;Mod&nbsp;returns&nbsp;the&nbsp;floating-point&nbsp;remainder&nbsp;of&nbsp;x/y.</span><br>
<span class="lineno"></span><span class="comment" id="1628931">//&nbsp;The&nbsp;magnitude&nbsp;of&nbsp;the&nbsp;result&nbsp;is&nbsp;less&nbsp;than&nbsp;y&nbsp;and&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="1628985">//&nbsp;sign&nbsp;agrees&nbsp;with&nbsp;that&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="1629016">//</span><br>
<span class="lineno">15</span><span class="comment" id="1629019">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="1629041">//&nbsp;&nbsp;&nbsp;&nbspMod(±Inf,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1629064">//&nbsp;&nbsp;&nbsp;&nbspMod(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1629085">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;0)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1629104">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;±Inf)&nbsp;=&nbsp;x</span><br>
<span class="lineno">20</span><span class="comment" id="1629125">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1629146">func</span>&nbsp;<span class="ident" id="1629151">Mod</span><span class="op" id="1629154">(</span><span class="ident" id="1629155">x</span><span class="op" id="1629156">,</span>&nbsp;<span class="ident" id="1629158">y</span>&nbsp;<span class="builtintype" id="1629160">float64</span><span class="op" id="1629167">)</span>&nbsp;<span class="builtintype" id="1629169">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1629178">func</span>&nbsp;<span class="ident" id="1629183">mod</span><span class="op" id="1629186">(</span><span class="ident" id="1629187">x</span><span class="op" id="1629188">,</span>&nbsp;<span class="ident" id="1629190">y</span>&nbsp;<span class="builtintype" id="1629192">float64</span><span class="op" id="1629199">)</span>&nbsp;<span class="builtintype" id="1629201">float64</span>&nbsp;<span class="op" id="1629209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1629212">if</span>&nbsp;<span class="ident" id="1629215">y</span>&nbsp;<span class="op" id="1629217">==</span>&nbsp;<span class="num" id="1629220">0</span>&nbsp;<span class="op" id="1629222">||</span>&nbsp;<span class="ident" id="1629225">IsInf</span><span class="op" id="1629230">(</span><span class="ident" id="1629231">x</span><span class="op" id="1629232">,</span>&nbsp;<span class="num" id="1629234">0</span><span class="op" id="1629235">)</span>&nbsp;<span class="op" id="1629237">||</span>&nbsp;<span class="ident" id="1629240">IsNaN</span><span class="op" id="1629245">(</span><span class="ident" id="1629246">x</span><span class="op" id="1629247">)</span>&nbsp;<span class="op" id="1629249">||</span>&nbsp;<span class="ident" id="1629252">IsNaN</span><span class="op" id="1629257">(</span><span class="ident" id="1629258">y</span><span class="op" id="1629259">)</span>&nbsp;<span class="op" id="1629261">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1629265">return</span>&nbsp;<span class="ident" id="1629272">NaN</span><span class="op" id="1629275">(</span><span class="op" id="1629276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1629279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1629282">if</span>&nbsp;<span class="ident" id="1629285">y</span>&nbsp;<span class="op" id="1629287">&lt;</span>&nbsp;<span class="num" id="1629289">0</span>&nbsp;<span class="op" id="1629291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629295">y</span>&nbsp;<span class="op" id="1629297">=</span>&nbsp;<span class="op" id="1629299">-</span><span class="ident" id="1629300">y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1629303">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629307">yfr</span><span class="op" id="1629310">,</span>&nbsp;<span class="ident" id="1629312">yexp</span>&nbsp;<span class="op" id="1629317">:=</span>&nbsp;<span class="ident" id="1629320">Frexp</span><span class="op" id="1629325">(</span><span class="ident" id="1629326">y</span><span class="op" id="1629327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629330">sign</span>&nbsp;<span class="op" id="1629335">:=</span>&nbsp;<span class="builtintype" id="1629338">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629345">r</span>&nbsp;<span class="op" id="1629347">:=</span>&nbsp;<span class="ident" id="1629350">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1629353">if</span>&nbsp;<span class="ident" id="1629356">x</span>&nbsp;<span class="op" id="1629358">&lt;</span>&nbsp;<span class="num" id="1629360">0</span>&nbsp;<span class="op" id="1629362">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629366">r</span>&nbsp;<span class="op" id="1629368">=</span>&nbsp;<span class="op" id="1629370">-</span><span class="ident" id="1629371">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629375">sign</span>&nbsp;<span class="op" id="1629380">=</span>&nbsp;<span class="builtintype" id="1629382">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1629388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1629392">for</span>&nbsp;<span class="ident" id="1629396">r</span>&nbsp;<span class="op" id="1629398">&gt;=</span>&nbsp;<span class="ident" id="1629401">y</span>&nbsp;<span class="op" id="1629403">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629407">rfr</span><span class="op" id="1629410">,</span>&nbsp;<span class="ident" id="1629412">rexp</span>&nbsp;<span class="op" id="1629417">:=</span>&nbsp;<span class="ident" id="1629420">Frexp</span><span class="op" id="1629425">(</span><span class="ident" id="1629426">r</span><span class="op" id="1629427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1629431">if</span>&nbsp;<span class="ident" id="1629434">rfr</span>&nbsp;<span class="op" id="1629438">&lt;</span>&nbsp;<span class="ident" id="1629440">yfr</span>&nbsp;<span class="op" id="1629444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629449">rexp</span>&nbsp;<span class="op" id="1629454">=</span>&nbsp;<span class="ident" id="1629456">rexp</span>&nbsp;<span class="op" id="1629461">-</span>&nbsp;<span class="num" id="1629463">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1629467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629471">r</span>&nbsp;<span class="op" id="1629473">=</span>&nbsp;<span class="ident" id="1629475">r</span>&nbsp;<span class="op" id="1629477">-</span>&nbsp;<span class="ident" id="1629479">Ldexp</span><span class="op" id="1629484">(</span><span class="ident" id="1629485">y</span><span class="op" id="1629486">,</span>&nbsp;<span class="ident" id="1629488">rexp</span><span class="op" id="1629492">-</span><span class="ident" id="1629493">yexp</span><span class="op" id="1629497">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1629500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1629503">if</span>&nbsp;<span class="ident" id="1629506">sign</span>&nbsp;<span class="op" id="1629511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1629515">r</span>&nbsp;<span class="op" id="1629517">=</span>&nbsp;<span class="op" id="1629519">-</span><span class="ident" id="1629520">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1629523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1629526">return</span>&nbsp;<span class="ident" id="1629533">r</span><br>
<span class="lineno">50</span><span class="op" id="1629535">}</span>
</div>
</body>
</html>
