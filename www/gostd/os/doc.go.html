<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2307335">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2307390">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2307444">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2307495">package</span>&nbsp;<span class="ident" id="2307503">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2307507">import</span>&nbsp;<span class="string" id="2307514">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2307522">//&nbsp;FindProcess&nbsp;looks&nbsp;for&nbsp;a&nbsp;running&nbsp;process&nbsp;by&nbsp;its&nbsp;pid.</span><br>
<span class="lineno">10</span><span class="comment" id="2307577">//&nbsp;The&nbsp;Process&nbsp;it&nbsp;returns&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;obtain&nbsp;information</span><br>
<span class="lineno"></span><span class="comment" id="2307637">//&nbsp;about&nbsp;the&nbsp;underlying&nbsp;operating&nbsp;system&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2307687">func</span>&nbsp;<span class="ident" id="2307692">FindProcess</span><span class="op" id="2307703">(</span><span class="ident" id="2307704">pid</span>&nbsp;<span class="builtintype" id="2307708">int</span><span class="op" id="2307711">)</span>&nbsp;<span class="op" id="2307713">(</span><span class="ident" id="2307714">p</span>&nbsp;<span class="op" id="2307716">*</span><span class="ident" id="2307717">Process</span><span class="op" id="2307724">,</span>&nbsp;<span class="ident" id="2307726">err</span>&nbsp;<span class="builtintype" id="2307730">error</span><span class="op" id="2307735">)</span>&nbsp;<span class="op" id="2307737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2307740">return</span>&nbsp;<span class="ident" id="2307747">findProcess</span><span class="op" id="2307758">(</span><span class="ident" id="2307759">pid</span><span class="op" id="2307762">)</span><br>
<span class="lineno"></span><span class="op" id="2307764">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2307767">//&nbsp;StartProcess&nbsp;starts&nbsp;a&nbsp;new&nbsp;process&nbsp;with&nbsp;the&nbsp;program,&nbsp;arguments&nbsp;and&nbsp;attributes</span><br>
<span class="lineno"></span><span class="comment" id="2307847">//&nbsp;specified&nbsp;by&nbsp;name,&nbsp;argv&nbsp;and&nbsp;attr.</span><br>
<span class="lineno"></span><span class="comment" id="2307884">//</span><br>
<span class="lineno"></span><span class="comment" id="2307887">//&nbsp;StartProcess&nbsp;is&nbsp;a&nbsp;low-level&nbsp;interface.&nbsp;The&nbsp;os/exec&nbsp;package&nbsp;provides</span><br>
<span class="lineno">20</span><span class="comment" id="2307958">//&nbsp;higher-level&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="comment" id="2307986">//</span><br>
<span class="lineno"></span><span class="comment" id="2307989">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2308045">func</span>&nbsp;<span class="ident" id="2308050">StartProcess</span><span class="op" id="2308062">(</span><span class="ident" id="2308063">name</span>&nbsp;<span class="builtintype" id="2308068">string</span><span class="op" id="2308074">,</span>&nbsp;<span class="ident" id="2308076">argv</span>&nbsp;<span class="op" id="2308081">[</span><span class="op" id="2308082">]</span><span class="builtintype" id="2308083">string</span><span class="op" id="2308089">,</span>&nbsp;<span class="ident" id="2308091">attr</span>&nbsp;<span class="op" id="2308096">*</span><span class="ident" id="2308097">ProcAttr</span><span class="op" id="2308105">)</span>&nbsp;<span class="op" id="2308107">(</span><span class="op" id="2308108">*</span><span class="ident" id="2308109">Process</span><span class="op" id="2308116">,</span>&nbsp;<span class="builtintype" id="2308118">error</span><span class="op" id="2308123">)</span>&nbsp;<span class="op" id="2308125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2308128">return</span>&nbsp;<span class="ident" id="2308135">startProcess</span><span class="op" id="2308147">(</span><span class="ident" id="2308148">name</span><span class="op" id="2308152">,</span>&nbsp;<span class="ident" id="2308154">argv</span><span class="op" id="2308158">,</span>&nbsp;<span class="ident" id="2308160">attr</span><span class="op" id="2308164">)</span><br>
<span class="lineno">25</span><span class="op" id="2308166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2308169">//&nbsp;Release&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process&nbsp;p,</span><br>
<span class="lineno"></span><span class="comment" id="2308234">//&nbsp;rendering&nbsp;it&nbsp;unusable&nbsp;in&nbsp;the&nbsp;future.</span><br>
<span class="lineno"></span><span class="comment" id="2308274">//&nbsp;Release&nbsp;only&nbsp;needs&nbsp;to&nbsp;be&nbsp;called&nbsp;if&nbsp;Wait&nbsp;is&nbsp;not.</span><br>
<span class="lineno">30</span><span class="keyword" id="2308325">func</span>&nbsp;<span class="op" id="2308330">(</span><span class="ident" id="2308331">p</span>&nbsp;<span class="op" id="2308333">*</span><span class="ident" id="2308334">Process</span><span class="op" id="2308341">)</span>&nbsp;<span class="ident" id="2308343">Release</span><span class="op" id="2308350">(</span><span class="op" id="2308351">)</span>&nbsp;<span class="builtintype" id="2308353">error</span>&nbsp;<span class="op" id="2308359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2308362">return</span>&nbsp;<span class="ident" id="2308369">p</span><span class="op" id="2308370">.</span><span class="ident" id="2308371">release</span><span class="op" id="2308378">(</span><span class="op" id="2308379">)</span><br>
<span class="lineno"></span><span class="op" id="2308381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2308384">//&nbsp;Kill&nbsp;causes&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit&nbsp;immediately.</span><br>
<span class="lineno">35</span><span class="keyword" id="2308432">func</span>&nbsp;<span class="op" id="2308437">(</span><span class="ident" id="2308438">p</span>&nbsp;<span class="op" id="2308440">*</span><span class="ident" id="2308441">Process</span><span class="op" id="2308448">)</span>&nbsp;<span class="ident" id="2308450">Kill</span><span class="op" id="2308454">(</span><span class="op" id="2308455">)</span>&nbsp;<span class="builtintype" id="2308457">error</span>&nbsp;<span class="op" id="2308463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2308466">return</span>&nbsp;<span class="ident" id="2308473">p</span><span class="op" id="2308474">.</span><span class="ident" id="2308475">kill</span><span class="op" id="2308479">(</span><span class="op" id="2308480">)</span><br>
<span class="lineno"></span><span class="op" id="2308482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2308485">//&nbsp;Wait&nbsp;waits&nbsp;for&nbsp;the&nbsp;Process&nbsp;to&nbsp;exit,&nbsp;and&nbsp;then&nbsp;returns&nbsp;a</span><br>
<span class="lineno">40</span><span class="comment" id="2308543">//&nbsp;ProcessState&nbsp;describing&nbsp;its&nbsp;status&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2308603">//&nbsp;Wait&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2308663">//&nbsp;On&nbsp;most&nbsp;operating&nbsp;systems,&nbsp;the&nbsp;Process&nbsp;must&nbsp;be&nbsp;a&nbsp;child</span><br>
<span class="lineno"></span><span class="comment" id="2308721">//&nbsp;of&nbsp;the&nbsp;current&nbsp;process&nbsp;or&nbsp;an&nbsp;error&nbsp;will&nbsp;be&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="2308777">func</span>&nbsp;<span class="op" id="2308782">(</span><span class="ident" id="2308783">p</span>&nbsp;<span class="op" id="2308785">*</span><span class="ident" id="2308786">Process</span><span class="op" id="2308793">)</span>&nbsp;<span class="ident" id="2308795">Wait</span><span class="op" id="2308799">(</span><span class="op" id="2308800">)</span>&nbsp;<span class="op" id="2308802">(</span><span class="op" id="2308803">*</span><span class="ident" id="2308804">ProcessState</span><span class="op" id="2308816">,</span>&nbsp;<span class="builtintype" id="2308818">error</span><span class="op" id="2308823">)</span>&nbsp;<span class="op" id="2308825">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2308828">return</span>&nbsp;<span class="ident" id="2308835">p</span><span class="op" id="2308836">.</span><span class="ident" id="2308837">wait</span><span class="op" id="2308841">(</span><span class="op" id="2308842">)</span><br>
<span class="lineno"></span><span class="op" id="2308844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2308847">//&nbsp;Signal&nbsp;sends&nbsp;a&nbsp;signal&nbsp;to&nbsp;the&nbsp;Process.</span><br>
<span class="lineno"></span><span class="comment" id="2308888">//&nbsp;Sending&nbsp;Interrupt&nbsp;on&nbsp;Windows&nbsp;is&nbsp;not&nbsp;implemented.</span><br>
<span class="lineno">50</span><span class="keyword" id="2308940">func</span>&nbsp;<span class="op" id="2308945">(</span><span class="ident" id="2308946">p</span>&nbsp;<span class="op" id="2308948">*</span><span class="ident" id="2308949">Process</span><span class="op" id="2308956">)</span>&nbsp;<span class="ident" id="2308958">Signal</span><span class="op" id="2308964">(</span><span class="ident" id="2308965">sig</span>&nbsp;<span class="ident" id="2308969">Signal</span><span class="op" id="2308975">)</span>&nbsp;<span class="builtintype" id="2308977">error</span>&nbsp;<span class="op" id="2308983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2308986">return</span>&nbsp;<span class="ident" id="2308993">p</span><span class="op" id="2308994">.</span><span class="ident" id="2308995">signal</span><span class="op" id="2309001">(</span><span class="ident" id="2309002">sig</span><span class="op" id="2309005">)</span><br>
<span class="lineno"></span><span class="op" id="2309007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2309010">//&nbsp;UserTime&nbsp;returns&nbsp;the&nbsp;user&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">55</span><span class="keyword" id="2309088">func</span>&nbsp;<span class="op" id="2309093">(</span><span class="ident" id="2309094">p</span>&nbsp;<span class="op" id="2309096">*</span><span class="ident" id="2309097">ProcessState</span><span class="op" id="2309109">)</span>&nbsp;<span class="ident" id="2309111">UserTime</span><span class="op" id="2309119">(</span><span class="op" id="2309120">)</span>&nbsp;<span class="ident" id="2309122">time</span><span class="op" id="2309126">.</span><span class="ident" id="2309127">Duration</span>&nbsp;<span class="op" id="2309136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2309139">return</span>&nbsp;<span class="ident" id="2309146">p</span><span class="op" id="2309147">.</span><span class="ident" id="2309148">userTime</span><span class="op" id="2309156">(</span><span class="op" id="2309157">)</span><br>
<span class="lineno"></span><span class="op" id="2309159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2309162">//&nbsp;SystemTime&nbsp;returns&nbsp;the&nbsp;system&nbsp;CPU&nbsp;time&nbsp;of&nbsp;the&nbsp;exited&nbsp;process&nbsp;and&nbsp;its&nbsp;children.</span><br>
<span class="lineno">60</span><span class="keyword" id="2309244">func</span>&nbsp;<span class="op" id="2309249">(</span><span class="ident" id="2309250">p</span>&nbsp;<span class="op" id="2309252">*</span><span class="ident" id="2309253">ProcessState</span><span class="op" id="2309265">)</span>&nbsp;<span class="ident" id="2309267">SystemTime</span><span class="op" id="2309277">(</span><span class="op" id="2309278">)</span>&nbsp;<span class="ident" id="2309280">time</span><span class="op" id="2309284">.</span><span class="ident" id="2309285">Duration</span>&nbsp;<span class="op" id="2309294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2309297">return</span>&nbsp;<span class="ident" id="2309304">p</span><span class="op" id="2309305">.</span><span class="ident" id="2309306">systemTime</span><span class="op" id="2309316">(</span><span class="op" id="2309317">)</span><br>
<span class="lineno"></span><span class="op" id="2309319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2309322">//&nbsp;Exited&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;has&nbsp;exited.</span><br>
<span class="lineno">65</span><span class="keyword" id="2309372">func</span>&nbsp;<span class="op" id="2309377">(</span><span class="ident" id="2309378">p</span>&nbsp;<span class="op" id="2309380">*</span><span class="ident" id="2309381">ProcessState</span><span class="op" id="2309393">)</span>&nbsp;<span class="ident" id="2309395">Exited</span><span class="op" id="2309401">(</span><span class="op" id="2309402">)</span>&nbsp;<span class="builtintype" id="2309404">bool</span>&nbsp;<span class="op" id="2309409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2309412">return</span>&nbsp;<span class="ident" id="2309419">p</span><span class="op" id="2309420">.</span><span class="ident" id="2309421">exited</span><span class="op" id="2309427">(</span><span class="op" id="2309428">)</span><br>
<span class="lineno"></span><span class="op" id="2309430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2309433">//&nbsp;Success&nbsp;reports&nbsp;whether&nbsp;the&nbsp;program&nbsp;exited&nbsp;successfully,</span><br>
<span class="lineno">70</span><span class="comment" id="2309493">//&nbsp;such&nbsp;as&nbsp;with&nbsp;exit&nbsp;status&nbsp;0&nbsp;on&nbsp;Unix.</span><br>
<span class="lineno"></span><span class="keyword" id="2309532">func</span>&nbsp;<span class="op" id="2309537">(</span><span class="ident" id="2309538">p</span>&nbsp;<span class="op" id="2309540">*</span><span class="ident" id="2309541">ProcessState</span><span class="op" id="2309553">)</span>&nbsp;<span class="ident" id="2309555">Success</span><span class="op" id="2309562">(</span><span class="op" id="2309563">)</span>&nbsp;<span class="builtintype" id="2309565">bool</span>&nbsp;<span class="op" id="2309570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2309573">return</span>&nbsp;<span class="ident" id="2309580">p</span><span class="op" id="2309581">.</span><span class="ident" id="2309582">success</span><span class="op" id="2309589">(</span><span class="op" id="2309590">)</span><br>
<span class="lineno"></span><span class="op" id="2309592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2309595">//&nbsp;Sys&nbsp;returns&nbsp;system-dependent&nbsp;exit&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2309650">//&nbsp;the&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2309708">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;syscall.WaitStatus&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno"></span><span class="keyword" id="2309777">func</span>&nbsp;<span class="op" id="2309782">(</span><span class="ident" id="2309783">p</span>&nbsp;<span class="op" id="2309785">*</span><span class="ident" id="2309786">ProcessState</span><span class="op" id="2309798">)</span>&nbsp;<span class="ident" id="2309800">Sys</span><span class="op" id="2309803">(</span><span class="op" id="2309804">)</span>&nbsp;<span class="keyword" id="2309806">interface</span><span class="op" id="2309815">{</span><span class="op" id="2309816">}</span>&nbsp;<span class="op" id="2309818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2309821">return</span>&nbsp;<span class="ident" id="2309828">p</span><span class="op" id="2309829">.</span><span class="ident" id="2309830">sys</span><span class="op" id="2309833">(</span><span class="op" id="2309834">)</span><br>
<span class="lineno">80</span><span class="op" id="2309836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2309839">//&nbsp;SysUsage&nbsp;returns&nbsp;system-dependent&nbsp;resource&nbsp;usage&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2309909">//&nbsp;the&nbsp;exited&nbsp;process.&nbsp;&nbsp;Convert&nbsp;it&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2309974">//&nbsp;type,&nbsp;such&nbsp;as&nbsp;*syscall.Rusage&nbsp;on&nbsp;Unix,&nbsp;to&nbsp;access&nbsp;its&nbsp;contents.</span><br>
<span class="lineno">85</span><span class="comment" id="2310040">//&nbsp;(On&nbsp;Unix,&nbsp;*syscall.Rusage&nbsp;matches&nbsp;struct&nbsp;rusage&nbsp;as&nbsp;defined&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2310109">//&nbsp;getrusage(2)&nbsp;manual&nbsp;page.)</span><br>
<span class="lineno"></span><span class="keyword" id="2310139">func</span>&nbsp;<span class="op" id="2310144">(</span><span class="ident" id="2310145">p</span>&nbsp;<span class="op" id="2310147">*</span><span class="ident" id="2310148">ProcessState</span><span class="op" id="2310160">)</span>&nbsp;<span class="ident" id="2310162">SysUsage</span><span class="op" id="2310170">(</span><span class="op" id="2310171">)</span>&nbsp;<span class="keyword" id="2310173">interface</span><span class="op" id="2310182">{</span><span class="op" id="2310183">}</span>&nbsp;<span class="op" id="2310185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2310188">return</span>&nbsp;<span class="ident" id="2310195">p</span><span class="op" id="2310196">.</span><span class="ident" id="2310197">sysUsage</span><span class="op" id="2310205">(</span><span class="op" id="2310206">)</span><br>
<span class="lineno"></span><span class="op" id="2310208">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2310211">//&nbsp;Hostname&nbsp;returns&nbsp;the&nbsp;host&nbsp;name&nbsp;reported&nbsp;by&nbsp;the&nbsp;kernel.</span><br>
<span class="lineno"></span><span class="keyword" id="2310269">func</span>&nbsp;<span class="ident" id="2310274">Hostname</span><span class="op" id="2310282">(</span><span class="op" id="2310283">)</span>&nbsp;<span class="op" id="2310285">(</span><span class="ident" id="2310286">name</span>&nbsp;<span class="builtintype" id="2310291">string</span><span class="op" id="2310297">,</span>&nbsp;<span class="ident" id="2310299">err</span>&nbsp;<span class="builtintype" id="2310303">error</span><span class="op" id="2310308">)</span>&nbsp;<span class="op" id="2310310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2310313">return</span>&nbsp;<span class="ident" id="2310320">hostname</span><span class="op" id="2310328">(</span><span class="op" id="2310329">)</span><br>
<span class="lineno"></span><span class="op" id="2310331">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="2310334">//&nbsp;Readdir&nbsp;reads&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;directory&nbsp;associated&nbsp;with&nbsp;file&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2310406">//&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;up&nbsp;to&nbsp;n&nbsp;FileInfo&nbsp;values,&nbsp;as&nbsp;would&nbsp;be&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2310474">//&nbsp;by&nbsp;Lstat,&nbsp;in&nbsp;directory&nbsp;order.&nbsp;Subsequent&nbsp;calls&nbsp;on&nbsp;the&nbsp;same&nbsp;file&nbsp;will&nbsp;yield</span><br>
<span class="lineno"></span><span class="comment" id="2310552">//&nbsp;further&nbsp;FileInfos.</span><br>
<span class="lineno">100</span><span class="comment" id="2310574">//</span><br>
<span class="lineno"></span><span class="comment" id="2310577">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;FileInfo&nbsp;structures.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2310654">//&nbsp;Readdir&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2310720">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2310787">//</span><br>
<span class="lineno">105</span><span class="comment" id="2310790">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdir&nbsp;returns&nbsp;all&nbsp;the&nbsp;FileInfo&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2310859">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdir&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2310923">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2310991">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2311053">//&nbsp;directory,&nbsp;Readdir&nbsp;returns&nbsp;the&nbsp;FileInfo&nbsp;read&nbsp;until&nbsp;that&nbsp;point</span><br>
<span class="lineno">110</span><span class="comment" id="2311118">//&nbsp;and&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2311142">func</span>&nbsp;<span class="op" id="2311147">(</span><span class="ident" id="2311148">f</span>&nbsp;<span class="op" id="2311150">*</span><span class="ident" id="2311151">File</span><span class="op" id="2311155">)</span>&nbsp;<span class="ident" id="2311157">Readdir</span><span class="op" id="2311164">(</span><span class="ident" id="2311165">n</span>&nbsp;<span class="builtintype" id="2311167">int</span><span class="op" id="2311170">)</span>&nbsp;<span class="op" id="2311172">(</span><span class="ident" id="2311173">fi</span>&nbsp;<span class="op" id="2311176">[</span><span class="op" id="2311177">]</span><span class="ident" id="2311178">FileInfo</span><span class="op" id="2311186">,</span>&nbsp;<span class="ident" id="2311188">err</span>&nbsp;<span class="builtintype" id="2311192">error</span><span class="op" id="2311197">)</span>&nbsp;<span class="op" id="2311199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2311202">if</span>&nbsp;<span class="ident" id="2311205">f</span>&nbsp;<span class="op" id="2311207">==</span>&nbsp;<span class="ident" id="2311210">nil</span>&nbsp;<span class="op" id="2311214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2311218">return</span>&nbsp;<span class="ident" id="2311225">nil</span><span class="op" id="2311228">,</span>&nbsp;<span class="ident" id="2311230">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2311242">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2311245">return</span>&nbsp;<span class="ident" id="2311252">f</span><span class="op" id="2311253">.</span><span class="ident" id="2311254">readdir</span><span class="op" id="2311261">(</span><span class="ident" id="2311262">n</span><span class="op" id="2311263">)</span><br>
<span class="lineno"></span><span class="op" id="2311265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2311268">//&nbsp;Readdirnames&nbsp;reads&nbsp;and&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="2311341">//</span><br>
<span class="lineno">120</span><span class="comment" id="2311344">//&nbsp;If&nbsp;n&nbsp;&gt;&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;at&nbsp;most&nbsp;n&nbsp;names.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="2311412">//&nbsp;Readdirnames&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice,&nbsp;it&nbsp;will&nbsp;return&nbsp;a&nbsp;non-nil&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="2311483">//&nbsp;explaining&nbsp;why.&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;directory,&nbsp;the&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="comment" id="2311550">//</span><br>
<span class="lineno"></span><span class="comment" id="2311553">//&nbsp;If&nbsp;n&nbsp;&lt;=&nbsp;0,&nbsp;Readdirnames&nbsp;returns&nbsp;all&nbsp;the&nbsp;names&nbsp;from&nbsp;the&nbsp;directory&nbsp;in</span><br>
<span class="lineno">125</span><span class="comment" id="2311624">//&nbsp;a&nbsp;single&nbsp;slice.&nbsp;In&nbsp;this&nbsp;case,&nbsp;if&nbsp;Readdirnames&nbsp;succeeds&nbsp;(reads&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2311693">//&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;directory),&nbsp;it&nbsp;returns&nbsp;the&nbsp;slice&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2311761">//&nbsp;nil&nbsp;error.&nbsp;If&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;before&nbsp;the&nbsp;end&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2311823">//&nbsp;directory,&nbsp;Readdirnames&nbsp;returns&nbsp;the&nbsp;names&nbsp;read&nbsp;until&nbsp;that&nbsp;point&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2311894">//&nbsp;a&nbsp;non-nil&nbsp;error.</span><br>
<span class="lineno">130</span><span class="keyword" id="2311914">func</span>&nbsp;<span class="op" id="2311919">(</span><span class="ident" id="2311920">f</span>&nbsp;<span class="op" id="2311922">*</span><span class="ident" id="2311923">File</span><span class="op" id="2311927">)</span>&nbsp;<span class="ident" id="2311929">Readdirnames</span><span class="op" id="2311941">(</span><span class="ident" id="2311942">n</span>&nbsp;<span class="builtintype" id="2311944">int</span><span class="op" id="2311947">)</span>&nbsp;<span class="op" id="2311949">(</span><span class="ident" id="2311950">names</span>&nbsp;<span class="op" id="2311956">[</span><span class="op" id="2311957">]</span><span class="builtintype" id="2311958">string</span><span class="op" id="2311964">,</span>&nbsp;<span class="ident" id="2311966">err</span>&nbsp;<span class="builtintype" id="2311970">error</span><span class="op" id="2311975">)</span>&nbsp;<span class="op" id="2311977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2311980">if</span>&nbsp;<span class="ident" id="2311983">f</span>&nbsp;<span class="op" id="2311985">==</span>&nbsp;<span class="ident" id="2311988">nil</span>&nbsp;<span class="op" id="2311992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2311996">return</span>&nbsp;<span class="ident" id="2312003">nil</span><span class="op" id="2312006">,</span>&nbsp;<span class="ident" id="2312008">ErrInvalid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2312020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2312023">return</span>&nbsp;<span class="ident" id="2312030">f</span><span class="op" id="2312031">.</span><span class="ident" id="2312032">readdirnames</span><span class="op" id="2312044">(</span><span class="ident" id="2312045">n</span><span class="op" id="2312046">)</span><br>
<span class="lineno">135</span><span class="op" id="2312048">}</span>
</div>
</body>
</html>
