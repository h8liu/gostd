<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7818646">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7818701">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7818755">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7818806">package</span>&nbsp;<span class="ident" id="7818814">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7818820">import</span>&nbsp;<span class="op" id="7818827">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7818830">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7818840">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7818843">var</span>&nbsp;<span class="ident" id="7818847">nonExistentPaths</span>&nbsp;<span class="op" id="7818864">=</span>&nbsp;<span class="op" id="7818866">[</span><span class="op" id="7818867">]</span><span class="builtintype" id="7818868">string</span><span class="op" id="7818874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7818877">&#34;some-non-existent-path&#34;</span><span class="op" id="7818901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7818904">&#34;non-existent-path/slashed&#34;</span><span class="op" id="7818931">,</span><br>
<span class="lineno"></span><span class="op" id="7818933">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7818936">func</span>&nbsp;<span class="ident" id="7818941">TestLookPathNotFound</span><span class="op" id="7818961">(</span><span class="ident" id="7818962">t</span>&nbsp;<span class="op" id="7818964">*</span><span class="ident" id="7818965"><a href="/os/exec/lp_test.go.html#7818830">testing</a></span><span class="op" id="7818972">.</span><span class="ident" id="7818973">T</span><span class="op" id="7818974">)</span>&nbsp;<span class="op" id="7818976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7818979">for</span>&nbsp;<span class="ident" id="7818983">_</span><span class="op" id="7818984">,</span>&nbsp;<span class="ident" id="7818986">name</span>&nbsp;<span class="op" id="7818991">:=</span>&nbsp;<span class="keyword" id="7818994">range</span>&nbsp;<span class="ident" id="7819000"><a href="/os/exec/lp_test.go.html#7818847">nonExistentPaths</a></span>&nbsp;<span class="op" id="7819017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7819021">path</span><span class="op" id="7819025">,</span>&nbsp;<span class="ident" id="7819027">err</span>&nbsp;<span class="op" id="7819031">:=</span>&nbsp;<span class="ident" id="7819034"><a href="/os/exec/lp_unix.go.html#6167264">LookPath</a></span><span class="op" id="7819042">(</span><span class="ident" id="7819043"><a href="/os/exec/lp_test.go.html#7818986">name</a></span><span class="op" id="7819047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7819051">if</span>&nbsp;<span class="ident" id="7819054"><a href="/os/exec/lp_test.go.html#7819027">err</a></span>&nbsp;<span class="op" id="7819058">==</span>&nbsp;<span class="ident" id="7819061">nil</span>&nbsp;<span class="op" id="7819065">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7819070"><a href="/os/exec/lp_test.go.html#7818962">t</a></span><span class="op" id="7819071">.</span><span class="ident" id="7819072">Fatalf</span><span class="op" id="7819078">(</span><span class="string" id="7819079">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="7819107">,</span>&nbsp;<span class="ident" id="7819109"><a href="/os/exec/lp_test.go.html#7818986">name</a></span><span class="op" id="7819113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7819121">if</span>&nbsp;<span class="ident" id="7819124"><a href="/os/exec/lp_test.go.html#7819021">path</a></span>&nbsp;<span class="op" id="7819129">!=</span>&nbsp;<span class="string" id="7819132">&#34;&#34;</span>&nbsp;<span class="op" id="7819135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7819140"><a href="/os/exec/lp_test.go.html#7818962">t</a></span><span class="op" id="7819141">.</span><span class="ident" id="7819142">Fatalf</span><span class="op" id="7819148">(</span><span class="string" id="7819149">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="7819186">,</span>&nbsp;<span class="ident" id="7819188"><a href="/os/exec/lp_test.go.html#7819021">path</a></span><span class="op" id="7819192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819196">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7819200">perr</span><span class="op" id="7819204">,</span>&nbsp;<span class="ident" id="7819206">ok</span>&nbsp;<span class="op" id="7819209">:=</span>&nbsp;<span class="ident" id="7819212"><a href="/os/exec/lp_test.go.html#7819027">err</a></span><span class="op" id="7819215">.</span><span class="op" id="7819216">(</span><span class="op" id="7819217">*</span><span class="ident" id="7819218"><a href="/os/exec/exec.go.html#6153543">Error</a></span><span class="op" id="7819223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7819227">if</span>&nbsp;<span class="op" id="7819230">!</span><span class="ident" id="7819231"><a href="/os/exec/lp_test.go.html#7819206">ok</a></span>&nbsp;<span class="op" id="7819234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7819239"><a href="/os/exec/lp_test.go.html#7818962">t</a></span><span class="op" id="7819240">.</span><span class="ident" id="7819241">Fatal</span><span class="op" id="7819246">(</span><span class="string" id="7819247">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="7819284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7819292">if</span>&nbsp;<span class="ident" id="7819295"><a href="/os/exec/lp_test.go.html#7819200">perr</a></span><span class="op" id="7819299">.</span><span class="ident" id="7819300">Name</span>&nbsp;<span class="op" id="7819305">!=</span>&nbsp;<span class="ident" id="7819308"><a href="/os/exec/lp_test.go.html#7818986">name</a></span>&nbsp;<span class="op" id="7819313">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7819318"><a href="/os/exec/lp_test.go.html#7818962">t</a></span><span class="op" id="7819319">.</span><span class="ident" id="7819320">Fatalf</span><span class="op" id="7819326">(</span><span class="string" id="7819327">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7819355">,</span>&nbsp;<span class="ident" id="7819357"><a href="/os/exec/lp_test.go.html#7818986">name</a></span><span class="op" id="7819361">,</span>&nbsp;<span class="ident" id="7819363"><a href="/os/exec/lp_test.go.html#7819200">perr</a></span><span class="op" id="7819367">.</span><span class="ident" id="7819368">Name</span><span class="op" id="7819372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819379">}</span><br>
<span class="lineno"></span><span class="op" id="7819381">}</span>
</div>
</body>
</html>
