<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html" class="current">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8012875">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8012931">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8012985">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8013036">package</span>&nbsp;<span class="ident" id="8013044">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8013049">import</span>&nbsp;<span class="op" id="8013056">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8013059">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8013070">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8013080">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8013083">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="8013151">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="8013218">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="8013228">func</span>&nbsp;<span class="ident" id="8013233">loopbackInterface</span><span class="op" id="8013250">(</span><span class="op" id="8013251">)</span>&nbsp;<span class="op" id="8013253">*</span><span class="ident" id="8013254">Interface</span>&nbsp;<span class="op" id="8013264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8013267">ift</span><span class="op" id="8013270">,</span>&nbsp;<span class="ident" id="8013272">err</span>&nbsp;<span class="op" id="8013276">:=</span>&nbsp;<span class="ident" id="8013279">Interfaces</span><span class="op" id="8013289">(</span><span class="op" id="8013290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013293">if</span>&nbsp;<span class="ident" id="8013296">err</span>&nbsp;<span class="op" id="8013300">!=</span>&nbsp;<span class="ident" id="8013303">nil</span>&nbsp;<span class="op" id="8013307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013311">return</span>&nbsp;<span class="ident" id="8013318">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8013323">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013326">for</span>&nbsp;<span class="ident" id="8013330">_</span><span class="op" id="8013331">,</span>&nbsp;<span class="ident" id="8013333">ifi</span>&nbsp;<span class="op" id="8013337">:=</span>&nbsp;<span class="keyword" id="8013340">range</span>&nbsp;<span class="ident" id="8013346">ift</span>&nbsp;<span class="op" id="8013350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013354">if</span>&nbsp;<span class="ident" id="8013357">ifi</span><span class="op" id="8013360">.</span><span class="ident" id="8013361">Flags</span><span class="op" id="8013366">&amp;</span><span class="ident" id="8013367">FlagLoopback</span>&nbsp;<span class="op" id="8013380">!=</span>&nbsp;<span class="num" id="8013383">0</span>&nbsp;<span class="op" id="8013385">&amp;&amp;</span>&nbsp;<span class="ident" id="8013388">ifi</span><span class="op" id="8013391">.</span><span class="ident" id="8013392">Flags</span><span class="op" id="8013397">&amp;</span><span class="ident" id="8013398">FlagUp</span>&nbsp;<span class="op" id="8013405">!=</span>&nbsp;<span class="num" id="8013408">0</span>&nbsp;<span class="op" id="8013410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013415">return</span>&nbsp;<span class="op" id="8013422">&amp;</span><span class="ident" id="8013423">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8013429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8013432">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013435">return</span>&nbsp;<span class="ident" id="8013442">nil</span><br>
<span class="lineno"></span><span class="op" id="8013446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8013449">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="8013520">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="8013585">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="8013615">func</span>&nbsp;<span class="ident" id="8013620">ipv6LinkLocalUnicastAddr</span><span class="op" id="8013644">(</span><span class="ident" id="8013645">ifi</span>&nbsp;<span class="op" id="8013649">*</span><span class="ident" id="8013650">Interface</span><span class="op" id="8013659">)</span>&nbsp;<span class="builtintype" id="8013661">string</span>&nbsp;<span class="op" id="8013668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013671">if</span>&nbsp;<span class="ident" id="8013674">ifi</span>&nbsp;<span class="op" id="8013678">==</span>&nbsp;<span class="ident" id="8013681">nil</span>&nbsp;<span class="op" id="8013685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013689">return</span>&nbsp;<span class="string" id="8013696">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8013700">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8013703">ifat</span><span class="op" id="8013707">,</span>&nbsp;<span class="ident" id="8013709">err</span>&nbsp;<span class="op" id="8013713">:=</span>&nbsp;<span class="ident" id="8013716">ifi</span><span class="op" id="8013719">.</span><span class="ident" id="8013720">Addrs</span><span class="op" id="8013725">(</span><span class="op" id="8013726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013729">if</span>&nbsp;<span class="ident" id="8013732">err</span>&nbsp;<span class="op" id="8013736">!=</span>&nbsp;<span class="ident" id="8013739">nil</span>&nbsp;<span class="op" id="8013743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013747">return</span>&nbsp;<span class="string" id="8013754">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8013758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013761">for</span>&nbsp;<span class="ident" id="8013765">_</span><span class="op" id="8013766">,</span>&nbsp;<span class="ident" id="8013768">ifa</span>&nbsp;<span class="op" id="8013772">:=</span>&nbsp;<span class="keyword" id="8013775">range</span>&nbsp;<span class="ident" id="8013781">ifat</span>&nbsp;<span class="op" id="8013786">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013790">switch</span>&nbsp;<span class="ident" id="8013797">ifa</span>&nbsp;<span class="op" id="8013801">:=</span>&nbsp;<span class="ident" id="8013804">ifa</span><span class="op" id="8013807">.</span><span class="op" id="8013808">(</span><span class="keyword" id="8013809">type</span><span class="op" id="8013813">)</span>&nbsp;<span class="op" id="8013815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013819">case</span>&nbsp;<span class="op" id="8013824">*</span><span class="ident" id="8013825">IPAddr</span><span class="op" id="8013831">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013836">if</span>&nbsp;<span class="ident" id="8013839">ifa</span><span class="op" id="8013842">.</span><span class="ident" id="8013843">IP</span><span class="op" id="8013845">.</span><span class="ident" id="8013846">To4</span><span class="op" id="8013849">(</span><span class="op" id="8013850">)</span>&nbsp;<span class="op" id="8013852">==</span>&nbsp;<span class="ident" id="8013855">nil</span>&nbsp;<span class="op" id="8013859">&amp;&amp;</span>&nbsp;<span class="ident" id="8013862">ifa</span><span class="op" id="8013865">.</span><span class="ident" id="8013866">IP</span><span class="op" id="8013868">.</span><span class="ident" id="8013869">IsLinkLocalUnicast</span><span class="op" id="8013887">(</span><span class="op" id="8013888">)</span>&nbsp;<span class="op" id="8013890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013896">return</span>&nbsp;<span class="ident" id="8013903">ifa</span><span class="op" id="8013906">.</span><span class="ident" id="8013907">IP</span><span class="op" id="8013909">.</span><span class="ident" id="8013910">String</span><span class="op" id="8013916">(</span><span class="op" id="8013917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8013922">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013926">case</span>&nbsp;<span class="op" id="8013931">*</span><span class="ident" id="8013932">IPNet</span><span class="op" id="8013937">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8013942">if</span>&nbsp;<span class="ident" id="8013945">ifa</span><span class="op" id="8013948">.</span><span class="ident" id="8013949">IP</span><span class="op" id="8013951">.</span><span class="ident" id="8013952">To4</span><span class="op" id="8013955">(</span><span class="op" id="8013956">)</span>&nbsp;<span class="op" id="8013958">==</span>&nbsp;<span class="ident" id="8013961">nil</span>&nbsp;<span class="op" id="8013965">&amp;&amp;</span>&nbsp;<span class="ident" id="8013968">ifa</span><span class="op" id="8013971">.</span><span class="ident" id="8013972">IP</span><span class="op" id="8013974">.</span><span class="ident" id="8013975">IsLinkLocalUnicast</span><span class="op" id="8013993">(</span><span class="op" id="8013994">)</span>&nbsp;<span class="op" id="8013996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8014002">return</span>&nbsp;<span class="ident" id="8014009">ifa</span><span class="op" id="8014012">.</span><span class="ident" id="8014013">IP</span><span class="op" id="8014015">.</span><span class="ident" id="8014016">String</span><span class="op" id="8014022">(</span><span class="op" id="8014023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014032">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8014038">return</span>&nbsp;<span class="string" id="8014045">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="8014048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8014051">func</span>&nbsp;<span class="ident" id="8014056">TestInterfaces</span><span class="op" id="8014070">(</span><span class="ident" id="8014071">t</span>&nbsp;<span class="op" id="8014073">*</span><span class="ident" id="8014074">testing</span><span class="op" id="8014081">.</span><span class="ident" id="8014082">T</span><span class="op" id="8014083">)</span>&nbsp;<span class="op" id="8014085">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014088">ift</span><span class="op" id="8014091">,</span>&nbsp;<span class="ident" id="8014093">err</span>&nbsp;<span class="op" id="8014097">:=</span>&nbsp;<span class="ident" id="8014100">Interfaces</span><span class="op" id="8014110">(</span><span class="op" id="8014111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8014114">if</span>&nbsp;<span class="ident" id="8014117">err</span>&nbsp;<span class="op" id="8014121">!=</span>&nbsp;<span class="ident" id="8014124">nil</span>&nbsp;<span class="op" id="8014128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014132">t</span><span class="op" id="8014133">.</span><span class="ident" id="8014134">Fatalf</span><span class="op" id="8014140">(</span><span class="string" id="8014141">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8014164">,</span>&nbsp;<span class="ident" id="8014166">err</span><span class="op" id="8014169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014175">t</span><span class="op" id="8014176">.</span><span class="ident" id="8014177">Logf</span><span class="op" id="8014181">(</span><span class="string" id="8014182">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="8014206">,</span>&nbsp;<span class="builtinfunc" id="8014208">len</span><span class="op" id="8014211">(</span><span class="ident" id="8014212">ift</span><span class="op" id="8014215">)</span><span class="op" id="8014216">,</span>&nbsp;<span class="builtinfunc" id="8014218">cap</span><span class="op" id="8014221">(</span><span class="ident" id="8014222">ift</span><span class="op" id="8014225">)</span><span class="op" id="8014226">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8014230">for</span>&nbsp;<span class="ident" id="8014234">_</span><span class="op" id="8014235">,</span>&nbsp;<span class="ident" id="8014237">ifi</span>&nbsp;<span class="op" id="8014241">:=</span>&nbsp;<span class="keyword" id="8014244">range</span>&nbsp;<span class="ident" id="8014250">ift</span>&nbsp;<span class="op" id="8014254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014258">ifxi</span><span class="op" id="8014262">,</span>&nbsp;<span class="ident" id="8014264">err</span>&nbsp;<span class="op" id="8014268">:=</span>&nbsp;<span class="ident" id="8014271">InterfaceByIndex</span><span class="op" id="8014287">(</span><span class="ident" id="8014288">ifi</span><span class="op" id="8014291">.</span><span class="ident" id="8014292">Index</span><span class="op" id="8014297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8014301">if</span>&nbsp;<span class="ident" id="8014304">err</span>&nbsp;<span class="op" id="8014308">!=</span>&nbsp;<span class="ident" id="8014311">nil</span>&nbsp;<span class="op" id="8014315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014320">t</span><span class="op" id="8014321">.</span><span class="ident" id="8014322">Fatalf</span><span class="op" id="8014328">(</span><span class="string" id="8014329">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8014362">,</span>&nbsp;<span class="ident" id="8014364">ifi</span><span class="op" id="8014367">.</span><span class="ident" id="8014368">Index</span><span class="op" id="8014373">,</span>&nbsp;<span class="ident" id="8014375">err</span><span class="op" id="8014378">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8014386">if</span>&nbsp;<span class="op" id="8014389">!</span><span class="ident" id="8014390">reflect</span><span class="op" id="8014397">.</span><span class="ident" id="8014398">DeepEqual</span><span class="op" id="8014407">(</span><span class="ident" id="8014408">ifxi</span><span class="op" id="8014412">,</span>&nbsp;<span class="op" id="8014414">&amp;</span><span class="ident" id="8014415">ifi</span><span class="op" id="8014418">)</span>&nbsp;<span class="op" id="8014420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014425">t</span><span class="op" id="8014426">.</span><span class="ident" id="8014427">Fatalf</span><span class="op" id="8014433">(</span><span class="string" id="8014434">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8014470">,</span>&nbsp;<span class="ident" id="8014472">ifi</span><span class="op" id="8014475">.</span><span class="ident" id="8014476">Index</span><span class="op" id="8014481">,</span>&nbsp;<span class="ident" id="8014483">ifxi</span><span class="op" id="8014487">,</span>&nbsp;<span class="ident" id="8014489">ifi</span><span class="op" id="8014492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014500">ifxn</span><span class="op" id="8014504">,</span>&nbsp;<span class="ident" id="8014506">err</span>&nbsp;<span class="op" id="8014510">:=</span>&nbsp;<span class="ident" id="8014513">InterfaceByName</span><span class="op" id="8014528">(</span><span class="ident" id="8014529">ifi</span><span class="op" id="8014532">.</span><span class="ident" id="8014533">Name</span><span class="op" id="8014537">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8014541">if</span>&nbsp;<span class="ident" id="8014544">err</span>&nbsp;<span class="op" id="8014548">!=</span>&nbsp;<span class="ident" id="8014551">nil</span>&nbsp;<span class="op" id="8014555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014560">t</span><span class="op" id="8014561">.</span><span class="ident" id="8014562">Fatalf</span><span class="op" id="8014568">(</span><span class="string" id="8014569">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8014601">,</span>&nbsp;<span class="ident" id="8014603">ifi</span><span class="op" id="8014606">.</span><span class="ident" id="8014607">Name</span><span class="op" id="8014611">,</span>&nbsp;<span class="ident" id="8014613">err</span><span class="op" id="8014616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8014624">if</span>&nbsp;<span class="op" id="8014627">!</span><span class="ident" id="8014628">reflect</span><span class="op" id="8014635">.</span><span class="ident" id="8014636">DeepEqual</span><span class="op" id="8014645">(</span><span class="ident" id="8014646">ifxn</span><span class="op" id="8014650">,</span>&nbsp;<span class="op" id="8014652">&amp;</span><span class="ident" id="8014653">ifi</span><span class="op" id="8014656">)</span>&nbsp;<span class="op" id="8014658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014663">t</span><span class="op" id="8014664">.</span><span class="ident" id="8014665">Fatalf</span><span class="op" id="8014671">(</span><span class="string" id="8014672">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8014707">,</span>&nbsp;<span class="ident" id="8014709">ifi</span><span class="op" id="8014712">.</span><span class="ident" id="8014713">Name</span><span class="op" id="8014717">,</span>&nbsp;<span class="ident" id="8014719">ifxn</span><span class="op" id="8014723">,</span>&nbsp;<span class="ident" id="8014725">ifi</span><span class="op" id="8014728">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014736">t</span><span class="op" id="8014737">.</span><span class="ident" id="8014738">Logf</span><span class="op" id="8014742">(</span><span class="string" id="8014743">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="8014777">,</span>&nbsp;<span class="ident" id="8014779">ifi</span><span class="op" id="8014782">.</span><span class="ident" id="8014783">Name</span><span class="op" id="8014787">,</span>&nbsp;<span class="ident" id="8014789">ifi</span><span class="op" id="8014792">.</span><span class="ident" id="8014793">Flags</span><span class="op" id="8014798">.</span><span class="ident" id="8014799">String</span><span class="op" id="8014805">(</span><span class="op" id="8014806">)</span><span class="op" id="8014807">,</span>&nbsp;<span class="ident" id="8014809">ifi</span><span class="op" id="8014812">.</span><span class="ident" id="8014813">Index</span><span class="op" id="8014818">,</span>&nbsp;<span class="ident" id="8014820">ifi</span><span class="op" id="8014823">.</span><span class="ident" id="8014824">MTU</span><span class="op" id="8014827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014831">t</span><span class="op" id="8014832">.</span><span class="ident" id="8014833">Logf</span><span class="op" id="8014837">(</span><span class="string" id="8014838">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8014861">,</span>&nbsp;<span class="ident" id="8014863">ifi</span><span class="op" id="8014866">.</span><span class="ident" id="8014867">HardwareAddr</span><span class="op" id="8014879">.</span><span class="ident" id="8014880">String</span><span class="op" id="8014886">(</span><span class="op" id="8014887">)</span><span class="op" id="8014888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014892">testInterfaceAddrs</span><span class="op" id="8014910">(</span><span class="ident" id="8014911">t</span><span class="op" id="8014912">,</span>&nbsp;<span class="op" id="8014914">&amp;</span><span class="ident" id="8014915">ifi</span><span class="op" id="8014918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8014922">testInterfaceMulticastAddrs</span><span class="op" id="8014949">(</span><span class="ident" id="8014950">t</span><span class="op" id="8014951">,</span>&nbsp;<span class="op" id="8014953">&amp;</span><span class="ident" id="8014954">ifi</span><span class="op" id="8014957">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8014960">}</span><br>
<span class="lineno"></span><span class="op" id="8014962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8014965">func</span>&nbsp;<span class="ident" id="8014970">TestInterfaceAddrs</span><span class="op" id="8014988">(</span><span class="ident" id="8014989">t</span>&nbsp;<span class="op" id="8014991">*</span><span class="ident" id="8014992">testing</span><span class="op" id="8014999">.</span><span class="ident" id="8015000">T</span><span class="op" id="8015001">)</span>&nbsp;<span class="op" id="8015003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015006">ifat</span><span class="op" id="8015010">,</span>&nbsp;<span class="ident" id="8015012">err</span>&nbsp;<span class="op" id="8015016">:=</span>&nbsp;<span class="ident" id="8015019">InterfaceAddrs</span><span class="op" id="8015033">(</span><span class="op" id="8015034">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015037">if</span>&nbsp;<span class="ident" id="8015040">err</span>&nbsp;<span class="op" id="8015044">!=</span>&nbsp;<span class="ident" id="8015047">nil</span>&nbsp;<span class="op" id="8015051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015055">t</span><span class="op" id="8015056">.</span><span class="ident" id="8015057">Fatalf</span><span class="op" id="8015063">(</span><span class="string" id="8015064">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8015091">,</span>&nbsp;<span class="ident" id="8015093">err</span><span class="op" id="8015096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8015099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015102">t</span><span class="op" id="8015103">.</span><span class="ident" id="8015104">Logf</span><span class="op" id="8015108">(</span><span class="string" id="8015109">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="8015133">,</span>&nbsp;<span class="builtinfunc" id="8015135">len</span><span class="op" id="8015138">(</span><span class="ident" id="8015139">ifat</span><span class="op" id="8015143">)</span><span class="op" id="8015144">,</span>&nbsp;<span class="builtinfunc" id="8015146">cap</span><span class="op" id="8015149">(</span><span class="ident" id="8015150">ifat</span><span class="op" id="8015154">)</span><span class="op" id="8015155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015158">testAddrs</span><span class="op" id="8015167">(</span><span class="ident" id="8015168">t</span><span class="op" id="8015169">,</span>&nbsp;<span class="ident" id="8015171">ifat</span><span class="op" id="8015175">)</span><br>
<span class="lineno">90</span><span class="op" id="8015177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8015180">func</span>&nbsp;<span class="ident" id="8015185">testInterfaceAddrs</span><span class="op" id="8015203">(</span><span class="ident" id="8015204">t</span>&nbsp;<span class="op" id="8015206">*</span><span class="ident" id="8015207">testing</span><span class="op" id="8015214">.</span><span class="ident" id="8015215">T</span><span class="op" id="8015216">,</span>&nbsp;<span class="ident" id="8015218">ifi</span>&nbsp;<span class="op" id="8015222">*</span><span class="ident" id="8015223">Interface</span><span class="op" id="8015232">)</span>&nbsp;<span class="op" id="8015234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015237">ifat</span><span class="op" id="8015241">,</span>&nbsp;<span class="ident" id="8015243">err</span>&nbsp;<span class="op" id="8015247">:=</span>&nbsp;<span class="ident" id="8015250">ifi</span><span class="op" id="8015253">.</span><span class="ident" id="8015254">Addrs</span><span class="op" id="8015259">(</span><span class="op" id="8015260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015263">if</span>&nbsp;<span class="ident" id="8015266">err</span>&nbsp;<span class="op" id="8015270">!=</span>&nbsp;<span class="ident" id="8015273">nil</span>&nbsp;<span class="op" id="8015277">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015281">t</span><span class="op" id="8015282">.</span><span class="ident" id="8015283">Fatalf</span><span class="op" id="8015289">(</span><span class="string" id="8015290">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8015318">,</span>&nbsp;<span class="ident" id="8015320">err</span><span class="op" id="8015323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8015326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015329">testAddrs</span><span class="op" id="8015338">(</span><span class="ident" id="8015339">t</span><span class="op" id="8015340">,</span>&nbsp;<span class="ident" id="8015342">ifat</span><span class="op" id="8015346">)</span><br>
<span class="lineno"></span><span class="op" id="8015348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="8015351">func</span>&nbsp;<span class="ident" id="8015356">testInterfaceMulticastAddrs</span><span class="op" id="8015383">(</span><span class="ident" id="8015384">t</span>&nbsp;<span class="op" id="8015386">*</span><span class="ident" id="8015387">testing</span><span class="op" id="8015394">.</span><span class="ident" id="8015395">T</span><span class="op" id="8015396">,</span>&nbsp;<span class="ident" id="8015398">ifi</span>&nbsp;<span class="op" id="8015402">*</span><span class="ident" id="8015403">Interface</span><span class="op" id="8015412">)</span>&nbsp;<span class="op" id="8015414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015417">ifmat</span><span class="op" id="8015422">,</span>&nbsp;<span class="ident" id="8015424">err</span>&nbsp;<span class="op" id="8015428">:=</span>&nbsp;<span class="ident" id="8015431">ifi</span><span class="op" id="8015434">.</span><span class="ident" id="8015435">MulticastAddrs</span><span class="op" id="8015449">(</span><span class="op" id="8015450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015453">if</span>&nbsp;<span class="ident" id="8015456">err</span>&nbsp;<span class="op" id="8015460">!=</span>&nbsp;<span class="ident" id="8015463">nil</span>&nbsp;<span class="op" id="8015467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015471">t</span><span class="op" id="8015472">.</span><span class="ident" id="8015473">Fatalf</span><span class="op" id="8015479">(</span><span class="string" id="8015480">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8015517">,</span>&nbsp;<span class="ident" id="8015519">err</span><span class="op" id="8015522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8015525">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015528">testMulticastAddrs</span><span class="op" id="8015546">(</span><span class="ident" id="8015547">t</span><span class="op" id="8015548">,</span>&nbsp;<span class="ident" id="8015550">ifmat</span><span class="op" id="8015555">)</span><br>
<span class="lineno"></span><span class="op" id="8015557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8015560">func</span>&nbsp;<span class="ident" id="8015565">testAddrs</span><span class="op" id="8015574">(</span><span class="ident" id="8015575">t</span>&nbsp;<span class="op" id="8015577">*</span><span class="ident" id="8015578">testing</span><span class="op" id="8015585">.</span><span class="ident" id="8015586">T</span><span class="op" id="8015587">,</span>&nbsp;<span class="ident" id="8015589">ifat</span>&nbsp;<span class="op" id="8015594">[</span><span class="op" id="8015595">]</span><span class="ident" id="8015596">Addr</span><span class="op" id="8015600">)</span>&nbsp;<span class="op" id="8015602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015605">for</span>&nbsp;<span class="ident" id="8015609">_</span><span class="op" id="8015610">,</span>&nbsp;<span class="ident" id="8015612">ifa</span>&nbsp;<span class="op" id="8015616">:=</span>&nbsp;<span class="keyword" id="8015619">range</span>&nbsp;<span class="ident" id="8015625">ifat</span>&nbsp;<span class="op" id="8015630">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015634">switch</span>&nbsp;<span class="ident" id="8015641">ifa</span>&nbsp;<span class="op" id="8015645">:=</span>&nbsp;<span class="ident" id="8015648">ifa</span><span class="op" id="8015651">.</span><span class="op" id="8015652">(</span><span class="keyword" id="8015653">type</span><span class="op" id="8015657">)</span>&nbsp;<span class="op" id="8015659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015663">case</span>&nbsp;<span class="op" id="8015668">*</span><span class="ident" id="8015669">IPAddr</span><span class="op" id="8015675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015680">if</span>&nbsp;<span class="ident" id="8015683">ifa</span>&nbsp;<span class="op" id="8015687">==</span>&nbsp;<span class="ident" id="8015690">nil</span>&nbsp;<span class="op" id="8015694">||</span>&nbsp;<span class="ident" id="8015697">ifa</span><span class="op" id="8015700">.</span><span class="ident" id="8015701">IP</span>&nbsp;<span class="op" id="8015704">==</span>&nbsp;<span class="ident" id="8015707">nil</span>&nbsp;<span class="op" id="8015711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015717">t</span><span class="op" id="8015718">.</span><span class="ident" id="8015719">Errorf</span><span class="op" id="8015725">(</span><span class="string" id="8015726">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8015754">,</span>&nbsp;<span class="ident" id="8015756">ifa</span><span class="op" id="8015759">,</span>&nbsp;<span class="ident" id="8015761">ifa</span><span class="op" id="8015764">.</span><span class="ident" id="8015765">IP</span><span class="op" id="8015767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8015772">}</span>&nbsp;<span class="keyword" id="8015774">else</span>&nbsp;<span class="op" id="8015779">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015785">t</span><span class="op" id="8015786">.</span><span class="ident" id="8015787">Logf</span><span class="op" id="8015791">(</span><span class="string" id="8015792">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8015816">,</span>&nbsp;<span class="ident" id="8015818">ifa</span><span class="op" id="8015821">.</span><span class="ident" id="8015822">String</span><span class="op" id="8015828">(</span><span class="op" id="8015829">)</span><span class="op" id="8015830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8015835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015839">case</span>&nbsp;<span class="op" id="8015844">*</span><span class="ident" id="8015845">IPNet</span><span class="op" id="8015850">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8015855">if</span>&nbsp;<span class="ident" id="8015858">ifa</span>&nbsp;<span class="op" id="8015862">==</span>&nbsp;<span class="ident" id="8015865">nil</span>&nbsp;<span class="op" id="8015869">||</span>&nbsp;<span class="ident" id="8015872">ifa</span><span class="op" id="8015875">.</span><span class="ident" id="8015876">IP</span>&nbsp;<span class="op" id="8015879">==</span>&nbsp;<span class="ident" id="8015882">nil</span>&nbsp;<span class="op" id="8015886">||</span>&nbsp;<span class="ident" id="8015889">ifa</span><span class="op" id="8015892">.</span><span class="ident" id="8015893">Mask</span>&nbsp;<span class="op" id="8015898">==</span>&nbsp;<span class="ident" id="8015901">nil</span>&nbsp;<span class="op" id="8015905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015911">t</span><span class="op" id="8015912">.</span><span class="ident" id="8015913">Errorf</span><span class="op" id="8015919">(</span><span class="string" id="8015920">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8015952">,</span>&nbsp;<span class="ident" id="8015954">ifa</span><span class="op" id="8015957">,</span>&nbsp;<span class="ident" id="8015959">ifa</span><span class="op" id="8015962">.</span><span class="ident" id="8015963">IP</span><span class="op" id="8015965">,</span>&nbsp;<span class="ident" id="8015967">ifa</span><span class="op" id="8015970">.</span><span class="ident" id="8015971">Mask</span><span class="op" id="8015975">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8015980">}</span>&nbsp;<span class="keyword" id="8015982">else</span>&nbsp;<span class="op" id="8015987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8015993">_</span><span class="op" id="8015994">,</span>&nbsp;<span class="ident" id="8015996">prefixLen</span>&nbsp;<span class="op" id="8016006">:=</span>&nbsp;<span class="ident" id="8016009">ifa</span><span class="op" id="8016012">.</span><span class="ident" id="8016013">Mask</span><span class="op" id="8016017">.</span><span class="ident" id="8016018">Size</span><span class="op" id="8016022">(</span><span class="op" id="8016023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016029">if</span>&nbsp;<span class="ident" id="8016032">ifa</span><span class="op" id="8016035">.</span><span class="ident" id="8016036">IP</span><span class="op" id="8016038">.</span><span class="ident" id="8016039">To4</span><span class="op" id="8016042">(</span><span class="op" id="8016043">)</span>&nbsp;<span class="op" id="8016045">!=</span>&nbsp;<span class="ident" id="8016048">nil</span>&nbsp;<span class="op" id="8016052">&amp;&amp;</span>&nbsp;<span class="ident" id="8016055">prefixLen</span>&nbsp;<span class="op" id="8016065">!=</span>&nbsp;<span class="num" id="8016068">8</span><span class="op" id="8016069">*</span><span class="ident" id="8016070">IPv4len</span>&nbsp;<span class="op" id="8016078">||</span>&nbsp;<span class="ident" id="8016081">ifa</span><span class="op" id="8016084">.</span><span class="ident" id="8016085">IP</span><span class="op" id="8016087">.</span><span class="ident" id="8016088">To16</span><span class="op" id="8016092">(</span><span class="op" id="8016093">)</span>&nbsp;<span class="op" id="8016095">!=</span>&nbsp;<span class="ident" id="8016098">nil</span>&nbsp;<span class="op" id="8016102">&amp;&amp;</span>&nbsp;<span class="ident" id="8016105">ifa</span><span class="op" id="8016108">.</span><span class="ident" id="8016109">IP</span><span class="op" id="8016111">.</span><span class="ident" id="8016112">To4</span><span class="op" id="8016115">(</span><span class="op" id="8016116">)</span>&nbsp;<span class="op" id="8016118">==</span>&nbsp;<span class="ident" id="8016121">nil</span>&nbsp;<span class="op" id="8016125">&amp;&amp;</span>&nbsp;<span class="ident" id="8016128">prefixLen</span>&nbsp;<span class="op" id="8016138">!=</span>&nbsp;<span class="num" id="8016141">8</span><span class="op" id="8016142">*</span><span class="ident" id="8016143">IPv6len</span>&nbsp;<span class="op" id="8016151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016158">t</span><span class="op" id="8016159">.</span><span class="ident" id="8016160">Errorf</span><span class="op" id="8016166">(</span><span class="string" id="8016167">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8016203">,</span>&nbsp;<span class="ident" id="8016205">ifa</span><span class="op" id="8016208">,</span>&nbsp;<span class="ident" id="8016210">ifa</span><span class="op" id="8016213">.</span><span class="ident" id="8016214">IP</span><span class="op" id="8016216">,</span>&nbsp;<span class="ident" id="8016218">ifa</span><span class="op" id="8016221">.</span><span class="ident" id="8016222">Mask</span><span class="op" id="8016226">,</span>&nbsp;<span class="ident" id="8016228">prefixLen</span><span class="op" id="8016237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016243">}</span>&nbsp;<span class="keyword" id="8016245">else</span>&nbsp;<span class="op" id="8016250">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016257">t</span><span class="op" id="8016258">.</span><span class="ident" id="8016259">Logf</span><span class="op" id="8016263">(</span><span class="string" id="8016264">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8016288">,</span>&nbsp;<span class="ident" id="8016290">ifa</span><span class="op" id="8016293">.</span><span class="ident" id="8016294">String</span><span class="op" id="8016300">(</span><span class="op" id="8016301">)</span><span class="op" id="8016302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016317">default</span><span class="op" id="8016324">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016329">t</span><span class="op" id="8016330">.</span><span class="ident" id="8016331">Errorf</span><span class="op" id="8016337">(</span><span class="string" id="8016338">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="8016361">,</span>&nbsp;<span class="ident" id="8016363">ifa</span><span class="op" id="8016366">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016373">}</span><br>
<span class="lineno"></span><span class="op" id="8016375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8016378">func</span>&nbsp;<span class="ident" id="8016383">testMulticastAddrs</span><span class="op" id="8016401">(</span><span class="ident" id="8016402">t</span>&nbsp;<span class="op" id="8016404">*</span><span class="ident" id="8016405">testing</span><span class="op" id="8016412">.</span><span class="ident" id="8016413">T</span><span class="op" id="8016414">,</span>&nbsp;<span class="ident" id="8016416">ifmat</span>&nbsp;<span class="op" id="8016422">[</span><span class="op" id="8016423">]</span><span class="ident" id="8016424">Addr</span><span class="op" id="8016428">)</span>&nbsp;<span class="op" id="8016430">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016433">for</span>&nbsp;<span class="ident" id="8016437">_</span><span class="op" id="8016438">,</span>&nbsp;<span class="ident" id="8016440">ifma</span>&nbsp;<span class="op" id="8016445">:=</span>&nbsp;<span class="keyword" id="8016448">range</span>&nbsp;<span class="ident" id="8016454">ifmat</span>&nbsp;<span class="op" id="8016460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016464">switch</span>&nbsp;<span class="ident" id="8016471">ifma</span>&nbsp;<span class="op" id="8016476">:=</span>&nbsp;<span class="ident" id="8016479">ifma</span><span class="op" id="8016483">.</span><span class="op" id="8016484">(</span><span class="keyword" id="8016485">type</span><span class="op" id="8016489">)</span>&nbsp;<span class="op" id="8016491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016495">case</span>&nbsp;<span class="op" id="8016500">*</span><span class="ident" id="8016501">IPAddr</span><span class="op" id="8016507">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016512">if</span>&nbsp;<span class="ident" id="8016515">ifma</span>&nbsp;<span class="op" id="8016520">==</span>&nbsp;<span class="ident" id="8016523">nil</span>&nbsp;<span class="op" id="8016527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016533">t</span><span class="op" id="8016534">.</span><span class="ident" id="8016535">Errorf</span><span class="op" id="8016541">(</span><span class="string" id="8016542">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="8016566">,</span>&nbsp;<span class="ident" id="8016568">ifma</span><span class="op" id="8016572">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016577">}</span>&nbsp;<span class="keyword" id="8016579">else</span>&nbsp;<span class="op" id="8016584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016590">t</span><span class="op" id="8016591">.</span><span class="ident" id="8016592">Logf</span><span class="op" id="8016596">(</span><span class="string" id="8016597">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8016624">,</span>&nbsp;<span class="ident" id="8016626">ifma</span><span class="op" id="8016630">.</span><span class="ident" id="8016631">String</span><span class="op" id="8016637">(</span><span class="op" id="8016638">)</span><span class="op" id="8016639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016648">default</span><span class="op" id="8016655">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016660">t</span><span class="op" id="8016661">.</span><span class="ident" id="8016662">Errorf</span><span class="op" id="8016668">(</span><span class="string" id="8016669">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="8016692">,</span>&nbsp;<span class="ident" id="8016694">ifma</span><span class="op" id="8016698">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016705">}</span><br>
<span class="lineno"></span><span class="op" id="8016707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8016710">func</span>&nbsp;<span class="ident" id="8016715">BenchmarkInterfaces</span><span class="op" id="8016734">(</span><span class="ident" id="8016735">b</span>&nbsp;<span class="op" id="8016737">*</span><span class="ident" id="8016738">testing</span><span class="op" id="8016745">.</span><span class="ident" id="8016746">B</span><span class="op" id="8016747">)</span>&nbsp;<span class="op" id="8016749">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016752">for</span>&nbsp;<span class="ident" id="8016756">i</span>&nbsp;<span class="op" id="8016758">:=</span>&nbsp;<span class="num" id="8016761">0</span><span class="op" id="8016762">;</span>&nbsp;<span class="ident" id="8016764">i</span>&nbsp;<span class="op" id="8016766">&lt;</span>&nbsp;<span class="ident" id="8016768">b</span><span class="op" id="8016769">.</span><span class="ident" id="8016770">N</span><span class="op" id="8016771">;</span>&nbsp;<span class="ident" id="8016773">i</span><span class="op" id="8016774">++</span>&nbsp;<span class="op" id="8016777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016781">if</span>&nbsp;<span class="ident" id="8016784">_</span><span class="op" id="8016785">,</span>&nbsp;<span class="ident" id="8016787">err</span>&nbsp;<span class="op" id="8016791">:=</span>&nbsp;<span class="ident" id="8016794">Interfaces</span><span class="op" id="8016804">(</span><span class="op" id="8016805">)</span><span class="op" id="8016806">;</span>&nbsp;<span class="ident" id="8016808">err</span>&nbsp;<span class="op" id="8016812">!=</span>&nbsp;<span class="ident" id="8016815">nil</span>&nbsp;<span class="op" id="8016819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016824">b</span><span class="op" id="8016825">.</span><span class="ident" id="8016826">Fatalf</span><span class="op" id="8016832">(</span><span class="string" id="8016833">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8016856">,</span>&nbsp;<span class="ident" id="8016858">err</span><span class="op" id="8016861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8016868">}</span><br>
<span class="lineno">155</span><span class="op" id="8016870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8016873">func</span>&nbsp;<span class="ident" id="8016878">BenchmarkInterfaceByIndex</span><span class="op" id="8016903">(</span><span class="ident" id="8016904">b</span>&nbsp;<span class="op" id="8016906">*</span><span class="ident" id="8016907">testing</span><span class="op" id="8016914">.</span><span class="ident" id="8016915">B</span><span class="op" id="8016916">)</span>&nbsp;<span class="op" id="8016918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016921">ifi</span>&nbsp;<span class="op" id="8016925">:=</span>&nbsp;<span class="ident" id="8016928">loopbackInterface</span><span class="op" id="8016945">(</span><span class="op" id="8016946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8016949">if</span>&nbsp;<span class="ident" id="8016952">ifi</span>&nbsp;<span class="op" id="8016956">==</span>&nbsp;<span class="ident" id="8016959">nil</span>&nbsp;<span class="op" id="8016963">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8016967">b</span><span class="op" id="8016968">.</span><span class="ident" id="8016969">Skip</span><span class="op" id="8016973">(</span><span class="string" id="8016974">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8017004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017010">for</span>&nbsp;<span class="ident" id="8017014">i</span>&nbsp;<span class="op" id="8017016">:=</span>&nbsp;<span class="num" id="8017019">0</span><span class="op" id="8017020">;</span>&nbsp;<span class="ident" id="8017022">i</span>&nbsp;<span class="op" id="8017024">&lt;</span>&nbsp;<span class="ident" id="8017026">b</span><span class="op" id="8017027">.</span><span class="ident" id="8017028">N</span><span class="op" id="8017029">;</span>&nbsp;<span class="ident" id="8017031">i</span><span class="op" id="8017032">++</span>&nbsp;<span class="op" id="8017035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017039">if</span>&nbsp;<span class="ident" id="8017042">_</span><span class="op" id="8017043">,</span>&nbsp;<span class="ident" id="8017045">err</span>&nbsp;<span class="op" id="8017049">:=</span>&nbsp;<span class="ident" id="8017052">InterfaceByIndex</span><span class="op" id="8017068">(</span><span class="ident" id="8017069">ifi</span><span class="op" id="8017072">.</span><span class="ident" id="8017073">Index</span><span class="op" id="8017078">)</span><span class="op" id="8017079">;</span>&nbsp;<span class="ident" id="8017081">err</span>&nbsp;<span class="op" id="8017085">!=</span>&nbsp;<span class="ident" id="8017088">nil</span>&nbsp;<span class="op" id="8017092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017097">b</span><span class="op" id="8017098">.</span><span class="ident" id="8017099">Fatalf</span><span class="op" id="8017105">(</span><span class="string" id="8017106">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8017135">,</span>&nbsp;<span class="ident" id="8017137">err</span><span class="op" id="8017140">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017147">}</span><br>
<span class="lineno"></span><span class="op" id="8017149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8017152">func</span>&nbsp;<span class="ident" id="8017157">BenchmarkInterfaceByName</span><span class="op" id="8017181">(</span><span class="ident" id="8017182">b</span>&nbsp;<span class="op" id="8017184">*</span><span class="ident" id="8017185">testing</span><span class="op" id="8017192">.</span><span class="ident" id="8017193">B</span><span class="op" id="8017194">)</span>&nbsp;<span class="op" id="8017196">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017199">ifi</span>&nbsp;<span class="op" id="8017203">:=</span>&nbsp;<span class="ident" id="8017206">loopbackInterface</span><span class="op" id="8017223">(</span><span class="op" id="8017224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017227">if</span>&nbsp;<span class="ident" id="8017230">ifi</span>&nbsp;<span class="op" id="8017234">==</span>&nbsp;<span class="ident" id="8017237">nil</span>&nbsp;<span class="op" id="8017241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017245">b</span><span class="op" id="8017246">.</span><span class="ident" id="8017247">Skip</span><span class="op" id="8017251">(</span><span class="string" id="8017252">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8017282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017288">for</span>&nbsp;<span class="ident" id="8017292">i</span>&nbsp;<span class="op" id="8017294">:=</span>&nbsp;<span class="num" id="8017297">0</span><span class="op" id="8017298">;</span>&nbsp;<span class="ident" id="8017300">i</span>&nbsp;<span class="op" id="8017302">&lt;</span>&nbsp;<span class="ident" id="8017304">b</span><span class="op" id="8017305">.</span><span class="ident" id="8017306">N</span><span class="op" id="8017307">;</span>&nbsp;<span class="ident" id="8017309">i</span><span class="op" id="8017310">++</span>&nbsp;<span class="op" id="8017313">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017317">if</span>&nbsp;<span class="ident" id="8017320">_</span><span class="op" id="8017321">,</span>&nbsp;<span class="ident" id="8017323">err</span>&nbsp;<span class="op" id="8017327">:=</span>&nbsp;<span class="ident" id="8017330">InterfaceByName</span><span class="op" id="8017345">(</span><span class="ident" id="8017346">ifi</span><span class="op" id="8017349">.</span><span class="ident" id="8017350">Name</span><span class="op" id="8017354">)</span><span class="op" id="8017355">;</span>&nbsp;<span class="ident" id="8017357">err</span>&nbsp;<span class="op" id="8017361">!=</span>&nbsp;<span class="ident" id="8017364">nil</span>&nbsp;<span class="op" id="8017368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017373">b</span><span class="op" id="8017374">.</span><span class="ident" id="8017375">Fatalf</span><span class="op" id="8017381">(</span><span class="string" id="8017382">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8017410">,</span>&nbsp;<span class="ident" id="8017412">err</span><span class="op" id="8017415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017422">}</span><br>
<span class="lineno"></span><span class="op" id="8017424">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="8017427">func</span>&nbsp;<span class="ident" id="8017432">BenchmarkInterfaceAddrs</span><span class="op" id="8017455">(</span><span class="ident" id="8017456">b</span>&nbsp;<span class="op" id="8017458">*</span><span class="ident" id="8017459">testing</span><span class="op" id="8017466">.</span><span class="ident" id="8017467">B</span><span class="op" id="8017468">)</span>&nbsp;<span class="op" id="8017470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017473">for</span>&nbsp;<span class="ident" id="8017477">i</span>&nbsp;<span class="op" id="8017479">:=</span>&nbsp;<span class="num" id="8017482">0</span><span class="op" id="8017483">;</span>&nbsp;<span class="ident" id="8017485">i</span>&nbsp;<span class="op" id="8017487">&lt;</span>&nbsp;<span class="ident" id="8017489">b</span><span class="op" id="8017490">.</span><span class="ident" id="8017491">N</span><span class="op" id="8017492">;</span>&nbsp;<span class="ident" id="8017494">i</span><span class="op" id="8017495">++</span>&nbsp;<span class="op" id="8017498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017502">if</span>&nbsp;<span class="ident" id="8017505">_</span><span class="op" id="8017506">,</span>&nbsp;<span class="ident" id="8017508">err</span>&nbsp;<span class="op" id="8017512">:=</span>&nbsp;<span class="ident" id="8017515">InterfaceAddrs</span><span class="op" id="8017529">(</span><span class="op" id="8017530">)</span><span class="op" id="8017531">;</span>&nbsp;<span class="ident" id="8017533">err</span>&nbsp;<span class="op" id="8017537">!=</span>&nbsp;<span class="ident" id="8017540">nil</span>&nbsp;<span class="op" id="8017544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017549">b</span><span class="op" id="8017550">.</span><span class="ident" id="8017551">Fatalf</span><span class="op" id="8017557">(</span><span class="string" id="8017558">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8017585">,</span>&nbsp;<span class="ident" id="8017587">err</span><span class="op" id="8017590">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017597">}</span><br>
<span class="lineno"></span><span class="op" id="8017599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8017602">func</span>&nbsp;<span class="ident" id="8017607">BenchmarkInterfacesAndAddrs</span><span class="op" id="8017634">(</span><span class="ident" id="8017635">b</span>&nbsp;<span class="op" id="8017637">*</span><span class="ident" id="8017638">testing</span><span class="op" id="8017645">.</span><span class="ident" id="8017646">B</span><span class="op" id="8017647">)</span>&nbsp;<span class="op" id="8017649">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017652">ifi</span>&nbsp;<span class="op" id="8017656">:=</span>&nbsp;<span class="ident" id="8017659">loopbackInterface</span><span class="op" id="8017676">(</span><span class="op" id="8017677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017680">if</span>&nbsp;<span class="ident" id="8017683">ifi</span>&nbsp;<span class="op" id="8017687">==</span>&nbsp;<span class="ident" id="8017690">nil</span>&nbsp;<span class="op" id="8017694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017698">b</span><span class="op" id="8017699">.</span><span class="ident" id="8017700">Skip</span><span class="op" id="8017704">(</span><span class="string" id="8017705">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8017735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017741">for</span>&nbsp;<span class="ident" id="8017745">i</span>&nbsp;<span class="op" id="8017747">:=</span>&nbsp;<span class="num" id="8017750">0</span><span class="op" id="8017751">;</span>&nbsp;<span class="ident" id="8017753">i</span>&nbsp;<span class="op" id="8017755">&lt;</span>&nbsp;<span class="ident" id="8017757">b</span><span class="op" id="8017758">.</span><span class="ident" id="8017759">N</span><span class="op" id="8017760">;</span>&nbsp;<span class="ident" id="8017762">i</span><span class="op" id="8017763">++</span>&nbsp;<span class="op" id="8017766">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017770">if</span>&nbsp;<span class="ident" id="8017773">_</span><span class="op" id="8017774">,</span>&nbsp;<span class="ident" id="8017776">err</span>&nbsp;<span class="op" id="8017780">:=</span>&nbsp;<span class="ident" id="8017783">ifi</span><span class="op" id="8017786">.</span><span class="ident" id="8017787">Addrs</span><span class="op" id="8017792">(</span><span class="op" id="8017793">)</span><span class="op" id="8017794">;</span>&nbsp;<span class="ident" id="8017796">err</span>&nbsp;<span class="op" id="8017800">!=</span>&nbsp;<span class="ident" id="8017803">nil</span>&nbsp;<span class="op" id="8017807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017812">b</span><span class="op" id="8017813">.</span><span class="ident" id="8017814">Fatalf</span><span class="op" id="8017820">(</span><span class="string" id="8017821">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8017849">,</span>&nbsp;<span class="ident" id="8017851">err</span><span class="op" id="8017854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8017861">}</span><br>
<span class="lineno"></span><span class="op" id="8017863">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="8017866">func</span>&nbsp;<span class="ident" id="8017871">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="8017907">(</span><span class="ident" id="8017908">b</span>&nbsp;<span class="op" id="8017910">*</span><span class="ident" id="8017911">testing</span><span class="op" id="8017918">.</span><span class="ident" id="8017919">B</span><span class="op" id="8017920">)</span>&nbsp;<span class="op" id="8017922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017925">ifi</span>&nbsp;<span class="op" id="8017929">:=</span>&nbsp;<span class="ident" id="8017932">loopbackInterface</span><span class="op" id="8017949">(</span><span class="op" id="8017950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8017953">if</span>&nbsp;<span class="ident" id="8017956">ifi</span>&nbsp;<span class="op" id="8017960">==</span>&nbsp;<span class="ident" id="8017963">nil</span>&nbsp;<span class="op" id="8017967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8017971">b</span><span class="op" id="8017972">.</span><span class="ident" id="8017973">Skip</span><span class="op" id="8017977">(</span><span class="string" id="8017978">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8018008">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8018011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018014">for</span>&nbsp;<span class="ident" id="8018018">i</span>&nbsp;<span class="op" id="8018020">:=</span>&nbsp;<span class="num" id="8018023">0</span><span class="op" id="8018024">;</span>&nbsp;<span class="ident" id="8018026">i</span>&nbsp;<span class="op" id="8018028">&lt;</span>&nbsp;<span class="ident" id="8018030">b</span><span class="op" id="8018031">.</span><span class="ident" id="8018032">N</span><span class="op" id="8018033">;</span>&nbsp;<span class="ident" id="8018035">i</span><span class="op" id="8018036">++</span>&nbsp;<span class="op" id="8018039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8018043">if</span>&nbsp;<span class="ident" id="8018046">_</span><span class="op" id="8018047">,</span>&nbsp;<span class="ident" id="8018049">err</span>&nbsp;<span class="op" id="8018053">:=</span>&nbsp;<span class="ident" id="8018056">ifi</span><span class="op" id="8018059">.</span><span class="ident" id="8018060">MulticastAddrs</span><span class="op" id="8018074">(</span><span class="op" id="8018075">)</span><span class="op" id="8018076">;</span>&nbsp;<span class="ident" id="8018078">err</span>&nbsp;<span class="op" id="8018082">!=</span>&nbsp;<span class="ident" id="8018085">nil</span>&nbsp;<span class="op" id="8018089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8018094">b</span><span class="op" id="8018095">.</span><span class="ident" id="8018096">Fatalf</span><span class="op" id="8018102">(</span><span class="string" id="8018103">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8018140">,</span>&nbsp;<span class="ident" id="8018142">err</span><span class="op" id="8018145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8018149">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8018152">}</span><br>
<span class="lineno"></span><span class="op" id="8018154">}</span>
</div>
</body>
</html>
