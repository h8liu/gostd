<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html" class="current">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7611301">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7611356">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7611410">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7611461">package</span>&nbsp;<span class="ident" id="7611469">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7611476">import</span>&nbsp;<span class="op" id="7611483">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7611486">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7611501">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7611511">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7611514">func</span>&nbsp;<span class="ident" id="7611519">TestYCbCr</span><span class="op" id="7611528">(</span><span class="ident" id="7611529">t</span>&nbsp;<span class="op" id="7611531">*</span><span class="ident" id="7611532">testing</span><span class="op" id="7611539">.</span><span class="ident" id="7611540">T</span><span class="op" id="7611541">)</span>&nbsp;<span class="op" id="7611543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611546">rects</span>&nbsp;<span class="op" id="7611552">:=</span>&nbsp;<span class="op" id="7611555">[</span><span class="op" id="7611556">]</span><span class="ident" id="7611557">Rectangle</span><span class="op" id="7611566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611570">Rect</span><span class="op" id="7611574">(</span><span class="num" id="7611575">0</span><span class="op" id="7611576">,</span>&nbsp;<span class="num" id="7611578">0</span><span class="op" id="7611579">,</span>&nbsp;<span class="num" id="7611581">16</span><span class="op" id="7611583">,</span>&nbsp;<span class="num" id="7611585">16</span><span class="op" id="7611587">)</span><span class="op" id="7611588">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611592">Rect</span><span class="op" id="7611596">(</span><span class="num" id="7611597">1</span><span class="op" id="7611598">,</span>&nbsp;<span class="num" id="7611600">0</span><span class="op" id="7611601">,</span>&nbsp;<span class="num" id="7611603">16</span><span class="op" id="7611605">,</span>&nbsp;<span class="num" id="7611607">16</span><span class="op" id="7611609">)</span><span class="op" id="7611610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611614">Rect</span><span class="op" id="7611618">(</span><span class="num" id="7611619">0</span><span class="op" id="7611620">,</span>&nbsp;<span class="num" id="7611622">1</span><span class="op" id="7611623">,</span>&nbsp;<span class="num" id="7611625">16</span><span class="op" id="7611627">,</span>&nbsp;<span class="num" id="7611629">16</span><span class="op" id="7611631">)</span><span class="op" id="7611632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611636">Rect</span><span class="op" id="7611640">(</span><span class="num" id="7611641">1</span><span class="op" id="7611642">,</span>&nbsp;<span class="num" id="7611644">1</span><span class="op" id="7611645">,</span>&nbsp;<span class="num" id="7611647">16</span><span class="op" id="7611649">,</span>&nbsp;<span class="num" id="7611651">16</span><span class="op" id="7611653">)</span><span class="op" id="7611654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611658">Rect</span><span class="op" id="7611662">(</span><span class="num" id="7611663">1</span><span class="op" id="7611664">,</span>&nbsp;<span class="num" id="7611666">1</span><span class="op" id="7611667">,</span>&nbsp;<span class="num" id="7611669">15</span><span class="op" id="7611671">,</span>&nbsp;<span class="num" id="7611673">16</span><span class="op" id="7611675">)</span><span class="op" id="7611676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611680">Rect</span><span class="op" id="7611684">(</span><span class="num" id="7611685">1</span><span class="op" id="7611686">,</span>&nbsp;<span class="num" id="7611688">1</span><span class="op" id="7611689">,</span>&nbsp;<span class="num" id="7611691">16</span><span class="op" id="7611693">,</span>&nbsp;<span class="num" id="7611695">15</span><span class="op" id="7611697">)</span><span class="op" id="7611698">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611702">Rect</span><span class="op" id="7611706">(</span><span class="num" id="7611707">1</span><span class="op" id="7611708">,</span>&nbsp;<span class="num" id="7611710">1</span><span class="op" id="7611711">,</span>&nbsp;<span class="num" id="7611713">15</span><span class="op" id="7611715">,</span>&nbsp;<span class="num" id="7611717">15</span><span class="op" id="7611719">)</span><span class="op" id="7611720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611724">Rect</span><span class="op" id="7611728">(</span><span class="num" id="7611729">2</span><span class="op" id="7611730">,</span>&nbsp;<span class="num" id="7611732">3</span><span class="op" id="7611733">,</span>&nbsp;<span class="num" id="7611735">14</span><span class="op" id="7611737">,</span>&nbsp;<span class="num" id="7611739">15</span><span class="op" id="7611741">)</span><span class="op" id="7611742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611746">Rect</span><span class="op" id="7611750">(</span><span class="num" id="7611751">7</span><span class="op" id="7611752">,</span>&nbsp;<span class="num" id="7611754">0</span><span class="op" id="7611755">,</span>&nbsp;<span class="num" id="7611757">7</span><span class="op" id="7611758">,</span>&nbsp;<span class="num" id="7611760">16</span><span class="op" id="7611762">)</span><span class="op" id="7611763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611767">Rect</span><span class="op" id="7611771">(</span><span class="num" id="7611772">0</span><span class="op" id="7611773">,</span>&nbsp;<span class="num" id="7611775">8</span><span class="op" id="7611776">,</span>&nbsp;<span class="num" id="7611778">16</span><span class="op" id="7611780">,</span>&nbsp;<span class="num" id="7611782">8</span><span class="op" id="7611783">)</span><span class="op" id="7611784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611788">Rect</span><span class="op" id="7611792">(</span><span class="num" id="7611793">0</span><span class="op" id="7611794">,</span>&nbsp;<span class="num" id="7611796">0</span><span class="op" id="7611797">,</span>&nbsp;<span class="num" id="7611799">10</span><span class="op" id="7611801">,</span>&nbsp;<span class="num" id="7611803">11</span><span class="op" id="7611805">)</span><span class="op" id="7611806">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611810">Rect</span><span class="op" id="7611814">(</span><span class="num" id="7611815">5</span><span class="op" id="7611816">,</span>&nbsp;<span class="num" id="7611818">6</span><span class="op" id="7611819">,</span>&nbsp;<span class="num" id="7611821">16</span><span class="op" id="7611823">,</span>&nbsp;<span class="num" id="7611825">16</span><span class="op" id="7611827">)</span><span class="op" id="7611828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611832">Rect</span><span class="op" id="7611836">(</span><span class="num" id="7611837">7</span><span class="op" id="7611838">,</span>&nbsp;<span class="num" id="7611840">7</span><span class="op" id="7611841">,</span>&nbsp;<span class="num" id="7611843">8</span><span class="op" id="7611844">,</span>&nbsp;<span class="num" id="7611846">8</span><span class="op" id="7611847">)</span><span class="op" id="7611848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611852">Rect</span><span class="op" id="7611856">(</span><span class="num" id="7611857">7</span><span class="op" id="7611858">,</span>&nbsp;<span class="num" id="7611860">8</span><span class="op" id="7611861">,</span>&nbsp;<span class="num" id="7611863">8</span><span class="op" id="7611864">,</span>&nbsp;<span class="num" id="7611866">9</span><span class="op" id="7611867">)</span><span class="op" id="7611868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611872">Rect</span><span class="op" id="7611876">(</span><span class="num" id="7611877">8</span><span class="op" id="7611878">,</span>&nbsp;<span class="num" id="7611880">7</span><span class="op" id="7611881">,</span>&nbsp;<span class="num" id="7611883">9</span><span class="op" id="7611884">,</span>&nbsp;<span class="num" id="7611886">8</span><span class="op" id="7611887">)</span><span class="op" id="7611888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611892">Rect</span><span class="op" id="7611896">(</span><span class="num" id="7611897">8</span><span class="op" id="7611898">,</span>&nbsp;<span class="num" id="7611900">8</span><span class="op" id="7611901">,</span>&nbsp;<span class="num" id="7611903">9</span><span class="op" id="7611904">,</span>&nbsp;<span class="num" id="7611906">9</span><span class="op" id="7611907">)</span><span class="op" id="7611908">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611912">Rect</span><span class="op" id="7611916">(</span><span class="num" id="7611917">7</span><span class="op" id="7611918">,</span>&nbsp;<span class="num" id="7611920">7</span><span class="op" id="7611921">,</span>&nbsp;<span class="num" id="7611923">17</span><span class="op" id="7611925">,</span>&nbsp;<span class="num" id="7611927">17</span><span class="op" id="7611929">)</span><span class="op" id="7611930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611934">Rect</span><span class="op" id="7611938">(</span><span class="num" id="7611939">8</span><span class="op" id="7611940">,</span>&nbsp;<span class="num" id="7611942">8</span><span class="op" id="7611943">,</span>&nbsp;<span class="num" id="7611945">17</span><span class="op" id="7611947">,</span>&nbsp;<span class="num" id="7611949">17</span><span class="op" id="7611951">)</span><span class="op" id="7611952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611956">Rect</span><span class="op" id="7611960">(</span><span class="num" id="7611961">9</span><span class="op" id="7611962">,</span>&nbsp;<span class="num" id="7611964">9</span><span class="op" id="7611965">,</span>&nbsp;<span class="num" id="7611967">17</span><span class="op" id="7611969">,</span>&nbsp;<span class="num" id="7611971">17</span><span class="op" id="7611973">)</span><span class="op" id="7611974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7611978">Rect</span><span class="op" id="7611982">(</span><span class="num" id="7611983">10</span><span class="op" id="7611985">,</span>&nbsp;<span class="num" id="7611987">10</span><span class="op" id="7611989">,</span>&nbsp;<span class="num" id="7611991">17</span><span class="op" id="7611993">,</span>&nbsp;<span class="num" id="7611995">17</span><span class="op" id="7611997">)</span><span class="op" id="7611998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7612001">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612004">subsampleRatios</span>&nbsp;<span class="op" id="7612020">:=</span>&nbsp;<span class="op" id="7612023">[</span><span class="op" id="7612024">]</span><span class="ident" id="7612025">YCbCrSubsampleRatio</span><span class="op" id="7612044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612048">YCbCrSubsampleRatio444</span><span class="op" id="7612070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612074">YCbCrSubsampleRatio422</span><span class="op" id="7612096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612100">YCbCrSubsampleRatio420</span><span class="op" id="7612122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612126">YCbCrSubsampleRatio440</span><span class="op" id="7612148">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7612151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612154">deltas</span>&nbsp;<span class="op" id="7612161">:=</span>&nbsp;<span class="op" id="7612164">[</span><span class="op" id="7612165">]</span><span class="ident" id="7612166">Point</span><span class="op" id="7612171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612175">Pt</span><span class="op" id="7612177">(</span><span class="num" id="7612178">0</span><span class="op" id="7612179">,</span>&nbsp;<span class="num" id="7612181">0</span><span class="op" id="7612182">)</span><span class="op" id="7612183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612187">Pt</span><span class="op" id="7612189">(</span><span class="num" id="7612190">1000</span><span class="op" id="7612194">,</span>&nbsp;<span class="num" id="7612196">1001</span><span class="op" id="7612200">)</span><span class="op" id="7612201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612205">Pt</span><span class="op" id="7612207">(</span><span class="num" id="7612208">5001</span><span class="op" id="7612212">,</span>&nbsp;<span class="op" id="7612214">-</span><span class="num" id="7612215">400</span><span class="op" id="7612218">)</span><span class="op" id="7612219">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612223">Pt</span><span class="op" id="7612225">(</span><span class="op" id="7612226">-</span><span class="num" id="7612227">701</span><span class="op" id="7612230">,</span>&nbsp;<span class="op" id="7612232">-</span><span class="num" id="7612233">801</span><span class="op" id="7612236">)</span><span class="op" id="7612237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7612240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7612243">for</span>&nbsp;<span class="ident" id="7612247">_</span><span class="op" id="7612248">,</span>&nbsp;<span class="ident" id="7612250">r</span>&nbsp;<span class="op" id="7612252">:=</span>&nbsp;<span class="keyword" id="7612255">range</span>&nbsp;<span class="ident" id="7612261">rects</span>&nbsp;<span class="op" id="7612267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7612271">for</span>&nbsp;<span class="ident" id="7612275">_</span><span class="op" id="7612276">,</span>&nbsp;<span class="ident" id="7612278">subsampleRatio</span>&nbsp;<span class="op" id="7612293">:=</span>&nbsp;<span class="keyword" id="7612296">range</span>&nbsp;<span class="ident" id="7612302">subsampleRatios</span>&nbsp;<span class="op" id="7612318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7612323">for</span>&nbsp;<span class="ident" id="7612327">_</span><span class="op" id="7612328">,</span>&nbsp;<span class="ident" id="7612330">delta</span>&nbsp;<span class="op" id="7612336">:=</span>&nbsp;<span class="keyword" id="7612339">range</span>&nbsp;<span class="ident" id="7612345">deltas</span>&nbsp;<span class="op" id="7612352">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612358">testYCbCr</span><span class="op" id="7612367">(</span><span class="ident" id="7612368">t</span><span class="op" id="7612369">,</span>&nbsp;<span class="ident" id="7612371">r</span><span class="op" id="7612372">,</span>&nbsp;<span class="ident" id="7612374">subsampleRatio</span><span class="op" id="7612388">,</span>&nbsp;<span class="ident" id="7612390">delta</span><span class="op" id="7612395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7612400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7612404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7612408">if</span>&nbsp;<span class="ident" id="7612411">testing</span><span class="op" id="7612418">.</span><span class="ident" id="7612419">Short</span><span class="op" id="7612424">(</span><span class="op" id="7612425">)</span>&nbsp;<span class="op" id="7612427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7612432">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7612440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7612443">}</span><br>
<span class="lineno"></span><span class="op" id="7612445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7612448">func</span>&nbsp;<span class="ident" id="7612453">testYCbCr</span><span class="op" id="7612462">(</span><span class="ident" id="7612463">t</span>&nbsp;<span class="op" id="7612465">*</span><span class="ident" id="7612466">testing</span><span class="op" id="7612473">.</span><span class="ident" id="7612474">T</span><span class="op" id="7612475">,</span>&nbsp;<span class="ident" id="7612477">r</span>&nbsp;<span class="ident" id="7612479">Rectangle</span><span class="op" id="7612488">,</span>&nbsp;<span class="ident" id="7612490">subsampleRatio</span>&nbsp;<span class="ident" id="7612505">YCbCrSubsampleRatio</span><span class="op" id="7612524">,</span>&nbsp;<span class="ident" id="7612526">delta</span>&nbsp;<span class="ident" id="7612532">Point</span><span class="op" id="7612537">)</span>&nbsp;<span class="op" id="7612539">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7612542">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612623">r1</span>&nbsp;<span class="op" id="7612626">:=</span>&nbsp;<span class="ident" id="7612629">r</span><span class="op" id="7612630">.</span><span class="ident" id="7612631">Add</span><span class="op" id="7612634">(</span><span class="ident" id="7612635">delta</span><span class="op" id="7612640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612643">m</span>&nbsp;<span class="op" id="7612645">:=</span>&nbsp;<span class="ident" id="7612648">NewYCbCr</span><span class="op" id="7612656">(</span><span class="ident" id="7612657">r1</span><span class="op" id="7612659">,</span>&nbsp;<span class="ident" id="7612661">subsampleRatio</span><span class="op" id="7612675">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7612679">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7612781">if</span>&nbsp;<span class="builtinfunc" id="7612784">len</span><span class="op" id="7612787">(</span><span class="ident" id="7612788">m</span><span class="op" id="7612789">.</span><span class="ident" id="7612790">Y</span><span class="op" id="7612791">)</span>&nbsp;<span class="op" id="7612793">&gt;</span>&nbsp;<span class="num" id="7612795">100</span><span class="op" id="7612798">*</span><span class="num" id="7612799">100</span>&nbsp;<span class="op" id="7612803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612807">t</span><span class="op" id="7612808">.</span><span class="ident" id="7612809">Errorf</span><span class="op" id="7612815">(</span><span class="string" id="7612816">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="7612878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7612883">r</span><span class="op" id="7612884">,</span>&nbsp;<span class="ident" id="7612886">subsampleRatio</span><span class="op" id="7612900">,</span>&nbsp;<span class="ident" id="7612902">delta</span><span class="op" id="7612907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7612911">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7612919">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7612923">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7613010">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613092">for</span>&nbsp;<span class="ident" id="7613096">y</span>&nbsp;<span class="op" id="7613098">:=</span>&nbsp;<span class="ident" id="7613101">r1</span><span class="op" id="7613103">.</span><span class="ident" id="7613104">Min</span><span class="op" id="7613107">.</span><span class="ident" id="7613108">Y</span><span class="op" id="7613109">;</span>&nbsp;<span class="ident" id="7613111">y</span>&nbsp;<span class="op" id="7613113">&lt;</span>&nbsp;<span class="ident" id="7613115">r1</span><span class="op" id="7613117">.</span><span class="ident" id="7613118">Max</span><span class="op" id="7613121">.</span><span class="ident" id="7613122">Y</span><span class="op" id="7613123">;</span>&nbsp;<span class="ident" id="7613125">y</span><span class="op" id="7613126">++</span>&nbsp;<span class="op" id="7613129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613133">for</span>&nbsp;<span class="ident" id="7613137">x</span>&nbsp;<span class="op" id="7613139">:=</span>&nbsp;<span class="ident" id="7613142">r1</span><span class="op" id="7613144">.</span><span class="ident" id="7613145">Min</span><span class="op" id="7613148">.</span><span class="ident" id="7613149">X</span><span class="op" id="7613150">;</span>&nbsp;<span class="ident" id="7613152">x</span>&nbsp;<span class="op" id="7613154">&lt;</span>&nbsp;<span class="ident" id="7613156">r1</span><span class="op" id="7613158">.</span><span class="ident" id="7613159">Max</span><span class="op" id="7613162">.</span><span class="ident" id="7613163">X</span><span class="op" id="7613164">;</span>&nbsp;<span class="ident" id="7613166">x</span><span class="op" id="7613167">++</span>&nbsp;<span class="op" id="7613170">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613175">yi</span>&nbsp;<span class="op" id="7613178">:=</span>&nbsp;<span class="ident" id="7613181">m</span><span class="op" id="7613182">.</span><span class="ident" id="7613183">YOffset</span><span class="op" id="7613190">(</span><span class="ident" id="7613191">x</span><span class="op" id="7613192">,</span>&nbsp;<span class="ident" id="7613194">y</span><span class="op" id="7613195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613200">ci</span>&nbsp;<span class="op" id="7613203">:=</span>&nbsp;<span class="ident" id="7613206">m</span><span class="op" id="7613207">.</span><span class="ident" id="7613208">COffset</span><span class="op" id="7613215">(</span><span class="ident" id="7613216">x</span><span class="op" id="7613217">,</span>&nbsp;<span class="ident" id="7613219">y</span><span class="op" id="7613220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613225">m</span><span class="op" id="7613226">.</span><span class="ident" id="7613227">Y</span><span class="op" id="7613228">[</span><span class="ident" id="7613229">yi</span><span class="op" id="7613231">]</span>&nbsp;<span class="op" id="7613233">=</span>&nbsp;<span class="builtintype" id="7613235">uint8</span><span class="op" id="7613240">(</span><span class="num" id="7613241">16</span><span class="op" id="7613243">*</span><span class="ident" id="7613244">y</span>&nbsp;<span class="op" id="7613246">+</span>&nbsp;<span class="ident" id="7613248">x</span><span class="op" id="7613249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613254">m</span><span class="op" id="7613255">.</span><span class="ident" id="7613256">Cb</span><span class="op" id="7613258">[</span><span class="ident" id="7613259">ci</span><span class="op" id="7613261">]</span>&nbsp;<span class="op" id="7613263">=</span>&nbsp;<span class="builtintype" id="7613265">uint8</span><span class="op" id="7613270">(</span><span class="ident" id="7613271">y</span>&nbsp;<span class="op" id="7613273">+</span>&nbsp;<span class="num" id="7613275">16</span><span class="op" id="7613277">*</span><span class="ident" id="7613278">x</span><span class="op" id="7613279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613284">m</span><span class="op" id="7613285">.</span><span class="ident" id="7613286">Cr</span><span class="op" id="7613288">[</span><span class="ident" id="7613289">ci</span><span class="op" id="7613291">]</span>&nbsp;<span class="op" id="7613293">=</span>&nbsp;<span class="builtintype" id="7613295">uint8</span><span class="op" id="7613300">(</span><span class="ident" id="7613301">y</span>&nbsp;<span class="op" id="7613303">+</span>&nbsp;<span class="num" id="7613305">16</span><span class="op" id="7613307">*</span><span class="ident" id="7613308">x</span><span class="op" id="7613309">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7613313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7613316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7613320">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613354">for</span>&nbsp;<span class="ident" id="7613358">y0</span>&nbsp;<span class="op" id="7613361">:=</span>&nbsp;<span class="ident" id="7613364">delta</span><span class="op" id="7613369">.</span><span class="ident" id="7613370">Y</span>&nbsp;<span class="op" id="7613372">+</span>&nbsp;<span class="num" id="7613374">3</span><span class="op" id="7613375">;</span>&nbsp;<span class="ident" id="7613377">y0</span>&nbsp;<span class="op" id="7613380">&lt;</span>&nbsp;<span class="ident" id="7613382">delta</span><span class="op" id="7613387">.</span><span class="ident" id="7613388">Y</span><span class="op" id="7613389">+</span><span class="num" id="7613390">7</span><span class="op" id="7613391">;</span>&nbsp;<span class="ident" id="7613393">y0</span><span class="op" id="7613395">++</span>&nbsp;<span class="op" id="7613398">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613402">for</span>&nbsp;<span class="ident" id="7613406">y1</span>&nbsp;<span class="op" id="7613409">:=</span>&nbsp;<span class="ident" id="7613412">delta</span><span class="op" id="7613417">.</span><span class="ident" id="7613418">Y</span>&nbsp;<span class="op" id="7613420">+</span>&nbsp;<span class="num" id="7613422">8</span><span class="op" id="7613423">;</span>&nbsp;<span class="ident" id="7613425">y1</span>&nbsp;<span class="op" id="7613428">&lt;</span>&nbsp;<span class="ident" id="7613430">delta</span><span class="op" id="7613435">.</span><span class="ident" id="7613436">Y</span><span class="op" id="7613437">+</span><span class="num" id="7613438">13</span><span class="op" id="7613440">;</span>&nbsp;<span class="ident" id="7613442">y1</span><span class="op" id="7613444">++</span>&nbsp;<span class="op" id="7613447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613452">for</span>&nbsp;<span class="ident" id="7613456">x0</span>&nbsp;<span class="op" id="7613459">:=</span>&nbsp;<span class="ident" id="7613462">delta</span><span class="op" id="7613467">.</span><span class="ident" id="7613468">X</span>&nbsp;<span class="op" id="7613470">+</span>&nbsp;<span class="num" id="7613472">3</span><span class="op" id="7613473">;</span>&nbsp;<span class="ident" id="7613475">x0</span>&nbsp;<span class="op" id="7613478">&lt;</span>&nbsp;<span class="ident" id="7613480">delta</span><span class="op" id="7613485">.</span><span class="ident" id="7613486">X</span><span class="op" id="7613487">+</span><span class="num" id="7613488">7</span><span class="op" id="7613489">;</span>&nbsp;<span class="ident" id="7613491">x0</span><span class="op" id="7613493">++</span>&nbsp;<span class="op" id="7613496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613502">for</span>&nbsp;<span class="ident" id="7613506">x1</span>&nbsp;<span class="op" id="7613509">:=</span>&nbsp;<span class="ident" id="7613512">delta</span><span class="op" id="7613517">.</span><span class="ident" id="7613518">X</span>&nbsp;<span class="op" id="7613520">+</span>&nbsp;<span class="num" id="7613522">8</span><span class="op" id="7613523">;</span>&nbsp;<span class="ident" id="7613525">x1</span>&nbsp;<span class="op" id="7613528">&lt;</span>&nbsp;<span class="ident" id="7613530">delta</span><span class="op" id="7613535">.</span><span class="ident" id="7613536">X</span><span class="op" id="7613537">+</span><span class="num" id="7613538">13</span><span class="op" id="7613540">;</span>&nbsp;<span class="ident" id="7613542">x1</span><span class="op" id="7613544">++</span>&nbsp;<span class="op" id="7613547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613554">subRect</span>&nbsp;<span class="op" id="7613562">:=</span>&nbsp;<span class="ident" id="7613565">Rect</span><span class="op" id="7613569">(</span><span class="ident" id="7613570">x0</span><span class="op" id="7613572">,</span>&nbsp;<span class="ident" id="7613574">y0</span><span class="op" id="7613576">,</span>&nbsp;<span class="ident" id="7613578">x1</span><span class="op" id="7613580">,</span>&nbsp;<span class="ident" id="7613582">y1</span><span class="op" id="7613584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613591">sub</span>&nbsp;<span class="op" id="7613595">:=</span>&nbsp;<span class="ident" id="7613598">m</span><span class="op" id="7613599">.</span><span class="ident" id="7613600">SubImage</span><span class="op" id="7613608">(</span><span class="ident" id="7613609">subRect</span><span class="op" id="7613616">)</span><span class="op" id="7613617">.</span><span class="op" id="7613618">(</span><span class="op" id="7613619">*</span><span class="ident" id="7613620">YCbCr</span><span class="op" id="7613625">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7613633">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613726">for</span>&nbsp;<span class="ident" id="7613730">y</span>&nbsp;<span class="op" id="7613732">:=</span>&nbsp;<span class="ident" id="7613735">sub</span><span class="op" id="7613738">.</span><span class="ident" id="7613739">Rect</span><span class="op" id="7613743">.</span><span class="ident" id="7613744">Min</span><span class="op" id="7613747">.</span><span class="ident" id="7613748">Y</span><span class="op" id="7613749">;</span>&nbsp;<span class="ident" id="7613751">y</span>&nbsp;<span class="op" id="7613753">&lt;</span>&nbsp;<span class="ident" id="7613755">sub</span><span class="op" id="7613758">.</span><span class="ident" id="7613759">Rect</span><span class="op" id="7613763">.</span><span class="ident" id="7613764">Max</span><span class="op" id="7613767">.</span><span class="ident" id="7613768">Y</span><span class="op" id="7613769">;</span>&nbsp;<span class="ident" id="7613771">y</span><span class="op" id="7613772">++</span>&nbsp;<span class="op" id="7613775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613783">for</span>&nbsp;<span class="ident" id="7613787">x</span>&nbsp;<span class="op" id="7613789">:=</span>&nbsp;<span class="ident" id="7613792">sub</span><span class="op" id="7613795">.</span><span class="ident" id="7613796">Rect</span><span class="op" id="7613800">.</span><span class="ident" id="7613801">Min</span><span class="op" id="7613804">.</span><span class="ident" id="7613805">X</span><span class="op" id="7613806">;</span>&nbsp;<span class="ident" id="7613808">x</span>&nbsp;<span class="op" id="7613810">&lt;</span>&nbsp;<span class="ident" id="7613812">sub</span><span class="op" id="7613815">.</span><span class="ident" id="7613816">Rect</span><span class="op" id="7613820">.</span><span class="ident" id="7613821">Max</span><span class="op" id="7613824">.</span><span class="ident" id="7613825">X</span><span class="op" id="7613826">;</span>&nbsp;<span class="ident" id="7613828">x</span><span class="op" id="7613829">++</span>&nbsp;<span class="op" id="7613832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613841">color0</span>&nbsp;<span class="op" id="7613848">:=</span>&nbsp;<span class="ident" id="7613851">m</span><span class="op" id="7613852">.</span><span class="ident" id="7613853">At</span><span class="op" id="7613855">(</span><span class="ident" id="7613856">x</span><span class="op" id="7613857">,</span>&nbsp;<span class="ident" id="7613859">y</span><span class="op" id="7613860">)</span><span class="op" id="7613861">.</span><span class="op" id="7613862">(</span><span class="ident" id="7613863">color</span><span class="op" id="7613868">.</span><span class="ident" id="7613869">YCbCr</span><span class="op" id="7613874">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613883">color1</span>&nbsp;<span class="op" id="7613890">:=</span>&nbsp;<span class="ident" id="7613893">sub</span><span class="op" id="7613896">.</span><span class="ident" id="7613897">At</span><span class="op" id="7613899">(</span><span class="ident" id="7613900">x</span><span class="op" id="7613901">,</span>&nbsp;<span class="ident" id="7613903">y</span><span class="op" id="7613904">)</span><span class="op" id="7613905">.</span><span class="op" id="7613906">(</span><span class="ident" id="7613907">color</span><span class="op" id="7613912">.</span><span class="ident" id="7613913">YCbCr</span><span class="op" id="7613918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7613927">if</span>&nbsp;<span class="ident" id="7613930">color0</span>&nbsp;<span class="op" id="7613937">!=</span>&nbsp;<span class="ident" id="7613940">color1</span>&nbsp;<span class="op" id="7613947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7613957">t</span><span class="op" id="7613958">.</span><span class="ident" id="7613959">Errorf</span><span class="op" id="7613965">(</span><span class="string" id="7613966">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="7614035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7614046">r</span><span class="op" id="7614047">,</span>&nbsp;<span class="ident" id="7614049">subsampleRatio</span><span class="op" id="7614063">,</span>&nbsp;<span class="ident" id="7614065">delta</span><span class="op" id="7614070">,</span>&nbsp;<span class="ident" id="7614072">x</span><span class="op" id="7614073">,</span>&nbsp;<span class="ident" id="7614075">y</span><span class="op" id="7614076">,</span>&nbsp;<span class="ident" id="7614078">color0</span><span class="op" id="7614084">,</span>&nbsp;<span class="ident" id="7614086">color1</span><span class="op" id="7614092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7614102">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7614116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7614124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7614131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7614137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7614142">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7614146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7614149">}</span><br>
<span class="lineno"></span><span class="op" id="7614151">}</span>
</div>
</body>
</html>
