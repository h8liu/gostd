<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/heap</h2>
<ul>
<li><a href="/gostd/container/heap/example_intheap_test.go.html">example_intheap_test.go</a></li>
<li><a href="/gostd/container/heap/example_pq_test.go.html" class="current">example_pq_test.go</a></li>
<li><a href="/gostd/container/heap/heap.go.html">heap.go</a></li>
<li><a href="/gostd/container/heap/heap_test.go.html">heap_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="116169">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="116224">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="116278">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="116329">//&nbsp;This&nbsp;example&nbsp;demonstrates&nbsp;a&nbsp;priority&nbsp;queue&nbsp;built&nbsp;using&nbsp;the&nbsp;heap&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="116407">package</span>&nbsp;<span class="ident" id="116415">heap_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="116426">import</span>&nbsp;<span class="op" id="116433">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="116436">&#34;container/heap&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="116454">&#34;fmt&#34;</span><br>
<span class="lineno"></span><span class="op" id="116460">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="116463">//&nbsp;An&nbsp;Item&nbsp;is&nbsp;something&nbsp;we&nbsp;manage&nbsp;in&nbsp;a&nbsp;priority&nbsp;queue.</span><br>
<span class="lineno"></span><span class="keyword" id="116518">type</span>&nbsp;<span class="ident" id="116523">Item</span>&nbsp;<span class="keyword" id="116528">struct</span>&nbsp;<span class="op" id="116535">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="116538">value</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="116547">string</span>&nbsp;<span class="comment" id="116554">//&nbsp;The&nbsp;value&nbsp;of&nbsp;the&nbsp;item;&nbsp;arbitrary.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="116592">priority</span>&nbsp;<span class="builtintype" id="116601">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="116608">//&nbsp;The&nbsp;priority&nbsp;of&nbsp;the&nbsp;item&nbsp;in&nbsp;the&nbsp;queue.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="116651">//&nbsp;The&nbsp;index&nbsp;is&nbsp;needed&nbsp;by&nbsp;update&nbsp;and&nbsp;is&nbsp;maintained&nbsp;by&nbsp;the&nbsp;heap.Interface&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="116734">index</span>&nbsp;<span class="builtintype" id="116740">int</span>&nbsp;<span class="comment" id="116744">//&nbsp;The&nbsp;index&nbsp;of&nbsp;the&nbsp;item&nbsp;in&nbsp;the&nbsp;heap.</span><br>
<span class="lineno"></span><span class="op" id="116782">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="116785">//&nbsp;A&nbsp;PriorityQueue&nbsp;implements&nbsp;heap.Interface&nbsp;and&nbsp;holds&nbsp;Items.</span><br>
<span class="lineno"></span><span class="keyword" id="116847">type</span>&nbsp;<span class="ident" id="116852">PriorityQueue</span>&nbsp;<span class="op" id="116866">[</span><span class="op" id="116867">]</span><span class="op" id="116868">*</span><span class="ident" id="116869">Item</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="116875">func</span>&nbsp;<span class="op" id="116880">(</span><span class="ident" id="116881">pq</span>&nbsp;<span class="ident" id="116884">PriorityQueue</span><span class="op" id="116897">)</span>&nbsp;<span class="ident" id="116899">Len</span><span class="op" id="116902">(</span><span class="op" id="116903">)</span>&nbsp;<span class="builtintype" id="116905">int</span>&nbsp;<span class="op" id="116909">{</span>&nbsp;<span class="keyword" id="116911">return</span>&nbsp;<span class="builtinfunc" id="116918">len</span><span class="op" id="116921">(</span><span class="ident" id="116922">pq</span><span class="op" id="116924">)</span>&nbsp;<span class="op" id="116926">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="116929">func</span>&nbsp;<span class="op" id="116934">(</span><span class="ident" id="116935">pq</span>&nbsp;<span class="ident" id="116938">PriorityQueue</span><span class="op" id="116951">)</span>&nbsp;<span class="ident" id="116953">Less</span><span class="op" id="116957">(</span><span class="ident" id="116958">i</span><span class="op" id="116959">,</span>&nbsp;<span class="ident" id="116961">j</span>&nbsp;<span class="builtintype" id="116963">int</span><span class="op" id="116966">)</span>&nbsp;<span class="builtintype" id="116968">bool</span>&nbsp;<span class="op" id="116973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="116976">//&nbsp;We&nbsp;want&nbsp;Pop&nbsp;to&nbsp;give&nbsp;us&nbsp;the&nbsp;highest,&nbsp;not&nbsp;lowest,&nbsp;priority&nbsp;so&nbsp;we&nbsp;use&nbsp;greater&nbsp;than&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="117066">return</span>&nbsp;<span class="ident" id="117073">pq</span><span class="op" id="117075">[</span><span class="ident" id="117076">i</span><span class="op" id="117077">]</span><span class="op" id="117078">.</span><span class="ident" id="117079">priority</span>&nbsp;<span class="op" id="117088">&gt;</span>&nbsp;<span class="ident" id="117090">pq</span><span class="op" id="117092">[</span><span class="ident" id="117093">j</span><span class="op" id="117094">]</span><span class="op" id="117095">.</span><span class="ident" id="117096">priority</span><br>
<span class="lineno"></span><span class="op" id="117105">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="117108">func</span>&nbsp;<span class="op" id="117113">(</span><span class="ident" id="117114">pq</span>&nbsp;<span class="ident" id="117117">PriorityQueue</span><span class="op" id="117130">)</span>&nbsp;<span class="ident" id="117132">Swap</span><span class="op" id="117136">(</span><span class="ident" id="117137">i</span><span class="op" id="117138">,</span>&nbsp;<span class="ident" id="117140">j</span>&nbsp;<span class="builtintype" id="117142">int</span><span class="op" id="117145">)</span>&nbsp;<span class="op" id="117147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117150">pq</span><span class="op" id="117152">[</span><span class="ident" id="117153">i</span><span class="op" id="117154">]</span><span class="op" id="117155">,</span>&nbsp;<span class="ident" id="117157">pq</span><span class="op" id="117159">[</span><span class="ident" id="117160">j</span><span class="op" id="117161">]</span>&nbsp;<span class="op" id="117163">=</span>&nbsp;<span class="ident" id="117165">pq</span><span class="op" id="117167">[</span><span class="ident" id="117168">j</span><span class="op" id="117169">]</span><span class="op" id="117170">,</span>&nbsp;<span class="ident" id="117172">pq</span><span class="op" id="117174">[</span><span class="ident" id="117175">i</span><span class="op" id="117176">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117179">pq</span><span class="op" id="117181">[</span><span class="ident" id="117182">i</span><span class="op" id="117183">]</span><span class="op" id="117184">.</span><span class="ident" id="117185">index</span>&nbsp;<span class="op" id="117191">=</span>&nbsp;<span class="ident" id="117193">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117196">pq</span><span class="op" id="117198">[</span><span class="ident" id="117199">j</span><span class="op" id="117200">]</span><span class="op" id="117201">.</span><span class="ident" id="117202">index</span>&nbsp;<span class="op" id="117208">=</span>&nbsp;<span class="ident" id="117210">j</span><br>
<span class="lineno">35</span><span class="op" id="117212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="117215">func</span>&nbsp;<span class="op" id="117220">(</span><span class="ident" id="117221">pq</span>&nbsp;<span class="op" id="117224">*</span><span class="ident" id="117225">PriorityQueue</span><span class="op" id="117238">)</span>&nbsp;<span class="ident" id="117240">Push</span><span class="op" id="117244">(</span><span class="ident" id="117245">x</span>&nbsp;<span class="keyword" id="117247">interface</span><span class="op" id="117256">{</span><span class="op" id="117257">}</span><span class="op" id="117258">)</span>&nbsp;<span class="op" id="117260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117263">n</span>&nbsp;<span class="op" id="117265">:=</span>&nbsp;<span class="builtinfunc" id="117268">len</span><span class="op" id="117271">(</span><span class="op" id="117272">*</span><span class="ident" id="117273">pq</span><span class="op" id="117275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117278">item</span>&nbsp;<span class="op" id="117283">:=</span>&nbsp;<span class="ident" id="117286">x</span><span class="op" id="117287">.</span><span class="op" id="117288">(</span><span class="op" id="117289">*</span><span class="ident" id="117290">Item</span><span class="op" id="117294">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117297">item</span><span class="op" id="117301">.</span><span class="ident" id="117302">index</span>&nbsp;<span class="op" id="117308">=</span>&nbsp;<span class="ident" id="117310">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="117313">*</span><span class="ident" id="117314">pq</span>&nbsp;<span class="op" id="117317">=</span>&nbsp;<span class="builtinfunc" id="117319">append</span><span class="op" id="117325">(</span><span class="op" id="117326">*</span><span class="ident" id="117327">pq</span><span class="op" id="117329">,</span>&nbsp;<span class="ident" id="117331">item</span><span class="op" id="117335">)</span><br>
<span class="lineno"></span><span class="op" id="117337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="117340">func</span>&nbsp;<span class="op" id="117345">(</span><span class="ident" id="117346">pq</span>&nbsp;<span class="op" id="117349">*</span><span class="ident" id="117350">PriorityQueue</span><span class="op" id="117363">)</span>&nbsp;<span class="ident" id="117365">Pop</span><span class="op" id="117368">(</span><span class="op" id="117369">)</span>&nbsp;<span class="keyword" id="117371">interface</span><span class="op" id="117380">{</span><span class="op" id="117381">}</span>&nbsp;<span class="op" id="117383">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117386">old</span>&nbsp;<span class="op" id="117390">:=</span>&nbsp;<span class="op" id="117393">*</span><span class="ident" id="117394">pq</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117398">n</span>&nbsp;<span class="op" id="117400">:=</span>&nbsp;<span class="builtinfunc" id="117403">len</span><span class="op" id="117406">(</span><span class="ident" id="117407">old</span><span class="op" id="117410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117413">item</span>&nbsp;<span class="op" id="117418">:=</span>&nbsp;<span class="ident" id="117421">old</span><span class="op" id="117424">[</span><span class="ident" id="117425">n</span><span class="op" id="117426">-</span><span class="num" id="117427">1</span><span class="op" id="117428">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117431">item</span><span class="op" id="117435">.</span><span class="ident" id="117436">index</span>&nbsp;<span class="op" id="117442">=</span>&nbsp;<span class="op" id="117444">-</span><span class="num" id="117445">1</span>&nbsp;<span class="comment" id="117447">//&nbsp;for&nbsp;safety</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="117462">*</span><span class="ident" id="117463">pq</span>&nbsp;<span class="op" id="117466">=</span>&nbsp;<span class="ident" id="117468">old</span><span class="op" id="117471">[</span><span class="num" id="117472">0</span>&nbsp;<span class="op" id="117474">:</span>&nbsp;<span class="ident" id="117476">n</span><span class="op" id="117477">-</span><span class="num" id="117478">1</span><span class="op" id="117479">]</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="117482">return</span>&nbsp;<span class="ident" id="117489">item</span><br>
<span class="lineno"></span><span class="op" id="117494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="117497">//&nbsp;update&nbsp;modifies&nbsp;the&nbsp;priority&nbsp;and&nbsp;value&nbsp;of&nbsp;an&nbsp;Item&nbsp;in&nbsp;the&nbsp;queue.</span><br>
<span class="lineno"></span><span class="keyword" id="117564">func</span>&nbsp;<span class="op" id="117569">(</span><span class="ident" id="117570">pq</span>&nbsp;<span class="op" id="117573">*</span><span class="ident" id="117574">PriorityQueue</span><span class="op" id="117587">)</span>&nbsp;<span class="ident" id="117589">update</span><span class="op" id="117595">(</span><span class="ident" id="117596">item</span>&nbsp;<span class="op" id="117601">*</span><span class="ident" id="117602">Item</span><span class="op" id="117606">,</span>&nbsp;<span class="ident" id="117608">value</span>&nbsp;<span class="builtintype" id="117614">string</span><span class="op" id="117620">,</span>&nbsp;<span class="ident" id="117622">priority</span>&nbsp;<span class="builtintype" id="117631">int</span><span class="op" id="117634">)</span>&nbsp;<span class="op" id="117636">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117639">item</span><span class="op" id="117643">.</span><span class="ident" id="117644">value</span>&nbsp;<span class="op" id="117650">=</span>&nbsp;<span class="ident" id="117652">value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117659">item</span><span class="op" id="117663">.</span><span class="ident" id="117664">priority</span>&nbsp;<span class="op" id="117673">=</span>&nbsp;<span class="ident" id="117675">priority</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117685">heap</span><span class="op" id="117689">.</span><span class="ident" id="117690">Fix</span><span class="op" id="117693">(</span><span class="ident" id="117694">pq</span><span class="op" id="117696">,</span>&nbsp;<span class="ident" id="117698">item</span><span class="op" id="117702">.</span><span class="ident" id="117703">index</span><span class="op" id="117708">)</span><br>
<span class="lineno"></span><span class="op" id="117710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="117713">//&nbsp;This&nbsp;example&nbsp;creates&nbsp;a&nbsp;PriorityQueue&nbsp;with&nbsp;some&nbsp;items,&nbsp;adds&nbsp;and&nbsp;manipulates&nbsp;an&nbsp;item,</span><br>
<span class="lineno"></span><span class="comment" id="117800">//&nbsp;and&nbsp;then&nbsp;removes&nbsp;the&nbsp;items&nbsp;in&nbsp;priority&nbsp;order.</span><br>
<span class="lineno"></span><span class="keyword" id="117849">func</span>&nbsp;<span class="ident" id="117854">Example_priorityQueue</span><span class="op" id="117875">(</span><span class="op" id="117876">)</span>&nbsp;<span class="op" id="117878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="117881">//&nbsp;Some&nbsp;items&nbsp;and&nbsp;their&nbsp;priorities.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="117918">items</span>&nbsp;<span class="op" id="117924">:=</span>&nbsp;<span class="keyword" id="117927">map</span><span class="op" id="117930">[</span><span class="builtintype" id="117931">string</span><span class="op" id="117937">]</span><span class="builtintype" id="117938">int</span><span class="op" id="117941">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="117945">&#34;banana&#34;</span><span class="op" id="117953">:</span>&nbsp;<span class="num" id="117955">3</span><span class="op" id="117956">,</span>&nbsp;<span class="string" id="117958">&#34;apple&#34;</span><span class="op" id="117965">:</span>&nbsp;<span class="num" id="117967">2</span><span class="op" id="117968">,</span>&nbsp;<span class="string" id="117970">&#34;pear&#34;</span><span class="op" id="117976">:</span>&nbsp;<span class="num" id="117978">4</span><span class="op" id="117979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="117982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="117986">//&nbsp;Create&nbsp;a&nbsp;priority&nbsp;queue,&nbsp;put&nbsp;the&nbsp;items&nbsp;in&nbsp;it,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="118040">//&nbsp;establish&nbsp;the&nbsp;priority&nbsp;queue&nbsp;(heap)&nbsp;invariants.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118092">pq</span>&nbsp;<span class="op" id="118095">:=</span>&nbsp;<span class="builtinfunc" id="118098">make</span><span class="op" id="118102">(</span><span class="ident" id="118103">PriorityQueue</span><span class="op" id="118116">,</span>&nbsp;<span class="builtinfunc" id="118118">len</span><span class="op" id="118121">(</span><span class="ident" id="118122">items</span><span class="op" id="118127">)</span><span class="op" id="118128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118131">i</span>&nbsp;<span class="op" id="118133">:=</span>&nbsp;<span class="num" id="118136">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="118139">for</span>&nbsp;<span class="ident" id="118143">value</span><span class="op" id="118148">,</span>&nbsp;<span class="ident" id="118150">priority</span>&nbsp;<span class="op" id="118159">:=</span>&nbsp;<span class="keyword" id="118162">range</span>&nbsp;<span class="ident" id="118168">items</span>&nbsp;<span class="op" id="118174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118178">pq</span><span class="op" id="118180">[</span><span class="ident" id="118181">i</span><span class="op" id="118182">]</span>&nbsp;<span class="op" id="118184">=</span>&nbsp;<span class="op" id="118186">&amp;</span><span class="ident" id="118187">Item</span><span class="op" id="118191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118196">value</span><span class="op" id="118201">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118206">value</span><span class="op" id="118211">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118216">priority</span><span class="op" id="118224">:</span>&nbsp;<span class="ident" id="118226">priority</span><span class="op" id="118234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118239">index</span><span class="op" id="118244">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118249">i</span><span class="op" id="118250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="118254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118258">i</span><span class="op" id="118259">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="118263">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118266">heap</span><span class="op" id="118270">.</span><span class="ident" id="118271">Init</span><span class="op" id="118275">(</span><span class="op" id="118276">&amp;</span><span class="ident" id="118277">pq</span><span class="op" id="118279">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="118283">//&nbsp;Insert&nbsp;a&nbsp;new&nbsp;item&nbsp;and&nbsp;then&nbsp;modify&nbsp;its&nbsp;priority.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118335">item</span>&nbsp;<span class="op" id="118340">:=</span>&nbsp;<span class="op" id="118343">&amp;</span><span class="ident" id="118344">Item</span><span class="op" id="118348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118352">value</span><span class="op" id="118357">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="118362">&#34;orange&#34;</span><span class="op" id="118370">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118374">priority</span><span class="op" id="118382">:</span>&nbsp;<span class="num" id="118384">1</span><span class="op" id="118385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="118388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118391">heap</span><span class="op" id="118395">.</span><span class="ident" id="118396">Push</span><span class="op" id="118400">(</span><span class="op" id="118401">&amp;</span><span class="ident" id="118402">pq</span><span class="op" id="118404">,</span>&nbsp;<span class="ident" id="118406">item</span><span class="op" id="118410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118413">pq</span><span class="op" id="118415">.</span><span class="ident" id="118416">update</span><span class="op" id="118422">(</span><span class="ident" id="118423">item</span><span class="op" id="118427">,</span>&nbsp;<span class="ident" id="118429">item</span><span class="op" id="118433">.</span><span class="ident" id="118434">value</span><span class="op" id="118439">,</span>&nbsp;<span class="num" id="118441">5</span><span class="op" id="118442">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="118446">//&nbsp;Take&nbsp;the&nbsp;items&nbsp;out;&nbsp;they&nbsp;arrive&nbsp;in&nbsp;decreasing&nbsp;priority&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="118512">for</span>&nbsp;<span class="ident" id="118516">pq</span><span class="op" id="118518">.</span><span class="ident" id="118519">Len</span><span class="op" id="118522">(</span><span class="op" id="118523">)</span>&nbsp;<span class="op" id="118525">&gt;</span>&nbsp;<span class="num" id="118527">0</span>&nbsp;<span class="op" id="118529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118533">item</span>&nbsp;<span class="op" id="118538">:=</span>&nbsp;<span class="ident" id="118541">heap</span><span class="op" id="118545">.</span><span class="ident" id="118546">Pop</span><span class="op" id="118549">(</span><span class="op" id="118550">&amp;</span><span class="ident" id="118551">pq</span><span class="op" id="118553">)</span><span class="op" id="118554">.</span><span class="op" id="118555">(</span><span class="op" id="118556">*</span><span class="ident" id="118557">Item</span><span class="op" id="118561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="118565">fmt</span><span class="op" id="118568">.</span><span class="ident" id="118569">Printf</span><span class="op" id="118575">(</span><span class="string" id="118576">&#34;%.2d:%s&nbsp;&#34;</span><span class="op" id="118586">,</span>&nbsp;<span class="ident" id="118588">item</span><span class="op" id="118592">.</span><span class="ident" id="118593">priority</span><span class="op" id="118601">,</span>&nbsp;<span class="ident" id="118603">item</span><span class="op" id="118607">.</span><span class="ident" id="118608">value</span><span class="op" id="118613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="118616">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="118619">//&nbsp;Output:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="118631">//&nbsp;05:orange&nbsp;04:pear&nbsp;03:banana&nbsp;02:apple</span><br>
<span class="lineno"></span><span class="op" id="118671">}</span>
</div>
</body>
</html>
