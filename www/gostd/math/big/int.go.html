<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3949994">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3950049">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3950103">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3950154">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3950212">package</span>&nbsp;<span class="ident" id="3950220">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3950225">import</span>&nbsp;<span class="op" id="3950232">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3950235">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3950245">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3950252">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3950258">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3950271">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3950281">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3950284">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="3950339">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3950392">type</span>&nbsp;<span class="ident" id="3950397">Int</span>&nbsp;<span class="keyword" id="3950401">struct</span>&nbsp;<span class="op" id="3950408">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950411">neg</span>&nbsp;<span class="builtintype" id="3950415">bool</span>&nbsp;<span class="comment" id="3950420">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950429">abs</span>&nbsp;<span class="ident" id="3950433">nat</span>&nbsp;&nbsp;<span class="comment" id="3950438">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="3950471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3950474">var</span>&nbsp;<span class="ident" id="3950478">intOne</span>&nbsp;<span class="op" id="3950485">=</span>&nbsp;<span class="op" id="3950487">&amp;</span><span class="ident" id="3950488">Int</span><span class="op" id="3950491">{</span><span class="builtintype" id="3950492">false</span><span class="op" id="3950497">,</span>&nbsp;<span class="ident" id="3950499">natOne</span><span class="op" id="3950505">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3950508">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="3950525">//</span><br>
<span class="lineno"></span><span class="comment" id="3950528">//&nbsp;&nbsp;&nbsp;&nbsp-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3950544">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="3950560">//&nbsp;&nbsp;&nbsp;&nbsp+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3950576">//</span><br>
<span class="lineno"></span><span class="keyword" id="3950579">func</span>&nbsp;<span class="op" id="3950584">(</span><span class="ident" id="3950585">x</span>&nbsp;<span class="op" id="3950587">*</span><span class="ident" id="3950588">Int</span><span class="op" id="3950591">)</span>&nbsp;<span class="ident" id="3950593">Sign</span><span class="op" id="3950597">(</span><span class="op" id="3950598">)</span>&nbsp;<span class="builtintype" id="3950600">int</span>&nbsp;<span class="op" id="3950604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3950607">if</span>&nbsp;<span class="builtinfunc" id="3950610">len</span><span class="op" id="3950613">(</span><span class="ident" id="3950614">x</span><span class="op" id="3950615">.</span><span class="ident" id="3950616">abs</span><span class="op" id="3950619">)</span>&nbsp;<span class="op" id="3950621">==</span>&nbsp;<span class="num" id="3950624">0</span>&nbsp;<span class="op" id="3950626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3950630">return</span>&nbsp;<span class="num" id="3950637">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3950640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3950643">if</span>&nbsp;<span class="ident" id="3950646">x</span><span class="op" id="3950647">.</span><span class="ident" id="3950648">neg</span>&nbsp;<span class="op" id="3950652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3950656">return</span>&nbsp;<span class="op" id="3950663">-</span><span class="num" id="3950664">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3950667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3950670">return</span>&nbsp;<span class="num" id="3950677">1</span><br>
<span class="lineno">40</span><span class="op" id="3950679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3950682">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3950721">func</span>&nbsp;<span class="op" id="3950726">(</span><span class="ident" id="3950727">z</span>&nbsp;<span class="op" id="3950729">*</span><span class="ident" id="3950730">Int</span><span class="op" id="3950733">)</span>&nbsp;<span class="ident" id="3950735">SetInt64</span><span class="op" id="3950743">(</span><span class="ident" id="3950744">x</span>&nbsp;<span class="ident" id="3950746">int64</span><span class="op" id="3950751">)</span>&nbsp;<span class="op" id="3950753">*</span><span class="ident" id="3950754">Int</span>&nbsp;<span class="op" id="3950758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950761">neg</span>&nbsp;<span class="op" id="3950765">:=</span>&nbsp;<span class="builtintype" id="3950768">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3950775">if</span>&nbsp;<span class="ident" id="3950778">x</span>&nbsp;<span class="op" id="3950780">&lt;</span>&nbsp;<span class="num" id="3950782">0</span>&nbsp;<span class="op" id="3950784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950788">neg</span>&nbsp;<span class="op" id="3950792">=</span>&nbsp;<span class="builtintype" id="3950794">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950801">x</span>&nbsp;<span class="op" id="3950803">=</span>&nbsp;<span class="op" id="3950805">-</span><span class="ident" id="3950806">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3950809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950812">z</span><span class="op" id="3950813">.</span><span class="ident" id="3950814">abs</span>&nbsp;<span class="op" id="3950818">=</span>&nbsp;<span class="ident" id="3950820">z</span><span class="op" id="3950821">.</span><span class="ident" id="3950822">abs</span><span class="op" id="3950825">.</span><span class="ident" id="3950826">setUint64</span><span class="op" id="3950835">(</span><span class="ident" id="3950836">uint64</span><span class="op" id="3950842">(</span><span class="ident" id="3950843">x</span><span class="op" id="3950844">)</span><span class="op" id="3950845">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950848">z</span><span class="op" id="3950849">.</span><span class="ident" id="3950850">neg</span>&nbsp;<span class="op" id="3950854">=</span>&nbsp;<span class="ident" id="3950856">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3950861">return</span>&nbsp;<span class="ident" id="3950868">z</span><br>
<span class="lineno"></span><span class="op" id="3950870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3950873">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="3950913">func</span>&nbsp;<span class="op" id="3950918">(</span><span class="ident" id="3950919">z</span>&nbsp;<span class="op" id="3950921">*</span><span class="ident" id="3950922">Int</span><span class="op" id="3950925">)</span>&nbsp;<span class="ident" id="3950927">SetUint64</span><span class="op" id="3950936">(</span><span class="ident" id="3950937">x</span>&nbsp;<span class="ident" id="3950939">uint64</span><span class="op" id="3950945">)</span>&nbsp;<span class="op" id="3950947">*</span><span class="ident" id="3950948">Int</span>&nbsp;<span class="op" id="3950952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950955">z</span><span class="op" id="3950956">.</span><span class="ident" id="3950957">abs</span>&nbsp;<span class="op" id="3950961">=</span>&nbsp;<span class="ident" id="3950963">z</span><span class="op" id="3950964">.</span><span class="ident" id="3950965">abs</span><span class="op" id="3950968">.</span><span class="ident" id="3950969">setUint64</span><span class="op" id="3950978">(</span><span class="ident" id="3950979">x</span><span class="op" id="3950980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3950983">z</span><span class="op" id="3950984">.</span><span class="ident" id="3950985">neg</span>&nbsp;<span class="op" id="3950989">=</span>&nbsp;<span class="builtintype" id="3950991">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3950998">return</span>&nbsp;<span class="ident" id="3951005">z</span><br>
<span class="lineno"></span><span class="op" id="3951007">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3951010">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="3951062">func</span>&nbsp;<span class="ident" id="3951067">NewInt</span><span class="op" id="3951073">(</span><span class="ident" id="3951074">x</span>&nbsp;<span class="ident" id="3951076">int64</span><span class="op" id="3951081">)</span>&nbsp;<span class="op" id="3951083">*</span><span class="ident" id="3951084">Int</span>&nbsp;<span class="op" id="3951088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3951091">return</span>&nbsp;<span class="builtinfunc" id="3951098">new</span><span class="op" id="3951101">(</span><span class="ident" id="3951102">Int</span><span class="op" id="3951105">)</span><span class="op" id="3951106">.</span><span class="ident" id="3951107">SetInt64</span><span class="op" id="3951115">(</span><span class="ident" id="3951116">x</span><span class="op" id="3951117">)</span><br>
<span class="lineno"></span><span class="op" id="3951119">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="3951122">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3951156">func</span>&nbsp;<span class="op" id="3951161">(</span><span class="ident" id="3951162">z</span>&nbsp;<span class="op" id="3951164">*</span><span class="ident" id="3951165">Int</span><span class="op" id="3951168">)</span>&nbsp;<span class="ident" id="3951170">Set</span><span class="op" id="3951173">(</span><span class="ident" id="3951174">x</span>&nbsp;<span class="op" id="3951176">*</span><span class="ident" id="3951177">Int</span><span class="op" id="3951180">)</span>&nbsp;<span class="op" id="3951182">*</span><span class="ident" id="3951183">Int</span>&nbsp;<span class="op" id="3951187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3951190">if</span>&nbsp;<span class="ident" id="3951193">z</span>&nbsp;<span class="op" id="3951195">!=</span>&nbsp;<span class="ident" id="3951198">x</span>&nbsp;<span class="op" id="3951200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3951204">z</span><span class="op" id="3951205">.</span><span class="ident" id="3951206">abs</span>&nbsp;<span class="op" id="3951210">=</span>&nbsp;<span class="ident" id="3951212">z</span><span class="op" id="3951213">.</span><span class="ident" id="3951214">abs</span><span class="op" id="3951217">.</span><span class="ident" id="3951218">set</span><span class="op" id="3951221">(</span><span class="ident" id="3951222">x</span><span class="op" id="3951223">.</span><span class="ident" id="3951224">abs</span><span class="op" id="3951227">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3951231">z</span><span class="op" id="3951232">.</span><span class="ident" id="3951233">neg</span>&nbsp;<span class="op" id="3951237">=</span>&nbsp;<span class="ident" id="3951239">x</span><span class="op" id="3951240">.</span><span class="ident" id="3951241">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3951246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3951249">return</span>&nbsp;<span class="ident" id="3951256">z</span><br>
<span class="lineno"></span><span class="op" id="3951258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="3951261">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="3951332">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="3951404">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3951434">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3951505">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="3951576">func</span>&nbsp;<span class="op" id="3951581">(</span><span class="ident" id="3951582">x</span>&nbsp;<span class="op" id="3951584">*</span><span class="ident" id="3951585">Int</span><span class="op" id="3951588">)</span>&nbsp;<span class="ident" id="3951590">Bits</span><span class="op" id="3951594">(</span><span class="op" id="3951595">)</span>&nbsp;<span class="op" id="3951597">[</span><span class="op" id="3951598">]</span><span class="ident" id="3951599">Word</span>&nbsp;<span class="op" id="3951604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3951607">return</span>&nbsp;<span class="ident" id="3951614">x</span><span class="op" id="3951615">.</span><span class="ident" id="3951616">abs</span><br>
<span class="lineno"></span><span class="op" id="3951620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3951623">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="3951695">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="3951769">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3951827">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3951901">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="3951972">func</span>&nbsp;<span class="op" id="3951977">(</span><span class="ident" id="3951978">z</span>&nbsp;<span class="op" id="3951980">*</span><span class="ident" id="3951981">Int</span><span class="op" id="3951984">)</span>&nbsp;<span class="ident" id="3951986">SetBits</span><span class="op" id="3951993">(</span><span class="ident" id="3951994">abs</span>&nbsp;<span class="op" id="3951998">[</span><span class="op" id="3951999">]</span><span class="ident" id="3952000">Word</span><span class="op" id="3952004">)</span>&nbsp;<span class="op" id="3952006">*</span><span class="ident" id="3952007">Int</span>&nbsp;<span class="op" id="3952011">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952014">z</span><span class="op" id="3952015">.</span><span class="ident" id="3952016">abs</span>&nbsp;<span class="op" id="3952020">=</span>&nbsp;<span class="ident" id="3952022">nat</span><span class="op" id="3952025">(</span><span class="ident" id="3952026">abs</span><span class="op" id="3952029">)</span><span class="op" id="3952030">.</span><span class="ident" id="3952031">norm</span><span class="op" id="3952035">(</span><span class="op" id="3952036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952039">z</span><span class="op" id="3952040">.</span><span class="ident" id="3952041">neg</span>&nbsp;<span class="op" id="3952045">=</span>&nbsp;<span class="builtintype" id="3952047">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3952054">return</span>&nbsp;<span class="ident" id="3952061">z</span><br>
<span class="lineno"></span><span class="op" id="3952063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3952066">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3952128">func</span>&nbsp;<span class="op" id="3952133">(</span><span class="ident" id="3952134">z</span>&nbsp;<span class="op" id="3952136">*</span><span class="ident" id="3952137">Int</span><span class="op" id="3952140">)</span>&nbsp;<span class="ident" id="3952142">Abs</span><span class="op" id="3952145">(</span><span class="ident" id="3952146">x</span>&nbsp;<span class="op" id="3952148">*</span><span class="ident" id="3952149">Int</span><span class="op" id="3952152">)</span>&nbsp;<span class="op" id="3952154">*</span><span class="ident" id="3952155">Int</span>&nbsp;<span class="op" id="3952159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952162">z</span><span class="op" id="3952163">.</span><span class="ident" id="3952164">Set</span><span class="op" id="3952167">(</span><span class="ident" id="3952168">x</span><span class="op" id="3952169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952172">z</span><span class="op" id="3952173">.</span><span class="ident" id="3952174">neg</span>&nbsp;<span class="op" id="3952178">=</span>&nbsp;<span class="builtintype" id="3952180">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3952187">return</span>&nbsp;<span class="ident" id="3952194">z</span><br>
<span class="lineno">100</span><span class="op" id="3952196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3952199">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3952234">func</span>&nbsp;<span class="op" id="3952239">(</span><span class="ident" id="3952240">z</span>&nbsp;<span class="op" id="3952242">*</span><span class="ident" id="3952243">Int</span><span class="op" id="3952246">)</span>&nbsp;<span class="ident" id="3952248">Neg</span><span class="op" id="3952251">(</span><span class="ident" id="3952252">x</span>&nbsp;<span class="op" id="3952254">*</span><span class="ident" id="3952255">Int</span><span class="op" id="3952258">)</span>&nbsp;<span class="op" id="3952260">*</span><span class="ident" id="3952261">Int</span>&nbsp;<span class="op" id="3952265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952268">z</span><span class="op" id="3952269">.</span><span class="ident" id="3952270">Set</span><span class="op" id="3952273">(</span><span class="ident" id="3952274">x</span><span class="op" id="3952275">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952278">z</span><span class="op" id="3952279">.</span><span class="ident" id="3952280">neg</span>&nbsp;<span class="op" id="3952284">=</span>&nbsp;<span class="builtinfunc" id="3952286">len</span><span class="op" id="3952289">(</span><span class="ident" id="3952290">z</span><span class="op" id="3952291">.</span><span class="ident" id="3952292">abs</span><span class="op" id="3952295">)</span>&nbsp;<span class="op" id="3952297">&gt;</span>&nbsp;<span class="num" id="3952299">0</span>&nbsp;<span class="op" id="3952301">&amp;&amp;</span>&nbsp;<span class="op" id="3952304">!</span><span class="ident" id="3952305">z</span><span class="op" id="3952306">.</span><span class="ident" id="3952307">neg</span>&nbsp;<span class="comment" id="3952311">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3952329">return</span>&nbsp;<span class="ident" id="3952336">z</span><br>
<span class="lineno"></span><span class="op" id="3952338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3952341">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="3952385">func</span>&nbsp;<span class="op" id="3952390">(</span><span class="ident" id="3952391">z</span>&nbsp;<span class="op" id="3952393">*</span><span class="ident" id="3952394">Int</span><span class="op" id="3952397">)</span>&nbsp;<span class="ident" id="3952399">Add</span><span class="op" id="3952402">(</span><span class="ident" id="3952403">x</span><span class="op" id="3952404">,</span>&nbsp;<span class="ident" id="3952406">y</span>&nbsp;<span class="op" id="3952408">*</span><span class="ident" id="3952409">Int</span><span class="op" id="3952412">)</span>&nbsp;<span class="op" id="3952414">*</span><span class="ident" id="3952415">Int</span>&nbsp;<span class="op" id="3952419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952422">neg</span>&nbsp;<span class="op" id="3952426">:=</span>&nbsp;<span class="ident" id="3952429">x</span><span class="op" id="3952430">.</span><span class="ident" id="3952431">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3952436">if</span>&nbsp;<span class="ident" id="3952439">x</span><span class="op" id="3952440">.</span><span class="ident" id="3952441">neg</span>&nbsp;<span class="op" id="3952445">==</span>&nbsp;<span class="ident" id="3952448">y</span><span class="op" id="3952449">.</span><span class="ident" id="3952450">neg</span>&nbsp;<span class="op" id="3952454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3952458">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3952478">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952507">z</span><span class="op" id="3952508">.</span><span class="ident" id="3952509">abs</span>&nbsp;<span class="op" id="3952513">=</span>&nbsp;<span class="ident" id="3952515">z</span><span class="op" id="3952516">.</span><span class="ident" id="3952517">abs</span><span class="op" id="3952520">.</span><span class="ident" id="3952521">add</span><span class="op" id="3952524">(</span><span class="ident" id="3952525">x</span><span class="op" id="3952526">.</span><span class="ident" id="3952527">abs</span><span class="op" id="3952530">,</span>&nbsp;<span class="ident" id="3952532">y</span><span class="op" id="3952533">.</span><span class="ident" id="3952534">abs</span><span class="op" id="3952537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3952540">}</span>&nbsp;<span class="keyword" id="3952542">else</span>&nbsp;<span class="op" id="3952547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3952551">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3952586">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3952621">if</span>&nbsp;<span class="ident" id="3952624">x</span><span class="op" id="3952625">.</span><span class="ident" id="3952626">abs</span><span class="op" id="3952629">.</span><span class="ident" id="3952630">cmp</span><span class="op" id="3952633">(</span><span class="ident" id="3952634">y</span><span class="op" id="3952635">.</span><span class="ident" id="3952636">abs</span><span class="op" id="3952639">)</span>&nbsp;<span class="op" id="3952641">&gt;=</span>&nbsp;<span class="num" id="3952644">0</span>&nbsp;<span class="op" id="3952646">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952651">z</span><span class="op" id="3952652">.</span><span class="ident" id="3952653">abs</span>&nbsp;<span class="op" id="3952657">=</span>&nbsp;<span class="ident" id="3952659">z</span><span class="op" id="3952660">.</span><span class="ident" id="3952661">abs</span><span class="op" id="3952664">.</span><span class="ident" id="3952665">sub</span><span class="op" id="3952668">(</span><span class="ident" id="3952669">x</span><span class="op" id="3952670">.</span><span class="ident" id="3952671">abs</span><span class="op" id="3952674">,</span>&nbsp;<span class="ident" id="3952676">y</span><span class="op" id="3952677">.</span><span class="ident" id="3952678">abs</span><span class="op" id="3952681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3952685">}</span>&nbsp;<span class="keyword" id="3952687">else</span>&nbsp;<span class="op" id="3952692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952697">neg</span>&nbsp;<span class="op" id="3952701">=</span>&nbsp;<span class="op" id="3952703">!</span><span class="ident" id="3952704">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952711">z</span><span class="op" id="3952712">.</span><span class="ident" id="3952713">abs</span>&nbsp;<span class="op" id="3952717">=</span>&nbsp;<span class="ident" id="3952719">z</span><span class="op" id="3952720">.</span><span class="ident" id="3952721">abs</span><span class="op" id="3952724">.</span><span class="ident" id="3952725">sub</span><span class="op" id="3952728">(</span><span class="ident" id="3952729">y</span><span class="op" id="3952730">.</span><span class="ident" id="3952731">abs</span><span class="op" id="3952734">,</span>&nbsp;<span class="ident" id="3952736">x</span><span class="op" id="3952737">.</span><span class="ident" id="3952738">abs</span><span class="op" id="3952741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3952745">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3952748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952751">z</span><span class="op" id="3952752">.</span><span class="ident" id="3952753">neg</span>&nbsp;<span class="op" id="3952757">=</span>&nbsp;<span class="builtinfunc" id="3952759">len</span><span class="op" id="3952762">(</span><span class="ident" id="3952763">z</span><span class="op" id="3952764">.</span><span class="ident" id="3952765">abs</span><span class="op" id="3952768">)</span>&nbsp;<span class="op" id="3952770">&gt;</span>&nbsp;<span class="num" id="3952772">0</span>&nbsp;<span class="op" id="3952774">&amp;&amp;</span>&nbsp;<span class="ident" id="3952777">neg</span>&nbsp;<span class="comment" id="3952781">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3952799">return</span>&nbsp;<span class="ident" id="3952806">z</span><br>
<span class="lineno"></span><span class="op" id="3952808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3952811">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3952862">func</span>&nbsp;<span class="op" id="3952867">(</span><span class="ident" id="3952868">z</span>&nbsp;<span class="op" id="3952870">*</span><span class="ident" id="3952871">Int</span><span class="op" id="3952874">)</span>&nbsp;<span class="ident" id="3952876">Sub</span><span class="op" id="3952879">(</span><span class="ident" id="3952880">x</span><span class="op" id="3952881">,</span>&nbsp;<span class="ident" id="3952883">y</span>&nbsp;<span class="op" id="3952885">*</span><span class="ident" id="3952886">Int</span><span class="op" id="3952889">)</span>&nbsp;<span class="op" id="3952891">*</span><span class="ident" id="3952892">Int</span>&nbsp;<span class="op" id="3952896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952899">neg</span>&nbsp;<span class="op" id="3952903">:=</span>&nbsp;<span class="ident" id="3952906">x</span><span class="op" id="3952907">.</span><span class="ident" id="3952908">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3952913">if</span>&nbsp;<span class="ident" id="3952916">x</span><span class="op" id="3952917">.</span><span class="ident" id="3952918">neg</span>&nbsp;<span class="op" id="3952922">!=</span>&nbsp;<span class="ident" id="3952925">y</span><span class="op" id="3952926">.</span><span class="ident" id="3952927">neg</span>&nbsp;<span class="op" id="3952931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3952935">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3952958">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3952984">z</span><span class="op" id="3952985">.</span><span class="ident" id="3952986">abs</span>&nbsp;<span class="op" id="3952990">=</span>&nbsp;<span class="ident" id="3952992">z</span><span class="op" id="3952993">.</span><span class="ident" id="3952994">abs</span><span class="op" id="3952997">.</span><span class="ident" id="3952998">add</span><span class="op" id="3953001">(</span><span class="ident" id="3953002">x</span><span class="op" id="3953003">.</span><span class="ident" id="3953004">abs</span><span class="op" id="3953007">,</span>&nbsp;<span class="ident" id="3953009">y</span><span class="op" id="3953010">.</span><span class="ident" id="3953011">abs</span><span class="op" id="3953014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3953017">}</span>&nbsp;<span class="keyword" id="3953019">else</span>&nbsp;<span class="op" id="3953024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3953028">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3953060">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953098">if</span>&nbsp;<span class="ident" id="3953101">x</span><span class="op" id="3953102">.</span><span class="ident" id="3953103">abs</span><span class="op" id="3953106">.</span><span class="ident" id="3953107">cmp</span><span class="op" id="3953110">(</span><span class="ident" id="3953111">y</span><span class="op" id="3953112">.</span><span class="ident" id="3953113">abs</span><span class="op" id="3953116">)</span>&nbsp;<span class="op" id="3953118">&gt;=</span>&nbsp;<span class="num" id="3953121">0</span>&nbsp;<span class="op" id="3953123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953128">z</span><span class="op" id="3953129">.</span><span class="ident" id="3953130">abs</span>&nbsp;<span class="op" id="3953134">=</span>&nbsp;<span class="ident" id="3953136">z</span><span class="op" id="3953137">.</span><span class="ident" id="3953138">abs</span><span class="op" id="3953141">.</span><span class="ident" id="3953142">sub</span><span class="op" id="3953145">(</span><span class="ident" id="3953146">x</span><span class="op" id="3953147">.</span><span class="ident" id="3953148">abs</span><span class="op" id="3953151">,</span>&nbsp;<span class="ident" id="3953153">y</span><span class="op" id="3953154">.</span><span class="ident" id="3953155">abs</span><span class="op" id="3953158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3953162">}</span>&nbsp;<span class="keyword" id="3953164">else</span>&nbsp;<span class="op" id="3953169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953174">neg</span>&nbsp;<span class="op" id="3953178">=</span>&nbsp;<span class="op" id="3953180">!</span><span class="ident" id="3953181">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953188">z</span><span class="op" id="3953189">.</span><span class="ident" id="3953190">abs</span>&nbsp;<span class="op" id="3953194">=</span>&nbsp;<span class="ident" id="3953196">z</span><span class="op" id="3953197">.</span><span class="ident" id="3953198">abs</span><span class="op" id="3953201">.</span><span class="ident" id="3953202">sub</span><span class="op" id="3953205">(</span><span class="ident" id="3953206">y</span><span class="op" id="3953207">.</span><span class="ident" id="3953208">abs</span><span class="op" id="3953211">,</span>&nbsp;<span class="ident" id="3953213">x</span><span class="op" id="3953214">.</span><span class="ident" id="3953215">abs</span><span class="op" id="3953218">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3953222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3953225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953228">z</span><span class="op" id="3953229">.</span><span class="ident" id="3953230">neg</span>&nbsp;<span class="op" id="3953234">=</span>&nbsp;<span class="builtinfunc" id="3953236">len</span><span class="op" id="3953239">(</span><span class="ident" id="3953240">z</span><span class="op" id="3953241">.</span><span class="ident" id="3953242">abs</span><span class="op" id="3953245">)</span>&nbsp;<span class="op" id="3953247">&gt;</span>&nbsp;<span class="num" id="3953249">0</span>&nbsp;<span class="op" id="3953251">&amp;&amp;</span>&nbsp;<span class="ident" id="3953254">neg</span>&nbsp;<span class="comment" id="3953258">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953276">return</span>&nbsp;<span class="ident" id="3953283">z</span><br>
<span class="lineno"></span><span class="op" id="3953285">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="3953288">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3953336">func</span>&nbsp;<span class="op" id="3953341">(</span><span class="ident" id="3953342">z</span>&nbsp;<span class="op" id="3953344">*</span><span class="ident" id="3953345">Int</span><span class="op" id="3953348">)</span>&nbsp;<span class="ident" id="3953350">Mul</span><span class="op" id="3953353">(</span><span class="ident" id="3953354">x</span><span class="op" id="3953355">,</span>&nbsp;<span class="ident" id="3953357">y</span>&nbsp;<span class="op" id="3953359">*</span><span class="ident" id="3953360">Int</span><span class="op" id="3953363">)</span>&nbsp;<span class="op" id="3953365">*</span><span class="ident" id="3953366">Int</span>&nbsp;<span class="op" id="3953370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3953373">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3953392">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3953417">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3953442">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953467">z</span><span class="op" id="3953468">.</span><span class="ident" id="3953469">abs</span>&nbsp;<span class="op" id="3953473">=</span>&nbsp;<span class="ident" id="3953475">z</span><span class="op" id="3953476">.</span><span class="ident" id="3953477">abs</span><span class="op" id="3953480">.</span><span class="ident" id="3953481">mul</span><span class="op" id="3953484">(</span><span class="ident" id="3953485">x</span><span class="op" id="3953486">.</span><span class="ident" id="3953487">abs</span><span class="op" id="3953490">,</span>&nbsp;<span class="ident" id="3953492">y</span><span class="op" id="3953493">.</span><span class="ident" id="3953494">abs</span><span class="op" id="3953497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953500">z</span><span class="op" id="3953501">.</span><span class="ident" id="3953502">neg</span>&nbsp;<span class="op" id="3953506">=</span>&nbsp;<span class="builtinfunc" id="3953508">len</span><span class="op" id="3953511">(</span><span class="ident" id="3953512">z</span><span class="op" id="3953513">.</span><span class="ident" id="3953514">abs</span><span class="op" id="3953517">)</span>&nbsp;<span class="op" id="3953519">&gt;</span>&nbsp;<span class="num" id="3953521">0</span>&nbsp;<span class="op" id="3953523">&amp;&amp;</span>&nbsp;<span class="ident" id="3953526">x</span><span class="op" id="3953527">.</span><span class="ident" id="3953528">neg</span>&nbsp;<span class="op" id="3953532">!=</span>&nbsp;<span class="ident" id="3953535">y</span><span class="op" id="3953536">.</span><span class="ident" id="3953537">neg</span>&nbsp;<span class="comment" id="3953541">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953559">return</span>&nbsp;<span class="ident" id="3953566">z</span><br>
<span class="lineno">160</span><span class="op" id="3953568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3953571">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="3953621">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3953671">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="3953715">func</span>&nbsp;<span class="op" id="3953720">(</span><span class="ident" id="3953721">z</span>&nbsp;<span class="op" id="3953723">*</span><span class="ident" id="3953724">Int</span><span class="op" id="3953727">)</span>&nbsp;<span class="ident" id="3953729">MulRange</span><span class="op" id="3953737">(</span><span class="ident" id="3953738">a</span><span class="op" id="3953739">,</span>&nbsp;<span class="ident" id="3953741">b</span>&nbsp;<span class="ident" id="3953743">int64</span><span class="op" id="3953748">)</span>&nbsp;<span class="op" id="3953750">*</span><span class="ident" id="3953751">Int</span>&nbsp;<span class="op" id="3953755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953758">switch</span>&nbsp;<span class="op" id="3953765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953768">case</span>&nbsp;<span class="ident" id="3953773">a</span>&nbsp;<span class="op" id="3953775">&gt;</span>&nbsp;<span class="ident" id="3953777">b</span><span class="op" id="3953778">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953782">return</span>&nbsp;<span class="ident" id="3953789">z</span><span class="op" id="3953790">.</span><span class="ident" id="3953791">SetInt64</span><span class="op" id="3953799">(</span><span class="num" id="3953800">1</span><span class="op" id="3953801">)</span>&nbsp;<span class="comment" id="3953803">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953819">case</span>&nbsp;<span class="ident" id="3953824">a</span>&nbsp;<span class="op" id="3953826">&lt;=</span>&nbsp;<span class="num" id="3953829">0</span>&nbsp;<span class="op" id="3953831">&amp;&amp;</span>&nbsp;<span class="ident" id="3953834">b</span>&nbsp;<span class="op" id="3953836">&gt;=</span>&nbsp;<span class="num" id="3953839">0</span><span class="op" id="3953840">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953844">return</span>&nbsp;<span class="ident" id="3953851">z</span><span class="op" id="3953852">.</span><span class="ident" id="3953853">SetInt64</span><span class="op" id="3953861">(</span><span class="num" id="3953862">0</span><span class="op" id="3953863">)</span>&nbsp;<span class="comment" id="3953865">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3953886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3953889">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953921">neg</span>&nbsp;<span class="op" id="3953925">:=</span>&nbsp;<span class="builtintype" id="3953928">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3953935">if</span>&nbsp;<span class="ident" id="3953938">a</span>&nbsp;<span class="op" id="3953940">&lt;</span>&nbsp;<span class="num" id="3953942">0</span>&nbsp;<span class="op" id="3953944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953948">neg</span>&nbsp;<span class="op" id="3953952">=</span>&nbsp;<span class="op" id="3953954">(</span><span class="ident" id="3953955">b</span><span class="op" id="3953956">-</span><span class="ident" id="3953957">a</span><span class="op" id="3953958">)</span><span class="op" id="3953959">&amp;</span><span class="num" id="3953960">1</span>&nbsp;<span class="op" id="3953962">==</span>&nbsp;<span class="num" id="3953965">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953969">a</span><span class="op" id="3953970">,</span>&nbsp;<span class="ident" id="3953972">b</span>&nbsp;<span class="op" id="3953974">=</span>&nbsp;<span class="op" id="3953976">-</span><span class="ident" id="3953977">b</span><span class="op" id="3953978">,</span>&nbsp;<span class="op" id="3953980">-</span><span class="ident" id="3953981">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3953984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3953988">z</span><span class="op" id="3953989">.</span><span class="ident" id="3953990">abs</span>&nbsp;<span class="op" id="3953994">=</span>&nbsp;<span class="ident" id="3953996">z</span><span class="op" id="3953997">.</span><span class="ident" id="3953998">abs</span><span class="op" id="3954001">.</span><span class="ident" id="3954002">mulRange</span><span class="op" id="3954010">(</span><span class="ident" id="3954011">uint64</span><span class="op" id="3954017">(</span><span class="ident" id="3954018">a</span><span class="op" id="3954019">)</span><span class="op" id="3954020">,</span>&nbsp;<span class="ident" id="3954022">uint64</span><span class="op" id="3954028">(</span><span class="ident" id="3954029">b</span><span class="op" id="3954030">)</span><span class="op" id="3954031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954034">z</span><span class="op" id="3954035">.</span><span class="ident" id="3954036">neg</span>&nbsp;<span class="op" id="3954040">=</span>&nbsp;<span class="ident" id="3954042">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3954047">return</span>&nbsp;<span class="ident" id="3954054">z</span><br>
<span class="lineno"></span><span class="op" id="3954056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="3954059">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3954131">func</span>&nbsp;<span class="op" id="3954136">(</span><span class="ident" id="3954137">z</span>&nbsp;<span class="op" id="3954139">*</span><span class="ident" id="3954140">Int</span><span class="op" id="3954143">)</span>&nbsp;<span class="ident" id="3954145">Binomial</span><span class="op" id="3954153">(</span><span class="ident" id="3954154">n</span><span class="op" id="3954155">,</span>&nbsp;<span class="ident" id="3954157">k</span>&nbsp;<span class="ident" id="3954159">int64</span><span class="op" id="3954164">)</span>&nbsp;<span class="op" id="3954166">*</span><span class="ident" id="3954167">Int</span>&nbsp;<span class="op" id="3954171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3954174">var</span>&nbsp;<span class="ident" id="3954178">a</span><span class="op" id="3954179">,</span>&nbsp;<span class="ident" id="3954181">b</span>&nbsp;<span class="ident" id="3954183">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954188">a</span><span class="op" id="3954189">.</span><span class="ident" id="3954190">MulRange</span><span class="op" id="3954198">(</span><span class="ident" id="3954199">n</span><span class="op" id="3954200">-</span><span class="ident" id="3954201">k</span><span class="op" id="3954202">+</span><span class="num" id="3954203">1</span><span class="op" id="3954204">,</span>&nbsp;<span class="ident" id="3954206">n</span><span class="op" id="3954207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954210">b</span><span class="op" id="3954211">.</span><span class="ident" id="3954212">MulRange</span><span class="op" id="3954220">(</span><span class="num" id="3954221">1</span><span class="op" id="3954222">,</span>&nbsp;<span class="ident" id="3954224">k</span><span class="op" id="3954225">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3954228">return</span>&nbsp;<span class="ident" id="3954235">z</span><span class="op" id="3954236">.</span><span class="ident" id="3954237">Quo</span><span class="op" id="3954240">(</span><span class="op" id="3954241">&amp;</span><span class="ident" id="3954242">a</span><span class="op" id="3954243">,</span>&nbsp;<span class="op" id="3954245">&amp;</span><span class="ident" id="3954246">b</span><span class="op" id="3954247">)</span><br>
<span class="lineno"></span><span class="op" id="3954249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3954252">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3954312">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="3954368">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3954445">func</span>&nbsp;<span class="op" id="3954450">(</span><span class="ident" id="3954451">z</span>&nbsp;<span class="op" id="3954453">*</span><span class="ident" id="3954454">Int</span><span class="op" id="3954457">)</span>&nbsp;<span class="ident" id="3954459">Quo</span><span class="op" id="3954462">(</span><span class="ident" id="3954463">x</span><span class="op" id="3954464">,</span>&nbsp;<span class="ident" id="3954466">y</span>&nbsp;<span class="op" id="3954468">*</span><span class="ident" id="3954469">Int</span><span class="op" id="3954472">)</span>&nbsp;<span class="op" id="3954474">*</span><span class="ident" id="3954475">Int</span>&nbsp;<span class="op" id="3954479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954482">z</span><span class="op" id="3954483">.</span><span class="ident" id="3954484">abs</span><span class="op" id="3954487">,</span>&nbsp;<span class="ident" id="3954489">_</span>&nbsp;<span class="op" id="3954491">=</span>&nbsp;<span class="ident" id="3954493">z</span><span class="op" id="3954494">.</span><span class="ident" id="3954495">abs</span><span class="op" id="3954498">.</span><span class="ident" id="3954499">div</span><span class="op" id="3954502">(</span><span class="ident" id="3954503">nil</span><span class="op" id="3954506">,</span>&nbsp;<span class="ident" id="3954508">x</span><span class="op" id="3954509">.</span><span class="ident" id="3954510">abs</span><span class="op" id="3954513">,</span>&nbsp;<span class="ident" id="3954515">y</span><span class="op" id="3954516">.</span><span class="ident" id="3954517">abs</span><span class="op" id="3954520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954523">z</span><span class="op" id="3954524">.</span><span class="ident" id="3954525">neg</span>&nbsp;<span class="op" id="3954529">=</span>&nbsp;<span class="builtinfunc" id="3954531">len</span><span class="op" id="3954534">(</span><span class="ident" id="3954535">z</span><span class="op" id="3954536">.</span><span class="ident" id="3954537">abs</span><span class="op" id="3954540">)</span>&nbsp;<span class="op" id="3954542">&gt;</span>&nbsp;<span class="num" id="3954544">0</span>&nbsp;<span class="op" id="3954546">&amp;&amp;</span>&nbsp;<span class="ident" id="3954549">x</span><span class="op" id="3954550">.</span><span class="ident" id="3954551">neg</span>&nbsp;<span class="op" id="3954555">!=</span>&nbsp;<span class="ident" id="3954558">y</span><span class="op" id="3954559">.</span><span class="ident" id="3954560">neg</span>&nbsp;<span class="comment" id="3954564">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3954582">return</span>&nbsp;<span class="ident" id="3954589">z</span><br>
<span class="lineno">200</span><span class="op" id="3954591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3954594">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3954655">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3954711">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="3954787">func</span>&nbsp;<span class="op" id="3954792">(</span><span class="ident" id="3954793">z</span>&nbsp;<span class="op" id="3954795">*</span><span class="ident" id="3954796">Int</span><span class="op" id="3954799">)</span>&nbsp;<span class="ident" id="3954801">Rem</span><span class="op" id="3954804">(</span><span class="ident" id="3954805">x</span><span class="op" id="3954806">,</span>&nbsp;<span class="ident" id="3954808">y</span>&nbsp;<span class="op" id="3954810">*</span><span class="ident" id="3954811">Int</span><span class="op" id="3954814">)</span>&nbsp;<span class="op" id="3954816">*</span><span class="ident" id="3954817">Int</span>&nbsp;<span class="op" id="3954821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954824">_</span><span class="op" id="3954825">,</span>&nbsp;<span class="ident" id="3954827">z</span><span class="op" id="3954828">.</span><span class="ident" id="3954829">abs</span>&nbsp;<span class="op" id="3954833">=</span>&nbsp;<span class="ident" id="3954835">nat</span><span class="op" id="3954838">(</span><span class="ident" id="3954839">nil</span><span class="op" id="3954842">)</span><span class="op" id="3954843">.</span><span class="ident" id="3954844">div</span><span class="op" id="3954847">(</span><span class="ident" id="3954848">z</span><span class="op" id="3954849">.</span><span class="ident" id="3954850">abs</span><span class="op" id="3954853">,</span>&nbsp;<span class="ident" id="3954855">x</span><span class="op" id="3954856">.</span><span class="ident" id="3954857">abs</span><span class="op" id="3954860">,</span>&nbsp;<span class="ident" id="3954862">y</span><span class="op" id="3954863">.</span><span class="ident" id="3954864">abs</span><span class="op" id="3954867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3954870">z</span><span class="op" id="3954871">.</span><span class="ident" id="3954872">neg</span>&nbsp;<span class="op" id="3954876">=</span>&nbsp;<span class="builtinfunc" id="3954878">len</span><span class="op" id="3954881">(</span><span class="ident" id="3954882">z</span><span class="op" id="3954883">.</span><span class="ident" id="3954884">abs</span><span class="op" id="3954887">)</span>&nbsp;<span class="op" id="3954889">&gt;</span>&nbsp;<span class="num" id="3954891">0</span>&nbsp;<span class="op" id="3954893">&amp;&amp;</span>&nbsp;<span class="ident" id="3954896">x</span><span class="op" id="3954897">.</span><span class="ident" id="3954898">neg</span>&nbsp;<span class="comment" id="3954902">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3954920">return</span>&nbsp;<span class="ident" id="3954927">z</span><br>
<span class="lineno"></span><span class="op" id="3954929">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3954932">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="3954996">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3955039">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3955095">//</span><br>
<span class="lineno">215</span><span class="comment" id="3955098">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3955153">//</span><br>
<span class="lineno"></span><span class="comment" id="3955156">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="3955206">//&nbsp;&nbsp;&nbsp;&nbspr&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="3955221">//</span><br>
<span class="lineno">220</span><span class="comment" id="3955224">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="3955296">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="3955358">//</span><br>
<span class="lineno"></span><span class="keyword" id="3955361">func</span>&nbsp;<span class="op" id="3955366">(</span><span class="ident" id="3955367">z</span>&nbsp;<span class="op" id="3955369">*</span><span class="ident" id="3955370">Int</span><span class="op" id="3955373">)</span>&nbsp;<span class="ident" id="3955375">QuoRem</span><span class="op" id="3955381">(</span><span class="ident" id="3955382">x</span><span class="op" id="3955383">,</span>&nbsp;<span class="ident" id="3955385">y</span><span class="op" id="3955386">,</span>&nbsp;<span class="ident" id="3955388">r</span>&nbsp;<span class="op" id="3955390">*</span><span class="ident" id="3955391">Int</span><span class="op" id="3955394">)</span>&nbsp;<span class="op" id="3955396">(</span><span class="op" id="3955397">*</span><span class="ident" id="3955398">Int</span><span class="op" id="3955401">,</span>&nbsp;<span class="op" id="3955403">*</span><span class="ident" id="3955404">Int</span><span class="op" id="3955407">)</span>&nbsp;<span class="op" id="3955409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955412">z</span><span class="op" id="3955413">.</span><span class="ident" id="3955414">abs</span><span class="op" id="3955417">,</span>&nbsp;<span class="ident" id="3955419">r</span><span class="op" id="3955420">.</span><span class="ident" id="3955421">abs</span>&nbsp;<span class="op" id="3955425">=</span>&nbsp;<span class="ident" id="3955427">z</span><span class="op" id="3955428">.</span><span class="ident" id="3955429">abs</span><span class="op" id="3955432">.</span><span class="ident" id="3955433">div</span><span class="op" id="3955436">(</span><span class="ident" id="3955437">r</span><span class="op" id="3955438">.</span><span class="ident" id="3955439">abs</span><span class="op" id="3955442">,</span>&nbsp;<span class="ident" id="3955444">x</span><span class="op" id="3955445">.</span><span class="ident" id="3955446">abs</span><span class="op" id="3955449">,</span>&nbsp;<span class="ident" id="3955451">y</span><span class="op" id="3955452">.</span><span class="ident" id="3955453">abs</span><span class="op" id="3955456">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955459">z</span><span class="op" id="3955460">.</span><span class="ident" id="3955461">neg</span><span class="op" id="3955464">,</span>&nbsp;<span class="ident" id="3955466">r</span><span class="op" id="3955467">.</span><span class="ident" id="3955468">neg</span>&nbsp;<span class="op" id="3955472">=</span>&nbsp;<span class="builtinfunc" id="3955474">len</span><span class="op" id="3955477">(</span><span class="ident" id="3955478">z</span><span class="op" id="3955479">.</span><span class="ident" id="3955480">abs</span><span class="op" id="3955483">)</span>&nbsp;<span class="op" id="3955485">&gt;</span>&nbsp;<span class="num" id="3955487">0</span>&nbsp;<span class="op" id="3955489">&amp;&amp;</span>&nbsp;<span class="ident" id="3955492">x</span><span class="op" id="3955493">.</span><span class="ident" id="3955494">neg</span>&nbsp;<span class="op" id="3955498">!=</span>&nbsp;<span class="ident" id="3955501">y</span><span class="op" id="3955502">.</span><span class="ident" id="3955503">neg</span><span class="op" id="3955506">,</span>&nbsp;<span class="builtinfunc" id="3955508">len</span><span class="op" id="3955511">(</span><span class="ident" id="3955512">r</span><span class="op" id="3955513">.</span><span class="ident" id="3955514">abs</span><span class="op" id="3955517">)</span>&nbsp;<span class="op" id="3955519">&gt;</span>&nbsp;<span class="num" id="3955521">0</span>&nbsp;<span class="op" id="3955523">&amp;&amp;</span>&nbsp;<span class="ident" id="3955526">x</span><span class="op" id="3955527">.</span><span class="ident" id="3955528">neg</span>&nbsp;<span class="comment" id="3955532">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955550">return</span>&nbsp;<span class="ident" id="3955557">z</span><span class="op" id="3955558">,</span>&nbsp;<span class="ident" id="3955560">r</span><br>
<span class="lineno"></span><span class="op" id="3955562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3955565">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="3955625">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3955681">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3955760">func</span>&nbsp;<span class="op" id="3955765">(</span><span class="ident" id="3955766">z</span>&nbsp;<span class="op" id="3955768">*</span><span class="ident" id="3955769">Int</span><span class="op" id="3955772">)</span>&nbsp;<span class="ident" id="3955774">Div</span><span class="op" id="3955777">(</span><span class="ident" id="3955778">x</span><span class="op" id="3955779">,</span>&nbsp;<span class="ident" id="3955781">y</span>&nbsp;<span class="op" id="3955783">*</span><span class="ident" id="3955784">Int</span><span class="op" id="3955787">)</span>&nbsp;<span class="op" id="3955789">*</span><span class="ident" id="3955790">Int</span>&nbsp;<span class="op" id="3955794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955797">y_neg</span>&nbsp;<span class="op" id="3955803">:=</span>&nbsp;<span class="ident" id="3955806">y</span><span class="op" id="3955807">.</span><span class="ident" id="3955808">neg</span>&nbsp;<span class="comment" id="3955812">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955840">var</span>&nbsp;<span class="ident" id="3955844">r</span>&nbsp;<span class="ident" id="3955846">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955851">z</span><span class="op" id="3955852">.</span><span class="ident" id="3955853">QuoRem</span><span class="op" id="3955859">(</span><span class="ident" id="3955860">x</span><span class="op" id="3955861">,</span>&nbsp;<span class="ident" id="3955863">y</span><span class="op" id="3955864">,</span>&nbsp;<span class="op" id="3955866">&amp;</span><span class="ident" id="3955867">r</span><span class="op" id="3955868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955871">if</span>&nbsp;<span class="ident" id="3955874">r</span><span class="op" id="3955875">.</span><span class="ident" id="3955876">neg</span>&nbsp;<span class="op" id="3955880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955884">if</span>&nbsp;<span class="ident" id="3955887">y_neg</span>&nbsp;<span class="op" id="3955893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955898">z</span><span class="op" id="3955899">.</span><span class="ident" id="3955900">Add</span><span class="op" id="3955903">(</span><span class="ident" id="3955904">z</span><span class="op" id="3955905">,</span>&nbsp;<span class="ident" id="3955907">intOne</span><span class="op" id="3955913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3955917">}</span>&nbsp;<span class="keyword" id="3955919">else</span>&nbsp;<span class="op" id="3955924">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3955929">z</span><span class="op" id="3955930">.</span><span class="ident" id="3955931">Sub</span><span class="op" id="3955934">(</span><span class="ident" id="3955935">z</span><span class="op" id="3955936">,</span>&nbsp;<span class="ident" id="3955938">intOne</span><span class="op" id="3955944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3955948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3955951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3955954">return</span>&nbsp;<span class="ident" id="3955961">z</span><br>
<span class="lineno"></span><span class="op" id="3955963">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3955966">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3956025">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3956081">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3956159">func</span>&nbsp;<span class="op" id="3956164">(</span><span class="ident" id="3956165">z</span>&nbsp;<span class="op" id="3956167">*</span><span class="ident" id="3956168">Int</span><span class="op" id="3956171">)</span>&nbsp;<span class="ident" id="3956173">Mod</span><span class="op" id="3956176">(</span><span class="ident" id="3956177">x</span><span class="op" id="3956178">,</span>&nbsp;<span class="ident" id="3956180">y</span>&nbsp;<span class="op" id="3956182">*</span><span class="ident" id="3956183">Int</span><span class="op" id="3956186">)</span>&nbsp;<span class="op" id="3956188">*</span><span class="ident" id="3956189">Int</span>&nbsp;<span class="op" id="3956193">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956196">y0</span>&nbsp;<span class="op" id="3956199">:=</span>&nbsp;<span class="ident" id="3956202">y</span>&nbsp;<span class="comment" id="3956204">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956215">if</span>&nbsp;<span class="ident" id="3956218">z</span>&nbsp;<span class="op" id="3956220">==</span>&nbsp;<span class="ident" id="3956223">y</span>&nbsp;<span class="op" id="3956225">||</span>&nbsp;<span class="ident" id="3956228">alias</span><span class="op" id="3956233">(</span><span class="ident" id="3956234">z</span><span class="op" id="3956235">.</span><span class="ident" id="3956236">abs</span><span class="op" id="3956239">,</span>&nbsp;<span class="ident" id="3956241">y</span><span class="op" id="3956242">.</span><span class="ident" id="3956243">abs</span><span class="op" id="3956246">)</span>&nbsp;<span class="op" id="3956248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956252">y0</span>&nbsp;<span class="op" id="3956255">=</span>&nbsp;<span class="builtinfunc" id="3956257">new</span><span class="op" id="3956260">(</span><span class="ident" id="3956261">Int</span><span class="op" id="3956264">)</span><span class="op" id="3956265">.</span><span class="ident" id="3956266">Set</span><span class="op" id="3956269">(</span><span class="ident" id="3956270">y</span><span class="op" id="3956271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956277">var</span>&nbsp;<span class="ident" id="3956281">q</span>&nbsp;<span class="ident" id="3956283">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956288">q</span><span class="op" id="3956289">.</span><span class="ident" id="3956290">QuoRem</span><span class="op" id="3956296">(</span><span class="ident" id="3956297">x</span><span class="op" id="3956298">,</span>&nbsp;<span class="ident" id="3956300">y</span><span class="op" id="3956301">,</span>&nbsp;<span class="ident" id="3956303">z</span><span class="op" id="3956304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956307">if</span>&nbsp;<span class="ident" id="3956310">z</span><span class="op" id="3956311">.</span><span class="ident" id="3956312">neg</span>&nbsp;<span class="op" id="3956316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956320">if</span>&nbsp;<span class="ident" id="3956323">y0</span><span class="op" id="3956325">.</span><span class="ident" id="3956326">neg</span>&nbsp;<span class="op" id="3956330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956335">z</span><span class="op" id="3956336">.</span><span class="ident" id="3956337">Sub</span><span class="op" id="3956340">(</span><span class="ident" id="3956341">z</span><span class="op" id="3956342">,</span>&nbsp;<span class="ident" id="3956344">y0</span><span class="op" id="3956346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956350">}</span>&nbsp;<span class="keyword" id="3956352">else</span>&nbsp;<span class="op" id="3956357">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3956362">z</span><span class="op" id="3956363">.</span><span class="ident" id="3956364">Add</span><span class="op" id="3956367">(</span><span class="ident" id="3956368">z</span><span class="op" id="3956369">,</span>&nbsp;<span class="ident" id="3956371">y0</span><span class="op" id="3956373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3956380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3956383">return</span>&nbsp;<span class="ident" id="3956390">z</span><br>
<span class="lineno"></span><span class="op" id="3956392">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="3956395">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3956465">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3956508">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3956564">//</span><br>
<span class="lineno">270</span><span class="comment" id="3956567">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3956632">//</span><br>
<span class="lineno"></span><span class="comment" id="3956635">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3956661">//&nbsp;&nbsp;&nbsp;&nbspm&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="3956695">//</span><br>
<span class="lineno">275</span><span class="comment" id="3956698">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3956768">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3956832">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="3956895">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="3956910">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="3956962">//</span><br>
<span class="lineno"></span><span class="keyword" id="3956965">func</span>&nbsp;<span class="op" id="3956970">(</span><span class="ident" id="3956971">z</span>&nbsp;<span class="op" id="3956973">*</span><span class="ident" id="3956974">Int</span><span class="op" id="3956977">)</span>&nbsp;<span class="ident" id="3956979">DivMod</span><span class="op" id="3956985">(</span><span class="ident" id="3956986">x</span><span class="op" id="3956987">,</span>&nbsp;<span class="ident" id="3956989">y</span><span class="op" id="3956990">,</span>&nbsp;<span class="ident" id="3956992">m</span>&nbsp;<span class="op" id="3956994">*</span><span class="ident" id="3956995">Int</span><span class="op" id="3956998">)</span>&nbsp;<span class="op" id="3957000">(</span><span class="op" id="3957001">*</span><span class="ident" id="3957002">Int</span><span class="op" id="3957005">,</span>&nbsp;<span class="op" id="3957007">*</span><span class="ident" id="3957008">Int</span><span class="op" id="3957011">)</span>&nbsp;<span class="op" id="3957013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957016">y0</span>&nbsp;<span class="op" id="3957019">:=</span>&nbsp;<span class="ident" id="3957022">y</span>&nbsp;<span class="comment" id="3957024">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957035">if</span>&nbsp;<span class="ident" id="3957038">z</span>&nbsp;<span class="op" id="3957040">==</span>&nbsp;<span class="ident" id="3957043">y</span>&nbsp;<span class="op" id="3957045">||</span>&nbsp;<span class="ident" id="3957048">alias</span><span class="op" id="3957053">(</span><span class="ident" id="3957054">z</span><span class="op" id="3957055">.</span><span class="ident" id="3957056">abs</span><span class="op" id="3957059">,</span>&nbsp;<span class="ident" id="3957061">y</span><span class="op" id="3957062">.</span><span class="ident" id="3957063">abs</span><span class="op" id="3957066">)</span>&nbsp;<span class="op" id="3957068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957072">y0</span>&nbsp;<span class="op" id="3957075">=</span>&nbsp;<span class="builtinfunc" id="3957077">new</span><span class="op" id="3957080">(</span><span class="ident" id="3957081">Int</span><span class="op" id="3957084">)</span><span class="op" id="3957085">.</span><span class="ident" id="3957086">Set</span><span class="op" id="3957089">(</span><span class="ident" id="3957090">y</span><span class="op" id="3957091">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957097">z</span><span class="op" id="3957098">.</span><span class="ident" id="3957099">QuoRem</span><span class="op" id="3957105">(</span><span class="ident" id="3957106">x</span><span class="op" id="3957107">,</span>&nbsp;<span class="ident" id="3957109">y</span><span class="op" id="3957110">,</span>&nbsp;<span class="ident" id="3957112">m</span><span class="op" id="3957113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957116">if</span>&nbsp;<span class="ident" id="3957119">m</span><span class="op" id="3957120">.</span><span class="ident" id="3957121">neg</span>&nbsp;<span class="op" id="3957125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957129">if</span>&nbsp;<span class="ident" id="3957132">y0</span><span class="op" id="3957134">.</span><span class="ident" id="3957135">neg</span>&nbsp;<span class="op" id="3957139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957144">z</span><span class="op" id="3957145">.</span><span class="ident" id="3957146">Add</span><span class="op" id="3957149">(</span><span class="ident" id="3957150">z</span><span class="op" id="3957151">,</span>&nbsp;<span class="ident" id="3957153">intOne</span><span class="op" id="3957159">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957164">m</span><span class="op" id="3957165">.</span><span class="ident" id="3957166">Sub</span><span class="op" id="3957169">(</span><span class="ident" id="3957170">m</span><span class="op" id="3957171">,</span>&nbsp;<span class="ident" id="3957173">y0</span><span class="op" id="3957175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957179">}</span>&nbsp;<span class="keyword" id="3957181">else</span>&nbsp;<span class="op" id="3957186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957191">z</span><span class="op" id="3957192">.</span><span class="ident" id="3957193">Sub</span><span class="op" id="3957196">(</span><span class="ident" id="3957197">z</span><span class="op" id="3957198">,</span>&nbsp;<span class="ident" id="3957200">intOne</span><span class="op" id="3957206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957211">m</span><span class="op" id="3957212">.</span><span class="ident" id="3957213">Add</span><span class="op" id="3957216">(</span><span class="ident" id="3957217">m</span><span class="op" id="3957218">,</span>&nbsp;<span class="ident" id="3957220">y0</span><span class="op" id="3957222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957226">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957232">return</span>&nbsp;<span class="ident" id="3957239">z</span><span class="op" id="3957240">,</span>&nbsp;<span class="ident" id="3957242">m</span><br>
<span class="lineno"></span><span class="op" id="3957244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3957247">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="3957284">//</span><br>
<span class="lineno"></span><span class="comment" id="3957287">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3957305">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3957323">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3957341">//</span><br>
<span class="lineno">305</span><span class="keyword" id="3957344">func</span>&nbsp;<span class="op" id="3957349">(</span><span class="ident" id="3957350">x</span>&nbsp;<span class="op" id="3957352">*</span><span class="ident" id="3957353">Int</span><span class="op" id="3957356">)</span>&nbsp;<span class="ident" id="3957358">Cmp</span><span class="op" id="3957361">(</span><span class="ident" id="3957362">y</span>&nbsp;<span class="op" id="3957364">*</span><span class="ident" id="3957365">Int</span><span class="op" id="3957368">)</span>&nbsp;<span class="op" id="3957370">(</span><span class="ident" id="3957371">r</span>&nbsp;<span class="builtintype" id="3957373">int</span><span class="op" id="3957376">)</span>&nbsp;<span class="op" id="3957378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3957381">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3957404">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3957424">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3957444">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957476">switch</span>&nbsp;<span class="op" id="3957483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957486">case</span>&nbsp;<span class="ident" id="3957491">x</span><span class="op" id="3957492">.</span><span class="ident" id="3957493">neg</span>&nbsp;<span class="op" id="3957497">==</span>&nbsp;<span class="ident" id="3957500">y</span><span class="op" id="3957501">.</span><span class="ident" id="3957502">neg</span><span class="op" id="3957505">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957509">r</span>&nbsp;<span class="op" id="3957511">=</span>&nbsp;<span class="ident" id="3957513">x</span><span class="op" id="3957514">.</span><span class="ident" id="3957515">abs</span><span class="op" id="3957518">.</span><span class="ident" id="3957519">cmp</span><span class="op" id="3957522">(</span><span class="ident" id="3957523">y</span><span class="op" id="3957524">.</span><span class="ident" id="3957525">abs</span><span class="op" id="3957528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957532">if</span>&nbsp;<span class="ident" id="3957535">x</span><span class="op" id="3957536">.</span><span class="ident" id="3957537">neg</span>&nbsp;<span class="op" id="3957541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957546">r</span>&nbsp;<span class="op" id="3957548">=</span>&nbsp;<span class="op" id="3957550">-</span><span class="ident" id="3957551">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957558">case</span>&nbsp;<span class="ident" id="3957563">x</span><span class="op" id="3957564">.</span><span class="ident" id="3957565">neg</span><span class="op" id="3957568">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957572">r</span>&nbsp;<span class="op" id="3957574">=</span>&nbsp;<span class="op" id="3957576">-</span><span class="num" id="3957577">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957580">default</span><span class="op" id="3957587">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3957591">r</span>&nbsp;<span class="op" id="3957593">=</span>&nbsp;<span class="num" id="3957595">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957601">return</span><br>
<span class="lineno"></span><span class="op" id="3957608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3957611">func</span>&nbsp;<span class="op" id="3957616">(</span><span class="ident" id="3957617">x</span>&nbsp;<span class="op" id="3957619">*</span><span class="ident" id="3957620">Int</span><span class="op" id="3957623">)</span>&nbsp;<span class="ident" id="3957625">String</span><span class="op" id="3957631">(</span><span class="op" id="3957632">)</span>&nbsp;<span class="builtintype" id="3957634">string</span>&nbsp;<span class="op" id="3957641">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957644">switch</span>&nbsp;<span class="op" id="3957651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957654">case</span>&nbsp;<span class="ident" id="3957659">x</span>&nbsp;<span class="op" id="3957661">==</span>&nbsp;<span class="ident" id="3957664">nil</span><span class="op" id="3957667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957671">return</span>&nbsp;<span class="string" id="3957678">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957687">case</span>&nbsp;<span class="ident" id="3957692">x</span><span class="op" id="3957693">.</span><span class="ident" id="3957694">neg</span><span class="op" id="3957697">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957701">return</span>&nbsp;<span class="string" id="3957708">&#34;-&#34;</span>&nbsp;<span class="op" id="3957712">+</span>&nbsp;<span class="ident" id="3957714">x</span><span class="op" id="3957715">.</span><span class="ident" id="3957716">abs</span><span class="op" id="3957719">.</span><span class="ident" id="3957720">decimalString</span><span class="op" id="3957733">(</span><span class="op" id="3957734">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3957737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957740">return</span>&nbsp;<span class="ident" id="3957747">x</span><span class="op" id="3957748">.</span><span class="ident" id="3957749">abs</span><span class="op" id="3957752">.</span><span class="ident" id="3957753">decimalString</span><span class="op" id="3957766">(</span><span class="op" id="3957767">)</span><br>
<span class="lineno"></span><span class="op" id="3957769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3957772">func</span>&nbsp;<span class="ident" id="3957777">charset</span><span class="op" id="3957784">(</span><span class="ident" id="3957785">ch</span>&nbsp;<span class="builtintype" id="3957788">rune</span><span class="op" id="3957792">)</span>&nbsp;<span class="builtintype" id="3957794">string</span>&nbsp;<span class="op" id="3957801">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957804">switch</span>&nbsp;<span class="ident" id="3957811">ch</span>&nbsp;<span class="op" id="3957814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957817">case</span>&nbsp;<span class="string" id="3957822">&#39;b&#39;</span><span class="op" id="3957825">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957829">return</span>&nbsp;<span class="ident" id="3957836">lowercaseDigits</span><span class="op" id="3957851">[</span><span class="num" id="3957852">0</span><span class="op" id="3957853">:</span><span class="num" id="3957854">2</span><span class="op" id="3957855">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957858">case</span>&nbsp;<span class="string" id="3957863">&#39;o&#39;</span><span class="op" id="3957866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957870">return</span>&nbsp;<span class="ident" id="3957877">lowercaseDigits</span><span class="op" id="3957892">[</span><span class="num" id="3957893">0</span><span class="op" id="3957894">:</span><span class="num" id="3957895">8</span><span class="op" id="3957896">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957899">case</span>&nbsp;<span class="string" id="3957904">&#39;d&#39;</span><span class="op" id="3957907">,</span>&nbsp;<span class="string" id="3957909">&#39;s&#39;</span><span class="op" id="3957912">,</span>&nbsp;<span class="string" id="3957914">&#39;v&#39;</span><span class="op" id="3957917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957921">return</span>&nbsp;<span class="ident" id="3957928">lowercaseDigits</span><span class="op" id="3957943">[</span><span class="num" id="3957944">0</span><span class="op" id="3957945">:</span><span class="num" id="3957946">10</span><span class="op" id="3957948">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957951">case</span>&nbsp;<span class="string" id="3957956">&#39;x&#39;</span><span class="op" id="3957959">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957963">return</span>&nbsp;<span class="ident" id="3957970">lowercaseDigits</span><span class="op" id="3957985">[</span><span class="num" id="3957986">0</span><span class="op" id="3957987">:</span><span class="num" id="3957988">16</span><span class="op" id="3957990">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3957993">case</span>&nbsp;<span class="string" id="3957998">&#39;X&#39;</span><span class="op" id="3958001">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958005">return</span>&nbsp;<span class="ident" id="3958012">uppercaseDigits</span><span class="op" id="3958027">[</span><span class="num" id="3958028">0</span><span class="op" id="3958029">:</span><span class="num" id="3958030">16</span><span class="op" id="3958032">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3958035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958038">return</span>&nbsp;<span class="string" id="3958045">&#34;&#34;</span>&nbsp;<span class="comment" id="3958048">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="3958066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="3958069">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="3958104">func</span>&nbsp;<span class="ident" id="3958109">writeMultiple</span><span class="op" id="3958122">(</span><span class="ident" id="3958123">s</span>&nbsp;<span class="ident" id="3958125">fmt</span><span class="op" id="3958128">.</span><span class="ident" id="3958129">State</span><span class="op" id="3958134">,</span>&nbsp;<span class="ident" id="3958136">text</span>&nbsp;<span class="builtintype" id="3958141">string</span><span class="op" id="3958147">,</span>&nbsp;<span class="ident" id="3958149">count</span>&nbsp;<span class="builtintype" id="3958155">int</span><span class="op" id="3958158">)</span>&nbsp;<span class="op" id="3958160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958163">if</span>&nbsp;<span class="builtinfunc" id="3958166">len</span><span class="op" id="3958169">(</span><span class="ident" id="3958170">text</span><span class="op" id="3958174">)</span>&nbsp;<span class="op" id="3958176">&gt;</span>&nbsp;<span class="num" id="3958178">0</span>&nbsp;<span class="op" id="3958180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3958184">b</span>&nbsp;<span class="op" id="3958186">:=</span>&nbsp;<span class="op" id="3958189">[</span><span class="op" id="3958190">]</span><span class="builtintype" id="3958191">byte</span><span class="op" id="3958195">(</span><span class="ident" id="3958196">text</span><span class="op" id="3958200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958204">for</span>&nbsp;<span class="op" id="3958208">;</span>&nbsp;<span class="ident" id="3958210">count</span>&nbsp;<span class="op" id="3958216">&gt;</span>&nbsp;<span class="num" id="3958218">0</span><span class="op" id="3958219">;</span>&nbsp;<span class="ident" id="3958221">count</span><span class="op" id="3958226">--</span>&nbsp;<span class="op" id="3958229">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3958234">s</span><span class="op" id="3958235">.</span><span class="ident" id="3958236">Write</span><span class="op" id="3958241">(</span><span class="ident" id="3958242">b</span><span class="op" id="3958243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3958247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3958250">}</span><br>
<span class="lineno"></span><span class="op" id="3958252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3958255">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="3958316">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3958377">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="3958438">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3958499">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="3958556">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3958615">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3958674">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="3958734">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3958792">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="3958816">//</span><br>
<span class="lineno"></span><span class="keyword" id="3958819">func</span>&nbsp;<span class="op" id="3958824">(</span><span class="ident" id="3958825">x</span>&nbsp;<span class="op" id="3958827">*</span><span class="ident" id="3958828">Int</span><span class="op" id="3958831">)</span>&nbsp;<span class="ident" id="3958833">Format</span><span class="op" id="3958839">(</span><span class="ident" id="3958840">s</span>&nbsp;<span class="ident" id="3958842">fmt</span><span class="op" id="3958845">.</span><span class="ident" id="3958846">State</span><span class="op" id="3958851">,</span>&nbsp;<span class="ident" id="3958853">ch</span>&nbsp;<span class="builtintype" id="3958856">rune</span><span class="op" id="3958860">)</span>&nbsp;<span class="op" id="3958862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3958865">cs</span>&nbsp;<span class="op" id="3958868">:=</span>&nbsp;<span class="ident" id="3958871">charset</span><span class="op" id="3958878">(</span><span class="ident" id="3958879">ch</span><span class="op" id="3958881">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3958885">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958903">switch</span>&nbsp;<span class="op" id="3958910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3958913">case</span>&nbsp;<span class="ident" id="3958918">cs</span>&nbsp;<span class="op" id="3958921">==</span>&nbsp;<span class="string" id="3958924">&#34;&#34;</span><span class="op" id="3958926">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3958930">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3958950">fmt</span><span class="op" id="3958953">.</span><span class="ident" id="3958954">Fprintf</span><span class="op" id="3958961">(</span><span class="ident" id="3958962">s</span><span class="op" id="3958963">,</span>&nbsp;<span class="string" id="3958965">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="3958984">,</span>&nbsp;<span class="ident" id="3958986">ch</span><span class="op" id="3958988">,</span>&nbsp;<span class="ident" id="3958990">x</span><span class="op" id="3958991">.</span><span class="ident" id="3958992">String</span><span class="op" id="3958998">(</span><span class="op" id="3958999">)</span><span class="op" id="3959000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959004">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959012">case</span>&nbsp;<span class="ident" id="3959017">x</span>&nbsp;<span class="op" id="3959019">==</span>&nbsp;<span class="ident" id="3959022">nil</span><span class="op" id="3959025">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959029">fmt</span><span class="op" id="3959032">.</span><span class="ident" id="3959033">Fprint</span><span class="op" id="3959039">(</span><span class="ident" id="3959040">s</span><span class="op" id="3959041">,</span>&nbsp;<span class="string" id="3959043">&#34;&lt;nil&gt;&#34;</span><span class="op" id="3959050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959054">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3959062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3959066">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959095">sign</span>&nbsp;<span class="op" id="3959100">:=</span>&nbsp;<span class="string" id="3959103">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959107">switch</span>&nbsp;<span class="op" id="3959114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959117">case</span>&nbsp;<span class="ident" id="3959122">x</span><span class="op" id="3959123">.</span><span class="ident" id="3959124">neg</span><span class="op" id="3959127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959131">sign</span>&nbsp;<span class="op" id="3959136">=</span>&nbsp;<span class="string" id="3959138">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959143">case</span>&nbsp;<span class="ident" id="3959148">s</span><span class="op" id="3959149">.</span><span class="ident" id="3959150">Flag</span><span class="op" id="3959154">(</span><span class="string" id="3959155">&#39;+&#39;</span><span class="op" id="3959158">)</span><span class="op" id="3959159">:</span>&nbsp;<span class="comment" id="3959161">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959201">sign</span>&nbsp;<span class="op" id="3959206">=</span>&nbsp;<span class="string" id="3959208">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959213">case</span>&nbsp;<span class="ident" id="3959218">s</span><span class="op" id="3959219">.</span><span class="ident" id="3959220">Flag</span><span class="op" id="3959224">(</span><span class="string" id="3959225">&#39;&nbsp;&#39;</span><span class="op" id="3959228">)</span><span class="op" id="3959229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959233">sign</span>&nbsp;<span class="op" id="3959238">=</span>&nbsp;<span class="string" id="3959240">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3959245">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3959249">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959308">prefix</span>&nbsp;<span class="op" id="3959315">:=</span>&nbsp;<span class="string" id="3959318">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959322">if</span>&nbsp;<span class="ident" id="3959325">s</span><span class="op" id="3959326">.</span><span class="ident" id="3959327">Flag</span><span class="op" id="3959331">(</span><span class="string" id="3959332">&#39;#&#39;</span><span class="op" id="3959335">)</span>&nbsp;<span class="op" id="3959337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959341">switch</span>&nbsp;<span class="ident" id="3959348">ch</span>&nbsp;<span class="op" id="3959351">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959355">case</span>&nbsp;<span class="string" id="3959360">&#39;o&#39;</span><span class="op" id="3959363">:</span>&nbsp;<span class="comment" id="3959365">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959377">prefix</span>&nbsp;<span class="op" id="3959384">=</span>&nbsp;<span class="string" id="3959386">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959392">case</span>&nbsp;<span class="string" id="3959397">&#39;x&#39;</span><span class="op" id="3959400">:</span>&nbsp;<span class="comment" id="3959402">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959420">prefix</span>&nbsp;<span class="op" id="3959427">=</span>&nbsp;<span class="string" id="3959429">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959436">case</span>&nbsp;<span class="string" id="3959441">&#39;X&#39;</span><span class="op" id="3959444">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959449">prefix</span>&nbsp;<span class="op" id="3959456">=</span>&nbsp;<span class="string" id="3959458">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3959465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3959468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3959472">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959547">digits</span>&nbsp;<span class="op" id="3959554">:=</span>&nbsp;<span class="ident" id="3959557">x</span><span class="op" id="3959558">.</span><span class="ident" id="3959559">abs</span><span class="op" id="3959562">.</span><span class="builtintype" id="3959563">string</span><span class="op" id="3959569">(</span><span class="ident" id="3959570">cs</span><span class="op" id="3959572">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3959576">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959641">var</span>&nbsp;<span class="ident" id="3959645">left</span>&nbsp;<span class="builtintype" id="3959650">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3959656">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959727">var</span>&nbsp;<span class="ident" id="3959731">zeroes</span>&nbsp;<span class="builtintype" id="3959738">int</span>&nbsp;<span class="comment" id="3959742">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3959808">var</span>&nbsp;<span class="ident" id="3959812">right</span>&nbsp;<span class="builtintype" id="3959818">int</span>&nbsp;&nbsp;<span class="comment" id="3959823">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3959896">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3959978">precision</span><span class="op" id="3959987">,</span>&nbsp;<span class="ident" id="3959989">precisionSet</span>&nbsp;<span class="op" id="3960002">:=</span>&nbsp;<span class="ident" id="3960005">s</span><span class="op" id="3960006">.</span><span class="ident" id="3960007">Precision</span><span class="op" id="3960016">(</span><span class="op" id="3960017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960020">if</span>&nbsp;<span class="ident" id="3960023">precisionSet</span>&nbsp;<span class="op" id="3960036">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960040">switch</span>&nbsp;<span class="op" id="3960047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960051">case</span>&nbsp;<span class="builtinfunc" id="3960056">len</span><span class="op" id="3960059">(</span><span class="ident" id="3960060">digits</span><span class="op" id="3960066">)</span>&nbsp;<span class="op" id="3960068">&lt;</span>&nbsp;<span class="ident" id="3960070">precision</span><span class="op" id="3960079">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960084">zeroes</span>&nbsp;<span class="op" id="3960091">=</span>&nbsp;<span class="ident" id="3960093">precision</span>&nbsp;<span class="op" id="3960103">-</span>&nbsp;<span class="builtinfunc" id="3960105">len</span><span class="op" id="3960108">(</span><span class="ident" id="3960109">digits</span><span class="op" id="3960115">)</span>&nbsp;<span class="comment" id="3960117">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960144">case</span>&nbsp;<span class="ident" id="3960149">digits</span>&nbsp;<span class="op" id="3960156">==</span>&nbsp;<span class="string" id="3960159">&#34;0&#34;</span>&nbsp;<span class="op" id="3960163">&amp;&amp;</span>&nbsp;<span class="ident" id="3960166">precision</span>&nbsp;<span class="op" id="3960176">==</span>&nbsp;<span class="num" id="3960179">0</span><span class="op" id="3960180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960185">return</span>&nbsp;<span class="comment" id="3960192">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3960267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3960270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3960274">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960351">length</span>&nbsp;<span class="op" id="3960358">:=</span>&nbsp;<span class="builtinfunc" id="3960361">len</span><span class="op" id="3960364">(</span><span class="ident" id="3960365">sign</span><span class="op" id="3960369">)</span>&nbsp;<span class="op" id="3960371">+</span>&nbsp;<span class="builtinfunc" id="3960373">len</span><span class="op" id="3960376">(</span><span class="ident" id="3960377">prefix</span><span class="op" id="3960383">)</span>&nbsp;<span class="op" id="3960385">+</span>&nbsp;<span class="ident" id="3960387">zeroes</span>&nbsp;<span class="op" id="3960394">+</span>&nbsp;<span class="builtinfunc" id="3960396">len</span><span class="op" id="3960399">(</span><span class="ident" id="3960400">digits</span><span class="op" id="3960406">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960409">if</span>&nbsp;<span class="ident" id="3960412">width</span><span class="op" id="3960417">,</span>&nbsp;<span class="ident" id="3960419">widthSet</span>&nbsp;<span class="op" id="3960428">:=</span>&nbsp;<span class="ident" id="3960431">s</span><span class="op" id="3960432">.</span><span class="ident" id="3960433">Width</span><span class="op" id="3960438">(</span><span class="op" id="3960439">)</span><span class="op" id="3960440">;</span>&nbsp;<span class="ident" id="3960442">widthSet</span>&nbsp;<span class="op" id="3960451">&amp;&amp;</span>&nbsp;<span class="ident" id="3960454">length</span>&nbsp;<span class="op" id="3960461">&lt;</span>&nbsp;<span class="ident" id="3960463">width</span>&nbsp;<span class="op" id="3960469">{</span>&nbsp;<span class="comment" id="3960471">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960493">switch</span>&nbsp;<span class="ident" id="3960500">d</span>&nbsp;<span class="op" id="3960502">:=</span>&nbsp;<span class="ident" id="3960505">width</span>&nbsp;<span class="op" id="3960511">-</span>&nbsp;<span class="ident" id="3960513">length</span><span class="op" id="3960519">;</span>&nbsp;<span class="op" id="3960521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960525">case</span>&nbsp;<span class="ident" id="3960530">s</span><span class="op" id="3960531">.</span><span class="ident" id="3960532">Flag</span><span class="op" id="3960536">(</span><span class="string" id="3960537">&#39;-&#39;</span><span class="op" id="3960540">)</span><span class="op" id="3960541">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3960546">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960617">right</span>&nbsp;<span class="op" id="3960623">=</span>&nbsp;<span class="ident" id="3960625">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960629">case</span>&nbsp;<span class="ident" id="3960634">s</span><span class="op" id="3960635">.</span><span class="ident" id="3960636">Flag</span><span class="op" id="3960640">(</span><span class="string" id="3960641">&#39;0&#39;</span><span class="op" id="3960644">)</span>&nbsp;<span class="op" id="3960646">&amp;&amp;</span>&nbsp;<span class="op" id="3960649">!</span><span class="ident" id="3960650">precisionSet</span><span class="op" id="3960662">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3960667">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960721">zeroes</span>&nbsp;<span class="op" id="3960728">=</span>&nbsp;<span class="ident" id="3960730">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3960734">default</span><span class="op" id="3960741">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3960746">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960780">left</span>&nbsp;<span class="op" id="3960785">=</span>&nbsp;<span class="ident" id="3960787">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3960791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3960794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3960798">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960872">writeMultiple</span><span class="op" id="3960885">(</span><span class="ident" id="3960886">s</span><span class="op" id="3960887">,</span>&nbsp;<span class="string" id="3960889">&#34;&nbsp;&#34;</span><span class="op" id="3960892">,</span>&nbsp;<span class="ident" id="3960894">left</span><span class="op" id="3960898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960901">writeMultiple</span><span class="op" id="3960914">(</span><span class="ident" id="3960915">s</span><span class="op" id="3960916">,</span>&nbsp;<span class="ident" id="3960918">sign</span><span class="op" id="3960922">,</span>&nbsp;<span class="num" id="3960924">1</span><span class="op" id="3960925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960928">writeMultiple</span><span class="op" id="3960941">(</span><span class="ident" id="3960942">s</span><span class="op" id="3960943">,</span>&nbsp;<span class="ident" id="3960945">prefix</span><span class="op" id="3960951">,</span>&nbsp;<span class="num" id="3960953">1</span><span class="op" id="3960954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960957">writeMultiple</span><span class="op" id="3960970">(</span><span class="ident" id="3960971">s</span><span class="op" id="3960972">,</span>&nbsp;<span class="string" id="3960974">&#34;0&#34;</span><span class="op" id="3960977">,</span>&nbsp;<span class="ident" id="3960979">zeroes</span><span class="op" id="3960985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3960988">writeMultiple</span><span class="op" id="3961001">(</span><span class="ident" id="3961002">s</span><span class="op" id="3961003">,</span>&nbsp;<span class="ident" id="3961005">digits</span><span class="op" id="3961011">,</span>&nbsp;<span class="num" id="3961013">1</span><span class="op" id="3961014">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3961017">writeMultiple</span><span class="op" id="3961030">(</span><span class="ident" id="3961031">s</span><span class="op" id="3961032">,</span>&nbsp;<span class="string" id="3961034">&#34;&nbsp;&#34;</span><span class="op" id="3961037">,</span>&nbsp;<span class="ident" id="3961039">right</span><span class="op" id="3961044">)</span><br>
<span class="lineno"></span><span class="op" id="3961046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3961049">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="3961130">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="3961210">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3961289">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3961367">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="3961423">//</span><br>
<span class="lineno"></span><span class="comment" id="3961426">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="3961504">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3961582">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3961658">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3961736">//</span><br>
<span class="lineno"></span><span class="keyword" id="3961739">func</span>&nbsp;<span class="op" id="3961744">(</span><span class="ident" id="3961745">z</span>&nbsp;<span class="op" id="3961747">*</span><span class="ident" id="3961748">Int</span><span class="op" id="3961751">)</span>&nbsp;<span class="ident" id="3961753">scan</span><span class="op" id="3961757">(</span><span class="ident" id="3961758">r</span>&nbsp;<span class="ident" id="3961760">io</span><span class="op" id="3961762">.</span><span class="ident" id="3961763">RuneScanner</span><span class="op" id="3961774">,</span>&nbsp;<span class="ident" id="3961776">base</span>&nbsp;<span class="builtintype" id="3961781">int</span><span class="op" id="3961784">)</span>&nbsp;<span class="op" id="3961786">(</span><span class="op" id="3961787">*</span><span class="ident" id="3961788">Int</span><span class="op" id="3961791">,</span>&nbsp;<span class="builtintype" id="3961793">int</span><span class="op" id="3961796">,</span>&nbsp;<span class="builtintype" id="3961798">error</span><span class="op" id="3961803">)</span>&nbsp;<span class="op" id="3961805">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3961808">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3961827">ch</span><span class="op" id="3961829">,</span>&nbsp;<span class="ident" id="3961831">_</span><span class="op" id="3961832">,</span>&nbsp;<span class="ident" id="3961834">err</span>&nbsp;<span class="op" id="3961838">:=</span>&nbsp;<span class="ident" id="3961841">r</span><span class="op" id="3961842">.</span><span class="ident" id="3961843">ReadRune</span><span class="op" id="3961851">(</span><span class="op" id="3961852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3961855">if</span>&nbsp;<span class="ident" id="3961858">err</span>&nbsp;<span class="op" id="3961862">!=</span>&nbsp;<span class="ident" id="3961865">nil</span>&nbsp;<span class="op" id="3961869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3961873">return</span>&nbsp;<span class="ident" id="3961880">nil</span><span class="op" id="3961883">,</span>&nbsp;<span class="num" id="3961885">0</span><span class="op" id="3961886">,</span>&nbsp;<span class="ident" id="3961888">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3961893">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3961896">neg</span>&nbsp;<span class="op" id="3961900">:=</span>&nbsp;<span class="builtintype" id="3961903">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3961910">switch</span>&nbsp;<span class="ident" id="3961917">ch</span>&nbsp;<span class="op" id="3961920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3961923">case</span>&nbsp;<span class="string" id="3961928">&#39;-&#39;</span><span class="op" id="3961931">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3961935">neg</span>&nbsp;<span class="op" id="3961939">=</span>&nbsp;<span class="builtintype" id="3961941">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3961947">case</span>&nbsp;<span class="string" id="3961952">&#39;+&#39;</span><span class="op" id="3961955">:</span>&nbsp;<span class="comment" id="3961957">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3961975">default</span><span class="op" id="3961982">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3961986">r</span><span class="op" id="3961987">.</span><span class="ident" id="3961988">UnreadRune</span><span class="op" id="3961998">(</span><span class="op" id="3961999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3962002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3962006">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962029">z</span><span class="op" id="3962030">.</span><span class="ident" id="3962031">abs</span><span class="op" id="3962034">,</span>&nbsp;<span class="ident" id="3962036">base</span><span class="op" id="3962040">,</span>&nbsp;<span class="ident" id="3962042">err</span>&nbsp;<span class="op" id="3962046">=</span>&nbsp;<span class="ident" id="3962048">z</span><span class="op" id="3962049">.</span><span class="ident" id="3962050">abs</span><span class="op" id="3962053">.</span><span class="ident" id="3962054">scan</span><span class="op" id="3962058">(</span><span class="ident" id="3962059">r</span><span class="op" id="3962060">,</span>&nbsp;<span class="ident" id="3962062">base</span><span class="op" id="3962066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962069">if</span>&nbsp;<span class="ident" id="3962072">err</span>&nbsp;<span class="op" id="3962076">!=</span>&nbsp;<span class="ident" id="3962079">nil</span>&nbsp;<span class="op" id="3962083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962087">return</span>&nbsp;<span class="ident" id="3962094">nil</span><span class="op" id="3962097">,</span>&nbsp;<span class="ident" id="3962099">base</span><span class="op" id="3962103">,</span>&nbsp;<span class="ident" id="3962105">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3962110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962113">z</span><span class="op" id="3962114">.</span><span class="ident" id="3962115">neg</span>&nbsp;<span class="op" id="3962119">=</span>&nbsp;<span class="builtinfunc" id="3962121">len</span><span class="op" id="3962124">(</span><span class="ident" id="3962125">z</span><span class="op" id="3962126">.</span><span class="ident" id="3962127">abs</span><span class="op" id="3962130">)</span>&nbsp;<span class="op" id="3962132">&gt;</span>&nbsp;<span class="num" id="3962134">0</span>&nbsp;<span class="op" id="3962136">&amp;&amp;</span>&nbsp;<span class="ident" id="3962139">neg</span>&nbsp;<span class="comment" id="3962143">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962162">return</span>&nbsp;<span class="ident" id="3962169">z</span><span class="op" id="3962170">,</span>&nbsp;<span class="ident" id="3962172">base</span><span class="op" id="3962176">,</span>&nbsp;<span class="ident" id="3962178">nil</span><br>
<span class="lineno"></span><span class="op" id="3962182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3962185">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="3962257">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="3962330">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="3962410">func</span>&nbsp;<span class="op" id="3962415">(</span><span class="ident" id="3962416">z</span>&nbsp;<span class="op" id="3962418">*</span><span class="ident" id="3962419">Int</span><span class="op" id="3962422">)</span>&nbsp;<span class="ident" id="3962424">Scan</span><span class="op" id="3962428">(</span><span class="ident" id="3962429">s</span>&nbsp;<span class="ident" id="3962431">fmt</span><span class="op" id="3962434">.</span><span class="ident" id="3962435">ScanState</span><span class="op" id="3962444">,</span>&nbsp;<span class="ident" id="3962446">ch</span>&nbsp;<span class="builtintype" id="3962449">rune</span><span class="op" id="3962453">)</span>&nbsp;<span class="builtintype" id="3962455">error</span>&nbsp;<span class="op" id="3962461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962464">s</span><span class="op" id="3962465">.</span><span class="ident" id="3962466">SkipSpace</span><span class="op" id="3962475">(</span><span class="op" id="3962476">)</span>&nbsp;<span class="comment" id="3962478">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962512">base</span>&nbsp;<span class="op" id="3962517">:=</span>&nbsp;<span class="num" id="3962520">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962523">switch</span>&nbsp;<span class="ident" id="3962530">ch</span>&nbsp;<span class="op" id="3962533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962536">case</span>&nbsp;<span class="string" id="3962541">&#39;b&#39;</span><span class="op" id="3962544">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962548">base</span>&nbsp;<span class="op" id="3962553">=</span>&nbsp;<span class="num" id="3962555">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962558">case</span>&nbsp;<span class="string" id="3962563">&#39;o&#39;</span><span class="op" id="3962566">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962570">base</span>&nbsp;<span class="op" id="3962575">=</span>&nbsp;<span class="num" id="3962577">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962580">case</span>&nbsp;<span class="string" id="3962585">&#39;d&#39;</span><span class="op" id="3962588">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962592">base</span>&nbsp;<span class="op" id="3962597">=</span>&nbsp;<span class="num" id="3962599">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962603">case</span>&nbsp;<span class="string" id="3962608">&#39;x&#39;</span><span class="op" id="3962611">,</span>&nbsp;<span class="string" id="3962613">&#39;X&#39;</span><span class="op" id="3962616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962620">base</span>&nbsp;<span class="op" id="3962625">=</span>&nbsp;<span class="num" id="3962627">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962631">case</span>&nbsp;<span class="string" id="3962636">&#39;s&#39;</span><span class="op" id="3962639">,</span>&nbsp;<span class="string" id="3962641">&#39;v&#39;</span><span class="op" id="3962644">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3962648">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962680">default</span><span class="op" id="3962687">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962691">return</span>&nbsp;<span class="ident" id="3962698">errors</span><span class="op" id="3962704">.</span><span class="ident" id="3962705">New</span><span class="op" id="3962708">(</span><span class="string" id="3962709">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="3962733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3962736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3962739">_</span><span class="op" id="3962740">,</span>&nbsp;<span class="ident" id="3962742">_</span><span class="op" id="3962743">,</span>&nbsp;<span class="ident" id="3962745">err</span>&nbsp;<span class="op" id="3962749">:=</span>&nbsp;<span class="ident" id="3962752">z</span><span class="op" id="3962753">.</span><span class="ident" id="3962754">scan</span><span class="op" id="3962758">(</span><span class="ident" id="3962759">s</span><span class="op" id="3962760">,</span>&nbsp;<span class="ident" id="3962762">base</span><span class="op" id="3962766">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962769">return</span>&nbsp;<span class="ident" id="3962776">err</span><br>
<span class="lineno"></span><span class="op" id="3962780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3962783">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3962836">func</span>&nbsp;<span class="ident" id="3962841">low32</span><span class="op" id="3962846">(</span><span class="ident" id="3962847">z</span>&nbsp;<span class="ident" id="3962849">nat</span><span class="op" id="3962852">)</span>&nbsp;<span class="builtintype" id="3962854">uint32</span>&nbsp;<span class="op" id="3962861">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962864">if</span>&nbsp;<span class="builtinfunc" id="3962867">len</span><span class="op" id="3962870">(</span><span class="ident" id="3962871">z</span><span class="op" id="3962872">)</span>&nbsp;<span class="op" id="3962874">==</span>&nbsp;<span class="num" id="3962877">0</span>&nbsp;<span class="op" id="3962879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962883">return</span>&nbsp;<span class="num" id="3962890">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3962893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3962896">return</span>&nbsp;<span class="builtintype" id="3962903">uint32</span><span class="op" id="3962909">(</span><span class="ident" id="3962910">z</span><span class="op" id="3962911">[</span><span class="num" id="3962912">0</span><span class="op" id="3962913">]</span><span class="op" id="3962914">)</span><br>
<span class="lineno"></span><span class="op" id="3962916">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="3962919">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3962972">func</span>&nbsp;<span class="ident" id="3962977">low64</span><span class="op" id="3962982">(</span><span class="ident" id="3962983">z</span>&nbsp;<span class="ident" id="3962985">nat</span><span class="op" id="3962988">)</span>&nbsp;<span class="ident" id="3962990">uint64</span>&nbsp;<span class="op" id="3962997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3963000">if</span>&nbsp;<span class="builtinfunc" id="3963003">len</span><span class="op" id="3963006">(</span><span class="ident" id="3963007">z</span><span class="op" id="3963008">)</span>&nbsp;<span class="op" id="3963010">==</span>&nbsp;<span class="num" id="3963013">0</span>&nbsp;<span class="op" id="3963015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3963019">return</span>&nbsp;<span class="num" id="3963026">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3963029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3963032">v</span>&nbsp;<span class="op" id="3963034">:=</span>&nbsp;<span class="ident" id="3963037">uint64</span><span class="op" id="3963043">(</span><span class="ident" id="3963044">z</span><span class="op" id="3963045">[</span><span class="num" id="3963046">0</span><span class="op" id="3963047">]</span><span class="op" id="3963048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3963051">if</span>&nbsp;<span class="ident" id="3963054">_W</span>&nbsp;<span class="op" id="3963057">==</span>&nbsp;<span class="num" id="3963060">32</span>&nbsp;<span class="op" id="3963063">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3963066">len</span><span class="op" id="3963069">(</span><span class="ident" id="3963070">z</span><span class="op" id="3963071">)</span>&nbsp;<span class="op" id="3963073">&gt;</span>&nbsp;<span class="num" id="3963075">1</span>&nbsp;<span class="op" id="3963077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3963081">v</span>&nbsp;<span class="op" id="3963083">|=</span>&nbsp;<span class="ident" id="3963086">uint64</span><span class="op" id="3963092">(</span><span class="ident" id="3963093">z</span><span class="op" id="3963094">[</span><span class="num" id="3963095">1</span><span class="op" id="3963096">]</span><span class="op" id="3963097">)</span>&nbsp;<span class="op" id="3963099">&lt;&lt;</span>&nbsp;<span class="num" id="3963102">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3963106">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3963109">return</span>&nbsp;<span class="ident" id="3963116">v</span><br>
<span class="lineno"></span><span class="op" id="3963118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3963121">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3963169">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="3963237">func</span>&nbsp;<span class="op" id="3963242">(</span><span class="ident" id="3963243">x</span>&nbsp;<span class="op" id="3963245">*</span><span class="ident" id="3963246">Int</span><span class="op" id="3963249">)</span>&nbsp;<span class="ident" id="3963251">Int64</span><span class="op" id="3963256">(</span><span class="op" id="3963257">)</span>&nbsp;<span class="ident" id="3963259">int64</span>&nbsp;<span class="op" id="3963265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3963268">v</span>&nbsp;<span class="op" id="3963270">:=</span>&nbsp;<span class="ident" id="3963273">int64</span><span class="op" id="3963278">(</span><span class="ident" id="3963279">low64</span><span class="op" id="3963284">(</span><span class="ident" id="3963285">x</span><span class="op" id="3963286">.</span><span class="ident" id="3963287">abs</span><span class="op" id="3963290">)</span><span class="op" id="3963291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3963294">if</span>&nbsp;<span class="ident" id="3963297">x</span><span class="op" id="3963298">.</span><span class="ident" id="3963299">neg</span>&nbsp;<span class="op" id="3963303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3963307">v</span>&nbsp;<span class="op" id="3963309">=</span>&nbsp;<span class="op" id="3963311">-</span><span class="ident" id="3963312">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3963315">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3963318">return</span>&nbsp;<span class="ident" id="3963325">v</span><br>
<span class="lineno"></span><span class="op" id="3963327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3963330">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3963380">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="3963448">func</span>&nbsp;<span class="op" id="3963453">(</span><span class="ident" id="3963454">x</span>&nbsp;<span class="op" id="3963456">*</span><span class="ident" id="3963457">Int</span><span class="op" id="3963460">)</span>&nbsp;<span class="ident" id="3963462">Uint64</span><span class="op" id="3963468">(</span><span class="op" id="3963469">)</span>&nbsp;<span class="ident" id="3963471">uint64</span>&nbsp;<span class="op" id="3963478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3963481">return</span>&nbsp;<span class="ident" id="3963488">low64</span><span class="op" id="3963493">(</span><span class="ident" id="3963494">x</span><span class="op" id="3963495">.</span><span class="ident" id="3963496">abs</span><span class="op" id="3963499">)</span><br>
<span class="lineno"></span><span class="op" id="3963501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3963504">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="3963574">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="3963645">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3963707">//</span><br>
<span class="lineno"></span><span class="comment" id="3963710">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="3963788">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="3963866">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3963942">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3964020">//</span><br>
<span class="lineno"></span><span class="keyword" id="3964023">func</span>&nbsp;<span class="op" id="3964028">(</span><span class="ident" id="3964029">z</span>&nbsp;<span class="op" id="3964031">*</span><span class="ident" id="3964032">Int</span><span class="op" id="3964035">)</span>&nbsp;<span class="ident" id="3964037">SetString</span><span class="op" id="3964046">(</span><span class="ident" id="3964047">s</span>&nbsp;<span class="builtintype" id="3964049">string</span><span class="op" id="3964055">,</span>&nbsp;<span class="ident" id="3964057">base</span>&nbsp;<span class="builtintype" id="3964062">int</span><span class="op" id="3964065">)</span>&nbsp;<span class="op" id="3964067">(</span><span class="op" id="3964068">*</span><span class="ident" id="3964069">Int</span><span class="op" id="3964072">,</span>&nbsp;<span class="builtintype" id="3964074">bool</span><span class="op" id="3964078">)</span>&nbsp;<span class="op" id="3964080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3964083">r</span>&nbsp;<span class="op" id="3964085">:=</span>&nbsp;<span class="ident" id="3964088">strings</span><span class="op" id="3964095">.</span><span class="ident" id="3964096">NewReader</span><span class="op" id="3964105">(</span><span class="ident" id="3964106">s</span><span class="op" id="3964107">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3964110">_</span><span class="op" id="3964111">,</span>&nbsp;<span class="ident" id="3964113">_</span><span class="op" id="3964114">,</span>&nbsp;<span class="ident" id="3964116">err</span>&nbsp;<span class="op" id="3964120">:=</span>&nbsp;<span class="ident" id="3964123">z</span><span class="op" id="3964124">.</span><span class="ident" id="3964125">scan</span><span class="op" id="3964129">(</span><span class="ident" id="3964130">r</span><span class="op" id="3964131">,</span>&nbsp;<span class="ident" id="3964133">base</span><span class="op" id="3964137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3964140">if</span>&nbsp;<span class="ident" id="3964143">err</span>&nbsp;<span class="op" id="3964147">!=</span>&nbsp;<span class="ident" id="3964150">nil</span>&nbsp;<span class="op" id="3964154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3964158">return</span>&nbsp;<span class="ident" id="3964165">nil</span><span class="op" id="3964168">,</span>&nbsp;<span class="builtintype" id="3964170">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3964177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3964180">_</span><span class="op" id="3964181">,</span>&nbsp;<span class="ident" id="3964183">_</span><span class="op" id="3964184">,</span>&nbsp;<span class="ident" id="3964186">err</span>&nbsp;<span class="op" id="3964190">=</span>&nbsp;<span class="ident" id="3964192">r</span><span class="op" id="3964193">.</span><span class="ident" id="3964194">ReadRune</span><span class="op" id="3964202">(</span><span class="op" id="3964203">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3964206">if</span>&nbsp;<span class="ident" id="3964209">err</span>&nbsp;<span class="op" id="3964213">!=</span>&nbsp;<span class="ident" id="3964216">io</span><span class="op" id="3964218">.</span><span class="ident" id="3964219">EOF</span>&nbsp;<span class="op" id="3964223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3964227">return</span>&nbsp;<span class="ident" id="3964234">nil</span><span class="op" id="3964237">,</span>&nbsp;<span class="builtintype" id="3964239">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3964246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3964249">return</span>&nbsp;<span class="ident" id="3964256">z</span><span class="op" id="3964257">,</span>&nbsp;<span class="builtintype" id="3964259">true</span>&nbsp;<span class="comment" id="3964264">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="3964307">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="3964310">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="3964375">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3964424">func</span>&nbsp;<span class="op" id="3964429">(</span><span class="ident" id="3964430">z</span>&nbsp;<span class="op" id="3964432">*</span><span class="ident" id="3964433">Int</span><span class="op" id="3964436">)</span>&nbsp;<span class="ident" id="3964438">SetBytes</span><span class="op" id="3964446">(</span><span class="ident" id="3964447">buf</span>&nbsp;<span class="op" id="3964451">[</span><span class="op" id="3964452">]</span><span class="builtintype" id="3964453">byte</span><span class="op" id="3964457">)</span>&nbsp;<span class="op" id="3964459">*</span><span class="ident" id="3964460">Int</span>&nbsp;<span class="op" id="3964464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3964467">z</span><span class="op" id="3964468">.</span><span class="ident" id="3964469">abs</span>&nbsp;<span class="op" id="3964473">=</span>&nbsp;<span class="ident" id="3964475">z</span><span class="op" id="3964476">.</span><span class="ident" id="3964477">abs</span><span class="op" id="3964480">.</span><span class="ident" id="3964481">setBytes</span><span class="op" id="3964489">(</span><span class="ident" id="3964490">buf</span><span class="op" id="3964493">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3964496">z</span><span class="op" id="3964497">.</span><span class="ident" id="3964498">neg</span>&nbsp;<span class="op" id="3964502">=</span>&nbsp;<span class="builtintype" id="3964504">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3964511">return</span>&nbsp;<span class="ident" id="3964518">z</span><br>
<span class="lineno"></span><span class="op" id="3964520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3964523">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="3964592">func</span>&nbsp;<span class="op" id="3964597">(</span><span class="ident" id="3964598">x</span>&nbsp;<span class="op" id="3964600">*</span><span class="ident" id="3964601">Int</span><span class="op" id="3964604">)</span>&nbsp;<span class="ident" id="3964606">Bytes</span><span class="op" id="3964611">(</span><span class="op" id="3964612">)</span>&nbsp;<span class="op" id="3964614">[</span><span class="op" id="3964615">]</span><span class="builtintype" id="3964616">byte</span>&nbsp;<span class="op" id="3964621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3964624">buf</span>&nbsp;<span class="op" id="3964628">:=</span>&nbsp;<span class="builtinfunc" id="3964631">make</span><span class="op" id="3964635">(</span><span class="op" id="3964636">[</span><span class="op" id="3964637">]</span><span class="builtintype" id="3964638">byte</span><span class="op" id="3964642">,</span>&nbsp;<span class="builtinfunc" id="3964644">len</span><span class="op" id="3964647">(</span><span class="ident" id="3964648">x</span><span class="op" id="3964649">.</span><span class="ident" id="3964650">abs</span><span class="op" id="3964653">)</span><span class="op" id="3964654">*</span><span class="ident" id="3964655">_S</span><span class="op" id="3964657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3964660">return</span>&nbsp;<span class="ident" id="3964667">buf</span><span class="op" id="3964670">[</span><span class="ident" id="3964671">x</span><span class="op" id="3964672">.</span><span class="ident" id="3964673">abs</span><span class="op" id="3964676">.</span><span class="ident" id="3964677">bytes</span><span class="op" id="3964682">(</span><span class="ident" id="3964683">buf</span><span class="op" id="3964686">)</span><span class="op" id="3964687">:</span><span class="op" id="3964688">]</span><br>
<span class="lineno"></span><span class="op" id="3964690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="3964693">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="3964758">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3964787">func</span>&nbsp;<span class="op" id="3964792">(</span><span class="ident" id="3964793">x</span>&nbsp;<span class="op" id="3964795">*</span><span class="ident" id="3964796">Int</span><span class="op" id="3964799">)</span>&nbsp;<span class="ident" id="3964801">BitLen</span><span class="op" id="3964807">(</span><span class="op" id="3964808">)</span>&nbsp;<span class="builtintype" id="3964810">int</span>&nbsp;<span class="op" id="3964814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3964817">return</span>&nbsp;<span class="ident" id="3964824">x</span><span class="op" id="3964825">.</span><span class="ident" id="3964826">abs</span><span class="op" id="3964829">.</span><span class="ident" id="3964830">bitLen</span><span class="op" id="3964836">(</span><span class="op" id="3964837">)</span><br>
<span class="lineno"></span><span class="op" id="3964839">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="3964842">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3964919">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="3964991">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="3965030">func</span>&nbsp;<span class="op" id="3965035">(</span><span class="ident" id="3965036">z</span>&nbsp;<span class="op" id="3965038">*</span><span class="ident" id="3965039">Int</span><span class="op" id="3965042">)</span>&nbsp;<span class="ident" id="3965044">Exp</span><span class="op" id="3965047">(</span><span class="ident" id="3965048">x</span><span class="op" id="3965049">,</span>&nbsp;<span class="ident" id="3965051">y</span><span class="op" id="3965052">,</span>&nbsp;<span class="ident" id="3965054">m</span>&nbsp;<span class="op" id="3965056">*</span><span class="ident" id="3965057">Int</span><span class="op" id="3965060">)</span>&nbsp;<span class="op" id="3965062">*</span><span class="ident" id="3965063">Int</span>&nbsp;<span class="op" id="3965067">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965070">var</span>&nbsp;<span class="ident" id="3965074">yWords</span>&nbsp;<span class="ident" id="3965081">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965086">if</span>&nbsp;<span class="op" id="3965089">!</span><span class="ident" id="3965090">y</span><span class="op" id="3965091">.</span><span class="ident" id="3965092">neg</span>&nbsp;<span class="op" id="3965096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965100">yWords</span>&nbsp;<span class="op" id="3965107">=</span>&nbsp;<span class="ident" id="3965109">y</span><span class="op" id="3965110">.</span><span class="ident" id="3965111">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3965116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3965119">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965131">var</span>&nbsp;<span class="ident" id="3965135">mWords</span>&nbsp;<span class="ident" id="3965142">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965147">if</span>&nbsp;<span class="ident" id="3965150">m</span>&nbsp;<span class="op" id="3965152">!=</span>&nbsp;<span class="ident" id="3965155">nil</span>&nbsp;<span class="op" id="3965159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965163">mWords</span>&nbsp;<span class="op" id="3965170">=</span>&nbsp;<span class="ident" id="3965172">m</span><span class="op" id="3965173">.</span><span class="ident" id="3965174">abs</span>&nbsp;<span class="comment" id="3965178">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3965210">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965214">z</span><span class="op" id="3965215">.</span><span class="ident" id="3965216">abs</span>&nbsp;<span class="op" id="3965220">=</span>&nbsp;<span class="ident" id="3965222">z</span><span class="op" id="3965223">.</span><span class="ident" id="3965224">abs</span><span class="op" id="3965227">.</span><span class="ident" id="3965228">expNN</span><span class="op" id="3965233">(</span><span class="ident" id="3965234">x</span><span class="op" id="3965235">.</span><span class="ident" id="3965236">abs</span><span class="op" id="3965239">,</span>&nbsp;<span class="ident" id="3965241">yWords</span><span class="op" id="3965247">,</span>&nbsp;<span class="ident" id="3965249">mWords</span><span class="op" id="3965255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965258">z</span><span class="op" id="3965259">.</span><span class="ident" id="3965260">neg</span>&nbsp;<span class="op" id="3965264">=</span>&nbsp;<span class="builtinfunc" id="3965266">len</span><span class="op" id="3965269">(</span><span class="ident" id="3965270">z</span><span class="op" id="3965271">.</span><span class="ident" id="3965272">abs</span><span class="op" id="3965275">)</span>&nbsp;<span class="op" id="3965277">&gt;</span>&nbsp;<span class="num" id="3965279">0</span>&nbsp;<span class="op" id="3965281">&amp;&amp;</span>&nbsp;<span class="ident" id="3965284">x</span><span class="op" id="3965285">.</span><span class="ident" id="3965286">neg</span>&nbsp;<span class="op" id="3965290">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3965293">len</span><span class="op" id="3965296">(</span><span class="ident" id="3965297">yWords</span><span class="op" id="3965303">)</span>&nbsp;<span class="op" id="3965305">&gt;</span>&nbsp;<span class="num" id="3965307">0</span>&nbsp;<span class="op" id="3965309">&amp;&amp;</span>&nbsp;<span class="ident" id="3965312">yWords</span><span class="op" id="3965318">[</span><span class="num" id="3965319">0</span><span class="op" id="3965320">]</span><span class="op" id="3965321">&amp;</span><span class="num" id="3965322">1</span>&nbsp;<span class="op" id="3965324">==</span>&nbsp;<span class="num" id="3965327">1</span>&nbsp;<span class="comment" id="3965329">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965347">if</span>&nbsp;<span class="ident" id="3965350">z</span><span class="op" id="3965351">.</span><span class="ident" id="3965352">neg</span>&nbsp;<span class="op" id="3965356">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3965359">len</span><span class="op" id="3965362">(</span><span class="ident" id="3965363">mWords</span><span class="op" id="3965369">)</span>&nbsp;<span class="op" id="3965371">&gt;</span>&nbsp;<span class="num" id="3965373">0</span>&nbsp;<span class="op" id="3965375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3965379">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965413">z</span><span class="op" id="3965414">.</span><span class="ident" id="3965415">abs</span>&nbsp;<span class="op" id="3965419">=</span>&nbsp;<span class="ident" id="3965421">z</span><span class="op" id="3965422">.</span><span class="ident" id="3965423">abs</span><span class="op" id="3965426">.</span><span class="ident" id="3965427">sub</span><span class="op" id="3965430">(</span><span class="ident" id="3965431">mWords</span><span class="op" id="3965437">,</span>&nbsp;<span class="ident" id="3965439">z</span><span class="op" id="3965440">.</span><span class="ident" id="3965441">abs</span><span class="op" id="3965444">)</span>&nbsp;<span class="comment" id="3965446">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965485">z</span><span class="op" id="3965486">.</span><span class="ident" id="3965487">neg</span>&nbsp;<span class="op" id="3965491">=</span>&nbsp;<span class="builtintype" id="3965493">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3965500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965504">return</span>&nbsp;<span class="ident" id="3965511">z</span><br>
<span class="lineno">615</span><span class="op" id="3965513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3965516">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="3965589">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3965615">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="3965684">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3965737">func</span>&nbsp;<span class="op" id="3965742">(</span><span class="ident" id="3965743">z</span>&nbsp;<span class="op" id="3965745">*</span><span class="ident" id="3965746">Int</span><span class="op" id="3965749">)</span>&nbsp;<span class="ident" id="3965751">GCD</span><span class="op" id="3965754">(</span><span class="ident" id="3965755">x</span><span class="op" id="3965756">,</span>&nbsp;<span class="ident" id="3965758">y</span><span class="op" id="3965759">,</span>&nbsp;<span class="ident" id="3965761">a</span><span class="op" id="3965762">,</span>&nbsp;<span class="ident" id="3965764">b</span>&nbsp;<span class="op" id="3965766">*</span><span class="ident" id="3965767">Int</span><span class="op" id="3965770">)</span>&nbsp;<span class="op" id="3965772">*</span><span class="ident" id="3965773">Int</span>&nbsp;<span class="op" id="3965777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965780">if</span>&nbsp;<span class="ident" id="3965783">a</span><span class="op" id="3965784">.</span><span class="ident" id="3965785">Sign</span><span class="op" id="3965789">(</span><span class="op" id="3965790">)</span>&nbsp;<span class="op" id="3965792">&lt;=</span>&nbsp;<span class="num" id="3965795">0</span>&nbsp;<span class="op" id="3965797">||</span>&nbsp;<span class="ident" id="3965800">b</span><span class="op" id="3965801">.</span><span class="ident" id="3965802">Sign</span><span class="op" id="3965806">(</span><span class="op" id="3965807">)</span>&nbsp;<span class="op" id="3965809">&lt;=</span>&nbsp;<span class="num" id="3965812">0</span>&nbsp;<span class="op" id="3965814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965818">z</span><span class="op" id="3965819">.</span><span class="ident" id="3965820">SetInt64</span><span class="op" id="3965828">(</span><span class="num" id="3965829">0</span><span class="op" id="3965830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965834">if</span>&nbsp;<span class="ident" id="3965837">x</span>&nbsp;<span class="op" id="3965839">!=</span>&nbsp;<span class="ident" id="3965842">nil</span>&nbsp;<span class="op" id="3965846">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965851">x</span><span class="op" id="3965852">.</span><span class="ident" id="3965853">SetInt64</span><span class="op" id="3965861">(</span><span class="num" id="3965862">0</span><span class="op" id="3965863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3965867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965871">if</span>&nbsp;<span class="ident" id="3965874">y</span>&nbsp;<span class="op" id="3965876">!=</span>&nbsp;<span class="ident" id="3965879">nil</span>&nbsp;<span class="op" id="3965883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965888">y</span><span class="op" id="3965889">.</span><span class="ident" id="3965890">SetInt64</span><span class="op" id="3965898">(</span><span class="num" id="3965899">0</span><span class="op" id="3965900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3965904">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965908">return</span>&nbsp;<span class="ident" id="3965915">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3965918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965921">if</span>&nbsp;<span class="ident" id="3965924">x</span>&nbsp;<span class="op" id="3965926">==</span>&nbsp;<span class="ident" id="3965929">nil</span>&nbsp;<span class="op" id="3965933">&amp;&amp;</span>&nbsp;<span class="ident" id="3965936">y</span>&nbsp;<span class="op" id="3965938">==</span>&nbsp;<span class="ident" id="3965941">nil</span>&nbsp;<span class="op" id="3965945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3965949">return</span>&nbsp;<span class="ident" id="3965956">z</span><span class="op" id="3965957">.</span><span class="ident" id="3965958">binaryGCD</span><span class="op" id="3965967">(</span><span class="ident" id="3965968">a</span><span class="op" id="3965969">,</span>&nbsp;<span class="ident" id="3965971">b</span><span class="op" id="3965972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3965975">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3965979">A</span>&nbsp;<span class="op" id="3965981">:=</span>&nbsp;<span class="builtinfunc" id="3965984">new</span><span class="op" id="3965987">(</span><span class="ident" id="3965988">Int</span><span class="op" id="3965991">)</span><span class="op" id="3965992">.</span><span class="ident" id="3965993">Set</span><span class="op" id="3965996">(</span><span class="ident" id="3965997">a</span><span class="op" id="3965998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966001">B</span>&nbsp;<span class="op" id="3966003">:=</span>&nbsp;<span class="builtinfunc" id="3966006">new</span><span class="op" id="3966009">(</span><span class="ident" id="3966010">Int</span><span class="op" id="3966013">)</span><span class="op" id="3966014">.</span><span class="ident" id="3966015">Set</span><span class="op" id="3966018">(</span><span class="ident" id="3966019">b</span><span class="op" id="3966020">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966024">X</span>&nbsp;<span class="op" id="3966026">:=</span>&nbsp;<span class="builtinfunc" id="3966029">new</span><span class="op" id="3966032">(</span><span class="ident" id="3966033">Int</span><span class="op" id="3966036">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966039">Y</span>&nbsp;<span class="op" id="3966041">:=</span>&nbsp;<span class="builtinfunc" id="3966044">new</span><span class="op" id="3966047">(</span><span class="ident" id="3966048">Int</span><span class="op" id="3966051">)</span><span class="op" id="3966052">.</span><span class="ident" id="3966053">SetInt64</span><span class="op" id="3966061">(</span><span class="num" id="3966062">1</span><span class="op" id="3966063">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966067">lastX</span>&nbsp;<span class="op" id="3966073">:=</span>&nbsp;<span class="builtinfunc" id="3966076">new</span><span class="op" id="3966079">(</span><span class="ident" id="3966080">Int</span><span class="op" id="3966083">)</span><span class="op" id="3966084">.</span><span class="ident" id="3966085">SetInt64</span><span class="op" id="3966093">(</span><span class="num" id="3966094">1</span><span class="op" id="3966095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966098">lastY</span>&nbsp;<span class="op" id="3966104">:=</span>&nbsp;<span class="builtinfunc" id="3966107">new</span><span class="op" id="3966110">(</span><span class="ident" id="3966111">Int</span><span class="op" id="3966114">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966118">q</span>&nbsp;<span class="op" id="3966120">:=</span>&nbsp;<span class="builtinfunc" id="3966123">new</span><span class="op" id="3966126">(</span><span class="ident" id="3966127">Int</span><span class="op" id="3966130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966133">temp</span>&nbsp;<span class="op" id="3966138">:=</span>&nbsp;<span class="builtinfunc" id="3966141">new</span><span class="op" id="3966144">(</span><span class="ident" id="3966145">Int</span><span class="op" id="3966148">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3966152">for</span>&nbsp;<span class="builtinfunc" id="3966156">len</span><span class="op" id="3966159">(</span><span class="ident" id="3966160">B</span><span class="op" id="3966161">.</span><span class="ident" id="3966162">abs</span><span class="op" id="3966165">)</span>&nbsp;<span class="op" id="3966167">&gt;</span>&nbsp;<span class="num" id="3966169">0</span>&nbsp;<span class="op" id="3966171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966175">r</span>&nbsp;<span class="op" id="3966177">:=</span>&nbsp;<span class="builtinfunc" id="3966180">new</span><span class="op" id="3966183">(</span><span class="ident" id="3966184">Int</span><span class="op" id="3966187">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966191">q</span><span class="op" id="3966192">,</span>&nbsp;<span class="ident" id="3966194">r</span>&nbsp;<span class="op" id="3966196">=</span>&nbsp;<span class="ident" id="3966198">q</span><span class="op" id="3966199">.</span><span class="ident" id="3966200">QuoRem</span><span class="op" id="3966206">(</span><span class="ident" id="3966207">A</span><span class="op" id="3966208">,</span>&nbsp;<span class="ident" id="3966210">B</span><span class="op" id="3966211">,</span>&nbsp;<span class="ident" id="3966213">r</span><span class="op" id="3966214">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966219">A</span><span class="op" id="3966220">,</span>&nbsp;<span class="ident" id="3966222">B</span>&nbsp;<span class="op" id="3966224">=</span>&nbsp;<span class="ident" id="3966226">B</span><span class="op" id="3966227">,</span>&nbsp;<span class="ident" id="3966229">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966234">temp</span><span class="op" id="3966238">.</span><span class="ident" id="3966239">Set</span><span class="op" id="3966242">(</span><span class="ident" id="3966243">X</span><span class="op" id="3966244">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966248">X</span><span class="op" id="3966249">.</span><span class="ident" id="3966250">Mul</span><span class="op" id="3966253">(</span><span class="ident" id="3966254">X</span><span class="op" id="3966255">,</span>&nbsp;<span class="ident" id="3966257">q</span><span class="op" id="3966258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966262">X</span><span class="op" id="3966263">.</span><span class="ident" id="3966264">neg</span>&nbsp;<span class="op" id="3966268">=</span>&nbsp;<span class="op" id="3966270">!</span><span class="ident" id="3966271">X</span><span class="op" id="3966272">.</span><span class="ident" id="3966273">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966279">X</span><span class="op" id="3966280">.</span><span class="ident" id="3966281">Add</span><span class="op" id="3966284">(</span><span class="ident" id="3966285">X</span><span class="op" id="3966286">,</span>&nbsp;<span class="ident" id="3966288">lastX</span><span class="op" id="3966293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966297">lastX</span><span class="op" id="3966302">.</span><span class="ident" id="3966303">Set</span><span class="op" id="3966306">(</span><span class="ident" id="3966307">temp</span><span class="op" id="3966311">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966316">temp</span><span class="op" id="3966320">.</span><span class="ident" id="3966321">Set</span><span class="op" id="3966324">(</span><span class="ident" id="3966325">Y</span><span class="op" id="3966326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966330">Y</span><span class="op" id="3966331">.</span><span class="ident" id="3966332">Mul</span><span class="op" id="3966335">(</span><span class="ident" id="3966336">Y</span><span class="op" id="3966337">,</span>&nbsp;<span class="ident" id="3966339">q</span><span class="op" id="3966340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966344">Y</span><span class="op" id="3966345">.</span><span class="ident" id="3966346">neg</span>&nbsp;<span class="op" id="3966350">=</span>&nbsp;<span class="op" id="3966352">!</span><span class="ident" id="3966353">Y</span><span class="op" id="3966354">.</span><span class="ident" id="3966355">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966361">Y</span><span class="op" id="3966362">.</span><span class="ident" id="3966363">Add</span><span class="op" id="3966366">(</span><span class="ident" id="3966367">Y</span><span class="op" id="3966368">,</span>&nbsp;<span class="ident" id="3966370">lastY</span><span class="op" id="3966375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966379">lastY</span><span class="op" id="3966384">.</span><span class="ident" id="3966385">Set</span><span class="op" id="3966388">(</span><span class="ident" id="3966389">temp</span><span class="op" id="3966393">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3966396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3966400">if</span>&nbsp;<span class="ident" id="3966403">x</span>&nbsp;<span class="op" id="3966405">!=</span>&nbsp;<span class="ident" id="3966408">nil</span>&nbsp;<span class="op" id="3966412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3966416">*</span><span class="ident" id="3966417">x</span>&nbsp;<span class="op" id="3966419">=</span>&nbsp;<span class="op" id="3966421">*</span><span class="ident" id="3966422">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3966429">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3966433">if</span>&nbsp;<span class="ident" id="3966436">y</span>&nbsp;<span class="op" id="3966438">!=</span>&nbsp;<span class="ident" id="3966441">nil</span>&nbsp;<span class="op" id="3966445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3966449">*</span><span class="ident" id="3966450">y</span>&nbsp;<span class="op" id="3966452">=</span>&nbsp;<span class="op" id="3966454">*</span><span class="ident" id="3966455">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3966462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3966466">*</span><span class="ident" id="3966467">z</span>&nbsp;<span class="op" id="3966469">=</span>&nbsp;<span class="op" id="3966471">*</span><span class="ident" id="3966472">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3966475">return</span>&nbsp;<span class="ident" id="3966482">z</span><br>
<span class="lineno"></span><span class="op" id="3966484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3966487">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="3966566">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3966592">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="3966675">func</span>&nbsp;<span class="op" id="3966680">(</span><span class="ident" id="3966681">z</span>&nbsp;<span class="op" id="3966683">*</span><span class="ident" id="3966684">Int</span><span class="op" id="3966687">)</span>&nbsp;<span class="ident" id="3966689">binaryGCD</span><span class="op" id="3966698">(</span><span class="ident" id="3966699">a</span><span class="op" id="3966700">,</span>&nbsp;<span class="ident" id="3966702">b</span>&nbsp;<span class="op" id="3966704">*</span><span class="ident" id="3966705">Int</span><span class="op" id="3966708">)</span>&nbsp;<span class="op" id="3966710">*</span><span class="ident" id="3966711">Int</span>&nbsp;<span class="op" id="3966715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966718">u</span>&nbsp;<span class="op" id="3966720">:=</span>&nbsp;<span class="ident" id="3966723">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966726">v</span>&nbsp;<span class="op" id="3966728">:=</span>&nbsp;<span class="builtinfunc" id="3966731">new</span><span class="op" id="3966734">(</span><span class="ident" id="3966735">Int</span><span class="op" id="3966738">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3966742">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3966823">switch</span>&nbsp;<span class="op" id="3966830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3966833">case</span>&nbsp;<span class="builtinfunc" id="3966838">len</span><span class="op" id="3966841">(</span><span class="ident" id="3966842">a</span><span class="op" id="3966843">.</span><span class="ident" id="3966844">abs</span><span class="op" id="3966847">)</span>&nbsp;<span class="op" id="3966849">&gt;</span>&nbsp;<span class="builtinfunc" id="3966851">len</span><span class="op" id="3966854">(</span><span class="ident" id="3966855">b</span><span class="op" id="3966856">.</span><span class="ident" id="3966857">abs</span><span class="op" id="3966860">)</span><span class="op" id="3966861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966865">u</span><span class="op" id="3966866">.</span><span class="ident" id="3966867">Set</span><span class="op" id="3966870">(</span><span class="ident" id="3966871">b</span><span class="op" id="3966872">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966876">v</span><span class="op" id="3966877">.</span><span class="ident" id="3966878">Rem</span><span class="op" id="3966881">(</span><span class="ident" id="3966882">a</span><span class="op" id="3966883">,</span>&nbsp;<span class="ident" id="3966885">b</span><span class="op" id="3966886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3966889">case</span>&nbsp;<span class="builtinfunc" id="3966894">len</span><span class="op" id="3966897">(</span><span class="ident" id="3966898">a</span><span class="op" id="3966899">.</span><span class="ident" id="3966900">abs</span><span class="op" id="3966903">)</span>&nbsp;<span class="op" id="3966905">&lt;</span>&nbsp;<span class="builtinfunc" id="3966907">len</span><span class="op" id="3966910">(</span><span class="ident" id="3966911">b</span><span class="op" id="3966912">.</span><span class="ident" id="3966913">abs</span><span class="op" id="3966916">)</span><span class="op" id="3966917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966921">u</span><span class="op" id="3966922">.</span><span class="ident" id="3966923">Set</span><span class="op" id="3966926">(</span><span class="ident" id="3966927">a</span><span class="op" id="3966928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966932">v</span><span class="op" id="3966933">.</span><span class="ident" id="3966934">Rem</span><span class="op" id="3966937">(</span><span class="ident" id="3966938">b</span><span class="op" id="3966939">,</span>&nbsp;<span class="ident" id="3966941">a</span><span class="op" id="3966942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3966945">default</span><span class="op" id="3966952">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966956">u</span><span class="op" id="3966957">.</span><span class="ident" id="3966958">Set</span><span class="op" id="3966961">(</span><span class="ident" id="3966962">a</span><span class="op" id="3966963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3966967">v</span><span class="op" id="3966968">.</span><span class="ident" id="3966969">Set</span><span class="op" id="3966972">(</span><span class="ident" id="3966973">b</span><span class="op" id="3966974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3966977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3966981">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967002">if</span>&nbsp;<span class="builtinfunc" id="3967005">len</span><span class="op" id="3967008">(</span><span class="ident" id="3967009">v</span><span class="op" id="3967010">.</span><span class="ident" id="3967011">abs</span><span class="op" id="3967014">)</span>&nbsp;<span class="op" id="3967016">==</span>&nbsp;<span class="num" id="3967019">0</span>&nbsp;<span class="op" id="3967021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967025">return</span>&nbsp;<span class="ident" id="3967032">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3967035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3967038">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3967058">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967117">k</span>&nbsp;<span class="op" id="3967119">:=</span>&nbsp;<span class="ident" id="3967122">u</span><span class="op" id="3967123">.</span><span class="ident" id="3967124">abs</span><span class="op" id="3967127">.</span><span class="ident" id="3967128">trailingZeroBits</span><span class="op" id="3967144">(</span><span class="op" id="3967145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967148">if</span>&nbsp;<span class="ident" id="3967151">vk</span>&nbsp;<span class="op" id="3967154">:=</span>&nbsp;<span class="ident" id="3967157">v</span><span class="op" id="3967158">.</span><span class="ident" id="3967159">abs</span><span class="op" id="3967162">.</span><span class="ident" id="3967163">trailingZeroBits</span><span class="op" id="3967179">(</span><span class="op" id="3967180">)</span><span class="op" id="3967181">;</span>&nbsp;<span class="ident" id="3967183">vk</span>&nbsp;<span class="op" id="3967186">&lt;</span>&nbsp;<span class="ident" id="3967188">k</span>&nbsp;<span class="op" id="3967190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967194">k</span>&nbsp;<span class="op" id="3967196">=</span>&nbsp;<span class="ident" id="3967198">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3967202">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967205">u</span><span class="op" id="3967206">.</span><span class="ident" id="3967207">Rsh</span><span class="op" id="3967210">(</span><span class="ident" id="3967211">u</span><span class="op" id="3967212">,</span>&nbsp;<span class="ident" id="3967214">k</span><span class="op" id="3967215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967218">v</span><span class="op" id="3967219">.</span><span class="ident" id="3967220">Rsh</span><span class="op" id="3967223">(</span><span class="ident" id="3967224">v</span><span class="op" id="3967225">,</span>&nbsp;<span class="ident" id="3967227">k</span><span class="op" id="3967228">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3967232">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967269">t</span>&nbsp;<span class="op" id="3967271">:=</span>&nbsp;<span class="builtinfunc" id="3967274">new</span><span class="op" id="3967277">(</span><span class="ident" id="3967278">Int</span><span class="op" id="3967281">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967284">if</span>&nbsp;<span class="ident" id="3967287">u</span><span class="op" id="3967288">.</span><span class="ident" id="3967289">abs</span><span class="op" id="3967292">[</span><span class="num" id="3967293">0</span><span class="op" id="3967294">]</span><span class="op" id="3967295">&amp;</span><span class="num" id="3967296">1</span>&nbsp;<span class="op" id="3967298">!=</span>&nbsp;<span class="num" id="3967301">0</span>&nbsp;<span class="op" id="3967303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3967307">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967321">t</span><span class="op" id="3967322">.</span><span class="ident" id="3967323">Neg</span><span class="op" id="3967326">(</span><span class="ident" id="3967327">v</span><span class="op" id="3967328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3967331">}</span>&nbsp;<span class="keyword" id="3967333">else</span>&nbsp;<span class="op" id="3967338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967342">t</span><span class="op" id="3967343">.</span><span class="ident" id="3967344">Set</span><span class="op" id="3967347">(</span><span class="ident" id="3967348">u</span><span class="op" id="3967349">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3967352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967356">for</span>&nbsp;<span class="builtinfunc" id="3967360">len</span><span class="op" id="3967363">(</span><span class="ident" id="3967364">t</span><span class="op" id="3967365">.</span><span class="ident" id="3967366">abs</span><span class="op" id="3967369">)</span>&nbsp;<span class="op" id="3967371">&gt;</span>&nbsp;<span class="num" id="3967373">0</span>&nbsp;<span class="op" id="3967375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3967379">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967393">t</span><span class="op" id="3967394">.</span><span class="ident" id="3967395">Rsh</span><span class="op" id="3967398">(</span><span class="ident" id="3967399">t</span><span class="op" id="3967400">,</span>&nbsp;<span class="ident" id="3967402">t</span><span class="op" id="3967403">.</span><span class="ident" id="3967404">abs</span><span class="op" id="3967407">.</span><span class="ident" id="3967408">trailingZeroBits</span><span class="op" id="3967424">(</span><span class="op" id="3967425">)</span><span class="op" id="3967426">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967430">if</span>&nbsp;<span class="ident" id="3967433">t</span><span class="op" id="3967434">.</span><span class="ident" id="3967435">neg</span>&nbsp;<span class="op" id="3967439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967444">v</span><span class="op" id="3967445">,</span>&nbsp;<span class="ident" id="3967447">t</span>&nbsp;<span class="op" id="3967449">=</span>&nbsp;<span class="ident" id="3967451">t</span><span class="op" id="3967452">,</span>&nbsp;<span class="ident" id="3967454">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967459">v</span><span class="op" id="3967460">.</span><span class="ident" id="3967461">neg</span>&nbsp;<span class="op" id="3967465">=</span>&nbsp;<span class="builtinfunc" id="3967467">len</span><span class="op" id="3967470">(</span><span class="ident" id="3967471">v</span><span class="op" id="3967472">.</span><span class="ident" id="3967473">abs</span><span class="op" id="3967476">)</span>&nbsp;<span class="op" id="3967478">&gt;</span>&nbsp;<span class="num" id="3967480">0</span>&nbsp;<span class="op" id="3967482">&amp;&amp;</span>&nbsp;<span class="op" id="3967485">!</span><span class="ident" id="3967486">v</span><span class="op" id="3967487">.</span><span class="ident" id="3967488">neg</span>&nbsp;<span class="comment" id="3967492">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3967511">}</span>&nbsp;<span class="keyword" id="3967513">else</span>&nbsp;<span class="op" id="3967518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967523">u</span><span class="op" id="3967524">,</span>&nbsp;<span class="ident" id="3967526">t</span>&nbsp;<span class="op" id="3967528">=</span>&nbsp;<span class="ident" id="3967530">t</span><span class="op" id="3967531">,</span>&nbsp;<span class="ident" id="3967533">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3967537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967541">t</span><span class="op" id="3967542">.</span><span class="ident" id="3967543">Sub</span><span class="op" id="3967546">(</span><span class="ident" id="3967547">u</span><span class="op" id="3967548">,</span>&nbsp;<span class="ident" id="3967550">v</span><span class="op" id="3967551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3967554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967558">return</span>&nbsp;<span class="ident" id="3967565">z</span><span class="op" id="3967566">.</span><span class="ident" id="3967567">Lsh</span><span class="op" id="3967570">(</span><span class="ident" id="3967571">u</span><span class="op" id="3967572">,</span>&nbsp;<span class="ident" id="3967574">k</span><span class="op" id="3967575">)</span><br>
<span class="lineno">735</span><span class="op" id="3967577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3967580">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="3967656">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="3967718">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="3967758">func</span>&nbsp;<span class="op" id="3967763">(</span><span class="ident" id="3967764">x</span>&nbsp;<span class="op" id="3967766">*</span><span class="ident" id="3967767">Int</span><span class="op" id="3967770">)</span>&nbsp;<span class="ident" id="3967772">ProbablyPrime</span><span class="op" id="3967785">(</span><span class="ident" id="3967786">n</span>&nbsp;<span class="builtintype" id="3967788">int</span><span class="op" id="3967791">)</span>&nbsp;<span class="builtintype" id="3967793">bool</span>&nbsp;<span class="op" id="3967798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967801">return</span>&nbsp;<span class="op" id="3967808">!</span><span class="ident" id="3967809">x</span><span class="op" id="3967810">.</span><span class="ident" id="3967811">neg</span>&nbsp;<span class="op" id="3967815">&amp;&amp;</span>&nbsp;<span class="ident" id="3967818">x</span><span class="op" id="3967819">.</span><span class="ident" id="3967820">abs</span><span class="op" id="3967823">.</span><span class="ident" id="3967824">probablyPrime</span><span class="op" id="3967837">(</span><span class="ident" id="3967838">n</span><span class="op" id="3967839">)</span><br>
<span class="lineno"></span><span class="op" id="3967841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3967844">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="3967910">func</span>&nbsp;<span class="op" id="3967915">(</span><span class="ident" id="3967916">z</span>&nbsp;<span class="op" id="3967918">*</span><span class="ident" id="3967919">Int</span><span class="op" id="3967922">)</span>&nbsp;<span class="ident" id="3967924">Rand</span><span class="op" id="3967928">(</span><span class="ident" id="3967929">rnd</span>&nbsp;<span class="op" id="3967933">*</span><span class="ident" id="3967934">rand</span><span class="op" id="3967938">.</span><span class="ident" id="3967939">Rand</span><span class="op" id="3967943">,</span>&nbsp;<span class="ident" id="3967945">n</span>&nbsp;<span class="op" id="3967947">*</span><span class="ident" id="3967948">Int</span><span class="op" id="3967951">)</span>&nbsp;<span class="op" id="3967953">*</span><span class="ident" id="3967954">Int</span>&nbsp;<span class="op" id="3967958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3967961">z</span><span class="op" id="3967962">.</span><span class="ident" id="3967963">neg</span>&nbsp;<span class="op" id="3967967">=</span>&nbsp;<span class="builtintype" id="3967969">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3967976">if</span>&nbsp;<span class="ident" id="3967979">n</span><span class="op" id="3967980">.</span><span class="ident" id="3967981">neg</span>&nbsp;<span class="op" id="3967985">==</span>&nbsp;<span class="builtintype" id="3967988">true</span>&nbsp;<span class="op" id="3967993">||</span>&nbsp;<span class="builtinfunc" id="3967996">len</span><span class="op" id="3967999">(</span><span class="ident" id="3968000">n</span><span class="op" id="3968001">.</span><span class="ident" id="3968002">abs</span><span class="op" id="3968005">)</span>&nbsp;<span class="op" id="3968007">==</span>&nbsp;<span class="num" id="3968010">0</span>&nbsp;<span class="op" id="3968012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968016">z</span><span class="op" id="3968017">.</span><span class="ident" id="3968018">abs</span>&nbsp;<span class="op" id="3968022">=</span>&nbsp;<span class="ident" id="3968024">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3968030">return</span>&nbsp;<span class="ident" id="3968037">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3968040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968043">z</span><span class="op" id="3968044">.</span><span class="ident" id="3968045">abs</span>&nbsp;<span class="op" id="3968049">=</span>&nbsp;<span class="ident" id="3968051">z</span><span class="op" id="3968052">.</span><span class="ident" id="3968053">abs</span><span class="op" id="3968056">.</span><span class="ident" id="3968057">random</span><span class="op" id="3968063">(</span><span class="ident" id="3968064">rnd</span><span class="op" id="3968067">,</span>&nbsp;<span class="ident" id="3968069">n</span><span class="op" id="3968070">.</span><span class="ident" id="3968071">abs</span><span class="op" id="3968074">,</span>&nbsp;<span class="ident" id="3968076">n</span><span class="op" id="3968077">.</span><span class="ident" id="3968078">abs</span><span class="op" id="3968081">.</span><span class="ident" id="3968082">bitLen</span><span class="op" id="3968088">(</span><span class="op" id="3968089">)</span><span class="op" id="3968090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3968093">return</span>&nbsp;<span class="ident" id="3968100">z</span><br>
<span class="lineno"></span><span class="op" id="3968102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="3968105">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;ℤ/nℤ</span><br>
<span class="lineno"></span><span class="comment" id="3968182">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="3968262">func</span>&nbsp;<span class="op" id="3968267">(</span><span class="ident" id="3968268">z</span>&nbsp;<span class="op" id="3968270">*</span><span class="ident" id="3968271">Int</span><span class="op" id="3968274">)</span>&nbsp;<span class="ident" id="3968276">ModInverse</span><span class="op" id="3968286">(</span><span class="ident" id="3968287">g</span><span class="op" id="3968288">,</span>&nbsp;<span class="ident" id="3968290">n</span>&nbsp;<span class="op" id="3968292">*</span><span class="ident" id="3968293">Int</span><span class="op" id="3968296">)</span>&nbsp;<span class="op" id="3968298">*</span><span class="ident" id="3968299">Int</span>&nbsp;<span class="op" id="3968303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3968306">var</span>&nbsp;<span class="ident" id="3968310">d</span>&nbsp;<span class="ident" id="3968312">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968317">d</span><span class="op" id="3968318">.</span><span class="ident" id="3968319">GCD</span><span class="op" id="3968322">(</span><span class="ident" id="3968323">z</span><span class="op" id="3968324">,</span>&nbsp;<span class="ident" id="3968326">nil</span><span class="op" id="3968329">,</span>&nbsp;<span class="ident" id="3968331">g</span><span class="op" id="3968332">,</span>&nbsp;<span class="ident" id="3968334">n</span><span class="op" id="3968335">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3968338">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3968397">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3968458">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3968507">if</span>&nbsp;<span class="ident" id="3968510">z</span><span class="op" id="3968511">.</span><span class="ident" id="3968512">neg</span>&nbsp;<span class="op" id="3968516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968520">z</span><span class="op" id="3968521">.</span><span class="ident" id="3968522">Add</span><span class="op" id="3968525">(</span><span class="ident" id="3968526">z</span><span class="op" id="3968527">,</span>&nbsp;<span class="ident" id="3968529">n</span><span class="op" id="3968530">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3968533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3968536">return</span>&nbsp;<span class="ident" id="3968543">z</span><br>
<span class="lineno"></span><span class="op" id="3968545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3968548">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="3968586">func</span>&nbsp;<span class="op" id="3968591">(</span><span class="ident" id="3968592">z</span>&nbsp;<span class="op" id="3968594">*</span><span class="ident" id="3968595">Int</span><span class="op" id="3968598">)</span>&nbsp;<span class="ident" id="3968600">Lsh</span><span class="op" id="3968603">(</span><span class="ident" id="3968604">x</span>&nbsp;<span class="op" id="3968606">*</span><span class="ident" id="3968607">Int</span><span class="op" id="3968610">,</span>&nbsp;<span class="ident" id="3968612">n</span>&nbsp;<span class="builtintype" id="3968614">uint</span><span class="op" id="3968618">)</span>&nbsp;<span class="op" id="3968620">*</span><span class="ident" id="3968621">Int</span>&nbsp;<span class="op" id="3968625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968628">z</span><span class="op" id="3968629">.</span><span class="ident" id="3968630">abs</span>&nbsp;<span class="op" id="3968634">=</span>&nbsp;<span class="ident" id="3968636">z</span><span class="op" id="3968637">.</span><span class="ident" id="3968638">abs</span><span class="op" id="3968641">.</span><span class="ident" id="3968642">shl</span><span class="op" id="3968645">(</span><span class="ident" id="3968646">x</span><span class="op" id="3968647">.</span><span class="ident" id="3968648">abs</span><span class="op" id="3968651">,</span>&nbsp;<span class="ident" id="3968653">n</span><span class="op" id="3968654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968657">z</span><span class="op" id="3968658">.</span><span class="ident" id="3968659">neg</span>&nbsp;<span class="op" id="3968663">=</span>&nbsp;<span class="ident" id="3968665">x</span><span class="op" id="3968666">.</span><span class="ident" id="3968667">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3968672">return</span>&nbsp;<span class="ident" id="3968679">z</span><br>
<span class="lineno"></span><span class="op" id="3968681">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="3968684">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3968722">func</span>&nbsp;<span class="op" id="3968727">(</span><span class="ident" id="3968728">z</span>&nbsp;<span class="op" id="3968730">*</span><span class="ident" id="3968731">Int</span><span class="op" id="3968734">)</span>&nbsp;<span class="ident" id="3968736">Rsh</span><span class="op" id="3968739">(</span><span class="ident" id="3968740">x</span>&nbsp;<span class="op" id="3968742">*</span><span class="ident" id="3968743">Int</span><span class="op" id="3968746">,</span>&nbsp;<span class="ident" id="3968748">n</span>&nbsp;<span class="builtintype" id="3968750">uint</span><span class="op" id="3968754">)</span>&nbsp;<span class="op" id="3968756">*</span><span class="ident" id="3968757">Int</span>&nbsp;<span class="op" id="3968761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3968764">if</span>&nbsp;<span class="ident" id="3968767">x</span><span class="op" id="3968768">.</span><span class="ident" id="3968769">neg</span>&nbsp;<span class="op" id="3968773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3968777">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968847">t</span>&nbsp;<span class="op" id="3968849">:=</span>&nbsp;<span class="ident" id="3968852">z</span><span class="op" id="3968853">.</span><span class="ident" id="3968854">abs</span><span class="op" id="3968857">.</span><span class="ident" id="3968858">sub</span><span class="op" id="3968861">(</span><span class="ident" id="3968862">x</span><span class="op" id="3968863">.</span><span class="ident" id="3968864">abs</span><span class="op" id="3968867">,</span>&nbsp;<span class="ident" id="3968869">natOne</span><span class="op" id="3968875">)</span>&nbsp;<span class="comment" id="3968877">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968911">t</span>&nbsp;<span class="op" id="3968913">=</span>&nbsp;<span class="ident" id="3968915">t</span><span class="op" id="3968916">.</span><span class="ident" id="3968917">shr</span><span class="op" id="3968920">(</span><span class="ident" id="3968921">t</span><span class="op" id="3968922">,</span>&nbsp;<span class="ident" id="3968924">n</span><span class="op" id="3968925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968929">z</span><span class="op" id="3968930">.</span><span class="ident" id="3968931">abs</span>&nbsp;<span class="op" id="3968935">=</span>&nbsp;<span class="ident" id="3968937">t</span><span class="op" id="3968938">.</span><span class="ident" id="3968939">add</span><span class="op" id="3968942">(</span><span class="ident" id="3968943">t</span><span class="op" id="3968944">,</span>&nbsp;<span class="ident" id="3968946">natOne</span><span class="op" id="3968952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3968956">z</span><span class="op" id="3968957">.</span><span class="ident" id="3968958">neg</span>&nbsp;<span class="op" id="3968962">=</span>&nbsp;<span class="builtintype" id="3968964">true</span>&nbsp;<span class="comment" id="3968969">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969008">return</span>&nbsp;<span class="ident" id="3969015">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3969018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3969022">z</span><span class="op" id="3969023">.</span><span class="ident" id="3969024">abs</span>&nbsp;<span class="op" id="3969028">=</span>&nbsp;<span class="ident" id="3969030">z</span><span class="op" id="3969031">.</span><span class="ident" id="3969032">abs</span><span class="op" id="3969035">.</span><span class="ident" id="3969036">shr</span><span class="op" id="3969039">(</span><span class="ident" id="3969040">x</span><span class="op" id="3969041">.</span><span class="ident" id="3969042">abs</span><span class="op" id="3969045">,</span>&nbsp;<span class="ident" id="3969047">n</span><span class="op" id="3969048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3969051">z</span><span class="op" id="3969052">.</span><span class="ident" id="3969053">neg</span>&nbsp;<span class="op" id="3969057">=</span>&nbsp;<span class="builtintype" id="3969059">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969066">return</span>&nbsp;<span class="ident" id="3969073">z</span><br>
<span class="lineno">790</span><span class="op" id="3969075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3969078">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3969137">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3969188">func</span>&nbsp;<span class="op" id="3969193">(</span><span class="ident" id="3969194">x</span>&nbsp;<span class="op" id="3969196">*</span><span class="ident" id="3969197">Int</span><span class="op" id="3969200">)</span>&nbsp;<span class="ident" id="3969202">Bit</span><span class="op" id="3969205">(</span><span class="ident" id="3969206">i</span>&nbsp;<span class="builtintype" id="3969208">int</span><span class="op" id="3969211">)</span>&nbsp;<span class="builtintype" id="3969213">uint</span>&nbsp;<span class="op" id="3969218">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969221">if</span>&nbsp;<span class="ident" id="3969224">i</span>&nbsp;<span class="op" id="3969226">==</span>&nbsp;<span class="num" id="3969229">0</span>&nbsp;<span class="op" id="3969231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3969235">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969289">if</span>&nbsp;<span class="builtinfunc" id="3969292">len</span><span class="op" id="3969295">(</span><span class="ident" id="3969296">x</span><span class="op" id="3969297">.</span><span class="ident" id="3969298">abs</span><span class="op" id="3969301">)</span>&nbsp;<span class="op" id="3969303">&gt;</span>&nbsp;<span class="num" id="3969305">0</span>&nbsp;<span class="op" id="3969307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969312">return</span>&nbsp;<span class="builtintype" id="3969319">uint</span><span class="op" id="3969323">(</span><span class="ident" id="3969324">x</span><span class="op" id="3969325">.</span><span class="ident" id="3969326">abs</span><span class="op" id="3969329">[</span><span class="num" id="3969330">0</span><span class="op" id="3969331">]</span>&nbsp;<span class="op" id="3969333">&amp;</span>&nbsp;<span class="num" id="3969335">1</span><span class="op" id="3969336">)</span>&nbsp;<span class="comment" id="3969338">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3969364">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969368">return</span>&nbsp;<span class="num" id="3969375">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3969378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969381">if</span>&nbsp;<span class="ident" id="3969384">i</span>&nbsp;<span class="op" id="3969386">&lt;</span>&nbsp;<span class="num" id="3969388">0</span>&nbsp;<span class="op" id="3969390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3969394">panic</span><span class="op" id="3969399">(</span><span class="string" id="3969400">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3969420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3969423">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969426">if</span>&nbsp;<span class="ident" id="3969429">x</span><span class="op" id="3969430">.</span><span class="ident" id="3969431">neg</span>&nbsp;<span class="op" id="3969435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3969439">t</span>&nbsp;<span class="op" id="3969441">:=</span>&nbsp;<span class="ident" id="3969444">nat</span><span class="op" id="3969447">(</span><span class="ident" id="3969448">nil</span><span class="op" id="3969451">)</span><span class="op" id="3969452">.</span><span class="ident" id="3969453">sub</span><span class="op" id="3969456">(</span><span class="ident" id="3969457">x</span><span class="op" id="3969458">.</span><span class="ident" id="3969459">abs</span><span class="op" id="3969462">,</span>&nbsp;<span class="ident" id="3969464">natOne</span><span class="op" id="3969470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969474">return</span>&nbsp;<span class="ident" id="3969481">t</span><span class="op" id="3969482">.</span><span class="ident" id="3969483">bit</span><span class="op" id="3969486">(</span><span class="builtintype" id="3969487">uint</span><span class="op" id="3969491">(</span><span class="ident" id="3969492">i</span><span class="op" id="3969493">)</span><span class="op" id="3969494">)</span>&nbsp;<span class="op" id="3969496">^</span>&nbsp;<span class="num" id="3969498">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3969501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969505">return</span>&nbsp;<span class="ident" id="3969512">x</span><span class="op" id="3969513">.</span><span class="ident" id="3969514">abs</span><span class="op" id="3969517">.</span><span class="ident" id="3969518">bit</span><span class="op" id="3969521">(</span><span class="builtintype" id="3969522">uint</span><span class="op" id="3969526">(</span><span class="ident" id="3969527">i</span><span class="op" id="3969528">)</span><span class="op" id="3969529">)</span><br>
<span class="lineno"></span><span class="op" id="3969531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3969534">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="3969594">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="3969646">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="3969710">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="3969732">func</span>&nbsp;<span class="op" id="3969737">(</span><span class="ident" id="3969738">z</span>&nbsp;<span class="op" id="3969740">*</span><span class="ident" id="3969741">Int</span><span class="op" id="3969744">)</span>&nbsp;<span class="ident" id="3969746">SetBit</span><span class="op" id="3969752">(</span><span class="ident" id="3969753">x</span>&nbsp;<span class="op" id="3969755">*</span><span class="ident" id="3969756">Int</span><span class="op" id="3969759">,</span>&nbsp;<span class="ident" id="3969761">i</span>&nbsp;<span class="builtintype" id="3969763">int</span><span class="op" id="3969766">,</span>&nbsp;<span class="ident" id="3969768">b</span>&nbsp;<span class="builtintype" id="3969770">uint</span><span class="op" id="3969774">)</span>&nbsp;<span class="op" id="3969776">*</span><span class="ident" id="3969777">Int</span>&nbsp;<span class="op" id="3969781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969784">if</span>&nbsp;<span class="ident" id="3969787">i</span>&nbsp;<span class="op" id="3969789">&lt;</span>&nbsp;<span class="num" id="3969791">0</span>&nbsp;<span class="op" id="3969793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3969797">panic</span><span class="op" id="3969802">(</span><span class="string" id="3969803">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3969823">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3969826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969829">if</span>&nbsp;<span class="ident" id="3969832">x</span><span class="op" id="3969833">.</span><span class="ident" id="3969834">neg</span>&nbsp;<span class="op" id="3969838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3969842">t</span>&nbsp;<span class="op" id="3969844">:=</span>&nbsp;<span class="ident" id="3969847">z</span><span class="op" id="3969848">.</span><span class="ident" id="3969849">abs</span><span class="op" id="3969852">.</span><span class="ident" id="3969853">sub</span><span class="op" id="3969856">(</span><span class="ident" id="3969857">x</span><span class="op" id="3969858">.</span><span class="ident" id="3969859">abs</span><span class="op" id="3969862">,</span>&nbsp;<span class="ident" id="3969864">natOne</span><span class="op" id="3969870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3969874">t</span>&nbsp;<span class="op" id="3969876">=</span>&nbsp;<span class="ident" id="3969878">t</span><span class="op" id="3969879">.</span><span class="ident" id="3969880">setBit</span><span class="op" id="3969886">(</span><span class="ident" id="3969887">t</span><span class="op" id="3969888">,</span>&nbsp;<span class="builtintype" id="3969890">uint</span><span class="op" id="3969894">(</span><span class="ident" id="3969895">i</span><span class="op" id="3969896">)</span><span class="op" id="3969897">,</span>&nbsp;<span class="ident" id="3969899">b</span><span class="op" id="3969900">^</span><span class="num" id="3969901">1</span><span class="op" id="3969902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3969906">z</span><span class="op" id="3969907">.</span><span class="ident" id="3969908">abs</span>&nbsp;<span class="op" id="3969912">=</span>&nbsp;<span class="ident" id="3969914">t</span><span class="op" id="3969915">.</span><span class="ident" id="3969916">add</span><span class="op" id="3969919">(</span><span class="ident" id="3969920">t</span><span class="op" id="3969921">,</span>&nbsp;<span class="ident" id="3969923">natOne</span><span class="op" id="3969929">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3969933">z</span><span class="op" id="3969934">.</span><span class="ident" id="3969935">neg</span>&nbsp;<span class="op" id="3969939">=</span>&nbsp;<span class="builtinfunc" id="3969941">len</span><span class="op" id="3969944">(</span><span class="ident" id="3969945">z</span><span class="op" id="3969946">.</span><span class="ident" id="3969947">abs</span><span class="op" id="3969950">)</span>&nbsp;<span class="op" id="3969952">&gt;</span>&nbsp;<span class="num" id="3969954">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3969958">return</span>&nbsp;<span class="ident" id="3969965">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3969968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3969971">z</span><span class="op" id="3969972">.</span><span class="ident" id="3969973">abs</span>&nbsp;<span class="op" id="3969977">=</span>&nbsp;<span class="ident" id="3969979">z</span><span class="op" id="3969980">.</span><span class="ident" id="3969981">abs</span><span class="op" id="3969984">.</span><span class="ident" id="3969985">setBit</span><span class="op" id="3969991">(</span><span class="ident" id="3969992">x</span><span class="op" id="3969993">.</span><span class="ident" id="3969994">abs</span><span class="op" id="3969997">,</span>&nbsp;<span class="builtintype" id="3969999">uint</span><span class="op" id="3970003">(</span><span class="ident" id="3970004">i</span><span class="op" id="3970005">)</span><span class="op" id="3970006">,</span>&nbsp;<span class="ident" id="3970008">b</span><span class="op" id="3970009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970012">z</span><span class="op" id="3970013">.</span><span class="ident" id="3970014">neg</span>&nbsp;<span class="op" id="3970018">=</span>&nbsp;<span class="builtintype" id="3970020">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970027">return</span>&nbsp;<span class="ident" id="3970034">z</span><br>
<span class="lineno"></span><span class="op" id="3970036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3970039">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3970076">func</span>&nbsp;<span class="op" id="3970081">(</span><span class="ident" id="3970082">z</span>&nbsp;<span class="op" id="3970084">*</span><span class="ident" id="3970085">Int</span><span class="op" id="3970088">)</span>&nbsp;<span class="ident" id="3970090">And</span><span class="op" id="3970093">(</span><span class="ident" id="3970094">x</span><span class="op" id="3970095">,</span>&nbsp;<span class="ident" id="3970097">y</span>&nbsp;<span class="op" id="3970099">*</span><span class="ident" id="3970100">Int</span><span class="op" id="3970103">)</span>&nbsp;<span class="op" id="3970105">*</span><span class="ident" id="3970106">Int</span>&nbsp;<span class="op" id="3970110">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970113">if</span>&nbsp;<span class="ident" id="3970116">x</span><span class="op" id="3970117">.</span><span class="ident" id="3970118">neg</span>&nbsp;<span class="op" id="3970122">==</span>&nbsp;<span class="ident" id="3970125">y</span><span class="op" id="3970126">.</span><span class="ident" id="3970127">neg</span>&nbsp;<span class="op" id="3970131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970135">if</span>&nbsp;<span class="ident" id="3970138">x</span><span class="op" id="3970139">.</span><span class="ident" id="3970140">neg</span>&nbsp;<span class="op" id="3970144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3970149">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970232">x1</span>&nbsp;<span class="op" id="3970235">:=</span>&nbsp;<span class="ident" id="3970238">nat</span><span class="op" id="3970241">(</span><span class="ident" id="3970242">nil</span><span class="op" id="3970245">)</span><span class="op" id="3970246">.</span><span class="ident" id="3970247">sub</span><span class="op" id="3970250">(</span><span class="ident" id="3970251">x</span><span class="op" id="3970252">.</span><span class="ident" id="3970253">abs</span><span class="op" id="3970256">,</span>&nbsp;<span class="ident" id="3970258">natOne</span><span class="op" id="3970264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970269">y1</span>&nbsp;<span class="op" id="3970272">:=</span>&nbsp;<span class="ident" id="3970275">nat</span><span class="op" id="3970278">(</span><span class="ident" id="3970279">nil</span><span class="op" id="3970282">)</span><span class="op" id="3970283">.</span><span class="ident" id="3970284">sub</span><span class="op" id="3970287">(</span><span class="ident" id="3970288">y</span><span class="op" id="3970289">.</span><span class="ident" id="3970290">abs</span><span class="op" id="3970293">,</span>&nbsp;<span class="ident" id="3970295">natOne</span><span class="op" id="3970301">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970306">z</span><span class="op" id="3970307">.</span><span class="ident" id="3970308">abs</span>&nbsp;<span class="op" id="3970312">=</span>&nbsp;<span class="ident" id="3970314">z</span><span class="op" id="3970315">.</span><span class="ident" id="3970316">abs</span><span class="op" id="3970319">.</span><span class="ident" id="3970320">add</span><span class="op" id="3970323">(</span><span class="ident" id="3970324">z</span><span class="op" id="3970325">.</span><span class="ident" id="3970326">abs</span><span class="op" id="3970329">.</span><span class="ident" id="3970330">or</span><span class="op" id="3970332">(</span><span class="ident" id="3970333">x1</span><span class="op" id="3970335">,</span>&nbsp;<span class="ident" id="3970337">y1</span><span class="op" id="3970339">)</span><span class="op" id="3970340">,</span>&nbsp;<span class="ident" id="3970342">natOne</span><span class="op" id="3970348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970353">z</span><span class="op" id="3970354">.</span><span class="ident" id="3970355">neg</span>&nbsp;<span class="op" id="3970359">=</span>&nbsp;<span class="builtintype" id="3970361">true</span>&nbsp;<span class="comment" id="3970366">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970413">return</span>&nbsp;<span class="ident" id="3970420">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3970424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3970429">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970449">z</span><span class="op" id="3970450">.</span><span class="ident" id="3970451">abs</span>&nbsp;<span class="op" id="3970455">=</span>&nbsp;<span class="ident" id="3970457">z</span><span class="op" id="3970458">.</span><span class="ident" id="3970459">abs</span><span class="op" id="3970462">.</span><span class="ident" id="3970463">and</span><span class="op" id="3970466">(</span><span class="ident" id="3970467">x</span><span class="op" id="3970468">.</span><span class="ident" id="3970469">abs</span><span class="op" id="3970472">,</span>&nbsp;<span class="ident" id="3970474">y</span><span class="op" id="3970475">.</span><span class="ident" id="3970476">abs</span><span class="op" id="3970479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970483">z</span><span class="op" id="3970484">.</span><span class="ident" id="3970485">neg</span>&nbsp;<span class="op" id="3970489">=</span>&nbsp;<span class="builtintype" id="3970491">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970499">return</span>&nbsp;<span class="ident" id="3970506">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3970509">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3970513">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970532">if</span>&nbsp;<span class="ident" id="3970535">x</span><span class="op" id="3970536">.</span><span class="ident" id="3970537">neg</span>&nbsp;<span class="op" id="3970541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970545">x</span><span class="op" id="3970546">,</span>&nbsp;<span class="ident" id="3970548">y</span>&nbsp;<span class="op" id="3970550">=</span>&nbsp;<span class="ident" id="3970552">y</span><span class="op" id="3970553">,</span>&nbsp;<span class="ident" id="3970555">x</span>&nbsp;<span class="comment" id="3970557">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3970576">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3970580">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970621">y1</span>&nbsp;<span class="op" id="3970624">:=</span>&nbsp;<span class="ident" id="3970627">nat</span><span class="op" id="3970630">(</span><span class="ident" id="3970631">nil</span><span class="op" id="3970634">)</span><span class="op" id="3970635">.</span><span class="ident" id="3970636">sub</span><span class="op" id="3970639">(</span><span class="ident" id="3970640">y</span><span class="op" id="3970641">.</span><span class="ident" id="3970642">abs</span><span class="op" id="3970645">,</span>&nbsp;<span class="ident" id="3970647">natOne</span><span class="op" id="3970653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970656">z</span><span class="op" id="3970657">.</span><span class="ident" id="3970658">abs</span>&nbsp;<span class="op" id="3970662">=</span>&nbsp;<span class="ident" id="3970664">z</span><span class="op" id="3970665">.</span><span class="ident" id="3970666">abs</span><span class="op" id="3970669">.</span><span class="ident" id="3970670">andNot</span><span class="op" id="3970676">(</span><span class="ident" id="3970677">x</span><span class="op" id="3970678">.</span><span class="ident" id="3970679">abs</span><span class="op" id="3970682">,</span>&nbsp;<span class="ident" id="3970684">y1</span><span class="op" id="3970686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970689">z</span><span class="op" id="3970690">.</span><span class="ident" id="3970691">neg</span>&nbsp;<span class="op" id="3970695">=</span>&nbsp;<span class="builtintype" id="3970697">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970704">return</span>&nbsp;<span class="ident" id="3970711">z</span><br>
<span class="lineno"></span><span class="op" id="3970713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3970716">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3970757">func</span>&nbsp;<span class="op" id="3970762">(</span><span class="ident" id="3970763">z</span>&nbsp;<span class="op" id="3970765">*</span><span class="ident" id="3970766">Int</span><span class="op" id="3970769">)</span>&nbsp;<span class="ident" id="3970771">AndNot</span><span class="op" id="3970777">(</span><span class="ident" id="3970778">x</span><span class="op" id="3970779">,</span>&nbsp;<span class="ident" id="3970781">y</span>&nbsp;<span class="op" id="3970783">*</span><span class="ident" id="3970784">Int</span><span class="op" id="3970787">)</span>&nbsp;<span class="op" id="3970789">*</span><span class="ident" id="3970790">Int</span>&nbsp;<span class="op" id="3970794">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970797">if</span>&nbsp;<span class="ident" id="3970800">x</span><span class="op" id="3970801">.</span><span class="ident" id="3970802">neg</span>&nbsp;<span class="op" id="3970806">==</span>&nbsp;<span class="ident" id="3970809">y</span><span class="op" id="3970810">.</span><span class="ident" id="3970811">neg</span>&nbsp;<span class="op" id="3970815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3970819">if</span>&nbsp;<span class="ident" id="3970822">x</span><span class="op" id="3970823">.</span><span class="ident" id="3970824">neg</span>&nbsp;<span class="op" id="3970828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3970833">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970908">x1</span>&nbsp;<span class="op" id="3970911">:=</span>&nbsp;<span class="ident" id="3970914">nat</span><span class="op" id="3970917">(</span><span class="ident" id="3970918">nil</span><span class="op" id="3970921">)</span><span class="op" id="3970922">.</span><span class="ident" id="3970923">sub</span><span class="op" id="3970926">(</span><span class="ident" id="3970927">x</span><span class="op" id="3970928">.</span><span class="ident" id="3970929">abs</span><span class="op" id="3970932">,</span>&nbsp;<span class="ident" id="3970934">natOne</span><span class="op" id="3970940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970945">y1</span>&nbsp;<span class="op" id="3970948">:=</span>&nbsp;<span class="ident" id="3970951">nat</span><span class="op" id="3970954">(</span><span class="ident" id="3970955">nil</span><span class="op" id="3970958">)</span><span class="op" id="3970959">.</span><span class="ident" id="3970960">sub</span><span class="op" id="3970963">(</span><span class="ident" id="3970964">y</span><span class="op" id="3970965">.</span><span class="ident" id="3970966">abs</span><span class="op" id="3970969">,</span>&nbsp;<span class="ident" id="3970971">natOne</span><span class="op" id="3970977">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3970982">z</span><span class="op" id="3970983">.</span><span class="ident" id="3970984">abs</span>&nbsp;<span class="op" id="3970988">=</span>&nbsp;<span class="ident" id="3970990">z</span><span class="op" id="3970991">.</span><span class="ident" id="3970992">abs</span><span class="op" id="3970995">.</span><span class="ident" id="3970996">andNot</span><span class="op" id="3971002">(</span><span class="ident" id="3971003">y1</span><span class="op" id="3971005">,</span>&nbsp;<span class="ident" id="3971007">x1</span><span class="op" id="3971009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971014">z</span><span class="op" id="3971015">.</span><span class="ident" id="3971016">neg</span>&nbsp;<span class="op" id="3971020">=</span>&nbsp;<span class="builtintype" id="3971022">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971031">return</span>&nbsp;<span class="ident" id="3971038">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3971042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3971047">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971069">z</span><span class="op" id="3971070">.</span><span class="ident" id="3971071">abs</span>&nbsp;<span class="op" id="3971075">=</span>&nbsp;<span class="ident" id="3971077">z</span><span class="op" id="3971078">.</span><span class="ident" id="3971079">abs</span><span class="op" id="3971082">.</span><span class="ident" id="3971083">andNot</span><span class="op" id="3971089">(</span><span class="ident" id="3971090">x</span><span class="op" id="3971091">.</span><span class="ident" id="3971092">abs</span><span class="op" id="3971095">,</span>&nbsp;<span class="ident" id="3971097">y</span><span class="op" id="3971098">.</span><span class="ident" id="3971099">abs</span><span class="op" id="3971102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971106">z</span><span class="op" id="3971107">.</span><span class="ident" id="3971108">neg</span>&nbsp;<span class="op" id="3971112">=</span>&nbsp;<span class="builtintype" id="3971114">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971122">return</span>&nbsp;<span class="ident" id="3971129">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3971132">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971136">if</span>&nbsp;<span class="ident" id="3971139">x</span><span class="op" id="3971140">.</span><span class="ident" id="3971141">neg</span>&nbsp;<span class="op" id="3971145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3971149">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971232">x1</span>&nbsp;<span class="op" id="3971235">:=</span>&nbsp;<span class="ident" id="3971238">nat</span><span class="op" id="3971241">(</span><span class="ident" id="3971242">nil</span><span class="op" id="3971245">)</span><span class="op" id="3971246">.</span><span class="ident" id="3971247">sub</span><span class="op" id="3971250">(</span><span class="ident" id="3971251">x</span><span class="op" id="3971252">.</span><span class="ident" id="3971253">abs</span><span class="op" id="3971256">,</span>&nbsp;<span class="ident" id="3971258">natOne</span><span class="op" id="3971264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971268">z</span><span class="op" id="3971269">.</span><span class="ident" id="3971270">abs</span>&nbsp;<span class="op" id="3971274">=</span>&nbsp;<span class="ident" id="3971276">z</span><span class="op" id="3971277">.</span><span class="ident" id="3971278">abs</span><span class="op" id="3971281">.</span><span class="ident" id="3971282">add</span><span class="op" id="3971285">(</span><span class="ident" id="3971286">z</span><span class="op" id="3971287">.</span><span class="ident" id="3971288">abs</span><span class="op" id="3971291">.</span><span class="ident" id="3971292">or</span><span class="op" id="3971294">(</span><span class="ident" id="3971295">x1</span><span class="op" id="3971297">,</span>&nbsp;<span class="ident" id="3971299">y</span><span class="op" id="3971300">.</span><span class="ident" id="3971301">abs</span><span class="op" id="3971304">)</span><span class="op" id="3971305">,</span>&nbsp;<span class="ident" id="3971307">natOne</span><span class="op" id="3971313">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971317">z</span><span class="op" id="3971318">.</span><span class="ident" id="3971319">neg</span>&nbsp;<span class="op" id="3971323">=</span>&nbsp;<span class="builtintype" id="3971325">true</span>&nbsp;<span class="comment" id="3971330">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971387">return</span>&nbsp;<span class="ident" id="3971394">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3971397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3971401">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971443">y1</span>&nbsp;<span class="op" id="3971446">:=</span>&nbsp;<span class="ident" id="3971449">nat</span><span class="op" id="3971452">(</span><span class="ident" id="3971453">nil</span><span class="op" id="3971456">)</span><span class="op" id="3971457">.</span><span class="ident" id="3971458">add</span><span class="op" id="3971461">(</span><span class="ident" id="3971462">y</span><span class="op" id="3971463">.</span><span class="ident" id="3971464">abs</span><span class="op" id="3971467">,</span>&nbsp;<span class="ident" id="3971469">natOne</span><span class="op" id="3971475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971478">z</span><span class="op" id="3971479">.</span><span class="ident" id="3971480">abs</span>&nbsp;<span class="op" id="3971484">=</span>&nbsp;<span class="ident" id="3971486">z</span><span class="op" id="3971487">.</span><span class="ident" id="3971488">abs</span><span class="op" id="3971491">.</span><span class="ident" id="3971492">and</span><span class="op" id="3971495">(</span><span class="ident" id="3971496">x</span><span class="op" id="3971497">.</span><span class="ident" id="3971498">abs</span><span class="op" id="3971501">,</span>&nbsp;<span class="ident" id="3971503">y1</span><span class="op" id="3971505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971508">z</span><span class="op" id="3971509">.</span><span class="ident" id="3971510">neg</span>&nbsp;<span class="op" id="3971514">=</span>&nbsp;<span class="builtintype" id="3971516">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971523">return</span>&nbsp;<span class="ident" id="3971530">z</span><br>
<span class="lineno"></span><span class="op" id="3971532">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="3971535">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3971571">func</span>&nbsp;<span class="op" id="3971576">(</span><span class="ident" id="3971577">z</span>&nbsp;<span class="op" id="3971579">*</span><span class="ident" id="3971580">Int</span><span class="op" id="3971583">)</span>&nbsp;<span class="ident" id="3971585">Or</span><span class="op" id="3971587">(</span><span class="ident" id="3971588">x</span><span class="op" id="3971589">,</span>&nbsp;<span class="ident" id="3971591">y</span>&nbsp;<span class="op" id="3971593">*</span><span class="ident" id="3971594">Int</span><span class="op" id="3971597">)</span>&nbsp;<span class="op" id="3971599">*</span><span class="ident" id="3971600">Int</span>&nbsp;<span class="op" id="3971604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971607">if</span>&nbsp;<span class="ident" id="3971610">x</span><span class="op" id="3971611">.</span><span class="ident" id="3971612">neg</span>&nbsp;<span class="op" id="3971616">==</span>&nbsp;<span class="ident" id="3971619">y</span><span class="op" id="3971620">.</span><span class="ident" id="3971621">neg</span>&nbsp;<span class="op" id="3971625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971629">if</span>&nbsp;<span class="ident" id="3971632">x</span><span class="op" id="3971633">.</span><span class="ident" id="3971634">neg</span>&nbsp;<span class="op" id="3971638">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3971643">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971726">x1</span>&nbsp;<span class="op" id="3971729">:=</span>&nbsp;<span class="ident" id="3971732">nat</span><span class="op" id="3971735">(</span><span class="ident" id="3971736">nil</span><span class="op" id="3971739">)</span><span class="op" id="3971740">.</span><span class="ident" id="3971741">sub</span><span class="op" id="3971744">(</span><span class="ident" id="3971745">x</span><span class="op" id="3971746">.</span><span class="ident" id="3971747">abs</span><span class="op" id="3971750">,</span>&nbsp;<span class="ident" id="3971752">natOne</span><span class="op" id="3971758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971763">y1</span>&nbsp;<span class="op" id="3971766">:=</span>&nbsp;<span class="ident" id="3971769">nat</span><span class="op" id="3971772">(</span><span class="ident" id="3971773">nil</span><span class="op" id="3971776">)</span><span class="op" id="3971777">.</span><span class="ident" id="3971778">sub</span><span class="op" id="3971781">(</span><span class="ident" id="3971782">y</span><span class="op" id="3971783">.</span><span class="ident" id="3971784">abs</span><span class="op" id="3971787">,</span>&nbsp;<span class="ident" id="3971789">natOne</span><span class="op" id="3971795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971800">z</span><span class="op" id="3971801">.</span><span class="ident" id="3971802">abs</span>&nbsp;<span class="op" id="3971806">=</span>&nbsp;<span class="ident" id="3971808">z</span><span class="op" id="3971809">.</span><span class="ident" id="3971810">abs</span><span class="op" id="3971813">.</span><span class="ident" id="3971814">add</span><span class="op" id="3971817">(</span><span class="ident" id="3971818">z</span><span class="op" id="3971819">.</span><span class="ident" id="3971820">abs</span><span class="op" id="3971823">.</span><span class="ident" id="3971824">and</span><span class="op" id="3971827">(</span><span class="ident" id="3971828">x1</span><span class="op" id="3971830">,</span>&nbsp;<span class="ident" id="3971832">y1</span><span class="op" id="3971834">)</span><span class="op" id="3971835">,</span>&nbsp;<span class="ident" id="3971837">natOne</span><span class="op" id="3971843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971848">z</span><span class="op" id="3971849">.</span><span class="ident" id="3971850">neg</span>&nbsp;<span class="op" id="3971854">=</span>&nbsp;<span class="builtintype" id="3971856">true</span>&nbsp;<span class="comment" id="3971861">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971908">return</span>&nbsp;<span class="ident" id="3971915">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3971919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3971924">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971944">z</span><span class="op" id="3971945">.</span><span class="ident" id="3971946">abs</span>&nbsp;<span class="op" id="3971950">=</span>&nbsp;<span class="ident" id="3971952">z</span><span class="op" id="3971953">.</span><span class="ident" id="3971954">abs</span><span class="op" id="3971957">.</span><span class="ident" id="3971958">or</span><span class="op" id="3971960">(</span><span class="ident" id="3971961">x</span><span class="op" id="3971962">.</span><span class="ident" id="3971963">abs</span><span class="op" id="3971966">,</span>&nbsp;<span class="ident" id="3971968">y</span><span class="op" id="3971969">.</span><span class="ident" id="3971970">abs</span><span class="op" id="3971973">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3971977">z</span><span class="op" id="3971978">.</span><span class="ident" id="3971979">neg</span>&nbsp;<span class="op" id="3971983">=</span>&nbsp;<span class="builtintype" id="3971985">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3971993">return</span>&nbsp;<span class="ident" id="3972000">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3972003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3972007">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3972026">if</span>&nbsp;<span class="ident" id="3972029">x</span><span class="op" id="3972030">.</span><span class="ident" id="3972031">neg</span>&nbsp;<span class="op" id="3972035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972039">x</span><span class="op" id="3972040">,</span>&nbsp;<span class="ident" id="3972042">y</span>&nbsp;<span class="op" id="3972044">=</span>&nbsp;<span class="ident" id="3972046">y</span><span class="op" id="3972047">,</span>&nbsp;<span class="ident" id="3972049">x</span>&nbsp;<span class="comment" id="3972051">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3972070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3972074">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972142">y1</span>&nbsp;<span class="op" id="3972145">:=</span>&nbsp;<span class="ident" id="3972148">nat</span><span class="op" id="3972151">(</span><span class="ident" id="3972152">nil</span><span class="op" id="3972155">)</span><span class="op" id="3972156">.</span><span class="ident" id="3972157">sub</span><span class="op" id="3972160">(</span><span class="ident" id="3972161">y</span><span class="op" id="3972162">.</span><span class="ident" id="3972163">abs</span><span class="op" id="3972166">,</span>&nbsp;<span class="ident" id="3972168">natOne</span><span class="op" id="3972174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972177">z</span><span class="op" id="3972178">.</span><span class="ident" id="3972179">abs</span>&nbsp;<span class="op" id="3972183">=</span>&nbsp;<span class="ident" id="3972185">z</span><span class="op" id="3972186">.</span><span class="ident" id="3972187">abs</span><span class="op" id="3972190">.</span><span class="ident" id="3972191">add</span><span class="op" id="3972194">(</span><span class="ident" id="3972195">z</span><span class="op" id="3972196">.</span><span class="ident" id="3972197">abs</span><span class="op" id="3972200">.</span><span class="ident" id="3972201">andNot</span><span class="op" id="3972207">(</span><span class="ident" id="3972208">y1</span><span class="op" id="3972210">,</span>&nbsp;<span class="ident" id="3972212">x</span><span class="op" id="3972213">.</span><span class="ident" id="3972214">abs</span><span class="op" id="3972217">)</span><span class="op" id="3972218">,</span>&nbsp;<span class="ident" id="3972220">natOne</span><span class="op" id="3972226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972229">z</span><span class="op" id="3972230">.</span><span class="ident" id="3972231">neg</span>&nbsp;<span class="op" id="3972235">=</span>&nbsp;<span class="builtintype" id="3972237">true</span>&nbsp;<span class="comment" id="3972242">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3972292">return</span>&nbsp;<span class="ident" id="3972299">z</span><br>
<span class="lineno"></span><span class="op" id="3972301">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="3972304">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3972341">func</span>&nbsp;<span class="op" id="3972346">(</span><span class="ident" id="3972347">z</span>&nbsp;<span class="op" id="3972349">*</span><span class="ident" id="3972350">Int</span><span class="op" id="3972353">)</span>&nbsp;<span class="ident" id="3972355">Xor</span><span class="op" id="3972358">(</span><span class="ident" id="3972359">x</span><span class="op" id="3972360">,</span>&nbsp;<span class="ident" id="3972362">y</span>&nbsp;<span class="op" id="3972364">*</span><span class="ident" id="3972365">Int</span><span class="op" id="3972368">)</span>&nbsp;<span class="op" id="3972370">*</span><span class="ident" id="3972371">Int</span>&nbsp;<span class="op" id="3972375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3972378">if</span>&nbsp;<span class="ident" id="3972381">x</span><span class="op" id="3972382">.</span><span class="ident" id="3972383">neg</span>&nbsp;<span class="op" id="3972387">==</span>&nbsp;<span class="ident" id="3972390">y</span><span class="op" id="3972391">.</span><span class="ident" id="3972392">neg</span>&nbsp;<span class="op" id="3972396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3972400">if</span>&nbsp;<span class="ident" id="3972403">x</span><span class="op" id="3972404">.</span><span class="ident" id="3972405">neg</span>&nbsp;<span class="op" id="3972409">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3972414">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972468">x1</span>&nbsp;<span class="op" id="3972471">:=</span>&nbsp;<span class="ident" id="3972474">nat</span><span class="op" id="3972477">(</span><span class="ident" id="3972478">nil</span><span class="op" id="3972481">)</span><span class="op" id="3972482">.</span><span class="ident" id="3972483">sub</span><span class="op" id="3972486">(</span><span class="ident" id="3972487">x</span><span class="op" id="3972488">.</span><span class="ident" id="3972489">abs</span><span class="op" id="3972492">,</span>&nbsp;<span class="ident" id="3972494">natOne</span><span class="op" id="3972500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972505">y1</span>&nbsp;<span class="op" id="3972508">:=</span>&nbsp;<span class="ident" id="3972511">nat</span><span class="op" id="3972514">(</span><span class="ident" id="3972515">nil</span><span class="op" id="3972518">)</span><span class="op" id="3972519">.</span><span class="ident" id="3972520">sub</span><span class="op" id="3972523">(</span><span class="ident" id="3972524">y</span><span class="op" id="3972525">.</span><span class="ident" id="3972526">abs</span><span class="op" id="3972529">,</span>&nbsp;<span class="ident" id="3972531">natOne</span><span class="op" id="3972537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972542">z</span><span class="op" id="3972543">.</span><span class="ident" id="3972544">abs</span>&nbsp;<span class="op" id="3972548">=</span>&nbsp;<span class="ident" id="3972550">z</span><span class="op" id="3972551">.</span><span class="ident" id="3972552">abs</span><span class="op" id="3972555">.</span><span class="ident" id="3972556">xor</span><span class="op" id="3972559">(</span><span class="ident" id="3972560">x1</span><span class="op" id="3972562">,</span>&nbsp;<span class="ident" id="3972564">y1</span><span class="op" id="3972566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972571">z</span><span class="op" id="3972572">.</span><span class="ident" id="3972573">neg</span>&nbsp;<span class="op" id="3972577">=</span>&nbsp;<span class="builtintype" id="3972579">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3972588">return</span>&nbsp;<span class="ident" id="3972595">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3972599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3972604">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972624">z</span><span class="op" id="3972625">.</span><span class="ident" id="3972626">abs</span>&nbsp;<span class="op" id="3972630">=</span>&nbsp;<span class="ident" id="3972632">z</span><span class="op" id="3972633">.</span><span class="ident" id="3972634">abs</span><span class="op" id="3972637">.</span><span class="ident" id="3972638">xor</span><span class="op" id="3972641">(</span><span class="ident" id="3972642">x</span><span class="op" id="3972643">.</span><span class="ident" id="3972644">abs</span><span class="op" id="3972647">,</span>&nbsp;<span class="ident" id="3972649">y</span><span class="op" id="3972650">.</span><span class="ident" id="3972651">abs</span><span class="op" id="3972654">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972658">z</span><span class="op" id="3972659">.</span><span class="ident" id="3972660">neg</span>&nbsp;<span class="op" id="3972664">=</span>&nbsp;<span class="builtintype" id="3972666">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3972674">return</span>&nbsp;<span class="ident" id="3972681">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3972684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3972688">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3972707">if</span>&nbsp;<span class="ident" id="3972710">x</span><span class="op" id="3972711">.</span><span class="ident" id="3972712">neg</span>&nbsp;<span class="op" id="3972716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972720">x</span><span class="op" id="3972721">,</span>&nbsp;<span class="ident" id="3972723">y</span>&nbsp;<span class="op" id="3972725">=</span>&nbsp;<span class="ident" id="3972727">y</span><span class="op" id="3972728">,</span>&nbsp;<span class="ident" id="3972730">x</span>&nbsp;<span class="comment" id="3972732">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3972751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3972755">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972820">y1</span>&nbsp;<span class="op" id="3972823">:=</span>&nbsp;<span class="ident" id="3972826">nat</span><span class="op" id="3972829">(</span><span class="ident" id="3972830">nil</span><span class="op" id="3972833">)</span><span class="op" id="3972834">.</span><span class="ident" id="3972835">sub</span><span class="op" id="3972838">(</span><span class="ident" id="3972839">y</span><span class="op" id="3972840">.</span><span class="ident" id="3972841">abs</span><span class="op" id="3972844">,</span>&nbsp;<span class="ident" id="3972846">natOne</span><span class="op" id="3972852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972855">z</span><span class="op" id="3972856">.</span><span class="ident" id="3972857">abs</span>&nbsp;<span class="op" id="3972861">=</span>&nbsp;<span class="ident" id="3972863">z</span><span class="op" id="3972864">.</span><span class="ident" id="3972865">abs</span><span class="op" id="3972868">.</span><span class="ident" id="3972869">add</span><span class="op" id="3972872">(</span><span class="ident" id="3972873">z</span><span class="op" id="3972874">.</span><span class="ident" id="3972875">abs</span><span class="op" id="3972878">.</span><span class="ident" id="3972879">xor</span><span class="op" id="3972882">(</span><span class="ident" id="3972883">x</span><span class="op" id="3972884">.</span><span class="ident" id="3972885">abs</span><span class="op" id="3972888">,</span>&nbsp;<span class="ident" id="3972890">y1</span><span class="op" id="3972892">)</span><span class="op" id="3972893">,</span>&nbsp;<span class="ident" id="3972895">natOne</span><span class="op" id="3972901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3972904">z</span><span class="op" id="3972905">.</span><span class="ident" id="3972906">neg</span>&nbsp;<span class="op" id="3972910">=</span>&nbsp;<span class="builtintype" id="3972912">true</span>&nbsp;<span class="comment" id="3972917">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3972972">return</span>&nbsp;<span class="ident" id="3972979">z</span><br>
<span class="lineno"></span><span class="op" id="3972981">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="3972984">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3973018">func</span>&nbsp;<span class="op" id="3973023">(</span><span class="ident" id="3973024">z</span>&nbsp;<span class="op" id="3973026">*</span><span class="ident" id="3973027">Int</span><span class="op" id="3973030">)</span>&nbsp;<span class="ident" id="3973032">Not</span><span class="op" id="3973035">(</span><span class="ident" id="3973036">x</span>&nbsp;<span class="op" id="3973038">*</span><span class="ident" id="3973039">Int</span><span class="op" id="3973042">)</span>&nbsp;<span class="op" id="3973044">*</span><span class="ident" id="3973045">Int</span>&nbsp;<span class="op" id="3973049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973052">if</span>&nbsp;<span class="ident" id="3973055">x</span><span class="op" id="3973056">.</span><span class="ident" id="3973057">neg</span>&nbsp;<span class="op" id="3973061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3973065">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973096">z</span><span class="op" id="3973097">.</span><span class="ident" id="3973098">abs</span>&nbsp;<span class="op" id="3973102">=</span>&nbsp;<span class="ident" id="3973104">z</span><span class="op" id="3973105">.</span><span class="ident" id="3973106">abs</span><span class="op" id="3973109">.</span><span class="ident" id="3973110">sub</span><span class="op" id="3973113">(</span><span class="ident" id="3973114">x</span><span class="op" id="3973115">.</span><span class="ident" id="3973116">abs</span><span class="op" id="3973119">,</span>&nbsp;<span class="ident" id="3973121">natOne</span><span class="op" id="3973127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973131">z</span><span class="op" id="3973132">.</span><span class="ident" id="3973133">neg</span>&nbsp;<span class="op" id="3973137">=</span>&nbsp;<span class="builtintype" id="3973139">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973147">return</span>&nbsp;<span class="ident" id="3973154">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3973157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3973161">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973186">z</span><span class="op" id="3973187">.</span><span class="ident" id="3973188">abs</span>&nbsp;<span class="op" id="3973192">=</span>&nbsp;<span class="ident" id="3973194">z</span><span class="op" id="3973195">.</span><span class="ident" id="3973196">abs</span><span class="op" id="3973199">.</span><span class="ident" id="3973200">add</span><span class="op" id="3973203">(</span><span class="ident" id="3973204">x</span><span class="op" id="3973205">.</span><span class="ident" id="3973206">abs</span><span class="op" id="3973209">,</span>&nbsp;<span class="ident" id="3973211">natOne</span><span class="op" id="3973217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973220">z</span><span class="op" id="3973221">.</span><span class="ident" id="3973222">neg</span>&nbsp;<span class="op" id="3973226">=</span>&nbsp;<span class="builtintype" id="3973228">true</span>&nbsp;<span class="comment" id="3973233">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973271">return</span>&nbsp;<span class="ident" id="3973278">z</span><br>
<span class="lineno"></span><span class="op" id="3973280">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="3973283">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3973358">const</span>&nbsp;<span class="ident" id="3973364">intGobVersion</span>&nbsp;<span class="builtintype" id="3973378">byte</span>&nbsp;<span class="op" id="3973383">=</span>&nbsp;<span class="num" id="3973385">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3973388">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="3973442">func</span>&nbsp;<span class="op" id="3973447">(</span><span class="ident" id="3973448">x</span>&nbsp;<span class="op" id="3973450">*</span><span class="ident" id="3973451">Int</span><span class="op" id="3973454">)</span>&nbsp;<span class="ident" id="3973456">GobEncode</span><span class="op" id="3973465">(</span><span class="op" id="3973466">)</span>&nbsp;<span class="op" id="3973468">(</span><span class="op" id="3973469">[</span><span class="op" id="3973470">]</span><span class="builtintype" id="3973471">byte</span><span class="op" id="3973475">,</span>&nbsp;<span class="builtintype" id="3973477">error</span><span class="op" id="3973482">)</span>&nbsp;<span class="op" id="3973484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973487">if</span>&nbsp;<span class="ident" id="3973490">x</span>&nbsp;<span class="op" id="3973492">==</span>&nbsp;<span class="ident" id="3973495">nil</span>&nbsp;<span class="op" id="3973499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973503">return</span>&nbsp;<span class="ident" id="3973510">nil</span><span class="op" id="3973513">,</span>&nbsp;<span class="ident" id="3973515">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3973520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973523">buf</span>&nbsp;<span class="op" id="3973527">:=</span>&nbsp;<span class="builtinfunc" id="3973530">make</span><span class="op" id="3973534">(</span><span class="op" id="3973535">[</span><span class="op" id="3973536">]</span><span class="builtintype" id="3973537">byte</span><span class="op" id="3973541">,</span>&nbsp;<span class="num" id="3973543">1</span><span class="op" id="3973544">+</span><span class="builtinfunc" id="3973545">len</span><span class="op" id="3973548">(</span><span class="ident" id="3973549">x</span><span class="op" id="3973550">.</span><span class="ident" id="3973551">abs</span><span class="op" id="3973554">)</span><span class="op" id="3973555">*</span><span class="ident" id="3973556">_S</span><span class="op" id="3973558">)</span>&nbsp;<span class="comment" id="3973560">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973600">i</span>&nbsp;<span class="op" id="3973602">:=</span>&nbsp;<span class="ident" id="3973605">x</span><span class="op" id="3973606">.</span><span class="ident" id="3973607">abs</span><span class="op" id="3973610">.</span><span class="ident" id="3973611">bytes</span><span class="op" id="3973616">(</span><span class="ident" id="3973617">buf</span><span class="op" id="3973620">)</span>&nbsp;<span class="op" id="3973622">-</span>&nbsp;<span class="num" id="3973624">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3973637">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973648">b</span>&nbsp;<span class="op" id="3973650">:=</span>&nbsp;<span class="ident" id="3973653">intGobVersion</span>&nbsp;<span class="op" id="3973667">&lt;&lt;</span>&nbsp;<span class="num" id="3973670">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3973685">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973713">if</span>&nbsp;<span class="ident" id="3973716">x</span><span class="op" id="3973717">.</span><span class="ident" id="3973718">neg</span>&nbsp;<span class="op" id="3973722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973726">b</span>&nbsp;<span class="op" id="3973728">|=</span>&nbsp;<span class="num" id="3973731">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3973734">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973737">buf</span><span class="op" id="3973740">[</span><span class="ident" id="3973741">i</span><span class="op" id="3973742">]</span>&nbsp;<span class="op" id="3973744">=</span>&nbsp;<span class="ident" id="3973746">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973749">return</span>&nbsp;<span class="ident" id="3973756">buf</span><span class="op" id="3973759">[</span><span class="ident" id="3973760">i</span><span class="op" id="3973761">:</span><span class="op" id="3973762">]</span><span class="op" id="3973763">,</span>&nbsp;<span class="ident" id="3973765">nil</span><br>
<span class="lineno"></span><span class="op" id="3973769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3973772">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="3973826">func</span>&nbsp;<span class="op" id="3973831">(</span><span class="ident" id="3973832">z</span>&nbsp;<span class="op" id="3973834">*</span><span class="ident" id="3973835">Int</span><span class="op" id="3973838">)</span>&nbsp;<span class="ident" id="3973840">GobDecode</span><span class="op" id="3973849">(</span><span class="ident" id="3973850">buf</span>&nbsp;<span class="op" id="3973854">[</span><span class="op" id="3973855">]</span><span class="builtintype" id="3973856">byte</span><span class="op" id="3973860">)</span>&nbsp;<span class="builtintype" id="3973862">error</span>&nbsp;<span class="op" id="3973868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973871">if</span>&nbsp;<span class="builtinfunc" id="3973874">len</span><span class="op" id="3973877">(</span><span class="ident" id="3973878">buf</span><span class="op" id="3973881">)</span>&nbsp;<span class="op" id="3973883">==</span>&nbsp;<span class="num" id="3973886">0</span>&nbsp;<span class="op" id="3973888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3973892">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3973937">*</span><span class="ident" id="3973938">z</span>&nbsp;<span class="op" id="3973940">=</span>&nbsp;<span class="ident" id="3973942">Int</span><span class="op" id="3973945">{</span><span class="op" id="3973946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973950">return</span>&nbsp;<span class="ident" id="3973957">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3973962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3973965">b</span>&nbsp;<span class="op" id="3973967">:=</span>&nbsp;<span class="ident" id="3973970">buf</span><span class="op" id="3973973">[</span><span class="num" id="3973974">0</span><span class="op" id="3973975">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3973978">if</span>&nbsp;<span class="ident" id="3973981">b</span><span class="op" id="3973982">&gt;&gt;</span><span class="num" id="3973984">1</span>&nbsp;<span class="op" id="3973986">!=</span>&nbsp;<span class="ident" id="3973989">intGobVersion</span>&nbsp;<span class="op" id="3974003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974007">return</span>&nbsp;<span class="ident" id="3974014">errors</span><span class="op" id="3974020">.</span><span class="ident" id="3974021">New</span><span class="op" id="3974024">(</span><span class="ident" id="3974025">fmt</span><span class="op" id="3974028">.</span><span class="ident" id="3974029">Sprintf</span><span class="op" id="3974036">(</span><span class="string" id="3974037">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="3974087">,</span>&nbsp;<span class="ident" id="3974089">b</span><span class="op" id="3974090">&gt;&gt;</span><span class="num" id="3974092">1</span><span class="op" id="3974093">)</span><span class="op" id="3974094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3974097">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3974100">z</span><span class="op" id="3974101">.</span><span class="ident" id="3974102">neg</span>&nbsp;<span class="op" id="3974106">=</span>&nbsp;<span class="ident" id="3974108">b</span><span class="op" id="3974109">&amp;</span><span class="num" id="3974110">1</span>&nbsp;<span class="op" id="3974112">!=</span>&nbsp;<span class="num" id="3974115">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3974118">z</span><span class="op" id="3974119">.</span><span class="ident" id="3974120">abs</span>&nbsp;<span class="op" id="3974124">=</span>&nbsp;<span class="ident" id="3974126">z</span><span class="op" id="3974127">.</span><span class="ident" id="3974128">abs</span><span class="op" id="3974131">.</span><span class="ident" id="3974132">setBytes</span><span class="op" id="3974140">(</span><span class="ident" id="3974141">buf</span><span class="op" id="3974144">[</span><span class="num" id="3974145">1</span><span class="op" id="3974146">:</span><span class="op" id="3974147">]</span><span class="op" id="3974148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974151">return</span>&nbsp;<span class="ident" id="3974158">nil</span><br>
<span class="lineno"></span><span class="op" id="3974162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="3974165">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3974221">func</span>&nbsp;<span class="op" id="3974226">(</span><span class="ident" id="3974227">z</span>&nbsp;<span class="op" id="3974229">*</span><span class="ident" id="3974230">Int</span><span class="op" id="3974233">)</span>&nbsp;<span class="ident" id="3974235">MarshalJSON</span><span class="op" id="3974246">(</span><span class="op" id="3974247">)</span>&nbsp;<span class="op" id="3974249">(</span><span class="op" id="3974250">[</span><span class="op" id="3974251">]</span><span class="builtintype" id="3974252">byte</span><span class="op" id="3974256">,</span>&nbsp;<span class="builtintype" id="3974258">error</span><span class="op" id="3974263">)</span>&nbsp;<span class="op" id="3974265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3974268">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974324">return</span>&nbsp;<span class="op" id="3974331">[</span><span class="op" id="3974332">]</span><span class="builtintype" id="3974333">byte</span><span class="op" id="3974337">(</span><span class="ident" id="3974338">z</span><span class="op" id="3974339">.</span><span class="ident" id="3974340">String</span><span class="op" id="3974346">(</span><span class="op" id="3974347">)</span><span class="op" id="3974348">)</span><span class="op" id="3974349">,</span>&nbsp;<span class="ident" id="3974351">nil</span><br>
<span class="lineno"></span><span class="op" id="3974355">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="3974358">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3974418">func</span>&nbsp;<span class="op" id="3974423">(</span><span class="ident" id="3974424">z</span>&nbsp;<span class="op" id="3974426">*</span><span class="ident" id="3974427">Int</span><span class="op" id="3974430">)</span>&nbsp;<span class="ident" id="3974432">UnmarshalJSON</span><span class="op" id="3974445">(</span><span class="ident" id="3974446">text</span>&nbsp;<span class="op" id="3974451">[</span><span class="op" id="3974452">]</span><span class="builtintype" id="3974453">byte</span><span class="op" id="3974457">)</span>&nbsp;<span class="builtintype" id="3974459">error</span>&nbsp;<span class="op" id="3974465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3974468">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974524">if</span>&nbsp;<span class="ident" id="3974527">_</span><span class="op" id="3974528">,</span>&nbsp;<span class="ident" id="3974530">ok</span>&nbsp;<span class="op" id="3974533">:=</span>&nbsp;<span class="ident" id="3974536">z</span><span class="op" id="3974537">.</span><span class="ident" id="3974538">SetString</span><span class="op" id="3974547">(</span><span class="builtintype" id="3974548">string</span><span class="op" id="3974554">(</span><span class="ident" id="3974555">text</span><span class="op" id="3974559">)</span><span class="op" id="3974560">,</span>&nbsp;<span class="num" id="3974562">0</span><span class="op" id="3974563">)</span><span class="op" id="3974564">;</span>&nbsp;<span class="op" id="3974566">!</span><span class="ident" id="3974567">ok</span>&nbsp;<span class="op" id="3974570">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974574">return</span>&nbsp;<span class="ident" id="3974581">fmt</span><span class="op" id="3974584">.</span><span class="ident" id="3974585">Errorf</span><span class="op" id="3974591">(</span><span class="string" id="3974592">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3974639">,</span>&nbsp;<span class="ident" id="3974641">text</span><span class="op" id="3974645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3974648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974651">return</span>&nbsp;<span class="ident" id="3974658">nil</span><br>
<span class="lineno"></span><span class="op" id="3974662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="3974665">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3974729">func</span>&nbsp;<span class="op" id="3974734">(</span><span class="ident" id="3974735">z</span>&nbsp;<span class="op" id="3974737">*</span><span class="ident" id="3974738">Int</span><span class="op" id="3974741">)</span>&nbsp;<span class="ident" id="3974743">MarshalText</span><span class="op" id="3974754">(</span><span class="op" id="3974755">)</span>&nbsp;<span class="op" id="3974757">(</span><span class="ident" id="3974758">text</span>&nbsp;<span class="op" id="3974763">[</span><span class="op" id="3974764">]</span><span class="builtintype" id="3974765">byte</span><span class="op" id="3974769">,</span>&nbsp;<span class="ident" id="3974771">err</span>&nbsp;<span class="builtintype" id="3974775">error</span><span class="op" id="3974780">)</span>&nbsp;<span class="op" id="3974782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974785">return</span>&nbsp;<span class="op" id="3974792">[</span><span class="op" id="3974793">]</span><span class="builtintype" id="3974794">byte</span><span class="op" id="3974798">(</span><span class="ident" id="3974799">z</span><span class="op" id="3974800">.</span><span class="ident" id="3974801">String</span><span class="op" id="3974807">(</span><span class="op" id="3974808">)</span><span class="op" id="3974809">)</span><span class="op" id="3974810">,</span>&nbsp;<span class="ident" id="3974812">nil</span><br>
<span class="lineno"></span><span class="op" id="3974816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="3974819">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3974887">func</span>&nbsp;<span class="op" id="3974892">(</span><span class="ident" id="3974893">z</span>&nbsp;<span class="op" id="3974895">*</span><span class="ident" id="3974896">Int</span><span class="op" id="3974899">)</span>&nbsp;<span class="ident" id="3974901">UnmarshalText</span><span class="op" id="3974914">(</span><span class="ident" id="3974915">text</span>&nbsp;<span class="op" id="3974920">[</span><span class="op" id="3974921">]</span><span class="builtintype" id="3974922">byte</span><span class="op" id="3974926">)</span>&nbsp;<span class="builtintype" id="3974928">error</span>&nbsp;<span class="op" id="3974934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974937">if</span>&nbsp;<span class="ident" id="3974940">_</span><span class="op" id="3974941">,</span>&nbsp;<span class="ident" id="3974943">ok</span>&nbsp;<span class="op" id="3974946">:=</span>&nbsp;<span class="ident" id="3974949">z</span><span class="op" id="3974950">.</span><span class="ident" id="3974951">SetString</span><span class="op" id="3974960">(</span><span class="builtintype" id="3974961">string</span><span class="op" id="3974967">(</span><span class="ident" id="3974968">text</span><span class="op" id="3974972">)</span><span class="op" id="3974973">,</span>&nbsp;<span class="num" id="3974975">0</span><span class="op" id="3974976">)</span><span class="op" id="3974977">;</span>&nbsp;<span class="op" id="3974979">!</span><span class="ident" id="3974980">ok</span>&nbsp;<span class="op" id="3974983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3974987">return</span>&nbsp;<span class="ident" id="3974994">fmt</span><span class="op" id="3974997">.</span><span class="ident" id="3974998">Errorf</span><span class="op" id="3975004">(</span><span class="string" id="3975005">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3975052">,</span>&nbsp;<span class="ident" id="3975054">text</span><span class="op" id="3975058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3975061">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3975064">return</span>&nbsp;<span class="ident" id="3975071">nil</span><br>
<span class="lineno"></span><span class="op" id="3975075">}</span>
</div>
</body>
</html>
