<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5247951">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5248007">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5248061">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5248112">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="5248150">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="5248211">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5248258">package</span>&nbsp;<span class="ident" id="5248266">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5248273">import</span>&nbsp;<span class="string" id="5248280">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5248291">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5248351">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="5248409">type</span>&nbsp;<span class="ident" id="5248414">Type</span>&nbsp;<span class="keyword" id="5248419">interface</span>&nbsp;<span class="op" id="5248429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5248432">Common</span><span class="op" id="5248438">(</span><span class="op" id="5248439">)</span>&nbsp;<span class="op" id="5248441">*</span><span class="ident" id="5248442">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5248454">String</span><span class="op" id="5248460">(</span><span class="op" id="5248461">)</span>&nbsp;<span class="builtintype" id="5248463">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5248471">Size</span><span class="op" id="5248475">(</span><span class="op" id="5248476">)</span>&nbsp;<span class="ident" id="5248478">int64</span><br>
<span class="lineno"></span><span class="op" id="5248484">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="5248487">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5248542">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="5248605">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="5248632">type</span>&nbsp;<span class="ident" id="5248637">CommonType</span>&nbsp;<span class="keyword" id="5248648">struct</span>&nbsp;<span class="op" id="5248655">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5248658">ByteSize</span>&nbsp;<span class="ident" id="5248667">int64</span>&nbsp;&nbsp;<span class="comment" id="5248674">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5248715">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5248724">string</span>&nbsp;<span class="comment" id="5248731">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="5248773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5248776">func</span>&nbsp;<span class="op" id="5248781">(</span><span class="ident" id="5248782">c</span>&nbsp;<span class="op" id="5248784">*</span><span class="ident" id="5248785">CommonType</span><span class="op" id="5248795">)</span>&nbsp;<span class="ident" id="5248797">Common</span><span class="op" id="5248803">(</span><span class="op" id="5248804">)</span>&nbsp;<span class="op" id="5248806">*</span><span class="ident" id="5248807">CommonType</span>&nbsp;<span class="op" id="5248818">{</span>&nbsp;<span class="keyword" id="5248820">return</span>&nbsp;<span class="ident" id="5248827">c</span>&nbsp;<span class="op" id="5248829">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="5248832">func</span>&nbsp;<span class="op" id="5248837">(</span><span class="ident" id="5248838">c</span>&nbsp;<span class="op" id="5248840">*</span><span class="ident" id="5248841">CommonType</span><span class="op" id="5248851">)</span>&nbsp;<span class="ident" id="5248853">Size</span><span class="op" id="5248857">(</span><span class="op" id="5248858">)</span>&nbsp;<span class="ident" id="5248860">int64</span>&nbsp;<span class="op" id="5248866">{</span>&nbsp;<span class="keyword" id="5248868">return</span>&nbsp;<span class="ident" id="5248875">c</span><span class="op" id="5248876">.</span><span class="ident" id="5248877">ByteSize</span>&nbsp;<span class="op" id="5248886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5248889">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5248905">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5248960">type</span>&nbsp;<span class="ident" id="5248965">BasicType</span>&nbsp;<span class="keyword" id="5248975">struct</span>&nbsp;<span class="op" id="5248982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5248985">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5248997">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5249007">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249014">BitOffset</span>&nbsp;<span class="ident" id="5249024">int64</span><br>
<span class="lineno">40</span><span class="op" id="5249030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5249033">func</span>&nbsp;<span class="op" id="5249038">(</span><span class="ident" id="5249039">b</span>&nbsp;<span class="op" id="5249041">*</span><span class="ident" id="5249042">BasicType</span><span class="op" id="5249051">)</span>&nbsp;<span class="ident" id="5249053">Basic</span><span class="op" id="5249058">(</span><span class="op" id="5249059">)</span>&nbsp;<span class="op" id="5249061">*</span><span class="ident" id="5249062">BasicType</span>&nbsp;<span class="op" id="5249072">{</span>&nbsp;<span class="keyword" id="5249074">return</span>&nbsp;<span class="ident" id="5249081">b</span>&nbsp;<span class="op" id="5249083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5249086">func</span>&nbsp;<span class="op" id="5249091">(</span><span class="ident" id="5249092">t</span>&nbsp;<span class="op" id="5249094">*</span><span class="ident" id="5249095">BasicType</span><span class="op" id="5249104">)</span>&nbsp;<span class="ident" id="5249106">String</span><span class="op" id="5249112">(</span><span class="op" id="5249113">)</span>&nbsp;<span class="builtintype" id="5249115">string</span>&nbsp;<span class="op" id="5249122">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5249125">if</span>&nbsp;<span class="ident" id="5249128">t</span><span class="op" id="5249129">.</span><span class="ident" id="5249130">Name</span>&nbsp;<span class="op" id="5249135">!=</span>&nbsp;<span class="string" id="5249138">&#34;&#34;</span>&nbsp;<span class="op" id="5249141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5249145">return</span>&nbsp;<span class="ident" id="5249152">t</span><span class="op" id="5249153">.</span><span class="ident" id="5249154">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5249160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5249163">return</span>&nbsp;<span class="string" id="5249170">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="5249174">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="5249177">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249227">type</span>&nbsp;<span class="ident" id="5249232">CharType</span>&nbsp;<span class="keyword" id="5249241">struct</span>&nbsp;<span class="op" id="5249248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249251">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5249261">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="5249264">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249318">type</span>&nbsp;<span class="ident" id="5249323">UcharType</span>&nbsp;<span class="keyword" id="5249333">struct</span>&nbsp;<span class="op" id="5249340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249343">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5249353">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5249356">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249404">type</span>&nbsp;<span class="ident" id="5249409">IntType</span>&nbsp;<span class="keyword" id="5249417">struct</span>&nbsp;<span class="op" id="5249424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249427">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5249437">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="5249440">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249491">type</span>&nbsp;<span class="ident" id="5249496">UintType</span>&nbsp;<span class="keyword" id="5249505">struct</span>&nbsp;<span class="op" id="5249512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249515">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5249525">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="5249528">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249577">type</span>&nbsp;<span class="ident" id="5249582">FloatType</span>&nbsp;<span class="keyword" id="5249592">struct</span>&nbsp;<span class="op" id="5249599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249602">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5249612">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="5249615">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249674">type</span>&nbsp;<span class="ident" id="5249679">ComplexType</span>&nbsp;<span class="keyword" id="5249691">struct</span>&nbsp;<span class="op" id="5249698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249701">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5249711">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="5249714">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249755">type</span>&nbsp;<span class="ident" id="5249760">BoolType</span>&nbsp;<span class="keyword" id="5249769">struct</span>&nbsp;<span class="op" id="5249776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249779">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5249789">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="5249792">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249842">type</span>&nbsp;<span class="ident" id="5249847">AddrType</span>&nbsp;<span class="keyword" id="5249856">struct</span>&nbsp;<span class="op" id="5249863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249866">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5249876">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="5249879">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5249965">type</span>&nbsp;<span class="ident" id="5249970">UnspecifiedType</span>&nbsp;<span class="keyword" id="5249986">struct</span>&nbsp;<span class="op" id="5249993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5249996">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5250006">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5250009">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5250024">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="5250121">type</span>&nbsp;<span class="ident" id="5250126">QualType</span>&nbsp;<span class="keyword" id="5250135">struct</span>&nbsp;<span class="op" id="5250142">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250145">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250157">Qual</span>&nbsp;<span class="builtintype" id="5250162">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250170">Type</span>&nbsp;<span class="ident" id="5250175">Type</span><br>
<span class="lineno"></span><span class="op" id="5250180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5250183">func</span>&nbsp;<span class="op" id="5250188">(</span><span class="ident" id="5250189">t</span>&nbsp;<span class="op" id="5250191">*</span><span class="ident" id="5250192">QualType</span><span class="op" id="5250200">)</span>&nbsp;<span class="ident" id="5250202">String</span><span class="op" id="5250208">(</span><span class="op" id="5250209">)</span>&nbsp;<span class="builtintype" id="5250211">string</span>&nbsp;<span class="op" id="5250218">{</span>&nbsp;<span class="keyword" id="5250220">return</span>&nbsp;<span class="ident" id="5250227">t</span><span class="op" id="5250228">.</span><span class="ident" id="5250229">Qual</span>&nbsp;<span class="op" id="5250234">+</span>&nbsp;<span class="string" id="5250236">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5250240">+</span>&nbsp;<span class="ident" id="5250242">t</span><span class="op" id="5250243">.</span><span class="ident" id="5250244">Type</span><span class="op" id="5250248">.</span><span class="ident" id="5250249">String</span><span class="op" id="5250255">(</span><span class="op" id="5250256">)</span>&nbsp;<span class="op" id="5250258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5250261">func</span>&nbsp;<span class="op" id="5250266">(</span><span class="ident" id="5250267">t</span>&nbsp;<span class="op" id="5250269">*</span><span class="ident" id="5250270">QualType</span><span class="op" id="5250278">)</span>&nbsp;<span class="ident" id="5250280">Size</span><span class="op" id="5250284">(</span><span class="op" id="5250285">)</span>&nbsp;<span class="ident" id="5250287">int64</span>&nbsp;<span class="op" id="5250293">{</span>&nbsp;<span class="keyword" id="5250295">return</span>&nbsp;<span class="ident" id="5250302">t</span><span class="op" id="5250303">.</span><span class="ident" id="5250304">Type</span><span class="op" id="5250308">.</span><span class="ident" id="5250309">Size</span><span class="op" id="5250313">(</span><span class="op" id="5250314">)</span>&nbsp;<span class="op" id="5250316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5250319">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="5250371">type</span>&nbsp;<span class="ident" id="5250376">ArrayType</span>&nbsp;<span class="keyword" id="5250386">struct</span>&nbsp;<span class="op" id="5250393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250396">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250408">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5250422">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250428">StrideBitSize</span>&nbsp;<span class="ident" id="5250442">int64</span>&nbsp;<span class="comment" id="5250448">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250496">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5250510">int64</span>&nbsp;<span class="comment" id="5250516">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="5250565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5250568">func</span>&nbsp;<span class="op" id="5250573">(</span><span class="ident" id="5250574">t</span>&nbsp;<span class="op" id="5250576">*</span><span class="ident" id="5250577">ArrayType</span><span class="op" id="5250586">)</span>&nbsp;<span class="ident" id="5250588">String</span><span class="op" id="5250594">(</span><span class="op" id="5250595">)</span>&nbsp;<span class="builtintype" id="5250597">string</span>&nbsp;<span class="op" id="5250604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5250607">return</span>&nbsp;<span class="string" id="5250614">&#34;[&#34;</span>&nbsp;<span class="op" id="5250618">+</span>&nbsp;<span class="ident" id="5250620">strconv</span><span class="op" id="5250627">.</span><span class="ident" id="5250628">FormatInt</span><span class="op" id="5250637">(</span><span class="ident" id="5250638">t</span><span class="op" id="5250639">.</span><span class="ident" id="5250640">Count</span><span class="op" id="5250645">,</span>&nbsp;<span class="num" id="5250647">10</span><span class="op" id="5250649">)</span>&nbsp;<span class="op" id="5250651">+</span>&nbsp;<span class="string" id="5250653">&#34;]&#34;</span>&nbsp;<span class="op" id="5250657">+</span>&nbsp;<span class="ident" id="5250659">t</span><span class="op" id="5250660">.</span><span class="ident" id="5250661">Type</span><span class="op" id="5250665">.</span><span class="ident" id="5250666">String</span><span class="op" id="5250672">(</span><span class="op" id="5250673">)</span><br>
<span class="lineno"></span><span class="op" id="5250675">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="5250678">func</span>&nbsp;<span class="op" id="5250683">(</span><span class="ident" id="5250684">t</span>&nbsp;<span class="op" id="5250686">*</span><span class="ident" id="5250687">ArrayType</span><span class="op" id="5250696">)</span>&nbsp;<span class="ident" id="5250698">Size</span><span class="op" id="5250702">(</span><span class="op" id="5250703">)</span>&nbsp;<span class="ident" id="5250705">int64</span>&nbsp;<span class="op" id="5250711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5250714">if</span>&nbsp;<span class="ident" id="5250717">t</span><span class="op" id="5250718">.</span><span class="ident" id="5250719">Count</span>&nbsp;<span class="op" id="5250725">==</span>&nbsp;<span class="op" id="5250728">-</span><span class="num" id="5250729">1</span>&nbsp;<span class="op" id="5250731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5250735">return</span>&nbsp;<span class="num" id="5250742">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5250745">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5250748">return</span>&nbsp;<span class="ident" id="5250755">t</span><span class="op" id="5250756">.</span><span class="ident" id="5250757">Count</span>&nbsp;<span class="op" id="5250763">*</span>&nbsp;<span class="ident" id="5250765">t</span><span class="op" id="5250766">.</span><span class="ident" id="5250767">Type</span><span class="op" id="5250771">.</span><span class="ident" id="5250772">Size</span><span class="op" id="5250776">(</span><span class="op" id="5250777">)</span><br>
<span class="lineno"></span><span class="op" id="5250779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5250782">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5250824">type</span>&nbsp;<span class="ident" id="5250829">VoidType</span>&nbsp;<span class="keyword" id="5250838">struct</span>&nbsp;<span class="op" id="5250845">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250848">CommonType</span><br>
<span class="lineno"></span><span class="op" id="5250859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5250862">func</span>&nbsp;<span class="op" id="5250867">(</span><span class="ident" id="5250868">t</span>&nbsp;<span class="op" id="5250870">*</span><span class="ident" id="5250871">VoidType</span><span class="op" id="5250879">)</span>&nbsp;<span class="ident" id="5250881">String</span><span class="op" id="5250887">(</span><span class="op" id="5250888">)</span>&nbsp;<span class="builtintype" id="5250890">string</span>&nbsp;<span class="op" id="5250897">{</span>&nbsp;<span class="keyword" id="5250899">return</span>&nbsp;<span class="string" id="5250906">&#34;void&#34;</span>&nbsp;<span class="op" id="5250913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="5250916">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5250956">type</span>&nbsp;<span class="ident" id="5250961">PtrType</span>&nbsp;<span class="keyword" id="5250969">struct</span>&nbsp;<span class="op" id="5250976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250979">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5250991">Type</span>&nbsp;<span class="ident" id="5250996">Type</span><br>
<span class="lineno"></span><span class="op" id="5251001">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="5251004">func</span>&nbsp;<span class="op" id="5251009">(</span><span class="ident" id="5251010">t</span>&nbsp;<span class="op" id="5251012">*</span><span class="ident" id="5251013">PtrType</span><span class="op" id="5251020">)</span>&nbsp;<span class="ident" id="5251022">String</span><span class="op" id="5251028">(</span><span class="op" id="5251029">)</span>&nbsp;<span class="builtintype" id="5251031">string</span>&nbsp;<span class="op" id="5251038">{</span>&nbsp;<span class="keyword" id="5251040">return</span>&nbsp;<span class="string" id="5251047">&#34;*&#34;</span>&nbsp;<span class="op" id="5251051">+</span>&nbsp;<span class="ident" id="5251053">t</span><span class="op" id="5251054">.</span><span class="ident" id="5251055">Type</span><span class="op" id="5251059">.</span><span class="ident" id="5251060">String</span><span class="op" id="5251066">(</span><span class="op" id="5251067">)</span>&nbsp;<span class="op" id="5251069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5251072">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5251135">type</span>&nbsp;<span class="ident" id="5251140">StructType</span>&nbsp;<span class="keyword" id="5251151">struct</span>&nbsp;<span class="op" id="5251158">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251161">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251173">StructName</span>&nbsp;<span class="builtintype" id="5251184">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251192">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5251203">string</span>&nbsp;<span class="comment" id="5251210">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251245">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5251256">[</span><span class="op" id="5251257">]</span><span class="op" id="5251258">*</span><span class="ident" id="5251259">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251272">Incomplete</span>&nbsp;<span class="builtintype" id="5251283">bool</span>&nbsp;<span class="comment" id="5251288">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="5251349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5251352">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5251427">type</span>&nbsp;<span class="ident" id="5251432">StructField</span>&nbsp;<span class="keyword" id="5251444">struct</span>&nbsp;<span class="op" id="5251451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251454">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5251465">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251473">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5251484">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251490">ByteOffset</span>&nbsp;<span class="ident" id="5251501">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251508">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5251519">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251526">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="5251537">int64</span>&nbsp;<span class="comment" id="5251543">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251587">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5251598">int64</span>&nbsp;<span class="comment" id="5251604">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="5251631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5251634">func</span>&nbsp;<span class="op" id="5251639">(</span><span class="ident" id="5251640">t</span>&nbsp;<span class="op" id="5251642">*</span><span class="ident" id="5251643">StructType</span><span class="op" id="5251653">)</span>&nbsp;<span class="ident" id="5251655">String</span><span class="op" id="5251661">(</span><span class="op" id="5251662">)</span>&nbsp;<span class="builtintype" id="5251664">string</span>&nbsp;<span class="op" id="5251671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5251674">if</span>&nbsp;<span class="ident" id="5251677">t</span><span class="op" id="5251678">.</span><span class="ident" id="5251679">StructName</span>&nbsp;<span class="op" id="5251690">!=</span>&nbsp;<span class="string" id="5251693">&#34;&#34;</span>&nbsp;<span class="op" id="5251696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5251700">return</span>&nbsp;<span class="ident" id="5251707">t</span><span class="op" id="5251708">.</span><span class="ident" id="5251709">Kind</span>&nbsp;<span class="op" id="5251714">+</span>&nbsp;<span class="string" id="5251716">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5251720">+</span>&nbsp;<span class="ident" id="5251722">t</span><span class="op" id="5251723">.</span><span class="ident" id="5251724">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5251736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5251739">return</span>&nbsp;<span class="ident" id="5251746">t</span><span class="op" id="5251747">.</span><span class="ident" id="5251748">Defn</span><span class="op" id="5251752">(</span><span class="op" id="5251753">)</span><br>
<span class="lineno"></span><span class="op" id="5251755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5251758">func</span>&nbsp;<span class="op" id="5251763">(</span><span class="ident" id="5251764">t</span>&nbsp;<span class="op" id="5251766">*</span><span class="ident" id="5251767">StructType</span><span class="op" id="5251777">)</span>&nbsp;<span class="ident" id="5251779">Defn</span><span class="op" id="5251783">(</span><span class="op" id="5251784">)</span>&nbsp;<span class="builtintype" id="5251786">string</span>&nbsp;<span class="op" id="5251793">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251796">s</span>&nbsp;<span class="op" id="5251798">:=</span>&nbsp;<span class="ident" id="5251801">t</span><span class="op" id="5251802">.</span><span class="ident" id="5251803">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5251809">if</span>&nbsp;<span class="ident" id="5251812">t</span><span class="op" id="5251813">.</span><span class="ident" id="5251814">StructName</span>&nbsp;<span class="op" id="5251825">!=</span>&nbsp;<span class="string" id="5251828">&#34;&#34;</span>&nbsp;<span class="op" id="5251831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251835">s</span>&nbsp;<span class="op" id="5251837">+=</span>&nbsp;<span class="string" id="5251840">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5251844">+</span>&nbsp;<span class="ident" id="5251846">t</span><span class="op" id="5251847">.</span><span class="ident" id="5251848">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5251860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5251863">if</span>&nbsp;<span class="ident" id="5251866">t</span><span class="op" id="5251867">.</span><span class="ident" id="5251868">Incomplete</span>&nbsp;<span class="op" id="5251879">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251883">s</span>&nbsp;<span class="op" id="5251885">+=</span>&nbsp;<span class="string" id="5251888">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5251908">return</span>&nbsp;<span class="ident" id="5251915">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5251918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251921">s</span>&nbsp;<span class="op" id="5251923">+=</span>&nbsp;<span class="string" id="5251926">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5251932">for</span>&nbsp;<span class="ident" id="5251936">i</span><span class="op" id="5251937">,</span>&nbsp;<span class="ident" id="5251939">f</span>&nbsp;<span class="op" id="5251941">:=</span>&nbsp;<span class="keyword" id="5251944">range</span>&nbsp;<span class="ident" id="5251950">t</span><span class="op" id="5251951">.</span><span class="ident" id="5251952">Field</span>&nbsp;<span class="op" id="5251958">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5251962">if</span>&nbsp;<span class="ident" id="5251965">i</span>&nbsp;<span class="op" id="5251967">&gt;</span>&nbsp;<span class="num" id="5251969">0</span>&nbsp;<span class="op" id="5251971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251976">s</span>&nbsp;<span class="op" id="5251978">+=</span>&nbsp;<span class="string" id="5251981">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5251988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5251992">s</span>&nbsp;<span class="op" id="5251994">+=</span>&nbsp;<span class="ident" id="5251997">f</span><span class="op" id="5251998">.</span><span class="ident" id="5251999">Name</span>&nbsp;<span class="op" id="5252004">+</span>&nbsp;<span class="string" id="5252006">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5252010">+</span>&nbsp;<span class="ident" id="5252012">f</span><span class="op" id="5252013">.</span><span class="ident" id="5252014">Type</span><span class="op" id="5252018">.</span><span class="ident" id="5252019">String</span><span class="op" id="5252025">(</span><span class="op" id="5252026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252030">s</span>&nbsp;<span class="op" id="5252032">+=</span>&nbsp;<span class="string" id="5252035">&#34;@&#34;</span>&nbsp;<span class="op" id="5252039">+</span>&nbsp;<span class="ident" id="5252041">strconv</span><span class="op" id="5252048">.</span><span class="ident" id="5252049">FormatInt</span><span class="op" id="5252058">(</span><span class="ident" id="5252059">f</span><span class="op" id="5252060">.</span><span class="ident" id="5252061">ByteOffset</span><span class="op" id="5252071">,</span>&nbsp;<span class="num" id="5252073">10</span><span class="op" id="5252075">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5252079">if</span>&nbsp;<span class="ident" id="5252082">f</span><span class="op" id="5252083">.</span><span class="ident" id="5252084">BitSize</span>&nbsp;<span class="op" id="5252092">&gt;</span>&nbsp;<span class="num" id="5252094">0</span>&nbsp;<span class="op" id="5252096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252101">s</span>&nbsp;<span class="op" id="5252103">+=</span>&nbsp;<span class="string" id="5252106">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="5252112">+</span>&nbsp;<span class="ident" id="5252114">strconv</span><span class="op" id="5252121">.</span><span class="ident" id="5252122">FormatInt</span><span class="op" id="5252131">(</span><span class="ident" id="5252132">f</span><span class="op" id="5252133">.</span><span class="ident" id="5252134">BitSize</span><span class="op" id="5252141">,</span>&nbsp;<span class="num" id="5252143">10</span><span class="op" id="5252145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252150">s</span>&nbsp;<span class="op" id="5252152">+=</span>&nbsp;<span class="string" id="5252155">&#34;@&#34;</span>&nbsp;<span class="op" id="5252159">+</span>&nbsp;<span class="ident" id="5252161">strconv</span><span class="op" id="5252168">.</span><span class="ident" id="5252169">FormatInt</span><span class="op" id="5252178">(</span><span class="ident" id="5252179">f</span><span class="op" id="5252180">.</span><span class="ident" id="5252181">BitOffset</span><span class="op" id="5252190">,</span>&nbsp;<span class="num" id="5252192">10</span><span class="op" id="5252194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5252198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5252201">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252204">s</span>&nbsp;<span class="op" id="5252206">+=</span>&nbsp;<span class="string" id="5252209">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5252214">return</span>&nbsp;<span class="ident" id="5252221">s</span><br>
<span class="lineno"></span><span class="op" id="5252223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5252226">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="5252272">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="5252338">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="5252362">type</span>&nbsp;<span class="ident" id="5252367">EnumType</span>&nbsp;<span class="keyword" id="5252376">struct</span>&nbsp;<span class="op" id="5252383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252386">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252398">EnumName</span>&nbsp;<span class="builtintype" id="5252407">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252415">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5252424">[</span><span class="op" id="5252425">]</span><span class="op" id="5252426">*</span><span class="ident" id="5252427">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="5252437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5252440">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5252495">type</span>&nbsp;<span class="ident" id="5252500">EnumValue</span>&nbsp;<span class="keyword" id="5252510">struct</span>&nbsp;<span class="op" id="5252517">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252520">Name</span>&nbsp;<span class="builtintype" id="5252525">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252533">Val</span>&nbsp;&nbsp;<span class="ident" id="5252538">int64</span><br>
<span class="lineno"></span><span class="op" id="5252544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5252547">func</span>&nbsp;<span class="op" id="5252552">(</span><span class="ident" id="5252553">t</span>&nbsp;<span class="op" id="5252555">*</span><span class="ident" id="5252556">EnumType</span><span class="op" id="5252564">)</span>&nbsp;<span class="ident" id="5252566">String</span><span class="op" id="5252572">(</span><span class="op" id="5252573">)</span>&nbsp;<span class="builtintype" id="5252575">string</span>&nbsp;<span class="op" id="5252582">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252585">s</span>&nbsp;<span class="op" id="5252587">:=</span>&nbsp;<span class="string" id="5252590">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5252598">if</span>&nbsp;<span class="ident" id="5252601">t</span><span class="op" id="5252602">.</span><span class="ident" id="5252603">EnumName</span>&nbsp;<span class="op" id="5252612">!=</span>&nbsp;<span class="string" id="5252615">&#34;&#34;</span>&nbsp;<span class="op" id="5252618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252622">s</span>&nbsp;<span class="op" id="5252624">+=</span>&nbsp;<span class="string" id="5252627">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5252631">+</span>&nbsp;<span class="ident" id="5252633">t</span><span class="op" id="5252634">.</span><span class="ident" id="5252635">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5252645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252648">s</span>&nbsp;<span class="op" id="5252650">+=</span>&nbsp;<span class="string" id="5252653">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5252659">for</span>&nbsp;<span class="ident" id="5252663">i</span><span class="op" id="5252664">,</span>&nbsp;<span class="ident" id="5252666">v</span>&nbsp;<span class="op" id="5252668">:=</span>&nbsp;<span class="keyword" id="5252671">range</span>&nbsp;<span class="ident" id="5252677">t</span><span class="op" id="5252678">.</span><span class="ident" id="5252679">Val</span>&nbsp;<span class="op" id="5252683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5252687">if</span>&nbsp;<span class="ident" id="5252690">i</span>&nbsp;<span class="op" id="5252692">&gt;</span>&nbsp;<span class="num" id="5252694">0</span>&nbsp;<span class="op" id="5252696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252701">s</span>&nbsp;<span class="op" id="5252703">+=</span>&nbsp;<span class="string" id="5252706">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5252713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252717">s</span>&nbsp;<span class="op" id="5252719">+=</span>&nbsp;<span class="ident" id="5252722">v</span><span class="op" id="5252723">.</span><span class="ident" id="5252724">Name</span>&nbsp;<span class="op" id="5252729">+</span>&nbsp;<span class="string" id="5252731">&#34;=&#34;</span>&nbsp;<span class="op" id="5252735">+</span>&nbsp;<span class="ident" id="5252737">strconv</span><span class="op" id="5252744">.</span><span class="ident" id="5252745">FormatInt</span><span class="op" id="5252754">(</span><span class="ident" id="5252755">v</span><span class="op" id="5252756">.</span><span class="ident" id="5252757">Val</span><span class="op" id="5252760">,</span>&nbsp;<span class="num" id="5252762">10</span><span class="op" id="5252764">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5252767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252770">s</span>&nbsp;<span class="op" id="5252772">+=</span>&nbsp;<span class="string" id="5252775">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5252780">return</span>&nbsp;<span class="ident" id="5252787">s</span><br>
<span class="lineno"></span><span class="op" id="5252789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="5252792">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5252834">type</span>&nbsp;<span class="ident" id="5252839">FuncType</span>&nbsp;<span class="keyword" id="5252848">struct</span>&nbsp;<span class="op" id="5252855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252858">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252870">ReturnType</span>&nbsp;<span class="ident" id="5252881">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252887">ParamType</span>&nbsp;&nbsp;<span class="op" id="5252898">[</span><span class="op" id="5252899">]</span><span class="ident" id="5252900">Type</span><br>
<span class="lineno">230</span><span class="op" id="5252905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5252908">func</span>&nbsp;<span class="op" id="5252913">(</span><span class="ident" id="5252914">t</span>&nbsp;<span class="op" id="5252916">*</span><span class="ident" id="5252917">FuncType</span><span class="op" id="5252925">)</span>&nbsp;<span class="ident" id="5252927">String</span><span class="op" id="5252933">(</span><span class="op" id="5252934">)</span>&nbsp;<span class="builtintype" id="5252936">string</span>&nbsp;<span class="op" id="5252943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5252946">s</span>&nbsp;<span class="op" id="5252948">:=</span>&nbsp;<span class="string" id="5252951">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5252960">for</span>&nbsp;<span class="ident" id="5252964">i</span><span class="op" id="5252965">,</span>&nbsp;<span class="ident" id="5252967">t</span>&nbsp;<span class="op" id="5252969">:=</span>&nbsp;<span class="keyword" id="5252972">range</span>&nbsp;<span class="ident" id="5252978">t</span><span class="op" id="5252979">.</span><span class="ident" id="5252980">ParamType</span>&nbsp;<span class="op" id="5252990">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5252994">if</span>&nbsp;<span class="ident" id="5252997">i</span>&nbsp;<span class="op" id="5252999">&gt;</span>&nbsp;<span class="num" id="5253001">0</span>&nbsp;<span class="op" id="5253003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253008">s</span>&nbsp;<span class="op" id="5253010">+=</span>&nbsp;<span class="string" id="5253013">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5253020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253024">s</span>&nbsp;<span class="op" id="5253026">+=</span>&nbsp;<span class="ident" id="5253029">t</span><span class="op" id="5253030">.</span><span class="ident" id="5253031">String</span><span class="op" id="5253037">(</span><span class="op" id="5253038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5253041">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253044">s</span>&nbsp;<span class="op" id="5253046">+=</span>&nbsp;<span class="string" id="5253049">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5253054">if</span>&nbsp;<span class="ident" id="5253057">t</span><span class="op" id="5253058">.</span><span class="ident" id="5253059">ReturnType</span>&nbsp;<span class="op" id="5253070">!=</span>&nbsp;<span class="ident" id="5253073">nil</span>&nbsp;<span class="op" id="5253077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253081">s</span>&nbsp;<span class="op" id="5253083">+=</span>&nbsp;<span class="string" id="5253086">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5253090">+</span>&nbsp;<span class="ident" id="5253092">t</span><span class="op" id="5253093">.</span><span class="ident" id="5253094">ReturnType</span><span class="op" id="5253104">.</span><span class="ident" id="5253105">String</span><span class="op" id="5253111">(</span><span class="op" id="5253112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5253115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5253118">return</span>&nbsp;<span class="ident" id="5253125">s</span><br>
<span class="lineno">245</span><span class="op" id="5253127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5253130">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="5253197">type</span>&nbsp;<span class="ident" id="5253202">DotDotDotType</span>&nbsp;<span class="keyword" id="5253216">struct</span>&nbsp;<span class="op" id="5253223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253226">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="5253237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5253240">func</span>&nbsp;<span class="op" id="5253245">(</span><span class="ident" id="5253246">t</span>&nbsp;<span class="op" id="5253248">*</span><span class="ident" id="5253249">DotDotDotType</span><span class="op" id="5253262">)</span>&nbsp;<span class="ident" id="5253264">String</span><span class="op" id="5253270">(</span><span class="op" id="5253271">)</span>&nbsp;<span class="builtintype" id="5253273">string</span>&nbsp;<span class="op" id="5253280">{</span>&nbsp;<span class="keyword" id="5253282">return</span>&nbsp;<span class="string" id="5253289">&#34;...&#34;</span>&nbsp;<span class="op" id="5253295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5253298">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="5253340">type</span>&nbsp;<span class="ident" id="5253345">TypedefType</span>&nbsp;<span class="keyword" id="5253357">struct</span>&nbsp;<span class="op" id="5253364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253367">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253379">Type</span>&nbsp;<span class="ident" id="5253384">Type</span><br>
<span class="lineno"></span><span class="op" id="5253389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="5253392">func</span>&nbsp;<span class="op" id="5253397">(</span><span class="ident" id="5253398">t</span>&nbsp;<span class="op" id="5253400">*</span><span class="ident" id="5253401">TypedefType</span><span class="op" id="5253412">)</span>&nbsp;<span class="ident" id="5253414">String</span><span class="op" id="5253420">(</span><span class="op" id="5253421">)</span>&nbsp;<span class="builtintype" id="5253423">string</span>&nbsp;<span class="op" id="5253430">{</span>&nbsp;<span class="keyword" id="5253432">return</span>&nbsp;<span class="ident" id="5253439">t</span><span class="op" id="5253440">.</span><span class="ident" id="5253441">Name</span>&nbsp;<span class="op" id="5253446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5253449">func</span>&nbsp;<span class="op" id="5253454">(</span><span class="ident" id="5253455">t</span>&nbsp;<span class="op" id="5253457">*</span><span class="ident" id="5253458">TypedefType</span><span class="op" id="5253469">)</span>&nbsp;<span class="ident" id="5253471">Size</span><span class="op" id="5253475">(</span><span class="op" id="5253476">)</span>&nbsp;<span class="ident" id="5253478">int64</span>&nbsp;<span class="op" id="5253484">{</span>&nbsp;<span class="keyword" id="5253486">return</span>&nbsp;<span class="ident" id="5253493">t</span><span class="op" id="5253494">.</span><span class="ident" id="5253495">Type</span><span class="op" id="5253499">.</span><span class="ident" id="5253500">Size</span><span class="op" id="5253504">(</span><span class="op" id="5253505">)</span>&nbsp;<span class="op" id="5253507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5253510">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="5253576">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5253594">type</span>&nbsp;<span class="ident" id="5253599">typeReader</span>&nbsp;<span class="keyword" id="5253610">interface</span>&nbsp;<span class="op" id="5253620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253623">Seek</span><span class="op" id="5253627">(</span><span class="ident" id="5253628">Offset</span><span class="op" id="5253634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253637">Next</span><span class="op" id="5253641">(</span><span class="op" id="5253642">)</span>&nbsp;<span class="op" id="5253644">(</span><span class="op" id="5253645">*</span><span class="ident" id="5253646">Entry</span><span class="op" id="5253651">,</span>&nbsp;<span class="builtintype" id="5253653">error</span><span class="op" id="5253658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253661">clone</span><span class="op" id="5253666">(</span><span class="op" id="5253667">)</span>&nbsp;<span class="ident" id="5253669">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5253681">offset</span><span class="op" id="5253687">(</span><span class="op" id="5253688">)</span>&nbsp;<span class="ident" id="5253690">Offset</span><br>
<span class="lineno"></span><span class="op" id="5253697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5253700">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5253761">func</span>&nbsp;<span class="op" id="5253766">(</span><span class="ident" id="5253767">d</span>&nbsp;<span class="op" id="5253769">*</span><span class="ident" id="5253770">Data</span><span class="op" id="5253774">)</span>&nbsp;<span class="ident" id="5253776">Type</span><span class="op" id="5253780">(</span><span class="ident" id="5253781">off</span>&nbsp;<span class="ident" id="5253785">Offset</span><span class="op" id="5253791">)</span>&nbsp;<span class="op" id="5253793">(</span><span class="ident" id="5253794">Type</span><span class="op" id="5253798">,</span>&nbsp;<span class="builtintype" id="5253800">error</span><span class="op" id="5253805">)</span>&nbsp;<span class="op" id="5253807">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5253810">return</span>&nbsp;<span class="ident" id="5253817">d</span><span class="op" id="5253818">.</span><span class="ident" id="5253819">readType</span><span class="op" id="5253827">(</span><span class="string" id="5253828">&#34;info&#34;</span><span class="op" id="5253834">,</span>&nbsp;<span class="ident" id="5253836">d</span><span class="op" id="5253837">.</span><span class="ident" id="5253838">Reader</span><span class="op" id="5253844">(</span><span class="op" id="5253845">)</span><span class="op" id="5253846">,</span>&nbsp;<span class="ident" id="5253848">off</span><span class="op" id="5253851">,</span>&nbsp;<span class="ident" id="5253853">d</span><span class="op" id="5253854">.</span><span class="ident" id="5253855">typeCache</span><span class="op" id="5253864">)</span><br>
<span class="lineno"></span><span class="op" id="5253866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5253869">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5253937">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="5253952">func</span>&nbsp;<span class="op" id="5253957">(</span><span class="ident" id="5253958">d</span>&nbsp;<span class="op" id="5253960">*</span><span class="ident" id="5253961">Data</span><span class="op" id="5253965">)</span>&nbsp;<span class="ident" id="5253967">readType</span><span class="op" id="5253975">(</span><span class="ident" id="5253976">name</span>&nbsp;<span class="builtintype" id="5253981">string</span><span class="op" id="5253987">,</span>&nbsp;<span class="ident" id="5253989">r</span>&nbsp;<span class="ident" id="5253991">typeReader</span><span class="op" id="5254001">,</span>&nbsp;<span class="ident" id="5254003">off</span>&nbsp;<span class="ident" id="5254007">Offset</span><span class="op" id="5254013">,</span>&nbsp;<span class="ident" id="5254015">typeCache</span>&nbsp;<span class="keyword" id="5254025">map</span><span class="op" id="5254028">[</span><span class="ident" id="5254029">Offset</span><span class="op" id="5254035">]</span><span class="ident" id="5254036">Type</span><span class="op" id="5254040">)</span>&nbsp;<span class="op" id="5254042">(</span><span class="ident" id="5254043">Type</span><span class="op" id="5254047">,</span>&nbsp;<span class="builtintype" id="5254049">error</span><span class="op" id="5254054">)</span>&nbsp;<span class="op" id="5254056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254059">if</span>&nbsp;<span class="ident" id="5254062">t</span><span class="op" id="5254063">,</span>&nbsp;<span class="ident" id="5254065">ok</span>&nbsp;<span class="op" id="5254068">:=</span>&nbsp;<span class="ident" id="5254071">typeCache</span><span class="op" id="5254080">[</span><span class="ident" id="5254081">off</span><span class="op" id="5254084">]</span><span class="op" id="5254085">;</span>&nbsp;<span class="ident" id="5254087">ok</span>&nbsp;<span class="op" id="5254090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254094">return</span>&nbsp;<span class="ident" id="5254101">t</span><span class="op" id="5254102">,</span>&nbsp;<span class="ident" id="5254104">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5254109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5254112">r</span><span class="op" id="5254113">.</span><span class="ident" id="5254114">Seek</span><span class="op" id="5254118">(</span><span class="ident" id="5254119">off</span><span class="op" id="5254122">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5254125">e</span><span class="op" id="5254126">,</span>&nbsp;<span class="ident" id="5254128">err</span>&nbsp;<span class="op" id="5254132">:=</span>&nbsp;<span class="ident" id="5254135">r</span><span class="op" id="5254136">.</span><span class="ident" id="5254137">Next</span><span class="op" id="5254141">(</span><span class="op" id="5254142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254145">if</span>&nbsp;<span class="ident" id="5254148">err</span>&nbsp;<span class="op" id="5254152">!=</span>&nbsp;<span class="ident" id="5254155">nil</span>&nbsp;<span class="op" id="5254159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254163">return</span>&nbsp;<span class="ident" id="5254170">nil</span><span class="op" id="5254173">,</span>&nbsp;<span class="ident" id="5254175">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5254180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254183">if</span>&nbsp;<span class="ident" id="5254186">e</span>&nbsp;<span class="op" id="5254188">==</span>&nbsp;<span class="ident" id="5254191">nil</span>&nbsp;<span class="op" id="5254195">||</span>&nbsp;<span class="ident" id="5254198">e</span><span class="op" id="5254199">.</span><span class="ident" id="5254200">Offset</span>&nbsp;<span class="op" id="5254207">!=</span>&nbsp;<span class="ident" id="5254210">off</span>&nbsp;<span class="op" id="5254214">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254218">return</span>&nbsp;<span class="ident" id="5254225">nil</span><span class="op" id="5254228">,</span>&nbsp;<span class="ident" id="5254230">DecodeError</span><span class="op" id="5254241">{</span><span class="ident" id="5254242">name</span><span class="op" id="5254246">,</span>&nbsp;<span class="ident" id="5254248">off</span><span class="op" id="5254251">,</span>&nbsp;<span class="string" id="5254253">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="5254272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5254275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254279">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254306">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254356">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254416">var</span>&nbsp;<span class="ident" id="5254420">typ</span>&nbsp;<span class="ident" id="5254424">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5254431">nextDepth</span>&nbsp;<span class="op" id="5254441">:=</span>&nbsp;<span class="num" id="5254444">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254448">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5254494">next</span>&nbsp;<span class="op" id="5254499">:=</span>&nbsp;<span class="keyword" id="5254502">func</span><span class="op" id="5254506">(</span><span class="op" id="5254507">)</span>&nbsp;<span class="op" id="5254509">*</span><span class="ident" id="5254510">Entry</span>&nbsp;<span class="op" id="5254516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254520">if</span>&nbsp;<span class="op" id="5254523">!</span><span class="ident" id="5254524">e</span><span class="op" id="5254525">.</span><span class="ident" id="5254526">Children</span>&nbsp;<span class="op" id="5254535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254540">return</span>&nbsp;<span class="ident" id="5254547">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5254553">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254557">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254591">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254649">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254711">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5254746">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254778">for</span>&nbsp;<span class="op" id="5254782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5254787">kid</span><span class="op" id="5254790">,</span>&nbsp;<span class="ident" id="5254792">err1</span>&nbsp;<span class="op" id="5254797">:=</span>&nbsp;<span class="ident" id="5254800">r</span><span class="op" id="5254801">.</span><span class="ident" id="5254802">Next</span><span class="op" id="5254806">(</span><span class="op" id="5254807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254812">if</span>&nbsp;<span class="ident" id="5254815">err1</span>&nbsp;<span class="op" id="5254820">!=</span>&nbsp;<span class="ident" id="5254823">nil</span>&nbsp;<span class="op" id="5254827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5254833">err</span>&nbsp;<span class="op" id="5254837">=</span>&nbsp;<span class="ident" id="5254839">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254848">return</span>&nbsp;<span class="ident" id="5254855">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5254862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254867">if</span>&nbsp;<span class="ident" id="5254870">kid</span>&nbsp;<span class="op" id="5254874">==</span>&nbsp;<span class="ident" id="5254877">nil</span>&nbsp;<span class="op" id="5254881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5254887">err</span>&nbsp;<span class="op" id="5254891">=</span>&nbsp;<span class="ident" id="5254893">DecodeError</span><span class="op" id="5254904">{</span><span class="ident" id="5254905">name</span><span class="op" id="5254909">,</span>&nbsp;<span class="ident" id="5254911">r</span><span class="op" id="5254912">.</span><span class="ident" id="5254913">offset</span><span class="op" id="5254919">(</span><span class="op" id="5254920">)</span><span class="op" id="5254921">,</span>&nbsp;<span class="string" id="5254923">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="5254956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254962">return</span>&nbsp;<span class="ident" id="5254969">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5254976">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5254981">if</span>&nbsp;<span class="ident" id="5254984">kid</span><span class="op" id="5254987">.</span><span class="ident" id="5254988">Tag</span>&nbsp;<span class="op" id="5254992">==</span>&nbsp;<span class="num" id="5254995">0</span>&nbsp;<span class="op" id="5254997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255003">if</span>&nbsp;<span class="ident" id="5255006">nextDepth</span>&nbsp;<span class="op" id="5255016">&gt;</span>&nbsp;<span class="num" id="5255018">0</span>&nbsp;<span class="op" id="5255020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5255027">nextDepth</span><span class="op" id="5255036">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255044">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255057">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255063">return</span>&nbsp;<span class="ident" id="5255070">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255082">if</span>&nbsp;<span class="ident" id="5255085">kid</span><span class="op" id="5255088">.</span><span class="ident" id="5255089">Children</span>&nbsp;<span class="op" id="5255098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5255104">nextDepth</span><span class="op" id="5255113">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255119">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255124">if</span>&nbsp;<span class="ident" id="5255127">nextDepth</span>&nbsp;<span class="op" id="5255137">&gt;</span>&nbsp;<span class="num" id="5255139">0</span>&nbsp;<span class="op" id="5255141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255147">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255164">return</span>&nbsp;<span class="ident" id="5255171">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255177">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255184">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255236">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5255298">typeOf</span>&nbsp;<span class="op" id="5255305">:=</span>&nbsp;<span class="keyword" id="5255308">func</span><span class="op" id="5255312">(</span><span class="ident" id="5255313">e</span>&nbsp;<span class="op" id="5255315">*</span><span class="ident" id="5255316">Entry</span><span class="op" id="5255321">)</span>&nbsp;<span class="ident" id="5255323">Type</span>&nbsp;<span class="op" id="5255328">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5255332">tval</span>&nbsp;<span class="op" id="5255337">:=</span>&nbsp;<span class="ident" id="5255340">e</span><span class="op" id="5255341">.</span><span class="ident" id="5255342">Val</span><span class="op" id="5255345">(</span><span class="ident" id="5255346">AttrType</span><span class="op" id="5255354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255358">var</span>&nbsp;<span class="ident" id="5255362">t</span>&nbsp;<span class="ident" id="5255364">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255371">switch</span>&nbsp;<span class="ident" id="5255378">toff</span>&nbsp;<span class="op" id="5255383">:=</span>&nbsp;<span class="ident" id="5255386">tval</span><span class="op" id="5255390">.</span><span class="op" id="5255391">(</span><span class="keyword" id="5255392">type</span><span class="op" id="5255396">)</span>&nbsp;<span class="op" id="5255398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255402">case</span>&nbsp;<span class="ident" id="5255407">Offset</span><span class="op" id="5255413">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255418">if</span>&nbsp;<span class="ident" id="5255421">t</span><span class="op" id="5255422">,</span>&nbsp;<span class="ident" id="5255424">err</span>&nbsp;<span class="op" id="5255428">=</span>&nbsp;<span class="ident" id="5255430">d</span><span class="op" id="5255431">.</span><span class="ident" id="5255432">readType</span><span class="op" id="5255440">(</span><span class="ident" id="5255441">name</span><span class="op" id="5255445">,</span>&nbsp;<span class="ident" id="5255447">r</span><span class="op" id="5255448">.</span><span class="ident" id="5255449">clone</span><span class="op" id="5255454">(</span><span class="op" id="5255455">)</span><span class="op" id="5255456">,</span>&nbsp;<span class="ident" id="5255458">toff</span><span class="op" id="5255462">,</span>&nbsp;<span class="ident" id="5255464">typeCache</span><span class="op" id="5255473">)</span><span class="op" id="5255474">;</span>&nbsp;<span class="ident" id="5255476">err</span>&nbsp;<span class="op" id="5255480">!=</span>&nbsp;<span class="ident" id="5255483">nil</span>&nbsp;<span class="op" id="5255487">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255493">return</span>&nbsp;<span class="ident" id="5255500">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255511">case</span>&nbsp;<span class="ident" id="5255516">uint64</span><span class="op" id="5255522">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255527">if</span>&nbsp;<span class="ident" id="5255530">t</span><span class="op" id="5255531">,</span>&nbsp;<span class="ident" id="5255533">err</span>&nbsp;<span class="op" id="5255537">=</span>&nbsp;<span class="ident" id="5255539">d</span><span class="op" id="5255540">.</span><span class="ident" id="5255541">sigToType</span><span class="op" id="5255550">(</span><span class="ident" id="5255551">toff</span><span class="op" id="5255555">)</span><span class="op" id="5255556">;</span>&nbsp;<span class="ident" id="5255558">err</span>&nbsp;<span class="op" id="5255562">!=</span>&nbsp;<span class="ident" id="5255565">nil</span>&nbsp;<span class="op" id="5255569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255575">return</span>&nbsp;<span class="ident" id="5255582">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255593">default</span><span class="op" id="5255600">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255605">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255649">return</span>&nbsp;<span class="builtinfunc" id="5255656">new</span><span class="op" id="5255659">(</span><span class="ident" id="5255660">VoidType</span><span class="op" id="5255668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255672">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255676">return</span>&nbsp;<span class="ident" id="5255683">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5255686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255690">switch</span>&nbsp;<span class="ident" id="5255697">e</span><span class="op" id="5255698">.</span><span class="ident" id="5255699">Tag</span>&nbsp;<span class="op" id="5255703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5255706">case</span>&nbsp;<span class="ident" id="5255711">TagArrayType</span><span class="op" id="5255723">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255727">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255775">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255792">//&nbsp;&nbsp;&nbsp;&nbspAttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255825">//&nbsp;&nbsp;&nbsp;&nbspAttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255888">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255928">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5255943">//&nbsp;&nbsp;&nbsp;&nbspTagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5256008">//&nbsp;&nbsp;&nbsp;&nbspdimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256052">t</span>&nbsp;<span class="op" id="5256054">:=</span>&nbsp;<span class="builtinfunc" id="5256057">new</span><span class="op" id="5256060">(</span><span class="ident" id="5256061">ArrayType</span><span class="op" id="5256070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256074">typ</span>&nbsp;<span class="op" id="5256078">=</span>&nbsp;<span class="ident" id="5256080">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256084">typeCache</span><span class="op" id="5256093">[</span><span class="ident" id="5256094">off</span><span class="op" id="5256097">]</span>&nbsp;<span class="op" id="5256099">=</span>&nbsp;<span class="ident" id="5256101">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256105">if</span>&nbsp;<span class="ident" id="5256108">t</span><span class="op" id="5256109">.</span><span class="ident" id="5256110">Type</span>&nbsp;<span class="op" id="5256115">=</span>&nbsp;<span class="ident" id="5256117">typeOf</span><span class="op" id="5256123">(</span><span class="ident" id="5256124">e</span><span class="op" id="5256125">)</span><span class="op" id="5256126">;</span>&nbsp;<span class="ident" id="5256128">err</span>&nbsp;<span class="op" id="5256132">!=</span>&nbsp;<span class="ident" id="5256135">nil</span>&nbsp;<span class="op" id="5256139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256144">goto</span>&nbsp;<span class="ident" id="5256149">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5256157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256161">t</span><span class="op" id="5256162">.</span><span class="ident" id="5256163">StrideBitSize</span><span class="op" id="5256176">,</span>&nbsp;<span class="ident" id="5256178">_</span>&nbsp;<span class="op" id="5256180">=</span>&nbsp;<span class="ident" id="5256182">e</span><span class="op" id="5256183">.</span><span class="ident" id="5256184">Val</span><span class="op" id="5256187">(</span><span class="ident" id="5256188">AttrStrideSize</span><span class="op" id="5256202">)</span><span class="op" id="5256203">.</span><span class="op" id="5256204">(</span><span class="ident" id="5256205">int64</span><span class="op" id="5256210">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5256215">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256243">var</span>&nbsp;<span class="ident" id="5256247">dims</span>&nbsp;<span class="op" id="5256252">[</span><span class="op" id="5256253">]</span><span class="ident" id="5256254">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256262">for</span>&nbsp;<span class="ident" id="5256266">kid</span>&nbsp;<span class="op" id="5256270">:=</span>&nbsp;<span class="ident" id="5256273">next</span><span class="op" id="5256277">(</span><span class="op" id="5256278">)</span><span class="op" id="5256279">;</span>&nbsp;<span class="ident" id="5256281">kid</span>&nbsp;<span class="op" id="5256285">!=</span>&nbsp;<span class="ident" id="5256288">nil</span><span class="op" id="5256291">;</span>&nbsp;<span class="ident" id="5256293">kid</span>&nbsp;<span class="op" id="5256297">=</span>&nbsp;<span class="ident" id="5256299">next</span><span class="op" id="5256303">(</span><span class="op" id="5256304">)</span>&nbsp;<span class="op" id="5256306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5256311">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5256359">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256404">switch</span>&nbsp;<span class="ident" id="5256411">kid</span><span class="op" id="5256414">.</span><span class="ident" id="5256415">Tag</span>&nbsp;<span class="op" id="5256419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256424">case</span>&nbsp;<span class="ident" id="5256429">TagSubrangeType</span><span class="op" id="5256444">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256450">count</span><span class="op" id="5256455">,</span>&nbsp;<span class="ident" id="5256457">ok</span>&nbsp;<span class="op" id="5256460">:=</span>&nbsp;<span class="ident" id="5256463">kid</span><span class="op" id="5256466">.</span><span class="ident" id="5256467">Val</span><span class="op" id="5256470">(</span><span class="ident" id="5256471">AttrCount</span><span class="op" id="5256480">)</span><span class="op" id="5256481">.</span><span class="op" id="5256482">(</span><span class="ident" id="5256483">int64</span><span class="op" id="5256488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256494">if</span>&nbsp;<span class="op" id="5256497">!</span><span class="ident" id="5256498">ok</span>&nbsp;<span class="op" id="5256501">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5256508">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256562">count</span><span class="op" id="5256567">,</span>&nbsp;<span class="ident" id="5256569">ok</span>&nbsp;<span class="op" id="5256572">=</span>&nbsp;<span class="ident" id="5256574">kid</span><span class="op" id="5256577">.</span><span class="ident" id="5256578">Val</span><span class="op" id="5256581">(</span><span class="ident" id="5256582">AttrUpperBound</span><span class="op" id="5256596">)</span><span class="op" id="5256597">.</span><span class="op" id="5256598">(</span><span class="ident" id="5256599">int64</span><span class="op" id="5256604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256611">if</span>&nbsp;<span class="ident" id="5256614">ok</span>&nbsp;<span class="op" id="5256617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256625">count</span><span class="op" id="5256630">++</span>&nbsp;<span class="comment" id="5256633">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5256678">}</span>&nbsp;<span class="keyword" id="5256680">else</span>&nbsp;<span class="keyword" id="5256685">if</span>&nbsp;<span class="builtinfunc" id="5256688">len</span><span class="op" id="5256691">(</span><span class="ident" id="5256692">dims</span><span class="op" id="5256696">)</span>&nbsp;<span class="op" id="5256698">==</span>&nbsp;<span class="num" id="5256701">0</span>&nbsp;<span class="op" id="5256703">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256711">count</span>&nbsp;<span class="op" id="5256717">=</span>&nbsp;<span class="op" id="5256719">-</span><span class="num" id="5256720">1</span>&nbsp;<span class="comment" id="5256722">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5256741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5256747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256753">dims</span>&nbsp;<span class="op" id="5256758">=</span>&nbsp;<span class="builtinfunc" id="5256760">append</span><span class="op" id="5256766">(</span><span class="ident" id="5256767">dims</span><span class="op" id="5256771">,</span>&nbsp;<span class="ident" id="5256773">count</span><span class="op" id="5256778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256783">case</span>&nbsp;<span class="ident" id="5256788">TagEnumerationType</span><span class="op" id="5256806">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256812">err</span>&nbsp;<span class="op" id="5256816">=</span>&nbsp;<span class="ident" id="5256818">DecodeError</span><span class="op" id="5256829">{</span><span class="ident" id="5256830">name</span><span class="op" id="5256834">,</span>&nbsp;<span class="ident" id="5256836">kid</span><span class="op" id="5256839">.</span><span class="ident" id="5256840">Offset</span><span class="op" id="5256846">,</span>&nbsp;<span class="string" id="5256848">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="5256895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256901">goto</span>&nbsp;<span class="ident" id="5256906">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5256915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5256919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5256923">if</span>&nbsp;<span class="builtinfunc" id="5256926">len</span><span class="op" id="5256929">(</span><span class="ident" id="5256930">dims</span><span class="op" id="5256934">)</span>&nbsp;<span class="op" id="5256936">==</span>&nbsp;<span class="num" id="5256939">0</span>&nbsp;<span class="op" id="5256941">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5256946">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5256981">dims</span>&nbsp;<span class="op" id="5256986">=</span>&nbsp;<span class="op" id="5256988">[</span><span class="op" id="5256989">]</span><span class="ident" id="5256990">int64</span><span class="op" id="5256995">{</span><span class="op" id="5256996">-</span><span class="num" id="5256997">1</span><span class="op" id="5256998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5257002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257007">t</span><span class="op" id="5257008">.</span><span class="ident" id="5257009">Count</span>&nbsp;<span class="op" id="5257015">=</span>&nbsp;<span class="ident" id="5257017">dims</span><span class="op" id="5257021">[</span><span class="num" id="5257022">0</span><span class="op" id="5257023">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257027">for</span>&nbsp;<span class="ident" id="5257031">i</span>&nbsp;<span class="op" id="5257033">:=</span>&nbsp;<span class="builtinfunc" id="5257036">len</span><span class="op" id="5257039">(</span><span class="ident" id="5257040">dims</span><span class="op" id="5257044">)</span>&nbsp;<span class="op" id="5257046">-</span>&nbsp;<span class="num" id="5257048">1</span><span class="op" id="5257049">;</span>&nbsp;<span class="ident" id="5257051">i</span>&nbsp;<span class="op" id="5257053">&gt;=</span>&nbsp;<span class="num" id="5257056">1</span><span class="op" id="5257057">;</span>&nbsp;<span class="ident" id="5257059">i</span><span class="op" id="5257060">--</span>&nbsp;<span class="op" id="5257063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257068">t</span><span class="op" id="5257069">.</span><span class="ident" id="5257070">Type</span>&nbsp;<span class="op" id="5257075">=</span>&nbsp;<span class="op" id="5257077">&amp;</span><span class="ident" id="5257078">ArrayType</span><span class="op" id="5257087">{</span><span class="ident" id="5257088">Type</span><span class="op" id="5257092">:</span>&nbsp;<span class="ident" id="5257094">t</span><span class="op" id="5257095">.</span><span class="ident" id="5257096">Type</span><span class="op" id="5257100">,</span>&nbsp;<span class="ident" id="5257102">Count</span><span class="op" id="5257107">:</span>&nbsp;<span class="ident" id="5257109">dims</span><span class="op" id="5257113">[</span><span class="ident" id="5257114">i</span><span class="op" id="5257115">]</span><span class="op" id="5257116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5257120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257124">case</span>&nbsp;<span class="ident" id="5257129">TagBaseType</span><span class="op" id="5257140">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5257144">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5257179">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5257196">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5257288">//&nbsp;&nbsp;&nbsp;&nbspAttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5257357">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5257409">//&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5257462">//&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257555">name</span><span class="op" id="5257559">,</span>&nbsp;<span class="ident" id="5257561">_</span>&nbsp;<span class="op" id="5257563">:=</span>&nbsp;<span class="ident" id="5257566">e</span><span class="op" id="5257567">.</span><span class="ident" id="5257568">Val</span><span class="op" id="5257571">(</span><span class="ident" id="5257572">AttrName</span><span class="op" id="5257580">)</span><span class="op" id="5257581">.</span><span class="op" id="5257582">(</span><span class="builtintype" id="5257583">string</span><span class="op" id="5257589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257593">enc</span><span class="op" id="5257596">,</span>&nbsp;<span class="ident" id="5257598">ok</span>&nbsp;<span class="op" id="5257601">:=</span>&nbsp;<span class="ident" id="5257604">e</span><span class="op" id="5257605">.</span><span class="ident" id="5257606">Val</span><span class="op" id="5257609">(</span><span class="ident" id="5257610">AttrEncoding</span><span class="op" id="5257622">)</span><span class="op" id="5257623">.</span><span class="op" id="5257624">(</span><span class="ident" id="5257625">int64</span><span class="op" id="5257630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257634">if</span>&nbsp;<span class="op" id="5257637">!</span><span class="ident" id="5257638">ok</span>&nbsp;<span class="op" id="5257641">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257646">err</span>&nbsp;<span class="op" id="5257650">=</span>&nbsp;<span class="ident" id="5257652">DecodeError</span><span class="op" id="5257663">{</span><span class="ident" id="5257664">name</span><span class="op" id="5257668">,</span>&nbsp;<span class="ident" id="5257670">e</span><span class="op" id="5257671">.</span><span class="ident" id="5257672">Offset</span><span class="op" id="5257678">,</span>&nbsp;<span class="string" id="5257680">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="5257714">+</span>&nbsp;<span class="ident" id="5257716">name</span><span class="op" id="5257720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257725">goto</span>&nbsp;<span class="ident" id="5257730">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5257738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257742">switch</span>&nbsp;<span class="ident" id="5257749">enc</span>&nbsp;<span class="op" id="5257753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257757">default</span><span class="op" id="5257764">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257769">err</span>&nbsp;<span class="op" id="5257773">=</span>&nbsp;<span class="ident" id="5257775">DecodeError</span><span class="op" id="5257786">{</span><span class="ident" id="5257787">name</span><span class="op" id="5257791">,</span>&nbsp;<span class="ident" id="5257793">e</span><span class="op" id="5257794">.</span><span class="ident" id="5257795">Offset</span><span class="op" id="5257801">,</span>&nbsp;<span class="string" id="5257803">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="5257842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257847">goto</span>&nbsp;<span class="ident" id="5257852">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257861">case</span>&nbsp;<span class="ident" id="5257866">encAddress</span><span class="op" id="5257876">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257881">typ</span>&nbsp;<span class="op" id="5257885">=</span>&nbsp;<span class="builtinfunc" id="5257887">new</span><span class="op" id="5257890">(</span><span class="ident" id="5257891">AddrType</span><span class="op" id="5257899">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257903">case</span>&nbsp;<span class="ident" id="5257908">encBoolean</span><span class="op" id="5257918">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257923">typ</span>&nbsp;<span class="op" id="5257927">=</span>&nbsp;<span class="builtinfunc" id="5257929">new</span><span class="op" id="5257932">(</span><span class="ident" id="5257933">BoolType</span><span class="op" id="5257941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257945">case</span>&nbsp;<span class="ident" id="5257950">encComplexFloat</span><span class="op" id="5257965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5257970">typ</span>&nbsp;<span class="op" id="5257974">=</span>&nbsp;<span class="builtinfunc" id="5257976">new</span><span class="op" id="5257979">(</span><span class="ident" id="5257980">ComplexType</span><span class="op" id="5257991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5257996">if</span>&nbsp;<span class="ident" id="5257999">name</span>&nbsp;<span class="op" id="5258004">==</span>&nbsp;<span class="string" id="5258007">&#34;complex&#34;</span>&nbsp;<span class="op" id="5258017">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5258023">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5258105">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5258178">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258201">switch</span>&nbsp;<span class="ident" id="5258208">byteSize</span><span class="op" id="5258216">,</span>&nbsp;<span class="ident" id="5258218">_</span>&nbsp;<span class="op" id="5258220">:=</span>&nbsp;<span class="ident" id="5258223">e</span><span class="op" id="5258224">.</span><span class="ident" id="5258225">Val</span><span class="op" id="5258228">(</span><span class="ident" id="5258229">AttrByteSize</span><span class="op" id="5258241">)</span><span class="op" id="5258242">.</span><span class="op" id="5258243">(</span><span class="ident" id="5258244">int64</span><span class="op" id="5258249">)</span><span class="op" id="5258250">;</span>&nbsp;<span class="ident" id="5258252">byteSize</span>&nbsp;<span class="op" id="5258261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258267">case</span>&nbsp;<span class="num" id="5258272">8</span><span class="op" id="5258273">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258280">name</span>&nbsp;<span class="op" id="5258285">=</span>&nbsp;<span class="string" id="5258287">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258307">case</span>&nbsp;<span class="num" id="5258312">16</span><span class="op" id="5258314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258321">name</span>&nbsp;<span class="op" id="5258326">=</span>&nbsp;<span class="string" id="5258328">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5258349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5258354">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258358">case</span>&nbsp;<span class="ident" id="5258363">encFloat</span><span class="op" id="5258371">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258376">typ</span>&nbsp;<span class="op" id="5258380">=</span>&nbsp;<span class="builtinfunc" id="5258382">new</span><span class="op" id="5258385">(</span><span class="ident" id="5258386">FloatType</span><span class="op" id="5258395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258399">case</span>&nbsp;<span class="ident" id="5258404">encSigned</span><span class="op" id="5258413">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258418">typ</span>&nbsp;<span class="op" id="5258422">=</span>&nbsp;<span class="builtinfunc" id="5258424">new</span><span class="op" id="5258427">(</span><span class="ident" id="5258428">IntType</span><span class="op" id="5258435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258439">case</span>&nbsp;<span class="ident" id="5258444">encUnsigned</span><span class="op" id="5258455">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258460">typ</span>&nbsp;<span class="op" id="5258464">=</span>&nbsp;<span class="builtinfunc" id="5258466">new</span><span class="op" id="5258469">(</span><span class="ident" id="5258470">UintType</span><span class="op" id="5258478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258482">case</span>&nbsp;<span class="ident" id="5258487">encSignedChar</span><span class="op" id="5258500">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258505">typ</span>&nbsp;<span class="op" id="5258509">=</span>&nbsp;<span class="builtinfunc" id="5258511">new</span><span class="op" id="5258514">(</span><span class="ident" id="5258515">CharType</span><span class="op" id="5258523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258527">case</span>&nbsp;<span class="ident" id="5258532">encUnsignedChar</span><span class="op" id="5258547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258552">typ</span>&nbsp;<span class="op" id="5258556">=</span>&nbsp;<span class="builtinfunc" id="5258558">new</span><span class="op" id="5258561">(</span><span class="ident" id="5258562">UcharType</span><span class="op" id="5258571">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5258575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258579">typeCache</span><span class="op" id="5258588">[</span><span class="ident" id="5258589">off</span><span class="op" id="5258592">]</span>&nbsp;<span class="op" id="5258594">=</span>&nbsp;<span class="ident" id="5258596">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258602">t</span>&nbsp;<span class="op" id="5258604">:=</span>&nbsp;<span class="ident" id="5258607">typ</span><span class="op" id="5258610">.</span><span class="op" id="5258611">(</span><span class="keyword" id="5258612">interface</span>&nbsp;<span class="op" id="5258622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258627">Basic</span><span class="op" id="5258632">(</span><span class="op" id="5258633">)</span>&nbsp;<span class="op" id="5258635">*</span><span class="ident" id="5258636">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5258648">}</span><span class="op" id="5258649">)</span><span class="op" id="5258650">.</span><span class="ident" id="5258651">Basic</span><span class="op" id="5258656">(</span><span class="op" id="5258657">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258661">t</span><span class="op" id="5258662">.</span><span class="ident" id="5258663">Name</span>&nbsp;<span class="op" id="5258668">=</span>&nbsp;<span class="ident" id="5258670">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258677">t</span><span class="op" id="5258678">.</span><span class="ident" id="5258679">BitSize</span><span class="op" id="5258686">,</span>&nbsp;<span class="ident" id="5258688">_</span>&nbsp;<span class="op" id="5258690">=</span>&nbsp;<span class="ident" id="5258692">e</span><span class="op" id="5258693">.</span><span class="ident" id="5258694">Val</span><span class="op" id="5258697">(</span><span class="ident" id="5258698">AttrBitSize</span><span class="op" id="5258709">)</span><span class="op" id="5258710">.</span><span class="op" id="5258711">(</span><span class="ident" id="5258712">int64</span><span class="op" id="5258717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5258721">t</span><span class="op" id="5258722">.</span><span class="ident" id="5258723">BitOffset</span><span class="op" id="5258732">,</span>&nbsp;<span class="ident" id="5258734">_</span>&nbsp;<span class="op" id="5258736">=</span>&nbsp;<span class="ident" id="5258738">e</span><span class="op" id="5258739">.</span><span class="ident" id="5258740">Val</span><span class="op" id="5258743">(</span><span class="ident" id="5258744">AttrBitOffset</span><span class="op" id="5258757">)</span><span class="op" id="5258758">.</span><span class="op" id="5258759">(</span><span class="ident" id="5258760">int64</span><span class="op" id="5258765">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5258769">case</span>&nbsp;<span class="ident" id="5258774">TagClassType</span><span class="op" id="5258786">,</span>&nbsp;<span class="ident" id="5258788">TagStructType</span><span class="op" id="5258801">,</span>&nbsp;<span class="ident" id="5258803">TagUnionType</span><span class="op" id="5258815">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5258819">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5258875">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5258892">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5258939">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5258979">//&nbsp;&nbsp;&nbsp;&nbspAttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259043">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259058">//&nbsp;&nbsp;&nbsp;&nbspTagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259097">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259139">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259181">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259215">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259275">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259318">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5259395">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259455">t</span>&nbsp;<span class="op" id="5259457">:=</span>&nbsp;<span class="builtinfunc" id="5259460">new</span><span class="op" id="5259463">(</span><span class="ident" id="5259464">StructType</span><span class="op" id="5259474">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259478">typ</span>&nbsp;<span class="op" id="5259482">=</span>&nbsp;<span class="ident" id="5259484">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259488">typeCache</span><span class="op" id="5259497">[</span><span class="ident" id="5259498">off</span><span class="op" id="5259501">]</span>&nbsp;<span class="op" id="5259503">=</span>&nbsp;<span class="ident" id="5259505">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259509">switch</span>&nbsp;<span class="ident" id="5259516">e</span><span class="op" id="5259517">.</span><span class="ident" id="5259518">Tag</span>&nbsp;<span class="op" id="5259522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259526">case</span>&nbsp;<span class="ident" id="5259531">TagClassType</span><span class="op" id="5259543">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259548">t</span><span class="op" id="5259549">.</span><span class="ident" id="5259550">Kind</span>&nbsp;<span class="op" id="5259555">=</span>&nbsp;<span class="string" id="5259557">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259567">case</span>&nbsp;<span class="ident" id="5259572">TagStructType</span><span class="op" id="5259585">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259590">t</span><span class="op" id="5259591">.</span><span class="ident" id="5259592">Kind</span>&nbsp;<span class="op" id="5259597">=</span>&nbsp;<span class="string" id="5259599">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259610">case</span>&nbsp;<span class="ident" id="5259615">TagUnionType</span><span class="op" id="5259627">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259632">t</span><span class="op" id="5259633">.</span><span class="ident" id="5259634">Kind</span>&nbsp;<span class="op" id="5259639">=</span>&nbsp;<span class="string" id="5259641">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5259651">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259655">t</span><span class="op" id="5259656">.</span><span class="ident" id="5259657">StructName</span><span class="op" id="5259667">,</span>&nbsp;<span class="ident" id="5259669">_</span>&nbsp;<span class="op" id="5259671">=</span>&nbsp;<span class="ident" id="5259673">e</span><span class="op" id="5259674">.</span><span class="ident" id="5259675">Val</span><span class="op" id="5259678">(</span><span class="ident" id="5259679">AttrName</span><span class="op" id="5259687">)</span><span class="op" id="5259688">.</span><span class="op" id="5259689">(</span><span class="builtintype" id="5259690">string</span><span class="op" id="5259696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259700">t</span><span class="op" id="5259701">.</span><span class="ident" id="5259702">Incomplete</span>&nbsp;<span class="op" id="5259713">=</span>&nbsp;<span class="ident" id="5259715">e</span><span class="op" id="5259716">.</span><span class="ident" id="5259717">Val</span><span class="op" id="5259720">(</span><span class="ident" id="5259721">AttrDeclaration</span><span class="op" id="5259736">)</span>&nbsp;<span class="op" id="5259738">!=</span>&nbsp;<span class="ident" id="5259741">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259747">t</span><span class="op" id="5259748">.</span><span class="ident" id="5259749">Field</span>&nbsp;<span class="op" id="5259755">=</span>&nbsp;<span class="builtinfunc" id="5259757">make</span><span class="op" id="5259761">(</span><span class="op" id="5259762">[</span><span class="op" id="5259763">]</span><span class="op" id="5259764">*</span><span class="ident" id="5259765">StructField</span><span class="op" id="5259776">,</span>&nbsp;<span class="num" id="5259778">0</span><span class="op" id="5259779">,</span>&nbsp;<span class="num" id="5259781">8</span><span class="op" id="5259782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259786">var</span>&nbsp;<span class="ident" id="5259790">lastFieldType</span>&nbsp;<span class="op" id="5259804">*</span><span class="ident" id="5259805">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259812">var</span>&nbsp;<span class="ident" id="5259816">lastFieldBitOffset</span>&nbsp;<span class="ident" id="5259835">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259843">for</span>&nbsp;<span class="ident" id="5259847">kid</span>&nbsp;<span class="op" id="5259851">:=</span>&nbsp;<span class="ident" id="5259854">next</span><span class="op" id="5259858">(</span><span class="op" id="5259859">)</span><span class="op" id="5259860">;</span>&nbsp;<span class="ident" id="5259862">kid</span>&nbsp;<span class="op" id="5259866">!=</span>&nbsp;<span class="ident" id="5259869">nil</span><span class="op" id="5259872">;</span>&nbsp;<span class="ident" id="5259874">kid</span>&nbsp;<span class="op" id="5259878">=</span>&nbsp;<span class="ident" id="5259880">next</span><span class="op" id="5259884">(</span><span class="op" id="5259885">)</span>&nbsp;<span class="op" id="5259887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259892">if</span>&nbsp;<span class="ident" id="5259895">kid</span><span class="op" id="5259898">.</span><span class="ident" id="5259899">Tag</span>&nbsp;<span class="op" id="5259903">==</span>&nbsp;<span class="ident" id="5259906">TagMember</span>&nbsp;<span class="op" id="5259916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5259922">f</span>&nbsp;<span class="op" id="5259924">:=</span>&nbsp;<span class="builtinfunc" id="5259927">new</span><span class="op" id="5259930">(</span><span class="ident" id="5259931">StructField</span><span class="op" id="5259942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259948">if</span>&nbsp;<span class="ident" id="5259951">f</span><span class="op" id="5259952">.</span><span class="ident" id="5259953">Type</span>&nbsp;<span class="op" id="5259958">=</span>&nbsp;<span class="ident" id="5259960">typeOf</span><span class="op" id="5259966">(</span><span class="ident" id="5259967">kid</span><span class="op" id="5259970">)</span><span class="op" id="5259971">;</span>&nbsp;<span class="ident" id="5259973">err</span>&nbsp;<span class="op" id="5259977">!=</span>&nbsp;<span class="ident" id="5259980">nil</span>&nbsp;<span class="op" id="5259984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5259991">goto</span>&nbsp;<span class="ident" id="5259996">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5260006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260012">switch</span>&nbsp;<span class="ident" id="5260019">loc</span>&nbsp;<span class="op" id="5260023">:=</span>&nbsp;<span class="ident" id="5260026">kid</span><span class="op" id="5260029">.</span><span class="ident" id="5260030">Val</span><span class="op" id="5260033">(</span><span class="ident" id="5260034">AttrDataMemberLoc</span><span class="op" id="5260051">)</span><span class="op" id="5260052">.</span><span class="op" id="5260053">(</span><span class="keyword" id="5260054">type</span><span class="op" id="5260058">)</span>&nbsp;<span class="op" id="5260060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260066">case</span>&nbsp;<span class="op" id="5260071">[</span><span class="op" id="5260072">]</span><span class="builtintype" id="5260073">byte</span><span class="op" id="5260077">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5260084">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5260131">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260169">b</span>&nbsp;<span class="op" id="5260171">:=</span>&nbsp;<span class="ident" id="5260174">makeBuf</span><span class="op" id="5260181">(</span><span class="ident" id="5260182">d</span><span class="op" id="5260183">,</span>&nbsp;<span class="ident" id="5260185">unknownFormat</span><span class="op" id="5260198">{</span><span class="op" id="5260199">}</span><span class="op" id="5260200">,</span>&nbsp;<span class="string" id="5260202">&#34;location&#34;</span><span class="op" id="5260212">,</span>&nbsp;<span class="num" id="5260214">0</span><span class="op" id="5260215">,</span>&nbsp;<span class="ident" id="5260217">loc</span><span class="op" id="5260220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260227">if</span>&nbsp;<span class="ident" id="5260230">b</span><span class="op" id="5260231">.</span><span class="builtintype" id="5260232">uint8</span><span class="op" id="5260237">(</span><span class="op" id="5260238">)</span>&nbsp;<span class="op" id="5260240">!=</span>&nbsp;<span class="ident" id="5260243">opPlusUconst</span>&nbsp;<span class="op" id="5260256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260264">err</span>&nbsp;<span class="op" id="5260268">=</span>&nbsp;<span class="ident" id="5260270">DecodeError</span><span class="op" id="5260281">{</span><span class="ident" id="5260282">name</span><span class="op" id="5260286">,</span>&nbsp;<span class="ident" id="5260288">kid</span><span class="op" id="5260291">.</span><span class="ident" id="5260292">Offset</span><span class="op" id="5260298">,</span>&nbsp;<span class="string" id="5260300">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="5260319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260327">goto</span>&nbsp;<span class="ident" id="5260332">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5260343">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260350">f</span><span class="op" id="5260351">.</span><span class="ident" id="5260352">ByteOffset</span>&nbsp;<span class="op" id="5260363">=</span>&nbsp;<span class="ident" id="5260365">int64</span><span class="op" id="5260370">(</span><span class="ident" id="5260371">b</span><span class="op" id="5260372">.</span><span class="builtintype" id="5260373">uint</span><span class="op" id="5260377">(</span><span class="op" id="5260378">)</span><span class="op" id="5260379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260386">if</span>&nbsp;<span class="ident" id="5260389">b</span><span class="op" id="5260390">.</span><span class="ident" id="5260391">err</span>&nbsp;<span class="op" id="5260395">!=</span>&nbsp;<span class="ident" id="5260398">nil</span>&nbsp;<span class="op" id="5260402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260410">err</span>&nbsp;<span class="op" id="5260414">=</span>&nbsp;<span class="ident" id="5260416">b</span><span class="op" id="5260417">.</span><span class="ident" id="5260418">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260428">goto</span>&nbsp;<span class="ident" id="5260433">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5260444">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260450">case</span>&nbsp;<span class="ident" id="5260455">int64</span><span class="op" id="5260460">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260467">f</span><span class="op" id="5260468">.</span><span class="ident" id="5260469">ByteOffset</span>&nbsp;<span class="op" id="5260480">=</span>&nbsp;<span class="ident" id="5260482">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5260490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260497">haveBitOffset</span>&nbsp;<span class="op" id="5260511">:=</span>&nbsp;<span class="builtintype" id="5260514">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260524">f</span><span class="op" id="5260525">.</span><span class="ident" id="5260526">Name</span><span class="op" id="5260530">,</span>&nbsp;<span class="ident" id="5260532">_</span>&nbsp;<span class="op" id="5260534">=</span>&nbsp;<span class="ident" id="5260536">kid</span><span class="op" id="5260539">.</span><span class="ident" id="5260540">Val</span><span class="op" id="5260543">(</span><span class="ident" id="5260544">AttrName</span><span class="op" id="5260552">)</span><span class="op" id="5260553">.</span><span class="op" id="5260554">(</span><span class="builtintype" id="5260555">string</span><span class="op" id="5260561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260567">f</span><span class="op" id="5260568">.</span><span class="ident" id="5260569">ByteSize</span><span class="op" id="5260577">,</span>&nbsp;<span class="ident" id="5260579">_</span>&nbsp;<span class="op" id="5260581">=</span>&nbsp;<span class="ident" id="5260583">kid</span><span class="op" id="5260586">.</span><span class="ident" id="5260587">Val</span><span class="op" id="5260590">(</span><span class="ident" id="5260591">AttrByteSize</span><span class="op" id="5260603">)</span><span class="op" id="5260604">.</span><span class="op" id="5260605">(</span><span class="ident" id="5260606">int64</span><span class="op" id="5260611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260617">f</span><span class="op" id="5260618">.</span><span class="ident" id="5260619">BitOffset</span><span class="op" id="5260628">,</span>&nbsp;<span class="ident" id="5260630">haveBitOffset</span>&nbsp;<span class="op" id="5260644">=</span>&nbsp;<span class="ident" id="5260646">kid</span><span class="op" id="5260649">.</span><span class="ident" id="5260650">Val</span><span class="op" id="5260653">(</span><span class="ident" id="5260654">AttrBitOffset</span><span class="op" id="5260667">)</span><span class="op" id="5260668">.</span><span class="op" id="5260669">(</span><span class="ident" id="5260670">int64</span><span class="op" id="5260675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260681">f</span><span class="op" id="5260682">.</span><span class="ident" id="5260683">BitSize</span><span class="op" id="5260690">,</span>&nbsp;<span class="ident" id="5260692">_</span>&nbsp;<span class="op" id="5260694">=</span>&nbsp;<span class="ident" id="5260696">kid</span><span class="op" id="5260699">.</span><span class="ident" id="5260700">Val</span><span class="op" id="5260703">(</span><span class="ident" id="5260704">AttrBitSize</span><span class="op" id="5260715">)</span><span class="op" id="5260716">.</span><span class="op" id="5260717">(</span><span class="ident" id="5260718">int64</span><span class="op" id="5260723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260729">t</span><span class="op" id="5260730">.</span><span class="ident" id="5260731">Field</span>&nbsp;<span class="op" id="5260737">=</span>&nbsp;<span class="builtinfunc" id="5260739">append</span><span class="op" id="5260745">(</span><span class="ident" id="5260746">t</span><span class="op" id="5260747">.</span><span class="ident" id="5260748">Field</span><span class="op" id="5260753">,</span>&nbsp;<span class="ident" id="5260755">f</span><span class="op" id="5260756">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260763">bito</span>&nbsp;<span class="op" id="5260768">:=</span>&nbsp;<span class="ident" id="5260771">f</span><span class="op" id="5260772">.</span><span class="ident" id="5260773">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260787">if</span>&nbsp;<span class="op" id="5260790">!</span><span class="ident" id="5260791">haveBitOffset</span>&nbsp;<span class="op" id="5260805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5260812">bito</span>&nbsp;<span class="op" id="5260817">=</span>&nbsp;<span class="ident" id="5260819">f</span><span class="op" id="5260820">.</span><span class="ident" id="5260821">ByteOffset</span>&nbsp;<span class="op" id="5260832">*</span>&nbsp;<span class="num" id="5260834">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5260840">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5260846">if</span>&nbsp;<span class="ident" id="5260849">bito</span>&nbsp;<span class="op" id="5260854">==</span>&nbsp;<span class="ident" id="5260857">lastFieldBitOffset</span>&nbsp;<span class="op" id="5260876">&amp;&amp;</span>&nbsp;<span class="ident" id="5260879">t</span><span class="op" id="5260880">.</span><span class="ident" id="5260881">Kind</span>&nbsp;<span class="op" id="5260886">!=</span>&nbsp;<span class="string" id="5260889">&#34;union&#34;</span>&nbsp;<span class="op" id="5260897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5260904">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5260958">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261034">zeroArray</span><span class="op" id="5261043">(</span><span class="ident" id="5261044">lastFieldType</span><span class="op" id="5261057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5261063">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261069">lastFieldType</span>&nbsp;<span class="op" id="5261083">=</span>&nbsp;<span class="op" id="5261085">&amp;</span><span class="ident" id="5261086">f</span><span class="op" id="5261087">.</span><span class="ident" id="5261088">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261097">lastFieldBitOffset</span>&nbsp;<span class="op" id="5261116">=</span>&nbsp;<span class="ident" id="5261118">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5261126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5261130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261134">if</span>&nbsp;<span class="ident" id="5261137">t</span><span class="op" id="5261138">.</span><span class="ident" id="5261139">Kind</span>&nbsp;<span class="op" id="5261144">!=</span>&nbsp;<span class="string" id="5261147">&#34;union&#34;</span>&nbsp;<span class="op" id="5261155">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261160">b</span><span class="op" id="5261161">,</span>&nbsp;<span class="ident" id="5261163">ok</span>&nbsp;<span class="op" id="5261166">:=</span>&nbsp;<span class="ident" id="5261169">e</span><span class="op" id="5261170">.</span><span class="ident" id="5261171">Val</span><span class="op" id="5261174">(</span><span class="ident" id="5261175">AttrByteSize</span><span class="op" id="5261187">)</span><span class="op" id="5261188">.</span><span class="op" id="5261189">(</span><span class="ident" id="5261190">int64</span><span class="op" id="5261195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261200">if</span>&nbsp;<span class="ident" id="5261203">ok</span>&nbsp;<span class="op" id="5261206">&amp;&amp;</span>&nbsp;<span class="ident" id="5261209">b</span><span class="op" id="5261210">*</span><span class="num" id="5261211">8</span>&nbsp;<span class="op" id="5261213">==</span>&nbsp;<span class="ident" id="5261216">lastFieldBitOffset</span>&nbsp;<span class="op" id="5261235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261241">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261299">zeroArray</span><span class="op" id="5261308">(</span><span class="ident" id="5261309">lastFieldType</span><span class="op" id="5261322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5261327">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5261331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261335">case</span>&nbsp;<span class="ident" id="5261340">TagConstType</span><span class="op" id="5261352">,</span>&nbsp;<span class="ident" id="5261354">TagVolatileType</span><span class="op" id="5261369">,</span>&nbsp;<span class="ident" id="5261371">TagRestrictType</span><span class="op" id="5261386">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261390">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261426">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261443">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261466">t</span>&nbsp;<span class="op" id="5261468">:=</span>&nbsp;<span class="builtinfunc" id="5261471">new</span><span class="op" id="5261474">(</span><span class="ident" id="5261475">QualType</span><span class="op" id="5261483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261487">typ</span>&nbsp;<span class="op" id="5261491">=</span>&nbsp;<span class="ident" id="5261493">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261497">typeCache</span><span class="op" id="5261506">[</span><span class="ident" id="5261507">off</span><span class="op" id="5261510">]</span>&nbsp;<span class="op" id="5261512">=</span>&nbsp;<span class="ident" id="5261514">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261518">if</span>&nbsp;<span class="ident" id="5261521">t</span><span class="op" id="5261522">.</span><span class="ident" id="5261523">Type</span>&nbsp;<span class="op" id="5261528">=</span>&nbsp;<span class="ident" id="5261530">typeOf</span><span class="op" id="5261536">(</span><span class="ident" id="5261537">e</span><span class="op" id="5261538">)</span><span class="op" id="5261539">;</span>&nbsp;<span class="ident" id="5261541">err</span>&nbsp;<span class="op" id="5261545">!=</span>&nbsp;<span class="ident" id="5261548">nil</span>&nbsp;<span class="op" id="5261552">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261557">goto</span>&nbsp;<span class="ident" id="5261562">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5261570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261574">switch</span>&nbsp;<span class="ident" id="5261581">e</span><span class="op" id="5261582">.</span><span class="ident" id="5261583">Tag</span>&nbsp;<span class="op" id="5261587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261591">case</span>&nbsp;<span class="ident" id="5261596">TagConstType</span><span class="op" id="5261608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261613">t</span><span class="op" id="5261614">.</span><span class="ident" id="5261615">Qual</span>&nbsp;<span class="op" id="5261620">=</span>&nbsp;<span class="string" id="5261622">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261632">case</span>&nbsp;<span class="ident" id="5261637">TagRestrictType</span><span class="op" id="5261652">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261657">t</span><span class="op" id="5261658">.</span><span class="ident" id="5261659">Qual</span>&nbsp;<span class="op" id="5261664">=</span>&nbsp;<span class="string" id="5261666">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261679">case</span>&nbsp;<span class="ident" id="5261684">TagVolatileType</span><span class="op" id="5261699">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5261704">t</span><span class="op" id="5261705">.</span><span class="ident" id="5261706">Qual</span>&nbsp;<span class="op" id="5261711">=</span>&nbsp;<span class="string" id="5261713">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5261726">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5261730">case</span>&nbsp;<span class="ident" id="5261735">TagEnumerationType</span><span class="op" id="5261753">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261757">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261796">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261813">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261845">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261906">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261921">//&nbsp;&nbsp;&nbsp;&nbspTagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261941">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5261974">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262014">t</span>&nbsp;<span class="op" id="5262016">:=</span>&nbsp;<span class="builtinfunc" id="5262019">new</span><span class="op" id="5262022">(</span><span class="ident" id="5262023">EnumType</span><span class="op" id="5262031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262035">typ</span>&nbsp;<span class="op" id="5262039">=</span>&nbsp;<span class="ident" id="5262041">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262045">typeCache</span><span class="op" id="5262054">[</span><span class="ident" id="5262055">off</span><span class="op" id="5262058">]</span>&nbsp;<span class="op" id="5262060">=</span>&nbsp;<span class="ident" id="5262062">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262066">t</span><span class="op" id="5262067">.</span><span class="ident" id="5262068">EnumName</span><span class="op" id="5262076">,</span>&nbsp;<span class="ident" id="5262078">_</span>&nbsp;<span class="op" id="5262080">=</span>&nbsp;<span class="ident" id="5262082">e</span><span class="op" id="5262083">.</span><span class="ident" id="5262084">Val</span><span class="op" id="5262087">(</span><span class="ident" id="5262088">AttrName</span><span class="op" id="5262096">)</span><span class="op" id="5262097">.</span><span class="op" id="5262098">(</span><span class="builtintype" id="5262099">string</span><span class="op" id="5262105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262109">t</span><span class="op" id="5262110">.</span><span class="ident" id="5262111">Val</span>&nbsp;<span class="op" id="5262115">=</span>&nbsp;<span class="builtinfunc" id="5262117">make</span><span class="op" id="5262121">(</span><span class="op" id="5262122">[</span><span class="op" id="5262123">]</span><span class="op" id="5262124">*</span><span class="ident" id="5262125">EnumValue</span><span class="op" id="5262134">,</span>&nbsp;<span class="num" id="5262136">0</span><span class="op" id="5262137">,</span>&nbsp;<span class="num" id="5262139">8</span><span class="op" id="5262140">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5262144">for</span>&nbsp;<span class="ident" id="5262148">kid</span>&nbsp;<span class="op" id="5262152">:=</span>&nbsp;<span class="ident" id="5262155">next</span><span class="op" id="5262159">(</span><span class="op" id="5262160">)</span><span class="op" id="5262161">;</span>&nbsp;<span class="ident" id="5262163">kid</span>&nbsp;<span class="op" id="5262167">!=</span>&nbsp;<span class="ident" id="5262170">nil</span><span class="op" id="5262173">;</span>&nbsp;<span class="ident" id="5262175">kid</span>&nbsp;<span class="op" id="5262179">=</span>&nbsp;<span class="ident" id="5262181">next</span><span class="op" id="5262185">(</span><span class="op" id="5262186">)</span>&nbsp;<span class="op" id="5262188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5262193">if</span>&nbsp;<span class="ident" id="5262196">kid</span><span class="op" id="5262199">.</span><span class="ident" id="5262200">Tag</span>&nbsp;<span class="op" id="5262204">==</span>&nbsp;<span class="ident" id="5262207">TagEnumerator</span>&nbsp;<span class="op" id="5262221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262227">f</span>&nbsp;<span class="op" id="5262229">:=</span>&nbsp;<span class="builtinfunc" id="5262232">new</span><span class="op" id="5262235">(</span><span class="ident" id="5262236">EnumValue</span><span class="op" id="5262245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262251">f</span><span class="op" id="5262252">.</span><span class="ident" id="5262253">Name</span><span class="op" id="5262257">,</span>&nbsp;<span class="ident" id="5262259">_</span>&nbsp;<span class="op" id="5262261">=</span>&nbsp;<span class="ident" id="5262263">kid</span><span class="op" id="5262266">.</span><span class="ident" id="5262267">Val</span><span class="op" id="5262270">(</span><span class="ident" id="5262271">AttrName</span><span class="op" id="5262279">)</span><span class="op" id="5262280">.</span><span class="op" id="5262281">(</span><span class="builtintype" id="5262282">string</span><span class="op" id="5262288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262294">f</span><span class="op" id="5262295">.</span><span class="ident" id="5262296">Val</span><span class="op" id="5262299">,</span>&nbsp;<span class="ident" id="5262301">_</span>&nbsp;<span class="op" id="5262303">=</span>&nbsp;<span class="ident" id="5262305">kid</span><span class="op" id="5262308">.</span><span class="ident" id="5262309">Val</span><span class="op" id="5262312">(</span><span class="ident" id="5262313">AttrConstValue</span><span class="op" id="5262327">)</span><span class="op" id="5262328">.</span><span class="op" id="5262329">(</span><span class="ident" id="5262330">int64</span><span class="op" id="5262335">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262341">n</span>&nbsp;<span class="op" id="5262343">:=</span>&nbsp;<span class="builtinfunc" id="5262346">len</span><span class="op" id="5262349">(</span><span class="ident" id="5262350">t</span><span class="op" id="5262351">.</span><span class="ident" id="5262352">Val</span><span class="op" id="5262355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5262361">if</span>&nbsp;<span class="ident" id="5262364">n</span>&nbsp;<span class="op" id="5262366">&gt;=</span>&nbsp;<span class="builtinfunc" id="5262369">cap</span><span class="op" id="5262372">(</span><span class="ident" id="5262373">t</span><span class="op" id="5262374">.</span><span class="ident" id="5262375">Val</span><span class="op" id="5262378">)</span>&nbsp;<span class="op" id="5262380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262387">val</span>&nbsp;<span class="op" id="5262391">:=</span>&nbsp;<span class="builtinfunc" id="5262394">make</span><span class="op" id="5262398">(</span><span class="op" id="5262399">[</span><span class="op" id="5262400">]</span><span class="op" id="5262401">*</span><span class="ident" id="5262402">EnumValue</span><span class="op" id="5262411">,</span>&nbsp;<span class="ident" id="5262413">n</span><span class="op" id="5262414">,</span>&nbsp;<span class="ident" id="5262416">n</span><span class="op" id="5262417">*</span><span class="num" id="5262418">2</span><span class="op" id="5262419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5262426">copy</span><span class="op" id="5262430">(</span><span class="ident" id="5262431">val</span><span class="op" id="5262434">,</span>&nbsp;<span class="ident" id="5262436">t</span><span class="op" id="5262437">.</span><span class="ident" id="5262438">Val</span><span class="op" id="5262441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262448">t</span><span class="op" id="5262449">.</span><span class="ident" id="5262450">Val</span>&nbsp;<span class="op" id="5262454">=</span>&nbsp;<span class="ident" id="5262456">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5262464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262470">t</span><span class="op" id="5262471">.</span><span class="ident" id="5262472">Val</span>&nbsp;<span class="op" id="5262476">=</span>&nbsp;<span class="ident" id="5262478">t</span><span class="op" id="5262479">.</span><span class="ident" id="5262480">Val</span><span class="op" id="5262483">[</span><span class="num" id="5262484">0</span>&nbsp;<span class="op" id="5262486">:</span>&nbsp;<span class="ident" id="5262488">n</span><span class="op" id="5262489">+</span><span class="num" id="5262490">1</span><span class="op" id="5262491">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262497">t</span><span class="op" id="5262498">.</span><span class="ident" id="5262499">Val</span><span class="op" id="5262502">[</span><span class="ident" id="5262503">n</span><span class="op" id="5262504">]</span>&nbsp;<span class="op" id="5262506">=</span>&nbsp;<span class="ident" id="5262508">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5262513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5262517">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5262521">case</span>&nbsp;<span class="ident" id="5262526">TagPointerType</span><span class="op" id="5262540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5262544">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5262580">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5262597">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5262659">//&nbsp;&nbsp;&nbsp;&nbspAttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262703">t</span>&nbsp;<span class="op" id="5262705">:=</span>&nbsp;<span class="builtinfunc" id="5262708">new</span><span class="op" id="5262711">(</span><span class="ident" id="5262712">PtrType</span><span class="op" id="5262719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262723">typ</span>&nbsp;<span class="op" id="5262727">=</span>&nbsp;<span class="ident" id="5262729">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262733">typeCache</span><span class="op" id="5262742">[</span><span class="ident" id="5262743">off</span><span class="op" id="5262746">]</span>&nbsp;<span class="op" id="5262748">=</span>&nbsp;<span class="ident" id="5262750">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5262754">if</span>&nbsp;<span class="ident" id="5262757">e</span><span class="op" id="5262758">.</span><span class="ident" id="5262759">Val</span><span class="op" id="5262762">(</span><span class="ident" id="5262763">AttrType</span><span class="op" id="5262771">)</span>&nbsp;<span class="op" id="5262773">==</span>&nbsp;<span class="ident" id="5262776">nil</span>&nbsp;<span class="op" id="5262780">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262785">t</span><span class="op" id="5262786">.</span><span class="ident" id="5262787">Type</span>&nbsp;<span class="op" id="5262792">=</span>&nbsp;<span class="op" id="5262794">&amp;</span><span class="ident" id="5262795">VoidType</span><span class="op" id="5262803">{</span><span class="op" id="5262804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5262809">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5262817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5262821">t</span><span class="op" id="5262822">.</span><span class="ident" id="5262823">Type</span>&nbsp;<span class="op" id="5262828">=</span>&nbsp;<span class="ident" id="5262830">typeOf</span><span class="op" id="5262836">(</span><span class="ident" id="5262837">e</span><span class="op" id="5262838">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5262842">case</span>&nbsp;<span class="ident" id="5262847">TagSubroutineType</span><span class="op" id="5262864">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5262868">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5262908">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5262925">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5262968">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263015">//&nbsp;&nbsp;&nbsp;&nbspAttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263076">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263091">//&nbsp;&nbsp;&nbsp;&nbspTagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263132">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263166">//&nbsp;&nbsp;&nbsp;&nbspTagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263206">t</span>&nbsp;<span class="op" id="5263208">:=</span>&nbsp;<span class="builtinfunc" id="5263211">new</span><span class="op" id="5263214">(</span><span class="ident" id="5263215">FuncType</span><span class="op" id="5263223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263227">typ</span>&nbsp;<span class="op" id="5263231">=</span>&nbsp;<span class="ident" id="5263233">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263237">typeCache</span><span class="op" id="5263246">[</span><span class="ident" id="5263247">off</span><span class="op" id="5263250">]</span>&nbsp;<span class="op" id="5263252">=</span>&nbsp;<span class="ident" id="5263254">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263258">if</span>&nbsp;<span class="ident" id="5263261">t</span><span class="op" id="5263262">.</span><span class="ident" id="5263263">ReturnType</span>&nbsp;<span class="op" id="5263274">=</span>&nbsp;<span class="ident" id="5263276">typeOf</span><span class="op" id="5263282">(</span><span class="ident" id="5263283">e</span><span class="op" id="5263284">)</span><span class="op" id="5263285">;</span>&nbsp;<span class="ident" id="5263287">err</span>&nbsp;<span class="op" id="5263291">!=</span>&nbsp;<span class="ident" id="5263294">nil</span>&nbsp;<span class="op" id="5263298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263303">goto</span>&nbsp;<span class="ident" id="5263308">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5263316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263320">t</span><span class="op" id="5263321">.</span><span class="ident" id="5263322">ParamType</span>&nbsp;<span class="op" id="5263332">=</span>&nbsp;<span class="builtinfunc" id="5263334">make</span><span class="op" id="5263338">(</span><span class="op" id="5263339">[</span><span class="op" id="5263340">]</span><span class="ident" id="5263341">Type</span><span class="op" id="5263345">,</span>&nbsp;<span class="num" id="5263347">0</span><span class="op" id="5263348">,</span>&nbsp;<span class="num" id="5263350">8</span><span class="op" id="5263351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263355">for</span>&nbsp;<span class="ident" id="5263359">kid</span>&nbsp;<span class="op" id="5263363">:=</span>&nbsp;<span class="ident" id="5263366">next</span><span class="op" id="5263370">(</span><span class="op" id="5263371">)</span><span class="op" id="5263372">;</span>&nbsp;<span class="ident" id="5263374">kid</span>&nbsp;<span class="op" id="5263378">!=</span>&nbsp;<span class="ident" id="5263381">nil</span><span class="op" id="5263384">;</span>&nbsp;<span class="ident" id="5263386">kid</span>&nbsp;<span class="op" id="5263390">=</span>&nbsp;<span class="ident" id="5263392">next</span><span class="op" id="5263396">(</span><span class="op" id="5263397">)</span>&nbsp;<span class="op" id="5263399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263404">var</span>&nbsp;<span class="ident" id="5263408">tkid</span>&nbsp;<span class="ident" id="5263413">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263421">switch</span>&nbsp;<span class="ident" id="5263428">kid</span><span class="op" id="5263431">.</span><span class="ident" id="5263432">Tag</span>&nbsp;<span class="op" id="5263436">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263441">default</span><span class="op" id="5263448">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263454">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263466">case</span>&nbsp;<span class="ident" id="5263471">TagFormalParameter</span><span class="op" id="5263489">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263495">if</span>&nbsp;<span class="ident" id="5263498">tkid</span>&nbsp;<span class="op" id="5263503">=</span>&nbsp;<span class="ident" id="5263505">typeOf</span><span class="op" id="5263511">(</span><span class="ident" id="5263512">kid</span><span class="op" id="5263515">)</span><span class="op" id="5263516">;</span>&nbsp;<span class="ident" id="5263518">err</span>&nbsp;<span class="op" id="5263522">!=</span>&nbsp;<span class="ident" id="5263525">nil</span>&nbsp;<span class="op" id="5263529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263536">goto</span>&nbsp;<span class="ident" id="5263541">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5263551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263556">case</span>&nbsp;<span class="ident" id="5263561">TagUnspecifiedParameters</span><span class="op" id="5263585">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263591">tkid</span>&nbsp;<span class="op" id="5263596">=</span>&nbsp;<span class="op" id="5263598">&amp;</span><span class="ident" id="5263599">DotDotDotType</span><span class="op" id="5263612">{</span><span class="op" id="5263613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5263618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263623">t</span><span class="op" id="5263624">.</span><span class="ident" id="5263625">ParamType</span>&nbsp;<span class="op" id="5263635">=</span>&nbsp;<span class="builtinfunc" id="5263637">append</span><span class="op" id="5263643">(</span><span class="ident" id="5263644">t</span><span class="op" id="5263645">.</span><span class="ident" id="5263646">ParamType</span><span class="op" id="5263655">,</span>&nbsp;<span class="ident" id="5263657">tkid</span><span class="op" id="5263661">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5263665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263669">case</span>&nbsp;<span class="ident" id="5263674">TagTypedef</span><span class="op" id="5263684">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263688">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263718">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263735">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263766">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263808">t</span>&nbsp;<span class="op" id="5263810">:=</span>&nbsp;<span class="builtinfunc" id="5263813">new</span><span class="op" id="5263816">(</span><span class="ident" id="5263817">TypedefType</span><span class="op" id="5263828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263832">typ</span>&nbsp;<span class="op" id="5263836">=</span>&nbsp;<span class="ident" id="5263838">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263842">typeCache</span><span class="op" id="5263851">[</span><span class="ident" id="5263852">off</span><span class="op" id="5263855">]</span>&nbsp;<span class="op" id="5263857">=</span>&nbsp;<span class="ident" id="5263859">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263863">t</span><span class="op" id="5263864">.</span><span class="ident" id="5263865">Name</span><span class="op" id="5263869">,</span>&nbsp;<span class="ident" id="5263871">_</span>&nbsp;<span class="op" id="5263873">=</span>&nbsp;<span class="ident" id="5263875">e</span><span class="op" id="5263876">.</span><span class="ident" id="5263877">Val</span><span class="op" id="5263880">(</span><span class="ident" id="5263881">AttrName</span><span class="op" id="5263889">)</span><span class="op" id="5263890">.</span><span class="op" id="5263891">(</span><span class="builtintype" id="5263892">string</span><span class="op" id="5263898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5263902">t</span><span class="op" id="5263903">.</span><span class="ident" id="5263904">Type</span>&nbsp;<span class="op" id="5263909">=</span>&nbsp;<span class="ident" id="5263911">typeOf</span><span class="op" id="5263917">(</span><span class="ident" id="5263918">e</span><span class="op" id="5263919">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5263923">case</span>&nbsp;<span class="ident" id="5263928">TagUnspecifiedType</span><span class="op" id="5263946">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263950">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5263989">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5264006">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264026">t</span>&nbsp;<span class="op" id="5264028">:=</span>&nbsp;<span class="builtinfunc" id="5264031">new</span><span class="op" id="5264034">(</span><span class="ident" id="5264035">UnspecifiedType</span><span class="op" id="5264050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264054">typ</span>&nbsp;<span class="op" id="5264058">=</span>&nbsp;<span class="ident" id="5264060">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264064">typeCache</span><span class="op" id="5264073">[</span><span class="ident" id="5264074">off</span><span class="op" id="5264077">]</span>&nbsp;<span class="op" id="5264079">=</span>&nbsp;<span class="ident" id="5264081">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264085">t</span><span class="op" id="5264086">.</span><span class="ident" id="5264087">Name</span><span class="op" id="5264091">,</span>&nbsp;<span class="ident" id="5264093">_</span>&nbsp;<span class="op" id="5264095">=</span>&nbsp;<span class="ident" id="5264097">e</span><span class="op" id="5264098">.</span><span class="ident" id="5264099">Val</span><span class="op" id="5264102">(</span><span class="ident" id="5264103">AttrName</span><span class="op" id="5264111">)</span><span class="op" id="5264112">.</span><span class="op" id="5264113">(</span><span class="builtintype" id="5264114">string</span><span class="op" id="5264120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5264123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264127">if</span>&nbsp;<span class="ident" id="5264130">err</span>&nbsp;<span class="op" id="5264134">!=</span>&nbsp;<span class="ident" id="5264137">nil</span>&nbsp;<span class="op" id="5264141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264145">goto</span>&nbsp;<span class="ident" id="5264150">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5264157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5264161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264165">b</span><span class="op" id="5264166">,</span>&nbsp;<span class="ident" id="5264168">ok</span>&nbsp;<span class="op" id="5264171">:=</span>&nbsp;<span class="ident" id="5264174">e</span><span class="op" id="5264175">.</span><span class="ident" id="5264176">Val</span><span class="op" id="5264179">(</span><span class="ident" id="5264180">AttrByteSize</span><span class="op" id="5264192">)</span><span class="op" id="5264193">.</span><span class="op" id="5264194">(</span><span class="ident" id="5264195">int64</span><span class="op" id="5264200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264204">if</span>&nbsp;<span class="op" id="5264207">!</span><span class="ident" id="5264208">ok</span>&nbsp;<span class="op" id="5264211">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264216">b</span>&nbsp;<span class="op" id="5264218">=</span>&nbsp;<span class="op" id="5264220">-</span><span class="num" id="5264221">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5264225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264229">typ</span><span class="op" id="5264232">.</span><span class="ident" id="5264233">Common</span><span class="op" id="5264239">(</span><span class="op" id="5264240">)</span><span class="op" id="5264241">.</span><span class="ident" id="5264242">ByteSize</span>&nbsp;<span class="op" id="5264251">=</span>&nbsp;<span class="ident" id="5264253">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5264256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264259">return</span>&nbsp;<span class="ident" id="5264266">typ</span><span class="op" id="5264269">,</span>&nbsp;<span class="ident" id="5264271">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="5264276">Error</span><span class="op" id="5264281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5264284">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5264339">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5264394">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5264428">delete</span><span class="op" id="5264434">(</span><span class="ident" id="5264435">typeCache</span><span class="op" id="5264444">,</span>&nbsp;<span class="ident" id="5264446">off</span><span class="op" id="5264449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264452">return</span>&nbsp;<span class="ident" id="5264459">nil</span><span class="op" id="5264462">,</span>&nbsp;<span class="ident" id="5264464">err</span><br>
<span class="lineno"></span><span class="op" id="5264468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5264471">func</span>&nbsp;<span class="ident" id="5264476">zeroArray</span><span class="op" id="5264485">(</span><span class="ident" id="5264486">t</span>&nbsp;<span class="op" id="5264488">*</span><span class="ident" id="5264489">Type</span><span class="op" id="5264493">)</span>&nbsp;<span class="op" id="5264495">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264498">if</span>&nbsp;<span class="ident" id="5264501">t</span>&nbsp;<span class="op" id="5264503">==</span>&nbsp;<span class="ident" id="5264506">nil</span>&nbsp;<span class="op" id="5264510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264514">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5264522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264525">at</span><span class="op" id="5264527">,</span>&nbsp;<span class="ident" id="5264529">ok</span>&nbsp;<span class="op" id="5264532">:=</span>&nbsp;<span class="op" id="5264535">(</span><span class="op" id="5264536">*</span><span class="ident" id="5264537">t</span><span class="op" id="5264538">)</span><span class="op" id="5264539">.</span><span class="op" id="5264540">(</span><span class="op" id="5264541">*</span><span class="ident" id="5264542">ArrayType</span><span class="op" id="5264551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264554">if</span>&nbsp;<span class="op" id="5264557">!</span><span class="ident" id="5264558">ok</span>&nbsp;<span class="op" id="5264561">||</span>&nbsp;<span class="ident" id="5264564">at</span><span class="op" id="5264566">.</span><span class="ident" id="5264567">Type</span><span class="op" id="5264571">.</span><span class="ident" id="5264572">Size</span><span class="op" id="5264576">(</span><span class="op" id="5264577">)</span>&nbsp;<span class="op" id="5264579">==</span>&nbsp;<span class="num" id="5264582">0</span>&nbsp;<span class="op" id="5264584">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5264588">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5264596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5264599">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264648">tt</span>&nbsp;<span class="op" id="5264651">:=</span>&nbsp;<span class="op" id="5264654">*</span><span class="ident" id="5264655">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5264659">tt</span><span class="op" id="5264661">.</span><span class="ident" id="5264662">Count</span>&nbsp;<span class="op" id="5264668">=</span>&nbsp;<span class="num" id="5264670">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5264673">*</span><span class="ident" id="5264674">t</span>&nbsp;<span class="op" id="5264676">=</span>&nbsp;<span class="op" id="5264678">&amp;</span><span class="ident" id="5264679">tt</span><br>
<span class="lineno"></span><span class="op" id="5264682">}</span>
</div>
</body>
</html>
