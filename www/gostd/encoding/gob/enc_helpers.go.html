<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4462354">//&nbsp;Created&nbsp;by&nbsp;encgen&nbsp;--output&nbsp;enc_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4462413">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4462468">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="4462522">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4462573">package</span>&nbsp;<span class="ident" id="4462581">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4462586">import</span>&nbsp;<span class="op" id="4462593">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4462596">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="4462606">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4462609">var</span>&nbsp;<span class="ident" id="4462613">encArrayHelper</span>&nbsp;<span class="op" id="4462628">=</span>&nbsp;<span class="keyword" id="4462630">map</span><span class="op" id="4462633">[</span><span class="ident" id="4462634">reflect</span><span class="op" id="4462641">.</span><span class="ident" id="4462642">Kind</span><span class="op" id="4462646">]</span><span class="ident" id="4462647">encHelper</span><span class="op" id="4462656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462659">reflect</span><span class="op" id="4462666">.</span><span class="ident" id="4462667">Bool</span><span class="op" id="4462671">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4462679">encBoolArray</span><span class="op" id="4462691">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462694">reflect</span><span class="op" id="4462701">.</span><span class="ident" id="4462702">Complex64</span><span class="op" id="4462711">:</span>&nbsp;&nbsp;<span class="ident" id="4462714">encComplex64Array</span><span class="op" id="4462731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462734">reflect</span><span class="op" id="4462741">.</span><span class="ident" id="4462742">Complex128</span><span class="op" id="4462752">:</span>&nbsp;<span class="ident" id="4462754">encComplex128Array</span><span class="op" id="4462772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462775">reflect</span><span class="op" id="4462782">.</span><span class="ident" id="4462783">Float32</span><span class="op" id="4462790">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4462795">encFloat32Array</span><span class="op" id="4462810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462813">reflect</span><span class="op" id="4462820">.</span><span class="ident" id="4462821">Float64</span><span class="op" id="4462828">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4462833">encFloat64Array</span><span class="op" id="4462848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462851">reflect</span><span class="op" id="4462858">.</span><span class="ident" id="4462859">Int</span><span class="op" id="4462862">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4462871">encIntArray</span><span class="op" id="4462882">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462885">reflect</span><span class="op" id="4462892">.</span><span class="ident" id="4462893">Int16</span><span class="op" id="4462898">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4462905">encInt16Array</span><span class="op" id="4462918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462921">reflect</span><span class="op" id="4462928">.</span><span class="ident" id="4462929">Int32</span><span class="op" id="4462934">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4462941">encInt32Array</span><span class="op" id="4462954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462957">reflect</span><span class="op" id="4462964">.</span><span class="ident" id="4462965">Int64</span><span class="op" id="4462970">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4462977">encInt64Array</span><span class="op" id="4462990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4462993">reflect</span><span class="op" id="4463000">.</span><span class="ident" id="4463001">Int8</span><span class="op" id="4463005">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463013">encInt8Array</span><span class="op" id="4463025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463028">reflect</span><span class="op" id="4463035">.</span><span class="ident" id="4463036">String</span><span class="op" id="4463042">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463048">encStringArray</span><span class="op" id="4463062">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463065">reflect</span><span class="op" id="4463072">.</span><span class="ident" id="4463073">Uint</span><span class="op" id="4463077">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463085">encUintArray</span><span class="op" id="4463097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463100">reflect</span><span class="op" id="4463107">.</span><span class="ident" id="4463108">Uint16</span><span class="op" id="4463114">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463120">encUint16Array</span><span class="op" id="4463134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463137">reflect</span><span class="op" id="4463144">.</span><span class="ident" id="4463145">Uint32</span><span class="op" id="4463151">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463157">encUint32Array</span><span class="op" id="4463171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463174">reflect</span><span class="op" id="4463181">.</span><span class="ident" id="4463182">Uint64</span><span class="op" id="4463188">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463194">encUint64Array</span><span class="op" id="4463208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463211">reflect</span><span class="op" id="4463218">.</span><span class="ident" id="4463219">Uintptr</span><span class="op" id="4463226">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463231">encUintptrArray</span><span class="op" id="4463246">,</span><br>
<span class="lineno">30</span><span class="op" id="4463248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4463251">var</span>&nbsp;<span class="ident" id="4463255">encSliceHelper</span>&nbsp;<span class="op" id="4463270">=</span>&nbsp;<span class="keyword" id="4463272">map</span><span class="op" id="4463275">[</span><span class="ident" id="4463276">reflect</span><span class="op" id="4463283">.</span><span class="ident" id="4463284">Kind</span><span class="op" id="4463288">]</span><span class="ident" id="4463289">encHelper</span><span class="op" id="4463298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463301">reflect</span><span class="op" id="4463308">.</span><span class="ident" id="4463309">Bool</span><span class="op" id="4463313">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463321">encBoolSlice</span><span class="op" id="4463333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463336">reflect</span><span class="op" id="4463343">.</span><span class="ident" id="4463344">Complex64</span><span class="op" id="4463353">:</span>&nbsp;&nbsp;<span class="ident" id="4463356">encComplex64Slice</span><span class="op" id="4463373">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463376">reflect</span><span class="op" id="4463383">.</span><span class="ident" id="4463384">Complex128</span><span class="op" id="4463394">:</span>&nbsp;<span class="ident" id="4463396">encComplex128Slice</span><span class="op" id="4463414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463417">reflect</span><span class="op" id="4463424">.</span><span class="ident" id="4463425">Float32</span><span class="op" id="4463432">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463437">encFloat32Slice</span><span class="op" id="4463452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463455">reflect</span><span class="op" id="4463462">.</span><span class="ident" id="4463463">Float64</span><span class="op" id="4463470">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463475">encFloat64Slice</span><span class="op" id="4463490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463493">reflect</span><span class="op" id="4463500">.</span><span class="ident" id="4463501">Int</span><span class="op" id="4463504">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463513">encIntSlice</span><span class="op" id="4463524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463527">reflect</span><span class="op" id="4463534">.</span><span class="ident" id="4463535">Int16</span><span class="op" id="4463540">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463547">encInt16Slice</span><span class="op" id="4463560">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463563">reflect</span><span class="op" id="4463570">.</span><span class="ident" id="4463571">Int32</span><span class="op" id="4463576">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463583">encInt32Slice</span><span class="op" id="4463596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463599">reflect</span><span class="op" id="4463606">.</span><span class="ident" id="4463607">Int64</span><span class="op" id="4463612">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463619">encInt64Slice</span><span class="op" id="4463632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463635">reflect</span><span class="op" id="4463642">.</span><span class="ident" id="4463643">Int8</span><span class="op" id="4463647">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463655">encInt8Slice</span><span class="op" id="4463667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463670">reflect</span><span class="op" id="4463677">.</span><span class="ident" id="4463678">String</span><span class="op" id="4463684">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463690">encStringSlice</span><span class="op" id="4463704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463707">reflect</span><span class="op" id="4463714">.</span><span class="ident" id="4463715">Uint</span><span class="op" id="4463719">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463727">encUintSlice</span><span class="op" id="4463739">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463742">reflect</span><span class="op" id="4463749">.</span><span class="ident" id="4463750">Uint16</span><span class="op" id="4463756">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463762">encUint16Slice</span><span class="op" id="4463776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463779">reflect</span><span class="op" id="4463786">.</span><span class="ident" id="4463787">Uint32</span><span class="op" id="4463793">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463799">encUint32Slice</span><span class="op" id="4463813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463816">reflect</span><span class="op" id="4463823">.</span><span class="ident" id="4463824">Uint64</span><span class="op" id="4463830">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463836">encUint64Slice</span><span class="op" id="4463850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4463853">reflect</span><span class="op" id="4463860">.</span><span class="ident" id="4463861">Uintptr</span><span class="op" id="4463868">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4463873">encUintptrSlice</span><span class="op" id="4463888">,</span><br>
<span class="lineno"></span><span class="op" id="4463890">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="4463893">func</span>&nbsp;<span class="ident" id="4463898">encBoolArray</span><span class="op" id="4463910">(</span><span class="ident" id="4463911">state</span>&nbsp;<span class="op" id="4463917">*</span><span class="ident" id="4463918">encoderState</span><span class="op" id="4463930">,</span>&nbsp;<span class="ident" id="4463932">v</span>&nbsp;<span class="ident" id="4463934">reflect</span><span class="op" id="4463941">.</span><span class="ident" id="4463942">Value</span><span class="op" id="4463947">)</span>&nbsp;<span class="builtintype" id="4463949">bool</span>&nbsp;<span class="op" id="4463954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4463957">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4463998">if</span>&nbsp;<span class="op" id="4464001">!</span><span class="ident" id="4464002">v</span><span class="op" id="4464003">.</span><span class="ident" id="4464004">CanAddr</span><span class="op" id="4464011">(</span><span class="op" id="4464012">)</span>&nbsp;<span class="op" id="4464014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464018">return</span>&nbsp;<span class="builtintype" id="4464025">false</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4464032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464035">return</span>&nbsp;<span class="ident" id="4464042">encBoolSlice</span><span class="op" id="4464054">(</span><span class="ident" id="4464055">state</span><span class="op" id="4464060">,</span>&nbsp;<span class="ident" id="4464062">v</span><span class="op" id="4464063">.</span><span class="ident" id="4464064">Slice</span><span class="op" id="4464069">(</span><span class="num" id="4464070">0</span><span class="op" id="4464071">,</span>&nbsp;<span class="ident" id="4464073">v</span><span class="op" id="4464074">.</span><span class="ident" id="4464075">Len</span><span class="op" id="4464078">(</span><span class="op" id="4464079">)</span><span class="op" id="4464080">)</span><span class="op" id="4464081">)</span><br>
<span class="lineno"></span><span class="op" id="4464083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4464086">func</span>&nbsp;<span class="ident" id="4464091">encBoolSlice</span><span class="op" id="4464103">(</span><span class="ident" id="4464104">state</span>&nbsp;<span class="op" id="4464110">*</span><span class="ident" id="4464111">encoderState</span><span class="op" id="4464123">,</span>&nbsp;<span class="ident" id="4464125">v</span>&nbsp;<span class="ident" id="4464127">reflect</span><span class="op" id="4464134">.</span><span class="ident" id="4464135">Value</span><span class="op" id="4464140">)</span>&nbsp;<span class="builtintype" id="4464142">bool</span>&nbsp;<span class="op" id="4464147">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4464150">slice</span><span class="op" id="4464155">,</span>&nbsp;<span class="ident" id="4464157">ok</span>&nbsp;<span class="op" id="4464160">:=</span>&nbsp;<span class="ident" id="4464163">v</span><span class="op" id="4464164">.</span><span class="ident" id="4464165">Interface</span><span class="op" id="4464174">(</span><span class="op" id="4464175">)</span><span class="op" id="4464176">.</span><span class="op" id="4464177">(</span><span class="op" id="4464178">[</span><span class="op" id="4464179">]</span><span class="builtintype" id="4464180">bool</span><span class="op" id="4464184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464187">if</span>&nbsp;<span class="op" id="4464190">!</span><span class="ident" id="4464191">ok</span>&nbsp;<span class="op" id="4464194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4464198">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464273">return</span>&nbsp;<span class="builtintype" id="4464280">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4464287">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464290">for</span>&nbsp;<span class="ident" id="4464294">_</span><span class="op" id="4464295">,</span>&nbsp;<span class="ident" id="4464297">x</span>&nbsp;<span class="op" id="4464299">:=</span>&nbsp;<span class="keyword" id="4464302">range</span>&nbsp;<span class="ident" id="4464308">slice</span>&nbsp;<span class="op" id="4464314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464318">if</span>&nbsp;<span class="ident" id="4464321">x</span>&nbsp;<span class="op" id="4464323">!=</span>&nbsp;<span class="builtintype" id="4464326">false</span>&nbsp;<span class="op" id="4464332">||</span>&nbsp;<span class="ident" id="4464335">state</span><span class="op" id="4464340">.</span><span class="ident" id="4464341">sendZero</span>&nbsp;<span class="op" id="4464350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464355">if</span>&nbsp;<span class="ident" id="4464358">x</span>&nbsp;<span class="op" id="4464360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4464366">state</span><span class="op" id="4464371">.</span><span class="ident" id="4464372">encodeUint</span><span class="op" id="4464382">(</span><span class="num" id="4464383">1</span><span class="op" id="4464384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4464389">}</span>&nbsp;<span class="keyword" id="4464391">else</span>&nbsp;<span class="op" id="4464396">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4464402">state</span><span class="op" id="4464407">.</span><span class="ident" id="4464408">encodeUint</span><span class="op" id="4464418">(</span><span class="num" id="4464419">0</span><span class="op" id="4464420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4464425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4464429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4464432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464435">return</span>&nbsp;<span class="builtintype" id="4464442">true</span><br>
<span class="lineno">75</span><span class="op" id="4464447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4464450">func</span>&nbsp;<span class="ident" id="4464455">encComplex64Array</span><span class="op" id="4464472">(</span><span class="ident" id="4464473">state</span>&nbsp;<span class="op" id="4464479">*</span><span class="ident" id="4464480">encoderState</span><span class="op" id="4464492">,</span>&nbsp;<span class="ident" id="4464494">v</span>&nbsp;<span class="ident" id="4464496">reflect</span><span class="op" id="4464503">.</span><span class="ident" id="4464504">Value</span><span class="op" id="4464509">)</span>&nbsp;<span class="builtintype" id="4464511">bool</span>&nbsp;<span class="op" id="4464516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4464519">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464560">if</span>&nbsp;<span class="op" id="4464563">!</span><span class="ident" id="4464564">v</span><span class="op" id="4464565">.</span><span class="ident" id="4464566">CanAddr</span><span class="op" id="4464573">(</span><span class="op" id="4464574">)</span>&nbsp;<span class="op" id="4464576">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464580">return</span>&nbsp;<span class="builtintype" id="4464587">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4464594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464597">return</span>&nbsp;<span class="ident" id="4464604">encComplex64Slice</span><span class="op" id="4464621">(</span><span class="ident" id="4464622">state</span><span class="op" id="4464627">,</span>&nbsp;<span class="ident" id="4464629">v</span><span class="op" id="4464630">.</span><span class="ident" id="4464631">Slice</span><span class="op" id="4464636">(</span><span class="num" id="4464637">0</span><span class="op" id="4464638">,</span>&nbsp;<span class="ident" id="4464640">v</span><span class="op" id="4464641">.</span><span class="ident" id="4464642">Len</span><span class="op" id="4464645">(</span><span class="op" id="4464646">)</span><span class="op" id="4464647">)</span><span class="op" id="4464648">)</span><br>
<span class="lineno"></span><span class="op" id="4464650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="4464653">func</span>&nbsp;<span class="ident" id="4464658">encComplex64Slice</span><span class="op" id="4464675">(</span><span class="ident" id="4464676">state</span>&nbsp;<span class="op" id="4464682">*</span><span class="ident" id="4464683">encoderState</span><span class="op" id="4464695">,</span>&nbsp;<span class="ident" id="4464697">v</span>&nbsp;<span class="ident" id="4464699">reflect</span><span class="op" id="4464706">.</span><span class="ident" id="4464707">Value</span><span class="op" id="4464712">)</span>&nbsp;<span class="builtintype" id="4464714">bool</span>&nbsp;<span class="op" id="4464719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4464722">slice</span><span class="op" id="4464727">,</span>&nbsp;<span class="ident" id="4464729">ok</span>&nbsp;<span class="op" id="4464732">:=</span>&nbsp;<span class="ident" id="4464735">v</span><span class="op" id="4464736">.</span><span class="ident" id="4464737">Interface</span><span class="op" id="4464746">(</span><span class="op" id="4464747">)</span><span class="op" id="4464748">.</span><span class="op" id="4464749">(</span><span class="op" id="4464750">[</span><span class="op" id="4464751">]</span><span class="builtintype" id="4464752">complex64</span><span class="op" id="4464761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464764">if</span>&nbsp;<span class="op" id="4464767">!</span><span class="ident" id="4464768">ok</span>&nbsp;<span class="op" id="4464771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4464775">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464860">return</span>&nbsp;<span class="builtintype" id="4464867">false</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4464874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464877">for</span>&nbsp;<span class="ident" id="4464881">_</span><span class="op" id="4464882">,</span>&nbsp;<span class="ident" id="4464884">x</span>&nbsp;<span class="op" id="4464886">:=</span>&nbsp;<span class="keyword" id="4464889">range</span>&nbsp;<span class="ident" id="4464895">slice</span>&nbsp;<span class="op" id="4464901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4464905">if</span>&nbsp;<span class="ident" id="4464908">x</span>&nbsp;<span class="op" id="4464910">!=</span>&nbsp;<span class="num" id="4464913">0</span><span class="op" id="4464914">+</span><span class="num" id="4464915">0i</span>&nbsp;<span class="op" id="4464918">||</span>&nbsp;<span class="ident" id="4464921">state</span><span class="op" id="4464926">.</span><span class="ident" id="4464927">sendZero</span>&nbsp;<span class="op" id="4464936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4464941">rpart</span>&nbsp;<span class="op" id="4464947">:=</span>&nbsp;<span class="ident" id="4464950">floatBits</span><span class="op" id="4464959">(</span><span class="builtintype" id="4464960">float64</span><span class="op" id="4464967">(</span><span class="builtinfunc" id="4464968">real</span><span class="op" id="4464972">(</span><span class="ident" id="4464973">x</span><span class="op" id="4464974">)</span><span class="op" id="4464975">)</span><span class="op" id="4464976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4464981">ipart</span>&nbsp;<span class="op" id="4464987">:=</span>&nbsp;<span class="ident" id="4464990">floatBits</span><span class="op" id="4464999">(</span><span class="builtintype" id="4465000">float64</span><span class="op" id="4465007">(</span><span class="builtinfunc" id="4465008">imag</span><span class="op" id="4465012">(</span><span class="ident" id="4465013">x</span><span class="op" id="4465014">)</span><span class="op" id="4465015">)</span><span class="op" id="4465016">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4465021">state</span><span class="op" id="4465026">.</span><span class="ident" id="4465027">encodeUint</span><span class="op" id="4465037">(</span><span class="ident" id="4465038">rpart</span><span class="op" id="4465043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4465048">state</span><span class="op" id="4465053">.</span><span class="ident" id="4465054">encodeUint</span><span class="op" id="4465064">(</span><span class="ident" id="4465065">ipart</span><span class="op" id="4465070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4465074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4465077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465080">return</span>&nbsp;<span class="builtintype" id="4465087">true</span><br>
<span class="lineno">100</span><span class="op" id="4465092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4465095">func</span>&nbsp;<span class="ident" id="4465100">encComplex128Array</span><span class="op" id="4465118">(</span><span class="ident" id="4465119">state</span>&nbsp;<span class="op" id="4465125">*</span><span class="ident" id="4465126">encoderState</span><span class="op" id="4465138">,</span>&nbsp;<span class="ident" id="4465140">v</span>&nbsp;<span class="ident" id="4465142">reflect</span><span class="op" id="4465149">.</span><span class="ident" id="4465150">Value</span><span class="op" id="4465155">)</span>&nbsp;<span class="builtintype" id="4465157">bool</span>&nbsp;<span class="op" id="4465162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4465165">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465206">if</span>&nbsp;<span class="op" id="4465209">!</span><span class="ident" id="4465210">v</span><span class="op" id="4465211">.</span><span class="ident" id="4465212">CanAddr</span><span class="op" id="4465219">(</span><span class="op" id="4465220">)</span>&nbsp;<span class="op" id="4465222">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465226">return</span>&nbsp;<span class="builtintype" id="4465233">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4465240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465243">return</span>&nbsp;<span class="ident" id="4465250">encComplex128Slice</span><span class="op" id="4465268">(</span><span class="ident" id="4465269">state</span><span class="op" id="4465274">,</span>&nbsp;<span class="ident" id="4465276">v</span><span class="op" id="4465277">.</span><span class="ident" id="4465278">Slice</span><span class="op" id="4465283">(</span><span class="num" id="4465284">0</span><span class="op" id="4465285">,</span>&nbsp;<span class="ident" id="4465287">v</span><span class="op" id="4465288">.</span><span class="ident" id="4465289">Len</span><span class="op" id="4465292">(</span><span class="op" id="4465293">)</span><span class="op" id="4465294">)</span><span class="op" id="4465295">)</span><br>
<span class="lineno"></span><span class="op" id="4465297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="4465300">func</span>&nbsp;<span class="ident" id="4465305">encComplex128Slice</span><span class="op" id="4465323">(</span><span class="ident" id="4465324">state</span>&nbsp;<span class="op" id="4465330">*</span><span class="ident" id="4465331">encoderState</span><span class="op" id="4465343">,</span>&nbsp;<span class="ident" id="4465345">v</span>&nbsp;<span class="ident" id="4465347">reflect</span><span class="op" id="4465354">.</span><span class="ident" id="4465355">Value</span><span class="op" id="4465360">)</span>&nbsp;<span class="builtintype" id="4465362">bool</span>&nbsp;<span class="op" id="4465367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4465370">slice</span><span class="op" id="4465375">,</span>&nbsp;<span class="ident" id="4465377">ok</span>&nbsp;<span class="op" id="4465380">:=</span>&nbsp;<span class="ident" id="4465383">v</span><span class="op" id="4465384">.</span><span class="ident" id="4465385">Interface</span><span class="op" id="4465394">(</span><span class="op" id="4465395">)</span><span class="op" id="4465396">.</span><span class="op" id="4465397">(</span><span class="op" id="4465398">[</span><span class="op" id="4465399">]</span><span class="builtintype" id="4465400">complex128</span><span class="op" id="4465410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465413">if</span>&nbsp;<span class="op" id="4465416">!</span><span class="ident" id="4465417">ok</span>&nbsp;<span class="op" id="4465420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4465424">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465511">return</span>&nbsp;<span class="builtintype" id="4465518">false</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4465525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465528">for</span>&nbsp;<span class="ident" id="4465532">_</span><span class="op" id="4465533">,</span>&nbsp;<span class="ident" id="4465535">x</span>&nbsp;<span class="op" id="4465537">:=</span>&nbsp;<span class="keyword" id="4465540">range</span>&nbsp;<span class="ident" id="4465546">slice</span>&nbsp;<span class="op" id="4465552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465556">if</span>&nbsp;<span class="ident" id="4465559">x</span>&nbsp;<span class="op" id="4465561">!=</span>&nbsp;<span class="num" id="4465564">0</span><span class="op" id="4465565">+</span><span class="num" id="4465566">0i</span>&nbsp;<span class="op" id="4465569">||</span>&nbsp;<span class="ident" id="4465572">state</span><span class="op" id="4465577">.</span><span class="ident" id="4465578">sendZero</span>&nbsp;<span class="op" id="4465587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4465592">rpart</span>&nbsp;<span class="op" id="4465598">:=</span>&nbsp;<span class="ident" id="4465601">floatBits</span><span class="op" id="4465610">(</span><span class="builtinfunc" id="4465611">real</span><span class="op" id="4465615">(</span><span class="ident" id="4465616">x</span><span class="op" id="4465617">)</span><span class="op" id="4465618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4465623">ipart</span>&nbsp;<span class="op" id="4465629">:=</span>&nbsp;<span class="ident" id="4465632">floatBits</span><span class="op" id="4465641">(</span><span class="builtinfunc" id="4465642">imag</span><span class="op" id="4465646">(</span><span class="ident" id="4465647">x</span><span class="op" id="4465648">)</span><span class="op" id="4465649">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4465654">state</span><span class="op" id="4465659">.</span><span class="ident" id="4465660">encodeUint</span><span class="op" id="4465670">(</span><span class="ident" id="4465671">rpart</span><span class="op" id="4465676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4465681">state</span><span class="op" id="4465686">.</span><span class="ident" id="4465687">encodeUint</span><span class="op" id="4465697">(</span><span class="ident" id="4465698">ipart</span><span class="op" id="4465703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4465707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4465710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465713">return</span>&nbsp;<span class="builtintype" id="4465720">true</span><br>
<span class="lineno">125</span><span class="op" id="4465725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4465728">func</span>&nbsp;<span class="ident" id="4465733">encFloat32Array</span><span class="op" id="4465748">(</span><span class="ident" id="4465749">state</span>&nbsp;<span class="op" id="4465755">*</span><span class="ident" id="4465756">encoderState</span><span class="op" id="4465768">,</span>&nbsp;<span class="ident" id="4465770">v</span>&nbsp;<span class="ident" id="4465772">reflect</span><span class="op" id="4465779">.</span><span class="ident" id="4465780">Value</span><span class="op" id="4465785">)</span>&nbsp;<span class="builtintype" id="4465787">bool</span>&nbsp;<span class="op" id="4465792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4465795">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465836">if</span>&nbsp;<span class="op" id="4465839">!</span><span class="ident" id="4465840">v</span><span class="op" id="4465841">.</span><span class="ident" id="4465842">CanAddr</span><span class="op" id="4465849">(</span><span class="op" id="4465850">)</span>&nbsp;<span class="op" id="4465852">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465856">return</span>&nbsp;<span class="builtintype" id="4465863">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4465870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4465873">return</span>&nbsp;<span class="ident" id="4465880">encFloat32Slice</span><span class="op" id="4465895">(</span><span class="ident" id="4465896">state</span><span class="op" id="4465901">,</span>&nbsp;<span class="ident" id="4465903">v</span><span class="op" id="4465904">.</span><span class="ident" id="4465905">Slice</span><span class="op" id="4465910">(</span><span class="num" id="4465911">0</span><span class="op" id="4465912">,</span>&nbsp;<span class="ident" id="4465914">v</span><span class="op" id="4465915">.</span><span class="ident" id="4465916">Len</span><span class="op" id="4465919">(</span><span class="op" id="4465920">)</span><span class="op" id="4465921">)</span><span class="op" id="4465922">)</span><br>
<span class="lineno"></span><span class="op" id="4465924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="4465927">func</span>&nbsp;<span class="ident" id="4465932">encFloat32Slice</span><span class="op" id="4465947">(</span><span class="ident" id="4465948">state</span>&nbsp;<span class="op" id="4465954">*</span><span class="ident" id="4465955">encoderState</span><span class="op" id="4465967">,</span>&nbsp;<span class="ident" id="4465969">v</span>&nbsp;<span class="ident" id="4465971">reflect</span><span class="op" id="4465978">.</span><span class="ident" id="4465979">Value</span><span class="op" id="4465984">)</span>&nbsp;<span class="builtintype" id="4465986">bool</span>&nbsp;<span class="op" id="4465991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4465994">slice</span><span class="op" id="4465999">,</span>&nbsp;<span class="ident" id="4466001">ok</span>&nbsp;<span class="op" id="4466004">:=</span>&nbsp;<span class="ident" id="4466007">v</span><span class="op" id="4466008">.</span><span class="ident" id="4466009">Interface</span><span class="op" id="4466018">(</span><span class="op" id="4466019">)</span><span class="op" id="4466020">.</span><span class="op" id="4466021">(</span><span class="op" id="4466022">[</span><span class="op" id="4466023">]</span><span class="builtintype" id="4466024">float32</span><span class="op" id="4466031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466034">if</span>&nbsp;<span class="op" id="4466037">!</span><span class="ident" id="4466038">ok</span>&nbsp;<span class="op" id="4466041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4466045">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466126">return</span>&nbsp;<span class="builtintype" id="4466133">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4466140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466143">for</span>&nbsp;<span class="ident" id="4466147">_</span><span class="op" id="4466148">,</span>&nbsp;<span class="ident" id="4466150">x</span>&nbsp;<span class="op" id="4466152">:=</span>&nbsp;<span class="keyword" id="4466155">range</span>&nbsp;<span class="ident" id="4466161">slice</span>&nbsp;<span class="op" id="4466167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466171">if</span>&nbsp;<span class="ident" id="4466174">x</span>&nbsp;<span class="op" id="4466176">!=</span>&nbsp;<span class="num" id="4466179">0</span>&nbsp;<span class="op" id="4466181">||</span>&nbsp;<span class="ident" id="4466184">state</span><span class="op" id="4466189">.</span><span class="ident" id="4466190">sendZero</span>&nbsp;<span class="op" id="4466199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4466204">bits</span>&nbsp;<span class="op" id="4466209">:=</span>&nbsp;<span class="ident" id="4466212">floatBits</span><span class="op" id="4466221">(</span><span class="builtintype" id="4466222">float64</span><span class="op" id="4466229">(</span><span class="ident" id="4466230">x</span><span class="op" id="4466231">)</span><span class="op" id="4466232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4466237">state</span><span class="op" id="4466242">.</span><span class="ident" id="4466243">encodeUint</span><span class="op" id="4466253">(</span><span class="ident" id="4466254">bits</span><span class="op" id="4466258">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4466262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4466265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466268">return</span>&nbsp;<span class="builtintype" id="4466275">true</span><br>
<span class="lineno"></span><span class="op" id="4466280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="4466283">func</span>&nbsp;<span class="ident" id="4466288">encFloat64Array</span><span class="op" id="4466303">(</span><span class="ident" id="4466304">state</span>&nbsp;<span class="op" id="4466310">*</span><span class="ident" id="4466311">encoderState</span><span class="op" id="4466323">,</span>&nbsp;<span class="ident" id="4466325">v</span>&nbsp;<span class="ident" id="4466327">reflect</span><span class="op" id="4466334">.</span><span class="ident" id="4466335">Value</span><span class="op" id="4466340">)</span>&nbsp;<span class="builtintype" id="4466342">bool</span>&nbsp;<span class="op" id="4466347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4466350">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466391">if</span>&nbsp;<span class="op" id="4466394">!</span><span class="ident" id="4466395">v</span><span class="op" id="4466396">.</span><span class="ident" id="4466397">CanAddr</span><span class="op" id="4466404">(</span><span class="op" id="4466405">)</span>&nbsp;<span class="op" id="4466407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466411">return</span>&nbsp;<span class="builtintype" id="4466418">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4466425">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466428">return</span>&nbsp;<span class="ident" id="4466435">encFloat64Slice</span><span class="op" id="4466450">(</span><span class="ident" id="4466451">state</span><span class="op" id="4466456">,</span>&nbsp;<span class="ident" id="4466458">v</span><span class="op" id="4466459">.</span><span class="ident" id="4466460">Slice</span><span class="op" id="4466465">(</span><span class="num" id="4466466">0</span><span class="op" id="4466467">,</span>&nbsp;<span class="ident" id="4466469">v</span><span class="op" id="4466470">.</span><span class="ident" id="4466471">Len</span><span class="op" id="4466474">(</span><span class="op" id="4466475">)</span><span class="op" id="4466476">)</span><span class="op" id="4466477">)</span><br>
<span class="lineno"></span><span class="op" id="4466479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4466482">func</span>&nbsp;<span class="ident" id="4466487">encFloat64Slice</span><span class="op" id="4466502">(</span><span class="ident" id="4466503">state</span>&nbsp;<span class="op" id="4466509">*</span><span class="ident" id="4466510">encoderState</span><span class="op" id="4466522">,</span>&nbsp;<span class="ident" id="4466524">v</span>&nbsp;<span class="ident" id="4466526">reflect</span><span class="op" id="4466533">.</span><span class="ident" id="4466534">Value</span><span class="op" id="4466539">)</span>&nbsp;<span class="builtintype" id="4466541">bool</span>&nbsp;<span class="op" id="4466546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4466549">slice</span><span class="op" id="4466554">,</span>&nbsp;<span class="ident" id="4466556">ok</span>&nbsp;<span class="op" id="4466559">:=</span>&nbsp;<span class="ident" id="4466562">v</span><span class="op" id="4466563">.</span><span class="ident" id="4466564">Interface</span><span class="op" id="4466573">(</span><span class="op" id="4466574">)</span><span class="op" id="4466575">.</span><span class="op" id="4466576">(</span><span class="op" id="4466577">[</span><span class="op" id="4466578">]</span><span class="builtintype" id="4466579">float64</span><span class="op" id="4466586">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466589">if</span>&nbsp;<span class="op" id="4466592">!</span><span class="ident" id="4466593">ok</span>&nbsp;<span class="op" id="4466596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4466600">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466681">return</span>&nbsp;<span class="builtintype" id="4466688">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4466695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466698">for</span>&nbsp;<span class="ident" id="4466702">_</span><span class="op" id="4466703">,</span>&nbsp;<span class="ident" id="4466705">x</span>&nbsp;<span class="op" id="4466707">:=</span>&nbsp;<span class="keyword" id="4466710">range</span>&nbsp;<span class="ident" id="4466716">slice</span>&nbsp;<span class="op" id="4466722">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466726">if</span>&nbsp;<span class="ident" id="4466729">x</span>&nbsp;<span class="op" id="4466731">!=</span>&nbsp;<span class="num" id="4466734">0</span>&nbsp;<span class="op" id="4466736">||</span>&nbsp;<span class="ident" id="4466739">state</span><span class="op" id="4466744">.</span><span class="ident" id="4466745">sendZero</span>&nbsp;<span class="op" id="4466754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4466759">bits</span>&nbsp;<span class="op" id="4466764">:=</span>&nbsp;<span class="ident" id="4466767">floatBits</span><span class="op" id="4466776">(</span><span class="ident" id="4466777">x</span><span class="op" id="4466778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4466783">state</span><span class="op" id="4466788">.</span><span class="ident" id="4466789">encodeUint</span><span class="op" id="4466799">(</span><span class="ident" id="4466800">bits</span><span class="op" id="4466804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4466808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4466811">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466814">return</span>&nbsp;<span class="builtintype" id="4466821">true</span><br>
<span class="lineno"></span><span class="op" id="4466826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4466829">func</span>&nbsp;<span class="ident" id="4466834">encIntArray</span><span class="op" id="4466845">(</span><span class="ident" id="4466846">state</span>&nbsp;<span class="op" id="4466852">*</span><span class="ident" id="4466853">encoderState</span><span class="op" id="4466865">,</span>&nbsp;<span class="ident" id="4466867">v</span>&nbsp;<span class="ident" id="4466869">reflect</span><span class="op" id="4466876">.</span><span class="ident" id="4466877">Value</span><span class="op" id="4466882">)</span>&nbsp;<span class="builtintype" id="4466884">bool</span>&nbsp;<span class="op" id="4466889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4466892">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466933">if</span>&nbsp;<span class="op" id="4466936">!</span><span class="ident" id="4466937">v</span><span class="op" id="4466938">.</span><span class="ident" id="4466939">CanAddr</span><span class="op" id="4466946">(</span><span class="op" id="4466947">)</span>&nbsp;<span class="op" id="4466949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466953">return</span>&nbsp;<span class="builtintype" id="4466960">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4466967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4466970">return</span>&nbsp;<span class="ident" id="4466977">encIntSlice</span><span class="op" id="4466988">(</span><span class="ident" id="4466989">state</span><span class="op" id="4466994">,</span>&nbsp;<span class="ident" id="4466996">v</span><span class="op" id="4466997">.</span><span class="ident" id="4466998">Slice</span><span class="op" id="4467003">(</span><span class="num" id="4467004">0</span><span class="op" id="4467005">,</span>&nbsp;<span class="ident" id="4467007">v</span><span class="op" id="4467008">.</span><span class="ident" id="4467009">Len</span><span class="op" id="4467012">(</span><span class="op" id="4467013">)</span><span class="op" id="4467014">)</span><span class="op" id="4467015">)</span><br>
<span class="lineno"></span><span class="op" id="4467017">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="4467020">func</span>&nbsp;<span class="ident" id="4467025">encIntSlice</span><span class="op" id="4467036">(</span><span class="ident" id="4467037">state</span>&nbsp;<span class="op" id="4467043">*</span><span class="ident" id="4467044">encoderState</span><span class="op" id="4467056">,</span>&nbsp;<span class="ident" id="4467058">v</span>&nbsp;<span class="ident" id="4467060">reflect</span><span class="op" id="4467067">.</span><span class="ident" id="4467068">Value</span><span class="op" id="4467073">)</span>&nbsp;<span class="builtintype" id="4467075">bool</span>&nbsp;<span class="op" id="4467080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4467083">slice</span><span class="op" id="4467088">,</span>&nbsp;<span class="ident" id="4467090">ok</span>&nbsp;<span class="op" id="4467093">:=</span>&nbsp;<span class="ident" id="4467096">v</span><span class="op" id="4467097">.</span><span class="ident" id="4467098">Interface</span><span class="op" id="4467107">(</span><span class="op" id="4467108">)</span><span class="op" id="4467109">.</span><span class="op" id="4467110">(</span><span class="op" id="4467111">[</span><span class="op" id="4467112">]</span><span class="builtintype" id="4467113">int</span><span class="op" id="4467116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467119">if</span>&nbsp;<span class="op" id="4467122">!</span><span class="ident" id="4467123">ok</span>&nbsp;<span class="op" id="4467126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4467130">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467203">return</span>&nbsp;<span class="builtintype" id="4467210">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4467217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467220">for</span>&nbsp;<span class="ident" id="4467224">_</span><span class="op" id="4467225">,</span>&nbsp;<span class="ident" id="4467227">x</span>&nbsp;<span class="op" id="4467229">:=</span>&nbsp;<span class="keyword" id="4467232">range</span>&nbsp;<span class="ident" id="4467238">slice</span>&nbsp;<span class="op" id="4467244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467248">if</span>&nbsp;<span class="ident" id="4467251">x</span>&nbsp;<span class="op" id="4467253">!=</span>&nbsp;<span class="num" id="4467256">0</span>&nbsp;<span class="op" id="4467258">||</span>&nbsp;<span class="ident" id="4467261">state</span><span class="op" id="4467266">.</span><span class="ident" id="4467267">sendZero</span>&nbsp;<span class="op" id="4467276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4467281">state</span><span class="op" id="4467286">.</span><span class="ident" id="4467287">encodeInt</span><span class="op" id="4467296">(</span><span class="ident" id="4467297">int64</span><span class="op" id="4467302">(</span><span class="ident" id="4467303">x</span><span class="op" id="4467304">)</span><span class="op" id="4467305">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4467309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4467312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467315">return</span>&nbsp;<span class="builtintype" id="4467322">true</span><br>
<span class="lineno"></span><span class="op" id="4467327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="4467330">func</span>&nbsp;<span class="ident" id="4467335">encInt16Array</span><span class="op" id="4467348">(</span><span class="ident" id="4467349">state</span>&nbsp;<span class="op" id="4467355">*</span><span class="ident" id="4467356">encoderState</span><span class="op" id="4467368">,</span>&nbsp;<span class="ident" id="4467370">v</span>&nbsp;<span class="ident" id="4467372">reflect</span><span class="op" id="4467379">.</span><span class="ident" id="4467380">Value</span><span class="op" id="4467385">)</span>&nbsp;<span class="builtintype" id="4467387">bool</span>&nbsp;<span class="op" id="4467392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4467395">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467436">if</span>&nbsp;<span class="op" id="4467439">!</span><span class="ident" id="4467440">v</span><span class="op" id="4467441">.</span><span class="ident" id="4467442">CanAddr</span><span class="op" id="4467449">(</span><span class="op" id="4467450">)</span>&nbsp;<span class="op" id="4467452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467456">return</span>&nbsp;<span class="builtintype" id="4467463">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4467470">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467473">return</span>&nbsp;<span class="ident" id="4467480">encInt16Slice</span><span class="op" id="4467493">(</span><span class="ident" id="4467494">state</span><span class="op" id="4467499">,</span>&nbsp;<span class="ident" id="4467501">v</span><span class="op" id="4467502">.</span><span class="ident" id="4467503">Slice</span><span class="op" id="4467508">(</span><span class="num" id="4467509">0</span><span class="op" id="4467510">,</span>&nbsp;<span class="ident" id="4467512">v</span><span class="op" id="4467513">.</span><span class="ident" id="4467514">Len</span><span class="op" id="4467517">(</span><span class="op" id="4467518">)</span><span class="op" id="4467519">)</span><span class="op" id="4467520">)</span><br>
<span class="lineno"></span><span class="op" id="4467522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4467525">func</span>&nbsp;<span class="ident" id="4467530">encInt16Slice</span><span class="op" id="4467543">(</span><span class="ident" id="4467544">state</span>&nbsp;<span class="op" id="4467550">*</span><span class="ident" id="4467551">encoderState</span><span class="op" id="4467563">,</span>&nbsp;<span class="ident" id="4467565">v</span>&nbsp;<span class="ident" id="4467567">reflect</span><span class="op" id="4467574">.</span><span class="ident" id="4467575">Value</span><span class="op" id="4467580">)</span>&nbsp;<span class="builtintype" id="4467582">bool</span>&nbsp;<span class="op" id="4467587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4467590">slice</span><span class="op" id="4467595">,</span>&nbsp;<span class="ident" id="4467597">ok</span>&nbsp;<span class="op" id="4467600">:=</span>&nbsp;<span class="ident" id="4467603">v</span><span class="op" id="4467604">.</span><span class="ident" id="4467605">Interface</span><span class="op" id="4467614">(</span><span class="op" id="4467615">)</span><span class="op" id="4467616">.</span><span class="op" id="4467617">(</span><span class="op" id="4467618">[</span><span class="op" id="4467619">]</span><span class="builtintype" id="4467620">int16</span><span class="op" id="4467625">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467628">if</span>&nbsp;<span class="op" id="4467631">!</span><span class="ident" id="4467632">ok</span>&nbsp;<span class="op" id="4467635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4467639">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467716">return</span>&nbsp;<span class="builtintype" id="4467723">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4467730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467733">for</span>&nbsp;<span class="ident" id="4467737">_</span><span class="op" id="4467738">,</span>&nbsp;<span class="ident" id="4467740">x</span>&nbsp;<span class="op" id="4467742">:=</span>&nbsp;<span class="keyword" id="4467745">range</span>&nbsp;<span class="ident" id="4467751">slice</span>&nbsp;<span class="op" id="4467757">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467761">if</span>&nbsp;<span class="ident" id="4467764">x</span>&nbsp;<span class="op" id="4467766">!=</span>&nbsp;<span class="num" id="4467769">0</span>&nbsp;<span class="op" id="4467771">||</span>&nbsp;<span class="ident" id="4467774">state</span><span class="op" id="4467779">.</span><span class="ident" id="4467780">sendZero</span>&nbsp;<span class="op" id="4467789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4467794">state</span><span class="op" id="4467799">.</span><span class="ident" id="4467800">encodeInt</span><span class="op" id="4467809">(</span><span class="ident" id="4467810">int64</span><span class="op" id="4467815">(</span><span class="ident" id="4467816">x</span><span class="op" id="4467817">)</span><span class="op" id="4467818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4467822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4467825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467828">return</span>&nbsp;<span class="builtintype" id="4467835">true</span><br>
<span class="lineno">215</span><span class="op" id="4467840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4467843">func</span>&nbsp;<span class="ident" id="4467848">encInt32Array</span><span class="op" id="4467861">(</span><span class="ident" id="4467862">state</span>&nbsp;<span class="op" id="4467868">*</span><span class="ident" id="4467869">encoderState</span><span class="op" id="4467881">,</span>&nbsp;<span class="ident" id="4467883">v</span>&nbsp;<span class="ident" id="4467885">reflect</span><span class="op" id="4467892">.</span><span class="ident" id="4467893">Value</span><span class="op" id="4467898">)</span>&nbsp;<span class="builtintype" id="4467900">bool</span>&nbsp;<span class="op" id="4467905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4467908">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467949">if</span>&nbsp;<span class="op" id="4467952">!</span><span class="ident" id="4467953">v</span><span class="op" id="4467954">.</span><span class="ident" id="4467955">CanAddr</span><span class="op" id="4467962">(</span><span class="op" id="4467963">)</span>&nbsp;<span class="op" id="4467965">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467969">return</span>&nbsp;<span class="builtintype" id="4467976">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4467983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4467986">return</span>&nbsp;<span class="ident" id="4467993">encInt32Slice</span><span class="op" id="4468006">(</span><span class="ident" id="4468007">state</span><span class="op" id="4468012">,</span>&nbsp;<span class="ident" id="4468014">v</span><span class="op" id="4468015">.</span><span class="ident" id="4468016">Slice</span><span class="op" id="4468021">(</span><span class="num" id="4468022">0</span><span class="op" id="4468023">,</span>&nbsp;<span class="ident" id="4468025">v</span><span class="op" id="4468026">.</span><span class="ident" id="4468027">Len</span><span class="op" id="4468030">(</span><span class="op" id="4468031">)</span><span class="op" id="4468032">)</span><span class="op" id="4468033">)</span><br>
<span class="lineno"></span><span class="op" id="4468035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="4468038">func</span>&nbsp;<span class="ident" id="4468043">encInt32Slice</span><span class="op" id="4468056">(</span><span class="ident" id="4468057">state</span>&nbsp;<span class="op" id="4468063">*</span><span class="ident" id="4468064">encoderState</span><span class="op" id="4468076">,</span>&nbsp;<span class="ident" id="4468078">v</span>&nbsp;<span class="ident" id="4468080">reflect</span><span class="op" id="4468087">.</span><span class="ident" id="4468088">Value</span><span class="op" id="4468093">)</span>&nbsp;<span class="builtintype" id="4468095">bool</span>&nbsp;<span class="op" id="4468100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4468103">slice</span><span class="op" id="4468108">,</span>&nbsp;<span class="ident" id="4468110">ok</span>&nbsp;<span class="op" id="4468113">:=</span>&nbsp;<span class="ident" id="4468116">v</span><span class="op" id="4468117">.</span><span class="ident" id="4468118">Interface</span><span class="op" id="4468127">(</span><span class="op" id="4468128">)</span><span class="op" id="4468129">.</span><span class="op" id="4468130">(</span><span class="op" id="4468131">[</span><span class="op" id="4468132">]</span><span class="builtintype" id="4468133">int32</span><span class="op" id="4468138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468141">if</span>&nbsp;<span class="op" id="4468144">!</span><span class="ident" id="4468145">ok</span>&nbsp;<span class="op" id="4468148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4468152">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468229">return</span>&nbsp;<span class="builtintype" id="4468236">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4468243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468246">for</span>&nbsp;<span class="ident" id="4468250">_</span><span class="op" id="4468251">,</span>&nbsp;<span class="ident" id="4468253">x</span>&nbsp;<span class="op" id="4468255">:=</span>&nbsp;<span class="keyword" id="4468258">range</span>&nbsp;<span class="ident" id="4468264">slice</span>&nbsp;<span class="op" id="4468270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468274">if</span>&nbsp;<span class="ident" id="4468277">x</span>&nbsp;<span class="op" id="4468279">!=</span>&nbsp;<span class="num" id="4468282">0</span>&nbsp;<span class="op" id="4468284">||</span>&nbsp;<span class="ident" id="4468287">state</span><span class="op" id="4468292">.</span><span class="ident" id="4468293">sendZero</span>&nbsp;<span class="op" id="4468302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4468307">state</span><span class="op" id="4468312">.</span><span class="ident" id="4468313">encodeInt</span><span class="op" id="4468322">(</span><span class="ident" id="4468323">int64</span><span class="op" id="4468328">(</span><span class="ident" id="4468329">x</span><span class="op" id="4468330">)</span><span class="op" id="4468331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4468335">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4468338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468341">return</span>&nbsp;<span class="builtintype" id="4468348">true</span><br>
<span class="lineno"></span><span class="op" id="4468353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4468356">func</span>&nbsp;<span class="ident" id="4468361">encInt64Array</span><span class="op" id="4468374">(</span><span class="ident" id="4468375">state</span>&nbsp;<span class="op" id="4468381">*</span><span class="ident" id="4468382">encoderState</span><span class="op" id="4468394">,</span>&nbsp;<span class="ident" id="4468396">v</span>&nbsp;<span class="ident" id="4468398">reflect</span><span class="op" id="4468405">.</span><span class="ident" id="4468406">Value</span><span class="op" id="4468411">)</span>&nbsp;<span class="builtintype" id="4468413">bool</span>&nbsp;<span class="op" id="4468418">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4468421">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468462">if</span>&nbsp;<span class="op" id="4468465">!</span><span class="ident" id="4468466">v</span><span class="op" id="4468467">.</span><span class="ident" id="4468468">CanAddr</span><span class="op" id="4468475">(</span><span class="op" id="4468476">)</span>&nbsp;<span class="op" id="4468478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468482">return</span>&nbsp;<span class="builtintype" id="4468489">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4468496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468499">return</span>&nbsp;<span class="ident" id="4468506">encInt64Slice</span><span class="op" id="4468519">(</span><span class="ident" id="4468520">state</span><span class="op" id="4468525">,</span>&nbsp;<span class="ident" id="4468527">v</span><span class="op" id="4468528">.</span><span class="ident" id="4468529">Slice</span><span class="op" id="4468534">(</span><span class="num" id="4468535">0</span><span class="op" id="4468536">,</span>&nbsp;<span class="ident" id="4468538">v</span><span class="op" id="4468539">.</span><span class="ident" id="4468540">Len</span><span class="op" id="4468543">(</span><span class="op" id="4468544">)</span><span class="op" id="4468545">)</span><span class="op" id="4468546">)</span><br>
<span class="lineno">245</span><span class="op" id="4468548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4468551">func</span>&nbsp;<span class="ident" id="4468556">encInt64Slice</span><span class="op" id="4468569">(</span><span class="ident" id="4468570">state</span>&nbsp;<span class="op" id="4468576">*</span><span class="ident" id="4468577">encoderState</span><span class="op" id="4468589">,</span>&nbsp;<span class="ident" id="4468591">v</span>&nbsp;<span class="ident" id="4468593">reflect</span><span class="op" id="4468600">.</span><span class="ident" id="4468601">Value</span><span class="op" id="4468606">)</span>&nbsp;<span class="builtintype" id="4468608">bool</span>&nbsp;<span class="op" id="4468613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4468616">slice</span><span class="op" id="4468621">,</span>&nbsp;<span class="ident" id="4468623">ok</span>&nbsp;<span class="op" id="4468626">:=</span>&nbsp;<span class="ident" id="4468629">v</span><span class="op" id="4468630">.</span><span class="ident" id="4468631">Interface</span><span class="op" id="4468640">(</span><span class="op" id="4468641">)</span><span class="op" id="4468642">.</span><span class="op" id="4468643">(</span><span class="op" id="4468644">[</span><span class="op" id="4468645">]</span><span class="ident" id="4468646">int64</span><span class="op" id="4468651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468654">if</span>&nbsp;<span class="op" id="4468657">!</span><span class="ident" id="4468658">ok</span>&nbsp;<span class="op" id="4468661">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4468665">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468742">return</span>&nbsp;<span class="builtintype" id="4468749">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4468756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468759">for</span>&nbsp;<span class="ident" id="4468763">_</span><span class="op" id="4468764">,</span>&nbsp;<span class="ident" id="4468766">x</span>&nbsp;<span class="op" id="4468768">:=</span>&nbsp;<span class="keyword" id="4468771">range</span>&nbsp;<span class="ident" id="4468777">slice</span>&nbsp;<span class="op" id="4468783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468787">if</span>&nbsp;<span class="ident" id="4468790">x</span>&nbsp;<span class="op" id="4468792">!=</span>&nbsp;<span class="num" id="4468795">0</span>&nbsp;<span class="op" id="4468797">||</span>&nbsp;<span class="ident" id="4468800">state</span><span class="op" id="4468805">.</span><span class="ident" id="4468806">sendZero</span>&nbsp;<span class="op" id="4468815">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4468820">state</span><span class="op" id="4468825">.</span><span class="ident" id="4468826">encodeInt</span><span class="op" id="4468835">(</span><span class="ident" id="4468836">x</span><span class="op" id="4468837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4468841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4468844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468847">return</span>&nbsp;<span class="builtintype" id="4468854">true</span><br>
<span class="lineno"></span><span class="op" id="4468859">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4468862">func</span>&nbsp;<span class="ident" id="4468867">encInt8Array</span><span class="op" id="4468879">(</span><span class="ident" id="4468880">state</span>&nbsp;<span class="op" id="4468886">*</span><span class="ident" id="4468887">encoderState</span><span class="op" id="4468899">,</span>&nbsp;<span class="ident" id="4468901">v</span>&nbsp;<span class="ident" id="4468903">reflect</span><span class="op" id="4468910">.</span><span class="ident" id="4468911">Value</span><span class="op" id="4468916">)</span>&nbsp;<span class="builtintype" id="4468918">bool</span>&nbsp;<span class="op" id="4468923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4468926">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468967">if</span>&nbsp;<span class="op" id="4468970">!</span><span class="ident" id="4468971">v</span><span class="op" id="4468972">.</span><span class="ident" id="4468973">CanAddr</span><span class="op" id="4468980">(</span><span class="op" id="4468981">)</span>&nbsp;<span class="op" id="4468983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4468987">return</span>&nbsp;<span class="builtintype" id="4468994">false</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4469001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469004">return</span>&nbsp;<span class="ident" id="4469011">encInt8Slice</span><span class="op" id="4469023">(</span><span class="ident" id="4469024">state</span><span class="op" id="4469029">,</span>&nbsp;<span class="ident" id="4469031">v</span><span class="op" id="4469032">.</span><span class="ident" id="4469033">Slice</span><span class="op" id="4469038">(</span><span class="num" id="4469039">0</span><span class="op" id="4469040">,</span>&nbsp;<span class="ident" id="4469042">v</span><span class="op" id="4469043">.</span><span class="ident" id="4469044">Len</span><span class="op" id="4469047">(</span><span class="op" id="4469048">)</span><span class="op" id="4469049">)</span><span class="op" id="4469050">)</span><br>
<span class="lineno"></span><span class="op" id="4469052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4469055">func</span>&nbsp;<span class="ident" id="4469060">encInt8Slice</span><span class="op" id="4469072">(</span><span class="ident" id="4469073">state</span>&nbsp;<span class="op" id="4469079">*</span><span class="ident" id="4469080">encoderState</span><span class="op" id="4469092">,</span>&nbsp;<span class="ident" id="4469094">v</span>&nbsp;<span class="ident" id="4469096">reflect</span><span class="op" id="4469103">.</span><span class="ident" id="4469104">Value</span><span class="op" id="4469109">)</span>&nbsp;<span class="builtintype" id="4469111">bool</span>&nbsp;<span class="op" id="4469116">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4469119">slice</span><span class="op" id="4469124">,</span>&nbsp;<span class="ident" id="4469126">ok</span>&nbsp;<span class="op" id="4469129">:=</span>&nbsp;<span class="ident" id="4469132">v</span><span class="op" id="4469133">.</span><span class="ident" id="4469134">Interface</span><span class="op" id="4469143">(</span><span class="op" id="4469144">)</span><span class="op" id="4469145">.</span><span class="op" id="4469146">(</span><span class="op" id="4469147">[</span><span class="op" id="4469148">]</span><span class="builtintype" id="4469149">int8</span><span class="op" id="4469153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469156">if</span>&nbsp;<span class="op" id="4469159">!</span><span class="ident" id="4469160">ok</span>&nbsp;<span class="op" id="4469163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4469167">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469242">return</span>&nbsp;<span class="builtintype" id="4469249">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4469256">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469259">for</span>&nbsp;<span class="ident" id="4469263">_</span><span class="op" id="4469264">,</span>&nbsp;<span class="ident" id="4469266">x</span>&nbsp;<span class="op" id="4469268">:=</span>&nbsp;<span class="keyword" id="4469271">range</span>&nbsp;<span class="ident" id="4469277">slice</span>&nbsp;<span class="op" id="4469283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469287">if</span>&nbsp;<span class="ident" id="4469290">x</span>&nbsp;<span class="op" id="4469292">!=</span>&nbsp;<span class="num" id="4469295">0</span>&nbsp;<span class="op" id="4469297">||</span>&nbsp;<span class="ident" id="4469300">state</span><span class="op" id="4469305">.</span><span class="ident" id="4469306">sendZero</span>&nbsp;<span class="op" id="4469315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4469320">state</span><span class="op" id="4469325">.</span><span class="ident" id="4469326">encodeInt</span><span class="op" id="4469335">(</span><span class="ident" id="4469336">int64</span><span class="op" id="4469341">(</span><span class="ident" id="4469342">x</span><span class="op" id="4469343">)</span><span class="op" id="4469344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4469348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4469351">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469354">return</span>&nbsp;<span class="builtintype" id="4469361">true</span><br>
<span class="lineno"></span><span class="op" id="4469366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4469369">func</span>&nbsp;<span class="ident" id="4469374">encStringArray</span><span class="op" id="4469388">(</span><span class="ident" id="4469389">state</span>&nbsp;<span class="op" id="4469395">*</span><span class="ident" id="4469396">encoderState</span><span class="op" id="4469408">,</span>&nbsp;<span class="ident" id="4469410">v</span>&nbsp;<span class="ident" id="4469412">reflect</span><span class="op" id="4469419">.</span><span class="ident" id="4469420">Value</span><span class="op" id="4469425">)</span>&nbsp;<span class="builtintype" id="4469427">bool</span>&nbsp;<span class="op" id="4469432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4469435">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469476">if</span>&nbsp;<span class="op" id="4469479">!</span><span class="ident" id="4469480">v</span><span class="op" id="4469481">.</span><span class="ident" id="4469482">CanAddr</span><span class="op" id="4469489">(</span><span class="op" id="4469490">)</span>&nbsp;<span class="op" id="4469492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469496">return</span>&nbsp;<span class="builtintype" id="4469503">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4469510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469513">return</span>&nbsp;<span class="ident" id="4469520">encStringSlice</span><span class="op" id="4469534">(</span><span class="ident" id="4469535">state</span><span class="op" id="4469540">,</span>&nbsp;<span class="ident" id="4469542">v</span><span class="op" id="4469543">.</span><span class="ident" id="4469544">Slice</span><span class="op" id="4469549">(</span><span class="num" id="4469550">0</span><span class="op" id="4469551">,</span>&nbsp;<span class="ident" id="4469553">v</span><span class="op" id="4469554">.</span><span class="ident" id="4469555">Len</span><span class="op" id="4469558">(</span><span class="op" id="4469559">)</span><span class="op" id="4469560">)</span><span class="op" id="4469561">)</span><br>
<span class="lineno"></span><span class="op" id="4469563">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="4469566">func</span>&nbsp;<span class="ident" id="4469571">encStringSlice</span><span class="op" id="4469585">(</span><span class="ident" id="4469586">state</span>&nbsp;<span class="op" id="4469592">*</span><span class="ident" id="4469593">encoderState</span><span class="op" id="4469605">,</span>&nbsp;<span class="ident" id="4469607">v</span>&nbsp;<span class="ident" id="4469609">reflect</span><span class="op" id="4469616">.</span><span class="ident" id="4469617">Value</span><span class="op" id="4469622">)</span>&nbsp;<span class="builtintype" id="4469624">bool</span>&nbsp;<span class="op" id="4469629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4469632">slice</span><span class="op" id="4469637">,</span>&nbsp;<span class="ident" id="4469639">ok</span>&nbsp;<span class="op" id="4469642">:=</span>&nbsp;<span class="ident" id="4469645">v</span><span class="op" id="4469646">.</span><span class="ident" id="4469647">Interface</span><span class="op" id="4469656">(</span><span class="op" id="4469657">)</span><span class="op" id="4469658">.</span><span class="op" id="4469659">(</span><span class="op" id="4469660">[</span><span class="op" id="4469661">]</span><span class="builtintype" id="4469662">string</span><span class="op" id="4469668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469671">if</span>&nbsp;<span class="op" id="4469674">!</span><span class="ident" id="4469675">ok</span>&nbsp;<span class="op" id="4469678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4469682">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469761">return</span>&nbsp;<span class="builtintype" id="4469768">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4469775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469778">for</span>&nbsp;<span class="ident" id="4469782">_</span><span class="op" id="4469783">,</span>&nbsp;<span class="ident" id="4469785">x</span>&nbsp;<span class="op" id="4469787">:=</span>&nbsp;<span class="keyword" id="4469790">range</span>&nbsp;<span class="ident" id="4469796">slice</span>&nbsp;<span class="op" id="4469802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469806">if</span>&nbsp;<span class="ident" id="4469809">x</span>&nbsp;<span class="op" id="4469811">!=</span>&nbsp;<span class="string" id="4469814">&#34;&#34;</span>&nbsp;<span class="op" id="4469817">||</span>&nbsp;<span class="ident" id="4469820">state</span><span class="op" id="4469825">.</span><span class="ident" id="4469826">sendZero</span>&nbsp;<span class="op" id="4469835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4469840">state</span><span class="op" id="4469845">.</span><span class="ident" id="4469846">encodeUint</span><span class="op" id="4469856">(</span><span class="ident" id="4469857">uint64</span><span class="op" id="4469863">(</span><span class="builtinfunc" id="4469864">len</span><span class="op" id="4469867">(</span><span class="ident" id="4469868">x</span><span class="op" id="4469869">)</span><span class="op" id="4469870">)</span><span class="op" id="4469871">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4469876">state</span><span class="op" id="4469881">.</span><span class="ident" id="4469882">b</span><span class="op" id="4469883">.</span><span class="ident" id="4469884">WriteString</span><span class="op" id="4469895">(</span><span class="ident" id="4469896">x</span><span class="op" id="4469897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4469901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4469904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4469907">return</span>&nbsp;<span class="builtintype" id="4469914">true</span><br>
<span class="lineno"></span><span class="op" id="4469919">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="4469922">func</span>&nbsp;<span class="ident" id="4469927">encUintArray</span><span class="op" id="4469939">(</span><span class="ident" id="4469940">state</span>&nbsp;<span class="op" id="4469946">*</span><span class="ident" id="4469947">encoderState</span><span class="op" id="4469959">,</span>&nbsp;<span class="ident" id="4469961">v</span>&nbsp;<span class="ident" id="4469963">reflect</span><span class="op" id="4469970">.</span><span class="ident" id="4469971">Value</span><span class="op" id="4469976">)</span>&nbsp;<span class="builtintype" id="4469978">bool</span>&nbsp;<span class="op" id="4469983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4469986">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470027">if</span>&nbsp;<span class="op" id="4470030">!</span><span class="ident" id="4470031">v</span><span class="op" id="4470032">.</span><span class="ident" id="4470033">CanAddr</span><span class="op" id="4470040">(</span><span class="op" id="4470041">)</span>&nbsp;<span class="op" id="4470043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470047">return</span>&nbsp;<span class="builtintype" id="4470054">false</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4470061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470064">return</span>&nbsp;<span class="ident" id="4470071">encUintSlice</span><span class="op" id="4470083">(</span><span class="ident" id="4470084">state</span><span class="op" id="4470089">,</span>&nbsp;<span class="ident" id="4470091">v</span><span class="op" id="4470092">.</span><span class="ident" id="4470093">Slice</span><span class="op" id="4470098">(</span><span class="num" id="4470099">0</span><span class="op" id="4470100">,</span>&nbsp;<span class="ident" id="4470102">v</span><span class="op" id="4470103">.</span><span class="ident" id="4470104">Len</span><span class="op" id="4470107">(</span><span class="op" id="4470108">)</span><span class="op" id="4470109">)</span><span class="op" id="4470110">)</span><br>
<span class="lineno"></span><span class="op" id="4470112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4470115">func</span>&nbsp;<span class="ident" id="4470120">encUintSlice</span><span class="op" id="4470132">(</span><span class="ident" id="4470133">state</span>&nbsp;<span class="op" id="4470139">*</span><span class="ident" id="4470140">encoderState</span><span class="op" id="4470152">,</span>&nbsp;<span class="ident" id="4470154">v</span>&nbsp;<span class="ident" id="4470156">reflect</span><span class="op" id="4470163">.</span><span class="ident" id="4470164">Value</span><span class="op" id="4470169">)</span>&nbsp;<span class="builtintype" id="4470171">bool</span>&nbsp;<span class="op" id="4470176">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4470179">slice</span><span class="op" id="4470184">,</span>&nbsp;<span class="ident" id="4470186">ok</span>&nbsp;<span class="op" id="4470189">:=</span>&nbsp;<span class="ident" id="4470192">v</span><span class="op" id="4470193">.</span><span class="ident" id="4470194">Interface</span><span class="op" id="4470203">(</span><span class="op" id="4470204">)</span><span class="op" id="4470205">.</span><span class="op" id="4470206">(</span><span class="op" id="4470207">[</span><span class="op" id="4470208">]</span><span class="builtintype" id="4470209">uint</span><span class="op" id="4470213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470216">if</span>&nbsp;<span class="op" id="4470219">!</span><span class="ident" id="4470220">ok</span>&nbsp;<span class="op" id="4470223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4470227">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470302">return</span>&nbsp;<span class="builtintype" id="4470309">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4470316">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470319">for</span>&nbsp;<span class="ident" id="4470323">_</span><span class="op" id="4470324">,</span>&nbsp;<span class="ident" id="4470326">x</span>&nbsp;<span class="op" id="4470328">:=</span>&nbsp;<span class="keyword" id="4470331">range</span>&nbsp;<span class="ident" id="4470337">slice</span>&nbsp;<span class="op" id="4470343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470347">if</span>&nbsp;<span class="ident" id="4470350">x</span>&nbsp;<span class="op" id="4470352">!=</span>&nbsp;<span class="num" id="4470355">0</span>&nbsp;<span class="op" id="4470357">||</span>&nbsp;<span class="ident" id="4470360">state</span><span class="op" id="4470365">.</span><span class="ident" id="4470366">sendZero</span>&nbsp;<span class="op" id="4470375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4470380">state</span><span class="op" id="4470385">.</span><span class="ident" id="4470386">encodeUint</span><span class="op" id="4470396">(</span><span class="ident" id="4470397">uint64</span><span class="op" id="4470403">(</span><span class="ident" id="4470404">x</span><span class="op" id="4470405">)</span><span class="op" id="4470406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4470410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4470413">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470416">return</span>&nbsp;<span class="builtintype" id="4470423">true</span><br>
<span class="lineno"></span><span class="op" id="4470428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4470431">func</span>&nbsp;<span class="ident" id="4470436">encUint16Array</span><span class="op" id="4470450">(</span><span class="ident" id="4470451">state</span>&nbsp;<span class="op" id="4470457">*</span><span class="ident" id="4470458">encoderState</span><span class="op" id="4470470">,</span>&nbsp;<span class="ident" id="4470472">v</span>&nbsp;<span class="ident" id="4470474">reflect</span><span class="op" id="4470481">.</span><span class="ident" id="4470482">Value</span><span class="op" id="4470487">)</span>&nbsp;<span class="builtintype" id="4470489">bool</span>&nbsp;<span class="op" id="4470494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4470497">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470538">if</span>&nbsp;<span class="op" id="4470541">!</span><span class="ident" id="4470542">v</span><span class="op" id="4470543">.</span><span class="ident" id="4470544">CanAddr</span><span class="op" id="4470551">(</span><span class="op" id="4470552">)</span>&nbsp;<span class="op" id="4470554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470558">return</span>&nbsp;<span class="builtintype" id="4470565">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4470572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470575">return</span>&nbsp;<span class="ident" id="4470582">encUint16Slice</span><span class="op" id="4470596">(</span><span class="ident" id="4470597">state</span><span class="op" id="4470602">,</span>&nbsp;<span class="ident" id="4470604">v</span><span class="op" id="4470605">.</span><span class="ident" id="4470606">Slice</span><span class="op" id="4470611">(</span><span class="num" id="4470612">0</span><span class="op" id="4470613">,</span>&nbsp;<span class="ident" id="4470615">v</span><span class="op" id="4470616">.</span><span class="ident" id="4470617">Len</span><span class="op" id="4470620">(</span><span class="op" id="4470621">)</span><span class="op" id="4470622">)</span><span class="op" id="4470623">)</span><br>
<span class="lineno"></span><span class="op" id="4470625">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="4470628">func</span>&nbsp;<span class="ident" id="4470633">encUint16Slice</span><span class="op" id="4470647">(</span><span class="ident" id="4470648">state</span>&nbsp;<span class="op" id="4470654">*</span><span class="ident" id="4470655">encoderState</span><span class="op" id="4470667">,</span>&nbsp;<span class="ident" id="4470669">v</span>&nbsp;<span class="ident" id="4470671">reflect</span><span class="op" id="4470678">.</span><span class="ident" id="4470679">Value</span><span class="op" id="4470684">)</span>&nbsp;<span class="builtintype" id="4470686">bool</span>&nbsp;<span class="op" id="4470691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4470694">slice</span><span class="op" id="4470699">,</span>&nbsp;<span class="ident" id="4470701">ok</span>&nbsp;<span class="op" id="4470704">:=</span>&nbsp;<span class="ident" id="4470707">v</span><span class="op" id="4470708">.</span><span class="ident" id="4470709">Interface</span><span class="op" id="4470718">(</span><span class="op" id="4470719">)</span><span class="op" id="4470720">.</span><span class="op" id="4470721">(</span><span class="op" id="4470722">[</span><span class="op" id="4470723">]</span><span class="builtintype" id="4470724">uint16</span><span class="op" id="4470730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470733">if</span>&nbsp;<span class="op" id="4470736">!</span><span class="ident" id="4470737">ok</span>&nbsp;<span class="op" id="4470740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4470744">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470823">return</span>&nbsp;<span class="builtintype" id="4470830">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4470837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470840">for</span>&nbsp;<span class="ident" id="4470844">_</span><span class="op" id="4470845">,</span>&nbsp;<span class="ident" id="4470847">x</span>&nbsp;<span class="op" id="4470849">:=</span>&nbsp;<span class="keyword" id="4470852">range</span>&nbsp;<span class="ident" id="4470858">slice</span>&nbsp;<span class="op" id="4470864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470868">if</span>&nbsp;<span class="ident" id="4470871">x</span>&nbsp;<span class="op" id="4470873">!=</span>&nbsp;<span class="num" id="4470876">0</span>&nbsp;<span class="op" id="4470878">||</span>&nbsp;<span class="ident" id="4470881">state</span><span class="op" id="4470886">.</span><span class="ident" id="4470887">sendZero</span>&nbsp;<span class="op" id="4470896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4470901">state</span><span class="op" id="4470906">.</span><span class="ident" id="4470907">encodeUint</span><span class="op" id="4470917">(</span><span class="ident" id="4470918">uint64</span><span class="op" id="4470924">(</span><span class="ident" id="4470925">x</span><span class="op" id="4470926">)</span><span class="op" id="4470927">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4470931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4470934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4470937">return</span>&nbsp;<span class="builtintype" id="4470944">true</span><br>
<span class="lineno"></span><span class="op" id="4470949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="4470952">func</span>&nbsp;<span class="ident" id="4470957">encUint32Array</span><span class="op" id="4470971">(</span><span class="ident" id="4470972">state</span>&nbsp;<span class="op" id="4470978">*</span><span class="ident" id="4470979">encoderState</span><span class="op" id="4470991">,</span>&nbsp;<span class="ident" id="4470993">v</span>&nbsp;<span class="ident" id="4470995">reflect</span><span class="op" id="4471002">.</span><span class="ident" id="4471003">Value</span><span class="op" id="4471008">)</span>&nbsp;<span class="builtintype" id="4471010">bool</span>&nbsp;<span class="op" id="4471015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4471018">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471059">if</span>&nbsp;<span class="op" id="4471062">!</span><span class="ident" id="4471063">v</span><span class="op" id="4471064">.</span><span class="ident" id="4471065">CanAddr</span><span class="op" id="4471072">(</span><span class="op" id="4471073">)</span>&nbsp;<span class="op" id="4471075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471079">return</span>&nbsp;<span class="builtintype" id="4471086">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4471093">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471096">return</span>&nbsp;<span class="ident" id="4471103">encUint32Slice</span><span class="op" id="4471117">(</span><span class="ident" id="4471118">state</span><span class="op" id="4471123">,</span>&nbsp;<span class="ident" id="4471125">v</span><span class="op" id="4471126">.</span><span class="ident" id="4471127">Slice</span><span class="op" id="4471132">(</span><span class="num" id="4471133">0</span><span class="op" id="4471134">,</span>&nbsp;<span class="ident" id="4471136">v</span><span class="op" id="4471137">.</span><span class="ident" id="4471138">Len</span><span class="op" id="4471141">(</span><span class="op" id="4471142">)</span><span class="op" id="4471143">)</span><span class="op" id="4471144">)</span><br>
<span class="lineno"></span><span class="op" id="4471146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4471149">func</span>&nbsp;<span class="ident" id="4471154">encUint32Slice</span><span class="op" id="4471168">(</span><span class="ident" id="4471169">state</span>&nbsp;<span class="op" id="4471175">*</span><span class="ident" id="4471176">encoderState</span><span class="op" id="4471188">,</span>&nbsp;<span class="ident" id="4471190">v</span>&nbsp;<span class="ident" id="4471192">reflect</span><span class="op" id="4471199">.</span><span class="ident" id="4471200">Value</span><span class="op" id="4471205">)</span>&nbsp;<span class="builtintype" id="4471207">bool</span>&nbsp;<span class="op" id="4471212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4471215">slice</span><span class="op" id="4471220">,</span>&nbsp;<span class="ident" id="4471222">ok</span>&nbsp;<span class="op" id="4471225">:=</span>&nbsp;<span class="ident" id="4471228">v</span><span class="op" id="4471229">.</span><span class="ident" id="4471230">Interface</span><span class="op" id="4471239">(</span><span class="op" id="4471240">)</span><span class="op" id="4471241">.</span><span class="op" id="4471242">(</span><span class="op" id="4471243">[</span><span class="op" id="4471244">]</span><span class="builtintype" id="4471245">uint32</span><span class="op" id="4471251">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471254">if</span>&nbsp;<span class="op" id="4471257">!</span><span class="ident" id="4471258">ok</span>&nbsp;<span class="op" id="4471261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4471265">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471344">return</span>&nbsp;<span class="builtintype" id="4471351">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4471358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471361">for</span>&nbsp;<span class="ident" id="4471365">_</span><span class="op" id="4471366">,</span>&nbsp;<span class="ident" id="4471368">x</span>&nbsp;<span class="op" id="4471370">:=</span>&nbsp;<span class="keyword" id="4471373">range</span>&nbsp;<span class="ident" id="4471379">slice</span>&nbsp;<span class="op" id="4471385">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471389">if</span>&nbsp;<span class="ident" id="4471392">x</span>&nbsp;<span class="op" id="4471394">!=</span>&nbsp;<span class="num" id="4471397">0</span>&nbsp;<span class="op" id="4471399">||</span>&nbsp;<span class="ident" id="4471402">state</span><span class="op" id="4471407">.</span><span class="ident" id="4471408">sendZero</span>&nbsp;<span class="op" id="4471417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4471422">state</span><span class="op" id="4471427">.</span><span class="ident" id="4471428">encodeUint</span><span class="op" id="4471438">(</span><span class="ident" id="4471439">uint64</span><span class="op" id="4471445">(</span><span class="ident" id="4471446">x</span><span class="op" id="4471447">)</span><span class="op" id="4471448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4471452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4471455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471458">return</span>&nbsp;<span class="builtintype" id="4471465">true</span><br>
<span class="lineno">370</span><span class="op" id="4471470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4471473">func</span>&nbsp;<span class="ident" id="4471478">encUint64Array</span><span class="op" id="4471492">(</span><span class="ident" id="4471493">state</span>&nbsp;<span class="op" id="4471499">*</span><span class="ident" id="4471500">encoderState</span><span class="op" id="4471512">,</span>&nbsp;<span class="ident" id="4471514">v</span>&nbsp;<span class="ident" id="4471516">reflect</span><span class="op" id="4471523">.</span><span class="ident" id="4471524">Value</span><span class="op" id="4471529">)</span>&nbsp;<span class="builtintype" id="4471531">bool</span>&nbsp;<span class="op" id="4471536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4471539">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471580">if</span>&nbsp;<span class="op" id="4471583">!</span><span class="ident" id="4471584">v</span><span class="op" id="4471585">.</span><span class="ident" id="4471586">CanAddr</span><span class="op" id="4471593">(</span><span class="op" id="4471594">)</span>&nbsp;<span class="op" id="4471596">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471600">return</span>&nbsp;<span class="builtintype" id="4471607">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4471614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471617">return</span>&nbsp;<span class="ident" id="4471624">encUint64Slice</span><span class="op" id="4471638">(</span><span class="ident" id="4471639">state</span><span class="op" id="4471644">,</span>&nbsp;<span class="ident" id="4471646">v</span><span class="op" id="4471647">.</span><span class="ident" id="4471648">Slice</span><span class="op" id="4471653">(</span><span class="num" id="4471654">0</span><span class="op" id="4471655">,</span>&nbsp;<span class="ident" id="4471657">v</span><span class="op" id="4471658">.</span><span class="ident" id="4471659">Len</span><span class="op" id="4471662">(</span><span class="op" id="4471663">)</span><span class="op" id="4471664">)</span><span class="op" id="4471665">)</span><br>
<span class="lineno"></span><span class="op" id="4471667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="4471670">func</span>&nbsp;<span class="ident" id="4471675">encUint64Slice</span><span class="op" id="4471689">(</span><span class="ident" id="4471690">state</span>&nbsp;<span class="op" id="4471696">*</span><span class="ident" id="4471697">encoderState</span><span class="op" id="4471709">,</span>&nbsp;<span class="ident" id="4471711">v</span>&nbsp;<span class="ident" id="4471713">reflect</span><span class="op" id="4471720">.</span><span class="ident" id="4471721">Value</span><span class="op" id="4471726">)</span>&nbsp;<span class="builtintype" id="4471728">bool</span>&nbsp;<span class="op" id="4471733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4471736">slice</span><span class="op" id="4471741">,</span>&nbsp;<span class="ident" id="4471743">ok</span>&nbsp;<span class="op" id="4471746">:=</span>&nbsp;<span class="ident" id="4471749">v</span><span class="op" id="4471750">.</span><span class="ident" id="4471751">Interface</span><span class="op" id="4471760">(</span><span class="op" id="4471761">)</span><span class="op" id="4471762">.</span><span class="op" id="4471763">(</span><span class="op" id="4471764">[</span><span class="op" id="4471765">]</span><span class="ident" id="4471766">uint64</span><span class="op" id="4471772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471775">if</span>&nbsp;<span class="op" id="4471778">!</span><span class="ident" id="4471779">ok</span>&nbsp;<span class="op" id="4471782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4471786">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471865">return</span>&nbsp;<span class="builtintype" id="4471872">false</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4471879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471882">for</span>&nbsp;<span class="ident" id="4471886">_</span><span class="op" id="4471887">,</span>&nbsp;<span class="ident" id="4471889">x</span>&nbsp;<span class="op" id="4471891">:=</span>&nbsp;<span class="keyword" id="4471894">range</span>&nbsp;<span class="ident" id="4471900">slice</span>&nbsp;<span class="op" id="4471906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471910">if</span>&nbsp;<span class="ident" id="4471913">x</span>&nbsp;<span class="op" id="4471915">!=</span>&nbsp;<span class="num" id="4471918">0</span>&nbsp;<span class="op" id="4471920">||</span>&nbsp;<span class="ident" id="4471923">state</span><span class="op" id="4471928">.</span><span class="ident" id="4471929">sendZero</span>&nbsp;<span class="op" id="4471938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4471943">state</span><span class="op" id="4471948">.</span><span class="ident" id="4471949">encodeUint</span><span class="op" id="4471959">(</span><span class="ident" id="4471960">x</span><span class="op" id="4471961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4471965">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4471968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4471971">return</span>&nbsp;<span class="builtintype" id="4471978">true</span><br>
<span class="lineno"></span><span class="op" id="4471983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4471986">func</span>&nbsp;<span class="ident" id="4471991">encUintptrArray</span><span class="op" id="4472006">(</span><span class="ident" id="4472007">state</span>&nbsp;<span class="op" id="4472013">*</span><span class="ident" id="4472014">encoderState</span><span class="op" id="4472026">,</span>&nbsp;<span class="ident" id="4472028">v</span>&nbsp;<span class="ident" id="4472030">reflect</span><span class="op" id="4472037">.</span><span class="ident" id="4472038">Value</span><span class="op" id="4472043">)</span>&nbsp;<span class="builtintype" id="4472045">bool</span>&nbsp;<span class="op" id="4472050">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4472053">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4472094">if</span>&nbsp;<span class="op" id="4472097">!</span><span class="ident" id="4472098">v</span><span class="op" id="4472099">.</span><span class="ident" id="4472100">CanAddr</span><span class="op" id="4472107">(</span><span class="op" id="4472108">)</span>&nbsp;<span class="op" id="4472110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4472114">return</span>&nbsp;<span class="builtintype" id="4472121">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4472128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4472131">return</span>&nbsp;<span class="ident" id="4472138">encUintptrSlice</span><span class="op" id="4472153">(</span><span class="ident" id="4472154">state</span><span class="op" id="4472159">,</span>&nbsp;<span class="ident" id="4472161">v</span><span class="op" id="4472162">.</span><span class="ident" id="4472163">Slice</span><span class="op" id="4472168">(</span><span class="num" id="4472169">0</span><span class="op" id="4472170">,</span>&nbsp;<span class="ident" id="4472172">v</span><span class="op" id="4472173">.</span><span class="ident" id="4472174">Len</span><span class="op" id="4472177">(</span><span class="op" id="4472178">)</span><span class="op" id="4472179">)</span><span class="op" id="4472180">)</span><br>
<span class="lineno">400</span><span class="op" id="4472182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4472185">func</span>&nbsp;<span class="ident" id="4472190">encUintptrSlice</span><span class="op" id="4472205">(</span><span class="ident" id="4472206">state</span>&nbsp;<span class="op" id="4472212">*</span><span class="ident" id="4472213">encoderState</span><span class="op" id="4472225">,</span>&nbsp;<span class="ident" id="4472227">v</span>&nbsp;<span class="ident" id="4472229">reflect</span><span class="op" id="4472236">.</span><span class="ident" id="4472237">Value</span><span class="op" id="4472242">)</span>&nbsp;<span class="builtintype" id="4472244">bool</span>&nbsp;<span class="op" id="4472249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4472252">slice</span><span class="op" id="4472257">,</span>&nbsp;<span class="ident" id="4472259">ok</span>&nbsp;<span class="op" id="4472262">:=</span>&nbsp;<span class="ident" id="4472265">v</span><span class="op" id="4472266">.</span><span class="ident" id="4472267">Interface</span><span class="op" id="4472276">(</span><span class="op" id="4472277">)</span><span class="op" id="4472278">.</span><span class="op" id="4472279">(</span><span class="op" id="4472280">[</span><span class="op" id="4472281">]</span><span class="builtintype" id="4472282">uintptr</span><span class="op" id="4472289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4472292">if</span>&nbsp;<span class="op" id="4472295">!</span><span class="ident" id="4472296">ok</span>&nbsp;<span class="op" id="4472299">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4472303">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4472384">return</span>&nbsp;<span class="builtintype" id="4472391">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4472398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4472401">for</span>&nbsp;<span class="ident" id="4472405">_</span><span class="op" id="4472406">,</span>&nbsp;<span class="ident" id="4472408">x</span>&nbsp;<span class="op" id="4472410">:=</span>&nbsp;<span class="keyword" id="4472413">range</span>&nbsp;<span class="ident" id="4472419">slice</span>&nbsp;<span class="op" id="4472425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4472429">if</span>&nbsp;<span class="ident" id="4472432">x</span>&nbsp;<span class="op" id="4472434">!=</span>&nbsp;<span class="num" id="4472437">0</span>&nbsp;<span class="op" id="4472439">||</span>&nbsp;<span class="ident" id="4472442">state</span><span class="op" id="4472447">.</span><span class="ident" id="4472448">sendZero</span>&nbsp;<span class="op" id="4472457">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4472462">state</span><span class="op" id="4472467">.</span><span class="ident" id="4472468">encodeUint</span><span class="op" id="4472478">(</span><span class="ident" id="4472479">uint64</span><span class="op" id="4472485">(</span><span class="ident" id="4472486">x</span><span class="op" id="4472487">)</span><span class="op" id="4472488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4472492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4472495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4472498">return</span>&nbsp;<span class="builtintype" id="4472505">true</span><br>
<span class="lineno"></span><span class="op" id="4472510">}</span>
</div>
</body>
</html>
