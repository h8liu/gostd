<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3240211">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3240266">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3240320">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3240371">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3240431">package</span>&nbsp;<span class="ident" id="3240439">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3240449">import</span>&nbsp;<span class="op" id="3240456">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3240459">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3240466">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3240479">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="3240495">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3240498">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3240544">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="3240625">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="3240699">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="3240726">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="3240787">func</span>&nbsp;<span class="ident" id="3240792">Must</span><span class="op" id="3240796">(</span><span class="ident" id="3240797">t</span>&nbsp;<span class="op" id="3240799">*</span><span class="ident" id="3240800">Template</span><span class="op" id="3240808">,</span>&nbsp;<span class="ident" id="3240810">err</span>&nbsp;<span class="builtintype" id="3240814">error</span><span class="op" id="3240819">)</span>&nbsp;<span class="op" id="3240821">*</span><span class="ident" id="3240822">Template</span>&nbsp;<span class="op" id="3240831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3240834">if</span>&nbsp;<span class="ident" id="3240837">err</span>&nbsp;<span class="op" id="3240841">!=</span>&nbsp;<span class="ident" id="3240844">nil</span>&nbsp;<span class="op" id="3240848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3240852">panic</span><span class="op" id="3240857">(</span><span class="ident" id="3240858">err</span><span class="op" id="3240861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3240864">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3240867">return</span>&nbsp;<span class="ident" id="3240874">t</span><br>
<span class="lineno"></span><span class="op" id="3240876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3240879">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="3240957">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="3241036">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="3241109">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3241181">func</span>&nbsp;<span class="ident" id="3241186">ParseFiles</span><span class="op" id="3241196">(</span><span class="ident" id="3241197">filenames</span>&nbsp;<span class="op" id="3241207">...</span><span class="builtintype" id="3241210">string</span><span class="op" id="3241216">)</span>&nbsp;<span class="op" id="3241218">(</span><span class="op" id="3241219">*</span><span class="ident" id="3241220">Template</span><span class="op" id="3241228">,</span>&nbsp;<span class="builtintype" id="3241230">error</span><span class="op" id="3241235">)</span>&nbsp;<span class="op" id="3241237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241240">return</span>&nbsp;<span class="ident" id="3241247">parseFiles</span><span class="op" id="3241257">(</span><span class="ident" id="3241258">nil</span><span class="op" id="3241261">,</span>&nbsp;<span class="ident" id="3241263">filenames</span><span class="op" id="3241272">...</span><span class="op" id="3241275">)</span><br>
<span class="lineno"></span><span class="op" id="3241277">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3241280">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3241361">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="3241435">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3241490">func</span>&nbsp;<span class="op" id="3241495">(</span><span class="ident" id="3241496">t</span>&nbsp;<span class="op" id="3241498">*</span><span class="ident" id="3241499">Template</span><span class="op" id="3241507">)</span>&nbsp;<span class="ident" id="3241509">ParseFiles</span><span class="op" id="3241519">(</span><span class="ident" id="3241520">filenames</span>&nbsp;<span class="op" id="3241530">...</span><span class="builtintype" id="3241533">string</span><span class="op" id="3241539">)</span>&nbsp;<span class="op" id="3241541">(</span><span class="op" id="3241542">*</span><span class="ident" id="3241543">Template</span><span class="op" id="3241551">,</span>&nbsp;<span class="builtintype" id="3241553">error</span><span class="op" id="3241558">)</span>&nbsp;<span class="op" id="3241560">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241563">return</span>&nbsp;<span class="ident" id="3241570">parseFiles</span><span class="op" id="3241580">(</span><span class="ident" id="3241581">t</span><span class="op" id="3241582">,</span>&nbsp;<span class="ident" id="3241584">filenames</span><span class="op" id="3241593">...</span><span class="op" id="3241596">)</span><br>
<span class="lineno"></span><span class="op" id="3241598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3241601">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="3241674">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="3241729">func</span>&nbsp;<span class="ident" id="3241734">parseFiles</span><span class="op" id="3241744">(</span><span class="ident" id="3241745">t</span>&nbsp;<span class="op" id="3241747">*</span><span class="ident" id="3241748">Template</span><span class="op" id="3241756">,</span>&nbsp;<span class="ident" id="3241758">filenames</span>&nbsp;<span class="op" id="3241768">...</span><span class="builtintype" id="3241771">string</span><span class="op" id="3241777">)</span>&nbsp;<span class="op" id="3241779">(</span><span class="op" id="3241780">*</span><span class="ident" id="3241781">Template</span><span class="op" id="3241789">,</span>&nbsp;<span class="builtintype" id="3241791">error</span><span class="op" id="3241796">)</span>&nbsp;<span class="op" id="3241798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241801">if</span>&nbsp;<span class="builtinfunc" id="3241804">len</span><span class="op" id="3241807">(</span><span class="ident" id="3241808">filenames</span><span class="op" id="3241817">)</span>&nbsp;<span class="op" id="3241819">==</span>&nbsp;<span class="num" id="3241822">0</span>&nbsp;<span class="op" id="3241824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3241828">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241874">return</span>&nbsp;<span class="ident" id="3241881">nil</span><span class="op" id="3241884">,</span>&nbsp;<span class="ident" id="3241886">fmt</span><span class="op" id="3241889">.</span><span class="ident" id="3241890">Errorf</span><span class="op" id="3241896">(</span><span class="string" id="3241897">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="3241945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3241948">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241951">for</span>&nbsp;<span class="ident" id="3241955">_</span><span class="op" id="3241956">,</span>&nbsp;<span class="ident" id="3241958">filename</span>&nbsp;<span class="op" id="3241967">:=</span>&nbsp;<span class="keyword" id="3241970">range</span>&nbsp;<span class="ident" id="3241976">filenames</span>&nbsp;<span class="op" id="3241986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3241990">b</span><span class="op" id="3241991">,</span>&nbsp;<span class="ident" id="3241993">err</span>&nbsp;<span class="op" id="3241997">:=</span>&nbsp;<span class="ident" id="3242000">ioutil</span><span class="op" id="3242006">.</span><span class="ident" id="3242007">ReadFile</span><span class="op" id="3242015">(</span><span class="ident" id="3242016">filename</span><span class="op" id="3242024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242028">if</span>&nbsp;<span class="ident" id="3242031">err</span>&nbsp;<span class="op" id="3242035">!=</span>&nbsp;<span class="ident" id="3242038">nil</span>&nbsp;<span class="op" id="3242042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242047">return</span>&nbsp;<span class="ident" id="3242054">nil</span><span class="op" id="3242057">,</span>&nbsp;<span class="ident" id="3242059">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3242065">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3242069">s</span>&nbsp;<span class="op" id="3242071">:=</span>&nbsp;<span class="builtintype" id="3242074">string</span><span class="op" id="3242080">(</span><span class="ident" id="3242081">b</span><span class="op" id="3242082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3242086">name</span>&nbsp;<span class="op" id="3242091">:=</span>&nbsp;<span class="ident" id="3242094">filepath</span><span class="op" id="3242102">.</span><span class="ident" id="3242103">Base</span><span class="op" id="3242107">(</span><span class="ident" id="3242108">filename</span><span class="op" id="3242116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242120">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242185">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242248">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242318">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242369">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242423">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242489">var</span>&nbsp;<span class="ident" id="3242493">tmpl</span>&nbsp;<span class="op" id="3242498">*</span><span class="ident" id="3242499">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242510">if</span>&nbsp;<span class="ident" id="3242513">t</span>&nbsp;<span class="op" id="3242515">==</span>&nbsp;<span class="ident" id="3242518">nil</span>&nbsp;<span class="op" id="3242522">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3242527">t</span>&nbsp;<span class="op" id="3242529">=</span>&nbsp;<span class="ident" id="3242531">New</span><span class="op" id="3242534">(</span><span class="ident" id="3242535">name</span><span class="op" id="3242539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3242543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242547">if</span>&nbsp;<span class="ident" id="3242550">name</span>&nbsp;<span class="op" id="3242555">==</span>&nbsp;<span class="ident" id="3242558">t</span><span class="op" id="3242559">.</span><span class="ident" id="3242560">Name</span><span class="op" id="3242564">(</span><span class="op" id="3242565">)</span>&nbsp;<span class="op" id="3242567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3242572">tmpl</span>&nbsp;<span class="op" id="3242577">=</span>&nbsp;<span class="ident" id="3242579">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3242583">}</span>&nbsp;<span class="keyword" id="3242585">else</span>&nbsp;<span class="op" id="3242590">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3242595">tmpl</span>&nbsp;<span class="op" id="3242600">=</span>&nbsp;<span class="ident" id="3242602">t</span><span class="op" id="3242603">.</span><span class="ident" id="3242604">New</span><span class="op" id="3242607">(</span><span class="ident" id="3242608">name</span><span class="op" id="3242612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3242616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3242620">_</span><span class="op" id="3242621">,</span>&nbsp;<span class="ident" id="3242623">err</span>&nbsp;<span class="op" id="3242627">=</span>&nbsp;<span class="ident" id="3242629">tmpl</span><span class="op" id="3242633">.</span><span class="ident" id="3242634">Parse</span><span class="op" id="3242639">(</span><span class="ident" id="3242640">s</span><span class="op" id="3242641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242645">if</span>&nbsp;<span class="ident" id="3242648">err</span>&nbsp;<span class="op" id="3242652">!=</span>&nbsp;<span class="ident" id="3242655">nil</span>&nbsp;<span class="op" id="3242659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242664">return</span>&nbsp;<span class="ident" id="3242671">nil</span><span class="op" id="3242674">,</span>&nbsp;<span class="ident" id="3242676">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3242682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3242685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242688">return</span>&nbsp;<span class="ident" id="3242695">t</span><span class="op" id="3242696">,</span>&nbsp;<span class="ident" id="3242698">nil</span><br>
<span class="lineno"></span><span class="op" id="3242702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3242705">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3242786">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3242862">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3242938">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="3243011">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="3243072">func</span>&nbsp;<span class="ident" id="3243077">ParseGlob</span><span class="op" id="3243086">(</span><span class="ident" id="3243087">pattern</span>&nbsp;<span class="builtintype" id="3243095">string</span><span class="op" id="3243101">)</span>&nbsp;<span class="op" id="3243103">(</span><span class="op" id="3243104">*</span><span class="ident" id="3243105">Template</span><span class="op" id="3243113">,</span>&nbsp;<span class="builtintype" id="3243115">error</span><span class="op" id="3243120">)</span>&nbsp;<span class="op" id="3243122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243125">return</span>&nbsp;<span class="ident" id="3243132">parseGlob</span><span class="op" id="3243141">(</span><span class="ident" id="3243142">nil</span><span class="op" id="3243145">,</span>&nbsp;<span class="ident" id="3243147">pattern</span><span class="op" id="3243154">)</span><br>
<span class="lineno"></span><span class="op" id="3243156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3243159">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="3243235">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3243308">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3243385">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3243461">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="3243473">func</span>&nbsp;<span class="op" id="3243478">(</span><span class="ident" id="3243479">t</span>&nbsp;<span class="op" id="3243481">*</span><span class="ident" id="3243482">Template</span><span class="op" id="3243490">)</span>&nbsp;<span class="ident" id="3243492">ParseGlob</span><span class="op" id="3243501">(</span><span class="ident" id="3243502">pattern</span>&nbsp;<span class="builtintype" id="3243510">string</span><span class="op" id="3243516">)</span>&nbsp;<span class="op" id="3243518">(</span><span class="op" id="3243519">*</span><span class="ident" id="3243520">Template</span><span class="op" id="3243528">,</span>&nbsp;<span class="builtintype" id="3243530">error</span><span class="op" id="3243535">)</span>&nbsp;<span class="op" id="3243537">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243540">return</span>&nbsp;<span class="ident" id="3243547">parseGlob</span><span class="op" id="3243556">(</span><span class="ident" id="3243557">t</span><span class="op" id="3243558">,</span>&nbsp;<span class="ident" id="3243560">pattern</span><span class="op" id="3243567">)</span><br>
<span class="lineno"></span><span class="op" id="3243569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3243572">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="3243645">func</span>&nbsp;<span class="ident" id="3243650">parseGlob</span><span class="op" id="3243659">(</span><span class="ident" id="3243660">t</span>&nbsp;<span class="op" id="3243662">*</span><span class="ident" id="3243663">Template</span><span class="op" id="3243671">,</span>&nbsp;<span class="ident" id="3243673">pattern</span>&nbsp;<span class="builtintype" id="3243681">string</span><span class="op" id="3243687">)</span>&nbsp;<span class="op" id="3243689">(</span><span class="op" id="3243690">*</span><span class="ident" id="3243691">Template</span><span class="op" id="3243699">,</span>&nbsp;<span class="builtintype" id="3243701">error</span><span class="op" id="3243706">)</span>&nbsp;<span class="op" id="3243708">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3243711">filenames</span><span class="op" id="3243720">,</span>&nbsp;<span class="ident" id="3243722">err</span>&nbsp;<span class="op" id="3243726">:=</span>&nbsp;<span class="ident" id="3243729">filepath</span><span class="op" id="3243737">.</span><span class="ident" id="3243738">Glob</span><span class="op" id="3243742">(</span><span class="ident" id="3243743">pattern</span><span class="op" id="3243750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243753">if</span>&nbsp;<span class="ident" id="3243756">err</span>&nbsp;<span class="op" id="3243760">!=</span>&nbsp;<span class="ident" id="3243763">nil</span>&nbsp;<span class="op" id="3243767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243771">return</span>&nbsp;<span class="ident" id="3243778">nil</span><span class="op" id="3243781">,</span>&nbsp;<span class="ident" id="3243783">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3243788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243791">if</span>&nbsp;<span class="builtinfunc" id="3243794">len</span><span class="op" id="3243797">(</span><span class="ident" id="3243798">filenames</span><span class="op" id="3243807">)</span>&nbsp;<span class="op" id="3243809">==</span>&nbsp;<span class="num" id="3243812">0</span>&nbsp;<span class="op" id="3243814">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243818">return</span>&nbsp;<span class="ident" id="3243825">nil</span><span class="op" id="3243828">,</span>&nbsp;<span class="ident" id="3243830">fmt</span><span class="op" id="3243833">.</span><span class="ident" id="3243834">Errorf</span><span class="op" id="3243840">(</span><span class="string" id="3243841">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="3243882">,</span>&nbsp;<span class="ident" id="3243884">pattern</span><span class="op" id="3243891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3243894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243897">return</span>&nbsp;<span class="ident" id="3243904">parseFiles</span><span class="op" id="3243914">(</span><span class="ident" id="3243915">t</span><span class="op" id="3243916">,</span>&nbsp;<span class="ident" id="3243918">filenames</span><span class="op" id="3243927">...</span><span class="op" id="3243930">)</span><br>
<span class="lineno"></span><span class="op" id="3243932">}</span>
</div>
</body>
</html>
