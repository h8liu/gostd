<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8551979">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8552034">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8552088">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8552139">package</span>&nbsp;<span class="ident" id="8552147">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8552154">import</span>&nbsp;<span class="op" id="8552161">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8552164">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8552179">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8552189">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8552192">type</span>&nbsp;<span class="ident" id="8552197">image</span>&nbsp;<span class="keyword" id="8552203">interface</span>&nbsp;<span class="op" id="8552213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552216">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552223">Opaque</span><span class="op" id="8552229">(</span><span class="op" id="8552230">)</span>&nbsp;<span class="builtintype" id="8552232">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552238">Set</span><span class="op" id="8552241">(</span><span class="builtintype" id="8552242">int</span><span class="op" id="8552245">,</span>&nbsp;<span class="builtintype" id="8552247">int</span><span class="op" id="8552250">,</span>&nbsp;<span class="ident" id="8552252">color</span><span class="op" id="8552257">.</span><span class="ident" id="8552258">Color</span><span class="op" id="8552263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552266">SubImage</span><span class="op" id="8552274">(</span><span class="ident" id="8552275">Rectangle</span><span class="op" id="8552284">)</span>&nbsp;<span class="ident" id="8552286">Image</span><br>
<span class="lineno"></span><span class="op" id="8552292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8552295">func</span>&nbsp;<span class="ident" id="8552300">cmp</span><span class="op" id="8552303">(</span><span class="ident" id="8552304">t</span>&nbsp;<span class="op" id="8552306">*</span><span class="ident" id="8552307">testing</span><span class="op" id="8552314">.</span><span class="ident" id="8552315">T</span><span class="op" id="8552316">,</span>&nbsp;<span class="ident" id="8552318">cm</span>&nbsp;<span class="ident" id="8552321">color</span><span class="op" id="8552326">.</span><span class="ident" id="8552327">Model</span><span class="op" id="8552332">,</span>&nbsp;<span class="ident" id="8552334">c0</span><span class="op" id="8552336">,</span>&nbsp;<span class="ident" id="8552338">c1</span>&nbsp;<span class="ident" id="8552341">color</span><span class="op" id="8552346">.</span><span class="ident" id="8552347">Color</span><span class="op" id="8552352">)</span>&nbsp;<span class="builtintype" id="8552354">bool</span>&nbsp;<span class="op" id="8552359">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552362">r0</span><span class="op" id="8552364">,</span>&nbsp;<span class="ident" id="8552366">g0</span><span class="op" id="8552368">,</span>&nbsp;<span class="ident" id="8552370">b0</span><span class="op" id="8552372">,</span>&nbsp;<span class="ident" id="8552374">a0</span>&nbsp;<span class="op" id="8552377">:=</span>&nbsp;<span class="ident" id="8552380">cm</span><span class="op" id="8552382">.</span><span class="ident" id="8552383">Convert</span><span class="op" id="8552390">(</span><span class="ident" id="8552391">c0</span><span class="op" id="8552393">)</span><span class="op" id="8552394">.</span><span class="ident" id="8552395">RGBA</span><span class="op" id="8552399">(</span><span class="op" id="8552400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552403">r1</span><span class="op" id="8552405">,</span>&nbsp;<span class="ident" id="8552407">g1</span><span class="op" id="8552409">,</span>&nbsp;<span class="ident" id="8552411">b1</span><span class="op" id="8552413">,</span>&nbsp;<span class="ident" id="8552415">a1</span>&nbsp;<span class="op" id="8552418">:=</span>&nbsp;<span class="ident" id="8552421">cm</span><span class="op" id="8552423">.</span><span class="ident" id="8552424">Convert</span><span class="op" id="8552431">(</span><span class="ident" id="8552432">c1</span><span class="op" id="8552434">)</span><span class="op" id="8552435">.</span><span class="ident" id="8552436">RGBA</span><span class="op" id="8552440">(</span><span class="op" id="8552441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8552444">return</span>&nbsp;<span class="ident" id="8552451">r0</span>&nbsp;<span class="op" id="8552454">==</span>&nbsp;<span class="ident" id="8552457">r1</span>&nbsp;<span class="op" id="8552460">&amp;&amp;</span>&nbsp;<span class="ident" id="8552463">g0</span>&nbsp;<span class="op" id="8552466">==</span>&nbsp;<span class="ident" id="8552469">g1</span>&nbsp;<span class="op" id="8552472">&amp;&amp;</span>&nbsp;<span class="ident" id="8552475">b0</span>&nbsp;<span class="op" id="8552478">==</span>&nbsp;<span class="ident" id="8552481">b1</span>&nbsp;<span class="op" id="8552484">&amp;&amp;</span>&nbsp;<span class="ident" id="8552487">a0</span>&nbsp;<span class="op" id="8552490">==</span>&nbsp;<span class="ident" id="8552493">a1</span><br>
<span class="lineno"></span><span class="op" id="8552496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8552499">func</span>&nbsp;<span class="ident" id="8552504">TestImage</span><span class="op" id="8552513">(</span><span class="ident" id="8552514">t</span>&nbsp;<span class="op" id="8552516">*</span><span class="ident" id="8552517">testing</span><span class="op" id="8552524">.</span><span class="ident" id="8552525">T</span><span class="op" id="8552526">)</span>&nbsp;<span class="op" id="8552528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552531">testImage</span>&nbsp;<span class="op" id="8552541">:=</span>&nbsp;<span class="op" id="8552544">[</span><span class="op" id="8552545">]</span><span class="ident" id="8552546">image</span><span class="op" id="8552551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552555">NewRGBA</span><span class="op" id="8552562">(</span><span class="ident" id="8552563">Rect</span><span class="op" id="8552567">(</span><span class="num" id="8552568">0</span><span class="op" id="8552569">,</span>&nbsp;<span class="num" id="8552571">0</span><span class="op" id="8552572">,</span>&nbsp;<span class="num" id="8552574">10</span><span class="op" id="8552576">,</span>&nbsp;<span class="num" id="8552578">10</span><span class="op" id="8552580">)</span><span class="op" id="8552581">)</span><span class="op" id="8552582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552586">NewRGBA64</span><span class="op" id="8552595">(</span><span class="ident" id="8552596">Rect</span><span class="op" id="8552600">(</span><span class="num" id="8552601">0</span><span class="op" id="8552602">,</span>&nbsp;<span class="num" id="8552604">0</span><span class="op" id="8552605">,</span>&nbsp;<span class="num" id="8552607">10</span><span class="op" id="8552609">,</span>&nbsp;<span class="num" id="8552611">10</span><span class="op" id="8552613">)</span><span class="op" id="8552614">)</span><span class="op" id="8552615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552619">NewNRGBA</span><span class="op" id="8552627">(</span><span class="ident" id="8552628">Rect</span><span class="op" id="8552632">(</span><span class="num" id="8552633">0</span><span class="op" id="8552634">,</span>&nbsp;<span class="num" id="8552636">0</span><span class="op" id="8552637">,</span>&nbsp;<span class="num" id="8552639">10</span><span class="op" id="8552641">,</span>&nbsp;<span class="num" id="8552643">10</span><span class="op" id="8552645">)</span><span class="op" id="8552646">)</span><span class="op" id="8552647">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552651">NewNRGBA64</span><span class="op" id="8552661">(</span><span class="ident" id="8552662">Rect</span><span class="op" id="8552666">(</span><span class="num" id="8552667">0</span><span class="op" id="8552668">,</span>&nbsp;<span class="num" id="8552670">0</span><span class="op" id="8552671">,</span>&nbsp;<span class="num" id="8552673">10</span><span class="op" id="8552675">,</span>&nbsp;<span class="num" id="8552677">10</span><span class="op" id="8552679">)</span><span class="op" id="8552680">)</span><span class="op" id="8552681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552685">NewAlpha</span><span class="op" id="8552693">(</span><span class="ident" id="8552694">Rect</span><span class="op" id="8552698">(</span><span class="num" id="8552699">0</span><span class="op" id="8552700">,</span>&nbsp;<span class="num" id="8552702">0</span><span class="op" id="8552703">,</span>&nbsp;<span class="num" id="8552705">10</span><span class="op" id="8552707">,</span>&nbsp;<span class="num" id="8552709">10</span><span class="op" id="8552711">)</span><span class="op" id="8552712">)</span><span class="op" id="8552713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552717">NewAlpha16</span><span class="op" id="8552727">(</span><span class="ident" id="8552728">Rect</span><span class="op" id="8552732">(</span><span class="num" id="8552733">0</span><span class="op" id="8552734">,</span>&nbsp;<span class="num" id="8552736">0</span><span class="op" id="8552737">,</span>&nbsp;<span class="num" id="8552739">10</span><span class="op" id="8552741">,</span>&nbsp;<span class="num" id="8552743">10</span><span class="op" id="8552745">)</span><span class="op" id="8552746">)</span><span class="op" id="8552747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552751">NewGray</span><span class="op" id="8552758">(</span><span class="ident" id="8552759">Rect</span><span class="op" id="8552763">(</span><span class="num" id="8552764">0</span><span class="op" id="8552765">,</span>&nbsp;<span class="num" id="8552767">0</span><span class="op" id="8552768">,</span>&nbsp;<span class="num" id="8552770">10</span><span class="op" id="8552772">,</span>&nbsp;<span class="num" id="8552774">10</span><span class="op" id="8552776">)</span><span class="op" id="8552777">)</span><span class="op" id="8552778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552782">NewGray16</span><span class="op" id="8552791">(</span><span class="ident" id="8552792">Rect</span><span class="op" id="8552796">(</span><span class="num" id="8552797">0</span><span class="op" id="8552798">,</span>&nbsp;<span class="num" id="8552800">0</span><span class="op" id="8552801">,</span>&nbsp;<span class="num" id="8552803">10</span><span class="op" id="8552805">,</span>&nbsp;<span class="num" id="8552807">10</span><span class="op" id="8552809">)</span><span class="op" id="8552810">)</span><span class="op" id="8552811">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552815">NewPaletted</span><span class="op" id="8552826">(</span><span class="ident" id="8552827">Rect</span><span class="op" id="8552831">(</span><span class="num" id="8552832">0</span><span class="op" id="8552833">,</span>&nbsp;<span class="num" id="8552835">0</span><span class="op" id="8552836">,</span>&nbsp;<span class="num" id="8552838">10</span><span class="op" id="8552840">,</span>&nbsp;<span class="num" id="8552842">10</span><span class="op" id="8552844">)</span><span class="op" id="8552845">,</span>&nbsp;<span class="ident" id="8552847">color</span><span class="op" id="8552852">.</span><span class="ident" id="8552853">Palette</span><span class="op" id="8552860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552865">Transparent</span><span class="op" id="8552876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552881">Opaque</span><span class="op" id="8552887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8552891">}</span><span class="op" id="8552892">)</span><span class="op" id="8552893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8552896">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8552899">for</span>&nbsp;<span class="ident" id="8552903">_</span><span class="op" id="8552904">,</span>&nbsp;<span class="ident" id="8552906">m</span>&nbsp;<span class="op" id="8552908">:=</span>&nbsp;<span class="keyword" id="8552911">range</span>&nbsp;<span class="ident" id="8552917">testImage</span>&nbsp;<span class="op" id="8552927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8552931">if</span>&nbsp;<span class="op" id="8552934">!</span><span class="ident" id="8552935">Rect</span><span class="op" id="8552939">(</span><span class="num" id="8552940">0</span><span class="op" id="8552941">,</span>&nbsp;<span class="num" id="8552943">0</span><span class="op" id="8552944">,</span>&nbsp;<span class="num" id="8552946">10</span><span class="op" id="8552948">,</span>&nbsp;<span class="num" id="8552950">10</span><span class="op" id="8552952">)</span><span class="op" id="8552953">.</span><span class="ident" id="8552954">Eq</span><span class="op" id="8552956">(</span><span class="ident" id="8552957">m</span><span class="op" id="8552958">.</span><span class="ident" id="8552959">Bounds</span><span class="op" id="8552965">(</span><span class="op" id="8552966">)</span><span class="op" id="8552967">)</span>&nbsp;<span class="op" id="8552969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8552974">t</span><span class="op" id="8552975">.</span><span class="ident" id="8552976">Errorf</span><span class="op" id="8552982">(</span><span class="string" id="8552983">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8553011">,</span>&nbsp;<span class="ident" id="8553013">m</span><span class="op" id="8553014">,</span>&nbsp;<span class="ident" id="8553016">Rect</span><span class="op" id="8553020">(</span><span class="num" id="8553021">0</span><span class="op" id="8553022">,</span>&nbsp;<span class="num" id="8553024">0</span><span class="op" id="8553025">,</span>&nbsp;<span class="num" id="8553027">10</span><span class="op" id="8553029">,</span>&nbsp;<span class="num" id="8553031">10</span><span class="op" id="8553033">)</span><span class="op" id="8553034">,</span>&nbsp;<span class="ident" id="8553036">m</span><span class="op" id="8553037">.</span><span class="ident" id="8553038">Bounds</span><span class="op" id="8553044">(</span><span class="op" id="8553045">)</span><span class="op" id="8553046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553051">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8553062">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553066">if</span>&nbsp;<span class="op" id="8553069">!</span><span class="ident" id="8553070">cmp</span><span class="op" id="8553073">(</span><span class="ident" id="8553074">t</span><span class="op" id="8553075">,</span>&nbsp;<span class="ident" id="8553077">m</span><span class="op" id="8553078">.</span><span class="ident" id="8553079">ColorModel</span><span class="op" id="8553089">(</span><span class="op" id="8553090">)</span><span class="op" id="8553091">,</span>&nbsp;<span class="ident" id="8553093">Transparent</span><span class="op" id="8553104">,</span>&nbsp;<span class="ident" id="8553106">m</span><span class="op" id="8553107">.</span><span class="ident" id="8553108">At</span><span class="op" id="8553110">(</span><span class="num" id="8553111">6</span><span class="op" id="8553112">,</span>&nbsp;<span class="num" id="8553114">3</span><span class="op" id="8553115">)</span><span class="op" id="8553116">)</span>&nbsp;<span class="op" id="8553118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553123">t</span><span class="op" id="8553124">.</span><span class="ident" id="8553125">Errorf</span><span class="op" id="8553131">(</span><span class="string" id="8553132">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8553174">,</span>&nbsp;<span class="ident" id="8553176">m</span><span class="op" id="8553177">,</span>&nbsp;<span class="ident" id="8553179">m</span><span class="op" id="8553180">.</span><span class="ident" id="8553181">At</span><span class="op" id="8553183">(</span><span class="num" id="8553184">6</span><span class="op" id="8553185">,</span>&nbsp;<span class="num" id="8553187">3</span><span class="op" id="8553188">)</span><span class="op" id="8553189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553194">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8553205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553209">m</span><span class="op" id="8553210">.</span><span class="ident" id="8553211">Set</span><span class="op" id="8553214">(</span><span class="num" id="8553215">6</span><span class="op" id="8553216">,</span>&nbsp;<span class="num" id="8553218">3</span><span class="op" id="8553219">,</span>&nbsp;<span class="ident" id="8553221">Opaque</span><span class="op" id="8553227">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553231">if</span>&nbsp;<span class="op" id="8553234">!</span><span class="ident" id="8553235">cmp</span><span class="op" id="8553238">(</span><span class="ident" id="8553239">t</span><span class="op" id="8553240">,</span>&nbsp;<span class="ident" id="8553242">m</span><span class="op" id="8553243">.</span><span class="ident" id="8553244">ColorModel</span><span class="op" id="8553254">(</span><span class="op" id="8553255">)</span><span class="op" id="8553256">,</span>&nbsp;<span class="ident" id="8553258">Opaque</span><span class="op" id="8553264">,</span>&nbsp;<span class="ident" id="8553266">m</span><span class="op" id="8553267">.</span><span class="ident" id="8553268">At</span><span class="op" id="8553270">(</span><span class="num" id="8553271">6</span><span class="op" id="8553272">,</span>&nbsp;<span class="num" id="8553274">3</span><span class="op" id="8553275">)</span><span class="op" id="8553276">)</span>&nbsp;<span class="op" id="8553278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553283">t</span><span class="op" id="8553284">.</span><span class="ident" id="8553285">Errorf</span><span class="op" id="8553291">(</span><span class="string" id="8553292">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8553338">,</span>&nbsp;<span class="ident" id="8553340">m</span><span class="op" id="8553341">,</span>&nbsp;<span class="ident" id="8553343">m</span><span class="op" id="8553344">.</span><span class="ident" id="8553345">At</span><span class="op" id="8553347">(</span><span class="num" id="8553348">6</span><span class="op" id="8553349">,</span>&nbsp;<span class="num" id="8553351">3</span><span class="op" id="8553352">)</span><span class="op" id="8553353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553358">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8553369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553373">if</span>&nbsp;<span class="op" id="8553376">!</span><span class="ident" id="8553377">m</span><span class="op" id="8553378">.</span><span class="ident" id="8553379">SubImage</span><span class="op" id="8553387">(</span><span class="ident" id="8553388">Rect</span><span class="op" id="8553392">(</span><span class="num" id="8553393">6</span><span class="op" id="8553394">,</span>&nbsp;<span class="num" id="8553396">3</span><span class="op" id="8553397">,</span>&nbsp;<span class="num" id="8553399">7</span><span class="op" id="8553400">,</span>&nbsp;<span class="num" id="8553402">4</span><span class="op" id="8553403">)</span><span class="op" id="8553404">)</span><span class="op" id="8553405">.</span><span class="op" id="8553406">(</span><span class="ident" id="8553407">image</span><span class="op" id="8553412">)</span><span class="op" id="8553413">.</span><span class="ident" id="8553414">Opaque</span><span class="op" id="8553420">(</span><span class="op" id="8553421">)</span>&nbsp;<span class="op" id="8553423">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553428">t</span><span class="op" id="8553429">.</span><span class="ident" id="8553430">Errorf</span><span class="op" id="8553436">(</span><span class="string" id="8553437">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="8553467">,</span>&nbsp;<span class="ident" id="8553469">m</span><span class="op" id="8553470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553475">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8553486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553490">m</span>&nbsp;<span class="op" id="8553492">=</span>&nbsp;<span class="ident" id="8553494">m</span><span class="op" id="8553495">.</span><span class="ident" id="8553496">SubImage</span><span class="op" id="8553504">(</span><span class="ident" id="8553505">Rect</span><span class="op" id="8553509">(</span><span class="num" id="8553510">3</span><span class="op" id="8553511">,</span>&nbsp;<span class="num" id="8553513">2</span><span class="op" id="8553514">,</span>&nbsp;<span class="num" id="8553516">9</span><span class="op" id="8553517">,</span>&nbsp;<span class="num" id="8553519">8</span><span class="op" id="8553520">)</span><span class="op" id="8553521">)</span><span class="op" id="8553522">.</span><span class="op" id="8553523">(</span><span class="ident" id="8553524">image</span><span class="op" id="8553529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553533">if</span>&nbsp;<span class="op" id="8553536">!</span><span class="ident" id="8553537">Rect</span><span class="op" id="8553541">(</span><span class="num" id="8553542">3</span><span class="op" id="8553543">,</span>&nbsp;<span class="num" id="8553545">2</span><span class="op" id="8553546">,</span>&nbsp;<span class="num" id="8553548">9</span><span class="op" id="8553549">,</span>&nbsp;<span class="num" id="8553551">8</span><span class="op" id="8553552">)</span><span class="op" id="8553553">.</span><span class="ident" id="8553554">Eq</span><span class="op" id="8553556">(</span><span class="ident" id="8553557">m</span><span class="op" id="8553558">.</span><span class="ident" id="8553559">Bounds</span><span class="op" id="8553565">(</span><span class="op" id="8553566">)</span><span class="op" id="8553567">)</span>&nbsp;<span class="op" id="8553569">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553574">t</span><span class="op" id="8553575">.</span><span class="ident" id="8553576">Errorf</span><span class="op" id="8553582">(</span><span class="string" id="8553583">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8553621">,</span>&nbsp;<span class="ident" id="8553623">m</span><span class="op" id="8553624">,</span>&nbsp;<span class="ident" id="8553626">Rect</span><span class="op" id="8553630">(</span><span class="num" id="8553631">3</span><span class="op" id="8553632">,</span>&nbsp;<span class="num" id="8553634">2</span><span class="op" id="8553635">,</span>&nbsp;<span class="num" id="8553637">9</span><span class="op" id="8553638">,</span>&nbsp;<span class="num" id="8553640">8</span><span class="op" id="8553641">)</span><span class="op" id="8553642">,</span>&nbsp;<span class="ident" id="8553644">m</span><span class="op" id="8553645">.</span><span class="ident" id="8553646">Bounds</span><span class="op" id="8553652">(</span><span class="op" id="8553653">)</span><span class="op" id="8553654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553659">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8553670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553674">if</span>&nbsp;<span class="op" id="8553677">!</span><span class="ident" id="8553678">cmp</span><span class="op" id="8553681">(</span><span class="ident" id="8553682">t</span><span class="op" id="8553683">,</span>&nbsp;<span class="ident" id="8553685">m</span><span class="op" id="8553686">.</span><span class="ident" id="8553687">ColorModel</span><span class="op" id="8553697">(</span><span class="op" id="8553698">)</span><span class="op" id="8553699">,</span>&nbsp;<span class="ident" id="8553701">Opaque</span><span class="op" id="8553707">,</span>&nbsp;<span class="ident" id="8553709">m</span><span class="op" id="8553710">.</span><span class="ident" id="8553711">At</span><span class="op" id="8553713">(</span><span class="num" id="8553714">6</span><span class="op" id="8553715">,</span>&nbsp;<span class="num" id="8553717">3</span><span class="op" id="8553718">)</span><span class="op" id="8553719">)</span>&nbsp;<span class="op" id="8553721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553726">t</span><span class="op" id="8553727">.</span><span class="ident" id="8553728">Errorf</span><span class="op" id="8553734">(</span><span class="string" id="8553735">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8553791">,</span>&nbsp;<span class="ident" id="8553793">m</span><span class="op" id="8553794">,</span>&nbsp;<span class="ident" id="8553796">m</span><span class="op" id="8553797">.</span><span class="ident" id="8553798">At</span><span class="op" id="8553800">(</span><span class="num" id="8553801">6</span><span class="op" id="8553802">,</span>&nbsp;<span class="num" id="8553804">3</span><span class="op" id="8553805">)</span><span class="op" id="8553806">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553811">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8553822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553826">if</span>&nbsp;<span class="op" id="8553829">!</span><span class="ident" id="8553830">cmp</span><span class="op" id="8553833">(</span><span class="ident" id="8553834">t</span><span class="op" id="8553835">,</span>&nbsp;<span class="ident" id="8553837">m</span><span class="op" id="8553838">.</span><span class="ident" id="8553839">ColorModel</span><span class="op" id="8553849">(</span><span class="op" id="8553850">)</span><span class="op" id="8553851">,</span>&nbsp;<span class="ident" id="8553853">Transparent</span><span class="op" id="8553864">,</span>&nbsp;<span class="ident" id="8553866">m</span><span class="op" id="8553867">.</span><span class="ident" id="8553868">At</span><span class="op" id="8553870">(</span><span class="num" id="8553871">3</span><span class="op" id="8553872">,</span>&nbsp;<span class="num" id="8553874">3</span><span class="op" id="8553875">)</span><span class="op" id="8553876">)</span>&nbsp;<span class="op" id="8553878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553883">t</span><span class="op" id="8553884">.</span><span class="ident" id="8553885">Errorf</span><span class="op" id="8553891">(</span><span class="string" id="8553892">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8553944">,</span>&nbsp;<span class="ident" id="8553946">m</span><span class="op" id="8553947">,</span>&nbsp;<span class="ident" id="8553949">m</span><span class="op" id="8553950">.</span><span class="ident" id="8553951">At</span><span class="op" id="8553953">(</span><span class="num" id="8553954">3</span><span class="op" id="8553955">,</span>&nbsp;<span class="num" id="8553957">3</span><span class="op" id="8553958">)</span><span class="op" id="8553959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8553964">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8553975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8553979">m</span><span class="op" id="8553980">.</span><span class="ident" id="8553981">Set</span><span class="op" id="8553984">(</span><span class="num" id="8553985">3</span><span class="op" id="8553986">,</span>&nbsp;<span class="num" id="8553988">3</span><span class="op" id="8553989">,</span>&nbsp;<span class="ident" id="8553991">Opaque</span><span class="op" id="8553997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8554001">if</span>&nbsp;<span class="op" id="8554004">!</span><span class="ident" id="8554005">cmp</span><span class="op" id="8554008">(</span><span class="ident" id="8554009">t</span><span class="op" id="8554010">,</span>&nbsp;<span class="ident" id="8554012">m</span><span class="op" id="8554013">.</span><span class="ident" id="8554014">ColorModel</span><span class="op" id="8554024">(</span><span class="op" id="8554025">)</span><span class="op" id="8554026">,</span>&nbsp;<span class="ident" id="8554028">Opaque</span><span class="op" id="8554034">,</span>&nbsp;<span class="ident" id="8554036">m</span><span class="op" id="8554037">.</span><span class="ident" id="8554038">At</span><span class="op" id="8554040">(</span><span class="num" id="8554041">3</span><span class="op" id="8554042">,</span>&nbsp;<span class="num" id="8554044">3</span><span class="op" id="8554045">)</span><span class="op" id="8554046">)</span>&nbsp;<span class="op" id="8554048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554053">t</span><span class="op" id="8554054">.</span><span class="ident" id="8554055">Errorf</span><span class="op" id="8554061">(</span><span class="string" id="8554062">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8554118">,</span>&nbsp;<span class="ident" id="8554120">m</span><span class="op" id="8554121">,</span>&nbsp;<span class="ident" id="8554123">m</span><span class="op" id="8554124">.</span><span class="ident" id="8554125">At</span><span class="op" id="8554127">(</span><span class="num" id="8554128">3</span><span class="op" id="8554129">,</span>&nbsp;<span class="num" id="8554131">3</span><span class="op" id="8554132">)</span><span class="op" id="8554133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8554138">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8554149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8554153">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554231">m</span><span class="op" id="8554232">.</span><span class="ident" id="8554233">SubImage</span><span class="op" id="8554241">(</span><span class="ident" id="8554242">Rect</span><span class="op" id="8554246">(</span><span class="num" id="8554247">0</span><span class="op" id="8554248">,</span>&nbsp;<span class="num" id="8554250">0</span><span class="op" id="8554251">,</span>&nbsp;<span class="num" id="8554253">0</span><span class="op" id="8554254">,</span>&nbsp;<span class="num" id="8554256">0</span><span class="op" id="8554257">)</span><span class="op" id="8554258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554262">m</span><span class="op" id="8554263">.</span><span class="ident" id="8554264">SubImage</span><span class="op" id="8554272">(</span><span class="ident" id="8554273">Rect</span><span class="op" id="8554277">(</span><span class="num" id="8554278">10</span><span class="op" id="8554280">,</span>&nbsp;<span class="num" id="8554282">0</span><span class="op" id="8554283">,</span>&nbsp;<span class="num" id="8554285">10</span><span class="op" id="8554287">,</span>&nbsp;<span class="num" id="8554289">0</span><span class="op" id="8554290">)</span><span class="op" id="8554291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554295">m</span><span class="op" id="8554296">.</span><span class="ident" id="8554297">SubImage</span><span class="op" id="8554305">(</span><span class="ident" id="8554306">Rect</span><span class="op" id="8554310">(</span><span class="num" id="8554311">0</span><span class="op" id="8554312">,</span>&nbsp;<span class="num" id="8554314">10</span><span class="op" id="8554316">,</span>&nbsp;<span class="num" id="8554318">0</span><span class="op" id="8554319">,</span>&nbsp;<span class="num" id="8554321">10</span><span class="op" id="8554323">)</span><span class="op" id="8554324">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554328">m</span><span class="op" id="8554329">.</span><span class="ident" id="8554330">SubImage</span><span class="op" id="8554338">(</span><span class="ident" id="8554339">Rect</span><span class="op" id="8554343">(</span><span class="num" id="8554344">10</span><span class="op" id="8554346">,</span>&nbsp;<span class="num" id="8554348">10</span><span class="op" id="8554350">,</span>&nbsp;<span class="num" id="8554352">10</span><span class="op" id="8554354">,</span>&nbsp;<span class="num" id="8554356">10</span><span class="op" id="8554358">)</span><span class="op" id="8554359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8554362">}</span><br>
<span class="lineno"></span><span class="op" id="8554364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8554367">func</span>&nbsp;<span class="ident" id="8554372">Test16BitsPerColorChannel</span><span class="op" id="8554397">(</span><span class="ident" id="8554398">t</span>&nbsp;<span class="op" id="8554400">*</span><span class="ident" id="8554401">testing</span><span class="op" id="8554408">.</span><span class="ident" id="8554409">T</span><span class="op" id="8554410">)</span>&nbsp;<span class="op" id="8554412">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554415">testColorModel</span>&nbsp;<span class="op" id="8554430">:=</span>&nbsp;<span class="op" id="8554433">[</span><span class="op" id="8554434">]</span><span class="ident" id="8554435">color</span><span class="op" id="8554440">.</span><span class="ident" id="8554441">Model</span><span class="op" id="8554446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554450">color</span><span class="op" id="8554455">.</span><span class="ident" id="8554456">RGBA64Model</span><span class="op" id="8554467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554471">color</span><span class="op" id="8554476">.</span><span class="ident" id="8554477">NRGBA64Model</span><span class="op" id="8554489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554493">color</span><span class="op" id="8554498">.</span><span class="ident" id="8554499">Alpha16Model</span><span class="op" id="8554511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554515">color</span><span class="op" id="8554520">.</span><span class="ident" id="8554521">Gray16Model</span><span class="op" id="8554532">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8554535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8554538">for</span>&nbsp;<span class="ident" id="8554542">_</span><span class="op" id="8554543">,</span>&nbsp;<span class="ident" id="8554545">cm</span>&nbsp;<span class="op" id="8554548">:=</span>&nbsp;<span class="keyword" id="8554551">range</span>&nbsp;<span class="ident" id="8554557">testColorModel</span>&nbsp;<span class="op" id="8554572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554576">c</span>&nbsp;<span class="op" id="8554578">:=</span>&nbsp;<span class="ident" id="8554581">cm</span><span class="op" id="8554583">.</span><span class="ident" id="8554584">Convert</span><span class="op" id="8554591">(</span><span class="ident" id="8554592">color</span><span class="op" id="8554597">.</span><span class="ident" id="8554598">RGBA64</span><span class="op" id="8554604">{</span><span class="num" id="8554605">0x1234</span><span class="op" id="8554611">,</span>&nbsp;<span class="num" id="8554613">0x1234</span><span class="op" id="8554619">,</span>&nbsp;<span class="num" id="8554621">0x1234</span><span class="op" id="8554627">,</span>&nbsp;<span class="num" id="8554629">0x1234</span><span class="op" id="8554635">}</span><span class="op" id="8554636">)</span>&nbsp;<span class="comment" id="8554638">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554664">r</span><span class="op" id="8554665">,</span>&nbsp;<span class="ident" id="8554667">_</span><span class="op" id="8554668">,</span>&nbsp;<span class="ident" id="8554670">_</span><span class="op" id="8554671">,</span>&nbsp;<span class="ident" id="8554673">_</span>&nbsp;<span class="op" id="8554675">:=</span>&nbsp;<span class="ident" id="8554678">c</span><span class="op" id="8554679">.</span><span class="ident" id="8554680">RGBA</span><span class="op" id="8554684">(</span><span class="op" id="8554685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8554689">if</span>&nbsp;<span class="ident" id="8554692">r</span>&nbsp;<span class="op" id="8554694">!=</span>&nbsp;<span class="num" id="8554697">0x1234</span>&nbsp;<span class="op" id="8554704">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554709">t</span><span class="op" id="8554710">.</span><span class="ident" id="8554711">Errorf</span><span class="op" id="8554717">(</span><span class="string" id="8554718">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="8554756">,</span>&nbsp;<span class="ident" id="8554758">c</span><span class="op" id="8554759">,</span>&nbsp;<span class="num" id="8554761">0x1234</span><span class="op" id="8554767">,</span>&nbsp;<span class="ident" id="8554769">r</span><span class="op" id="8554770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8554775">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8554786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8554789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554792">testImage</span>&nbsp;<span class="op" id="8554802">:=</span>&nbsp;<span class="op" id="8554805">[</span><span class="op" id="8554806">]</span><span class="ident" id="8554807">image</span><span class="op" id="8554812">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554816">NewRGBA64</span><span class="op" id="8554825">(</span><span class="ident" id="8554826">Rect</span><span class="op" id="8554830">(</span><span class="num" id="8554831">0</span><span class="op" id="8554832">,</span>&nbsp;<span class="num" id="8554834">0</span><span class="op" id="8554835">,</span>&nbsp;<span class="num" id="8554837">10</span><span class="op" id="8554839">,</span>&nbsp;<span class="num" id="8554841">10</span><span class="op" id="8554843">)</span><span class="op" id="8554844">)</span><span class="op" id="8554845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554849">NewNRGBA64</span><span class="op" id="8554859">(</span><span class="ident" id="8554860">Rect</span><span class="op" id="8554864">(</span><span class="num" id="8554865">0</span><span class="op" id="8554866">,</span>&nbsp;<span class="num" id="8554868">0</span><span class="op" id="8554869">,</span>&nbsp;<span class="num" id="8554871">10</span><span class="op" id="8554873">,</span>&nbsp;<span class="num" id="8554875">10</span><span class="op" id="8554877">)</span><span class="op" id="8554878">)</span><span class="op" id="8554879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554883">NewAlpha16</span><span class="op" id="8554893">(</span><span class="ident" id="8554894">Rect</span><span class="op" id="8554898">(</span><span class="num" id="8554899">0</span><span class="op" id="8554900">,</span>&nbsp;<span class="num" id="8554902">0</span><span class="op" id="8554903">,</span>&nbsp;<span class="num" id="8554905">10</span><span class="op" id="8554907">,</span>&nbsp;<span class="num" id="8554909">10</span><span class="op" id="8554911">)</span><span class="op" id="8554912">)</span><span class="op" id="8554913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554917">NewGray16</span><span class="op" id="8554926">(</span><span class="ident" id="8554927">Rect</span><span class="op" id="8554931">(</span><span class="num" id="8554932">0</span><span class="op" id="8554933">,</span>&nbsp;<span class="num" id="8554935">0</span><span class="op" id="8554936">,</span>&nbsp;<span class="num" id="8554938">10</span><span class="op" id="8554940">,</span>&nbsp;<span class="num" id="8554942">10</span><span class="op" id="8554944">)</span><span class="op" id="8554945">)</span><span class="op" id="8554946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8554949">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8554952">for</span>&nbsp;<span class="ident" id="8554956">_</span><span class="op" id="8554957">,</span>&nbsp;<span class="ident" id="8554959">m</span>&nbsp;<span class="op" id="8554961">:=</span>&nbsp;<span class="keyword" id="8554964">range</span>&nbsp;<span class="ident" id="8554970">testImage</span>&nbsp;<span class="op" id="8554980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8554984">m</span><span class="op" id="8554985">.</span><span class="ident" id="8554986">Set</span><span class="op" id="8554989">(</span><span class="num" id="8554990">1</span><span class="op" id="8554991">,</span>&nbsp;<span class="num" id="8554993">2</span><span class="op" id="8554994">,</span>&nbsp;<span class="ident" id="8554996">color</span><span class="op" id="8555001">.</span><span class="ident" id="8555002">NRGBA64</span><span class="op" id="8555009">{</span><span class="num" id="8555010">0xffff</span><span class="op" id="8555016">,</span>&nbsp;<span class="num" id="8555018">0xffff</span><span class="op" id="8555024">,</span>&nbsp;<span class="num" id="8555026">0xffff</span><span class="op" id="8555032">,</span>&nbsp;<span class="num" id="8555034">0x1357</span><span class="op" id="8555040">}</span><span class="op" id="8555041">)</span>&nbsp;<span class="comment" id="8555043">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555073">r</span><span class="op" id="8555074">,</span>&nbsp;<span class="ident" id="8555076">_</span><span class="op" id="8555077">,</span>&nbsp;<span class="ident" id="8555079">_</span><span class="op" id="8555080">,</span>&nbsp;<span class="ident" id="8555082">_</span>&nbsp;<span class="op" id="8555084">:=</span>&nbsp;<span class="ident" id="8555087">m</span><span class="op" id="8555088">.</span><span class="ident" id="8555089">At</span><span class="op" id="8555091">(</span><span class="num" id="8555092">1</span><span class="op" id="8555093">,</span>&nbsp;<span class="num" id="8555095">2</span><span class="op" id="8555096">)</span><span class="op" id="8555097">.</span><span class="ident" id="8555098">RGBA</span><span class="op" id="8555102">(</span><span class="op" id="8555103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8555107">if</span>&nbsp;<span class="ident" id="8555110">r</span>&nbsp;<span class="op" id="8555112">!=</span>&nbsp;<span class="num" id="8555115">0x1357</span>&nbsp;<span class="op" id="8555122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8555127">t</span><span class="op" id="8555128">.</span><span class="ident" id="8555129">Errorf</span><span class="op" id="8555135">(</span><span class="string" id="8555136">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="8555174">,</span>&nbsp;<span class="ident" id="8555176">m</span><span class="op" id="8555177">,</span>&nbsp;<span class="num" id="8555179">0x1357</span><span class="op" id="8555185">,</span>&nbsp;<span class="ident" id="8555187">r</span><span class="op" id="8555188">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8555193">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8555204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8555207">}</span><br>
<span class="lineno"></span><span class="op" id="8555209">}</span>
</div>
</body>
</html>
