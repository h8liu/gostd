<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8335130">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8335185">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8335239">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8335290">package</span>&nbsp;<span class="ident" id="8335298">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8335307">import</span>&nbsp;<span class="op" id="8335314">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8335317">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8335326">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8335333">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8335339">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8335350">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8335361">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="8335376">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="8335379">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="8335454">type</span>&nbsp;<span class="ident" id="8335459">StringReader</span>&nbsp;<span class="keyword" id="8335472">struct</span>&nbsp;<span class="op" id="8335479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335482">data</span>&nbsp;<span class="op" id="8335487">[</span><span class="op" id="8335488">]</span><span class="builtintype" id="8335489">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335497">step</span>&nbsp;<span class="builtintype" id="8335502">int</span><br>
<span class="lineno">20</span><span class="op" id="8335506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8335509">func</span>&nbsp;<span class="op" id="8335514">(</span><span class="ident" id="8335515">r</span>&nbsp;<span class="op" id="8335517">*</span><span class="ident" id="8335518">StringReader</span><span class="op" id="8335530">)</span>&nbsp;<span class="ident" id="8335532">Read</span><span class="op" id="8335536">(</span><span class="ident" id="8335537">p</span>&nbsp;<span class="op" id="8335539">[</span><span class="op" id="8335540">]</span><span class="builtintype" id="8335541">byte</span><span class="op" id="8335545">)</span>&nbsp;<span class="op" id="8335547">(</span><span class="ident" id="8335548">n</span>&nbsp;<span class="builtintype" id="8335550">int</span><span class="op" id="8335553">,</span>&nbsp;<span class="ident" id="8335555">err</span>&nbsp;<span class="builtintype" id="8335559">error</span><span class="op" id="8335564">)</span>&nbsp;<span class="op" id="8335566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335569">if</span>&nbsp;<span class="ident" id="8335572">r</span><span class="op" id="8335573">.</span><span class="ident" id="8335574">step</span>&nbsp;<span class="op" id="8335579">&lt;</span>&nbsp;<span class="builtinfunc" id="8335581">len</span><span class="op" id="8335584">(</span><span class="ident" id="8335585">r</span><span class="op" id="8335586">.</span><span class="ident" id="8335587">data</span><span class="op" id="8335591">)</span>&nbsp;<span class="op" id="8335593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335597">s</span>&nbsp;<span class="op" id="8335599">:=</span>&nbsp;<span class="ident" id="8335602">r</span><span class="op" id="8335603">.</span><span class="ident" id="8335604">data</span><span class="op" id="8335608">[</span><span class="ident" id="8335609">r</span><span class="op" id="8335610">.</span><span class="ident" id="8335611">step</span><span class="op" id="8335615">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335619">n</span>&nbsp;<span class="op" id="8335621">=</span>&nbsp;<span class="builtinfunc" id="8335623">copy</span><span class="op" id="8335627">(</span><span class="ident" id="8335628">p</span><span class="op" id="8335629">,</span>&nbsp;<span class="ident" id="8335631">s</span><span class="op" id="8335632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335636">r</span><span class="op" id="8335637">.</span><span class="ident" id="8335638">step</span><span class="op" id="8335642">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335646">}</span>&nbsp;<span class="keyword" id="8335648">else</span>&nbsp;<span class="op" id="8335653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335657">err</span>&nbsp;<span class="op" id="8335661">=</span>&nbsp;<span class="ident" id="8335663">io</span><span class="op" id="8335665">.</span><span class="ident" id="8335666">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335671">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335674">return</span><br>
<span class="lineno"></span><span class="op" id="8335681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8335684">func</span>&nbsp;<span class="ident" id="8335689">readRuneSegments</span><span class="op" id="8335705">(</span><span class="ident" id="8335706">t</span>&nbsp;<span class="op" id="8335708">*</span><span class="ident" id="8335709">testing</span><span class="op" id="8335716">.</span><span class="ident" id="8335717">T</span><span class="op" id="8335718">,</span>&nbsp;<span class="ident" id="8335720">segments</span>&nbsp;<span class="op" id="8335729">[</span><span class="op" id="8335730">]</span><span class="builtintype" id="8335731">string</span><span class="op" id="8335737">)</span>&nbsp;<span class="op" id="8335739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335742">got</span>&nbsp;<span class="op" id="8335746">:=</span>&nbsp;<span class="string" id="8335749">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335753">want</span>&nbsp;<span class="op" id="8335758">:=</span>&nbsp;<span class="ident" id="8335761">strings</span><span class="op" id="8335768">.</span><span class="ident" id="8335769">Join</span><span class="op" id="8335773">(</span><span class="ident" id="8335774">segments</span><span class="op" id="8335782">,</span>&nbsp;<span class="string" id="8335784">&#34;&#34;</span><span class="op" id="8335786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335789">s</span>&nbsp;<span class="op" id="8335791">:=</span>&nbsp;<span class="builtinfunc" id="8335794">new</span><span class="op" id="8335797">(</span><span class="ident" id="8335798">Scanner</span><span class="op" id="8335805">)</span><span class="op" id="8335806">.</span><span class="ident" id="8335807">Init</span><span class="op" id="8335811">(</span><span class="op" id="8335812">&amp;</span><span class="ident" id="8335813">StringReader</span><span class="op" id="8335825">{</span><span class="ident" id="8335826">data</span><span class="op" id="8335830">:</span>&nbsp;<span class="ident" id="8335832">segments</span><span class="op" id="8335840">}</span><span class="op" id="8335841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335844">for</span>&nbsp;<span class="op" id="8335848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335852">ch</span>&nbsp;<span class="op" id="8335855">:=</span>&nbsp;<span class="ident" id="8335858">s</span><span class="op" id="8335859">.</span><span class="ident" id="8335860">Next</span><span class="op" id="8335864">(</span><span class="op" id="8335865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335869">if</span>&nbsp;<span class="ident" id="8335872">ch</span>&nbsp;<span class="op" id="8335875">==</span>&nbsp;<span class="ident" id="8335878">EOF</span>&nbsp;<span class="op" id="8335882">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335887">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335899">got</span>&nbsp;<span class="op" id="8335903">+=</span>&nbsp;<span class="builtintype" id="8335906">string</span><span class="op" id="8335912">(</span><span class="ident" id="8335913">ch</span><span class="op" id="8335915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8335918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8335921">if</span>&nbsp;<span class="ident" id="8335924">got</span>&nbsp;<span class="op" id="8335928">!=</span>&nbsp;<span class="ident" id="8335931">want</span>&nbsp;<span class="op" id="8335936">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8335940">t</span><span class="op" id="8335941">.</span><span class="ident" id="8335942">Errorf</span><span class="op" id="8335948">(</span><span class="string" id="8335949">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="8335977">,</span>&nbsp;<span class="ident" id="8335979">segments</span><span class="op" id="8335987">,</span>&nbsp;<span class="ident" id="8335989">got</span><span class="op" id="8335992">,</span>&nbsp;<span class="ident" id="8335994">want</span><span class="op" id="8335998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336001">}</span><br>
<span class="lineno"></span><span class="op" id="8336003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8336006">var</span>&nbsp;<span class="ident" id="8336010">segmentList</span>&nbsp;<span class="op" id="8336022">=</span>&nbsp;<span class="op" id="8336024">[</span><span class="op" id="8336025">]</span><span class="op" id="8336026">[</span><span class="op" id="8336027">]</span><span class="builtintype" id="8336028">string</span><span class="op" id="8336034">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336037">{</span><span class="op" id="8336038">}</span><span class="op" id="8336039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336042">{</span><span class="string" id="8336043">&#34;&#34;</span><span class="op" id="8336045">}</span><span class="op" id="8336046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336049">{</span><span class="string" id="8336050">&#34;日&#34;</span><span class="op" id="8336055">,</span>&nbsp;<span class="string" id="8336057">&#34;本語&#34;</span><span class="op" id="8336065">}</span><span class="op" id="8336066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336069">{</span><span class="string" id="8336070">&#34;\u65e5&#34;</span><span class="op" id="8336078">,</span>&nbsp;<span class="string" id="8336080">&#34;\u672c&#34;</span><span class="op" id="8336088">,</span>&nbsp;<span class="string" id="8336090">&#34;\u8a9e&#34;</span><span class="op" id="8336098">}</span><span class="op" id="8336099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336102">{</span><span class="string" id="8336103">&#34;\U000065e5&#34;</span><span class="op" id="8336115">,</span>&nbsp;<span class="string" id="8336117">&#34;&nbsp;&#34;</span><span class="op" id="8336120">,</span>&nbsp;<span class="string" id="8336122">&#34;\U0000672c&#34;</span><span class="op" id="8336134">,</span>&nbsp;<span class="string" id="8336136">&#34;\U00008a9e&#34;</span><span class="op" id="8336148">}</span><span class="op" id="8336149">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336152">{</span><span class="string" id="8336153">&#34;\xe6&#34;</span><span class="op" id="8336159">,</span>&nbsp;<span class="string" id="8336161">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="8336175">,</span>&nbsp;<span class="string" id="8336177">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="8336199">}</span><span class="op" id="8336200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336203">{</span><span class="string" id="8336204">&#34;Hello&#34;</span><span class="op" id="8336211">,</span>&nbsp;<span class="string" id="8336213">&#34;,&nbsp;&#34;</span><span class="op" id="8336217">,</span>&nbsp;<span class="string" id="8336219">&#34;World&#34;</span><span class="op" id="8336226">,</span>&nbsp;<span class="string" id="8336228">&#34;!&#34;</span><span class="op" id="8336231">}</span><span class="op" id="8336232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336235">{</span><span class="string" id="8336236">&#34;Hello&#34;</span><span class="op" id="8336243">,</span>&nbsp;<span class="string" id="8336245">&#34;,&nbsp;&#34;</span><span class="op" id="8336249">,</span>&nbsp;<span class="string" id="8336251">&#34;&#34;</span><span class="op" id="8336253">,</span>&nbsp;<span class="string" id="8336255">&#34;World&#34;</span><span class="op" id="8336262">,</span>&nbsp;<span class="string" id="8336264">&#34;!&#34;</span><span class="op" id="8336267">}</span><span class="op" id="8336268">,</span><br>
<span class="lineno"></span><span class="op" id="8336270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8336273">func</span>&nbsp;<span class="ident" id="8336278">TestNext</span><span class="op" id="8336286">(</span><span class="ident" id="8336287">t</span>&nbsp;<span class="op" id="8336289">*</span><span class="ident" id="8336290">testing</span><span class="op" id="8336297">.</span><span class="ident" id="8336298">T</span><span class="op" id="8336299">)</span>&nbsp;<span class="op" id="8336301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8336304">for</span>&nbsp;<span class="ident" id="8336308">_</span><span class="op" id="8336309">,</span>&nbsp;<span class="ident" id="8336311">s</span>&nbsp;<span class="op" id="8336313">:=</span>&nbsp;<span class="keyword" id="8336316">range</span>&nbsp;<span class="ident" id="8336322">segmentList</span>&nbsp;<span class="op" id="8336334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8336338">readRuneSegments</span><span class="op" id="8336354">(</span><span class="ident" id="8336355">t</span><span class="op" id="8336356">,</span>&nbsp;<span class="ident" id="8336358">s</span><span class="op" id="8336359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336362">}</span><br>
<span class="lineno"></span><span class="op" id="8336364">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8336367">type</span>&nbsp;<span class="ident" id="8336372">token</span>&nbsp;<span class="keyword" id="8336378">struct</span>&nbsp;<span class="op" id="8336385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8336388">tok</span>&nbsp;&nbsp;<span class="builtintype" id="8336393">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8336399">text</span>&nbsp;<span class="builtintype" id="8336404">string</span><br>
<span class="lineno"></span><span class="op" id="8336411">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8336414">var</span>&nbsp;<span class="ident" id="8336418">f100</span>&nbsp;<span class="op" id="8336423">=</span>&nbsp;<span class="string" id="8336425">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8336529">var</span>&nbsp;<span class="ident" id="8336533">tokenList</span>&nbsp;<span class="op" id="8336543">=</span>&nbsp;<span class="op" id="8336545">[</span><span class="op" id="8336546">]</span><span class="ident" id="8336547">token</span><span class="op" id="8336552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336555">{</span><span class="ident" id="8336556">Comment</span><span class="op" id="8336563">,</span>&nbsp;<span class="string" id="8336565">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="8336583">}</span><span class="op" id="8336584">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336587">{</span><span class="ident" id="8336588">Comment</span><span class="op" id="8336595">,</span>&nbsp;<span class="string" id="8336597">&#34;//&#34;</span><span class="op" id="8336601">}</span><span class="op" id="8336602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336605">{</span><span class="ident" id="8336606">Comment</span><span class="op" id="8336613">,</span>&nbsp;<span class="string" id="8336615">&#34;////&#34;</span><span class="op" id="8336621">}</span><span class="op" id="8336622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336625">{</span><span class="ident" id="8336626">Comment</span><span class="op" id="8336633">,</span>&nbsp;<span class="string" id="8336635">&#34;//&nbsp;comment&#34;</span><span class="op" id="8336647">}</span><span class="op" id="8336648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336651">{</span><span class="ident" id="8336652">Comment</span><span class="op" id="8336659">,</span>&nbsp;<span class="string" id="8336661">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8336679">}</span><span class="op" id="8336680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336683">{</span><span class="ident" id="8336684">Comment</span><span class="op" id="8336691">,</span>&nbsp;<span class="string" id="8336693">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="8336711">}</span><span class="op" id="8336712">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336715">{</span><span class="ident" id="8336716">Comment</span><span class="op" id="8336723">,</span>&nbsp;<span class="string" id="8336725">&#34;//&#34;</span>&nbsp;<span class="op" id="8336730">+</span>&nbsp;<span class="ident" id="8336732">f100</span><span class="op" id="8336736">}</span><span class="op" id="8336737">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336741">{</span><span class="ident" id="8336742">Comment</span><span class="op" id="8336749">,</span>&nbsp;<span class="string" id="8336751">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="8336772">}</span><span class="op" id="8336773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336776">{</span><span class="ident" id="8336777">Comment</span><span class="op" id="8336784">,</span>&nbsp;<span class="string" id="8336786">&#34;/**/&#34;</span><span class="op" id="8336792">}</span><span class="op" id="8336793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336796">{</span><span class="ident" id="8336797">Comment</span><span class="op" id="8336804">,</span>&nbsp;<span class="string" id="8336806">&#34;/***/&#34;</span><span class="op" id="8336813">}</span><span class="op" id="8336814">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336817">{</span><span class="ident" id="8336818">Comment</span><span class="op" id="8336825">,</span>&nbsp;<span class="string" id="8336827">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8336842">}</span><span class="op" id="8336843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336846">{</span><span class="ident" id="8336847">Comment</span><span class="op" id="8336854">,</span>&nbsp;<span class="string" id="8336856">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8336874">}</span><span class="op" id="8336875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336878">{</span><span class="ident" id="8336879">Comment</span><span class="op" id="8336886">,</span>&nbsp;<span class="string" id="8336888">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8336906">}</span><span class="op" id="8336907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336910">{</span><span class="ident" id="8336911">Comment</span><span class="op" id="8336918">,</span>&nbsp;<span class="string" id="8336920">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="8336938">}</span><span class="op" id="8336939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336942">{</span><span class="ident" id="8336943">Comment</span><span class="op" id="8336950">,</span>&nbsp;<span class="string" id="8336952">&#34;/*&#34;</span>&nbsp;<span class="op" id="8336957">+</span>&nbsp;<span class="ident" id="8336959">f100</span>&nbsp;<span class="op" id="8336964">+</span>&nbsp;<span class="string" id="8336966">&#34;*/&#34;</span><span class="op" id="8336970">}</span><span class="op" id="8336971">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8336975">{</span><span class="ident" id="8336976">Comment</span><span class="op" id="8336983">,</span>&nbsp;<span class="string" id="8336985">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="8337001">}</span><span class="op" id="8337002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337005">{</span><span class="ident" id="8337006">Ident</span><span class="op" id="8337011">,</span>&nbsp;<span class="string" id="8337013">&#34;a&#34;</span><span class="op" id="8337016">}</span><span class="op" id="8337017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337020">{</span><span class="ident" id="8337021">Ident</span><span class="op" id="8337026">,</span>&nbsp;<span class="string" id="8337028">&#34;a0&#34;</span><span class="op" id="8337032">}</span><span class="op" id="8337033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337036">{</span><span class="ident" id="8337037">Ident</span><span class="op" id="8337042">,</span>&nbsp;<span class="string" id="8337044">&#34;foobar&#34;</span><span class="op" id="8337052">}</span><span class="op" id="8337053">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337056">{</span><span class="ident" id="8337057">Ident</span><span class="op" id="8337062">,</span>&nbsp;<span class="string" id="8337064">&#34;abc123&#34;</span><span class="op" id="8337072">}</span><span class="op" id="8337073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337076">{</span><span class="ident" id="8337077">Ident</span><span class="op" id="8337082">,</span>&nbsp;<span class="string" id="8337084">&#34;LGTM&#34;</span><span class="op" id="8337090">}</span><span class="op" id="8337091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337094">{</span><span class="ident" id="8337095">Ident</span><span class="op" id="8337100">,</span>&nbsp;<span class="string" id="8337102">&#34;_&#34;</span><span class="op" id="8337105">}</span><span class="op" id="8337106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337109">{</span><span class="ident" id="8337110">Ident</span><span class="op" id="8337115">,</span>&nbsp;<span class="string" id="8337117">&#34;_abc123&#34;</span><span class="op" id="8337126">}</span><span class="op" id="8337127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337130">{</span><span class="ident" id="8337131">Ident</span><span class="op" id="8337136">,</span>&nbsp;<span class="string" id="8337138">&#34;abc123_&#34;</span><span class="op" id="8337147">}</span><span class="op" id="8337148">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337151">{</span><span class="ident" id="8337152">Ident</span><span class="op" id="8337157">,</span>&nbsp;<span class="string" id="8337159">&#34;_abc_123_&#34;</span><span class="op" id="8337170">}</span><span class="op" id="8337171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337174">{</span><span class="ident" id="8337175">Ident</span><span class="op" id="8337180">,</span>&nbsp;<span class="string" id="8337182">&#34;_äöü&#34;</span><span class="op" id="8337191">}</span><span class="op" id="8337192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337195">{</span><span class="ident" id="8337196">Ident</span><span class="op" id="8337201">,</span>&nbsp;<span class="string" id="8337203">&#34;_本&#34;</span><span class="op" id="8337209">}</span><span class="op" id="8337210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337213">{</span><span class="ident" id="8337214">Ident</span><span class="op" id="8337219">,</span>&nbsp;<span class="string" id="8337221">&#34;äöü&#34;</span><span class="op" id="8337229">}</span><span class="op" id="8337230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337233">{</span><span class="ident" id="8337234">Ident</span><span class="op" id="8337239">,</span>&nbsp;<span class="string" id="8337241">&#34;本&#34;</span><span class="op" id="8337246">}</span><span class="op" id="8337247">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337250">{</span><span class="ident" id="8337251">Ident</span><span class="op" id="8337256">,</span>&nbsp;<span class="string" id="8337258">&#34;a۰۱۸&#34;</span><span class="op" id="8337267">}</span><span class="op" id="8337268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337271">{</span><span class="ident" id="8337272">Ident</span><span class="op" id="8337277">,</span>&nbsp;<span class="string" id="8337279">&#34;foo६४&#34;</span><span class="op" id="8337290">}</span><span class="op" id="8337291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337294">{</span><span class="ident" id="8337295">Ident</span><span class="op" id="8337300">,</span>&nbsp;<span class="string" id="8337302">&#34;bar９８７６&#34;</span><span class="op" id="8337319">}</span><span class="op" id="8337320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337323">{</span><span class="ident" id="8337324">Ident</span><span class="op" id="8337329">,</span>&nbsp;<span class="ident" id="8337331">f100</span><span class="op" id="8337335">}</span><span class="op" id="8337336">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337340">{</span><span class="ident" id="8337341">Comment</span><span class="op" id="8337348">,</span>&nbsp;<span class="string" id="8337350">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="8337367">}</span><span class="op" id="8337368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337371">{</span><span class="ident" id="8337372">Int</span><span class="op" id="8337375">,</span>&nbsp;<span class="string" id="8337377">&#34;0&#34;</span><span class="op" id="8337380">}</span><span class="op" id="8337381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337384">{</span><span class="ident" id="8337385">Int</span><span class="op" id="8337388">,</span>&nbsp;<span class="string" id="8337390">&#34;1&#34;</span><span class="op" id="8337393">}</span><span class="op" id="8337394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337397">{</span><span class="ident" id="8337398">Int</span><span class="op" id="8337401">,</span>&nbsp;<span class="string" id="8337403">&#34;9&#34;</span><span class="op" id="8337406">}</span><span class="op" id="8337407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337410">{</span><span class="ident" id="8337411">Int</span><span class="op" id="8337414">,</span>&nbsp;<span class="string" id="8337416">&#34;42&#34;</span><span class="op" id="8337420">}</span><span class="op" id="8337421">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337424">{</span><span class="ident" id="8337425">Int</span><span class="op" id="8337428">,</span>&nbsp;<span class="string" id="8337430">&#34;1234567890&#34;</span><span class="op" id="8337442">}</span><span class="op" id="8337443">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337447">{</span><span class="ident" id="8337448">Comment</span><span class="op" id="8337455">,</span>&nbsp;<span class="string" id="8337457">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="8337472">}</span><span class="op" id="8337473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337476">{</span><span class="ident" id="8337477">Int</span><span class="op" id="8337480">,</span>&nbsp;<span class="string" id="8337482">&#34;00&#34;</span><span class="op" id="8337486">}</span><span class="op" id="8337487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337490">{</span><span class="ident" id="8337491">Int</span><span class="op" id="8337494">,</span>&nbsp;<span class="string" id="8337496">&#34;01&#34;</span><span class="op" id="8337500">}</span><span class="op" id="8337501">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337504">{</span><span class="ident" id="8337505">Int</span><span class="op" id="8337508">,</span>&nbsp;<span class="string" id="8337510">&#34;07&#34;</span><span class="op" id="8337514">}</span><span class="op" id="8337515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337518">{</span><span class="ident" id="8337519">Int</span><span class="op" id="8337522">,</span>&nbsp;<span class="string" id="8337524">&#34;042&#34;</span><span class="op" id="8337529">}</span><span class="op" id="8337530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337533">{</span><span class="ident" id="8337534">Int</span><span class="op" id="8337537">,</span>&nbsp;<span class="string" id="8337539">&#34;01234567&#34;</span><span class="op" id="8337549">}</span><span class="op" id="8337550">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337554">{</span><span class="ident" id="8337555">Comment</span><span class="op" id="8337562">,</span>&nbsp;<span class="string" id="8337564">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="8337585">}</span><span class="op" id="8337586">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337589">{</span><span class="ident" id="8337590">Int</span><span class="op" id="8337593">,</span>&nbsp;<span class="string" id="8337595">&#34;0x0&#34;</span><span class="op" id="8337600">}</span><span class="op" id="8337601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337604">{</span><span class="ident" id="8337605">Int</span><span class="op" id="8337608">,</span>&nbsp;<span class="string" id="8337610">&#34;0x1&#34;</span><span class="op" id="8337615">}</span><span class="op" id="8337616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337619">{</span><span class="ident" id="8337620">Int</span><span class="op" id="8337623">,</span>&nbsp;<span class="string" id="8337625">&#34;0xf&#34;</span><span class="op" id="8337630">}</span><span class="op" id="8337631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337634">{</span><span class="ident" id="8337635">Int</span><span class="op" id="8337638">,</span>&nbsp;<span class="string" id="8337640">&#34;0x42&#34;</span><span class="op" id="8337646">}</span><span class="op" id="8337647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337650">{</span><span class="ident" id="8337651">Int</span><span class="op" id="8337654">,</span>&nbsp;<span class="string" id="8337656">&#34;0x123456789abcDEF&#34;</span><span class="op" id="8337675">}</span><span class="op" id="8337676">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337679">{</span><span class="ident" id="8337680">Int</span><span class="op" id="8337683">,</span>&nbsp;<span class="string" id="8337685">&#34;0x&#34;</span>&nbsp;<span class="op" id="8337690">+</span>&nbsp;<span class="ident" id="8337692">f100</span><span class="op" id="8337696">}</span><span class="op" id="8337697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337700">{</span><span class="ident" id="8337701">Int</span><span class="op" id="8337704">,</span>&nbsp;<span class="string" id="8337706">&#34;0X0&#34;</span><span class="op" id="8337711">}</span><span class="op" id="8337712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337715">{</span><span class="ident" id="8337716">Int</span><span class="op" id="8337719">,</span>&nbsp;<span class="string" id="8337721">&#34;0X1&#34;</span><span class="op" id="8337726">}</span><span class="op" id="8337727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337730">{</span><span class="ident" id="8337731">Int</span><span class="op" id="8337734">,</span>&nbsp;<span class="string" id="8337736">&#34;0XF&#34;</span><span class="op" id="8337741">}</span><span class="op" id="8337742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337745">{</span><span class="ident" id="8337746">Int</span><span class="op" id="8337749">,</span>&nbsp;<span class="string" id="8337751">&#34;0X42&#34;</span><span class="op" id="8337757">}</span><span class="op" id="8337758">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337761">{</span><span class="ident" id="8337762">Int</span><span class="op" id="8337765">,</span>&nbsp;<span class="string" id="8337767">&#34;0X123456789abcDEF&#34;</span><span class="op" id="8337786">}</span><span class="op" id="8337787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337790">{</span><span class="ident" id="8337791">Int</span><span class="op" id="8337794">,</span>&nbsp;<span class="string" id="8337796">&#34;0X&#34;</span>&nbsp;<span class="op" id="8337801">+</span>&nbsp;<span class="ident" id="8337803">f100</span><span class="op" id="8337807">}</span><span class="op" id="8337808">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337812">{</span><span class="ident" id="8337813">Comment</span><span class="op" id="8337820">,</span>&nbsp;<span class="string" id="8337822">&#34;//&nbsp;floats&#34;</span><span class="op" id="8337833">}</span><span class="op" id="8337834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337837">{</span><span class="ident" id="8337838">Float</span><span class="op" id="8337843">,</span>&nbsp;<span class="string" id="8337845">&#34;0.&#34;</span><span class="op" id="8337849">}</span><span class="op" id="8337850">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337853">{</span><span class="ident" id="8337854">Float</span><span class="op" id="8337859">,</span>&nbsp;<span class="string" id="8337861">&#34;1.&#34;</span><span class="op" id="8337865">}</span><span class="op" id="8337866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337869">{</span><span class="ident" id="8337870">Float</span><span class="op" id="8337875">,</span>&nbsp;<span class="string" id="8337877">&#34;42.&#34;</span><span class="op" id="8337882">}</span><span class="op" id="8337883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337886">{</span><span class="ident" id="8337887">Float</span><span class="op" id="8337892">,</span>&nbsp;<span class="string" id="8337894">&#34;01234567890.&#34;</span><span class="op" id="8337908">}</span><span class="op" id="8337909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337912">{</span><span class="ident" id="8337913">Float</span><span class="op" id="8337918">,</span>&nbsp;<span class="string" id="8337920">&#34;.0&#34;</span><span class="op" id="8337924">}</span><span class="op" id="8337925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337928">{</span><span class="ident" id="8337929">Float</span><span class="op" id="8337934">,</span>&nbsp;<span class="string" id="8337936">&#34;.1&#34;</span><span class="op" id="8337940">}</span><span class="op" id="8337941">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337944">{</span><span class="ident" id="8337945">Float</span><span class="op" id="8337950">,</span>&nbsp;<span class="string" id="8337952">&#34;.42&#34;</span><span class="op" id="8337957">}</span><span class="op" id="8337958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337961">{</span><span class="ident" id="8337962">Float</span><span class="op" id="8337967">,</span>&nbsp;<span class="string" id="8337969">&#34;.0123456789&#34;</span><span class="op" id="8337982">}</span><span class="op" id="8337983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8337986">{</span><span class="ident" id="8337987">Float</span><span class="op" id="8337992">,</span>&nbsp;<span class="string" id="8337994">&#34;0.0&#34;</span><span class="op" id="8337999">}</span><span class="op" id="8338000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338003">{</span><span class="ident" id="8338004">Float</span><span class="op" id="8338009">,</span>&nbsp;<span class="string" id="8338011">&#34;1.0&#34;</span><span class="op" id="8338016">}</span><span class="op" id="8338017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338020">{</span><span class="ident" id="8338021">Float</span><span class="op" id="8338026">,</span>&nbsp;<span class="string" id="8338028">&#34;42.0&#34;</span><span class="op" id="8338034">}</span><span class="op" id="8338035">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338038">{</span><span class="ident" id="8338039">Float</span><span class="op" id="8338044">,</span>&nbsp;<span class="string" id="8338046">&#34;01234567890.0&#34;</span><span class="op" id="8338061">}</span><span class="op" id="8338062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338065">{</span><span class="ident" id="8338066">Float</span><span class="op" id="8338071">,</span>&nbsp;<span class="string" id="8338073">&#34;0e0&#34;</span><span class="op" id="8338078">}</span><span class="op" id="8338079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338082">{</span><span class="ident" id="8338083">Float</span><span class="op" id="8338088">,</span>&nbsp;<span class="string" id="8338090">&#34;1e0&#34;</span><span class="op" id="8338095">}</span><span class="op" id="8338096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338099">{</span><span class="ident" id="8338100">Float</span><span class="op" id="8338105">,</span>&nbsp;<span class="string" id="8338107">&#34;42e0&#34;</span><span class="op" id="8338113">}</span><span class="op" id="8338114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338117">{</span><span class="ident" id="8338118">Float</span><span class="op" id="8338123">,</span>&nbsp;<span class="string" id="8338125">&#34;01234567890e0&#34;</span><span class="op" id="8338140">}</span><span class="op" id="8338141">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338144">{</span><span class="ident" id="8338145">Float</span><span class="op" id="8338150">,</span>&nbsp;<span class="string" id="8338152">&#34;0E0&#34;</span><span class="op" id="8338157">}</span><span class="op" id="8338158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338161">{</span><span class="ident" id="8338162">Float</span><span class="op" id="8338167">,</span>&nbsp;<span class="string" id="8338169">&#34;1E0&#34;</span><span class="op" id="8338174">}</span><span class="op" id="8338175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338178">{</span><span class="ident" id="8338179">Float</span><span class="op" id="8338184">,</span>&nbsp;<span class="string" id="8338186">&#34;42E0&#34;</span><span class="op" id="8338192">}</span><span class="op" id="8338193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338196">{</span><span class="ident" id="8338197">Float</span><span class="op" id="8338202">,</span>&nbsp;<span class="string" id="8338204">&#34;01234567890E0&#34;</span><span class="op" id="8338219">}</span><span class="op" id="8338220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338223">{</span><span class="ident" id="8338224">Float</span><span class="op" id="8338229">,</span>&nbsp;<span class="string" id="8338231">&#34;0e+10&#34;</span><span class="op" id="8338238">}</span><span class="op" id="8338239">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338242">{</span><span class="ident" id="8338243">Float</span><span class="op" id="8338248">,</span>&nbsp;<span class="string" id="8338250">&#34;1e-10&#34;</span><span class="op" id="8338257">}</span><span class="op" id="8338258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338261">{</span><span class="ident" id="8338262">Float</span><span class="op" id="8338267">,</span>&nbsp;<span class="string" id="8338269">&#34;42e+10&#34;</span><span class="op" id="8338277">}</span><span class="op" id="8338278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338281">{</span><span class="ident" id="8338282">Float</span><span class="op" id="8338287">,</span>&nbsp;<span class="string" id="8338289">&#34;01234567890e-10&#34;</span><span class="op" id="8338306">}</span><span class="op" id="8338307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338310">{</span><span class="ident" id="8338311">Float</span><span class="op" id="8338316">,</span>&nbsp;<span class="string" id="8338318">&#34;0E+10&#34;</span><span class="op" id="8338325">}</span><span class="op" id="8338326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338329">{</span><span class="ident" id="8338330">Float</span><span class="op" id="8338335">,</span>&nbsp;<span class="string" id="8338337">&#34;1E-10&#34;</span><span class="op" id="8338344">}</span><span class="op" id="8338345">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338348">{</span><span class="ident" id="8338349">Float</span><span class="op" id="8338354">,</span>&nbsp;<span class="string" id="8338356">&#34;42E+10&#34;</span><span class="op" id="8338364">}</span><span class="op" id="8338365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338368">{</span><span class="ident" id="8338369">Float</span><span class="op" id="8338374">,</span>&nbsp;<span class="string" id="8338376">&#34;01234567890E-10&#34;</span><span class="op" id="8338393">}</span><span class="op" id="8338394">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338398">{</span><span class="ident" id="8338399">Comment</span><span class="op" id="8338406">,</span>&nbsp;<span class="string" id="8338408">&#34;//&nbsp;chars&#34;</span><span class="op" id="8338418">}</span><span class="op" id="8338419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338422">{</span><span class="ident" id="8338423">Char</span><span class="op" id="8338427">,</span>&nbsp;<span class="string" id="8338429">`&#39;&nbsp;&#39;`</span><span class="op" id="8338434">}</span><span class="op" id="8338435">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338438">{</span><span class="ident" id="8338439">Char</span><span class="op" id="8338443">,</span>&nbsp;<span class="string" id="8338445">`&#39;a&#39;`</span><span class="op" id="8338450">}</span><span class="op" id="8338451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338454">{</span><span class="ident" id="8338455">Char</span><span class="op" id="8338459">,</span>&nbsp;<span class="string" id="8338461">`&#39;本&#39;`</span><span class="op" id="8338468">}</span><span class="op" id="8338469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338472">{</span><span class="ident" id="8338473">Char</span><span class="op" id="8338477">,</span>&nbsp;<span class="string" id="8338479">`&#39;\a&#39;`</span><span class="op" id="8338485">}</span><span class="op" id="8338486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338489">{</span><span class="ident" id="8338490">Char</span><span class="op" id="8338494">,</span>&nbsp;<span class="string" id="8338496">`&#39;\b&#39;`</span><span class="op" id="8338502">}</span><span class="op" id="8338503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338506">{</span><span class="ident" id="8338507">Char</span><span class="op" id="8338511">,</span>&nbsp;<span class="string" id="8338513">`&#39;\f&#39;`</span><span class="op" id="8338519">}</span><span class="op" id="8338520">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338523">{</span><span class="ident" id="8338524">Char</span><span class="op" id="8338528">,</span>&nbsp;<span class="string" id="8338530">`&#39;\n&#39;`</span><span class="op" id="8338536">}</span><span class="op" id="8338537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338540">{</span><span class="ident" id="8338541">Char</span><span class="op" id="8338545">,</span>&nbsp;<span class="string" id="8338547">`&#39;\r&#39;`</span><span class="op" id="8338553">}</span><span class="op" id="8338554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338557">{</span><span class="ident" id="8338558">Char</span><span class="op" id="8338562">,</span>&nbsp;<span class="string" id="8338564">`&#39;\t&#39;`</span><span class="op" id="8338570">}</span><span class="op" id="8338571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338574">{</span><span class="ident" id="8338575">Char</span><span class="op" id="8338579">,</span>&nbsp;<span class="string" id="8338581">`&#39;\v&#39;`</span><span class="op" id="8338587">}</span><span class="op" id="8338588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338591">{</span><span class="ident" id="8338592">Char</span><span class="op" id="8338596">,</span>&nbsp;<span class="string" id="8338598">`&#39;\&#39;&#39;`</span><span class="op" id="8338604">}</span><span class="op" id="8338605">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338608">{</span><span class="ident" id="8338609">Char</span><span class="op" id="8338613">,</span>&nbsp;<span class="string" id="8338615">`&#39;\000&#39;`</span><span class="op" id="8338623">}</span><span class="op" id="8338624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338627">{</span><span class="ident" id="8338628">Char</span><span class="op" id="8338632">,</span>&nbsp;<span class="string" id="8338634">`&#39;\777&#39;`</span><span class="op" id="8338642">}</span><span class="op" id="8338643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338646">{</span><span class="ident" id="8338647">Char</span><span class="op" id="8338651">,</span>&nbsp;<span class="string" id="8338653">`&#39;\x00&#39;`</span><span class="op" id="8338661">}</span><span class="op" id="8338662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338665">{</span><span class="ident" id="8338666">Char</span><span class="op" id="8338670">,</span>&nbsp;<span class="string" id="8338672">`&#39;\xff&#39;`</span><span class="op" id="8338680">}</span><span class="op" id="8338681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338684">{</span><span class="ident" id="8338685">Char</span><span class="op" id="8338689">,</span>&nbsp;<span class="string" id="8338691">`&#39;\u0000&#39;`</span><span class="op" id="8338701">}</span><span class="op" id="8338702">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338705">{</span><span class="ident" id="8338706">Char</span><span class="op" id="8338710">,</span>&nbsp;<span class="string" id="8338712">`&#39;\ufA16&#39;`</span><span class="op" id="8338722">}</span><span class="op" id="8338723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338726">{</span><span class="ident" id="8338727">Char</span><span class="op" id="8338731">,</span>&nbsp;<span class="string" id="8338733">`&#39;\U00000000&#39;`</span><span class="op" id="8338747">}</span><span class="op" id="8338748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338751">{</span><span class="ident" id="8338752">Char</span><span class="op" id="8338756">,</span>&nbsp;<span class="string" id="8338758">`&#39;\U0000ffAB&#39;`</span><span class="op" id="8338772">}</span><span class="op" id="8338773">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338777">{</span><span class="ident" id="8338778">Comment</span><span class="op" id="8338785">,</span>&nbsp;<span class="string" id="8338787">&#34;//&nbsp;strings&#34;</span><span class="op" id="8338799">}</span><span class="op" id="8338800">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338803">{</span><span class="ident" id="8338804">String</span><span class="op" id="8338810">,</span>&nbsp;<span class="string" id="8338812">`&#34;&nbsp;&#34;`</span><span class="op" id="8338817">}</span><span class="op" id="8338818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338821">{</span><span class="ident" id="8338822">String</span><span class="op" id="8338828">,</span>&nbsp;<span class="string" id="8338830">`&#34;a&#34;`</span><span class="op" id="8338835">}</span><span class="op" id="8338836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338839">{</span><span class="ident" id="8338840">String</span><span class="op" id="8338846">,</span>&nbsp;<span class="string" id="8338848">`&#34;本&#34;`</span><span class="op" id="8338855">}</span><span class="op" id="8338856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338859">{</span><span class="ident" id="8338860">String</span><span class="op" id="8338866">,</span>&nbsp;<span class="string" id="8338868">`&#34;\a&#34;`</span><span class="op" id="8338874">}</span><span class="op" id="8338875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338878">{</span><span class="ident" id="8338879">String</span><span class="op" id="8338885">,</span>&nbsp;<span class="string" id="8338887">`&#34;\b&#34;`</span><span class="op" id="8338893">}</span><span class="op" id="8338894">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338897">{</span><span class="ident" id="8338898">String</span><span class="op" id="8338904">,</span>&nbsp;<span class="string" id="8338906">`&#34;\f&#34;`</span><span class="op" id="8338912">}</span><span class="op" id="8338913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338916">{</span><span class="ident" id="8338917">String</span><span class="op" id="8338923">,</span>&nbsp;<span class="string" id="8338925">`&#34;\n&#34;`</span><span class="op" id="8338931">}</span><span class="op" id="8338932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338935">{</span><span class="ident" id="8338936">String</span><span class="op" id="8338942">,</span>&nbsp;<span class="string" id="8338944">`&#34;\r&#34;`</span><span class="op" id="8338950">}</span><span class="op" id="8338951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338954">{</span><span class="ident" id="8338955">String</span><span class="op" id="8338961">,</span>&nbsp;<span class="string" id="8338963">`&#34;\t&#34;`</span><span class="op" id="8338969">}</span><span class="op" id="8338970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338973">{</span><span class="ident" id="8338974">String</span><span class="op" id="8338980">,</span>&nbsp;<span class="string" id="8338982">`&#34;\v&#34;`</span><span class="op" id="8338988">}</span><span class="op" id="8338989">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8338992">{</span><span class="ident" id="8338993">String</span><span class="op" id="8338999">,</span>&nbsp;<span class="string" id="8339001">`&#34;\&#34;&#34;`</span><span class="op" id="8339007">}</span><span class="op" id="8339008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339011">{</span><span class="ident" id="8339012">String</span><span class="op" id="8339018">,</span>&nbsp;<span class="string" id="8339020">`&#34;\000&#34;`</span><span class="op" id="8339028">}</span><span class="op" id="8339029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339032">{</span><span class="ident" id="8339033">String</span><span class="op" id="8339039">,</span>&nbsp;<span class="string" id="8339041">`&#34;\777&#34;`</span><span class="op" id="8339049">}</span><span class="op" id="8339050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339053">{</span><span class="ident" id="8339054">String</span><span class="op" id="8339060">,</span>&nbsp;<span class="string" id="8339062">`&#34;\x00&#34;`</span><span class="op" id="8339070">}</span><span class="op" id="8339071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339074">{</span><span class="ident" id="8339075">String</span><span class="op" id="8339081">,</span>&nbsp;<span class="string" id="8339083">`&#34;\xff&#34;`</span><span class="op" id="8339091">}</span><span class="op" id="8339092">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339095">{</span><span class="ident" id="8339096">String</span><span class="op" id="8339102">,</span>&nbsp;<span class="string" id="8339104">`&#34;\u0000&#34;`</span><span class="op" id="8339114">}</span><span class="op" id="8339115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339118">{</span><span class="ident" id="8339119">String</span><span class="op" id="8339125">,</span>&nbsp;<span class="string" id="8339127">`&#34;\ufA16&#34;`</span><span class="op" id="8339137">}</span><span class="op" id="8339138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339141">{</span><span class="ident" id="8339142">String</span><span class="op" id="8339148">,</span>&nbsp;<span class="string" id="8339150">`&#34;\U00000000&#34;`</span><span class="op" id="8339164">}</span><span class="op" id="8339165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339168">{</span><span class="ident" id="8339169">String</span><span class="op" id="8339175">,</span>&nbsp;<span class="string" id="8339177">`&#34;\U0000ffAB&#34;`</span><span class="op" id="8339191">}</span><span class="op" id="8339192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339195">{</span><span class="ident" id="8339196">String</span><span class="op" id="8339202">,</span>&nbsp;<span class="string" id="8339204">`&#34;`</span>&nbsp;<span class="op" id="8339208">+</span>&nbsp;<span class="ident" id="8339210">f100</span>&nbsp;<span class="op" id="8339215">+</span>&nbsp;<span class="string" id="8339217">`&#34;`</span><span class="op" id="8339220">}</span><span class="op" id="8339221">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339225">{</span><span class="ident" id="8339226">Comment</span><span class="op" id="8339233">,</span>&nbsp;<span class="string" id="8339235">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="8339251">}</span><span class="op" id="8339252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339255">{</span><span class="ident" id="8339256">String</span><span class="op" id="8339262">,</span>&nbsp;<span class="string" id="8339264">&#34;``&#34;</span><span class="op" id="8339268">}</span><span class="op" id="8339269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339272">{</span><span class="ident" id="8339273">String</span><span class="op" id="8339279">,</span>&nbsp;<span class="string" id="8339281">&#34;`\\`&#34;</span><span class="op" id="8339287">}</span><span class="op" id="8339288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339291">{</span><span class="ident" id="8339292">String</span><span class="op" id="8339298">,</span>&nbsp;<span class="string" id="8339300">&#34;`&#34;</span>&nbsp;<span class="op" id="8339304">+</span>&nbsp;<span class="string" id="8339306">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="8339329">+</span>&nbsp;<span class="string" id="8339331">&#34;`&#34;</span><span class="op" id="8339334">}</span><span class="op" id="8339335">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339338">{</span><span class="ident" id="8339339">String</span><span class="op" id="8339345">,</span>&nbsp;<span class="string" id="8339347">&#34;`&#34;</span>&nbsp;<span class="op" id="8339351">+</span>&nbsp;<span class="ident" id="8339353">f100</span>&nbsp;<span class="op" id="8339358">+</span>&nbsp;<span class="string" id="8339360">&#34;`&#34;</span><span class="op" id="8339363">}</span><span class="op" id="8339364">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339368">{</span><span class="ident" id="8339369">Comment</span><span class="op" id="8339376">,</span>&nbsp;<span class="string" id="8339378">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="8339404">}</span><span class="op" id="8339405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8339408">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339441">{</span><span class="string" id="8339442">&#39;\x01&#39;</span><span class="op" id="8339448">,</span>&nbsp;<span class="string" id="8339450">&#34;\x01&#34;</span><span class="op" id="8339456">}</span><span class="op" id="8339457">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339460">{</span><span class="string" id="8339461">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8339465">-</span>&nbsp;<span class="num" id="8339467">1</span><span class="op" id="8339468">,</span>&nbsp;<span class="builtintype" id="8339470">string</span><span class="op" id="8339476">(</span><span class="string" id="8339477">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8339481">-</span>&nbsp;<span class="num" id="8339483">1</span><span class="op" id="8339484">)</span><span class="op" id="8339485">}</span><span class="op" id="8339486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339489">{</span><span class="string" id="8339490">&#39;+&#39;</span><span class="op" id="8339493">,</span>&nbsp;<span class="string" id="8339495">&#34;+&#34;</span><span class="op" id="8339498">}</span><span class="op" id="8339499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339502">{</span><span class="string" id="8339503">&#39;/&#39;</span><span class="op" id="8339506">,</span>&nbsp;<span class="string" id="8339508">&#34;/&#34;</span><span class="op" id="8339511">}</span><span class="op" id="8339512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339515">{</span><span class="string" id="8339516">&#39;.&#39;</span><span class="op" id="8339519">,</span>&nbsp;<span class="string" id="8339521">&#34;.&#34;</span><span class="op" id="8339524">}</span><span class="op" id="8339525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339528">{</span><span class="string" id="8339529">&#39;~&#39;</span><span class="op" id="8339532">,</span>&nbsp;<span class="string" id="8339534">&#34;~&#34;</span><span class="op" id="8339537">}</span><span class="op" id="8339538">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339541">{</span><span class="string" id="8339542">&#39;(&#39;</span><span class="op" id="8339545">,</span>&nbsp;<span class="string" id="8339547">&#34;(&#34;</span><span class="op" id="8339550">}</span><span class="op" id="8339551">,</span><br>
<span class="lineno"></span><span class="op" id="8339553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8339556">func</span>&nbsp;<span class="ident" id="8339561">makeSource</span><span class="op" id="8339571">(</span><span class="ident" id="8339572">pattern</span>&nbsp;<span class="builtintype" id="8339580">string</span><span class="op" id="8339586">)</span>&nbsp;<span class="op" id="8339588">*</span><span class="ident" id="8339589">bytes</span><span class="op" id="8339594">.</span><span class="ident" id="8339595">Buffer</span>&nbsp;<span class="op" id="8339602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339605">var</span>&nbsp;<span class="ident" id="8339609">buf</span>&nbsp;<span class="ident" id="8339613">bytes</span><span class="op" id="8339618">.</span><span class="ident" id="8339619">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339627">for</span>&nbsp;<span class="ident" id="8339631">_</span><span class="op" id="8339632">,</span>&nbsp;<span class="ident" id="8339634">k</span>&nbsp;<span class="op" id="8339636">:=</span>&nbsp;<span class="keyword" id="8339639">range</span>&nbsp;<span class="ident" id="8339645">tokenList</span>&nbsp;<span class="op" id="8339655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339659">fmt</span><span class="op" id="8339662">.</span><span class="ident" id="8339663">Fprintf</span><span class="op" id="8339670">(</span><span class="op" id="8339671">&amp;</span><span class="ident" id="8339672">buf</span><span class="op" id="8339675">,</span>&nbsp;<span class="ident" id="8339677">pattern</span><span class="op" id="8339684">,</span>&nbsp;<span class="ident" id="8339686">k</span><span class="op" id="8339687">.</span><span class="ident" id="8339688">text</span><span class="op" id="8339692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339698">return</span>&nbsp;<span class="op" id="8339705">&amp;</span><span class="ident" id="8339706">buf</span><br>
<span class="lineno"></span><span class="op" id="8339710">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="8339713">func</span>&nbsp;<span class="ident" id="8339718">checkTok</span><span class="op" id="8339726">(</span><span class="ident" id="8339727">t</span>&nbsp;<span class="op" id="8339729">*</span><span class="ident" id="8339730">testing</span><span class="op" id="8339737">.</span><span class="ident" id="8339738">T</span><span class="op" id="8339739">,</span>&nbsp;<span class="ident" id="8339741">s</span>&nbsp;<span class="op" id="8339743">*</span><span class="ident" id="8339744">Scanner</span><span class="op" id="8339751">,</span>&nbsp;<span class="ident" id="8339753">line</span>&nbsp;<span class="builtintype" id="8339758">int</span><span class="op" id="8339761">,</span>&nbsp;<span class="ident" id="8339763">got</span><span class="op" id="8339766">,</span>&nbsp;<span class="ident" id="8339768">want</span>&nbsp;<span class="builtintype" id="8339773">rune</span><span class="op" id="8339777">,</span>&nbsp;<span class="ident" id="8339779">text</span>&nbsp;<span class="builtintype" id="8339784">string</span><span class="op" id="8339790">)</span>&nbsp;<span class="op" id="8339792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339795">if</span>&nbsp;<span class="ident" id="8339798">got</span>&nbsp;<span class="op" id="8339802">!=</span>&nbsp;<span class="ident" id="8339805">want</span>&nbsp;<span class="op" id="8339810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339814">t</span><span class="op" id="8339815">.</span><span class="ident" id="8339816">Fatalf</span><span class="op" id="8339822">(</span><span class="string" id="8339823">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8339849">,</span>&nbsp;<span class="ident" id="8339851">TokenString</span><span class="op" id="8339862">(</span><span class="ident" id="8339863">got</span><span class="op" id="8339866">)</span><span class="op" id="8339867">,</span>&nbsp;<span class="ident" id="8339869">TokenString</span><span class="op" id="8339880">(</span><span class="ident" id="8339881">want</span><span class="op" id="8339885">)</span><span class="op" id="8339886">,</span>&nbsp;<span class="ident" id="8339888">text</span><span class="op" id="8339892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339895">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8339898">if</span>&nbsp;<span class="ident" id="8339901">s</span><span class="op" id="8339902">.</span><span class="ident" id="8339903">Line</span>&nbsp;<span class="op" id="8339908">!=</span>&nbsp;<span class="ident" id="8339911">line</span>&nbsp;<span class="op" id="8339916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339920">t</span><span class="op" id="8339921">.</span><span class="ident" id="8339922">Errorf</span><span class="op" id="8339928">(</span><span class="string" id="8339929">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8339956">,</span>&nbsp;<span class="ident" id="8339958">s</span><span class="op" id="8339959">.</span><span class="ident" id="8339960">Line</span><span class="op" id="8339964">,</span>&nbsp;<span class="ident" id="8339966">line</span><span class="op" id="8339970">,</span>&nbsp;<span class="ident" id="8339972">text</span><span class="op" id="8339976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8339979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8339982">stext</span>&nbsp;<span class="op" id="8339988">:=</span>&nbsp;<span class="ident" id="8339991">s</span><span class="op" id="8339992">.</span><span class="ident" id="8339993">TokenText</span><span class="op" id="8340002">(</span><span class="op" id="8340003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340006">if</span>&nbsp;<span class="ident" id="8340009">stext</span>&nbsp;<span class="op" id="8340015">!=</span>&nbsp;<span class="ident" id="8340018">text</span>&nbsp;<span class="op" id="8340023">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340027">t</span><span class="op" id="8340028">.</span><span class="ident" id="8340029">Errorf</span><span class="op" id="8340035">(</span><span class="string" id="8340036">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8340056">,</span>&nbsp;<span class="ident" id="8340058">stext</span><span class="op" id="8340063">,</span>&nbsp;<span class="ident" id="8340065">text</span><span class="op" id="8340069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340072">}</span>&nbsp;<span class="keyword" id="8340074">else</span>&nbsp;<span class="op" id="8340079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8340083">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340126">stext</span>&nbsp;<span class="op" id="8340132">=</span>&nbsp;<span class="ident" id="8340134">s</span><span class="op" id="8340135">.</span><span class="ident" id="8340136">TokenText</span><span class="op" id="8340145">(</span><span class="op" id="8340146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340150">if</span>&nbsp;<span class="ident" id="8340153">stext</span>&nbsp;<span class="op" id="8340159">!=</span>&nbsp;<span class="ident" id="8340162">text</span>&nbsp;<span class="op" id="8340167">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340172">t</span><span class="op" id="8340173">.</span><span class="ident" id="8340174">Errorf</span><span class="op" id="8340180">(</span><span class="string" id="8340181">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="8340221">,</span>&nbsp;<span class="ident" id="8340223">stext</span><span class="op" id="8340228">,</span>&nbsp;<span class="ident" id="8340230">text</span><span class="op" id="8340234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340241">}</span><br>
<span class="lineno"></span><span class="op" id="8340243">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="8340246">func</span>&nbsp;<span class="ident" id="8340251">countNewlines</span><span class="op" id="8340264">(</span><span class="ident" id="8340265">s</span>&nbsp;<span class="builtintype" id="8340267">string</span><span class="op" id="8340273">)</span>&nbsp;<span class="builtintype" id="8340275">int</span>&nbsp;<span class="op" id="8340279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340282">n</span>&nbsp;<span class="op" id="8340284">:=</span>&nbsp;<span class="num" id="8340287">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340290">for</span>&nbsp;<span class="ident" id="8340294">_</span><span class="op" id="8340295">,</span>&nbsp;<span class="ident" id="8340297">ch</span>&nbsp;<span class="op" id="8340300">:=</span>&nbsp;<span class="keyword" id="8340303">range</span>&nbsp;<span class="ident" id="8340309">s</span>&nbsp;<span class="op" id="8340311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340315">if</span>&nbsp;<span class="ident" id="8340318">ch</span>&nbsp;<span class="op" id="8340321">==</span>&nbsp;<span class="string" id="8340324">&#39;\n&#39;</span>&nbsp;<span class="op" id="8340329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340334">n</span><span class="op" id="8340335">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340346">return</span>&nbsp;<span class="ident" id="8340353">n</span><br>
<span class="lineno"></span><span class="op" id="8340355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="8340358">func</span>&nbsp;<span class="ident" id="8340363">testScan</span><span class="op" id="8340371">(</span><span class="ident" id="8340372">t</span>&nbsp;<span class="op" id="8340374">*</span><span class="ident" id="8340375">testing</span><span class="op" id="8340382">.</span><span class="ident" id="8340383">T</span><span class="op" id="8340384">,</span>&nbsp;<span class="ident" id="8340386">mode</span>&nbsp;<span class="builtintype" id="8340391">uint</span><span class="op" id="8340395">)</span>&nbsp;<span class="op" id="8340397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340400">s</span>&nbsp;<span class="op" id="8340402">:=</span>&nbsp;<span class="builtinfunc" id="8340405">new</span><span class="op" id="8340408">(</span><span class="ident" id="8340409">Scanner</span><span class="op" id="8340416">)</span><span class="op" id="8340417">.</span><span class="ident" id="8340418">Init</span><span class="op" id="8340422">(</span><span class="ident" id="8340423">makeSource</span><span class="op" id="8340433">(</span><span class="string" id="8340434">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="8340443">)</span><span class="op" id="8340444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340447">s</span><span class="op" id="8340448">.</span><span class="ident" id="8340449">Mode</span>&nbsp;<span class="op" id="8340454">=</span>&nbsp;<span class="ident" id="8340456">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340462">tok</span>&nbsp;<span class="op" id="8340466">:=</span>&nbsp;<span class="ident" id="8340469">s</span><span class="op" id="8340470">.</span><span class="ident" id="8340471">Scan</span><span class="op" id="8340475">(</span><span class="op" id="8340476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340479">line</span>&nbsp;<span class="op" id="8340484">:=</span>&nbsp;<span class="num" id="8340487">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340490">for</span>&nbsp;<span class="ident" id="8340494">_</span><span class="op" id="8340495">,</span>&nbsp;<span class="ident" id="8340497">k</span>&nbsp;<span class="op" id="8340499">:=</span>&nbsp;<span class="keyword" id="8340502">range</span>&nbsp;<span class="ident" id="8340508">tokenList</span>&nbsp;<span class="op" id="8340518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8340522">if</span>&nbsp;<span class="ident" id="8340525">mode</span><span class="op" id="8340529">&amp;</span><span class="ident" id="8340530">SkipComments</span>&nbsp;<span class="op" id="8340543">==</span>&nbsp;<span class="num" id="8340546">0</span>&nbsp;<span class="op" id="8340548">||</span>&nbsp;<span class="ident" id="8340551">k</span><span class="op" id="8340552">.</span><span class="ident" id="8340553">tok</span>&nbsp;<span class="op" id="8340557">!=</span>&nbsp;<span class="ident" id="8340560">Comment</span>&nbsp;<span class="op" id="8340568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340573">checkTok</span><span class="op" id="8340581">(</span><span class="ident" id="8340582">t</span><span class="op" id="8340583">,</span>&nbsp;<span class="ident" id="8340585">s</span><span class="op" id="8340586">,</span>&nbsp;<span class="ident" id="8340588">line</span><span class="op" id="8340592">,</span>&nbsp;<span class="ident" id="8340594">tok</span><span class="op" id="8340597">,</span>&nbsp;<span class="ident" id="8340599">k</span><span class="op" id="8340600">.</span><span class="ident" id="8340601">tok</span><span class="op" id="8340604">,</span>&nbsp;<span class="ident" id="8340606">k</span><span class="op" id="8340607">.</span><span class="ident" id="8340608">text</span><span class="op" id="8340612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340617">tok</span>&nbsp;<span class="op" id="8340621">=</span>&nbsp;<span class="ident" id="8340623">s</span><span class="op" id="8340624">.</span><span class="ident" id="8340625">Scan</span><span class="op" id="8340629">(</span><span class="op" id="8340630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340634">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340638">line</span>&nbsp;<span class="op" id="8340643">+=</span>&nbsp;<span class="ident" id="8340646">countNewlines</span><span class="op" id="8340659">(</span><span class="ident" id="8340660">k</span><span class="op" id="8340661">.</span><span class="ident" id="8340662">text</span><span class="op" id="8340666">)</span>&nbsp;<span class="op" id="8340668">+</span>&nbsp;<span class="num" id="8340670">1</span>&nbsp;<span class="comment" id="8340672">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8340704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340707">checkTok</span><span class="op" id="8340715">(</span><span class="ident" id="8340716">t</span><span class="op" id="8340717">,</span>&nbsp;<span class="ident" id="8340719">s</span><span class="op" id="8340720">,</span>&nbsp;<span class="ident" id="8340722">line</span><span class="op" id="8340726">,</span>&nbsp;<span class="ident" id="8340728">tok</span><span class="op" id="8340731">,</span>&nbsp;<span class="ident" id="8340733">EOF</span><span class="op" id="8340736">,</span>&nbsp;<span class="string" id="8340738">&#34;&#34;</span><span class="op" id="8340740">)</span><br>
<span class="lineno"></span><span class="op" id="8340742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="8340745">func</span>&nbsp;<span class="ident" id="8340750">TestScan</span><span class="op" id="8340758">(</span><span class="ident" id="8340759">t</span>&nbsp;<span class="op" id="8340761">*</span><span class="ident" id="8340762">testing</span><span class="op" id="8340769">.</span><span class="ident" id="8340770">T</span><span class="op" id="8340771">)</span>&nbsp;<span class="op" id="8340773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340776">testScan</span><span class="op" id="8340784">(</span><span class="ident" id="8340785">t</span><span class="op" id="8340786">,</span>&nbsp;<span class="ident" id="8340788">GoTokens</span><span class="op" id="8340796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340799">testScan</span><span class="op" id="8340807">(</span><span class="ident" id="8340808">t</span><span class="op" id="8340809">,</span>&nbsp;<span class="ident" id="8340811">GoTokens</span><span class="op" id="8340819">&amp;^</span><span class="ident" id="8340821">SkipComments</span><span class="op" id="8340833">)</span><br>
<span class="lineno"></span><span class="op" id="8340835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="8340838">func</span>&nbsp;<span class="ident" id="8340843">TestPosition</span><span class="op" id="8340855">(</span><span class="ident" id="8340856">t</span>&nbsp;<span class="op" id="8340858">*</span><span class="ident" id="8340859">testing</span><span class="op" id="8340866">.</span><span class="ident" id="8340867">T</span><span class="op" id="8340868">)</span>&nbsp;<span class="op" id="8340870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340873">src</span>&nbsp;<span class="op" id="8340877">:=</span>&nbsp;<span class="ident" id="8340880">makeSource</span><span class="op" id="8340890">(</span><span class="string" id="8340891">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="8340905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340908">s</span>&nbsp;<span class="op" id="8340910">:=</span>&nbsp;<span class="builtinfunc" id="8340913">new</span><span class="op" id="8340916">(</span><span class="ident" id="8340917">Scanner</span><span class="op" id="8340924">)</span><span class="op" id="8340925">.</span><span class="ident" id="8340926">Init</span><span class="op" id="8340930">(</span><span class="ident" id="8340931">src</span><span class="op" id="8340934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340937">s</span><span class="op" id="8340938">.</span><span class="ident" id="8340939">Mode</span>&nbsp;<span class="op" id="8340944">=</span>&nbsp;<span class="ident" id="8340946">GoTokens</span>&nbsp;<span class="op" id="8340955">&amp;^</span>&nbsp;<span class="ident" id="8340958">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340972">s</span><span class="op" id="8340973">.</span><span class="ident" id="8340974">Scan</span><span class="op" id="8340978">(</span><span class="op" id="8340979">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8340982">pos</span>&nbsp;<span class="op" id="8340986">:=</span>&nbsp;<span class="ident" id="8340989">Position</span><span class="op" id="8340997">{</span><span class="string" id="8340998">&#34;&#34;</span><span class="op" id="8341000">,</span>&nbsp;<span class="num" id="8341002">4</span><span class="op" id="8341003">,</span>&nbsp;<span class="num" id="8341005">1</span><span class="op" id="8341006">,</span>&nbsp;<span class="num" id="8341008">5</span><span class="op" id="8341009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341012">for</span>&nbsp;<span class="ident" id="8341016">_</span><span class="op" id="8341017">,</span>&nbsp;<span class="ident" id="8341019">k</span>&nbsp;<span class="op" id="8341021">:=</span>&nbsp;<span class="keyword" id="8341024">range</span>&nbsp;<span class="ident" id="8341030">tokenList</span>&nbsp;<span class="op" id="8341040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341044">if</span>&nbsp;<span class="ident" id="8341047">s</span><span class="op" id="8341048">.</span><span class="ident" id="8341049">Offset</span>&nbsp;<span class="op" id="8341056">!=</span>&nbsp;<span class="ident" id="8341059">pos</span><span class="op" id="8341062">.</span><span class="ident" id="8341063">Offset</span>&nbsp;<span class="op" id="8341070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341075">t</span><span class="op" id="8341076">.</span><span class="ident" id="8341077">Errorf</span><span class="op" id="8341083">(</span><span class="string" id="8341084">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8341113">,</span>&nbsp;<span class="ident" id="8341115">s</span><span class="op" id="8341116">.</span><span class="ident" id="8341117">Offset</span><span class="op" id="8341123">,</span>&nbsp;<span class="ident" id="8341125">pos</span><span class="op" id="8341128">.</span><span class="ident" id="8341129">Offset</span><span class="op" id="8341135">,</span>&nbsp;<span class="ident" id="8341137">k</span><span class="op" id="8341138">.</span><span class="ident" id="8341139">text</span><span class="op" id="8341143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341147">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341151">if</span>&nbsp;<span class="ident" id="8341154">s</span><span class="op" id="8341155">.</span><span class="ident" id="8341156">Line</span>&nbsp;<span class="op" id="8341161">!=</span>&nbsp;<span class="ident" id="8341164">pos</span><span class="op" id="8341167">.</span><span class="ident" id="8341168">Line</span>&nbsp;<span class="op" id="8341173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341178">t</span><span class="op" id="8341179">.</span><span class="ident" id="8341180">Errorf</span><span class="op" id="8341186">(</span><span class="string" id="8341187">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8341214">,</span>&nbsp;<span class="ident" id="8341216">s</span><span class="op" id="8341217">.</span><span class="ident" id="8341218">Line</span><span class="op" id="8341222">,</span>&nbsp;<span class="ident" id="8341224">pos</span><span class="op" id="8341227">.</span><span class="ident" id="8341228">Line</span><span class="op" id="8341232">,</span>&nbsp;<span class="ident" id="8341234">k</span><span class="op" id="8341235">.</span><span class="ident" id="8341236">text</span><span class="op" id="8341240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341248">if</span>&nbsp;<span class="ident" id="8341251">s</span><span class="op" id="8341252">.</span><span class="ident" id="8341253">Column</span>&nbsp;<span class="op" id="8341260">!=</span>&nbsp;<span class="ident" id="8341263">pos</span><span class="op" id="8341266">.</span><span class="ident" id="8341267">Column</span>&nbsp;<span class="op" id="8341274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341279">t</span><span class="op" id="8341280">.</span><span class="ident" id="8341281">Errorf</span><span class="op" id="8341287">(</span><span class="string" id="8341288">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8341317">,</span>&nbsp;<span class="ident" id="8341319">s</span><span class="op" id="8341320">.</span><span class="ident" id="8341321">Column</span><span class="op" id="8341327">,</span>&nbsp;<span class="ident" id="8341329">pos</span><span class="op" id="8341332">.</span><span class="ident" id="8341333">Column</span><span class="op" id="8341339">,</span>&nbsp;<span class="ident" id="8341341">k</span><span class="op" id="8341342">.</span><span class="ident" id="8341343">text</span><span class="op" id="8341347">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341355">pos</span><span class="op" id="8341358">.</span><span class="ident" id="8341359">Offset</span>&nbsp;<span class="op" id="8341366">+=</span>&nbsp;<span class="num" id="8341369">4</span>&nbsp;<span class="op" id="8341371">+</span>&nbsp;<span class="builtinfunc" id="8341373">len</span><span class="op" id="8341376">(</span><span class="ident" id="8341377">k</span><span class="op" id="8341378">.</span><span class="ident" id="8341379">text</span><span class="op" id="8341383">)</span>&nbsp;<span class="op" id="8341385">+</span>&nbsp;<span class="num" id="8341387">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8341393">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341429">pos</span><span class="op" id="8341432">.</span><span class="ident" id="8341433">Line</span>&nbsp;<span class="op" id="8341438">+=</span>&nbsp;<span class="ident" id="8341441">countNewlines</span><span class="op" id="8341454">(</span><span class="ident" id="8341455">k</span><span class="op" id="8341456">.</span><span class="ident" id="8341457">text</span><span class="op" id="8341461">)</span>&nbsp;<span class="op" id="8341463">+</span>&nbsp;<span class="num" id="8341465">1</span>&nbsp;<span class="comment" id="8341467">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341500">s</span><span class="op" id="8341501">.</span><span class="ident" id="8341502">Scan</span><span class="op" id="8341506">(</span><span class="op" id="8341507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341510">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8341513">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341583">if</span>&nbsp;<span class="ident" id="8341586">s</span><span class="op" id="8341587">.</span><span class="ident" id="8341588">ErrorCount</span>&nbsp;<span class="op" id="8341599">!=</span>&nbsp;<span class="num" id="8341602">0</span>&nbsp;<span class="op" id="8341604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341608">t</span><span class="op" id="8341609">.</span><span class="ident" id="8341610">Errorf</span><span class="op" id="8341616">(</span><span class="string" id="8341617">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8341628">,</span>&nbsp;<span class="ident" id="8341630">s</span><span class="op" id="8341631">.</span><span class="ident" id="8341632">ErrorCount</span><span class="op" id="8341642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8341645">}</span><br>
<span class="lineno"></span><span class="op" id="8341647">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="8341650">func</span>&nbsp;<span class="ident" id="8341655">TestScanZeroMode</span><span class="op" id="8341671">(</span><span class="ident" id="8341672">t</span>&nbsp;<span class="op" id="8341674">*</span><span class="ident" id="8341675">testing</span><span class="op" id="8341682">.</span><span class="ident" id="8341683">T</span><span class="op" id="8341684">)</span>&nbsp;<span class="op" id="8341686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341689">src</span>&nbsp;<span class="op" id="8341693">:=</span>&nbsp;<span class="ident" id="8341696">makeSource</span><span class="op" id="8341706">(</span><span class="string" id="8341707">&#34;%s\n&#34;</span><span class="op" id="8341713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341716">str</span>&nbsp;<span class="op" id="8341720">:=</span>&nbsp;<span class="ident" id="8341723">src</span><span class="op" id="8341726">.</span><span class="ident" id="8341727">String</span><span class="op" id="8341733">(</span><span class="op" id="8341734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341737">s</span>&nbsp;<span class="op" id="8341739">:=</span>&nbsp;<span class="builtinfunc" id="8341742">new</span><span class="op" id="8341745">(</span><span class="ident" id="8341746">Scanner</span><span class="op" id="8341753">)</span><span class="op" id="8341754">.</span><span class="ident" id="8341755">Init</span><span class="op" id="8341759">(</span><span class="ident" id="8341760">src</span><span class="op" id="8341763">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341766">s</span><span class="op" id="8341767">.</span><span class="ident" id="8341768">Mode</span>&nbsp;<span class="op" id="8341773">=</span>&nbsp;<span class="num" id="8341775">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8341783">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341821">s</span><span class="op" id="8341822">.</span><span class="ident" id="8341823">Whitespace</span>&nbsp;<span class="op" id="8341834">=</span>&nbsp;<span class="num" id="8341836">0</span>&nbsp;<span class="comment" id="8341838">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341868">tok</span>&nbsp;<span class="op" id="8341872">:=</span>&nbsp;<span class="ident" id="8341875">s</span><span class="op" id="8341876">.</span><span class="ident" id="8341877">Scan</span><span class="op" id="8341881">(</span><span class="op" id="8341882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341885">for</span>&nbsp;<span class="ident" id="8341889">i</span><span class="op" id="8341890">,</span>&nbsp;<span class="ident" id="8341892">ch</span>&nbsp;<span class="op" id="8341895">:=</span>&nbsp;<span class="keyword" id="8341898">range</span>&nbsp;<span class="ident" id="8341904">str</span>&nbsp;<span class="op" id="8341908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8341912">if</span>&nbsp;<span class="ident" id="8341915">tok</span>&nbsp;<span class="op" id="8341919">!=</span>&nbsp;<span class="ident" id="8341922">ch</span>&nbsp;<span class="op" id="8341925">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8341930">t</span><span class="op" id="8341931">.</span><span class="ident" id="8341932">Fatalf</span><span class="op" id="8341938">(</span><span class="string" id="8341939">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8341962">,</span>&nbsp;<span class="ident" id="8341964">i</span><span class="op" id="8341965">,</span>&nbsp;<span class="ident" id="8341967">TokenString</span><span class="op" id="8341978">(</span><span class="ident" id="8341979">tok</span><span class="op" id="8341982">)</span><span class="op" id="8341983">,</span>&nbsp;<span class="ident" id="8341985">TokenString</span><span class="op" id="8341996">(</span><span class="ident" id="8341997">ch</span><span class="op" id="8341999">)</span><span class="op" id="8342000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342008">tok</span>&nbsp;<span class="op" id="8342012">=</span>&nbsp;<span class="ident" id="8342014">s</span><span class="op" id="8342015">.</span><span class="ident" id="8342016">Scan</span><span class="op" id="8342020">(</span><span class="op" id="8342021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342027">if</span>&nbsp;<span class="ident" id="8342030">tok</span>&nbsp;<span class="op" id="8342034">!=</span>&nbsp;<span class="ident" id="8342037">EOF</span>&nbsp;<span class="op" id="8342041">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342045">t</span><span class="op" id="8342046">.</span><span class="ident" id="8342047">Fatalf</span><span class="op" id="8342053">(</span><span class="string" id="8342054">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="8342074">,</span>&nbsp;<span class="ident" id="8342076">TokenString</span><span class="op" id="8342087">(</span><span class="ident" id="8342088">tok</span><span class="op" id="8342091">)</span><span class="op" id="8342092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342098">if</span>&nbsp;<span class="ident" id="8342101">s</span><span class="op" id="8342102">.</span><span class="ident" id="8342103">ErrorCount</span>&nbsp;<span class="op" id="8342114">!=</span>&nbsp;<span class="num" id="8342117">0</span>&nbsp;<span class="op" id="8342119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342123">t</span><span class="op" id="8342124">.</span><span class="ident" id="8342125">Errorf</span><span class="op" id="8342131">(</span><span class="string" id="8342132">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8342143">,</span>&nbsp;<span class="ident" id="8342145">s</span><span class="op" id="8342146">.</span><span class="ident" id="8342147">ErrorCount</span><span class="op" id="8342157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342160">}</span><br>
<span class="lineno">330</span><span class="op" id="8342162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8342165">func</span>&nbsp;<span class="ident" id="8342170">testScanSelectedMode</span><span class="op" id="8342190">(</span><span class="ident" id="8342191">t</span>&nbsp;<span class="op" id="8342193">*</span><span class="ident" id="8342194">testing</span><span class="op" id="8342201">.</span><span class="ident" id="8342202">T</span><span class="op" id="8342203">,</span>&nbsp;<span class="ident" id="8342205">mode</span>&nbsp;<span class="builtintype" id="8342210">uint</span><span class="op" id="8342214">,</span>&nbsp;<span class="ident" id="8342216">class</span>&nbsp;<span class="builtintype" id="8342222">rune</span><span class="op" id="8342226">)</span>&nbsp;<span class="op" id="8342228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342231">src</span>&nbsp;<span class="op" id="8342235">:=</span>&nbsp;<span class="ident" id="8342238">makeSource</span><span class="op" id="8342248">(</span><span class="string" id="8342249">&#34;%s\n&#34;</span><span class="op" id="8342255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342258">s</span>&nbsp;<span class="op" id="8342260">:=</span>&nbsp;<span class="builtinfunc" id="8342263">new</span><span class="op" id="8342266">(</span><span class="ident" id="8342267">Scanner</span><span class="op" id="8342274">)</span><span class="op" id="8342275">.</span><span class="ident" id="8342276">Init</span><span class="op" id="8342280">(</span><span class="ident" id="8342281">src</span><span class="op" id="8342284">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342287">s</span><span class="op" id="8342288">.</span><span class="ident" id="8342289">Mode</span>&nbsp;<span class="op" id="8342294">=</span>&nbsp;<span class="ident" id="8342296">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342302">tok</span>&nbsp;<span class="op" id="8342306">:=</span>&nbsp;<span class="ident" id="8342309">s</span><span class="op" id="8342310">.</span><span class="ident" id="8342311">Scan</span><span class="op" id="8342315">(</span><span class="op" id="8342316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342319">for</span>&nbsp;<span class="ident" id="8342323">tok</span>&nbsp;<span class="op" id="8342327">!=</span>&nbsp;<span class="ident" id="8342330">EOF</span>&nbsp;<span class="op" id="8342334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342338">if</span>&nbsp;<span class="ident" id="8342341">tok</span>&nbsp;<span class="op" id="8342345">&lt;</span>&nbsp;<span class="num" id="8342347">0</span>&nbsp;<span class="op" id="8342349">&amp;&amp;</span>&nbsp;<span class="ident" id="8342352">tok</span>&nbsp;<span class="op" id="8342356">!=</span>&nbsp;<span class="ident" id="8342359">class</span>&nbsp;<span class="op" id="8342365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342370">t</span><span class="op" id="8342371">.</span><span class="ident" id="8342372">Fatalf</span><span class="op" id="8342378">(</span><span class="string" id="8342379">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8342398">,</span>&nbsp;<span class="ident" id="8342400">TokenString</span><span class="op" id="8342411">(</span><span class="ident" id="8342412">tok</span><span class="op" id="8342415">)</span><span class="op" id="8342416">,</span>&nbsp;<span class="ident" id="8342418">TokenString</span><span class="op" id="8342429">(</span><span class="ident" id="8342430">class</span><span class="op" id="8342435">)</span><span class="op" id="8342436">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342444">tok</span>&nbsp;<span class="op" id="8342448">=</span>&nbsp;<span class="ident" id="8342450">s</span><span class="op" id="8342451">.</span><span class="ident" id="8342452">Scan</span><span class="op" id="8342456">(</span><span class="op" id="8342457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8342463">if</span>&nbsp;<span class="ident" id="8342466">s</span><span class="op" id="8342467">.</span><span class="ident" id="8342468">ErrorCount</span>&nbsp;<span class="op" id="8342479">!=</span>&nbsp;<span class="num" id="8342482">0</span>&nbsp;<span class="op" id="8342484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342488">t</span><span class="op" id="8342489">.</span><span class="ident" id="8342490">Errorf</span><span class="op" id="8342496">(</span><span class="string" id="8342497">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8342508">,</span>&nbsp;<span class="ident" id="8342510">s</span><span class="op" id="8342511">.</span><span class="ident" id="8342512">ErrorCount</span><span class="op" id="8342522">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8342525">}</span><br>
<span class="lineno"></span><span class="op" id="8342527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8342530">func</span>&nbsp;<span class="ident" id="8342535">TestScanSelectedMask</span><span class="op" id="8342555">(</span><span class="ident" id="8342556">t</span>&nbsp;<span class="op" id="8342558">*</span><span class="ident" id="8342559">testing</span><span class="op" id="8342566">.</span><span class="ident" id="8342567">T</span><span class="op" id="8342568">)</span>&nbsp;<span class="op" id="8342570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342573">testScanSelectedMode</span><span class="op" id="8342593">(</span><span class="ident" id="8342594">t</span><span class="op" id="8342595">,</span>&nbsp;<span class="num" id="8342597">0</span><span class="op" id="8342598">,</span>&nbsp;<span class="num" id="8342600">0</span><span class="op" id="8342601">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342604">testScanSelectedMode</span><span class="op" id="8342624">(</span><span class="ident" id="8342625">t</span><span class="op" id="8342626">,</span>&nbsp;<span class="ident" id="8342628">ScanIdents</span><span class="op" id="8342638">,</span>&nbsp;<span class="ident" id="8342640">Ident</span><span class="op" id="8342645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342648">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342708">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8342768">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342820">testScanSelectedMode</span><span class="op" id="8342840">(</span><span class="ident" id="8342841">t</span><span class="op" id="8342842">,</span>&nbsp;<span class="ident" id="8342844">ScanChars</span><span class="op" id="8342853">,</span>&nbsp;<span class="ident" id="8342855">Char</span><span class="op" id="8342859">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342862">testScanSelectedMode</span><span class="op" id="8342882">(</span><span class="ident" id="8342883">t</span><span class="op" id="8342884">,</span>&nbsp;<span class="ident" id="8342886">ScanStrings</span><span class="op" id="8342897">,</span>&nbsp;<span class="ident" id="8342899">String</span><span class="op" id="8342905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342908">testScanSelectedMode</span><span class="op" id="8342928">(</span><span class="ident" id="8342929">t</span><span class="op" id="8342930">,</span>&nbsp;<span class="ident" id="8342932">SkipComments</span><span class="op" id="8342944">,</span>&nbsp;<span class="num" id="8342946">0</span><span class="op" id="8342947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8342950">testScanSelectedMode</span><span class="op" id="8342970">(</span><span class="ident" id="8342971">t</span><span class="op" id="8342972">,</span>&nbsp;<span class="ident" id="8342974">ScanComments</span><span class="op" id="8342986">,</span>&nbsp;<span class="ident" id="8342988">Comment</span><span class="op" id="8342995">)</span><br>
<span class="lineno"></span><span class="op" id="8342997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="8343000">func</span>&nbsp;<span class="ident" id="8343005">TestScanCustomIdent</span><span class="op" id="8343024">(</span><span class="ident" id="8343025">t</span>&nbsp;<span class="op" id="8343027">*</span><span class="ident" id="8343028">testing</span><span class="op" id="8343035">.</span><span class="ident" id="8343036">T</span><span class="op" id="8343037">)</span>&nbsp;<span class="op" id="8343039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343042">const</span>&nbsp;<span class="ident" id="8343048">src</span>&nbsp;<span class="op" id="8343052">=</span>&nbsp;<span class="string" id="8343054">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343082">s</span>&nbsp;<span class="op" id="8343084">:=</span>&nbsp;<span class="builtinfunc" id="8343087">new</span><span class="op" id="8343090">(</span><span class="ident" id="8343091">Scanner</span><span class="op" id="8343098">)</span><span class="op" id="8343099">.</span><span class="ident" id="8343100">Init</span><span class="op" id="8343104">(</span><span class="ident" id="8343105">strings</span><span class="op" id="8343112">.</span><span class="ident" id="8343113">NewReader</span><span class="op" id="8343122">(</span><span class="ident" id="8343123">src</span><span class="op" id="8343126">)</span><span class="op" id="8343127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343130">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343168">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8343193">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343224">s</span><span class="op" id="8343225">.</span><span class="ident" id="8343226">IsIdentRune</span>&nbsp;<span class="op" id="8343238">=</span>&nbsp;<span class="keyword" id="8343240">func</span><span class="op" id="8343244">(</span><span class="ident" id="8343245">ch</span>&nbsp;<span class="builtintype" id="8343248">rune</span><span class="op" id="8343252">,</span>&nbsp;<span class="ident" id="8343254">i</span>&nbsp;<span class="builtintype" id="8343256">int</span><span class="op" id="8343259">)</span>&nbsp;<span class="builtintype" id="8343261">bool</span>&nbsp;<span class="op" id="8343266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343270">return</span>&nbsp;<span class="ident" id="8343277">i</span>&nbsp;<span class="op" id="8343279">==</span>&nbsp;<span class="num" id="8343282">0</span>&nbsp;<span class="op" id="8343284">&amp;&amp;</span>&nbsp;<span class="op" id="8343287">(</span><span class="ident" id="8343288">ch</span>&nbsp;<span class="op" id="8343291">==</span>&nbsp;<span class="string" id="8343294">&#39;a&#39;</span>&nbsp;<span class="op" id="8343298">||</span>&nbsp;<span class="ident" id="8343301">ch</span>&nbsp;<span class="op" id="8343304">==</span>&nbsp;<span class="string" id="8343307">&#39;b&#39;</span><span class="op" id="8343310">)</span>&nbsp;<span class="op" id="8343312">||</span>&nbsp;<span class="num" id="8343315">0</span>&nbsp;<span class="op" id="8343317">&lt;</span>&nbsp;<span class="ident" id="8343319">i</span>&nbsp;<span class="op" id="8343321">&amp;&amp;</span>&nbsp;<span class="ident" id="8343324">i</span>&nbsp;<span class="op" id="8343326">&lt;</span>&nbsp;<span class="num" id="8343328">4</span>&nbsp;<span class="op" id="8343330">&amp;&amp;</span>&nbsp;<span class="string" id="8343333">&#39;0&#39;</span>&nbsp;<span class="op" id="8343337">&lt;=</span>&nbsp;<span class="ident" id="8343340">ch</span>&nbsp;<span class="op" id="8343343">&amp;&amp;</span>&nbsp;<span class="ident" id="8343346">ch</span>&nbsp;<span class="op" id="8343349">&lt;=</span>&nbsp;<span class="string" id="8343352">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8343357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343360">checkTok</span><span class="op" id="8343368">(</span><span class="ident" id="8343369">t</span><span class="op" id="8343370">,</span>&nbsp;<span class="ident" id="8343372">s</span><span class="op" id="8343373">,</span>&nbsp;<span class="num" id="8343375">1</span><span class="op" id="8343376">,</span>&nbsp;<span class="ident" id="8343378">s</span><span class="op" id="8343379">.</span><span class="ident" id="8343380">Scan</span><span class="op" id="8343384">(</span><span class="op" id="8343385">)</span><span class="op" id="8343386">,</span>&nbsp;<span class="string" id="8343388">&#39;f&#39;</span><span class="op" id="8343391">,</span>&nbsp;<span class="string" id="8343393">&#34;f&#34;</span><span class="op" id="8343396">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343399">checkTok</span><span class="op" id="8343407">(</span><span class="ident" id="8343408">t</span><span class="op" id="8343409">,</span>&nbsp;<span class="ident" id="8343411">s</span><span class="op" id="8343412">,</span>&nbsp;<span class="num" id="8343414">1</span><span class="op" id="8343415">,</span>&nbsp;<span class="ident" id="8343417">s</span><span class="op" id="8343418">.</span><span class="ident" id="8343419">Scan</span><span class="op" id="8343423">(</span><span class="op" id="8343424">)</span><span class="op" id="8343425">,</span>&nbsp;<span class="ident" id="8343427">Ident</span><span class="op" id="8343432">,</span>&nbsp;<span class="string" id="8343434">&#34;a&#34;</span><span class="op" id="8343437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343440">checkTok</span><span class="op" id="8343448">(</span><span class="ident" id="8343449">t</span><span class="op" id="8343450">,</span>&nbsp;<span class="ident" id="8343452">s</span><span class="op" id="8343453">,</span>&nbsp;<span class="num" id="8343455">1</span><span class="op" id="8343456">,</span>&nbsp;<span class="ident" id="8343458">s</span><span class="op" id="8343459">.</span><span class="ident" id="8343460">Scan</span><span class="op" id="8343464">(</span><span class="op" id="8343465">)</span><span class="op" id="8343466">,</span>&nbsp;<span class="ident" id="8343468">Ident</span><span class="op" id="8343473">,</span>&nbsp;<span class="string" id="8343475">&#34;a&#34;</span><span class="op" id="8343478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343481">checkTok</span><span class="op" id="8343489">(</span><span class="ident" id="8343490">t</span><span class="op" id="8343491">,</span>&nbsp;<span class="ident" id="8343493">s</span><span class="op" id="8343494">,</span>&nbsp;<span class="num" id="8343496">1</span><span class="op" id="8343497">,</span>&nbsp;<span class="ident" id="8343499">s</span><span class="op" id="8343500">.</span><span class="ident" id="8343501">Scan</span><span class="op" id="8343505">(</span><span class="op" id="8343506">)</span><span class="op" id="8343507">,</span>&nbsp;<span class="ident" id="8343509">Ident</span><span class="op" id="8343514">,</span>&nbsp;<span class="string" id="8343516">&#34;b123&#34;</span><span class="op" id="8343522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343525">checkTok</span><span class="op" id="8343533">(</span><span class="ident" id="8343534">t</span><span class="op" id="8343535">,</span>&nbsp;<span class="ident" id="8343537">s</span><span class="op" id="8343538">,</span>&nbsp;<span class="num" id="8343540">1</span><span class="op" id="8343541">,</span>&nbsp;<span class="ident" id="8343543">s</span><span class="op" id="8343544">.</span><span class="ident" id="8343545">Scan</span><span class="op" id="8343549">(</span><span class="op" id="8343550">)</span><span class="op" id="8343551">,</span>&nbsp;<span class="ident" id="8343553">Int</span><span class="op" id="8343556">,</span>&nbsp;<span class="string" id="8343558">&#34;45&#34;</span><span class="op" id="8343562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343565">checkTok</span><span class="op" id="8343573">(</span><span class="ident" id="8343574">t</span><span class="op" id="8343575">,</span>&nbsp;<span class="ident" id="8343577">s</span><span class="op" id="8343578">,</span>&nbsp;<span class="num" id="8343580">1</span><span class="op" id="8343581">,</span>&nbsp;<span class="ident" id="8343583">s</span><span class="op" id="8343584">.</span><span class="ident" id="8343585">Scan</span><span class="op" id="8343589">(</span><span class="op" id="8343590">)</span><span class="op" id="8343591">,</span>&nbsp;<span class="ident" id="8343593">Ident</span><span class="op" id="8343598">,</span>&nbsp;<span class="string" id="8343600">&#34;a12&#34;</span><span class="op" id="8343605">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343608">checkTok</span><span class="op" id="8343616">(</span><span class="ident" id="8343617">t</span><span class="op" id="8343618">,</span>&nbsp;<span class="ident" id="8343620">s</span><span class="op" id="8343621">,</span>&nbsp;<span class="num" id="8343623">1</span><span class="op" id="8343624">,</span>&nbsp;<span class="ident" id="8343626">s</span><span class="op" id="8343627">.</span><span class="ident" id="8343628">Scan</span><span class="op" id="8343632">(</span><span class="op" id="8343633">)</span><span class="op" id="8343634">,</span>&nbsp;<span class="ident" id="8343636">Ident</span><span class="op" id="8343641">,</span>&nbsp;<span class="string" id="8343643">&#34;b123&#34;</span><span class="op" id="8343649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343652">checkTok</span><span class="op" id="8343660">(</span><span class="ident" id="8343661">t</span><span class="op" id="8343662">,</span>&nbsp;<span class="ident" id="8343664">s</span><span class="op" id="8343665">,</span>&nbsp;<span class="num" id="8343667">1</span><span class="op" id="8343668">,</span>&nbsp;<span class="ident" id="8343670">s</span><span class="op" id="8343671">.</span><span class="ident" id="8343672">Scan</span><span class="op" id="8343676">(</span><span class="op" id="8343677">)</span><span class="op" id="8343678">,</span>&nbsp;<span class="ident" id="8343680">Ident</span><span class="op" id="8343685">,</span>&nbsp;<span class="string" id="8343687">&#34;a12&#34;</span><span class="op" id="8343692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343695">checkTok</span><span class="op" id="8343703">(</span><span class="ident" id="8343704">t</span><span class="op" id="8343705">,</span>&nbsp;<span class="ident" id="8343707">s</span><span class="op" id="8343708">,</span>&nbsp;<span class="num" id="8343710">1</span><span class="op" id="8343711">,</span>&nbsp;<span class="ident" id="8343713">s</span><span class="op" id="8343714">.</span><span class="ident" id="8343715">Scan</span><span class="op" id="8343719">(</span><span class="op" id="8343720">)</span><span class="op" id="8343721">,</span>&nbsp;<span class="ident" id="8343723">Int</span><span class="op" id="8343726">,</span>&nbsp;<span class="string" id="8343728">&#34;3&#34;</span><span class="op" id="8343731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343734">checkTok</span><span class="op" id="8343742">(</span><span class="ident" id="8343743">t</span><span class="op" id="8343744">,</span>&nbsp;<span class="ident" id="8343746">s</span><span class="op" id="8343747">,</span>&nbsp;<span class="num" id="8343749">1</span><span class="op" id="8343750">,</span>&nbsp;<span class="ident" id="8343752">s</span><span class="op" id="8343753">.</span><span class="ident" id="8343754">Scan</span><span class="op" id="8343758">(</span><span class="op" id="8343759">)</span><span class="op" id="8343760">,</span>&nbsp;<span class="ident" id="8343762">Ident</span><span class="op" id="8343767">,</span>&nbsp;<span class="string" id="8343769">&#34;b&#34;</span><span class="op" id="8343772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343775">checkTok</span><span class="op" id="8343783">(</span><span class="ident" id="8343784">t</span><span class="op" id="8343785">,</span>&nbsp;<span class="ident" id="8343787">s</span><span class="op" id="8343788">,</span>&nbsp;<span class="num" id="8343790">1</span><span class="op" id="8343791">,</span>&nbsp;<span class="ident" id="8343793">s</span><span class="op" id="8343794">.</span><span class="ident" id="8343795">Scan</span><span class="op" id="8343799">(</span><span class="op" id="8343800">)</span><span class="op" id="8343801">,</span>&nbsp;<span class="ident" id="8343803">EOF</span><span class="op" id="8343806">,</span>&nbsp;<span class="string" id="8343808">&#34;&#34;</span><span class="op" id="8343810">)</span><br>
<span class="lineno">380</span><span class="op" id="8343812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8343815">func</span>&nbsp;<span class="ident" id="8343820">TestScanNext</span><span class="op" id="8343832">(</span><span class="ident" id="8343833">t</span>&nbsp;<span class="op" id="8343835">*</span><span class="ident" id="8343836">testing</span><span class="op" id="8343843">.</span><span class="ident" id="8343844">T</span><span class="op" id="8343845">)</span>&nbsp;<span class="op" id="8343847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8343850">const</span>&nbsp;<span class="ident" id="8343856">BOM</span>&nbsp;<span class="op" id="8343860">=</span>&nbsp;<span class="string" id="8343862">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343872">BOMs</span>&nbsp;<span class="op" id="8343877">:=</span>&nbsp;<span class="builtintype" id="8343880">string</span><span class="op" id="8343886">(</span><span class="ident" id="8343887">BOM</span><span class="op" id="8343890">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8343893">s</span>&nbsp;<span class="op" id="8343895">:=</span>&nbsp;<span class="builtinfunc" id="8343898">new</span><span class="op" id="8343901">(</span><span class="ident" id="8343902">Scanner</span><span class="op" id="8343909">)</span><span class="op" id="8343910">.</span><span class="ident" id="8343911">Init</span><span class="op" id="8343915">(</span><span class="ident" id="8343916">strings</span><span class="op" id="8343923">.</span><span class="ident" id="8343924">NewReader</span><span class="op" id="8343933">(</span><span class="ident" id="8343934">BOMs</span>&nbsp;<span class="op" id="8343939">+</span>&nbsp;<span class="string" id="8343941">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="8343962">+</span>&nbsp;<span class="ident" id="8343964">BOMs</span>&nbsp;<span class="op" id="8343969">+</span>&nbsp;<span class="string" id="8343971">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="8343996">+</span>&nbsp;<span class="ident" id="8343998">BOMs</span>&nbsp;<span class="op" id="8344003">+</span>&nbsp;<span class="string" id="8344005">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="8344036">)</span><span class="op" id="8344037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344040">checkTok</span><span class="op" id="8344048">(</span><span class="ident" id="8344049">t</span><span class="op" id="8344050">,</span>&nbsp;<span class="ident" id="8344052">s</span><span class="op" id="8344053">,</span>&nbsp;<span class="num" id="8344055">1</span><span class="op" id="8344056">,</span>&nbsp;<span class="ident" id="8344058">s</span><span class="op" id="8344059">.</span><span class="ident" id="8344060">Scan</span><span class="op" id="8344064">(</span><span class="op" id="8344065">)</span><span class="op" id="8344066">,</span>&nbsp;<span class="ident" id="8344068">Ident</span><span class="op" id="8344073">,</span>&nbsp;<span class="string" id="8344075">&#34;if&#34;</span><span class="op" id="8344079">)</span>&nbsp;<span class="comment" id="8344081">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344110">checkTok</span><span class="op" id="8344118">(</span><span class="ident" id="8344119">t</span><span class="op" id="8344120">,</span>&nbsp;<span class="ident" id="8344122">s</span><span class="op" id="8344123">,</span>&nbsp;<span class="num" id="8344125">1</span><span class="op" id="8344126">,</span>&nbsp;<span class="ident" id="8344128">s</span><span class="op" id="8344129">.</span><span class="ident" id="8344130">Scan</span><span class="op" id="8344134">(</span><span class="op" id="8344135">)</span><span class="op" id="8344136">,</span>&nbsp;<span class="ident" id="8344138">Ident</span><span class="op" id="8344143">,</span>&nbsp;<span class="string" id="8344145">&#34;a&#34;</span><span class="op" id="8344148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344151">checkTok</span><span class="op" id="8344159">(</span><span class="ident" id="8344160">t</span><span class="op" id="8344161">,</span>&nbsp;<span class="ident" id="8344163">s</span><span class="op" id="8344164">,</span>&nbsp;<span class="num" id="8344166">1</span><span class="op" id="8344167">,</span>&nbsp;<span class="ident" id="8344169">s</span><span class="op" id="8344170">.</span><span class="ident" id="8344171">Scan</span><span class="op" id="8344175">(</span><span class="op" id="8344176">)</span><span class="op" id="8344177">,</span>&nbsp;<span class="string" id="8344179">&#39;=&#39;</span><span class="op" id="8344182">,</span>&nbsp;<span class="string" id="8344184">&#34;=&#34;</span><span class="op" id="8344187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344190">checkTok</span><span class="op" id="8344198">(</span><span class="ident" id="8344199">t</span><span class="op" id="8344200">,</span>&nbsp;<span class="ident" id="8344202">s</span><span class="op" id="8344203">,</span>&nbsp;<span class="num" id="8344205">0</span><span class="op" id="8344206">,</span>&nbsp;<span class="ident" id="8344208">s</span><span class="op" id="8344209">.</span><span class="ident" id="8344210">Next</span><span class="op" id="8344214">(</span><span class="op" id="8344215">)</span><span class="op" id="8344216">,</span>&nbsp;<span class="string" id="8344218">&#39;=&#39;</span><span class="op" id="8344221">,</span>&nbsp;<span class="string" id="8344223">&#34;&#34;</span><span class="op" id="8344225">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344228">checkTok</span><span class="op" id="8344236">(</span><span class="ident" id="8344237">t</span><span class="op" id="8344238">,</span>&nbsp;<span class="ident" id="8344240">s</span><span class="op" id="8344241">,</span>&nbsp;<span class="num" id="8344243">0</span><span class="op" id="8344244">,</span>&nbsp;<span class="ident" id="8344246">s</span><span class="op" id="8344247">.</span><span class="ident" id="8344248">Next</span><span class="op" id="8344252">(</span><span class="op" id="8344253">)</span><span class="op" id="8344254">,</span>&nbsp;<span class="string" id="8344256">&#39;&nbsp;&#39;</span><span class="op" id="8344259">,</span>&nbsp;<span class="string" id="8344261">&#34;&#34;</span><span class="op" id="8344263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344266">checkTok</span><span class="op" id="8344274">(</span><span class="ident" id="8344275">t</span><span class="op" id="8344276">,</span>&nbsp;<span class="ident" id="8344278">s</span><span class="op" id="8344279">,</span>&nbsp;<span class="num" id="8344281">0</span><span class="op" id="8344282">,</span>&nbsp;<span class="ident" id="8344284">s</span><span class="op" id="8344285">.</span><span class="ident" id="8344286">Next</span><span class="op" id="8344290">(</span><span class="op" id="8344291">)</span><span class="op" id="8344292">,</span>&nbsp;<span class="string" id="8344294">&#39;b&#39;</span><span class="op" id="8344297">,</span>&nbsp;<span class="string" id="8344299">&#34;&#34;</span><span class="op" id="8344301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344304">checkTok</span><span class="op" id="8344312">(</span><span class="ident" id="8344313">t</span><span class="op" id="8344314">,</span>&nbsp;<span class="ident" id="8344316">s</span><span class="op" id="8344317">,</span>&nbsp;<span class="num" id="8344319">1</span><span class="op" id="8344320">,</span>&nbsp;<span class="ident" id="8344322">s</span><span class="op" id="8344323">.</span><span class="ident" id="8344324">Scan</span><span class="op" id="8344328">(</span><span class="op" id="8344329">)</span><span class="op" id="8344330">,</span>&nbsp;<span class="ident" id="8344332">Ident</span><span class="op" id="8344337">,</span>&nbsp;<span class="string" id="8344339">&#34;cd&#34;</span><span class="op" id="8344343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344346">checkTok</span><span class="op" id="8344354">(</span><span class="ident" id="8344355">t</span><span class="op" id="8344356">,</span>&nbsp;<span class="ident" id="8344358">s</span><span class="op" id="8344359">,</span>&nbsp;<span class="num" id="8344361">1</span><span class="op" id="8344362">,</span>&nbsp;<span class="ident" id="8344364">s</span><span class="op" id="8344365">.</span><span class="ident" id="8344366">Scan</span><span class="op" id="8344370">(</span><span class="op" id="8344371">)</span><span class="op" id="8344372">,</span>&nbsp;<span class="string" id="8344374">&#39;{&#39;</span><span class="op" id="8344377">,</span>&nbsp;<span class="string" id="8344379">&#34;{&#34;</span><span class="op" id="8344382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344385">checkTok</span><span class="op" id="8344393">(</span><span class="ident" id="8344394">t</span><span class="op" id="8344395">,</span>&nbsp;<span class="ident" id="8344397">s</span><span class="op" id="8344398">,</span>&nbsp;<span class="num" id="8344400">2</span><span class="op" id="8344401">,</span>&nbsp;<span class="ident" id="8344403">s</span><span class="op" id="8344404">.</span><span class="ident" id="8344405">Scan</span><span class="op" id="8344409">(</span><span class="op" id="8344410">)</span><span class="op" id="8344411">,</span>&nbsp;<span class="ident" id="8344413">Ident</span><span class="op" id="8344418">,</span>&nbsp;<span class="string" id="8344420">&#34;a&#34;</span><span class="op" id="8344423">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344426">checkTok</span><span class="op" id="8344434">(</span><span class="ident" id="8344435">t</span><span class="op" id="8344436">,</span>&nbsp;<span class="ident" id="8344438">s</span><span class="op" id="8344439">,</span>&nbsp;<span class="num" id="8344441">2</span><span class="op" id="8344442">,</span>&nbsp;<span class="ident" id="8344444">s</span><span class="op" id="8344445">.</span><span class="ident" id="8344446">Scan</span><span class="op" id="8344450">(</span><span class="op" id="8344451">)</span><span class="op" id="8344452">,</span>&nbsp;<span class="string" id="8344454">&#39;+&#39;</span><span class="op" id="8344457">,</span>&nbsp;<span class="string" id="8344459">&#34;+&#34;</span><span class="op" id="8344462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344465">checkTok</span><span class="op" id="8344473">(</span><span class="ident" id="8344474">t</span><span class="op" id="8344475">,</span>&nbsp;<span class="ident" id="8344477">s</span><span class="op" id="8344478">,</span>&nbsp;<span class="num" id="8344480">0</span><span class="op" id="8344481">,</span>&nbsp;<span class="ident" id="8344483">s</span><span class="op" id="8344484">.</span><span class="ident" id="8344485">Next</span><span class="op" id="8344489">(</span><span class="op" id="8344490">)</span><span class="op" id="8344491">,</span>&nbsp;<span class="string" id="8344493">&#39;=&#39;</span><span class="op" id="8344496">,</span>&nbsp;<span class="string" id="8344498">&#34;&#34;</span><span class="op" id="8344500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344503">checkTok</span><span class="op" id="8344511">(</span><span class="ident" id="8344512">t</span><span class="op" id="8344513">,</span>&nbsp;<span class="ident" id="8344515">s</span><span class="op" id="8344516">,</span>&nbsp;<span class="num" id="8344518">2</span><span class="op" id="8344519">,</span>&nbsp;<span class="ident" id="8344521">s</span><span class="op" id="8344522">.</span><span class="ident" id="8344523">Scan</span><span class="op" id="8344527">(</span><span class="op" id="8344528">)</span><span class="op" id="8344529">,</span>&nbsp;<span class="ident" id="8344531">Ident</span><span class="op" id="8344536">,</span>&nbsp;<span class="string" id="8344538">&#34;c&#34;</span><span class="op" id="8344541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344544">checkTok</span><span class="op" id="8344552">(</span><span class="ident" id="8344553">t</span><span class="op" id="8344554">,</span>&nbsp;<span class="ident" id="8344556">s</span><span class="op" id="8344557">,</span>&nbsp;<span class="num" id="8344559">3</span><span class="op" id="8344560">,</span>&nbsp;<span class="ident" id="8344562">s</span><span class="op" id="8344563">.</span><span class="ident" id="8344564">Scan</span><span class="op" id="8344568">(</span><span class="op" id="8344569">)</span><span class="op" id="8344570">,</span>&nbsp;<span class="string" id="8344572">&#39;}&#39;</span><span class="op" id="8344575">,</span>&nbsp;<span class="string" id="8344577">&#34;}&#34;</span><span class="op" id="8344580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344583">checkTok</span><span class="op" id="8344591">(</span><span class="ident" id="8344592">t</span><span class="op" id="8344593">,</span>&nbsp;<span class="ident" id="8344595">s</span><span class="op" id="8344596">,</span>&nbsp;<span class="num" id="8344598">3</span><span class="op" id="8344599">,</span>&nbsp;<span class="ident" id="8344601">s</span><span class="op" id="8344602">.</span><span class="ident" id="8344603">Scan</span><span class="op" id="8344607">(</span><span class="op" id="8344608">)</span><span class="op" id="8344609">,</span>&nbsp;<span class="ident" id="8344611">BOM</span><span class="op" id="8344614">,</span>&nbsp;<span class="ident" id="8344616">BOMs</span><span class="op" id="8344620">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344623">checkTok</span><span class="op" id="8344631">(</span><span class="ident" id="8344632">t</span><span class="op" id="8344633">,</span>&nbsp;<span class="ident" id="8344635">s</span><span class="op" id="8344636">,</span>&nbsp;<span class="num" id="8344638">3</span><span class="op" id="8344639">,</span>&nbsp;<span class="ident" id="8344641">s</span><span class="op" id="8344642">.</span><span class="ident" id="8344643">Scan</span><span class="op" id="8344647">(</span><span class="op" id="8344648">)</span><span class="op" id="8344649">,</span>&nbsp;<span class="op" id="8344651">-</span><span class="num" id="8344652">1</span><span class="op" id="8344653">,</span>&nbsp;<span class="string" id="8344655">&#34;&#34;</span><span class="op" id="8344657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344660">if</span>&nbsp;<span class="ident" id="8344663">s</span><span class="op" id="8344664">.</span><span class="ident" id="8344665">ErrorCount</span>&nbsp;<span class="op" id="8344676">!=</span>&nbsp;<span class="num" id="8344679">0</span>&nbsp;<span class="op" id="8344681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344685">t</span><span class="op" id="8344686">.</span><span class="ident" id="8344687">Errorf</span><span class="op" id="8344693">(</span><span class="string" id="8344694">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8344705">,</span>&nbsp;<span class="ident" id="8344707">s</span><span class="op" id="8344708">.</span><span class="ident" id="8344709">ErrorCount</span><span class="op" id="8344719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344722">}</span><br>
<span class="lineno"></span><span class="op" id="8344724">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="8344727">func</span>&nbsp;<span class="ident" id="8344732">TestScanWhitespace</span><span class="op" id="8344750">(</span><span class="ident" id="8344751">t</span>&nbsp;<span class="op" id="8344753">*</span><span class="ident" id="8344754">testing</span><span class="op" id="8344761">.</span><span class="ident" id="8344762">T</span><span class="op" id="8344763">)</span>&nbsp;<span class="op" id="8344765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344768">var</span>&nbsp;<span class="ident" id="8344772">buf</span>&nbsp;<span class="ident" id="8344776">bytes</span><span class="op" id="8344781">.</span><span class="ident" id="8344782">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344790">var</span>&nbsp;<span class="ident" id="8344794">ws</span>&nbsp;<span class="ident" id="8344797">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8344805">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344850">for</span>&nbsp;<span class="ident" id="8344854">ch</span>&nbsp;<span class="op" id="8344857">:=</span>&nbsp;<span class="builtintype" id="8344860">byte</span><span class="op" id="8344864">(</span><span class="num" id="8344865">1</span><span class="op" id="8344866">)</span><span class="op" id="8344867">;</span>&nbsp;<span class="ident" id="8344869">ch</span>&nbsp;<span class="op" id="8344872">&lt;</span>&nbsp;<span class="string" id="8344874">&#39;&nbsp;&#39;</span><span class="op" id="8344877">;</span>&nbsp;<span class="ident" id="8344879">ch</span><span class="op" id="8344881">++</span>&nbsp;<span class="op" id="8344884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344888">buf</span><span class="op" id="8344891">.</span><span class="ident" id="8344892">WriteByte</span><span class="op" id="8344901">(</span><span class="ident" id="8344902">ch</span><span class="op" id="8344904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344908">ws</span>&nbsp;<span class="op" id="8344911">|=</span>&nbsp;<span class="num" id="8344914">1</span>&nbsp;<span class="op" id="8344916">&lt;&lt;</span>&nbsp;<span class="ident" id="8344919">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8344923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8344926">const</span>&nbsp;<span class="ident" id="8344932">orig</span>&nbsp;<span class="op" id="8344937">=</span>&nbsp;<span class="string" id="8344939">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344944">buf</span><span class="op" id="8344947">.</span><span class="ident" id="8344948">WriteByte</span><span class="op" id="8344957">(</span><span class="ident" id="8344958">orig</span><span class="op" id="8344962">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344966">s</span>&nbsp;<span class="op" id="8344968">:=</span>&nbsp;<span class="builtinfunc" id="8344971">new</span><span class="op" id="8344974">(</span><span class="ident" id="8344975">Scanner</span><span class="op" id="8344982">)</span><span class="op" id="8344983">.</span><span class="ident" id="8344984">Init</span><span class="op" id="8344988">(</span><span class="op" id="8344989">&amp;</span><span class="ident" id="8344990">buf</span><span class="op" id="8344993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8344996">s</span><span class="op" id="8344997">.</span><span class="ident" id="8344998">Mode</span>&nbsp;<span class="op" id="8345003">=</span>&nbsp;<span class="num" id="8345005">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345008">s</span><span class="op" id="8345009">.</span><span class="ident" id="8345010">Whitespace</span>&nbsp;<span class="op" id="8345021">=</span>&nbsp;<span class="ident" id="8345023">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345027">tok</span>&nbsp;<span class="op" id="8345031">:=</span>&nbsp;<span class="ident" id="8345034">s</span><span class="op" id="8345035">.</span><span class="ident" id="8345036">Scan</span><span class="op" id="8345040">(</span><span class="op" id="8345041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8345044">if</span>&nbsp;<span class="ident" id="8345047">tok</span>&nbsp;<span class="op" id="8345051">!=</span>&nbsp;<span class="ident" id="8345054">orig</span>&nbsp;<span class="op" id="8345059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345063">t</span><span class="op" id="8345064">.</span><span class="ident" id="8345065">Errorf</span><span class="op" id="8345071">(</span><span class="string" id="8345072">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8345091">,</span>&nbsp;<span class="ident" id="8345093">TokenString</span><span class="op" id="8345104">(</span><span class="ident" id="8345105">tok</span><span class="op" id="8345108">)</span><span class="op" id="8345109">,</span>&nbsp;<span class="ident" id="8345111">TokenString</span><span class="op" id="8345122">(</span><span class="ident" id="8345123">orig</span><span class="op" id="8345127">)</span><span class="op" id="8345128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8345131">}</span><br>
<span class="lineno"></span><span class="op" id="8345133">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="8345136">func</span>&nbsp;<span class="ident" id="8345141">testError</span><span class="op" id="8345150">(</span><span class="ident" id="8345151">t</span>&nbsp;<span class="op" id="8345153">*</span><span class="ident" id="8345154">testing</span><span class="op" id="8345161">.</span><span class="ident" id="8345162">T</span><span class="op" id="8345163">,</span>&nbsp;<span class="ident" id="8345165">src</span><span class="op" id="8345168">,</span>&nbsp;<span class="ident" id="8345170">pos</span><span class="op" id="8345173">,</span>&nbsp;<span class="ident" id="8345175">msg</span>&nbsp;<span class="builtintype" id="8345179">string</span><span class="op" id="8345185">,</span>&nbsp;<span class="ident" id="8345187">tok</span>&nbsp;<span class="builtintype" id="8345191">rune</span><span class="op" id="8345195">)</span>&nbsp;<span class="op" id="8345197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345200">s</span>&nbsp;<span class="op" id="8345202">:=</span>&nbsp;<span class="builtinfunc" id="8345205">new</span><span class="op" id="8345208">(</span><span class="ident" id="8345209">Scanner</span><span class="op" id="8345216">)</span><span class="op" id="8345217">.</span><span class="ident" id="8345218">Init</span><span class="op" id="8345222">(</span><span class="ident" id="8345223">strings</span><span class="op" id="8345230">.</span><span class="ident" id="8345231">NewReader</span><span class="op" id="8345240">(</span><span class="ident" id="8345241">src</span><span class="op" id="8345244">)</span><span class="op" id="8345245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345248">errorCalled</span>&nbsp;<span class="op" id="8345260">:=</span>&nbsp;<span class="builtintype" id="8345263">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345270">s</span><span class="op" id="8345271">.</span><span class="ident" id="8345272">Error</span>&nbsp;<span class="op" id="8345278">=</span>&nbsp;<span class="keyword" id="8345280">func</span><span class="op" id="8345284">(</span><span class="ident" id="8345285">s</span>&nbsp;<span class="op" id="8345287">*</span><span class="ident" id="8345288">Scanner</span><span class="op" id="8345295">,</span>&nbsp;<span class="ident" id="8345297">m</span>&nbsp;<span class="builtintype" id="8345299">string</span><span class="op" id="8345305">)</span>&nbsp;<span class="op" id="8345307">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8345311">if</span>&nbsp;<span class="op" id="8345314">!</span><span class="ident" id="8345315">errorCalled</span>&nbsp;<span class="op" id="8345327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8345332">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8345363">if</span>&nbsp;<span class="ident" id="8345366">p</span>&nbsp;<span class="op" id="8345368">:=</span>&nbsp;<span class="ident" id="8345371">s</span><span class="op" id="8345372">.</span><span class="ident" id="8345373">Pos</span><span class="op" id="8345376">(</span><span class="op" id="8345377">)</span><span class="op" id="8345378">.</span><span class="ident" id="8345379">String</span><span class="op" id="8345385">(</span><span class="op" id="8345386">)</span><span class="op" id="8345387">;</span>&nbsp;<span class="ident" id="8345389">p</span>&nbsp;<span class="op" id="8345391">!=</span>&nbsp;<span class="ident" id="8345394">pos</span>&nbsp;<span class="op" id="8345398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345404">t</span><span class="op" id="8345405">.</span><span class="ident" id="8345406">Errorf</span><span class="op" id="8345412">(</span><span class="string" id="8345413">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8345439">,</span>&nbsp;<span class="ident" id="8345441">p</span><span class="op" id="8345442">,</span>&nbsp;<span class="ident" id="8345444">pos</span><span class="op" id="8345447">,</span>&nbsp;<span class="ident" id="8345449">src</span><span class="op" id="8345452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8345457">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8345462">if</span>&nbsp;<span class="ident" id="8345465">m</span>&nbsp;<span class="op" id="8345467">!=</span>&nbsp;<span class="ident" id="8345470">msg</span>&nbsp;<span class="op" id="8345474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345480">t</span><span class="op" id="8345481">.</span><span class="ident" id="8345482">Errorf</span><span class="op" id="8345488">(</span><span class="string" id="8345489">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8345515">,</span>&nbsp;<span class="ident" id="8345517">m</span><span class="op" id="8345518">,</span>&nbsp;<span class="ident" id="8345520">msg</span><span class="op" id="8345523">,</span>&nbsp;<span class="ident" id="8345525">src</span><span class="op" id="8345528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8345533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345538">errorCalled</span>&nbsp;<span class="op" id="8345550">=</span>&nbsp;<span class="builtintype" id="8345552">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8345559">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8345562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345565">tk</span>&nbsp;<span class="op" id="8345568">:=</span>&nbsp;<span class="ident" id="8345571">s</span><span class="op" id="8345572">.</span><span class="ident" id="8345573">Scan</span><span class="op" id="8345577">(</span><span class="op" id="8345578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8345581">if</span>&nbsp;<span class="ident" id="8345584">tk</span>&nbsp;<span class="op" id="8345587">!=</span>&nbsp;<span class="ident" id="8345590">tok</span>&nbsp;<span class="op" id="8345594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345598">t</span><span class="op" id="8345599">.</span><span class="ident" id="8345600">Errorf</span><span class="op" id="8345606">(</span><span class="string" id="8345607">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8345633">,</span>&nbsp;<span class="ident" id="8345635">TokenString</span><span class="op" id="8345646">(</span><span class="ident" id="8345647">tk</span><span class="op" id="8345649">)</span><span class="op" id="8345650">,</span>&nbsp;<span class="ident" id="8345652">TokenString</span><span class="op" id="8345663">(</span><span class="ident" id="8345664">tok</span><span class="op" id="8345667">)</span><span class="op" id="8345668">,</span>&nbsp;<span class="ident" id="8345670">src</span><span class="op" id="8345673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8345676">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8345679">if</span>&nbsp;<span class="op" id="8345682">!</span><span class="ident" id="8345683">errorCalled</span>&nbsp;<span class="op" id="8345695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345699">t</span><span class="op" id="8345700">.</span><span class="ident" id="8345701">Errorf</span><span class="op" id="8345707">(</span><span class="string" id="8345708">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8345741">,</span>&nbsp;<span class="ident" id="8345743">src</span><span class="op" id="8345746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8345749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8345752">if</span>&nbsp;<span class="ident" id="8345755">s</span><span class="op" id="8345756">.</span><span class="ident" id="8345757">ErrorCount</span>&nbsp;<span class="op" id="8345768">==</span>&nbsp;<span class="num" id="8345771">0</span>&nbsp;<span class="op" id="8345773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345777">t</span><span class="op" id="8345778">.</span><span class="ident" id="8345779">Errorf</span><span class="op" id="8345785">(</span><span class="string" id="8345786">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8345815">,</span>&nbsp;<span class="ident" id="8345817">s</span><span class="op" id="8345818">.</span><span class="ident" id="8345819">ErrorCount</span><span class="op" id="8345829">,</span>&nbsp;<span class="ident" id="8345831">src</span><span class="op" id="8345834">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8345837">}</span><br>
<span class="lineno"></span><span class="op" id="8345839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8345842">func</span>&nbsp;<span class="ident" id="8345847">TestError</span><span class="op" id="8345856">(</span><span class="ident" id="8345857">t</span>&nbsp;<span class="op" id="8345859">*</span><span class="ident" id="8345860">testing</span><span class="op" id="8345867">.</span><span class="ident" id="8345868">T</span><span class="op" id="8345869">)</span>&nbsp;<span class="op" id="8345871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345874">testError</span><span class="op" id="8345883">(</span><span class="ident" id="8345884">t</span><span class="op" id="8345885">,</span>&nbsp;<span class="string" id="8345887">&#34;\x00&#34;</span><span class="op" id="8345893">,</span>&nbsp;<span class="string" id="8345895">&#34;1:1&#34;</span><span class="op" id="8345900">,</span>&nbsp;<span class="string" id="8345902">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8345925">,</span>&nbsp;<span class="num" id="8345927">0</span><span class="op" id="8345928">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8345931">testError</span><span class="op" id="8345940">(</span><span class="ident" id="8345941">t</span><span class="op" id="8345942">,</span>&nbsp;<span class="string" id="8345944">&#34;\x80&#34;</span><span class="op" id="8345950">,</span>&nbsp;<span class="string" id="8345952">&#34;1:1&#34;</span><span class="op" id="8345957">,</span>&nbsp;<span class="string" id="8345959">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8345983">,</span>&nbsp;<span class="ident" id="8345985">utf8</span><span class="op" id="8345989">.</span><span class="ident" id="8345990">RuneError</span><span class="op" id="8345999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346002">testError</span><span class="op" id="8346011">(</span><span class="ident" id="8346012">t</span><span class="op" id="8346013">,</span>&nbsp;<span class="string" id="8346015">&#34;\xff&#34;</span><span class="op" id="8346021">,</span>&nbsp;<span class="string" id="8346023">&#34;1:1&#34;</span><span class="op" id="8346028">,</span>&nbsp;<span class="string" id="8346030">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8346054">,</span>&nbsp;<span class="ident" id="8346056">utf8</span><span class="op" id="8346060">.</span><span class="ident" id="8346061">RuneError</span><span class="op" id="8346070">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346074">testError</span><span class="op" id="8346083">(</span><span class="ident" id="8346084">t</span><span class="op" id="8346085">,</span>&nbsp;<span class="string" id="8346087">&#34;a\x00&#34;</span><span class="op" id="8346094">,</span>&nbsp;<span class="string" id="8346096">&#34;1:2&#34;</span><span class="op" id="8346101">,</span>&nbsp;<span class="string" id="8346103">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8346126">,</span>&nbsp;<span class="ident" id="8346128">Ident</span><span class="op" id="8346133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346136">testError</span><span class="op" id="8346145">(</span><span class="ident" id="8346146">t</span><span class="op" id="8346147">,</span>&nbsp;<span class="string" id="8346149">&#34;ab\x80&#34;</span><span class="op" id="8346157">,</span>&nbsp;<span class="string" id="8346159">&#34;1:3&#34;</span><span class="op" id="8346164">,</span>&nbsp;<span class="string" id="8346166">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8346190">,</span>&nbsp;<span class="ident" id="8346192">Ident</span><span class="op" id="8346197">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346200">testError</span><span class="op" id="8346209">(</span><span class="ident" id="8346210">t</span><span class="op" id="8346211">,</span>&nbsp;<span class="string" id="8346213">&#34;abc\xff&#34;</span><span class="op" id="8346222">,</span>&nbsp;<span class="string" id="8346224">&#34;1:4&#34;</span><span class="op" id="8346229">,</span>&nbsp;<span class="string" id="8346231">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8346255">,</span>&nbsp;<span class="ident" id="8346257">Ident</span><span class="op" id="8346262">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346266">testError</span><span class="op" id="8346275">(</span><span class="ident" id="8346276">t</span><span class="op" id="8346277">,</span>&nbsp;<span class="string" id="8346279">`&#34;a`</span><span class="op" id="8346283">+</span><span class="string" id="8346284">&#34;\x00&#34;</span><span class="op" id="8346290">,</span>&nbsp;<span class="string" id="8346292">&#34;1:3&#34;</span><span class="op" id="8346297">,</span>&nbsp;<span class="string" id="8346299">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8346322">,</span>&nbsp;<span class="ident" id="8346324">String</span><span class="op" id="8346330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346333">testError</span><span class="op" id="8346342">(</span><span class="ident" id="8346343">t</span><span class="op" id="8346344">,</span>&nbsp;<span class="string" id="8346346">`&#34;ab`</span><span class="op" id="8346351">+</span><span class="string" id="8346352">&#34;\x80&#34;</span><span class="op" id="8346358">,</span>&nbsp;<span class="string" id="8346360">&#34;1:4&#34;</span><span class="op" id="8346365">,</span>&nbsp;<span class="string" id="8346367">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8346391">,</span>&nbsp;<span class="ident" id="8346393">String</span><span class="op" id="8346399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346402">testError</span><span class="op" id="8346411">(</span><span class="ident" id="8346412">t</span><span class="op" id="8346413">,</span>&nbsp;<span class="string" id="8346415">`&#34;abc`</span><span class="op" id="8346421">+</span><span class="string" id="8346422">&#34;\xff&#34;</span><span class="op" id="8346428">,</span>&nbsp;<span class="string" id="8346430">&#34;1:5&#34;</span><span class="op" id="8346435">,</span>&nbsp;<span class="string" id="8346437">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8346461">,</span>&nbsp;<span class="ident" id="8346463">String</span><span class="op" id="8346469">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346473">testError</span><span class="op" id="8346482">(</span><span class="ident" id="8346483">t</span><span class="op" id="8346484">,</span>&nbsp;<span class="string" id="8346486">&#34;`a&#34;</span><span class="op" id="8346490">+</span><span class="string" id="8346491">&#34;\x00&#34;</span><span class="op" id="8346497">,</span>&nbsp;<span class="string" id="8346499">&#34;1:3&#34;</span><span class="op" id="8346504">,</span>&nbsp;<span class="string" id="8346506">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8346529">,</span>&nbsp;<span class="ident" id="8346531">String</span><span class="op" id="8346537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346540">testError</span><span class="op" id="8346549">(</span><span class="ident" id="8346550">t</span><span class="op" id="8346551">,</span>&nbsp;<span class="string" id="8346553">&#34;`ab&#34;</span><span class="op" id="8346558">+</span><span class="string" id="8346559">&#34;\x80&#34;</span><span class="op" id="8346565">,</span>&nbsp;<span class="string" id="8346567">&#34;1:4&#34;</span><span class="op" id="8346572">,</span>&nbsp;<span class="string" id="8346574">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8346598">,</span>&nbsp;<span class="ident" id="8346600">String</span><span class="op" id="8346606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346609">testError</span><span class="op" id="8346618">(</span><span class="ident" id="8346619">t</span><span class="op" id="8346620">,</span>&nbsp;<span class="string" id="8346622">&#34;`abc&#34;</span><span class="op" id="8346628">+</span><span class="string" id="8346629">&#34;\xff&#34;</span><span class="op" id="8346635">,</span>&nbsp;<span class="string" id="8346637">&#34;1:5&#34;</span><span class="op" id="8346642">,</span>&nbsp;<span class="string" id="8346644">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8346668">,</span>&nbsp;<span class="ident" id="8346670">String</span><span class="op" id="8346676">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346680">testError</span><span class="op" id="8346689">(</span><span class="ident" id="8346690">t</span><span class="op" id="8346691">,</span>&nbsp;<span class="string" id="8346693">`&#39;\&#34;&#39;`</span><span class="op" id="8346699">,</span>&nbsp;<span class="string" id="8346701">&#34;1:3&#34;</span><span class="op" id="8346706">,</span>&nbsp;<span class="string" id="8346708">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="8346729">,</span>&nbsp;<span class="ident" id="8346731">Char</span><span class="op" id="8346735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346738">testError</span><span class="op" id="8346747">(</span><span class="ident" id="8346748">t</span><span class="op" id="8346749">,</span>&nbsp;<span class="string" id="8346751">`&#34;\&#39;&#34;`</span><span class="op" id="8346757">,</span>&nbsp;<span class="string" id="8346759">&#34;1:3&#34;</span><span class="op" id="8346764">,</span>&nbsp;<span class="string" id="8346766">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="8346787">,</span>&nbsp;<span class="ident" id="8346789">String</span><span class="op" id="8346795">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346799">testError</span><span class="op" id="8346808">(</span><span class="ident" id="8346809">t</span><span class="op" id="8346810">,</span>&nbsp;<span class="string" id="8346812">`01238`</span><span class="op" id="8346819">,</span>&nbsp;<span class="string" id="8346821">&#34;1:6&#34;</span><span class="op" id="8346826">,</span>&nbsp;<span class="string" id="8346828">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8346850">,</span>&nbsp;<span class="ident" id="8346852">Int</span><span class="op" id="8346855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346858">testError</span><span class="op" id="8346867">(</span><span class="ident" id="8346868">t</span><span class="op" id="8346869">,</span>&nbsp;<span class="string" id="8346871">`01238123`</span><span class="op" id="8346881">,</span>&nbsp;<span class="string" id="8346883">&#34;1:9&#34;</span><span class="op" id="8346888">,</span>&nbsp;<span class="string" id="8346890">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8346912">,</span>&nbsp;<span class="ident" id="8346914">Int</span><span class="op" id="8346917">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346920">testError</span><span class="op" id="8346929">(</span><span class="ident" id="8346930">t</span><span class="op" id="8346931">,</span>&nbsp;<span class="string" id="8346933">`0x`</span><span class="op" id="8346937">,</span>&nbsp;<span class="string" id="8346939">&#34;1:3&#34;</span><span class="op" id="8346944">,</span>&nbsp;<span class="string" id="8346946">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8346974">,</span>&nbsp;<span class="ident" id="8346976">Int</span><span class="op" id="8346979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8346982">testError</span><span class="op" id="8346991">(</span><span class="ident" id="8346992">t</span><span class="op" id="8346993">,</span>&nbsp;<span class="string" id="8346995">`0xg`</span><span class="op" id="8347000">,</span>&nbsp;<span class="string" id="8347002">&#34;1:3&#34;</span><span class="op" id="8347007">,</span>&nbsp;<span class="string" id="8347009">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8347037">,</span>&nbsp;<span class="ident" id="8347039">Int</span><span class="op" id="8347042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347045">testError</span><span class="op" id="8347054">(</span><span class="ident" id="8347055">t</span><span class="op" id="8347056">,</span>&nbsp;<span class="string" id="8347058">`&#39;aa&#39;`</span><span class="op" id="8347064">,</span>&nbsp;<span class="string" id="8347066">&#34;1:4&#34;</span><span class="op" id="8347071">,</span>&nbsp;<span class="string" id="8347073">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="8347095">,</span>&nbsp;<span class="ident" id="8347097">Char</span><span class="op" id="8347101">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347105">testError</span><span class="op" id="8347114">(</span><span class="ident" id="8347115">t</span><span class="op" id="8347116">,</span>&nbsp;<span class="string" id="8347118">`&#39;`</span><span class="op" id="8347121">,</span>&nbsp;<span class="string" id="8347123">&#34;1:2&#34;</span><span class="op" id="8347128">,</span>&nbsp;<span class="string" id="8347130">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8347154">,</span>&nbsp;<span class="ident" id="8347156">Char</span><span class="op" id="8347160">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347163">testError</span><span class="op" id="8347172">(</span><span class="ident" id="8347173">t</span><span class="op" id="8347174">,</span>&nbsp;<span class="string" id="8347176">`&#39;`</span><span class="op" id="8347179">+</span><span class="string" id="8347180">&#34;\n&#34;</span><span class="op" id="8347184">,</span>&nbsp;<span class="string" id="8347186">&#34;1:2&#34;</span><span class="op" id="8347191">,</span>&nbsp;<span class="string" id="8347193">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8347217">,</span>&nbsp;<span class="ident" id="8347219">Char</span><span class="op" id="8347223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347226">testError</span><span class="op" id="8347235">(</span><span class="ident" id="8347236">t</span><span class="op" id="8347237">,</span>&nbsp;<span class="string" id="8347239">`&#34;abc`</span><span class="op" id="8347245">,</span>&nbsp;<span class="string" id="8347247">&#34;1:5&#34;</span><span class="op" id="8347252">,</span>&nbsp;<span class="string" id="8347254">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8347278">,</span>&nbsp;<span class="ident" id="8347280">String</span><span class="op" id="8347286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347289">testError</span><span class="op" id="8347298">(</span><span class="ident" id="8347299">t</span><span class="op" id="8347300">,</span>&nbsp;<span class="string" id="8347302">`&#34;abc`</span><span class="op" id="8347308">+</span><span class="string" id="8347309">&#34;\n&#34;</span><span class="op" id="8347313">,</span>&nbsp;<span class="string" id="8347315">&#34;1:5&#34;</span><span class="op" id="8347320">,</span>&nbsp;<span class="string" id="8347322">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8347346">,</span>&nbsp;<span class="ident" id="8347348">String</span><span class="op" id="8347354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347357">testError</span><span class="op" id="8347366">(</span><span class="ident" id="8347367">t</span><span class="op" id="8347368">,</span>&nbsp;<span class="string" id="8347370">&#34;`abc\n&#34;</span><span class="op" id="8347378">,</span>&nbsp;<span class="string" id="8347380">&#34;2:1&#34;</span><span class="op" id="8347385">,</span>&nbsp;<span class="string" id="8347387">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8347411">,</span>&nbsp;<span class="ident" id="8347413">String</span><span class="op" id="8347419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347422">testError</span><span class="op" id="8347431">(</span><span class="ident" id="8347432">t</span><span class="op" id="8347433">,</span>&nbsp;<span class="string" id="8347435">`/*/`</span><span class="op" id="8347440">,</span>&nbsp;<span class="string" id="8347442">&#34;1:4&#34;</span><span class="op" id="8347447">,</span>&nbsp;<span class="string" id="8347449">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8347473">,</span>&nbsp;<span class="ident" id="8347475">EOF</span><span class="op" id="8347478">)</span><br>
<span class="lineno">485</span><span class="op" id="8347480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8347483">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="8347541">type</span>&nbsp;<span class="ident" id="8347546">errReader</span>&nbsp;<span class="keyword" id="8347556">struct</span><span class="op" id="8347562">{</span><span class="op" id="8347563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="8347566">func</span>&nbsp;<span class="op" id="8347571">(</span><span class="ident" id="8347572">errReader</span><span class="op" id="8347581">)</span>&nbsp;<span class="ident" id="8347583">Read</span><span class="op" id="8347587">(</span><span class="ident" id="8347588">b</span>&nbsp;<span class="op" id="8347590">[</span><span class="op" id="8347591">]</span><span class="builtintype" id="8347592">byte</span><span class="op" id="8347596">)</span>&nbsp;<span class="op" id="8347598">(</span><span class="builtintype" id="8347599">int</span><span class="op" id="8347602">,</span>&nbsp;<span class="builtintype" id="8347604">error</span><span class="op" id="8347609">)</span>&nbsp;<span class="op" id="8347611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8347614">return</span>&nbsp;<span class="num" id="8347621">0</span><span class="op" id="8347622">,</span>&nbsp;<span class="ident" id="8347624">io</span><span class="op" id="8347626">.</span><span class="ident" id="8347627">ErrNoProgress</span>&nbsp;<span class="comment" id="8347641">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="8347674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8347677">func</span>&nbsp;<span class="ident" id="8347682">TestIOError</span><span class="op" id="8347693">(</span><span class="ident" id="8347694">t</span>&nbsp;<span class="op" id="8347696">*</span><span class="ident" id="8347697">testing</span><span class="op" id="8347704">.</span><span class="ident" id="8347705">T</span><span class="op" id="8347706">)</span>&nbsp;<span class="op" id="8347708">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347711">s</span>&nbsp;<span class="op" id="8347713">:=</span>&nbsp;<span class="builtinfunc" id="8347716">new</span><span class="op" id="8347719">(</span><span class="ident" id="8347720">Scanner</span><span class="op" id="8347727">)</span><span class="op" id="8347728">.</span><span class="ident" id="8347729">Init</span><span class="op" id="8347733">(</span><span class="ident" id="8347734">errReader</span><span class="op" id="8347743">{</span><span class="op" id="8347744">}</span><span class="op" id="8347745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347748">errorCalled</span>&nbsp;<span class="op" id="8347760">:=</span>&nbsp;<span class="builtintype" id="8347763">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347770">s</span><span class="op" id="8347771">.</span><span class="ident" id="8347772">Error</span>&nbsp;<span class="op" id="8347778">=</span>&nbsp;<span class="keyword" id="8347780">func</span><span class="op" id="8347784">(</span><span class="ident" id="8347785">s</span>&nbsp;<span class="op" id="8347787">*</span><span class="ident" id="8347788">Scanner</span><span class="op" id="8347795">,</span>&nbsp;<span class="ident" id="8347797">msg</span>&nbsp;<span class="builtintype" id="8347801">string</span><span class="op" id="8347807">)</span>&nbsp;<span class="op" id="8347809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8347813">if</span>&nbsp;<span class="op" id="8347816">!</span><span class="ident" id="8347817">errorCalled</span>&nbsp;<span class="op" id="8347829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8347834">if</span>&nbsp;<span class="ident" id="8347837">want</span>&nbsp;<span class="op" id="8347842">:=</span>&nbsp;<span class="ident" id="8347845">io</span><span class="op" id="8347847">.</span><span class="ident" id="8347848">ErrNoProgress</span><span class="op" id="8347861">.</span><span class="ident" id="8347862">Error</span><span class="op" id="8347867">(</span><span class="op" id="8347868">)</span><span class="op" id="8347869">;</span>&nbsp;<span class="ident" id="8347871">msg</span>&nbsp;<span class="op" id="8347875">!=</span>&nbsp;<span class="ident" id="8347878">want</span>&nbsp;<span class="op" id="8347883">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347889">t</span><span class="op" id="8347890">.</span><span class="ident" id="8347891">Errorf</span><span class="op" id="8347897">(</span><span class="string" id="8347898">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8347917">,</span>&nbsp;<span class="ident" id="8347919">msg</span><span class="op" id="8347922">,</span>&nbsp;<span class="ident" id="8347924">want</span><span class="op" id="8347928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347938">errorCalled</span>&nbsp;<span class="op" id="8347950">=</span>&nbsp;<span class="builtintype" id="8347952">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8347962">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8347965">tok</span>&nbsp;<span class="op" id="8347969">:=</span>&nbsp;<span class="ident" id="8347972">s</span><span class="op" id="8347973">.</span><span class="ident" id="8347974">Scan</span><span class="op" id="8347978">(</span><span class="op" id="8347979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8347982">if</span>&nbsp;<span class="ident" id="8347985">tok</span>&nbsp;<span class="op" id="8347989">!=</span>&nbsp;<span class="ident" id="8347992">EOF</span>&nbsp;<span class="op" id="8347996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348000">t</span><span class="op" id="8348001">.</span><span class="ident" id="8348002">Errorf</span><span class="op" id="8348008">(</span><span class="string" id="8348009">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="8348029">,</span>&nbsp;<span class="ident" id="8348031">TokenString</span><span class="op" id="8348042">(</span><span class="ident" id="8348043">tok</span><span class="op" id="8348046">)</span><span class="op" id="8348047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8348053">if</span>&nbsp;<span class="op" id="8348056">!</span><span class="ident" id="8348057">errorCalled</span>&nbsp;<span class="op" id="8348069">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348073">t</span><span class="op" id="8348074">.</span><span class="ident" id="8348075">Errorf</span><span class="op" id="8348081">(</span><span class="string" id="8348082">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="8348108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348111">}</span><br>
<span class="lineno"></span><span class="op" id="8348113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8348116">func</span>&nbsp;<span class="ident" id="8348121">checkPos</span><span class="op" id="8348129">(</span><span class="ident" id="8348130">t</span>&nbsp;<span class="op" id="8348132">*</span><span class="ident" id="8348133">testing</span><span class="op" id="8348140">.</span><span class="ident" id="8348141">T</span><span class="op" id="8348142">,</span>&nbsp;<span class="ident" id="8348144">got</span><span class="op" id="8348147">,</span>&nbsp;<span class="ident" id="8348149">want</span>&nbsp;<span class="ident" id="8348154">Position</span><span class="op" id="8348162">)</span>&nbsp;<span class="op" id="8348164">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8348167">if</span>&nbsp;<span class="ident" id="8348170">got</span><span class="op" id="8348173">.</span><span class="ident" id="8348174">Offset</span>&nbsp;<span class="op" id="8348181">!=</span>&nbsp;<span class="ident" id="8348184">want</span><span class="op" id="8348188">.</span><span class="ident" id="8348189">Offset</span>&nbsp;<span class="op" id="8348196">||</span>&nbsp;<span class="ident" id="8348199">got</span><span class="op" id="8348202">.</span><span class="ident" id="8348203">Line</span>&nbsp;<span class="op" id="8348208">!=</span>&nbsp;<span class="ident" id="8348211">want</span><span class="op" id="8348215">.</span><span class="ident" id="8348216">Line</span>&nbsp;<span class="op" id="8348221">||</span>&nbsp;<span class="ident" id="8348224">got</span><span class="op" id="8348227">.</span><span class="ident" id="8348228">Column</span>&nbsp;<span class="op" id="8348235">!=</span>&nbsp;<span class="ident" id="8348238">want</span><span class="op" id="8348242">.</span><span class="ident" id="8348243">Column</span>&nbsp;<span class="op" id="8348250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348254">t</span><span class="op" id="8348255">.</span><span class="ident" id="8348256">Errorf</span><span class="op" id="8348262">(</span><span class="string" id="8348263">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="8348319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348324">got</span><span class="op" id="8348327">.</span><span class="ident" id="8348328">Offset</span><span class="op" id="8348334">,</span>&nbsp;<span class="ident" id="8348336">got</span><span class="op" id="8348339">.</span><span class="ident" id="8348340">Line</span><span class="op" id="8348344">,</span>&nbsp;<span class="ident" id="8348346">got</span><span class="op" id="8348349">.</span><span class="ident" id="8348350">Column</span><span class="op" id="8348356">,</span>&nbsp;<span class="ident" id="8348358">want</span><span class="op" id="8348362">.</span><span class="ident" id="8348363">Offset</span><span class="op" id="8348369">,</span>&nbsp;<span class="ident" id="8348371">want</span><span class="op" id="8348375">.</span><span class="ident" id="8348376">Line</span><span class="op" id="8348380">,</span>&nbsp;<span class="ident" id="8348382">want</span><span class="op" id="8348386">.</span><span class="ident" id="8348387">Column</span><span class="op" id="8348393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348396">}</span><br>
<span class="lineno"></span><span class="op" id="8348398">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="8348401">func</span>&nbsp;<span class="ident" id="8348406">checkNextPos</span><span class="op" id="8348418">(</span><span class="ident" id="8348419">t</span>&nbsp;<span class="op" id="8348421">*</span><span class="ident" id="8348422">testing</span><span class="op" id="8348429">.</span><span class="ident" id="8348430">T</span><span class="op" id="8348431">,</span>&nbsp;<span class="ident" id="8348433">s</span>&nbsp;<span class="op" id="8348435">*</span><span class="ident" id="8348436">Scanner</span><span class="op" id="8348443">,</span>&nbsp;<span class="ident" id="8348445">offset</span><span class="op" id="8348451">,</span>&nbsp;<span class="ident" id="8348453">line</span><span class="op" id="8348457">,</span>&nbsp;<span class="ident" id="8348459">column</span>&nbsp;<span class="builtintype" id="8348466">int</span><span class="op" id="8348469">,</span>&nbsp;<span class="ident" id="8348471">char</span>&nbsp;<span class="builtintype" id="8348476">rune</span><span class="op" id="8348480">)</span>&nbsp;<span class="op" id="8348482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8348485">if</span>&nbsp;<span class="ident" id="8348488">ch</span>&nbsp;<span class="op" id="8348491">:=</span>&nbsp;<span class="ident" id="8348494">s</span><span class="op" id="8348495">.</span><span class="ident" id="8348496">Next</span><span class="op" id="8348500">(</span><span class="op" id="8348501">)</span><span class="op" id="8348502">;</span>&nbsp;<span class="ident" id="8348504">ch</span>&nbsp;<span class="op" id="8348507">!=</span>&nbsp;<span class="ident" id="8348510">char</span>&nbsp;<span class="op" id="8348515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348519">t</span><span class="op" id="8348520">.</span><span class="ident" id="8348521">Errorf</span><span class="op" id="8348527">(</span><span class="string" id="8348528">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8348546">,</span>&nbsp;<span class="ident" id="8348548">TokenString</span><span class="op" id="8348559">(</span><span class="ident" id="8348560">ch</span><span class="op" id="8348562">)</span><span class="op" id="8348563">,</span>&nbsp;<span class="ident" id="8348565">TokenString</span><span class="op" id="8348576">(</span><span class="ident" id="8348577">char</span><span class="op" id="8348581">)</span><span class="op" id="8348582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8348585">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348588">want</span>&nbsp;<span class="op" id="8348593">:=</span>&nbsp;<span class="ident" id="8348596">Position</span><span class="op" id="8348604">{</span><span class="ident" id="8348605">Offset</span><span class="op" id="8348611">:</span>&nbsp;<span class="ident" id="8348613">offset</span><span class="op" id="8348619">,</span>&nbsp;<span class="ident" id="8348621">Line</span><span class="op" id="8348625">:</span>&nbsp;<span class="ident" id="8348627">line</span><span class="op" id="8348631">,</span>&nbsp;<span class="ident" id="8348633">Column</span><span class="op" id="8348639">:</span>&nbsp;<span class="ident" id="8348641">column</span><span class="op" id="8348647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348650">checkPos</span><span class="op" id="8348658">(</span><span class="ident" id="8348659">t</span><span class="op" id="8348660">,</span>&nbsp;<span class="ident" id="8348662">s</span><span class="op" id="8348663">.</span><span class="ident" id="8348664">Pos</span><span class="op" id="8348667">(</span><span class="op" id="8348668">)</span><span class="op" id="8348669">,</span>&nbsp;<span class="ident" id="8348671">want</span><span class="op" id="8348675">)</span><br>
<span class="lineno"></span><span class="op" id="8348677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8348680">func</span>&nbsp;<span class="ident" id="8348685">checkScanPos</span><span class="op" id="8348697">(</span><span class="ident" id="8348698">t</span>&nbsp;<span class="op" id="8348700">*</span><span class="ident" id="8348701">testing</span><span class="op" id="8348708">.</span><span class="ident" id="8348709">T</span><span class="op" id="8348710">,</span>&nbsp;<span class="ident" id="8348712">s</span>&nbsp;<span class="op" id="8348714">*</span><span class="ident" id="8348715">Scanner</span><span class="op" id="8348722">,</span>&nbsp;<span class="ident" id="8348724">offset</span><span class="op" id="8348730">,</span>&nbsp;<span class="ident" id="8348732">line</span><span class="op" id="8348736">,</span>&nbsp;<span class="ident" id="8348738">column</span>&nbsp;<span class="builtintype" id="8348745">int</span><span class="op" id="8348748">,</span>&nbsp;<span class="ident" id="8348750">char</span>&nbsp;<span class="builtintype" id="8348755">rune</span><span class="op" id="8348759">)</span>&nbsp;<span class="op" id="8348761">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348764">want</span>&nbsp;<span class="op" id="8348769">:=</span>&nbsp;<span class="ident" id="8348772">Position</span><span class="op" id="8348780">{</span><span class="ident" id="8348781">Offset</span><span class="op" id="8348787">:</span>&nbsp;<span class="ident" id="8348789">offset</span><span class="op" id="8348795">,</span>&nbsp;<span class="ident" id="8348797">Line</span><span class="op" id="8348801">:</span>&nbsp;<span class="ident" id="8348803">line</span><span class="op" id="8348807">,</span>&nbsp;<span class="ident" id="8348809">Column</span><span class="op" id="8348815">:</span>&nbsp;<span class="ident" id="8348817">column</span><span class="op" id="8348823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348826">checkPos</span><span class="op" id="8348834">(</span><span class="ident" id="8348835">t</span><span class="op" id="8348836">,</span>&nbsp;<span class="ident" id="8348838">s</span><span class="op" id="8348839">.</span><span class="ident" id="8348840">Pos</span><span class="op" id="8348843">(</span><span class="op" id="8348844">)</span><span class="op" id="8348845">,</span>&nbsp;<span class="ident" id="8348847">want</span><span class="op" id="8348851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8348854">if</span>&nbsp;<span class="ident" id="8348857">ch</span>&nbsp;<span class="op" id="8348860">:=</span>&nbsp;<span class="ident" id="8348863">s</span><span class="op" id="8348864">.</span><span class="ident" id="8348865">Scan</span><span class="op" id="8348869">(</span><span class="op" id="8348870">)</span><span class="op" id="8348871">;</span>&nbsp;<span class="ident" id="8348873">ch</span>&nbsp;<span class="op" id="8348876">!=</span>&nbsp;<span class="ident" id="8348879">char</span>&nbsp;<span class="op" id="8348884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348888">t</span><span class="op" id="8348889">.</span><span class="ident" id="8348890">Errorf</span><span class="op" id="8348896">(</span><span class="string" id="8348897">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8348915">,</span>&nbsp;<span class="ident" id="8348917">TokenString</span><span class="op" id="8348928">(</span><span class="ident" id="8348929">ch</span><span class="op" id="8348931">)</span><span class="op" id="8348932">,</span>&nbsp;<span class="ident" id="8348934">TokenString</span><span class="op" id="8348945">(</span><span class="ident" id="8348946">char</span><span class="op" id="8348950">)</span><span class="op" id="8348951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8348955">if</span>&nbsp;<span class="builtintype" id="8348958">string</span><span class="op" id="8348964">(</span><span class="ident" id="8348965">ch</span><span class="op" id="8348967">)</span>&nbsp;<span class="op" id="8348969">!=</span>&nbsp;<span class="ident" id="8348972">s</span><span class="op" id="8348973">.</span><span class="ident" id="8348974">TokenText</span><span class="op" id="8348983">(</span><span class="op" id="8348984">)</span>&nbsp;<span class="op" id="8348986">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8348991">t</span><span class="op" id="8348992">.</span><span class="ident" id="8348993">Errorf</span><span class="op" id="8348999">(</span><span class="string" id="8349000">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8349019">,</span>&nbsp;<span class="ident" id="8349021">s</span><span class="op" id="8349022">.</span><span class="ident" id="8349023">TokenText</span><span class="op" id="8349032">(</span><span class="op" id="8349033">)</span><span class="op" id="8349034">,</span>&nbsp;<span class="builtintype" id="8349036">string</span><span class="op" id="8349042">(</span><span class="ident" id="8349043">ch</span><span class="op" id="8349045">)</span><span class="op" id="8349046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349056">checkPos</span><span class="op" id="8349064">(</span><span class="ident" id="8349065">t</span><span class="op" id="8349066">,</span>&nbsp;<span class="ident" id="8349068">s</span><span class="op" id="8349069">.</span><span class="ident" id="8349070">Position</span><span class="op" id="8349078">,</span>&nbsp;<span class="ident" id="8349080">want</span><span class="op" id="8349084">)</span><br>
<span class="lineno"></span><span class="op" id="8349086">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="8349089">func</span>&nbsp;<span class="ident" id="8349094">TestPos</span><span class="op" id="8349101">(</span><span class="ident" id="8349102">t</span>&nbsp;<span class="op" id="8349104">*</span><span class="ident" id="8349105">testing</span><span class="op" id="8349112">.</span><span class="ident" id="8349113">T</span><span class="op" id="8349114">)</span>&nbsp;<span class="op" id="8349116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8349119">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349149">s</span>&nbsp;<span class="op" id="8349151">:=</span>&nbsp;<span class="builtinfunc" id="8349154">new</span><span class="op" id="8349157">(</span><span class="ident" id="8349158">Scanner</span><span class="op" id="8349165">)</span><span class="op" id="8349166">.</span><span class="ident" id="8349167">Init</span><span class="op" id="8349171">(</span><span class="ident" id="8349172">strings</span><span class="op" id="8349179">.</span><span class="ident" id="8349180">NewReader</span><span class="op" id="8349189">(</span><span class="string" id="8349190">&#34;&#34;</span><span class="op" id="8349192">)</span><span class="op" id="8349193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349196">checkPos</span><span class="op" id="8349204">(</span><span class="ident" id="8349205">t</span><span class="op" id="8349206">,</span>&nbsp;<span class="ident" id="8349208">s</span><span class="op" id="8349209">.</span><span class="ident" id="8349210">Pos</span><span class="op" id="8349213">(</span><span class="op" id="8349214">)</span><span class="op" id="8349215">,</span>&nbsp;<span class="ident" id="8349217">Position</span><span class="op" id="8349225">{</span><span class="ident" id="8349226">Offset</span><span class="op" id="8349232">:</span>&nbsp;<span class="num" id="8349234">0</span><span class="op" id="8349235">,</span>&nbsp;<span class="ident" id="8349237">Line</span><span class="op" id="8349241">:</span>&nbsp;<span class="num" id="8349243">1</span><span class="op" id="8349244">,</span>&nbsp;<span class="ident" id="8349246">Column</span><span class="op" id="8349252">:</span>&nbsp;<span class="num" id="8349254">1</span><span class="op" id="8349255">}</span><span class="op" id="8349256">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349259">s</span><span class="op" id="8349260">.</span><span class="ident" id="8349261">Peek</span><span class="op" id="8349265">(</span><span class="op" id="8349266">)</span>&nbsp;<span class="comment" id="8349268">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349305">checkPos</span><span class="op" id="8349313">(</span><span class="ident" id="8349314">t</span><span class="op" id="8349315">,</span>&nbsp;<span class="ident" id="8349317">s</span><span class="op" id="8349318">.</span><span class="ident" id="8349319">Pos</span><span class="op" id="8349322">(</span><span class="op" id="8349323">)</span><span class="op" id="8349324">,</span>&nbsp;<span class="ident" id="8349326">Position</span><span class="op" id="8349334">{</span><span class="ident" id="8349335">Offset</span><span class="op" id="8349341">:</span>&nbsp;<span class="num" id="8349343">0</span><span class="op" id="8349344">,</span>&nbsp;<span class="ident" id="8349346">Line</span><span class="op" id="8349350">:</span>&nbsp;<span class="num" id="8349352">1</span><span class="op" id="8349353">,</span>&nbsp;<span class="ident" id="8349355">Column</span><span class="op" id="8349361">:</span>&nbsp;<span class="num" id="8349363">1</span><span class="op" id="8349364">}</span><span class="op" id="8349365">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8349369">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349413">s</span>&nbsp;<span class="op" id="8349415">=</span>&nbsp;<span class="builtinfunc" id="8349417">new</span><span class="op" id="8349420">(</span><span class="ident" id="8349421">Scanner</span><span class="op" id="8349428">)</span><span class="op" id="8349429">.</span><span class="ident" id="8349430">Init</span><span class="op" id="8349434">(</span><span class="ident" id="8349435">strings</span><span class="op" id="8349442">.</span><span class="ident" id="8349443">NewReader</span><span class="op" id="8349452">(</span><span class="string" id="8349453">&#34;\n&#34;</span><span class="op" id="8349457">)</span><span class="op" id="8349458">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349461">checkPos</span><span class="op" id="8349469">(</span><span class="ident" id="8349470">t</span><span class="op" id="8349471">,</span>&nbsp;<span class="ident" id="8349473">s</span><span class="op" id="8349474">.</span><span class="ident" id="8349475">Pos</span><span class="op" id="8349478">(</span><span class="op" id="8349479">)</span><span class="op" id="8349480">,</span>&nbsp;<span class="ident" id="8349482">Position</span><span class="op" id="8349490">{</span><span class="ident" id="8349491">Offset</span><span class="op" id="8349497">:</span>&nbsp;<span class="num" id="8349499">0</span><span class="op" id="8349500">,</span>&nbsp;<span class="ident" id="8349502">Line</span><span class="op" id="8349506">:</span>&nbsp;<span class="num" id="8349508">1</span><span class="op" id="8349509">,</span>&nbsp;<span class="ident" id="8349511">Column</span><span class="op" id="8349517">:</span>&nbsp;<span class="num" id="8349519">1</span><span class="op" id="8349520">}</span><span class="op" id="8349521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349524">checkNextPos</span><span class="op" id="8349536">(</span><span class="ident" id="8349537">t</span><span class="op" id="8349538">,</span>&nbsp;<span class="ident" id="8349540">s</span><span class="op" id="8349541">,</span>&nbsp;<span class="num" id="8349543">1</span><span class="op" id="8349544">,</span>&nbsp;<span class="num" id="8349546">2</span><span class="op" id="8349547">,</span>&nbsp;<span class="num" id="8349549">1</span><span class="op" id="8349550">,</span>&nbsp;<span class="string" id="8349552">&#39;\n&#39;</span><span class="op" id="8349556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8349559">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8349597">for</span>&nbsp;<span class="ident" id="8349601">i</span>&nbsp;<span class="op" id="8349603">:=</span>&nbsp;<span class="num" id="8349606">10</span><span class="op" id="8349608">;</span>&nbsp;<span class="ident" id="8349610">i</span>&nbsp;<span class="op" id="8349612">&gt;</span>&nbsp;<span class="num" id="8349614">0</span><span class="op" id="8349615">;</span>&nbsp;<span class="ident" id="8349617">i</span><span class="op" id="8349618">--</span>&nbsp;<span class="op" id="8349621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349625">checkScanPos</span><span class="op" id="8349637">(</span><span class="ident" id="8349638">t</span><span class="op" id="8349639">,</span>&nbsp;<span class="ident" id="8349641">s</span><span class="op" id="8349642">,</span>&nbsp;<span class="num" id="8349644">1</span><span class="op" id="8349645">,</span>&nbsp;<span class="num" id="8349647">2</span><span class="op" id="8349648">,</span>&nbsp;<span class="num" id="8349650">1</span><span class="op" id="8349651">,</span>&nbsp;<span class="ident" id="8349653">EOF</span><span class="op" id="8349656">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8349662">if</span>&nbsp;<span class="ident" id="8349665">s</span><span class="op" id="8349666">.</span><span class="ident" id="8349667">ErrorCount</span>&nbsp;<span class="op" id="8349678">!=</span>&nbsp;<span class="num" id="8349681">0</span>&nbsp;<span class="op" id="8349683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349687">t</span><span class="op" id="8349688">.</span><span class="ident" id="8349689">Errorf</span><span class="op" id="8349695">(</span><span class="string" id="8349696">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8349707">,</span>&nbsp;<span class="ident" id="8349709">s</span><span class="op" id="8349710">.</span><span class="ident" id="8349711">ErrorCount</span><span class="op" id="8349721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8349724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8349728">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349781">s</span>&nbsp;<span class="op" id="8349783">=</span>&nbsp;<span class="builtinfunc" id="8349785">new</span><span class="op" id="8349788">(</span><span class="ident" id="8349789">Scanner</span><span class="op" id="8349796">)</span><span class="op" id="8349797">.</span><span class="ident" id="8349798">Init</span><span class="op" id="8349802">(</span><span class="ident" id="8349803">strings</span><span class="op" id="8349810">.</span><span class="ident" id="8349811">NewReader</span><span class="op" id="8349820">(</span><span class="string" id="8349821">&#34;本&#34;</span><span class="op" id="8349826">)</span><span class="op" id="8349827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349830">checkPos</span><span class="op" id="8349838">(</span><span class="ident" id="8349839">t</span><span class="op" id="8349840">,</span>&nbsp;<span class="ident" id="8349842">s</span><span class="op" id="8349843">.</span><span class="ident" id="8349844">Pos</span><span class="op" id="8349847">(</span><span class="op" id="8349848">)</span><span class="op" id="8349849">,</span>&nbsp;<span class="ident" id="8349851">Position</span><span class="op" id="8349859">{</span><span class="ident" id="8349860">Offset</span><span class="op" id="8349866">:</span>&nbsp;<span class="num" id="8349868">0</span><span class="op" id="8349869">,</span>&nbsp;<span class="ident" id="8349871">Line</span><span class="op" id="8349875">:</span>&nbsp;<span class="num" id="8349877">1</span><span class="op" id="8349878">,</span>&nbsp;<span class="ident" id="8349880">Column</span><span class="op" id="8349886">:</span>&nbsp;<span class="num" id="8349888">1</span><span class="op" id="8349889">}</span><span class="op" id="8349890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349893">checkNextPos</span><span class="op" id="8349905">(</span><span class="ident" id="8349906">t</span><span class="op" id="8349907">,</span>&nbsp;<span class="ident" id="8349909">s</span><span class="op" id="8349910">,</span>&nbsp;<span class="num" id="8349912">3</span><span class="op" id="8349913">,</span>&nbsp;<span class="num" id="8349915">1</span><span class="op" id="8349916">,</span>&nbsp;<span class="num" id="8349918">2</span><span class="op" id="8349919">,</span>&nbsp;<span class="string" id="8349921">&#39;本&#39;</span><span class="op" id="8349926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8349929">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8349967">for</span>&nbsp;<span class="ident" id="8349971">i</span>&nbsp;<span class="op" id="8349973">:=</span>&nbsp;<span class="num" id="8349976">10</span><span class="op" id="8349978">;</span>&nbsp;<span class="ident" id="8349980">i</span>&nbsp;<span class="op" id="8349982">&gt;</span>&nbsp;<span class="num" id="8349984">0</span><span class="op" id="8349985">;</span>&nbsp;<span class="ident" id="8349987">i</span><span class="op" id="8349988">--</span>&nbsp;<span class="op" id="8349991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8349995">checkScanPos</span><span class="op" id="8350007">(</span><span class="ident" id="8350008">t</span><span class="op" id="8350009">,</span>&nbsp;<span class="ident" id="8350011">s</span><span class="op" id="8350012">,</span>&nbsp;<span class="num" id="8350014">3</span><span class="op" id="8350015">,</span>&nbsp;<span class="num" id="8350017">1</span><span class="op" id="8350018">,</span>&nbsp;<span class="num" id="8350020">2</span><span class="op" id="8350021">,</span>&nbsp;<span class="ident" id="8350023">EOF</span><span class="op" id="8350026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8350032">if</span>&nbsp;<span class="ident" id="8350035">s</span><span class="op" id="8350036">.</span><span class="ident" id="8350037">ErrorCount</span>&nbsp;<span class="op" id="8350048">!=</span>&nbsp;<span class="num" id="8350051">0</span>&nbsp;<span class="op" id="8350053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350057">t</span><span class="op" id="8350058">.</span><span class="ident" id="8350059">Errorf</span><span class="op" id="8350065">(</span><span class="string" id="8350066">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8350077">,</span>&nbsp;<span class="ident" id="8350079">s</span><span class="op" id="8350080">.</span><span class="ident" id="8350081">ErrorCount</span><span class="op" id="8350091">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8350098">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350131">s</span>&nbsp;<span class="op" id="8350133">=</span>&nbsp;<span class="builtinfunc" id="8350135">new</span><span class="op" id="8350138">(</span><span class="ident" id="8350139">Scanner</span><span class="op" id="8350146">)</span><span class="op" id="8350147">.</span><span class="ident" id="8350148">Init</span><span class="op" id="8350152">(</span><span class="ident" id="8350153">strings</span><span class="op" id="8350160">.</span><span class="ident" id="8350161">NewReader</span><span class="op" id="8350170">(</span><span class="string" id="8350171">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="8350198">)</span><span class="op" id="8350199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350202">checkNextPos</span><span class="op" id="8350214">(</span><span class="ident" id="8350215">t</span><span class="op" id="8350216">,</span>&nbsp;<span class="ident" id="8350218">s</span><span class="op" id="8350219">,</span>&nbsp;<span class="num" id="8350221">1</span><span class="op" id="8350222">,</span>&nbsp;<span class="num" id="8350224">1</span><span class="op" id="8350225">,</span>&nbsp;<span class="num" id="8350227">2</span><span class="op" id="8350228">,</span>&nbsp;<span class="string" id="8350230">&#39;&nbsp;&#39;</span><span class="op" id="8350233">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350236">s</span><span class="op" id="8350237">.</span><span class="ident" id="8350238">Peek</span><span class="op" id="8350242">(</span><span class="op" id="8350243">)</span>&nbsp;<span class="comment" id="8350245">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350282">checkNextPos</span><span class="op" id="8350294">(</span><span class="ident" id="8350295">t</span><span class="op" id="8350296">,</span>&nbsp;<span class="ident" id="8350298">s</span><span class="op" id="8350299">,</span>&nbsp;<span class="num" id="8350301">2</span><span class="op" id="8350302">,</span>&nbsp;<span class="num" id="8350304">1</span><span class="op" id="8350305">,</span>&nbsp;<span class="num" id="8350307">3</span><span class="op" id="8350308">,</span>&nbsp;<span class="string" id="8350310">&#39;&nbsp;&#39;</span><span class="op" id="8350313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350316">checkNextPos</span><span class="op" id="8350328">(</span><span class="ident" id="8350329">t</span><span class="op" id="8350330">,</span>&nbsp;<span class="ident" id="8350332">s</span><span class="op" id="8350333">,</span>&nbsp;<span class="num" id="8350335">3</span><span class="op" id="8350336">,</span>&nbsp;<span class="num" id="8350338">1</span><span class="op" id="8350339">,</span>&nbsp;<span class="num" id="8350341">4</span><span class="op" id="8350342">,</span>&nbsp;<span class="string" id="8350344">&#39;f&#39;</span><span class="op" id="8350347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350350">checkNextPos</span><span class="op" id="8350362">(</span><span class="ident" id="8350363">t</span><span class="op" id="8350364">,</span>&nbsp;<span class="ident" id="8350366">s</span><span class="op" id="8350367">,</span>&nbsp;<span class="num" id="8350369">4</span><span class="op" id="8350370">,</span>&nbsp;<span class="num" id="8350372">1</span><span class="op" id="8350373">,</span>&nbsp;<span class="num" id="8350375">5</span><span class="op" id="8350376">,</span>&nbsp;<span class="string" id="8350378">&#39;o&#39;</span><span class="op" id="8350381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350384">checkNextPos</span><span class="op" id="8350396">(</span><span class="ident" id="8350397">t</span><span class="op" id="8350398">,</span>&nbsp;<span class="ident" id="8350400">s</span><span class="op" id="8350401">,</span>&nbsp;<span class="num" id="8350403">5</span><span class="op" id="8350404">,</span>&nbsp;<span class="num" id="8350406">1</span><span class="op" id="8350407">,</span>&nbsp;<span class="num" id="8350409">6</span><span class="op" id="8350410">,</span>&nbsp;<span class="string" id="8350412">&#39;o&#39;</span><span class="op" id="8350415">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350418">checkNextPos</span><span class="op" id="8350430">(</span><span class="ident" id="8350431">t</span><span class="op" id="8350432">,</span>&nbsp;<span class="ident" id="8350434">s</span><span class="op" id="8350435">,</span>&nbsp;<span class="num" id="8350437">8</span><span class="op" id="8350438">,</span>&nbsp;<span class="num" id="8350440">1</span><span class="op" id="8350441">,</span>&nbsp;<span class="num" id="8350443">7</span><span class="op" id="8350444">,</span>&nbsp;<span class="string" id="8350446">&#39;६&#39;</span><span class="op" id="8350451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350454">checkNextPos</span><span class="op" id="8350466">(</span><span class="ident" id="8350467">t</span><span class="op" id="8350468">,</span>&nbsp;<span class="ident" id="8350470">s</span><span class="op" id="8350471">,</span>&nbsp;<span class="num" id="8350473">11</span><span class="op" id="8350475">,</span>&nbsp;<span class="num" id="8350477">1</span><span class="op" id="8350478">,</span>&nbsp;<span class="num" id="8350480">8</span><span class="op" id="8350481">,</span>&nbsp;<span class="string" id="8350483">&#39;४&#39;</span><span class="op" id="8350488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350491">checkNextPos</span><span class="op" id="8350503">(</span><span class="ident" id="8350504">t</span><span class="op" id="8350505">,</span>&nbsp;<span class="ident" id="8350507">s</span><span class="op" id="8350508">,</span>&nbsp;<span class="num" id="8350510">12</span><span class="op" id="8350512">,</span>&nbsp;<span class="num" id="8350514">1</span><span class="op" id="8350515">,</span>&nbsp;<span class="num" id="8350517">9</span><span class="op" id="8350518">,</span>&nbsp;<span class="string" id="8350520">&#39;&nbsp;&#39;</span><span class="op" id="8350523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350526">checkNextPos</span><span class="op" id="8350538">(</span><span class="ident" id="8350539">t</span><span class="op" id="8350540">,</span>&nbsp;<span class="ident" id="8350542">s</span><span class="op" id="8350543">,</span>&nbsp;<span class="num" id="8350545">13</span><span class="op" id="8350547">,</span>&nbsp;<span class="num" id="8350549">1</span><span class="op" id="8350550">,</span>&nbsp;<span class="num" id="8350552">10</span><span class="op" id="8350554">,</span>&nbsp;<span class="string" id="8350556">&#39;&nbsp;&#39;</span><span class="op" id="8350559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350562">checkNextPos</span><span class="op" id="8350574">(</span><span class="ident" id="8350575">t</span><span class="op" id="8350576">,</span>&nbsp;<span class="ident" id="8350578">s</span><span class="op" id="8350579">,</span>&nbsp;<span class="num" id="8350581">14</span><span class="op" id="8350583">,</span>&nbsp;<span class="num" id="8350585">2</span><span class="op" id="8350586">,</span>&nbsp;<span class="num" id="8350588">1</span><span class="op" id="8350589">,</span>&nbsp;<span class="string" id="8350591">&#39;\n&#39;</span><span class="op" id="8350595">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350598">checkNextPos</span><span class="op" id="8350610">(</span><span class="ident" id="8350611">t</span><span class="op" id="8350612">,</span>&nbsp;<span class="ident" id="8350614">s</span><span class="op" id="8350615">,</span>&nbsp;<span class="num" id="8350617">15</span><span class="op" id="8350619">,</span>&nbsp;<span class="num" id="8350621">3</span><span class="op" id="8350622">,</span>&nbsp;<span class="num" id="8350624">1</span><span class="op" id="8350625">,</span>&nbsp;<span class="string" id="8350627">&#39;\n&#39;</span><span class="op" id="8350631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350634">checkNextPos</span><span class="op" id="8350646">(</span><span class="ident" id="8350647">t</span><span class="op" id="8350648">,</span>&nbsp;<span class="ident" id="8350650">s</span><span class="op" id="8350651">,</span>&nbsp;<span class="num" id="8350653">18</span><span class="op" id="8350655">,</span>&nbsp;<span class="num" id="8350657">3</span><span class="op" id="8350658">,</span>&nbsp;<span class="num" id="8350660">2</span><span class="op" id="8350661">,</span>&nbsp;<span class="string" id="8350663">&#39;本&#39;</span><span class="op" id="8350668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350671">checkNextPos</span><span class="op" id="8350683">(</span><span class="ident" id="8350684">t</span><span class="op" id="8350685">,</span>&nbsp;<span class="ident" id="8350687">s</span><span class="op" id="8350688">,</span>&nbsp;<span class="num" id="8350690">21</span><span class="op" id="8350692">,</span>&nbsp;<span class="num" id="8350694">3</span><span class="op" id="8350695">,</span>&nbsp;<span class="num" id="8350697">3</span><span class="op" id="8350698">,</span>&nbsp;<span class="string" id="8350700">&#39;語&#39;</span><span class="op" id="8350705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350708">checkNextPos</span><span class="op" id="8350720">(</span><span class="ident" id="8350721">t</span><span class="op" id="8350722">,</span>&nbsp;<span class="ident" id="8350724">s</span><span class="op" id="8350725">,</span>&nbsp;<span class="num" id="8350727">22</span><span class="op" id="8350729">,</span>&nbsp;<span class="num" id="8350731">4</span><span class="op" id="8350732">,</span>&nbsp;<span class="num" id="8350734">1</span><span class="op" id="8350735">,</span>&nbsp;<span class="string" id="8350737">&#39;\n&#39;</span><span class="op" id="8350741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8350744">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8350782">for</span>&nbsp;<span class="ident" id="8350786">i</span>&nbsp;<span class="op" id="8350788">:=</span>&nbsp;<span class="num" id="8350791">10</span><span class="op" id="8350793">;</span>&nbsp;<span class="ident" id="8350795">i</span>&nbsp;<span class="op" id="8350797">&gt;</span>&nbsp;<span class="num" id="8350799">0</span><span class="op" id="8350800">;</span>&nbsp;<span class="ident" id="8350802">i</span><span class="op" id="8350803">--</span>&nbsp;<span class="op" id="8350806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350810">checkScanPos</span><span class="op" id="8350822">(</span><span class="ident" id="8350823">t</span><span class="op" id="8350824">,</span>&nbsp;<span class="ident" id="8350826">s</span><span class="op" id="8350827">,</span>&nbsp;<span class="num" id="8350829">22</span><span class="op" id="8350831">,</span>&nbsp;<span class="num" id="8350833">4</span><span class="op" id="8350834">,</span>&nbsp;<span class="num" id="8350836">1</span><span class="op" id="8350837">,</span>&nbsp;<span class="ident" id="8350839">EOF</span><span class="op" id="8350842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8350848">if</span>&nbsp;<span class="ident" id="8350851">s</span><span class="op" id="8350852">.</span><span class="ident" id="8350853">ErrorCount</span>&nbsp;<span class="op" id="8350864">!=</span>&nbsp;<span class="num" id="8350867">0</span>&nbsp;<span class="op" id="8350869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350873">t</span><span class="op" id="8350874">.</span><span class="ident" id="8350875">Errorf</span><span class="op" id="8350881">(</span><span class="string" id="8350882">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8350893">,</span>&nbsp;<span class="ident" id="8350895">s</span><span class="op" id="8350896">.</span><span class="ident" id="8350897">ErrorCount</span><span class="op" id="8350907">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8350910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8350914">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8350947">s</span>&nbsp;<span class="op" id="8350949">=</span>&nbsp;<span class="builtinfunc" id="8350951">new</span><span class="op" id="8350954">(</span><span class="ident" id="8350955">Scanner</span><span class="op" id="8350962">)</span><span class="op" id="8350963">.</span><span class="ident" id="8350964">Init</span><span class="op" id="8350968">(</span><span class="ident" id="8350969">strings</span><span class="op" id="8350976">.</span><span class="ident" id="8350977">NewReader</span><span class="op" id="8350986">(</span><span class="string" id="8350987">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="8351005">)</span><span class="op" id="8351006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351009">s</span><span class="op" id="8351010">.</span><span class="ident" id="8351011">Mode</span>&nbsp;<span class="op" id="8351016">=</span>&nbsp;<span class="num" id="8351018">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351021">s</span><span class="op" id="8351022">.</span><span class="ident" id="8351023">Whitespace</span>&nbsp;<span class="op" id="8351034">=</span>&nbsp;<span class="num" id="8351036">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351039">checkScanPos</span><span class="op" id="8351051">(</span><span class="ident" id="8351052">t</span><span class="op" id="8351053">,</span>&nbsp;<span class="ident" id="8351055">s</span><span class="op" id="8351056">,</span>&nbsp;<span class="num" id="8351058">0</span><span class="op" id="8351059">,</span>&nbsp;<span class="num" id="8351061">1</span><span class="op" id="8351062">,</span>&nbsp;<span class="num" id="8351064">1</span><span class="op" id="8351065">,</span>&nbsp;<span class="string" id="8351067">&#39;a&#39;</span><span class="op" id="8351070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351073">s</span><span class="op" id="8351074">.</span><span class="ident" id="8351075">Peek</span><span class="op" id="8351079">(</span><span class="op" id="8351080">)</span>&nbsp;<span class="comment" id="8351082">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351119">checkScanPos</span><span class="op" id="8351131">(</span><span class="ident" id="8351132">t</span><span class="op" id="8351133">,</span>&nbsp;<span class="ident" id="8351135">s</span><span class="op" id="8351136">,</span>&nbsp;<span class="num" id="8351138">1</span><span class="op" id="8351139">,</span>&nbsp;<span class="num" id="8351141">1</span><span class="op" id="8351142">,</span>&nbsp;<span class="num" id="8351144">2</span><span class="op" id="8351145">,</span>&nbsp;<span class="string" id="8351147">&#39;b&#39;</span><span class="op" id="8351150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351153">checkScanPos</span><span class="op" id="8351165">(</span><span class="ident" id="8351166">t</span><span class="op" id="8351167">,</span>&nbsp;<span class="ident" id="8351169">s</span><span class="op" id="8351170">,</span>&nbsp;<span class="num" id="8351172">2</span><span class="op" id="8351173">,</span>&nbsp;<span class="num" id="8351175">1</span><span class="op" id="8351176">,</span>&nbsp;<span class="num" id="8351178">3</span><span class="op" id="8351179">,</span>&nbsp;<span class="string" id="8351181">&#39;c&#39;</span><span class="op" id="8351184">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351187">checkScanPos</span><span class="op" id="8351199">(</span><span class="ident" id="8351200">t</span><span class="op" id="8351201">,</span>&nbsp;<span class="ident" id="8351203">s</span><span class="op" id="8351204">,</span>&nbsp;<span class="num" id="8351206">3</span><span class="op" id="8351207">,</span>&nbsp;<span class="num" id="8351209">1</span><span class="op" id="8351210">,</span>&nbsp;<span class="num" id="8351212">4</span><span class="op" id="8351213">,</span>&nbsp;<span class="string" id="8351215">&#39;\n&#39;</span><span class="op" id="8351219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351222">checkScanPos</span><span class="op" id="8351234">(</span><span class="ident" id="8351235">t</span><span class="op" id="8351236">,</span>&nbsp;<span class="ident" id="8351238">s</span><span class="op" id="8351239">,</span>&nbsp;<span class="num" id="8351241">4</span><span class="op" id="8351242">,</span>&nbsp;<span class="num" id="8351244">2</span><span class="op" id="8351245">,</span>&nbsp;<span class="num" id="8351247">1</span><span class="op" id="8351248">,</span>&nbsp;<span class="string" id="8351250">&#39;本&#39;</span><span class="op" id="8351255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351258">checkScanPos</span><span class="op" id="8351270">(</span><span class="ident" id="8351271">t</span><span class="op" id="8351272">,</span>&nbsp;<span class="ident" id="8351274">s</span><span class="op" id="8351275">,</span>&nbsp;<span class="num" id="8351277">7</span><span class="op" id="8351278">,</span>&nbsp;<span class="num" id="8351280">2</span><span class="op" id="8351281">,</span>&nbsp;<span class="num" id="8351283">2</span><span class="op" id="8351284">,</span>&nbsp;<span class="string" id="8351286">&#39;語&#39;</span><span class="op" id="8351291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351294">checkScanPos</span><span class="op" id="8351306">(</span><span class="ident" id="8351307">t</span><span class="op" id="8351308">,</span>&nbsp;<span class="ident" id="8351310">s</span><span class="op" id="8351311">,</span>&nbsp;<span class="num" id="8351313">10</span><span class="op" id="8351315">,</span>&nbsp;<span class="num" id="8351317">2</span><span class="op" id="8351318">,</span>&nbsp;<span class="num" id="8351320">3</span><span class="op" id="8351321">,</span>&nbsp;<span class="string" id="8351323">&#39;\n&#39;</span><span class="op" id="8351327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351330">checkScanPos</span><span class="op" id="8351342">(</span><span class="ident" id="8351343">t</span><span class="op" id="8351344">,</span>&nbsp;<span class="ident" id="8351346">s</span><span class="op" id="8351347">,</span>&nbsp;<span class="num" id="8351349">11</span><span class="op" id="8351351">,</span>&nbsp;<span class="num" id="8351353">3</span><span class="op" id="8351354">,</span>&nbsp;<span class="num" id="8351356">1</span><span class="op" id="8351357">,</span>&nbsp;<span class="string" id="8351359">&#39;\n&#39;</span><span class="op" id="8351363">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351366">checkScanPos</span><span class="op" id="8351378">(</span><span class="ident" id="8351379">t</span><span class="op" id="8351380">,</span>&nbsp;<span class="ident" id="8351382">s</span><span class="op" id="8351383">,</span>&nbsp;<span class="num" id="8351385">12</span><span class="op" id="8351387">,</span>&nbsp;<span class="num" id="8351389">4</span><span class="op" id="8351390">,</span>&nbsp;<span class="num" id="8351392">1</span><span class="op" id="8351393">,</span>&nbsp;<span class="string" id="8351395">&#39;x&#39;</span><span class="op" id="8351398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8351401">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8351439">for</span>&nbsp;<span class="ident" id="8351443">i</span>&nbsp;<span class="op" id="8351445">:=</span>&nbsp;<span class="num" id="8351448">10</span><span class="op" id="8351450">;</span>&nbsp;<span class="ident" id="8351452">i</span>&nbsp;<span class="op" id="8351454">&gt;</span>&nbsp;<span class="num" id="8351456">0</span><span class="op" id="8351457">;</span>&nbsp;<span class="ident" id="8351459">i</span><span class="op" id="8351460">--</span>&nbsp;<span class="op" id="8351463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351467">checkScanPos</span><span class="op" id="8351479">(</span><span class="ident" id="8351480">t</span><span class="op" id="8351481">,</span>&nbsp;<span class="ident" id="8351483">s</span><span class="op" id="8351484">,</span>&nbsp;<span class="num" id="8351486">13</span><span class="op" id="8351488">,</span>&nbsp;<span class="num" id="8351490">4</span><span class="op" id="8351491">,</span>&nbsp;<span class="num" id="8351493">2</span><span class="op" id="8351494">,</span>&nbsp;<span class="ident" id="8351496">EOF</span><span class="op" id="8351499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8351502">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8351505">if</span>&nbsp;<span class="ident" id="8351508">s</span><span class="op" id="8351509">.</span><span class="ident" id="8351510">ErrorCount</span>&nbsp;<span class="op" id="8351521">!=</span>&nbsp;<span class="num" id="8351524">0</span>&nbsp;<span class="op" id="8351526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8351530">t</span><span class="op" id="8351531">.</span><span class="ident" id="8351532">Errorf</span><span class="op" id="8351538">(</span><span class="string" id="8351539">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8351550">,</span>&nbsp;<span class="ident" id="8351552">s</span><span class="op" id="8351553">.</span><span class="ident" id="8351554">ErrorCount</span><span class="op" id="8351564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8351567">}</span><br>
<span class="lineno"></span><span class="op" id="8351569">}</span>
</div>
</body>
</html>
