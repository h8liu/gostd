<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4387823">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4387882">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4387937">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="4387991">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4388042">package</span>&nbsp;<span class="ident" id="4388050">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4388055">import</span>&nbsp;<span class="op" id="4388062">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4388065">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4388073">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="4388083">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4388086">var</span>&nbsp;<span class="ident" id="4388090">decArrayHelper</span>&nbsp;<span class="op" id="4388105">=</span>&nbsp;<span class="keyword" id="4388107">map</span><span class="op" id="4388110">[</span><span class="ident" id="4388111">reflect</span><span class="op" id="4388118">.</span><span class="ident" id="4388119">Kind</span><span class="op" id="4388123">]</span><span class="ident" id="4388124">decHelper</span><span class="op" id="4388133">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388136">reflect</span><span class="op" id="4388143">.</span><span class="ident" id="4388144">Bool</span><span class="op" id="4388148">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388156">decBoolArray</span><span class="op" id="4388168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388171">reflect</span><span class="op" id="4388178">.</span><span class="ident" id="4388179">Complex64</span><span class="op" id="4388188">:</span>&nbsp;&nbsp;<span class="ident" id="4388191">decComplex64Array</span><span class="op" id="4388208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388211">reflect</span><span class="op" id="4388218">.</span><span class="ident" id="4388219">Complex128</span><span class="op" id="4388229">:</span>&nbsp;<span class="ident" id="4388231">decComplex128Array</span><span class="op" id="4388249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388252">reflect</span><span class="op" id="4388259">.</span><span class="ident" id="4388260">Float32</span><span class="op" id="4388267">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388272">decFloat32Array</span><span class="op" id="4388287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388290">reflect</span><span class="op" id="4388297">.</span><span class="ident" id="4388298">Float64</span><span class="op" id="4388305">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388310">decFloat64Array</span><span class="op" id="4388325">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388328">reflect</span><span class="op" id="4388335">.</span><span class="ident" id="4388336">Int</span><span class="op" id="4388339">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388348">decIntArray</span><span class="op" id="4388359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388362">reflect</span><span class="op" id="4388369">.</span><span class="ident" id="4388370">Int16</span><span class="op" id="4388375">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388382">decInt16Array</span><span class="op" id="4388395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388398">reflect</span><span class="op" id="4388405">.</span><span class="ident" id="4388406">Int32</span><span class="op" id="4388411">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388418">decInt32Array</span><span class="op" id="4388431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388434">reflect</span><span class="op" id="4388441">.</span><span class="ident" id="4388442">Int64</span><span class="op" id="4388447">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388454">decInt64Array</span><span class="op" id="4388467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388470">reflect</span><span class="op" id="4388477">.</span><span class="ident" id="4388478">Int8</span><span class="op" id="4388482">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388490">decInt8Array</span><span class="op" id="4388502">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388505">reflect</span><span class="op" id="4388512">.</span><span class="ident" id="4388513">String</span><span class="op" id="4388519">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388525">decStringArray</span><span class="op" id="4388539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388542">reflect</span><span class="op" id="4388549">.</span><span class="ident" id="4388550">Uint</span><span class="op" id="4388554">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388562">decUintArray</span><span class="op" id="4388574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388577">reflect</span><span class="op" id="4388584">.</span><span class="ident" id="4388585">Uint16</span><span class="op" id="4388591">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388597">decUint16Array</span><span class="op" id="4388611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388614">reflect</span><span class="op" id="4388621">.</span><span class="ident" id="4388622">Uint32</span><span class="op" id="4388628">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388634">decUint32Array</span><span class="op" id="4388648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388651">reflect</span><span class="op" id="4388658">.</span><span class="ident" id="4388659">Uint64</span><span class="op" id="4388665">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388671">decUint64Array</span><span class="op" id="4388685">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388688">reflect</span><span class="op" id="4388695">.</span><span class="ident" id="4388696">Uintptr</span><span class="op" id="4388703">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388708">decUintptrArray</span><span class="op" id="4388723">,</span><br>
<span class="lineno"></span><span class="op" id="4388725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4388728">var</span>&nbsp;<span class="ident" id="4388732">decSliceHelper</span>&nbsp;<span class="op" id="4388747">=</span>&nbsp;<span class="keyword" id="4388749">map</span><span class="op" id="4388752">[</span><span class="ident" id="4388753">reflect</span><span class="op" id="4388760">.</span><span class="ident" id="4388761">Kind</span><span class="op" id="4388765">]</span><span class="ident" id="4388766">decHelper</span><span class="op" id="4388775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388778">reflect</span><span class="op" id="4388785">.</span><span class="ident" id="4388786">Bool</span><span class="op" id="4388790">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388798">decBoolSlice</span><span class="op" id="4388810">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388813">reflect</span><span class="op" id="4388820">.</span><span class="ident" id="4388821">Complex64</span><span class="op" id="4388830">:</span>&nbsp;&nbsp;<span class="ident" id="4388833">decComplex64Slice</span><span class="op" id="4388850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388853">reflect</span><span class="op" id="4388860">.</span><span class="ident" id="4388861">Complex128</span><span class="op" id="4388871">:</span>&nbsp;<span class="ident" id="4388873">decComplex128Slice</span><span class="op" id="4388891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388894">reflect</span><span class="op" id="4388901">.</span><span class="ident" id="4388902">Float32</span><span class="op" id="4388909">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388914">decFloat32Slice</span><span class="op" id="4388929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388932">reflect</span><span class="op" id="4388939">.</span><span class="ident" id="4388940">Float64</span><span class="op" id="4388947">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388952">decFloat64Slice</span><span class="op" id="4388967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4388970">reflect</span><span class="op" id="4388977">.</span><span class="ident" id="4388978">Int</span><span class="op" id="4388981">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4388990">decIntSlice</span><span class="op" id="4389001">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389004">reflect</span><span class="op" id="4389011">.</span><span class="ident" id="4389012">Int16</span><span class="op" id="4389017">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389024">decInt16Slice</span><span class="op" id="4389037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389040">reflect</span><span class="op" id="4389047">.</span><span class="ident" id="4389048">Int32</span><span class="op" id="4389053">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389060">decInt32Slice</span><span class="op" id="4389073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389076">reflect</span><span class="op" id="4389083">.</span><span class="ident" id="4389084">Int64</span><span class="op" id="4389089">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389096">decInt64Slice</span><span class="op" id="4389109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389112">reflect</span><span class="op" id="4389119">.</span><span class="ident" id="4389120">Int8</span><span class="op" id="4389124">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389132">decInt8Slice</span><span class="op" id="4389144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389147">reflect</span><span class="op" id="4389154">.</span><span class="ident" id="4389155">String</span><span class="op" id="4389161">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389167">decStringSlice</span><span class="op" id="4389181">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389184">reflect</span><span class="op" id="4389191">.</span><span class="ident" id="4389192">Uint</span><span class="op" id="4389196">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389204">decUintSlice</span><span class="op" id="4389216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389219">reflect</span><span class="op" id="4389226">.</span><span class="ident" id="4389227">Uint16</span><span class="op" id="4389233">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389239">decUint16Slice</span><span class="op" id="4389253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389256">reflect</span><span class="op" id="4389263">.</span><span class="ident" id="4389264">Uint32</span><span class="op" id="4389270">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389276">decUint32Slice</span><span class="op" id="4389290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389293">reflect</span><span class="op" id="4389300">.</span><span class="ident" id="4389301">Uint64</span><span class="op" id="4389307">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389313">decUint64Slice</span><span class="op" id="4389327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389330">reflect</span><span class="op" id="4389337">.</span><span class="ident" id="4389338">Uintptr</span><span class="op" id="4389345">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4389350">decUintptrSlice</span><span class="op" id="4389365">,</span><br>
<span class="lineno">50</span><span class="op" id="4389367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4389370">func</span>&nbsp;<span class="ident" id="4389375">decBoolArray</span><span class="op" id="4389387">(</span><span class="ident" id="4389388">state</span>&nbsp;<span class="op" id="4389394">*</span><span class="ident" id="4389395">decoderState</span><span class="op" id="4389407">,</span>&nbsp;<span class="ident" id="4389409">v</span>&nbsp;<span class="ident" id="4389411">reflect</span><span class="op" id="4389418">.</span><span class="ident" id="4389419">Value</span><span class="op" id="4389424">,</span>&nbsp;<span class="ident" id="4389426">length</span>&nbsp;<span class="builtintype" id="4389433">int</span><span class="op" id="4389436">,</span>&nbsp;<span class="ident" id="4389438">ovfl</span>&nbsp;<span class="builtintype" id="4389443">error</span><span class="op" id="4389448">)</span>&nbsp;<span class="builtintype" id="4389450">bool</span>&nbsp;<span class="op" id="4389455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4389458">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389499">if</span>&nbsp;<span class="op" id="4389502">!</span><span class="ident" id="4389503">v</span><span class="op" id="4389504">.</span><span class="ident" id="4389505">CanAddr</span><span class="op" id="4389512">(</span><span class="op" id="4389513">)</span>&nbsp;<span class="op" id="4389515">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389519">return</span>&nbsp;<span class="builtintype" id="4389526">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4389533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389536">return</span>&nbsp;<span class="ident" id="4389543">decBoolSlice</span><span class="op" id="4389555">(</span><span class="ident" id="4389556">state</span><span class="op" id="4389561">,</span>&nbsp;<span class="ident" id="4389563">v</span><span class="op" id="4389564">.</span><span class="ident" id="4389565">Slice</span><span class="op" id="4389570">(</span><span class="num" id="4389571">0</span><span class="op" id="4389572">,</span>&nbsp;<span class="ident" id="4389574">v</span><span class="op" id="4389575">.</span><span class="ident" id="4389576">Len</span><span class="op" id="4389579">(</span><span class="op" id="4389580">)</span><span class="op" id="4389581">)</span><span class="op" id="4389582">,</span>&nbsp;<span class="ident" id="4389584">length</span><span class="op" id="4389590">,</span>&nbsp;<span class="ident" id="4389592">ovfl</span><span class="op" id="4389596">)</span><br>
<span class="lineno"></span><span class="op" id="4389598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4389601">func</span>&nbsp;<span class="ident" id="4389606">decBoolSlice</span><span class="op" id="4389618">(</span><span class="ident" id="4389619">state</span>&nbsp;<span class="op" id="4389625">*</span><span class="ident" id="4389626">decoderState</span><span class="op" id="4389638">,</span>&nbsp;<span class="ident" id="4389640">v</span>&nbsp;<span class="ident" id="4389642">reflect</span><span class="op" id="4389649">.</span><span class="ident" id="4389650">Value</span><span class="op" id="4389655">,</span>&nbsp;<span class="ident" id="4389657">length</span>&nbsp;<span class="builtintype" id="4389664">int</span><span class="op" id="4389667">,</span>&nbsp;<span class="ident" id="4389669">ovfl</span>&nbsp;<span class="builtintype" id="4389674">error</span><span class="op" id="4389679">)</span>&nbsp;<span class="builtintype" id="4389681">bool</span>&nbsp;<span class="op" id="4389686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389689">slice</span><span class="op" id="4389694">,</span>&nbsp;<span class="ident" id="4389696">ok</span>&nbsp;<span class="op" id="4389699">:=</span>&nbsp;<span class="ident" id="4389702">v</span><span class="op" id="4389703">.</span><span class="ident" id="4389704">Interface</span><span class="op" id="4389713">(</span><span class="op" id="4389714">)</span><span class="op" id="4389715">.</span><span class="op" id="4389716">(</span><span class="op" id="4389717">[</span><span class="op" id="4389718">]</span><span class="builtintype" id="4389719">bool</span><span class="op" id="4389723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389726">if</span>&nbsp;<span class="op" id="4389729">!</span><span class="ident" id="4389730">ok</span>&nbsp;<span class="op" id="4389733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4389737">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389812">return</span>&nbsp;<span class="builtintype" id="4389819">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4389826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389829">for</span>&nbsp;<span class="ident" id="4389833">i</span>&nbsp;<span class="op" id="4389835">:=</span>&nbsp;<span class="num" id="4389838">0</span><span class="op" id="4389839">;</span>&nbsp;<span class="ident" id="4389841">i</span>&nbsp;<span class="op" id="4389843">&lt;</span>&nbsp;<span class="ident" id="4389845">length</span><span class="op" id="4389851">;</span>&nbsp;<span class="ident" id="4389853">i</span><span class="op" id="4389854">++</span>&nbsp;<span class="op" id="4389857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4389861">if</span>&nbsp;<span class="ident" id="4389864">state</span><span class="op" id="4389869">.</span><span class="ident" id="4389870">b</span><span class="op" id="4389871">.</span><span class="ident" id="4389872">Len</span><span class="op" id="4389875">(</span><span class="op" id="4389876">)</span>&nbsp;<span class="op" id="4389878">==</span>&nbsp;<span class="num" id="4389881">0</span>&nbsp;<span class="op" id="4389883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389888">errorf</span><span class="op" id="4389894">(</span><span class="string" id="4389895">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4389966">,</span>&nbsp;<span class="ident" id="4389968">length</span><span class="op" id="4389974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4389978">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4389982">slice</span><span class="op" id="4389987">[</span><span class="ident" id="4389988">i</span><span class="op" id="4389989">]</span>&nbsp;<span class="op" id="4389991">=</span>&nbsp;<span class="ident" id="4389993">state</span><span class="op" id="4389998">.</span><span class="ident" id="4389999">decodeUint</span><span class="op" id="4390009">(</span><span class="op" id="4390010">)</span>&nbsp;<span class="op" id="4390012">!=</span>&nbsp;<span class="num" id="4390015">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390021">return</span>&nbsp;<span class="builtintype" id="4390028">true</span><br>
<span class="lineno"></span><span class="op" id="4390033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="4390036">func</span>&nbsp;<span class="ident" id="4390041">decComplex64Array</span><span class="op" id="4390058">(</span><span class="ident" id="4390059">state</span>&nbsp;<span class="op" id="4390065">*</span><span class="ident" id="4390066">decoderState</span><span class="op" id="4390078">,</span>&nbsp;<span class="ident" id="4390080">v</span>&nbsp;<span class="ident" id="4390082">reflect</span><span class="op" id="4390089">.</span><span class="ident" id="4390090">Value</span><span class="op" id="4390095">,</span>&nbsp;<span class="ident" id="4390097">length</span>&nbsp;<span class="builtintype" id="4390104">int</span><span class="op" id="4390107">,</span>&nbsp;<span class="ident" id="4390109">ovfl</span>&nbsp;<span class="builtintype" id="4390114">error</span><span class="op" id="4390119">)</span>&nbsp;<span class="builtintype" id="4390121">bool</span>&nbsp;<span class="op" id="4390126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4390129">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390170">if</span>&nbsp;<span class="op" id="4390173">!</span><span class="ident" id="4390174">v</span><span class="op" id="4390175">.</span><span class="ident" id="4390176">CanAddr</span><span class="op" id="4390183">(</span><span class="op" id="4390184">)</span>&nbsp;<span class="op" id="4390186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390190">return</span>&nbsp;<span class="builtintype" id="4390197">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390204">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390207">return</span>&nbsp;<span class="ident" id="4390214">decComplex64Slice</span><span class="op" id="4390231">(</span><span class="ident" id="4390232">state</span><span class="op" id="4390237">,</span>&nbsp;<span class="ident" id="4390239">v</span><span class="op" id="4390240">.</span><span class="ident" id="4390241">Slice</span><span class="op" id="4390246">(</span><span class="num" id="4390247">0</span><span class="op" id="4390248">,</span>&nbsp;<span class="ident" id="4390250">v</span><span class="op" id="4390251">.</span><span class="ident" id="4390252">Len</span><span class="op" id="4390255">(</span><span class="op" id="4390256">)</span><span class="op" id="4390257">)</span><span class="op" id="4390258">,</span>&nbsp;<span class="ident" id="4390260">length</span><span class="op" id="4390266">,</span>&nbsp;<span class="ident" id="4390268">ovfl</span><span class="op" id="4390272">)</span><br>
<span class="lineno"></span><span class="op" id="4390274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4390277">func</span>&nbsp;<span class="ident" id="4390282">decComplex64Slice</span><span class="op" id="4390299">(</span><span class="ident" id="4390300">state</span>&nbsp;<span class="op" id="4390306">*</span><span class="ident" id="4390307">decoderState</span><span class="op" id="4390319">,</span>&nbsp;<span class="ident" id="4390321">v</span>&nbsp;<span class="ident" id="4390323">reflect</span><span class="op" id="4390330">.</span><span class="ident" id="4390331">Value</span><span class="op" id="4390336">,</span>&nbsp;<span class="ident" id="4390338">length</span>&nbsp;<span class="builtintype" id="4390345">int</span><span class="op" id="4390348">,</span>&nbsp;<span class="ident" id="4390350">ovfl</span>&nbsp;<span class="builtintype" id="4390355">error</span><span class="op" id="4390360">)</span>&nbsp;<span class="builtintype" id="4390362">bool</span>&nbsp;<span class="op" id="4390367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390370">slice</span><span class="op" id="4390375">,</span>&nbsp;<span class="ident" id="4390377">ok</span>&nbsp;<span class="op" id="4390380">:=</span>&nbsp;<span class="ident" id="4390383">v</span><span class="op" id="4390384">.</span><span class="ident" id="4390385">Interface</span><span class="op" id="4390394">(</span><span class="op" id="4390395">)</span><span class="op" id="4390396">.</span><span class="op" id="4390397">(</span><span class="op" id="4390398">[</span><span class="op" id="4390399">]</span><span class="builtintype" id="4390400">complex64</span><span class="op" id="4390409">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390412">if</span>&nbsp;<span class="op" id="4390415">!</span><span class="ident" id="4390416">ok</span>&nbsp;<span class="op" id="4390419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4390423">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390508">return</span>&nbsp;<span class="builtintype" id="4390515">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390525">for</span>&nbsp;<span class="ident" id="4390529">i</span>&nbsp;<span class="op" id="4390531">:=</span>&nbsp;<span class="num" id="4390534">0</span><span class="op" id="4390535">;</span>&nbsp;<span class="ident" id="4390537">i</span>&nbsp;<span class="op" id="4390539">&lt;</span>&nbsp;<span class="ident" id="4390541">length</span><span class="op" id="4390547">;</span>&nbsp;<span class="ident" id="4390549">i</span><span class="op" id="4390550">++</span>&nbsp;<span class="op" id="4390553">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390557">if</span>&nbsp;<span class="ident" id="4390560">state</span><span class="op" id="4390565">.</span><span class="ident" id="4390566">b</span><span class="op" id="4390567">.</span><span class="ident" id="4390568">Len</span><span class="op" id="4390571">(</span><span class="op" id="4390572">)</span>&nbsp;<span class="op" id="4390574">==</span>&nbsp;<span class="num" id="4390577">0</span>&nbsp;<span class="op" id="4390579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390584">errorf</span><span class="op" id="4390590">(</span><span class="string" id="4390591">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4390667">,</span>&nbsp;<span class="ident" id="4390669">length</span><span class="op" id="4390675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4390683">real</span>&nbsp;<span class="op" id="4390688">:=</span>&nbsp;<span class="ident" id="4390691">float32FromBits</span><span class="op" id="4390706">(</span><span class="ident" id="4390707">state</span><span class="op" id="4390712">.</span><span class="ident" id="4390713">decodeUint</span><span class="op" id="4390723">(</span><span class="op" id="4390724">)</span><span class="op" id="4390725">,</span>&nbsp;<span class="ident" id="4390727">ovfl</span><span class="op" id="4390731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4390735">imag</span>&nbsp;<span class="op" id="4390740">:=</span>&nbsp;<span class="ident" id="4390743">float32FromBits</span><span class="op" id="4390758">(</span><span class="ident" id="4390759">state</span><span class="op" id="4390764">.</span><span class="ident" id="4390765">decodeUint</span><span class="op" id="4390775">(</span><span class="op" id="4390776">)</span><span class="op" id="4390777">,</span>&nbsp;<span class="ident" id="4390779">ovfl</span><span class="op" id="4390783">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4390787">slice</span><span class="op" id="4390792">[</span><span class="ident" id="4390793">i</span><span class="op" id="4390794">]</span>&nbsp;<span class="op" id="4390796">=</span>&nbsp;<span class="builtinfunc" id="4390798">complex</span><span class="op" id="4390805">(</span><span class="builtintype" id="4390806">float32</span><span class="op" id="4390813">(</span><span class="builtinfunc" id="4390814">real</span><span class="op" id="4390818">)</span><span class="op" id="4390819">,</span>&nbsp;<span class="builtintype" id="4390821">float32</span><span class="op" id="4390828">(</span><span class="builtinfunc" id="4390829">imag</span><span class="op" id="4390833">)</span><span class="op" id="4390834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4390837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390840">return</span>&nbsp;<span class="builtintype" id="4390847">true</span><br>
<span class="lineno"></span><span class="op" id="4390852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="4390855">func</span>&nbsp;<span class="ident" id="4390860">decComplex128Array</span><span class="op" id="4390878">(</span><span class="ident" id="4390879">state</span>&nbsp;<span class="op" id="4390885">*</span><span class="ident" id="4390886">decoderState</span><span class="op" id="4390898">,</span>&nbsp;<span class="ident" id="4390900">v</span>&nbsp;<span class="ident" id="4390902">reflect</span><span class="op" id="4390909">.</span><span class="ident" id="4390910">Value</span><span class="op" id="4390915">,</span>&nbsp;<span class="ident" id="4390917">length</span>&nbsp;<span class="builtintype" id="4390924">int</span><span class="op" id="4390927">,</span>&nbsp;<span class="ident" id="4390929">ovfl</span>&nbsp;<span class="builtintype" id="4390934">error</span><span class="op" id="4390939">)</span>&nbsp;<span class="builtintype" id="4390941">bool</span>&nbsp;<span class="op" id="4390946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4390949">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4390990">if</span>&nbsp;<span class="op" id="4390993">!</span><span class="ident" id="4390994">v</span><span class="op" id="4390995">.</span><span class="ident" id="4390996">CanAddr</span><span class="op" id="4391003">(</span><span class="op" id="4391004">)</span>&nbsp;<span class="op" id="4391006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391010">return</span>&nbsp;<span class="builtintype" id="4391017">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391024">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391027">return</span>&nbsp;<span class="ident" id="4391034">decComplex128Slice</span><span class="op" id="4391052">(</span><span class="ident" id="4391053">state</span><span class="op" id="4391058">,</span>&nbsp;<span class="ident" id="4391060">v</span><span class="op" id="4391061">.</span><span class="ident" id="4391062">Slice</span><span class="op" id="4391067">(</span><span class="num" id="4391068">0</span><span class="op" id="4391069">,</span>&nbsp;<span class="ident" id="4391071">v</span><span class="op" id="4391072">.</span><span class="ident" id="4391073">Len</span><span class="op" id="4391076">(</span><span class="op" id="4391077">)</span><span class="op" id="4391078">)</span><span class="op" id="4391079">,</span>&nbsp;<span class="ident" id="4391081">length</span><span class="op" id="4391087">,</span>&nbsp;<span class="ident" id="4391089">ovfl</span><span class="op" id="4391093">)</span><br>
<span class="lineno"></span><span class="op" id="4391095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4391098">func</span>&nbsp;<span class="ident" id="4391103">decComplex128Slice</span><span class="op" id="4391121">(</span><span class="ident" id="4391122">state</span>&nbsp;<span class="op" id="4391128">*</span><span class="ident" id="4391129">decoderState</span><span class="op" id="4391141">,</span>&nbsp;<span class="ident" id="4391143">v</span>&nbsp;<span class="ident" id="4391145">reflect</span><span class="op" id="4391152">.</span><span class="ident" id="4391153">Value</span><span class="op" id="4391158">,</span>&nbsp;<span class="ident" id="4391160">length</span>&nbsp;<span class="builtintype" id="4391167">int</span><span class="op" id="4391170">,</span>&nbsp;<span class="ident" id="4391172">ovfl</span>&nbsp;<span class="builtintype" id="4391177">error</span><span class="op" id="4391182">)</span>&nbsp;<span class="builtintype" id="4391184">bool</span>&nbsp;<span class="op" id="4391189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391192">slice</span><span class="op" id="4391197">,</span>&nbsp;<span class="ident" id="4391199">ok</span>&nbsp;<span class="op" id="4391202">:=</span>&nbsp;<span class="ident" id="4391205">v</span><span class="op" id="4391206">.</span><span class="ident" id="4391207">Interface</span><span class="op" id="4391216">(</span><span class="op" id="4391217">)</span><span class="op" id="4391218">.</span><span class="op" id="4391219">(</span><span class="op" id="4391220">[</span><span class="op" id="4391221">]</span><span class="builtintype" id="4391222">complex128</span><span class="op" id="4391232">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391235">if</span>&nbsp;<span class="op" id="4391238">!</span><span class="ident" id="4391239">ok</span>&nbsp;<span class="op" id="4391242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391246">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391333">return</span>&nbsp;<span class="builtintype" id="4391340">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391350">for</span>&nbsp;<span class="ident" id="4391354">i</span>&nbsp;<span class="op" id="4391356">:=</span>&nbsp;<span class="num" id="4391359">0</span><span class="op" id="4391360">;</span>&nbsp;<span class="ident" id="4391362">i</span>&nbsp;<span class="op" id="4391364">&lt;</span>&nbsp;<span class="ident" id="4391366">length</span><span class="op" id="4391372">;</span>&nbsp;<span class="ident" id="4391374">i</span><span class="op" id="4391375">++</span>&nbsp;<span class="op" id="4391378">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391382">if</span>&nbsp;<span class="ident" id="4391385">state</span><span class="op" id="4391390">.</span><span class="ident" id="4391391">b</span><span class="op" id="4391392">.</span><span class="ident" id="4391393">Len</span><span class="op" id="4391396">(</span><span class="op" id="4391397">)</span>&nbsp;<span class="op" id="4391399">==</span>&nbsp;<span class="num" id="4391402">0</span>&nbsp;<span class="op" id="4391404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391409">errorf</span><span class="op" id="4391415">(</span><span class="string" id="4391416">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4391493">,</span>&nbsp;<span class="ident" id="4391495">length</span><span class="op" id="4391501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4391509">real</span>&nbsp;<span class="op" id="4391514">:=</span>&nbsp;<span class="ident" id="4391517">float64FromBits</span><span class="op" id="4391532">(</span><span class="ident" id="4391533">state</span><span class="op" id="4391538">.</span><span class="ident" id="4391539">decodeUint</span><span class="op" id="4391549">(</span><span class="op" id="4391550">)</span><span class="op" id="4391551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4391555">imag</span>&nbsp;<span class="op" id="4391560">:=</span>&nbsp;<span class="ident" id="4391563">float64FromBits</span><span class="op" id="4391578">(</span><span class="ident" id="4391579">state</span><span class="op" id="4391584">.</span><span class="ident" id="4391585">decodeUint</span><span class="op" id="4391595">(</span><span class="op" id="4391596">)</span><span class="op" id="4391597">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391601">slice</span><span class="op" id="4391606">[</span><span class="ident" id="4391607">i</span><span class="op" id="4391608">]</span>&nbsp;<span class="op" id="4391610">=</span>&nbsp;<span class="builtinfunc" id="4391612">complex</span><span class="op" id="4391619">(</span><span class="builtinfunc" id="4391620">real</span><span class="op" id="4391624">,</span>&nbsp;<span class="builtinfunc" id="4391626">imag</span><span class="op" id="4391630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391636">return</span>&nbsp;<span class="builtintype" id="4391643">true</span><br>
<span class="lineno"></span><span class="op" id="4391648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4391651">func</span>&nbsp;<span class="ident" id="4391656">decFloat32Array</span><span class="op" id="4391671">(</span><span class="ident" id="4391672">state</span>&nbsp;<span class="op" id="4391678">*</span><span class="ident" id="4391679">decoderState</span><span class="op" id="4391691">,</span>&nbsp;<span class="ident" id="4391693">v</span>&nbsp;<span class="ident" id="4391695">reflect</span><span class="op" id="4391702">.</span><span class="ident" id="4391703">Value</span><span class="op" id="4391708">,</span>&nbsp;<span class="ident" id="4391710">length</span>&nbsp;<span class="builtintype" id="4391717">int</span><span class="op" id="4391720">,</span>&nbsp;<span class="ident" id="4391722">ovfl</span>&nbsp;<span class="builtintype" id="4391727">error</span><span class="op" id="4391732">)</span>&nbsp;<span class="builtintype" id="4391734">bool</span>&nbsp;<span class="op" id="4391739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4391742">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391783">if</span>&nbsp;<span class="op" id="4391786">!</span><span class="ident" id="4391787">v</span><span class="op" id="4391788">.</span><span class="ident" id="4391789">CanAddr</span><span class="op" id="4391796">(</span><span class="op" id="4391797">)</span>&nbsp;<span class="op" id="4391799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391803">return</span>&nbsp;<span class="builtintype" id="4391810">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4391817">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4391820">return</span>&nbsp;<span class="ident" id="4391827">decFloat32Slice</span><span class="op" id="4391842">(</span><span class="ident" id="4391843">state</span><span class="op" id="4391848">,</span>&nbsp;<span class="ident" id="4391850">v</span><span class="op" id="4391851">.</span><span class="ident" id="4391852">Slice</span><span class="op" id="4391857">(</span><span class="num" id="4391858">0</span><span class="op" id="4391859">,</span>&nbsp;<span class="ident" id="4391861">v</span><span class="op" id="4391862">.</span><span class="ident" id="4391863">Len</span><span class="op" id="4391866">(</span><span class="op" id="4391867">)</span><span class="op" id="4391868">)</span><span class="op" id="4391869">,</span>&nbsp;<span class="ident" id="4391871">length</span><span class="op" id="4391877">,</span>&nbsp;<span class="ident" id="4391879">ovfl</span><span class="op" id="4391883">)</span><br>
<span class="lineno"></span><span class="op" id="4391885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4391888">func</span>&nbsp;<span class="ident" id="4391893">decFloat32Slice</span><span class="op" id="4391908">(</span><span class="ident" id="4391909">state</span>&nbsp;<span class="op" id="4391915">*</span><span class="ident" id="4391916">decoderState</span><span class="op" id="4391928">,</span>&nbsp;<span class="ident" id="4391930">v</span>&nbsp;<span class="ident" id="4391932">reflect</span><span class="op" id="4391939">.</span><span class="ident" id="4391940">Value</span><span class="op" id="4391945">,</span>&nbsp;<span class="ident" id="4391947">length</span>&nbsp;<span class="builtintype" id="4391954">int</span><span class="op" id="4391957">,</span>&nbsp;<span class="ident" id="4391959">ovfl</span>&nbsp;<span class="builtintype" id="4391964">error</span><span class="op" id="4391969">)</span>&nbsp;<span class="builtintype" id="4391971">bool</span>&nbsp;<span class="op" id="4391976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4391979">slice</span><span class="op" id="4391984">,</span>&nbsp;<span class="ident" id="4391986">ok</span>&nbsp;<span class="op" id="4391989">:=</span>&nbsp;<span class="ident" id="4391992">v</span><span class="op" id="4391993">.</span><span class="ident" id="4391994">Interface</span><span class="op" id="4392003">(</span><span class="op" id="4392004">)</span><span class="op" id="4392005">.</span><span class="op" id="4392006">(</span><span class="op" id="4392007">[</span><span class="op" id="4392008">]</span><span class="builtintype" id="4392009">float32</span><span class="op" id="4392016">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392019">if</span>&nbsp;<span class="op" id="4392022">!</span><span class="ident" id="4392023">ok</span>&nbsp;<span class="op" id="4392026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392030">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392111">return</span>&nbsp;<span class="builtintype" id="4392118">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392128">for</span>&nbsp;<span class="ident" id="4392132">i</span>&nbsp;<span class="op" id="4392134">:=</span>&nbsp;<span class="num" id="4392137">0</span><span class="op" id="4392138">;</span>&nbsp;<span class="ident" id="4392140">i</span>&nbsp;<span class="op" id="4392142">&lt;</span>&nbsp;<span class="ident" id="4392144">length</span><span class="op" id="4392150">;</span>&nbsp;<span class="ident" id="4392152">i</span><span class="op" id="4392153">++</span>&nbsp;<span class="op" id="4392156">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392160">if</span>&nbsp;<span class="ident" id="4392163">state</span><span class="op" id="4392168">.</span><span class="ident" id="4392169">b</span><span class="op" id="4392170">.</span><span class="ident" id="4392171">Len</span><span class="op" id="4392174">(</span><span class="op" id="4392175">)</span>&nbsp;<span class="op" id="4392177">==</span>&nbsp;<span class="num" id="4392180">0</span>&nbsp;<span class="op" id="4392182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392187">errorf</span><span class="op" id="4392193">(</span><span class="string" id="4392194">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4392268">,</span>&nbsp;<span class="ident" id="4392270">length</span><span class="op" id="4392276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392284">slice</span><span class="op" id="4392289">[</span><span class="ident" id="4392290">i</span><span class="op" id="4392291">]</span>&nbsp;<span class="op" id="4392293">=</span>&nbsp;<span class="builtintype" id="4392295">float32</span><span class="op" id="4392302">(</span><span class="ident" id="4392303">float32FromBits</span><span class="op" id="4392318">(</span><span class="ident" id="4392319">state</span><span class="op" id="4392324">.</span><span class="ident" id="4392325">decodeUint</span><span class="op" id="4392335">(</span><span class="op" id="4392336">)</span><span class="op" id="4392337">,</span>&nbsp;<span class="ident" id="4392339">ovfl</span><span class="op" id="4392343">)</span><span class="op" id="4392344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392347">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392350">return</span>&nbsp;<span class="builtintype" id="4392357">true</span><br>
<span class="lineno"></span><span class="op" id="4392362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4392365">func</span>&nbsp;<span class="ident" id="4392370">decFloat64Array</span><span class="op" id="4392385">(</span><span class="ident" id="4392386">state</span>&nbsp;<span class="op" id="4392392">*</span><span class="ident" id="4392393">decoderState</span><span class="op" id="4392405">,</span>&nbsp;<span class="ident" id="4392407">v</span>&nbsp;<span class="ident" id="4392409">reflect</span><span class="op" id="4392416">.</span><span class="ident" id="4392417">Value</span><span class="op" id="4392422">,</span>&nbsp;<span class="ident" id="4392424">length</span>&nbsp;<span class="builtintype" id="4392431">int</span><span class="op" id="4392434">,</span>&nbsp;<span class="ident" id="4392436">ovfl</span>&nbsp;<span class="builtintype" id="4392441">error</span><span class="op" id="4392446">)</span>&nbsp;<span class="builtintype" id="4392448">bool</span>&nbsp;<span class="op" id="4392453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392456">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392497">if</span>&nbsp;<span class="op" id="4392500">!</span><span class="ident" id="4392501">v</span><span class="op" id="4392502">.</span><span class="ident" id="4392503">CanAddr</span><span class="op" id="4392510">(</span><span class="op" id="4392511">)</span>&nbsp;<span class="op" id="4392513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392517">return</span>&nbsp;<span class="builtintype" id="4392524">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392534">return</span>&nbsp;<span class="ident" id="4392541">decFloat64Slice</span><span class="op" id="4392556">(</span><span class="ident" id="4392557">state</span><span class="op" id="4392562">,</span>&nbsp;<span class="ident" id="4392564">v</span><span class="op" id="4392565">.</span><span class="ident" id="4392566">Slice</span><span class="op" id="4392571">(</span><span class="num" id="4392572">0</span><span class="op" id="4392573">,</span>&nbsp;<span class="ident" id="4392575">v</span><span class="op" id="4392576">.</span><span class="ident" id="4392577">Len</span><span class="op" id="4392580">(</span><span class="op" id="4392581">)</span><span class="op" id="4392582">)</span><span class="op" id="4392583">,</span>&nbsp;<span class="ident" id="4392585">length</span><span class="op" id="4392591">,</span>&nbsp;<span class="ident" id="4392593">ovfl</span><span class="op" id="4392597">)</span><br>
<span class="lineno"></span><span class="op" id="4392599">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="4392602">func</span>&nbsp;<span class="ident" id="4392607">decFloat64Slice</span><span class="op" id="4392622">(</span><span class="ident" id="4392623">state</span>&nbsp;<span class="op" id="4392629">*</span><span class="ident" id="4392630">decoderState</span><span class="op" id="4392642">,</span>&nbsp;<span class="ident" id="4392644">v</span>&nbsp;<span class="ident" id="4392646">reflect</span><span class="op" id="4392653">.</span><span class="ident" id="4392654">Value</span><span class="op" id="4392659">,</span>&nbsp;<span class="ident" id="4392661">length</span>&nbsp;<span class="builtintype" id="4392668">int</span><span class="op" id="4392671">,</span>&nbsp;<span class="ident" id="4392673">ovfl</span>&nbsp;<span class="builtintype" id="4392678">error</span><span class="op" id="4392683">)</span>&nbsp;<span class="builtintype" id="4392685">bool</span>&nbsp;<span class="op" id="4392690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392693">slice</span><span class="op" id="4392698">,</span>&nbsp;<span class="ident" id="4392700">ok</span>&nbsp;<span class="op" id="4392703">:=</span>&nbsp;<span class="ident" id="4392706">v</span><span class="op" id="4392707">.</span><span class="ident" id="4392708">Interface</span><span class="op" id="4392717">(</span><span class="op" id="4392718">)</span><span class="op" id="4392719">.</span><span class="op" id="4392720">(</span><span class="op" id="4392721">[</span><span class="op" id="4392722">]</span><span class="builtintype" id="4392723">float64</span><span class="op" id="4392730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392733">if</span>&nbsp;<span class="op" id="4392736">!</span><span class="ident" id="4392737">ok</span>&nbsp;<span class="op" id="4392740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4392744">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392825">return</span>&nbsp;<span class="builtintype" id="4392832">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392842">for</span>&nbsp;<span class="ident" id="4392846">i</span>&nbsp;<span class="op" id="4392848">:=</span>&nbsp;<span class="num" id="4392851">0</span><span class="op" id="4392852">;</span>&nbsp;<span class="ident" id="4392854">i</span>&nbsp;<span class="op" id="4392856">&lt;</span>&nbsp;<span class="ident" id="4392858">length</span><span class="op" id="4392864">;</span>&nbsp;<span class="ident" id="4392866">i</span><span class="op" id="4392867">++</span>&nbsp;<span class="op" id="4392870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4392874">if</span>&nbsp;<span class="ident" id="4392877">state</span><span class="op" id="4392882">.</span><span class="ident" id="4392883">b</span><span class="op" id="4392884">.</span><span class="ident" id="4392885">Len</span><span class="op" id="4392888">(</span><span class="op" id="4392889">)</span>&nbsp;<span class="op" id="4392891">==</span>&nbsp;<span class="num" id="4392894">0</span>&nbsp;<span class="op" id="4392896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392901">errorf</span><span class="op" id="4392907">(</span><span class="string" id="4392908">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4392982">,</span>&nbsp;<span class="ident" id="4392984">length</span><span class="op" id="4392990">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4392994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4392998">slice</span><span class="op" id="4393003">[</span><span class="ident" id="4393004">i</span><span class="op" id="4393005">]</span>&nbsp;<span class="op" id="4393007">=</span>&nbsp;<span class="ident" id="4393009">float64FromBits</span><span class="op" id="4393024">(</span><span class="ident" id="4393025">state</span><span class="op" id="4393030">.</span><span class="ident" id="4393031">decodeUint</span><span class="op" id="4393041">(</span><span class="op" id="4393042">)</span><span class="op" id="4393043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393049">return</span>&nbsp;<span class="builtintype" id="4393056">true</span><br>
<span class="lineno"></span><span class="op" id="4393061">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="4393064">func</span>&nbsp;<span class="ident" id="4393069">decIntArray</span><span class="op" id="4393080">(</span><span class="ident" id="4393081">state</span>&nbsp;<span class="op" id="4393087">*</span><span class="ident" id="4393088">decoderState</span><span class="op" id="4393100">,</span>&nbsp;<span class="ident" id="4393102">v</span>&nbsp;<span class="ident" id="4393104">reflect</span><span class="op" id="4393111">.</span><span class="ident" id="4393112">Value</span><span class="op" id="4393117">,</span>&nbsp;<span class="ident" id="4393119">length</span>&nbsp;<span class="builtintype" id="4393126">int</span><span class="op" id="4393129">,</span>&nbsp;<span class="ident" id="4393131">ovfl</span>&nbsp;<span class="builtintype" id="4393136">error</span><span class="op" id="4393141">)</span>&nbsp;<span class="builtintype" id="4393143">bool</span>&nbsp;<span class="op" id="4393148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393151">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393192">if</span>&nbsp;<span class="op" id="4393195">!</span><span class="ident" id="4393196">v</span><span class="op" id="4393197">.</span><span class="ident" id="4393198">CanAddr</span><span class="op" id="4393205">(</span><span class="op" id="4393206">)</span>&nbsp;<span class="op" id="4393208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393212">return</span>&nbsp;<span class="builtintype" id="4393219">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393229">return</span>&nbsp;<span class="ident" id="4393236">decIntSlice</span><span class="op" id="4393247">(</span><span class="ident" id="4393248">state</span><span class="op" id="4393253">,</span>&nbsp;<span class="ident" id="4393255">v</span><span class="op" id="4393256">.</span><span class="ident" id="4393257">Slice</span><span class="op" id="4393262">(</span><span class="num" id="4393263">0</span><span class="op" id="4393264">,</span>&nbsp;<span class="ident" id="4393266">v</span><span class="op" id="4393267">.</span><span class="ident" id="4393268">Len</span><span class="op" id="4393271">(</span><span class="op" id="4393272">)</span><span class="op" id="4393273">)</span><span class="op" id="4393274">,</span>&nbsp;<span class="ident" id="4393276">length</span><span class="op" id="4393282">,</span>&nbsp;<span class="ident" id="4393284">ovfl</span><span class="op" id="4393288">)</span><br>
<span class="lineno"></span><span class="op" id="4393290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4393293">func</span>&nbsp;<span class="ident" id="4393298">decIntSlice</span><span class="op" id="4393309">(</span><span class="ident" id="4393310">state</span>&nbsp;<span class="op" id="4393316">*</span><span class="ident" id="4393317">decoderState</span><span class="op" id="4393329">,</span>&nbsp;<span class="ident" id="4393331">v</span>&nbsp;<span class="ident" id="4393333">reflect</span><span class="op" id="4393340">.</span><span class="ident" id="4393341">Value</span><span class="op" id="4393346">,</span>&nbsp;<span class="ident" id="4393348">length</span>&nbsp;<span class="builtintype" id="4393355">int</span><span class="op" id="4393358">,</span>&nbsp;<span class="ident" id="4393360">ovfl</span>&nbsp;<span class="builtintype" id="4393365">error</span><span class="op" id="4393370">)</span>&nbsp;<span class="builtintype" id="4393372">bool</span>&nbsp;<span class="op" id="4393377">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393380">slice</span><span class="op" id="4393385">,</span>&nbsp;<span class="ident" id="4393387">ok</span>&nbsp;<span class="op" id="4393390">:=</span>&nbsp;<span class="ident" id="4393393">v</span><span class="op" id="4393394">.</span><span class="ident" id="4393395">Interface</span><span class="op" id="4393404">(</span><span class="op" id="4393405">)</span><span class="op" id="4393406">.</span><span class="op" id="4393407">(</span><span class="op" id="4393408">[</span><span class="op" id="4393409">]</span><span class="builtintype" id="4393410">int</span><span class="op" id="4393413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393416">if</span>&nbsp;<span class="op" id="4393419">!</span><span class="ident" id="4393420">ok</span>&nbsp;<span class="op" id="4393423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393427">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393500">return</span>&nbsp;<span class="builtintype" id="4393507">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393514">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393517">for</span>&nbsp;<span class="ident" id="4393521">i</span>&nbsp;<span class="op" id="4393523">:=</span>&nbsp;<span class="num" id="4393526">0</span><span class="op" id="4393527">;</span>&nbsp;<span class="ident" id="4393529">i</span>&nbsp;<span class="op" id="4393531">&lt;</span>&nbsp;<span class="ident" id="4393533">length</span><span class="op" id="4393539">;</span>&nbsp;<span class="ident" id="4393541">i</span><span class="op" id="4393542">++</span>&nbsp;<span class="op" id="4393545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393549">if</span>&nbsp;<span class="ident" id="4393552">state</span><span class="op" id="4393557">.</span><span class="ident" id="4393558">b</span><span class="op" id="4393559">.</span><span class="ident" id="4393560">Len</span><span class="op" id="4393563">(</span><span class="op" id="4393564">)</span>&nbsp;<span class="op" id="4393566">==</span>&nbsp;<span class="num" id="4393569">0</span>&nbsp;<span class="op" id="4393571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393576">errorf</span><span class="op" id="4393582">(</span><span class="string" id="4393583">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4393653">,</span>&nbsp;<span class="ident" id="4393655">length</span><span class="op" id="4393661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393669">x</span>&nbsp;<span class="op" id="4393671">:=</span>&nbsp;<span class="ident" id="4393674">state</span><span class="op" id="4393679">.</span><span class="ident" id="4393680">decodeInt</span><span class="op" id="4393689">(</span><span class="op" id="4393690">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393694">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393717">if</span>&nbsp;<span class="ident" id="4393720">x</span>&nbsp;<span class="op" id="4393722">&lt;</span>&nbsp;<span class="op" id="4393724">^</span><span class="ident" id="4393725">int64</span><span class="op" id="4393730">(</span><span class="op" id="4393731">^</span><span class="builtintype" id="4393732">uint</span><span class="op" id="4393736">(</span><span class="num" id="4393737">0</span><span class="op" id="4393738">)</span><span class="op" id="4393739">&gt;&gt;</span><span class="num" id="4393741">1</span><span class="op" id="4393742">)</span>&nbsp;<span class="op" id="4393744">||</span>&nbsp;<span class="ident" id="4393747">int64</span><span class="op" id="4393752">(</span><span class="op" id="4393753">^</span><span class="builtintype" id="4393754">uint</span><span class="op" id="4393758">(</span><span class="num" id="4393759">0</span><span class="op" id="4393760">)</span><span class="op" id="4393761">&gt;&gt;</span><span class="num" id="4393763">1</span><span class="op" id="4393764">)</span>&nbsp;<span class="op" id="4393766">&lt;</span>&nbsp;<span class="ident" id="4393768">x</span>&nbsp;<span class="op" id="4393770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393775">error_</span><span class="op" id="4393781">(</span><span class="ident" id="4393782">ovfl</span><span class="op" id="4393786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4393794">slice</span><span class="op" id="4393799">[</span><span class="ident" id="4393800">i</span><span class="op" id="4393801">]</span>&nbsp;<span class="op" id="4393803">=</span>&nbsp;<span class="builtintype" id="4393805">int</span><span class="op" id="4393808">(</span><span class="ident" id="4393809">x</span><span class="op" id="4393810">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393816">return</span>&nbsp;<span class="builtintype" id="4393823">true</span><br>
<span class="lineno"></span><span class="op" id="4393828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4393831">func</span>&nbsp;<span class="ident" id="4393836">decInt16Array</span><span class="op" id="4393849">(</span><span class="ident" id="4393850">state</span>&nbsp;<span class="op" id="4393856">*</span><span class="ident" id="4393857">decoderState</span><span class="op" id="4393869">,</span>&nbsp;<span class="ident" id="4393871">v</span>&nbsp;<span class="ident" id="4393873">reflect</span><span class="op" id="4393880">.</span><span class="ident" id="4393881">Value</span><span class="op" id="4393886">,</span>&nbsp;<span class="ident" id="4393888">length</span>&nbsp;<span class="builtintype" id="4393895">int</span><span class="op" id="4393898">,</span>&nbsp;<span class="ident" id="4393900">ovfl</span>&nbsp;<span class="builtintype" id="4393905">error</span><span class="op" id="4393910">)</span>&nbsp;<span class="builtintype" id="4393912">bool</span>&nbsp;<span class="op" id="4393917">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4393920">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393961">if</span>&nbsp;<span class="op" id="4393964">!</span><span class="ident" id="4393965">v</span><span class="op" id="4393966">.</span><span class="ident" id="4393967">CanAddr</span><span class="op" id="4393974">(</span><span class="op" id="4393975">)</span>&nbsp;<span class="op" id="4393977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393981">return</span>&nbsp;<span class="builtintype" id="4393988">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4393995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4393998">return</span>&nbsp;<span class="ident" id="4394005">decInt16Slice</span><span class="op" id="4394018">(</span><span class="ident" id="4394019">state</span><span class="op" id="4394024">,</span>&nbsp;<span class="ident" id="4394026">v</span><span class="op" id="4394027">.</span><span class="ident" id="4394028">Slice</span><span class="op" id="4394033">(</span><span class="num" id="4394034">0</span><span class="op" id="4394035">,</span>&nbsp;<span class="ident" id="4394037">v</span><span class="op" id="4394038">.</span><span class="ident" id="4394039">Len</span><span class="op" id="4394042">(</span><span class="op" id="4394043">)</span><span class="op" id="4394044">)</span><span class="op" id="4394045">,</span>&nbsp;<span class="ident" id="4394047">length</span><span class="op" id="4394053">,</span>&nbsp;<span class="ident" id="4394055">ovfl</span><span class="op" id="4394059">)</span><br>
<span class="lineno">205</span><span class="op" id="4394061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4394064">func</span>&nbsp;<span class="ident" id="4394069">decInt16Slice</span><span class="op" id="4394082">(</span><span class="ident" id="4394083">state</span>&nbsp;<span class="op" id="4394089">*</span><span class="ident" id="4394090">decoderState</span><span class="op" id="4394102">,</span>&nbsp;<span class="ident" id="4394104">v</span>&nbsp;<span class="ident" id="4394106">reflect</span><span class="op" id="4394113">.</span><span class="ident" id="4394114">Value</span><span class="op" id="4394119">,</span>&nbsp;<span class="ident" id="4394121">length</span>&nbsp;<span class="builtintype" id="4394128">int</span><span class="op" id="4394131">,</span>&nbsp;<span class="ident" id="4394133">ovfl</span>&nbsp;<span class="builtintype" id="4394138">error</span><span class="op" id="4394143">)</span>&nbsp;<span class="builtintype" id="4394145">bool</span>&nbsp;<span class="op" id="4394150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394153">slice</span><span class="op" id="4394158">,</span>&nbsp;<span class="ident" id="4394160">ok</span>&nbsp;<span class="op" id="4394163">:=</span>&nbsp;<span class="ident" id="4394166">v</span><span class="op" id="4394167">.</span><span class="ident" id="4394168">Interface</span><span class="op" id="4394177">(</span><span class="op" id="4394178">)</span><span class="op" id="4394179">.</span><span class="op" id="4394180">(</span><span class="op" id="4394181">[</span><span class="op" id="4394182">]</span><span class="builtintype" id="4394183">int16</span><span class="op" id="4394188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394191">if</span>&nbsp;<span class="op" id="4394194">!</span><span class="ident" id="4394195">ok</span>&nbsp;<span class="op" id="4394198">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4394202">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394279">return</span>&nbsp;<span class="builtintype" id="4394286">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394296">for</span>&nbsp;<span class="ident" id="4394300">i</span>&nbsp;<span class="op" id="4394302">:=</span>&nbsp;<span class="num" id="4394305">0</span><span class="op" id="4394306">;</span>&nbsp;<span class="ident" id="4394308">i</span>&nbsp;<span class="op" id="4394310">&lt;</span>&nbsp;<span class="ident" id="4394312">length</span><span class="op" id="4394318">;</span>&nbsp;<span class="ident" id="4394320">i</span><span class="op" id="4394321">++</span>&nbsp;<span class="op" id="4394324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394328">if</span>&nbsp;<span class="ident" id="4394331">state</span><span class="op" id="4394336">.</span><span class="ident" id="4394337">b</span><span class="op" id="4394338">.</span><span class="ident" id="4394339">Len</span><span class="op" id="4394342">(</span><span class="op" id="4394343">)</span>&nbsp;<span class="op" id="4394345">==</span>&nbsp;<span class="num" id="4394348">0</span>&nbsp;<span class="op" id="4394350">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394355">errorf</span><span class="op" id="4394361">(</span><span class="string" id="4394362">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4394434">,</span>&nbsp;<span class="ident" id="4394436">length</span><span class="op" id="4394442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394450">x</span>&nbsp;<span class="op" id="4394452">:=</span>&nbsp;<span class="ident" id="4394455">state</span><span class="op" id="4394460">.</span><span class="ident" id="4394461">decodeInt</span><span class="op" id="4394470">(</span><span class="op" id="4394471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394475">if</span>&nbsp;<span class="ident" id="4394478">x</span>&nbsp;<span class="op" id="4394480">&lt;</span>&nbsp;<span class="ident" id="4394482">math</span><span class="op" id="4394486">.</span><span class="ident" id="4394487">MinInt16</span>&nbsp;<span class="op" id="4394496">||</span>&nbsp;<span class="ident" id="4394499">math</span><span class="op" id="4394503">.</span><span class="ident" id="4394504">MaxInt16</span>&nbsp;<span class="op" id="4394513">&lt;</span>&nbsp;<span class="ident" id="4394515">x</span>&nbsp;<span class="op" id="4394517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394522">error_</span><span class="op" id="4394528">(</span><span class="ident" id="4394529">ovfl</span><span class="op" id="4394533">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394541">slice</span><span class="op" id="4394546">[</span><span class="ident" id="4394547">i</span><span class="op" id="4394548">]</span>&nbsp;<span class="op" id="4394550">=</span>&nbsp;<span class="builtintype" id="4394552">int16</span><span class="op" id="4394557">(</span><span class="ident" id="4394558">x</span><span class="op" id="4394559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394565">return</span>&nbsp;<span class="builtintype" id="4394572">true</span><br>
<span class="lineno"></span><span class="op" id="4394577">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="4394580">func</span>&nbsp;<span class="ident" id="4394585">decInt32Array</span><span class="op" id="4394598">(</span><span class="ident" id="4394599">state</span>&nbsp;<span class="op" id="4394605">*</span><span class="ident" id="4394606">decoderState</span><span class="op" id="4394618">,</span>&nbsp;<span class="ident" id="4394620">v</span>&nbsp;<span class="ident" id="4394622">reflect</span><span class="op" id="4394629">.</span><span class="ident" id="4394630">Value</span><span class="op" id="4394635">,</span>&nbsp;<span class="ident" id="4394637">length</span>&nbsp;<span class="builtintype" id="4394644">int</span><span class="op" id="4394647">,</span>&nbsp;<span class="ident" id="4394649">ovfl</span>&nbsp;<span class="builtintype" id="4394654">error</span><span class="op" id="4394659">)</span>&nbsp;<span class="builtintype" id="4394661">bool</span>&nbsp;<span class="op" id="4394666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4394669">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394710">if</span>&nbsp;<span class="op" id="4394713">!</span><span class="ident" id="4394714">v</span><span class="op" id="4394715">.</span><span class="ident" id="4394716">CanAddr</span><span class="op" id="4394723">(</span><span class="op" id="4394724">)</span>&nbsp;<span class="op" id="4394726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394730">return</span>&nbsp;<span class="builtintype" id="4394737">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4394744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394747">return</span>&nbsp;<span class="ident" id="4394754">decInt32Slice</span><span class="op" id="4394767">(</span><span class="ident" id="4394768">state</span><span class="op" id="4394773">,</span>&nbsp;<span class="ident" id="4394775">v</span><span class="op" id="4394776">.</span><span class="ident" id="4394777">Slice</span><span class="op" id="4394782">(</span><span class="num" id="4394783">0</span><span class="op" id="4394784">,</span>&nbsp;<span class="ident" id="4394786">v</span><span class="op" id="4394787">.</span><span class="ident" id="4394788">Len</span><span class="op" id="4394791">(</span><span class="op" id="4394792">)</span><span class="op" id="4394793">)</span><span class="op" id="4394794">,</span>&nbsp;<span class="ident" id="4394796">length</span><span class="op" id="4394802">,</span>&nbsp;<span class="ident" id="4394804">ovfl</span><span class="op" id="4394808">)</span><br>
<span class="lineno"></span><span class="op" id="4394810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4394813">func</span>&nbsp;<span class="ident" id="4394818">decInt32Slice</span><span class="op" id="4394831">(</span><span class="ident" id="4394832">state</span>&nbsp;<span class="op" id="4394838">*</span><span class="ident" id="4394839">decoderState</span><span class="op" id="4394851">,</span>&nbsp;<span class="ident" id="4394853">v</span>&nbsp;<span class="ident" id="4394855">reflect</span><span class="op" id="4394862">.</span><span class="ident" id="4394863">Value</span><span class="op" id="4394868">,</span>&nbsp;<span class="ident" id="4394870">length</span>&nbsp;<span class="builtintype" id="4394877">int</span><span class="op" id="4394880">,</span>&nbsp;<span class="ident" id="4394882">ovfl</span>&nbsp;<span class="builtintype" id="4394887">error</span><span class="op" id="4394892">)</span>&nbsp;<span class="builtintype" id="4394894">bool</span>&nbsp;<span class="op" id="4394899">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4394902">slice</span><span class="op" id="4394907">,</span>&nbsp;<span class="ident" id="4394909">ok</span>&nbsp;<span class="op" id="4394912">:=</span>&nbsp;<span class="ident" id="4394915">v</span><span class="op" id="4394916">.</span><span class="ident" id="4394917">Interface</span><span class="op" id="4394926">(</span><span class="op" id="4394927">)</span><span class="op" id="4394928">.</span><span class="op" id="4394929">(</span><span class="op" id="4394930">[</span><span class="op" id="4394931">]</span><span class="builtintype" id="4394932">int32</span><span class="op" id="4394937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4394940">if</span>&nbsp;<span class="op" id="4394943">!</span><span class="ident" id="4394944">ok</span>&nbsp;<span class="op" id="4394947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4394951">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395028">return</span>&nbsp;<span class="builtintype" id="4395035">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395042">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395045">for</span>&nbsp;<span class="ident" id="4395049">i</span>&nbsp;<span class="op" id="4395051">:=</span>&nbsp;<span class="num" id="4395054">0</span><span class="op" id="4395055">;</span>&nbsp;<span class="ident" id="4395057">i</span>&nbsp;<span class="op" id="4395059">&lt;</span>&nbsp;<span class="ident" id="4395061">length</span><span class="op" id="4395067">;</span>&nbsp;<span class="ident" id="4395069">i</span><span class="op" id="4395070">++</span>&nbsp;<span class="op" id="4395073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395077">if</span>&nbsp;<span class="ident" id="4395080">state</span><span class="op" id="4395085">.</span><span class="ident" id="4395086">b</span><span class="op" id="4395087">.</span><span class="ident" id="4395088">Len</span><span class="op" id="4395091">(</span><span class="op" id="4395092">)</span>&nbsp;<span class="op" id="4395094">==</span>&nbsp;<span class="num" id="4395097">0</span>&nbsp;<span class="op" id="4395099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395104">errorf</span><span class="op" id="4395110">(</span><span class="string" id="4395111">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4395183">,</span>&nbsp;<span class="ident" id="4395185">length</span><span class="op" id="4395191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395199">x</span>&nbsp;<span class="op" id="4395201">:=</span>&nbsp;<span class="ident" id="4395204">state</span><span class="op" id="4395209">.</span><span class="ident" id="4395210">decodeInt</span><span class="op" id="4395219">(</span><span class="op" id="4395220">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395224">if</span>&nbsp;<span class="ident" id="4395227">x</span>&nbsp;<span class="op" id="4395229">&lt;</span>&nbsp;<span class="ident" id="4395231">math</span><span class="op" id="4395235">.</span><span class="ident" id="4395236">MinInt32</span>&nbsp;<span class="op" id="4395245">||</span>&nbsp;<span class="ident" id="4395248">math</span><span class="op" id="4395252">.</span><span class="ident" id="4395253">MaxInt32</span>&nbsp;<span class="op" id="4395262">&lt;</span>&nbsp;<span class="ident" id="4395264">x</span>&nbsp;<span class="op" id="4395266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395271">error_</span><span class="op" id="4395277">(</span><span class="ident" id="4395278">ovfl</span><span class="op" id="4395282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395290">slice</span><span class="op" id="4395295">[</span><span class="ident" id="4395296">i</span><span class="op" id="4395297">]</span>&nbsp;<span class="op" id="4395299">=</span>&nbsp;<span class="builtintype" id="4395301">int32</span><span class="op" id="4395306">(</span><span class="ident" id="4395307">x</span><span class="op" id="4395308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395311">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395314">return</span>&nbsp;<span class="builtintype" id="4395321">true</span><br>
<span class="lineno"></span><span class="op" id="4395326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4395329">func</span>&nbsp;<span class="ident" id="4395334">decInt64Array</span><span class="op" id="4395347">(</span><span class="ident" id="4395348">state</span>&nbsp;<span class="op" id="4395354">*</span><span class="ident" id="4395355">decoderState</span><span class="op" id="4395367">,</span>&nbsp;<span class="ident" id="4395369">v</span>&nbsp;<span class="ident" id="4395371">reflect</span><span class="op" id="4395378">.</span><span class="ident" id="4395379">Value</span><span class="op" id="4395384">,</span>&nbsp;<span class="ident" id="4395386">length</span>&nbsp;<span class="builtintype" id="4395393">int</span><span class="op" id="4395396">,</span>&nbsp;<span class="ident" id="4395398">ovfl</span>&nbsp;<span class="builtintype" id="4395403">error</span><span class="op" id="4395408">)</span>&nbsp;<span class="builtintype" id="4395410">bool</span>&nbsp;<span class="op" id="4395415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395418">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395459">if</span>&nbsp;<span class="op" id="4395462">!</span><span class="ident" id="4395463">v</span><span class="op" id="4395464">.</span><span class="ident" id="4395465">CanAddr</span><span class="op" id="4395472">(</span><span class="op" id="4395473">)</span>&nbsp;<span class="op" id="4395475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395479">return</span>&nbsp;<span class="builtintype" id="4395486">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395496">return</span>&nbsp;<span class="ident" id="4395503">decInt64Slice</span><span class="op" id="4395516">(</span><span class="ident" id="4395517">state</span><span class="op" id="4395522">,</span>&nbsp;<span class="ident" id="4395524">v</span><span class="op" id="4395525">.</span><span class="ident" id="4395526">Slice</span><span class="op" id="4395531">(</span><span class="num" id="4395532">0</span><span class="op" id="4395533">,</span>&nbsp;<span class="ident" id="4395535">v</span><span class="op" id="4395536">.</span><span class="ident" id="4395537">Len</span><span class="op" id="4395540">(</span><span class="op" id="4395541">)</span><span class="op" id="4395542">)</span><span class="op" id="4395543">,</span>&nbsp;<span class="ident" id="4395545">length</span><span class="op" id="4395551">,</span>&nbsp;<span class="ident" id="4395553">ovfl</span><span class="op" id="4395557">)</span><br>
<span class="lineno"></span><span class="op" id="4395559">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4395562">func</span>&nbsp;<span class="ident" id="4395567">decInt64Slice</span><span class="op" id="4395580">(</span><span class="ident" id="4395581">state</span>&nbsp;<span class="op" id="4395587">*</span><span class="ident" id="4395588">decoderState</span><span class="op" id="4395600">,</span>&nbsp;<span class="ident" id="4395602">v</span>&nbsp;<span class="ident" id="4395604">reflect</span><span class="op" id="4395611">.</span><span class="ident" id="4395612">Value</span><span class="op" id="4395617">,</span>&nbsp;<span class="ident" id="4395619">length</span>&nbsp;<span class="builtintype" id="4395626">int</span><span class="op" id="4395629">,</span>&nbsp;<span class="ident" id="4395631">ovfl</span>&nbsp;<span class="builtintype" id="4395636">error</span><span class="op" id="4395641">)</span>&nbsp;<span class="builtintype" id="4395643">bool</span>&nbsp;<span class="op" id="4395648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395651">slice</span><span class="op" id="4395656">,</span>&nbsp;<span class="ident" id="4395658">ok</span>&nbsp;<span class="op" id="4395661">:=</span>&nbsp;<span class="ident" id="4395664">v</span><span class="op" id="4395665">.</span><span class="ident" id="4395666">Interface</span><span class="op" id="4395675">(</span><span class="op" id="4395676">)</span><span class="op" id="4395677">.</span><span class="op" id="4395678">(</span><span class="op" id="4395679">[</span><span class="op" id="4395680">]</span><span class="ident" id="4395681">int64</span><span class="op" id="4395686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395689">if</span>&nbsp;<span class="op" id="4395692">!</span><span class="ident" id="4395693">ok</span>&nbsp;<span class="op" id="4395696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4395700">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395777">return</span>&nbsp;<span class="builtintype" id="4395784">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395794">for</span>&nbsp;<span class="ident" id="4395798">i</span>&nbsp;<span class="op" id="4395800">:=</span>&nbsp;<span class="num" id="4395803">0</span><span class="op" id="4395804">;</span>&nbsp;<span class="ident" id="4395806">i</span>&nbsp;<span class="op" id="4395808">&lt;</span>&nbsp;<span class="ident" id="4395810">length</span><span class="op" id="4395816">;</span>&nbsp;<span class="ident" id="4395818">i</span><span class="op" id="4395819">++</span>&nbsp;<span class="op" id="4395822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395826">if</span>&nbsp;<span class="ident" id="4395829">state</span><span class="op" id="4395834">.</span><span class="ident" id="4395835">b</span><span class="op" id="4395836">.</span><span class="ident" id="4395837">Len</span><span class="op" id="4395840">(</span><span class="op" id="4395841">)</span>&nbsp;<span class="op" id="4395843">==</span>&nbsp;<span class="num" id="4395846">0</span>&nbsp;<span class="op" id="4395848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395853">errorf</span><span class="op" id="4395859">(</span><span class="string" id="4395860">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4395932">,</span>&nbsp;<span class="ident" id="4395934">length</span><span class="op" id="4395940">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4395948">slice</span><span class="op" id="4395953">[</span><span class="ident" id="4395954">i</span><span class="op" id="4395955">]</span>&nbsp;<span class="op" id="4395957">=</span>&nbsp;<span class="ident" id="4395959">state</span><span class="op" id="4395964">.</span><span class="ident" id="4395965">decodeInt</span><span class="op" id="4395974">(</span><span class="op" id="4395975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4395978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4395981">return</span>&nbsp;<span class="builtintype" id="4395988">true</span><br>
<span class="lineno"></span><span class="op" id="4395993">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="4395996">func</span>&nbsp;<span class="ident" id="4396001">decInt8Array</span><span class="op" id="4396013">(</span><span class="ident" id="4396014">state</span>&nbsp;<span class="op" id="4396020">*</span><span class="ident" id="4396021">decoderState</span><span class="op" id="4396033">,</span>&nbsp;<span class="ident" id="4396035">v</span>&nbsp;<span class="ident" id="4396037">reflect</span><span class="op" id="4396044">.</span><span class="ident" id="4396045">Value</span><span class="op" id="4396050">,</span>&nbsp;<span class="ident" id="4396052">length</span>&nbsp;<span class="builtintype" id="4396059">int</span><span class="op" id="4396062">,</span>&nbsp;<span class="ident" id="4396064">ovfl</span>&nbsp;<span class="builtintype" id="4396069">error</span><span class="op" id="4396074">)</span>&nbsp;<span class="builtintype" id="4396076">bool</span>&nbsp;<span class="op" id="4396081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4396084">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396125">if</span>&nbsp;<span class="op" id="4396128">!</span><span class="ident" id="4396129">v</span><span class="op" id="4396130">.</span><span class="ident" id="4396131">CanAddr</span><span class="op" id="4396138">(</span><span class="op" id="4396139">)</span>&nbsp;<span class="op" id="4396141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396145">return</span>&nbsp;<span class="builtintype" id="4396152">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396162">return</span>&nbsp;<span class="ident" id="4396169">decInt8Slice</span><span class="op" id="4396181">(</span><span class="ident" id="4396182">state</span><span class="op" id="4396187">,</span>&nbsp;<span class="ident" id="4396189">v</span><span class="op" id="4396190">.</span><span class="ident" id="4396191">Slice</span><span class="op" id="4396196">(</span><span class="num" id="4396197">0</span><span class="op" id="4396198">,</span>&nbsp;<span class="ident" id="4396200">v</span><span class="op" id="4396201">.</span><span class="ident" id="4396202">Len</span><span class="op" id="4396205">(</span><span class="op" id="4396206">)</span><span class="op" id="4396207">)</span><span class="op" id="4396208">,</span>&nbsp;<span class="ident" id="4396210">length</span><span class="op" id="4396216">,</span>&nbsp;<span class="ident" id="4396218">ovfl</span><span class="op" id="4396222">)</span><br>
<span class="lineno"></span><span class="op" id="4396224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4396227">func</span>&nbsp;<span class="ident" id="4396232">decInt8Slice</span><span class="op" id="4396244">(</span><span class="ident" id="4396245">state</span>&nbsp;<span class="op" id="4396251">*</span><span class="ident" id="4396252">decoderState</span><span class="op" id="4396264">,</span>&nbsp;<span class="ident" id="4396266">v</span>&nbsp;<span class="ident" id="4396268">reflect</span><span class="op" id="4396275">.</span><span class="ident" id="4396276">Value</span><span class="op" id="4396281">,</span>&nbsp;<span class="ident" id="4396283">length</span>&nbsp;<span class="builtintype" id="4396290">int</span><span class="op" id="4396293">,</span>&nbsp;<span class="ident" id="4396295">ovfl</span>&nbsp;<span class="builtintype" id="4396300">error</span><span class="op" id="4396305">)</span>&nbsp;<span class="builtintype" id="4396307">bool</span>&nbsp;<span class="op" id="4396312">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396315">slice</span><span class="op" id="4396320">,</span>&nbsp;<span class="ident" id="4396322">ok</span>&nbsp;<span class="op" id="4396325">:=</span>&nbsp;<span class="ident" id="4396328">v</span><span class="op" id="4396329">.</span><span class="ident" id="4396330">Interface</span><span class="op" id="4396339">(</span><span class="op" id="4396340">)</span><span class="op" id="4396341">.</span><span class="op" id="4396342">(</span><span class="op" id="4396343">[</span><span class="op" id="4396344">]</span><span class="builtintype" id="4396345">int8</span><span class="op" id="4396349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396352">if</span>&nbsp;<span class="op" id="4396355">!</span><span class="ident" id="4396356">ok</span>&nbsp;<span class="op" id="4396359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4396363">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396438">return</span>&nbsp;<span class="builtintype" id="4396445">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396452">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396455">for</span>&nbsp;<span class="ident" id="4396459">i</span>&nbsp;<span class="op" id="4396461">:=</span>&nbsp;<span class="num" id="4396464">0</span><span class="op" id="4396465">;</span>&nbsp;<span class="ident" id="4396467">i</span>&nbsp;<span class="op" id="4396469">&lt;</span>&nbsp;<span class="ident" id="4396471">length</span><span class="op" id="4396477">;</span>&nbsp;<span class="ident" id="4396479">i</span><span class="op" id="4396480">++</span>&nbsp;<span class="op" id="4396483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396487">if</span>&nbsp;<span class="ident" id="4396490">state</span><span class="op" id="4396495">.</span><span class="ident" id="4396496">b</span><span class="op" id="4396497">.</span><span class="ident" id="4396498">Len</span><span class="op" id="4396501">(</span><span class="op" id="4396502">)</span>&nbsp;<span class="op" id="4396504">==</span>&nbsp;<span class="num" id="4396507">0</span>&nbsp;<span class="op" id="4396509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396514">errorf</span><span class="op" id="4396520">(</span><span class="string" id="4396521">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4396592">,</span>&nbsp;<span class="ident" id="4396594">length</span><span class="op" id="4396600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396608">x</span>&nbsp;<span class="op" id="4396610">:=</span>&nbsp;<span class="ident" id="4396613">state</span><span class="op" id="4396618">.</span><span class="ident" id="4396619">decodeInt</span><span class="op" id="4396628">(</span><span class="op" id="4396629">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396633">if</span>&nbsp;<span class="ident" id="4396636">x</span>&nbsp;<span class="op" id="4396638">&lt;</span>&nbsp;<span class="ident" id="4396640">math</span><span class="op" id="4396644">.</span><span class="ident" id="4396645">MinInt8</span>&nbsp;<span class="op" id="4396653">||</span>&nbsp;<span class="ident" id="4396656">math</span><span class="op" id="4396660">.</span><span class="ident" id="4396661">MaxInt8</span>&nbsp;<span class="op" id="4396669">&lt;</span>&nbsp;<span class="ident" id="4396671">x</span>&nbsp;<span class="op" id="4396673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396678">error_</span><span class="op" id="4396684">(</span><span class="ident" id="4396685">ovfl</span><span class="op" id="4396689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4396697">slice</span><span class="op" id="4396702">[</span><span class="ident" id="4396703">i</span><span class="op" id="4396704">]</span>&nbsp;<span class="op" id="4396706">=</span>&nbsp;<span class="builtintype" id="4396708">int8</span><span class="op" id="4396712">(</span><span class="ident" id="4396713">x</span><span class="op" id="4396714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396717">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396720">return</span>&nbsp;<span class="builtintype" id="4396727">true</span><br>
<span class="lineno"></span><span class="op" id="4396732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4396735">func</span>&nbsp;<span class="ident" id="4396740">decStringArray</span><span class="op" id="4396754">(</span><span class="ident" id="4396755">state</span>&nbsp;<span class="op" id="4396761">*</span><span class="ident" id="4396762">decoderState</span><span class="op" id="4396774">,</span>&nbsp;<span class="ident" id="4396776">v</span>&nbsp;<span class="ident" id="4396778">reflect</span><span class="op" id="4396785">.</span><span class="ident" id="4396786">Value</span><span class="op" id="4396791">,</span>&nbsp;<span class="ident" id="4396793">length</span>&nbsp;<span class="builtintype" id="4396800">int</span><span class="op" id="4396803">,</span>&nbsp;<span class="ident" id="4396805">ovfl</span>&nbsp;<span class="builtintype" id="4396810">error</span><span class="op" id="4396815">)</span>&nbsp;<span class="builtintype" id="4396817">bool</span>&nbsp;<span class="op" id="4396822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4396825">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396866">if</span>&nbsp;<span class="op" id="4396869">!</span><span class="ident" id="4396870">v</span><span class="op" id="4396871">.</span><span class="ident" id="4396872">CanAddr</span><span class="op" id="4396879">(</span><span class="op" id="4396880">)</span>&nbsp;<span class="op" id="4396882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396886">return</span>&nbsp;<span class="builtintype" id="4396893">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4396900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4396903">return</span>&nbsp;<span class="ident" id="4396910">decStringSlice</span><span class="op" id="4396924">(</span><span class="ident" id="4396925">state</span><span class="op" id="4396930">,</span>&nbsp;<span class="ident" id="4396932">v</span><span class="op" id="4396933">.</span><span class="ident" id="4396934">Slice</span><span class="op" id="4396939">(</span><span class="num" id="4396940">0</span><span class="op" id="4396941">,</span>&nbsp;<span class="ident" id="4396943">v</span><span class="op" id="4396944">.</span><span class="ident" id="4396945">Len</span><span class="op" id="4396948">(</span><span class="op" id="4396949">)</span><span class="op" id="4396950">)</span><span class="op" id="4396951">,</span>&nbsp;<span class="ident" id="4396953">length</span><span class="op" id="4396959">,</span>&nbsp;<span class="ident" id="4396961">ovfl</span><span class="op" id="4396965">)</span><br>
<span class="lineno"></span><span class="op" id="4396967">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="4396970">func</span>&nbsp;<span class="ident" id="4396975">decStringSlice</span><span class="op" id="4396989">(</span><span class="ident" id="4396990">state</span>&nbsp;<span class="op" id="4396996">*</span><span class="ident" id="4396997">decoderState</span><span class="op" id="4397009">,</span>&nbsp;<span class="ident" id="4397011">v</span>&nbsp;<span class="ident" id="4397013">reflect</span><span class="op" id="4397020">.</span><span class="ident" id="4397021">Value</span><span class="op" id="4397026">,</span>&nbsp;<span class="ident" id="4397028">length</span>&nbsp;<span class="builtintype" id="4397035">int</span><span class="op" id="4397038">,</span>&nbsp;<span class="ident" id="4397040">ovfl</span>&nbsp;<span class="builtintype" id="4397045">error</span><span class="op" id="4397050">)</span>&nbsp;<span class="builtintype" id="4397052">bool</span>&nbsp;<span class="op" id="4397057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397060">slice</span><span class="op" id="4397065">,</span>&nbsp;<span class="ident" id="4397067">ok</span>&nbsp;<span class="op" id="4397070">:=</span>&nbsp;<span class="ident" id="4397073">v</span><span class="op" id="4397074">.</span><span class="ident" id="4397075">Interface</span><span class="op" id="4397084">(</span><span class="op" id="4397085">)</span><span class="op" id="4397086">.</span><span class="op" id="4397087">(</span><span class="op" id="4397088">[</span><span class="op" id="4397089">]</span><span class="builtintype" id="4397090">string</span><span class="op" id="4397096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397099">if</span>&nbsp;<span class="op" id="4397102">!</span><span class="ident" id="4397103">ok</span>&nbsp;<span class="op" id="4397106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4397110">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397189">return</span>&nbsp;<span class="builtintype" id="4397196">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4397203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397206">for</span>&nbsp;<span class="ident" id="4397210">i</span>&nbsp;<span class="op" id="4397212">:=</span>&nbsp;<span class="num" id="4397215">0</span><span class="op" id="4397216">;</span>&nbsp;<span class="ident" id="4397218">i</span>&nbsp;<span class="op" id="4397220">&lt;</span>&nbsp;<span class="ident" id="4397222">length</span><span class="op" id="4397228">;</span>&nbsp;<span class="ident" id="4397230">i</span><span class="op" id="4397231">++</span>&nbsp;<span class="op" id="4397234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397238">if</span>&nbsp;<span class="ident" id="4397241">state</span><span class="op" id="4397246">.</span><span class="ident" id="4397247">b</span><span class="op" id="4397248">.</span><span class="ident" id="4397249">Len</span><span class="op" id="4397252">(</span><span class="op" id="4397253">)</span>&nbsp;<span class="op" id="4397255">==</span>&nbsp;<span class="num" id="4397258">0</span>&nbsp;<span class="op" id="4397260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397265">errorf</span><span class="op" id="4397271">(</span><span class="string" id="4397272">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4397345">,</span>&nbsp;<span class="ident" id="4397347">length</span><span class="op" id="4397353">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4397357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397361">u</span>&nbsp;<span class="op" id="4397363">:=</span>&nbsp;<span class="ident" id="4397366">state</span><span class="op" id="4397371">.</span><span class="ident" id="4397372">decodeUint</span><span class="op" id="4397382">(</span><span class="op" id="4397383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397387">n</span>&nbsp;<span class="op" id="4397389">:=</span>&nbsp;<span class="builtintype" id="4397392">int</span><span class="op" id="4397395">(</span><span class="ident" id="4397396">u</span><span class="op" id="4397397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397401">if</span>&nbsp;<span class="ident" id="4397404">n</span>&nbsp;<span class="op" id="4397406">&lt;</span>&nbsp;<span class="num" id="4397408">0</span>&nbsp;<span class="op" id="4397410">||</span>&nbsp;<span class="ident" id="4397413">uint64</span><span class="op" id="4397419">(</span><span class="ident" id="4397420">n</span><span class="op" id="4397421">)</span>&nbsp;<span class="op" id="4397423">!=</span>&nbsp;<span class="ident" id="4397426">u</span>&nbsp;<span class="op" id="4397428">||</span>&nbsp;<span class="ident" id="4397431">n</span>&nbsp;<span class="op" id="4397433">&gt;</span>&nbsp;<span class="ident" id="4397435">state</span><span class="op" id="4397440">.</span><span class="ident" id="4397441">b</span><span class="op" id="4397442">.</span><span class="ident" id="4397443">Len</span><span class="op" id="4397446">(</span><span class="op" id="4397447">)</span>&nbsp;<span class="op" id="4397449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397454">errorf</span><span class="op" id="4397460">(</span><span class="string" id="4397461">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="4397509">,</span>&nbsp;<span class="ident" id="4397511">u</span><span class="op" id="4397512">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4397516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397520">if</span>&nbsp;<span class="ident" id="4397523">n</span>&nbsp;<span class="op" id="4397525">&gt;</span>&nbsp;<span class="ident" id="4397527">state</span><span class="op" id="4397532">.</span><span class="ident" id="4397533">b</span><span class="op" id="4397534">.</span><span class="ident" id="4397535">Len</span><span class="op" id="4397538">(</span><span class="op" id="4397539">)</span>&nbsp;<span class="op" id="4397541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397546">errorf</span><span class="op" id="4397552">(</span><span class="string" id="4397553">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="4397590">,</span>&nbsp;<span class="ident" id="4397592">n</span><span class="op" id="4397593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4397597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4397601">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397621">data</span>&nbsp;<span class="op" id="4397626">:=</span>&nbsp;<span class="builtinfunc" id="4397629">make</span><span class="op" id="4397633">(</span><span class="op" id="4397634">[</span><span class="op" id="4397635">]</span><span class="builtintype" id="4397636">byte</span><span class="op" id="4397640">,</span>&nbsp;<span class="ident" id="4397642">n</span><span class="op" id="4397643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397647">if</span>&nbsp;<span class="ident" id="4397650">_</span><span class="op" id="4397651">,</span>&nbsp;<span class="ident" id="4397653">err</span>&nbsp;<span class="op" id="4397657">:=</span>&nbsp;<span class="ident" id="4397660">state</span><span class="op" id="4397665">.</span><span class="ident" id="4397666">b</span><span class="op" id="4397667">.</span><span class="ident" id="4397668">Read</span><span class="op" id="4397672">(</span><span class="ident" id="4397673">data</span><span class="op" id="4397677">)</span><span class="op" id="4397678">;</span>&nbsp;<span class="ident" id="4397680">err</span>&nbsp;<span class="op" id="4397684">!=</span>&nbsp;<span class="ident" id="4397687">nil</span>&nbsp;<span class="op" id="4397691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397696">errorf</span><span class="op" id="4397702">(</span><span class="string" id="4397703">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="4397730">,</span>&nbsp;<span class="ident" id="4397732">err</span><span class="op" id="4397735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4397739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4397743">slice</span><span class="op" id="4397748">[</span><span class="ident" id="4397749">i</span><span class="op" id="4397750">]</span>&nbsp;<span class="op" id="4397752">=</span>&nbsp;<span class="builtintype" id="4397754">string</span><span class="op" id="4397760">(</span><span class="ident" id="4397761">data</span><span class="op" id="4397765">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4397768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397771">return</span>&nbsp;<span class="builtintype" id="4397778">true</span><br>
<span class="lineno"></span><span class="op" id="4397783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4397786">func</span>&nbsp;<span class="ident" id="4397791">decUintArray</span><span class="op" id="4397803">(</span><span class="ident" id="4397804">state</span>&nbsp;<span class="op" id="4397810">*</span><span class="ident" id="4397811">decoderState</span><span class="op" id="4397823">,</span>&nbsp;<span class="ident" id="4397825">v</span>&nbsp;<span class="ident" id="4397827">reflect</span><span class="op" id="4397834">.</span><span class="ident" id="4397835">Value</span><span class="op" id="4397840">,</span>&nbsp;<span class="ident" id="4397842">length</span>&nbsp;<span class="builtintype" id="4397849">int</span><span class="op" id="4397852">,</span>&nbsp;<span class="ident" id="4397854">ovfl</span>&nbsp;<span class="builtintype" id="4397859">error</span><span class="op" id="4397864">)</span>&nbsp;<span class="builtintype" id="4397866">bool</span>&nbsp;<span class="op" id="4397871">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4397874">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397915">if</span>&nbsp;<span class="op" id="4397918">!</span><span class="ident" id="4397919">v</span><span class="op" id="4397920">.</span><span class="ident" id="4397921">CanAddr</span><span class="op" id="4397928">(</span><span class="op" id="4397929">)</span>&nbsp;<span class="op" id="4397931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397935">return</span>&nbsp;<span class="builtintype" id="4397942">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4397949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4397952">return</span>&nbsp;<span class="ident" id="4397959">decUintSlice</span><span class="op" id="4397971">(</span><span class="ident" id="4397972">state</span><span class="op" id="4397977">,</span>&nbsp;<span class="ident" id="4397979">v</span><span class="op" id="4397980">.</span><span class="ident" id="4397981">Slice</span><span class="op" id="4397986">(</span><span class="num" id="4397987">0</span><span class="op" id="4397988">,</span>&nbsp;<span class="ident" id="4397990">v</span><span class="op" id="4397991">.</span><span class="ident" id="4397992">Len</span><span class="op" id="4397995">(</span><span class="op" id="4397996">)</span><span class="op" id="4397997">)</span><span class="op" id="4397998">,</span>&nbsp;<span class="ident" id="4398000">length</span><span class="op" id="4398006">,</span>&nbsp;<span class="ident" id="4398008">ovfl</span><span class="op" id="4398012">)</span><br>
<span class="lineno">345</span><span class="op" id="4398014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4398017">func</span>&nbsp;<span class="ident" id="4398022">decUintSlice</span><span class="op" id="4398034">(</span><span class="ident" id="4398035">state</span>&nbsp;<span class="op" id="4398041">*</span><span class="ident" id="4398042">decoderState</span><span class="op" id="4398054">,</span>&nbsp;<span class="ident" id="4398056">v</span>&nbsp;<span class="ident" id="4398058">reflect</span><span class="op" id="4398065">.</span><span class="ident" id="4398066">Value</span><span class="op" id="4398071">,</span>&nbsp;<span class="ident" id="4398073">length</span>&nbsp;<span class="builtintype" id="4398080">int</span><span class="op" id="4398083">,</span>&nbsp;<span class="ident" id="4398085">ovfl</span>&nbsp;<span class="builtintype" id="4398090">error</span><span class="op" id="4398095">)</span>&nbsp;<span class="builtintype" id="4398097">bool</span>&nbsp;<span class="op" id="4398102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398105">slice</span><span class="op" id="4398110">,</span>&nbsp;<span class="ident" id="4398112">ok</span>&nbsp;<span class="op" id="4398115">:=</span>&nbsp;<span class="ident" id="4398118">v</span><span class="op" id="4398119">.</span><span class="ident" id="4398120">Interface</span><span class="op" id="4398129">(</span><span class="op" id="4398130">)</span><span class="op" id="4398131">.</span><span class="op" id="4398132">(</span><span class="op" id="4398133">[</span><span class="op" id="4398134">]</span><span class="builtintype" id="4398135">uint</span><span class="op" id="4398139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398142">if</span>&nbsp;<span class="op" id="4398145">!</span><span class="ident" id="4398146">ok</span>&nbsp;<span class="op" id="4398149">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4398153">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398228">return</span>&nbsp;<span class="builtintype" id="4398235">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398245">for</span>&nbsp;<span class="ident" id="4398249">i</span>&nbsp;<span class="op" id="4398251">:=</span>&nbsp;<span class="num" id="4398254">0</span><span class="op" id="4398255">;</span>&nbsp;<span class="ident" id="4398257">i</span>&nbsp;<span class="op" id="4398259">&lt;</span>&nbsp;<span class="ident" id="4398261">length</span><span class="op" id="4398267">;</span>&nbsp;<span class="ident" id="4398269">i</span><span class="op" id="4398270">++</span>&nbsp;<span class="op" id="4398273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398277">if</span>&nbsp;<span class="ident" id="4398280">state</span><span class="op" id="4398285">.</span><span class="ident" id="4398286">b</span><span class="op" id="4398287">.</span><span class="ident" id="4398288">Len</span><span class="op" id="4398291">(</span><span class="op" id="4398292">)</span>&nbsp;<span class="op" id="4398294">==</span>&nbsp;<span class="num" id="4398297">0</span>&nbsp;<span class="op" id="4398299">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398304">errorf</span><span class="op" id="4398310">(</span><span class="string" id="4398311">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4398382">,</span>&nbsp;<span class="ident" id="4398384">length</span><span class="op" id="4398390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398398">x</span>&nbsp;<span class="op" id="4398400">:=</span>&nbsp;<span class="ident" id="4398403">state</span><span class="op" id="4398408">.</span><span class="ident" id="4398409">decodeUint</span><span class="op" id="4398419">(</span><span class="op" id="4398420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4398424">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398479">slice</span><span class="op" id="4398484">[</span><span class="ident" id="4398485">i</span><span class="op" id="4398486">]</span>&nbsp;<span class="op" id="4398488">=</span>&nbsp;<span class="builtintype" id="4398490">uint</span><span class="op" id="4398494">(</span><span class="ident" id="4398495">x</span><span class="op" id="4398496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398502">return</span>&nbsp;<span class="builtintype" id="4398509">true</span><br>
<span class="lineno"></span><span class="op" id="4398514">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="4398517">func</span>&nbsp;<span class="ident" id="4398522">decUint16Array</span><span class="op" id="4398536">(</span><span class="ident" id="4398537">state</span>&nbsp;<span class="op" id="4398543">*</span><span class="ident" id="4398544">decoderState</span><span class="op" id="4398556">,</span>&nbsp;<span class="ident" id="4398558">v</span>&nbsp;<span class="ident" id="4398560">reflect</span><span class="op" id="4398567">.</span><span class="ident" id="4398568">Value</span><span class="op" id="4398573">,</span>&nbsp;<span class="ident" id="4398575">length</span>&nbsp;<span class="builtintype" id="4398582">int</span><span class="op" id="4398585">,</span>&nbsp;<span class="ident" id="4398587">ovfl</span>&nbsp;<span class="builtintype" id="4398592">error</span><span class="op" id="4398597">)</span>&nbsp;<span class="builtintype" id="4398599">bool</span>&nbsp;<span class="op" id="4398604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4398607">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398648">if</span>&nbsp;<span class="op" id="4398651">!</span><span class="ident" id="4398652">v</span><span class="op" id="4398653">.</span><span class="ident" id="4398654">CanAddr</span><span class="op" id="4398661">(</span><span class="op" id="4398662">)</span>&nbsp;<span class="op" id="4398664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398668">return</span>&nbsp;<span class="builtintype" id="4398675">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398685">return</span>&nbsp;<span class="ident" id="4398692">decUint16Slice</span><span class="op" id="4398706">(</span><span class="ident" id="4398707">state</span><span class="op" id="4398712">,</span>&nbsp;<span class="ident" id="4398714">v</span><span class="op" id="4398715">.</span><span class="ident" id="4398716">Slice</span><span class="op" id="4398721">(</span><span class="num" id="4398722">0</span><span class="op" id="4398723">,</span>&nbsp;<span class="ident" id="4398725">v</span><span class="op" id="4398726">.</span><span class="ident" id="4398727">Len</span><span class="op" id="4398730">(</span><span class="op" id="4398731">)</span><span class="op" id="4398732">)</span><span class="op" id="4398733">,</span>&nbsp;<span class="ident" id="4398735">length</span><span class="op" id="4398741">,</span>&nbsp;<span class="ident" id="4398743">ovfl</span><span class="op" id="4398747">)</span><br>
<span class="lineno"></span><span class="op" id="4398749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4398752">func</span>&nbsp;<span class="ident" id="4398757">decUint16Slice</span><span class="op" id="4398771">(</span><span class="ident" id="4398772">state</span>&nbsp;<span class="op" id="4398778">*</span><span class="ident" id="4398779">decoderState</span><span class="op" id="4398791">,</span>&nbsp;<span class="ident" id="4398793">v</span>&nbsp;<span class="ident" id="4398795">reflect</span><span class="op" id="4398802">.</span><span class="ident" id="4398803">Value</span><span class="op" id="4398808">,</span>&nbsp;<span class="ident" id="4398810">length</span>&nbsp;<span class="builtintype" id="4398817">int</span><span class="op" id="4398820">,</span>&nbsp;<span class="ident" id="4398822">ovfl</span>&nbsp;<span class="builtintype" id="4398827">error</span><span class="op" id="4398832">)</span>&nbsp;<span class="builtintype" id="4398834">bool</span>&nbsp;<span class="op" id="4398839">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4398842">slice</span><span class="op" id="4398847">,</span>&nbsp;<span class="ident" id="4398849">ok</span>&nbsp;<span class="op" id="4398852">:=</span>&nbsp;<span class="ident" id="4398855">v</span><span class="op" id="4398856">.</span><span class="ident" id="4398857">Interface</span><span class="op" id="4398866">(</span><span class="op" id="4398867">)</span><span class="op" id="4398868">.</span><span class="op" id="4398869">(</span><span class="op" id="4398870">[</span><span class="op" id="4398871">]</span><span class="builtintype" id="4398872">uint16</span><span class="op" id="4398878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398881">if</span>&nbsp;<span class="op" id="4398884">!</span><span class="ident" id="4398885">ok</span>&nbsp;<span class="op" id="4398888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4398892">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398971">return</span>&nbsp;<span class="builtintype" id="4398978">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4398985">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4398988">for</span>&nbsp;<span class="ident" id="4398992">i</span>&nbsp;<span class="op" id="4398994">:=</span>&nbsp;<span class="num" id="4398997">0</span><span class="op" id="4398998">;</span>&nbsp;<span class="ident" id="4399000">i</span>&nbsp;<span class="op" id="4399002">&lt;</span>&nbsp;<span class="ident" id="4399004">length</span><span class="op" id="4399010">;</span>&nbsp;<span class="ident" id="4399012">i</span><span class="op" id="4399013">++</span>&nbsp;<span class="op" id="4399016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399020">if</span>&nbsp;<span class="ident" id="4399023">state</span><span class="op" id="4399028">.</span><span class="ident" id="4399029">b</span><span class="op" id="4399030">.</span><span class="ident" id="4399031">Len</span><span class="op" id="4399034">(</span><span class="op" id="4399035">)</span>&nbsp;<span class="op" id="4399037">==</span>&nbsp;<span class="num" id="4399040">0</span>&nbsp;<span class="op" id="4399042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399047">errorf</span><span class="op" id="4399053">(</span><span class="string" id="4399054">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4399127">,</span>&nbsp;<span class="ident" id="4399129">length</span><span class="op" id="4399135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399143">x</span>&nbsp;<span class="op" id="4399145">:=</span>&nbsp;<span class="ident" id="4399148">state</span><span class="op" id="4399153">.</span><span class="ident" id="4399154">decodeUint</span><span class="op" id="4399164">(</span><span class="op" id="4399165">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399169">if</span>&nbsp;<span class="ident" id="4399172">math</span><span class="op" id="4399176">.</span><span class="ident" id="4399177">MaxUint16</span>&nbsp;<span class="op" id="4399187">&lt;</span>&nbsp;<span class="ident" id="4399189">x</span>&nbsp;<span class="op" id="4399191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399196">error_</span><span class="op" id="4399202">(</span><span class="ident" id="4399203">ovfl</span><span class="op" id="4399207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399215">slice</span><span class="op" id="4399220">[</span><span class="ident" id="4399221">i</span><span class="op" id="4399222">]</span>&nbsp;<span class="op" id="4399224">=</span>&nbsp;<span class="builtintype" id="4399226">uint16</span><span class="op" id="4399232">(</span><span class="ident" id="4399233">x</span><span class="op" id="4399234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399237">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399240">return</span>&nbsp;<span class="builtintype" id="4399247">true</span><br>
<span class="lineno"></span><span class="op" id="4399252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4399255">func</span>&nbsp;<span class="ident" id="4399260">decUint32Array</span><span class="op" id="4399274">(</span><span class="ident" id="4399275">state</span>&nbsp;<span class="op" id="4399281">*</span><span class="ident" id="4399282">decoderState</span><span class="op" id="4399294">,</span>&nbsp;<span class="ident" id="4399296">v</span>&nbsp;<span class="ident" id="4399298">reflect</span><span class="op" id="4399305">.</span><span class="ident" id="4399306">Value</span><span class="op" id="4399311">,</span>&nbsp;<span class="ident" id="4399313">length</span>&nbsp;<span class="builtintype" id="4399320">int</span><span class="op" id="4399323">,</span>&nbsp;<span class="ident" id="4399325">ovfl</span>&nbsp;<span class="builtintype" id="4399330">error</span><span class="op" id="4399335">)</span>&nbsp;<span class="builtintype" id="4399337">bool</span>&nbsp;<span class="op" id="4399342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4399345">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399386">if</span>&nbsp;<span class="op" id="4399389">!</span><span class="ident" id="4399390">v</span><span class="op" id="4399391">.</span><span class="ident" id="4399392">CanAddr</span><span class="op" id="4399399">(</span><span class="op" id="4399400">)</span>&nbsp;<span class="op" id="4399402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399406">return</span>&nbsp;<span class="builtintype" id="4399413">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399423">return</span>&nbsp;<span class="ident" id="4399430">decUint32Slice</span><span class="op" id="4399444">(</span><span class="ident" id="4399445">state</span><span class="op" id="4399450">,</span>&nbsp;<span class="ident" id="4399452">v</span><span class="op" id="4399453">.</span><span class="ident" id="4399454">Slice</span><span class="op" id="4399459">(</span><span class="num" id="4399460">0</span><span class="op" id="4399461">,</span>&nbsp;<span class="ident" id="4399463">v</span><span class="op" id="4399464">.</span><span class="ident" id="4399465">Len</span><span class="op" id="4399468">(</span><span class="op" id="4399469">)</span><span class="op" id="4399470">)</span><span class="op" id="4399471">,</span>&nbsp;<span class="ident" id="4399473">length</span><span class="op" id="4399479">,</span>&nbsp;<span class="ident" id="4399481">ovfl</span><span class="op" id="4399485">)</span><br>
<span class="lineno"></span><span class="op" id="4399487">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="4399490">func</span>&nbsp;<span class="ident" id="4399495">decUint32Slice</span><span class="op" id="4399509">(</span><span class="ident" id="4399510">state</span>&nbsp;<span class="op" id="4399516">*</span><span class="ident" id="4399517">decoderState</span><span class="op" id="4399529">,</span>&nbsp;<span class="ident" id="4399531">v</span>&nbsp;<span class="ident" id="4399533">reflect</span><span class="op" id="4399540">.</span><span class="ident" id="4399541">Value</span><span class="op" id="4399546">,</span>&nbsp;<span class="ident" id="4399548">length</span>&nbsp;<span class="builtintype" id="4399555">int</span><span class="op" id="4399558">,</span>&nbsp;<span class="ident" id="4399560">ovfl</span>&nbsp;<span class="builtintype" id="4399565">error</span><span class="op" id="4399570">)</span>&nbsp;<span class="builtintype" id="4399572">bool</span>&nbsp;<span class="op" id="4399577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399580">slice</span><span class="op" id="4399585">,</span>&nbsp;<span class="ident" id="4399587">ok</span>&nbsp;<span class="op" id="4399590">:=</span>&nbsp;<span class="ident" id="4399593">v</span><span class="op" id="4399594">.</span><span class="ident" id="4399595">Interface</span><span class="op" id="4399604">(</span><span class="op" id="4399605">)</span><span class="op" id="4399606">.</span><span class="op" id="4399607">(</span><span class="op" id="4399608">[</span><span class="op" id="4399609">]</span><span class="builtintype" id="4399610">uint32</span><span class="op" id="4399616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399619">if</span>&nbsp;<span class="op" id="4399622">!</span><span class="ident" id="4399623">ok</span>&nbsp;<span class="op" id="4399626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4399630">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399709">return</span>&nbsp;<span class="builtintype" id="4399716">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399726">for</span>&nbsp;<span class="ident" id="4399730">i</span>&nbsp;<span class="op" id="4399732">:=</span>&nbsp;<span class="num" id="4399735">0</span><span class="op" id="4399736">;</span>&nbsp;<span class="ident" id="4399738">i</span>&nbsp;<span class="op" id="4399740">&lt;</span>&nbsp;<span class="ident" id="4399742">length</span><span class="op" id="4399748">;</span>&nbsp;<span class="ident" id="4399750">i</span><span class="op" id="4399751">++</span>&nbsp;<span class="op" id="4399754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399758">if</span>&nbsp;<span class="ident" id="4399761">state</span><span class="op" id="4399766">.</span><span class="ident" id="4399767">b</span><span class="op" id="4399768">.</span><span class="ident" id="4399769">Len</span><span class="op" id="4399772">(</span><span class="op" id="4399773">)</span>&nbsp;<span class="op" id="4399775">==</span>&nbsp;<span class="num" id="4399778">0</span>&nbsp;<span class="op" id="4399780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399785">errorf</span><span class="op" id="4399791">(</span><span class="string" id="4399792">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4399865">,</span>&nbsp;<span class="ident" id="4399867">length</span><span class="op" id="4399873">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399881">x</span>&nbsp;<span class="op" id="4399883">:=</span>&nbsp;<span class="ident" id="4399886">state</span><span class="op" id="4399891">.</span><span class="ident" id="4399892">decodeUint</span><span class="op" id="4399902">(</span><span class="op" id="4399903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399907">if</span>&nbsp;<span class="ident" id="4399910">math</span><span class="op" id="4399914">.</span><span class="ident" id="4399915">MaxUint32</span>&nbsp;<span class="op" id="4399925">&lt;</span>&nbsp;<span class="ident" id="4399927">x</span>&nbsp;<span class="op" id="4399929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399934">error_</span><span class="op" id="4399940">(</span><span class="ident" id="4399941">ovfl</span><span class="op" id="4399945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399949">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4399953">slice</span><span class="op" id="4399958">[</span><span class="ident" id="4399959">i</span><span class="op" id="4399960">]</span>&nbsp;<span class="op" id="4399962">=</span>&nbsp;<span class="builtintype" id="4399964">uint32</span><span class="op" id="4399970">(</span><span class="ident" id="4399971">x</span><span class="op" id="4399972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4399975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4399978">return</span>&nbsp;<span class="builtintype" id="4399985">true</span><br>
<span class="lineno"></span><span class="op" id="4399990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="4399993">func</span>&nbsp;<span class="ident" id="4399998">decUint64Array</span><span class="op" id="4400012">(</span><span class="ident" id="4400013">state</span>&nbsp;<span class="op" id="4400019">*</span><span class="ident" id="4400020">decoderState</span><span class="op" id="4400032">,</span>&nbsp;<span class="ident" id="4400034">v</span>&nbsp;<span class="ident" id="4400036">reflect</span><span class="op" id="4400043">.</span><span class="ident" id="4400044">Value</span><span class="op" id="4400049">,</span>&nbsp;<span class="ident" id="4400051">length</span>&nbsp;<span class="builtintype" id="4400058">int</span><span class="op" id="4400061">,</span>&nbsp;<span class="ident" id="4400063">ovfl</span>&nbsp;<span class="builtintype" id="4400068">error</span><span class="op" id="4400073">)</span>&nbsp;<span class="builtintype" id="4400075">bool</span>&nbsp;<span class="op" id="4400080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4400083">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400124">if</span>&nbsp;<span class="op" id="4400127">!</span><span class="ident" id="4400128">v</span><span class="op" id="4400129">.</span><span class="ident" id="4400130">CanAddr</span><span class="op" id="4400137">(</span><span class="op" id="4400138">)</span>&nbsp;<span class="op" id="4400140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400144">return</span>&nbsp;<span class="builtintype" id="4400151">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400158">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400161">return</span>&nbsp;<span class="ident" id="4400168">decUint64Slice</span><span class="op" id="4400182">(</span><span class="ident" id="4400183">state</span><span class="op" id="4400188">,</span>&nbsp;<span class="ident" id="4400190">v</span><span class="op" id="4400191">.</span><span class="ident" id="4400192">Slice</span><span class="op" id="4400197">(</span><span class="num" id="4400198">0</span><span class="op" id="4400199">,</span>&nbsp;<span class="ident" id="4400201">v</span><span class="op" id="4400202">.</span><span class="ident" id="4400203">Len</span><span class="op" id="4400206">(</span><span class="op" id="4400207">)</span><span class="op" id="4400208">)</span><span class="op" id="4400209">,</span>&nbsp;<span class="ident" id="4400211">length</span><span class="op" id="4400217">,</span>&nbsp;<span class="ident" id="4400219">ovfl</span><span class="op" id="4400223">)</span><br>
<span class="lineno"></span><span class="op" id="4400225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4400228">func</span>&nbsp;<span class="ident" id="4400233">decUint64Slice</span><span class="op" id="4400247">(</span><span class="ident" id="4400248">state</span>&nbsp;<span class="op" id="4400254">*</span><span class="ident" id="4400255">decoderState</span><span class="op" id="4400267">,</span>&nbsp;<span class="ident" id="4400269">v</span>&nbsp;<span class="ident" id="4400271">reflect</span><span class="op" id="4400278">.</span><span class="ident" id="4400279">Value</span><span class="op" id="4400284">,</span>&nbsp;<span class="ident" id="4400286">length</span>&nbsp;<span class="builtintype" id="4400293">int</span><span class="op" id="4400296">,</span>&nbsp;<span class="ident" id="4400298">ovfl</span>&nbsp;<span class="builtintype" id="4400303">error</span><span class="op" id="4400308">)</span>&nbsp;<span class="builtintype" id="4400310">bool</span>&nbsp;<span class="op" id="4400315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400318">slice</span><span class="op" id="4400323">,</span>&nbsp;<span class="ident" id="4400325">ok</span>&nbsp;<span class="op" id="4400328">:=</span>&nbsp;<span class="ident" id="4400331">v</span><span class="op" id="4400332">.</span><span class="ident" id="4400333">Interface</span><span class="op" id="4400342">(</span><span class="op" id="4400343">)</span><span class="op" id="4400344">.</span><span class="op" id="4400345">(</span><span class="op" id="4400346">[</span><span class="op" id="4400347">]</span><span class="ident" id="4400348">uint64</span><span class="op" id="4400354">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400357">if</span>&nbsp;<span class="op" id="4400360">!</span><span class="ident" id="4400361">ok</span>&nbsp;<span class="op" id="4400364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4400368">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400447">return</span>&nbsp;<span class="builtintype" id="4400454">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400464">for</span>&nbsp;<span class="ident" id="4400468">i</span>&nbsp;<span class="op" id="4400470">:=</span>&nbsp;<span class="num" id="4400473">0</span><span class="op" id="4400474">;</span>&nbsp;<span class="ident" id="4400476">i</span>&nbsp;<span class="op" id="4400478">&lt;</span>&nbsp;<span class="ident" id="4400480">length</span><span class="op" id="4400486">;</span>&nbsp;<span class="ident" id="4400488">i</span><span class="op" id="4400489">++</span>&nbsp;<span class="op" id="4400492">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400496">if</span>&nbsp;<span class="ident" id="4400499">state</span><span class="op" id="4400504">.</span><span class="ident" id="4400505">b</span><span class="op" id="4400506">.</span><span class="ident" id="4400507">Len</span><span class="op" id="4400510">(</span><span class="op" id="4400511">)</span>&nbsp;<span class="op" id="4400513">==</span>&nbsp;<span class="num" id="4400516">0</span>&nbsp;<span class="op" id="4400518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400523">errorf</span><span class="op" id="4400529">(</span><span class="string" id="4400530">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4400603">,</span>&nbsp;<span class="ident" id="4400605">length</span><span class="op" id="4400611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400619">slice</span><span class="op" id="4400624">[</span><span class="ident" id="4400625">i</span><span class="op" id="4400626">]</span>&nbsp;<span class="op" id="4400628">=</span>&nbsp;<span class="ident" id="4400630">state</span><span class="op" id="4400635">.</span><span class="ident" id="4400636">decodeUint</span><span class="op" id="4400646">(</span><span class="op" id="4400647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400650">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400653">return</span>&nbsp;<span class="builtintype" id="4400660">true</span><br>
<span class="lineno"></span><span class="op" id="4400665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4400668">func</span>&nbsp;<span class="ident" id="4400673">decUintptrArray</span><span class="op" id="4400688">(</span><span class="ident" id="4400689">state</span>&nbsp;<span class="op" id="4400695">*</span><span class="ident" id="4400696">decoderState</span><span class="op" id="4400708">,</span>&nbsp;<span class="ident" id="4400710">v</span>&nbsp;<span class="ident" id="4400712">reflect</span><span class="op" id="4400719">.</span><span class="ident" id="4400720">Value</span><span class="op" id="4400725">,</span>&nbsp;<span class="ident" id="4400727">length</span>&nbsp;<span class="builtintype" id="4400734">int</span><span class="op" id="4400737">,</span>&nbsp;<span class="ident" id="4400739">ovfl</span>&nbsp;<span class="builtintype" id="4400744">error</span><span class="op" id="4400749">)</span>&nbsp;<span class="builtintype" id="4400751">bool</span>&nbsp;<span class="op" id="4400756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4400759">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400800">if</span>&nbsp;<span class="op" id="4400803">!</span><span class="ident" id="4400804">v</span><span class="op" id="4400805">.</span><span class="ident" id="4400806">CanAddr</span><span class="op" id="4400813">(</span><span class="op" id="4400814">)</span>&nbsp;<span class="op" id="4400816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400820">return</span>&nbsp;<span class="builtintype" id="4400827">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4400834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4400837">return</span>&nbsp;<span class="ident" id="4400844">decUintptrSlice</span><span class="op" id="4400859">(</span><span class="ident" id="4400860">state</span><span class="op" id="4400865">,</span>&nbsp;<span class="ident" id="4400867">v</span><span class="op" id="4400868">.</span><span class="ident" id="4400869">Slice</span><span class="op" id="4400874">(</span><span class="num" id="4400875">0</span><span class="op" id="4400876">,</span>&nbsp;<span class="ident" id="4400878">v</span><span class="op" id="4400879">.</span><span class="ident" id="4400880">Len</span><span class="op" id="4400883">(</span><span class="op" id="4400884">)</span><span class="op" id="4400885">)</span><span class="op" id="4400886">,</span>&nbsp;<span class="ident" id="4400888">length</span><span class="op" id="4400894">,</span>&nbsp;<span class="ident" id="4400896">ovfl</span><span class="op" id="4400900">)</span><br>
<span class="lineno"></span><span class="op" id="4400902">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="4400905">func</span>&nbsp;<span class="ident" id="4400910">decUintptrSlice</span><span class="op" id="4400925">(</span><span class="ident" id="4400926">state</span>&nbsp;<span class="op" id="4400932">*</span><span class="ident" id="4400933">decoderState</span><span class="op" id="4400945">,</span>&nbsp;<span class="ident" id="4400947">v</span>&nbsp;<span class="ident" id="4400949">reflect</span><span class="op" id="4400956">.</span><span class="ident" id="4400957">Value</span><span class="op" id="4400962">,</span>&nbsp;<span class="ident" id="4400964">length</span>&nbsp;<span class="builtintype" id="4400971">int</span><span class="op" id="4400974">,</span>&nbsp;<span class="ident" id="4400976">ovfl</span>&nbsp;<span class="builtintype" id="4400981">error</span><span class="op" id="4400986">)</span>&nbsp;<span class="builtintype" id="4400988">bool</span>&nbsp;<span class="op" id="4400993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4400996">slice</span><span class="op" id="4401001">,</span>&nbsp;<span class="ident" id="4401003">ok</span>&nbsp;<span class="op" id="4401006">:=</span>&nbsp;<span class="ident" id="4401009">v</span><span class="op" id="4401010">.</span><span class="ident" id="4401011">Interface</span><span class="op" id="4401020">(</span><span class="op" id="4401021">)</span><span class="op" id="4401022">.</span><span class="op" id="4401023">(</span><span class="op" id="4401024">[</span><span class="op" id="4401025">]</span><span class="builtintype" id="4401026">uintptr</span><span class="op" id="4401033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401036">if</span>&nbsp;<span class="op" id="4401039">!</span><span class="ident" id="4401040">ok</span>&nbsp;<span class="op" id="4401043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4401047">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401128">return</span>&nbsp;<span class="builtintype" id="4401135">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401145">for</span>&nbsp;<span class="ident" id="4401149">i</span>&nbsp;<span class="op" id="4401151">:=</span>&nbsp;<span class="num" id="4401154">0</span><span class="op" id="4401155">;</span>&nbsp;<span class="ident" id="4401157">i</span>&nbsp;<span class="op" id="4401159">&lt;</span>&nbsp;<span class="ident" id="4401161">length</span><span class="op" id="4401167">;</span>&nbsp;<span class="ident" id="4401169">i</span><span class="op" id="4401170">++</span>&nbsp;<span class="op" id="4401173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401177">if</span>&nbsp;<span class="ident" id="4401180">state</span><span class="op" id="4401185">.</span><span class="ident" id="4401186">b</span><span class="op" id="4401187">.</span><span class="ident" id="4401188">Len</span><span class="op" id="4401191">(</span><span class="op" id="4401192">)</span>&nbsp;<span class="op" id="4401194">==</span>&nbsp;<span class="num" id="4401197">0</span>&nbsp;<span class="op" id="4401199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401204">errorf</span><span class="op" id="4401210">(</span><span class="string" id="4401211">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4401285">,</span>&nbsp;<span class="ident" id="4401287">length</span><span class="op" id="4401293">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401301">x</span>&nbsp;<span class="op" id="4401303">:=</span>&nbsp;<span class="ident" id="4401306">state</span><span class="op" id="4401311">.</span><span class="ident" id="4401312">decodeUint</span><span class="op" id="4401322">(</span><span class="op" id="4401323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401327">if</span>&nbsp;<span class="ident" id="4401330">uint64</span><span class="op" id="4401336">(</span><span class="op" id="4401337">^</span><span class="builtintype" id="4401338">uintptr</span><span class="op" id="4401345">(</span><span class="num" id="4401346">0</span><span class="op" id="4401347">)</span><span class="op" id="4401348">)</span>&nbsp;<span class="op" id="4401350">&lt;</span>&nbsp;<span class="ident" id="4401352">x</span>&nbsp;<span class="op" id="4401354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401359">error_</span><span class="op" id="4401365">(</span><span class="ident" id="4401366">ovfl</span><span class="op" id="4401370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401374">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4401378">slice</span><span class="op" id="4401383">[</span><span class="ident" id="4401384">i</span><span class="op" id="4401385">]</span>&nbsp;<span class="op" id="4401387">=</span>&nbsp;<span class="builtintype" id="4401389">uintptr</span><span class="op" id="4401396">(</span><span class="ident" id="4401397">x</span><span class="op" id="4401398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4401401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4401404">return</span>&nbsp;<span class="builtintype" id="4401411">true</span><br>
<span class="lineno"></span><span class="op" id="4401416">}</span>
</div>
</body>
</html>
