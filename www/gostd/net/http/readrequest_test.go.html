<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html" class="current">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7488307">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7488363">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7488417">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7488468">package</span>&nbsp;<span class="ident" id="7488476">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7488482">import</span>&nbsp;<span class="op" id="7488489">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488492">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488501">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488510">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488517">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488523">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488534">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488545">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488556">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7488566">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7488569">type</span>&nbsp;<span class="ident" id="7488574">reqTest</span>&nbsp;<span class="keyword" id="7488582">struct</span>&nbsp;<span class="op" id="7488589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7488592">Raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7488600">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7488608">Req</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488616">*</span><span class="ident" id="7488617">Request</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7488626">Body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7488634">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7488642">Trailer</span>&nbsp;<span class="ident" id="7488650">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7488658">Error</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7488666">string</span><br>
<span class="lineno"></span><span class="op" id="7488673">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7488676">var</span>&nbsp;<span class="ident" id="7488680">noError</span>&nbsp;<span class="op" id="7488688">=</span>&nbsp;<span class="string" id="7488690">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7488693">var</span>&nbsp;<span class="ident" id="7488697">noBody</span>&nbsp;<span class="op" id="7488704">=</span>&nbsp;<span class="string" id="7488706">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7488709">var</span>&nbsp;<span class="ident" id="7488713">noTrailer</span>&nbsp;<span class="ident" id="7488723">Header</span>&nbsp;<span class="op" id="7488730">=</span>&nbsp;<span class="builtintype" id="7488732">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="7488737">var</span>&nbsp;<span class="ident" id="7488741">reqTests</span>&nbsp;<span class="op" id="7488750">=</span>&nbsp;<span class="op" id="7488752">[</span><span class="op" id="7488753">]</span><span class="ident" id="7488754">reqTest</span><span class="op" id="7488761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7488764">//&nbsp;Baseline&nbsp;test;&nbsp;All&nbsp;Request&nbsp;fields&nbsp;included&nbsp;for&nbsp;template&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488832">&#34;GET&nbsp;http://www.techcrunch.com/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7488878">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488883">&#34;Host:&nbsp;www.techcrunch.com\r\n&#34;</span>&nbsp;<span class="op" id="7488914">+</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488919">&#34;User-Agent:&nbsp;Fake\r\n&#34;</span>&nbsp;<span class="op" id="7488942">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7488947">&#34;Accept:&nbsp;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\n&#34;</span>&nbsp;<span class="op" id="7489025">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489030">&#34;Accept-Language:&nbsp;en-us,en;q=0.5\r\n&#34;</span>&nbsp;<span class="op" id="7489068">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489073">&#34;Accept-Encoding:&nbsp;gzip,deflate\r\n&#34;</span>&nbsp;<span class="op" id="7489109">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489114">&#34;Accept-Charset:&nbsp;ISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n&#34;</span>&nbsp;<span class="op" id="7489167">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489172">&#34;Keep-Alive:&nbsp;300\r\n&#34;</span>&nbsp;<span class="op" id="7489194">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489199">&#34;Content-Length:&nbsp;7\r\n&#34;</span>&nbsp;<span class="op" id="7489223">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489228">&#34;Proxy-Connection:&nbsp;keep-alive\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7489267">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489272">&#34;abcdef\n???&#34;</span><span class="op" id="7489285">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7489290">&amp;</span><span class="ident" id="7489291">Request</span><span class="op" id="7489298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489303">Method</span><span class="op" id="7489309">:</span>&nbsp;<span class="string" id="7489311">&#34;GET&#34;</span><span class="op" id="7489316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489321">URL</span><span class="op" id="7489324">:</span>&nbsp;<span class="op" id="7489326">&amp;</span><span class="ident" id="7489327">url</span><span class="op" id="7489330">.</span><span class="ident" id="7489331">URL</span><span class="op" id="7489334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489340">Scheme</span><span class="op" id="7489346">:</span>&nbsp;<span class="string" id="7489348">&#34;http&#34;</span><span class="op" id="7489354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489360">Host</span><span class="op" id="7489364">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7489368">&#34;www.techcrunch.com&#34;</span><span class="op" id="7489388">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489394">Path</span><span class="op" id="7489398">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7489402">&#34;/&#34;</span><span class="op" id="7489405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7489410">}</span><span class="op" id="7489411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489416">Proto</span><span class="op" id="7489421">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489428">&#34;HTTP/1.1&#34;</span><span class="op" id="7489438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489443">ProtoMajor</span><span class="op" id="7489453">:</span>&nbsp;<span class="num" id="7489455">1</span><span class="op" id="7489456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489461">ProtoMinor</span><span class="op" id="7489471">:</span>&nbsp;<span class="num" id="7489473">1</span><span class="op" id="7489474">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489479">Header</span><span class="op" id="7489485">:</span>&nbsp;<span class="ident" id="7489487">Header</span><span class="op" id="7489493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489499">&#34;Accept&#34;</span><span class="op" id="7489507">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7489519">{</span><span class="string" id="7489520">&#34;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#34;</span><span class="op" id="7489585">}</span><span class="op" id="7489586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489592">&#34;Accept-Language&#34;</span><span class="op" id="7489609">:</span>&nbsp;&nbsp;<span class="op" id="7489612">{</span><span class="string" id="7489613">&#34;en-us,en;q=0.5&#34;</span><span class="op" id="7489629">}</span><span class="op" id="7489630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489636">&#34;Accept-Encoding&#34;</span><span class="op" id="7489653">:</span>&nbsp;&nbsp;<span class="op" id="7489656">{</span><span class="string" id="7489657">&#34;gzip,deflate&#34;</span><span class="op" id="7489671">}</span><span class="op" id="7489672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489678">&#34;Accept-Charset&#34;</span><span class="op" id="7489694">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7489698">{</span><span class="string" id="7489699">&#34;ISO-8859-1,utf-8;q=0.7,*;q=0.7&#34;</span><span class="op" id="7489731">}</span><span class="op" id="7489732">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489738">&#34;Keep-Alive&#34;</span><span class="op" id="7489750">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7489758">{</span><span class="string" id="7489759">&#34;300&#34;</span><span class="op" id="7489764">}</span><span class="op" id="7489765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489771">&#34;Proxy-Connection&#34;</span><span class="op" id="7489789">:</span>&nbsp;<span class="op" id="7489791">{</span><span class="string" id="7489792">&#34;keep-alive&#34;</span><span class="op" id="7489804">}</span><span class="op" id="7489805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489811">&#34;Content-Length&#34;</span><span class="op" id="7489827">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7489831">{</span><span class="string" id="7489832">&#34;7&#34;</span><span class="op" id="7489835">}</span><span class="op" id="7489836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489842">&#34;User-Agent&#34;</span><span class="op" id="7489854">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7489862">{</span><span class="string" id="7489863">&#34;Fake&#34;</span><span class="op" id="7489869">}</span><span class="op" id="7489870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7489875">}</span><span class="op" id="7489876">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489881">Close</span><span class="op" id="7489886">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7489896">false</span><span class="op" id="7489901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489906">ContentLength</span><span class="op" id="7489919">:</span>&nbsp;<span class="num" id="7489921">7</span><span class="op" id="7489922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489927">Host</span><span class="op" id="7489931">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489942">&#34;www.techcrunch.com&#34;</span><span class="op" id="7489962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489967">RequestURI</span><span class="op" id="7489977">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7489982">&#34;http://www.techcrunch.com/&#34;</span><span class="op" id="7490010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490014">}</span><span class="op" id="7490015">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490020">&#34;abcdef\n&#34;</span><span class="op" id="7490030">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490035">noTrailer</span><span class="op" id="7490044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490048">noError</span><span class="op" id="7490055">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490058">}</span><span class="op" id="7490059">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7490063">//&nbsp;GET&nbsp;request&nbsp;with&nbsp;no&nbsp;body&nbsp;(the&nbsp;normal&nbsp;case)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490114">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7490135">+</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490140">&#34;Host:&nbsp;foo.com\r\n\r\n&#34;</span><span class="op" id="7490163">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490168">&amp;</span><span class="ident" id="7490169">Request</span><span class="op" id="7490176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490181">Method</span><span class="op" id="7490187">:</span>&nbsp;<span class="string" id="7490189">&#34;GET&#34;</span><span class="op" id="7490194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490199">URL</span><span class="op" id="7490202">:</span>&nbsp;<span class="op" id="7490204">&amp;</span><span class="ident" id="7490205">url</span><span class="op" id="7490208">.</span><span class="ident" id="7490209">URL</span><span class="op" id="7490212">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490218">Path</span><span class="op" id="7490222">:</span>&nbsp;<span class="string" id="7490224">&#34;/&#34;</span><span class="op" id="7490227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490232">}</span><span class="op" id="7490233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490238">Proto</span><span class="op" id="7490243">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490253">&#34;HTTP/1.1&#34;</span><span class="op" id="7490263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490268">ProtoMajor</span><span class="op" id="7490278">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7490283">1</span><span class="op" id="7490284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490289">ProtoMinor</span><span class="op" id="7490299">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7490304">1</span><span class="op" id="7490305">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490310">Header</span><span class="op" id="7490316">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490325">Header</span><span class="op" id="7490331">{</span><span class="op" id="7490332">}</span><span class="op" id="7490333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490338">Close</span><span class="op" id="7490343">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7490353">false</span><span class="op" id="7490358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490363">ContentLength</span><span class="op" id="7490376">:</span>&nbsp;<span class="num" id="7490378">0</span><span class="op" id="7490379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490384">Host</span><span class="op" id="7490388">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490399">&#34;foo.com&#34;</span><span class="op" id="7490408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490413">RequestURI</span><span class="op" id="7490423">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490428">&#34;/&#34;</span><span class="op" id="7490431">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490435">}</span><span class="op" id="7490436">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490441">noBody</span><span class="op" id="7490447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490451">noTrailer</span><span class="op" id="7490460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490464">noError</span><span class="op" id="7490471">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490474">}</span><span class="op" id="7490475">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7490479">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;path&nbsp;that&nbsp;looks&nbsp;like&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7490534">//&nbsp;scheme-relative&nbsp;URI&nbsp;as&nbsp;a&nbsp;scheme-relative&nbsp;URI.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490584">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490588">&#34;GET&nbsp;//user@host/is/actually/a/path/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7490639">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490644">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7490664">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490669">&amp;</span><span class="ident" id="7490670">Request</span><span class="op" id="7490677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490682">Method</span><span class="op" id="7490688">:</span>&nbsp;<span class="string" id="7490690">&#34;GET&#34;</span><span class="op" id="7490695">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490700">URL</span><span class="op" id="7490703">:</span>&nbsp;<span class="op" id="7490705">&amp;</span><span class="ident" id="7490706">url</span><span class="op" id="7490709">.</span><span class="ident" id="7490710">URL</span><span class="op" id="7490713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490719">Path</span><span class="op" id="7490723">:</span>&nbsp;<span class="string" id="7490725">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7490758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490763">}</span><span class="op" id="7490764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490769">Proto</span><span class="op" id="7490774">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490784">&#34;HTTP/1.1&#34;</span><span class="op" id="7490794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490799">ProtoMajor</span><span class="op" id="7490809">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7490814">1</span><span class="op" id="7490815">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490820">ProtoMinor</span><span class="op" id="7490830">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7490835">1</span><span class="op" id="7490836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490841">Header</span><span class="op" id="7490847">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490856">Header</span><span class="op" id="7490862">{</span><span class="op" id="7490863">}</span><span class="op" id="7490864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490869">Close</span><span class="op" id="7490874">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7490884">false</span><span class="op" id="7490889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490894">ContentLength</span><span class="op" id="7490907">:</span>&nbsp;<span class="num" id="7490909">0</span><span class="op" id="7490910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490915">Host</span><span class="op" id="7490919">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490930">&#34;test&#34;</span><span class="op" id="7490936">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490941">RequestURI</span><span class="op" id="7490951">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7490956">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7490989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7490993">}</span><span class="op" id="7490994">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7490999">noBody</span><span class="op" id="7491005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491009">noTrailer</span><span class="op" id="7491018">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491022">noError</span><span class="op" id="7491029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491032">}</span><span class="op" id="7491033">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7491037">//&nbsp;Tests&nbsp;a&nbsp;bogus&nbsp;abs_path&nbsp;on&nbsp;the&nbsp;Request-Line&nbsp;(RFC&nbsp;2616&nbsp;section&nbsp;5.1.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491109">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491113">&#34;GET&nbsp;../../../../etc/passwd&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7491155">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491160">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7491180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7491184">nil</span><span class="op" id="7491187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491191">noBody</span><span class="op" id="7491197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491201">noTrailer</span><span class="op" id="7491210">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491214">&#34;parse&nbsp;../../../../etc/passwd:&nbsp;invalid&nbsp;URI&nbsp;for&nbsp;request&#34;</span><span class="op" id="7491269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491272">}</span><span class="op" id="7491273">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7491277">//&nbsp;Tests&nbsp;missing&nbsp;URL:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491300">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491304">&#34;GET&nbsp;&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7491324">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491329">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7491349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7491353">nil</span><span class="op" id="7491356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491360">noBody</span><span class="op" id="7491366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491370">noTrailer</span><span class="op" id="7491379">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491383">&#34;parse&nbsp;:&nbsp;empty&nbsp;url&#34;</span><span class="op" id="7491402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491405">}</span><span class="op" id="7491406">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7491410">//&nbsp;Tests&nbsp;chunked&nbsp;body&nbsp;with&nbsp;trailer:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491447">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491451">&#34;POST&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7491473">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491478">&#34;Host:&nbsp;foo.com\r\n&#34;</span>&nbsp;<span class="op" id="7491498">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491503">&#34;Transfer-Encoding:&nbsp;chunked\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7491540">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491545">&#34;3\r\nfoo\r\n&#34;</span>&nbsp;<span class="op" id="7491560">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491565">&#34;3\r\nbar\r\n&#34;</span>&nbsp;<span class="op" id="7491580">+</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491585">&#34;0\r\n&#34;</span>&nbsp;<span class="op" id="7491593">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491598">&#34;Trailer-Key:&nbsp;Trailer-Value\r\n&#34;</span>&nbsp;<span class="op" id="7491631">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491636">&#34;\r\n&#34;</span><span class="op" id="7491642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491646">&amp;</span><span class="ident" id="7491647">Request</span><span class="op" id="7491654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491659">Method</span><span class="op" id="7491665">:</span>&nbsp;<span class="string" id="7491667">&#34;POST&#34;</span><span class="op" id="7491673">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491678">URL</span><span class="op" id="7491681">:</span>&nbsp;<span class="op" id="7491683">&amp;</span><span class="ident" id="7491684">url</span><span class="op" id="7491687">.</span><span class="ident" id="7491688">URL</span><span class="op" id="7491691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491697">Path</span><span class="op" id="7491701">:</span>&nbsp;<span class="string" id="7491703">&#34;/&#34;</span><span class="op" id="7491706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491711">}</span><span class="op" id="7491712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491717">TransferEncoding</span><span class="op" id="7491733">:</span>&nbsp;<span class="op" id="7491735">[</span><span class="op" id="7491736">]</span><span class="builtintype" id="7491737">string</span><span class="op" id="7491743">{</span><span class="string" id="7491744">&#34;chunked&#34;</span><span class="op" id="7491753">}</span><span class="op" id="7491754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491759">Proto</span><span class="op" id="7491764">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491777">&#34;HTTP/1.1&#34;</span><span class="op" id="7491787">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491792">ProtoMajor</span><span class="op" id="7491802">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7491810">1</span><span class="op" id="7491811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491816">ProtoMinor</span><span class="op" id="7491826">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7491834">1</span><span class="op" id="7491835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491840">Header</span><span class="op" id="7491846">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491858">Header</span><span class="op" id="7491864">{</span><span class="op" id="7491865">}</span><span class="op" id="7491866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491871">ContentLength</span><span class="op" id="7491884">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491889">-</span><span class="num" id="7491890">1</span><span class="op" id="7491891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491896">Host</span><span class="op" id="7491900">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491914">&#34;foo.com&#34;</span><span class="op" id="7491923">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491928">RequestURI</span><span class="op" id="7491938">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491946">&#34;/&#34;</span><span class="op" id="7491949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491953">}</span><span class="op" id="7491954">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491959">&#34;foobar&#34;</span><span class="op" id="7491967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7491971">Header</span><span class="op" id="7491977">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491982">&#34;Trailer-Key&#34;</span><span class="op" id="7491995">:</span>&nbsp;<span class="op" id="7491997">{</span><span class="string" id="7491998">&#34;Trailer-Value&#34;</span><span class="op" id="7492013">}</span><span class="op" id="7492014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492018">}</span><span class="op" id="7492019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492023">noError</span><span class="op" id="7492030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492033">}</span><span class="op" id="7492034">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7492038">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;domain&nbsp;name:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492080">&#34;CONNECT&nbsp;www.google.com:443&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7492125">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492130">&amp;</span><span class="ident" id="7492131">Request</span><span class="op" id="7492138">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492143">Method</span><span class="op" id="7492149">:</span>&nbsp;<span class="string" id="7492151">&#34;CONNECT&#34;</span><span class="op" id="7492160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492165">URL</span><span class="op" id="7492168">:</span>&nbsp;<span class="op" id="7492170">&amp;</span><span class="ident" id="7492171">url</span><span class="op" id="7492174">.</span><span class="ident" id="7492175">URL</span><span class="op" id="7492178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492184">Host</span><span class="op" id="7492188">:</span>&nbsp;<span class="string" id="7492190">&#34;www.google.com:443&#34;</span><span class="op" id="7492210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492215">}</span><span class="op" id="7492216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492221">Proto</span><span class="op" id="7492226">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492236">&#34;HTTP/1.1&#34;</span><span class="op" id="7492246">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492251">ProtoMajor</span><span class="op" id="7492261">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7492266">1</span><span class="op" id="7492267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492272">ProtoMinor</span><span class="op" id="7492282">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7492287">1</span><span class="op" id="7492288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492293">Header</span><span class="op" id="7492299">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492308">Header</span><span class="op" id="7492314">{</span><span class="op" id="7492315">}</span><span class="op" id="7492316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492321">Close</span><span class="op" id="7492326">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7492336">false</span><span class="op" id="7492341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492346">ContentLength</span><span class="op" id="7492359">:</span>&nbsp;<span class="num" id="7492361">0</span><span class="op" id="7492362">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492367">Host</span><span class="op" id="7492371">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492382">&#34;www.google.com:443&#34;</span><span class="op" id="7492402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492407">RequestURI</span><span class="op" id="7492417">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492422">&#34;www.google.com:443&#34;</span><span class="op" id="7492442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492446">}</span><span class="op" id="7492447">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492452">noBody</span><span class="op" id="7492458">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492462">noTrailer</span><span class="op" id="7492471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492475">noError</span><span class="op" id="7492482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492485">}</span><span class="op" id="7492486">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7492490">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;IP&nbsp;address:</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492531">&#34;CONNECT&nbsp;127.0.0.1:6060&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7492572">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492577">&amp;</span><span class="ident" id="7492578">Request</span><span class="op" id="7492585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492590">Method</span><span class="op" id="7492596">:</span>&nbsp;<span class="string" id="7492598">&#34;CONNECT&#34;</span><span class="op" id="7492607">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492612">URL</span><span class="op" id="7492615">:</span>&nbsp;<span class="op" id="7492617">&amp;</span><span class="ident" id="7492618">url</span><span class="op" id="7492621">.</span><span class="ident" id="7492622">URL</span><span class="op" id="7492625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492631">Host</span><span class="op" id="7492635">:</span>&nbsp;<span class="string" id="7492637">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7492653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492658">}</span><span class="op" id="7492659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492664">Proto</span><span class="op" id="7492669">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492679">&#34;HTTP/1.1&#34;</span><span class="op" id="7492689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492694">ProtoMajor</span><span class="op" id="7492704">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7492709">1</span><span class="op" id="7492710">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492715">ProtoMinor</span><span class="op" id="7492725">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7492730">1</span><span class="op" id="7492731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492736">Header</span><span class="op" id="7492742">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492751">Header</span><span class="op" id="7492757">{</span><span class="op" id="7492758">}</span><span class="op" id="7492759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492764">Close</span><span class="op" id="7492769">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7492779">false</span><span class="op" id="7492784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492789">ContentLength</span><span class="op" id="7492802">:</span>&nbsp;<span class="num" id="7492804">0</span><span class="op" id="7492805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492810">Host</span><span class="op" id="7492814">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492825">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7492841">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492846">RequestURI</span><span class="op" id="7492856">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492861">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7492877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492881">}</span><span class="op" id="7492882">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492887">noBody</span><span class="op" id="7492893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492897">noTrailer</span><span class="op" id="7492906">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7492910">noError</span><span class="op" id="7492917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492920">}</span><span class="op" id="7492921">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7492925">//&nbsp;CONNECT&nbsp;request&nbsp;for&nbsp;RPC:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492954">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492958">&#34;CONNECT&nbsp;/_goRPC_&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7492993">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7492998">&amp;</span><span class="ident" id="7492999">Request</span><span class="op" id="7493006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493011">Method</span><span class="op" id="7493017">:</span>&nbsp;<span class="string" id="7493019">&#34;CONNECT&#34;</span><span class="op" id="7493028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493033">URL</span><span class="op" id="7493036">:</span>&nbsp;<span class="op" id="7493038">&amp;</span><span class="ident" id="7493039">url</span><span class="op" id="7493042">.</span><span class="ident" id="7493043">URL</span><span class="op" id="7493046">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493052">Path</span><span class="op" id="7493056">:</span>&nbsp;<span class="string" id="7493058">&#34;/_goRPC_&#34;</span><span class="op" id="7493068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493073">}</span><span class="op" id="7493074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493079">Proto</span><span class="op" id="7493084">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493094">&#34;HTTP/1.1&#34;</span><span class="op" id="7493104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493109">ProtoMajor</span><span class="op" id="7493119">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7493124">1</span><span class="op" id="7493125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493130">ProtoMinor</span><span class="op" id="7493140">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7493145">1</span><span class="op" id="7493146">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493151">Header</span><span class="op" id="7493157">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493166">Header</span><span class="op" id="7493172">{</span><span class="op" id="7493173">}</span><span class="op" id="7493174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493179">Close</span><span class="op" id="7493184">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7493194">false</span><span class="op" id="7493199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493204">ContentLength</span><span class="op" id="7493217">:</span>&nbsp;<span class="num" id="7493219">0</span><span class="op" id="7493220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493225">Host</span><span class="op" id="7493229">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493240">&#34;&#34;</span><span class="op" id="7493242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493247">RequestURI</span><span class="op" id="7493257">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493262">&#34;/_goRPC_&#34;</span><span class="op" id="7493272">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493276">}</span><span class="op" id="7493277">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493282">noBody</span><span class="op" id="7493288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493292">noTrailer</span><span class="op" id="7493301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493305">noError</span><span class="op" id="7493312">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493315">}</span><span class="op" id="7493316">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7493320">//&nbsp;SSDP&nbsp;Notify&nbsp;request.&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493371">&#34;NOTIFY&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7493413">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493417">&amp;</span><span class="ident" id="7493418">Request</span><span class="op" id="7493425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493430">Method</span><span class="op" id="7493436">:</span>&nbsp;<span class="string" id="7493438">&#34;NOTIFY&#34;</span><span class="op" id="7493446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493451">URL</span><span class="op" id="7493454">:</span>&nbsp;<span class="op" id="7493456">&amp;</span><span class="ident" id="7493457">url</span><span class="op" id="7493460">.</span><span class="ident" id="7493461">URL</span><span class="op" id="7493464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493470">Path</span><span class="op" id="7493474">:</span>&nbsp;<span class="string" id="7493476">&#34;*&#34;</span><span class="op" id="7493479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493484">}</span><span class="op" id="7493485">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493490">Proto</span><span class="op" id="7493495">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493502">&#34;HTTP/1.1&#34;</span><span class="op" id="7493512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493517">ProtoMajor</span><span class="op" id="7493527">:</span>&nbsp;<span class="num" id="7493529">1</span><span class="op" id="7493530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493535">ProtoMinor</span><span class="op" id="7493545">:</span>&nbsp;<span class="num" id="7493547">1</span><span class="op" id="7493548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493553">Header</span><span class="op" id="7493559">:</span>&nbsp;<span class="ident" id="7493561">Header</span><span class="op" id="7493567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493573">&#34;Server&#34;</span><span class="op" id="7493581">:</span>&nbsp;<span class="op" id="7493583">[</span><span class="op" id="7493584">]</span><span class="builtintype" id="7493585">string</span><span class="op" id="7493591">{</span><span class="string" id="7493592">&#34;foo&#34;</span><span class="op" id="7493597">}</span><span class="op" id="7493598">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493603">}</span><span class="op" id="7493604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493609">Close</span><span class="op" id="7493614">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7493624">false</span><span class="op" id="7493629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493634">ContentLength</span><span class="op" id="7493647">:</span>&nbsp;<span class="num" id="7493649">0</span><span class="op" id="7493650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493655">RequestURI</span><span class="op" id="7493665">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493670">&#34;*&#34;</span><span class="op" id="7493673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493677">}</span><span class="op" id="7493678">,</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493683">noBody</span><span class="op" id="7493689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493693">noTrailer</span><span class="op" id="7493702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493706">noError</span><span class="op" id="7493713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493716">}</span><span class="op" id="7493717">,</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7493721">//&nbsp;OPTIONS&nbsp;request.&nbsp;Similar&nbsp;to&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493779">&#34;OPTIONS&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7493822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493826">&amp;</span><span class="ident" id="7493827">Request</span><span class="op" id="7493834">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493839">Method</span><span class="op" id="7493845">:</span>&nbsp;<span class="string" id="7493847">&#34;OPTIONS&#34;</span><span class="op" id="7493856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493861">URL</span><span class="op" id="7493864">:</span>&nbsp;<span class="op" id="7493866">&amp;</span><span class="ident" id="7493867">url</span><span class="op" id="7493870">.</span><span class="ident" id="7493871">URL</span><span class="op" id="7493874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493880">Path</span><span class="op" id="7493884">:</span>&nbsp;<span class="string" id="7493886">&#34;*&#34;</span><span class="op" id="7493889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7493894">}</span><span class="op" id="7493895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493900">Proto</span><span class="op" id="7493905">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493912">&#34;HTTP/1.1&#34;</span><span class="op" id="7493922">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493927">ProtoMajor</span><span class="op" id="7493937">:</span>&nbsp;<span class="num" id="7493939">1</span><span class="op" id="7493940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493945">ProtoMinor</span><span class="op" id="7493955">:</span>&nbsp;<span class="num" id="7493957">1</span><span class="op" id="7493958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7493963">Header</span><span class="op" id="7493969">:</span>&nbsp;<span class="ident" id="7493971">Header</span><span class="op" id="7493977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493983">&#34;Server&#34;</span><span class="op" id="7493991">:</span>&nbsp;<span class="op" id="7493993">[</span><span class="op" id="7493994">]</span><span class="builtintype" id="7493995">string</span><span class="op" id="7494001">{</span><span class="string" id="7494002">&#34;foo&#34;</span><span class="op" id="7494007">}</span><span class="op" id="7494008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494013">}</span><span class="op" id="7494014">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494019">Close</span><span class="op" id="7494024">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7494034">false</span><span class="op" id="7494039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494044">ContentLength</span><span class="op" id="7494057">:</span>&nbsp;<span class="num" id="7494059">0</span><span class="op" id="7494060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494065">RequestURI</span><span class="op" id="7494075">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494080">&#34;*&#34;</span><span class="op" id="7494083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494087">}</span><span class="op" id="7494088">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494093">noBody</span><span class="op" id="7494099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494103">noTrailer</span><span class="op" id="7494112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494116">noError</span><span class="op" id="7494123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494126">}</span><span class="op" id="7494127">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7494131">//&nbsp;Connection:&nbsp;close.&nbsp;golang.org/issue/8261</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494180">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\nHost:&nbsp;issue8261.com\r\nConnection:&nbsp;close\r\n\r\n&#34;</span><span class="op" id="7494248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494252">&amp;</span><span class="ident" id="7494253">Request</span><span class="op" id="7494260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494265">Method</span><span class="op" id="7494271">:</span>&nbsp;<span class="string" id="7494273">&#34;GET&#34;</span><span class="op" id="7494278">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494283">URL</span><span class="op" id="7494286">:</span>&nbsp;<span class="op" id="7494288">&amp;</span><span class="ident" id="7494289">url</span><span class="op" id="7494292">.</span><span class="ident" id="7494293">URL</span><span class="op" id="7494296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494302">Path</span><span class="op" id="7494306">:</span>&nbsp;<span class="string" id="7494308">&#34;/&#34;</span><span class="op" id="7494311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494316">}</span><span class="op" id="7494317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494322">Header</span><span class="op" id="7494328">:</span>&nbsp;<span class="ident" id="7494330">Header</span><span class="op" id="7494336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7494342">//&nbsp;This&nbsp;wasn&#39;t&nbsp;removed&nbsp;from&nbsp;Go&nbsp;1.0&nbsp;to</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7494384">//&nbsp;Go&nbsp;1.3,&nbsp;so&nbsp;locking&nbsp;it&nbsp;in&nbsp;that&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7494424">//&nbsp;keep&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494442">&#34;Connection&#34;</span><span class="op" id="7494454">:</span>&nbsp;<span class="op" id="7494456">[</span><span class="op" id="7494457">]</span><span class="builtintype" id="7494458">string</span><span class="op" id="7494464">{</span><span class="string" id="7494465">&#34;close&#34;</span><span class="op" id="7494472">}</span><span class="op" id="7494473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494478">}</span><span class="op" id="7494479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494484">Host</span><span class="op" id="7494488">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494496">&#34;issue8261.com&#34;</span><span class="op" id="7494511">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494516">Proto</span><span class="op" id="7494521">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7494528">&#34;HTTP/1.1&#34;</span><span class="op" id="7494538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494543">ProtoMajor</span><span class="op" id="7494553">:</span>&nbsp;<span class="num" id="7494555">1</span><span class="op" id="7494556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494561">ProtoMinor</span><span class="op" id="7494571">:</span>&nbsp;<span class="num" id="7494573">1</span><span class="op" id="7494574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494579">Close</span><span class="op" id="7494584">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7494591">true</span><span class="op" id="7494595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494600">RequestURI</span><span class="op" id="7494610">:</span>&nbsp;<span class="string" id="7494612">&#34;/&#34;</span><span class="op" id="7494615">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494619">}</span><span class="op" id="7494620">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494625">noBody</span><span class="op" id="7494631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494635">noTrailer</span><span class="op" id="7494644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494648">noError</span><span class="op" id="7494655">,</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494658">}</span><span class="op" id="7494659">,</span><br>
<span class="lineno"></span><span class="op" id="7494661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7494664">func</span>&nbsp;<span class="ident" id="7494669">TestReadRequest</span><span class="op" id="7494684">(</span><span class="ident" id="7494685">t</span>&nbsp;<span class="op" id="7494687">*</span><span class="ident" id="7494688">testing</span><span class="op" id="7494695">.</span><span class="ident" id="7494696">T</span><span class="op" id="7494697">)</span>&nbsp;<span class="op" id="7494699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7494702">for</span>&nbsp;<span class="ident" id="7494706">i</span>&nbsp;<span class="op" id="7494708">:=</span>&nbsp;<span class="keyword" id="7494711">range</span>&nbsp;<span class="ident" id="7494717">reqTests</span>&nbsp;<span class="op" id="7494726">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494730">tt</span>&nbsp;<span class="op" id="7494733">:=</span>&nbsp;<span class="op" id="7494736">&amp;</span><span class="ident" id="7494737">reqTests</span><span class="op" id="7494745">[</span><span class="ident" id="7494746">i</span><span class="op" id="7494747">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494751">req</span><span class="op" id="7494754">,</span>&nbsp;<span class="ident" id="7494756">err</span>&nbsp;<span class="op" id="7494760">:=</span>&nbsp;<span class="ident" id="7494763">ReadRequest</span><span class="op" id="7494774">(</span><span class="ident" id="7494775">bufio</span><span class="op" id="7494780">.</span><span class="ident" id="7494781">NewReader</span><span class="op" id="7494790">(</span><span class="ident" id="7494791">strings</span><span class="op" id="7494798">.</span><span class="ident" id="7494799">NewReader</span><span class="op" id="7494808">(</span><span class="ident" id="7494809">tt</span><span class="op" id="7494811">.</span><span class="ident" id="7494812">Raw</span><span class="op" id="7494815">)</span><span class="op" id="7494816">)</span><span class="op" id="7494817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7494821">if</span>&nbsp;<span class="ident" id="7494824">err</span>&nbsp;<span class="op" id="7494828">!=</span>&nbsp;<span class="builtintype" id="7494831">nil</span>&nbsp;<span class="op" id="7494835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7494840">if</span>&nbsp;<span class="ident" id="7494843">err</span><span class="op" id="7494846">.</span><span class="ident" id="7494847">Error</span><span class="op" id="7494852">(</span><span class="op" id="7494853">)</span>&nbsp;<span class="op" id="7494855">!=</span>&nbsp;<span class="ident" id="7494858">tt</span><span class="op" id="7494860">.</span><span class="ident" id="7494861">Error</span>&nbsp;<span class="op" id="7494867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494873">t</span><span class="op" id="7494874">.</span><span class="ident" id="7494875">Errorf</span><span class="op" id="7494881">(</span><span class="string" id="7494882">&#34;#%d:&nbsp;error&nbsp;%q,&nbsp;want&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7494912">,</span>&nbsp;<span class="ident" id="7494914">i</span><span class="op" id="7494915">,</span>&nbsp;<span class="ident" id="7494917">err</span><span class="op" id="7494920">.</span><span class="ident" id="7494921">Error</span><span class="op" id="7494926">(</span><span class="op" id="7494927">)</span><span class="op" id="7494928">,</span>&nbsp;<span class="ident" id="7494930">tt</span><span class="op" id="7494932">.</span><span class="ident" id="7494933">Error</span><span class="op" id="7494938">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7494948">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7494959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494963">rbody</span>&nbsp;<span class="op" id="7494969">:=</span>&nbsp;<span class="ident" id="7494972">req</span><span class="op" id="7494975">.</span><span class="ident" id="7494976">Body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7494983">req</span><span class="op" id="7494986">.</span><span class="ident" id="7494987">Body</span>&nbsp;<span class="op" id="7494992">=</span>&nbsp;<span class="builtintype" id="7494994">nil</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495000">testName</span>&nbsp;<span class="op" id="7495009">:=</span>&nbsp;<span class="ident" id="7495012">fmt</span><span class="op" id="7495015">.</span><span class="ident" id="7495016">Sprintf</span><span class="op" id="7495023">(</span><span class="string" id="7495024">&#34;Test&nbsp;%d&nbsp;(%q)&#34;</span><span class="op" id="7495038">,</span>&nbsp;<span class="ident" id="7495040">i</span><span class="op" id="7495041">,</span>&nbsp;<span class="ident" id="7495043">tt</span><span class="op" id="7495045">.</span><span class="ident" id="7495046">Raw</span><span class="op" id="7495049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495053">diff</span><span class="op" id="7495057">(</span><span class="ident" id="7495058">t</span><span class="op" id="7495059">,</span>&nbsp;<span class="ident" id="7495061">testName</span><span class="op" id="7495069">,</span>&nbsp;<span class="ident" id="7495071">req</span><span class="op" id="7495074">,</span>&nbsp;<span class="ident" id="7495076">tt</span><span class="op" id="7495078">.</span><span class="ident" id="7495079">Req</span><span class="op" id="7495082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495086">var</span>&nbsp;<span class="ident" id="7495090">bout</span>&nbsp;<span class="ident" id="7495095">bytes</span><span class="op" id="7495100">.</span><span class="ident" id="7495101">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495110">if</span>&nbsp;<span class="ident" id="7495113">rbody</span>&nbsp;<span class="op" id="7495119">!=</span>&nbsp;<span class="builtintype" id="7495122">nil</span>&nbsp;<span class="op" id="7495126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495131">_</span><span class="op" id="7495132">,</span>&nbsp;<span class="ident" id="7495134">err</span>&nbsp;<span class="op" id="7495138">:=</span>&nbsp;<span class="ident" id="7495141">io</span><span class="op" id="7495143">.</span><span class="ident" id="7495144">Copy</span><span class="op" id="7495148">(</span><span class="op" id="7495149">&amp;</span><span class="ident" id="7495150">bout</span><span class="op" id="7495154">,</span>&nbsp;<span class="ident" id="7495156">rbody</span><span class="op" id="7495161">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495166">if</span>&nbsp;<span class="ident" id="7495169">err</span>&nbsp;<span class="op" id="7495173">!=</span>&nbsp;<span class="builtintype" id="7495176">nil</span>&nbsp;<span class="op" id="7495180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495186">t</span><span class="op" id="7495187">.</span><span class="ident" id="7495188">Fatalf</span><span class="op" id="7495194">(</span><span class="string" id="7495195">&#34;%s:&nbsp;copying&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7495217">,</span>&nbsp;<span class="ident" id="7495219">testName</span><span class="op" id="7495227">,</span>&nbsp;<span class="ident" id="7495229">err</span><span class="op" id="7495232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495242">rbody</span><span class="op" id="7495247">.</span><span class="ident" id="7495248">Close</span><span class="op" id="7495253">(</span><span class="op" id="7495254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495258">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495262">body</span>&nbsp;<span class="op" id="7495267">:=</span>&nbsp;<span class="ident" id="7495270">bout</span><span class="op" id="7495274">.</span><span class="ident" id="7495275">String</span><span class="op" id="7495281">(</span><span class="op" id="7495282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495286">if</span>&nbsp;<span class="ident" id="7495289">body</span>&nbsp;<span class="op" id="7495294">!=</span>&nbsp;<span class="ident" id="7495297">tt</span><span class="op" id="7495299">.</span><span class="ident" id="7495300">Body</span>&nbsp;<span class="op" id="7495305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495310">t</span><span class="op" id="7495311">.</span><span class="ident" id="7495312">Errorf</span><span class="op" id="7495318">(</span><span class="string" id="7495319">&#34;%s:&nbsp;Body&nbsp;=&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7495342">,</span>&nbsp;<span class="ident" id="7495344">testName</span><span class="op" id="7495352">,</span>&nbsp;<span class="ident" id="7495354">body</span><span class="op" id="7495358">,</span>&nbsp;<span class="ident" id="7495360">tt</span><span class="op" id="7495362">.</span><span class="ident" id="7495363">Body</span><span class="op" id="7495367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7495375">if</span>&nbsp;<span class="op" id="7495378">!</span><span class="ident" id="7495379">reflect</span><span class="op" id="7495386">.</span><span class="ident" id="7495387">DeepEqual</span><span class="op" id="7495396">(</span><span class="ident" id="7495397">tt</span><span class="op" id="7495399">.</span><span class="ident" id="7495400">Trailer</span><span class="op" id="7495407">,</span>&nbsp;<span class="ident" id="7495409">req</span><span class="op" id="7495412">.</span><span class="ident" id="7495413">Trailer</span><span class="op" id="7495420">)</span>&nbsp;<span class="op" id="7495422">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7495427">t</span><span class="op" id="7495428">.</span><span class="ident" id="7495429">Errorf</span><span class="op" id="7495435">(</span><span class="string" id="7495436">&#34;%s:&nbsp;Trailers&nbsp;differ.\n&nbsp;got:&nbsp;%v\nwant:&nbsp;%v&#34;</span><span class="op" id="7495478">,</span>&nbsp;<span class="ident" id="7495480">testName</span><span class="op" id="7495488">,</span>&nbsp;<span class="ident" id="7495490">req</span><span class="op" id="7495493">.</span><span class="ident" id="7495494">Trailer</span><span class="op" id="7495501">,</span>&nbsp;<span class="ident" id="7495503">tt</span><span class="op" id="7495505">.</span><span class="ident" id="7495506">Trailer</span><span class="op" id="7495513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7495520">}</span><br>
<span class="lineno"></span><span class="op" id="7495522">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
