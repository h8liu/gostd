<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html" class="current">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1625912">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1626741">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1626857">package</span>&nbsp;<span class="ident" id="1626865">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1626874">const</span>&nbsp;<span class="op" id="1626880">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1626883">bit1</span>&nbsp;<span class="op" id="1626888">=</span>&nbsp;<span class="num" id="1626890">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1626893">bitx</span>&nbsp;<span class="op" id="1626898">=</span>&nbsp;<span class="num" id="1626900">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1626903">bit2</span>&nbsp;<span class="op" id="1626908">=</span>&nbsp;<span class="num" id="1626910">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1626913">bit3</span>&nbsp;<span class="op" id="1626918">=</span>&nbsp;<span class="num" id="1626920">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1626923">bit4</span>&nbsp;<span class="op" id="1626928">=</span>&nbsp;<span class="num" id="1626930">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1626933">bit5</span>&nbsp;<span class="op" id="1626938">=</span>&nbsp;<span class="num" id="1626940">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1626944">t1</span>&nbsp;<span class="op" id="1626947">=</span>&nbsp;<span class="op" id="1626949">(</span><span class="op" id="1626950">(</span><span class="num" id="1626951">1</span>&nbsp;<span class="op" id="1626953">&lt;&lt;</span>&nbsp;<span class="op" id="1626956">(</span><span class="ident" id="1626957">bit1</span>&nbsp;<span class="op" id="1626962">+</span>&nbsp;<span class="num" id="1626964">1</span><span class="op" id="1626965">)</span><span class="op" id="1626966">)</span>&nbsp;<span class="op" id="1626968">-</span>&nbsp;<span class="num" id="1626970">1</span><span class="op" id="1626971">)</span>&nbsp;<span class="op" id="1626973">^</span>&nbsp;<span class="num" id="1626975">0xFF</span>&nbsp;<span class="comment" id="1626980">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1626997">tx</span>&nbsp;<span class="op" id="1627000">=</span>&nbsp;<span class="op" id="1627002">(</span><span class="op" id="1627003">(</span><span class="num" id="1627004">1</span>&nbsp;<span class="op" id="1627006">&lt;&lt;</span>&nbsp;<span class="op" id="1627009">(</span><span class="ident" id="1627010">bitx</span>&nbsp;<span class="op" id="1627015">+</span>&nbsp;<span class="num" id="1627017">1</span><span class="op" id="1627018">)</span><span class="op" id="1627019">)</span>&nbsp;<span class="op" id="1627021">-</span>&nbsp;<span class="num" id="1627023">1</span><span class="op" id="1627024">)</span>&nbsp;<span class="op" id="1627026">^</span>&nbsp;<span class="num" id="1627028">0xFF</span>&nbsp;<span class="comment" id="1627033">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627050">t2</span>&nbsp;<span class="op" id="1627053">=</span>&nbsp;<span class="op" id="1627055">(</span><span class="op" id="1627056">(</span><span class="num" id="1627057">1</span>&nbsp;<span class="op" id="1627059">&lt;&lt;</span>&nbsp;<span class="op" id="1627062">(</span><span class="ident" id="1627063">bit2</span>&nbsp;<span class="op" id="1627068">+</span>&nbsp;<span class="num" id="1627070">1</span><span class="op" id="1627071">)</span><span class="op" id="1627072">)</span>&nbsp;<span class="op" id="1627074">-</span>&nbsp;<span class="num" id="1627076">1</span><span class="op" id="1627077">)</span>&nbsp;<span class="op" id="1627079">^</span>&nbsp;<span class="num" id="1627081">0xFF</span>&nbsp;<span class="comment" id="1627086">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627103">t3</span>&nbsp;<span class="op" id="1627106">=</span>&nbsp;<span class="op" id="1627108">(</span><span class="op" id="1627109">(</span><span class="num" id="1627110">1</span>&nbsp;<span class="op" id="1627112">&lt;&lt;</span>&nbsp;<span class="op" id="1627115">(</span><span class="ident" id="1627116">bit3</span>&nbsp;<span class="op" id="1627121">+</span>&nbsp;<span class="num" id="1627123">1</span><span class="op" id="1627124">)</span><span class="op" id="1627125">)</span>&nbsp;<span class="op" id="1627127">-</span>&nbsp;<span class="num" id="1627129">1</span><span class="op" id="1627130">)</span>&nbsp;<span class="op" id="1627132">^</span>&nbsp;<span class="num" id="1627134">0xFF</span>&nbsp;<span class="comment" id="1627139">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627156">t4</span>&nbsp;<span class="op" id="1627159">=</span>&nbsp;<span class="op" id="1627161">(</span><span class="op" id="1627162">(</span><span class="num" id="1627163">1</span>&nbsp;<span class="op" id="1627165">&lt;&lt;</span>&nbsp;<span class="op" id="1627168">(</span><span class="ident" id="1627169">bit4</span>&nbsp;<span class="op" id="1627174">+</span>&nbsp;<span class="num" id="1627176">1</span><span class="op" id="1627177">)</span><span class="op" id="1627178">)</span>&nbsp;<span class="op" id="1627180">-</span>&nbsp;<span class="num" id="1627182">1</span><span class="op" id="1627183">)</span>&nbsp;<span class="op" id="1627185">^</span>&nbsp;<span class="num" id="1627187">0xFF</span>&nbsp;<span class="comment" id="1627192">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627209">t5</span>&nbsp;<span class="op" id="1627212">=</span>&nbsp;<span class="op" id="1627214">(</span><span class="op" id="1627215">(</span><span class="num" id="1627216">1</span>&nbsp;<span class="op" id="1627218">&lt;&lt;</span>&nbsp;<span class="op" id="1627221">(</span><span class="ident" id="1627222">bit5</span>&nbsp;<span class="op" id="1627227">+</span>&nbsp;<span class="num" id="1627229">1</span><span class="op" id="1627230">)</span><span class="op" id="1627231">)</span>&nbsp;<span class="op" id="1627233">-</span>&nbsp;<span class="num" id="1627235">1</span><span class="op" id="1627236">)</span>&nbsp;<span class="op" id="1627238">^</span>&nbsp;<span class="num" id="1627240">0xFF</span>&nbsp;<span class="comment" id="1627245">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627263">rune1</span>&nbsp;<span class="op" id="1627269">=</span>&nbsp;<span class="op" id="1627271">(</span><span class="num" id="1627272">1</span>&nbsp;<span class="op" id="1627274">&lt;&lt;</span>&nbsp;<span class="op" id="1627277">(</span><span class="ident" id="1627278">bit1</span>&nbsp;<span class="op" id="1627283">+</span>&nbsp;<span class="num" id="1627285">0</span><span class="op" id="1627286">*</span><span class="ident" id="1627287">bitx</span><span class="op" id="1627291">)</span><span class="op" id="1627292">)</span>&nbsp;<span class="op" id="1627294">-</span>&nbsp;<span class="num" id="1627296">1</span>&nbsp;<span class="comment" id="1627298">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627325">rune2</span>&nbsp;<span class="op" id="1627331">=</span>&nbsp;<span class="op" id="1627333">(</span><span class="num" id="1627334">1</span>&nbsp;<span class="op" id="1627336">&lt;&lt;</span>&nbsp;<span class="op" id="1627339">(</span><span class="ident" id="1627340">bit2</span>&nbsp;<span class="op" id="1627345">+</span>&nbsp;<span class="num" id="1627347">1</span><span class="op" id="1627348">*</span><span class="ident" id="1627349">bitx</span><span class="op" id="1627353">)</span><span class="op" id="1627354">)</span>&nbsp;<span class="op" id="1627356">-</span>&nbsp;<span class="num" id="1627358">1</span>&nbsp;<span class="comment" id="1627360">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627387">rune3</span>&nbsp;<span class="op" id="1627393">=</span>&nbsp;<span class="op" id="1627395">(</span><span class="num" id="1627396">1</span>&nbsp;<span class="op" id="1627398">&lt;&lt;</span>&nbsp;<span class="op" id="1627401">(</span><span class="ident" id="1627402">bit3</span>&nbsp;<span class="op" id="1627407">+</span>&nbsp;<span class="num" id="1627409">2</span><span class="op" id="1627410">*</span><span class="ident" id="1627411">bitx</span><span class="op" id="1627415">)</span><span class="op" id="1627416">)</span>&nbsp;<span class="op" id="1627418">-</span>&nbsp;<span class="num" id="1627420">1</span>&nbsp;<span class="comment" id="1627422">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627449">rune4</span>&nbsp;<span class="op" id="1627455">=</span>&nbsp;<span class="op" id="1627457">(</span><span class="num" id="1627458">1</span>&nbsp;<span class="op" id="1627460">&lt;&lt;</span>&nbsp;<span class="op" id="1627463">(</span><span class="ident" id="1627464">bit4</span>&nbsp;<span class="op" id="1627469">+</span>&nbsp;<span class="num" id="1627471">3</span><span class="op" id="1627472">*</span><span class="ident" id="1627473">bitx</span><span class="op" id="1627477">)</span><span class="op" id="1627478">)</span>&nbsp;<span class="op" id="1627480">-</span>&nbsp;<span class="num" id="1627482">1</span>&nbsp;<span class="comment" id="1627484">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627522">maskx</span>&nbsp;<span class="op" id="1627528">=</span>&nbsp;<span class="op" id="1627530">(</span><span class="num" id="1627531">1</span>&nbsp;<span class="op" id="1627533">&lt;&lt;</span>&nbsp;<span class="ident" id="1627536">bitx</span><span class="op" id="1627540">)</span>&nbsp;<span class="op" id="1627542">-</span>&nbsp;<span class="num" id="1627544">1</span>&nbsp;<span class="comment" id="1627546">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627563">testx</span>&nbsp;<span class="op" id="1627569">=</span>&nbsp;<span class="ident" id="1627571">maskx</span>&nbsp;<span class="op" id="1627577">^</span>&nbsp;<span class="num" id="1627579">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1627587">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627605">runeerror</span>&nbsp;<span class="op" id="1627615">=</span>&nbsp;<span class="num" id="1627617">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627625">runeself</span>&nbsp;&nbsp;<span class="op" id="1627635">=</span>&nbsp;<span class="num" id="1627637">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627644">surrogateMin</span>&nbsp;<span class="op" id="1627657">=</span>&nbsp;<span class="num" id="1627659">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627667">surrogateMax</span>&nbsp;<span class="op" id="1627680">=</span>&nbsp;<span class="num" id="1627682">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627691">bad</span>&nbsp;<span class="op" id="1627695">=</span>&nbsp;<span class="ident" id="1627697">runeerror</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1627709">runemax</span>&nbsp;<span class="op" id="1627717">=</span>&nbsp;<span class="num" id="1627719">0x10FFFF</span>&nbsp;<span class="comment" id="1627728">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1627753">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1627756">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1628451">func</span>&nbsp;<span class="ident" id="1628456">charntorune</span><span class="op" id="1628467">(</span><span class="ident" id="1628468">s</span>&nbsp;<span class="builtintype" id="1628470">string</span><span class="op" id="1628476">)</span>&nbsp;<span class="op" id="1628478">(</span><span class="builtintype" id="1628479">rune</span><span class="op" id="1628483">,</span>&nbsp;<span class="builtintype" id="1628485">int</span><span class="op" id="1628488">)</span>&nbsp;<span class="op" id="1628490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1628493">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628540">if</span>&nbsp;<span class="builtinfunc" id="1628543">len</span><span class="op" id="1628546">(</span><span class="ident" id="1628547">s</span><span class="op" id="1628548">)</span>&nbsp;<span class="op" id="1628550">&lt;=</span>&nbsp;<span class="num" id="1628553">0</span>&nbsp;<span class="op" id="1628555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628559">return</span>&nbsp;<span class="ident" id="1628566">bad</span><span class="op" id="1628569">,</span>&nbsp;<span class="num" id="1628571">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1628574">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1628578">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1628650">c</span>&nbsp;<span class="op" id="1628652">:=</span>&nbsp;<span class="ident" id="1628655">s</span><span class="op" id="1628656">[</span><span class="num" id="1628657">0</span><span class="op" id="1628658">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628661">if</span>&nbsp;<span class="ident" id="1628664">c</span>&nbsp;<span class="op" id="1628666">&lt;</span>&nbsp;<span class="ident" id="1628668">tx</span>&nbsp;<span class="op" id="1628671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628675">return</span>&nbsp;<span class="builtintype" id="1628682">rune</span><span class="op" id="1628686">(</span><span class="ident" id="1628687">c</span><span class="op" id="1628688">)</span><span class="op" id="1628689">,</span>&nbsp;<span class="num" id="1628691">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1628694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1628698">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628756">if</span>&nbsp;<span class="builtinfunc" id="1628759">len</span><span class="op" id="1628762">(</span><span class="ident" id="1628763">s</span><span class="op" id="1628764">)</span>&nbsp;<span class="op" id="1628766">&lt;=</span>&nbsp;<span class="num" id="1628769">1</span>&nbsp;<span class="op" id="1628771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628775">return</span>&nbsp;<span class="ident" id="1628782">bad</span><span class="op" id="1628785">,</span>&nbsp;<span class="num" id="1628787">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1628790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1628794">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1628868">c1</span>&nbsp;<span class="op" id="1628871">:=</span>&nbsp;<span class="ident" id="1628874">s</span><span class="op" id="1628875">[</span><span class="num" id="1628876">1</span><span class="op" id="1628877">]</span>&nbsp;<span class="op" id="1628879">^</span>&nbsp;<span class="ident" id="1628881">tx</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628885">if</span>&nbsp;<span class="op" id="1628888">(</span><span class="ident" id="1628889">c1</span>&nbsp;<span class="op" id="1628892">&amp;</span>&nbsp;<span class="ident" id="1628894">testx</span><span class="op" id="1628899">)</span>&nbsp;<span class="op" id="1628901">!=</span>&nbsp;<span class="num" id="1628904">0</span>&nbsp;<span class="op" id="1628906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628910">return</span>&nbsp;<span class="ident" id="1628917">bad</span><span class="op" id="1628920">,</span>&nbsp;<span class="num" id="1628922">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1628925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628928">if</span>&nbsp;<span class="ident" id="1628931">c</span>&nbsp;<span class="op" id="1628933">&lt;</span>&nbsp;<span class="ident" id="1628935">t3</span>&nbsp;<span class="op" id="1628938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628942">if</span>&nbsp;<span class="ident" id="1628945">c</span>&nbsp;<span class="op" id="1628947">&lt;</span>&nbsp;<span class="ident" id="1628949">t2</span>&nbsp;<span class="op" id="1628952">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1628957">return</span>&nbsp;<span class="ident" id="1628964">bad</span><span class="op" id="1628967">,</span>&nbsp;<span class="num" id="1628969">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1628973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1628977">l</span>&nbsp;<span class="op" id="1628979">:=</span>&nbsp;<span class="op" id="1628982">(</span><span class="op" id="1628983">(</span><span class="builtintype" id="1628984">rune</span><span class="op" id="1628988">(</span><span class="ident" id="1628989">c</span><span class="op" id="1628990">)</span>&nbsp;<span class="op" id="1628992">&lt;&lt;</span>&nbsp;<span class="ident" id="1628995">bitx</span><span class="op" id="1628999">)</span>&nbsp;<span class="op" id="1629001">|</span>&nbsp;<span class="builtintype" id="1629003">rune</span><span class="op" id="1629007">(</span><span class="ident" id="1629008">c1</span><span class="op" id="1629010">)</span><span class="op" id="1629011">)</span>&nbsp;<span class="op" id="1629013">&amp;</span>&nbsp;<span class="ident" id="1629015">rune2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629023">if</span>&nbsp;<span class="ident" id="1629026">l</span>&nbsp;<span class="op" id="1629028">&lt;=</span>&nbsp;<span class="ident" id="1629031">rune1</span>&nbsp;<span class="op" id="1629037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629042">return</span>&nbsp;<span class="ident" id="1629049">bad</span><span class="op" id="1629052">,</span>&nbsp;<span class="num" id="1629054">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629062">return</span>&nbsp;<span class="ident" id="1629069">l</span><span class="op" id="1629070">,</span>&nbsp;<span class="num" id="1629072">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1629079">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629138">if</span>&nbsp;<span class="builtinfunc" id="1629141">len</span><span class="op" id="1629144">(</span><span class="ident" id="1629145">s</span><span class="op" id="1629146">)</span>&nbsp;<span class="op" id="1629148">&lt;=</span>&nbsp;<span class="num" id="1629151">2</span>&nbsp;<span class="op" id="1629153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629157">return</span>&nbsp;<span class="ident" id="1629164">bad</span><span class="op" id="1629167">,</span>&nbsp;<span class="num" id="1629169">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1629176">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1629255">c2</span>&nbsp;<span class="op" id="1629258">:=</span>&nbsp;<span class="ident" id="1629261">s</span><span class="op" id="1629262">[</span><span class="num" id="1629263">2</span><span class="op" id="1629264">]</span>&nbsp;<span class="op" id="1629266">^</span>&nbsp;<span class="ident" id="1629268">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629272">if</span>&nbsp;<span class="op" id="1629275">(</span><span class="ident" id="1629276">c2</span>&nbsp;<span class="op" id="1629279">&amp;</span>&nbsp;<span class="ident" id="1629281">testx</span><span class="op" id="1629286">)</span>&nbsp;<span class="op" id="1629288">!=</span>&nbsp;<span class="num" id="1629291">0</span>&nbsp;<span class="op" id="1629293">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629297">return</span>&nbsp;<span class="ident" id="1629304">bad</span><span class="op" id="1629307">,</span>&nbsp;<span class="num" id="1629309">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629315">if</span>&nbsp;<span class="ident" id="1629318">c</span>&nbsp;<span class="op" id="1629320">&lt;</span>&nbsp;<span class="ident" id="1629322">t4</span>&nbsp;<span class="op" id="1629325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1629329">l</span>&nbsp;<span class="op" id="1629331">:=</span>&nbsp;<span class="op" id="1629334">(</span><span class="op" id="1629335">(</span><span class="op" id="1629336">(</span><span class="op" id="1629337">(</span><span class="builtintype" id="1629338">rune</span><span class="op" id="1629342">(</span><span class="ident" id="1629343">c</span><span class="op" id="1629344">)</span>&nbsp;<span class="op" id="1629346">&lt;&lt;</span>&nbsp;<span class="ident" id="1629349">bitx</span><span class="op" id="1629353">)</span>&nbsp;<span class="op" id="1629355">|</span>&nbsp;<span class="builtintype" id="1629357">rune</span><span class="op" id="1629361">(</span><span class="ident" id="1629362">c1</span><span class="op" id="1629364">)</span><span class="op" id="1629365">)</span>&nbsp;<span class="op" id="1629367">&lt;&lt;</span>&nbsp;<span class="ident" id="1629370">bitx</span><span class="op" id="1629374">)</span>&nbsp;<span class="op" id="1629376">|</span>&nbsp;<span class="builtintype" id="1629378">rune</span><span class="op" id="1629382">(</span><span class="ident" id="1629383">c2</span><span class="op" id="1629385">)</span><span class="op" id="1629386">)</span>&nbsp;<span class="op" id="1629388">&amp;</span>&nbsp;<span class="ident" id="1629390">rune3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629398">if</span>&nbsp;<span class="ident" id="1629401">l</span>&nbsp;<span class="op" id="1629403">&lt;=</span>&nbsp;<span class="ident" id="1629406">rune2</span>&nbsp;<span class="op" id="1629412">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629417">return</span>&nbsp;<span class="ident" id="1629424">bad</span><span class="op" id="1629427">,</span>&nbsp;<span class="num" id="1629429">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629437">if</span>&nbsp;<span class="ident" id="1629440">surrogateMin</span>&nbsp;<span class="op" id="1629453">&lt;=</span>&nbsp;<span class="ident" id="1629456">l</span>&nbsp;<span class="op" id="1629458">&amp;&amp;</span>&nbsp;<span class="ident" id="1629461">l</span>&nbsp;<span class="op" id="1629463">&lt;=</span>&nbsp;<span class="ident" id="1629466">surrogateMax</span>&nbsp;<span class="op" id="1629479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629484">return</span>&nbsp;<span class="ident" id="1629491">bad</span><span class="op" id="1629494">,</span>&nbsp;<span class="num" id="1629496">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629500">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629504">return</span>&nbsp;<span class="ident" id="1629511">l</span><span class="op" id="1629512">,</span>&nbsp;<span class="num" id="1629514">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629521">if</span>&nbsp;<span class="builtinfunc" id="1629524">len</span><span class="op" id="1629527">(</span><span class="ident" id="1629528">s</span><span class="op" id="1629529">)</span>&nbsp;<span class="op" id="1629531">&lt;=</span>&nbsp;<span class="num" id="1629534">3</span>&nbsp;<span class="op" id="1629536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629540">return</span>&nbsp;<span class="ident" id="1629547">bad</span><span class="op" id="1629550">,</span>&nbsp;<span class="num" id="1629552">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1629559">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1629643">c3</span>&nbsp;<span class="op" id="1629646">:=</span>&nbsp;<span class="ident" id="1629649">s</span><span class="op" id="1629650">[</span><span class="num" id="1629651">3</span><span class="op" id="1629652">]</span>&nbsp;<span class="op" id="1629654">^</span>&nbsp;<span class="ident" id="1629656">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629660">if</span>&nbsp;<span class="op" id="1629663">(</span><span class="ident" id="1629664">c3</span>&nbsp;<span class="op" id="1629667">&amp;</span>&nbsp;<span class="ident" id="1629669">testx</span><span class="op" id="1629674">)</span>&nbsp;<span class="op" id="1629676">!=</span>&nbsp;<span class="num" id="1629679">0</span>&nbsp;<span class="op" id="1629681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629685">return</span>&nbsp;<span class="ident" id="1629692">bad</span><span class="op" id="1629695">,</span>&nbsp;<span class="num" id="1629697">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629700">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629703">if</span>&nbsp;<span class="ident" id="1629706">c</span>&nbsp;<span class="op" id="1629708">&lt;</span>&nbsp;<span class="ident" id="1629710">t5</span>&nbsp;<span class="op" id="1629713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1629717">l</span>&nbsp;<span class="op" id="1629719">:=</span>&nbsp;<span class="op" id="1629722">(</span><span class="op" id="1629723">(</span><span class="op" id="1629724">(</span><span class="op" id="1629725">(</span><span class="op" id="1629726">(</span><span class="op" id="1629727">(</span><span class="builtintype" id="1629728">rune</span><span class="op" id="1629732">(</span><span class="ident" id="1629733">c</span><span class="op" id="1629734">)</span>&nbsp;<span class="op" id="1629736">&lt;&lt;</span>&nbsp;<span class="ident" id="1629739">bitx</span><span class="op" id="1629743">)</span>&nbsp;<span class="op" id="1629745">|</span>&nbsp;<span class="builtintype" id="1629747">rune</span><span class="op" id="1629751">(</span><span class="ident" id="1629752">c1</span><span class="op" id="1629754">)</span><span class="op" id="1629755">)</span>&nbsp;<span class="op" id="1629757">&lt;&lt;</span>&nbsp;<span class="ident" id="1629760">bitx</span><span class="op" id="1629764">)</span>&nbsp;<span class="op" id="1629766">|</span>&nbsp;<span class="builtintype" id="1629768">rune</span><span class="op" id="1629772">(</span><span class="ident" id="1629773">c2</span><span class="op" id="1629775">)</span><span class="op" id="1629776">)</span>&nbsp;<span class="op" id="1629778">&lt;&lt;</span>&nbsp;<span class="ident" id="1629781">bitx</span><span class="op" id="1629785">)</span>&nbsp;<span class="op" id="1629787">|</span>&nbsp;<span class="builtintype" id="1629789">rune</span><span class="op" id="1629793">(</span><span class="ident" id="1629794">c3</span><span class="op" id="1629796">)</span><span class="op" id="1629797">)</span>&nbsp;<span class="op" id="1629799">&amp;</span>&nbsp;<span class="ident" id="1629801">rune4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629809">if</span>&nbsp;<span class="ident" id="1629812">l</span>&nbsp;<span class="op" id="1629814">&lt;=</span>&nbsp;<span class="ident" id="1629817">rune3</span>&nbsp;<span class="op" id="1629823">||</span>&nbsp;<span class="ident" id="1629826">l</span>&nbsp;<span class="op" id="1629828">&gt;</span>&nbsp;<span class="ident" id="1629830">runemax</span>&nbsp;<span class="op" id="1629838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629843">return</span>&nbsp;<span class="ident" id="1629850">bad</span><span class="op" id="1629853">,</span>&nbsp;<span class="num" id="1629855">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629859">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629863">return</span>&nbsp;<span class="ident" id="1629870">l</span><span class="op" id="1629871">,</span>&nbsp;<span class="num" id="1629873">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1629876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1629880">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1629938">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1629991">return</span>&nbsp;<span class="ident" id="1629998">bad</span><span class="op" id="1630001">,</span>&nbsp;<span class="num" id="1630003">1</span><br>
<span class="lineno"></span><span class="op" id="1630005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1630008">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1630072">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1630114">func</span>&nbsp;<span class="ident" id="1630119">runetochar</span><span class="op" id="1630129">(</span><span class="ident" id="1630130">str</span>&nbsp;<span class="op" id="1630134">[</span><span class="op" id="1630135">]</span><span class="builtintype" id="1630136">byte</span><span class="op" id="1630140">,</span>&nbsp;<span class="ident" id="1630142">r</span>&nbsp;<span class="builtintype" id="1630144">rune</span><span class="op" id="1630148">)</span>&nbsp;<span class="builtintype" id="1630150">int</span>&nbsp;<span class="op" id="1630154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1630157">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1630222">c</span>&nbsp;<span class="op" id="1630224">:=</span>&nbsp;<span class="builtintype" id="1630227">uint32</span><span class="op" id="1630233">(</span><span class="ident" id="1630234">r</span><span class="op" id="1630235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1630238">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1630299">if</span>&nbsp;<span class="ident" id="1630302">c</span>&nbsp;<span class="op" id="1630304">&lt;=</span>&nbsp;<span class="ident" id="1630307">rune1</span>&nbsp;<span class="op" id="1630313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1630317">str</span><span class="op" id="1630320">[</span><span class="num" id="1630321">0</span><span class="op" id="1630322">]</span>&nbsp;<span class="op" id="1630324">=</span>&nbsp;<span class="builtintype" id="1630326">byte</span><span class="op" id="1630330">(</span><span class="ident" id="1630331">c</span><span class="op" id="1630332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1630336">return</span>&nbsp;<span class="num" id="1630343">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1630346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1630349">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1630408">if</span>&nbsp;<span class="ident" id="1630411">c</span>&nbsp;<span class="op" id="1630413">&lt;=</span>&nbsp;<span class="ident" id="1630416">rune2</span>&nbsp;<span class="op" id="1630422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1630426">str</span><span class="op" id="1630429">[</span><span class="num" id="1630430">0</span><span class="op" id="1630431">]</span>&nbsp;<span class="op" id="1630433">=</span>&nbsp;<span class="builtintype" id="1630435">byte</span><span class="op" id="1630439">(</span><span class="ident" id="1630440">t2</span>&nbsp;<span class="op" id="1630443">|</span>&nbsp;<span class="op" id="1630445">(</span><span class="ident" id="1630446">c</span>&nbsp;<span class="op" id="1630448">&gt;&gt;</span>&nbsp;<span class="op" id="1630451">(</span><span class="num" id="1630452">1</span>&nbsp;<span class="op" id="1630454">*</span>&nbsp;<span class="ident" id="1630456">bitx</span><span class="op" id="1630460">)</span><span class="op" id="1630461">)</span><span class="op" id="1630462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1630466">str</span><span class="op" id="1630469">[</span><span class="num" id="1630470">1</span><span class="op" id="1630471">]</span>&nbsp;<span class="op" id="1630473">=</span>&nbsp;<span class="builtintype" id="1630475">byte</span><span class="op" id="1630479">(</span><span class="ident" id="1630480">tx</span>&nbsp;<span class="op" id="1630483">|</span>&nbsp;<span class="op" id="1630485">(</span><span class="ident" id="1630486">c</span>&nbsp;<span class="op" id="1630488">&amp;</span>&nbsp;<span class="ident" id="1630490">maskx</span><span class="op" id="1630495">)</span><span class="op" id="1630496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1630500">return</span>&nbsp;<span class="num" id="1630507">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1630510">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1630514">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1630788">if</span>&nbsp;<span class="ident" id="1630791">c</span>&nbsp;<span class="op" id="1630793">&gt;</span>&nbsp;<span class="ident" id="1630795">runemax</span>&nbsp;<span class="op" id="1630803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1630807">c</span>&nbsp;<span class="op" id="1630809">=</span>&nbsp;<span class="ident" id="1630811">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1630822">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1630825">if</span>&nbsp;<span class="ident" id="1630828">surrogateMin</span>&nbsp;<span class="op" id="1630841">&lt;=</span>&nbsp;<span class="ident" id="1630844">c</span>&nbsp;<span class="op" id="1630846">&amp;&amp;</span>&nbsp;<span class="ident" id="1630849">c</span>&nbsp;<span class="op" id="1630851">&lt;=</span>&nbsp;<span class="ident" id="1630854">surrogateMax</span>&nbsp;<span class="op" id="1630867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1630871">c</span>&nbsp;<span class="op" id="1630873">=</span>&nbsp;<span class="ident" id="1630875">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1630886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1630890">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1630954">if</span>&nbsp;<span class="ident" id="1630957">c</span>&nbsp;<span class="op" id="1630959">&lt;=</span>&nbsp;<span class="ident" id="1630962">rune3</span>&nbsp;<span class="op" id="1630968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1630972">str</span><span class="op" id="1630975">[</span><span class="num" id="1630976">0</span><span class="op" id="1630977">]</span>&nbsp;<span class="op" id="1630979">=</span>&nbsp;<span class="builtintype" id="1630981">byte</span><span class="op" id="1630985">(</span><span class="ident" id="1630986">t3</span>&nbsp;<span class="op" id="1630989">|</span>&nbsp;<span class="op" id="1630991">(</span><span class="ident" id="1630992">c</span>&nbsp;<span class="op" id="1630994">&gt;&gt;</span>&nbsp;<span class="op" id="1630997">(</span><span class="num" id="1630998">2</span>&nbsp;<span class="op" id="1631000">*</span>&nbsp;<span class="ident" id="1631002">bitx</span><span class="op" id="1631006">)</span><span class="op" id="1631007">)</span><span class="op" id="1631008">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1631012">str</span><span class="op" id="1631015">[</span><span class="num" id="1631016">1</span><span class="op" id="1631017">]</span>&nbsp;<span class="op" id="1631019">=</span>&nbsp;<span class="builtintype" id="1631021">byte</span><span class="op" id="1631025">(</span><span class="ident" id="1631026">tx</span>&nbsp;<span class="op" id="1631029">|</span>&nbsp;<span class="op" id="1631031">(</span><span class="op" id="1631032">(</span><span class="ident" id="1631033">c</span>&nbsp;<span class="op" id="1631035">&gt;&gt;</span>&nbsp;<span class="op" id="1631038">(</span><span class="num" id="1631039">1</span>&nbsp;<span class="op" id="1631041">*</span>&nbsp;<span class="ident" id="1631043">bitx</span><span class="op" id="1631047">)</span><span class="op" id="1631048">)</span>&nbsp;<span class="op" id="1631050">&amp;</span>&nbsp;<span class="ident" id="1631052">maskx</span><span class="op" id="1631057">)</span><span class="op" id="1631058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1631062">str</span><span class="op" id="1631065">[</span><span class="num" id="1631066">2</span><span class="op" id="1631067">]</span>&nbsp;<span class="op" id="1631069">=</span>&nbsp;<span class="builtintype" id="1631071">byte</span><span class="op" id="1631075">(</span><span class="ident" id="1631076">tx</span>&nbsp;<span class="op" id="1631079">|</span>&nbsp;<span class="op" id="1631081">(</span><span class="ident" id="1631082">c</span>&nbsp;<span class="op" id="1631084">&amp;</span>&nbsp;<span class="ident" id="1631086">maskx</span><span class="op" id="1631091">)</span><span class="op" id="1631092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1631096">return</span>&nbsp;<span class="num" id="1631103">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1631106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1631110">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1631198">str</span><span class="op" id="1631201">[</span><span class="num" id="1631202">0</span><span class="op" id="1631203">]</span>&nbsp;<span class="op" id="1631205">=</span>&nbsp;<span class="builtintype" id="1631207">byte</span><span class="op" id="1631211">(</span><span class="ident" id="1631212">t4</span>&nbsp;<span class="op" id="1631215">|</span>&nbsp;<span class="op" id="1631217">(</span><span class="ident" id="1631218">c</span>&nbsp;<span class="op" id="1631220">&gt;&gt;</span>&nbsp;<span class="op" id="1631223">(</span><span class="num" id="1631224">3</span>&nbsp;<span class="op" id="1631226">*</span>&nbsp;<span class="ident" id="1631228">bitx</span><span class="op" id="1631232">)</span><span class="op" id="1631233">)</span><span class="op" id="1631234">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1631237">str</span><span class="op" id="1631240">[</span><span class="num" id="1631241">1</span><span class="op" id="1631242">]</span>&nbsp;<span class="op" id="1631244">=</span>&nbsp;<span class="builtintype" id="1631246">byte</span><span class="op" id="1631250">(</span><span class="ident" id="1631251">tx</span>&nbsp;<span class="op" id="1631254">|</span>&nbsp;<span class="op" id="1631256">(</span><span class="op" id="1631257">(</span><span class="ident" id="1631258">c</span>&nbsp;<span class="op" id="1631260">&gt;&gt;</span>&nbsp;<span class="op" id="1631263">(</span><span class="num" id="1631264">2</span>&nbsp;<span class="op" id="1631266">*</span>&nbsp;<span class="ident" id="1631268">bitx</span><span class="op" id="1631272">)</span><span class="op" id="1631273">)</span>&nbsp;<span class="op" id="1631275">&amp;</span>&nbsp;<span class="ident" id="1631277">maskx</span><span class="op" id="1631282">)</span><span class="op" id="1631283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1631286">str</span><span class="op" id="1631289">[</span><span class="num" id="1631290">2</span><span class="op" id="1631291">]</span>&nbsp;<span class="op" id="1631293">=</span>&nbsp;<span class="builtintype" id="1631295">byte</span><span class="op" id="1631299">(</span><span class="ident" id="1631300">tx</span>&nbsp;<span class="op" id="1631303">|</span>&nbsp;<span class="op" id="1631305">(</span><span class="op" id="1631306">(</span><span class="ident" id="1631307">c</span>&nbsp;<span class="op" id="1631309">&gt;&gt;</span>&nbsp;<span class="op" id="1631312">(</span><span class="num" id="1631313">1</span>&nbsp;<span class="op" id="1631315">*</span>&nbsp;<span class="ident" id="1631317">bitx</span><span class="op" id="1631321">)</span><span class="op" id="1631322">)</span>&nbsp;<span class="op" id="1631324">&amp;</span>&nbsp;<span class="ident" id="1631326">maskx</span><span class="op" id="1631331">)</span><span class="op" id="1631332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1631335">str</span><span class="op" id="1631338">[</span><span class="num" id="1631339">3</span><span class="op" id="1631340">]</span>&nbsp;<span class="op" id="1631342">=</span>&nbsp;<span class="builtintype" id="1631344">byte</span><span class="op" id="1631348">(</span><span class="ident" id="1631349">tx</span>&nbsp;<span class="op" id="1631352">|</span>&nbsp;<span class="op" id="1631354">(</span><span class="ident" id="1631355">c</span>&nbsp;<span class="op" id="1631357">&amp;</span>&nbsp;<span class="ident" id="1631359">maskx</span><span class="op" id="1631364">)</span><span class="op" id="1631365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1631368">return</span>&nbsp;<span class="num" id="1631375">4</span><br>
<span class="lineno"></span><span class="op" id="1631377">}</span>
</div>
</body>
</html>
