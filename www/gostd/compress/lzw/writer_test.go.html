<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8526883">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8526938">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8526992">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8527043">package</span>&nbsp;<span class="ident" id="8527051">lzw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8527056">import</span>&nbsp;<span class="op" id="8527063">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8527066">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8527072">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8527085">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8527091">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8527102">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8527112">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8527115">var</span>&nbsp;<span class="ident" id="8527119">filenames</span>&nbsp;<span class="op" id="8527129">=</span>&nbsp;<span class="op" id="8527131">[</span><span class="op" id="8527132">]</span><span class="builtintype" id="8527133">string</span><span class="op" id="8527139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8527142">&#34;../testdata/e.txt&#34;</span><span class="op" id="8527161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8527164">&#34;../testdata/pi.txt&#34;</span><span class="op" id="8527184">,</span><br>
<span class="lineno"></span><span class="op" id="8527186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="8527189">//&nbsp;testFile&nbsp;tests&nbsp;that&nbsp;compressing&nbsp;and&nbsp;then&nbsp;decompressing&nbsp;the&nbsp;given&nbsp;file&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="8527267">//&nbsp;the&nbsp;given&nbsp;options&nbsp;yields&nbsp;equivalent&nbsp;bytes&nbsp;to&nbsp;the&nbsp;original&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="8527334">func</span>&nbsp;<span class="ident" id="8527339">testFile</span><span class="op" id="8527347">(</span><span class="ident" id="8527348">t</span>&nbsp;<span class="op" id="8527350">*</span><span class="ident" id="8527351">testing</span><span class="op" id="8527358">.</span><span class="ident" id="8527359">T</span><span class="op" id="8527360">,</span>&nbsp;<span class="ident" id="8527362">fn</span>&nbsp;<span class="builtintype" id="8527365">string</span><span class="op" id="8527371">,</span>&nbsp;<span class="ident" id="8527373">order</span>&nbsp;<span class="ident" id="8527379">Order</span><span class="op" id="8527384">,</span>&nbsp;<span class="ident" id="8527386">litWidth</span>&nbsp;<span class="builtintype" id="8527395">int</span><span class="op" id="8527398">)</span>&nbsp;<span class="op" id="8527400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8527403">//&nbsp;Read&nbsp;the&nbsp;file,&nbsp;as&nbsp;golden&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8527440">golden</span><span class="op" id="8527446">,</span>&nbsp;<span class="ident" id="8527448">err</span>&nbsp;<span class="op" id="8527452">:=</span>&nbsp;<span class="ident" id="8527455">os</span><span class="op" id="8527457">.</span><span class="ident" id="8527458">Open</span><span class="op" id="8527462">(</span><span class="ident" id="8527463">fn</span><span class="op" id="8527465">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527468">if</span>&nbsp;<span class="ident" id="8527471">err</span>&nbsp;<span class="op" id="8527475">!=</span>&nbsp;<span class="ident" id="8527478">nil</span>&nbsp;<span class="op" id="8527482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8527486">t</span><span class="op" id="8527487">.</span><span class="ident" id="8527488">Errorf</span><span class="op" id="8527494">(</span><span class="string" id="8527495">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="8527526">,</span>&nbsp;<span class="ident" id="8527528">fn</span><span class="op" id="8527530">,</span>&nbsp;<span class="ident" id="8527532">order</span><span class="op" id="8527537">,</span>&nbsp;<span class="ident" id="8527539">litWidth</span><span class="op" id="8527547">,</span>&nbsp;<span class="ident" id="8527549">err</span><span class="op" id="8527552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527556">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8527564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527567">defer</span>&nbsp;<span class="ident" id="8527573">golden</span><span class="op" id="8527579">.</span><span class="ident" id="8527580">Close</span><span class="op" id="8527585">(</span><span class="op" id="8527586">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8527590">//&nbsp;Read&nbsp;the&nbsp;file&nbsp;again,&nbsp;and&nbsp;push&nbsp;it&nbsp;through&nbsp;a&nbsp;pipe&nbsp;that&nbsp;compresses&nbsp;at&nbsp;the&nbsp;write&nbsp;end,&nbsp;and&nbsp;decompresses&nbsp;at&nbsp;the&nbsp;read&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8527710">raw</span><span class="op" id="8527713">,</span>&nbsp;<span class="ident" id="8527715">err</span>&nbsp;<span class="op" id="8527719">:=</span>&nbsp;<span class="ident" id="8527722">os</span><span class="op" id="8527724">.</span><span class="ident" id="8527725">Open</span><span class="op" id="8527729">(</span><span class="ident" id="8527730">fn</span><span class="op" id="8527732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527735">if</span>&nbsp;<span class="ident" id="8527738">err</span>&nbsp;<span class="op" id="8527742">!=</span>&nbsp;<span class="ident" id="8527745">nil</span>&nbsp;<span class="op" id="8527749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8527753">t</span><span class="op" id="8527754">.</span><span class="ident" id="8527755">Errorf</span><span class="op" id="8527761">(</span><span class="string" id="8527762">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="8527793">,</span>&nbsp;<span class="ident" id="8527795">fn</span><span class="op" id="8527797">,</span>&nbsp;<span class="ident" id="8527799">order</span><span class="op" id="8527804">,</span>&nbsp;<span class="ident" id="8527806">litWidth</span><span class="op" id="8527814">,</span>&nbsp;<span class="ident" id="8527816">err</span><span class="op" id="8527819">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527823">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8527831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8527835">piper</span><span class="op" id="8527840">,</span>&nbsp;<span class="ident" id="8527842">pipew</span>&nbsp;<span class="op" id="8527848">:=</span>&nbsp;<span class="ident" id="8527851">io</span><span class="op" id="8527853">.</span><span class="ident" id="8527854">Pipe</span><span class="op" id="8527858">(</span><span class="op" id="8527859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527862">defer</span>&nbsp;<span class="ident" id="8527868">piper</span><span class="op" id="8527873">.</span><span class="ident" id="8527874">Close</span><span class="op" id="8527879">(</span><span class="op" id="8527880">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527883">go</span>&nbsp;<span class="keyword" id="8527886">func</span><span class="op" id="8527890">(</span><span class="op" id="8527891">)</span>&nbsp;<span class="op" id="8527893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527897">defer</span>&nbsp;<span class="ident" id="8527903">raw</span><span class="op" id="8527906">.</span><span class="ident" id="8527907">Close</span><span class="op" id="8527912">(</span><span class="op" id="8527913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527917">defer</span>&nbsp;<span class="ident" id="8527923">pipew</span><span class="op" id="8527928">.</span><span class="ident" id="8527929">Close</span><span class="op" id="8527934">(</span><span class="op" id="8527935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8527939">lzww</span>&nbsp;<span class="op" id="8527944">:=</span>&nbsp;<span class="ident" id="8527947">NewWriter</span><span class="op" id="8527956">(</span><span class="ident" id="8527957">pipew</span><span class="op" id="8527962">,</span>&nbsp;<span class="ident" id="8527964">order</span><span class="op" id="8527969">,</span>&nbsp;<span class="ident" id="8527971">litWidth</span><span class="op" id="8527979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8527983">defer</span>&nbsp;<span class="ident" id="8527989">lzww</span><span class="op" id="8527993">.</span><span class="ident" id="8527994">Close</span><span class="op" id="8527999">(</span><span class="op" id="8528000">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528004">var</span>&nbsp;<span class="ident" id="8528008">b</span>&nbsp;<span class="op" id="8528010">[</span><span class="num" id="8528011">4096</span><span class="op" id="8528015">]</span><span class="builtintype" id="8528016">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528023">for</span>&nbsp;<span class="op" id="8528027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528032">n</span><span class="op" id="8528033">,</span>&nbsp;<span class="ident" id="8528035">err0</span>&nbsp;<span class="op" id="8528040">:=</span>&nbsp;<span class="ident" id="8528043">raw</span><span class="op" id="8528046">.</span><span class="ident" id="8528047">Read</span><span class="op" id="8528051">(</span><span class="ident" id="8528052">b</span><span class="op" id="8528053">[</span><span class="op" id="8528054">:</span><span class="op" id="8528055">]</span><span class="op" id="8528056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528061">if</span>&nbsp;<span class="ident" id="8528064">err0</span>&nbsp;<span class="op" id="8528069">!=</span>&nbsp;<span class="ident" id="8528072">nil</span>&nbsp;<span class="op" id="8528076">&amp;&amp;</span>&nbsp;<span class="ident" id="8528079">err0</span>&nbsp;<span class="op" id="8528084">!=</span>&nbsp;<span class="ident" id="8528087">io</span><span class="op" id="8528089">.</span><span class="ident" id="8528090">EOF</span>&nbsp;<span class="op" id="8528094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528100">t</span><span class="op" id="8528101">.</span><span class="ident" id="8528102">Errorf</span><span class="op" id="8528108">(</span><span class="string" id="8528109">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="8528140">,</span>&nbsp;<span class="ident" id="8528142">fn</span><span class="op" id="8528144">,</span>&nbsp;<span class="ident" id="8528146">order</span><span class="op" id="8528151">,</span>&nbsp;<span class="ident" id="8528153">litWidth</span><span class="op" id="8528161">,</span>&nbsp;<span class="ident" id="8528163">err0</span><span class="op" id="8528167">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528173">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8528183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528188">_</span><span class="op" id="8528189">,</span>&nbsp;<span class="ident" id="8528191">err1</span>&nbsp;<span class="op" id="8528196">:=</span>&nbsp;<span class="ident" id="8528199">lzww</span><span class="op" id="8528203">.</span><span class="ident" id="8528204">Write</span><span class="op" id="8528209">(</span><span class="ident" id="8528210">b</span><span class="op" id="8528211">[</span><span class="op" id="8528212">:</span><span class="ident" id="8528213">n</span><span class="op" id="8528214">]</span><span class="op" id="8528215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528220">if</span>&nbsp;<span class="ident" id="8528223">err1</span>&nbsp;<span class="op" id="8528228">!=</span>&nbsp;<span class="ident" id="8528231">nil</span>&nbsp;<span class="op" id="8528235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528241">t</span><span class="op" id="8528242">.</span><span class="ident" id="8528243">Errorf</span><span class="op" id="8528249">(</span><span class="string" id="8528250">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="8528281">,</span>&nbsp;<span class="ident" id="8528283">fn</span><span class="op" id="8528285">,</span>&nbsp;<span class="ident" id="8528287">order</span><span class="op" id="8528292">,</span>&nbsp;<span class="ident" id="8528294">litWidth</span><span class="op" id="8528302">,</span>&nbsp;<span class="ident" id="8528304">err1</span><span class="op" id="8528308">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528314">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8528324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528329">if</span>&nbsp;<span class="ident" id="8528332">err0</span>&nbsp;<span class="op" id="8528337">==</span>&nbsp;<span class="ident" id="8528340">io</span><span class="op" id="8528342">.</span><span class="ident" id="8528343">EOF</span>&nbsp;<span class="op" id="8528347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528353">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8528362">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8528366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8528369">}</span><span class="op" id="8528370">(</span><span class="op" id="8528371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528374">lzwr</span>&nbsp;<span class="op" id="8528379">:=</span>&nbsp;<span class="ident" id="8528382">NewReader</span><span class="op" id="8528391">(</span><span class="ident" id="8528392">piper</span><span class="op" id="8528397">,</span>&nbsp;<span class="ident" id="8528399">order</span><span class="op" id="8528404">,</span>&nbsp;<span class="ident" id="8528406">litWidth</span><span class="op" id="8528414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528417">defer</span>&nbsp;<span class="ident" id="8528423">lzwr</span><span class="op" id="8528427">.</span><span class="ident" id="8528428">Close</span><span class="op" id="8528433">(</span><span class="op" id="8528434">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8528438">//&nbsp;Compare&nbsp;the&nbsp;two.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528459">b0</span><span class="op" id="8528461">,</span>&nbsp;<span class="ident" id="8528463">err0</span>&nbsp;<span class="op" id="8528468">:=</span>&nbsp;<span class="ident" id="8528471">ioutil</span><span class="op" id="8528477">.</span><span class="ident" id="8528478">ReadAll</span><span class="op" id="8528485">(</span><span class="ident" id="8528486">golden</span><span class="op" id="8528492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528495">b1</span><span class="op" id="8528497">,</span>&nbsp;<span class="ident" id="8528499">err1</span>&nbsp;<span class="op" id="8528504">:=</span>&nbsp;<span class="ident" id="8528507">ioutil</span><span class="op" id="8528513">.</span><span class="ident" id="8528514">ReadAll</span><span class="op" id="8528521">(</span><span class="ident" id="8528522">lzwr</span><span class="op" id="8528526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528529">if</span>&nbsp;<span class="ident" id="8528532">err0</span>&nbsp;<span class="op" id="8528537">!=</span>&nbsp;<span class="ident" id="8528540">nil</span>&nbsp;<span class="op" id="8528544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528548">t</span><span class="op" id="8528549">.</span><span class="ident" id="8528550">Errorf</span><span class="op" id="8528556">(</span><span class="string" id="8528557">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="8528588">,</span>&nbsp;<span class="ident" id="8528590">fn</span><span class="op" id="8528592">,</span>&nbsp;<span class="ident" id="8528594">order</span><span class="op" id="8528599">,</span>&nbsp;<span class="ident" id="8528601">litWidth</span><span class="op" id="8528609">,</span>&nbsp;<span class="ident" id="8528611">err0</span><span class="op" id="8528615">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528619">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8528627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528630">if</span>&nbsp;<span class="ident" id="8528633">err1</span>&nbsp;<span class="op" id="8528638">!=</span>&nbsp;<span class="ident" id="8528641">nil</span>&nbsp;<span class="op" id="8528645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528649">t</span><span class="op" id="8528650">.</span><span class="ident" id="8528651">Errorf</span><span class="op" id="8528657">(</span><span class="string" id="8528658">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="8528689">,</span>&nbsp;<span class="ident" id="8528691">fn</span><span class="op" id="8528693">,</span>&nbsp;<span class="ident" id="8528695">order</span><span class="op" id="8528700">,</span>&nbsp;<span class="ident" id="8528702">litWidth</span><span class="op" id="8528710">,</span>&nbsp;<span class="ident" id="8528712">err1</span><span class="op" id="8528716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528720">return</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8528728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528731">if</span>&nbsp;<span class="builtinfunc" id="8528734">len</span><span class="op" id="8528737">(</span><span class="ident" id="8528738">b1</span><span class="op" id="8528740">)</span>&nbsp;<span class="op" id="8528742">!=</span>&nbsp;<span class="builtinfunc" id="8528745">len</span><span class="op" id="8528748">(</span><span class="ident" id="8528749">b0</span><span class="op" id="8528751">)</span>&nbsp;<span class="op" id="8528753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528757">t</span><span class="op" id="8528758">.</span><span class="ident" id="8528759">Errorf</span><span class="op" id="8528765">(</span><span class="string" id="8528766">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;length&nbsp;mismatch&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="8528819">,</span>&nbsp;<span class="ident" id="8528821">fn</span><span class="op" id="8528823">,</span>&nbsp;<span class="ident" id="8528825">order</span><span class="op" id="8528830">,</span>&nbsp;<span class="ident" id="8528832">litWidth</span><span class="op" id="8528840">,</span>&nbsp;<span class="builtinfunc" id="8528842">len</span><span class="op" id="8528845">(</span><span class="ident" id="8528846">b1</span><span class="op" id="8528848">)</span><span class="op" id="8528849">,</span>&nbsp;<span class="builtinfunc" id="8528851">len</span><span class="op" id="8528854">(</span><span class="ident" id="8528855">b0</span><span class="op" id="8528857">)</span><span class="op" id="8528858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528862">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8528870">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528873">for</span>&nbsp;<span class="ident" id="8528877">i</span>&nbsp;<span class="op" id="8528879">:=</span>&nbsp;<span class="num" id="8528882">0</span><span class="op" id="8528883">;</span>&nbsp;<span class="ident" id="8528885">i</span>&nbsp;<span class="op" id="8528887">&lt;</span>&nbsp;<span class="builtinfunc" id="8528889">len</span><span class="op" id="8528892">(</span><span class="ident" id="8528893">b0</span><span class="op" id="8528895">)</span><span class="op" id="8528896">;</span>&nbsp;<span class="ident" id="8528898">i</span><span class="op" id="8528899">++</span>&nbsp;<span class="op" id="8528902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8528906">if</span>&nbsp;<span class="ident" id="8528909">b1</span><span class="op" id="8528911">[</span><span class="ident" id="8528912">i</span><span class="op" id="8528913">]</span>&nbsp;<span class="op" id="8528915">!=</span>&nbsp;<span class="ident" id="8528918">b0</span><span class="op" id="8528920">[</span><span class="ident" id="8528921">i</span><span class="op" id="8528922">]</span>&nbsp;<span class="op" id="8528924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8528929">t</span><span class="op" id="8528930">.</span><span class="ident" id="8528931">Errorf</span><span class="op" id="8528937">(</span><span class="string" id="8528938">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;mismatch&nbsp;at&nbsp;%d,&nbsp;0x%02x&nbsp;!=&nbsp;0x%02x\n&#34;</span><span class="op" id="8529001">,</span>&nbsp;<span class="ident" id="8529003">fn</span><span class="op" id="8529005">,</span>&nbsp;<span class="ident" id="8529007">order</span><span class="op" id="8529012">,</span>&nbsp;<span class="ident" id="8529014">litWidth</span><span class="op" id="8529022">,</span>&nbsp;<span class="ident" id="8529024">i</span><span class="op" id="8529025">,</span>&nbsp;<span class="ident" id="8529027">b1</span><span class="op" id="8529029">[</span><span class="ident" id="8529030">i</span><span class="op" id="8529031">]</span><span class="op" id="8529032">,</span>&nbsp;<span class="ident" id="8529034">b0</span><span class="op" id="8529036">[</span><span class="ident" id="8529037">i</span><span class="op" id="8529038">]</span><span class="op" id="8529039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529044">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529053">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529056">}</span><br>
<span class="lineno"></span><span class="op" id="8529058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8529061">func</span>&nbsp;<span class="ident" id="8529066">TestWriter</span><span class="op" id="8529076">(</span><span class="ident" id="8529077">t</span>&nbsp;<span class="op" id="8529079">*</span><span class="ident" id="8529080">testing</span><span class="op" id="8529087">.</span><span class="ident" id="8529088">T</span><span class="op" id="8529089">)</span>&nbsp;<span class="op" id="8529091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529094">for</span>&nbsp;<span class="ident" id="8529098">_</span><span class="op" id="8529099">,</span>&nbsp;<span class="ident" id="8529101">filename</span>&nbsp;<span class="op" id="8529110">:=</span>&nbsp;<span class="keyword" id="8529113">range</span>&nbsp;<span class="ident" id="8529119">filenames</span>&nbsp;<span class="op" id="8529129">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529133">for</span>&nbsp;<span class="ident" id="8529137">_</span><span class="op" id="8529138">,</span>&nbsp;<span class="ident" id="8529140">order</span>&nbsp;<span class="op" id="8529146">:=</span>&nbsp;<span class="keyword" id="8529149">range</span>&nbsp;<span class="op" id="8529155">[</span><span class="op" id="8529156">...</span><span class="op" id="8529159">]</span><span class="ident" id="8529160">Order</span><span class="op" id="8529165">{</span><span class="ident" id="8529166">LSB</span><span class="op" id="8529169">,</span>&nbsp;<span class="ident" id="8529171">MSB</span><span class="op" id="8529174">}</span>&nbsp;<span class="op" id="8529176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8529181">//&nbsp;The&nbsp;test&nbsp;data&nbsp;&#34;2.71828&nbsp;etcetera&#34;&nbsp;is&nbsp;ASCII&nbsp;text&nbsp;requiring&nbsp;at&nbsp;least&nbsp;6&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529261">for</span>&nbsp;<span class="ident" id="8529265">_</span><span class="op" id="8529266">,</span>&nbsp;<span class="ident" id="8529268">litWidth</span>&nbsp;<span class="op" id="8529277">:=</span>&nbsp;<span class="keyword" id="8529280">range</span>&nbsp;<span class="op" id="8529286">[</span><span class="op" id="8529287">...</span><span class="op" id="8529290">]</span><span class="builtintype" id="8529291">int</span><span class="op" id="8529294">{</span><span class="num" id="8529295">6</span><span class="op" id="8529296">,</span>&nbsp;<span class="num" id="8529298">7</span><span class="op" id="8529299">,</span>&nbsp;<span class="num" id="8529301">8</span><span class="op" id="8529302">}</span>&nbsp;<span class="op" id="8529304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529310">testFile</span><span class="op" id="8529318">(</span><span class="ident" id="8529319">t</span><span class="op" id="8529320">,</span>&nbsp;<span class="ident" id="8529322">filename</span><span class="op" id="8529330">,</span>&nbsp;<span class="ident" id="8529332">order</span><span class="op" id="8529337">,</span>&nbsp;<span class="ident" id="8529339">litWidth</span><span class="op" id="8529347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529352">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529359">}</span><br>
<span class="lineno"></span><span class="op" id="8529361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8529364">func</span>&nbsp;<span class="ident" id="8529369">TestWriterReturnValues</span><span class="op" id="8529391">(</span><span class="ident" id="8529392">t</span>&nbsp;<span class="op" id="8529394">*</span><span class="ident" id="8529395">testing</span><span class="op" id="8529402">.</span><span class="ident" id="8529403">T</span><span class="op" id="8529404">)</span>&nbsp;<span class="op" id="8529406">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529409">w</span>&nbsp;<span class="op" id="8529411">:=</span>&nbsp;<span class="ident" id="8529414">NewWriter</span><span class="op" id="8529423">(</span><span class="ident" id="8529424">ioutil</span><span class="op" id="8529430">.</span><span class="ident" id="8529431">Discard</span><span class="op" id="8529438">,</span>&nbsp;<span class="ident" id="8529440">LSB</span><span class="op" id="8529443">,</span>&nbsp;<span class="num" id="8529445">8</span><span class="op" id="8529446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529449">n</span><span class="op" id="8529450">,</span>&nbsp;<span class="ident" id="8529452">err</span>&nbsp;<span class="op" id="8529456">:=</span>&nbsp;<span class="ident" id="8529459">w</span><span class="op" id="8529460">.</span><span class="ident" id="8529461">Write</span><span class="op" id="8529466">(</span><span class="op" id="8529467">[</span><span class="op" id="8529468">]</span><span class="builtintype" id="8529469">byte</span><span class="op" id="8529473">(</span><span class="string" id="8529474">&#34;asdf&#34;</span><span class="op" id="8529480">)</span><span class="op" id="8529481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529484">if</span>&nbsp;<span class="ident" id="8529487">n</span>&nbsp;<span class="op" id="8529489">!=</span>&nbsp;<span class="num" id="8529492">4</span>&nbsp;<span class="op" id="8529494">||</span>&nbsp;<span class="ident" id="8529497">err</span>&nbsp;<span class="op" id="8529501">!=</span>&nbsp;<span class="ident" id="8529504">nil</span>&nbsp;<span class="op" id="8529508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529512">t</span><span class="op" id="8529513">.</span><span class="ident" id="8529514">Errorf</span><span class="op" id="8529520">(</span><span class="string" id="8529521">&#34;got&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;4,&nbsp;nil&#34;</span><span class="op" id="8529546">,</span>&nbsp;<span class="ident" id="8529548">n</span><span class="op" id="8529549">,</span>&nbsp;<span class="ident" id="8529551">err</span><span class="op" id="8529554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529557">}</span><br>
<span class="lineno">105</span><span class="op" id="8529559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8529562">func</span>&nbsp;<span class="ident" id="8529567">benchmarkEncoder</span><span class="op" id="8529583">(</span><span class="ident" id="8529584">b</span>&nbsp;<span class="op" id="8529586">*</span><span class="ident" id="8529587">testing</span><span class="op" id="8529594">.</span><span class="ident" id="8529595">B</span><span class="op" id="8529596">,</span>&nbsp;<span class="ident" id="8529598">n</span>&nbsp;<span class="builtintype" id="8529600">int</span><span class="op" id="8529603">)</span>&nbsp;<span class="op" id="8529605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529608">b</span><span class="op" id="8529609">.</span><span class="ident" id="8529610">StopTimer</span><span class="op" id="8529619">(</span><span class="op" id="8529620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529623">b</span><span class="op" id="8529624">.</span><span class="ident" id="8529625">SetBytes</span><span class="op" id="8529633">(</span><span class="ident" id="8529634">int64</span><span class="op" id="8529639">(</span><span class="ident" id="8529640">n</span><span class="op" id="8529641">)</span><span class="op" id="8529642">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529645">buf0</span><span class="op" id="8529649">,</span>&nbsp;<span class="ident" id="8529651">err</span>&nbsp;<span class="op" id="8529655">:=</span>&nbsp;<span class="ident" id="8529658">ioutil</span><span class="op" id="8529664">.</span><span class="ident" id="8529665">ReadFile</span><span class="op" id="8529673">(</span><span class="string" id="8529674">&#34;../testdata/e.txt&#34;</span><span class="op" id="8529693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529696">if</span>&nbsp;<span class="ident" id="8529699">err</span>&nbsp;<span class="op" id="8529703">!=</span>&nbsp;<span class="ident" id="8529706">nil</span>&nbsp;<span class="op" id="8529710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529714">b</span><span class="op" id="8529715">.</span><span class="ident" id="8529716">Fatal</span><span class="op" id="8529721">(</span><span class="ident" id="8529722">err</span><span class="op" id="8529725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529731">if</span>&nbsp;<span class="builtinfunc" id="8529734">len</span><span class="op" id="8529737">(</span><span class="ident" id="8529738">buf0</span><span class="op" id="8529742">)</span>&nbsp;<span class="op" id="8529744">==</span>&nbsp;<span class="num" id="8529747">0</span>&nbsp;<span class="op" id="8529749">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529753">b</span><span class="op" id="8529754">.</span><span class="ident" id="8529755">Fatalf</span><span class="op" id="8529761">(</span><span class="string" id="8529762">&#34;test&nbsp;file&nbsp;has&nbsp;no&nbsp;data&#34;</span><span class="op" id="8529785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529791">buf1</span>&nbsp;<span class="op" id="8529796">:=</span>&nbsp;<span class="builtinfunc" id="8529799">make</span><span class="op" id="8529803">(</span><span class="op" id="8529804">[</span><span class="op" id="8529805">]</span><span class="builtintype" id="8529806">byte</span><span class="op" id="8529810">,</span>&nbsp;<span class="ident" id="8529812">n</span><span class="op" id="8529813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529816">for</span>&nbsp;<span class="ident" id="8529820">i</span>&nbsp;<span class="op" id="8529822">:=</span>&nbsp;<span class="num" id="8529825">0</span><span class="op" id="8529826">;</span>&nbsp;<span class="ident" id="8529828">i</span>&nbsp;<span class="op" id="8529830">&lt;</span>&nbsp;<span class="ident" id="8529832">n</span><span class="op" id="8529833">;</span>&nbsp;<span class="ident" id="8529835">i</span>&nbsp;<span class="op" id="8529837">+=</span>&nbsp;<span class="builtinfunc" id="8529840">len</span><span class="op" id="8529843">(</span><span class="ident" id="8529844">buf0</span><span class="op" id="8529848">)</span>&nbsp;<span class="op" id="8529850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529854">if</span>&nbsp;<span class="builtinfunc" id="8529857">len</span><span class="op" id="8529860">(</span><span class="ident" id="8529861">buf0</span><span class="op" id="8529865">)</span>&nbsp;<span class="op" id="8529867">&gt;</span>&nbsp;<span class="ident" id="8529869">n</span><span class="op" id="8529870">-</span><span class="ident" id="8529871">i</span>&nbsp;<span class="op" id="8529873">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529878">buf0</span>&nbsp;<span class="op" id="8529883">=</span>&nbsp;<span class="ident" id="8529885">buf0</span><span class="op" id="8529889">[</span><span class="op" id="8529890">:</span><span class="ident" id="8529891">n</span><span class="op" id="8529892">-</span><span class="ident" id="8529893">i</span><span class="op" id="8529894">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8529902">copy</span><span class="op" id="8529906">(</span><span class="ident" id="8529907">buf1</span><span class="op" id="8529911">[</span><span class="ident" id="8529912">i</span><span class="op" id="8529913">:</span><span class="op" id="8529914">]</span><span class="op" id="8529915">,</span>&nbsp;<span class="ident" id="8529917">buf0</span><span class="op" id="8529921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8529924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529927">buf0</span>&nbsp;<span class="op" id="8529932">=</span>&nbsp;<span class="ident" id="8529934">nil</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529939">runtime</span><span class="op" id="8529946">.</span><span class="ident" id="8529947">GC</span><span class="op" id="8529949">(</span><span class="op" id="8529950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529953">b</span><span class="op" id="8529954">.</span><span class="ident" id="8529955">StartTimer</span><span class="op" id="8529965">(</span><span class="op" id="8529966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8529969">for</span>&nbsp;<span class="ident" id="8529973">i</span>&nbsp;<span class="op" id="8529975">:=</span>&nbsp;<span class="num" id="8529978">0</span><span class="op" id="8529979">;</span>&nbsp;<span class="ident" id="8529981">i</span>&nbsp;<span class="op" id="8529983">&lt;</span>&nbsp;<span class="ident" id="8529985">b</span><span class="op" id="8529986">.</span><span class="ident" id="8529987">N</span><span class="op" id="8529988">;</span>&nbsp;<span class="ident" id="8529990">i</span><span class="op" id="8529991">++</span>&nbsp;<span class="op" id="8529994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8529998">w</span>&nbsp;<span class="op" id="8530000">:=</span>&nbsp;<span class="ident" id="8530003">NewWriter</span><span class="op" id="8530012">(</span><span class="ident" id="8530013">ioutil</span><span class="op" id="8530019">.</span><span class="ident" id="8530020">Discard</span><span class="op" id="8530027">,</span>&nbsp;<span class="ident" id="8530029">LSB</span><span class="op" id="8530032">,</span>&nbsp;<span class="num" id="8530034">8</span><span class="op" id="8530035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530039">w</span><span class="op" id="8530040">.</span><span class="ident" id="8530041">Write</span><span class="op" id="8530046">(</span><span class="ident" id="8530047">buf1</span><span class="op" id="8530051">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530055">w</span><span class="op" id="8530056">.</span><span class="ident" id="8530057">Close</span><span class="op" id="8530062">(</span><span class="op" id="8530063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8530066">}</span><br>
<span class="lineno"></span><span class="op" id="8530068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8530071">func</span>&nbsp;<span class="ident" id="8530076">BenchmarkEncoder1e4</span><span class="op" id="8530095">(</span><span class="ident" id="8530096">b</span>&nbsp;<span class="op" id="8530098">*</span><span class="ident" id="8530099">testing</span><span class="op" id="8530106">.</span><span class="ident" id="8530107">B</span><span class="op" id="8530108">)</span>&nbsp;<span class="op" id="8530110">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530113">benchmarkEncoder</span><span class="op" id="8530129">(</span><span class="ident" id="8530130">b</span><span class="op" id="8530131">,</span>&nbsp;<span class="num" id="8530133">1e4</span><span class="op" id="8530136">)</span><br>
<span class="lineno"></span><span class="op" id="8530138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8530141">func</span>&nbsp;<span class="ident" id="8530146">BenchmarkEncoder1e5</span><span class="op" id="8530165">(</span><span class="ident" id="8530166">b</span>&nbsp;<span class="op" id="8530168">*</span><span class="ident" id="8530169">testing</span><span class="op" id="8530176">.</span><span class="ident" id="8530177">B</span><span class="op" id="8530178">)</span>&nbsp;<span class="op" id="8530180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530183">benchmarkEncoder</span><span class="op" id="8530199">(</span><span class="ident" id="8530200">b</span><span class="op" id="8530201">,</span>&nbsp;<span class="num" id="8530203">1e5</span><span class="op" id="8530206">)</span><br>
<span class="lineno">140</span><span class="op" id="8530208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8530211">func</span>&nbsp;<span class="ident" id="8530216">BenchmarkEncoder1e6</span><span class="op" id="8530235">(</span><span class="ident" id="8530236">b</span>&nbsp;<span class="op" id="8530238">*</span><span class="ident" id="8530239">testing</span><span class="op" id="8530246">.</span><span class="ident" id="8530247">B</span><span class="op" id="8530248">)</span>&nbsp;<span class="op" id="8530250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8530253">benchmarkEncoder</span><span class="op" id="8530269">(</span><span class="ident" id="8530270">b</span><span class="op" id="8530271">,</span>&nbsp;<span class="num" id="8530273">1e6</span><span class="op" id="8530276">)</span><br>
<span class="lineno"></span><span class="op" id="8530278">}</span>
</div>
</body>
</html>
