<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2445703">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2445758">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2445812">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2445863">package</span>&nbsp;<span class="ident" id="2445871">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2445880">import</span>&nbsp;<span class="op" id="2445887">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2445890">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2445898">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2445909">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="2445918">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2445921">const</span>&nbsp;<span class="ident" id="2445927">ptrSize</span>&nbsp;<span class="op" id="2445935">=</span>&nbsp;<span class="ident" id="2445937"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2445943">.</span><span class="ident" id="2445944">Sizeof</span><span class="op" id="2445950">(</span><span class="op" id="2445951">(</span><span class="op" id="2445952">*</span><span class="builtintype" id="2445953">byte</span><span class="op" id="2445957">)</span><span class="op" id="2445958">(</span><span class="ident" id="2445959">nil</span><span class="op" id="2445962">)</span><span class="op" id="2445963">)</span><br>
<span class="lineno"></span><span class="keyword" id="2445965">const</span>&nbsp;<span class="ident" id="2445971">cannotSet</span>&nbsp;<span class="op" id="2445981">=</span>&nbsp;<span class="string" id="2445983">&#34;cannot&nbsp;set&nbsp;value&nbsp;obtained&nbsp;from&nbsp;unexported&nbsp;struct&nbsp;field&#34;</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2446041">//&nbsp;Value&nbsp;is&nbsp;the&nbsp;reflection&nbsp;interface&nbsp;to&nbsp;a&nbsp;Go&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2446093">//</span><br>
<span class="lineno"></span><span class="comment" id="2446096">//&nbsp;Not&nbsp;all&nbsp;methods&nbsp;apply&nbsp;to&nbsp;all&nbsp;kinds&nbsp;of&nbsp;values.&nbsp;&nbsp;Restrictions,</span><br>
<span class="lineno"></span><span class="comment" id="2446160">//&nbsp;if&nbsp;any,&nbsp;are&nbsp;noted&nbsp;in&nbsp;the&nbsp;documentation&nbsp;for&nbsp;each&nbsp;method.</span><br>
<span class="lineno">20</span><span class="comment" id="2446219">//&nbsp;Use&nbsp;the&nbsp;Kind&nbsp;method&nbsp;to&nbsp;find&nbsp;out&nbsp;the&nbsp;kind&nbsp;of&nbsp;value&nbsp;before</span><br>
<span class="lineno"></span><span class="comment" id="2446279">//&nbsp;calling&nbsp;kind-specific&nbsp;methods.&nbsp;&nbsp;Calling&nbsp;a&nbsp;method</span><br>
<span class="lineno"></span><span class="comment" id="2446331">//&nbsp;inappropriate&nbsp;to&nbsp;the&nbsp;kind&nbsp;of&nbsp;type&nbsp;causes&nbsp;a&nbsp;run&nbsp;time&nbsp;panic.</span><br>
<span class="lineno"></span><span class="comment" id="2446393">//</span><br>
<span class="lineno"></span><span class="comment" id="2446396">//&nbsp;The&nbsp;zero&nbsp;Value&nbsp;represents&nbsp;no&nbsp;value.</span><br>
<span class="lineno">25</span><span class="comment" id="2446435">//&nbsp;Its&nbsp;IsValid&nbsp;method&nbsp;returns&nbsp;false,&nbsp;its&nbsp;Kind&nbsp;method&nbsp;returns&nbsp;Invalid,</span><br>
<span class="lineno"></span><span class="comment" id="2446505">//&nbsp;its&nbsp;String&nbsp;method&nbsp;returns&nbsp;&#34;&lt;invalid&nbsp;Value&gt;&#34;,&nbsp;and&nbsp;all&nbsp;other&nbsp;methods&nbsp;panic.</span><br>
<span class="lineno"></span><span class="comment" id="2446582">//&nbsp;Most&nbsp;functions&nbsp;and&nbsp;methods&nbsp;never&nbsp;return&nbsp;an&nbsp;invalid&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2446643">//&nbsp;If&nbsp;one&nbsp;does,&nbsp;its&nbsp;documentation&nbsp;states&nbsp;the&nbsp;conditions&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="comment" id="2446711">//</span><br>
<span class="lineno">30</span><span class="comment" id="2446714">//&nbsp;A&nbsp;Value&nbsp;can&nbsp;be&nbsp;used&nbsp;concurrently&nbsp;by&nbsp;multiple&nbsp;goroutines&nbsp;provided&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2446787">//&nbsp;the&nbsp;underlying&nbsp;Go&nbsp;value&nbsp;can&nbsp;be&nbsp;used&nbsp;concurrently&nbsp;for&nbsp;the&nbsp;equivalent</span><br>
<span class="lineno"></span><span class="comment" id="2446858">//&nbsp;direct&nbsp;operations.</span><br>
<span class="lineno"></span><span class="keyword" id="2446880">type</span>&nbsp;<span class="ident" id="2446885">Value</span>&nbsp;<span class="keyword" id="2446891">struct</span>&nbsp;<span class="op" id="2446898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2446901">//&nbsp;typ&nbsp;holds&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;value&nbsp;represented&nbsp;by&nbsp;a&nbsp;Value.</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2446961">typ</span>&nbsp;<span class="op" id="2446965">*</span><span class="ident" id="2446966"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2446974">//&nbsp;Pointer-valued&nbsp;data&nbsp;or,&nbsp;if&nbsp;flagIndir&nbsp;is&nbsp;set,&nbsp;pointer&nbsp;to&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447040">//&nbsp;Valid&nbsp;when&nbsp;either&nbsp;flagIndir&nbsp;is&nbsp;set&nbsp;or&nbsp;typ.pointers()&nbsp;is&nbsp;true.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2447106">ptr</span>&nbsp;<span class="ident" id="2447110"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2447116">.</span><span class="ident" id="2447117">Pointer</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447127">//&nbsp;flag&nbsp;holds&nbsp;metadata&nbsp;about&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447168">//&nbsp;The&nbsp;lowest&nbsp;bits&nbsp;are&nbsp;flag&nbsp;bits:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447203">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;flagRO:&nbsp;obtained&nbsp;via&nbsp;unexported&nbsp;field,&nbsp;so&nbsp;read-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447261">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;flagIndir:&nbsp;val&nbsp;holds&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;data</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447310">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;flagAddr:&nbsp;v.CanAddr&nbsp;is&nbsp;true&nbsp;(implies&nbsp;flagIndir)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447364">//&nbsp;&nbsp;&nbsp;&nbsp-&nbsp;flagMethod:&nbsp;v&nbsp;is&nbsp;a&nbsp;method&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447403">//&nbsp;The&nbsp;next&nbsp;five&nbsp;bits&nbsp;give&nbsp;the&nbsp;Kind&nbsp;of&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447454">//&nbsp;This&nbsp;repeats&nbsp;typ.Kind()&nbsp;except&nbsp;for&nbsp;method&nbsp;values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447508">//&nbsp;The&nbsp;remaining&nbsp;23+&nbsp;bits&nbsp;give&nbsp;a&nbsp;method&nbsp;number&nbsp;for&nbsp;method&nbsp;values.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447575">//&nbsp;If&nbsp;flag.kind()&nbsp;!=&nbsp;Func,&nbsp;code&nbsp;can&nbsp;assume&nbsp;that&nbsp;flagMethod&nbsp;is&nbsp;unset.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447645">//&nbsp;If&nbsp;ifaceIndir(typ),&nbsp;code&nbsp;can&nbsp;assume&nbsp;that&nbsp;flagIndir&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2447708"><a href="/reflect/value.go.html#2448016">flag</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447715">//&nbsp;A&nbsp;method&nbsp;value&nbsp;represents&nbsp;a&nbsp;curried&nbsp;method&nbsp;invocation</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447773">//&nbsp;like&nbsp;r.Read&nbsp;for&nbsp;some&nbsp;receiver&nbsp;r.&nbsp;&nbsp;The&nbsp;typ+val+flag&nbsp;bits&nbsp;describe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447842">//&nbsp;the&nbsp;receiver&nbsp;r,&nbsp;but&nbsp;the&nbsp;flag&#39;s&nbsp;Kind&nbsp;bits&nbsp;say&nbsp;Func&nbsp;(methods&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447909">//&nbsp;functions),&nbsp;and&nbsp;the&nbsp;top&nbsp;bits&nbsp;of&nbsp;the&nbsp;flag&nbsp;give&nbsp;the&nbsp;method&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2447977">//&nbsp;in&nbsp;r&#39;s&nbsp;type&#39;s&nbsp;method&nbsp;table.</span><br>
<span class="lineno"></span><span class="op" id="2448008">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="2448011">type</span>&nbsp;<span class="ident" id="2448016">flag</span>&nbsp;<span class="builtintype" id="2448021">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2448030">const</span>&nbsp;<span class="op" id="2448036">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448039">flagKindWidth</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2448060">=</span>&nbsp;<span class="num" id="2448062">5</span>&nbsp;<span class="comment" id="2448064">//&nbsp;there&nbsp;are&nbsp;27&nbsp;kinds</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448087">flagKindMask</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2448103"><a href="/reflect/value.go.html#2448016">flag</a></span>&nbsp;<span class="op" id="2448108">=</span>&nbsp;<span class="num" id="2448110">1</span><span class="op" id="2448111">&lt;&lt;</span><span class="ident" id="2448113"><a href="/reflect/value.go.html#2448039">flagKindWidth</a></span>&nbsp;<span class="op" id="2448127">-</span>&nbsp;<span class="num" id="2448129">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448132">flagRO</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2448148"><a href="/reflect/value.go.html#2448016">flag</a></span>&nbsp;<span class="op" id="2448153">=</span>&nbsp;<span class="num" id="2448155">1</span>&nbsp;<span class="op" id="2448157">&lt;&lt;</span>&nbsp;<span class="num" id="2448160">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448163">flagIndir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2448179"><a href="/reflect/value.go.html#2448016">flag</a></span>&nbsp;<span class="op" id="2448184">=</span>&nbsp;<span class="num" id="2448186">1</span>&nbsp;<span class="op" id="2448188">&lt;&lt;</span>&nbsp;<span class="num" id="2448191">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448194">flagAddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2448210"><a href="/reflect/value.go.html#2448016">flag</a></span>&nbsp;<span class="op" id="2448215">=</span>&nbsp;<span class="num" id="2448217">1</span>&nbsp;<span class="op" id="2448219">&lt;&lt;</span>&nbsp;<span class="num" id="2448222">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448225">flagMethod</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2448241"><a href="/reflect/value.go.html#2448016">flag</a></span>&nbsp;<span class="op" id="2448246">=</span>&nbsp;<span class="num" id="2448248">1</span>&nbsp;<span class="op" id="2448250">&lt;&lt;</span>&nbsp;<span class="num" id="2448253">8</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448256">flagMethodShift</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2448277">=</span>&nbsp;<span class="num" id="2448279">9</span><br>
<span class="lineno"></span><span class="op" id="2448281">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2448284">func</span>&nbsp;<span class="op" id="2448289">(</span><span class="ident" id="2448290">f</span>&nbsp;<span class="ident" id="2448292"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2448296">)</span>&nbsp;<span class="ident" id="2448298">kind</span><span class="op" id="2448302">(</span><span class="op" id="2448303">)</span>&nbsp;<span class="ident" id="2448305"><a href="/reflect/type.go.html#2401184">Kind</a></span>&nbsp;<span class="op" id="2448310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448313">return</span>&nbsp;<span class="ident" id="2448320"><a href="/reflect/type.go.html#2401184">Kind</a></span><span class="op" id="2448324">(</span><span class="ident" id="2448325"><a href="/reflect/value.go.html#2448290">f</a></span>&nbsp;<span class="op" id="2448327">&amp;</span>&nbsp;<span class="ident" id="2448329"><a href="/reflect/value.go.html#2448087">flagKindMask</a></span><span class="op" id="2448341">)</span><br>
<span class="lineno">75</span><span class="op" id="2448343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2448346">//&nbsp;pointer&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;pointer&nbsp;represented&nbsp;by&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="2448406">//&nbsp;v.Kind()&nbsp;must&nbsp;be&nbsp;Ptr,&nbsp;Map,&nbsp;Chan,&nbsp;Func,&nbsp;or&nbsp;UnsafePointer</span><br>
<span class="lineno"></span><span class="keyword" id="2448465">func</span>&nbsp;<span class="op" id="2448470">(</span><span class="ident" id="2448471">v</span>&nbsp;<span class="ident" id="2448473"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2448478">)</span>&nbsp;<span class="ident" id="2448480">pointer</span><span class="op" id="2448487">(</span><span class="op" id="2448488">)</span>&nbsp;<span class="ident" id="2448490"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2448496">.</span><span class="ident" id="2448497">Pointer</span>&nbsp;<span class="op" id="2448505">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448508">if</span>&nbsp;<span class="ident" id="2448511"><a href="/reflect/value.go.html#2448471">v</a></span><span class="op" id="2448512">.</span><span class="ident" id="2448513">typ</span><span class="op" id="2448516">.</span><span class="ident" id="2448517">size</span>&nbsp;<span class="op" id="2448522">!=</span>&nbsp;<span class="ident" id="2448525"><a href="/reflect/value.go.html#2445927">ptrSize</a></span>&nbsp;<span class="op" id="2448533">||</span>&nbsp;<span class="op" id="2448536">!</span><span class="ident" id="2448537"><a href="/reflect/value.go.html#2448471">v</a></span><span class="op" id="2448538">.</span><span class="ident" id="2448539">typ</span><span class="op" id="2448542">.</span><span class="ident" id="2448543">pointers</span><span class="op" id="2448551">(</span><span class="op" id="2448552">)</span>&nbsp;<span class="op" id="2448554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2448558">panic</span><span class="op" id="2448563">(</span><span class="string" id="2448564">&#34;can&#39;t&nbsp;call&nbsp;pointer&nbsp;on&nbsp;a&nbsp;non-pointer&nbsp;Value&#34;</span><span class="op" id="2448607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2448610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448613">if</span>&nbsp;<span class="ident" id="2448616"><a href="/reflect/value.go.html#2448471">v</a></span><span class="op" id="2448617">.</span><span class="ident" id="2448618">flag</span><span class="op" id="2448622">&amp;</span><span class="ident" id="2448623"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2448633">!=</span>&nbsp;<span class="num" id="2448636">0</span>&nbsp;<span class="op" id="2448638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448642">return</span>&nbsp;<span class="op" id="2448649">*</span><span class="op" id="2448650">(</span><span class="op" id="2448651">*</span><span class="ident" id="2448652"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2448658">.</span><span class="ident" id="2448659">Pointer</span><span class="op" id="2448666">)</span><span class="op" id="2448667">(</span><span class="ident" id="2448668"><a href="/reflect/value.go.html#2448471">v</a></span><span class="op" id="2448669">.</span><span class="ident" id="2448670">ptr</span><span class="op" id="2448673">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2448676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448679">return</span>&nbsp;<span class="ident" id="2448686"><a href="/reflect/value.go.html#2448471">v</a></span><span class="op" id="2448687">.</span><span class="ident" id="2448688">ptr</span><br>
<span class="lineno"></span><span class="op" id="2448692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2448695">//&nbsp;packEface&nbsp;converts&nbsp;v&nbsp;to&nbsp;the&nbsp;empty&nbsp;interface.</span><br>
<span class="lineno">90</span><span class="keyword" id="2448743">func</span>&nbsp;<span class="ident" id="2448748">packEface</span><span class="op" id="2448757">(</span><span class="ident" id="2448758">v</span>&nbsp;<span class="ident" id="2448760"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2448765">)</span>&nbsp;<span class="keyword" id="2448767">interface</span><span class="op" id="2448776">{</span><span class="op" id="2448777">}</span>&nbsp;<span class="op" id="2448779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448782">t</span>&nbsp;<span class="op" id="2448784">:=</span>&nbsp;<span class="ident" id="2448787"><a href="/reflect/value.go.html#2448758">v</a></span><span class="op" id="2448788">.</span><span class="ident" id="2448789">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448794">var</span>&nbsp;<span class="ident" id="2448798">i</span>&nbsp;<span class="keyword" id="2448800">interface</span><span class="op" id="2448809">{</span><span class="op" id="2448810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2448813">e</span>&nbsp;<span class="op" id="2448815">:=</span>&nbsp;<span class="op" id="2448818">(</span><span class="op" id="2448819">*</span><span class="ident" id="2448820"><a href="/reflect/value.go.html#2450885">emptyInterface</a></span><span class="op" id="2448834">)</span><span class="op" id="2448835">(</span><span class="ident" id="2448836"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2448842">.</span><span class="ident" id="2448843">Pointer</span><span class="op" id="2448850">(</span><span class="op" id="2448851">&amp;</span><span class="ident" id="2448852"><a href="/reflect/value.go.html#2448798">i</a></span><span class="op" id="2448853">)</span><span class="op" id="2448854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2448857">//&nbsp;First,&nbsp;fill&nbsp;in&nbsp;the&nbsp;data&nbsp;portion&nbsp;of&nbsp;the&nbsp;interface.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448911">switch</span>&nbsp;<span class="op" id="2448918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448921">case</span>&nbsp;<span class="ident" id="2448926"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2448936">(</span><span class="ident" id="2448937"><a href="/reflect/value.go.html#2448782">t</a></span><span class="op" id="2448938">)</span><span class="op" id="2448939">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2448943">if</span>&nbsp;<span class="ident" id="2448946"><a href="/reflect/value.go.html#2448758">v</a></span><span class="op" id="2448947">.</span><span class="ident" id="2448948">flag</span><span class="op" id="2448952">&amp;</span><span class="ident" id="2448953"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2448963">==</span>&nbsp;<span class="num" id="2448966">0</span>&nbsp;<span class="op" id="2448968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2448973">panic</span><span class="op" id="2448978">(</span><span class="string" id="2448979">&#34;bad&nbsp;indir&#34;</span><span class="op" id="2448990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2448994">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2448998">//&nbsp;Value&nbsp;is&nbsp;indirect,&nbsp;and&nbsp;so&nbsp;is&nbsp;the&nbsp;interface&nbsp;we&#39;re&nbsp;making.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449060">ptr</span>&nbsp;<span class="op" id="2449064">:=</span>&nbsp;<span class="ident" id="2449067"><a href="/reflect/value.go.html#2448758">v</a></span><span class="op" id="2449068">.</span><span class="ident" id="2449069">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2449075">if</span>&nbsp;<span class="ident" id="2449078"><a href="/reflect/value.go.html#2448758">v</a></span><span class="op" id="2449079">.</span><span class="ident" id="2449080">flag</span><span class="op" id="2449084">&amp;</span><span class="ident" id="2449085"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2449094">!=</span>&nbsp;<span class="num" id="2449097">0</span>&nbsp;<span class="op" id="2449099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449104">//&nbsp;TODO:&nbsp;pass&nbsp;safe&nbsp;boolean&nbsp;from&nbsp;valueInterface&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449157">//&nbsp;we&nbsp;don&#39;t&nbsp;need&nbsp;to&nbsp;copy&nbsp;if&nbsp;safe==true?</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449200">c</span>&nbsp;<span class="op" id="2449202">:=</span>&nbsp;<span class="ident" id="2449205"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2449215">(</span><span class="ident" id="2449216"><a href="/reflect/value.go.html#2448782">t</a></span><span class="op" id="2449217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449222"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2449229">(</span><span class="ident" id="2449230"><a href="/reflect/value.go.html#2449200">c</a></span><span class="op" id="2449231">,</span>&nbsp;<span class="ident" id="2449233"><a href="/reflect/value.go.html#2449060">ptr</a></span><span class="op" id="2449236">,</span>&nbsp;<span class="ident" id="2449238"><a href="/reflect/value.go.html#2448782">t</a></span><span class="op" id="2449239">.</span><span class="ident" id="2449240">size</span><span class="op" id="2449244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449249"><a href="/reflect/value.go.html#2449060">ptr</a></span>&nbsp;<span class="op" id="2449253">=</span>&nbsp;<span class="ident" id="2449255"><a href="/reflect/value.go.html#2449200">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2449259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449263"><a href="/reflect/value.go.html#2448813">e</a></span><span class="op" id="2449264">.</span><span class="ident" id="2449265">word</span>&nbsp;<span class="op" id="2449270">=</span>&nbsp;<span class="ident" id="2449272"><a href="/reflect/value.go.html#2449060">ptr</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2449277">case</span>&nbsp;<span class="ident" id="2449282"><a href="/reflect/value.go.html#2448758">v</a></span><span class="op" id="2449283">.</span><span class="ident" id="2449284">flag</span><span class="op" id="2449288">&amp;</span><span class="ident" id="2449289"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2449299">!=</span>&nbsp;<span class="num" id="2449302">0</span><span class="op" id="2449303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449307">//&nbsp;Value&nbsp;is&nbsp;indirect,&nbsp;but&nbsp;interface&nbsp;is&nbsp;direct.&nbsp;&nbsp;We&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449365">//&nbsp;to&nbsp;load&nbsp;the&nbsp;data&nbsp;at&nbsp;v.ptr&nbsp;into&nbsp;the&nbsp;interface&nbsp;data&nbsp;word.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449426"><a href="/reflect/value.go.html#2448813">e</a></span><span class="op" id="2449427">.</span><span class="ident" id="2449428">word</span>&nbsp;<span class="op" id="2449433">=</span>&nbsp;<span class="op" id="2449435">*</span><span class="op" id="2449436">(</span><span class="op" id="2449437">*</span><span class="ident" id="2449438"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2449444">.</span><span class="ident" id="2449445">Pointer</span><span class="op" id="2449452">)</span><span class="op" id="2449453">(</span><span class="ident" id="2449454"><a href="/reflect/value.go.html#2448758">v</a></span><span class="op" id="2449455">.</span><span class="ident" id="2449456">ptr</span><span class="op" id="2449459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2449462">default</span><span class="op" id="2449469">:</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449473">//&nbsp;Value&nbsp;is&nbsp;direct,&nbsp;and&nbsp;so&nbsp;is&nbsp;the&nbsp;interface.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449520"><a href="/reflect/value.go.html#2448813">e</a></span><span class="op" id="2449521">.</span><span class="ident" id="2449522">word</span>&nbsp;<span class="op" id="2449527">=</span>&nbsp;<span class="ident" id="2449529"><a href="/reflect/value.go.html#2448758">v</a></span><span class="op" id="2449530">.</span><span class="ident" id="2449531">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2449536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449539">//&nbsp;Now,&nbsp;fill&nbsp;in&nbsp;the&nbsp;type&nbsp;portion.&nbsp;&nbsp;We&#39;re&nbsp;very&nbsp;careful&nbsp;here&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449603">//&nbsp;to&nbsp;have&nbsp;any&nbsp;operation&nbsp;between&nbsp;the&nbsp;e.word&nbsp;and&nbsp;e.typ&nbsp;assignments</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449670">//&nbsp;that&nbsp;would&nbsp;let&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;observe&nbsp;the&nbsp;partially-built</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449739">//&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449760"><a href="/reflect/value.go.html#2448813">e</a></span><span class="op" id="2449761">.</span><span class="ident" id="2449762">typ</span>&nbsp;<span class="op" id="2449766">=</span>&nbsp;<span class="ident" id="2449768"><a href="/reflect/value.go.html#2448782">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2449771">return</span>&nbsp;<span class="ident" id="2449778"><a href="/reflect/value.go.html#2448798">i</a></span><br>
<span class="lineno"></span><span class="op" id="2449780">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="2449783">//&nbsp;unpackEface&nbsp;converts&nbsp;the&nbsp;empty&nbsp;interface&nbsp;i&nbsp;to&nbsp;a&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="2449841">func</span>&nbsp;<span class="ident" id="2449846">unpackEface</span><span class="op" id="2449857">(</span><span class="ident" id="2449858">i</span>&nbsp;<span class="keyword" id="2449860">interface</span><span class="op" id="2449869">{</span><span class="op" id="2449870">}</span><span class="op" id="2449871">)</span>&nbsp;<span class="ident" id="2449873"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2449879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2449882">e</span>&nbsp;<span class="op" id="2449884">:=</span>&nbsp;<span class="op" id="2449887">(</span><span class="op" id="2449888">*</span><span class="ident" id="2449889"><a href="/reflect/value.go.html#2450885">emptyInterface</a></span><span class="op" id="2449903">)</span><span class="op" id="2449904">(</span><span class="ident" id="2449905"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2449911">.</span><span class="ident" id="2449912">Pointer</span><span class="op" id="2449919">(</span><span class="op" id="2449920">&amp;</span><span class="ident" id="2449921"><a href="/reflect/value.go.html#2449858">i</a></span><span class="op" id="2449922">)</span><span class="op" id="2449923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2449926">//&nbsp;NOTE:&nbsp;don&#39;t&nbsp;read&nbsp;e.word&nbsp;until&nbsp;we&nbsp;know&nbsp;whether&nbsp;it&nbsp;is&nbsp;really&nbsp;a&nbsp;pointer&nbsp;or&nbsp;not.</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450007">t</span>&nbsp;<span class="op" id="2450009">:=</span>&nbsp;<span class="ident" id="2450012"><a href="/reflect/value.go.html#2449882">e</a></span><span class="op" id="2450013">.</span><span class="ident" id="2450014">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450019">if</span>&nbsp;<span class="ident" id="2450022"><a href="/reflect/value.go.html#2450007">t</a></span>&nbsp;<span class="op" id="2450024">==</span>&nbsp;<span class="ident" id="2450027">nil</span>&nbsp;<span class="op" id="2450031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450035">return</span>&nbsp;<span class="ident" id="2450042"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2450047">{</span><span class="op" id="2450048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2450051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450054">f</span>&nbsp;<span class="op" id="2450056">:=</span>&nbsp;<span class="ident" id="2450059"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2450063">(</span><span class="ident" id="2450064"><a href="/reflect/value.go.html#2450007">t</a></span><span class="op" id="2450065">.</span><span class="ident" id="2450066">Kind</span><span class="op" id="2450070">(</span><span class="op" id="2450071">)</span><span class="op" id="2450072">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450075">if</span>&nbsp;<span class="ident" id="2450078"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2450088">(</span><span class="ident" id="2450089"><a href="/reflect/value.go.html#2450007">t</a></span><span class="op" id="2450090">)</span>&nbsp;<span class="op" id="2450092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450096"><a href="/reflect/value.go.html#2450054">f</a></span>&nbsp;<span class="op" id="2450098">|=</span>&nbsp;<span class="ident" id="2450101"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2450112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450115">return</span>&nbsp;<span class="ident" id="2450122"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2450127">{</span><span class="ident" id="2450128"><a href="/reflect/value.go.html#2450007">t</a></span><span class="op" id="2450129">,</span>&nbsp;<span class="ident" id="2450131"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2450137">.</span><span class="ident" id="2450138">Pointer</span><span class="op" id="2450145">(</span><span class="ident" id="2450146"><a href="/reflect/value.go.html#2449882">e</a></span><span class="op" id="2450147">.</span><span class="ident" id="2450148">word</span><span class="op" id="2450152">)</span><span class="op" id="2450153">,</span>&nbsp;<span class="ident" id="2450155"><a href="/reflect/value.go.html#2450054">f</a></span><span class="op" id="2450156">}</span><br>
<span class="lineno"></span><span class="op" id="2450158">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="2450161">//&nbsp;A&nbsp;ValueError&nbsp;occurs&nbsp;when&nbsp;a&nbsp;Value&nbsp;method&nbsp;is&nbsp;invoked&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2450218">//&nbsp;a&nbsp;Value&nbsp;that&nbsp;does&nbsp;not&nbsp;support&nbsp;it.&nbsp;&nbsp;Such&nbsp;cases&nbsp;are&nbsp;documented</span><br>
<span class="lineno"></span><span class="comment" id="2450282">//&nbsp;in&nbsp;the&nbsp;description&nbsp;of&nbsp;each&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2450320">type</span>&nbsp;<span class="ident" id="2450325">ValueError</span>&nbsp;<span class="keyword" id="2450336">struct</span>&nbsp;<span class="op" id="2450343">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450346">Method</span>&nbsp;<span class="builtintype" id="2450353">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450361">Kind</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2450368"><a href="/reflect/type.go.html#2401184">Kind</a></span><br>
<span class="lineno"></span><span class="op" id="2450373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2450376">func</span>&nbsp;<span class="op" id="2450381">(</span><span class="ident" id="2450382">e</span>&nbsp;<span class="op" id="2450384">*</span><span class="ident" id="2450385"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2450395">)</span>&nbsp;<span class="ident" id="2450397">Error</span><span class="op" id="2450402">(</span><span class="op" id="2450403">)</span>&nbsp;<span class="builtintype" id="2450405">string</span>&nbsp;<span class="op" id="2450412">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450415">if</span>&nbsp;<span class="ident" id="2450418"><a href="/reflect/value.go.html#2450382">e</a></span><span class="op" id="2450419">.</span><span class="ident" id="2450420">Kind</span>&nbsp;<span class="op" id="2450425">==</span>&nbsp;<span class="num" id="2450428">0</span>&nbsp;<span class="op" id="2450430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450434">return</span>&nbsp;<span class="string" id="2450441">&#34;reflect:&nbsp;call&nbsp;of&nbsp;&#34;</span>&nbsp;<span class="op" id="2450461">+</span>&nbsp;<span class="ident" id="2450463"><a href="/reflect/value.go.html#2450382">e</a></span><span class="op" id="2450464">.</span><span class="ident" id="2450465">Method</span>&nbsp;<span class="op" id="2450472">+</span>&nbsp;<span class="string" id="2450474">&#34;&nbsp;on&nbsp;zero&nbsp;Value&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2450492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450495">return</span>&nbsp;<span class="string" id="2450502">&#34;reflect:&nbsp;call&nbsp;of&nbsp;&#34;</span>&nbsp;<span class="op" id="2450522">+</span>&nbsp;<span class="ident" id="2450524"><a href="/reflect/value.go.html#2450382">e</a></span><span class="op" id="2450525">.</span><span class="ident" id="2450526">Method</span>&nbsp;<span class="op" id="2450533">+</span>&nbsp;<span class="string" id="2450535">&#34;&nbsp;on&nbsp;&#34;</span>&nbsp;<span class="op" id="2450542">+</span>&nbsp;<span class="ident" id="2450544"><a href="/reflect/value.go.html#2450382">e</a></span><span class="op" id="2450545">.</span><span class="ident" id="2450546">Kind</span><span class="op" id="2450550">.</span><span class="ident" id="2450551">String</span><span class="op" id="2450557">(</span><span class="op" id="2450558">)</span>&nbsp;<span class="op" id="2450560">+</span>&nbsp;<span class="string" id="2450562">&#34;&nbsp;Value&#34;</span><br>
<span class="lineno"></span><span class="op" id="2450571">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="2450574">//&nbsp;methodName&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;calling&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2450628">//&nbsp;assumed&nbsp;to&nbsp;be&nbsp;two&nbsp;stack&nbsp;frames&nbsp;above.</span><br>
<span class="lineno"></span><span class="keyword" id="2450669">func</span>&nbsp;<span class="ident" id="2450674">methodName</span><span class="op" id="2450684">(</span><span class="op" id="2450685">)</span>&nbsp;<span class="builtintype" id="2450687">string</span>&nbsp;<span class="op" id="2450694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450697">pc</span><span class="op" id="2450699">,</span>&nbsp;<span class="ident" id="2450701">_</span><span class="op" id="2450702">,</span>&nbsp;<span class="ident" id="2450704">_</span><span class="op" id="2450705">,</span>&nbsp;<span class="ident" id="2450707">_</span>&nbsp;<span class="op" id="2450709">:=</span>&nbsp;<span class="ident" id="2450712"><a href="/reflect/value.go.html#2445898">runtime</a></span><span class="op" id="2450719">.</span><span class="ident" id="2450720">Caller</span><span class="op" id="2450726">(</span><span class="num" id="2450727">2</span><span class="op" id="2450728">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450731">f</span>&nbsp;<span class="op" id="2450733">:=</span>&nbsp;<span class="ident" id="2450736"><a href="/reflect/value.go.html#2445898">runtime</a></span><span class="op" id="2450743">.</span><span class="ident" id="2450744">FuncForPC</span><span class="op" id="2450753">(</span><span class="ident" id="2450754"><a href="/reflect/value.go.html#2450697">pc</a></span><span class="op" id="2450756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450759">if</span>&nbsp;<span class="ident" id="2450762"><a href="/reflect/value.go.html#2450731">f</a></span>&nbsp;<span class="op" id="2450764">==</span>&nbsp;<span class="ident" id="2450767">nil</span>&nbsp;<span class="op" id="2450771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450775">return</span>&nbsp;<span class="string" id="2450782">&#34;unknown&nbsp;method&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2450800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2450803">return</span>&nbsp;<span class="ident" id="2450810"><a href="/reflect/value.go.html#2450731">f</a></span><span class="op" id="2450811">.</span><span class="ident" id="2450812">Name</span><span class="op" id="2450816">(</span><span class="op" id="2450817">)</span><br>
<span class="lineno">165</span><span class="op" id="2450819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2450822">//&nbsp;emptyInterface&nbsp;is&nbsp;the&nbsp;header&nbsp;for&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2450880">type</span>&nbsp;<span class="ident" id="2450885">emptyInterface</span>&nbsp;<span class="keyword" id="2450900">struct</span>&nbsp;<span class="op" id="2450907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450910">typ</span>&nbsp;&nbsp;<span class="op" id="2450915">*</span><span class="ident" id="2450916"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2450923">word</span>&nbsp;<span class="ident" id="2450928"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2450934">.</span><span class="ident" id="2450935">Pointer</span><br>
<span class="lineno"></span><span class="op" id="2450943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2450946">//&nbsp;nonEmptyInterface&nbsp;is&nbsp;the&nbsp;header&nbsp;for&nbsp;a&nbsp;interface&nbsp;value&nbsp;with&nbsp;methods.</span><br>
<span class="lineno"></span><span class="keyword" id="2451017">type</span>&nbsp;<span class="ident" id="2451022">nonEmptyInterface</span>&nbsp;<span class="keyword" id="2451040">struct</span>&nbsp;<span class="op" id="2451047">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2451050">//&nbsp;see&nbsp;../runtime/iface.c:/Itab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2451083">itab</span>&nbsp;<span class="op" id="2451088">*</span><span class="keyword" id="2451089">struct</span>&nbsp;<span class="op" id="2451096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2451100">ityp</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2451107">*</span><span class="ident" id="2451108"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2451114">//&nbsp;static&nbsp;interface&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2451141">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2451148">*</span><span class="ident" id="2451149"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2451155">//&nbsp;dynamic&nbsp;concrete&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2451182">link</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2451189"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2451195">.</span><span class="ident" id="2451196">Pointer</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2451206">bad</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2451213">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2451221">unused</span>&nbsp;<span class="builtintype" id="2451228">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2451236">fun</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2451243">[</span><span class="num" id="2451244">100000</span><span class="op" id="2451250">]</span><span class="ident" id="2451251"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2451257">.</span><span class="ident" id="2451258">Pointer</span>&nbsp;<span class="comment" id="2451266">//&nbsp;method&nbsp;table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2451283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2451286">word</span>&nbsp;<span class="ident" id="2451291"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2451297">.</span><span class="ident" id="2451298">Pointer</span><br>
<span class="lineno">185</span><span class="op" id="2451306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2451309">//&nbsp;mustBe&nbsp;panics&nbsp;if&nbsp;f&#39;s&nbsp;kind&nbsp;is&nbsp;not&nbsp;expected.</span><br>
<span class="lineno"></span><span class="comment" id="2451355">//&nbsp;Making&nbsp;this&nbsp;a&nbsp;method&nbsp;on&nbsp;flag&nbsp;instead&nbsp;of&nbsp;on&nbsp;Value</span><br>
<span class="lineno"></span><span class="comment" id="2451407">//&nbsp;(and&nbsp;embedding&nbsp;flag&nbsp;in&nbsp;Value)&nbsp;means&nbsp;that&nbsp;we&nbsp;can&nbsp;write</span><br>
<span class="lineno">190</span><span class="comment" id="2451464">//&nbsp;the&nbsp;very&nbsp;clear&nbsp;v.mustBe(Bool)&nbsp;and&nbsp;have&nbsp;it&nbsp;compile&nbsp;into</span><br>
<span class="lineno"></span><span class="comment" id="2451522">//&nbsp;v.flag.mustBe(Bool),&nbsp;which&nbsp;will&nbsp;only&nbsp;bother&nbsp;to&nbsp;copy&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2451581">//&nbsp;single&nbsp;important&nbsp;word&nbsp;for&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="keyword" id="2451624">func</span>&nbsp;<span class="op" id="2451629">(</span><span class="ident" id="2451630">f</span>&nbsp;<span class="ident" id="2451632"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2451636">)</span>&nbsp;<span class="ident" id="2451638">mustBe</span><span class="op" id="2451644">(</span><span class="ident" id="2451645">expected</span>&nbsp;<span class="ident" id="2451654"><a href="/reflect/type.go.html#2401184">Kind</a></span><span class="op" id="2451658">)</span>&nbsp;<span class="op" id="2451660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2451663">if</span>&nbsp;<span class="ident" id="2451666"><a href="/reflect/value.go.html#2451630">f</a></span><span class="op" id="2451667">.</span><span class="ident" id="2451668">kind</span><span class="op" id="2451672">(</span><span class="op" id="2451673">)</span>&nbsp;<span class="op" id="2451675">!=</span>&nbsp;<span class="ident" id="2451678"><a href="/reflect/value.go.html#2451645">expected</a></span>&nbsp;<span class="op" id="2451687">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2451691">panic</span><span class="op" id="2451696">(</span><span class="op" id="2451697">&amp;</span><span class="ident" id="2451698"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2451708">{</span><span class="ident" id="2451709"><a href="/reflect/value.go.html#2450674">methodName</a></span><span class="op" id="2451719">(</span><span class="op" id="2451720">)</span><span class="op" id="2451721">,</span>&nbsp;<span class="ident" id="2451723"><a href="/reflect/value.go.html#2451630">f</a></span><span class="op" id="2451724">.</span><span class="ident" id="2451725">kind</span><span class="op" id="2451729">(</span><span class="op" id="2451730">)</span><span class="op" id="2451731">}</span><span class="op" id="2451732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2451735">}</span><br>
<span class="lineno"></span><span class="op" id="2451737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2451740">//&nbsp;mustBeExported&nbsp;panics&nbsp;if&nbsp;f&nbsp;records&nbsp;that&nbsp;the&nbsp;value&nbsp;was&nbsp;obtained&nbsp;using</span><br>
<span class="lineno">200</span><span class="comment" id="2451812">//&nbsp;an&nbsp;unexported&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="2451836">func</span>&nbsp;<span class="op" id="2451841">(</span><span class="ident" id="2451842">f</span>&nbsp;<span class="ident" id="2451844"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2451848">)</span>&nbsp;<span class="ident" id="2451850">mustBeExported</span><span class="op" id="2451864">(</span><span class="op" id="2451865">)</span>&nbsp;<span class="op" id="2451867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2451870">if</span>&nbsp;<span class="ident" id="2451873"><a href="/reflect/value.go.html#2451842">f</a></span>&nbsp;<span class="op" id="2451875">==</span>&nbsp;<span class="num" id="2451878">0</span>&nbsp;<span class="op" id="2451880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2451884">panic</span><span class="op" id="2451889">(</span><span class="op" id="2451890">&amp;</span><span class="ident" id="2451891"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2451901">{</span><span class="ident" id="2451902"><a href="/reflect/value.go.html#2450674">methodName</a></span><span class="op" id="2451912">(</span><span class="op" id="2451913">)</span><span class="op" id="2451914">,</span>&nbsp;<span class="num" id="2451916">0</span><span class="op" id="2451917">}</span><span class="op" id="2451918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2451921">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2451924">if</span>&nbsp;<span class="ident" id="2451927"><a href="/reflect/value.go.html#2451842">f</a></span><span class="op" id="2451928">&amp;</span><span class="ident" id="2451929"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2451936">!=</span>&nbsp;<span class="num" id="2451939">0</span>&nbsp;<span class="op" id="2451941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2451945">panic</span><span class="op" id="2451950">(</span><span class="string" id="2451951">&#34;reflect:&nbsp;&#34;</span>&nbsp;<span class="op" id="2451963">+</span>&nbsp;<span class="ident" id="2451965"><a href="/reflect/value.go.html#2450674">methodName</a></span><span class="op" id="2451975">(</span><span class="op" id="2451976">)</span>&nbsp;<span class="op" id="2451978">+</span>&nbsp;<span class="string" id="2451980">&#34;&nbsp;using&nbsp;value&nbsp;obtained&nbsp;using&nbsp;unexported&nbsp;field&#34;</span><span class="op" id="2452026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2452029">}</span><br>
<span class="lineno"></span><span class="op" id="2452031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="comment" id="2452034">//&nbsp;mustBeAssignable&nbsp;panics&nbsp;if&nbsp;f&nbsp;records&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;not&nbsp;assignable,</span><br>
<span class="lineno"></span><span class="comment" id="2452108">//&nbsp;which&nbsp;is&nbsp;to&nbsp;say&nbsp;that&nbsp;either&nbsp;it&nbsp;was&nbsp;obtained&nbsp;using&nbsp;an&nbsp;unexported&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="2452181">//&nbsp;or&nbsp;it&nbsp;is&nbsp;not&nbsp;addressable.</span><br>
<span class="lineno"></span><span class="keyword" id="2452210">func</span>&nbsp;<span class="op" id="2452215">(</span><span class="ident" id="2452216">f</span>&nbsp;<span class="ident" id="2452218"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2452222">)</span>&nbsp;<span class="ident" id="2452224">mustBeAssignable</span><span class="op" id="2452240">(</span><span class="op" id="2452241">)</span>&nbsp;<span class="op" id="2452243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2452246">if</span>&nbsp;<span class="ident" id="2452249"><a href="/reflect/value.go.html#2452216">f</a></span>&nbsp;<span class="op" id="2452251">==</span>&nbsp;<span class="num" id="2452254">0</span>&nbsp;<span class="op" id="2452256">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2452260">panic</span><span class="op" id="2452265">(</span><span class="op" id="2452266">&amp;</span><span class="ident" id="2452267"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2452277">{</span><span class="ident" id="2452278"><a href="/reflect/value.go.html#2450674">methodName</a></span><span class="op" id="2452288">(</span><span class="op" id="2452289">)</span><span class="op" id="2452290">,</span>&nbsp;<span class="ident" id="2452292"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2452299">}</span><span class="op" id="2452300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2452303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2452306">//&nbsp;Assignable&nbsp;if&nbsp;addressable&nbsp;and&nbsp;not&nbsp;read-only.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2452355">if</span>&nbsp;<span class="ident" id="2452358"><a href="/reflect/value.go.html#2452216">f</a></span><span class="op" id="2452359">&amp;</span><span class="ident" id="2452360"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2452367">!=</span>&nbsp;<span class="num" id="2452370">0</span>&nbsp;<span class="op" id="2452372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2452376">panic</span><span class="op" id="2452381">(</span><span class="string" id="2452382">&#34;reflect:&nbsp;&#34;</span>&nbsp;<span class="op" id="2452394">+</span>&nbsp;<span class="ident" id="2452396"><a href="/reflect/value.go.html#2450674">methodName</a></span><span class="op" id="2452406">(</span><span class="op" id="2452407">)</span>&nbsp;<span class="op" id="2452409">+</span>&nbsp;<span class="string" id="2452411">&#34;&nbsp;using&nbsp;value&nbsp;obtained&nbsp;using&nbsp;unexported&nbsp;field&#34;</span><span class="op" id="2452457">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2452460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2452463">if</span>&nbsp;<span class="ident" id="2452466"><a href="/reflect/value.go.html#2452216">f</a></span><span class="op" id="2452467">&amp;</span><span class="ident" id="2452468"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2452477">==</span>&nbsp;<span class="num" id="2452480">0</span>&nbsp;<span class="op" id="2452482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2452486">panic</span><span class="op" id="2452491">(</span><span class="string" id="2452492">&#34;reflect:&nbsp;&#34;</span>&nbsp;<span class="op" id="2452504">+</span>&nbsp;<span class="ident" id="2452506"><a href="/reflect/value.go.html#2450674">methodName</a></span><span class="op" id="2452516">(</span><span class="op" id="2452517">)</span>&nbsp;<span class="op" id="2452519">+</span>&nbsp;<span class="string" id="2452521">&#34;&nbsp;using&nbsp;unaddressable&nbsp;value&#34;</span><span class="op" id="2452549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2452552">}</span><br>
<span class="lineno"></span><span class="op" id="2452554">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="2452557">//&nbsp;Addr&nbsp;returns&nbsp;a&nbsp;pointer&nbsp;value&nbsp;representing&nbsp;the&nbsp;address&nbsp;of&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="2452620">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;CanAddr()&nbsp;returns&nbsp;false.</span><br>
<span class="lineno"></span><span class="comment" id="2452661">//&nbsp;Addr&nbsp;is&nbsp;typically&nbsp;used&nbsp;to&nbsp;obtain&nbsp;a&nbsp;pointer&nbsp;to&nbsp;a&nbsp;struct&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="2452725">//&nbsp;or&nbsp;slice&nbsp;element&nbsp;in&nbsp;order&nbsp;to&nbsp;call&nbsp;a&nbsp;method&nbsp;that&nbsp;requires&nbsp;a</span><br>
<span class="lineno">230</span><span class="comment" id="2452787">//&nbsp;pointer&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="keyword" id="2452808">func</span>&nbsp;<span class="op" id="2452813">(</span><span class="ident" id="2452814">v</span>&nbsp;<span class="ident" id="2452816"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2452821">)</span>&nbsp;<span class="ident" id="2452823">Addr</span><span class="op" id="2452827">(</span><span class="op" id="2452828">)</span>&nbsp;<span class="ident" id="2452830"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2452836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2452839">if</span>&nbsp;<span class="ident" id="2452842"><a href="/reflect/value.go.html#2452814">v</a></span><span class="op" id="2452843">.</span><span class="ident" id="2452844">flag</span><span class="op" id="2452848">&amp;</span><span class="ident" id="2452849"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2452858">==</span>&nbsp;<span class="num" id="2452861">0</span>&nbsp;<span class="op" id="2452863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2452867">panic</span><span class="op" id="2452872">(</span><span class="string" id="2452873">&#34;reflect.Value.Addr&nbsp;of&nbsp;unaddressable&nbsp;value&#34;</span><span class="op" id="2452916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2452919">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2452922">return</span>&nbsp;<span class="ident" id="2452929"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2452934">{</span><span class="ident" id="2452935"><a href="/reflect/value.go.html#2452814">v</a></span><span class="op" id="2452936">.</span><span class="ident" id="2452937">typ</span><span class="op" id="2452940">.</span><span class="ident" id="2452941">ptrTo</span><span class="op" id="2452946">(</span><span class="op" id="2452947">)</span><span class="op" id="2452948">,</span>&nbsp;<span class="ident" id="2452950"><a href="/reflect/value.go.html#2452814">v</a></span><span class="op" id="2452951">.</span><span class="ident" id="2452952">ptr</span><span class="op" id="2452955">,</span>&nbsp;<span class="op" id="2452957">(</span><span class="ident" id="2452958"><a href="/reflect/value.go.html#2452814">v</a></span><span class="op" id="2452959">.</span><span class="ident" id="2452960">flag</span>&nbsp;<span class="op" id="2452965">&amp;</span>&nbsp;<span class="ident" id="2452967"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2452973">)</span>&nbsp;<span class="op" id="2452975">|</span>&nbsp;<span class="ident" id="2452977"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2452981">(</span><span class="ident" id="2452982"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2452985">)</span><span class="op" id="2452986">}</span><br>
<span class="lineno"></span><span class="op" id="2452988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2452991">//&nbsp;Bool&nbsp;returns&nbsp;v&#39;s&nbsp;underlying&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2453029">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;kind&nbsp;is&nbsp;not&nbsp;Bool.</span><br>
<span class="lineno">240</span><span class="keyword" id="2453067">func</span>&nbsp;<span class="op" id="2453072">(</span><span class="ident" id="2453073">v</span>&nbsp;<span class="ident" id="2453075"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2453080">)</span>&nbsp;<span class="ident" id="2453082">Bool</span><span class="op" id="2453086">(</span><span class="op" id="2453087">)</span>&nbsp;<span class="builtintype" id="2453089">bool</span>&nbsp;<span class="op" id="2453094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2453097"><a href="/reflect/value.go.html#2453073">v</a></span><span class="op" id="2453098">.</span><span class="ident" id="2453099">mustBe</span><span class="op" id="2453105">(</span><span class="ident" id="2453106"><a href="/reflect/type.go.html#2401225">Bool</a></span><span class="op" id="2453110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453113">return</span>&nbsp;<span class="op" id="2453120">*</span><span class="op" id="2453121">(</span><span class="op" id="2453122">*</span><span class="builtintype" id="2453123">bool</span><span class="op" id="2453127">)</span><span class="op" id="2453128">(</span><span class="ident" id="2453129"><a href="/reflect/value.go.html#2453073">v</a></span><span class="op" id="2453130">.</span><span class="ident" id="2453131">ptr</span><span class="op" id="2453134">)</span><br>
<span class="lineno"></span><span class="op" id="2453136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2453139">//&nbsp;Bytes&nbsp;returns&nbsp;v&#39;s&nbsp;underlying&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2453178">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;is&nbsp;not&nbsp;a&nbsp;slice&nbsp;of&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="2453240">func</span>&nbsp;<span class="op" id="2453245">(</span><span class="ident" id="2453246">v</span>&nbsp;<span class="ident" id="2453248"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2453253">)</span>&nbsp;<span class="ident" id="2453255">Bytes</span><span class="op" id="2453260">(</span><span class="op" id="2453261">)</span>&nbsp;<span class="op" id="2453263">[</span><span class="op" id="2453264">]</span><span class="builtintype" id="2453265">byte</span>&nbsp;<span class="op" id="2453270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2453273"><a href="/reflect/value.go.html#2453246">v</a></span><span class="op" id="2453274">.</span><span class="ident" id="2453275">mustBe</span><span class="op" id="2453281">(</span><span class="ident" id="2453282"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2453287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453290">if</span>&nbsp;<span class="ident" id="2453293"><a href="/reflect/value.go.html#2453246">v</a></span><span class="op" id="2453294">.</span><span class="ident" id="2453295">typ</span><span class="op" id="2453298">.</span><span class="ident" id="2453299">Elem</span><span class="op" id="2453303">(</span><span class="op" id="2453304">)</span><span class="op" id="2453305">.</span><span class="ident" id="2453306">Kind</span><span class="op" id="2453310">(</span><span class="op" id="2453311">)</span>&nbsp;<span class="op" id="2453313">!=</span>&nbsp;<span class="ident" id="2453316"><a href="/reflect/type.go.html#2401269">Uint8</a></span>&nbsp;<span class="op" id="2453322">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2453326">panic</span><span class="op" id="2453331">(</span><span class="string" id="2453332">&#34;reflect.Value.Bytes&nbsp;of&nbsp;non-byte&nbsp;slice&#34;</span><span class="op" id="2453371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2453374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2453377">//&nbsp;Slice&nbsp;is&nbsp;always&nbsp;bigger&nbsp;than&nbsp;a&nbsp;word;&nbsp;assume&nbsp;flagIndir.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453435">return</span>&nbsp;<span class="op" id="2453442">*</span><span class="op" id="2453443">(</span><span class="op" id="2453444">*</span><span class="op" id="2453445">[</span><span class="op" id="2453446">]</span><span class="builtintype" id="2453447">byte</span><span class="op" id="2453451">)</span><span class="op" id="2453452">(</span><span class="ident" id="2453453"><a href="/reflect/value.go.html#2453246">v</a></span><span class="op" id="2453454">.</span><span class="ident" id="2453455">ptr</span><span class="op" id="2453458">)</span><br>
<span class="lineno"></span><span class="op" id="2453460">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="comment" id="2453463">//&nbsp;runes&nbsp;returns&nbsp;v&#39;s&nbsp;underlying&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2453502">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;is&nbsp;not&nbsp;a&nbsp;slice&nbsp;of&nbsp;runes&nbsp;(int32s).</span><br>
<span class="lineno"></span><span class="keyword" id="2453573">func</span>&nbsp;<span class="op" id="2453578">(</span><span class="ident" id="2453579">v</span>&nbsp;<span class="ident" id="2453581"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2453586">)</span>&nbsp;<span class="ident" id="2453588">runes</span><span class="op" id="2453593">(</span><span class="op" id="2453594">)</span>&nbsp;<span class="op" id="2453596">[</span><span class="op" id="2453597">]</span><span class="builtintype" id="2453598">rune</span>&nbsp;<span class="op" id="2453603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2453606"><a href="/reflect/value.go.html#2453579">v</a></span><span class="op" id="2453607">.</span><span class="ident" id="2453608">mustBe</span><span class="op" id="2453614">(</span><span class="ident" id="2453615"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2453620">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453623">if</span>&nbsp;<span class="ident" id="2453626"><a href="/reflect/value.go.html#2453579">v</a></span><span class="op" id="2453627">.</span><span class="ident" id="2453628">typ</span><span class="op" id="2453631">.</span><span class="ident" id="2453632">Elem</span><span class="op" id="2453636">(</span><span class="op" id="2453637">)</span><span class="op" id="2453638">.</span><span class="ident" id="2453639">Kind</span><span class="op" id="2453643">(</span><span class="op" id="2453644">)</span>&nbsp;<span class="op" id="2453646">!=</span>&nbsp;<span class="ident" id="2453649"><a href="/reflect/type.go.html#2401249">Int32</a></span>&nbsp;<span class="op" id="2453655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2453659">panic</span><span class="op" id="2453664">(</span><span class="string" id="2453665">&#34;reflect.Value.Bytes&nbsp;of&nbsp;non-rune&nbsp;slice&#34;</span><span class="op" id="2453704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2453707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2453710">//&nbsp;Slice&nbsp;is&nbsp;always&nbsp;bigger&nbsp;than&nbsp;a&nbsp;word;&nbsp;assume&nbsp;flagIndir.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2453768">return</span>&nbsp;<span class="op" id="2453775">*</span><span class="op" id="2453776">(</span><span class="op" id="2453777">*</span><span class="op" id="2453778">[</span><span class="op" id="2453779">]</span><span class="builtintype" id="2453780">rune</span><span class="op" id="2453784">)</span><span class="op" id="2453785">(</span><span class="ident" id="2453786"><a href="/reflect/value.go.html#2453579">v</a></span><span class="op" id="2453787">.</span><span class="ident" id="2453788">ptr</span><span class="op" id="2453791">)</span><br>
<span class="lineno">265</span><span class="op" id="2453793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2453796">//&nbsp;CanAddr&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;value&#39;s&nbsp;address&nbsp;can&nbsp;be&nbsp;obtained&nbsp;with&nbsp;Addr.</span><br>
<span class="lineno"></span><span class="comment" id="2453870">//&nbsp;Such&nbsp;values&nbsp;are&nbsp;called&nbsp;addressable.&nbsp;&nbsp;A&nbsp;value&nbsp;is&nbsp;addressable&nbsp;if&nbsp;it&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2453942">//&nbsp;an&nbsp;element&nbsp;of&nbsp;a&nbsp;slice,&nbsp;an&nbsp;element&nbsp;of&nbsp;an&nbsp;addressable&nbsp;array,</span><br>
<span class="lineno">270</span><span class="comment" id="2454004">//&nbsp;a&nbsp;field&nbsp;of&nbsp;an&nbsp;addressable&nbsp;struct,&nbsp;or&nbsp;the&nbsp;result&nbsp;of&nbsp;dereferencing&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span><span class="comment" id="2454083">//&nbsp;If&nbsp;CanAddr&nbsp;returns&nbsp;false,&nbsp;calling&nbsp;Addr&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="2454137">func</span>&nbsp;<span class="op" id="2454142">(</span><span class="ident" id="2454143">v</span>&nbsp;<span class="ident" id="2454145"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2454150">)</span>&nbsp;<span class="ident" id="2454152">CanAddr</span><span class="op" id="2454159">(</span><span class="op" id="2454160">)</span>&nbsp;<span class="builtintype" id="2454162">bool</span>&nbsp;<span class="op" id="2454167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2454170">return</span>&nbsp;<span class="ident" id="2454177"><a href="/reflect/value.go.html#2454143">v</a></span><span class="op" id="2454178">.</span><span class="ident" id="2454179">flag</span><span class="op" id="2454183">&amp;</span><span class="ident" id="2454184"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2454193">!=</span>&nbsp;<span class="num" id="2454196">0</span><br>
<span class="lineno"></span><span class="op" id="2454198">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="comment" id="2454201">//&nbsp;CanSet&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;value&nbsp;of&nbsp;v&nbsp;can&nbsp;be&nbsp;changed.</span><br>
<span class="lineno"></span><span class="comment" id="2454258">//&nbsp;A&nbsp;Value&nbsp;can&nbsp;be&nbsp;changed&nbsp;only&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable&nbsp;and&nbsp;was&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="2454322">//&nbsp;obtained&nbsp;by&nbsp;the&nbsp;use&nbsp;of&nbsp;unexported&nbsp;struct&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="2454374">//&nbsp;If&nbsp;CanSet&nbsp;returns&nbsp;false,&nbsp;calling&nbsp;Set&nbsp;or&nbsp;any&nbsp;type-specific</span><br>
<span class="lineno">280</span><span class="comment" id="2454435">//&nbsp;setter&nbsp;(e.g.,&nbsp;SetBool,&nbsp;SetInt64)&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="2454483">func</span>&nbsp;<span class="op" id="2454488">(</span><span class="ident" id="2454489">v</span>&nbsp;<span class="ident" id="2454491"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2454496">)</span>&nbsp;<span class="ident" id="2454498">CanSet</span><span class="op" id="2454504">(</span><span class="op" id="2454505">)</span>&nbsp;<span class="builtintype" id="2454507">bool</span>&nbsp;<span class="op" id="2454512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2454515">return</span>&nbsp;<span class="ident" id="2454522"><a href="/reflect/value.go.html#2454489">v</a></span><span class="op" id="2454523">.</span><span class="ident" id="2454524">flag</span><span class="op" id="2454528">&amp;</span><span class="op" id="2454529">(</span><span class="ident" id="2454530"><a href="/reflect/value.go.html#2448194">flagAddr</a></span><span class="op" id="2454538">|</span><span class="ident" id="2454539"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2454545">)</span>&nbsp;<span class="op" id="2454547">==</span>&nbsp;<span class="ident" id="2454550"><a href="/reflect/value.go.html#2448194">flagAddr</a></span><br>
<span class="lineno"></span><span class="op" id="2454559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="2454562">//&nbsp;Call&nbsp;calls&nbsp;the&nbsp;function&nbsp;v&nbsp;with&nbsp;the&nbsp;input&nbsp;arguments&nbsp;in.</span><br>
<span class="lineno"></span><span class="comment" id="2454620">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;len(in)&nbsp;==&nbsp;3,&nbsp;v.Call(in)&nbsp;represents&nbsp;the&nbsp;Go&nbsp;call&nbsp;v(in[0],&nbsp;in[1],&nbsp;in[2]).</span><br>
<span class="lineno"></span><span class="comment" id="2454711">//&nbsp;Call&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span><span class="comment" id="2454751">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;output&nbsp;results&nbsp;as&nbsp;Values.</span><br>
<span class="lineno"></span><span class="comment" id="2454795">//&nbsp;As&nbsp;in&nbsp;Go,&nbsp;each&nbsp;input&nbsp;argument&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;the</span><br>
<span class="lineno">290</span><span class="comment" id="2454854">//&nbsp;type&nbsp;of&nbsp;the&nbsp;function&#39;s&nbsp;corresponding&nbsp;input&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="comment" id="2454911">//&nbsp;If&nbsp;v&nbsp;is&nbsp;a&nbsp;variadic&nbsp;function,&nbsp;Call&nbsp;creates&nbsp;the&nbsp;variadic&nbsp;slice&nbsp;parameter</span><br>
<span class="lineno"></span><span class="comment" id="2454985">//&nbsp;itself,&nbsp;copying&nbsp;in&nbsp;the&nbsp;corresponding&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="2455033">func</span>&nbsp;<span class="op" id="2455038">(</span><span class="ident" id="2455039">v</span>&nbsp;<span class="ident" id="2455041"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2455046">)</span>&nbsp;<span class="ident" id="2455048">Call</span><span class="op" id="2455052">(</span><span class="ident" id="2455053">in</span>&nbsp;<span class="op" id="2455056">[</span><span class="op" id="2455057">]</span><span class="ident" id="2455058"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2455063">)</span>&nbsp;<span class="op" id="2455065">[</span><span class="op" id="2455066">]</span><span class="ident" id="2455067"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2455073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455076"><a href="/reflect/value.go.html#2455039">v</a></span><span class="op" id="2455077">.</span><span class="ident" id="2455078">mustBe</span><span class="op" id="2455084">(</span><span class="ident" id="2455085"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2455089">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455092"><a href="/reflect/value.go.html#2455039">v</a></span><span class="op" id="2455093">.</span><span class="ident" id="2455094">mustBeExported</span><span class="op" id="2455108">(</span><span class="op" id="2455109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2455112">return</span>&nbsp;<span class="ident" id="2455119"><a href="/reflect/value.go.html#2455039">v</a></span><span class="op" id="2455120">.</span><span class="ident" id="2455121">call</span><span class="op" id="2455125">(</span><span class="string" id="2455126">&#34;Call&#34;</span><span class="op" id="2455132">,</span>&nbsp;<span class="ident" id="2455134"><a href="/reflect/value.go.html#2455053">in</a></span><span class="op" id="2455136">)</span><br>
<span class="lineno"></span><span class="op" id="2455138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2455141">//&nbsp;CallSlice&nbsp;calls&nbsp;the&nbsp;variadic&nbsp;function&nbsp;v&nbsp;with&nbsp;the&nbsp;input&nbsp;arguments&nbsp;in,</span><br>
<span class="lineno">300</span><span class="comment" id="2455213">//&nbsp;assigning&nbsp;the&nbsp;slice&nbsp;in[len(in)-1]&nbsp;to&nbsp;v&#39;s&nbsp;final&nbsp;variadic&nbsp;argument.</span><br>
<span class="lineno"></span><span class="comment" id="2455282">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;len(in)&nbsp;==&nbsp;3,&nbsp;v.Call(in)&nbsp;represents&nbsp;the&nbsp;Go&nbsp;call&nbsp;v(in[0],&nbsp;in[1],&nbsp;in[2]...).</span><br>
<span class="lineno"></span><span class="comment" id="2455376">//&nbsp;Call&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func&nbsp;or&nbsp;if&nbsp;v&nbsp;is&nbsp;not&nbsp;variadic.</span><br>
<span class="lineno"></span><span class="comment" id="2455440">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;output&nbsp;results&nbsp;as&nbsp;Values.</span><br>
<span class="lineno"></span><span class="comment" id="2455484">//&nbsp;As&nbsp;in&nbsp;Go,&nbsp;each&nbsp;input&nbsp;argument&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;the</span><br>
<span class="lineno">305</span><span class="comment" id="2455543">//&nbsp;type&nbsp;of&nbsp;the&nbsp;function&#39;s&nbsp;corresponding&nbsp;input&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="2455600">func</span>&nbsp;<span class="op" id="2455605">(</span><span class="ident" id="2455606">v</span>&nbsp;<span class="ident" id="2455608"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2455613">)</span>&nbsp;<span class="ident" id="2455615">CallSlice</span><span class="op" id="2455624">(</span><span class="ident" id="2455625">in</span>&nbsp;<span class="op" id="2455628">[</span><span class="op" id="2455629">]</span><span class="ident" id="2455630"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2455635">)</span>&nbsp;<span class="op" id="2455637">[</span><span class="op" id="2455638">]</span><span class="ident" id="2455639"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2455645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455648"><a href="/reflect/value.go.html#2455606">v</a></span><span class="op" id="2455649">.</span><span class="ident" id="2455650">mustBe</span><span class="op" id="2455656">(</span><span class="ident" id="2455657"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2455661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455664"><a href="/reflect/value.go.html#2455606">v</a></span><span class="op" id="2455665">.</span><span class="ident" id="2455666">mustBeExported</span><span class="op" id="2455680">(</span><span class="op" id="2455681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2455684">return</span>&nbsp;<span class="ident" id="2455691"><a href="/reflect/value.go.html#2455606">v</a></span><span class="op" id="2455692">.</span><span class="ident" id="2455693">call</span><span class="op" id="2455697">(</span><span class="string" id="2455698">&#34;CallSlice&#34;</span><span class="op" id="2455709">,</span>&nbsp;<span class="ident" id="2455711"><a href="/reflect/value.go.html#2455625">in</a></span><span class="op" id="2455713">)</span><br>
<span class="lineno">310</span><span class="op" id="2455715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2455718">var</span>&nbsp;<span class="ident" id="2455722">callGC</span>&nbsp;<span class="builtintype" id="2455729">bool</span>&nbsp;<span class="comment" id="2455734">//&nbsp;for&nbsp;testing;&nbsp;see&nbsp;TestCallMethodJump</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2455774">func</span>&nbsp;<span class="op" id="2455779">(</span><span class="ident" id="2455780">v</span>&nbsp;<span class="ident" id="2455782"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2455787">)</span>&nbsp;<span class="ident" id="2455789">call</span><span class="op" id="2455793">(</span><span class="ident" id="2455794">op</span>&nbsp;<span class="builtintype" id="2455797">string</span><span class="op" id="2455803">,</span>&nbsp;<span class="ident" id="2455805">in</span>&nbsp;<span class="op" id="2455808">[</span><span class="op" id="2455809">]</span><span class="ident" id="2455810"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2455815">)</span>&nbsp;<span class="op" id="2455817">[</span><span class="op" id="2455818">]</span><span class="ident" id="2455819"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2455825">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2455828">//&nbsp;Get&nbsp;function&nbsp;pointer,&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455860">t</span>&nbsp;<span class="op" id="2455862">:=</span>&nbsp;<span class="ident" id="2455865"><a href="/reflect/value.go.html#2455780">v</a></span><span class="op" id="2455866">.</span><span class="ident" id="2455867">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2455872">var</span>&nbsp;<span class="op" id="2455876">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455880">fn</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2455889"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2455895">.</span><span class="ident" id="2455896">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455906">rcvr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2455915"><a href="/reflect/value.go.html#2446885">Value</a></span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455923">rcvrtype</span>&nbsp;<span class="op" id="2455932">*</span><span class="ident" id="2455933"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2455940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2455943">if</span>&nbsp;<span class="ident" id="2455946"><a href="/reflect/value.go.html#2455780">v</a></span><span class="op" id="2455947">.</span><span class="ident" id="2455948">flag</span><span class="op" id="2455952">&amp;</span><span class="ident" id="2455953"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2455964">!=</span>&nbsp;<span class="num" id="2455967">0</span>&nbsp;<span class="op" id="2455969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455973"><a href="/reflect/value.go.html#2455906">rcvr</a></span>&nbsp;<span class="op" id="2455978">=</span>&nbsp;<span class="ident" id="2455980"><a href="/reflect/value.go.html#2455780">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2455984"><a href="/reflect/value.go.html#2455923">rcvrtype</a></span><span class="op" id="2455992">,</span>&nbsp;<span class="ident" id="2455994"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2455995">,</span>&nbsp;<span class="ident" id="2455997"><a href="/reflect/value.go.html#2455880">fn</a></span>&nbsp;<span class="op" id="2456000">=</span>&nbsp;<span class="ident" id="2456002"><a href="/reflect/value.go.html#2461614">methodReceiver</a></span><span class="op" id="2456016">(</span><span class="ident" id="2456017"><a href="/reflect/value.go.html#2455794">op</a></span><span class="op" id="2456019">,</span>&nbsp;<span class="ident" id="2456021"><a href="/reflect/value.go.html#2455780">v</a></span><span class="op" id="2456022">,</span>&nbsp;<span class="builtintype" id="2456024">int</span><span class="op" id="2456027">(</span><span class="ident" id="2456028"><a href="/reflect/value.go.html#2455780">v</a></span><span class="op" id="2456029">.</span><span class="ident" id="2456030">flag</span><span class="op" id="2456034">)</span><span class="op" id="2456035">&gt;&gt;</span><span class="ident" id="2456037"><a href="/reflect/value.go.html#2448256">flagMethodShift</a></span><span class="op" id="2456052">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456055">}</span>&nbsp;<span class="keyword" id="2456057">else</span>&nbsp;<span class="keyword" id="2456062">if</span>&nbsp;<span class="ident" id="2456065"><a href="/reflect/value.go.html#2455780">v</a></span><span class="op" id="2456066">.</span><span class="ident" id="2456067">flag</span><span class="op" id="2456071">&amp;</span><span class="ident" id="2456072"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2456082">!=</span>&nbsp;<span class="num" id="2456085">0</span>&nbsp;<span class="op" id="2456087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2456091"><a href="/reflect/value.go.html#2455880">fn</a></span>&nbsp;<span class="op" id="2456094">=</span>&nbsp;<span class="op" id="2456096">*</span><span class="op" id="2456097">(</span><span class="op" id="2456098">*</span><span class="ident" id="2456099"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2456105">.</span><span class="ident" id="2456106">Pointer</span><span class="op" id="2456113">)</span><span class="op" id="2456114">(</span><span class="ident" id="2456115"><a href="/reflect/value.go.html#2455780">v</a></span><span class="op" id="2456116">.</span><span class="ident" id="2456117">ptr</span><span class="op" id="2456120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456123">}</span>&nbsp;<span class="keyword" id="2456125">else</span>&nbsp;<span class="op" id="2456130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2456134"><a href="/reflect/value.go.html#2455880">fn</a></span>&nbsp;<span class="op" id="2456137">=</span>&nbsp;<span class="ident" id="2456139"><a href="/reflect/value.go.html#2455780">v</a></span><span class="op" id="2456140">.</span><span class="ident" id="2456141">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456146">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456150">if</span>&nbsp;<span class="ident" id="2456153"><a href="/reflect/value.go.html#2455880">fn</a></span>&nbsp;<span class="op" id="2456156">==</span>&nbsp;<span class="ident" id="2456159">nil</span>&nbsp;<span class="op" id="2456163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2456167">panic</span><span class="op" id="2456172">(</span><span class="string" id="2456173">&#34;reflect.Value.Call:&nbsp;call&nbsp;of&nbsp;nil&nbsp;function&#34;</span><span class="op" id="2456215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2456222">isSlice</span>&nbsp;<span class="op" id="2456230">:=</span>&nbsp;<span class="ident" id="2456233"><a href="/reflect/value.go.html#2455794">op</a></span>&nbsp;<span class="op" id="2456236">==</span>&nbsp;<span class="string" id="2456239">&#34;CallSlice&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2456252">n</span>&nbsp;<span class="op" id="2456254">:=</span>&nbsp;<span class="ident" id="2456257"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2456258">.</span><span class="ident" id="2456259">NumIn</span><span class="op" id="2456264">(</span><span class="op" id="2456265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456268">if</span>&nbsp;<span class="ident" id="2456271"><a href="/reflect/value.go.html#2456222">isSlice</a></span>&nbsp;<span class="op" id="2456279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456283">if</span>&nbsp;<span class="op" id="2456286">!</span><span class="ident" id="2456287"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2456288">.</span><span class="ident" id="2456289">IsVariadic</span><span class="op" id="2456299">(</span><span class="op" id="2456300">)</span>&nbsp;<span class="op" id="2456302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2456307">panic</span><span class="op" id="2456312">(</span><span class="string" id="2456313">&#34;reflect:&nbsp;CallSlice&nbsp;of&nbsp;non-variadic&nbsp;function&#34;</span><span class="op" id="2456358">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456366">if</span>&nbsp;<span class="builtinfunc" id="2456369">len</span><span class="op" id="2456372">(</span><span class="ident" id="2456373"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2456375">)</span>&nbsp;<span class="op" id="2456377">&lt;</span>&nbsp;<span class="ident" id="2456379"><a href="/reflect/value.go.html#2456252">n</a></span>&nbsp;<span class="op" id="2456381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2456386">panic</span><span class="op" id="2456391">(</span><span class="string" id="2456392">&#34;reflect:&nbsp;CallSlice&nbsp;with&nbsp;too&nbsp;few&nbsp;input&nbsp;arguments&#34;</span><span class="op" id="2456441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456449">if</span>&nbsp;<span class="builtinfunc" id="2456452">len</span><span class="op" id="2456455">(</span><span class="ident" id="2456456"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2456458">)</span>&nbsp;<span class="op" id="2456460">&gt;</span>&nbsp;<span class="ident" id="2456462"><a href="/reflect/value.go.html#2456252">n</a></span>&nbsp;<span class="op" id="2456464">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2456469">panic</span><span class="op" id="2456474">(</span><span class="string" id="2456475">&#34;reflect:&nbsp;CallSlice&nbsp;with&nbsp;too&nbsp;many&nbsp;input&nbsp;arguments&#34;</span><span class="op" id="2456525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456532">}</span>&nbsp;<span class="keyword" id="2456534">else</span>&nbsp;<span class="op" id="2456539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456543">if</span>&nbsp;<span class="ident" id="2456546"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2456547">.</span><span class="ident" id="2456548">IsVariadic</span><span class="op" id="2456558">(</span><span class="op" id="2456559">)</span>&nbsp;<span class="op" id="2456561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2456566"><a href="/reflect/value.go.html#2456252">n</a></span><span class="op" id="2456567">--</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456576">if</span>&nbsp;<span class="builtinfunc" id="2456579">len</span><span class="op" id="2456582">(</span><span class="ident" id="2456583"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2456585">)</span>&nbsp;<span class="op" id="2456587">&lt;</span>&nbsp;<span class="ident" id="2456589"><a href="/reflect/value.go.html#2456252">n</a></span>&nbsp;<span class="op" id="2456591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2456596">panic</span><span class="op" id="2456601">(</span><span class="string" id="2456602">&#34;reflect:&nbsp;Call&nbsp;with&nbsp;too&nbsp;few&nbsp;input&nbsp;arguments&#34;</span><span class="op" id="2456646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456654">if</span>&nbsp;<span class="op" id="2456657">!</span><span class="ident" id="2456658"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2456659">.</span><span class="ident" id="2456660">IsVariadic</span><span class="op" id="2456670">(</span><span class="op" id="2456671">)</span>&nbsp;<span class="op" id="2456673">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2456676">len</span><span class="op" id="2456679">(</span><span class="ident" id="2456680"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2456682">)</span>&nbsp;<span class="op" id="2456684">&gt;</span>&nbsp;<span class="ident" id="2456686"><a href="/reflect/value.go.html#2456252">n</a></span>&nbsp;<span class="op" id="2456688">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2456693">panic</span><span class="op" id="2456698">(</span><span class="string" id="2456699">&#34;reflect:&nbsp;Call&nbsp;with&nbsp;too&nbsp;many&nbsp;input&nbsp;arguments&#34;</span><span class="op" id="2456744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456754">for</span>&nbsp;<span class="ident" id="2456758">_</span><span class="op" id="2456759">,</span>&nbsp;<span class="ident" id="2456761">x</span>&nbsp;<span class="op" id="2456763">:=</span>&nbsp;<span class="keyword" id="2456766">range</span>&nbsp;<span class="ident" id="2456772"><a href="/reflect/value.go.html#2455805">in</a></span>&nbsp;<span class="op" id="2456775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456779">if</span>&nbsp;<span class="ident" id="2456782"><a href="/reflect/value.go.html#2456761">x</a></span><span class="op" id="2456783">.</span><span class="ident" id="2456784">Kind</span><span class="op" id="2456788">(</span><span class="op" id="2456789">)</span>&nbsp;<span class="op" id="2456791">==</span>&nbsp;<span class="ident" id="2456794"><a href="/reflect/type.go.html#2401204">Invalid</a></span>&nbsp;<span class="op" id="2456802">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2456807">panic</span><span class="op" id="2456812">(</span><span class="string" id="2456813">&#34;reflect:&nbsp;&#34;</span>&nbsp;<span class="op" id="2456825">+</span>&nbsp;<span class="ident" id="2456827"><a href="/reflect/value.go.html#2455794">op</a></span>&nbsp;<span class="op" id="2456830">+</span>&nbsp;<span class="string" id="2456832">&#34;&nbsp;using&nbsp;zero&nbsp;Value&nbsp;argument&#34;</span><span class="op" id="2456860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2456867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456870">for</span>&nbsp;<span class="ident" id="2456874">i</span>&nbsp;<span class="op" id="2456876">:=</span>&nbsp;<span class="num" id="2456879">0</span><span class="op" id="2456880">;</span>&nbsp;<span class="ident" id="2456882"><a href="/reflect/value.go.html#2456874">i</a></span>&nbsp;<span class="op" id="2456884">&lt;</span>&nbsp;<span class="ident" id="2456886"><a href="/reflect/value.go.html#2456252">n</a></span><span class="op" id="2456887">;</span>&nbsp;<span class="ident" id="2456889"><a href="/reflect/value.go.html#2456874">i</a></span><span class="op" id="2456890">++</span>&nbsp;<span class="op" id="2456893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2456897">if</span>&nbsp;<span class="ident" id="2456900">xt</span><span class="op" id="2456902">,</span>&nbsp;<span class="ident" id="2456904">targ</span>&nbsp;<span class="op" id="2456909">:=</span>&nbsp;<span class="ident" id="2456912"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2456914">[</span><span class="ident" id="2456915"><a href="/reflect/value.go.html#2456874">i</a></span><span class="op" id="2456916">]</span><span class="op" id="2456917">.</span><span class="ident" id="2456918">Type</span><span class="op" id="2456922">(</span><span class="op" id="2456923">)</span><span class="op" id="2456924">,</span>&nbsp;<span class="ident" id="2456926"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2456927">.</span><span class="ident" id="2456928">In</span><span class="op" id="2456930">(</span><span class="ident" id="2456931"><a href="/reflect/value.go.html#2456874">i</a></span><span class="op" id="2456932">)</span><span class="op" id="2456933">;</span>&nbsp;<span class="op" id="2456935">!</span><span class="ident" id="2456936"><a href="/reflect/value.go.html#2456900">xt</a></span><span class="op" id="2456938">.</span><span class="ident" id="2456939">AssignableTo</span><span class="op" id="2456951">(</span><span class="ident" id="2456952"><a href="/reflect/value.go.html#2456904">targ</a></span><span class="op" id="2456956">)</span>&nbsp;<span class="op" id="2456958">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2456963">panic</span><span class="op" id="2456968">(</span><span class="string" id="2456969">&#34;reflect:&nbsp;&#34;</span>&nbsp;<span class="op" id="2456981">+</span>&nbsp;<span class="ident" id="2456983"><a href="/reflect/value.go.html#2455794">op</a></span>&nbsp;<span class="op" id="2456986">+</span>&nbsp;<span class="string" id="2456988">&#34;&nbsp;using&nbsp;&#34;</span>&nbsp;<span class="op" id="2456998">+</span>&nbsp;<span class="ident" id="2457000"><a href="/reflect/value.go.html#2456900">xt</a></span><span class="op" id="2457002">.</span><span class="ident" id="2457003">String</span><span class="op" id="2457009">(</span><span class="op" id="2457010">)</span>&nbsp;<span class="op" id="2457012">+</span>&nbsp;<span class="string" id="2457014">&#34;&nbsp;as&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2457026">+</span>&nbsp;<span class="ident" id="2457028"><a href="/reflect/value.go.html#2456904">targ</a></span><span class="op" id="2457032">.</span><span class="ident" id="2457033">String</span><span class="op" id="2457039">(</span><span class="op" id="2457040">)</span><span class="op" id="2457041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2457045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2457048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2457051">if</span>&nbsp;<span class="op" id="2457054">!</span><span class="ident" id="2457055"><a href="/reflect/value.go.html#2456222">isSlice</a></span>&nbsp;<span class="op" id="2457063">&amp;&amp;</span>&nbsp;<span class="ident" id="2457066"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2457067">.</span><span class="ident" id="2457068">IsVariadic</span><span class="op" id="2457078">(</span><span class="op" id="2457079">)</span>&nbsp;<span class="op" id="2457081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2457085">//&nbsp;prepare&nbsp;slice&nbsp;for&nbsp;remaining&nbsp;values</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457125">m</span>&nbsp;<span class="op" id="2457127">:=</span>&nbsp;<span class="builtinfunc" id="2457130">len</span><span class="op" id="2457133">(</span><span class="ident" id="2457134"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2457136">)</span>&nbsp;<span class="op" id="2457138">-</span>&nbsp;<span class="ident" id="2457140"><a href="/reflect/value.go.html#2456252">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457144">slice</span>&nbsp;<span class="op" id="2457150">:=</span>&nbsp;<span class="ident" id="2457153"><a href="/reflect/value.go.html#2504371">MakeSlice</a></span><span class="op" id="2457162">(</span><span class="ident" id="2457163"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2457164">.</span><span class="ident" id="2457165">In</span><span class="op" id="2457167">(</span><span class="ident" id="2457168"><a href="/reflect/value.go.html#2456252">n</a></span><span class="op" id="2457169">)</span><span class="op" id="2457170">,</span>&nbsp;<span class="ident" id="2457172"><a href="/reflect/value.go.html#2457125">m</a></span><span class="op" id="2457173">,</span>&nbsp;<span class="ident" id="2457175"><a href="/reflect/value.go.html#2457125">m</a></span><span class="op" id="2457176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457180">elem</span>&nbsp;<span class="op" id="2457185">:=</span>&nbsp;<span class="ident" id="2457188"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2457189">.</span><span class="ident" id="2457190">In</span><span class="op" id="2457192">(</span><span class="ident" id="2457193"><a href="/reflect/value.go.html#2456252">n</a></span><span class="op" id="2457194">)</span><span class="op" id="2457195">.</span><span class="ident" id="2457196">Elem</span><span class="op" id="2457200">(</span><span class="op" id="2457201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2457205">for</span>&nbsp;<span class="ident" id="2457209">i</span>&nbsp;<span class="op" id="2457211">:=</span>&nbsp;<span class="num" id="2457214">0</span><span class="op" id="2457215">;</span>&nbsp;<span class="ident" id="2457217"><a href="/reflect/value.go.html#2457209">i</a></span>&nbsp;<span class="op" id="2457219">&lt;</span>&nbsp;<span class="ident" id="2457221"><a href="/reflect/value.go.html#2457125">m</a></span><span class="op" id="2457222">;</span>&nbsp;<span class="ident" id="2457224"><a href="/reflect/value.go.html#2457209">i</a></span><span class="op" id="2457225">++</span>&nbsp;<span class="op" id="2457228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457233">x</span>&nbsp;<span class="op" id="2457235">:=</span>&nbsp;<span class="ident" id="2457238"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2457240">[</span><span class="ident" id="2457241"><a href="/reflect/value.go.html#2456252">n</a></span><span class="op" id="2457242">+</span><span class="ident" id="2457243"><a href="/reflect/value.go.html#2457209">i</a></span><span class="op" id="2457244">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2457249">if</span>&nbsp;<span class="ident" id="2457252">xt</span>&nbsp;<span class="op" id="2457255">:=</span>&nbsp;<span class="ident" id="2457258"><a href="/reflect/value.go.html#2457233">x</a></span><span class="op" id="2457259">.</span><span class="ident" id="2457260">Type</span><span class="op" id="2457264">(</span><span class="op" id="2457265">)</span><span class="op" id="2457266">;</span>&nbsp;<span class="op" id="2457268">!</span><span class="ident" id="2457269"><a href="/reflect/value.go.html#2457252">xt</a></span><span class="op" id="2457271">.</span><span class="ident" id="2457272">AssignableTo</span><span class="op" id="2457284">(</span><span class="ident" id="2457285"><a href="/reflect/value.go.html#2457180">elem</a></span><span class="op" id="2457289">)</span>&nbsp;<span class="op" id="2457291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2457297">panic</span><span class="op" id="2457302">(</span><span class="string" id="2457303">&#34;reflect:&nbsp;cannot&nbsp;use&nbsp;&#34;</span>&nbsp;<span class="op" id="2457326">+</span>&nbsp;<span class="ident" id="2457328"><a href="/reflect/value.go.html#2457252">xt</a></span><span class="op" id="2457330">.</span><span class="ident" id="2457331">String</span><span class="op" id="2457337">(</span><span class="op" id="2457338">)</span>&nbsp;<span class="op" id="2457340">+</span>&nbsp;<span class="string" id="2457342">&#34;&nbsp;as&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2457354">+</span>&nbsp;<span class="ident" id="2457356"><a href="/reflect/value.go.html#2457180">elem</a></span><span class="op" id="2457360">.</span><span class="ident" id="2457361">String</span><span class="op" id="2457367">(</span><span class="op" id="2457368">)</span>&nbsp;<span class="op" id="2457370">+</span>&nbsp;<span class="string" id="2457372">&#34;&nbsp;in&nbsp;&#34;</span>&nbsp;<span class="op" id="2457379">+</span>&nbsp;<span class="ident" id="2457381"><a href="/reflect/value.go.html#2455794">op</a></span><span class="op" id="2457383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2457388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457393"><a href="/reflect/value.go.html#2457144">slice</a></span><span class="op" id="2457398">.</span><span class="ident" id="2457399">Index</span><span class="op" id="2457404">(</span><span class="ident" id="2457405"><a href="/reflect/value.go.html#2457209">i</a></span><span class="op" id="2457406">)</span><span class="op" id="2457407">.</span><span class="ident" id="2457408">Set</span><span class="op" id="2457411">(</span><span class="ident" id="2457412"><a href="/reflect/value.go.html#2457233">x</a></span><span class="op" id="2457413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2457417">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457421">origIn</span>&nbsp;<span class="op" id="2457428">:=</span>&nbsp;<span class="ident" id="2457431"><a href="/reflect/value.go.html#2455805">in</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457436"><a href="/reflect/value.go.html#2455805">in</a></span>&nbsp;<span class="op" id="2457439">=</span>&nbsp;<span class="builtinfunc" id="2457441">make</span><span class="op" id="2457445">(</span><span class="op" id="2457446">[</span><span class="op" id="2457447">]</span><span class="ident" id="2457448"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2457453">,</span>&nbsp;<span class="ident" id="2457455"><a href="/reflect/value.go.html#2456252">n</a></span><span class="op" id="2457456">+</span><span class="num" id="2457457">1</span><span class="op" id="2457458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2457462">copy</span><span class="op" id="2457466">(</span><span class="ident" id="2457467"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2457469">[</span><span class="op" id="2457470">:</span><span class="ident" id="2457471"><a href="/reflect/value.go.html#2456252">n</a></span><span class="op" id="2457472">]</span><span class="op" id="2457473">,</span>&nbsp;<span class="ident" id="2457475"><a href="/reflect/value.go.html#2457421">origIn</a></span><span class="op" id="2457481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457485"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2457487">[</span><span class="ident" id="2457488"><a href="/reflect/value.go.html#2456252">n</a></span><span class="op" id="2457489">]</span>&nbsp;<span class="op" id="2457491">=</span>&nbsp;<span class="ident" id="2457493"><a href="/reflect/value.go.html#2457144">slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2457500">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457504">nin</span>&nbsp;<span class="op" id="2457508">:=</span>&nbsp;<span class="builtinfunc" id="2457511">len</span><span class="op" id="2457514">(</span><span class="ident" id="2457515"><a href="/reflect/value.go.html#2455805">in</a></span><span class="op" id="2457517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2457520">if</span>&nbsp;<span class="ident" id="2457523"><a href="/reflect/value.go.html#2457504">nin</a></span>&nbsp;<span class="op" id="2457527">!=</span>&nbsp;<span class="ident" id="2457530"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2457531">.</span><span class="ident" id="2457532">NumIn</span><span class="op" id="2457537">(</span><span class="op" id="2457538">)</span>&nbsp;<span class="op" id="2457540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2457544">panic</span><span class="op" id="2457549">(</span><span class="string" id="2457550">&#34;reflect.Value.Call:&nbsp;wrong&nbsp;argument&nbsp;count&#34;</span><span class="op" id="2457592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2457595">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457598">nout</span>&nbsp;<span class="op" id="2457603">:=</span>&nbsp;<span class="ident" id="2457606"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2457607">.</span><span class="ident" id="2457608">NumOut</span><span class="op" id="2457614">(</span><span class="op" id="2457615">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2457619">//&nbsp;Compute&nbsp;frame&nbsp;type,&nbsp;allocate&nbsp;a&nbsp;chunk&nbsp;of&nbsp;memory&nbsp;for&nbsp;frame</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457680">frametype</span><span class="op" id="2457689">,</span>&nbsp;<span class="ident" id="2457691">_</span><span class="op" id="2457692">,</span>&nbsp;<span class="ident" id="2457694">retOffset</span><span class="op" id="2457703">,</span>&nbsp;<span class="ident" id="2457705">_</span>&nbsp;<span class="op" id="2457707">:=</span>&nbsp;<span class="ident" id="2457710"><a href="/reflect/type.go.html#2442017">funcLayout</a></span><span class="op" id="2457720">(</span><span class="ident" id="2457721"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2457722">,</span>&nbsp;<span class="ident" id="2457724"><a href="/reflect/value.go.html#2455923">rcvrtype</a></span><span class="op" id="2457732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457735">args</span>&nbsp;<span class="op" id="2457740">:=</span>&nbsp;<span class="ident" id="2457743"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2457753">(</span><span class="ident" id="2457754"><a href="/reflect/value.go.html#2457680">frametype</a></span><span class="op" id="2457763">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457766">off</span>&nbsp;<span class="op" id="2457770">:=</span>&nbsp;<span class="builtintype" id="2457773">uintptr</span><span class="op" id="2457780">(</span><span class="num" id="2457781">0</span><span class="op" id="2457782">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2457786">//&nbsp;Copy&nbsp;inputs&nbsp;into&nbsp;args.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2457813">if</span>&nbsp;<span class="ident" id="2457816"><a href="/reflect/value.go.html#2455923">rcvrtype</a></span>&nbsp;<span class="op" id="2457825">!=</span>&nbsp;<span class="ident" id="2457828">nil</span>&nbsp;<span class="op" id="2457832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457836"><a href="/reflect/value.go.html#2462802">storeRcvr</a></span><span class="op" id="2457845">(</span><span class="ident" id="2457846"><a href="/reflect/value.go.html#2455906">rcvr</a></span><span class="op" id="2457850">,</span>&nbsp;<span class="ident" id="2457852"><a href="/reflect/value.go.html#2457735">args</a></span><span class="op" id="2457856">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457860"><a href="/reflect/value.go.html#2457766">off</a></span>&nbsp;<span class="op" id="2457864">=</span>&nbsp;<span class="ident" id="2457866"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2457875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2457878">for</span>&nbsp;<span class="ident" id="2457882">i</span><span class="op" id="2457883">,</span>&nbsp;<span class="ident" id="2457885">v</span>&nbsp;<span class="op" id="2457887">:=</span>&nbsp;<span class="keyword" id="2457890">range</span>&nbsp;<span class="ident" id="2457896"><a href="/reflect/value.go.html#2455805">in</a></span>&nbsp;<span class="op" id="2457899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457903"><a href="/reflect/value.go.html#2457885">v</a></span><span class="op" id="2457904">.</span><span class="ident" id="2457905">mustBeExported</span><span class="op" id="2457919">(</span><span class="op" id="2457920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457924">targ</span>&nbsp;<span class="op" id="2457929">:=</span>&nbsp;<span class="ident" id="2457932"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2457933">.</span><span class="ident" id="2457934">In</span><span class="op" id="2457936">(</span><span class="ident" id="2457937"><a href="/reflect/value.go.html#2457882">i</a></span><span class="op" id="2457938">)</span><span class="op" id="2457939">.</span><span class="op" id="2457940">(</span><span class="op" id="2457941">*</span><span class="ident" id="2457942"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2457947">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457951">a</span>&nbsp;<span class="op" id="2457953">:=</span>&nbsp;<span class="builtintype" id="2457956">uintptr</span><span class="op" id="2457963">(</span><span class="ident" id="2457964"><a href="/reflect/value.go.html#2457924">targ</a></span><span class="op" id="2457968">.</span><span class="ident" id="2457969">align</span><span class="op" id="2457974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2457978"><a href="/reflect/value.go.html#2457766">off</a></span>&nbsp;<span class="op" id="2457982">=</span>&nbsp;<span class="op" id="2457984">(</span><span class="ident" id="2457985"><a href="/reflect/value.go.html#2457766">off</a></span>&nbsp;<span class="op" id="2457989">+</span>&nbsp;<span class="ident" id="2457991"><a href="/reflect/value.go.html#2457951">a</a></span>&nbsp;<span class="op" id="2457993">-</span>&nbsp;<span class="num" id="2457995">1</span><span class="op" id="2457996">)</span>&nbsp;<span class="op" id="2457998">&amp;^</span>&nbsp;<span class="op" id="2458001">(</span><span class="ident" id="2458002"><a href="/reflect/value.go.html#2457951">a</a></span>&nbsp;<span class="op" id="2458004">-</span>&nbsp;<span class="num" id="2458006">1</span><span class="op" id="2458007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458011">n</span>&nbsp;<span class="op" id="2458013">:=</span>&nbsp;<span class="ident" id="2458016"><a href="/reflect/value.go.html#2457924">targ</a></span><span class="op" id="2458020">.</span><span class="ident" id="2458021">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458028">addr</span>&nbsp;<span class="op" id="2458033">:=</span>&nbsp;<span class="ident" id="2458036"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2458042">.</span><span class="ident" id="2458043">Pointer</span><span class="op" id="2458050">(</span><span class="builtintype" id="2458051">uintptr</span><span class="op" id="2458058">(</span><span class="ident" id="2458059"><a href="/reflect/value.go.html#2457735">args</a></span><span class="op" id="2458063">)</span>&nbsp;<span class="op" id="2458065">+</span>&nbsp;<span class="ident" id="2458067"><a href="/reflect/value.go.html#2457766">off</a></span><span class="op" id="2458070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458074"><a href="/reflect/value.go.html#2457885">v</a></span>&nbsp;<span class="op" id="2458076">=</span>&nbsp;<span class="ident" id="2458078"><a href="/reflect/value.go.html#2457885">v</a></span><span class="op" id="2458079">.</span><span class="ident" id="2458080">assignTo</span><span class="op" id="2458088">(</span><span class="string" id="2458089">&#34;reflect.Value.Call&#34;</span><span class="op" id="2458109">,</span>&nbsp;<span class="ident" id="2458111"><a href="/reflect/value.go.html#2457924">targ</a></span><span class="op" id="2458115">,</span>&nbsp;<span class="ident" id="2458117"><a href="/reflect/value.go.html#2458028">addr</a></span><span class="op" id="2458121">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2458125">if</span>&nbsp;<span class="ident" id="2458128"><a href="/reflect/value.go.html#2457885">v</a></span><span class="op" id="2458129">.</span><span class="ident" id="2458130">flag</span><span class="op" id="2458134">&amp;</span><span class="ident" id="2458135"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2458145">!=</span>&nbsp;<span class="num" id="2458148">0</span>&nbsp;<span class="op" id="2458150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458155"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2458162">(</span><span class="ident" id="2458163"><a href="/reflect/value.go.html#2458028">addr</a></span><span class="op" id="2458167">,</span>&nbsp;<span class="ident" id="2458169"><a href="/reflect/value.go.html#2457885">v</a></span><span class="op" id="2458170">.</span><span class="ident" id="2458171">ptr</span><span class="op" id="2458174">,</span>&nbsp;<span class="ident" id="2458176"><a href="/reflect/value.go.html#2458011">n</a></span><span class="op" id="2458177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2458181">}</span>&nbsp;<span class="keyword" id="2458183">else</span>&nbsp;<span class="op" id="2458188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2458193">*</span><span class="op" id="2458194">(</span><span class="op" id="2458195">*</span><span class="ident" id="2458196"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2458202">.</span><span class="ident" id="2458203">Pointer</span><span class="op" id="2458210">)</span><span class="op" id="2458211">(</span><span class="ident" id="2458212"><a href="/reflect/value.go.html#2458028">addr</a></span><span class="op" id="2458216">)</span>&nbsp;<span class="op" id="2458218">=</span>&nbsp;<span class="ident" id="2458220"><a href="/reflect/value.go.html#2457885">v</a></span><span class="op" id="2458221">.</span><span class="ident" id="2458222">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2458228">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458232"><a href="/reflect/value.go.html#2457766">off</a></span>&nbsp;<span class="op" id="2458236">+=</span>&nbsp;<span class="ident" id="2458239"><a href="/reflect/value.go.html#2458011">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2458242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2458246">//&nbsp;Call.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458256"><a href="/reflect/value.go.html#2516232">call</a></span><span class="op" id="2458260">(</span><span class="ident" id="2458261"><a href="/reflect/value.go.html#2455880">fn</a></span><span class="op" id="2458263">,</span>&nbsp;<span class="ident" id="2458265"><a href="/reflect/value.go.html#2457735">args</a></span><span class="op" id="2458269">,</span>&nbsp;<span class="builtintype" id="2458271">uint32</span><span class="op" id="2458277">(</span><span class="ident" id="2458278"><a href="/reflect/value.go.html#2457680">frametype</a></span><span class="op" id="2458287">.</span><span class="ident" id="2458288">size</span><span class="op" id="2458292">)</span><span class="op" id="2458293">,</span>&nbsp;<span class="builtintype" id="2458295">uint32</span><span class="op" id="2458301">(</span><span class="ident" id="2458302"><a href="/reflect/value.go.html#2457694">retOffset</a></span><span class="op" id="2458311">)</span><span class="op" id="2458312">)</span><br>
<span class="lineno">420</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2458316">//&nbsp;For&nbsp;testing;&nbsp;see&nbsp;TestCallMethodJump.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2458357">if</span>&nbsp;<span class="ident" id="2458360"><a href="/reflect/value.go.html#2455722">callGC</a></span>&nbsp;<span class="op" id="2458367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458371"><a href="/reflect/value.go.html#2445898">runtime</a></span><span class="op" id="2458378">.</span><span class="ident" id="2458379">GC</span><span class="op" id="2458381">(</span><span class="op" id="2458382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2458385">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2458389">//&nbsp;Copy&nbsp;return&nbsp;values&nbsp;out&nbsp;of&nbsp;args.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458425">ret</span>&nbsp;<span class="op" id="2458429">:=</span>&nbsp;<span class="builtinfunc" id="2458432">make</span><span class="op" id="2458436">(</span><span class="op" id="2458437">[</span><span class="op" id="2458438">]</span><span class="ident" id="2458439"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2458444">,</span>&nbsp;<span class="ident" id="2458446"><a href="/reflect/value.go.html#2457598">nout</a></span><span class="op" id="2458450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458453"><a href="/reflect/value.go.html#2457766">off</a></span>&nbsp;<span class="op" id="2458457">=</span>&nbsp;<span class="ident" id="2458459"><a href="/reflect/value.go.html#2457694">retOffset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2458470">for</span>&nbsp;<span class="ident" id="2458474">i</span>&nbsp;<span class="op" id="2458476">:=</span>&nbsp;<span class="num" id="2458479">0</span><span class="op" id="2458480">;</span>&nbsp;<span class="ident" id="2458482"><a href="/reflect/value.go.html#2458474">i</a></span>&nbsp;<span class="op" id="2458484">&lt;</span>&nbsp;<span class="ident" id="2458486"><a href="/reflect/value.go.html#2457598">nout</a></span><span class="op" id="2458490">;</span>&nbsp;<span class="ident" id="2458492"><a href="/reflect/value.go.html#2458474">i</a></span><span class="op" id="2458493">++</span>&nbsp;<span class="op" id="2458496">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458500">tv</span>&nbsp;<span class="op" id="2458503">:=</span>&nbsp;<span class="ident" id="2458506"><a href="/reflect/value.go.html#2455860">t</a></span><span class="op" id="2458507">.</span><span class="ident" id="2458508">Out</span><span class="op" id="2458511">(</span><span class="ident" id="2458512"><a href="/reflect/value.go.html#2458474">i</a></span><span class="op" id="2458513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458517">a</span>&nbsp;<span class="op" id="2458519">:=</span>&nbsp;<span class="builtintype" id="2458522">uintptr</span><span class="op" id="2458529">(</span><span class="ident" id="2458530"><a href="/reflect/value.go.html#2458500">tv</a></span><span class="op" id="2458532">.</span><span class="ident" id="2458533">Align</span><span class="op" id="2458538">(</span><span class="op" id="2458539">)</span><span class="op" id="2458540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458544"><a href="/reflect/value.go.html#2457766">off</a></span>&nbsp;<span class="op" id="2458548">=</span>&nbsp;<span class="op" id="2458550">(</span><span class="ident" id="2458551"><a href="/reflect/value.go.html#2457766">off</a></span>&nbsp;<span class="op" id="2458555">+</span>&nbsp;<span class="ident" id="2458557"><a href="/reflect/value.go.html#2458517">a</a></span>&nbsp;<span class="op" id="2458559">-</span>&nbsp;<span class="num" id="2458561">1</span><span class="op" id="2458562">)</span>&nbsp;<span class="op" id="2458564">&amp;^</span>&nbsp;<span class="op" id="2458567">(</span><span class="ident" id="2458568"><a href="/reflect/value.go.html#2458517">a</a></span>&nbsp;<span class="op" id="2458570">-</span>&nbsp;<span class="num" id="2458572">1</span><span class="op" id="2458573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458577">fl</span>&nbsp;<span class="op" id="2458580">:=</span>&nbsp;<span class="ident" id="2458583"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2458593">|</span>&nbsp;<span class="ident" id="2458595"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2458599">(</span><span class="ident" id="2458600"><a href="/reflect/value.go.html#2458500">tv</a></span><span class="op" id="2458602">.</span><span class="ident" id="2458603">Kind</span><span class="op" id="2458607">(</span><span class="op" id="2458608">)</span><span class="op" id="2458609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458613"><a href="/reflect/value.go.html#2458425">ret</a></span><span class="op" id="2458616">[</span><span class="ident" id="2458617"><a href="/reflect/value.go.html#2458474">i</a></span><span class="op" id="2458618">]</span>&nbsp;<span class="op" id="2458620">=</span>&nbsp;<span class="ident" id="2458622"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2458627">{</span><span class="ident" id="2458628"><a href="/reflect/value.go.html#2458500">tv</a></span><span class="op" id="2458630">.</span><span class="ident" id="2458631">common</span><span class="op" id="2458637">(</span><span class="op" id="2458638">)</span><span class="op" id="2458639">,</span>&nbsp;<span class="ident" id="2458641"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2458647">.</span><span class="ident" id="2458648">Pointer</span><span class="op" id="2458655">(</span><span class="builtintype" id="2458656">uintptr</span><span class="op" id="2458663">(</span><span class="ident" id="2458664"><a href="/reflect/value.go.html#2457735">args</a></span><span class="op" id="2458668">)</span>&nbsp;<span class="op" id="2458670">+</span>&nbsp;<span class="ident" id="2458672"><a href="/reflect/value.go.html#2457766">off</a></span><span class="op" id="2458675">)</span><span class="op" id="2458676">,</span>&nbsp;<span class="ident" id="2458678"><a href="/reflect/value.go.html#2458577">fl</a></span><span class="op" id="2458680">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2458684"><a href="/reflect/value.go.html#2457766">off</a></span>&nbsp;<span class="op" id="2458688">+=</span>&nbsp;<span class="ident" id="2458691"><a href="/reflect/value.go.html#2458500">tv</a></span><span class="op" id="2458693">.</span><span class="ident" id="2458694">Size</span><span class="op" id="2458698">(</span><span class="op" id="2458699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2458702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2458706">return</span>&nbsp;<span class="ident" id="2458713"><a href="/reflect/value.go.html#2458425">ret</a></span><br>
<span class="lineno"></span><span class="op" id="2458717">}</span><br>
<span class="lineno">440</span><br>
<span class="lineno"></span><span class="comment" id="2458720">//&nbsp;callReflect&nbsp;is&nbsp;the&nbsp;call&nbsp;implementation&nbsp;used&nbsp;by&nbsp;a&nbsp;function</span><br>
<span class="lineno"></span><span class="comment" id="2458781">//&nbsp;returned&nbsp;by&nbsp;MakeFunc.&nbsp;In&nbsp;many&nbsp;ways&nbsp;it&nbsp;is&nbsp;the&nbsp;opposite&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2458845">//&nbsp;method&nbsp;Value.call&nbsp;above.&nbsp;The&nbsp;method&nbsp;above&nbsp;converts&nbsp;a&nbsp;call&nbsp;using&nbsp;Values</span><br>
<span class="lineno"></span><span class="comment" id="2458919">//&nbsp;into&nbsp;a&nbsp;call&nbsp;of&nbsp;a&nbsp;function&nbsp;with&nbsp;a&nbsp;concrete&nbsp;argument&nbsp;frame,&nbsp;while</span><br>
<span class="lineno">445</span><span class="comment" id="2458986">//&nbsp;callReflect&nbsp;converts&nbsp;a&nbsp;call&nbsp;of&nbsp;a&nbsp;function&nbsp;with&nbsp;a&nbsp;concrete&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="2459056">//&nbsp;frame&nbsp;into&nbsp;a&nbsp;call&nbsp;using&nbsp;Values.</span><br>
<span class="lineno"></span><span class="comment" id="2459091">//&nbsp;It&nbsp;is&nbsp;in&nbsp;this&nbsp;file&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;next&nbsp;to&nbsp;the&nbsp;call&nbsp;method&nbsp;above.</span><br>
<span class="lineno"></span><span class="comment" id="2459162">//&nbsp;The&nbsp;remainder&nbsp;of&nbsp;the&nbsp;MakeFunc&nbsp;implementation&nbsp;is&nbsp;in&nbsp;makefunc.go.</span><br>
<span class="lineno"></span><span class="comment" id="2459229">//</span><br>
<span class="lineno">450</span><span class="comment" id="2459232">//&nbsp;NOTE:&nbsp;This&nbsp;function&nbsp;must&nbsp;be&nbsp;marked&nbsp;as&nbsp;a&nbsp;&#34;wrapper&#34;&nbsp;in&nbsp;the&nbsp;generated&nbsp;code,</span><br>
<span class="lineno"></span><span class="comment" id="2459308">//&nbsp;so&nbsp;that&nbsp;the&nbsp;linker&nbsp;can&nbsp;make&nbsp;it&nbsp;work&nbsp;correctly&nbsp;for&nbsp;panic&nbsp;and&nbsp;recover.</span><br>
<span class="lineno"></span><span class="comment" id="2459380">//&nbsp;The&nbsp;gc&nbsp;compilers&nbsp;know&nbsp;to&nbsp;do&nbsp;that&nbsp;for&nbsp;the&nbsp;name&nbsp;&#34;reflect.callReflect&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="2459452">func</span>&nbsp;<span class="ident" id="2459457">callReflect</span><span class="op" id="2459468">(</span><span class="ident" id="2459469">ctxt</span>&nbsp;<span class="op" id="2459474">*</span><span class="ident" id="2459475"><a href="/reflect/makefunc.go.html#2389353">makeFuncImpl</a></span><span class="op" id="2459487">,</span>&nbsp;<span class="ident" id="2459489">frame</span>&nbsp;<span class="ident" id="2459495"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2459501">.</span><span class="ident" id="2459502">Pointer</span><span class="op" id="2459509">)</span>&nbsp;<span class="op" id="2459511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459514">ftyp</span>&nbsp;<span class="op" id="2459519">:=</span>&nbsp;<span class="ident" id="2459522"><a href="/reflect/value.go.html#2459469">ctxt</a></span><span class="op" id="2459526">.</span><span class="ident" id="2459527">typ</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459532">f</span>&nbsp;<span class="op" id="2459534">:=</span>&nbsp;<span class="ident" id="2459537"><a href="/reflect/value.go.html#2459469">ctxt</a></span><span class="op" id="2459541">.</span><span class="ident" id="2459542">fn</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2459547">//&nbsp;Copy&nbsp;argument&nbsp;frame&nbsp;into&nbsp;Values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459584">ptr</span>&nbsp;<span class="op" id="2459588">:=</span>&nbsp;<span class="ident" id="2459591"><a href="/reflect/value.go.html#2459489">frame</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459598">off</span>&nbsp;<span class="op" id="2459602">:=</span>&nbsp;<span class="builtintype" id="2459605">uintptr</span><span class="op" id="2459612">(</span><span class="num" id="2459613">0</span><span class="op" id="2459614">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459617">in</span>&nbsp;<span class="op" id="2459620">:=</span>&nbsp;<span class="builtinfunc" id="2459623">make</span><span class="op" id="2459627">(</span><span class="op" id="2459628">[</span><span class="op" id="2459629">]</span><span class="ident" id="2459630"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2459635">,</span>&nbsp;<span class="num" id="2459637">0</span><span class="op" id="2459638">,</span>&nbsp;<span class="builtinfunc" id="2459640">len</span><span class="op" id="2459643">(</span><span class="ident" id="2459644"><a href="/reflect/value.go.html#2459514">ftyp</a></span><span class="op" id="2459648">.</span><span class="ident" id="2459649">in</span><span class="op" id="2459651">)</span><span class="op" id="2459652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2459655">for</span>&nbsp;<span class="ident" id="2459659">_</span><span class="op" id="2459660">,</span>&nbsp;<span class="ident" id="2459662">arg</span>&nbsp;<span class="op" id="2459666">:=</span>&nbsp;<span class="keyword" id="2459669">range</span>&nbsp;<span class="ident" id="2459675"><a href="/reflect/value.go.html#2459514">ftyp</a></span><span class="op" id="2459679">.</span><span class="ident" id="2459680">in</span>&nbsp;<span class="op" id="2459683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459687">typ</span>&nbsp;<span class="op" id="2459691">:=</span>&nbsp;<span class="ident" id="2459694"><a href="/reflect/value.go.html#2459662">arg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459700"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2459704">+=</span>&nbsp;<span class="op" id="2459707">-</span><span class="ident" id="2459708"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2459712">&amp;</span>&nbsp;<span class="builtintype" id="2459714">uintptr</span><span class="op" id="2459721">(</span><span class="ident" id="2459722"><a href="/reflect/value.go.html#2459687">typ</a></span><span class="op" id="2459725">.</span><span class="ident" id="2459726">align</span><span class="op" id="2459731">-</span><span class="num" id="2459732">1</span><span class="op" id="2459733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459737">addr</span>&nbsp;<span class="op" id="2459742">:=</span>&nbsp;<span class="ident" id="2459745"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2459751">.</span><span class="ident" id="2459752">Pointer</span><span class="op" id="2459759">(</span><span class="builtintype" id="2459760">uintptr</span><span class="op" id="2459767">(</span><span class="ident" id="2459768"><a href="/reflect/value.go.html#2459584">ptr</a></span><span class="op" id="2459771">)</span>&nbsp;<span class="op" id="2459773">+</span>&nbsp;<span class="ident" id="2459775"><a href="/reflect/value.go.html#2459598">off</a></span><span class="op" id="2459778">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2459782">v</span>&nbsp;<span class="op" id="2459784">:=</span>&nbsp;<span class="ident" id="2459787"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2459792">{</span><span class="ident" id="2459793"><a href="/reflect/value.go.html#2459687">typ</a></span><span class="op" id="2459796">,</span>&nbsp;<span class="ident" id="2459798">nil</span><span class="op" id="2459801">,</span>&nbsp;<span class="ident" id="2459803"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2459807">(</span><span class="ident" id="2459808"><a href="/reflect/value.go.html#2459687">typ</a></span><span class="op" id="2459811">.</span><span class="ident" id="2459812">Kind</span><span class="op" id="2459816">(</span><span class="op" id="2459817">)</span><span class="op" id="2459818">)</span><span class="op" id="2459819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2459823">if</span>&nbsp;<span class="ident" id="2459826"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2459836">(</span><span class="ident" id="2459837"><a href="/reflect/value.go.html#2459687">typ</a></span><span class="op" id="2459840">)</span>&nbsp;<span class="op" id="2459842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2459847">//&nbsp;value&nbsp;cannot&nbsp;be&nbsp;inlined&nbsp;in&nbsp;interface&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2459896">//&nbsp;Must&nbsp;make&nbsp;a&nbsp;copy,&nbsp;because&nbsp;f&nbsp;might&nbsp;keep&nbsp;a&nbsp;reference&nbsp;to&nbsp;it,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2459960">//&nbsp;and&nbsp;we&nbsp;cannot&nbsp;let&nbsp;f&nbsp;keep&nbsp;a&nbsp;reference&nbsp;to&nbsp;the&nbsp;stack&nbsp;frame</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2460022">//&nbsp;after&nbsp;this&nbsp;function&nbsp;returns,&nbsp;not&nbsp;even&nbsp;a&nbsp;read-only&nbsp;reference.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460089"><a href="/reflect/value.go.html#2459782">v</a></span><span class="op" id="2460090">.</span><span class="ident" id="2460091">ptr</span>&nbsp;<span class="op" id="2460095">=</span>&nbsp;<span class="ident" id="2460097"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2460107">(</span><span class="ident" id="2460108"><a href="/reflect/value.go.html#2459687">typ</a></span><span class="op" id="2460111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460116"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2460123">(</span><span class="ident" id="2460124"><a href="/reflect/value.go.html#2459782">v</a></span><span class="op" id="2460125">.</span><span class="ident" id="2460126">ptr</span><span class="op" id="2460129">,</span>&nbsp;<span class="ident" id="2460131"><a href="/reflect/value.go.html#2459737">addr</a></span><span class="op" id="2460135">,</span>&nbsp;<span class="ident" id="2460137"><a href="/reflect/value.go.html#2459687">typ</a></span><span class="op" id="2460140">.</span><span class="ident" id="2460141">size</span><span class="op" id="2460145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460150"><a href="/reflect/value.go.html#2459782">v</a></span><span class="op" id="2460151">.</span><span class="ident" id="2460152">flag</span>&nbsp;<span class="op" id="2460157">|=</span>&nbsp;<span class="ident" id="2460160"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2460172">}</span>&nbsp;<span class="keyword" id="2460174">else</span>&nbsp;<span class="op" id="2460179">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460184"><a href="/reflect/value.go.html#2459782">v</a></span><span class="op" id="2460185">.</span><span class="ident" id="2460186">ptr</span>&nbsp;<span class="op" id="2460190">=</span>&nbsp;<span class="op" id="2460192">*</span><span class="op" id="2460193">(</span><span class="op" id="2460194">*</span><span class="ident" id="2460195"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2460201">.</span><span class="ident" id="2460202">Pointer</span><span class="op" id="2460209">)</span><span class="op" id="2460210">(</span><span class="ident" id="2460211"><a href="/reflect/value.go.html#2459737">addr</a></span><span class="op" id="2460215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2460219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460223"><a href="/reflect/value.go.html#2459617">in</a></span>&nbsp;<span class="op" id="2460226">=</span>&nbsp;<span class="builtinfunc" id="2460228">append</span><span class="op" id="2460234">(</span><span class="ident" id="2460235"><a href="/reflect/value.go.html#2459617">in</a></span><span class="op" id="2460237">,</span>&nbsp;<span class="ident" id="2460239"><a href="/reflect/value.go.html#2459782">v</a></span><span class="op" id="2460240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460244"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2460248">+=</span>&nbsp;<span class="ident" id="2460251"><a href="/reflect/value.go.html#2459687">typ</a></span><span class="op" id="2460254">.</span><span class="ident" id="2460255">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2460261">}</span><br>
<span class="lineno">480</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2460265">//&nbsp;Call&nbsp;underlying&nbsp;function.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460295">out</span>&nbsp;<span class="op" id="2460299">:=</span>&nbsp;<span class="ident" id="2460302"><a href="/reflect/value.go.html#2459532">f</a></span><span class="op" id="2460303">(</span><span class="ident" id="2460304"><a href="/reflect/value.go.html#2459617">in</a></span><span class="op" id="2460306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2460309">if</span>&nbsp;<span class="builtinfunc" id="2460312">len</span><span class="op" id="2460315">(</span><span class="ident" id="2460316"><a href="/reflect/value.go.html#2460295">out</a></span><span class="op" id="2460319">)</span>&nbsp;<span class="op" id="2460321">!=</span>&nbsp;<span class="builtinfunc" id="2460324">len</span><span class="op" id="2460327">(</span><span class="ident" id="2460328"><a href="/reflect/value.go.html#2459514">ftyp</a></span><span class="op" id="2460332">.</span><span class="ident" id="2460333">out</span><span class="op" id="2460336">)</span>&nbsp;<span class="op" id="2460338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2460342">panic</span><span class="op" id="2460347">(</span><span class="string" id="2460348">&#34;reflect:&nbsp;wrong&nbsp;return&nbsp;count&nbsp;from&nbsp;function&nbsp;created&nbsp;by&nbsp;MakeFunc&#34;</span><span class="op" id="2460411">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2460414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2460418">//&nbsp;Copy&nbsp;results&nbsp;back&nbsp;into&nbsp;argument&nbsp;frame.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2460461">if</span>&nbsp;<span class="builtinfunc" id="2460464">len</span><span class="op" id="2460467">(</span><span class="ident" id="2460468"><a href="/reflect/value.go.html#2459514">ftyp</a></span><span class="op" id="2460472">.</span><span class="ident" id="2460473">out</span><span class="op" id="2460476">)</span>&nbsp;<span class="op" id="2460478">&gt;</span>&nbsp;<span class="num" id="2460480">0</span>&nbsp;<span class="op" id="2460482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460486"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2460490">+=</span>&nbsp;<span class="op" id="2460493">-</span><span class="ident" id="2460494"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2460498">&amp;</span>&nbsp;<span class="op" id="2460500">(</span><span class="ident" id="2460501"><a href="/reflect/value.go.html#2445927">ptrSize</a></span>&nbsp;<span class="op" id="2460509">-</span>&nbsp;<span class="num" id="2460511">1</span><span class="op" id="2460512">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2460516">if</span>&nbsp;<span class="ident" id="2460519"><a href="/reflect/value.go.html#2445898">runtime</a></span><span class="op" id="2460526">.</span><span class="ident" id="2460527">GOARCH</span>&nbsp;<span class="op" id="2460534">==</span>&nbsp;<span class="string" id="2460537">&#34;amd64p32&#34;</span>&nbsp;<span class="op" id="2460548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460553"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2460557">=</span>&nbsp;<span class="ident" id="2460559"><a href="/reflect/value.go.html#2463280">align</a></span><span class="op" id="2460564">(</span><span class="ident" id="2460565"><a href="/reflect/value.go.html#2459598">off</a></span><span class="op" id="2460568">,</span>&nbsp;<span class="num" id="2460570">8</span><span class="op" id="2460571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2460575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2460579">for</span>&nbsp;<span class="ident" id="2460583">i</span><span class="op" id="2460584">,</span>&nbsp;<span class="ident" id="2460586">arg</span>&nbsp;<span class="op" id="2460590">:=</span>&nbsp;<span class="keyword" id="2460593">range</span>&nbsp;<span class="ident" id="2460599"><a href="/reflect/value.go.html#2459514">ftyp</a></span><span class="op" id="2460603">.</span><span class="ident" id="2460604">out</span>&nbsp;<span class="op" id="2460608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460613">typ</span>&nbsp;<span class="op" id="2460617">:=</span>&nbsp;<span class="ident" id="2460620"><a href="/reflect/value.go.html#2460586">arg</a></span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460627">v</span>&nbsp;<span class="op" id="2460629">:=</span>&nbsp;<span class="ident" id="2460632"><a href="/reflect/value.go.html#2460295">out</a></span><span class="op" id="2460635">[</span><span class="ident" id="2460636"><a href="/reflect/value.go.html#2460583">i</a></span><span class="op" id="2460637">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2460642">if</span>&nbsp;<span class="ident" id="2460645"><a href="/reflect/value.go.html#2460627">v</a></span><span class="op" id="2460646">.</span><span class="ident" id="2460647">typ</span>&nbsp;<span class="op" id="2460651">!=</span>&nbsp;<span class="ident" id="2460654"><a href="/reflect/value.go.html#2460613">typ</a></span>&nbsp;<span class="op" id="2460658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2460664">panic</span><span class="op" id="2460669">(</span><span class="string" id="2460670">&#34;reflect:&nbsp;function&nbsp;created&nbsp;by&nbsp;MakeFunc&nbsp;using&nbsp;&#34;</span>&nbsp;<span class="op" id="2460717">+</span>&nbsp;<span class="ident" id="2460719"><a href="/reflect/value.go.html#2465158">funcName</a></span><span class="op" id="2460727">(</span><span class="ident" id="2460728"><a href="/reflect/value.go.html#2459532">f</a></span><span class="op" id="2460729">)</span>&nbsp;<span class="op" id="2460731">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2460738">&#34;&nbsp;returned&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;&#34;</span>&nbsp;<span class="op" id="2460768">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460775"><a href="/reflect/value.go.html#2460295">out</a></span><span class="op" id="2460778">[</span><span class="ident" id="2460779"><a href="/reflect/value.go.html#2460583">i</a></span><span class="op" id="2460780">]</span><span class="op" id="2460781">.</span><span class="ident" id="2460782">typ</span><span class="op" id="2460785">.</span><span class="ident" id="2460786">String</span><span class="op" id="2460792">(</span><span class="op" id="2460793">)</span>&nbsp;<span class="op" id="2460795">+</span>&nbsp;<span class="string" id="2460797">&#34;&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="2460805">+</span>&nbsp;<span class="ident" id="2460807"><a href="/reflect/value.go.html#2460613">typ</a></span><span class="op" id="2460810">.</span><span class="ident" id="2460811">String</span><span class="op" id="2460817">(</span><span class="op" id="2460818">)</span><span class="op" id="2460819">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2460824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2460829">if</span>&nbsp;<span class="ident" id="2460832"><a href="/reflect/value.go.html#2460627">v</a></span><span class="op" id="2460833">.</span><span class="ident" id="2460834">flag</span><span class="op" id="2460838">&amp;</span><span class="ident" id="2460839"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2460846">!=</span>&nbsp;<span class="num" id="2460849">0</span>&nbsp;<span class="op" id="2460851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2460857">panic</span><span class="op" id="2460862">(</span><span class="string" id="2460863">&#34;reflect:&nbsp;function&nbsp;created&nbsp;by&nbsp;MakeFunc&nbsp;using&nbsp;&#34;</span>&nbsp;<span class="op" id="2460910">+</span>&nbsp;<span class="ident" id="2460912"><a href="/reflect/value.go.html#2465158">funcName</a></span><span class="op" id="2460920">(</span><span class="ident" id="2460921"><a href="/reflect/value.go.html#2459532">f</a></span><span class="op" id="2460922">)</span>&nbsp;<span class="op" id="2460924">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2460931">&#34;&nbsp;returned&nbsp;value&nbsp;obtained&nbsp;from&nbsp;unexported&nbsp;field&#34;</span><span class="op" id="2460979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2460984">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2460989"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2460993">+=</span>&nbsp;<span class="op" id="2460996">-</span><span class="ident" id="2460997"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2461001">&amp;</span>&nbsp;<span class="builtintype" id="2461003">uintptr</span><span class="op" id="2461010">(</span><span class="ident" id="2461011"><a href="/reflect/value.go.html#2460613">typ</a></span><span class="op" id="2461014">.</span><span class="ident" id="2461015">align</span><span class="op" id="2461020">-</span><span class="num" id="2461021">1</span><span class="op" id="2461022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2461027">addr</span>&nbsp;<span class="op" id="2461032">:=</span>&nbsp;<span class="ident" id="2461035"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2461041">.</span><span class="ident" id="2461042">Pointer</span><span class="op" id="2461049">(</span><span class="builtintype" id="2461050">uintptr</span><span class="op" id="2461057">(</span><span class="ident" id="2461058"><a href="/reflect/value.go.html#2459584">ptr</a></span><span class="op" id="2461061">)</span>&nbsp;<span class="op" id="2461063">+</span>&nbsp;<span class="ident" id="2461065"><a href="/reflect/value.go.html#2459598">off</a></span><span class="op" id="2461068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2461073">if</span>&nbsp;<span class="ident" id="2461076"><a href="/reflect/value.go.html#2460627">v</a></span><span class="op" id="2461077">.</span><span class="ident" id="2461078">flag</span><span class="op" id="2461082">&amp;</span><span class="ident" id="2461083"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2461093">!=</span>&nbsp;<span class="num" id="2461096">0</span>&nbsp;<span class="op" id="2461098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2461104"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2461111">(</span><span class="ident" id="2461112"><a href="/reflect/value.go.html#2461027">addr</a></span><span class="op" id="2461116">,</span>&nbsp;<span class="ident" id="2461118"><a href="/reflect/value.go.html#2460627">v</a></span><span class="op" id="2461119">.</span><span class="ident" id="2461120">ptr</span><span class="op" id="2461123">,</span>&nbsp;<span class="ident" id="2461125"><a href="/reflect/value.go.html#2460613">typ</a></span><span class="op" id="2461128">.</span><span class="ident" id="2461129">size</span><span class="op" id="2461133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2461138">}</span>&nbsp;<span class="keyword" id="2461140">else</span>&nbsp;<span class="op" id="2461145">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2461151">*</span><span class="op" id="2461152">(</span><span class="op" id="2461153">*</span><span class="ident" id="2461154"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2461160">.</span><span class="ident" id="2461161">Pointer</span><span class="op" id="2461168">)</span><span class="op" id="2461169">(</span><span class="ident" id="2461170"><a href="/reflect/value.go.html#2461027">addr</a></span><span class="op" id="2461174">)</span>&nbsp;<span class="op" id="2461176">=</span>&nbsp;<span class="ident" id="2461178"><a href="/reflect/value.go.html#2460627">v</a></span><span class="op" id="2461179">.</span><span class="ident" id="2461180">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2461187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2461192"><a href="/reflect/value.go.html#2459598">off</a></span>&nbsp;<span class="op" id="2461196">+=</span>&nbsp;<span class="ident" id="2461199"><a href="/reflect/value.go.html#2460613">typ</a></span><span class="op" id="2461202">.</span><span class="ident" id="2461203">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2461210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2461213">}</span><br>
<span class="lineno">515</span><span class="op" id="2461215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2461218">//&nbsp;methodReceiver&nbsp;returns&nbsp;information&nbsp;about&nbsp;the&nbsp;receiver</span><br>
<span class="lineno"></span><span class="comment" id="2461275">//&nbsp;described&nbsp;by&nbsp;v.&nbsp;The&nbsp;Value&nbsp;v&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;have&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2461330">//&nbsp;flagMethod&nbsp;bit&nbsp;set,&nbsp;so&nbsp;the&nbsp;kind&nbsp;cached&nbsp;in&nbsp;v.flag&nbsp;should</span><br>
<span class="lineno">520</span><span class="comment" id="2461389">//&nbsp;not&nbsp;be&nbsp;used.</span><br>
<span class="lineno"></span><span class="comment" id="2461405">//&nbsp;The&nbsp;return&nbsp;value&nbsp;rcvrtype&nbsp;gives&nbsp;the&nbsp;method&#39;s&nbsp;actual&nbsp;receiver&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2461475">//&nbsp;The&nbsp;return&nbsp;value&nbsp;t&nbsp;gives&nbsp;the&nbsp;method&nbsp;type&nbsp;signature&nbsp;(without&nbsp;the&nbsp;receiver).</span><br>
<span class="lineno"></span><span class="comment" id="2461553">//&nbsp;The&nbsp;return&nbsp;value&nbsp;fn&nbsp;is&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;method&nbsp;code.</span><br>
<span class="lineno"></span><span class="keyword" id="2461609">func</span>&nbsp;<span class="ident" id="2461614">methodReceiver</span><span class="op" id="2461628">(</span><span class="ident" id="2461629">op</span>&nbsp;<span class="builtintype" id="2461632">string</span><span class="op" id="2461638">,</span>&nbsp;<span class="ident" id="2461640">v</span>&nbsp;<span class="ident" id="2461642"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2461647">,</span>&nbsp;<span class="ident" id="2461649">methodIndex</span>&nbsp;<span class="builtintype" id="2461661">int</span><span class="op" id="2461664">)</span>&nbsp;<span class="op" id="2461666">(</span><span class="ident" id="2461667">rcvrtype</span><span class="op" id="2461675">,</span>&nbsp;<span class="ident" id="2461677">t</span>&nbsp;<span class="op" id="2461679">*</span><span class="ident" id="2461680"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2461685">,</span>&nbsp;<span class="ident" id="2461687">fn</span>&nbsp;<span class="ident" id="2461690"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2461696">.</span><span class="ident" id="2461697">Pointer</span><span class="op" id="2461704">)</span>&nbsp;<span class="op" id="2461706">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2461709">i</span>&nbsp;<span class="op" id="2461711">:=</span>&nbsp;<span class="ident" id="2461714"><a href="/reflect/value.go.html#2461649">methodIndex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2461727">if</span>&nbsp;<span class="ident" id="2461730"><a href="/reflect/value.go.html#2461640">v</a></span><span class="op" id="2461731">.</span><span class="ident" id="2461732">typ</span><span class="op" id="2461735">.</span><span class="ident" id="2461736">Kind</span><span class="op" id="2461740">(</span><span class="op" id="2461741">)</span>&nbsp;<span class="op" id="2461743">==</span>&nbsp;<span class="ident" id="2461746"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2461756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2461760">tt</span>&nbsp;<span class="op" id="2461763">:=</span>&nbsp;<span class="op" id="2461766">(</span><span class="op" id="2461767">*</span><span class="ident" id="2461768"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2461781">)</span><span class="op" id="2461782">(</span><span class="ident" id="2461783"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2461789">.</span><span class="ident" id="2461790">Pointer</span><span class="op" id="2461797">(</span><span class="ident" id="2461798"><a href="/reflect/value.go.html#2461640">v</a></span><span class="op" id="2461799">.</span><span class="ident" id="2461800">typ</span><span class="op" id="2461803">)</span><span class="op" id="2461804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2461808">if</span>&nbsp;<span class="builtintype" id="2461811">uint</span><span class="op" id="2461815">(</span><span class="ident" id="2461816"><a href="/reflect/value.go.html#2461709">i</a></span><span class="op" id="2461817">)</span>&nbsp;<span class="op" id="2461819">&gt;=</span>&nbsp;<span class="builtintype" id="2461822">uint</span><span class="op" id="2461826">(</span><span class="builtinfunc" id="2461827">len</span><span class="op" id="2461830">(</span><span class="ident" id="2461831"><a href="/reflect/value.go.html#2461760">tt</a></span><span class="op" id="2461833">.</span><span class="ident" id="2461834">methods</span><span class="op" id="2461841">)</span><span class="op" id="2461842">)</span>&nbsp;<span class="op" id="2461844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2461849">panic</span><span class="op" id="2461854">(</span><span class="string" id="2461855">&#34;reflect:&nbsp;internal&nbsp;error:&nbsp;invalid&nbsp;method&nbsp;index&#34;</span><span class="op" id="2461902">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2461906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2461910">m</span>&nbsp;<span class="op" id="2461912">:=</span>&nbsp;<span class="op" id="2461915">&amp;</span><span class="ident" id="2461916"><a href="/reflect/value.go.html#2461760">tt</a></span><span class="op" id="2461918">.</span><span class="ident" id="2461919">methods</span><span class="op" id="2461926">[</span><span class="ident" id="2461927"><a href="/reflect/value.go.html#2461709">i</a></span><span class="op" id="2461928">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2461932">if</span>&nbsp;<span class="ident" id="2461935"><a href="/reflect/value.go.html#2461910">m</a></span><span class="op" id="2461936">.</span><span class="ident" id="2461937">pkgPath</span>&nbsp;<span class="op" id="2461945">!=</span>&nbsp;<span class="ident" id="2461948">nil</span>&nbsp;<span class="op" id="2461952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2461957">panic</span><span class="op" id="2461962">(</span><span class="string" id="2461963">&#34;reflect:&nbsp;&#34;</span>&nbsp;<span class="op" id="2461975">+</span>&nbsp;<span class="ident" id="2461977"><a href="/reflect/value.go.html#2461629">op</a></span>&nbsp;<span class="op" id="2461980">+</span>&nbsp;<span class="string" id="2461982">&#34;&nbsp;of&nbsp;unexported&nbsp;method&#34;</span><span class="op" id="2462005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2462009">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462013">iface</span>&nbsp;<span class="op" id="2462019">:=</span>&nbsp;<span class="op" id="2462022">(</span><span class="op" id="2462023">*</span><span class="ident" id="2462024"><a href="/reflect/value.go.html#2451022">nonEmptyInterface</a></span><span class="op" id="2462041">)</span><span class="op" id="2462042">(</span><span class="ident" id="2462043"><a href="/reflect/value.go.html#2461640">v</a></span><span class="op" id="2462044">.</span><span class="ident" id="2462045">ptr</span><span class="op" id="2462048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2462052">if</span>&nbsp;<span class="ident" id="2462055"><a href="/reflect/value.go.html#2462013">iface</a></span><span class="op" id="2462060">.</span><span class="ident" id="2462061">itab</span>&nbsp;<span class="op" id="2462066">==</span>&nbsp;<span class="ident" id="2462069">nil</span>&nbsp;<span class="op" id="2462073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2462078">panic</span><span class="op" id="2462083">(</span><span class="string" id="2462084">&#34;reflect:&nbsp;&#34;</span>&nbsp;<span class="op" id="2462096">+</span>&nbsp;<span class="ident" id="2462098"><a href="/reflect/value.go.html#2461629">op</a></span>&nbsp;<span class="op" id="2462101">+</span>&nbsp;<span class="string" id="2462103">&#34;&nbsp;of&nbsp;method&nbsp;on&nbsp;nil&nbsp;interface&nbsp;value&#34;</span><span class="op" id="2462138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2462142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462146"><a href="/reflect/value.go.html#2461667">rcvrtype</a></span>&nbsp;<span class="op" id="2462155">=</span>&nbsp;<span class="ident" id="2462157"><a href="/reflect/value.go.html#2462013">iface</a></span><span class="op" id="2462162">.</span><span class="ident" id="2462163">itab</span><span class="op" id="2462167">.</span><span class="ident" id="2462168">typ</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462174"><a href="/reflect/value.go.html#2461687">fn</a></span>&nbsp;<span class="op" id="2462177">=</span>&nbsp;<span class="ident" id="2462179"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2462185">.</span><span class="ident" id="2462186">Pointer</span><span class="op" id="2462193">(</span><span class="op" id="2462194">&amp;</span><span class="ident" id="2462195"><a href="/reflect/value.go.html#2462013">iface</a></span><span class="op" id="2462200">.</span><span class="ident" id="2462201">itab</span><span class="op" id="2462205">.</span><span class="ident" id="2462206">fun</span><span class="op" id="2462209">[</span><span class="ident" id="2462210"><a href="/reflect/value.go.html#2461709">i</a></span><span class="op" id="2462211">]</span><span class="op" id="2462212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462216"><a href="/reflect/value.go.html#2461677">t</a></span>&nbsp;<span class="op" id="2462218">=</span>&nbsp;<span class="ident" id="2462220"><a href="/reflect/value.go.html#2461910">m</a></span><span class="op" id="2462221">.</span><span class="ident" id="2462222">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2462227">}</span>&nbsp;<span class="keyword" id="2462229">else</span>&nbsp;<span class="op" id="2462234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462238"><a href="/reflect/value.go.html#2461667">rcvrtype</a></span>&nbsp;<span class="op" id="2462247">=</span>&nbsp;<span class="ident" id="2462249"><a href="/reflect/value.go.html#2461640">v</a></span><span class="op" id="2462250">.</span><span class="ident" id="2462251">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462257">ut</span>&nbsp;<span class="op" id="2462260">:=</span>&nbsp;<span class="ident" id="2462263"><a href="/reflect/value.go.html#2461640">v</a></span><span class="op" id="2462264">.</span><span class="ident" id="2462265">typ</span><span class="op" id="2462268">.</span><span class="ident" id="2462269">uncommon</span><span class="op" id="2462277">(</span><span class="op" id="2462278">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2462282">if</span>&nbsp;<span class="ident" id="2462285"><a href="/reflect/value.go.html#2462257">ut</a></span>&nbsp;<span class="op" id="2462288">==</span>&nbsp;<span class="ident" id="2462291">nil</span>&nbsp;<span class="op" id="2462295">||</span>&nbsp;<span class="builtintype" id="2462298">uint</span><span class="op" id="2462302">(</span><span class="ident" id="2462303"><a href="/reflect/value.go.html#2461709">i</a></span><span class="op" id="2462304">)</span>&nbsp;<span class="op" id="2462306">&gt;=</span>&nbsp;<span class="builtintype" id="2462309">uint</span><span class="op" id="2462313">(</span><span class="builtinfunc" id="2462314">len</span><span class="op" id="2462317">(</span><span class="ident" id="2462318"><a href="/reflect/value.go.html#2462257">ut</a></span><span class="op" id="2462320">.</span><span class="ident" id="2462321">methods</span><span class="op" id="2462328">)</span><span class="op" id="2462329">)</span>&nbsp;<span class="op" id="2462331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2462336">panic</span><span class="op" id="2462341">(</span><span class="string" id="2462342">&#34;reflect:&nbsp;internal&nbsp;error:&nbsp;invalid&nbsp;method&nbsp;index&#34;</span><span class="op" id="2462389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2462393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462397">m</span>&nbsp;<span class="op" id="2462399">:=</span>&nbsp;<span class="op" id="2462402">&amp;</span><span class="ident" id="2462403"><a href="/reflect/value.go.html#2462257">ut</a></span><span class="op" id="2462405">.</span><span class="ident" id="2462406">methods</span><span class="op" id="2462413">[</span><span class="ident" id="2462414"><a href="/reflect/value.go.html#2461709">i</a></span><span class="op" id="2462415">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2462419">if</span>&nbsp;<span class="ident" id="2462422"><a href="/reflect/value.go.html#2462397">m</a></span><span class="op" id="2462423">.</span><span class="ident" id="2462424">pkgPath</span>&nbsp;<span class="op" id="2462432">!=</span>&nbsp;<span class="ident" id="2462435">nil</span>&nbsp;<span class="op" id="2462439">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2462444">panic</span><span class="op" id="2462449">(</span><span class="string" id="2462450">&#34;reflect:&nbsp;&#34;</span>&nbsp;<span class="op" id="2462462">+</span>&nbsp;<span class="ident" id="2462464"><a href="/reflect/value.go.html#2461629">op</a></span>&nbsp;<span class="op" id="2462467">+</span>&nbsp;<span class="string" id="2462469">&#34;&nbsp;of&nbsp;unexported&nbsp;method&#34;</span><span class="op" id="2462492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2462496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462500"><a href="/reflect/value.go.html#2461687">fn</a></span>&nbsp;<span class="op" id="2462503">=</span>&nbsp;<span class="ident" id="2462505"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2462511">.</span><span class="ident" id="2462512">Pointer</span><span class="op" id="2462519">(</span><span class="op" id="2462520">&amp;</span><span class="ident" id="2462521"><a href="/reflect/value.go.html#2462397">m</a></span><span class="op" id="2462522">.</span><span class="ident" id="2462523">ifn</span><span class="op" id="2462526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462530"><a href="/reflect/value.go.html#2461677">t</a></span>&nbsp;<span class="op" id="2462532">=</span>&nbsp;<span class="ident" id="2462534"><a href="/reflect/value.go.html#2462397">m</a></span><span class="op" id="2462535">.</span><span class="ident" id="2462536">mtyp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2462542">}</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2462545">return</span><br>
<span class="lineno"></span><span class="op" id="2462552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2462555">//&nbsp;v&nbsp;is&nbsp;a&nbsp;method&nbsp;receiver.&nbsp;&nbsp;Store&nbsp;at&nbsp;p&nbsp;the&nbsp;word&nbsp;which&nbsp;is&nbsp;used&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2462620">//&nbsp;encode&nbsp;that&nbsp;receiver&nbsp;at&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;argument&nbsp;list.</span><br>
<span class="lineno">560</span><span class="comment" id="2462679">//&nbsp;Reflect&nbsp;uses&nbsp;the&nbsp;&#34;interface&#34;&nbsp;calling&nbsp;convention&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2462734">//&nbsp;methods,&nbsp;which&nbsp;always&nbsp;uses&nbsp;one&nbsp;word&nbsp;to&nbsp;record&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="keyword" id="2462797">func</span>&nbsp;<span class="ident" id="2462802">storeRcvr</span><span class="op" id="2462811">(</span><span class="ident" id="2462812">v</span>&nbsp;<span class="ident" id="2462814"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2462819">,</span>&nbsp;<span class="ident" id="2462821">p</span>&nbsp;<span class="ident" id="2462823"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2462829">.</span><span class="ident" id="2462830">Pointer</span><span class="op" id="2462837">)</span>&nbsp;<span class="op" id="2462839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462842">t</span>&nbsp;<span class="op" id="2462844">:=</span>&nbsp;<span class="ident" id="2462847"><a href="/reflect/value.go.html#2462812">v</a></span><span class="op" id="2462848">.</span><span class="ident" id="2462849">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2462854">if</span>&nbsp;<span class="ident" id="2462857"><a href="/reflect/value.go.html#2462842">t</a></span><span class="op" id="2462858">.</span><span class="ident" id="2462859">Kind</span><span class="op" id="2462863">(</span><span class="op" id="2462864">)</span>&nbsp;<span class="op" id="2462866">==</span>&nbsp;<span class="ident" id="2462869"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2462879">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2462883">//&nbsp;the&nbsp;interface&nbsp;data&nbsp;word&nbsp;becomes&nbsp;the&nbsp;receiver&nbsp;word</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2462938">iface</span>&nbsp;<span class="op" id="2462944">:=</span>&nbsp;<span class="op" id="2462947">(</span><span class="op" id="2462948">*</span><span class="ident" id="2462949"><a href="/reflect/value.go.html#2451022">nonEmptyInterface</a></span><span class="op" id="2462966">)</span><span class="op" id="2462967">(</span><span class="ident" id="2462968"><a href="/reflect/value.go.html#2462812">v</a></span><span class="op" id="2462969">.</span><span class="ident" id="2462970">ptr</span><span class="op" id="2462973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2462977">*</span><span class="op" id="2462978">(</span><span class="op" id="2462979">*</span><span class="ident" id="2462980"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2462986">.</span><span class="ident" id="2462987">Pointer</span><span class="op" id="2462994">)</span><span class="op" id="2462995">(</span><span class="ident" id="2462996"><a href="/reflect/value.go.html#2462821">p</a></span><span class="op" id="2462997">)</span>&nbsp;<span class="op" id="2462999">=</span>&nbsp;<span class="ident" id="2463001"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2463007">.</span><span class="ident" id="2463008">Pointer</span><span class="op" id="2463015">(</span><span class="ident" id="2463016"><a href="/reflect/value.go.html#2462938">iface</a></span><span class="op" id="2463021">.</span><span class="ident" id="2463022">word</span><span class="op" id="2463026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463029">}</span>&nbsp;<span class="keyword" id="2463031">else</span>&nbsp;<span class="keyword" id="2463036">if</span>&nbsp;<span class="ident" id="2463039"><a href="/reflect/value.go.html#2462812">v</a></span><span class="op" id="2463040">.</span><span class="ident" id="2463041">flag</span><span class="op" id="2463045">&amp;</span><span class="ident" id="2463046"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2463056">!=</span>&nbsp;<span class="num" id="2463059">0</span>&nbsp;<span class="op" id="2463061">&amp;&amp;</span>&nbsp;<span class="op" id="2463064">!</span><span class="ident" id="2463065"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2463075">(</span><span class="ident" id="2463076"><a href="/reflect/value.go.html#2462842">t</a></span><span class="op" id="2463077">)</span>&nbsp;<span class="op" id="2463079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463083">*</span><span class="op" id="2463084">(</span><span class="op" id="2463085">*</span><span class="ident" id="2463086"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2463092">.</span><span class="ident" id="2463093">Pointer</span><span class="op" id="2463100">)</span><span class="op" id="2463101">(</span><span class="ident" id="2463102"><a href="/reflect/value.go.html#2462821">p</a></span><span class="op" id="2463103">)</span>&nbsp;<span class="op" id="2463105">=</span>&nbsp;<span class="op" id="2463107">*</span><span class="op" id="2463108">(</span><span class="op" id="2463109">*</span><span class="ident" id="2463110"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2463116">.</span><span class="ident" id="2463117">Pointer</span><span class="op" id="2463124">)</span><span class="op" id="2463125">(</span><span class="ident" id="2463126"><a href="/reflect/value.go.html#2462812">v</a></span><span class="op" id="2463127">.</span><span class="ident" id="2463128">ptr</span><span class="op" id="2463131">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463134">}</span>&nbsp;<span class="keyword" id="2463136">else</span>&nbsp;<span class="op" id="2463141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463145">*</span><span class="op" id="2463146">(</span><span class="op" id="2463147">*</span><span class="ident" id="2463148"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2463154">.</span><span class="ident" id="2463155">Pointer</span><span class="op" id="2463162">)</span><span class="op" id="2463163">(</span><span class="ident" id="2463164"><a href="/reflect/value.go.html#2462821">p</a></span><span class="op" id="2463165">)</span>&nbsp;<span class="op" id="2463167">=</span>&nbsp;<span class="ident" id="2463169"><a href="/reflect/value.go.html#2462812">v</a></span><span class="op" id="2463170">.</span><span class="ident" id="2463171">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2463176">}</span><br>
<span class="lineno"></span><span class="op" id="2463178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="comment" id="2463181">//&nbsp;align&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;rounding&nbsp;x&nbsp;up&nbsp;to&nbsp;a&nbsp;multiple&nbsp;of&nbsp;n.</span><br>
<span class="lineno"></span><span class="comment" id="2463246">//&nbsp;n&nbsp;must&nbsp;be&nbsp;a&nbsp;power&nbsp;of&nbsp;two.</span><br>
<span class="lineno"></span><span class="keyword" id="2463275">func</span>&nbsp;<span class="ident" id="2463280">align</span><span class="op" id="2463285">(</span><span class="ident" id="2463286">x</span><span class="op" id="2463287">,</span>&nbsp;<span class="ident" id="2463289">n</span>&nbsp;<span class="builtintype" id="2463291">uintptr</span><span class="op" id="2463298">)</span>&nbsp;<span class="builtintype" id="2463300">uintptr</span>&nbsp;<span class="op" id="2463308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2463311">return</span>&nbsp;<span class="op" id="2463318">(</span><span class="ident" id="2463319"><a href="/reflect/value.go.html#2463286">x</a></span>&nbsp;<span class="op" id="2463321">+</span>&nbsp;<span class="ident" id="2463323"><a href="/reflect/value.go.html#2463289">n</a></span>&nbsp;<span class="op" id="2463325">-</span>&nbsp;<span class="num" id="2463327">1</span><span class="op" id="2463328">)</span>&nbsp;<span class="op" id="2463330">&amp;^</span>&nbsp;<span class="op" id="2463333">(</span><span class="ident" id="2463334"><a href="/reflect/value.go.html#2463289">n</a></span>&nbsp;<span class="op" id="2463336">-</span>&nbsp;<span class="num" id="2463338">1</span><span class="op" id="2463339">)</span><br>
<span class="lineno"></span><span class="op" id="2463341">}</span><br>
<span class="lineno">580</span><br>
<span class="lineno"></span><span class="comment" id="2463344">//&nbsp;callMethod&nbsp;is&nbsp;the&nbsp;call&nbsp;implementation&nbsp;used&nbsp;by&nbsp;a&nbsp;function&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2463413">//&nbsp;by&nbsp;makeMethodValue&nbsp;(used&nbsp;by&nbsp;v.Method(i).Interface()).</span><br>
<span class="lineno"></span><span class="comment" id="2463470">//&nbsp;It&nbsp;is&nbsp;a&nbsp;streamlined&nbsp;version&nbsp;of&nbsp;the&nbsp;usual&nbsp;reflect&nbsp;call:&nbsp;the&nbsp;caller&nbsp;has</span><br>
<span class="lineno"></span><span class="comment" id="2463543">//&nbsp;already&nbsp;laid&nbsp;out&nbsp;the&nbsp;argument&nbsp;frame&nbsp;for&nbsp;us,&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;have</span><br>
<span class="lineno">585</span><span class="comment" id="2463607">//&nbsp;to&nbsp;deal&nbsp;with&nbsp;individual&nbsp;Values&nbsp;for&nbsp;each&nbsp;argument.</span><br>
<span class="lineno"></span><span class="comment" id="2463660">//&nbsp;It&nbsp;is&nbsp;in&nbsp;this&nbsp;file&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;next&nbsp;to&nbsp;the&nbsp;two&nbsp;similar&nbsp;functions&nbsp;above.</span><br>
<span class="lineno"></span><span class="comment" id="2463741">//&nbsp;The&nbsp;remainder&nbsp;of&nbsp;the&nbsp;makeMethodValue&nbsp;implementation&nbsp;is&nbsp;in&nbsp;makefunc.go.</span><br>
<span class="lineno"></span><span class="comment" id="2463815">//</span><br>
<span class="lineno"></span><span class="comment" id="2463818">//&nbsp;NOTE:&nbsp;This&nbsp;function&nbsp;must&nbsp;be&nbsp;marked&nbsp;as&nbsp;a&nbsp;&#34;wrapper&#34;&nbsp;in&nbsp;the&nbsp;generated&nbsp;code,</span><br>
<span class="lineno">590</span><span class="comment" id="2463894">//&nbsp;so&nbsp;that&nbsp;the&nbsp;linker&nbsp;can&nbsp;make&nbsp;it&nbsp;work&nbsp;correctly&nbsp;for&nbsp;panic&nbsp;and&nbsp;recover.</span><br>
<span class="lineno"></span><span class="comment" id="2463966">//&nbsp;The&nbsp;gc&nbsp;compilers&nbsp;know&nbsp;to&nbsp;do&nbsp;that&nbsp;for&nbsp;the&nbsp;name&nbsp;&#34;reflect.callMethod&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="2464037">func</span>&nbsp;<span class="ident" id="2464042">callMethod</span><span class="op" id="2464052">(</span><span class="ident" id="2464053">ctxt</span>&nbsp;<span class="op" id="2464058">*</span><span class="ident" id="2464059"><a href="/reflect/makefunc.go.html#2391539">methodValue</a></span><span class="op" id="2464070">,</span>&nbsp;<span class="ident" id="2464072">frame</span>&nbsp;<span class="ident" id="2464078"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2464084">.</span><span class="ident" id="2464085">Pointer</span><span class="op" id="2464092">)</span>&nbsp;<span class="op" id="2464094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464097">rcvr</span>&nbsp;<span class="op" id="2464102">:=</span>&nbsp;<span class="ident" id="2464105"><a href="/reflect/value.go.html#2464053">ctxt</a></span><span class="op" id="2464109">.</span><span class="ident" id="2464110">rcvr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464116">rcvrtype</span><span class="op" id="2464124">,</span>&nbsp;<span class="ident" id="2464126">t</span><span class="op" id="2464127">,</span>&nbsp;<span class="ident" id="2464129">fn</span>&nbsp;<span class="op" id="2464132">:=</span>&nbsp;<span class="ident" id="2464135"><a href="/reflect/value.go.html#2461614">methodReceiver</a></span><span class="op" id="2464149">(</span><span class="string" id="2464150">&#34;call&#34;</span><span class="op" id="2464156">,</span>&nbsp;<span class="ident" id="2464158"><a href="/reflect/value.go.html#2464097">rcvr</a></span><span class="op" id="2464162">,</span>&nbsp;<span class="ident" id="2464164"><a href="/reflect/value.go.html#2464053">ctxt</a></span><span class="op" id="2464168">.</span><span class="ident" id="2464169">method</span><span class="op" id="2464175">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464178">frametype</span><span class="op" id="2464187">,</span>&nbsp;<span class="ident" id="2464189">argSize</span><span class="op" id="2464196">,</span>&nbsp;<span class="ident" id="2464198">retOffset</span><span class="op" id="2464207">,</span>&nbsp;<span class="ident" id="2464209">_</span>&nbsp;<span class="op" id="2464211">:=</span>&nbsp;<span class="ident" id="2464214"><a href="/reflect/type.go.html#2442017">funcLayout</a></span><span class="op" id="2464224">(</span><span class="ident" id="2464225"><a href="/reflect/value.go.html#2464126">t</a></span><span class="op" id="2464226">,</span>&nbsp;<span class="ident" id="2464228"><a href="/reflect/value.go.html#2464116">rcvrtype</a></span><span class="op" id="2464236">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464240">//&nbsp;Make&nbsp;a&nbsp;new&nbsp;frame&nbsp;that&nbsp;is&nbsp;one&nbsp;word&nbsp;bigger&nbsp;so&nbsp;we&nbsp;can&nbsp;store&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464315">args</span>&nbsp;<span class="op" id="2464320">:=</span>&nbsp;<span class="ident" id="2464323"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2464333">(</span><span class="ident" id="2464334"><a href="/reflect/value.go.html#2464178">frametype</a></span><span class="op" id="2464343">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464347">//&nbsp;Copy&nbsp;in&nbsp;receiver&nbsp;and&nbsp;rest&nbsp;of&nbsp;args.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464386"><a href="/reflect/value.go.html#2462802">storeRcvr</a></span><span class="op" id="2464395">(</span><span class="ident" id="2464396"><a href="/reflect/value.go.html#2464097">rcvr</a></span><span class="op" id="2464400">,</span>&nbsp;<span class="ident" id="2464402"><a href="/reflect/value.go.html#2464315">args</a></span><span class="op" id="2464406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464409"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2464416">(</span><span class="ident" id="2464417"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2464423">.</span><span class="ident" id="2464424">Pointer</span><span class="op" id="2464431">(</span><span class="builtintype" id="2464432">uintptr</span><span class="op" id="2464439">(</span><span class="ident" id="2464440"><a href="/reflect/value.go.html#2464315">args</a></span><span class="op" id="2464444">)</span><span class="op" id="2464445">+</span><span class="ident" id="2464446"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2464453">)</span><span class="op" id="2464454">,</span>&nbsp;<span class="ident" id="2464456"><a href="/reflect/value.go.html#2464072">frame</a></span><span class="op" id="2464461">,</span>&nbsp;<span class="ident" id="2464463"><a href="/reflect/value.go.html#2464189">argSize</a></span><span class="op" id="2464470">-</span><span class="ident" id="2464471"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2464478">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464482">//&nbsp;Call.</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464492"><a href="/reflect/value.go.html#2516232">call</a></span><span class="op" id="2464496">(</span><span class="ident" id="2464497"><a href="/reflect/value.go.html#2464129">fn</a></span><span class="op" id="2464499">,</span>&nbsp;<span class="ident" id="2464501"><a href="/reflect/value.go.html#2464315">args</a></span><span class="op" id="2464505">,</span>&nbsp;<span class="builtintype" id="2464507">uint32</span><span class="op" id="2464513">(</span><span class="ident" id="2464514"><a href="/reflect/value.go.html#2464178">frametype</a></span><span class="op" id="2464523">.</span><span class="ident" id="2464524">size</span><span class="op" id="2464528">)</span><span class="op" id="2464529">,</span>&nbsp;<span class="builtintype" id="2464531">uint32</span><span class="op" id="2464537">(</span><span class="ident" id="2464538"><a href="/reflect/value.go.html#2464198">retOffset</a></span><span class="op" id="2464547">)</span><span class="op" id="2464548">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464552">//&nbsp;Copy&nbsp;return&nbsp;values.&nbsp;On&nbsp;amd64p32,&nbsp;the&nbsp;beginning&nbsp;of&nbsp;return&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464620">//&nbsp;is&nbsp;64-bit&nbsp;aligned,&nbsp;so&nbsp;the&nbsp;caller&#39;s&nbsp;frame&nbsp;layout&nbsp;(which&nbsp;doesn&#39;t&nbsp;have</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464692">//&nbsp;a&nbsp;receiver)&nbsp;is&nbsp;different&nbsp;from&nbsp;the&nbsp;layout&nbsp;of&nbsp;the&nbsp;fn&nbsp;call,&nbsp;which&nbsp;has</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464763">//&nbsp;a&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2464779">//&nbsp;Ignore&nbsp;any&nbsp;changes&nbsp;to&nbsp;args&nbsp;and&nbsp;just&nbsp;copy&nbsp;return&nbsp;values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464839">callerRetOffset</span>&nbsp;<span class="op" id="2464855">:=</span>&nbsp;<span class="ident" id="2464858"><a href="/reflect/value.go.html#2464198">retOffset</a></span>&nbsp;<span class="op" id="2464868">-</span>&nbsp;<span class="ident" id="2464870"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2464879">if</span>&nbsp;<span class="ident" id="2464882"><a href="/reflect/value.go.html#2445898">runtime</a></span><span class="op" id="2464889">.</span><span class="ident" id="2464890">GOARCH</span>&nbsp;<span class="op" id="2464897">==</span>&nbsp;<span class="string" id="2464900">&#34;amd64p32&#34;</span>&nbsp;<span class="op" id="2464911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464915"><a href="/reflect/value.go.html#2464839">callerRetOffset</a></span>&nbsp;<span class="op" id="2464931">=</span>&nbsp;<span class="ident" id="2464933"><a href="/reflect/value.go.html#2463280">align</a></span><span class="op" id="2464938">(</span><span class="ident" id="2464939"><a href="/reflect/value.go.html#2464189">argSize</a></span><span class="op" id="2464946">-</span><span class="ident" id="2464947"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2464954">,</span>&nbsp;<span class="num" id="2464956">8</span><span class="op" id="2464957">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2464960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2464963"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2464970">(</span><span class="ident" id="2464971"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2464977">.</span><span class="ident" id="2464978">Pointer</span><span class="op" id="2464985">(</span><span class="builtintype" id="2464986">uintptr</span><span class="op" id="2464993">(</span><span class="ident" id="2464994"><a href="/reflect/value.go.html#2464072">frame</a></span><span class="op" id="2464999">)</span><span class="op" id="2465000">+</span><span class="ident" id="2465001"><a href="/reflect/value.go.html#2464839">callerRetOffset</a></span><span class="op" id="2465016">)</span><span class="op" id="2465017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465021"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2465027">.</span><span class="ident" id="2465028">Pointer</span><span class="op" id="2465035">(</span><span class="builtintype" id="2465036">uintptr</span><span class="op" id="2465043">(</span><span class="ident" id="2465044"><a href="/reflect/value.go.html#2464315">args</a></span><span class="op" id="2465048">)</span><span class="op" id="2465049">+</span><span class="ident" id="2465050"><a href="/reflect/value.go.html#2464198">retOffset</a></span><span class="op" id="2465059">)</span><span class="op" id="2465060">,</span>&nbsp;<span class="ident" id="2465062"><a href="/reflect/value.go.html#2464178">frametype</a></span><span class="op" id="2465071">.</span><span class="ident" id="2465072">size</span><span class="op" id="2465076">-</span><span class="ident" id="2465077"><a href="/reflect/value.go.html#2464198">retOffset</a></span><span class="op" id="2465086">)</span><br>
<span class="lineno"></span><span class="op" id="2465088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">620</span><span class="comment" id="2465091">//&nbsp;funcName&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;f,&nbsp;for&nbsp;use&nbsp;in&nbsp;error&nbsp;messages.</span><br>
<span class="lineno"></span><span class="keyword" id="2465153">func</span>&nbsp;<span class="ident" id="2465158">funcName</span><span class="op" id="2465166">(</span><span class="ident" id="2465167">f</span>&nbsp;<span class="keyword" id="2465169">func</span><span class="op" id="2465173">(</span><span class="op" id="2465174">[</span><span class="op" id="2465175">]</span><span class="ident" id="2465176"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2465181">)</span>&nbsp;<span class="op" id="2465183">[</span><span class="op" id="2465184">]</span><span class="ident" id="2465185"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2465190">)</span>&nbsp;<span class="builtintype" id="2465192">string</span>&nbsp;<span class="op" id="2465199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465202">pc</span>&nbsp;<span class="op" id="2465205">:=</span>&nbsp;<span class="op" id="2465208">*</span><span class="op" id="2465209">(</span><span class="op" id="2465210">*</span><span class="builtintype" id="2465211">uintptr</span><span class="op" id="2465218">)</span><span class="op" id="2465219">(</span><span class="ident" id="2465220"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2465226">.</span><span class="ident" id="2465227">Pointer</span><span class="op" id="2465234">(</span><span class="op" id="2465235">&amp;</span><span class="ident" id="2465236"><a href="/reflect/value.go.html#2465167">f</a></span><span class="op" id="2465237">)</span><span class="op" id="2465238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465241">rf</span>&nbsp;<span class="op" id="2465244">:=</span>&nbsp;<span class="ident" id="2465247"><a href="/reflect/value.go.html#2445898">runtime</a></span><span class="op" id="2465254">.</span><span class="ident" id="2465255">FuncForPC</span><span class="op" id="2465264">(</span><span class="ident" id="2465265"><a href="/reflect/value.go.html#2465202">pc</a></span><span class="op" id="2465267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465270">if</span>&nbsp;<span class="ident" id="2465273"><a href="/reflect/value.go.html#2465241">rf</a></span>&nbsp;<span class="op" id="2465276">!=</span>&nbsp;<span class="ident" id="2465279">nil</span>&nbsp;<span class="op" id="2465283">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465287">return</span>&nbsp;<span class="ident" id="2465294"><a href="/reflect/value.go.html#2465241">rf</a></span><span class="op" id="2465296">.</span><span class="ident" id="2465297">Name</span><span class="op" id="2465301">(</span><span class="op" id="2465302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465308">return</span>&nbsp;<span class="string" id="2465315">&#34;closure&#34;</span><br>
<span class="lineno"></span><span class="op" id="2465325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="comment" id="2465328">//&nbsp;Cap&nbsp;returns&nbsp;v&#39;s&nbsp;capacity.</span><br>
<span class="lineno"></span><span class="comment" id="2465357">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array,&nbsp;Chan,&nbsp;or&nbsp;Slice.</span><br>
<span class="lineno"></span><span class="keyword" id="2465412">func</span>&nbsp;<span class="op" id="2465417">(</span><span class="ident" id="2465418">v</span>&nbsp;<span class="ident" id="2465420"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2465425">)</span>&nbsp;<span class="ident" id="2465427">Cap</span><span class="op" id="2465430">(</span><span class="op" id="2465431">)</span>&nbsp;<span class="builtintype" id="2465433">int</span>&nbsp;<span class="op" id="2465437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465440">k</span>&nbsp;<span class="op" id="2465442">:=</span>&nbsp;<span class="ident" id="2465445"><a href="/reflect/value.go.html#2465418">v</a></span><span class="op" id="2465446">.</span><span class="ident" id="2465447">kind</span><span class="op" id="2465451">(</span><span class="op" id="2465452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465455">switch</span>&nbsp;<span class="ident" id="2465462"><a href="/reflect/value.go.html#2465440">k</a></span>&nbsp;<span class="op" id="2465464">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465467">case</span>&nbsp;<span class="ident" id="2465472"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2465477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465481">return</span>&nbsp;<span class="ident" id="2465488"><a href="/reflect/value.go.html#2465418">v</a></span><span class="op" id="2465489">.</span><span class="ident" id="2465490">typ</span><span class="op" id="2465493">.</span><span class="ident" id="2465494">Len</span><span class="op" id="2465497">(</span><span class="op" id="2465498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465501">case</span>&nbsp;<span class="ident" id="2465506"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2465510">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465514">return</span>&nbsp;<span class="builtintype" id="2465521">int</span><span class="op" id="2465524">(</span><span class="ident" id="2465525"><a href="/reflect/value.go.html#2515418">chancap</a></span><span class="op" id="2465532">(</span><span class="ident" id="2465533"><a href="/reflect/value.go.html#2465418">v</a></span><span class="op" id="2465534">.</span><span class="ident" id="2465535">pointer</span><span class="op" id="2465542">(</span><span class="op" id="2465543">)</span><span class="op" id="2465544">)</span><span class="op" id="2465545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465548">case</span>&nbsp;<span class="ident" id="2465553"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2465558">:</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2465562">//&nbsp;Slice&nbsp;is&nbsp;always&nbsp;bigger&nbsp;than&nbsp;a&nbsp;word;&nbsp;assume&nbsp;flagIndir.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2465621">return</span>&nbsp;<span class="op" id="2465628">(</span><span class="op" id="2465629">*</span><span class="ident" id="2465630"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2465641">)</span><span class="op" id="2465642">(</span><span class="ident" id="2465643"><a href="/reflect/value.go.html#2465418">v</a></span><span class="op" id="2465644">.</span><span class="ident" id="2465645">ptr</span><span class="op" id="2465648">)</span><span class="op" id="2465649">.</span><span class="ident" id="2465650">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2465655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2465658">panic</span><span class="op" id="2465663">(</span><span class="op" id="2465664">&amp;</span><span class="ident" id="2465665"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2465675">{</span><span class="string" id="2465676">&#34;reflect.Value.Cap&#34;</span><span class="op" id="2465695">,</span>&nbsp;<span class="ident" id="2465697"><a href="/reflect/value.go.html#2465418">v</a></span><span class="op" id="2465698">.</span><span class="ident" id="2465699">kind</span><span class="op" id="2465703">(</span><span class="op" id="2465704">)</span><span class="op" id="2465705">}</span><span class="op" id="2465706">)</span><br>
<span class="lineno"></span><span class="op" id="2465708">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="comment" id="2465711">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;channel&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="2465742">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Chan.</span><br>
<span class="lineno"></span><span class="keyword" id="2465780">func</span>&nbsp;<span class="op" id="2465785">(</span><span class="ident" id="2465786">v</span>&nbsp;<span class="ident" id="2465788"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2465793">)</span>&nbsp;<span class="ident" id="2465795">Close</span><span class="op" id="2465800">(</span><span class="op" id="2465801">)</span>&nbsp;<span class="op" id="2465803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465806"><a href="/reflect/value.go.html#2465786">v</a></span><span class="op" id="2465807">.</span><span class="ident" id="2465808">mustBe</span><span class="op" id="2465814">(</span><span class="ident" id="2465815"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2465819">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465822"><a href="/reflect/value.go.html#2465786">v</a></span><span class="op" id="2465823">.</span><span class="ident" id="2465824">mustBeExported</span><span class="op" id="2465838">(</span><span class="op" id="2465839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2465842"><a href="/reflect/value.go.html#2515454">chanclose</a></span><span class="op" id="2465851">(</span><span class="ident" id="2465852"><a href="/reflect/value.go.html#2465786">v</a></span><span class="op" id="2465853">.</span><span class="ident" id="2465854">pointer</span><span class="op" id="2465861">(</span><span class="op" id="2465862">)</span><span class="op" id="2465863">)</span><br>
<span class="lineno"></span><span class="op" id="2465865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2465868">//&nbsp;Complex&nbsp;returns&nbsp;v&#39;s&nbsp;underlying&nbsp;value,&nbsp;as&nbsp;a&nbsp;complex128.</span><br>
<span class="lineno">655</span><span class="comment" id="2465926">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Complex64&nbsp;or&nbsp;Complex128</span><br>
<span class="lineno"></span><span class="keyword" id="2465982">func</span>&nbsp;<span class="op" id="2465987">(</span><span class="ident" id="2465988">v</span>&nbsp;<span class="ident" id="2465990"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2465995">)</span>&nbsp;<span class="ident" id="2465997">Complex</span><span class="op" id="2466004">(</span><span class="op" id="2466005">)</span>&nbsp;<span class="builtintype" id="2466007">complex128</span>&nbsp;<span class="op" id="2466018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466021">k</span>&nbsp;<span class="op" id="2466023">:=</span>&nbsp;<span class="ident" id="2466026"><a href="/reflect/value.go.html#2465988">v</a></span><span class="op" id="2466027">.</span><span class="ident" id="2466028">kind</span><span class="op" id="2466032">(</span><span class="op" id="2466033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466036">switch</span>&nbsp;<span class="ident" id="2466043"><a href="/reflect/value.go.html#2466021">k</a></span>&nbsp;<span class="op" id="2466045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466048">case</span>&nbsp;<span class="ident" id="2466053"><a href="/reflect/type.go.html#2401327">Complex64</a></span><span class="op" id="2466062">:</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466066">return</span>&nbsp;<span class="builtintype" id="2466073">complex128</span><span class="op" id="2466083">(</span><span class="op" id="2466084">*</span><span class="op" id="2466085">(</span><span class="op" id="2466086">*</span><span class="builtintype" id="2466087">complex64</span><span class="op" id="2466096">)</span><span class="op" id="2466097">(</span><span class="ident" id="2466098"><a href="/reflect/value.go.html#2465988">v</a></span><span class="op" id="2466099">.</span><span class="ident" id="2466100">ptr</span><span class="op" id="2466103">)</span><span class="op" id="2466104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466107">case</span>&nbsp;<span class="ident" id="2466112"><a href="/reflect/type.go.html#2401338">Complex128</a></span><span class="op" id="2466122">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466126">return</span>&nbsp;<span class="op" id="2466133">*</span><span class="op" id="2466134">(</span><span class="op" id="2466135">*</span><span class="builtintype" id="2466136">complex128</span><span class="op" id="2466146">)</span><span class="op" id="2466147">(</span><span class="ident" id="2466148"><a href="/reflect/value.go.html#2465988">v</a></span><span class="op" id="2466149">.</span><span class="ident" id="2466150">ptr</span><span class="op" id="2466153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2466159">panic</span><span class="op" id="2466164">(</span><span class="op" id="2466165">&amp;</span><span class="ident" id="2466166"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2466176">{</span><span class="string" id="2466177">&#34;reflect.Value.Complex&#34;</span><span class="op" id="2466200">,</span>&nbsp;<span class="ident" id="2466202"><a href="/reflect/value.go.html#2465988">v</a></span><span class="op" id="2466203">.</span><span class="ident" id="2466204">kind</span><span class="op" id="2466208">(</span><span class="op" id="2466209">)</span><span class="op" id="2466210">}</span><span class="op" id="2466211">)</span><br>
<span class="lineno">665</span><span class="op" id="2466213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2466216">//&nbsp;Elem&nbsp;returns&nbsp;the&nbsp;value&nbsp;that&nbsp;the&nbsp;interface&nbsp;v&nbsp;contains</span><br>
<span class="lineno"></span><span class="comment" id="2466272">//&nbsp;or&nbsp;that&nbsp;the&nbsp;pointer&nbsp;v&nbsp;points&nbsp;to.</span><br>
<span class="lineno"></span><span class="comment" id="2466308">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Interface&nbsp;or&nbsp;Ptr.</span><br>
<span class="lineno">670</span><span class="comment" id="2466358">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;v&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2466400">func</span>&nbsp;<span class="op" id="2466405">(</span><span class="ident" id="2466406">v</span>&nbsp;<span class="ident" id="2466408"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2466413">)</span>&nbsp;<span class="ident" id="2466415">Elem</span><span class="op" id="2466419">(</span><span class="op" id="2466420">)</span>&nbsp;<span class="ident" id="2466422"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2466428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466431">k</span>&nbsp;<span class="op" id="2466433">:=</span>&nbsp;<span class="ident" id="2466436"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466437">.</span><span class="ident" id="2466438">kind</span><span class="op" id="2466442">(</span><span class="op" id="2466443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466446">switch</span>&nbsp;<span class="ident" id="2466453"><a href="/reflect/value.go.html#2466431">k</a></span>&nbsp;<span class="op" id="2466455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466458">case</span>&nbsp;<span class="ident" id="2466463"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2466472">:</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466476">var</span>&nbsp;<span class="ident" id="2466480">eface</span>&nbsp;<span class="keyword" id="2466486">interface</span><span class="op" id="2466495">{</span><span class="op" id="2466496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466500">if</span>&nbsp;<span class="ident" id="2466503"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466504">.</span><span class="ident" id="2466505">typ</span><span class="op" id="2466508">.</span><span class="ident" id="2466509">NumMethod</span><span class="op" id="2466518">(</span><span class="op" id="2466519">)</span>&nbsp;<span class="op" id="2466521">==</span>&nbsp;<span class="num" id="2466524">0</span>&nbsp;<span class="op" id="2466526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466531"><a href="/reflect/value.go.html#2466480">eface</a></span>&nbsp;<span class="op" id="2466537">=</span>&nbsp;<span class="op" id="2466539">*</span><span class="op" id="2466540">(</span><span class="op" id="2466541">*</span><span class="keyword" id="2466542">interface</span><span class="op" id="2466551">{</span><span class="op" id="2466552">}</span><span class="op" id="2466553">)</span><span class="op" id="2466554">(</span><span class="ident" id="2466555"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466556">.</span><span class="ident" id="2466557">ptr</span><span class="op" id="2466560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466564">}</span>&nbsp;<span class="keyword" id="2466566">else</span>&nbsp;<span class="op" id="2466571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466576"><a href="/reflect/value.go.html#2466480">eface</a></span>&nbsp;<span class="op" id="2466582">=</span>&nbsp;<span class="op" id="2466584">(</span><span class="keyword" id="2466585">interface</span><span class="op" id="2466594">{</span><span class="op" id="2466595">}</span><span class="op" id="2466596">)</span><span class="op" id="2466597">(</span><span class="op" id="2466598">*</span><span class="op" id="2466599">(</span><span class="op" id="2466600">*</span><span class="keyword" id="2466601">interface</span>&nbsp;<span class="op" id="2466611">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466617">M</span><span class="op" id="2466618">(</span><span class="op" id="2466619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466624">}</span><span class="op" id="2466625">)</span><span class="op" id="2466626">(</span><span class="ident" id="2466627"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466628">.</span><span class="ident" id="2466629">ptr</span><span class="op" id="2466632">)</span><span class="op" id="2466633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466641">x</span>&nbsp;<span class="op" id="2466643">:=</span>&nbsp;<span class="ident" id="2466646"><a href="/reflect/value.go.html#2449846">unpackEface</a></span><span class="op" id="2466657">(</span><span class="ident" id="2466658"><a href="/reflect/value.go.html#2466480">eface</a></span><span class="op" id="2466663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466667">if</span>&nbsp;<span class="ident" id="2466670"><a href="/reflect/value.go.html#2466641">x</a></span><span class="op" id="2466671">.</span><span class="ident" id="2466672">flag</span>&nbsp;<span class="op" id="2466677">!=</span>&nbsp;<span class="num" id="2466680">0</span>&nbsp;<span class="op" id="2466682">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466687"><a href="/reflect/value.go.html#2466641">x</a></span><span class="op" id="2466688">.</span><span class="ident" id="2466689">flag</span>&nbsp;<span class="op" id="2466694">|=</span>&nbsp;<span class="ident" id="2466697"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466698">.</span><span class="ident" id="2466699">flag</span>&nbsp;<span class="op" id="2466704">&amp;</span>&nbsp;<span class="ident" id="2466706"><a href="/reflect/value.go.html#2448132">flagRO</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466719">return</span>&nbsp;<span class="ident" id="2466726"><a href="/reflect/value.go.html#2466641">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466729">case</span>&nbsp;<span class="ident" id="2466734"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2466737">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466741">ptr</span>&nbsp;<span class="op" id="2466745">:=</span>&nbsp;<span class="ident" id="2466748"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466749">.</span><span class="ident" id="2466750">ptr</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466756">if</span>&nbsp;<span class="ident" id="2466759"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466760">.</span><span class="ident" id="2466761">flag</span><span class="op" id="2466765">&amp;</span><span class="ident" id="2466766"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2466776">!=</span>&nbsp;<span class="num" id="2466779">0</span>&nbsp;<span class="op" id="2466781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466786"><a href="/reflect/value.go.html#2466741">ptr</a></span>&nbsp;<span class="op" id="2466790">=</span>&nbsp;<span class="op" id="2466792">*</span><span class="op" id="2466793">(</span><span class="op" id="2466794">*</span><span class="ident" id="2466795"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2466801">.</span><span class="ident" id="2466802">Pointer</span><span class="op" id="2466809">)</span><span class="op" id="2466810">(</span><span class="ident" id="2466811"><a href="/reflect/value.go.html#2466741">ptr</a></span><span class="op" id="2466814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2466822">//&nbsp;The&nbsp;returned&nbsp;value&#39;s&nbsp;address&nbsp;is&nbsp;v&#39;s&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466870">if</span>&nbsp;<span class="ident" id="2466873"><a href="/reflect/value.go.html#2466741">ptr</a></span>&nbsp;<span class="op" id="2466877">==</span>&nbsp;<span class="ident" id="2466880">nil</span>&nbsp;<span class="op" id="2466884">{</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2466889">return</span>&nbsp;<span class="ident" id="2466896"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2466901">{</span><span class="op" id="2466902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2466906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466910">tt</span>&nbsp;<span class="op" id="2466913">:=</span>&nbsp;<span class="op" id="2466916">(</span><span class="op" id="2466917">*</span><span class="ident" id="2466918"><a href="/reflect/type.go.html#2405451">ptrType</a></span><span class="op" id="2466925">)</span><span class="op" id="2466926">(</span><span class="ident" id="2466927"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2466933">.</span><span class="ident" id="2466934">Pointer</span><span class="op" id="2466941">(</span><span class="ident" id="2466942"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466943">.</span><span class="ident" id="2466944">typ</span><span class="op" id="2466947">)</span><span class="op" id="2466948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466952">typ</span>&nbsp;<span class="op" id="2466956">:=</span>&nbsp;<span class="ident" id="2466959"><a href="/reflect/value.go.html#2466910">tt</a></span><span class="op" id="2466961">.</span><span class="ident" id="2466962">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2466969">fl</span>&nbsp;<span class="op" id="2466972">:=</span>&nbsp;<span class="ident" id="2466975"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2466976">.</span><span class="ident" id="2466977">flag</span><span class="op" id="2466981">&amp;</span><span class="ident" id="2466982"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2466989">|</span>&nbsp;<span class="ident" id="2466991"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2467001">|</span>&nbsp;<span class="ident" id="2467003"><a href="/reflect/value.go.html#2448194">flagAddr</a></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467014"><a href="/reflect/value.go.html#2466969">fl</a></span>&nbsp;<span class="op" id="2467017">|=</span>&nbsp;<span class="ident" id="2467020"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2467024">(</span><span class="ident" id="2467025"><a href="/reflect/value.go.html#2466952">typ</a></span><span class="op" id="2467028">.</span><span class="ident" id="2467029">Kind</span><span class="op" id="2467033">(</span><span class="op" id="2467034">)</span><span class="op" id="2467035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2467039">return</span>&nbsp;<span class="ident" id="2467046"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2467051">{</span><span class="ident" id="2467052"><a href="/reflect/value.go.html#2466952">typ</a></span><span class="op" id="2467055">,</span>&nbsp;<span class="ident" id="2467057"><a href="/reflect/value.go.html#2466741">ptr</a></span><span class="op" id="2467060">,</span>&nbsp;<span class="ident" id="2467062"><a href="/reflect/value.go.html#2466969">fl</a></span><span class="op" id="2467064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2467067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2467070">panic</span><span class="op" id="2467075">(</span><span class="op" id="2467076">&amp;</span><span class="ident" id="2467077"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2467087">{</span><span class="string" id="2467088">&#34;reflect.Value.Elem&#34;</span><span class="op" id="2467108">,</span>&nbsp;<span class="ident" id="2467110"><a href="/reflect/value.go.html#2466406">v</a></span><span class="op" id="2467111">.</span><span class="ident" id="2467112">kind</span><span class="op" id="2467116">(</span><span class="op" id="2467117">)</span><span class="op" id="2467118">}</span><span class="op" id="2467119">)</span><br>
<span class="lineno"></span><span class="op" id="2467121">}</span><br>
<span class="lineno">705</span><br>
<span class="lineno"></span><span class="comment" id="2467124">//&nbsp;Field&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="2467173">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct&nbsp;or&nbsp;i&nbsp;is&nbsp;out&nbsp;of&nbsp;range.</span><br>
<span class="lineno"></span><span class="keyword" id="2467234">func</span>&nbsp;<span class="op" id="2467239">(</span><span class="ident" id="2467240">v</span>&nbsp;<span class="ident" id="2467242"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2467247">)</span>&nbsp;<span class="ident" id="2467249">Field</span><span class="op" id="2467254">(</span><span class="ident" id="2467255">i</span>&nbsp;<span class="builtintype" id="2467257">int</span><span class="op" id="2467260">)</span>&nbsp;<span class="ident" id="2467262"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2467268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2467271">if</span>&nbsp;<span class="ident" id="2467274"><a href="/reflect/value.go.html#2467240">v</a></span><span class="op" id="2467275">.</span><span class="ident" id="2467276">kind</span><span class="op" id="2467280">(</span><span class="op" id="2467281">)</span>&nbsp;<span class="op" id="2467283">!=</span>&nbsp;<span class="ident" id="2467286"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2467293">{</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2467297">panic</span><span class="op" id="2467302">(</span><span class="op" id="2467303">&amp;</span><span class="ident" id="2467304"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2467314">{</span><span class="string" id="2467315">&#34;reflect.Value.Field&#34;</span><span class="op" id="2467336">,</span>&nbsp;<span class="ident" id="2467338"><a href="/reflect/value.go.html#2467240">v</a></span><span class="op" id="2467339">.</span><span class="ident" id="2467340">kind</span><span class="op" id="2467344">(</span><span class="op" id="2467345">)</span><span class="op" id="2467346">}</span><span class="op" id="2467347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2467350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467353">tt</span>&nbsp;<span class="op" id="2467356">:=</span>&nbsp;<span class="op" id="2467359">(</span><span class="op" id="2467360">*</span><span class="ident" id="2467361"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2467371">)</span><span class="op" id="2467372">(</span><span class="ident" id="2467373"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2467379">.</span><span class="ident" id="2467380">Pointer</span><span class="op" id="2467387">(</span><span class="ident" id="2467388"><a href="/reflect/value.go.html#2467240">v</a></span><span class="op" id="2467389">.</span><span class="ident" id="2467390">typ</span><span class="op" id="2467393">)</span><span class="op" id="2467394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2467397">if</span>&nbsp;<span class="builtintype" id="2467400">uint</span><span class="op" id="2467404">(</span><span class="ident" id="2467405"><a href="/reflect/value.go.html#2467255">i</a></span><span class="op" id="2467406">)</span>&nbsp;<span class="op" id="2467408">&gt;=</span>&nbsp;<span class="builtintype" id="2467411">uint</span><span class="op" id="2467415">(</span><span class="builtinfunc" id="2467416">len</span><span class="op" id="2467419">(</span><span class="ident" id="2467420"><a href="/reflect/value.go.html#2467353">tt</a></span><span class="op" id="2467422">.</span><span class="ident" id="2467423">fields</span><span class="op" id="2467429">)</span><span class="op" id="2467430">)</span>&nbsp;<span class="op" id="2467432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2467436">panic</span><span class="op" id="2467441">(</span><span class="string" id="2467442">&#34;reflect:&nbsp;Field&nbsp;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2467477">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2467480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467483">field</span>&nbsp;<span class="op" id="2467489">:=</span>&nbsp;<span class="op" id="2467492">&amp;</span><span class="ident" id="2467493"><a href="/reflect/value.go.html#2467353">tt</a></span><span class="op" id="2467495">.</span><span class="ident" id="2467496">fields</span><span class="op" id="2467502">[</span><span class="ident" id="2467503"><a href="/reflect/value.go.html#2467255">i</a></span><span class="op" id="2467504">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467507">typ</span>&nbsp;<span class="op" id="2467511">:=</span>&nbsp;<span class="ident" id="2467514"><a href="/reflect/value.go.html#2467483">field</a></span><span class="op" id="2467519">.</span><span class="ident" id="2467520">typ</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467526">//&nbsp;Inherit&nbsp;permission&nbsp;bits&nbsp;from&nbsp;v.</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467562">fl</span>&nbsp;<span class="op" id="2467565">:=</span>&nbsp;<span class="ident" id="2467568"><a href="/reflect/value.go.html#2467240">v</a></span><span class="op" id="2467569">.</span><span class="ident" id="2467570">flag</span><span class="op" id="2467574">&amp;</span><span class="op" id="2467575">(</span><span class="ident" id="2467576"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2467582">|</span><span class="ident" id="2467583"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><span class="op" id="2467592">|</span><span class="ident" id="2467593"><a href="/reflect/value.go.html#2448194">flagAddr</a></span><span class="op" id="2467601">)</span>&nbsp;<span class="op" id="2467603">|</span>&nbsp;<span class="ident" id="2467605"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2467609">(</span><span class="ident" id="2467610"><a href="/reflect/value.go.html#2467507">typ</a></span><span class="op" id="2467613">.</span><span class="ident" id="2467614">Kind</span><span class="op" id="2467618">(</span><span class="op" id="2467619">)</span><span class="op" id="2467620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467623">//&nbsp;Using&nbsp;an&nbsp;unexported&nbsp;field&nbsp;forces&nbsp;flagRO.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2467668">if</span>&nbsp;<span class="ident" id="2467671"><a href="/reflect/value.go.html#2467483">field</a></span><span class="op" id="2467676">.</span><span class="ident" id="2467677">pkgPath</span>&nbsp;<span class="op" id="2467685">!=</span>&nbsp;<span class="ident" id="2467688">nil</span>&nbsp;<span class="op" id="2467692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467696"><a href="/reflect/value.go.html#2467562">fl</a></span>&nbsp;<span class="op" id="2467699">|=</span>&nbsp;<span class="ident" id="2467702"><a href="/reflect/value.go.html#2448132">flagRO</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2467710">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467713">//&nbsp;Either&nbsp;flagIndir&nbsp;is&nbsp;set&nbsp;and&nbsp;v.ptr&nbsp;points&nbsp;at&nbsp;struct,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467769">//&nbsp;or&nbsp;flagIndir&nbsp;is&nbsp;not&nbsp;set&nbsp;and&nbsp;v.ptr&nbsp;is&nbsp;the&nbsp;actual&nbsp;struct&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467834">//&nbsp;In&nbsp;the&nbsp;former&nbsp;case,&nbsp;we&nbsp;want&nbsp;v.ptr&nbsp;+&nbsp;offset.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467882">//&nbsp;In&nbsp;the&nbsp;latter&nbsp;case,&nbsp;we&nbsp;must&nbsp;be&nbsp;have&nbsp;field.offset&nbsp;=&nbsp;0,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2467940">//&nbsp;so&nbsp;v.ptr&nbsp;+&nbsp;field.offset&nbsp;is&nbsp;still&nbsp;okay.</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2467983">ptr</span>&nbsp;<span class="op" id="2467987">:=</span>&nbsp;<span class="ident" id="2467990"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2467996">.</span><span class="ident" id="2467997">Pointer</span><span class="op" id="2468004">(</span><span class="builtintype" id="2468005">uintptr</span><span class="op" id="2468012">(</span><span class="ident" id="2468013"><a href="/reflect/value.go.html#2467240">v</a></span><span class="op" id="2468014">.</span><span class="ident" id="2468015">ptr</span><span class="op" id="2468018">)</span>&nbsp;<span class="op" id="2468020">+</span>&nbsp;<span class="ident" id="2468022"><a href="/reflect/value.go.html#2467483">field</a></span><span class="op" id="2468027">.</span><span class="ident" id="2468028">offset</span><span class="op" id="2468034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468037">return</span>&nbsp;<span class="ident" id="2468044"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2468049">{</span><span class="ident" id="2468050"><a href="/reflect/value.go.html#2467507">typ</a></span><span class="op" id="2468053">,</span>&nbsp;<span class="ident" id="2468055"><a href="/reflect/value.go.html#2467983">ptr</a></span><span class="op" id="2468058">,</span>&nbsp;<span class="ident" id="2468060"><a href="/reflect/value.go.html#2467562">fl</a></span><span class="op" id="2468062">}</span><br>
<span class="lineno"></span><span class="op" id="2468064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2468067">//&nbsp;FieldByIndex&nbsp;returns&nbsp;the&nbsp;nested&nbsp;field&nbsp;corresponding&nbsp;to&nbsp;index.</span><br>
<span class="lineno">735</span><span class="comment" id="2468132">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;struct.</span><br>
<span class="lineno"></span><span class="keyword" id="2468172">func</span>&nbsp;<span class="op" id="2468177">(</span><span class="ident" id="2468178">v</span>&nbsp;<span class="ident" id="2468180"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2468185">)</span>&nbsp;<span class="ident" id="2468187">FieldByIndex</span><span class="op" id="2468199">(</span><span class="ident" id="2468200">index</span>&nbsp;<span class="op" id="2468206">[</span><span class="op" id="2468207">]</span><span class="builtintype" id="2468208">int</span><span class="op" id="2468211">)</span>&nbsp;<span class="ident" id="2468213"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2468219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468222">if</span>&nbsp;<span class="builtinfunc" id="2468225">len</span><span class="op" id="2468228">(</span><span class="ident" id="2468229"><a href="/reflect/value.go.html#2468200">index</a></span><span class="op" id="2468234">)</span>&nbsp;<span class="op" id="2468236">==</span>&nbsp;<span class="num" id="2468239">1</span>&nbsp;<span class="op" id="2468241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468245">return</span>&nbsp;<span class="ident" id="2468252"><a href="/reflect/value.go.html#2468178">v</a></span><span class="op" id="2468253">.</span><span class="ident" id="2468254">Field</span><span class="op" id="2468259">(</span><span class="ident" id="2468260"><a href="/reflect/value.go.html#2468200">index</a></span><span class="op" id="2468265">[</span><span class="num" id="2468266">0</span><span class="op" id="2468267">]</span><span class="op" id="2468268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2468271">}</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468274"><a href="/reflect/value.go.html#2468178">v</a></span><span class="op" id="2468275">.</span><span class="ident" id="2468276">mustBe</span><span class="op" id="2468282">(</span><span class="ident" id="2468283"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2468289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468292">for</span>&nbsp;<span class="ident" id="2468296">i</span><span class="op" id="2468297">,</span>&nbsp;<span class="ident" id="2468299">x</span>&nbsp;<span class="op" id="2468301">:=</span>&nbsp;<span class="keyword" id="2468304">range</span>&nbsp;<span class="ident" id="2468310"><a href="/reflect/value.go.html#2468200">index</a></span>&nbsp;<span class="op" id="2468316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468320">if</span>&nbsp;<span class="ident" id="2468323"><a href="/reflect/value.go.html#2468296">i</a></span>&nbsp;<span class="op" id="2468325">&gt;</span>&nbsp;<span class="num" id="2468327">0</span>&nbsp;<span class="op" id="2468329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468334">if</span>&nbsp;<span class="ident" id="2468337"><a href="/reflect/value.go.html#2468178">v</a></span><span class="op" id="2468338">.</span><span class="ident" id="2468339">Kind</span><span class="op" id="2468343">(</span><span class="op" id="2468344">)</span>&nbsp;<span class="op" id="2468346">==</span>&nbsp;<span class="ident" id="2468349"><a href="/reflect/type.go.html#2401385">Ptr</a></span>&nbsp;<span class="op" id="2468353">&amp;&amp;</span>&nbsp;<span class="ident" id="2468356"><a href="/reflect/value.go.html#2468178">v</a></span><span class="op" id="2468357">.</span><span class="ident" id="2468358">typ</span><span class="op" id="2468361">.</span><span class="ident" id="2468362">Elem</span><span class="op" id="2468366">(</span><span class="op" id="2468367">)</span><span class="op" id="2468368">.</span><span class="ident" id="2468369">Kind</span><span class="op" id="2468373">(</span><span class="op" id="2468374">)</span>&nbsp;<span class="op" id="2468376">==</span>&nbsp;<span class="ident" id="2468379"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2468386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468392">if</span>&nbsp;<span class="ident" id="2468395"><a href="/reflect/value.go.html#2468178">v</a></span><span class="op" id="2468396">.</span><span class="ident" id="2468397">IsNil</span><span class="op" id="2468402">(</span><span class="op" id="2468403">)</span>&nbsp;<span class="op" id="2468405">{</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2468412">panic</span><span class="op" id="2468417">(</span><span class="string" id="2468418">&#34;reflect:&nbsp;indirection&nbsp;through&nbsp;nil&nbsp;pointer&nbsp;to&nbsp;embedded&nbsp;struct&#34;</span><span class="op" id="2468479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2468485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468491"><a href="/reflect/value.go.html#2468178">v</a></span>&nbsp;<span class="op" id="2468493">=</span>&nbsp;<span class="ident" id="2468495"><a href="/reflect/value.go.html#2468178">v</a></span><span class="op" id="2468496">.</span><span class="ident" id="2468497">Elem</span><span class="op" id="2468501">(</span><span class="op" id="2468502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2468507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2468511">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468515"><a href="/reflect/value.go.html#2468178">v</a></span>&nbsp;<span class="op" id="2468517">=</span>&nbsp;<span class="ident" id="2468519"><a href="/reflect/value.go.html#2468178">v</a></span><span class="op" id="2468520">.</span><span class="ident" id="2468521">Field</span><span class="op" id="2468526">(</span><span class="ident" id="2468527"><a href="/reflect/value.go.html#2468299">x</a></span><span class="op" id="2468528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2468531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468534">return</span>&nbsp;<span class="ident" id="2468541"><a href="/reflect/value.go.html#2468178">v</a></span><br>
<span class="lineno"></span><span class="op" id="2468543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="2468546">//&nbsp;FieldByName&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="2468607">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;no&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span><span class="comment" id="2468659">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;struct.</span><br>
<span class="lineno"></span><span class="keyword" id="2468699">func</span>&nbsp;<span class="op" id="2468704">(</span><span class="ident" id="2468705">v</span>&nbsp;<span class="ident" id="2468707"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2468712">)</span>&nbsp;<span class="ident" id="2468714">FieldByName</span><span class="op" id="2468725">(</span><span class="ident" id="2468726">name</span>&nbsp;<span class="builtintype" id="2468731">string</span><span class="op" id="2468737">)</span>&nbsp;<span class="ident" id="2468739"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2468745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2468748"><a href="/reflect/value.go.html#2468705">v</a></span><span class="op" id="2468749">.</span><span class="ident" id="2468750">mustBe</span><span class="op" id="2468756">(</span><span class="ident" id="2468757"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2468763">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468766">if</span>&nbsp;<span class="ident" id="2468769">f</span><span class="op" id="2468770">,</span>&nbsp;<span class="ident" id="2468772">ok</span>&nbsp;<span class="op" id="2468775">:=</span>&nbsp;<span class="ident" id="2468778"><a href="/reflect/value.go.html#2468705">v</a></span><span class="op" id="2468779">.</span><span class="ident" id="2468780">typ</span><span class="op" id="2468783">.</span><span class="ident" id="2468784">FieldByName</span><span class="op" id="2468795">(</span><span class="ident" id="2468796"><a href="/reflect/value.go.html#2468726">name</a></span><span class="op" id="2468800">)</span><span class="op" id="2468801">;</span>&nbsp;<span class="ident" id="2468803"><a href="/reflect/value.go.html#2468772">ok</a></span>&nbsp;<span class="op" id="2468806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468810">return</span>&nbsp;<span class="ident" id="2468817"><a href="/reflect/value.go.html#2468705">v</a></span><span class="op" id="2468818">.</span><span class="ident" id="2468819">FieldByIndex</span><span class="op" id="2468831">(</span><span class="ident" id="2468832"><a href="/reflect/value.go.html#2468769">f</a></span><span class="op" id="2468833">.</span><span class="ident" id="2468834">Index</span><span class="op" id="2468839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2468842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2468845">return</span>&nbsp;<span class="ident" id="2468852"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2468857">{</span><span class="op" id="2468858">}</span><br>
<span class="lineno"></span><span class="op" id="2468860">}</span><br>
<span class="lineno">765</span><br>
<span class="lineno"></span><span class="comment" id="2468863">//&nbsp;FieldByNameFunc&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;a&nbsp;name</span><br>
<span class="lineno"></span><span class="comment" id="2468919">//&nbsp;that&nbsp;satisfies&nbsp;the&nbsp;match&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="2468957">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;struct.</span><br>
<span class="lineno"></span><span class="comment" id="2468997">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;no&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno">770</span><span class="keyword" id="2469049">func</span>&nbsp;<span class="op" id="2469054">(</span><span class="ident" id="2469055">v</span>&nbsp;<span class="ident" id="2469057"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2469062">)</span>&nbsp;<span class="ident" id="2469064">FieldByNameFunc</span><span class="op" id="2469079">(</span><span class="ident" id="2469080">match</span>&nbsp;<span class="keyword" id="2469086">func</span><span class="op" id="2469090">(</span><span class="builtintype" id="2469091">string</span><span class="op" id="2469097">)</span>&nbsp;<span class="builtintype" id="2469099">bool</span><span class="op" id="2469103">)</span>&nbsp;<span class="ident" id="2469105"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2469111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469114">if</span>&nbsp;<span class="ident" id="2469117">f</span><span class="op" id="2469118">,</span>&nbsp;<span class="ident" id="2469120">ok</span>&nbsp;<span class="op" id="2469123">:=</span>&nbsp;<span class="ident" id="2469126"><a href="/reflect/value.go.html#2469055">v</a></span><span class="op" id="2469127">.</span><span class="ident" id="2469128">typ</span><span class="op" id="2469131">.</span><span class="ident" id="2469132">FieldByNameFunc</span><span class="op" id="2469147">(</span><span class="ident" id="2469148"><a href="/reflect/value.go.html#2469080">match</a></span><span class="op" id="2469153">)</span><span class="op" id="2469154">;</span>&nbsp;<span class="ident" id="2469156"><a href="/reflect/value.go.html#2469120">ok</a></span>&nbsp;<span class="op" id="2469159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469163">return</span>&nbsp;<span class="ident" id="2469170"><a href="/reflect/value.go.html#2469055">v</a></span><span class="op" id="2469171">.</span><span class="ident" id="2469172">FieldByIndex</span><span class="op" id="2469184">(</span><span class="ident" id="2469185"><a href="/reflect/value.go.html#2469117">f</a></span><span class="op" id="2469186">.</span><span class="ident" id="2469187">Index</span><span class="op" id="2469192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2469195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469198">return</span>&nbsp;<span class="ident" id="2469205"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2469210">{</span><span class="op" id="2469211">}</span><br>
<span class="lineno">775</span><span class="op" id="2469213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2469216">//&nbsp;Float&nbsp;returns&nbsp;v&#39;s&nbsp;underlying&nbsp;value,&nbsp;as&nbsp;a&nbsp;float64.</span><br>
<span class="lineno"></span><span class="comment" id="2469269">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Float32&nbsp;or&nbsp;Float64</span><br>
<span class="lineno"></span><span class="keyword" id="2469320">func</span>&nbsp;<span class="op" id="2469325">(</span><span class="ident" id="2469326">v</span>&nbsp;<span class="ident" id="2469328"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2469333">)</span>&nbsp;<span class="ident" id="2469335">Float</span><span class="op" id="2469340">(</span><span class="op" id="2469341">)</span>&nbsp;<span class="builtintype" id="2469343">float64</span>&nbsp;<span class="op" id="2469351">{</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469354">k</span>&nbsp;<span class="op" id="2469356">:=</span>&nbsp;<span class="ident" id="2469359"><a href="/reflect/value.go.html#2469326">v</a></span><span class="op" id="2469360">.</span><span class="ident" id="2469361">kind</span><span class="op" id="2469365">(</span><span class="op" id="2469366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469369">switch</span>&nbsp;<span class="ident" id="2469376"><a href="/reflect/value.go.html#2469354">k</a></span>&nbsp;<span class="op" id="2469378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469381">case</span>&nbsp;<span class="ident" id="2469386"><a href="/reflect/type.go.html#2401309">Float32</a></span><span class="op" id="2469393">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469397">return</span>&nbsp;<span class="builtintype" id="2469404">float64</span><span class="op" id="2469411">(</span><span class="op" id="2469412">*</span><span class="op" id="2469413">(</span><span class="op" id="2469414">*</span><span class="builtintype" id="2469415">float32</span><span class="op" id="2469422">)</span><span class="op" id="2469423">(</span><span class="ident" id="2469424"><a href="/reflect/value.go.html#2469326">v</a></span><span class="op" id="2469425">.</span><span class="ident" id="2469426">ptr</span><span class="op" id="2469429">)</span><span class="op" id="2469430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469433">case</span>&nbsp;<span class="ident" id="2469438"><a href="/reflect/type.go.html#2401318">Float64</a></span><span class="op" id="2469445">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469449">return</span>&nbsp;<span class="op" id="2469456">*</span><span class="op" id="2469457">(</span><span class="op" id="2469458">*</span><span class="builtintype" id="2469459">float64</span><span class="op" id="2469466">)</span><span class="op" id="2469467">(</span><span class="ident" id="2469468"><a href="/reflect/value.go.html#2469326">v</a></span><span class="op" id="2469469">.</span><span class="ident" id="2469470">ptr</span><span class="op" id="2469473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2469476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2469479">panic</span><span class="op" id="2469484">(</span><span class="op" id="2469485">&amp;</span><span class="ident" id="2469486"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2469496">{</span><span class="string" id="2469497">&#34;reflect.Value.Float&#34;</span><span class="op" id="2469518">,</span>&nbsp;<span class="ident" id="2469520"><a href="/reflect/value.go.html#2469326">v</a></span><span class="op" id="2469521">.</span><span class="ident" id="2469522">kind</span><span class="op" id="2469526">(</span><span class="op" id="2469527">)</span><span class="op" id="2469528">}</span><span class="op" id="2469529">)</span><br>
<span class="lineno"></span><span class="op" id="2469531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span><span class="keyword" id="2469534">var</span>&nbsp;<span class="ident" id="2469538">uint8Type</span>&nbsp;<span class="op" id="2469548">=</span>&nbsp;<span class="ident" id="2469550"><a href="/reflect/type.go.html#2422046">TypeOf</a></span><span class="op" id="2469556">(</span><span class="builtintype" id="2469557">uint8</span><span class="op" id="2469562">(</span><span class="num" id="2469563">0</span><span class="op" id="2469564">)</span><span class="op" id="2469565">)</span><span class="op" id="2469566">.</span><span class="op" id="2469567">(</span><span class="op" id="2469568">*</span><span class="ident" id="2469569"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2469574">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2469577">//&nbsp;Index&nbsp;returns&nbsp;v&#39;s&nbsp;i&#39;th&nbsp;element.</span><br>
<span class="lineno"></span><span class="comment" id="2469612">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array,&nbsp;Slice,&nbsp;or&nbsp;String&nbsp;or&nbsp;i&nbsp;is&nbsp;out&nbsp;of&nbsp;range.</span><br>
<span class="lineno"></span><span class="keyword" id="2469690">func</span>&nbsp;<span class="op" id="2469695">(</span><span class="ident" id="2469696">v</span>&nbsp;<span class="ident" id="2469698"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2469703">)</span>&nbsp;<span class="ident" id="2469705">Index</span><span class="op" id="2469710">(</span><span class="ident" id="2469711">i</span>&nbsp;<span class="builtintype" id="2469713">int</span><span class="op" id="2469716">)</span>&nbsp;<span class="ident" id="2469718"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2469724">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469727">switch</span>&nbsp;<span class="ident" id="2469734"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2469735">.</span><span class="ident" id="2469736">kind</span><span class="op" id="2469740">(</span><span class="op" id="2469741">)</span>&nbsp;<span class="op" id="2469743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469746">case</span>&nbsp;<span class="ident" id="2469751"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2469756">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469760">tt</span>&nbsp;<span class="op" id="2469763">:=</span>&nbsp;<span class="op" id="2469766">(</span><span class="op" id="2469767">*</span><span class="ident" id="2469768"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2469777">)</span><span class="op" id="2469778">(</span><span class="ident" id="2469779"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2469785">.</span><span class="ident" id="2469786">Pointer</span><span class="op" id="2469793">(</span><span class="ident" id="2469794"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2469795">.</span><span class="ident" id="2469796">typ</span><span class="op" id="2469799">)</span><span class="op" id="2469800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2469804">if</span>&nbsp;<span class="builtintype" id="2469807">uint</span><span class="op" id="2469811">(</span><span class="ident" id="2469812"><a href="/reflect/value.go.html#2469711">i</a></span><span class="op" id="2469813">)</span>&nbsp;<span class="op" id="2469815">&gt;=</span>&nbsp;<span class="builtintype" id="2469818">uint</span><span class="op" id="2469822">(</span><span class="ident" id="2469823"><a href="/reflect/value.go.html#2469760">tt</a></span><span class="op" id="2469825">.</span><span class="builtinfunc" id="2469826">len</span><span class="op" id="2469829">)</span>&nbsp;<span class="op" id="2469831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2469836">panic</span><span class="op" id="2469841">(</span><span class="string" id="2469842">&#34;reflect:&nbsp;array&nbsp;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2469877">)</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2469881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469885">typ</span>&nbsp;<span class="op" id="2469889">:=</span>&nbsp;<span class="ident" id="2469892"><a href="/reflect/value.go.html#2469760">tt</a></span><span class="op" id="2469894">.</span><span class="ident" id="2469895">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2469902">offset</span>&nbsp;<span class="op" id="2469909">:=</span>&nbsp;<span class="builtintype" id="2469912">uintptr</span><span class="op" id="2469919">(</span><span class="ident" id="2469920"><a href="/reflect/value.go.html#2469711">i</a></span><span class="op" id="2469921">)</span>&nbsp;<span class="op" id="2469923">*</span>&nbsp;<span class="ident" id="2469925"><a href="/reflect/value.go.html#2469885">typ</a></span><span class="op" id="2469928">.</span><span class="ident" id="2469929">size</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2469937">//&nbsp;Either&nbsp;flagIndir&nbsp;is&nbsp;set&nbsp;and&nbsp;v.ptr&nbsp;points&nbsp;at&nbsp;array,</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2469993">//&nbsp;or&nbsp;flagIndir&nbsp;is&nbsp;not&nbsp;set&nbsp;and&nbsp;v.ptr&nbsp;is&nbsp;the&nbsp;actual&nbsp;array&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2470058">//&nbsp;In&nbsp;the&nbsp;former&nbsp;case,&nbsp;we&nbsp;want&nbsp;v.ptr&nbsp;+&nbsp;offset.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2470107">//&nbsp;In&nbsp;the&nbsp;latter&nbsp;case,&nbsp;we&nbsp;must&nbsp;be&nbsp;doing&nbsp;Index(0),&nbsp;so&nbsp;offset&nbsp;=&nbsp;0,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2470174">//&nbsp;so&nbsp;v.ptr&nbsp;+&nbsp;offset&nbsp;is&nbsp;still&nbsp;okay.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470212">val</span>&nbsp;<span class="op" id="2470216">:=</span>&nbsp;<span class="ident" id="2470219"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2470225">.</span><span class="ident" id="2470226">Pointer</span><span class="op" id="2470233">(</span><span class="builtintype" id="2470234">uintptr</span><span class="op" id="2470241">(</span><span class="ident" id="2470242"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2470243">.</span><span class="ident" id="2470244">ptr</span><span class="op" id="2470247">)</span>&nbsp;<span class="op" id="2470249">+</span>&nbsp;<span class="ident" id="2470251"><a href="/reflect/value.go.html#2469902">offset</a></span><span class="op" id="2470257">)</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470261">fl</span>&nbsp;<span class="op" id="2470264">:=</span>&nbsp;<span class="ident" id="2470267"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2470268">.</span><span class="ident" id="2470269">flag</span><span class="op" id="2470273">&amp;</span><span class="op" id="2470274">(</span><span class="ident" id="2470275"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2470281">|</span><span class="ident" id="2470282"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><span class="op" id="2470291">|</span><span class="ident" id="2470292"><a href="/reflect/value.go.html#2448194">flagAddr</a></span><span class="op" id="2470300">)</span>&nbsp;<span class="op" id="2470302">|</span>&nbsp;<span class="ident" id="2470304"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2470308">(</span><span class="ident" id="2470309"><a href="/reflect/value.go.html#2469885">typ</a></span><span class="op" id="2470312">.</span><span class="ident" id="2470313">Kind</span><span class="op" id="2470317">(</span><span class="op" id="2470318">)</span><span class="op" id="2470319">)</span>&nbsp;<span class="comment" id="2470321">//&nbsp;bits&nbsp;same&nbsp;as&nbsp;overall&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470353">return</span>&nbsp;<span class="ident" id="2470360"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2470365">{</span><span class="ident" id="2470366"><a href="/reflect/value.go.html#2469885">typ</a></span><span class="op" id="2470369">,</span>&nbsp;<span class="ident" id="2470371"><a href="/reflect/value.go.html#2470212">val</a></span><span class="op" id="2470374">,</span>&nbsp;<span class="ident" id="2470376"><a href="/reflect/value.go.html#2470261">fl</a></span><span class="op" id="2470378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470382">case</span>&nbsp;<span class="ident" id="2470387"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2470392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2470396">//&nbsp;Element&nbsp;flag&nbsp;same&nbsp;as&nbsp;Elem&nbsp;of&nbsp;Ptr.</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2470435">//&nbsp;Addressable,&nbsp;indirect,&nbsp;possibly&nbsp;read-only.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470483">s</span>&nbsp;<span class="op" id="2470485">:=</span>&nbsp;<span class="op" id="2470488">(</span><span class="op" id="2470489">*</span><span class="ident" id="2470490"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2470501">)</span><span class="op" id="2470502">(</span><span class="ident" id="2470503"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2470504">.</span><span class="ident" id="2470505">ptr</span><span class="op" id="2470508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470512">if</span>&nbsp;<span class="builtintype" id="2470515">uint</span><span class="op" id="2470519">(</span><span class="ident" id="2470520"><a href="/reflect/value.go.html#2469711">i</a></span><span class="op" id="2470521">)</span>&nbsp;<span class="op" id="2470523">&gt;=</span>&nbsp;<span class="builtintype" id="2470526">uint</span><span class="op" id="2470530">(</span><span class="ident" id="2470531"><a href="/reflect/value.go.html#2470483">s</a></span><span class="op" id="2470532">.</span><span class="ident" id="2470533">Len</span><span class="op" id="2470536">)</span>&nbsp;<span class="op" id="2470538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2470543">panic</span><span class="op" id="2470548">(</span><span class="string" id="2470549">&#34;reflect:&nbsp;slice&nbsp;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2470584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2470588">}</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470592">tt</span>&nbsp;<span class="op" id="2470595">:=</span>&nbsp;<span class="op" id="2470598">(</span><span class="op" id="2470599">*</span><span class="ident" id="2470600"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2470609">)</span><span class="op" id="2470610">(</span><span class="ident" id="2470611"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2470617">.</span><span class="ident" id="2470618">Pointer</span><span class="op" id="2470625">(</span><span class="ident" id="2470626"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2470627">.</span><span class="ident" id="2470628">typ</span><span class="op" id="2470631">)</span><span class="op" id="2470632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470636">typ</span>&nbsp;<span class="op" id="2470640">:=</span>&nbsp;<span class="ident" id="2470643"><a href="/reflect/value.go.html#2470592">tt</a></span><span class="op" id="2470645">.</span><span class="ident" id="2470646">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470653">val</span>&nbsp;<span class="op" id="2470657">:=</span>&nbsp;<span class="ident" id="2470660"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2470666">.</span><span class="ident" id="2470667">Pointer</span><span class="op" id="2470674">(</span><span class="builtintype" id="2470675">uintptr</span><span class="op" id="2470682">(</span><span class="ident" id="2470683"><a href="/reflect/value.go.html#2470483">s</a></span><span class="op" id="2470684">.</span><span class="ident" id="2470685">Data</span><span class="op" id="2470689">)</span>&nbsp;<span class="op" id="2470691">+</span>&nbsp;<span class="builtintype" id="2470693">uintptr</span><span class="op" id="2470700">(</span><span class="ident" id="2470701"><a href="/reflect/value.go.html#2469711">i</a></span><span class="op" id="2470702">)</span><span class="op" id="2470703">*</span><span class="ident" id="2470704"><a href="/reflect/value.go.html#2470636">typ</a></span><span class="op" id="2470707">.</span><span class="ident" id="2470708">size</span><span class="op" id="2470712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470716">fl</span>&nbsp;<span class="op" id="2470719">:=</span>&nbsp;<span class="ident" id="2470722"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2470731">|</span>&nbsp;<span class="ident" id="2470733"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2470743">|</span>&nbsp;<span class="ident" id="2470745"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2470746">.</span><span class="ident" id="2470747">flag</span><span class="op" id="2470751">&amp;</span><span class="ident" id="2470752"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2470759">|</span>&nbsp;<span class="ident" id="2470761"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2470765">(</span><span class="ident" id="2470766"><a href="/reflect/value.go.html#2470636">typ</a></span><span class="op" id="2470769">.</span><span class="ident" id="2470770">Kind</span><span class="op" id="2470774">(</span><span class="op" id="2470775">)</span><span class="op" id="2470776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470780">return</span>&nbsp;<span class="ident" id="2470787"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2470792">{</span><span class="ident" id="2470793"><a href="/reflect/value.go.html#2470636">typ</a></span><span class="op" id="2470796">,</span>&nbsp;<span class="ident" id="2470798"><a href="/reflect/value.go.html#2470653">val</a></span><span class="op" id="2470801">,</span>&nbsp;<span class="ident" id="2470803"><a href="/reflect/value.go.html#2470716">fl</a></span><span class="op" id="2470805">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470809">case</span>&nbsp;<span class="ident" id="2470814"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2470820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470824">s</span>&nbsp;<span class="op" id="2470826">:=</span>&nbsp;<span class="op" id="2470829">(</span><span class="op" id="2470830">*</span><span class="ident" id="2470831"><a href="/reflect/value.go.html#2496376">stringHeader</a></span><span class="op" id="2470843">)</span><span class="op" id="2470844">(</span><span class="ident" id="2470845"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2470846">.</span><span class="ident" id="2470847">ptr</span><span class="op" id="2470850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2470854">if</span>&nbsp;<span class="builtintype" id="2470857">uint</span><span class="op" id="2470861">(</span><span class="ident" id="2470862"><a href="/reflect/value.go.html#2469711">i</a></span><span class="op" id="2470863">)</span>&nbsp;<span class="op" id="2470865">&gt;=</span>&nbsp;<span class="builtintype" id="2470868">uint</span><span class="op" id="2470872">(</span><span class="ident" id="2470873"><a href="/reflect/value.go.html#2470824">s</a></span><span class="op" id="2470874">.</span><span class="ident" id="2470875">Len</span><span class="op" id="2470878">)</span>&nbsp;<span class="op" id="2470880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2470885">panic</span><span class="op" id="2470890">(</span><span class="string" id="2470891">&#34;reflect:&nbsp;string&nbsp;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2470927">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2470931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470935">p</span>&nbsp;<span class="op" id="2470937">:=</span>&nbsp;<span class="ident" id="2470940"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2470946">.</span><span class="ident" id="2470947">Pointer</span><span class="op" id="2470954">(</span><span class="builtintype" id="2470955">uintptr</span><span class="op" id="2470962">(</span><span class="ident" id="2470963"><a href="/reflect/value.go.html#2470824">s</a></span><span class="op" id="2470964">.</span><span class="ident" id="2470965">Data</span><span class="op" id="2470969">)</span>&nbsp;<span class="op" id="2470971">+</span>&nbsp;<span class="builtintype" id="2470973">uintptr</span><span class="op" id="2470980">(</span><span class="ident" id="2470981"><a href="/reflect/value.go.html#2469711">i</a></span><span class="op" id="2470982">)</span><span class="op" id="2470983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2470987">fl</span>&nbsp;<span class="op" id="2470990">:=</span>&nbsp;<span class="ident" id="2470993"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2470994">.</span><span class="ident" id="2470995">flag</span><span class="op" id="2470999">&amp;</span><span class="ident" id="2471000"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2471007">|</span>&nbsp;<span class="ident" id="2471009"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2471013">(</span><span class="ident" id="2471014"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2471019">)</span>&nbsp;<span class="op" id="2471021">|</span>&nbsp;<span class="ident" id="2471023"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471035">return</span>&nbsp;<span class="ident" id="2471042"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2471047">{</span><span class="ident" id="2471048"><a href="/reflect/value.go.html#2469538">uint8Type</a></span><span class="op" id="2471057">,</span>&nbsp;<span class="ident" id="2471059"><a href="/reflect/value.go.html#2470935">p</a></span><span class="op" id="2471060">,</span>&nbsp;<span class="ident" id="2471062"><a href="/reflect/value.go.html#2470987">fl</a></span><span class="op" id="2471064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2471067">}</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2471070">panic</span><span class="op" id="2471075">(</span><span class="op" id="2471076">&amp;</span><span class="ident" id="2471077"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2471087">{</span><span class="string" id="2471088">&#34;reflect.Value.Index&#34;</span><span class="op" id="2471109">,</span>&nbsp;<span class="ident" id="2471111"><a href="/reflect/value.go.html#2469696">v</a></span><span class="op" id="2471112">.</span><span class="ident" id="2471113">kind</span><span class="op" id="2471117">(</span><span class="op" id="2471118">)</span><span class="op" id="2471119">}</span><span class="op" id="2471120">)</span><br>
<span class="lineno"></span><span class="op" id="2471122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2471125">//&nbsp;Int&nbsp;returns&nbsp;v&#39;s&nbsp;underlying&nbsp;value,&nbsp;as&nbsp;an&nbsp;int64.</span><br>
<span class="lineno"></span><span class="comment" id="2471175">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Int,&nbsp;Int8,&nbsp;Int16,&nbsp;Int32,&nbsp;or&nbsp;Int64.</span><br>
<span class="lineno">840</span><span class="keyword" id="2471242">func</span>&nbsp;<span class="op" id="2471247">(</span><span class="ident" id="2471248">v</span>&nbsp;<span class="ident" id="2471250"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2471255">)</span>&nbsp;<span class="ident" id="2471257">Int</span><span class="op" id="2471260">(</span><span class="op" id="2471261">)</span>&nbsp;<span class="ident" id="2471263">int64</span>&nbsp;<span class="op" id="2471269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471272">k</span>&nbsp;<span class="op" id="2471274">:=</span>&nbsp;<span class="ident" id="2471277"><a href="/reflect/value.go.html#2471248">v</a></span><span class="op" id="2471278">.</span><span class="ident" id="2471279">kind</span><span class="op" id="2471283">(</span><span class="op" id="2471284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2471287">p</span>&nbsp;<span class="op" id="2471289">:=</span>&nbsp;<span class="ident" id="2471292"><a href="/reflect/value.go.html#2471248">v</a></span><span class="op" id="2471293">.</span><span class="ident" id="2471294">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471299">switch</span>&nbsp;<span class="ident" id="2471306"><a href="/reflect/value.go.html#2471272">k</a></span>&nbsp;<span class="op" id="2471308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471311">case</span>&nbsp;<span class="ident" id="2471316"><a href="/reflect/type.go.html#2401231">Int</a></span><span class="op" id="2471319">:</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471323">return</span>&nbsp;<span class="ident" id="2471330">int64</span><span class="op" id="2471335">(</span><span class="op" id="2471336">*</span><span class="op" id="2471337">(</span><span class="op" id="2471338">*</span><span class="builtintype" id="2471339">int</span><span class="op" id="2471342">)</span><span class="op" id="2471343">(</span><span class="ident" id="2471344"><a href="/reflect/value.go.html#2471287">p</a></span><span class="op" id="2471345">)</span><span class="op" id="2471346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471349">case</span>&nbsp;<span class="ident" id="2471354"><a href="/reflect/type.go.html#2401236">Int8</a></span><span class="op" id="2471358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471362">return</span>&nbsp;<span class="ident" id="2471369">int64</span><span class="op" id="2471374">(</span><span class="op" id="2471375">*</span><span class="op" id="2471376">(</span><span class="op" id="2471377">*</span><span class="builtintype" id="2471378">int8</span><span class="op" id="2471382">)</span><span class="op" id="2471383">(</span><span class="ident" id="2471384"><a href="/reflect/value.go.html#2471287">p</a></span><span class="op" id="2471385">)</span><span class="op" id="2471386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471389">case</span>&nbsp;<span class="ident" id="2471394"><a href="/reflect/type.go.html#2401242">Int16</a></span><span class="op" id="2471399">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471403">return</span>&nbsp;<span class="ident" id="2471410">int64</span><span class="op" id="2471415">(</span><span class="op" id="2471416">*</span><span class="op" id="2471417">(</span><span class="op" id="2471418">*</span><span class="builtintype" id="2471419">int16</span><span class="op" id="2471424">)</span><span class="op" id="2471425">(</span><span class="ident" id="2471426"><a href="/reflect/value.go.html#2471287">p</a></span><span class="op" id="2471427">)</span><span class="op" id="2471428">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471431">case</span>&nbsp;<span class="ident" id="2471436"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2471441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471445">return</span>&nbsp;<span class="ident" id="2471452">int64</span><span class="op" id="2471457">(</span><span class="op" id="2471458">*</span><span class="op" id="2471459">(</span><span class="op" id="2471460">*</span><span class="builtintype" id="2471461">int32</span><span class="op" id="2471466">)</span><span class="op" id="2471467">(</span><span class="ident" id="2471468"><a href="/reflect/value.go.html#2471287">p</a></span><span class="op" id="2471469">)</span><span class="op" id="2471470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471473">case</span>&nbsp;<span class="ident" id="2471478"><a href="/reflect/type.go.html#2401256">Int64</a></span><span class="op" id="2471483">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471487">return</span>&nbsp;<span class="ident" id="2471494">int64</span><span class="op" id="2471499">(</span><span class="op" id="2471500">*</span><span class="op" id="2471501">(</span><span class="op" id="2471502">*</span><span class="ident" id="2471503">int64</span><span class="op" id="2471508">)</span><span class="op" id="2471509">(</span><span class="ident" id="2471510"><a href="/reflect/value.go.html#2471287">p</a></span><span class="op" id="2471511">)</span><span class="op" id="2471512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2471515">}</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2471518">panic</span><span class="op" id="2471523">(</span><span class="op" id="2471524">&amp;</span><span class="ident" id="2471525"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2471535">{</span><span class="string" id="2471536">&#34;reflect.Value.Int&#34;</span><span class="op" id="2471555">,</span>&nbsp;<span class="ident" id="2471557"><a href="/reflect/value.go.html#2471248">v</a></span><span class="op" id="2471558">.</span><span class="ident" id="2471559">kind</span><span class="op" id="2471563">(</span><span class="op" id="2471564">)</span><span class="op" id="2471565">}</span><span class="op" id="2471566">)</span><br>
<span class="lineno"></span><span class="op" id="2471568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2471571">//&nbsp;CanInterface&nbsp;returns&nbsp;true&nbsp;if&nbsp;Interface&nbsp;can&nbsp;be&nbsp;used&nbsp;without&nbsp;panicking.</span><br>
<span class="lineno"></span><span class="keyword" id="2471644">func</span>&nbsp;<span class="op" id="2471649">(</span><span class="ident" id="2471650">v</span>&nbsp;<span class="ident" id="2471652"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2471657">)</span>&nbsp;<span class="ident" id="2471659">CanInterface</span><span class="op" id="2471671">(</span><span class="op" id="2471672">)</span>&nbsp;<span class="builtintype" id="2471674">bool</span>&nbsp;<span class="op" id="2471679">{</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471682">if</span>&nbsp;<span class="ident" id="2471685"><a href="/reflect/value.go.html#2471650">v</a></span><span class="op" id="2471686">.</span><span class="ident" id="2471687">flag</span>&nbsp;<span class="op" id="2471692">==</span>&nbsp;<span class="num" id="2471695">0</span>&nbsp;<span class="op" id="2471697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2471701">panic</span><span class="op" id="2471706">(</span><span class="op" id="2471707">&amp;</span><span class="ident" id="2471708"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2471718">{</span><span class="string" id="2471719">&#34;reflect.Value.CanInterface&#34;</span><span class="op" id="2471747">,</span>&nbsp;<span class="ident" id="2471749"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2471756">}</span><span class="op" id="2471757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2471760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2471763">return</span>&nbsp;<span class="ident" id="2471770"><a href="/reflect/value.go.html#2471650">v</a></span><span class="op" id="2471771">.</span><span class="ident" id="2471772">flag</span><span class="op" id="2471776">&amp;</span><span class="ident" id="2471777"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2471784">==</span>&nbsp;<span class="num" id="2471787">0</span><br>
<span class="lineno"></span><span class="op" id="2471789">}</span><br>
<span class="lineno">865</span><br>
<span class="lineno"></span><span class="comment" id="2471792">//&nbsp;Interface&nbsp;returns&nbsp;v&#39;s&nbsp;current&nbsp;value&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno"></span><span class="comment" id="2471850">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to:</span><br>
<span class="lineno"></span><span class="comment" id="2471874">//&nbsp;&nbsp;&nbsp;&nbspvar&nbsp;i&nbsp;interface{}&nbsp;=&nbsp;(v&#39;s&nbsp;underlying&nbsp;value)</span><br>
<span class="lineno"></span><span class="comment" id="2471920">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;Value&nbsp;was&nbsp;obtained&nbsp;by&nbsp;accessing</span><br>
<span class="lineno">870</span><span class="comment" id="2471972">//&nbsp;unexported&nbsp;struct&nbsp;fields.</span><br>
<span class="lineno"></span><span class="keyword" id="2472001">func</span>&nbsp;<span class="op" id="2472006">(</span><span class="ident" id="2472007">v</span>&nbsp;<span class="ident" id="2472009"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2472014">)</span>&nbsp;<span class="ident" id="2472016">Interface</span><span class="op" id="2472025">(</span><span class="op" id="2472026">)</span>&nbsp;<span class="op" id="2472028">(</span><span class="ident" id="2472029">i</span>&nbsp;<span class="keyword" id="2472031">interface</span><span class="op" id="2472040">{</span><span class="op" id="2472041">}</span><span class="op" id="2472042">)</span>&nbsp;<span class="op" id="2472044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472047">return</span>&nbsp;<span class="ident" id="2472054"><a href="/reflect/value.go.html#2472086">valueInterface</a></span><span class="op" id="2472068">(</span><span class="ident" id="2472069"><a href="/reflect/value.go.html#2472007">v</a></span><span class="op" id="2472070">,</span>&nbsp;<span class="ident" id="2472072">true</span><span class="op" id="2472076">)</span><br>
<span class="lineno"></span><span class="op" id="2472078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span><span class="keyword" id="2472081">func</span>&nbsp;<span class="ident" id="2472086">valueInterface</span><span class="op" id="2472100">(</span><span class="ident" id="2472101">v</span>&nbsp;<span class="ident" id="2472103"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2472108">,</span>&nbsp;<span class="ident" id="2472110">safe</span>&nbsp;<span class="builtintype" id="2472115">bool</span><span class="op" id="2472119">)</span>&nbsp;<span class="keyword" id="2472121">interface</span><span class="op" id="2472130">{</span><span class="op" id="2472131">}</span>&nbsp;<span class="op" id="2472133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472136">if</span>&nbsp;<span class="ident" id="2472139"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472140">.</span><span class="ident" id="2472141">flag</span>&nbsp;<span class="op" id="2472146">==</span>&nbsp;<span class="num" id="2472149">0</span>&nbsp;<span class="op" id="2472151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2472155">panic</span><span class="op" id="2472160">(</span><span class="op" id="2472161">&amp;</span><span class="ident" id="2472162"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2472172">{</span><span class="string" id="2472173">&#34;reflect.Value.Interface&#34;</span><span class="op" id="2472198">,</span>&nbsp;<span class="num" id="2472200">0</span><span class="op" id="2472201">}</span><span class="op" id="2472202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472208">if</span>&nbsp;<span class="ident" id="2472211"><a href="/reflect/value.go.html#2472110">safe</a></span>&nbsp;<span class="op" id="2472216">&amp;&amp;</span>&nbsp;<span class="ident" id="2472219"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472220">.</span><span class="ident" id="2472221">flag</span><span class="op" id="2472225">&amp;</span><span class="ident" id="2472226"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2472233">!=</span>&nbsp;<span class="num" id="2472236">0</span>&nbsp;<span class="op" id="2472238">{</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2472242">//&nbsp;Do&nbsp;not&nbsp;allow&nbsp;access&nbsp;to&nbsp;unexported&nbsp;values&nbsp;via&nbsp;Interface,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2472303">//&nbsp;because&nbsp;they&nbsp;might&nbsp;be&nbsp;pointers&nbsp;that&nbsp;should&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2472358">//&nbsp;writable&nbsp;or&nbsp;methods&nbsp;or&nbsp;function&nbsp;that&nbsp;should&nbsp;not&nbsp;be&nbsp;callable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2472424">panic</span><span class="op" id="2472429">(</span><span class="string" id="2472430">&#34;reflect.Value.Interface:&nbsp;cannot&nbsp;return&nbsp;value&nbsp;obtained&nbsp;from&nbsp;unexported&nbsp;field&nbsp;or&nbsp;method&#34;</span><span class="op" id="2472517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472520">}</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472523">if</span>&nbsp;<span class="ident" id="2472526"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472527">.</span><span class="ident" id="2472528">flag</span><span class="op" id="2472532">&amp;</span><span class="ident" id="2472533"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2472544">!=</span>&nbsp;<span class="num" id="2472547">0</span>&nbsp;<span class="op" id="2472549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472553"><a href="/reflect/value.go.html#2472101">v</a></span>&nbsp;<span class="op" id="2472555">=</span>&nbsp;<span class="ident" id="2472557"><a href="/reflect/makefunc.go.html#2392133">makeMethodValue</a></span><span class="op" id="2472572">(</span><span class="string" id="2472573">&#34;Interface&#34;</span><span class="op" id="2472584">,</span>&nbsp;<span class="ident" id="2472586"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472594">if</span>&nbsp;<span class="ident" id="2472597"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472598">.</span><span class="ident" id="2472599">kind</span><span class="op" id="2472603">(</span><span class="op" id="2472604">)</span>&nbsp;<span class="op" id="2472606">==</span>&nbsp;<span class="ident" id="2472609"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2472619">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2472623">//&nbsp;Special&nbsp;case:&nbsp;return&nbsp;the&nbsp;element&nbsp;inside&nbsp;the&nbsp;interface.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2472683">//&nbsp;Empty&nbsp;interface&nbsp;has&nbsp;one&nbsp;layout,&nbsp;all&nbsp;interfaces&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2472740">//&nbsp;methods&nbsp;have&nbsp;a&nbsp;second&nbsp;layout.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472775">if</span>&nbsp;<span class="ident" id="2472778"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472779">.</span><span class="ident" id="2472780">NumMethod</span><span class="op" id="2472789">(</span><span class="op" id="2472790">)</span>&nbsp;<span class="op" id="2472792">==</span>&nbsp;<span class="num" id="2472795">0</span>&nbsp;<span class="op" id="2472797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472802">return</span>&nbsp;<span class="op" id="2472809">*</span><span class="op" id="2472810">(</span><span class="op" id="2472811">*</span><span class="keyword" id="2472812">interface</span><span class="op" id="2472821">{</span><span class="op" id="2472822">}</span><span class="op" id="2472823">)</span><span class="op" id="2472824">(</span><span class="ident" id="2472825"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472826">.</span><span class="ident" id="2472827">ptr</span><span class="op" id="2472830">)</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472838">return</span>&nbsp;<span class="op" id="2472845">*</span><span class="op" id="2472846">(</span><span class="op" id="2472847">*</span><span class="keyword" id="2472848">interface</span>&nbsp;<span class="op" id="2472858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2472863">M</span><span class="op" id="2472864">(</span><span class="op" id="2472865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472869">}</span><span class="op" id="2472870">)</span><span class="op" id="2472871">(</span><span class="ident" id="2472872"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472873">.</span><span class="ident" id="2472874">ptr</span><span class="op" id="2472877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2472880">}</span><br>
<span class="lineno">900</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2472884">//&nbsp;TODO:&nbsp;pass&nbsp;safe&nbsp;to&nbsp;packEface&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;need&nbsp;to&nbsp;copy&nbsp;if&nbsp;safe==true?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2472957">return</span>&nbsp;<span class="ident" id="2472964"><a href="/reflect/value.go.html#2448748">packEface</a></span><span class="op" id="2472973">(</span><span class="ident" id="2472974"><a href="/reflect/value.go.html#2472101">v</a></span><span class="op" id="2472975">)</span><br>
<span class="lineno"></span><span class="op" id="2472977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">905</span><span class="comment" id="2472980">//&nbsp;InterfaceData&nbsp;returns&nbsp;the&nbsp;interface&nbsp;v&#39;s&nbsp;value&nbsp;as&nbsp;a&nbsp;uintptr&nbsp;pair.</span><br>
<span class="lineno"></span><span class="comment" id="2473048">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2473091">func</span>&nbsp;<span class="op" id="2473096">(</span><span class="ident" id="2473097">v</span>&nbsp;<span class="ident" id="2473099"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2473104">)</span>&nbsp;<span class="ident" id="2473106">InterfaceData</span><span class="op" id="2473119">(</span><span class="op" id="2473120">)</span>&nbsp;<span class="op" id="2473122">[</span><span class="num" id="2473123">2</span><span class="op" id="2473124">]</span><span class="builtintype" id="2473125">uintptr</span>&nbsp;<span class="op" id="2473133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2473136">//&nbsp;TODO:&nbsp;deprecate&nbsp;this</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473161"><a href="/reflect/value.go.html#2473097">v</a></span><span class="op" id="2473162">.</span><span class="ident" id="2473163">mustBe</span><span class="op" id="2473169">(</span><span class="ident" id="2473170"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2473179">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2473182">//&nbsp;We&nbsp;treat&nbsp;this&nbsp;as&nbsp;a&nbsp;read&nbsp;operation,&nbsp;so&nbsp;we&nbsp;allow</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2473233">//&nbsp;it&nbsp;even&nbsp;for&nbsp;unexported&nbsp;data,&nbsp;because&nbsp;the&nbsp;caller</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2473285">//&nbsp;has&nbsp;to&nbsp;import&nbsp;&#34;unsafe&#34;&nbsp;to&nbsp;turn&nbsp;it&nbsp;into&nbsp;something</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2473338">//&nbsp;that&nbsp;can&nbsp;be&nbsp;abused.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2473362">//&nbsp;Interface&nbsp;value&nbsp;is&nbsp;always&nbsp;bigger&nbsp;than&nbsp;a&nbsp;word;&nbsp;assume&nbsp;flagIndir.</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473430">return</span>&nbsp;<span class="op" id="2473437">*</span><span class="op" id="2473438">(</span><span class="op" id="2473439">*</span><span class="op" id="2473440">[</span><span class="num" id="2473441">2</span><span class="op" id="2473442">]</span><span class="builtintype" id="2473443">uintptr</span><span class="op" id="2473450">)</span><span class="op" id="2473451">(</span><span class="ident" id="2473452"><a href="/reflect/value.go.html#2473097">v</a></span><span class="op" id="2473453">.</span><span class="ident" id="2473454">ptr</span><span class="op" id="2473457">)</span><br>
<span class="lineno"></span><span class="op" id="2473459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2473462">//&nbsp;IsNil&nbsp;reports&nbsp;whether&nbsp;its&nbsp;argument&nbsp;v&nbsp;is&nbsp;nil.&nbsp;The&nbsp;argument&nbsp;must&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2473531">//&nbsp;a&nbsp;chan,&nbsp;func,&nbsp;interface,&nbsp;map,&nbsp;pointer,&nbsp;or&nbsp;slice&nbsp;value;&nbsp;if&nbsp;it&nbsp;is</span><br>
<span class="lineno">920</span><span class="comment" id="2473598">//&nbsp;not,&nbsp;IsNil&nbsp;panics.&nbsp;Note&nbsp;that&nbsp;IsNil&nbsp;is&nbsp;not&nbsp;always&nbsp;equivalent&nbsp;to&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2473666">//&nbsp;regular&nbsp;comparison&nbsp;with&nbsp;nil&nbsp;in&nbsp;Go.&nbsp;For&nbsp;example,&nbsp;if&nbsp;v&nbsp;was&nbsp;created</span><br>
<span class="lineno"></span><span class="comment" id="2473734">//&nbsp;by&nbsp;calling&nbsp;ValueOf&nbsp;with&nbsp;an&nbsp;uninitialized&nbsp;interface&nbsp;variable&nbsp;i,</span><br>
<span class="lineno"></span><span class="comment" id="2473800">//&nbsp;i==nil&nbsp;will&nbsp;be&nbsp;true&nbsp;but&nbsp;v.IsNil&nbsp;will&nbsp;panic&nbsp;as&nbsp;v&nbsp;will&nbsp;be&nbsp;the&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="2473868">//&nbsp;Value.</span><br>
<span class="lineno">925</span><span class="keyword" id="2473878">func</span>&nbsp;<span class="op" id="2473883">(</span><span class="ident" id="2473884">v</span>&nbsp;<span class="ident" id="2473886"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2473891">)</span>&nbsp;<span class="ident" id="2473893">IsNil</span><span class="op" id="2473898">(</span><span class="op" id="2473899">)</span>&nbsp;<span class="builtintype" id="2473901">bool</span>&nbsp;<span class="op" id="2473906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2473909">k</span>&nbsp;<span class="op" id="2473911">:=</span>&nbsp;<span class="ident" id="2473914"><a href="/reflect/value.go.html#2473884">v</a></span><span class="op" id="2473915">.</span><span class="ident" id="2473916">kind</span><span class="op" id="2473920">(</span><span class="op" id="2473921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473924">switch</span>&nbsp;<span class="ident" id="2473931"><a href="/reflect/value.go.html#2473909">k</a></span>&nbsp;<span class="op" id="2473933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473936">case</span>&nbsp;<span class="ident" id="2473941"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2473945">,</span>&nbsp;<span class="ident" id="2473947"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2473951">,</span>&nbsp;<span class="ident" id="2473953"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2473956">,</span>&nbsp;<span class="ident" id="2473958"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2473961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473965">if</span>&nbsp;<span class="ident" id="2473968"><a href="/reflect/value.go.html#2473884">v</a></span><span class="op" id="2473969">.</span><span class="ident" id="2473970">flag</span><span class="op" id="2473974">&amp;</span><span class="ident" id="2473975"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2473986">!=</span>&nbsp;<span class="num" id="2473989">0</span>&nbsp;<span class="op" id="2473991">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2473996">return</span>&nbsp;<span class="ident" id="2474003">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2474011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474015">ptr</span>&nbsp;<span class="op" id="2474019">:=</span>&nbsp;<span class="ident" id="2474022"><a href="/reflect/value.go.html#2473884">v</a></span><span class="op" id="2474023">.</span><span class="ident" id="2474024">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474030">if</span>&nbsp;<span class="ident" id="2474033"><a href="/reflect/value.go.html#2473884">v</a></span><span class="op" id="2474034">.</span><span class="ident" id="2474035">flag</span><span class="op" id="2474039">&amp;</span><span class="ident" id="2474040"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2474050">!=</span>&nbsp;<span class="num" id="2474053">0</span>&nbsp;<span class="op" id="2474055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474060"><a href="/reflect/value.go.html#2474015">ptr</a></span>&nbsp;<span class="op" id="2474064">=</span>&nbsp;<span class="op" id="2474066">*</span><span class="op" id="2474067">(</span><span class="op" id="2474068">*</span><span class="ident" id="2474069"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2474075">.</span><span class="ident" id="2474076">Pointer</span><span class="op" id="2474083">)</span><span class="op" id="2474084">(</span><span class="ident" id="2474085"><a href="/reflect/value.go.html#2474015">ptr</a></span><span class="op" id="2474088">)</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2474092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474096">return</span>&nbsp;<span class="ident" id="2474103"><a href="/reflect/value.go.html#2474015">ptr</a></span>&nbsp;<span class="op" id="2474107">==</span>&nbsp;<span class="ident" id="2474110">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474115">case</span>&nbsp;<span class="ident" id="2474120"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2474129">,</span>&nbsp;<span class="ident" id="2474131"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2474136">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2474140">//&nbsp;Both&nbsp;interface&nbsp;and&nbsp;slice&nbsp;are&nbsp;nil&nbsp;if&nbsp;first&nbsp;word&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2474198">//&nbsp;Both&nbsp;are&nbsp;always&nbsp;bigger&nbsp;than&nbsp;a&nbsp;word;&nbsp;assume&nbsp;flagIndir.</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474257">return</span>&nbsp;<span class="op" id="2474264">*</span><span class="op" id="2474265">(</span><span class="op" id="2474266">*</span><span class="ident" id="2474267"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2474273">.</span><span class="ident" id="2474274">Pointer</span><span class="op" id="2474281">)</span><span class="op" id="2474282">(</span><span class="ident" id="2474283"><a href="/reflect/value.go.html#2473884">v</a></span><span class="op" id="2474284">.</span><span class="ident" id="2474285">ptr</span><span class="op" id="2474288">)</span>&nbsp;<span class="op" id="2474290">==</span>&nbsp;<span class="ident" id="2474293">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2474298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2474301">panic</span><span class="op" id="2474306">(</span><span class="op" id="2474307">&amp;</span><span class="ident" id="2474308"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2474318">{</span><span class="string" id="2474319">&#34;reflect.Value.IsNil&#34;</span><span class="op" id="2474340">,</span>&nbsp;<span class="ident" id="2474342"><a href="/reflect/value.go.html#2473884">v</a></span><span class="op" id="2474343">.</span><span class="ident" id="2474344">kind</span><span class="op" id="2474348">(</span><span class="op" id="2474349">)</span><span class="op" id="2474350">}</span><span class="op" id="2474351">)</span><br>
<span class="lineno"></span><span class="op" id="2474353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">945</span><span class="comment" id="2474356">//&nbsp;IsValid&nbsp;returns&nbsp;true&nbsp;if&nbsp;v&nbsp;represents&nbsp;a&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2474405">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;if&nbsp;v&nbsp;is&nbsp;the&nbsp;zero&nbsp;Value.</span><br>
<span class="lineno"></span><span class="comment" id="2474449">//&nbsp;If&nbsp;IsValid&nbsp;returns&nbsp;false,&nbsp;all&nbsp;other&nbsp;methods&nbsp;except&nbsp;String&nbsp;panic.</span><br>
<span class="lineno"></span><span class="comment" id="2474517">//&nbsp;Most&nbsp;functions&nbsp;and&nbsp;methods&nbsp;never&nbsp;return&nbsp;an&nbsp;invalid&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2474578">//&nbsp;If&nbsp;one&nbsp;does,&nbsp;its&nbsp;documentation&nbsp;states&nbsp;the&nbsp;conditions&nbsp;explicitly.</span><br>
<span class="lineno">950</span><span class="keyword" id="2474646">func</span>&nbsp;<span class="op" id="2474651">(</span><span class="ident" id="2474652">v</span>&nbsp;<span class="ident" id="2474654"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2474659">)</span>&nbsp;<span class="ident" id="2474661">IsValid</span><span class="op" id="2474668">(</span><span class="op" id="2474669">)</span>&nbsp;<span class="builtintype" id="2474671">bool</span>&nbsp;<span class="op" id="2474676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474679">return</span>&nbsp;<span class="ident" id="2474686"><a href="/reflect/value.go.html#2474652">v</a></span><span class="op" id="2474687">.</span><span class="ident" id="2474688">flag</span>&nbsp;<span class="op" id="2474693">!=</span>&nbsp;<span class="num" id="2474696">0</span><br>
<span class="lineno"></span><span class="op" id="2474698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2474701">//&nbsp;Kind&nbsp;returns&nbsp;v&#39;s&nbsp;Kind.</span><br>
<span class="lineno">955</span><span class="comment" id="2474727">//&nbsp;If&nbsp;v&nbsp;is&nbsp;the&nbsp;zero&nbsp;Value&nbsp;(IsValid&nbsp;returns&nbsp;false),&nbsp;Kind&nbsp;returns&nbsp;Invalid.</span><br>
<span class="lineno"></span><span class="keyword" id="2474800">func</span>&nbsp;<span class="op" id="2474805">(</span><span class="ident" id="2474806">v</span>&nbsp;<span class="ident" id="2474808"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2474813">)</span>&nbsp;<span class="ident" id="2474815">Kind</span><span class="op" id="2474819">(</span><span class="op" id="2474820">)</span>&nbsp;<span class="ident" id="2474822"><a href="/reflect/type.go.html#2401184">Kind</a></span>&nbsp;<span class="op" id="2474827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474830">return</span>&nbsp;<span class="ident" id="2474837"><a href="/reflect/value.go.html#2474806">v</a></span><span class="op" id="2474838">.</span><span class="ident" id="2474839">kind</span><span class="op" id="2474843">(</span><span class="op" id="2474844">)</span><br>
<span class="lineno"></span><span class="op" id="2474846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">960</span><span class="comment" id="2474849">//&nbsp;Len&nbsp;returns&nbsp;v&#39;s&nbsp;length.</span><br>
<span class="lineno"></span><span class="comment" id="2474876">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array,&nbsp;Chan,&nbsp;Map,&nbsp;Slice,&nbsp;or&nbsp;String.</span><br>
<span class="lineno"></span><span class="keyword" id="2474944">func</span>&nbsp;<span class="op" id="2474949">(</span><span class="ident" id="2474950">v</span>&nbsp;<span class="ident" id="2474952"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2474957">)</span>&nbsp;<span class="ident" id="2474959">Len</span><span class="op" id="2474962">(</span><span class="op" id="2474963">)</span>&nbsp;<span class="builtintype" id="2474965">int</span>&nbsp;<span class="op" id="2474969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2474972">k</span>&nbsp;<span class="op" id="2474974">:=</span>&nbsp;<span class="ident" id="2474977"><a href="/reflect/value.go.html#2474950">v</a></span><span class="op" id="2474978">.</span><span class="ident" id="2474979">kind</span><span class="op" id="2474983">(</span><span class="op" id="2474984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474987">switch</span>&nbsp;<span class="ident" id="2474994"><a href="/reflect/value.go.html#2474972">k</a></span>&nbsp;<span class="op" id="2474996">{</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2474999">case</span>&nbsp;<span class="ident" id="2475004"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2475009">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475013">tt</span>&nbsp;<span class="op" id="2475016">:=</span>&nbsp;<span class="op" id="2475019">(</span><span class="op" id="2475020">*</span><span class="ident" id="2475021"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2475030">)</span><span class="op" id="2475031">(</span><span class="ident" id="2475032"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2475038">.</span><span class="ident" id="2475039">Pointer</span><span class="op" id="2475046">(</span><span class="ident" id="2475047"><a href="/reflect/value.go.html#2474950">v</a></span><span class="op" id="2475048">.</span><span class="ident" id="2475049">typ</span><span class="op" id="2475052">)</span><span class="op" id="2475053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475057">return</span>&nbsp;<span class="builtintype" id="2475064">int</span><span class="op" id="2475067">(</span><span class="ident" id="2475068"><a href="/reflect/value.go.html#2475013">tt</a></span><span class="op" id="2475070">.</span><span class="builtinfunc" id="2475071">len</span><span class="op" id="2475074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475077">case</span>&nbsp;<span class="ident" id="2475082"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2475086">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475090">return</span>&nbsp;<span class="ident" id="2475097"><a href="/reflect/value.go.html#2515488">chanlen</a></span><span class="op" id="2475104">(</span><span class="ident" id="2475105"><a href="/reflect/value.go.html#2474950">v</a></span><span class="op" id="2475106">.</span><span class="ident" id="2475107">pointer</span><span class="op" id="2475114">(</span><span class="op" id="2475115">)</span><span class="op" id="2475116">)</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475119">case</span>&nbsp;<span class="ident" id="2475124"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2475127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475131">return</span>&nbsp;<span class="ident" id="2475138"><a href="/reflect/value.go.html#2516198">maplen</a></span><span class="op" id="2475144">(</span><span class="ident" id="2475145"><a href="/reflect/value.go.html#2474950">v</a></span><span class="op" id="2475146">.</span><span class="ident" id="2475147">pointer</span><span class="op" id="2475154">(</span><span class="op" id="2475155">)</span><span class="op" id="2475156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475159">case</span>&nbsp;<span class="ident" id="2475164"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2475169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2475173">//&nbsp;Slice&nbsp;is&nbsp;bigger&nbsp;than&nbsp;a&nbsp;word;&nbsp;assume&nbsp;flagIndir.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475225">return</span>&nbsp;<span class="op" id="2475232">(</span><span class="op" id="2475233">*</span><span class="ident" id="2475234"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2475245">)</span><span class="op" id="2475246">(</span><span class="ident" id="2475247"><a href="/reflect/value.go.html#2474950">v</a></span><span class="op" id="2475248">.</span><span class="ident" id="2475249">ptr</span><span class="op" id="2475252">)</span><span class="op" id="2475253">.</span><span class="ident" id="2475254">Len</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475259">case</span>&nbsp;<span class="ident" id="2475264"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2475270">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2475274">//&nbsp;String&nbsp;is&nbsp;bigger&nbsp;than&nbsp;a&nbsp;word;&nbsp;assume&nbsp;flagIndir.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2475327">return</span>&nbsp;<span class="op" id="2475334">(</span><span class="op" id="2475335">*</span><span class="ident" id="2475336"><a href="/reflect/value.go.html#2496376">stringHeader</a></span><span class="op" id="2475348">)</span><span class="op" id="2475349">(</span><span class="ident" id="2475350"><a href="/reflect/value.go.html#2474950">v</a></span><span class="op" id="2475351">.</span><span class="ident" id="2475352">ptr</span><span class="op" id="2475355">)</span><span class="op" id="2475356">.</span><span class="ident" id="2475357">Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2475362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2475365">panic</span><span class="op" id="2475370">(</span><span class="op" id="2475371">&amp;</span><span class="ident" id="2475372"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2475382">{</span><span class="string" id="2475383">&#34;reflect.Value.Len&#34;</span><span class="op" id="2475402">,</span>&nbsp;<span class="ident" id="2475404"><a href="/reflect/value.go.html#2474950">v</a></span><span class="op" id="2475405">.</span><span class="ident" id="2475406">kind</span><span class="op" id="2475410">(</span><span class="op" id="2475411">)</span><span class="op" id="2475412">}</span><span class="op" id="2475413">)</span><br>
<span class="lineno">980</span><span class="op" id="2475415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2475418">//&nbsp;MapIndex&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;key&nbsp;in&nbsp;the&nbsp;map&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="2475482">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Map.</span><br>
<span class="lineno"></span><span class="comment" id="2475519">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;key&nbsp;is&nbsp;not&nbsp;found&nbsp;in&nbsp;the&nbsp;map&nbsp;or&nbsp;if&nbsp;v&nbsp;represents&nbsp;a&nbsp;nil&nbsp;map.</span><br>
<span class="lineno">985</span><span class="comment" id="2475609">//&nbsp;As&nbsp;in&nbsp;Go,&nbsp;the&nbsp;key&#39;s&nbsp;value&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;the&nbsp;map&#39;s&nbsp;key&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2475680">func</span>&nbsp;<span class="op" id="2475685">(</span><span class="ident" id="2475686">v</span>&nbsp;<span class="ident" id="2475688"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2475693">)</span>&nbsp;<span class="ident" id="2475695">MapIndex</span><span class="op" id="2475703">(</span><span class="ident" id="2475704">key</span>&nbsp;<span class="ident" id="2475708"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2475713">)</span>&nbsp;<span class="ident" id="2475715"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2475721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475724"><a href="/reflect/value.go.html#2475686">v</a></span><span class="op" id="2475725">.</span><span class="ident" id="2475726">mustBe</span><span class="op" id="2475732">(</span><span class="ident" id="2475733"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2475736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2475739">tt</span>&nbsp;<span class="op" id="2475742">:=</span>&nbsp;<span class="op" id="2475745">(</span><span class="op" id="2475746">*</span><span class="ident" id="2475747"><a href="/reflect/type.go.html#2404915">mapType</a></span><span class="op" id="2475754">)</span><span class="op" id="2475755">(</span><span class="ident" id="2475756"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2475762">.</span><span class="ident" id="2475763">Pointer</span><span class="op" id="2475770">(</span><span class="ident" id="2475771"><a href="/reflect/value.go.html#2475686">v</a></span><span class="op" id="2475772">.</span><span class="ident" id="2475773">typ</span><span class="op" id="2475776">)</span><span class="op" id="2475777">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2475781">//&nbsp;Do&nbsp;not&nbsp;require&nbsp;key&nbsp;to&nbsp;be&nbsp;exported,&nbsp;so&nbsp;that&nbsp;DeepEqual</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2475838">//&nbsp;and&nbsp;other&nbsp;programs&nbsp;can&nbsp;use&nbsp;all&nbsp;the&nbsp;keys&nbsp;returned&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2475894">//&nbsp;MapKeys&nbsp;as&nbsp;arguments&nbsp;to&nbsp;MapIndex.&nbsp;&nbsp;If&nbsp;either&nbsp;the&nbsp;map</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2475951">//&nbsp;or&nbsp;the&nbsp;key&nbsp;is&nbsp;unexported,&nbsp;though,&nbsp;the&nbsp;result&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2476008">//&nbsp;considered&nbsp;unexported.&nbsp;&nbsp;This&nbsp;is&nbsp;consistent&nbsp;with&nbsp;the</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2476064">//&nbsp;behavior&nbsp;for&nbsp;structs,&nbsp;which&nbsp;allow&nbsp;read&nbsp;but&nbsp;not&nbsp;write</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2476121">//&nbsp;of&nbsp;unexported&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476147"><a href="/reflect/value.go.html#2475704">key</a></span>&nbsp;<span class="op" id="2476151">=</span>&nbsp;<span class="ident" id="2476153"><a href="/reflect/value.go.html#2475704">key</a></span><span class="op" id="2476156">.</span><span class="ident" id="2476157">assignTo</span><span class="op" id="2476165">(</span><span class="string" id="2476166">&#34;reflect.Value.MapIndex&#34;</span><span class="op" id="2476190">,</span>&nbsp;<span class="ident" id="2476192"><a href="/reflect/value.go.html#2475739">tt</a></span><span class="op" id="2476194">.</span><span class="ident" id="2476195">key</span><span class="op" id="2476198">,</span>&nbsp;<span class="ident" id="2476200">nil</span><span class="op" id="2476203">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476207">var</span>&nbsp;<span class="ident" id="2476211">k</span>&nbsp;<span class="ident" id="2476213"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2476219">.</span><span class="ident" id="2476220">Pointer</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476229">if</span>&nbsp;<span class="ident" id="2476232"><a href="/reflect/value.go.html#2475704">key</a></span><span class="op" id="2476235">.</span><span class="ident" id="2476236">flag</span><span class="op" id="2476240">&amp;</span><span class="ident" id="2476241"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2476251">!=</span>&nbsp;<span class="num" id="2476254">0</span>&nbsp;<span class="op" id="2476256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476260"><a href="/reflect/value.go.html#2476211">k</a></span>&nbsp;<span class="op" id="2476262">=</span>&nbsp;<span class="ident" id="2476264"><a href="/reflect/value.go.html#2475704">key</a></span><span class="op" id="2476267">.</span><span class="ident" id="2476268">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476273">}</span>&nbsp;<span class="keyword" id="2476275">else</span>&nbsp;<span class="op" id="2476280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476284"><a href="/reflect/value.go.html#2476211">k</a></span>&nbsp;<span class="op" id="2476286">=</span>&nbsp;<span class="ident" id="2476288"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2476294">.</span><span class="ident" id="2476295">Pointer</span><span class="op" id="2476302">(</span><span class="op" id="2476303">&amp;</span><span class="ident" id="2476304"><a href="/reflect/value.go.html#2475704">key</a></span><span class="op" id="2476307">.</span><span class="ident" id="2476308">ptr</span><span class="op" id="2476311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476314">}</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476317">e</span>&nbsp;<span class="op" id="2476319">:=</span>&nbsp;<span class="ident" id="2476322"><a href="/reflect/value.go.html#2515831">mapaccess</a></span><span class="op" id="2476331">(</span><span class="ident" id="2476332"><a href="/reflect/value.go.html#2475686">v</a></span><span class="op" id="2476333">.</span><span class="ident" id="2476334">typ</span><span class="op" id="2476337">,</span>&nbsp;<span class="ident" id="2476339"><a href="/reflect/value.go.html#2475686">v</a></span><span class="op" id="2476340">.</span><span class="ident" id="2476341">pointer</span><span class="op" id="2476348">(</span><span class="op" id="2476349">)</span><span class="op" id="2476350">,</span>&nbsp;<span class="ident" id="2476352"><a href="/reflect/value.go.html#2476211">k</a></span><span class="op" id="2476353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476356">if</span>&nbsp;<span class="ident" id="2476359"><a href="/reflect/value.go.html#2476317">e</a></span>&nbsp;<span class="op" id="2476361">==</span>&nbsp;<span class="ident" id="2476364">nil</span>&nbsp;<span class="op" id="2476368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476372">return</span>&nbsp;<span class="ident" id="2476379"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2476384">{</span><span class="op" id="2476385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476391">typ</span>&nbsp;<span class="op" id="2476395">:=</span>&nbsp;<span class="ident" id="2476398"><a href="/reflect/value.go.html#2475739">tt</a></span><span class="op" id="2476400">.</span><span class="ident" id="2476401">elem</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476407">fl</span>&nbsp;<span class="op" id="2476410">:=</span>&nbsp;<span class="op" id="2476413">(</span><span class="ident" id="2476414"><a href="/reflect/value.go.html#2475686">v</a></span><span class="op" id="2476415">.</span><span class="ident" id="2476416">flag</span>&nbsp;<span class="op" id="2476421">|</span>&nbsp;<span class="ident" id="2476423"><a href="/reflect/value.go.html#2475704">key</a></span><span class="op" id="2476426">.</span><span class="ident" id="2476427">flag</span><span class="op" id="2476431">)</span>&nbsp;<span class="op" id="2476433">&amp;</span>&nbsp;<span class="ident" id="2476435"><a href="/reflect/value.go.html#2448132">flagRO</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476443"><a href="/reflect/value.go.html#2476407">fl</a></span>&nbsp;<span class="op" id="2476446">|=</span>&nbsp;<span class="ident" id="2476449"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2476453">(</span><span class="ident" id="2476454"><a href="/reflect/value.go.html#2476391">typ</a></span><span class="op" id="2476457">.</span><span class="ident" id="2476458">Kind</span><span class="op" id="2476462">(</span><span class="op" id="2476463">)</span><span class="op" id="2476464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476467">if</span>&nbsp;<span class="ident" id="2476470"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2476480">(</span><span class="ident" id="2476481"><a href="/reflect/value.go.html#2476391">typ</a></span><span class="op" id="2476484">)</span>&nbsp;<span class="op" id="2476486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2476490">//&nbsp;Copy&nbsp;result&nbsp;so&nbsp;future&nbsp;changes&nbsp;to&nbsp;the&nbsp;map</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2476536">//&nbsp;won&#39;t&nbsp;change&nbsp;the&nbsp;underlying&nbsp;value.</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476576">c</span>&nbsp;<span class="op" id="2476578">:=</span>&nbsp;<span class="ident" id="2476581"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2476591">(</span><span class="ident" id="2476592"><a href="/reflect/value.go.html#2476391">typ</a></span><span class="op" id="2476595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476599"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2476606">(</span><span class="ident" id="2476607"><a href="/reflect/value.go.html#2476576">c</a></span><span class="op" id="2476608">,</span>&nbsp;<span class="ident" id="2476610"><a href="/reflect/value.go.html#2476317">e</a></span><span class="op" id="2476611">,</span>&nbsp;<span class="ident" id="2476613"><a href="/reflect/value.go.html#2476391">typ</a></span><span class="op" id="2476616">.</span><span class="ident" id="2476617">size</span><span class="op" id="2476621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476625">return</span>&nbsp;<span class="ident" id="2476632"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2476637">{</span><span class="ident" id="2476638"><a href="/reflect/value.go.html#2476391">typ</a></span><span class="op" id="2476641">,</span>&nbsp;<span class="ident" id="2476643"><a href="/reflect/value.go.html#2476576">c</a></span><span class="op" id="2476644">,</span>&nbsp;<span class="ident" id="2476646"><a href="/reflect/value.go.html#2476407">fl</a></span>&nbsp;<span class="op" id="2476649">|</span>&nbsp;<span class="ident" id="2476651"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><span class="op" id="2476660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476663">}</span>&nbsp;<span class="keyword" id="2476665">else</span>&nbsp;<span class="op" id="2476670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2476674">return</span>&nbsp;<span class="ident" id="2476681"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2476686">{</span><span class="ident" id="2476687"><a href="/reflect/value.go.html#2476391">typ</a></span><span class="op" id="2476690">,</span>&nbsp;<span class="op" id="2476692">*</span><span class="op" id="2476693">(</span><span class="op" id="2476694">*</span><span class="ident" id="2476695"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2476701">.</span><span class="ident" id="2476702">Pointer</span><span class="op" id="2476709">)</span><span class="op" id="2476710">(</span><span class="ident" id="2476711"><a href="/reflect/value.go.html#2476317">e</a></span><span class="op" id="2476712">)</span><span class="op" id="2476713">,</span>&nbsp;<span class="ident" id="2476715"><a href="/reflect/value.go.html#2476407">fl</a></span><span class="op" id="2476717">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2476720">}</span><br>
<span class="lineno"></span><span class="op" id="2476722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2476725">//&nbsp;MapKeys&nbsp;returns&nbsp;a&nbsp;slice&nbsp;containing&nbsp;all&nbsp;the&nbsp;keys&nbsp;present&nbsp;in&nbsp;the&nbsp;map,</span><br>
<span class="lineno"></span><span class="comment" id="2476796">//&nbsp;in&nbsp;unspecified&nbsp;order.</span><br>
<span class="lineno">1025</span><span class="comment" id="2476821">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Map.</span><br>
<span class="lineno"></span><span class="comment" id="2476858">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice&nbsp;if&nbsp;v&nbsp;represents&nbsp;a&nbsp;nil&nbsp;map.</span><br>
<span class="lineno"></span><span class="keyword" id="2476914">func</span>&nbsp;<span class="op" id="2476919">(</span><span class="ident" id="2476920">v</span>&nbsp;<span class="ident" id="2476922"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2476927">)</span>&nbsp;<span class="ident" id="2476929">MapKeys</span><span class="op" id="2476936">(</span><span class="op" id="2476937">)</span>&nbsp;<span class="op" id="2476939">[</span><span class="op" id="2476940">]</span><span class="ident" id="2476941"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2476947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476950"><a href="/reflect/value.go.html#2476920">v</a></span><span class="op" id="2476951">.</span><span class="ident" id="2476952">mustBe</span><span class="op" id="2476958">(</span><span class="ident" id="2476959"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2476962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2476965">tt</span>&nbsp;<span class="op" id="2476968">:=</span>&nbsp;<span class="op" id="2476971">(</span><span class="op" id="2476972">*</span><span class="ident" id="2476973"><a href="/reflect/type.go.html#2404915">mapType</a></span><span class="op" id="2476980">)</span><span class="op" id="2476981">(</span><span class="ident" id="2476982"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2476988">.</span><span class="ident" id="2476989">Pointer</span><span class="op" id="2476996">(</span><span class="ident" id="2476997"><a href="/reflect/value.go.html#2476920">v</a></span><span class="op" id="2476998">.</span><span class="ident" id="2476999">typ</span><span class="op" id="2477002">)</span><span class="op" id="2477003">)</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477006">keyType</span>&nbsp;<span class="op" id="2477014">:=</span>&nbsp;<span class="ident" id="2477017"><a href="/reflect/value.go.html#2476965">tt</a></span><span class="op" id="2477019">.</span><span class="ident" id="2477020">key</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477026">fl</span>&nbsp;<span class="op" id="2477029">:=</span>&nbsp;<span class="ident" id="2477032"><a href="/reflect/value.go.html#2476920">v</a></span><span class="op" id="2477033">.</span><span class="ident" id="2477034">flag</span><span class="op" id="2477038">&amp;</span><span class="ident" id="2477039"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2477046">|</span>&nbsp;<span class="ident" id="2477048"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2477052">(</span><span class="ident" id="2477053"><a href="/reflect/value.go.html#2477006">keyType</a></span><span class="op" id="2477060">.</span><span class="ident" id="2477061">Kind</span><span class="op" id="2477065">(</span><span class="op" id="2477066">)</span><span class="op" id="2477067">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477071">m</span>&nbsp;<span class="op" id="2477073">:=</span>&nbsp;<span class="ident" id="2477076"><a href="/reflect/value.go.html#2476920">v</a></span><span class="op" id="2477077">.</span><span class="ident" id="2477078">pointer</span><span class="op" id="2477085">(</span><span class="op" id="2477086">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477089">mlen</span>&nbsp;<span class="op" id="2477094">:=</span>&nbsp;<span class="builtintype" id="2477097">int</span><span class="op" id="2477100">(</span><span class="num" id="2477101">0</span><span class="op" id="2477102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477105">if</span>&nbsp;<span class="ident" id="2477108"><a href="/reflect/value.go.html#2477071">m</a></span>&nbsp;<span class="op" id="2477110">!=</span>&nbsp;<span class="ident" id="2477113">nil</span>&nbsp;<span class="op" id="2477117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477121"><a href="/reflect/value.go.html#2477089">mlen</a></span>&nbsp;<span class="op" id="2477126">=</span>&nbsp;<span class="ident" id="2477128"><a href="/reflect/value.go.html#2516198">maplen</a></span><span class="op" id="2477134">(</span><span class="ident" id="2477135"><a href="/reflect/value.go.html#2477071">m</a></span><span class="op" id="2477136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477142">it</span>&nbsp;<span class="op" id="2477145">:=</span>&nbsp;<span class="ident" id="2477148"><a href="/reflect/value.go.html#2516046">mapiterinit</a></span><span class="op" id="2477159">(</span><span class="ident" id="2477160"><a href="/reflect/value.go.html#2476920">v</a></span><span class="op" id="2477161">.</span><span class="ident" id="2477162">typ</span><span class="op" id="2477165">,</span>&nbsp;<span class="ident" id="2477167"><a href="/reflect/value.go.html#2477071">m</a></span><span class="op" id="2477168">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477171">a</span>&nbsp;<span class="op" id="2477173">:=</span>&nbsp;<span class="builtinfunc" id="2477176">make</span><span class="op" id="2477180">(</span><span class="op" id="2477181">[</span><span class="op" id="2477182">]</span><span class="ident" id="2477183"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2477188">,</span>&nbsp;<span class="ident" id="2477190"><a href="/reflect/value.go.html#2477089">mlen</a></span><span class="op" id="2477194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477197">var</span>&nbsp;<span class="ident" id="2477201">i</span>&nbsp;<span class="builtintype" id="2477203">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477208">for</span>&nbsp;<span class="ident" id="2477212"><a href="/reflect/value.go.html#2477201">i</a></span>&nbsp;<span class="op" id="2477214">=</span>&nbsp;<span class="num" id="2477216">0</span><span class="op" id="2477217">;</span>&nbsp;<span class="ident" id="2477219"><a href="/reflect/value.go.html#2477201">i</a></span>&nbsp;<span class="op" id="2477221">&lt;</span>&nbsp;<span class="builtinfunc" id="2477223">len</span><span class="op" id="2477226">(</span><span class="ident" id="2477227"><a href="/reflect/value.go.html#2477171">a</a></span><span class="op" id="2477228">)</span><span class="op" id="2477229">;</span>&nbsp;<span class="ident" id="2477231"><a href="/reflect/value.go.html#2477201">i</a></span><span class="op" id="2477232">++</span>&nbsp;<span class="op" id="2477235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477239">key</span>&nbsp;<span class="op" id="2477243">:=</span>&nbsp;<span class="ident" id="2477246"><a href="/reflect/value.go.html#2516106">mapiterkey</a></span><span class="op" id="2477256">(</span><span class="ident" id="2477257"><a href="/reflect/value.go.html#2477142">it</a></span><span class="op" id="2477259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477263">if</span>&nbsp;<span class="ident" id="2477266"><a href="/reflect/value.go.html#2477239">key</a></span>&nbsp;<span class="op" id="2477270">==</span>&nbsp;<span class="ident" id="2477273">nil</span>&nbsp;<span class="op" id="2477277">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477282">//&nbsp;Someone&nbsp;deleted&nbsp;an&nbsp;entry&nbsp;from&nbsp;the&nbsp;map&nbsp;since&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477335">//&nbsp;called&nbsp;maplen&nbsp;above.&nbsp;&nbsp;It&#39;s&nbsp;a&nbsp;data&nbsp;race,&nbsp;but&nbsp;nothing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477393">//&nbsp;we&nbsp;can&nbsp;do&nbsp;about&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477419">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477427">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477431">if</span>&nbsp;<span class="ident" id="2477434"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2477444">(</span><span class="ident" id="2477445"><a href="/reflect/value.go.html#2477006">keyType</a></span><span class="op" id="2477452">)</span>&nbsp;<span class="op" id="2477454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477459">//&nbsp;Copy&nbsp;result&nbsp;so&nbsp;future&nbsp;changes&nbsp;to&nbsp;the&nbsp;map</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2477506">//&nbsp;won&#39;t&nbsp;change&nbsp;the&nbsp;underlying&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477547">c</span>&nbsp;<span class="op" id="2477549">:=</span>&nbsp;<span class="ident" id="2477552"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2477562">(</span><span class="ident" id="2477563"><a href="/reflect/value.go.html#2477006">keyType</a></span><span class="op" id="2477570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477575"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2477582">(</span><span class="ident" id="2477583"><a href="/reflect/value.go.html#2477547">c</a></span><span class="op" id="2477584">,</span>&nbsp;<span class="ident" id="2477586"><a href="/reflect/value.go.html#2477239">key</a></span><span class="op" id="2477589">,</span>&nbsp;<span class="ident" id="2477591"><a href="/reflect/value.go.html#2477006">keyType</a></span><span class="op" id="2477598">.</span><span class="ident" id="2477599">size</span><span class="op" id="2477603">)</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477608"><a href="/reflect/value.go.html#2477171">a</a></span><span class="op" id="2477609">[</span><span class="ident" id="2477610"><a href="/reflect/value.go.html#2477201">i</a></span><span class="op" id="2477611">]</span>&nbsp;<span class="op" id="2477613">=</span>&nbsp;<span class="ident" id="2477615"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2477620">{</span><span class="ident" id="2477621"><a href="/reflect/value.go.html#2477006">keyType</a></span><span class="op" id="2477628">,</span>&nbsp;<span class="ident" id="2477630"><a href="/reflect/value.go.html#2477547">c</a></span><span class="op" id="2477631">,</span>&nbsp;<span class="ident" id="2477633"><a href="/reflect/value.go.html#2477026">fl</a></span>&nbsp;<span class="op" id="2477636">|</span>&nbsp;<span class="ident" id="2477638"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><span class="op" id="2477647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477651">}</span>&nbsp;<span class="keyword" id="2477653">else</span>&nbsp;<span class="op" id="2477658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477663"><a href="/reflect/value.go.html#2477171">a</a></span><span class="op" id="2477664">[</span><span class="ident" id="2477665"><a href="/reflect/value.go.html#2477201">i</a></span><span class="op" id="2477666">]</span>&nbsp;<span class="op" id="2477668">=</span>&nbsp;<span class="ident" id="2477670"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2477675">{</span><span class="ident" id="2477676"><a href="/reflect/value.go.html#2477006">keyType</a></span><span class="op" id="2477683">,</span>&nbsp;<span class="op" id="2477685">*</span><span class="op" id="2477686">(</span><span class="op" id="2477687">*</span><span class="ident" id="2477688"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2477694">.</span><span class="ident" id="2477695">Pointer</span><span class="op" id="2477702">)</span><span class="op" id="2477703">(</span><span class="ident" id="2477704"><a href="/reflect/value.go.html#2477239">key</a></span><span class="op" id="2477707">)</span><span class="op" id="2477708">,</span>&nbsp;<span class="ident" id="2477710"><a href="/reflect/value.go.html#2477026">fl</a></span><span class="op" id="2477712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2477720"><a href="/reflect/value.go.html#2516162">mapiternext</a></span><span class="op" id="2477731">(</span><span class="ident" id="2477732"><a href="/reflect/value.go.html#2477142">it</a></span><span class="op" id="2477734">)</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2477737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2477740">return</span>&nbsp;<span class="ident" id="2477747"><a href="/reflect/value.go.html#2477171">a</a></span><span class="op" id="2477748">[</span><span class="op" id="2477749">:</span><span class="ident" id="2477750"><a href="/reflect/value.go.html#2477201">i</a></span><span class="op" id="2477751">]</span><br>
<span class="lineno"></span><span class="op" id="2477753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2477756">//&nbsp;Method&nbsp;returns&nbsp;a&nbsp;function&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;v&#39;s&nbsp;i&#39;th&nbsp;method.</span><br>
<span class="lineno">1065</span><span class="comment" id="2477825">//&nbsp;The&nbsp;arguments&nbsp;to&nbsp;a&nbsp;Call&nbsp;on&nbsp;the&nbsp;returned&nbsp;function&nbsp;should&nbsp;not&nbsp;include</span><br>
<span class="lineno"></span><span class="comment" id="2477896">//&nbsp;a&nbsp;receiver;&nbsp;the&nbsp;returned&nbsp;function&nbsp;will&nbsp;always&nbsp;use&nbsp;v&nbsp;as&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="comment" id="2477968">//&nbsp;Method&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;if&nbsp;v&nbsp;is&nbsp;a&nbsp;nil&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2478040">func</span>&nbsp;<span class="op" id="2478045">(</span><span class="ident" id="2478046">v</span>&nbsp;<span class="ident" id="2478048"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2478053">)</span>&nbsp;<span class="ident" id="2478055">Method</span><span class="op" id="2478061">(</span><span class="ident" id="2478062">i</span>&nbsp;<span class="builtintype" id="2478064">int</span><span class="op" id="2478067">)</span>&nbsp;<span class="ident" id="2478069"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2478075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478078">if</span>&nbsp;<span class="ident" id="2478081"><a href="/reflect/value.go.html#2478046">v</a></span><span class="op" id="2478082">.</span><span class="ident" id="2478083">typ</span>&nbsp;<span class="op" id="2478087">==</span>&nbsp;<span class="ident" id="2478090">nil</span>&nbsp;<span class="op" id="2478094">{</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2478098">panic</span><span class="op" id="2478103">(</span><span class="op" id="2478104">&amp;</span><span class="ident" id="2478105"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2478115">{</span><span class="string" id="2478116">&#34;reflect.Value.Method&#34;</span><span class="op" id="2478138">,</span>&nbsp;<span class="ident" id="2478140"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2478147">}</span><span class="op" id="2478148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478154">if</span>&nbsp;<span class="ident" id="2478157"><a href="/reflect/value.go.html#2478046">v</a></span><span class="op" id="2478158">.</span><span class="ident" id="2478159">flag</span><span class="op" id="2478163">&amp;</span><span class="ident" id="2478164"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2478175">!=</span>&nbsp;<span class="num" id="2478178">0</span>&nbsp;<span class="op" id="2478180">||</span>&nbsp;<span class="builtintype" id="2478183">uint</span><span class="op" id="2478187">(</span><span class="ident" id="2478188"><a href="/reflect/value.go.html#2478062">i</a></span><span class="op" id="2478189">)</span>&nbsp;<span class="op" id="2478191">&gt;=</span>&nbsp;<span class="builtintype" id="2478194">uint</span><span class="op" id="2478198">(</span><span class="ident" id="2478199"><a href="/reflect/value.go.html#2478046">v</a></span><span class="op" id="2478200">.</span><span class="ident" id="2478201">typ</span><span class="op" id="2478204">.</span><span class="ident" id="2478205">NumMethod</span><span class="op" id="2478214">(</span><span class="op" id="2478215">)</span><span class="op" id="2478216">)</span>&nbsp;<span class="op" id="2478218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2478222">panic</span><span class="op" id="2478227">(</span><span class="string" id="2478228">&#34;reflect:&nbsp;Method&nbsp;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2478264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478267">}</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478270">if</span>&nbsp;<span class="ident" id="2478273"><a href="/reflect/value.go.html#2478046">v</a></span><span class="op" id="2478274">.</span><span class="ident" id="2478275">typ</span><span class="op" id="2478278">.</span><span class="ident" id="2478279">Kind</span><span class="op" id="2478283">(</span><span class="op" id="2478284">)</span>&nbsp;<span class="op" id="2478286">==</span>&nbsp;<span class="ident" id="2478289"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2478299">&amp;&amp;</span>&nbsp;<span class="ident" id="2478302"><a href="/reflect/value.go.html#2478046">v</a></span><span class="op" id="2478303">.</span><span class="ident" id="2478304">IsNil</span><span class="op" id="2478309">(</span><span class="op" id="2478310">)</span>&nbsp;<span class="op" id="2478312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2478316">panic</span><span class="op" id="2478321">(</span><span class="string" id="2478322">&#34;reflect:&nbsp;Method&nbsp;on&nbsp;nil&nbsp;interface&nbsp;value&#34;</span><span class="op" id="2478362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478368">fl</span>&nbsp;<span class="op" id="2478371">:=</span>&nbsp;<span class="ident" id="2478374"><a href="/reflect/value.go.html#2478046">v</a></span><span class="op" id="2478375">.</span><span class="ident" id="2478376">flag</span>&nbsp;<span class="op" id="2478381">&amp;</span>&nbsp;<span class="op" id="2478383">(</span><span class="ident" id="2478384"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2478391">|</span>&nbsp;<span class="ident" id="2478393"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><span class="op" id="2478402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478405"><a href="/reflect/value.go.html#2478368">fl</a></span>&nbsp;<span class="op" id="2478408">|=</span>&nbsp;<span class="ident" id="2478411"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2478415">(</span><span class="ident" id="2478416"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2478420">)</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2478423"><a href="/reflect/value.go.html#2478368">fl</a></span>&nbsp;<span class="op" id="2478426">|=</span>&nbsp;<span class="ident" id="2478429"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2478433">(</span><span class="ident" id="2478434"><a href="/reflect/value.go.html#2478062">i</a></span><span class="op" id="2478435">)</span><span class="op" id="2478436">&lt;&lt;</span><span class="ident" id="2478438"><a href="/reflect/value.go.html#2448256">flagMethodShift</a></span>&nbsp;<span class="op" id="2478454">|</span>&nbsp;<span class="ident" id="2478456"><a href="/reflect/value.go.html#2448225">flagMethod</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478468">return</span>&nbsp;<span class="ident" id="2478475"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2478480">{</span><span class="ident" id="2478481"><a href="/reflect/value.go.html#2478046">v</a></span><span class="op" id="2478482">.</span><span class="ident" id="2478483">typ</span><span class="op" id="2478486">,</span>&nbsp;<span class="ident" id="2478488"><a href="/reflect/value.go.html#2478046">v</a></span><span class="op" id="2478489">.</span><span class="ident" id="2478490">ptr</span><span class="op" id="2478493">,</span>&nbsp;<span class="ident" id="2478495"><a href="/reflect/value.go.html#2478368">fl</a></span><span class="op" id="2478497">}</span><br>
<span class="lineno"></span><span class="op" id="2478499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2478502">//&nbsp;NumMethod&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;methods&nbsp;in&nbsp;the&nbsp;value&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno">1085</span><span class="keyword" id="2478572">func</span>&nbsp;<span class="op" id="2478577">(</span><span class="ident" id="2478578">v</span>&nbsp;<span class="ident" id="2478580"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2478585">)</span>&nbsp;<span class="ident" id="2478587">NumMethod</span><span class="op" id="2478596">(</span><span class="op" id="2478597">)</span>&nbsp;<span class="builtintype" id="2478599">int</span>&nbsp;<span class="op" id="2478603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478606">if</span>&nbsp;<span class="ident" id="2478609"><a href="/reflect/value.go.html#2478578">v</a></span><span class="op" id="2478610">.</span><span class="ident" id="2478611">typ</span>&nbsp;<span class="op" id="2478615">==</span>&nbsp;<span class="ident" id="2478618">nil</span>&nbsp;<span class="op" id="2478622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2478626">panic</span><span class="op" id="2478631">(</span><span class="op" id="2478632">&amp;</span><span class="ident" id="2478633"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2478643">{</span><span class="string" id="2478644">&#34;reflect.Value.NumMethod&#34;</span><span class="op" id="2478669">,</span>&nbsp;<span class="ident" id="2478671"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2478678">}</span><span class="op" id="2478679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478685">if</span>&nbsp;<span class="ident" id="2478688"><a href="/reflect/value.go.html#2478578">v</a></span><span class="op" id="2478689">.</span><span class="ident" id="2478690">flag</span><span class="op" id="2478694">&amp;</span><span class="ident" id="2478695"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2478706">!=</span>&nbsp;<span class="num" id="2478709">0</span>&nbsp;<span class="op" id="2478711">{</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478715">return</span>&nbsp;<span class="num" id="2478722">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2478725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2478728">return</span>&nbsp;<span class="ident" id="2478735"><a href="/reflect/value.go.html#2478578">v</a></span><span class="op" id="2478736">.</span><span class="ident" id="2478737">typ</span><span class="op" id="2478740">.</span><span class="ident" id="2478741">NumMethod</span><span class="op" id="2478750">(</span><span class="op" id="2478751">)</span><br>
<span class="lineno"></span><span class="op" id="2478753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1095</span><span class="comment" id="2478756">//&nbsp;MethodByName&nbsp;returns&nbsp;a&nbsp;function&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;method</span><br>
<span class="lineno"></span><span class="comment" id="2478825">//&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="2478854">//&nbsp;The&nbsp;arguments&nbsp;to&nbsp;a&nbsp;Call&nbsp;on&nbsp;the&nbsp;returned&nbsp;function&nbsp;should&nbsp;not&nbsp;include</span><br>
<span class="lineno"></span><span class="comment" id="2478925">//&nbsp;a&nbsp;receiver;&nbsp;the&nbsp;returned&nbsp;function&nbsp;will&nbsp;always&nbsp;use&nbsp;v&nbsp;as&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="comment" id="2478997">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;no&nbsp;method&nbsp;was&nbsp;found.</span><br>
<span class="lineno">1100</span><span class="keyword" id="2479050">func</span>&nbsp;<span class="op" id="2479055">(</span><span class="ident" id="2479056">v</span>&nbsp;<span class="ident" id="2479058"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2479063">)</span>&nbsp;<span class="ident" id="2479065">MethodByName</span><span class="op" id="2479077">(</span><span class="ident" id="2479078">name</span>&nbsp;<span class="builtintype" id="2479083">string</span><span class="op" id="2479089">)</span>&nbsp;<span class="ident" id="2479091"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2479097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479100">if</span>&nbsp;<span class="ident" id="2479103"><a href="/reflect/value.go.html#2479056">v</a></span><span class="op" id="2479104">.</span><span class="ident" id="2479105">typ</span>&nbsp;<span class="op" id="2479109">==</span>&nbsp;<span class="ident" id="2479112">nil</span>&nbsp;<span class="op" id="2479116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2479120">panic</span><span class="op" id="2479125">(</span><span class="op" id="2479126">&amp;</span><span class="ident" id="2479127"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2479137">{</span><span class="string" id="2479138">&#34;reflect.Value.MethodByName&#34;</span><span class="op" id="2479166">,</span>&nbsp;<span class="ident" id="2479168"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2479175">}</span><span class="op" id="2479176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479182">if</span>&nbsp;<span class="ident" id="2479185"><a href="/reflect/value.go.html#2479056">v</a></span><span class="op" id="2479186">.</span><span class="ident" id="2479187">flag</span><span class="op" id="2479191">&amp;</span><span class="ident" id="2479192"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2479203">!=</span>&nbsp;<span class="num" id="2479206">0</span>&nbsp;<span class="op" id="2479208">{</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479212">return</span>&nbsp;<span class="ident" id="2479219"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2479224">{</span><span class="op" id="2479225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479231">m</span><span class="op" id="2479232">,</span>&nbsp;<span class="ident" id="2479234">ok</span>&nbsp;<span class="op" id="2479237">:=</span>&nbsp;<span class="ident" id="2479240"><a href="/reflect/value.go.html#2479056">v</a></span><span class="op" id="2479241">.</span><span class="ident" id="2479242">typ</span><span class="op" id="2479245">.</span><span class="ident" id="2479246">MethodByName</span><span class="op" id="2479258">(</span><span class="ident" id="2479259"><a href="/reflect/value.go.html#2479078">name</a></span><span class="op" id="2479263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479266">if</span>&nbsp;<span class="op" id="2479269">!</span><span class="ident" id="2479270"><a href="/reflect/value.go.html#2479234">ok</a></span>&nbsp;<span class="op" id="2479273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479277">return</span>&nbsp;<span class="ident" id="2479284"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2479289">{</span><span class="op" id="2479290">}</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479296">return</span>&nbsp;<span class="ident" id="2479303"><a href="/reflect/value.go.html#2479056">v</a></span><span class="op" id="2479304">.</span><span class="ident" id="2479305">Method</span><span class="op" id="2479311">(</span><span class="ident" id="2479312"><a href="/reflect/value.go.html#2479231">m</a></span><span class="op" id="2479313">.</span><span class="ident" id="2479314">Index</span><span class="op" id="2479319">)</span><br>
<span class="lineno"></span><span class="op" id="2479321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2479324">//&nbsp;NumField&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;fields&nbsp;in&nbsp;the&nbsp;struct&nbsp;v.</span><br>
<span class="lineno">1115</span><span class="comment" id="2479382">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno"></span><span class="keyword" id="2479422">func</span>&nbsp;<span class="op" id="2479427">(</span><span class="ident" id="2479428">v</span>&nbsp;<span class="ident" id="2479430"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2479435">)</span>&nbsp;<span class="ident" id="2479437">NumField</span><span class="op" id="2479445">(</span><span class="op" id="2479446">)</span>&nbsp;<span class="builtintype" id="2479448">int</span>&nbsp;<span class="op" id="2479452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479455"><a href="/reflect/value.go.html#2479428">v</a></span><span class="op" id="2479456">.</span><span class="ident" id="2479457">mustBe</span><span class="op" id="2479463">(</span><span class="ident" id="2479464"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2479470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479473">tt</span>&nbsp;<span class="op" id="2479476">:=</span>&nbsp;<span class="op" id="2479479">(</span><span class="op" id="2479480">*</span><span class="ident" id="2479481"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2479491">)</span><span class="op" id="2479492">(</span><span class="ident" id="2479493"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2479499">.</span><span class="ident" id="2479500">Pointer</span><span class="op" id="2479507">(</span><span class="ident" id="2479508"><a href="/reflect/value.go.html#2479428">v</a></span><span class="op" id="2479509">.</span><span class="ident" id="2479510">typ</span><span class="op" id="2479513">)</span><span class="op" id="2479514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479517">return</span>&nbsp;<span class="builtinfunc" id="2479524">len</span><span class="op" id="2479527">(</span><span class="ident" id="2479528"><a href="/reflect/value.go.html#2479473">tt</a></span><span class="op" id="2479530">.</span><span class="ident" id="2479531">fields</span><span class="op" id="2479537">)</span><br>
<span class="lineno">1120</span><span class="op" id="2479539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2479542">//&nbsp;OverflowComplex&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;complex128&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;v&#39;s&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2479629">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Complex64&nbsp;or&nbsp;Complex128.</span><br>
<span class="lineno"></span><span class="keyword" id="2479686">func</span>&nbsp;<span class="op" id="2479691">(</span><span class="ident" id="2479692">v</span>&nbsp;<span class="ident" id="2479694"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2479699">)</span>&nbsp;<span class="ident" id="2479701">OverflowComplex</span><span class="op" id="2479716">(</span><span class="ident" id="2479717">x</span>&nbsp;<span class="builtintype" id="2479719">complex128</span><span class="op" id="2479729">)</span>&nbsp;<span class="builtintype" id="2479731">bool</span>&nbsp;<span class="op" id="2479736">{</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2479739">k</span>&nbsp;<span class="op" id="2479741">:=</span>&nbsp;<span class="ident" id="2479744"><a href="/reflect/value.go.html#2479692">v</a></span><span class="op" id="2479745">.</span><span class="ident" id="2479746">kind</span><span class="op" id="2479750">(</span><span class="op" id="2479751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479754">switch</span>&nbsp;<span class="ident" id="2479761"><a href="/reflect/value.go.html#2479739">k</a></span>&nbsp;<span class="op" id="2479763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479766">case</span>&nbsp;<span class="ident" id="2479771"><a href="/reflect/type.go.html#2401327">Complex64</a></span><span class="op" id="2479780">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479784">return</span>&nbsp;<span class="ident" id="2479791"><a href="/reflect/value.go.html#2480299">overflowFloat32</a></span><span class="op" id="2479806">(</span><span class="builtinfunc" id="2479807">real</span><span class="op" id="2479811">(</span><span class="ident" id="2479812"><a href="/reflect/value.go.html#2479717">x</a></span><span class="op" id="2479813">)</span><span class="op" id="2479814">)</span>&nbsp;<span class="op" id="2479816">||</span>&nbsp;<span class="ident" id="2479819"><a href="/reflect/value.go.html#2480299">overflowFloat32</a></span><span class="op" id="2479834">(</span><span class="builtinfunc" id="2479835">imag</span><span class="op" id="2479839">(</span><span class="ident" id="2479840"><a href="/reflect/value.go.html#2479717">x</a></span><span class="op" id="2479841">)</span><span class="op" id="2479842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479845">case</span>&nbsp;<span class="ident" id="2479850"><a href="/reflect/type.go.html#2401338">Complex128</a></span><span class="op" id="2479860">:</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2479864">return</span>&nbsp;<span class="ident" id="2479871">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2479878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2479881">panic</span><span class="op" id="2479886">(</span><span class="op" id="2479887">&amp;</span><span class="ident" id="2479888"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2479898">{</span><span class="string" id="2479899">&#34;reflect.Value.OverflowComplex&#34;</span><span class="op" id="2479930">,</span>&nbsp;<span class="ident" id="2479932"><a href="/reflect/value.go.html#2479692">v</a></span><span class="op" id="2479933">.</span><span class="ident" id="2479934">kind</span><span class="op" id="2479938">(</span><span class="op" id="2479939">)</span><span class="op" id="2479940">}</span><span class="op" id="2479941">)</span><br>
<span class="lineno"></span><span class="op" id="2479943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1135</span><span class="comment" id="2479946">//&nbsp;OverflowFloat&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;float64&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;v&#39;s&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2480028">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Float32&nbsp;or&nbsp;Float64.</span><br>
<span class="lineno"></span><span class="keyword" id="2480080">func</span>&nbsp;<span class="op" id="2480085">(</span><span class="ident" id="2480086">v</span>&nbsp;<span class="ident" id="2480088"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2480093">)</span>&nbsp;<span class="ident" id="2480095">OverflowFloat</span><span class="op" id="2480108">(</span><span class="ident" id="2480109">x</span>&nbsp;<span class="builtintype" id="2480111">float64</span><span class="op" id="2480118">)</span>&nbsp;<span class="builtintype" id="2480120">bool</span>&nbsp;<span class="op" id="2480125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480128">k</span>&nbsp;<span class="op" id="2480130">:=</span>&nbsp;<span class="ident" id="2480133"><a href="/reflect/value.go.html#2480086">v</a></span><span class="op" id="2480134">.</span><span class="ident" id="2480135">kind</span><span class="op" id="2480139">(</span><span class="op" id="2480140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480143">switch</span>&nbsp;<span class="ident" id="2480150"><a href="/reflect/value.go.html#2480128">k</a></span>&nbsp;<span class="op" id="2480152">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480155">case</span>&nbsp;<span class="ident" id="2480160"><a href="/reflect/type.go.html#2401309">Float32</a></span><span class="op" id="2480167">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480171">return</span>&nbsp;<span class="ident" id="2480178"><a href="/reflect/value.go.html#2480299">overflowFloat32</a></span><span class="op" id="2480193">(</span><span class="ident" id="2480194"><a href="/reflect/value.go.html#2480109">x</a></span><span class="op" id="2480195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480198">case</span>&nbsp;<span class="ident" id="2480203"><a href="/reflect/type.go.html#2401318">Float64</a></span><span class="op" id="2480210">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480214">return</span>&nbsp;<span class="ident" id="2480221">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480228">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2480231">panic</span><span class="op" id="2480236">(</span><span class="op" id="2480237">&amp;</span><span class="ident" id="2480238"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2480248">{</span><span class="string" id="2480249">&#34;reflect.Value.OverflowFloat&#34;</span><span class="op" id="2480278">,</span>&nbsp;<span class="ident" id="2480280"><a href="/reflect/value.go.html#2480086">v</a></span><span class="op" id="2480281">.</span><span class="ident" id="2480282">kind</span><span class="op" id="2480286">(</span><span class="op" id="2480287">)</span><span class="op" id="2480288">}</span><span class="op" id="2480289">)</span><br>
<span class="lineno"></span><span class="op" id="2480291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2480294">func</span>&nbsp;<span class="ident" id="2480299">overflowFloat32</span><span class="op" id="2480314">(</span><span class="ident" id="2480315">x</span>&nbsp;<span class="builtintype" id="2480317">float64</span><span class="op" id="2480324">)</span>&nbsp;<span class="builtintype" id="2480326">bool</span>&nbsp;<span class="op" id="2480331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480334">if</span>&nbsp;<span class="ident" id="2480337"><a href="/reflect/value.go.html#2480315">x</a></span>&nbsp;<span class="op" id="2480339">&lt;</span>&nbsp;<span class="num" id="2480341">0</span>&nbsp;<span class="op" id="2480343">{</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480347"><a href="/reflect/value.go.html#2480315">x</a></span>&nbsp;<span class="op" id="2480349">=</span>&nbsp;<span class="op" id="2480351">-</span><span class="ident" id="2480352"><a href="/reflect/value.go.html#2480315">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480358">return</span>&nbsp;<span class="ident" id="2480365"><a href="/reflect/value.go.html#2445890">math</a></span><span class="op" id="2480369">.</span><span class="ident" id="2480370">MaxFloat32</span>&nbsp;<span class="op" id="2480381">&lt;</span>&nbsp;<span class="ident" id="2480383"><a href="/reflect/value.go.html#2480315">x</a></span>&nbsp;<span class="op" id="2480385">&amp;&amp;</span>&nbsp;<span class="ident" id="2480388"><a href="/reflect/value.go.html#2480315">x</a></span>&nbsp;<span class="op" id="2480390">&lt;=</span>&nbsp;<span class="ident" id="2480393"><a href="/reflect/value.go.html#2445890">math</a></span><span class="op" id="2480397">.</span><span class="ident" id="2480398">MaxFloat64</span><br>
<span class="lineno"></span><span class="op" id="2480409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1155</span><span class="comment" id="2480412">//&nbsp;OverflowInt&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;int64&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;v&#39;s&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2480490">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Int,&nbsp;Int8,&nbsp;int16,&nbsp;Int32,&nbsp;or&nbsp;Int64.</span><br>
<span class="lineno"></span><span class="keyword" id="2480557">func</span>&nbsp;<span class="op" id="2480562">(</span><span class="ident" id="2480563">v</span>&nbsp;<span class="ident" id="2480565"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2480570">)</span>&nbsp;<span class="ident" id="2480572">OverflowInt</span><span class="op" id="2480583">(</span><span class="ident" id="2480584">x</span>&nbsp;<span class="ident" id="2480586">int64</span><span class="op" id="2480591">)</span>&nbsp;<span class="builtintype" id="2480593">bool</span>&nbsp;<span class="op" id="2480598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480601">k</span>&nbsp;<span class="op" id="2480603">:=</span>&nbsp;<span class="ident" id="2480606"><a href="/reflect/value.go.html#2480563">v</a></span><span class="op" id="2480607">.</span><span class="ident" id="2480608">kind</span><span class="op" id="2480612">(</span><span class="op" id="2480613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480616">switch</span>&nbsp;<span class="ident" id="2480623"><a href="/reflect/value.go.html#2480601">k</a></span>&nbsp;<span class="op" id="2480625">{</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480628">case</span>&nbsp;<span class="ident" id="2480633"><a href="/reflect/type.go.html#2401231">Int</a></span><span class="op" id="2480636">,</span>&nbsp;<span class="ident" id="2480638"><a href="/reflect/type.go.html#2401236">Int8</a></span><span class="op" id="2480642">,</span>&nbsp;<span class="ident" id="2480644"><a href="/reflect/type.go.html#2401242">Int16</a></span><span class="op" id="2480649">,</span>&nbsp;<span class="ident" id="2480651"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2480656">,</span>&nbsp;<span class="ident" id="2480658"><a href="/reflect/type.go.html#2401256">Int64</a></span><span class="op" id="2480663">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480667">bitSize</span>&nbsp;<span class="op" id="2480675">:=</span>&nbsp;<span class="ident" id="2480678"><a href="/reflect/value.go.html#2480563">v</a></span><span class="op" id="2480679">.</span><span class="ident" id="2480680">typ</span><span class="op" id="2480683">.</span><span class="ident" id="2480684">size</span>&nbsp;<span class="op" id="2480689">*</span>&nbsp;<span class="num" id="2480691">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2480695">trunc</span>&nbsp;<span class="op" id="2480701">:=</span>&nbsp;<span class="op" id="2480704">(</span><span class="ident" id="2480705"><a href="/reflect/value.go.html#2480584">x</a></span>&nbsp;<span class="op" id="2480707">&lt;&lt;</span>&nbsp;<span class="op" id="2480710">(</span><span class="num" id="2480711">64</span>&nbsp;<span class="op" id="2480714">-</span>&nbsp;<span class="ident" id="2480716"><a href="/reflect/value.go.html#2480667">bitSize</a></span><span class="op" id="2480723">)</span><span class="op" id="2480724">)</span>&nbsp;<span class="op" id="2480726">&gt;&gt;</span>&nbsp;<span class="op" id="2480729">(</span><span class="num" id="2480730">64</span>&nbsp;<span class="op" id="2480733">-</span>&nbsp;<span class="ident" id="2480735"><a href="/reflect/value.go.html#2480667">bitSize</a></span><span class="op" id="2480742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2480746">return</span>&nbsp;<span class="ident" id="2480753"><a href="/reflect/value.go.html#2480584">x</a></span>&nbsp;<span class="op" id="2480755">!=</span>&nbsp;<span class="ident" id="2480758"><a href="/reflect/value.go.html#2480695">trunc</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2480765">}</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2480768">panic</span><span class="op" id="2480773">(</span><span class="op" id="2480774">&amp;</span><span class="ident" id="2480775"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2480785">{</span><span class="string" id="2480786">&#34;reflect.Value.OverflowInt&#34;</span><span class="op" id="2480813">,</span>&nbsp;<span class="ident" id="2480815"><a href="/reflect/value.go.html#2480563">v</a></span><span class="op" id="2480816">.</span><span class="ident" id="2480817">kind</span><span class="op" id="2480821">(</span><span class="op" id="2480822">)</span><span class="op" id="2480823">}</span><span class="op" id="2480824">)</span><br>
<span class="lineno"></span><span class="op" id="2480826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2480829">//&nbsp;OverflowUint&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;uint64&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;v&#39;s&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2480909">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Uint,&nbsp;Uintptr,&nbsp;Uint8,&nbsp;Uint16,&nbsp;Uint32,&nbsp;or&nbsp;Uint64.</span><br>
<span class="lineno">1170</span><span class="keyword" id="2480990">func</span>&nbsp;<span class="op" id="2480995">(</span><span class="ident" id="2480996">v</span>&nbsp;<span class="ident" id="2480998"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2481003">)</span>&nbsp;<span class="ident" id="2481005">OverflowUint</span><span class="op" id="2481017">(</span><span class="ident" id="2481018">x</span>&nbsp;<span class="ident" id="2481020">uint64</span><span class="op" id="2481026">)</span>&nbsp;<span class="builtintype" id="2481028">bool</span>&nbsp;<span class="op" id="2481033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481036">k</span>&nbsp;<span class="op" id="2481038">:=</span>&nbsp;<span class="ident" id="2481041"><a href="/reflect/value.go.html#2480996">v</a></span><span class="op" id="2481042">.</span><span class="ident" id="2481043">kind</span><span class="op" id="2481047">(</span><span class="op" id="2481048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481051">switch</span>&nbsp;<span class="ident" id="2481058"><a href="/reflect/value.go.html#2481036">k</a></span>&nbsp;<span class="op" id="2481060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481063">case</span>&nbsp;<span class="ident" id="2481068"><a href="/reflect/type.go.html#2401263">Uint</a></span><span class="op" id="2481072">,</span>&nbsp;<span class="ident" id="2481074"><a href="/reflect/type.go.html#2401300">Uintptr</a></span><span class="op" id="2481081">,</span>&nbsp;<span class="ident" id="2481083"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2481088">,</span>&nbsp;<span class="ident" id="2481090"><a href="/reflect/type.go.html#2401276">Uint16</a></span><span class="op" id="2481096">,</span>&nbsp;<span class="ident" id="2481098"><a href="/reflect/type.go.html#2401284">Uint32</a></span><span class="op" id="2481104">,</span>&nbsp;<span class="ident" id="2481106"><a href="/reflect/type.go.html#2401292">Uint64</a></span><span class="op" id="2481112">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481116">bitSize</span>&nbsp;<span class="op" id="2481124">:=</span>&nbsp;<span class="ident" id="2481127"><a href="/reflect/value.go.html#2480996">v</a></span><span class="op" id="2481128">.</span><span class="ident" id="2481129">typ</span><span class="op" id="2481132">.</span><span class="ident" id="2481133">size</span>&nbsp;<span class="op" id="2481138">*</span>&nbsp;<span class="num" id="2481140">8</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2481144">trunc</span>&nbsp;<span class="op" id="2481150">:=</span>&nbsp;<span class="op" id="2481153">(</span><span class="ident" id="2481154"><a href="/reflect/value.go.html#2481018">x</a></span>&nbsp;<span class="op" id="2481156">&lt;&lt;</span>&nbsp;<span class="op" id="2481159">(</span><span class="num" id="2481160">64</span>&nbsp;<span class="op" id="2481163">-</span>&nbsp;<span class="ident" id="2481165"><a href="/reflect/value.go.html#2481116">bitSize</a></span><span class="op" id="2481172">)</span><span class="op" id="2481173">)</span>&nbsp;<span class="op" id="2481175">&gt;&gt;</span>&nbsp;<span class="op" id="2481178">(</span><span class="num" id="2481179">64</span>&nbsp;<span class="op" id="2481182">-</span>&nbsp;<span class="ident" id="2481184"><a href="/reflect/value.go.html#2481116">bitSize</a></span><span class="op" id="2481191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2481195">return</span>&nbsp;<span class="ident" id="2481202"><a href="/reflect/value.go.html#2481018">x</a></span>&nbsp;<span class="op" id="2481204">!=</span>&nbsp;<span class="ident" id="2481207"><a href="/reflect/value.go.html#2481144">trunc</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2481214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2481217">panic</span><span class="op" id="2481222">(</span><span class="op" id="2481223">&amp;</span><span class="ident" id="2481224"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2481234">{</span><span class="string" id="2481235">&#34;reflect.Value.OverflowUint&#34;</span><span class="op" id="2481263">,</span>&nbsp;<span class="ident" id="2481265"><a href="/reflect/value.go.html#2480996">v</a></span><span class="op" id="2481266">.</span><span class="ident" id="2481267">kind</span><span class="op" id="2481271">(</span><span class="op" id="2481272">)</span><span class="op" id="2481273">}</span><span class="op" id="2481274">)</span><br>
<span class="lineno"></span><span class="op" id="2481276">}</span><br>
<span class="lineno">1180</span><br>
<span class="lineno"></span><span class="comment" id="2481279">//&nbsp;Pointer&nbsp;returns&nbsp;v&#39;s&nbsp;value&nbsp;as&nbsp;a&nbsp;uintptr.</span><br>
<span class="lineno"></span><span class="comment" id="2481322">//&nbsp;It&nbsp;returns&nbsp;uintptr&nbsp;instead&nbsp;of&nbsp;unsafe.Pointer&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2481378">//&nbsp;code&nbsp;using&nbsp;reflect&nbsp;cannot&nbsp;obtain&nbsp;unsafe.Pointers</span><br>
<span class="lineno"></span><span class="comment" id="2481430">//&nbsp;without&nbsp;importing&nbsp;the&nbsp;unsafe&nbsp;package&nbsp;explicitly.</span><br>
<span class="lineno">1185</span><span class="comment" id="2481482">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Chan,&nbsp;Func,&nbsp;Map,&nbsp;Ptr,&nbsp;Slice,&nbsp;or&nbsp;UnsafePointer.</span><br>
<span class="lineno"></span><span class="comment" id="2481561">//</span><br>
<span class="lineno"></span><span class="comment" id="2481564">//&nbsp;If&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;Func,&nbsp;the&nbsp;returned&nbsp;pointer&nbsp;is&nbsp;an&nbsp;underlying</span><br>
<span class="lineno"></span><span class="comment" id="2481626">//&nbsp;code&nbsp;pointer,&nbsp;but&nbsp;not&nbsp;necessarily&nbsp;enough&nbsp;to&nbsp;identify&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2481684">//&nbsp;single&nbsp;function&nbsp;uniquely.&nbsp;The&nbsp;only&nbsp;guarantee&nbsp;is&nbsp;that&nbsp;the</span><br>
<span class="lineno">1190</span><span class="comment" id="2481744">//&nbsp;result&nbsp;is&nbsp;zero&nbsp;if&nbsp;and&nbsp;only&nbsp;if&nbsp;v&nbsp;is&nbsp;a&nbsp;nil&nbsp;func&nbsp;Value.</span><br>
<span class="lineno"></span><span class="comment" id="2481800">//</span><br>
<span class="lineno"></span><span class="comment" id="2481803">//&nbsp;If&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;Slice,&nbsp;the&nbsp;returned&nbsp;pointer&nbsp;is&nbsp;to&nbsp;the&nbsp;first</span><br>
<span class="lineno"></span><span class="comment" id="2481865">//&nbsp;element&nbsp;of&nbsp;the&nbsp;slice.&nbsp;&nbsp;If&nbsp;the&nbsp;slice&nbsp;is&nbsp;nil&nbsp;the&nbsp;returned&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2481930">//&nbsp;is&nbsp;0.&nbsp;&nbsp;If&nbsp;the&nbsp;slice&nbsp;is&nbsp;empty&nbsp;but&nbsp;non-nil&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;non-zero.</span><br>
<span class="lineno">1195</span><span class="keyword" id="2482004">func</span>&nbsp;<span class="op" id="2482009">(</span><span class="ident" id="2482010">v</span>&nbsp;<span class="ident" id="2482012"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2482017">)</span>&nbsp;<span class="ident" id="2482019">Pointer</span><span class="op" id="2482026">(</span><span class="op" id="2482027">)</span>&nbsp;<span class="builtintype" id="2482029">uintptr</span>&nbsp;<span class="op" id="2482037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482040">//&nbsp;TODO:&nbsp;deprecate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482060">k</span>&nbsp;<span class="op" id="2482062">:=</span>&nbsp;<span class="ident" id="2482065"><a href="/reflect/value.go.html#2482010">v</a></span><span class="op" id="2482066">.</span><span class="ident" id="2482067">kind</span><span class="op" id="2482071">(</span><span class="op" id="2482072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482075">switch</span>&nbsp;<span class="ident" id="2482082"><a href="/reflect/value.go.html#2482060">k</a></span>&nbsp;<span class="op" id="2482084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482087">case</span>&nbsp;<span class="ident" id="2482092"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2482096">,</span>&nbsp;<span class="ident" id="2482098"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2482101">,</span>&nbsp;<span class="ident" id="2482103"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2482106">,</span>&nbsp;<span class="ident" id="2482108"><a href="/reflect/type.go.html#2401413">UnsafePointer</a></span><span class="op" id="2482121">:</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482125">return</span>&nbsp;<span class="builtintype" id="2482132">uintptr</span><span class="op" id="2482139">(</span><span class="ident" id="2482140"><a href="/reflect/value.go.html#2482010">v</a></span><span class="op" id="2482141">.</span><span class="ident" id="2482142">pointer</span><span class="op" id="2482149">(</span><span class="op" id="2482150">)</span><span class="op" id="2482151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482154">case</span>&nbsp;<span class="ident" id="2482159"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2482163">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482167">if</span>&nbsp;<span class="ident" id="2482170"><a href="/reflect/value.go.html#2482010">v</a></span><span class="op" id="2482171">.</span><span class="ident" id="2482172">flag</span><span class="op" id="2482176">&amp;</span><span class="ident" id="2482177"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2482188">!=</span>&nbsp;<span class="num" id="2482191">0</span>&nbsp;<span class="op" id="2482193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482198">//&nbsp;As&nbsp;the&nbsp;doc&nbsp;comment&nbsp;says,&nbsp;the&nbsp;returned&nbsp;pointer&nbsp;is&nbsp;an</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482256">//&nbsp;underlying&nbsp;code&nbsp;pointer&nbsp;but&nbsp;not&nbsp;necessarily&nbsp;enough&nbsp;to</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482316">//&nbsp;identify&nbsp;a&nbsp;single&nbsp;function&nbsp;uniquely.&nbsp;All&nbsp;method&nbsp;expressions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482382">//&nbsp;created&nbsp;via&nbsp;reflect&nbsp;have&nbsp;the&nbsp;same&nbsp;underlying&nbsp;code&nbsp;pointer,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482447">//&nbsp;so&nbsp;their&nbsp;Pointers&nbsp;are&nbsp;equal.&nbsp;The&nbsp;function&nbsp;used&nbsp;here&nbsp;must</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482510">//&nbsp;match&nbsp;the&nbsp;one&nbsp;used&nbsp;in&nbsp;makeMethodValue.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482555">f</span>&nbsp;<span class="op" id="2482557">:=</span>&nbsp;<span class="ident" id="2482560"><a href="/reflect/makefunc.go.html#2393639">methodValueCall</a></span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482579">return</span>&nbsp;<span class="op" id="2482586">*</span><span class="op" id="2482587">*</span><span class="op" id="2482588">(</span><span class="op" id="2482589">*</span><span class="op" id="2482590">*</span><span class="builtintype" id="2482591">uintptr</span><span class="op" id="2482598">)</span><span class="op" id="2482599">(</span><span class="ident" id="2482600"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2482606">.</span><span class="ident" id="2482607">Pointer</span><span class="op" id="2482614">(</span><span class="op" id="2482615">&amp;</span><span class="ident" id="2482616"><a href="/reflect/value.go.html#2482555">f</a></span><span class="op" id="2482617">)</span><span class="op" id="2482618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2482622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482626">p</span>&nbsp;<span class="op" id="2482628">:=</span>&nbsp;<span class="ident" id="2482631"><a href="/reflect/value.go.html#2482010">v</a></span><span class="op" id="2482632">.</span><span class="ident" id="2482633">pointer</span><span class="op" id="2482640">(</span><span class="op" id="2482641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482645">//&nbsp;Non-nil&nbsp;func&nbsp;value&nbsp;points&nbsp;at&nbsp;data&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2482691">//&nbsp;First&nbsp;word&nbsp;of&nbsp;data&nbsp;block&nbsp;is&nbsp;actual&nbsp;code.</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482737">if</span>&nbsp;<span class="ident" id="2482740"><a href="/reflect/value.go.html#2482626">p</a></span>&nbsp;<span class="op" id="2482742">!=</span>&nbsp;<span class="ident" id="2482745">nil</span>&nbsp;<span class="op" id="2482749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2482754"><a href="/reflect/value.go.html#2482626">p</a></span>&nbsp;<span class="op" id="2482756">=</span>&nbsp;<span class="op" id="2482758">*</span><span class="op" id="2482759">(</span><span class="op" id="2482760">*</span><span class="ident" id="2482761"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2482767">.</span><span class="ident" id="2482768">Pointer</span><span class="op" id="2482775">)</span><span class="op" id="2482776">(</span><span class="ident" id="2482777"><a href="/reflect/value.go.html#2482626">p</a></span><span class="op" id="2482778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2482782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482786">return</span>&nbsp;<span class="builtintype" id="2482793">uintptr</span><span class="op" id="2482800">(</span><span class="ident" id="2482801"><a href="/reflect/value.go.html#2482626">p</a></span><span class="op" id="2482802">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482806">case</span>&nbsp;<span class="ident" id="2482811"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2482816">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2482820">return</span>&nbsp;<span class="op" id="2482827">(</span><span class="op" id="2482828">*</span><span class="ident" id="2482829"><a href="/reflect/value.go.html#2496792">SliceHeader</a></span><span class="op" id="2482840">)</span><span class="op" id="2482841">(</span><span class="ident" id="2482842"><a href="/reflect/value.go.html#2482010">v</a></span><span class="op" id="2482843">.</span><span class="ident" id="2482844">ptr</span><span class="op" id="2482847">)</span><span class="op" id="2482848">.</span><span class="ident" id="2482849">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2482855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2482858">panic</span><span class="op" id="2482863">(</span><span class="op" id="2482864">&amp;</span><span class="ident" id="2482865"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2482875">{</span><span class="string" id="2482876">&#34;reflect.Value.Pointer&#34;</span><span class="op" id="2482899">,</span>&nbsp;<span class="ident" id="2482901"><a href="/reflect/value.go.html#2482010">v</a></span><span class="op" id="2482902">.</span><span class="ident" id="2482903">kind</span><span class="op" id="2482907">(</span><span class="op" id="2482908">)</span><span class="op" id="2482909">}</span><span class="op" id="2482910">)</span><br>
<span class="lineno"></span><span class="op" id="2482912">}</span><br>
<span class="lineno">1225</span><br>
<span class="lineno"></span><span class="comment" id="2482915">//&nbsp;Recv&nbsp;receives&nbsp;and&nbsp;returns&nbsp;a&nbsp;value&nbsp;from&nbsp;the&nbsp;channel&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="2482972">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Chan.</span><br>
<span class="lineno"></span><span class="comment" id="2483010">//&nbsp;The&nbsp;receive&nbsp;blocks&nbsp;until&nbsp;a&nbsp;value&nbsp;is&nbsp;ready.</span><br>
<span class="lineno"></span><span class="comment" id="2483056">//&nbsp;The&nbsp;boolean&nbsp;value&nbsp;ok&nbsp;is&nbsp;true&nbsp;if&nbsp;the&nbsp;value&nbsp;x&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;send</span><br>
<span class="lineno">1230</span><span class="comment" id="2483125">//&nbsp;on&nbsp;the&nbsp;channel,&nbsp;false&nbsp;if&nbsp;it&nbsp;is&nbsp;a&nbsp;zero&nbsp;value&nbsp;received&nbsp;because&nbsp;the&nbsp;channel&nbsp;is&nbsp;closed.</span><br>
<span class="lineno"></span><span class="keyword" id="2483212">func</span>&nbsp;<span class="op" id="2483217">(</span><span class="ident" id="2483218">v</span>&nbsp;<span class="ident" id="2483220"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2483225">)</span>&nbsp;<span class="ident" id="2483227">Recv</span><span class="op" id="2483231">(</span><span class="op" id="2483232">)</span>&nbsp;<span class="op" id="2483234">(</span><span class="ident" id="2483235">x</span>&nbsp;<span class="ident" id="2483237"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2483242">,</span>&nbsp;<span class="ident" id="2483244">ok</span>&nbsp;<span class="builtintype" id="2483247">bool</span><span class="op" id="2483251">)</span>&nbsp;<span class="op" id="2483253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483256"><a href="/reflect/value.go.html#2483218">v</a></span><span class="op" id="2483257">.</span><span class="ident" id="2483258">mustBe</span><span class="op" id="2483264">(</span><span class="ident" id="2483265"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2483269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483272"><a href="/reflect/value.go.html#2483218">v</a></span><span class="op" id="2483273">.</span><span class="ident" id="2483274">mustBeExported</span><span class="op" id="2483288">(</span><span class="op" id="2483289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483292">return</span>&nbsp;<span class="ident" id="2483299"><a href="/reflect/value.go.html#2483218">v</a></span><span class="op" id="2483300">.</span><span class="ident" id="2483301">recv</span><span class="op" id="2483305">(</span><span class="ident" id="2483306">false</span><span class="op" id="2483311">)</span><br>
<span class="lineno">1235</span><span class="op" id="2483313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2483316">//&nbsp;internal&nbsp;recv,&nbsp;possibly&nbsp;non-blocking&nbsp;(nb).</span><br>
<span class="lineno"></span><span class="comment" id="2483362">//&nbsp;v&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;a&nbsp;channel.</span><br>
<span class="lineno"></span><span class="keyword" id="2483393">func</span>&nbsp;<span class="op" id="2483398">(</span><span class="ident" id="2483399">v</span>&nbsp;<span class="ident" id="2483401"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2483406">)</span>&nbsp;<span class="ident" id="2483408">recv</span><span class="op" id="2483412">(</span><span class="ident" id="2483413">nb</span>&nbsp;<span class="builtintype" id="2483416">bool</span><span class="op" id="2483420">)</span>&nbsp;<span class="op" id="2483422">(</span><span class="ident" id="2483423">val</span>&nbsp;<span class="ident" id="2483427"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2483432">,</span>&nbsp;<span class="ident" id="2483434">ok</span>&nbsp;<span class="builtintype" id="2483437">bool</span><span class="op" id="2483441">)</span>&nbsp;<span class="op" id="2483443">{</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483446">tt</span>&nbsp;<span class="op" id="2483449">:=</span>&nbsp;<span class="op" id="2483452">(</span><span class="op" id="2483453">*</span><span class="ident" id="2483454"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2483462">)</span><span class="op" id="2483463">(</span><span class="ident" id="2483464"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2483470">.</span><span class="ident" id="2483471">Pointer</span><span class="op" id="2483478">(</span><span class="ident" id="2483479"><a href="/reflect/value.go.html#2483399">v</a></span><span class="op" id="2483480">.</span><span class="ident" id="2483481">typ</span><span class="op" id="2483484">)</span><span class="op" id="2483485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483488">if</span>&nbsp;<span class="ident" id="2483491"><a href="/reflect/type.go.html#2403748">ChanDir</a></span><span class="op" id="2483498">(</span><span class="ident" id="2483499"><a href="/reflect/value.go.html#2483446">tt</a></span><span class="op" id="2483501">.</span><span class="ident" id="2483502">dir</span><span class="op" id="2483505">)</span><span class="op" id="2483506">&amp;</span><span class="ident" id="2483507"><a href="/reflect/type.go.html#2403770">RecvDir</a></span>&nbsp;<span class="op" id="2483515">==</span>&nbsp;<span class="num" id="2483518">0</span>&nbsp;<span class="op" id="2483520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2483524">panic</span><span class="op" id="2483529">(</span><span class="string" id="2483530">&#34;reflect:&nbsp;recv&nbsp;on&nbsp;send-only&nbsp;channel&#34;</span><span class="op" id="2483566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483572">t</span>&nbsp;<span class="op" id="2483574">:=</span>&nbsp;<span class="ident" id="2483577"><a href="/reflect/value.go.html#2483446">tt</a></span><span class="op" id="2483579">.</span><span class="ident" id="2483580">elem</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483586"><a href="/reflect/value.go.html#2483423">val</a></span>&nbsp;<span class="op" id="2483590">=</span>&nbsp;<span class="ident" id="2483592"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2483597">{</span><span class="ident" id="2483598"><a href="/reflect/value.go.html#2483572">t</a></span><span class="op" id="2483599">,</span>&nbsp;<span class="ident" id="2483601">nil</span><span class="op" id="2483604">,</span>&nbsp;<span class="ident" id="2483606"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2483610">(</span><span class="ident" id="2483611"><a href="/reflect/value.go.html#2483572">t</a></span><span class="op" id="2483612">.</span><span class="ident" id="2483613">Kind</span><span class="op" id="2483617">(</span><span class="op" id="2483618">)</span><span class="op" id="2483619">)</span><span class="op" id="2483620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483623">var</span>&nbsp;<span class="ident" id="2483627">p</span>&nbsp;<span class="ident" id="2483629"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2483635">.</span><span class="ident" id="2483636">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483645">if</span>&nbsp;<span class="ident" id="2483648"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2483658">(</span><span class="ident" id="2483659"><a href="/reflect/value.go.html#2483572">t</a></span><span class="op" id="2483660">)</span>&nbsp;<span class="op" id="2483662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483666"><a href="/reflect/value.go.html#2483627">p</a></span>&nbsp;<span class="op" id="2483668">=</span>&nbsp;<span class="ident" id="2483670"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2483680">(</span><span class="ident" id="2483681"><a href="/reflect/value.go.html#2483572">t</a></span><span class="op" id="2483682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483686"><a href="/reflect/value.go.html#2483423">val</a></span><span class="op" id="2483689">.</span><span class="ident" id="2483690">ptr</span>&nbsp;<span class="op" id="2483694">=</span>&nbsp;<span class="ident" id="2483696"><a href="/reflect/value.go.html#2483627">p</a></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483700"><a href="/reflect/value.go.html#2483423">val</a></span><span class="op" id="2483703">.</span><span class="ident" id="2483704">flag</span>&nbsp;<span class="op" id="2483709">|=</span>&nbsp;<span class="ident" id="2483712"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483723">}</span>&nbsp;<span class="keyword" id="2483725">else</span>&nbsp;<span class="op" id="2483730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483734"><a href="/reflect/value.go.html#2483627">p</a></span>&nbsp;<span class="op" id="2483736">=</span>&nbsp;<span class="ident" id="2483738"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2483744">.</span><span class="ident" id="2483745">Pointer</span><span class="op" id="2483752">(</span><span class="op" id="2483753">&amp;</span><span class="ident" id="2483754"><a href="/reflect/value.go.html#2483423">val</a></span><span class="op" id="2483757">.</span><span class="ident" id="2483758">ptr</span><span class="op" id="2483761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483767">selected</span><span class="op" id="2483775">,</span>&nbsp;<span class="ident" id="2483777"><a href="/reflect/value.go.html#2483434">ok</a></span>&nbsp;<span class="op" id="2483780">:=</span>&nbsp;<span class="ident" id="2483783"><a href="/reflect/value.go.html#2515539">chanrecv</a></span><span class="op" id="2483791">(</span><span class="ident" id="2483792"><a href="/reflect/value.go.html#2483399">v</a></span><span class="op" id="2483793">.</span><span class="ident" id="2483794">typ</span><span class="op" id="2483797">,</span>&nbsp;<span class="ident" id="2483799"><a href="/reflect/value.go.html#2483399">v</a></span><span class="op" id="2483800">.</span><span class="ident" id="2483801">pointer</span><span class="op" id="2483808">(</span><span class="op" id="2483809">)</span><span class="op" id="2483810">,</span>&nbsp;<span class="ident" id="2483812"><a href="/reflect/value.go.html#2483413">nb</a></span><span class="op" id="2483814">,</span>&nbsp;<span class="ident" id="2483816"><a href="/reflect/value.go.html#2483627">p</a></span><span class="op" id="2483817">)</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483820">if</span>&nbsp;<span class="op" id="2483823">!</span><span class="ident" id="2483824"><a href="/reflect/value.go.html#2483767">selected</a></span>&nbsp;<span class="op" id="2483833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2483837"><a href="/reflect/value.go.html#2483423">val</a></span>&nbsp;<span class="op" id="2483841">=</span>&nbsp;<span class="ident" id="2483843"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2483848">{</span><span class="op" id="2483849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2483852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2483855">return</span><br>
<span class="lineno"></span><span class="op" id="2483862">}</span><br>
<span class="lineno">1260</span><br>
<span class="lineno"></span><span class="comment" id="2483865">//&nbsp;Send&nbsp;sends&nbsp;x&nbsp;on&nbsp;the&nbsp;channel&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="2483899">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;kind&nbsp;is&nbsp;not&nbsp;Chan&nbsp;or&nbsp;if&nbsp;x&#39;s&nbsp;type&nbsp;is&nbsp;not&nbsp;the&nbsp;same&nbsp;type&nbsp;as&nbsp;v&#39;s&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2483993">//&nbsp;As&nbsp;in&nbsp;Go,&nbsp;x&#39;s&nbsp;value&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;the&nbsp;channel&#39;s&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2484066">func</span>&nbsp;<span class="op" id="2484071">(</span><span class="ident" id="2484072">v</span>&nbsp;<span class="ident" id="2484074"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2484079">)</span>&nbsp;<span class="ident" id="2484081">Send</span><span class="op" id="2484085">(</span><span class="ident" id="2484086">x</span>&nbsp;<span class="ident" id="2484088"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2484093">)</span>&nbsp;<span class="op" id="2484095">{</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484098"><a href="/reflect/value.go.html#2484072">v</a></span><span class="op" id="2484099">.</span><span class="ident" id="2484100">mustBe</span><span class="op" id="2484106">(</span><span class="ident" id="2484107"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2484111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484114"><a href="/reflect/value.go.html#2484072">v</a></span><span class="op" id="2484115">.</span><span class="ident" id="2484116">mustBeExported</span><span class="op" id="2484130">(</span><span class="op" id="2484131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484134"><a href="/reflect/value.go.html#2484072">v</a></span><span class="op" id="2484135">.</span><span class="ident" id="2484136">send</span><span class="op" id="2484140">(</span><span class="ident" id="2484141"><a href="/reflect/value.go.html#2484086">x</a></span><span class="op" id="2484142">,</span>&nbsp;<span class="ident" id="2484144">false</span><span class="op" id="2484149">)</span><br>
<span class="lineno"></span><span class="op" id="2484151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="comment" id="2484154">//&nbsp;internal&nbsp;send,&nbsp;possibly&nbsp;non-blocking.</span><br>
<span class="lineno"></span><span class="comment" id="2484195">//&nbsp;v&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;a&nbsp;channel.</span><br>
<span class="lineno"></span><span class="keyword" id="2484226">func</span>&nbsp;<span class="op" id="2484231">(</span><span class="ident" id="2484232">v</span>&nbsp;<span class="ident" id="2484234"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2484239">)</span>&nbsp;<span class="ident" id="2484241">send</span><span class="op" id="2484245">(</span><span class="ident" id="2484246">x</span>&nbsp;<span class="ident" id="2484248"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2484253">,</span>&nbsp;<span class="ident" id="2484255">nb</span>&nbsp;<span class="builtintype" id="2484258">bool</span><span class="op" id="2484262">)</span>&nbsp;<span class="op" id="2484264">(</span><span class="ident" id="2484265">selected</span>&nbsp;<span class="builtintype" id="2484274">bool</span><span class="op" id="2484278">)</span>&nbsp;<span class="op" id="2484280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484283">tt</span>&nbsp;<span class="op" id="2484286">:=</span>&nbsp;<span class="op" id="2484289">(</span><span class="op" id="2484290">*</span><span class="ident" id="2484291"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2484299">)</span><span class="op" id="2484300">(</span><span class="ident" id="2484301"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2484307">.</span><span class="ident" id="2484308">Pointer</span><span class="op" id="2484315">(</span><span class="ident" id="2484316"><a href="/reflect/value.go.html#2484232">v</a></span><span class="op" id="2484317">.</span><span class="ident" id="2484318">typ</span><span class="op" id="2484321">)</span><span class="op" id="2484322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484325">if</span>&nbsp;<span class="ident" id="2484328"><a href="/reflect/type.go.html#2403748">ChanDir</a></span><span class="op" id="2484335">(</span><span class="ident" id="2484336"><a href="/reflect/value.go.html#2484283">tt</a></span><span class="op" id="2484338">.</span><span class="ident" id="2484339">dir</span><span class="op" id="2484342">)</span><span class="op" id="2484343">&amp;</span><span class="ident" id="2484344"><a href="/reflect/type.go.html#2403821">SendDir</a></span>&nbsp;<span class="op" id="2484352">==</span>&nbsp;<span class="num" id="2484355">0</span>&nbsp;<span class="op" id="2484357">{</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2484361">panic</span><span class="op" id="2484366">(</span><span class="string" id="2484367">&#34;reflect:&nbsp;send&nbsp;on&nbsp;recv-only&nbsp;channel&#34;</span><span class="op" id="2484403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2484406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484409"><a href="/reflect/value.go.html#2484246">x</a></span><span class="op" id="2484410">.</span><span class="ident" id="2484411">mustBeExported</span><span class="op" id="2484425">(</span><span class="op" id="2484426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484429"><a href="/reflect/value.go.html#2484246">x</a></span>&nbsp;<span class="op" id="2484431">=</span>&nbsp;<span class="ident" id="2484433"><a href="/reflect/value.go.html#2484246">x</a></span><span class="op" id="2484434">.</span><span class="ident" id="2484435">assignTo</span><span class="op" id="2484443">(</span><span class="string" id="2484444">&#34;reflect.Value.Send&#34;</span><span class="op" id="2484464">,</span>&nbsp;<span class="ident" id="2484466"><a href="/reflect/value.go.html#2484283">tt</a></span><span class="op" id="2484468">.</span><span class="ident" id="2484469">elem</span><span class="op" id="2484473">,</span>&nbsp;<span class="ident" id="2484475">nil</span><span class="op" id="2484478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484481">var</span>&nbsp;<span class="ident" id="2484485">p</span>&nbsp;<span class="ident" id="2484487"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2484493">.</span><span class="ident" id="2484494">Pointer</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484503">if</span>&nbsp;<span class="ident" id="2484506"><a href="/reflect/value.go.html#2484246">x</a></span><span class="op" id="2484507">.</span><span class="ident" id="2484508">flag</span><span class="op" id="2484512">&amp;</span><span class="ident" id="2484513"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2484523">!=</span>&nbsp;<span class="num" id="2484526">0</span>&nbsp;<span class="op" id="2484528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484532"><a href="/reflect/value.go.html#2484485">p</a></span>&nbsp;<span class="op" id="2484534">=</span>&nbsp;<span class="ident" id="2484536"><a href="/reflect/value.go.html#2484246">x</a></span><span class="op" id="2484537">.</span><span class="ident" id="2484538">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2484543">}</span>&nbsp;<span class="keyword" id="2484545">else</span>&nbsp;<span class="op" id="2484550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484554"><a href="/reflect/value.go.html#2484485">p</a></span>&nbsp;<span class="op" id="2484556">=</span>&nbsp;<span class="ident" id="2484558"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2484564">.</span><span class="ident" id="2484565">Pointer</span><span class="op" id="2484572">(</span><span class="op" id="2484573">&amp;</span><span class="ident" id="2484574"><a href="/reflect/value.go.html#2484246">x</a></span><span class="op" id="2484575">.</span><span class="ident" id="2484576">ptr</span><span class="op" id="2484579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2484582">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484585">return</span>&nbsp;<span class="ident" id="2484592"><a href="/reflect/value.go.html#2515652">chansend</a></span><span class="op" id="2484600">(</span><span class="ident" id="2484601"><a href="/reflect/value.go.html#2484232">v</a></span><span class="op" id="2484602">.</span><span class="ident" id="2484603">typ</span><span class="op" id="2484606">,</span>&nbsp;<span class="ident" id="2484608"><a href="/reflect/value.go.html#2484232">v</a></span><span class="op" id="2484609">.</span><span class="ident" id="2484610">pointer</span><span class="op" id="2484617">(</span><span class="op" id="2484618">)</span><span class="op" id="2484619">,</span>&nbsp;<span class="ident" id="2484621"><a href="/reflect/value.go.html#2484485">p</a></span><span class="op" id="2484622">,</span>&nbsp;<span class="ident" id="2484624"><a href="/reflect/value.go.html#2484255">nb</a></span><span class="op" id="2484626">)</span><br>
<span class="lineno"></span><span class="op" id="2484628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2484631">//&nbsp;Set&nbsp;assigns&nbsp;x&nbsp;to&nbsp;the&nbsp;value&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="2484664">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;CanSet&nbsp;returns&nbsp;false.</span><br>
<span class="lineno">1290</span><span class="comment" id="2484702">//&nbsp;As&nbsp;in&nbsp;Go,&nbsp;x&#39;s&nbsp;value&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;v&#39;s&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2484757">func</span>&nbsp;<span class="op" id="2484762">(</span><span class="ident" id="2484763">v</span>&nbsp;<span class="ident" id="2484765"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2484770">)</span>&nbsp;<span class="ident" id="2484772">Set</span><span class="op" id="2484775">(</span><span class="ident" id="2484776">x</span>&nbsp;<span class="ident" id="2484778"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2484783">)</span>&nbsp;<span class="op" id="2484785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484788"><a href="/reflect/value.go.html#2484763">v</a></span><span class="op" id="2484789">.</span><span class="ident" id="2484790">mustBeAssignable</span><span class="op" id="2484806">(</span><span class="op" id="2484807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484810"><a href="/reflect/value.go.html#2484776">x</a></span><span class="op" id="2484811">.</span><span class="ident" id="2484812">mustBeExported</span><span class="op" id="2484826">(</span><span class="op" id="2484827">)</span>&nbsp;<span class="comment" id="2484829">//&nbsp;do&nbsp;not&nbsp;let&nbsp;unexported&nbsp;x&nbsp;leak</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484862">var</span>&nbsp;<span class="ident" id="2484866">target</span>&nbsp;<span class="ident" id="2484873"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2484879">.</span><span class="ident" id="2484880">Pointer</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484889">if</span>&nbsp;<span class="ident" id="2484892"><a href="/reflect/value.go.html#2484763">v</a></span><span class="op" id="2484893">.</span><span class="ident" id="2484894">kind</span><span class="op" id="2484898">(</span><span class="op" id="2484899">)</span>&nbsp;<span class="op" id="2484901">==</span>&nbsp;<span class="ident" id="2484904"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2484914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484918"><a href="/reflect/value.go.html#2484866">target</a></span>&nbsp;<span class="op" id="2484925">=</span>&nbsp;<span class="ident" id="2484927"><a href="/reflect/value.go.html#2484763">v</a></span><span class="op" id="2484928">.</span><span class="ident" id="2484929">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2484934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2484937"><a href="/reflect/value.go.html#2484776">x</a></span>&nbsp;<span class="op" id="2484939">=</span>&nbsp;<span class="ident" id="2484941"><a href="/reflect/value.go.html#2484776">x</a></span><span class="op" id="2484942">.</span><span class="ident" id="2484943">assignTo</span><span class="op" id="2484951">(</span><span class="string" id="2484952">&#34;reflect.Set&#34;</span><span class="op" id="2484965">,</span>&nbsp;<span class="ident" id="2484967"><a href="/reflect/value.go.html#2484763">v</a></span><span class="op" id="2484968">.</span><span class="ident" id="2484969">typ</span><span class="op" id="2484972">,</span>&nbsp;<span class="ident" id="2484974"><a href="/reflect/value.go.html#2484866">target</a></span><span class="op" id="2484980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2484983">if</span>&nbsp;<span class="ident" id="2484986"><a href="/reflect/value.go.html#2484776">x</a></span><span class="op" id="2484987">.</span><span class="ident" id="2484988">flag</span><span class="op" id="2484992">&amp;</span><span class="ident" id="2484993"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2485003">!=</span>&nbsp;<span class="num" id="2485006">0</span>&nbsp;<span class="op" id="2485008">{</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485012"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2485019">(</span><span class="ident" id="2485020"><a href="/reflect/value.go.html#2484763">v</a></span><span class="op" id="2485021">.</span><span class="ident" id="2485022">ptr</span><span class="op" id="2485025">,</span>&nbsp;<span class="ident" id="2485027"><a href="/reflect/value.go.html#2484776">x</a></span><span class="op" id="2485028">.</span><span class="ident" id="2485029">ptr</span><span class="op" id="2485032">,</span>&nbsp;<span class="ident" id="2485034"><a href="/reflect/value.go.html#2484763">v</a></span><span class="op" id="2485035">.</span><span class="ident" id="2485036">typ</span><span class="op" id="2485039">.</span><span class="ident" id="2485040">size</span><span class="op" id="2485044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485047">}</span>&nbsp;<span class="keyword" id="2485049">else</span>&nbsp;<span class="op" id="2485054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485058">*</span><span class="op" id="2485059">(</span><span class="op" id="2485060">*</span><span class="ident" id="2485061"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2485067">.</span><span class="ident" id="2485068">Pointer</span><span class="op" id="2485075">)</span><span class="op" id="2485076">(</span><span class="ident" id="2485077"><a href="/reflect/value.go.html#2484763">v</a></span><span class="op" id="2485078">.</span><span class="ident" id="2485079">ptr</span><span class="op" id="2485082">)</span>&nbsp;<span class="op" id="2485084">=</span>&nbsp;<span class="ident" id="2485086"><a href="/reflect/value.go.html#2484776">x</a></span><span class="op" id="2485087">.</span><span class="ident" id="2485088">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485093">}</span><br>
<span class="lineno"></span><span class="op" id="2485095">}</span><br>
<span class="lineno">1305</span><br>
<span class="lineno"></span><span class="comment" id="2485098">//&nbsp;SetBool&nbsp;sets&nbsp;v&#39;s&nbsp;underlying&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2485136">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Bool&nbsp;or&nbsp;if&nbsp;CanSet()&nbsp;is&nbsp;false.</span><br>
<span class="lineno"></span><span class="keyword" id="2485198">func</span>&nbsp;<span class="op" id="2485203">(</span><span class="ident" id="2485204">v</span>&nbsp;<span class="ident" id="2485206"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2485211">)</span>&nbsp;<span class="ident" id="2485213">SetBool</span><span class="op" id="2485220">(</span><span class="ident" id="2485221">x</span>&nbsp;<span class="builtintype" id="2485223">bool</span><span class="op" id="2485227">)</span>&nbsp;<span class="op" id="2485229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485232"><a href="/reflect/value.go.html#2485204">v</a></span><span class="op" id="2485233">.</span><span class="ident" id="2485234">mustBeAssignable</span><span class="op" id="2485250">(</span><span class="op" id="2485251">)</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485254"><a href="/reflect/value.go.html#2485204">v</a></span><span class="op" id="2485255">.</span><span class="ident" id="2485256">mustBe</span><span class="op" id="2485262">(</span><span class="ident" id="2485263"><a href="/reflect/type.go.html#2401225">Bool</a></span><span class="op" id="2485267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485270">*</span><span class="op" id="2485271">(</span><span class="op" id="2485272">*</span><span class="builtintype" id="2485273">bool</span><span class="op" id="2485277">)</span><span class="op" id="2485278">(</span><span class="ident" id="2485279"><a href="/reflect/value.go.html#2485204">v</a></span><span class="op" id="2485280">.</span><span class="ident" id="2485281">ptr</span><span class="op" id="2485284">)</span>&nbsp;<span class="op" id="2485286">=</span>&nbsp;<span class="ident" id="2485288"><a href="/reflect/value.go.html#2485221">x</a></span><br>
<span class="lineno"></span><span class="op" id="2485290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2485293">//&nbsp;SetBytes&nbsp;sets&nbsp;v&#39;s&nbsp;underlying&nbsp;value.</span><br>
<span class="lineno">1315</span><span class="comment" id="2485332">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;is&nbsp;not&nbsp;a&nbsp;slice&nbsp;of&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="2485394">func</span>&nbsp;<span class="op" id="2485399">(</span><span class="ident" id="2485400">v</span>&nbsp;<span class="ident" id="2485402"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2485407">)</span>&nbsp;<span class="ident" id="2485409">SetBytes</span><span class="op" id="2485417">(</span><span class="ident" id="2485418">x</span>&nbsp;<span class="op" id="2485420">[</span><span class="op" id="2485421">]</span><span class="builtintype" id="2485422">byte</span><span class="op" id="2485426">)</span>&nbsp;<span class="op" id="2485428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485431"><a href="/reflect/value.go.html#2485400">v</a></span><span class="op" id="2485432">.</span><span class="ident" id="2485433">mustBeAssignable</span><span class="op" id="2485449">(</span><span class="op" id="2485450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485453"><a href="/reflect/value.go.html#2485400">v</a></span><span class="op" id="2485454">.</span><span class="ident" id="2485455">mustBe</span><span class="op" id="2485461">(</span><span class="ident" id="2485462"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2485467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485470">if</span>&nbsp;<span class="ident" id="2485473"><a href="/reflect/value.go.html#2485400">v</a></span><span class="op" id="2485474">.</span><span class="ident" id="2485475">typ</span><span class="op" id="2485478">.</span><span class="ident" id="2485479">Elem</span><span class="op" id="2485483">(</span><span class="op" id="2485484">)</span><span class="op" id="2485485">.</span><span class="ident" id="2485486">Kind</span><span class="op" id="2485490">(</span><span class="op" id="2485491">)</span>&nbsp;<span class="op" id="2485493">!=</span>&nbsp;<span class="ident" id="2485496"><a href="/reflect/type.go.html#2401269">Uint8</a></span>&nbsp;<span class="op" id="2485502">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2485506">panic</span><span class="op" id="2485511">(</span><span class="string" id="2485512">&#34;reflect.Value.SetBytes&nbsp;of&nbsp;non-byte&nbsp;slice&#34;</span><span class="op" id="2485554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485560">*</span><span class="op" id="2485561">(</span><span class="op" id="2485562">*</span><span class="op" id="2485563">[</span><span class="op" id="2485564">]</span><span class="builtintype" id="2485565">byte</span><span class="op" id="2485569">)</span><span class="op" id="2485570">(</span><span class="ident" id="2485571"><a href="/reflect/value.go.html#2485400">v</a></span><span class="op" id="2485572">.</span><span class="ident" id="2485573">ptr</span><span class="op" id="2485576">)</span>&nbsp;<span class="op" id="2485578">=</span>&nbsp;<span class="ident" id="2485580"><a href="/reflect/value.go.html#2485418">x</a></span><br>
<span class="lineno"></span><span class="op" id="2485582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1325</span><span class="comment" id="2485585">//&nbsp;setRunes&nbsp;sets&nbsp;v&#39;s&nbsp;underlying&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2485624">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;is&nbsp;not&nbsp;a&nbsp;slice&nbsp;of&nbsp;runes&nbsp;(int32s).</span><br>
<span class="lineno"></span><span class="keyword" id="2485695">func</span>&nbsp;<span class="op" id="2485700">(</span><span class="ident" id="2485701">v</span>&nbsp;<span class="ident" id="2485703"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2485708">)</span>&nbsp;<span class="ident" id="2485710">setRunes</span><span class="op" id="2485718">(</span><span class="ident" id="2485719">x</span>&nbsp;<span class="op" id="2485721">[</span><span class="op" id="2485722">]</span><span class="builtintype" id="2485723">rune</span><span class="op" id="2485727">)</span>&nbsp;<span class="op" id="2485729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485732"><a href="/reflect/value.go.html#2485701">v</a></span><span class="op" id="2485733">.</span><span class="ident" id="2485734">mustBeAssignable</span><span class="op" id="2485750">(</span><span class="op" id="2485751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2485754"><a href="/reflect/value.go.html#2485701">v</a></span><span class="op" id="2485755">.</span><span class="ident" id="2485756">mustBe</span><span class="op" id="2485762">(</span><span class="ident" id="2485763"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2485768">)</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2485771">if</span>&nbsp;<span class="ident" id="2485774"><a href="/reflect/value.go.html#2485701">v</a></span><span class="op" id="2485775">.</span><span class="ident" id="2485776">typ</span><span class="op" id="2485779">.</span><span class="ident" id="2485780">Elem</span><span class="op" id="2485784">(</span><span class="op" id="2485785">)</span><span class="op" id="2485786">.</span><span class="ident" id="2485787">Kind</span><span class="op" id="2485791">(</span><span class="op" id="2485792">)</span>&nbsp;<span class="op" id="2485794">!=</span>&nbsp;<span class="ident" id="2485797"><a href="/reflect/type.go.html#2401249">Int32</a></span>&nbsp;<span class="op" id="2485803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2485807">panic</span><span class="op" id="2485812">(</span><span class="string" id="2485813">&#34;reflect.Value.setRunes&nbsp;of&nbsp;non-rune&nbsp;slice&#34;</span><span class="op" id="2485855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2485861">*</span><span class="op" id="2485862">(</span><span class="op" id="2485863">*</span><span class="op" id="2485864">[</span><span class="op" id="2485865">]</span><span class="builtintype" id="2485866">rune</span><span class="op" id="2485870">)</span><span class="op" id="2485871">(</span><span class="ident" id="2485872"><a href="/reflect/value.go.html#2485701">v</a></span><span class="op" id="2485873">.</span><span class="ident" id="2485874">ptr</span><span class="op" id="2485877">)</span>&nbsp;<span class="op" id="2485879">=</span>&nbsp;<span class="ident" id="2485881"><a href="/reflect/value.go.html#2485719">x</a></span><br>
<span class="lineno"></span><span class="op" id="2485883">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="comment" id="2485886">//&nbsp;SetComplex&nbsp;sets&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2485932">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Complex64&nbsp;or&nbsp;Complex128,&nbsp;or&nbsp;if&nbsp;CanSet()&nbsp;is&nbsp;false.</span><br>
<span class="lineno"></span><span class="keyword" id="2486014">func</span>&nbsp;<span class="op" id="2486019">(</span><span class="ident" id="2486020">v</span>&nbsp;<span class="ident" id="2486022"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2486027">)</span>&nbsp;<span class="ident" id="2486029">SetComplex</span><span class="op" id="2486039">(</span><span class="ident" id="2486040">x</span>&nbsp;<span class="builtintype" id="2486042">complex128</span><span class="op" id="2486052">)</span>&nbsp;<span class="op" id="2486054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486057"><a href="/reflect/value.go.html#2486020">v</a></span><span class="op" id="2486058">.</span><span class="ident" id="2486059">mustBeAssignable</span><span class="op" id="2486075">(</span><span class="op" id="2486076">)</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486079">switch</span>&nbsp;<span class="ident" id="2486086">k</span>&nbsp;<span class="op" id="2486088">:=</span>&nbsp;<span class="ident" id="2486091"><a href="/reflect/value.go.html#2486020">v</a></span><span class="op" id="2486092">.</span><span class="ident" id="2486093">kind</span><span class="op" id="2486097">(</span><span class="op" id="2486098">)</span><span class="op" id="2486099">;</span>&nbsp;<span class="ident" id="2486101"><a href="/reflect/value.go.html#2486086">k</a></span>&nbsp;<span class="op" id="2486103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486106">default</span><span class="op" id="2486113">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2486117">panic</span><span class="op" id="2486122">(</span><span class="op" id="2486123">&amp;</span><span class="ident" id="2486124"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2486134">{</span><span class="string" id="2486135">&#34;reflect.Value.SetComplex&#34;</span><span class="op" id="2486161">,</span>&nbsp;<span class="ident" id="2486163"><a href="/reflect/value.go.html#2486020">v</a></span><span class="op" id="2486164">.</span><span class="ident" id="2486165">kind</span><span class="op" id="2486169">(</span><span class="op" id="2486170">)</span><span class="op" id="2486171">}</span><span class="op" id="2486172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486175">case</span>&nbsp;<span class="ident" id="2486180"><a href="/reflect/type.go.html#2401327">Complex64</a></span><span class="op" id="2486189">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486193">*</span><span class="op" id="2486194">(</span><span class="op" id="2486195">*</span><span class="builtintype" id="2486196">complex64</span><span class="op" id="2486205">)</span><span class="op" id="2486206">(</span><span class="ident" id="2486207"><a href="/reflect/value.go.html#2486020">v</a></span><span class="op" id="2486208">.</span><span class="ident" id="2486209">ptr</span><span class="op" id="2486212">)</span>&nbsp;<span class="op" id="2486214">=</span>&nbsp;<span class="builtintype" id="2486216">complex64</span><span class="op" id="2486225">(</span><span class="ident" id="2486226"><a href="/reflect/value.go.html#2486040">x</a></span><span class="op" id="2486227">)</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486230">case</span>&nbsp;<span class="ident" id="2486235"><a href="/reflect/type.go.html#2401338">Complex128</a></span><span class="op" id="2486245">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486249">*</span><span class="op" id="2486250">(</span><span class="op" id="2486251">*</span><span class="builtintype" id="2486252">complex128</span><span class="op" id="2486262">)</span><span class="op" id="2486263">(</span><span class="ident" id="2486264"><a href="/reflect/value.go.html#2486020">v</a></span><span class="op" id="2486265">.</span><span class="ident" id="2486266">ptr</span><span class="op" id="2486269">)</span>&nbsp;<span class="op" id="2486271">=</span>&nbsp;<span class="ident" id="2486273"><a href="/reflect/value.go.html#2486040">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486276">}</span><br>
<span class="lineno"></span><span class="op" id="2486278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="comment" id="2486281">//&nbsp;SetFloat&nbsp;sets&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2486325">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Float32&nbsp;or&nbsp;Float64,&nbsp;or&nbsp;if&nbsp;CanSet()&nbsp;is&nbsp;false.</span><br>
<span class="lineno"></span><span class="keyword" id="2486402">func</span>&nbsp;<span class="op" id="2486407">(</span><span class="ident" id="2486408">v</span>&nbsp;<span class="ident" id="2486410"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2486415">)</span>&nbsp;<span class="ident" id="2486417">SetFloat</span><span class="op" id="2486425">(</span><span class="ident" id="2486426">x</span>&nbsp;<span class="builtintype" id="2486428">float64</span><span class="op" id="2486435">)</span>&nbsp;<span class="op" id="2486437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486440"><a href="/reflect/value.go.html#2486408">v</a></span><span class="op" id="2486441">.</span><span class="ident" id="2486442">mustBeAssignable</span><span class="op" id="2486458">(</span><span class="op" id="2486459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486462">switch</span>&nbsp;<span class="ident" id="2486469">k</span>&nbsp;<span class="op" id="2486471">:=</span>&nbsp;<span class="ident" id="2486474"><a href="/reflect/value.go.html#2486408">v</a></span><span class="op" id="2486475">.</span><span class="ident" id="2486476">kind</span><span class="op" id="2486480">(</span><span class="op" id="2486481">)</span><span class="op" id="2486482">;</span>&nbsp;<span class="ident" id="2486484"><a href="/reflect/value.go.html#2486469">k</a></span>&nbsp;<span class="op" id="2486486">{</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486489">default</span><span class="op" id="2486496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2486500">panic</span><span class="op" id="2486505">(</span><span class="op" id="2486506">&amp;</span><span class="ident" id="2486507"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2486517">{</span><span class="string" id="2486518">&#34;reflect.Value.SetFloat&#34;</span><span class="op" id="2486542">,</span>&nbsp;<span class="ident" id="2486544"><a href="/reflect/value.go.html#2486408">v</a></span><span class="op" id="2486545">.</span><span class="ident" id="2486546">kind</span><span class="op" id="2486550">(</span><span class="op" id="2486551">)</span><span class="op" id="2486552">}</span><span class="op" id="2486553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486556">case</span>&nbsp;<span class="ident" id="2486561"><a href="/reflect/type.go.html#2401309">Float32</a></span><span class="op" id="2486568">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486572">*</span><span class="op" id="2486573">(</span><span class="op" id="2486574">*</span><span class="builtintype" id="2486575">float32</span><span class="op" id="2486582">)</span><span class="op" id="2486583">(</span><span class="ident" id="2486584"><a href="/reflect/value.go.html#2486408">v</a></span><span class="op" id="2486585">.</span><span class="ident" id="2486586">ptr</span><span class="op" id="2486589">)</span>&nbsp;<span class="op" id="2486591">=</span>&nbsp;<span class="builtintype" id="2486593">float32</span><span class="op" id="2486600">(</span><span class="ident" id="2486601"><a href="/reflect/value.go.html#2486426">x</a></span><span class="op" id="2486602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486605">case</span>&nbsp;<span class="ident" id="2486610"><a href="/reflect/type.go.html#2401318">Float64</a></span><span class="op" id="2486617">:</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486621">*</span><span class="op" id="2486622">(</span><span class="op" id="2486623">*</span><span class="builtintype" id="2486624">float64</span><span class="op" id="2486631">)</span><span class="op" id="2486632">(</span><span class="ident" id="2486633"><a href="/reflect/value.go.html#2486408">v</a></span><span class="op" id="2486634">.</span><span class="ident" id="2486635">ptr</span><span class="op" id="2486638">)</span>&nbsp;<span class="op" id="2486640">=</span>&nbsp;<span class="ident" id="2486642"><a href="/reflect/value.go.html#2486426">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486645">}</span><br>
<span class="lineno"></span><span class="op" id="2486647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2486650">//&nbsp;SetInt&nbsp;sets&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;to&nbsp;x.</span><br>
<span class="lineno">1365</span><span class="comment" id="2486692">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Int,&nbsp;Int8,&nbsp;Int16,&nbsp;Int32,&nbsp;or&nbsp;Int64,&nbsp;or&nbsp;if&nbsp;CanSet()&nbsp;is&nbsp;false.</span><br>
<span class="lineno"></span><span class="keyword" id="2486784">func</span>&nbsp;<span class="op" id="2486789">(</span><span class="ident" id="2486790">v</span>&nbsp;<span class="ident" id="2486792"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2486797">)</span>&nbsp;<span class="ident" id="2486799">SetInt</span><span class="op" id="2486805">(</span><span class="ident" id="2486806">x</span>&nbsp;<span class="ident" id="2486808">int64</span><span class="op" id="2486813">)</span>&nbsp;<span class="op" id="2486815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2486818"><a href="/reflect/value.go.html#2486790">v</a></span><span class="op" id="2486819">.</span><span class="ident" id="2486820">mustBeAssignable</span><span class="op" id="2486836">(</span><span class="op" id="2486837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486840">switch</span>&nbsp;<span class="ident" id="2486847">k</span>&nbsp;<span class="op" id="2486849">:=</span>&nbsp;<span class="ident" id="2486852"><a href="/reflect/value.go.html#2486790">v</a></span><span class="op" id="2486853">.</span><span class="ident" id="2486854">kind</span><span class="op" id="2486858">(</span><span class="op" id="2486859">)</span><span class="op" id="2486860">;</span>&nbsp;<span class="ident" id="2486862"><a href="/reflect/value.go.html#2486847">k</a></span>&nbsp;<span class="op" id="2486864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486867">default</span><span class="op" id="2486874">:</span><br>
<span class="lineno">1370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2486878">panic</span><span class="op" id="2486883">(</span><span class="op" id="2486884">&amp;</span><span class="ident" id="2486885"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2486895">{</span><span class="string" id="2486896">&#34;reflect.Value.SetInt&#34;</span><span class="op" id="2486918">,</span>&nbsp;<span class="ident" id="2486920"><a href="/reflect/value.go.html#2486790">v</a></span><span class="op" id="2486921">.</span><span class="ident" id="2486922">kind</span><span class="op" id="2486926">(</span><span class="op" id="2486927">)</span><span class="op" id="2486928">}</span><span class="op" id="2486929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486932">case</span>&nbsp;<span class="ident" id="2486937"><a href="/reflect/type.go.html#2401231">Int</a></span><span class="op" id="2486940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486944">*</span><span class="op" id="2486945">(</span><span class="op" id="2486946">*</span><span class="builtintype" id="2486947">int</span><span class="op" id="2486950">)</span><span class="op" id="2486951">(</span><span class="ident" id="2486952"><a href="/reflect/value.go.html#2486790">v</a></span><span class="op" id="2486953">.</span><span class="ident" id="2486954">ptr</span><span class="op" id="2486957">)</span>&nbsp;<span class="op" id="2486959">=</span>&nbsp;<span class="builtintype" id="2486961">int</span><span class="op" id="2486964">(</span><span class="ident" id="2486965"><a href="/reflect/value.go.html#2486806">x</a></span><span class="op" id="2486966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2486969">case</span>&nbsp;<span class="ident" id="2486974"><a href="/reflect/type.go.html#2401236">Int8</a></span><span class="op" id="2486978">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2486982">*</span><span class="op" id="2486983">(</span><span class="op" id="2486984">*</span><span class="builtintype" id="2486985">int8</span><span class="op" id="2486989">)</span><span class="op" id="2486990">(</span><span class="ident" id="2486991"><a href="/reflect/value.go.html#2486790">v</a></span><span class="op" id="2486992">.</span><span class="ident" id="2486993">ptr</span><span class="op" id="2486996">)</span>&nbsp;<span class="op" id="2486998">=</span>&nbsp;<span class="builtintype" id="2487000">int8</span><span class="op" id="2487004">(</span><span class="ident" id="2487005"><a href="/reflect/value.go.html#2486806">x</a></span><span class="op" id="2487006">)</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487009">case</span>&nbsp;<span class="ident" id="2487014"><a href="/reflect/type.go.html#2401242">Int16</a></span><span class="op" id="2487019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487023">*</span><span class="op" id="2487024">(</span><span class="op" id="2487025">*</span><span class="builtintype" id="2487026">int16</span><span class="op" id="2487031">)</span><span class="op" id="2487032">(</span><span class="ident" id="2487033"><a href="/reflect/value.go.html#2486790">v</a></span><span class="op" id="2487034">.</span><span class="ident" id="2487035">ptr</span><span class="op" id="2487038">)</span>&nbsp;<span class="op" id="2487040">=</span>&nbsp;<span class="builtintype" id="2487042">int16</span><span class="op" id="2487047">(</span><span class="ident" id="2487048"><a href="/reflect/value.go.html#2486806">x</a></span><span class="op" id="2487049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487052">case</span>&nbsp;<span class="ident" id="2487057"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2487062">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487066">*</span><span class="op" id="2487067">(</span><span class="op" id="2487068">*</span><span class="builtintype" id="2487069">int32</span><span class="op" id="2487074">)</span><span class="op" id="2487075">(</span><span class="ident" id="2487076"><a href="/reflect/value.go.html#2486790">v</a></span><span class="op" id="2487077">.</span><span class="ident" id="2487078">ptr</span><span class="op" id="2487081">)</span>&nbsp;<span class="op" id="2487083">=</span>&nbsp;<span class="builtintype" id="2487085">int32</span><span class="op" id="2487090">(</span><span class="ident" id="2487091"><a href="/reflect/value.go.html#2486806">x</a></span><span class="op" id="2487092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487095">case</span>&nbsp;<span class="ident" id="2487100"><a href="/reflect/type.go.html#2401256">Int64</a></span><span class="op" id="2487105">:</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487109">*</span><span class="op" id="2487110">(</span><span class="op" id="2487111">*</span><span class="ident" id="2487112">int64</span><span class="op" id="2487117">)</span><span class="op" id="2487118">(</span><span class="ident" id="2487119"><a href="/reflect/value.go.html#2486790">v</a></span><span class="op" id="2487120">.</span><span class="ident" id="2487121">ptr</span><span class="op" id="2487124">)</span>&nbsp;<span class="op" id="2487126">=</span>&nbsp;<span class="ident" id="2487128"><a href="/reflect/value.go.html#2486806">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487131">}</span><br>
<span class="lineno"></span><span class="op" id="2487133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2487136">//&nbsp;SetLen&nbsp;sets&nbsp;v&#39;s&nbsp;length&nbsp;to&nbsp;n.</span><br>
<span class="lineno">1385</span><span class="comment" id="2487168">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Slice&nbsp;or&nbsp;if&nbsp;n&nbsp;is&nbsp;negative&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2487229">//&nbsp;greater&nbsp;than&nbsp;the&nbsp;capacity&nbsp;of&nbsp;the&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="2487272">func</span>&nbsp;<span class="op" id="2487277">(</span><span class="ident" id="2487278">v</span>&nbsp;<span class="ident" id="2487280"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2487285">)</span>&nbsp;<span class="ident" id="2487287">SetLen</span><span class="op" id="2487293">(</span><span class="ident" id="2487294">n</span>&nbsp;<span class="builtintype" id="2487296">int</span><span class="op" id="2487299">)</span>&nbsp;<span class="op" id="2487301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487304"><a href="/reflect/value.go.html#2487278">v</a></span><span class="op" id="2487305">.</span><span class="ident" id="2487306">mustBeAssignable</span><span class="op" id="2487322">(</span><span class="op" id="2487323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487326"><a href="/reflect/value.go.html#2487278">v</a></span><span class="op" id="2487327">.</span><span class="ident" id="2487328">mustBe</span><span class="op" id="2487334">(</span><span class="ident" id="2487335"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2487340">)</span><br>
<span class="lineno">1390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487343">s</span>&nbsp;<span class="op" id="2487345">:=</span>&nbsp;<span class="op" id="2487348">(</span><span class="op" id="2487349">*</span><span class="ident" id="2487350"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2487361">)</span><span class="op" id="2487362">(</span><span class="ident" id="2487363"><a href="/reflect/value.go.html#2487278">v</a></span><span class="op" id="2487364">.</span><span class="ident" id="2487365">ptr</span><span class="op" id="2487368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487371">if</span>&nbsp;<span class="builtintype" id="2487374">uint</span><span class="op" id="2487378">(</span><span class="ident" id="2487379"><a href="/reflect/value.go.html#2487294">n</a></span><span class="op" id="2487380">)</span>&nbsp;<span class="op" id="2487382">&gt;</span>&nbsp;<span class="builtintype" id="2487384">uint</span><span class="op" id="2487388">(</span><span class="ident" id="2487389"><a href="/reflect/value.go.html#2487343">s</a></span><span class="op" id="2487390">.</span><span class="ident" id="2487391">Cap</span><span class="op" id="2487394">)</span>&nbsp;<span class="op" id="2487396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2487400">panic</span><span class="op" id="2487405">(</span><span class="string" id="2487406">&#34;reflect:&nbsp;slice&nbsp;length&nbsp;out&nbsp;of&nbsp;range&nbsp;in&nbsp;SetLen&#34;</span><span class="op" id="2487452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487458"><a href="/reflect/value.go.html#2487343">s</a></span><span class="op" id="2487459">.</span><span class="ident" id="2487460">Len</span>&nbsp;<span class="op" id="2487464">=</span>&nbsp;<span class="ident" id="2487466"><a href="/reflect/value.go.html#2487294">n</a></span><br>
<span class="lineno">1395</span><span class="op" id="2487468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2487471">//&nbsp;SetCap&nbsp;sets&nbsp;v&#39;s&nbsp;capacity&nbsp;to&nbsp;n.</span><br>
<span class="lineno"></span><span class="comment" id="2487505">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Slice&nbsp;or&nbsp;if&nbsp;n&nbsp;is&nbsp;smaller&nbsp;than&nbsp;the&nbsp;length&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2487581">//&nbsp;greater&nbsp;than&nbsp;the&nbsp;capacity&nbsp;of&nbsp;the&nbsp;slice.</span><br>
<span class="lineno">1400</span><span class="keyword" id="2487624">func</span>&nbsp;<span class="op" id="2487629">(</span><span class="ident" id="2487630">v</span>&nbsp;<span class="ident" id="2487632"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2487637">)</span>&nbsp;<span class="ident" id="2487639">SetCap</span><span class="op" id="2487645">(</span><span class="ident" id="2487646">n</span>&nbsp;<span class="builtintype" id="2487648">int</span><span class="op" id="2487651">)</span>&nbsp;<span class="op" id="2487653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487656"><a href="/reflect/value.go.html#2487630">v</a></span><span class="op" id="2487657">.</span><span class="ident" id="2487658">mustBeAssignable</span><span class="op" id="2487674">(</span><span class="op" id="2487675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487678"><a href="/reflect/value.go.html#2487630">v</a></span><span class="op" id="2487679">.</span><span class="ident" id="2487680">mustBe</span><span class="op" id="2487686">(</span><span class="ident" id="2487687"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2487692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487695">s</span>&nbsp;<span class="op" id="2487697">:=</span>&nbsp;<span class="op" id="2487700">(</span><span class="op" id="2487701">*</span><span class="ident" id="2487702"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2487713">)</span><span class="op" id="2487714">(</span><span class="ident" id="2487715"><a href="/reflect/value.go.html#2487630">v</a></span><span class="op" id="2487716">.</span><span class="ident" id="2487717">ptr</span><span class="op" id="2487720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2487723">if</span>&nbsp;<span class="ident" id="2487726"><a href="/reflect/value.go.html#2487646">n</a></span>&nbsp;<span class="op" id="2487728">&lt;</span>&nbsp;<span class="builtintype" id="2487730">int</span><span class="op" id="2487733">(</span><span class="ident" id="2487734"><a href="/reflect/value.go.html#2487695">s</a></span><span class="op" id="2487735">.</span><span class="ident" id="2487736">Len</span><span class="op" id="2487739">)</span>&nbsp;<span class="op" id="2487741">||</span>&nbsp;<span class="ident" id="2487744"><a href="/reflect/value.go.html#2487646">n</a></span>&nbsp;<span class="op" id="2487746">&gt;</span>&nbsp;<span class="builtintype" id="2487748">int</span><span class="op" id="2487751">(</span><span class="ident" id="2487752"><a href="/reflect/value.go.html#2487695">s</a></span><span class="op" id="2487753">.</span><span class="ident" id="2487754">Cap</span><span class="op" id="2487757">)</span>&nbsp;<span class="op" id="2487759">{</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2487763">panic</span><span class="op" id="2487768">(</span><span class="string" id="2487769">&#34;reflect:&nbsp;slice&nbsp;capacity&nbsp;out&nbsp;of&nbsp;range&nbsp;in&nbsp;SetCap&#34;</span><span class="op" id="2487817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2487820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2487823"><a href="/reflect/value.go.html#2487695">s</a></span><span class="op" id="2487824">.</span><span class="ident" id="2487825">Cap</span>&nbsp;<span class="op" id="2487829">=</span>&nbsp;<span class="ident" id="2487831"><a href="/reflect/value.go.html#2487646">n</a></span><br>
<span class="lineno"></span><span class="op" id="2487833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1410</span><span class="comment" id="2487836">//&nbsp;SetMapIndex&nbsp;sets&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;key&nbsp;in&nbsp;the&nbsp;map&nbsp;v&nbsp;to&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="2487907">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Map.</span><br>
<span class="lineno"></span><span class="comment" id="2487944">//&nbsp;If&nbsp;val&nbsp;is&nbsp;the&nbsp;zero&nbsp;Value,&nbsp;SetMapIndex&nbsp;deletes&nbsp;the&nbsp;key&nbsp;from&nbsp;the&nbsp;map.</span><br>
<span class="lineno"></span><span class="comment" id="2488015">//&nbsp;Otherwise&nbsp;if&nbsp;v&nbsp;holds&nbsp;a&nbsp;nil&nbsp;map,&nbsp;SetMapIndex&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="comment" id="2488074">//&nbsp;As&nbsp;in&nbsp;Go,&nbsp;key&#39;s&nbsp;value&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;the&nbsp;map&#39;s&nbsp;key&nbsp;type,</span><br>
<span class="lineno">1415</span><span class="comment" id="2488141">//&nbsp;and&nbsp;val&#39;s&nbsp;value&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;the&nbsp;map&#39;s&nbsp;value&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2488204">func</span>&nbsp;<span class="op" id="2488209">(</span><span class="ident" id="2488210">v</span>&nbsp;<span class="ident" id="2488212"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2488217">)</span>&nbsp;<span class="ident" id="2488219">SetMapIndex</span><span class="op" id="2488230">(</span><span class="ident" id="2488231">key</span><span class="op" id="2488234">,</span>&nbsp;<span class="ident" id="2488236">val</span>&nbsp;<span class="ident" id="2488240"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2488245">)</span>&nbsp;<span class="op" id="2488247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488250"><a href="/reflect/value.go.html#2488210">v</a></span><span class="op" id="2488251">.</span><span class="ident" id="2488252">mustBe</span><span class="op" id="2488258">(</span><span class="ident" id="2488259"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2488262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488265"><a href="/reflect/value.go.html#2488210">v</a></span><span class="op" id="2488266">.</span><span class="ident" id="2488267">mustBeExported</span><span class="op" id="2488281">(</span><span class="op" id="2488282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488285"><a href="/reflect/value.go.html#2488231">key</a></span><span class="op" id="2488288">.</span><span class="ident" id="2488289">mustBeExported</span><span class="op" id="2488303">(</span><span class="op" id="2488304">)</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488307">tt</span>&nbsp;<span class="op" id="2488310">:=</span>&nbsp;<span class="op" id="2488313">(</span><span class="op" id="2488314">*</span><span class="ident" id="2488315"><a href="/reflect/type.go.html#2404915">mapType</a></span><span class="op" id="2488322">)</span><span class="op" id="2488323">(</span><span class="ident" id="2488324"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2488330">.</span><span class="ident" id="2488331">Pointer</span><span class="op" id="2488338">(</span><span class="ident" id="2488339"><a href="/reflect/value.go.html#2488210">v</a></span><span class="op" id="2488340">.</span><span class="ident" id="2488341">typ</span><span class="op" id="2488344">)</span><span class="op" id="2488345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488348"><a href="/reflect/value.go.html#2488231">key</a></span>&nbsp;<span class="op" id="2488352">=</span>&nbsp;<span class="ident" id="2488354"><a href="/reflect/value.go.html#2488231">key</a></span><span class="op" id="2488357">.</span><span class="ident" id="2488358">assignTo</span><span class="op" id="2488366">(</span><span class="string" id="2488367">&#34;reflect.Value.SetMapIndex&#34;</span><span class="op" id="2488394">,</span>&nbsp;<span class="ident" id="2488396"><a href="/reflect/value.go.html#2488307">tt</a></span><span class="op" id="2488398">.</span><span class="ident" id="2488399">key</span><span class="op" id="2488402">,</span>&nbsp;<span class="ident" id="2488404">nil</span><span class="op" id="2488407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488410">var</span>&nbsp;<span class="ident" id="2488414">k</span>&nbsp;<span class="ident" id="2488416"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2488422">.</span><span class="ident" id="2488423">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488432">if</span>&nbsp;<span class="ident" id="2488435"><a href="/reflect/value.go.html#2488231">key</a></span><span class="op" id="2488438">.</span><span class="ident" id="2488439">flag</span><span class="op" id="2488443">&amp;</span><span class="ident" id="2488444"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2488454">!=</span>&nbsp;<span class="num" id="2488457">0</span>&nbsp;<span class="op" id="2488459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488463"><a href="/reflect/value.go.html#2488414">k</a></span>&nbsp;<span class="op" id="2488465">=</span>&nbsp;<span class="ident" id="2488467"><a href="/reflect/value.go.html#2488231">key</a></span><span class="op" id="2488470">.</span><span class="ident" id="2488471">ptr</span><br>
<span class="lineno">1425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488476">}</span>&nbsp;<span class="keyword" id="2488478">else</span>&nbsp;<span class="op" id="2488483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488487"><a href="/reflect/value.go.html#2488414">k</a></span>&nbsp;<span class="op" id="2488489">=</span>&nbsp;<span class="ident" id="2488491"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2488497">.</span><span class="ident" id="2488498">Pointer</span><span class="op" id="2488505">(</span><span class="op" id="2488506">&amp;</span><span class="ident" id="2488507"><a href="/reflect/value.go.html#2488231">key</a></span><span class="op" id="2488510">.</span><span class="ident" id="2488511">ptr</span><span class="op" id="2488514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488520">if</span>&nbsp;<span class="ident" id="2488523"><a href="/reflect/value.go.html#2488236">val</a></span><span class="op" id="2488526">.</span><span class="ident" id="2488527">typ</span>&nbsp;<span class="op" id="2488531">==</span>&nbsp;<span class="ident" id="2488534">nil</span>&nbsp;<span class="op" id="2488538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488542"><a href="/reflect/value.go.html#2515983">mapdelete</a></span><span class="op" id="2488551">(</span><span class="ident" id="2488552"><a href="/reflect/value.go.html#2488210">v</a></span><span class="op" id="2488553">.</span><span class="ident" id="2488554">typ</span><span class="op" id="2488557">,</span>&nbsp;<span class="ident" id="2488559"><a href="/reflect/value.go.html#2488210">v</a></span><span class="op" id="2488560">.</span><span class="ident" id="2488561">pointer</span><span class="op" id="2488568">(</span><span class="op" id="2488569">)</span><span class="op" id="2488570">,</span>&nbsp;<span class="ident" id="2488572"><a href="/reflect/value.go.html#2488414">k</a></span><span class="op" id="2488573">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488577">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488588"><a href="/reflect/value.go.html#2488236">val</a></span><span class="op" id="2488591">.</span><span class="ident" id="2488592">mustBeExported</span><span class="op" id="2488606">(</span><span class="op" id="2488607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488610"><a href="/reflect/value.go.html#2488236">val</a></span>&nbsp;<span class="op" id="2488614">=</span>&nbsp;<span class="ident" id="2488616"><a href="/reflect/value.go.html#2488236">val</a></span><span class="op" id="2488619">.</span><span class="ident" id="2488620">assignTo</span><span class="op" id="2488628">(</span><span class="string" id="2488629">&#34;reflect.Value.SetMapIndex&#34;</span><span class="op" id="2488656">,</span>&nbsp;<span class="ident" id="2488658"><a href="/reflect/value.go.html#2488307">tt</a></span><span class="op" id="2488660">.</span><span class="ident" id="2488661">elem</span><span class="op" id="2488665">,</span>&nbsp;<span class="ident" id="2488667">nil</span><span class="op" id="2488670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488673">var</span>&nbsp;<span class="ident" id="2488677">e</span>&nbsp;<span class="ident" id="2488679"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2488685">.</span><span class="ident" id="2488686">Pointer</span><br>
<span class="lineno">1435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2488695">if</span>&nbsp;<span class="ident" id="2488698"><a href="/reflect/value.go.html#2488236">val</a></span><span class="op" id="2488701">.</span><span class="ident" id="2488702">flag</span><span class="op" id="2488706">&amp;</span><span class="ident" id="2488707"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2488717">!=</span>&nbsp;<span class="num" id="2488720">0</span>&nbsp;<span class="op" id="2488722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488726"><a href="/reflect/value.go.html#2488677">e</a></span>&nbsp;<span class="op" id="2488728">=</span>&nbsp;<span class="ident" id="2488730"><a href="/reflect/value.go.html#2488236">val</a></span><span class="op" id="2488733">.</span><span class="ident" id="2488734">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488739">}</span>&nbsp;<span class="keyword" id="2488741">else</span>&nbsp;<span class="op" id="2488746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488750"><a href="/reflect/value.go.html#2488677">e</a></span>&nbsp;<span class="op" id="2488752">=</span>&nbsp;<span class="ident" id="2488754"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2488760">.</span><span class="ident" id="2488761">Pointer</span><span class="op" id="2488768">(</span><span class="op" id="2488769">&amp;</span><span class="ident" id="2488770"><a href="/reflect/value.go.html#2488236">val</a></span><span class="op" id="2488773">.</span><span class="ident" id="2488774">ptr</span><span class="op" id="2488777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2488780">}</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2488783"><a href="/reflect/value.go.html#2515915">mapassign</a></span><span class="op" id="2488792">(</span><span class="ident" id="2488793"><a href="/reflect/value.go.html#2488210">v</a></span><span class="op" id="2488794">.</span><span class="ident" id="2488795">typ</span><span class="op" id="2488798">,</span>&nbsp;<span class="ident" id="2488800"><a href="/reflect/value.go.html#2488210">v</a></span><span class="op" id="2488801">.</span><span class="ident" id="2488802">pointer</span><span class="op" id="2488809">(</span><span class="op" id="2488810">)</span><span class="op" id="2488811">,</span>&nbsp;<span class="ident" id="2488813"><a href="/reflect/value.go.html#2488414">k</a></span><span class="op" id="2488814">,</span>&nbsp;<span class="ident" id="2488816"><a href="/reflect/value.go.html#2488677">e</a></span><span class="op" id="2488817">)</span><br>
<span class="lineno"></span><span class="op" id="2488819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488822">//&nbsp;SetUint&nbsp;sets&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2488865">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Uint,&nbsp;Uintptr,&nbsp;Uint8,&nbsp;Uint16,&nbsp;Uint32,&nbsp;or&nbsp;Uint64,&nbsp;or&nbsp;if&nbsp;CanSet()&nbsp;is&nbsp;false.</span><br>
<span class="lineno">1445</span><span class="keyword" id="2488971">func</span>&nbsp;<span class="op" id="2488976">(</span><span class="ident" id="2488977">v</span>&nbsp;<span class="ident" id="2488979"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2488984">)</span>&nbsp;<span class="ident" id="2488986">SetUint</span><span class="op" id="2488993">(</span><span class="ident" id="2488994">x</span>&nbsp;<span class="ident" id="2488996">uint64</span><span class="op" id="2489002">)</span>&nbsp;<span class="op" id="2489004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489007"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489008">.</span><span class="ident" id="2489009">mustBeAssignable</span><span class="op" id="2489025">(</span><span class="op" id="2489026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489029">switch</span>&nbsp;<span class="ident" id="2489036">k</span>&nbsp;<span class="op" id="2489038">:=</span>&nbsp;<span class="ident" id="2489041"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489042">.</span><span class="ident" id="2489043">kind</span><span class="op" id="2489047">(</span><span class="op" id="2489048">)</span><span class="op" id="2489049">;</span>&nbsp;<span class="ident" id="2489051"><a href="/reflect/value.go.html#2489036">k</a></span>&nbsp;<span class="op" id="2489053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489056">default</span><span class="op" id="2489063">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2489067">panic</span><span class="op" id="2489072">(</span><span class="op" id="2489073">&amp;</span><span class="ident" id="2489074"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2489084">{</span><span class="string" id="2489085">&#34;reflect.Value.SetUint&#34;</span><span class="op" id="2489108">,</span>&nbsp;<span class="ident" id="2489110"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489111">.</span><span class="ident" id="2489112">kind</span><span class="op" id="2489116">(</span><span class="op" id="2489117">)</span><span class="op" id="2489118">}</span><span class="op" id="2489119">)</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489122">case</span>&nbsp;<span class="ident" id="2489127"><a href="/reflect/type.go.html#2401263">Uint</a></span><span class="op" id="2489131">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489135">*</span><span class="op" id="2489136">(</span><span class="op" id="2489137">*</span><span class="builtintype" id="2489138">uint</span><span class="op" id="2489142">)</span><span class="op" id="2489143">(</span><span class="ident" id="2489144"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489145">.</span><span class="ident" id="2489146">ptr</span><span class="op" id="2489149">)</span>&nbsp;<span class="op" id="2489151">=</span>&nbsp;<span class="builtintype" id="2489153">uint</span><span class="op" id="2489157">(</span><span class="ident" id="2489158"><a href="/reflect/value.go.html#2488994">x</a></span><span class="op" id="2489159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489162">case</span>&nbsp;<span class="ident" id="2489167"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2489172">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489176">*</span><span class="op" id="2489177">(</span><span class="op" id="2489178">*</span><span class="builtintype" id="2489179">uint8</span><span class="op" id="2489184">)</span><span class="op" id="2489185">(</span><span class="ident" id="2489186"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489187">.</span><span class="ident" id="2489188">ptr</span><span class="op" id="2489191">)</span>&nbsp;<span class="op" id="2489193">=</span>&nbsp;<span class="builtintype" id="2489195">uint8</span><span class="op" id="2489200">(</span><span class="ident" id="2489201"><a href="/reflect/value.go.html#2488994">x</a></span><span class="op" id="2489202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489205">case</span>&nbsp;<span class="ident" id="2489210"><a href="/reflect/type.go.html#2401276">Uint16</a></span><span class="op" id="2489216">:</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489220">*</span><span class="op" id="2489221">(</span><span class="op" id="2489222">*</span><span class="builtintype" id="2489223">uint16</span><span class="op" id="2489229">)</span><span class="op" id="2489230">(</span><span class="ident" id="2489231"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489232">.</span><span class="ident" id="2489233">ptr</span><span class="op" id="2489236">)</span>&nbsp;<span class="op" id="2489238">=</span>&nbsp;<span class="builtintype" id="2489240">uint16</span><span class="op" id="2489246">(</span><span class="ident" id="2489247"><a href="/reflect/value.go.html#2488994">x</a></span><span class="op" id="2489248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489251">case</span>&nbsp;<span class="ident" id="2489256"><a href="/reflect/type.go.html#2401284">Uint32</a></span><span class="op" id="2489262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489266">*</span><span class="op" id="2489267">(</span><span class="op" id="2489268">*</span><span class="builtintype" id="2489269">uint32</span><span class="op" id="2489275">)</span><span class="op" id="2489276">(</span><span class="ident" id="2489277"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489278">.</span><span class="ident" id="2489279">ptr</span><span class="op" id="2489282">)</span>&nbsp;<span class="op" id="2489284">=</span>&nbsp;<span class="builtintype" id="2489286">uint32</span><span class="op" id="2489292">(</span><span class="ident" id="2489293"><a href="/reflect/value.go.html#2488994">x</a></span><span class="op" id="2489294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489297">case</span>&nbsp;<span class="ident" id="2489302"><a href="/reflect/type.go.html#2401292">Uint64</a></span><span class="op" id="2489308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489312">*</span><span class="op" id="2489313">(</span><span class="op" id="2489314">*</span><span class="ident" id="2489315">uint64</span><span class="op" id="2489321">)</span><span class="op" id="2489322">(</span><span class="ident" id="2489323"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489324">.</span><span class="ident" id="2489325">ptr</span><span class="op" id="2489328">)</span>&nbsp;<span class="op" id="2489330">=</span>&nbsp;<span class="ident" id="2489332"><a href="/reflect/value.go.html#2488994">x</a></span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2489335">case</span>&nbsp;<span class="ident" id="2489340"><a href="/reflect/type.go.html#2401300">Uintptr</a></span><span class="op" id="2489347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489351">*</span><span class="op" id="2489352">(</span><span class="op" id="2489353">*</span><span class="builtintype" id="2489354">uintptr</span><span class="op" id="2489361">)</span><span class="op" id="2489362">(</span><span class="ident" id="2489363"><a href="/reflect/value.go.html#2488977">v</a></span><span class="op" id="2489364">.</span><span class="ident" id="2489365">ptr</span><span class="op" id="2489368">)</span>&nbsp;<span class="op" id="2489370">=</span>&nbsp;<span class="builtintype" id="2489372">uintptr</span><span class="op" id="2489379">(</span><span class="ident" id="2489380"><a href="/reflect/value.go.html#2488994">x</a></span><span class="op" id="2489381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489384">}</span><br>
<span class="lineno"></span><span class="op" id="2489386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1465</span><span class="comment" id="2489389">//&nbsp;SetPointer&nbsp;sets&nbsp;the&nbsp;unsafe.Pointer&nbsp;value&nbsp;v&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2489441">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;UnsafePointer.</span><br>
<span class="lineno"></span><span class="keyword" id="2489488">func</span>&nbsp;<span class="op" id="2489493">(</span><span class="ident" id="2489494">v</span>&nbsp;<span class="ident" id="2489496"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2489501">)</span>&nbsp;<span class="ident" id="2489503">SetPointer</span><span class="op" id="2489513">(</span><span class="ident" id="2489514">x</span>&nbsp;<span class="ident" id="2489516"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2489522">.</span><span class="ident" id="2489523">Pointer</span><span class="op" id="2489530">)</span>&nbsp;<span class="op" id="2489532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489535"><a href="/reflect/value.go.html#2489494">v</a></span><span class="op" id="2489536">.</span><span class="ident" id="2489537">mustBeAssignable</span><span class="op" id="2489553">(</span><span class="op" id="2489554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489557"><a href="/reflect/value.go.html#2489494">v</a></span><span class="op" id="2489558">.</span><span class="ident" id="2489559">mustBe</span><span class="op" id="2489565">(</span><span class="ident" id="2489566"><a href="/reflect/type.go.html#2401413">UnsafePointer</a></span><span class="op" id="2489579">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489582">*</span><span class="op" id="2489583">(</span><span class="op" id="2489584">*</span><span class="ident" id="2489585"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2489591">.</span><span class="ident" id="2489592">Pointer</span><span class="op" id="2489599">)</span><span class="op" id="2489600">(</span><span class="ident" id="2489601"><a href="/reflect/value.go.html#2489494">v</a></span><span class="op" id="2489602">.</span><span class="ident" id="2489603">ptr</span><span class="op" id="2489606">)</span>&nbsp;<span class="op" id="2489608">=</span>&nbsp;<span class="ident" id="2489610"><a href="/reflect/value.go.html#2489514">x</a></span><br>
<span class="lineno"></span><span class="op" id="2489612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2489615">//&nbsp;SetString&nbsp;sets&nbsp;v&#39;s&nbsp;underlying&nbsp;value&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2489660">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;String&nbsp;or&nbsp;if&nbsp;CanSet()&nbsp;is&nbsp;false.</span><br>
<span class="lineno">1475</span><span class="keyword" id="2489724">func</span>&nbsp;<span class="op" id="2489729">(</span><span class="ident" id="2489730">v</span>&nbsp;<span class="ident" id="2489732"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2489737">)</span>&nbsp;<span class="ident" id="2489739">SetString</span><span class="op" id="2489748">(</span><span class="ident" id="2489749">x</span>&nbsp;<span class="builtintype" id="2489751">string</span><span class="op" id="2489757">)</span>&nbsp;<span class="op" id="2489759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489762"><a href="/reflect/value.go.html#2489730">v</a></span><span class="op" id="2489763">.</span><span class="ident" id="2489764">mustBeAssignable</span><span class="op" id="2489780">(</span><span class="op" id="2489781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2489784"><a href="/reflect/value.go.html#2489730">v</a></span><span class="op" id="2489785">.</span><span class="ident" id="2489786">mustBe</span><span class="op" id="2489792">(</span><span class="ident" id="2489793"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2489799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2489802">*</span><span class="op" id="2489803">(</span><span class="op" id="2489804">*</span><span class="builtintype" id="2489805">string</span><span class="op" id="2489811">)</span><span class="op" id="2489812">(</span><span class="ident" id="2489813"><a href="/reflect/value.go.html#2489730">v</a></span><span class="op" id="2489814">.</span><span class="ident" id="2489815">ptr</span><span class="op" id="2489818">)</span>&nbsp;<span class="op" id="2489820">=</span>&nbsp;<span class="ident" id="2489822"><a href="/reflect/value.go.html#2489749">x</a></span><br>
<span class="lineno"></span><span class="op" id="2489824">}</span><br>
<span class="lineno">1480</span><br>
<span class="lineno"></span><span class="comment" id="2489827">//&nbsp;Slice&nbsp;returns&nbsp;v[i:j].</span><br>
<span class="lineno"></span><span class="comment" id="2489852">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array,&nbsp;Slice&nbsp;or&nbsp;String,&nbsp;or&nbsp;if&nbsp;v&nbsp;is&nbsp;an&nbsp;unaddressable&nbsp;array,</span><br>
<span class="lineno"></span><span class="comment" id="2489943">//&nbsp;or&nbsp;if&nbsp;the&nbsp;indexes&nbsp;are&nbsp;out&nbsp;of&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="2489983">func</span>&nbsp;<span class="op" id="2489988">(</span><span class="ident" id="2489989">v</span>&nbsp;<span class="ident" id="2489991"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2489996">)</span>&nbsp;<span class="ident" id="2489998">Slice</span><span class="op" id="2490003">(</span><span class="ident" id="2490004">i</span><span class="op" id="2490005">,</span>&nbsp;<span class="ident" id="2490007">j</span>&nbsp;<span class="builtintype" id="2490009">int</span><span class="op" id="2490012">)</span>&nbsp;<span class="ident" id="2490014"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2490020">{</span><br>
<span class="lineno">1485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490023">var</span>&nbsp;<span class="op" id="2490027">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2490031">cap</span>&nbsp;&nbsp;<span class="builtintype" id="2490036">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490042">typ</span>&nbsp;&nbsp;<span class="op" id="2490047">*</span><span class="ident" id="2490048"><a href="/reflect/type.go.html#2405588">sliceType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490060">base</span>&nbsp;<span class="ident" id="2490065"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2490071">.</span><span class="ident" id="2490072">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490081">)</span><br>
<span class="lineno">1490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490084">switch</span>&nbsp;<span class="ident" id="2490091">kind</span>&nbsp;<span class="op" id="2490096">:=</span>&nbsp;<span class="ident" id="2490099"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490100">.</span><span class="ident" id="2490101">kind</span><span class="op" id="2490105">(</span><span class="op" id="2490106">)</span><span class="op" id="2490107">;</span>&nbsp;<span class="ident" id="2490109"><a href="/reflect/value.go.html#2490091">kind</a></span>&nbsp;<span class="op" id="2490114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490117">default</span><span class="op" id="2490124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2490128">panic</span><span class="op" id="2490133">(</span><span class="op" id="2490134">&amp;</span><span class="ident" id="2490135"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2490145">{</span><span class="string" id="2490146">&#34;reflect.Value.Slice&#34;</span><span class="op" id="2490167">,</span>&nbsp;<span class="ident" id="2490169"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490170">.</span><span class="ident" id="2490171">kind</span><span class="op" id="2490175">(</span><span class="op" id="2490176">)</span><span class="op" id="2490177">}</span><span class="op" id="2490178">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490182">case</span>&nbsp;<span class="ident" id="2490187"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2490192">:</span><br>
<span class="lineno">1495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490196">if</span>&nbsp;<span class="ident" id="2490199"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490200">.</span><span class="ident" id="2490201">flag</span><span class="op" id="2490205">&amp;</span><span class="ident" id="2490206"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2490215">==</span>&nbsp;<span class="num" id="2490218">0</span>&nbsp;<span class="op" id="2490220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2490225">panic</span><span class="op" id="2490230">(</span><span class="string" id="2490231">&#34;reflect.Value.Slice:&nbsp;slice&nbsp;of&nbsp;unaddressable&nbsp;array&#34;</span><span class="op" id="2490282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490290">tt</span>&nbsp;<span class="op" id="2490293">:=</span>&nbsp;<span class="op" id="2490296">(</span><span class="op" id="2490297">*</span><span class="ident" id="2490298"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2490307">)</span><span class="op" id="2490308">(</span><span class="ident" id="2490309"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2490315">.</span><span class="ident" id="2490316">Pointer</span><span class="op" id="2490323">(</span><span class="ident" id="2490324"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490325">.</span><span class="ident" id="2490326">typ</span><span class="op" id="2490329">)</span><span class="op" id="2490330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2490334"><a href="/reflect/value.go.html#2490031">cap</a></span>&nbsp;<span class="op" id="2490338">=</span>&nbsp;<span class="builtintype" id="2490340">int</span><span class="op" id="2490343">(</span><span class="ident" id="2490344"><a href="/reflect/value.go.html#2490290">tt</a></span><span class="op" id="2490346">.</span><span class="builtinfunc" id="2490347">len</span><span class="op" id="2490350">)</span><br>
<span class="lineno">1500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490354"><a href="/reflect/value.go.html#2490042">typ</a></span>&nbsp;<span class="op" id="2490358">=</span>&nbsp;<span class="op" id="2490360">(</span><span class="op" id="2490361">*</span><span class="ident" id="2490362"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2490371">)</span><span class="op" id="2490372">(</span><span class="ident" id="2490373"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2490379">.</span><span class="ident" id="2490380">Pointer</span><span class="op" id="2490387">(</span><span class="ident" id="2490388"><a href="/reflect/value.go.html#2490290">tt</a></span><span class="op" id="2490390">.</span><span class="ident" id="2490391">slice</span><span class="op" id="2490396">)</span><span class="op" id="2490397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490401"><a href="/reflect/value.go.html#2490060">base</a></span>&nbsp;<span class="op" id="2490406">=</span>&nbsp;<span class="ident" id="2490408"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490409">.</span><span class="ident" id="2490410">ptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490416">case</span>&nbsp;<span class="ident" id="2490421"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2490426">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490430"><a href="/reflect/value.go.html#2490042">typ</a></span>&nbsp;<span class="op" id="2490434">=</span>&nbsp;<span class="op" id="2490436">(</span><span class="op" id="2490437">*</span><span class="ident" id="2490438"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2490447">)</span><span class="op" id="2490448">(</span><span class="ident" id="2490449"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2490455">.</span><span class="ident" id="2490456">Pointer</span><span class="op" id="2490463">(</span><span class="ident" id="2490464"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490465">.</span><span class="ident" id="2490466">typ</span><span class="op" id="2490469">)</span><span class="op" id="2490470">)</span><br>
<span class="lineno">1505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490474">s</span>&nbsp;<span class="op" id="2490476">:=</span>&nbsp;<span class="op" id="2490479">(</span><span class="op" id="2490480">*</span><span class="ident" id="2490481"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2490492">)</span><span class="op" id="2490493">(</span><span class="ident" id="2490494"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490495">.</span><span class="ident" id="2490496">ptr</span><span class="op" id="2490499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490503"><a href="/reflect/value.go.html#2490060">base</a></span>&nbsp;<span class="op" id="2490508">=</span>&nbsp;<span class="ident" id="2490510"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2490516">.</span><span class="ident" id="2490517">Pointer</span><span class="op" id="2490524">(</span><span class="ident" id="2490525"><a href="/reflect/value.go.html#2490474">s</a></span><span class="op" id="2490526">.</span><span class="ident" id="2490527">Data</span><span class="op" id="2490531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2490535"><a href="/reflect/value.go.html#2490031">cap</a></span>&nbsp;<span class="op" id="2490539">=</span>&nbsp;<span class="ident" id="2490541"><a href="/reflect/value.go.html#2490474">s</a></span><span class="op" id="2490542">.</span><span class="ident" id="2490543">Cap</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490549">case</span>&nbsp;<span class="ident" id="2490554"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2490560">:</span><br>
<span class="lineno">1510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490564">s</span>&nbsp;<span class="op" id="2490566">:=</span>&nbsp;<span class="op" id="2490569">(</span><span class="op" id="2490570">*</span><span class="ident" id="2490571"><a href="/reflect/value.go.html#2496376">stringHeader</a></span><span class="op" id="2490583">)</span><span class="op" id="2490584">(</span><span class="ident" id="2490585"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490586">.</span><span class="ident" id="2490587">ptr</span><span class="op" id="2490590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490594">if</span>&nbsp;<span class="ident" id="2490597"><a href="/reflect/value.go.html#2490004">i</a></span>&nbsp;<span class="op" id="2490599">&lt;</span>&nbsp;<span class="num" id="2490601">0</span>&nbsp;<span class="op" id="2490603">||</span>&nbsp;<span class="ident" id="2490606"><a href="/reflect/value.go.html#2490007">j</a></span>&nbsp;<span class="op" id="2490608">&lt;</span>&nbsp;<span class="ident" id="2490610"><a href="/reflect/value.go.html#2490004">i</a></span>&nbsp;<span class="op" id="2490612">||</span>&nbsp;<span class="ident" id="2490615"><a href="/reflect/value.go.html#2490007">j</a></span>&nbsp;<span class="op" id="2490617">&gt;</span>&nbsp;<span class="ident" id="2490619"><a href="/reflect/value.go.html#2490564">s</a></span><span class="op" id="2490620">.</span><span class="ident" id="2490621">Len</span>&nbsp;<span class="op" id="2490625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2490630">panic</span><span class="op" id="2490635">(</span><span class="string" id="2490636">&#34;reflect.Value.Slice:&nbsp;string&nbsp;slice&nbsp;index&nbsp;out&nbsp;of&nbsp;bounds&#34;</span><span class="op" id="2490691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2490699">t</span>&nbsp;<span class="op" id="2490701">:=</span>&nbsp;<span class="ident" id="2490704"><a href="/reflect/value.go.html#2496376">stringHeader</a></span><span class="op" id="2490716">{</span><span class="ident" id="2490717"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2490723">.</span><span class="ident" id="2490724">Pointer</span><span class="op" id="2490731">(</span><span class="builtintype" id="2490732">uintptr</span><span class="op" id="2490739">(</span><span class="ident" id="2490740"><a href="/reflect/value.go.html#2490564">s</a></span><span class="op" id="2490741">.</span><span class="ident" id="2490742">Data</span><span class="op" id="2490746">)</span>&nbsp;<span class="op" id="2490748">+</span>&nbsp;<span class="builtintype" id="2490750">uintptr</span><span class="op" id="2490757">(</span><span class="ident" id="2490758"><a href="/reflect/value.go.html#2490004">i</a></span><span class="op" id="2490759">)</span><span class="op" id="2490760">)</span><span class="op" id="2490761">,</span>&nbsp;<span class="ident" id="2490763"><a href="/reflect/value.go.html#2490007">j</a></span>&nbsp;<span class="op" id="2490765">-</span>&nbsp;<span class="ident" id="2490767"><a href="/reflect/value.go.html#2490004">i</a></span><span class="op" id="2490768">}</span><br>
<span class="lineno">1515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490772">return</span>&nbsp;<span class="ident" id="2490779"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2490784">{</span><span class="ident" id="2490785"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490786">.</span><span class="ident" id="2490787">typ</span><span class="op" id="2490790">,</span>&nbsp;<span class="ident" id="2490792"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2490798">.</span><span class="ident" id="2490799">Pointer</span><span class="op" id="2490806">(</span><span class="op" id="2490807">&amp;</span><span class="ident" id="2490808"><a href="/reflect/value.go.html#2490699">t</a></span><span class="op" id="2490809">)</span><span class="op" id="2490810">,</span>&nbsp;<span class="ident" id="2490812"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2490813">.</span><span class="ident" id="2490814">flag</span><span class="op" id="2490818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490825">if</span>&nbsp;<span class="ident" id="2490828"><a href="/reflect/value.go.html#2490004">i</a></span>&nbsp;<span class="op" id="2490830">&lt;</span>&nbsp;<span class="num" id="2490832">0</span>&nbsp;<span class="op" id="2490834">||</span>&nbsp;<span class="ident" id="2490837"><a href="/reflect/value.go.html#2490007">j</a></span>&nbsp;<span class="op" id="2490839">&lt;</span>&nbsp;<span class="ident" id="2490841"><a href="/reflect/value.go.html#2490004">i</a></span>&nbsp;<span class="op" id="2490843">||</span>&nbsp;<span class="ident" id="2490846"><a href="/reflect/value.go.html#2490007">j</a></span>&nbsp;<span class="op" id="2490848">&gt;</span>&nbsp;<span class="builtinfunc" id="2490850"><a href="/reflect/value.go.html#2490031">cap</a></span>&nbsp;<span class="op" id="2490854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2490858">panic</span><span class="op" id="2490863">(</span><span class="string" id="2490864">&#34;reflect.Value.Slice:&nbsp;slice&nbsp;index&nbsp;out&nbsp;of&nbsp;bounds&#34;</span><span class="op" id="2490912">)</span><br>
<span class="lineno">1520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2490915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2490919">//&nbsp;Declare&nbsp;slice&nbsp;so&nbsp;that&nbsp;gc&nbsp;can&nbsp;see&nbsp;the&nbsp;base&nbsp;pointer&nbsp;in&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2490980">var</span>&nbsp;<span class="ident" id="2490984">x</span>&nbsp;<span class="op" id="2490986">[</span><span class="op" id="2490987">]</span><span class="ident" id="2490988"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2490994">.</span><span class="ident" id="2490995">Pointer</span><br>
<span class="lineno"></span><br>
<span class="lineno">1525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2491005">//&nbsp;Reinterpret&nbsp;as&nbsp;*sliceHeader&nbsp;to&nbsp;edit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491046">s</span>&nbsp;<span class="op" id="2491048">:=</span>&nbsp;<span class="op" id="2491051">(</span><span class="op" id="2491052">*</span><span class="ident" id="2491053"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2491064">)</span><span class="op" id="2491065">(</span><span class="ident" id="2491066"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2491072">.</span><span class="ident" id="2491073">Pointer</span><span class="op" id="2491080">(</span><span class="op" id="2491081">&amp;</span><span class="ident" id="2491082"><a href="/reflect/value.go.html#2490984">x</a></span><span class="op" id="2491083">)</span><span class="op" id="2491084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491087"><a href="/reflect/value.go.html#2491046">s</a></span><span class="op" id="2491088">.</span><span class="ident" id="2491089">Len</span>&nbsp;<span class="op" id="2491093">=</span>&nbsp;<span class="ident" id="2491095"><a href="/reflect/value.go.html#2490007">j</a></span>&nbsp;<span class="op" id="2491097">-</span>&nbsp;<span class="ident" id="2491099"><a href="/reflect/value.go.html#2490004">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491102"><a href="/reflect/value.go.html#2491046">s</a></span><span class="op" id="2491103">.</span><span class="ident" id="2491104">Cap</span>&nbsp;<span class="op" id="2491108">=</span>&nbsp;<span class="builtinfunc" id="2491110"><a href="/reflect/value.go.html#2490031">cap</a></span>&nbsp;<span class="op" id="2491114">-</span>&nbsp;<span class="ident" id="2491116"><a href="/reflect/value.go.html#2490004">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491119">if</span>&nbsp;<span class="builtinfunc" id="2491122"><a href="/reflect/value.go.html#2490031">cap</a></span><span class="op" id="2491125">-</span><span class="ident" id="2491126"><a href="/reflect/value.go.html#2490004">i</a></span>&nbsp;<span class="op" id="2491128">&gt;</span>&nbsp;<span class="num" id="2491130">0</span>&nbsp;<span class="op" id="2491132">{</span><br>
<span class="lineno">1530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491136"><a href="/reflect/value.go.html#2491046">s</a></span><span class="op" id="2491137">.</span><span class="ident" id="2491138">Data</span>&nbsp;<span class="op" id="2491143">=</span>&nbsp;<span class="ident" id="2491145"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2491151">.</span><span class="ident" id="2491152">Pointer</span><span class="op" id="2491159">(</span><span class="builtintype" id="2491160">uintptr</span><span class="op" id="2491167">(</span><span class="ident" id="2491168"><a href="/reflect/value.go.html#2490060">base</a></span><span class="op" id="2491172">)</span>&nbsp;<span class="op" id="2491174">+</span>&nbsp;<span class="builtintype" id="2491176">uintptr</span><span class="op" id="2491183">(</span><span class="ident" id="2491184"><a href="/reflect/value.go.html#2490004">i</a></span><span class="op" id="2491185">)</span><span class="op" id="2491186">*</span><span class="ident" id="2491187"><a href="/reflect/value.go.html#2490042">typ</a></span><span class="op" id="2491190">.</span><span class="ident" id="2491191">elem</span><span class="op" id="2491195">.</span><span class="ident" id="2491196">Size</span><span class="op" id="2491200">(</span><span class="op" id="2491201">)</span><span class="op" id="2491202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491205">}</span>&nbsp;<span class="keyword" id="2491207">else</span>&nbsp;<span class="op" id="2491212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2491216">//&nbsp;do&nbsp;not&nbsp;advance&nbsp;pointer,&nbsp;to&nbsp;avoid&nbsp;pointing&nbsp;beyond&nbsp;end&nbsp;of&nbsp;slice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491283"><a href="/reflect/value.go.html#2491046">s</a></span><span class="op" id="2491284">.</span><span class="ident" id="2491285">Data</span>&nbsp;<span class="op" id="2491290">=</span>&nbsp;<span class="ident" id="2491292"><a href="/reflect/value.go.html#2490060">base</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491298">}</span><br>
<span class="lineno">1535</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491302">fl</span>&nbsp;<span class="op" id="2491305">:=</span>&nbsp;<span class="ident" id="2491308"><a href="/reflect/value.go.html#2489989">v</a></span><span class="op" id="2491309">.</span><span class="ident" id="2491310">flag</span><span class="op" id="2491314">&amp;</span><span class="ident" id="2491315"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2491322">|</span>&nbsp;<span class="ident" id="2491324"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2491334">|</span>&nbsp;<span class="ident" id="2491336"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2491340">(</span><span class="ident" id="2491341"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2491346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491349">return</span>&nbsp;<span class="ident" id="2491356"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2491361">{</span><span class="ident" id="2491362"><a href="/reflect/value.go.html#2490042">typ</a></span><span class="op" id="2491365">.</span><span class="ident" id="2491366">common</span><span class="op" id="2491372">(</span><span class="op" id="2491373">)</span><span class="op" id="2491374">,</span>&nbsp;<span class="ident" id="2491376"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2491382">.</span><span class="ident" id="2491383">Pointer</span><span class="op" id="2491390">(</span><span class="op" id="2491391">&amp;</span><span class="ident" id="2491392"><a href="/reflect/value.go.html#2490984">x</a></span><span class="op" id="2491393">)</span><span class="op" id="2491394">,</span>&nbsp;<span class="ident" id="2491396"><a href="/reflect/value.go.html#2491302">fl</a></span><span class="op" id="2491398">}</span><br>
<span class="lineno"></span><span class="op" id="2491400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1540</span><span class="comment" id="2491403">//&nbsp;Slice3&nbsp;is&nbsp;the&nbsp;3-index&nbsp;form&nbsp;of&nbsp;the&nbsp;slice&nbsp;operation:&nbsp;it&nbsp;returns&nbsp;v[i:j:k].</span><br>
<span class="lineno"></span><span class="comment" id="2491478">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array&nbsp;or&nbsp;Slice,&nbsp;or&nbsp;if&nbsp;v&nbsp;is&nbsp;an&nbsp;unaddressable&nbsp;array,</span><br>
<span class="lineno"></span><span class="comment" id="2491561">//&nbsp;or&nbsp;if&nbsp;the&nbsp;indexes&nbsp;are&nbsp;out&nbsp;of&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="2491601">func</span>&nbsp;<span class="op" id="2491606">(</span><span class="ident" id="2491607">v</span>&nbsp;<span class="ident" id="2491609"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2491614">)</span>&nbsp;<span class="ident" id="2491616">Slice3</span><span class="op" id="2491622">(</span><span class="ident" id="2491623">i</span><span class="op" id="2491624">,</span>&nbsp;<span class="ident" id="2491626">j</span><span class="op" id="2491627">,</span>&nbsp;<span class="ident" id="2491629">k</span>&nbsp;<span class="builtintype" id="2491631">int</span><span class="op" id="2491634">)</span>&nbsp;<span class="ident" id="2491636"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2491642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491645">var</span>&nbsp;<span class="op" id="2491649">(</span><br>
<span class="lineno">1545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2491653">cap</span>&nbsp;&nbsp;<span class="builtintype" id="2491658">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491664">typ</span>&nbsp;&nbsp;<span class="op" id="2491669">*</span><span class="ident" id="2491670"><a href="/reflect/type.go.html#2405588">sliceType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491682">base</span>&nbsp;<span class="ident" id="2491687"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2491693">.</span><span class="ident" id="2491694">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491706">switch</span>&nbsp;<span class="ident" id="2491713">kind</span>&nbsp;<span class="op" id="2491718">:=</span>&nbsp;<span class="ident" id="2491721"><a href="/reflect/value.go.html#2491607">v</a></span><span class="op" id="2491722">.</span><span class="ident" id="2491723">kind</span><span class="op" id="2491727">(</span><span class="op" id="2491728">)</span><span class="op" id="2491729">;</span>&nbsp;<span class="ident" id="2491731"><a href="/reflect/value.go.html#2491713">kind</a></span>&nbsp;<span class="op" id="2491736">{</span><br>
<span class="lineno">1550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491739">default</span><span class="op" id="2491746">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2491750">panic</span><span class="op" id="2491755">(</span><span class="op" id="2491756">&amp;</span><span class="ident" id="2491757"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2491767">{</span><span class="string" id="2491768">&#34;reflect.Value.Slice3&#34;</span><span class="op" id="2491790">,</span>&nbsp;<span class="ident" id="2491792"><a href="/reflect/value.go.html#2491607">v</a></span><span class="op" id="2491793">.</span><span class="ident" id="2491794">kind</span><span class="op" id="2491798">(</span><span class="op" id="2491799">)</span><span class="op" id="2491800">}</span><span class="op" id="2491801">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491805">case</span>&nbsp;<span class="ident" id="2491810"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2491815">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2491819">if</span>&nbsp;<span class="ident" id="2491822"><a href="/reflect/value.go.html#2491607">v</a></span><span class="op" id="2491823">.</span><span class="ident" id="2491824">flag</span><span class="op" id="2491828">&amp;</span><span class="ident" id="2491829"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2491838">==</span>&nbsp;<span class="num" id="2491841">0</span>&nbsp;<span class="op" id="2491843">{</span><br>
<span class="lineno">1555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2491848">panic</span><span class="op" id="2491853">(</span><span class="string" id="2491854">&#34;reflect.Value.Slice3:&nbsp;slice&nbsp;of&nbsp;unaddressable&nbsp;array&#34;</span><span class="op" id="2491906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2491910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491914">tt</span>&nbsp;<span class="op" id="2491917">:=</span>&nbsp;<span class="op" id="2491920">(</span><span class="op" id="2491921">*</span><span class="ident" id="2491922"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2491931">)</span><span class="op" id="2491932">(</span><span class="ident" id="2491933"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2491939">.</span><span class="ident" id="2491940">Pointer</span><span class="op" id="2491947">(</span><span class="ident" id="2491948"><a href="/reflect/value.go.html#2491607">v</a></span><span class="op" id="2491949">.</span><span class="ident" id="2491950">typ</span><span class="op" id="2491953">)</span><span class="op" id="2491954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2491958"><a href="/reflect/value.go.html#2491653">cap</a></span>&nbsp;<span class="op" id="2491962">=</span>&nbsp;<span class="builtintype" id="2491964">int</span><span class="op" id="2491967">(</span><span class="ident" id="2491968"><a href="/reflect/value.go.html#2491914">tt</a></span><span class="op" id="2491970">.</span><span class="builtinfunc" id="2491971">len</span><span class="op" id="2491974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2491978"><a href="/reflect/value.go.html#2491664">typ</a></span>&nbsp;<span class="op" id="2491982">=</span>&nbsp;<span class="op" id="2491984">(</span><span class="op" id="2491985">*</span><span class="ident" id="2491986"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2491995">)</span><span class="op" id="2491996">(</span><span class="ident" id="2491997"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2492003">.</span><span class="ident" id="2492004">Pointer</span><span class="op" id="2492011">(</span><span class="ident" id="2492012"><a href="/reflect/value.go.html#2491914">tt</a></span><span class="op" id="2492014">.</span><span class="ident" id="2492015">slice</span><span class="op" id="2492020">)</span><span class="op" id="2492021">)</span><br>
<span class="lineno">1560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492025"><a href="/reflect/value.go.html#2491682">base</a></span>&nbsp;<span class="op" id="2492030">=</span>&nbsp;<span class="ident" id="2492032"><a href="/reflect/value.go.html#2491607">v</a></span><span class="op" id="2492033">.</span><span class="ident" id="2492034">ptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492040">case</span>&nbsp;<span class="ident" id="2492045"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2492050">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492054"><a href="/reflect/value.go.html#2491664">typ</a></span>&nbsp;<span class="op" id="2492058">=</span>&nbsp;<span class="op" id="2492060">(</span><span class="op" id="2492061">*</span><span class="ident" id="2492062"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2492071">)</span><span class="op" id="2492072">(</span><span class="ident" id="2492073"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2492079">.</span><span class="ident" id="2492080">Pointer</span><span class="op" id="2492087">(</span><span class="ident" id="2492088"><a href="/reflect/value.go.html#2491607">v</a></span><span class="op" id="2492089">.</span><span class="ident" id="2492090">typ</span><span class="op" id="2492093">)</span><span class="op" id="2492094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492098">s</span>&nbsp;<span class="op" id="2492100">:=</span>&nbsp;<span class="op" id="2492103">(</span><span class="op" id="2492104">*</span><span class="ident" id="2492105"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2492116">)</span><span class="op" id="2492117">(</span><span class="ident" id="2492118"><a href="/reflect/value.go.html#2491607">v</a></span><span class="op" id="2492119">.</span><span class="ident" id="2492120">ptr</span><span class="op" id="2492123">)</span><br>
<span class="lineno">1565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492127"><a href="/reflect/value.go.html#2491682">base</a></span>&nbsp;<span class="op" id="2492132">=</span>&nbsp;<span class="ident" id="2492134"><a href="/reflect/value.go.html#2492098">s</a></span><span class="op" id="2492135">.</span><span class="ident" id="2492136">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2492143"><a href="/reflect/value.go.html#2491653">cap</a></span>&nbsp;<span class="op" id="2492147">=</span>&nbsp;<span class="ident" id="2492149"><a href="/reflect/value.go.html#2492098">s</a></span><span class="op" id="2492150">.</span><span class="ident" id="2492151">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492160">if</span>&nbsp;<span class="ident" id="2492163"><a href="/reflect/value.go.html#2491623">i</a></span>&nbsp;<span class="op" id="2492165">&lt;</span>&nbsp;<span class="num" id="2492167">0</span>&nbsp;<span class="op" id="2492169">||</span>&nbsp;<span class="ident" id="2492172"><a href="/reflect/value.go.html#2491626">j</a></span>&nbsp;<span class="op" id="2492174">&lt;</span>&nbsp;<span class="ident" id="2492176"><a href="/reflect/value.go.html#2491623">i</a></span>&nbsp;<span class="op" id="2492178">||</span>&nbsp;<span class="ident" id="2492181"><a href="/reflect/value.go.html#2491629">k</a></span>&nbsp;<span class="op" id="2492183">&lt;</span>&nbsp;<span class="ident" id="2492185"><a href="/reflect/value.go.html#2491626">j</a></span>&nbsp;<span class="op" id="2492187">||</span>&nbsp;<span class="ident" id="2492190"><a href="/reflect/value.go.html#2491629">k</a></span>&nbsp;<span class="op" id="2492192">&gt;</span>&nbsp;<span class="builtinfunc" id="2492194"><a href="/reflect/value.go.html#2491653">cap</a></span>&nbsp;<span class="op" id="2492198">{</span><br>
<span class="lineno">1570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2492202">panic</span><span class="op" id="2492207">(</span><span class="string" id="2492208">&#34;reflect.Value.Slice3:&nbsp;slice&nbsp;index&nbsp;out&nbsp;of&nbsp;bounds&#34;</span><span class="op" id="2492257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2492264">//&nbsp;Declare&nbsp;slice&nbsp;so&nbsp;that&nbsp;the&nbsp;garbage&nbsp;collector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2492312">//&nbsp;can&nbsp;see&nbsp;the&nbsp;base&nbsp;pointer&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492348">var</span>&nbsp;<span class="ident" id="2492352">x</span>&nbsp;<span class="op" id="2492354">[</span><span class="op" id="2492355">]</span><span class="ident" id="2492356"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2492362">.</span><span class="ident" id="2492363">Pointer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2492373">//&nbsp;Reinterpret&nbsp;as&nbsp;*sliceHeader&nbsp;to&nbsp;edit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492414">s</span>&nbsp;<span class="op" id="2492416">:=</span>&nbsp;<span class="op" id="2492419">(</span><span class="op" id="2492420">*</span><span class="ident" id="2492421"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2492432">)</span><span class="op" id="2492433">(</span><span class="ident" id="2492434"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2492440">.</span><span class="ident" id="2492441">Pointer</span><span class="op" id="2492448">(</span><span class="op" id="2492449">&amp;</span><span class="ident" id="2492450"><a href="/reflect/value.go.html#2492352">x</a></span><span class="op" id="2492451">)</span><span class="op" id="2492452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492455"><a href="/reflect/value.go.html#2492414">s</a></span><span class="op" id="2492456">.</span><span class="ident" id="2492457">Len</span>&nbsp;<span class="op" id="2492461">=</span>&nbsp;<span class="ident" id="2492463"><a href="/reflect/value.go.html#2491626">j</a></span>&nbsp;<span class="op" id="2492465">-</span>&nbsp;<span class="ident" id="2492467"><a href="/reflect/value.go.html#2491623">i</a></span><br>
<span class="lineno">1580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492470"><a href="/reflect/value.go.html#2492414">s</a></span><span class="op" id="2492471">.</span><span class="ident" id="2492472">Cap</span>&nbsp;<span class="op" id="2492476">=</span>&nbsp;<span class="ident" id="2492478"><a href="/reflect/value.go.html#2491629">k</a></span>&nbsp;<span class="op" id="2492480">-</span>&nbsp;<span class="ident" id="2492482"><a href="/reflect/value.go.html#2491623">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492485">if</span>&nbsp;<span class="ident" id="2492488"><a href="/reflect/value.go.html#2491629">k</a></span><span class="op" id="2492489">-</span><span class="ident" id="2492490"><a href="/reflect/value.go.html#2491623">i</a></span>&nbsp;<span class="op" id="2492492">&gt;</span>&nbsp;<span class="num" id="2492494">0</span>&nbsp;<span class="op" id="2492496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492500"><a href="/reflect/value.go.html#2492414">s</a></span><span class="op" id="2492501">.</span><span class="ident" id="2492502">Data</span>&nbsp;<span class="op" id="2492507">=</span>&nbsp;<span class="ident" id="2492509"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2492515">.</span><span class="ident" id="2492516">Pointer</span><span class="op" id="2492523">(</span><span class="builtintype" id="2492524">uintptr</span><span class="op" id="2492531">(</span><span class="ident" id="2492532"><a href="/reflect/value.go.html#2491682">base</a></span><span class="op" id="2492536">)</span>&nbsp;<span class="op" id="2492538">+</span>&nbsp;<span class="builtintype" id="2492540">uintptr</span><span class="op" id="2492547">(</span><span class="ident" id="2492548"><a href="/reflect/value.go.html#2491623">i</a></span><span class="op" id="2492549">)</span><span class="op" id="2492550">*</span><span class="ident" id="2492551"><a href="/reflect/value.go.html#2491664">typ</a></span><span class="op" id="2492554">.</span><span class="ident" id="2492555">elem</span><span class="op" id="2492559">.</span><span class="ident" id="2492560">Size</span><span class="op" id="2492564">(</span><span class="op" id="2492565">)</span><span class="op" id="2492566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492569">}</span>&nbsp;<span class="keyword" id="2492571">else</span>&nbsp;<span class="op" id="2492576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2492580">//&nbsp;do&nbsp;not&nbsp;advance&nbsp;pointer,&nbsp;to&nbsp;avoid&nbsp;pointing&nbsp;beyond&nbsp;end&nbsp;of&nbsp;slice</span><br>
<span class="lineno">1585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492647"><a href="/reflect/value.go.html#2492414">s</a></span><span class="op" id="2492648">.</span><span class="ident" id="2492649">Data</span>&nbsp;<span class="op" id="2492654">=</span>&nbsp;<span class="ident" id="2492656"><a href="/reflect/value.go.html#2491682">base</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2492662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2492666">fl</span>&nbsp;<span class="op" id="2492669">:=</span>&nbsp;<span class="ident" id="2492672"><a href="/reflect/value.go.html#2491607">v</a></span><span class="op" id="2492673">.</span><span class="ident" id="2492674">flag</span><span class="op" id="2492678">&amp;</span><span class="ident" id="2492679"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2492686">|</span>&nbsp;<span class="ident" id="2492688"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2492698">|</span>&nbsp;<span class="ident" id="2492700"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2492704">(</span><span class="ident" id="2492705"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2492710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2492713">return</span>&nbsp;<span class="ident" id="2492720"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2492725">{</span><span class="ident" id="2492726"><a href="/reflect/value.go.html#2491664">typ</a></span><span class="op" id="2492729">.</span><span class="ident" id="2492730">common</span><span class="op" id="2492736">(</span><span class="op" id="2492737">)</span><span class="op" id="2492738">,</span>&nbsp;<span class="ident" id="2492740"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2492746">.</span><span class="ident" id="2492747">Pointer</span><span class="op" id="2492754">(</span><span class="op" id="2492755">&amp;</span><span class="ident" id="2492756"><a href="/reflect/value.go.html#2492352">x</a></span><span class="op" id="2492757">)</span><span class="op" id="2492758">,</span>&nbsp;<span class="ident" id="2492760"><a href="/reflect/value.go.html#2492666">fl</a></span><span class="op" id="2492762">}</span><br>
<span class="lineno">1590</span><span class="op" id="2492764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2492767">//&nbsp;String&nbsp;returns&nbsp;the&nbsp;string&nbsp;v&#39;s&nbsp;underlying&nbsp;value,&nbsp;as&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2492831">//&nbsp;String&nbsp;is&nbsp;a&nbsp;special&nbsp;case&nbsp;because&nbsp;of&nbsp;Go&#39;s&nbsp;String&nbsp;method&nbsp;convention.</span><br>
<span class="lineno"></span><span class="comment" id="2492901">//&nbsp;Unlike&nbsp;the&nbsp;other&nbsp;getters,&nbsp;it&nbsp;does&nbsp;not&nbsp;panic&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;String.</span><br>
<span class="lineno">1595</span><span class="comment" id="2492975">//&nbsp;Instead,&nbsp;it&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;&lt;T&nbsp;value&gt;&#34;&nbsp;where&nbsp;T&nbsp;is&nbsp;v&#39;s&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2493052">func</span>&nbsp;<span class="op" id="2493057">(</span><span class="ident" id="2493058">v</span>&nbsp;<span class="ident" id="2493060"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2493065">)</span>&nbsp;<span class="ident" id="2493067">String</span><span class="op" id="2493073">(</span><span class="op" id="2493074">)</span>&nbsp;<span class="builtintype" id="2493076">string</span>&nbsp;<span class="op" id="2493083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493086">switch</span>&nbsp;<span class="ident" id="2493093">k</span>&nbsp;<span class="op" id="2493095">:=</span>&nbsp;<span class="ident" id="2493098"><a href="/reflect/value.go.html#2493058">v</a></span><span class="op" id="2493099">.</span><span class="ident" id="2493100">kind</span><span class="op" id="2493104">(</span><span class="op" id="2493105">)</span><span class="op" id="2493106">;</span>&nbsp;<span class="ident" id="2493108"><a href="/reflect/value.go.html#2493093">k</a></span>&nbsp;<span class="op" id="2493110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493113">case</span>&nbsp;<span class="ident" id="2493118"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2493125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493129">return</span>&nbsp;<span class="string" id="2493136">&#34;&lt;invalid&nbsp;Value&gt;&#34;</span><br>
<span class="lineno">1600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493155">case</span>&nbsp;<span class="ident" id="2493160"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2493166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493170">return</span>&nbsp;<span class="op" id="2493177">*</span><span class="op" id="2493178">(</span><span class="op" id="2493179">*</span><span class="builtintype" id="2493180">string</span><span class="op" id="2493186">)</span><span class="op" id="2493187">(</span><span class="ident" id="2493188"><a href="/reflect/value.go.html#2493058">v</a></span><span class="op" id="2493189">.</span><span class="ident" id="2493190">ptr</span><span class="op" id="2493193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2493196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2493199">//&nbsp;If&nbsp;you&nbsp;call&nbsp;String&nbsp;on&nbsp;a&nbsp;reflect.Value&nbsp;of&nbsp;other&nbsp;type,&nbsp;it&#39;s&nbsp;better&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2493271">//&nbsp;print&nbsp;something&nbsp;than&nbsp;to&nbsp;panic.&nbsp;Useful&nbsp;in&nbsp;debugging.</span><br>
<span class="lineno">1605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493327">return</span>&nbsp;<span class="string" id="2493334">&#34;&lt;&#34;</span>&nbsp;<span class="op" id="2493338">+</span>&nbsp;<span class="ident" id="2493340"><a href="/reflect/value.go.html#2493058">v</a></span><span class="op" id="2493341">.</span><span class="ident" id="2493342">Type</span><span class="op" id="2493346">(</span><span class="op" id="2493347">)</span><span class="op" id="2493348">.</span><span class="ident" id="2493349">String</span><span class="op" id="2493355">(</span><span class="op" id="2493356">)</span>&nbsp;<span class="op" id="2493358">+</span>&nbsp;<span class="string" id="2493360">&#34;&nbsp;Value&gt;&#34;</span><br>
<span class="lineno"></span><span class="op" id="2493370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2493373">//&nbsp;TryRecv&nbsp;attempts&nbsp;to&nbsp;receive&nbsp;a&nbsp;value&nbsp;from&nbsp;the&nbsp;channel&nbsp;v&nbsp;but&nbsp;will&nbsp;not&nbsp;block.</span><br>
<span class="lineno"></span><span class="comment" id="2493451">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Chan.</span><br>
<span class="lineno">1610</span><span class="comment" id="2493489">//&nbsp;If&nbsp;the&nbsp;receive&nbsp;delivers&nbsp;a&nbsp;value,&nbsp;x&nbsp;is&nbsp;the&nbsp;transferred&nbsp;value&nbsp;and&nbsp;ok&nbsp;is&nbsp;true.</span><br>
<span class="lineno"></span><span class="comment" id="2493568">//&nbsp;If&nbsp;the&nbsp;receive&nbsp;cannot&nbsp;finish&nbsp;without&nbsp;blocking,&nbsp;x&nbsp;is&nbsp;the&nbsp;zero&nbsp;Value&nbsp;and&nbsp;ok&nbsp;is&nbsp;false.</span><br>
<span class="lineno"></span><span class="comment" id="2493655">//&nbsp;If&nbsp;the&nbsp;channel&nbsp;is&nbsp;closed,&nbsp;x&nbsp;is&nbsp;the&nbsp;zero&nbsp;value&nbsp;for&nbsp;the&nbsp;channel&#39;s&nbsp;element&nbsp;type&nbsp;and&nbsp;ok&nbsp;is&nbsp;false.</span><br>
<span class="lineno"></span><span class="keyword" id="2493752">func</span>&nbsp;<span class="op" id="2493757">(</span><span class="ident" id="2493758">v</span>&nbsp;<span class="ident" id="2493760"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2493765">)</span>&nbsp;<span class="ident" id="2493767">TryRecv</span><span class="op" id="2493774">(</span><span class="op" id="2493775">)</span>&nbsp;<span class="op" id="2493777">(</span><span class="ident" id="2493778">x</span>&nbsp;<span class="ident" id="2493780"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2493785">,</span>&nbsp;<span class="ident" id="2493787">ok</span>&nbsp;<span class="builtintype" id="2493790">bool</span><span class="op" id="2493794">)</span>&nbsp;<span class="op" id="2493796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493799"><a href="/reflect/value.go.html#2493758">v</a></span><span class="op" id="2493800">.</span><span class="ident" id="2493801">mustBe</span><span class="op" id="2493807">(</span><span class="ident" id="2493808"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2493812">)</span><br>
<span class="lineno">1615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2493815"><a href="/reflect/value.go.html#2493758">v</a></span><span class="op" id="2493816">.</span><span class="ident" id="2493817">mustBeExported</span><span class="op" id="2493831">(</span><span class="op" id="2493832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2493835">return</span>&nbsp;<span class="ident" id="2493842"><a href="/reflect/value.go.html#2493758">v</a></span><span class="op" id="2493843">.</span><span class="ident" id="2493844">recv</span><span class="op" id="2493848">(</span><span class="ident" id="2493849">true</span><span class="op" id="2493853">)</span><br>
<span class="lineno"></span><span class="op" id="2493855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2493858">//&nbsp;TrySend&nbsp;attempts&nbsp;to&nbsp;send&nbsp;x&nbsp;on&nbsp;the&nbsp;channel&nbsp;v&nbsp;but&nbsp;will&nbsp;not&nbsp;block.</span><br>
<span class="lineno">1620</span><span class="comment" id="2493925">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Chan.</span><br>
<span class="lineno"></span><span class="comment" id="2493963">//&nbsp;It&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;value&nbsp;was&nbsp;sent,&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="2494022">//&nbsp;As&nbsp;in&nbsp;Go,&nbsp;x&#39;s&nbsp;value&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;the&nbsp;channel&#39;s&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2494095">func</span>&nbsp;<span class="op" id="2494100">(</span><span class="ident" id="2494101">v</span>&nbsp;<span class="ident" id="2494103"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2494108">)</span>&nbsp;<span class="ident" id="2494110">TrySend</span><span class="op" id="2494117">(</span><span class="ident" id="2494118">x</span>&nbsp;<span class="ident" id="2494120"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2494125">)</span>&nbsp;<span class="builtintype" id="2494127">bool</span>&nbsp;<span class="op" id="2494132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494135"><a href="/reflect/value.go.html#2494101">v</a></span><span class="op" id="2494136">.</span><span class="ident" id="2494137">mustBe</span><span class="op" id="2494143">(</span><span class="ident" id="2494144"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2494148">)</span><br>
<span class="lineno">1625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494151"><a href="/reflect/value.go.html#2494101">v</a></span><span class="op" id="2494152">.</span><span class="ident" id="2494153">mustBeExported</span><span class="op" id="2494167">(</span><span class="op" id="2494168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494171">return</span>&nbsp;<span class="ident" id="2494178"><a href="/reflect/value.go.html#2494101">v</a></span><span class="op" id="2494179">.</span><span class="ident" id="2494180">send</span><span class="op" id="2494184">(</span><span class="ident" id="2494185"><a href="/reflect/value.go.html#2494118">x</a></span><span class="op" id="2494186">,</span>&nbsp;<span class="ident" id="2494188">true</span><span class="op" id="2494192">)</span><br>
<span class="lineno"></span><span class="op" id="2494194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2494197">//&nbsp;Type&nbsp;returns&nbsp;v&#39;s&nbsp;type.</span><br>
<span class="lineno">1630</span><span class="keyword" id="2494223">func</span>&nbsp;<span class="op" id="2494228">(</span><span class="ident" id="2494229">v</span>&nbsp;<span class="ident" id="2494231"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2494236">)</span>&nbsp;<span class="ident" id="2494238">Type</span><span class="op" id="2494242">(</span><span class="op" id="2494243">)</span>&nbsp;<span class="ident" id="2494245"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2494250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494253">f</span>&nbsp;<span class="op" id="2494255">:=</span>&nbsp;<span class="ident" id="2494258"><a href="/reflect/value.go.html#2494229">v</a></span><span class="op" id="2494259">.</span><span class="ident" id="2494260">flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494266">if</span>&nbsp;<span class="ident" id="2494269"><a href="/reflect/value.go.html#2494253">f</a></span>&nbsp;<span class="op" id="2494271">==</span>&nbsp;<span class="num" id="2494274">0</span>&nbsp;<span class="op" id="2494276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2494280">panic</span><span class="op" id="2494285">(</span><span class="op" id="2494286">&amp;</span><span class="ident" id="2494287"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2494297">{</span><span class="string" id="2494298">&#34;reflect.Value.Type&#34;</span><span class="op" id="2494318">,</span>&nbsp;<span class="ident" id="2494320"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2494327">}</span><span class="op" id="2494328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494331">}</span><br>
<span class="lineno">1635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494334">if</span>&nbsp;<span class="ident" id="2494337"><a href="/reflect/value.go.html#2494253">f</a></span><span class="op" id="2494338">&amp;</span><span class="ident" id="2494339"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2494350">==</span>&nbsp;<span class="num" id="2494353">0</span>&nbsp;<span class="op" id="2494355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2494359">//&nbsp;Easy&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494374">return</span>&nbsp;<span class="ident" id="2494381"><a href="/reflect/value.go.html#2494229">v</a></span><span class="op" id="2494382">.</span><span class="ident" id="2494383">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2494392">//&nbsp;Method&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2494410">//&nbsp;v.typ&nbsp;describes&nbsp;the&nbsp;receiver,&nbsp;not&nbsp;the&nbsp;method&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494465">i</span>&nbsp;<span class="op" id="2494467">:=</span>&nbsp;<span class="builtintype" id="2494470">int</span><span class="op" id="2494473">(</span><span class="ident" id="2494474"><a href="/reflect/value.go.html#2494229">v</a></span><span class="op" id="2494475">.</span><span class="ident" id="2494476">flag</span><span class="op" id="2494480">)</span>&nbsp;<span class="op" id="2494482">&gt;&gt;</span>&nbsp;<span class="ident" id="2494485"><a href="/reflect/value.go.html#2448256">flagMethodShift</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494502">if</span>&nbsp;<span class="ident" id="2494505"><a href="/reflect/value.go.html#2494229">v</a></span><span class="op" id="2494506">.</span><span class="ident" id="2494507">typ</span><span class="op" id="2494510">.</span><span class="ident" id="2494511">Kind</span><span class="op" id="2494515">(</span><span class="op" id="2494516">)</span>&nbsp;<span class="op" id="2494518">==</span>&nbsp;<span class="ident" id="2494521"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2494531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2494535">//&nbsp;Method&nbsp;on&nbsp;interface.</span><br>
<span class="lineno">1645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494561">tt</span>&nbsp;<span class="op" id="2494564">:=</span>&nbsp;<span class="op" id="2494567">(</span><span class="op" id="2494568">*</span><span class="ident" id="2494569"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2494582">)</span><span class="op" id="2494583">(</span><span class="ident" id="2494584"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2494590">.</span><span class="ident" id="2494591">Pointer</span><span class="op" id="2494598">(</span><span class="ident" id="2494599"><a href="/reflect/value.go.html#2494229">v</a></span><span class="op" id="2494600">.</span><span class="ident" id="2494601">typ</span><span class="op" id="2494604">)</span><span class="op" id="2494605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494609">if</span>&nbsp;<span class="builtintype" id="2494612">uint</span><span class="op" id="2494616">(</span><span class="ident" id="2494617"><a href="/reflect/value.go.html#2494465">i</a></span><span class="op" id="2494618">)</span>&nbsp;<span class="op" id="2494620">&gt;=</span>&nbsp;<span class="builtintype" id="2494623">uint</span><span class="op" id="2494627">(</span><span class="builtinfunc" id="2494628">len</span><span class="op" id="2494631">(</span><span class="ident" id="2494632"><a href="/reflect/value.go.html#2494561">tt</a></span><span class="op" id="2494634">.</span><span class="ident" id="2494635">methods</span><span class="op" id="2494642">)</span><span class="op" id="2494643">)</span>&nbsp;<span class="op" id="2494645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2494650">panic</span><span class="op" id="2494655">(</span><span class="string" id="2494656">&#34;reflect:&nbsp;internal&nbsp;error:&nbsp;invalid&nbsp;method&nbsp;index&#34;</span><span class="op" id="2494703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494711">m</span>&nbsp;<span class="op" id="2494713">:=</span>&nbsp;<span class="op" id="2494716">&amp;</span><span class="ident" id="2494717"><a href="/reflect/value.go.html#2494561">tt</a></span><span class="op" id="2494719">.</span><span class="ident" id="2494720">methods</span><span class="op" id="2494727">[</span><span class="ident" id="2494728"><a href="/reflect/value.go.html#2494465">i</a></span><span class="op" id="2494729">]</span><br>
<span class="lineno">1650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494733">return</span>&nbsp;<span class="ident" id="2494740"><a href="/reflect/value.go.html#2494711">m</a></span><span class="op" id="2494741">.</span><span class="ident" id="2494742">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2494750">//&nbsp;Method&nbsp;on&nbsp;concrete&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494779">ut</span>&nbsp;<span class="op" id="2494782">:=</span>&nbsp;<span class="ident" id="2494785"><a href="/reflect/value.go.html#2494229">v</a></span><span class="op" id="2494786">.</span><span class="ident" id="2494787">typ</span><span class="op" id="2494790">.</span><span class="ident" id="2494791">uncommon</span><span class="op" id="2494799">(</span><span class="op" id="2494800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494803">if</span>&nbsp;<span class="ident" id="2494806"><a href="/reflect/value.go.html#2494779">ut</a></span>&nbsp;<span class="op" id="2494809">==</span>&nbsp;<span class="ident" id="2494812">nil</span>&nbsp;<span class="op" id="2494816">||</span>&nbsp;<span class="builtintype" id="2494819">uint</span><span class="op" id="2494823">(</span><span class="ident" id="2494824"><a href="/reflect/value.go.html#2494465">i</a></span><span class="op" id="2494825">)</span>&nbsp;<span class="op" id="2494827">&gt;=</span>&nbsp;<span class="builtintype" id="2494830">uint</span><span class="op" id="2494834">(</span><span class="builtinfunc" id="2494835">len</span><span class="op" id="2494838">(</span><span class="ident" id="2494839"><a href="/reflect/value.go.html#2494779">ut</a></span><span class="op" id="2494841">.</span><span class="ident" id="2494842">methods</span><span class="op" id="2494849">)</span><span class="op" id="2494850">)</span>&nbsp;<span class="op" id="2494852">{</span><br>
<span class="lineno">1655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2494856">panic</span><span class="op" id="2494861">(</span><span class="string" id="2494862">&#34;reflect:&nbsp;internal&nbsp;error:&nbsp;invalid&nbsp;method&nbsp;index&#34;</span><span class="op" id="2494909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2494912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2494915">m</span>&nbsp;<span class="op" id="2494917">:=</span>&nbsp;<span class="op" id="2494920">&amp;</span><span class="ident" id="2494921"><a href="/reflect/value.go.html#2494779">ut</a></span><span class="op" id="2494923">.</span><span class="ident" id="2494924">methods</span><span class="op" id="2494931">[</span><span class="ident" id="2494932"><a href="/reflect/value.go.html#2494465">i</a></span><span class="op" id="2494933">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2494936">return</span>&nbsp;<span class="ident" id="2494943"><a href="/reflect/value.go.html#2494915">m</a></span><span class="op" id="2494944">.</span><span class="ident" id="2494945">mtyp</span><br>
<span class="lineno"></span><span class="op" id="2494950">}</span><br>
<span class="lineno">1660</span><br>
<span class="lineno"></span><span class="comment" id="2494953">//&nbsp;Uint&nbsp;returns&nbsp;v&#39;s&nbsp;underlying&nbsp;value,&nbsp;as&nbsp;a&nbsp;uint64.</span><br>
<span class="lineno"></span><span class="comment" id="2495004">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Uint,&nbsp;Uintptr,&nbsp;Uint8,&nbsp;Uint16,&nbsp;Uint32,&nbsp;or&nbsp;Uint64.</span><br>
<span class="lineno"></span><span class="keyword" id="2495085">func</span>&nbsp;<span class="op" id="2495090">(</span><span class="ident" id="2495091">v</span>&nbsp;<span class="ident" id="2495093"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2495098">)</span>&nbsp;<span class="ident" id="2495100">Uint</span><span class="op" id="2495104">(</span><span class="op" id="2495105">)</span>&nbsp;<span class="ident" id="2495107">uint64</span>&nbsp;<span class="op" id="2495114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495117">k</span>&nbsp;<span class="op" id="2495119">:=</span>&nbsp;<span class="ident" id="2495122"><a href="/reflect/value.go.html#2495091">v</a></span><span class="op" id="2495123">.</span><span class="ident" id="2495124">kind</span><span class="op" id="2495128">(</span><span class="op" id="2495129">)</span><br>
<span class="lineno">1665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2495132">p</span>&nbsp;<span class="op" id="2495134">:=</span>&nbsp;<span class="ident" id="2495137"><a href="/reflect/value.go.html#2495091">v</a></span><span class="op" id="2495138">.</span><span class="ident" id="2495139">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495144">switch</span>&nbsp;<span class="ident" id="2495151"><a href="/reflect/value.go.html#2495117">k</a></span>&nbsp;<span class="op" id="2495153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495156">case</span>&nbsp;<span class="ident" id="2495161"><a href="/reflect/type.go.html#2401263">Uint</a></span><span class="op" id="2495165">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495169">return</span>&nbsp;<span class="ident" id="2495176">uint64</span><span class="op" id="2495182">(</span><span class="op" id="2495183">*</span><span class="op" id="2495184">(</span><span class="op" id="2495185">*</span><span class="builtintype" id="2495186">uint</span><span class="op" id="2495190">)</span><span class="op" id="2495191">(</span><span class="ident" id="2495192"><a href="/reflect/value.go.html#2495132">p</a></span><span class="op" id="2495193">)</span><span class="op" id="2495194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495197">case</span>&nbsp;<span class="ident" id="2495202"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2495207">:</span><br>
<span class="lineno">1670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495211">return</span>&nbsp;<span class="ident" id="2495218">uint64</span><span class="op" id="2495224">(</span><span class="op" id="2495225">*</span><span class="op" id="2495226">(</span><span class="op" id="2495227">*</span><span class="builtintype" id="2495228">uint8</span><span class="op" id="2495233">)</span><span class="op" id="2495234">(</span><span class="ident" id="2495235"><a href="/reflect/value.go.html#2495132">p</a></span><span class="op" id="2495236">)</span><span class="op" id="2495237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495240">case</span>&nbsp;<span class="ident" id="2495245"><a href="/reflect/type.go.html#2401276">Uint16</a></span><span class="op" id="2495251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495255">return</span>&nbsp;<span class="ident" id="2495262">uint64</span><span class="op" id="2495268">(</span><span class="op" id="2495269">*</span><span class="op" id="2495270">(</span><span class="op" id="2495271">*</span><span class="builtintype" id="2495272">uint16</span><span class="op" id="2495278">)</span><span class="op" id="2495279">(</span><span class="ident" id="2495280"><a href="/reflect/value.go.html#2495132">p</a></span><span class="op" id="2495281">)</span><span class="op" id="2495282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495285">case</span>&nbsp;<span class="ident" id="2495290"><a href="/reflect/type.go.html#2401284">Uint32</a></span><span class="op" id="2495296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495300">return</span>&nbsp;<span class="ident" id="2495307">uint64</span><span class="op" id="2495313">(</span><span class="op" id="2495314">*</span><span class="op" id="2495315">(</span><span class="op" id="2495316">*</span><span class="builtintype" id="2495317">uint32</span><span class="op" id="2495323">)</span><span class="op" id="2495324">(</span><span class="ident" id="2495325"><a href="/reflect/value.go.html#2495132">p</a></span><span class="op" id="2495326">)</span><span class="op" id="2495327">)</span><br>
<span class="lineno">1675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495330">case</span>&nbsp;<span class="ident" id="2495335"><a href="/reflect/type.go.html#2401292">Uint64</a></span><span class="op" id="2495341">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495345">return</span>&nbsp;<span class="ident" id="2495352">uint64</span><span class="op" id="2495358">(</span><span class="op" id="2495359">*</span><span class="op" id="2495360">(</span><span class="op" id="2495361">*</span><span class="ident" id="2495362">uint64</span><span class="op" id="2495368">)</span><span class="op" id="2495369">(</span><span class="ident" id="2495370"><a href="/reflect/value.go.html#2495132">p</a></span><span class="op" id="2495371">)</span><span class="op" id="2495372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495375">case</span>&nbsp;<span class="ident" id="2495380"><a href="/reflect/type.go.html#2401300">Uintptr</a></span><span class="op" id="2495387">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495391">return</span>&nbsp;<span class="ident" id="2495398">uint64</span><span class="op" id="2495404">(</span><span class="op" id="2495405">*</span><span class="op" id="2495406">(</span><span class="op" id="2495407">*</span><span class="builtintype" id="2495408">uintptr</span><span class="op" id="2495415">)</span><span class="op" id="2495416">(</span><span class="ident" id="2495417"><a href="/reflect/value.go.html#2495132">p</a></span><span class="op" id="2495418">)</span><span class="op" id="2495419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2495422">}</span><br>
<span class="lineno">1680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2495425">panic</span><span class="op" id="2495430">(</span><span class="op" id="2495431">&amp;</span><span class="ident" id="2495432"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2495442">{</span><span class="string" id="2495443">&#34;reflect.Value.Uint&#34;</span><span class="op" id="2495463">,</span>&nbsp;<span class="ident" id="2495465"><a href="/reflect/value.go.html#2495091">v</a></span><span class="op" id="2495466">.</span><span class="ident" id="2495467">kind</span><span class="op" id="2495471">(</span><span class="op" id="2495472">)</span><span class="op" id="2495473">}</span><span class="op" id="2495474">)</span><br>
<span class="lineno"></span><span class="op" id="2495476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2495479">//&nbsp;UnsafeAddr&nbsp;returns&nbsp;a&nbsp;pointer&nbsp;to&nbsp;v&#39;s&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="2495524">//&nbsp;It&nbsp;is&nbsp;for&nbsp;advanced&nbsp;clients&nbsp;that&nbsp;also&nbsp;import&nbsp;the&nbsp;&#34;unsafe&#34;&nbsp;package.</span><br>
<span class="lineno">1685</span><span class="comment" id="2495593">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&nbsp;is&nbsp;not&nbsp;addressable.</span><br>
<span class="lineno"></span><span class="keyword" id="2495631">func</span>&nbsp;<span class="op" id="2495636">(</span><span class="ident" id="2495637">v</span>&nbsp;<span class="ident" id="2495639"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2495644">)</span>&nbsp;<span class="ident" id="2495646">UnsafeAddr</span><span class="op" id="2495656">(</span><span class="op" id="2495657">)</span>&nbsp;<span class="builtintype" id="2495659">uintptr</span>&nbsp;<span class="op" id="2495667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2495670">//&nbsp;TODO:&nbsp;deprecate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495690">if</span>&nbsp;<span class="ident" id="2495693"><a href="/reflect/value.go.html#2495637">v</a></span><span class="op" id="2495694">.</span><span class="ident" id="2495695">typ</span>&nbsp;<span class="op" id="2495699">==</span>&nbsp;<span class="ident" id="2495702">nil</span>&nbsp;<span class="op" id="2495706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2495710">panic</span><span class="op" id="2495715">(</span><span class="op" id="2495716">&amp;</span><span class="ident" id="2495717"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2495727">{</span><span class="string" id="2495728">&#34;reflect.Value.UnsafeAddr&#34;</span><span class="op" id="2495754">,</span>&nbsp;<span class="ident" id="2495756"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2495763">}</span><span class="op" id="2495764">)</span><br>
<span class="lineno">1690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2495767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495770">if</span>&nbsp;<span class="ident" id="2495773"><a href="/reflect/value.go.html#2495637">v</a></span><span class="op" id="2495774">.</span><span class="ident" id="2495775">flag</span><span class="op" id="2495779">&amp;</span><span class="ident" id="2495780"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2495789">==</span>&nbsp;<span class="num" id="2495792">0</span>&nbsp;<span class="op" id="2495794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2495798">panic</span><span class="op" id="2495803">(</span><span class="string" id="2495804">&#34;reflect.Value.UnsafeAddr&nbsp;of&nbsp;unaddressable&nbsp;value&#34;</span><span class="op" id="2495853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2495856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2495859">return</span>&nbsp;<span class="builtintype" id="2495866">uintptr</span><span class="op" id="2495873">(</span><span class="ident" id="2495874"><a href="/reflect/value.go.html#2495637">v</a></span><span class="op" id="2495875">.</span><span class="ident" id="2495876">ptr</span><span class="op" id="2495879">)</span><br>
<span class="lineno">1695</span><span class="op" id="2495881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2495884">//&nbsp;StringHeader&nbsp;is&nbsp;the&nbsp;runtime&nbsp;representation&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2495943">//&nbsp;It&nbsp;cannot&nbsp;be&nbsp;used&nbsp;safely&nbsp;or&nbsp;portably&nbsp;and&nbsp;its&nbsp;representation&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="2496010">//&nbsp;change&nbsp;in&nbsp;a&nbsp;later&nbsp;release.</span><br>
<span class="lineno">1700</span><span class="comment" id="2496040">//&nbsp;Moreover,&nbsp;the&nbsp;Data&nbsp;field&nbsp;is&nbsp;not&nbsp;sufficient&nbsp;to&nbsp;guarantee&nbsp;the&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="2496108">//&nbsp;it&nbsp;references&nbsp;will&nbsp;not&nbsp;be&nbsp;garbage&nbsp;collected,&nbsp;so&nbsp;programs&nbsp;must&nbsp;keep</span><br>
<span class="lineno"></span><span class="comment" id="2496178">//&nbsp;a&nbsp;separate,&nbsp;correctly&nbsp;typed&nbsp;pointer&nbsp;to&nbsp;the&nbsp;underlying&nbsp;data.</span><br>
<span class="lineno"></span><span class="keyword" id="2496241">type</span>&nbsp;<span class="ident" id="2496246">StringHeader</span>&nbsp;<span class="keyword" id="2496259">struct</span>&nbsp;<span class="op" id="2496266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496269">Data</span>&nbsp;<span class="builtintype" id="2496274">uintptr</span><br>
<span class="lineno">1705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496283">Len</span>&nbsp;&nbsp;<span class="builtintype" id="2496288">int</span><br>
<span class="lineno"></span><span class="op" id="2496292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2496295">//&nbsp;stringHeader&nbsp;is&nbsp;a&nbsp;safe&nbsp;version&nbsp;of&nbsp;StringHeader&nbsp;used&nbsp;within&nbsp;this&nbsp;package.</span><br>
<span class="lineno"></span><span class="keyword" id="2496371">type</span>&nbsp;<span class="ident" id="2496376">stringHeader</span>&nbsp;<span class="keyword" id="2496389">struct</span>&nbsp;<span class="op" id="2496396">{</span><br>
<span class="lineno">1710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496399">Data</span>&nbsp;<span class="ident" id="2496404"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2496410">.</span><span class="ident" id="2496411">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496420">Len</span>&nbsp;&nbsp;<span class="builtintype" id="2496425">int</span><br>
<span class="lineno"></span><span class="op" id="2496429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2496432">//&nbsp;SliceHeader&nbsp;is&nbsp;the&nbsp;runtime&nbsp;representation&nbsp;of&nbsp;a&nbsp;slice.</span><br>
<span class="lineno">1715</span><span class="comment" id="2496489">//&nbsp;It&nbsp;cannot&nbsp;be&nbsp;used&nbsp;safely&nbsp;or&nbsp;portably&nbsp;and&nbsp;its&nbsp;representation&nbsp;may</span><br>
<span class="lineno"></span><span class="comment" id="2496556">//&nbsp;change&nbsp;in&nbsp;a&nbsp;later&nbsp;release.</span><br>
<span class="lineno"></span><span class="comment" id="2496586">//&nbsp;Moreover,&nbsp;the&nbsp;Data&nbsp;field&nbsp;is&nbsp;not&nbsp;sufficient&nbsp;to&nbsp;guarantee&nbsp;the&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="2496654">//&nbsp;it&nbsp;references&nbsp;will&nbsp;not&nbsp;be&nbsp;garbage&nbsp;collected,&nbsp;so&nbsp;programs&nbsp;must&nbsp;keep</span><br>
<span class="lineno"></span><span class="comment" id="2496724">//&nbsp;a&nbsp;separate,&nbsp;correctly&nbsp;typed&nbsp;pointer&nbsp;to&nbsp;the&nbsp;underlying&nbsp;data.</span><br>
<span class="lineno">1720</span><span class="keyword" id="2496787">type</span>&nbsp;<span class="ident" id="2496792">SliceHeader</span>&nbsp;<span class="keyword" id="2496804">struct</span>&nbsp;<span class="op" id="2496811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496814">Data</span>&nbsp;<span class="builtintype" id="2496819">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496828">Len</span>&nbsp;&nbsp;<span class="builtintype" id="2496833">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496838">Cap</span>&nbsp;&nbsp;<span class="builtintype" id="2496843">int</span><br>
<span class="lineno"></span><span class="op" id="2496847">}</span><br>
<span class="lineno">1725</span><br>
<span class="lineno"></span><span class="comment" id="2496850">//&nbsp;sliceHeader&nbsp;is&nbsp;a&nbsp;safe&nbsp;version&nbsp;of&nbsp;SliceHeader&nbsp;used&nbsp;within&nbsp;this&nbsp;package.</span><br>
<span class="lineno"></span><span class="keyword" id="2496924">type</span>&nbsp;<span class="ident" id="2496929">sliceHeader</span>&nbsp;<span class="keyword" id="2496941">struct</span>&nbsp;<span class="op" id="2496948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496951">Data</span>&nbsp;<span class="ident" id="2496956"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2496962">.</span><span class="ident" id="2496963">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496972">Len</span>&nbsp;&nbsp;<span class="builtintype" id="2496977">int</span><br>
<span class="lineno">1730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2496982">Cap</span>&nbsp;&nbsp;<span class="builtintype" id="2496987">int</span><br>
<span class="lineno"></span><span class="op" id="2496991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2496994">func</span>&nbsp;<span class="ident" id="2496999">typesMustMatch</span><span class="op" id="2497013">(</span><span class="ident" id="2497014">what</span>&nbsp;<span class="builtintype" id="2497019">string</span><span class="op" id="2497025">,</span>&nbsp;<span class="ident" id="2497027">t1</span><span class="op" id="2497029">,</span>&nbsp;<span class="ident" id="2497031">t2</span>&nbsp;<span class="ident" id="2497034"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2497038">)</span>&nbsp;<span class="op" id="2497040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497043">if</span>&nbsp;<span class="ident" id="2497046"><a href="/reflect/value.go.html#2497027">t1</a></span>&nbsp;<span class="op" id="2497049">!=</span>&nbsp;<span class="ident" id="2497052"><a href="/reflect/value.go.html#2497031">t2</a></span>&nbsp;<span class="op" id="2497055">{</span><br>
<span class="lineno">1735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2497059">panic</span><span class="op" id="2497064">(</span><span class="ident" id="2497065"><a href="/reflect/value.go.html#2497014">what</a></span>&nbsp;<span class="op" id="2497070">+</span>&nbsp;<span class="string" id="2497072">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2497077">+</span>&nbsp;<span class="ident" id="2497079"><a href="/reflect/value.go.html#2497027">t1</a></span><span class="op" id="2497081">.</span><span class="ident" id="2497082">String</span><span class="op" id="2497088">(</span><span class="op" id="2497089">)</span>&nbsp;<span class="op" id="2497091">+</span>&nbsp;<span class="string" id="2497093">&#34;&nbsp;!=&nbsp;&#34;</span>&nbsp;<span class="op" id="2497100">+</span>&nbsp;<span class="ident" id="2497102"><a href="/reflect/value.go.html#2497031">t2</a></span><span class="op" id="2497104">.</span><span class="ident" id="2497105">String</span><span class="op" id="2497111">(</span><span class="op" id="2497112">)</span><span class="op" id="2497113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497116">}</span><br>
<span class="lineno"></span><span class="op" id="2497118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2497121">//&nbsp;grow&nbsp;grows&nbsp;the&nbsp;slice&nbsp;s&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;hold&nbsp;extra&nbsp;more&nbsp;values,&nbsp;allocating</span><br>
<span class="lineno">1740</span><span class="comment" id="2497197">//&nbsp;more&nbsp;capacity&nbsp;if&nbsp;needed.&nbsp;It&nbsp;also&nbsp;returns&nbsp;the&nbsp;old&nbsp;and&nbsp;new&nbsp;slice&nbsp;lengths.</span><br>
<span class="lineno"></span><span class="keyword" id="2497272">func</span>&nbsp;<span class="ident" id="2497277">grow</span><span class="op" id="2497281">(</span><span class="ident" id="2497282">s</span>&nbsp;<span class="ident" id="2497284"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2497289">,</span>&nbsp;<span class="ident" id="2497291">extra</span>&nbsp;<span class="builtintype" id="2497297">int</span><span class="op" id="2497300">)</span>&nbsp;<span class="op" id="2497302">(</span><span class="ident" id="2497303"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2497308">,</span>&nbsp;<span class="builtintype" id="2497310">int</span><span class="op" id="2497313">,</span>&nbsp;<span class="builtintype" id="2497315">int</span><span class="op" id="2497318">)</span>&nbsp;<span class="op" id="2497320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497323">i0</span>&nbsp;<span class="op" id="2497326">:=</span>&nbsp;<span class="ident" id="2497329"><a href="/reflect/value.go.html#2497282">s</a></span><span class="op" id="2497330">.</span><span class="ident" id="2497331">Len</span><span class="op" id="2497334">(</span><span class="op" id="2497335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497338">i1</span>&nbsp;<span class="op" id="2497341">:=</span>&nbsp;<span class="ident" id="2497344"><a href="/reflect/value.go.html#2497323">i0</a></span>&nbsp;<span class="op" id="2497347">+</span>&nbsp;<span class="ident" id="2497349"><a href="/reflect/value.go.html#2497291">extra</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497356">if</span>&nbsp;<span class="ident" id="2497359"><a href="/reflect/value.go.html#2497338">i1</a></span>&nbsp;<span class="op" id="2497362">&lt;</span>&nbsp;<span class="ident" id="2497364"><a href="/reflect/value.go.html#2497323">i0</a></span>&nbsp;<span class="op" id="2497367">{</span><br>
<span class="lineno">1745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2497371">panic</span><span class="op" id="2497376">(</span><span class="string" id="2497377">&#34;reflect.Append:&nbsp;slice&nbsp;overflow&#34;</span><span class="op" id="2497409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497415">m</span>&nbsp;<span class="op" id="2497417">:=</span>&nbsp;<span class="ident" id="2497420"><a href="/reflect/value.go.html#2497282">s</a></span><span class="op" id="2497421">.</span><span class="ident" id="2497422">Cap</span><span class="op" id="2497425">(</span><span class="op" id="2497426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497429">if</span>&nbsp;<span class="ident" id="2497432"><a href="/reflect/value.go.html#2497338">i1</a></span>&nbsp;<span class="op" id="2497435">&lt;=</span>&nbsp;<span class="ident" id="2497438"><a href="/reflect/value.go.html#2497415">m</a></span>&nbsp;<span class="op" id="2497440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497444">return</span>&nbsp;<span class="ident" id="2497451"><a href="/reflect/value.go.html#2497282">s</a></span><span class="op" id="2497452">.</span><span class="ident" id="2497453">Slice</span><span class="op" id="2497458">(</span><span class="num" id="2497459">0</span><span class="op" id="2497460">,</span>&nbsp;<span class="ident" id="2497462"><a href="/reflect/value.go.html#2497338">i1</a></span><span class="op" id="2497464">)</span><span class="op" id="2497465">,</span>&nbsp;<span class="ident" id="2497467"><a href="/reflect/value.go.html#2497323">i0</a></span><span class="op" id="2497469">,</span>&nbsp;<span class="ident" id="2497471"><a href="/reflect/value.go.html#2497338">i1</a></span><br>
<span class="lineno">1750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497478">if</span>&nbsp;<span class="ident" id="2497481"><a href="/reflect/value.go.html#2497415">m</a></span>&nbsp;<span class="op" id="2497483">==</span>&nbsp;<span class="num" id="2497486">0</span>&nbsp;<span class="op" id="2497488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497492"><a href="/reflect/value.go.html#2497415">m</a></span>&nbsp;<span class="op" id="2497494">=</span>&nbsp;<span class="ident" id="2497496"><a href="/reflect/value.go.html#2497291">extra</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497503">}</span>&nbsp;<span class="keyword" id="2497505">else</span>&nbsp;<span class="op" id="2497510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497514">for</span>&nbsp;<span class="ident" id="2497518"><a href="/reflect/value.go.html#2497415">m</a></span>&nbsp;<span class="op" id="2497520">&lt;</span>&nbsp;<span class="ident" id="2497522"><a href="/reflect/value.go.html#2497338">i1</a></span>&nbsp;<span class="op" id="2497525">{</span><br>
<span class="lineno">1755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497530">if</span>&nbsp;<span class="ident" id="2497533"><a href="/reflect/value.go.html#2497323">i0</a></span>&nbsp;<span class="op" id="2497536">&lt;</span>&nbsp;<span class="num" id="2497538">1024</span>&nbsp;<span class="op" id="2497543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497549"><a href="/reflect/value.go.html#2497415">m</a></span>&nbsp;<span class="op" id="2497551">+=</span>&nbsp;<span class="ident" id="2497554"><a href="/reflect/value.go.html#2497415">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497559">}</span>&nbsp;<span class="keyword" id="2497561">else</span>&nbsp;<span class="op" id="2497566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497572"><a href="/reflect/value.go.html#2497415">m</a></span>&nbsp;<span class="op" id="2497574">+=</span>&nbsp;<span class="ident" id="2497577"><a href="/reflect/value.go.html#2497415">m</a></span>&nbsp;<span class="op" id="2497579">/</span>&nbsp;<span class="num" id="2497581">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497586">}</span><br>
<span class="lineno">1760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497596">t</span>&nbsp;<span class="op" id="2497598">:=</span>&nbsp;<span class="ident" id="2497601"><a href="/reflect/value.go.html#2504371">MakeSlice</a></span><span class="op" id="2497610">(</span><span class="ident" id="2497611"><a href="/reflect/value.go.html#2497282">s</a></span><span class="op" id="2497612">.</span><span class="ident" id="2497613">Type</span><span class="op" id="2497617">(</span><span class="op" id="2497618">)</span><span class="op" id="2497619">,</span>&nbsp;<span class="ident" id="2497621"><a href="/reflect/value.go.html#2497338">i1</a></span><span class="op" id="2497623">,</span>&nbsp;<span class="ident" id="2497625"><a href="/reflect/value.go.html#2497415">m</a></span><span class="op" id="2497626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497629"><a href="/reflect/value.go.html#2498595">Copy</a></span><span class="op" id="2497633">(</span><span class="ident" id="2497634"><a href="/reflect/value.go.html#2497596">t</a></span><span class="op" id="2497635">,</span>&nbsp;<span class="ident" id="2497637"><a href="/reflect/value.go.html#2497282">s</a></span><span class="op" id="2497638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497641">return</span>&nbsp;<span class="ident" id="2497648"><a href="/reflect/value.go.html#2497596">t</a></span><span class="op" id="2497649">,</span>&nbsp;<span class="ident" id="2497651"><a href="/reflect/value.go.html#2497323">i0</a></span><span class="op" id="2497653">,</span>&nbsp;<span class="ident" id="2497655"><a href="/reflect/value.go.html#2497338">i1</a></span><br>
<span class="lineno">1765</span><span class="op" id="2497658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2497661">//&nbsp;Append&nbsp;appends&nbsp;the&nbsp;values&nbsp;x&nbsp;to&nbsp;a&nbsp;slice&nbsp;s&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="2497738">//&nbsp;As&nbsp;in&nbsp;Go,&nbsp;each&nbsp;x&#39;s&nbsp;value&nbsp;must&nbsp;be&nbsp;assignable&nbsp;to&nbsp;the&nbsp;slice&#39;s&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2497814">func</span>&nbsp;<span class="ident" id="2497819">Append</span><span class="op" id="2497825">(</span><span class="ident" id="2497826">s</span>&nbsp;<span class="ident" id="2497828"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2497833">,</span>&nbsp;<span class="ident" id="2497835">x</span>&nbsp;<span class="op" id="2497837">...</span><span class="ident" id="2497840"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2497845">)</span>&nbsp;<span class="ident" id="2497847"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2497853">{</span><br>
<span class="lineno">1770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497856"><a href="/reflect/value.go.html#2497826">s</a></span><span class="op" id="2497857">.</span><span class="ident" id="2497858">mustBe</span><span class="op" id="2497864">(</span><span class="ident" id="2497865"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2497870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497873"><a href="/reflect/value.go.html#2497826">s</a></span><span class="op" id="2497874">,</span>&nbsp;<span class="ident" id="2497876">i0</span><span class="op" id="2497878">,</span>&nbsp;<span class="ident" id="2497880">i1</span>&nbsp;<span class="op" id="2497883">:=</span>&nbsp;<span class="ident" id="2497886"><a href="/reflect/value.go.html#2497277">grow</a></span><span class="op" id="2497890">(</span><span class="ident" id="2497891"><a href="/reflect/value.go.html#2497826">s</a></span><span class="op" id="2497892">,</span>&nbsp;<span class="builtinfunc" id="2497894">len</span><span class="op" id="2497897">(</span><span class="ident" id="2497898"><a href="/reflect/value.go.html#2497835">x</a></span><span class="op" id="2497899">)</span><span class="op" id="2497900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497903">for</span>&nbsp;<span class="ident" id="2497907">i</span><span class="op" id="2497908">,</span>&nbsp;<span class="ident" id="2497910">j</span>&nbsp;<span class="op" id="2497912">:=</span>&nbsp;<span class="ident" id="2497915"><a href="/reflect/value.go.html#2497876">i0</a></span><span class="op" id="2497917">,</span>&nbsp;<span class="num" id="2497919">0</span><span class="op" id="2497920">;</span>&nbsp;<span class="ident" id="2497922"><a href="/reflect/value.go.html#2497907">i</a></span>&nbsp;<span class="op" id="2497924">&lt;</span>&nbsp;<span class="ident" id="2497926"><a href="/reflect/value.go.html#2497880">i1</a></span><span class="op" id="2497928">;</span>&nbsp;<span class="ident" id="2497930"><a href="/reflect/value.go.html#2497907">i</a></span><span class="op" id="2497931">,</span>&nbsp;<span class="ident" id="2497933"><a href="/reflect/value.go.html#2497910">j</a></span>&nbsp;<span class="op" id="2497935">=</span>&nbsp;<span class="ident" id="2497937"><a href="/reflect/value.go.html#2497907">i</a></span><span class="op" id="2497938">+</span><span class="num" id="2497939">1</span><span class="op" id="2497940">,</span>&nbsp;<span class="ident" id="2497942"><a href="/reflect/value.go.html#2497910">j</a></span><span class="op" id="2497943">+</span><span class="num" id="2497944">1</span>&nbsp;<span class="op" id="2497946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2497950"><a href="/reflect/value.go.html#2497826">s</a></span><span class="op" id="2497951">.</span><span class="ident" id="2497952">Index</span><span class="op" id="2497957">(</span><span class="ident" id="2497958"><a href="/reflect/value.go.html#2497907">i</a></span><span class="op" id="2497959">)</span><span class="op" id="2497960">.</span><span class="ident" id="2497961">Set</span><span class="op" id="2497964">(</span><span class="ident" id="2497965"><a href="/reflect/value.go.html#2497835">x</a></span><span class="op" id="2497966">[</span><span class="ident" id="2497967"><a href="/reflect/value.go.html#2497910">j</a></span><span class="op" id="2497968">]</span><span class="op" id="2497969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2497972">}</span><br>
<span class="lineno">1775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2497975">return</span>&nbsp;<span class="ident" id="2497982"><a href="/reflect/value.go.html#2497826">s</a></span><br>
<span class="lineno"></span><span class="op" id="2497984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2497987">//&nbsp;AppendSlice&nbsp;appends&nbsp;a&nbsp;slice&nbsp;t&nbsp;to&nbsp;a&nbsp;slice&nbsp;s&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="2498066">//&nbsp;The&nbsp;slices&nbsp;s&nbsp;and&nbsp;t&nbsp;must&nbsp;have&nbsp;the&nbsp;same&nbsp;element&nbsp;type.</span><br>
<span class="lineno">1780</span><span class="keyword" id="2498121">func</span>&nbsp;<span class="ident" id="2498126">AppendSlice</span><span class="op" id="2498137">(</span><span class="ident" id="2498138">s</span><span class="op" id="2498139">,</span>&nbsp;<span class="ident" id="2498141">t</span>&nbsp;<span class="ident" id="2498143"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2498148">)</span>&nbsp;<span class="ident" id="2498150"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2498156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498159"><a href="/reflect/value.go.html#2498138">s</a></span><span class="op" id="2498160">.</span><span class="ident" id="2498161">mustBe</span><span class="op" id="2498167">(</span><span class="ident" id="2498168"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2498173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498176"><a href="/reflect/value.go.html#2498141">t</a></span><span class="op" id="2498177">.</span><span class="ident" id="2498178">mustBe</span><span class="op" id="2498184">(</span><span class="ident" id="2498185"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2498190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498193"><a href="/reflect/value.go.html#2496999">typesMustMatch</a></span><span class="op" id="2498207">(</span><span class="string" id="2498208">&#34;reflect.AppendSlice&#34;</span><span class="op" id="2498229">,</span>&nbsp;<span class="ident" id="2498231"><a href="/reflect/value.go.html#2498138">s</a></span><span class="op" id="2498232">.</span><span class="ident" id="2498233">Type</span><span class="op" id="2498237">(</span><span class="op" id="2498238">)</span><span class="op" id="2498239">.</span><span class="ident" id="2498240">Elem</span><span class="op" id="2498244">(</span><span class="op" id="2498245">)</span><span class="op" id="2498246">,</span>&nbsp;<span class="ident" id="2498248"><a href="/reflect/value.go.html#2498141">t</a></span><span class="op" id="2498249">.</span><span class="ident" id="2498250">Type</span><span class="op" id="2498254">(</span><span class="op" id="2498255">)</span><span class="op" id="2498256">.</span><span class="ident" id="2498257">Elem</span><span class="op" id="2498261">(</span><span class="op" id="2498262">)</span><span class="op" id="2498263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498266"><a href="/reflect/value.go.html#2498138">s</a></span><span class="op" id="2498267">,</span>&nbsp;<span class="ident" id="2498269">i0</span><span class="op" id="2498271">,</span>&nbsp;<span class="ident" id="2498273">i1</span>&nbsp;<span class="op" id="2498276">:=</span>&nbsp;<span class="ident" id="2498279"><a href="/reflect/value.go.html#2497277">grow</a></span><span class="op" id="2498283">(</span><span class="ident" id="2498284"><a href="/reflect/value.go.html#2498138">s</a></span><span class="op" id="2498285">,</span>&nbsp;<span class="ident" id="2498287"><a href="/reflect/value.go.html#2498141">t</a></span><span class="op" id="2498288">.</span><span class="ident" id="2498289">Len</span><span class="op" id="2498292">(</span><span class="op" id="2498293">)</span><span class="op" id="2498294">)</span><br>
<span class="lineno">1785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498297"><a href="/reflect/value.go.html#2498595">Copy</a></span><span class="op" id="2498301">(</span><span class="ident" id="2498302"><a href="/reflect/value.go.html#2498138">s</a></span><span class="op" id="2498303">.</span><span class="ident" id="2498304">Slice</span><span class="op" id="2498309">(</span><span class="ident" id="2498310"><a href="/reflect/value.go.html#2498269">i0</a></span><span class="op" id="2498312">,</span>&nbsp;<span class="ident" id="2498314"><a href="/reflect/value.go.html#2498273">i1</a></span><span class="op" id="2498316">)</span><span class="op" id="2498317">,</span>&nbsp;<span class="ident" id="2498319"><a href="/reflect/value.go.html#2498141">t</a></span><span class="op" id="2498320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2498323">return</span>&nbsp;<span class="ident" id="2498330"><a href="/reflect/value.go.html#2498138">s</a></span><br>
<span class="lineno"></span><span class="op" id="2498332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2498335">//&nbsp;Copy&nbsp;copies&nbsp;the&nbsp;contents&nbsp;of&nbsp;src&nbsp;into&nbsp;dst&nbsp;until&nbsp;either</span><br>
<span class="lineno">1790</span><span class="comment" id="2498392">//&nbsp;dst&nbsp;has&nbsp;been&nbsp;filled&nbsp;or&nbsp;src&nbsp;has&nbsp;been&nbsp;exhausted.</span><br>
<span class="lineno"></span><span class="comment" id="2498442">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;elements&nbsp;copied.</span><br>
<span class="lineno"></span><span class="comment" id="2498487">//&nbsp;Dst&nbsp;and&nbsp;src&nbsp;each&nbsp;must&nbsp;have&nbsp;kind&nbsp;Slice&nbsp;or&nbsp;Array,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2498542">//&nbsp;dst&nbsp;and&nbsp;src&nbsp;must&nbsp;have&nbsp;the&nbsp;same&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2498590">func</span>&nbsp;<span class="ident" id="2498595">Copy</span><span class="op" id="2498599">(</span><span class="ident" id="2498600">dst</span><span class="op" id="2498603">,</span>&nbsp;<span class="ident" id="2498605">src</span>&nbsp;<span class="ident" id="2498609"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2498614">)</span>&nbsp;<span class="builtintype" id="2498616">int</span>&nbsp;<span class="op" id="2498620">{</span><br>
<span class="lineno">1795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498623">dk</span>&nbsp;<span class="op" id="2498626">:=</span>&nbsp;<span class="ident" id="2498629"><a href="/reflect/value.go.html#2498600">dst</a></span><span class="op" id="2498632">.</span><span class="ident" id="2498633">kind</span><span class="op" id="2498637">(</span><span class="op" id="2498638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2498641">if</span>&nbsp;<span class="ident" id="2498644"><a href="/reflect/value.go.html#2498623">dk</a></span>&nbsp;<span class="op" id="2498647">!=</span>&nbsp;<span class="ident" id="2498650"><a href="/reflect/type.go.html#2401350">Array</a></span>&nbsp;<span class="op" id="2498656">&amp;&amp;</span>&nbsp;<span class="ident" id="2498659"><a href="/reflect/value.go.html#2498623">dk</a></span>&nbsp;<span class="op" id="2498662">!=</span>&nbsp;<span class="ident" id="2498665"><a href="/reflect/type.go.html#2401390">Slice</a></span>&nbsp;<span class="op" id="2498671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2498675">panic</span><span class="op" id="2498680">(</span><span class="op" id="2498681">&amp;</span><span class="ident" id="2498682"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2498692">{</span><span class="string" id="2498693">&#34;reflect.Copy&#34;</span><span class="op" id="2498707">,</span>&nbsp;<span class="ident" id="2498709"><a href="/reflect/value.go.html#2498623">dk</a></span><span class="op" id="2498711">}</span><span class="op" id="2498712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2498715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2498718">if</span>&nbsp;<span class="ident" id="2498721"><a href="/reflect/value.go.html#2498623">dk</a></span>&nbsp;<span class="op" id="2498724">==</span>&nbsp;<span class="ident" id="2498727"><a href="/reflect/type.go.html#2401350">Array</a></span>&nbsp;<span class="op" id="2498733">{</span><br>
<span class="lineno">1800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498737"><a href="/reflect/value.go.html#2498600">dst</a></span><span class="op" id="2498740">.</span><span class="ident" id="2498741">mustBeAssignable</span><span class="op" id="2498757">(</span><span class="op" id="2498758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2498761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498764"><a href="/reflect/value.go.html#2498600">dst</a></span><span class="op" id="2498767">.</span><span class="ident" id="2498768">mustBeExported</span><span class="op" id="2498782">(</span><span class="op" id="2498783">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498787">sk</span>&nbsp;<span class="op" id="2498790">:=</span>&nbsp;<span class="ident" id="2498793"><a href="/reflect/value.go.html#2498605">src</a></span><span class="op" id="2498796">.</span><span class="ident" id="2498797">kind</span><span class="op" id="2498801">(</span><span class="op" id="2498802">)</span><br>
<span class="lineno">1805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2498805">if</span>&nbsp;<span class="ident" id="2498808"><a href="/reflect/value.go.html#2498787">sk</a></span>&nbsp;<span class="op" id="2498811">!=</span>&nbsp;<span class="ident" id="2498814"><a href="/reflect/type.go.html#2401350">Array</a></span>&nbsp;<span class="op" id="2498820">&amp;&amp;</span>&nbsp;<span class="ident" id="2498823"><a href="/reflect/value.go.html#2498787">sk</a></span>&nbsp;<span class="op" id="2498826">!=</span>&nbsp;<span class="ident" id="2498829"><a href="/reflect/type.go.html#2401390">Slice</a></span>&nbsp;<span class="op" id="2498835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2498839">panic</span><span class="op" id="2498844">(</span><span class="op" id="2498845">&amp;</span><span class="ident" id="2498846"><a href="/reflect/value.go.html#2450325">ValueError</a></span><span class="op" id="2498856">{</span><span class="string" id="2498857">&#34;reflect.Copy&#34;</span><span class="op" id="2498871">,</span>&nbsp;<span class="ident" id="2498873"><a href="/reflect/value.go.html#2498787">sk</a></span><span class="op" id="2498875">}</span><span class="op" id="2498876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2498879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498882"><a href="/reflect/value.go.html#2498605">src</a></span><span class="op" id="2498885">.</span><span class="ident" id="2498886">mustBeExported</span><span class="op" id="2498900">(</span><span class="op" id="2498901">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498905">de</span>&nbsp;<span class="op" id="2498908">:=</span>&nbsp;<span class="ident" id="2498911"><a href="/reflect/value.go.html#2498600">dst</a></span><span class="op" id="2498914">.</span><span class="ident" id="2498915">typ</span><span class="op" id="2498918">.</span><span class="ident" id="2498919">Elem</span><span class="op" id="2498923">(</span><span class="op" id="2498924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498927">se</span>&nbsp;<span class="op" id="2498930">:=</span>&nbsp;<span class="ident" id="2498933"><a href="/reflect/value.go.html#2498605">src</a></span><span class="op" id="2498936">.</span><span class="ident" id="2498937">typ</span><span class="op" id="2498940">.</span><span class="ident" id="2498941">Elem</span><span class="op" id="2498945">(</span><span class="op" id="2498946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498949"><a href="/reflect/value.go.html#2496999">typesMustMatch</a></span><span class="op" id="2498963">(</span><span class="string" id="2498964">&#34;reflect.Copy&#34;</span><span class="op" id="2498978">,</span>&nbsp;<span class="ident" id="2498980"><a href="/reflect/value.go.html#2498905">de</a></span><span class="op" id="2498982">,</span>&nbsp;<span class="ident" id="2498984"><a href="/reflect/value.go.html#2498927">se</a></span><span class="op" id="2498986">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2498990">n</span>&nbsp;<span class="op" id="2498992">:=</span>&nbsp;<span class="ident" id="2498995"><a href="/reflect/value.go.html#2498600">dst</a></span><span class="op" id="2498998">.</span><span class="ident" id="2498999">Len</span><span class="op" id="2499002">(</span><span class="op" id="2499003">)</span><br>
<span class="lineno">1815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2499006">if</span>&nbsp;<span class="ident" id="2499009">sn</span>&nbsp;<span class="op" id="2499012">:=</span>&nbsp;<span class="ident" id="2499015"><a href="/reflect/value.go.html#2498605">src</a></span><span class="op" id="2499018">.</span><span class="ident" id="2499019">Len</span><span class="op" id="2499022">(</span><span class="op" id="2499023">)</span><span class="op" id="2499024">;</span>&nbsp;<span class="ident" id="2499026"><a href="/reflect/value.go.html#2498990">n</a></span>&nbsp;<span class="op" id="2499028">&gt;</span>&nbsp;<span class="ident" id="2499030"><a href="/reflect/value.go.html#2499009">sn</a></span>&nbsp;<span class="op" id="2499033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499037"><a href="/reflect/value.go.html#2498990">n</a></span>&nbsp;<span class="op" id="2499039">=</span>&nbsp;<span class="ident" id="2499041"><a href="/reflect/value.go.html#2499009">sn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2499045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2499049">//&nbsp;Copy&nbsp;via&nbsp;memmove.</span><br>
<span class="lineno">1820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2499071">var</span>&nbsp;<span class="ident" id="2499075">da</span><span class="op" id="2499077">,</span>&nbsp;<span class="ident" id="2499079">sa</span>&nbsp;<span class="ident" id="2499082"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2499088">.</span><span class="ident" id="2499089">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2499098">if</span>&nbsp;<span class="ident" id="2499101"><a href="/reflect/value.go.html#2498623">dk</a></span>&nbsp;<span class="op" id="2499104">==</span>&nbsp;<span class="ident" id="2499107"><a href="/reflect/type.go.html#2401350">Array</a></span>&nbsp;<span class="op" id="2499113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499117"><a href="/reflect/value.go.html#2499075">da</a></span>&nbsp;<span class="op" id="2499120">=</span>&nbsp;<span class="ident" id="2499122"><a href="/reflect/value.go.html#2498600">dst</a></span><span class="op" id="2499125">.</span><span class="ident" id="2499126">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2499131">}</span>&nbsp;<span class="keyword" id="2499133">else</span>&nbsp;<span class="op" id="2499138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499142"><a href="/reflect/value.go.html#2499075">da</a></span>&nbsp;<span class="op" id="2499145">=</span>&nbsp;<span class="op" id="2499147">(</span><span class="op" id="2499148">*</span><span class="ident" id="2499149"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2499160">)</span><span class="op" id="2499161">(</span><span class="ident" id="2499162"><a href="/reflect/value.go.html#2498600">dst</a></span><span class="op" id="2499165">.</span><span class="ident" id="2499166">ptr</span><span class="op" id="2499169">)</span><span class="op" id="2499170">.</span><span class="ident" id="2499171">Data</span><br>
<span class="lineno">1825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2499177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2499180">if</span>&nbsp;<span class="ident" id="2499183"><a href="/reflect/value.go.html#2498605">src</a></span><span class="op" id="2499186">.</span><span class="ident" id="2499187">flag</span><span class="op" id="2499191">&amp;</span><span class="ident" id="2499192"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2499202">==</span>&nbsp;<span class="num" id="2499205">0</span>&nbsp;<span class="op" id="2499207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499211"><a href="/reflect/value.go.html#2499079">sa</a></span>&nbsp;<span class="op" id="2499214">=</span>&nbsp;<span class="ident" id="2499216"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2499222">.</span><span class="ident" id="2499223">Pointer</span><span class="op" id="2499230">(</span><span class="op" id="2499231">&amp;</span><span class="ident" id="2499232"><a href="/reflect/value.go.html#2498605">src</a></span><span class="op" id="2499235">.</span><span class="ident" id="2499236">ptr</span><span class="op" id="2499239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2499242">}</span>&nbsp;<span class="keyword" id="2499244">else</span>&nbsp;<span class="keyword" id="2499249">if</span>&nbsp;<span class="ident" id="2499252"><a href="/reflect/value.go.html#2498787">sk</a></span>&nbsp;<span class="op" id="2499255">==</span>&nbsp;<span class="ident" id="2499258"><a href="/reflect/type.go.html#2401350">Array</a></span>&nbsp;<span class="op" id="2499264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499268"><a href="/reflect/value.go.html#2499079">sa</a></span>&nbsp;<span class="op" id="2499271">=</span>&nbsp;<span class="ident" id="2499273"><a href="/reflect/value.go.html#2498605">src</a></span><span class="op" id="2499276">.</span><span class="ident" id="2499277">ptr</span><br>
<span class="lineno">1830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2499282">}</span>&nbsp;<span class="keyword" id="2499284">else</span>&nbsp;<span class="op" id="2499289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499293"><a href="/reflect/value.go.html#2499079">sa</a></span>&nbsp;<span class="op" id="2499296">=</span>&nbsp;<span class="op" id="2499298">(</span><span class="op" id="2499299">*</span><span class="ident" id="2499300"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2499311">)</span><span class="op" id="2499312">(</span><span class="ident" id="2499313"><a href="/reflect/value.go.html#2498605">src</a></span><span class="op" id="2499316">.</span><span class="ident" id="2499317">ptr</span><span class="op" id="2499320">)</span><span class="op" id="2499321">.</span><span class="ident" id="2499322">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2499328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499331"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2499338">(</span><span class="ident" id="2499339"><a href="/reflect/value.go.html#2499075">da</a></span><span class="op" id="2499341">,</span>&nbsp;<span class="ident" id="2499343"><a href="/reflect/value.go.html#2499079">sa</a></span><span class="op" id="2499345">,</span>&nbsp;<span class="builtintype" id="2499347">uintptr</span><span class="op" id="2499354">(</span><span class="ident" id="2499355"><a href="/reflect/value.go.html#2498990">n</a></span><span class="op" id="2499356">)</span><span class="op" id="2499357">*</span><span class="ident" id="2499358"><a href="/reflect/value.go.html#2498905">de</a></span><span class="op" id="2499360">.</span><span class="ident" id="2499361">Size</span><span class="op" id="2499365">(</span><span class="op" id="2499366">)</span><span class="op" id="2499367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2499370">return</span>&nbsp;<span class="ident" id="2499377"><a href="/reflect/value.go.html#2498990">n</a></span><br>
<span class="lineno">1835</span><span class="op" id="2499379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2499382">//&nbsp;A&nbsp;runtimeSelect&nbsp;is&nbsp;a&nbsp;single&nbsp;case&nbsp;passed&nbsp;to&nbsp;rselect.</span><br>
<span class="lineno"></span><span class="comment" id="2499437">//&nbsp;This&nbsp;must&nbsp;match&nbsp;../runtime/select.go:/runtimeSelect</span><br>
<span class="lineno"></span><span class="keyword" id="2499492">type</span>&nbsp;<span class="ident" id="2499497">runtimeSelect</span>&nbsp;<span class="keyword" id="2499511">struct</span>&nbsp;<span class="op" id="2499518">{</span><br>
<span class="lineno">1840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499521">dir</span>&nbsp;<span class="builtintype" id="2499525">uintptr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2499540">//&nbsp;0,&nbsp;SendDir,&nbsp;or&nbsp;RecvDir</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499567">typ</span>&nbsp;<span class="op" id="2499571">*</span><span class="ident" id="2499572"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2499586">//&nbsp;channel&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499603">ch</span>&nbsp;&nbsp;<span class="ident" id="2499607"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2499613">.</span><span class="ident" id="2499614">Pointer</span>&nbsp;<span class="comment" id="2499622">//&nbsp;channel</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2499634">val</span>&nbsp;<span class="ident" id="2499638"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2499644">.</span><span class="ident" id="2499645">Pointer</span>&nbsp;<span class="comment" id="2499653">//&nbsp;ptr&nbsp;to&nbsp;data&nbsp;(SendDir)&nbsp;or&nbsp;ptr&nbsp;to&nbsp;receive&nbsp;buffer&nbsp;(RecvDir)</span><br>
<span class="lineno"></span><span class="op" id="2499713">}</span><br>
<span class="lineno">1845</span><br>
<span class="lineno"></span><span class="comment" id="2499716">//&nbsp;rselect&nbsp;runs&nbsp;a&nbsp;select.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;chosen&nbsp;case.</span><br>
<span class="lineno"></span><span class="comment" id="2499784">//&nbsp;If&nbsp;the&nbsp;case&nbsp;was&nbsp;a&nbsp;receive,&nbsp;val&nbsp;is&nbsp;filled&nbsp;in&nbsp;with&nbsp;the&nbsp;received&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2499856">//&nbsp;The&nbsp;conventional&nbsp;OK&nbsp;bool&nbsp;indicates&nbsp;whether&nbsp;the&nbsp;receive&nbsp;corresponds</span><br>
<span class="lineno"></span><span class="comment" id="2499926">//&nbsp;to&nbsp;a&nbsp;sent&nbsp;value.</span><br>
<span class="lineno">1850</span><span class="comment" id="2499946">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="2499960">func</span>&nbsp;<span class="ident" id="2499965">rselect</span><span class="op" id="2499972">(</span><span class="op" id="2499973">[</span><span class="op" id="2499974">]</span><span class="ident" id="2499975"><a href="/reflect/value.go.html#2499497">runtimeSelect</a></span><span class="op" id="2499988">)</span>&nbsp;<span class="op" id="2499990">(</span><span class="ident" id="2499991">chosen</span>&nbsp;<span class="builtintype" id="2499998">int</span><span class="op" id="2500001">,</span>&nbsp;<span class="ident" id="2500003">recvOK</span>&nbsp;<span class="builtintype" id="2500010">bool</span><span class="op" id="2500014">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2500017">//&nbsp;A&nbsp;SelectDir&nbsp;describes&nbsp;the&nbsp;communication&nbsp;direction&nbsp;of&nbsp;a&nbsp;select&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="2500088">type</span>&nbsp;<span class="ident" id="2500093">SelectDir</span>&nbsp;<span class="builtintype" id="2500103">int</span><br>
<span class="lineno">1855</span><br>
<span class="lineno"></span><span class="comment" id="2500108">//&nbsp;NOTE:&nbsp;These&nbsp;values&nbsp;must&nbsp;match&nbsp;../runtime/select.go:/selectDir.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2500175">const</span>&nbsp;<span class="op" id="2500181">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2500184">_</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2500198"><a href="/reflect/value.go.html#2500093">SelectDir</a></span>&nbsp;<span class="op" id="2500208">=</span>&nbsp;<span class="ident" id="2500210">iota</span><br>
<span class="lineno">1860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2500216">SelectSend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2500240">//&nbsp;case&nbsp;Chan&nbsp;&lt;-&nbsp;Send</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2500262">SelectRecv</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2500286">//&nbsp;case&nbsp;&lt;-Chan:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2500303">SelectDefault</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2500327">//&nbsp;default</span><br>
<span class="lineno"></span><span class="op" id="2500338">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1865</span><span class="comment" id="2500341">//&nbsp;A&nbsp;SelectCase&nbsp;describes&nbsp;a&nbsp;single&nbsp;case&nbsp;in&nbsp;a&nbsp;select&nbsp;operation.</span><br>
<span class="lineno"></span><span class="comment" id="2500404">//&nbsp;The&nbsp;kind&nbsp;of&nbsp;case&nbsp;depends&nbsp;on&nbsp;Dir,&nbsp;the&nbsp;communication&nbsp;direction.</span><br>
<span class="lineno"></span><span class="comment" id="2500469">//</span><br>
<span class="lineno"></span><span class="comment" id="2500472">//&nbsp;If&nbsp;Dir&nbsp;is&nbsp;SelectDefault,&nbsp;the&nbsp;case&nbsp;represents&nbsp;a&nbsp;default&nbsp;case.</span><br>
<span class="lineno"></span><span class="comment" id="2500536">//&nbsp;Chan&nbsp;and&nbsp;Send&nbsp;must&nbsp;be&nbsp;zero&nbsp;Values.</span><br>
<span class="lineno">1870</span><span class="comment" id="2500574">//</span><br>
<span class="lineno"></span><span class="comment" id="2500577">//&nbsp;If&nbsp;Dir&nbsp;is&nbsp;SelectSend,&nbsp;the&nbsp;case&nbsp;represents&nbsp;a&nbsp;send&nbsp;operation.</span><br>
<span class="lineno"></span><span class="comment" id="2500640">//&nbsp;Normally&nbsp;Chan&#39;s&nbsp;underlying&nbsp;value&nbsp;must&nbsp;be&nbsp;a&nbsp;channel,&nbsp;and&nbsp;Send&#39;s&nbsp;underlying&nbsp;value&nbsp;must&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2500731">//&nbsp;assignable&nbsp;to&nbsp;the&nbsp;channel&#39;s&nbsp;element&nbsp;type.&nbsp;As&nbsp;a&nbsp;special&nbsp;case,&nbsp;if&nbsp;Chan&nbsp;is&nbsp;a&nbsp;zero&nbsp;Value,</span><br>
<span class="lineno"></span><span class="comment" id="2500820">//&nbsp;then&nbsp;the&nbsp;case&nbsp;is&nbsp;ignored,&nbsp;and&nbsp;the&nbsp;field&nbsp;Send&nbsp;will&nbsp;also&nbsp;be&nbsp;ignored&nbsp;and&nbsp;may&nbsp;be&nbsp;either&nbsp;zero</span><br>
<span class="lineno">1875</span><span class="comment" id="2500912">//&nbsp;or&nbsp;non-zero.</span><br>
<span class="lineno"></span><span class="comment" id="2500928">//</span><br>
<span class="lineno"></span><span class="comment" id="2500931">//&nbsp;If&nbsp;Dir&nbsp;is&nbsp;SelectRecv,&nbsp;the&nbsp;case&nbsp;represents&nbsp;a&nbsp;receive&nbsp;operation.</span><br>
<span class="lineno"></span><span class="comment" id="2500997">//&nbsp;Normally&nbsp;Chan&#39;s&nbsp;underlying&nbsp;value&nbsp;must&nbsp;be&nbsp;a&nbsp;channel&nbsp;and&nbsp;Send&nbsp;must&nbsp;be&nbsp;a&nbsp;zero&nbsp;Value.</span><br>
<span class="lineno"></span><span class="comment" id="2501082">//&nbsp;If&nbsp;Chan&nbsp;is&nbsp;a&nbsp;zero&nbsp;Value,&nbsp;then&nbsp;the&nbsp;case&nbsp;is&nbsp;ignored,&nbsp;but&nbsp;Send&nbsp;must&nbsp;still&nbsp;be&nbsp;a&nbsp;zero&nbsp;Value.</span><br>
<span class="lineno">1880</span><span class="comment" id="2501173">//&nbsp;When&nbsp;a&nbsp;receive&nbsp;operation&nbsp;is&nbsp;selected,&nbsp;the&nbsp;received&nbsp;Value&nbsp;is&nbsp;returned&nbsp;by&nbsp;Select.</span><br>
<span class="lineno"></span><span class="comment" id="2501256">//</span><br>
<span class="lineno"></span><span class="keyword" id="2501259">type</span>&nbsp;<span class="ident" id="2501264">SelectCase</span>&nbsp;<span class="keyword" id="2501275">struct</span>&nbsp;<span class="op" id="2501282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2501285">Dir</span>&nbsp;&nbsp;<span class="ident" id="2501290"><a href="/reflect/value.go.html#2500093">SelectDir</a></span>&nbsp;<span class="comment" id="2501300">//&nbsp;direction&nbsp;of&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2501322">Chan</span>&nbsp;<span class="ident" id="2501327"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2501337">//&nbsp;channel&nbsp;to&nbsp;use&nbsp;(for&nbsp;send&nbsp;or&nbsp;receive)</span><br>
<span class="lineno">1885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2501378">Send</span>&nbsp;<span class="ident" id="2501383"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2501393">//&nbsp;value&nbsp;to&nbsp;send&nbsp;(for&nbsp;send)</span><br>
<span class="lineno"></span><span class="op" id="2501421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2501424">//&nbsp;Select&nbsp;executes&nbsp;a&nbsp;select&nbsp;operation&nbsp;described&nbsp;by&nbsp;the&nbsp;list&nbsp;of&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="2501494">//&nbsp;Like&nbsp;the&nbsp;Go&nbsp;select&nbsp;statement,&nbsp;it&nbsp;blocks&nbsp;until&nbsp;at&nbsp;least&nbsp;one&nbsp;of&nbsp;the&nbsp;cases</span><br>
<span class="lineno">1890</span><span class="comment" id="2501569">//&nbsp;can&nbsp;proceed,&nbsp;makes&nbsp;a&nbsp;uniform&nbsp;pseudo-random&nbsp;choice,</span><br>
<span class="lineno"></span><span class="comment" id="2501623">//&nbsp;and&nbsp;then&nbsp;executes&nbsp;that&nbsp;case.&nbsp;It&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;chosen&nbsp;case</span><br>
<span class="lineno"></span><span class="comment" id="2501695">//&nbsp;and,&nbsp;if&nbsp;that&nbsp;case&nbsp;was&nbsp;a&nbsp;receive&nbsp;operation,&nbsp;the&nbsp;value&nbsp;received&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2501766">//&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;value&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;send&nbsp;on&nbsp;the&nbsp;channel</span><br>
<span class="lineno"></span><span class="comment" id="2501843">//&nbsp;(as&nbsp;opposed&nbsp;to&nbsp;a&nbsp;zero&nbsp;value&nbsp;received&nbsp;because&nbsp;the&nbsp;channel&nbsp;is&nbsp;closed).</span><br>
<span class="lineno">1895</span><span class="keyword" id="2501915">func</span>&nbsp;<span class="ident" id="2501920">Select</span><span class="op" id="2501926">(</span><span class="ident" id="2501927">cases</span>&nbsp;<span class="op" id="2501933">[</span><span class="op" id="2501934">]</span><span class="ident" id="2501935"><a href="/reflect/value.go.html#2501264">SelectCase</a></span><span class="op" id="2501945">)</span>&nbsp;<span class="op" id="2501947">(</span><span class="ident" id="2501948">chosen</span>&nbsp;<span class="builtintype" id="2501955">int</span><span class="op" id="2501958">,</span>&nbsp;<span class="ident" id="2501960">recv</span>&nbsp;<span class="ident" id="2501965"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2501970">,</span>&nbsp;<span class="ident" id="2501972">recvOK</span>&nbsp;<span class="builtintype" id="2501979">bool</span><span class="op" id="2501983">)</span>&nbsp;<span class="op" id="2501985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2501988">//&nbsp;NOTE:&nbsp;Do&nbsp;not&nbsp;trust&nbsp;that&nbsp;caller&nbsp;is&nbsp;not&nbsp;modifying&nbsp;cases&nbsp;data&nbsp;underfoot.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2502062">//&nbsp;The&nbsp;range&nbsp;is&nbsp;safe&nbsp;because&nbsp;the&nbsp;caller&nbsp;cannot&nbsp;modify&nbsp;our&nbsp;copy&nbsp;of&nbsp;the&nbsp;len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2502137">//&nbsp;and&nbsp;each&nbsp;iteration&nbsp;makes&nbsp;its&nbsp;own&nbsp;copy&nbsp;of&nbsp;the&nbsp;value&nbsp;c.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502195">runcases</span>&nbsp;<span class="op" id="2502204">:=</span>&nbsp;<span class="builtinfunc" id="2502207">make</span><span class="op" id="2502211">(</span><span class="op" id="2502212">[</span><span class="op" id="2502213">]</span><span class="ident" id="2502214"><a href="/reflect/value.go.html#2499497">runtimeSelect</a></span><span class="op" id="2502227">,</span>&nbsp;<span class="builtinfunc" id="2502229">len</span><span class="op" id="2502232">(</span><span class="ident" id="2502233"><a href="/reflect/value.go.html#2501927">cases</a></span><span class="op" id="2502238">)</span><span class="op" id="2502239">)</span><br>
<span class="lineno">1900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502242">haveDefault</span>&nbsp;<span class="op" id="2502254">:=</span>&nbsp;<span class="ident" id="2502257">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502264">for</span>&nbsp;<span class="ident" id="2502268">i</span><span class="op" id="2502269">,</span>&nbsp;<span class="ident" id="2502271">c</span>&nbsp;<span class="op" id="2502273">:=</span>&nbsp;<span class="keyword" id="2502276">range</span>&nbsp;<span class="ident" id="2502282"><a href="/reflect/value.go.html#2501927">cases</a></span>&nbsp;<span class="op" id="2502288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502292">rc</span>&nbsp;<span class="op" id="2502295">:=</span>&nbsp;<span class="op" id="2502298">&amp;</span><span class="ident" id="2502299"><a href="/reflect/value.go.html#2502195">runcases</a></span><span class="op" id="2502307">[</span><span class="ident" id="2502308"><a href="/reflect/value.go.html#2502268">i</a></span><span class="op" id="2502309">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502313"><a href="/reflect/value.go.html#2502292">rc</a></span><span class="op" id="2502315">.</span><span class="ident" id="2502316">dir</span>&nbsp;<span class="op" id="2502320">=</span>&nbsp;<span class="builtintype" id="2502322">uintptr</span><span class="op" id="2502329">(</span><span class="ident" id="2502330"><a href="/reflect/value.go.html#2502271">c</a></span><span class="op" id="2502331">.</span><span class="ident" id="2502332">Dir</span><span class="op" id="2502335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502339">switch</span>&nbsp;<span class="ident" id="2502346"><a href="/reflect/value.go.html#2502271">c</a></span><span class="op" id="2502347">.</span><span class="ident" id="2502348">Dir</span>&nbsp;<span class="op" id="2502352">{</span><br>
<span class="lineno">1905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502356">default</span><span class="op" id="2502363">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2502368">panic</span><span class="op" id="2502373">(</span><span class="string" id="2502374">&#34;reflect.Select:&nbsp;invalid&nbsp;Dir&#34;</span><span class="op" id="2502403">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502408">case</span>&nbsp;<span class="ident" id="2502413"><a href="/reflect/value.go.html#2500303">SelectDefault</a></span><span class="op" id="2502426">:</span>&nbsp;<span class="comment" id="2502428">//&nbsp;default</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502442">if</span>&nbsp;<span class="ident" id="2502445"><a href="/reflect/value.go.html#2502242">haveDefault</a></span>&nbsp;<span class="op" id="2502457">{</span><br>
<span class="lineno">1910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2502463">panic</span><span class="op" id="2502468">(</span><span class="string" id="2502469">&#34;reflect.Select:&nbsp;multiple&nbsp;default&nbsp;cases&#34;</span><span class="op" id="2502509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2502514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502519"><a href="/reflect/value.go.html#2502242">haveDefault</a></span>&nbsp;<span class="op" id="2502531">=</span>&nbsp;<span class="ident" id="2502533">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502541">if</span>&nbsp;<span class="ident" id="2502544"><a href="/reflect/value.go.html#2502271">c</a></span><span class="op" id="2502545">.</span><span class="ident" id="2502546">Chan</span><span class="op" id="2502550">.</span><span class="ident" id="2502551">IsValid</span><span class="op" id="2502558">(</span><span class="op" id="2502559">)</span>&nbsp;<span class="op" id="2502561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2502567">panic</span><span class="op" id="2502572">(</span><span class="string" id="2502573">&#34;reflect.Select:&nbsp;default&nbsp;case&nbsp;has&nbsp;Chan&nbsp;value&#34;</span><span class="op" id="2502618">)</span><br>
<span class="lineno">1915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2502623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502628">if</span>&nbsp;<span class="ident" id="2502631"><a href="/reflect/value.go.html#2502271">c</a></span><span class="op" id="2502632">.</span><span class="ident" id="2502633">Send</span><span class="op" id="2502637">.</span><span class="ident" id="2502638">IsValid</span><span class="op" id="2502645">(</span><span class="op" id="2502646">)</span>&nbsp;<span class="op" id="2502648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2502654">panic</span><span class="op" id="2502659">(</span><span class="string" id="2502660">&#34;reflect.Select:&nbsp;default&nbsp;case&nbsp;has&nbsp;Send&nbsp;value&#34;</span><span class="op" id="2502705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2502710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502715">case</span>&nbsp;<span class="ident" id="2502720"><a href="/reflect/value.go.html#2500216">SelectSend</a></span><span class="op" id="2502730">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502735">ch</span>&nbsp;<span class="op" id="2502738">:=</span>&nbsp;<span class="ident" id="2502741"><a href="/reflect/value.go.html#2502271">c</a></span><span class="op" id="2502742">.</span><span class="ident" id="2502743">Chan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502751">if</span>&nbsp;<span class="op" id="2502754">!</span><span class="ident" id="2502755"><a href="/reflect/value.go.html#2502735">ch</a></span><span class="op" id="2502757">.</span><span class="ident" id="2502758">IsValid</span><span class="op" id="2502765">(</span><span class="op" id="2502766">)</span>&nbsp;<span class="op" id="2502768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502774">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2502783">}</span><br>
<span class="lineno">1925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502788"><a href="/reflect/value.go.html#2502735">ch</a></span><span class="op" id="2502790">.</span><span class="ident" id="2502791">mustBe</span><span class="op" id="2502797">(</span><span class="ident" id="2502798"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2502802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502807"><a href="/reflect/value.go.html#2502735">ch</a></span><span class="op" id="2502809">.</span><span class="ident" id="2502810">mustBeExported</span><span class="op" id="2502824">(</span><span class="op" id="2502825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502830">tt</span>&nbsp;<span class="op" id="2502833">:=</span>&nbsp;<span class="op" id="2502836">(</span><span class="op" id="2502837">*</span><span class="ident" id="2502838"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2502846">)</span><span class="op" id="2502847">(</span><span class="ident" id="2502848"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2502854">.</span><span class="ident" id="2502855">Pointer</span><span class="op" id="2502862">(</span><span class="ident" id="2502863"><a href="/reflect/value.go.html#2502735">ch</a></span><span class="op" id="2502865">.</span><span class="ident" id="2502866">typ</span><span class="op" id="2502869">)</span><span class="op" id="2502870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2502875">if</span>&nbsp;<span class="ident" id="2502878"><a href="/reflect/type.go.html#2403748">ChanDir</a></span><span class="op" id="2502885">(</span><span class="ident" id="2502886"><a href="/reflect/value.go.html#2502830">tt</a></span><span class="op" id="2502888">.</span><span class="ident" id="2502889">dir</span><span class="op" id="2502892">)</span><span class="op" id="2502893">&amp;</span><span class="ident" id="2502894"><a href="/reflect/type.go.html#2403821">SendDir</a></span>&nbsp;<span class="op" id="2502902">==</span>&nbsp;<span class="num" id="2502905">0</span>&nbsp;<span class="op" id="2502907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2502913">panic</span><span class="op" id="2502918">(</span><span class="string" id="2502919">&#34;reflect.Select:&nbsp;SendDir&nbsp;case&nbsp;using&nbsp;recv-only&nbsp;channel&#34;</span><span class="op" id="2502973">)</span><br>
<span class="lineno">1930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2502978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2502983"><a href="/reflect/value.go.html#2502292">rc</a></span><span class="op" id="2502985">.</span><span class="ident" id="2502986">ch</span>&nbsp;<span class="op" id="2502989">=</span>&nbsp;<span class="ident" id="2502991"><a href="/reflect/value.go.html#2502735">ch</a></span><span class="op" id="2502993">.</span><span class="ident" id="2502994">pointer</span><span class="op" id="2503001">(</span><span class="op" id="2503002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503007"><a href="/reflect/value.go.html#2502292">rc</a></span><span class="op" id="2503009">.</span><span class="ident" id="2503010">typ</span>&nbsp;<span class="op" id="2503014">=</span>&nbsp;<span class="op" id="2503016">&amp;</span><span class="ident" id="2503017"><a href="/reflect/value.go.html#2502830">tt</a></span><span class="op" id="2503019">.</span><span class="ident" id="2503020">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503029">v</span>&nbsp;<span class="op" id="2503031">:=</span>&nbsp;<span class="ident" id="2503034"><a href="/reflect/value.go.html#2502271">c</a></span><span class="op" id="2503035">.</span><span class="ident" id="2503036">Send</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503044">if</span>&nbsp;<span class="op" id="2503047">!</span><span class="ident" id="2503048"><a href="/reflect/value.go.html#2503029">v</a></span><span class="op" id="2503049">.</span><span class="ident" id="2503050">IsValid</span><span class="op" id="2503057">(</span><span class="op" id="2503058">)</span>&nbsp;<span class="op" id="2503060">{</span><br>
<span class="lineno">1935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2503066">panic</span><span class="op" id="2503071">(</span><span class="string" id="2503072">&#34;reflect.Select:&nbsp;SendDir&nbsp;case&nbsp;missing&nbsp;Send&nbsp;value&#34;</span><span class="op" id="2503121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2503126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503131"><a href="/reflect/value.go.html#2503029">v</a></span><span class="op" id="2503132">.</span><span class="ident" id="2503133">mustBeExported</span><span class="op" id="2503147">(</span><span class="op" id="2503148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503153"><a href="/reflect/value.go.html#2503029">v</a></span>&nbsp;<span class="op" id="2503155">=</span>&nbsp;<span class="ident" id="2503157"><a href="/reflect/value.go.html#2503029">v</a></span><span class="op" id="2503158">.</span><span class="ident" id="2503159">assignTo</span><span class="op" id="2503167">(</span><span class="string" id="2503168">&#34;reflect.Select&#34;</span><span class="op" id="2503184">,</span>&nbsp;<span class="ident" id="2503186"><a href="/reflect/value.go.html#2502830">tt</a></span><span class="op" id="2503188">.</span><span class="ident" id="2503189">elem</span><span class="op" id="2503193">,</span>&nbsp;<span class="ident" id="2503195">nil</span><span class="op" id="2503198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503203">if</span>&nbsp;<span class="ident" id="2503206"><a href="/reflect/value.go.html#2503029">v</a></span><span class="op" id="2503207">.</span><span class="ident" id="2503208">flag</span><span class="op" id="2503212">&amp;</span><span class="ident" id="2503213"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2503223">!=</span>&nbsp;<span class="num" id="2503226">0</span>&nbsp;<span class="op" id="2503228">{</span><br>
<span class="lineno">1940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503234"><a href="/reflect/value.go.html#2502292">rc</a></span><span class="op" id="2503236">.</span><span class="ident" id="2503237">val</span>&nbsp;<span class="op" id="2503241">=</span>&nbsp;<span class="ident" id="2503243"><a href="/reflect/value.go.html#2503029">v</a></span><span class="op" id="2503244">.</span><span class="ident" id="2503245">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2503252">}</span>&nbsp;<span class="keyword" id="2503254">else</span>&nbsp;<span class="op" id="2503259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503265"><a href="/reflect/value.go.html#2502292">rc</a></span><span class="op" id="2503267">.</span><span class="ident" id="2503268">val</span>&nbsp;<span class="op" id="2503272">=</span>&nbsp;<span class="ident" id="2503274"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2503280">.</span><span class="ident" id="2503281">Pointer</span><span class="op" id="2503288">(</span><span class="op" id="2503289">&amp;</span><span class="ident" id="2503290"><a href="/reflect/value.go.html#2503029">v</a></span><span class="op" id="2503291">.</span><span class="ident" id="2503292">ptr</span><span class="op" id="2503295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2503300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503305">case</span>&nbsp;<span class="ident" id="2503310"><a href="/reflect/value.go.html#2500262">SelectRecv</a></span><span class="op" id="2503320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503325">if</span>&nbsp;<span class="ident" id="2503328"><a href="/reflect/value.go.html#2502271">c</a></span><span class="op" id="2503329">.</span><span class="ident" id="2503330">Send</span><span class="op" id="2503334">.</span><span class="ident" id="2503335">IsValid</span><span class="op" id="2503342">(</span><span class="op" id="2503343">)</span>&nbsp;<span class="op" id="2503345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2503351">panic</span><span class="op" id="2503356">(</span><span class="string" id="2503357">&#34;reflect.Select:&nbsp;RecvDir&nbsp;case&nbsp;has&nbsp;Send&nbsp;value&#34;</span><span class="op" id="2503402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2503407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503412">ch</span>&nbsp;<span class="op" id="2503415">:=</span>&nbsp;<span class="ident" id="2503418"><a href="/reflect/value.go.html#2502271">c</a></span><span class="op" id="2503419">.</span><span class="ident" id="2503420">Chan</span><br>
<span class="lineno">1950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503428">if</span>&nbsp;<span class="op" id="2503431">!</span><span class="ident" id="2503432"><a href="/reflect/value.go.html#2503412">ch</a></span><span class="op" id="2503434">.</span><span class="ident" id="2503435">IsValid</span><span class="op" id="2503442">(</span><span class="op" id="2503443">)</span>&nbsp;<span class="op" id="2503445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503451">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2503460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503465"><a href="/reflect/value.go.html#2503412">ch</a></span><span class="op" id="2503467">.</span><span class="ident" id="2503468">mustBe</span><span class="op" id="2503474">(</span><span class="ident" id="2503475"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2503479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503484"><a href="/reflect/value.go.html#2503412">ch</a></span><span class="op" id="2503486">.</span><span class="ident" id="2503487">mustBeExported</span><span class="op" id="2503501">(</span><span class="op" id="2503502">)</span><br>
<span class="lineno">1955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503507">tt</span>&nbsp;<span class="op" id="2503510">:=</span>&nbsp;<span class="op" id="2503513">(</span><span class="op" id="2503514">*</span><span class="ident" id="2503515"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2503523">)</span><span class="op" id="2503524">(</span><span class="ident" id="2503525"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2503531">.</span><span class="ident" id="2503532">Pointer</span><span class="op" id="2503539">(</span><span class="ident" id="2503540"><a href="/reflect/value.go.html#2503412">ch</a></span><span class="op" id="2503542">.</span><span class="ident" id="2503543">typ</span><span class="op" id="2503546">)</span><span class="op" id="2503547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503552">if</span>&nbsp;<span class="ident" id="2503555"><a href="/reflect/type.go.html#2403748">ChanDir</a></span><span class="op" id="2503562">(</span><span class="ident" id="2503563"><a href="/reflect/value.go.html#2503507">tt</a></span><span class="op" id="2503565">.</span><span class="ident" id="2503566">dir</span><span class="op" id="2503569">)</span><span class="op" id="2503570">&amp;</span><span class="ident" id="2503571"><a href="/reflect/type.go.html#2403770">RecvDir</a></span>&nbsp;<span class="op" id="2503579">==</span>&nbsp;<span class="num" id="2503582">0</span>&nbsp;<span class="op" id="2503584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2503590">panic</span><span class="op" id="2503595">(</span><span class="string" id="2503596">&#34;reflect.Select:&nbsp;RecvDir&nbsp;case&nbsp;using&nbsp;send-only&nbsp;channel&#34;</span><span class="op" id="2503650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2503655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503660"><a href="/reflect/value.go.html#2502292">rc</a></span><span class="op" id="2503662">.</span><span class="ident" id="2503663">ch</span>&nbsp;<span class="op" id="2503666">=</span>&nbsp;<span class="ident" id="2503668"><a href="/reflect/value.go.html#2503412">ch</a></span><span class="op" id="2503670">.</span><span class="ident" id="2503671">pointer</span><span class="op" id="2503678">(</span><span class="op" id="2503679">)</span><br>
<span class="lineno">1960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503684"><a href="/reflect/value.go.html#2502292">rc</a></span><span class="op" id="2503686">.</span><span class="ident" id="2503687">typ</span>&nbsp;<span class="op" id="2503691">=</span>&nbsp;<span class="op" id="2503693">&amp;</span><span class="ident" id="2503694"><a href="/reflect/value.go.html#2503507">tt</a></span><span class="op" id="2503696">.</span><span class="ident" id="2503697">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503706"><a href="/reflect/value.go.html#2502292">rc</a></span><span class="op" id="2503708">.</span><span class="ident" id="2503709">val</span>&nbsp;<span class="op" id="2503713">=</span>&nbsp;<span class="ident" id="2503715"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2503725">(</span><span class="ident" id="2503726"><a href="/reflect/value.go.html#2503507">tt</a></span><span class="op" id="2503728">.</span><span class="ident" id="2503729">elem</span><span class="op" id="2503733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2503737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2503740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503744"><a href="/reflect/value.go.html#2501948">chosen</a></span><span class="op" id="2503750">,</span>&nbsp;<span class="ident" id="2503752"><a href="/reflect/value.go.html#2501972">recvOK</a></span>&nbsp;<span class="op" id="2503759">=</span>&nbsp;<span class="ident" id="2503761"><a href="/reflect/value.go.html#2499965">rselect</a></span><span class="op" id="2503768">(</span><span class="ident" id="2503769"><a href="/reflect/value.go.html#2502195">runcases</a></span><span class="op" id="2503777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503780">if</span>&nbsp;<span class="ident" id="2503783"><a href="/reflect/value.go.html#2502195">runcases</a></span><span class="op" id="2503791">[</span><span class="ident" id="2503792"><a href="/reflect/value.go.html#2501948">chosen</a></span><span class="op" id="2503798">]</span><span class="op" id="2503799">.</span><span class="ident" id="2503800">dir</span>&nbsp;<span class="op" id="2503804">==</span>&nbsp;<span class="builtintype" id="2503807">uintptr</span><span class="op" id="2503814">(</span><span class="ident" id="2503815"><a href="/reflect/value.go.html#2500262">SelectRecv</a></span><span class="op" id="2503825">)</span>&nbsp;<span class="op" id="2503827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503831">tt</span>&nbsp;<span class="op" id="2503834">:=</span>&nbsp;<span class="op" id="2503837">(</span><span class="op" id="2503838">*</span><span class="ident" id="2503839"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2503847">)</span><span class="op" id="2503848">(</span><span class="ident" id="2503849"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2503855">.</span><span class="ident" id="2503856">Pointer</span><span class="op" id="2503863">(</span><span class="ident" id="2503864"><a href="/reflect/value.go.html#2502195">runcases</a></span><span class="op" id="2503872">[</span><span class="ident" id="2503873"><a href="/reflect/value.go.html#2501948">chosen</a></span><span class="op" id="2503879">]</span><span class="op" id="2503880">.</span><span class="ident" id="2503881">typ</span><span class="op" id="2503884">)</span><span class="op" id="2503885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503889">t</span>&nbsp;<span class="op" id="2503891">:=</span>&nbsp;<span class="ident" id="2503894"><a href="/reflect/value.go.html#2503831">tt</a></span><span class="op" id="2503896">.</span><span class="ident" id="2503897">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503904">p</span>&nbsp;<span class="op" id="2503906">:=</span>&nbsp;<span class="ident" id="2503909"><a href="/reflect/value.go.html#2502195">runcases</a></span><span class="op" id="2503917">[</span><span class="ident" id="2503918"><a href="/reflect/value.go.html#2501948">chosen</a></span><span class="op" id="2503924">]</span><span class="op" id="2503925">.</span><span class="ident" id="2503926">val</span><br>
<span class="lineno">1970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503932">fl</span>&nbsp;<span class="op" id="2503935">:=</span>&nbsp;<span class="ident" id="2503938"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2503942">(</span><span class="ident" id="2503943"><a href="/reflect/value.go.html#2503889">t</a></span><span class="op" id="2503944">.</span><span class="ident" id="2503945">Kind</span><span class="op" id="2503949">(</span><span class="op" id="2503950">)</span><span class="op" id="2503951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2503955">if</span>&nbsp;<span class="ident" id="2503958"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2503968">(</span><span class="ident" id="2503969"><a href="/reflect/value.go.html#2503889">t</a></span><span class="op" id="2503970">)</span>&nbsp;<span class="op" id="2503972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2503977"><a href="/reflect/value.go.html#2501960">recv</a></span>&nbsp;<span class="op" id="2503982">=</span>&nbsp;<span class="ident" id="2503984"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2503989">{</span><span class="ident" id="2503990"><a href="/reflect/value.go.html#2503889">t</a></span><span class="op" id="2503991">,</span>&nbsp;<span class="ident" id="2503993"><a href="/reflect/value.go.html#2503904">p</a></span><span class="op" id="2503994">,</span>&nbsp;<span class="ident" id="2503996"><a href="/reflect/value.go.html#2503932">fl</a></span>&nbsp;<span class="op" id="2503999">|</span>&nbsp;<span class="ident" id="2504001"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><span class="op" id="2504010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2504014">}</span>&nbsp;<span class="keyword" id="2504016">else</span>&nbsp;<span class="op" id="2504021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2504026"><a href="/reflect/value.go.html#2501960">recv</a></span>&nbsp;<span class="op" id="2504031">=</span>&nbsp;<span class="ident" id="2504033"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2504038">{</span><span class="ident" id="2504039"><a href="/reflect/value.go.html#2503889">t</a></span><span class="op" id="2504040">,</span>&nbsp;<span class="op" id="2504042">*</span><span class="op" id="2504043">(</span><span class="op" id="2504044">*</span><span class="ident" id="2504045"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2504051">.</span><span class="ident" id="2504052">Pointer</span><span class="op" id="2504059">)</span><span class="op" id="2504060">(</span><span class="ident" id="2504061"><a href="/reflect/value.go.html#2503904">p</a></span><span class="op" id="2504062">)</span><span class="op" id="2504063">,</span>&nbsp;<span class="ident" id="2504065"><a href="/reflect/value.go.html#2503932">fl</a></span><span class="op" id="2504067">}</span><br>
<span class="lineno">1975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2504071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2504074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2504077">return</span>&nbsp;<span class="ident" id="2504084"><a href="/reflect/value.go.html#2501948">chosen</a></span><span class="op" id="2504090">,</span>&nbsp;<span class="ident" id="2504092"><a href="/reflect/value.go.html#2501960">recv</a></span><span class="op" id="2504096">,</span>&nbsp;<span class="ident" id="2504098"><a href="/reflect/value.go.html#2501972">recvOK</a></span><br>
<span class="lineno"></span><span class="op" id="2504105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1980</span><span class="comment" id="2504108">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;constructors<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2504132">//&nbsp;implemented&nbsp;in&nbsp;package&nbsp;runtime</span><br>
<span class="lineno">1985</span><span class="keyword" id="2504166">func</span>&nbsp;<span class="ident" id="2504171">unsafe_New</span><span class="op" id="2504181">(</span><span class="op" id="2504182">*</span><span class="ident" id="2504183"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2504188">)</span>&nbsp;<span class="ident" id="2504190"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2504196">.</span><span class="ident" id="2504197">Pointer</span><br>
<span class="lineno"></span><span class="keyword" id="2504205">func</span>&nbsp;<span class="ident" id="2504210">unsafe_NewArray</span><span class="op" id="2504225">(</span><span class="op" id="2504226">*</span><span class="ident" id="2504227"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2504232">,</span>&nbsp;<span class="builtintype" id="2504234">int</span><span class="op" id="2504237">)</span>&nbsp;<span class="ident" id="2504239"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2504245">.</span><span class="ident" id="2504246">Pointer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2504255">//&nbsp;MakeSlice&nbsp;creates&nbsp;a&nbsp;new&nbsp;zero-initialized&nbsp;slice&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2504311">//&nbsp;for&nbsp;the&nbsp;specified&nbsp;slice&nbsp;type,&nbsp;length,&nbsp;and&nbsp;capacity.</span><br>
<span class="lineno">1990</span><span class="keyword" id="2504366">func</span>&nbsp;<span class="ident" id="2504371">MakeSlice</span><span class="op" id="2504380">(</span><span class="ident" id="2504381">typ</span>&nbsp;<span class="ident" id="2504385"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2504389">,</span>&nbsp;<span class="builtinfunc" id="2504391">len</span><span class="op" id="2504394">,</span>&nbsp;<span class="builtinfunc" id="2504396">cap</span>&nbsp;<span class="builtintype" id="2504400">int</span><span class="op" id="2504403">)</span>&nbsp;<span class="ident" id="2504405"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2504411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2504414">if</span>&nbsp;<span class="ident" id="2504417"><a href="/reflect/value.go.html#2504381">typ</a></span><span class="op" id="2504420">.</span><span class="ident" id="2504421">Kind</span><span class="op" id="2504425">(</span><span class="op" id="2504426">)</span>&nbsp;<span class="op" id="2504428">!=</span>&nbsp;<span class="ident" id="2504431"><a href="/reflect/type.go.html#2401390">Slice</a></span>&nbsp;<span class="op" id="2504437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2504441">panic</span><span class="op" id="2504446">(</span><span class="string" id="2504447">&#34;reflect.MakeSlice&nbsp;of&nbsp;non-slice&nbsp;type&#34;</span><span class="op" id="2504484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2504487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2504490">if</span>&nbsp;<span class="builtinfunc" id="2504493"><a href="/reflect/value.go.html#2504391">len</a></span>&nbsp;<span class="op" id="2504497">&lt;</span>&nbsp;<span class="num" id="2504499">0</span>&nbsp;<span class="op" id="2504501">{</span><br>
<span class="lineno">1995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2504505">panic</span><span class="op" id="2504510">(</span><span class="string" id="2504511">&#34;reflect.MakeSlice:&nbsp;negative&nbsp;len&#34;</span><span class="op" id="2504544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2504547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2504550">if</span>&nbsp;<span class="builtinfunc" id="2504553"><a href="/reflect/value.go.html#2504396">cap</a></span>&nbsp;<span class="op" id="2504557">&lt;</span>&nbsp;<span class="num" id="2504559">0</span>&nbsp;<span class="op" id="2504561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2504565">panic</span><span class="op" id="2504570">(</span><span class="string" id="2504571">&#34;reflect.MakeSlice:&nbsp;negative&nbsp;cap&#34;</span><span class="op" id="2504604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2504607">}</span><br>
<span class="lineno">2000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2504610">if</span>&nbsp;<span class="builtinfunc" id="2504613"><a href="/reflect/value.go.html#2504391">len</a></span>&nbsp;<span class="op" id="2504617">&gt;</span>&nbsp;<span class="builtinfunc" id="2504619"><a href="/reflect/value.go.html#2504396">cap</a></span>&nbsp;<span class="op" id="2504623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2504627">panic</span><span class="op" id="2504632">(</span><span class="string" id="2504633">&#34;reflect.MakeSlice:&nbsp;len&nbsp;&gt;&nbsp;cap&#34;</span><span class="op" id="2504663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2504666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2504670">s</span>&nbsp;<span class="op" id="2504672">:=</span>&nbsp;<span class="ident" id="2504675"><a href="/reflect/value.go.html#2496929">sliceHeader</a></span><span class="op" id="2504686">{</span><span class="ident" id="2504687"><a href="/reflect/value.go.html#2504210">unsafe_NewArray</a></span><span class="op" id="2504702">(</span><span class="ident" id="2504703"><a href="/reflect/value.go.html#2504381">typ</a></span><span class="op" id="2504706">.</span><span class="ident" id="2504707">Elem</span><span class="op" id="2504711">(</span><span class="op" id="2504712">)</span><span class="op" id="2504713">.</span><span class="op" id="2504714">(</span><span class="op" id="2504715">*</span><span class="ident" id="2504716"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2504721">)</span><span class="op" id="2504722">,</span>&nbsp;<span class="builtinfunc" id="2504724"><a href="/reflect/value.go.html#2504396">cap</a></span><span class="op" id="2504727">)</span><span class="op" id="2504728">,</span>&nbsp;<span class="builtinfunc" id="2504730"><a href="/reflect/value.go.html#2504391">len</a></span><span class="op" id="2504733">,</span>&nbsp;<span class="builtinfunc" id="2504735"><a href="/reflect/value.go.html#2504396">cap</a></span><span class="op" id="2504738">}</span><br>
<span class="lineno">2005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2504741">return</span>&nbsp;<span class="ident" id="2504748"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2504753">{</span><span class="ident" id="2504754"><a href="/reflect/value.go.html#2504381">typ</a></span><span class="op" id="2504757">.</span><span class="ident" id="2504758">common</span><span class="op" id="2504764">(</span><span class="op" id="2504765">)</span><span class="op" id="2504766">,</span>&nbsp;<span class="ident" id="2504768"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2504774">.</span><span class="ident" id="2504775">Pointer</span><span class="op" id="2504782">(</span><span class="op" id="2504783">&amp;</span><span class="ident" id="2504784"><a href="/reflect/value.go.html#2504670">s</a></span><span class="op" id="2504785">)</span><span class="op" id="2504786">,</span>&nbsp;<span class="ident" id="2504788"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2504798">|</span>&nbsp;<span class="ident" id="2504800"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2504804">(</span><span class="ident" id="2504805"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2504810">)</span><span class="op" id="2504811">}</span><br>
<span class="lineno"></span><span class="op" id="2504813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2504816">//&nbsp;MakeChan&nbsp;creates&nbsp;a&nbsp;new&nbsp;channel&nbsp;with&nbsp;the&nbsp;specified&nbsp;type&nbsp;and&nbsp;buffer&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2504891">func</span>&nbsp;<span class="ident" id="2504896">MakeChan</span><span class="op" id="2504904">(</span><span class="ident" id="2504905">typ</span>&nbsp;<span class="ident" id="2504909"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2504913">,</span>&nbsp;<span class="ident" id="2504915">buffer</span>&nbsp;<span class="builtintype" id="2504922">int</span><span class="op" id="2504925">)</span>&nbsp;<span class="ident" id="2504927"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2504933">{</span><br>
<span class="lineno">2010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2504936">if</span>&nbsp;<span class="ident" id="2504939"><a href="/reflect/value.go.html#2504905">typ</a></span><span class="op" id="2504942">.</span><span class="ident" id="2504943">Kind</span><span class="op" id="2504947">(</span><span class="op" id="2504948">)</span>&nbsp;<span class="op" id="2504950">!=</span>&nbsp;<span class="ident" id="2504953"><a href="/reflect/type.go.html#2401357">Chan</a></span>&nbsp;<span class="op" id="2504958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2504962">panic</span><span class="op" id="2504967">(</span><span class="string" id="2504968">&#34;reflect.MakeChan&nbsp;of&nbsp;non-chan&nbsp;type&#34;</span><span class="op" id="2505003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2505006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505009">if</span>&nbsp;<span class="ident" id="2505012"><a href="/reflect/value.go.html#2504915">buffer</a></span>&nbsp;<span class="op" id="2505019">&lt;</span>&nbsp;<span class="num" id="2505021">0</span>&nbsp;<span class="op" id="2505023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2505027">panic</span><span class="op" id="2505032">(</span><span class="string" id="2505033">&#34;reflect.MakeChan:&nbsp;negative&nbsp;buffer&nbsp;size&#34;</span><span class="op" id="2505073">)</span><br>
<span class="lineno">2015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2505076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505079">if</span>&nbsp;<span class="ident" id="2505082"><a href="/reflect/value.go.html#2504905">typ</a></span><span class="op" id="2505085">.</span><span class="ident" id="2505086">ChanDir</span><span class="op" id="2505093">(</span><span class="op" id="2505094">)</span>&nbsp;<span class="op" id="2505096">!=</span>&nbsp;<span class="ident" id="2505099"><a href="/reflect/type.go.html#2403872">BothDir</a></span>&nbsp;<span class="op" id="2505107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2505111">panic</span><span class="op" id="2505116">(</span><span class="string" id="2505117">&#34;reflect.MakeChan:&nbsp;unidirectional&nbsp;channel&nbsp;type&#34;</span><span class="op" id="2505164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2505167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505170">ch</span>&nbsp;<span class="op" id="2505173">:=</span>&nbsp;<span class="ident" id="2505176"><a href="/reflect/value.go.html#2515730">makechan</a></span><span class="op" id="2505184">(</span><span class="ident" id="2505185"><a href="/reflect/value.go.html#2504905">typ</a></span><span class="op" id="2505188">.</span><span class="op" id="2505189">(</span><span class="op" id="2505190">*</span><span class="ident" id="2505191"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2505196">)</span><span class="op" id="2505197">,</span>&nbsp;<span class="ident" id="2505199">uint64</span><span class="op" id="2505205">(</span><span class="ident" id="2505206"><a href="/reflect/value.go.html#2504915">buffer</a></span><span class="op" id="2505212">)</span><span class="op" id="2505213">)</span><br>
<span class="lineno">2020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505216">return</span>&nbsp;<span class="ident" id="2505223"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2505228">{</span><span class="ident" id="2505229"><a href="/reflect/value.go.html#2504905">typ</a></span><span class="op" id="2505232">.</span><span class="ident" id="2505233">common</span><span class="op" id="2505239">(</span><span class="op" id="2505240">)</span><span class="op" id="2505241">,</span>&nbsp;<span class="ident" id="2505243"><a href="/reflect/value.go.html#2505170">ch</a></span><span class="op" id="2505245">,</span>&nbsp;<span class="ident" id="2505247"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2505251">(</span><span class="ident" id="2505252"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2505256">)</span><span class="op" id="2505257">}</span><br>
<span class="lineno"></span><span class="op" id="2505259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2505262">//&nbsp;MakeMap&nbsp;creates&nbsp;a&nbsp;new&nbsp;map&nbsp;of&nbsp;the&nbsp;specified&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2505314">func</span>&nbsp;<span class="ident" id="2505319">MakeMap</span><span class="op" id="2505326">(</span><span class="ident" id="2505327">typ</span>&nbsp;<span class="ident" id="2505331"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2505335">)</span>&nbsp;<span class="ident" id="2505337"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2505343">{</span><br>
<span class="lineno">2025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505346">if</span>&nbsp;<span class="ident" id="2505349"><a href="/reflect/value.go.html#2505327">typ</a></span><span class="op" id="2505352">.</span><span class="ident" id="2505353">Kind</span><span class="op" id="2505357">(</span><span class="op" id="2505358">)</span>&nbsp;<span class="op" id="2505360">!=</span>&nbsp;<span class="ident" id="2505363"><a href="/reflect/type.go.html#2401380">Map</a></span>&nbsp;<span class="op" id="2505367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2505371">panic</span><span class="op" id="2505376">(</span><span class="string" id="2505377">&#34;reflect.MakeMap&nbsp;of&nbsp;non-map&nbsp;type&#34;</span><span class="op" id="2505410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2505413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2505416">m</span>&nbsp;<span class="op" id="2505418">:=</span>&nbsp;<span class="ident" id="2505421"><a href="/reflect/value.go.html#2515789">makemap</a></span><span class="op" id="2505428">(</span><span class="ident" id="2505429"><a href="/reflect/value.go.html#2505327">typ</a></span><span class="op" id="2505432">.</span><span class="op" id="2505433">(</span><span class="op" id="2505434">*</span><span class="ident" id="2505435"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2505440">)</span><span class="op" id="2505441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505444">return</span>&nbsp;<span class="ident" id="2505451"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2505456">{</span><span class="ident" id="2505457"><a href="/reflect/value.go.html#2505327">typ</a></span><span class="op" id="2505460">.</span><span class="ident" id="2505461">common</span><span class="op" id="2505467">(</span><span class="op" id="2505468">)</span><span class="op" id="2505469">,</span>&nbsp;<span class="ident" id="2505471"><a href="/reflect/value.go.html#2505416">m</a></span><span class="op" id="2505472">,</span>&nbsp;<span class="ident" id="2505474"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2505478">(</span><span class="ident" id="2505479"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2505482">)</span><span class="op" id="2505483">}</span><br>
<span class="lineno">2030</span><span class="op" id="2505485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2505488">//&nbsp;Indirect&nbsp;returns&nbsp;the&nbsp;value&nbsp;that&nbsp;v&nbsp;points&nbsp;to.</span><br>
<span class="lineno"></span><span class="comment" id="2505536">//&nbsp;If&nbsp;v&nbsp;is&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;Indirect&nbsp;returns&nbsp;a&nbsp;zero&nbsp;Value.</span><br>
<span class="lineno"></span><span class="comment" id="2505593">//&nbsp;If&nbsp;v&nbsp;is&nbsp;not&nbsp;a&nbsp;pointer,&nbsp;Indirect&nbsp;returns&nbsp;v.</span><br>
<span class="lineno">2035</span><span class="keyword" id="2505639">func</span>&nbsp;<span class="ident" id="2505644">Indirect</span><span class="op" id="2505652">(</span><span class="ident" id="2505653">v</span>&nbsp;<span class="ident" id="2505655"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2505660">)</span>&nbsp;<span class="ident" id="2505662"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2505668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505671">if</span>&nbsp;<span class="ident" id="2505674"><a href="/reflect/value.go.html#2505653">v</a></span><span class="op" id="2505675">.</span><span class="ident" id="2505676">Kind</span><span class="op" id="2505680">(</span><span class="op" id="2505681">)</span>&nbsp;<span class="op" id="2505683">!=</span>&nbsp;<span class="ident" id="2505686"><a href="/reflect/type.go.html#2401385">Ptr</a></span>&nbsp;<span class="op" id="2505690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505694">return</span>&nbsp;<span class="ident" id="2505701"><a href="/reflect/value.go.html#2505653">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2505704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505707">return</span>&nbsp;<span class="ident" id="2505714"><a href="/reflect/value.go.html#2505653">v</a></span><span class="op" id="2505715">.</span><span class="ident" id="2505716">Elem</span><span class="op" id="2505720">(</span><span class="op" id="2505721">)</span><br>
<span class="lineno">2040</span><span class="op" id="2505723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2505726">//&nbsp;ValueOf&nbsp;returns&nbsp;a&nbsp;new&nbsp;Value&nbsp;initialized&nbsp;to&nbsp;the&nbsp;concrete&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2505791">//&nbsp;stored&nbsp;in&nbsp;the&nbsp;interface&nbsp;i.&nbsp;&nbsp;ValueOf(nil)&nbsp;returns&nbsp;the&nbsp;zero&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="2505859">func</span>&nbsp;<span class="ident" id="2505864">ValueOf</span><span class="op" id="2505871">(</span><span class="ident" id="2505872">i</span>&nbsp;<span class="keyword" id="2505874">interface</span><span class="op" id="2505883">{</span><span class="op" id="2505884">}</span><span class="op" id="2505885">)</span>&nbsp;<span class="ident" id="2505887"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2505893">{</span><br>
<span class="lineno">2045</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505896">if</span>&nbsp;<span class="ident" id="2505899"><a href="/reflect/value.go.html#2505872">i</a></span>&nbsp;<span class="op" id="2505901">==</span>&nbsp;<span class="ident" id="2505904">nil</span>&nbsp;<span class="op" id="2505908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2505912">return</span>&nbsp;<span class="ident" id="2505919"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2505924">{</span><span class="op" id="2505925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2505928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2505932">//&nbsp;TODO(rsc):&nbsp;Eliminate&nbsp;this&nbsp;terrible&nbsp;hack.</span><br>
<span class="lineno">2050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2505977">//&nbsp;In&nbsp;the&nbsp;call&nbsp;to&nbsp;unpackEface,&nbsp;i.typ&nbsp;doesn&#39;t&nbsp;escape,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2506031">//&nbsp;and&nbsp;i.word&nbsp;is&nbsp;an&nbsp;integer.&nbsp;&nbsp;So&nbsp;it&nbsp;looks&nbsp;like</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2506079">//&nbsp;i&nbsp;doesn&#39;t&nbsp;escape.&nbsp;&nbsp;But&nbsp;really&nbsp;it&nbsp;does,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2506122">//&nbsp;because&nbsp;i.word&nbsp;is&nbsp;actually&nbsp;a&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506164"><a href="/reflect/value.go.html#2516569">escapes</a></span><span class="op" id="2506171">(</span><span class="ident" id="2506172"><a href="/reflect/value.go.html#2505872">i</a></span><span class="op" id="2506173">)</span><br>
<span class="lineno">2055</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506177">return</span>&nbsp;<span class="ident" id="2506184"><a href="/reflect/value.go.html#2449846">unpackEface</a></span><span class="op" id="2506195">(</span><span class="ident" id="2506196"><a href="/reflect/value.go.html#2505872">i</a></span><span class="op" id="2506197">)</span><br>
<span class="lineno"></span><span class="op" id="2506199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2506202">//&nbsp;Zero&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;the&nbsp;zero&nbsp;value&nbsp;for&nbsp;the&nbsp;specified&nbsp;type.</span><br>
<span class="lineno">2060</span><span class="comment" id="2506278">//&nbsp;The&nbsp;result&nbsp;is&nbsp;different&nbsp;from&nbsp;the&nbsp;zero&nbsp;value&nbsp;of&nbsp;the&nbsp;Value&nbsp;struct,</span><br>
<span class="lineno"></span><span class="comment" id="2506346">//&nbsp;which&nbsp;represents&nbsp;no&nbsp;value&nbsp;at&nbsp;all.</span><br>
<span class="lineno"></span><span class="comment" id="2506383">//&nbsp;For&nbsp;example,&nbsp;Zero(TypeOf(42))&nbsp;returns&nbsp;a&nbsp;Value&nbsp;with&nbsp;Kind&nbsp;Int&nbsp;and&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="2506459">//&nbsp;The&nbsp;returned&nbsp;value&nbsp;is&nbsp;neither&nbsp;addressable&nbsp;nor&nbsp;settable.</span><br>
<span class="lineno"></span><span class="keyword" id="2506518">func</span>&nbsp;<span class="ident" id="2506523">Zero</span><span class="op" id="2506527">(</span><span class="ident" id="2506528">typ</span>&nbsp;<span class="ident" id="2506532"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2506536">)</span>&nbsp;<span class="ident" id="2506538"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2506544">{</span><br>
<span class="lineno">2065</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506547">if</span>&nbsp;<span class="ident" id="2506550"><a href="/reflect/value.go.html#2506528">typ</a></span>&nbsp;<span class="op" id="2506554">==</span>&nbsp;<span class="ident" id="2506557">nil</span>&nbsp;<span class="op" id="2506561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2506565">panic</span><span class="op" id="2506570">(</span><span class="string" id="2506571">&#34;reflect:&nbsp;Zero(nil)&#34;</span><span class="op" id="2506591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506597">t</span>&nbsp;<span class="op" id="2506599">:=</span>&nbsp;<span class="ident" id="2506602"><a href="/reflect/value.go.html#2506528">typ</a></span><span class="op" id="2506605">.</span><span class="ident" id="2506606">common</span><span class="op" id="2506612">(</span><span class="op" id="2506613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506616">fl</span>&nbsp;<span class="op" id="2506619">:=</span>&nbsp;<span class="ident" id="2506622"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2506626">(</span><span class="ident" id="2506627"><a href="/reflect/value.go.html#2506597">t</a></span><span class="op" id="2506628">.</span><span class="ident" id="2506629">Kind</span><span class="op" id="2506633">(</span><span class="op" id="2506634">)</span><span class="op" id="2506635">)</span><br>
<span class="lineno">2070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506638">if</span>&nbsp;<span class="ident" id="2506641"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2506651">(</span><span class="ident" id="2506652"><a href="/reflect/value.go.html#2506597">t</a></span><span class="op" id="2506653">)</span>&nbsp;<span class="op" id="2506655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506659">return</span>&nbsp;<span class="ident" id="2506666"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2506671">{</span><span class="ident" id="2506672"><a href="/reflect/value.go.html#2506597">t</a></span><span class="op" id="2506673">,</span>&nbsp;<span class="ident" id="2506675"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2506685">(</span><span class="ident" id="2506686"><a href="/reflect/value.go.html#2506528">typ</a></span><span class="op" id="2506689">.</span><span class="op" id="2506690">(</span><span class="op" id="2506691">*</span><span class="ident" id="2506692"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2506697">)</span><span class="op" id="2506698">)</span><span class="op" id="2506699">,</span>&nbsp;<span class="ident" id="2506701"><a href="/reflect/value.go.html#2506616">fl</a></span>&nbsp;<span class="op" id="2506704">|</span>&nbsp;<span class="ident" id="2506706"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><span class="op" id="2506715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506721">return</span>&nbsp;<span class="ident" id="2506728"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2506733">{</span><span class="ident" id="2506734"><a href="/reflect/value.go.html#2506597">t</a></span><span class="op" id="2506735">,</span>&nbsp;<span class="ident" id="2506737">nil</span><span class="op" id="2506740">,</span>&nbsp;<span class="ident" id="2506742"><a href="/reflect/value.go.html#2506616">fl</a></span><span class="op" id="2506744">}</span><br>
<span class="lineno"></span><span class="op" id="2506746">}</span><br>
<span class="lineno">2075</span><br>
<span class="lineno"></span><span class="comment" id="2506749">//&nbsp;New&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;a&nbsp;pointer&nbsp;to&nbsp;a&nbsp;new&nbsp;zero&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2506815">//&nbsp;for&nbsp;the&nbsp;specified&nbsp;type.&nbsp;&nbsp;That&nbsp;is,&nbsp;the&nbsp;returned&nbsp;Value&#39;s&nbsp;Type&nbsp;is&nbsp;PtrTo(typ).</span><br>
<span class="lineno"></span><span class="keyword" id="2506893">func</span>&nbsp;<span class="ident" id="2506898">New</span><span class="op" id="2506901">(</span><span class="ident" id="2506902">typ</span>&nbsp;<span class="ident" id="2506906"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2506910">)</span>&nbsp;<span class="ident" id="2506912"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2506918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2506921">if</span>&nbsp;<span class="ident" id="2506924"><a href="/reflect/value.go.html#2506902">typ</a></span>&nbsp;<span class="op" id="2506928">==</span>&nbsp;<span class="ident" id="2506931">nil</span>&nbsp;<span class="op" id="2506935">{</span><br>
<span class="lineno">2080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2506939">panic</span><span class="op" id="2506944">(</span><span class="string" id="2506945">&#34;reflect:&nbsp;New(nil)&#34;</span><span class="op" id="2506964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2506967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2506970">ptr</span>&nbsp;<span class="op" id="2506974">:=</span>&nbsp;<span class="ident" id="2506977"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2506987">(</span><span class="ident" id="2506988"><a href="/reflect/value.go.html#2506902">typ</a></span><span class="op" id="2506991">.</span><span class="op" id="2506992">(</span><span class="op" id="2506993">*</span><span class="ident" id="2506994"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2506999">)</span><span class="op" id="2507000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507003">fl</span>&nbsp;<span class="op" id="2507006">:=</span>&nbsp;<span class="ident" id="2507009"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2507013">(</span><span class="ident" id="2507014"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2507017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507020">return</span>&nbsp;<span class="ident" id="2507027"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2507032">{</span><span class="ident" id="2507033"><a href="/reflect/value.go.html#2506902">typ</a></span><span class="op" id="2507036">.</span><span class="ident" id="2507037">common</span><span class="op" id="2507043">(</span><span class="op" id="2507044">)</span><span class="op" id="2507045">.</span><span class="ident" id="2507046">ptrTo</span><span class="op" id="2507051">(</span><span class="op" id="2507052">)</span><span class="op" id="2507053">,</span>&nbsp;<span class="ident" id="2507055"><a href="/reflect/value.go.html#2506970">ptr</a></span><span class="op" id="2507058">,</span>&nbsp;<span class="ident" id="2507060"><a href="/reflect/value.go.html#2507003">fl</a></span><span class="op" id="2507062">}</span><br>
<span class="lineno">2085</span><span class="op" id="2507064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2507067">//&nbsp;NewAt&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;a&nbsp;pointer&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2507133">//&nbsp;specified&nbsp;type,&nbsp;using&nbsp;p&nbsp;as&nbsp;that&nbsp;pointer.</span><br>
<span class="lineno"></span><span class="keyword" id="2507177">func</span>&nbsp;<span class="ident" id="2507182">NewAt</span><span class="op" id="2507187">(</span><span class="ident" id="2507188">typ</span>&nbsp;<span class="ident" id="2507192"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2507196">,</span>&nbsp;<span class="ident" id="2507198">p</span>&nbsp;<span class="ident" id="2507200"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2507206">.</span><span class="ident" id="2507207">Pointer</span><span class="op" id="2507214">)</span>&nbsp;<span class="ident" id="2507216"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2507222">{</span><br>
<span class="lineno">2090</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507225">fl</span>&nbsp;<span class="op" id="2507228">:=</span>&nbsp;<span class="ident" id="2507231"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2507235">(</span><span class="ident" id="2507236"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2507239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507242">return</span>&nbsp;<span class="ident" id="2507249"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2507254">{</span><span class="ident" id="2507255"><a href="/reflect/value.go.html#2507188">typ</a></span><span class="op" id="2507258">.</span><span class="ident" id="2507259">common</span><span class="op" id="2507265">(</span><span class="op" id="2507266">)</span><span class="op" id="2507267">.</span><span class="ident" id="2507268">ptrTo</span><span class="op" id="2507273">(</span><span class="op" id="2507274">)</span><span class="op" id="2507275">,</span>&nbsp;<span class="ident" id="2507277"><a href="/reflect/value.go.html#2507198">p</a></span><span class="op" id="2507278">,</span>&nbsp;<span class="ident" id="2507280"><a href="/reflect/value.go.html#2507225">fl</a></span><span class="op" id="2507282">}</span><br>
<span class="lineno"></span><span class="op" id="2507284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2507287">//&nbsp;assignTo&nbsp;returns&nbsp;a&nbsp;value&nbsp;v&nbsp;that&nbsp;can&nbsp;be&nbsp;assigned&nbsp;directly&nbsp;to&nbsp;typ.</span><br>
<span class="lineno">2095</span><span class="comment" id="2507355">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;v&nbsp;is&nbsp;not&nbsp;assignable&nbsp;to&nbsp;typ.</span><br>
<span class="lineno"></span><span class="comment" id="2507399">//&nbsp;For&nbsp;a&nbsp;conversion&nbsp;to&nbsp;an&nbsp;interface&nbsp;type,&nbsp;target&nbsp;is&nbsp;a&nbsp;suggested&nbsp;scratch&nbsp;space&nbsp;to&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="2507485">func</span>&nbsp;<span class="op" id="2507490">(</span><span class="ident" id="2507491">v</span>&nbsp;<span class="ident" id="2507493"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2507498">)</span>&nbsp;<span class="ident" id="2507500">assignTo</span><span class="op" id="2507508">(</span><span class="ident" id="2507509">context</span>&nbsp;<span class="builtintype" id="2507517">string</span><span class="op" id="2507523">,</span>&nbsp;<span class="ident" id="2507525">dst</span>&nbsp;<span class="op" id="2507529">*</span><span class="ident" id="2507530"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2507535">,</span>&nbsp;<span class="ident" id="2507537">target</span>&nbsp;<span class="ident" id="2507544"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2507550">.</span><span class="ident" id="2507551">Pointer</span><span class="op" id="2507558">)</span>&nbsp;<span class="ident" id="2507560"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2507566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507569">if</span>&nbsp;<span class="ident" id="2507572"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2507573">.</span><span class="ident" id="2507574">flag</span><span class="op" id="2507578">&amp;</span><span class="ident" id="2507579"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2507590">!=</span>&nbsp;<span class="num" id="2507593">0</span>&nbsp;<span class="op" id="2507595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507599"><a href="/reflect/value.go.html#2507491">v</a></span>&nbsp;<span class="op" id="2507601">=</span>&nbsp;<span class="ident" id="2507603"><a href="/reflect/makefunc.go.html#2392133">makeMethodValue</a></span><span class="op" id="2507618">(</span><span class="ident" id="2507619"><a href="/reflect/value.go.html#2507509">context</a></span><span class="op" id="2507626">,</span>&nbsp;<span class="ident" id="2507628"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2507629">)</span><br>
<span class="lineno">2100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507636">switch</span>&nbsp;<span class="op" id="2507643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507646">case</span>&nbsp;<span class="ident" id="2507651"><a href="/reflect/type.go.html#2426499">directlyAssignable</a></span><span class="op" id="2507669">(</span><span class="ident" id="2507670"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2507673">,</span>&nbsp;<span class="ident" id="2507675"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2507676">.</span><span class="ident" id="2507677">typ</span><span class="op" id="2507680">)</span><span class="op" id="2507681">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2507685">//&nbsp;Overwrite&nbsp;type&nbsp;so&nbsp;that&nbsp;they&nbsp;match.</span><br>
<span class="lineno">2105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2507725">//&nbsp;Same&nbsp;memory&nbsp;layout,&nbsp;so&nbsp;no&nbsp;harm&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507767"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2507768">.</span><span class="ident" id="2507769">typ</span>&nbsp;<span class="op" id="2507773">=</span>&nbsp;<span class="ident" id="2507775"><a href="/reflect/value.go.html#2507525">dst</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507781">fl</span>&nbsp;<span class="op" id="2507784">:=</span>&nbsp;<span class="ident" id="2507787"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2507788">.</span><span class="ident" id="2507789">flag</span>&nbsp;<span class="op" id="2507794">&amp;</span>&nbsp;<span class="op" id="2507796">(</span><span class="ident" id="2507797"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2507804">|</span>&nbsp;<span class="ident" id="2507806"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2507815">|</span>&nbsp;<span class="ident" id="2507817"><a href="/reflect/value.go.html#2448163">flagIndir</a></span><span class="op" id="2507826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507830"><a href="/reflect/value.go.html#2507781">fl</a></span>&nbsp;<span class="op" id="2507833">|=</span>&nbsp;<span class="ident" id="2507836"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2507840">(</span><span class="ident" id="2507841"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2507844">.</span><span class="ident" id="2507845">Kind</span><span class="op" id="2507849">(</span><span class="op" id="2507850">)</span><span class="op" id="2507851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507855">return</span>&nbsp;<span class="ident" id="2507862"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2507867">{</span><span class="ident" id="2507868"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2507871">,</span>&nbsp;<span class="ident" id="2507873"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2507874">.</span><span class="ident" id="2507875">ptr</span><span class="op" id="2507878">,</span>&nbsp;<span class="ident" id="2507880"><a href="/reflect/value.go.html#2507781">fl</a></span><span class="op" id="2507882">}</span><br>
<span class="lineno">2110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507886">case</span>&nbsp;<span class="ident" id="2507891"><a href="/reflect/type.go.html#2424743">implements</a></span><span class="op" id="2507901">(</span><span class="ident" id="2507902"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2507905">,</span>&nbsp;<span class="ident" id="2507907"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2507908">.</span><span class="ident" id="2507909">typ</span><span class="op" id="2507912">)</span><span class="op" id="2507913">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2507917">if</span>&nbsp;<span class="ident" id="2507920"><a href="/reflect/value.go.html#2507537">target</a></span>&nbsp;<span class="op" id="2507927">==</span>&nbsp;<span class="ident" id="2507930">nil</span>&nbsp;<span class="op" id="2507934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507939"><a href="/reflect/value.go.html#2507537">target</a></span>&nbsp;<span class="op" id="2507946">=</span>&nbsp;<span class="ident" id="2507948"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2507958">(</span><span class="ident" id="2507959"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2507962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2507966">}</span><br>
<span class="lineno">2115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2507970">x</span>&nbsp;<span class="op" id="2507972">:=</span>&nbsp;<span class="ident" id="2507975"><a href="/reflect/value.go.html#2472086">valueInterface</a></span><span class="op" id="2507989">(</span><span class="ident" id="2507990"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2507991">,</span>&nbsp;<span class="ident" id="2507993">false</span><span class="op" id="2507998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508002">if</span>&nbsp;<span class="ident" id="2508005"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2508008">.</span><span class="ident" id="2508009">NumMethod</span><span class="op" id="2508018">(</span><span class="op" id="2508019">)</span>&nbsp;<span class="op" id="2508021">==</span>&nbsp;<span class="num" id="2508024">0</span>&nbsp;<span class="op" id="2508026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508031">*</span><span class="op" id="2508032">(</span><span class="op" id="2508033">*</span><span class="keyword" id="2508034">interface</span><span class="op" id="2508043">{</span><span class="op" id="2508044">}</span><span class="op" id="2508045">)</span><span class="op" id="2508046">(</span><span class="ident" id="2508047"><a href="/reflect/value.go.html#2507537">target</a></span><span class="op" id="2508053">)</span>&nbsp;<span class="op" id="2508055">=</span>&nbsp;<span class="ident" id="2508057"><a href="/reflect/value.go.html#2507970">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508061">}</span>&nbsp;<span class="keyword" id="2508063">else</span>&nbsp;<span class="op" id="2508068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508073"><a href="/reflect/value.go.html#2516295">ifaceE2I</a></span><span class="op" id="2508081">(</span><span class="ident" id="2508082"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2508085">,</span>&nbsp;<span class="ident" id="2508087"><a href="/reflect/value.go.html#2507970">x</a></span><span class="op" id="2508088">,</span>&nbsp;<span class="ident" id="2508090"><a href="/reflect/value.go.html#2507537">target</a></span><span class="op" id="2508096">)</span><br>
<span class="lineno">2120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508104">return</span>&nbsp;<span class="ident" id="2508111"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2508116">{</span><span class="ident" id="2508117"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2508120">,</span>&nbsp;<span class="ident" id="2508122"><a href="/reflect/value.go.html#2507537">target</a></span><span class="op" id="2508128">,</span>&nbsp;<span class="ident" id="2508130"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2508140">|</span>&nbsp;<span class="ident" id="2508142"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2508146">(</span><span class="ident" id="2508147"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2508156">)</span><span class="op" id="2508157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2508164">//&nbsp;Failed.</span><br>
<span class="lineno">2125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2508176">panic</span><span class="op" id="2508181">(</span><span class="ident" id="2508182"><a href="/reflect/value.go.html#2507509">context</a></span>&nbsp;<span class="op" id="2508190">+</span>&nbsp;<span class="string" id="2508192">&#34;:&nbsp;value&nbsp;of&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2508211">+</span>&nbsp;<span class="ident" id="2508213"><a href="/reflect/value.go.html#2507491">v</a></span><span class="op" id="2508214">.</span><span class="ident" id="2508215">typ</span><span class="op" id="2508218">.</span><span class="ident" id="2508219">String</span><span class="op" id="2508225">(</span><span class="op" id="2508226">)</span>&nbsp;<span class="op" id="2508228">+</span>&nbsp;<span class="string" id="2508230">&#34;&nbsp;is&nbsp;not&nbsp;assignable&nbsp;to&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2508260">+</span>&nbsp;<span class="ident" id="2508262"><a href="/reflect/value.go.html#2507525">dst</a></span><span class="op" id="2508265">.</span><span class="ident" id="2508266">String</span><span class="op" id="2508272">(</span><span class="op" id="2508273">)</span><span class="op" id="2508274">)</span><br>
<span class="lineno"></span><span class="op" id="2508276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2508279">//&nbsp;Convert&nbsp;returns&nbsp;the&nbsp;value&nbsp;v&nbsp;converted&nbsp;to&nbsp;type&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="2508331">//&nbsp;If&nbsp;the&nbsp;usual&nbsp;Go&nbsp;conversion&nbsp;rules&nbsp;do&nbsp;not&nbsp;allow&nbsp;conversion</span><br>
<span class="lineno">2130</span><span class="comment" id="2508391">//&nbsp;of&nbsp;the&nbsp;value&nbsp;v&nbsp;to&nbsp;type&nbsp;t,&nbsp;Convert&nbsp;panics.</span><br>
<span class="lineno"></span><span class="keyword" id="2508436">func</span>&nbsp;<span class="op" id="2508441">(</span><span class="ident" id="2508442">v</span>&nbsp;<span class="ident" id="2508444"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2508449">)</span>&nbsp;<span class="ident" id="2508451">Convert</span><span class="op" id="2508458">(</span><span class="ident" id="2508459">t</span>&nbsp;<span class="ident" id="2508461"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2508465">)</span>&nbsp;<span class="ident" id="2508467"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2508473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508476">if</span>&nbsp;<span class="ident" id="2508479"><a href="/reflect/value.go.html#2508442">v</a></span><span class="op" id="2508480">.</span><span class="ident" id="2508481">flag</span><span class="op" id="2508485">&amp;</span><span class="ident" id="2508486"><a href="/reflect/value.go.html#2448225">flagMethod</a></span>&nbsp;<span class="op" id="2508497">!=</span>&nbsp;<span class="num" id="2508500">0</span>&nbsp;<span class="op" id="2508502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508506"><a href="/reflect/value.go.html#2508442">v</a></span>&nbsp;<span class="op" id="2508508">=</span>&nbsp;<span class="ident" id="2508510"><a href="/reflect/makefunc.go.html#2392133">makeMethodValue</a></span><span class="op" id="2508525">(</span><span class="string" id="2508526">&#34;Convert&#34;</span><span class="op" id="2508535">,</span>&nbsp;<span class="ident" id="2508537"><a href="/reflect/value.go.html#2508442">v</a></span><span class="op" id="2508538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508541">}</span><br>
<span class="lineno">2135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2508544">op</span>&nbsp;<span class="op" id="2508547">:=</span>&nbsp;<span class="ident" id="2508550"><a href="/reflect/value.go.html#2508881">convertOp</a></span><span class="op" id="2508559">(</span><span class="ident" id="2508560"><a href="/reflect/value.go.html#2508459">t</a></span><span class="op" id="2508561">.</span><span class="ident" id="2508562">common</span><span class="op" id="2508568">(</span><span class="op" id="2508569">)</span><span class="op" id="2508570">,</span>&nbsp;<span class="ident" id="2508572"><a href="/reflect/value.go.html#2508442">v</a></span><span class="op" id="2508573">.</span><span class="ident" id="2508574">typ</span><span class="op" id="2508577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508580">if</span>&nbsp;<span class="ident" id="2508583"><a href="/reflect/value.go.html#2508544">op</a></span>&nbsp;<span class="op" id="2508586">==</span>&nbsp;<span class="ident" id="2508589">nil</span>&nbsp;<span class="op" id="2508593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2508597">panic</span><span class="op" id="2508602">(</span><span class="string" id="2508603">&#34;reflect.Value.Convert:&nbsp;value&nbsp;of&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2508643">+</span>&nbsp;<span class="ident" id="2508645"><a href="/reflect/value.go.html#2508442">v</a></span><span class="op" id="2508646">.</span><span class="ident" id="2508647">typ</span><span class="op" id="2508650">.</span><span class="ident" id="2508651">String</span><span class="op" id="2508657">(</span><span class="op" id="2508658">)</span>&nbsp;<span class="op" id="2508660">+</span>&nbsp;<span class="string" id="2508662">&#34;&nbsp;cannot&nbsp;be&nbsp;converted&nbsp;to&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2508694">+</span>&nbsp;<span class="ident" id="2508696"><a href="/reflect/value.go.html#2508459">t</a></span><span class="op" id="2508697">.</span><span class="ident" id="2508698">String</span><span class="op" id="2508704">(</span><span class="op" id="2508705">)</span><span class="op" id="2508706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2508709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508712">return</span>&nbsp;<span class="ident" id="2508719"><a href="/reflect/value.go.html#2508544">op</a></span><span class="op" id="2508721">(</span><span class="ident" id="2508722"><a href="/reflect/value.go.html#2508442">v</a></span><span class="op" id="2508723">,</span>&nbsp;<span class="ident" id="2508725"><a href="/reflect/value.go.html#2508459">t</a></span><span class="op" id="2508726">)</span><br>
<span class="lineno">2140</span><span class="op" id="2508728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2508731">//&nbsp;convertOp&nbsp;returns&nbsp;the&nbsp;function&nbsp;to&nbsp;convert&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;src</span><br>
<span class="lineno"></span><span class="comment" id="2508796">//&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;dst.&nbsp;If&nbsp;the&nbsp;conversion&nbsp;is&nbsp;illegal,&nbsp;convertOp&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2508876">func</span>&nbsp;<span class="ident" id="2508881">convertOp</span><span class="op" id="2508890">(</span><span class="ident" id="2508891">dst</span><span class="op" id="2508894">,</span>&nbsp;<span class="ident" id="2508896">src</span>&nbsp;<span class="op" id="2508900">*</span><span class="ident" id="2508901"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2508906">)</span>&nbsp;<span class="keyword" id="2508908">func</span><span class="op" id="2508912">(</span><span class="ident" id="2508913"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2508918">,</span>&nbsp;<span class="ident" id="2508920"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2508924">)</span>&nbsp;<span class="ident" id="2508926"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2508932">{</span><br>
<span class="lineno">2145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508935">switch</span>&nbsp;<span class="ident" id="2508942"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2508945">.</span><span class="ident" id="2508946">Kind</span><span class="op" id="2508950">(</span><span class="op" id="2508951">)</span>&nbsp;<span class="op" id="2508953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508956">case</span>&nbsp;<span class="ident" id="2508961"><a href="/reflect/type.go.html#2401231">Int</a></span><span class="op" id="2508964">,</span>&nbsp;<span class="ident" id="2508966"><a href="/reflect/type.go.html#2401236">Int8</a></span><span class="op" id="2508970">,</span>&nbsp;<span class="ident" id="2508972"><a href="/reflect/type.go.html#2401242">Int16</a></span><span class="op" id="2508977">,</span>&nbsp;<span class="ident" id="2508979"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2508984">,</span>&nbsp;<span class="ident" id="2508986"><a href="/reflect/type.go.html#2401256">Int64</a></span><span class="op" id="2508991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2508995">switch</span>&nbsp;<span class="ident" id="2509002"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2509005">.</span><span class="ident" id="2509006">Kind</span><span class="op" id="2509010">(</span><span class="op" id="2509011">)</span>&nbsp;<span class="op" id="2509013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509017">case</span>&nbsp;<span class="ident" id="2509022"><a href="/reflect/type.go.html#2401231">Int</a></span><span class="op" id="2509025">,</span>&nbsp;<span class="ident" id="2509027"><a href="/reflect/type.go.html#2401236">Int8</a></span><span class="op" id="2509031">,</span>&nbsp;<span class="ident" id="2509033"><a href="/reflect/type.go.html#2401242">Int16</a></span><span class="op" id="2509038">,</span>&nbsp;<span class="ident" id="2509040"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2509045">,</span>&nbsp;<span class="ident" id="2509047"><a href="/reflect/type.go.html#2401256">Int64</a></span><span class="op" id="2509052">,</span>&nbsp;<span class="ident" id="2509054"><a href="/reflect/type.go.html#2401263">Uint</a></span><span class="op" id="2509058">,</span>&nbsp;<span class="ident" id="2509060"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2509065">,</span>&nbsp;<span class="ident" id="2509067"><a href="/reflect/type.go.html#2401276">Uint16</a></span><span class="op" id="2509073">,</span>&nbsp;<span class="ident" id="2509075"><a href="/reflect/type.go.html#2401284">Uint32</a></span><span class="op" id="2509081">,</span>&nbsp;<span class="ident" id="2509083"><a href="/reflect/type.go.html#2401292">Uint64</a></span><span class="op" id="2509089">,</span>&nbsp;<span class="ident" id="2509091"><a href="/reflect/type.go.html#2401300">Uintptr</a></span><span class="op" id="2509098">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509103">return</span>&nbsp;<span class="ident" id="2509110"><a href="/reflect/value.go.html#2512747">cvtInt</a></span><br>
<span class="lineno">2150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509119">case</span>&nbsp;<span class="ident" id="2509124"><a href="/reflect/type.go.html#2401309">Float32</a></span><span class="op" id="2509131">,</span>&nbsp;<span class="ident" id="2509133"><a href="/reflect/type.go.html#2401318">Float64</a></span><span class="op" id="2509140">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509145">return</span>&nbsp;<span class="ident" id="2509152"><a href="/reflect/value.go.html#2513254">cvtIntFloat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509166">case</span>&nbsp;<span class="ident" id="2509171"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2509177">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509182">return</span>&nbsp;<span class="ident" id="2509189"><a href="/reflect/value.go.html#2513770">cvtIntString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2509204">}</span><br>
<span class="lineno">2155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509208">case</span>&nbsp;<span class="ident" id="2509213"><a href="/reflect/type.go.html#2401263">Uint</a></span><span class="op" id="2509217">,</span>&nbsp;<span class="ident" id="2509219"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2509224">,</span>&nbsp;<span class="ident" id="2509226"><a href="/reflect/type.go.html#2401276">Uint16</a></span><span class="op" id="2509232">,</span>&nbsp;<span class="ident" id="2509234"><a href="/reflect/type.go.html#2401284">Uint32</a></span><span class="op" id="2509240">,</span>&nbsp;<span class="ident" id="2509242"><a href="/reflect/type.go.html#2401292">Uint64</a></span><span class="op" id="2509248">,</span>&nbsp;<span class="ident" id="2509250"><a href="/reflect/type.go.html#2401300">Uintptr</a></span><span class="op" id="2509257">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509261">switch</span>&nbsp;<span class="ident" id="2509268"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2509271">.</span><span class="ident" id="2509272">Kind</span><span class="op" id="2509276">(</span><span class="op" id="2509277">)</span>&nbsp;<span class="op" id="2509279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509283">case</span>&nbsp;<span class="ident" id="2509288"><a href="/reflect/type.go.html#2401231">Int</a></span><span class="op" id="2509291">,</span>&nbsp;<span class="ident" id="2509293"><a href="/reflect/type.go.html#2401236">Int8</a></span><span class="op" id="2509297">,</span>&nbsp;<span class="ident" id="2509299"><a href="/reflect/type.go.html#2401242">Int16</a></span><span class="op" id="2509304">,</span>&nbsp;<span class="ident" id="2509306"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2509311">,</span>&nbsp;<span class="ident" id="2509313"><a href="/reflect/type.go.html#2401256">Int64</a></span><span class="op" id="2509318">,</span>&nbsp;<span class="ident" id="2509320"><a href="/reflect/type.go.html#2401263">Uint</a></span><span class="op" id="2509324">,</span>&nbsp;<span class="ident" id="2509326"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2509331">,</span>&nbsp;<span class="ident" id="2509333"><a href="/reflect/type.go.html#2401276">Uint16</a></span><span class="op" id="2509339">,</span>&nbsp;<span class="ident" id="2509341"><a href="/reflect/type.go.html#2401284">Uint32</a></span><span class="op" id="2509347">,</span>&nbsp;<span class="ident" id="2509349"><a href="/reflect/type.go.html#2401292">Uint64</a></span><span class="op" id="2509355">,</span>&nbsp;<span class="ident" id="2509357"><a href="/reflect/type.go.html#2401300">Uintptr</a></span><span class="op" id="2509364">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509369">return</span>&nbsp;<span class="ident" id="2509376"><a href="/reflect/value.go.html#2512871">cvtUint</a></span><br>
<span class="lineno">2160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509386">case</span>&nbsp;<span class="ident" id="2509391"><a href="/reflect/type.go.html#2401309">Float32</a></span><span class="op" id="2509398">,</span>&nbsp;<span class="ident" id="2509400"><a href="/reflect/type.go.html#2401318">Float64</a></span><span class="op" id="2509407">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509412">return</span>&nbsp;<span class="ident" id="2509419"><a href="/reflect/value.go.html#2513385">cvtUintFloat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509434">case</span>&nbsp;<span class="ident" id="2509439"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2509445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509450">return</span>&nbsp;<span class="ident" id="2509457"><a href="/reflect/value.go.html#2513901">cvtUintString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2509473">}</span><br>
<span class="lineno">2165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509477">case</span>&nbsp;<span class="ident" id="2509482"><a href="/reflect/type.go.html#2401309">Float32</a></span><span class="op" id="2509489">,</span>&nbsp;<span class="ident" id="2509491"><a href="/reflect/type.go.html#2401318">Float64</a></span><span class="op" id="2509498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509502">switch</span>&nbsp;<span class="ident" id="2509509"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2509512">.</span><span class="ident" id="2509513">Kind</span><span class="op" id="2509517">(</span><span class="op" id="2509518">)</span>&nbsp;<span class="op" id="2509520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509524">case</span>&nbsp;<span class="ident" id="2509529"><a href="/reflect/type.go.html#2401231">Int</a></span><span class="op" id="2509532">,</span>&nbsp;<span class="ident" id="2509534"><a href="/reflect/type.go.html#2401236">Int8</a></span><span class="op" id="2509538">,</span>&nbsp;<span class="ident" id="2509540"><a href="/reflect/type.go.html#2401242">Int16</a></span><span class="op" id="2509545">,</span>&nbsp;<span class="ident" id="2509547"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2509552">,</span>&nbsp;<span class="ident" id="2509554"><a href="/reflect/type.go.html#2401256">Int64</a></span><span class="op" id="2509559">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509564">return</span>&nbsp;<span class="ident" id="2509571"><a href="/reflect/value.go.html#2512987">cvtFloatInt</a></span><br>
<span class="lineno">2170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509585">case</span>&nbsp;<span class="ident" id="2509590"><a href="/reflect/type.go.html#2401263">Uint</a></span><span class="op" id="2509594">,</span>&nbsp;<span class="ident" id="2509596"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2509601">,</span>&nbsp;<span class="ident" id="2509603"><a href="/reflect/type.go.html#2401276">Uint16</a></span><span class="op" id="2509609">,</span>&nbsp;<span class="ident" id="2509611"><a href="/reflect/type.go.html#2401284">Uint32</a></span><span class="op" id="2509617">,</span>&nbsp;<span class="ident" id="2509619"><a href="/reflect/type.go.html#2401292">Uint64</a></span><span class="op" id="2509625">,</span>&nbsp;<span class="ident" id="2509627"><a href="/reflect/type.go.html#2401300">Uintptr</a></span><span class="op" id="2509634">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509639">return</span>&nbsp;<span class="ident" id="2509646"><a href="/reflect/value.go.html#2513124">cvtFloatUint</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509661">case</span>&nbsp;<span class="ident" id="2509666"><a href="/reflect/type.go.html#2401309">Float32</a></span><span class="op" id="2509673">,</span>&nbsp;<span class="ident" id="2509675"><a href="/reflect/type.go.html#2401318">Float64</a></span><span class="op" id="2509682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509687">return</span>&nbsp;<span class="ident" id="2509694"><a href="/reflect/value.go.html#2513519">cvtFloat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2509705">}</span><br>
<span class="lineno">2175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509709">case</span>&nbsp;<span class="ident" id="2509714"><a href="/reflect/type.go.html#2401327">Complex64</a></span><span class="op" id="2509723">,</span>&nbsp;<span class="ident" id="2509725"><a href="/reflect/type.go.html#2401338">Complex128</a></span><span class="op" id="2509735">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509739">switch</span>&nbsp;<span class="ident" id="2509746"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2509749">.</span><span class="ident" id="2509750">Kind</span><span class="op" id="2509754">(</span><span class="op" id="2509755">)</span>&nbsp;<span class="op" id="2509757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509761">case</span>&nbsp;<span class="ident" id="2509766"><a href="/reflect/type.go.html#2401327">Complex64</a></span><span class="op" id="2509775">,</span>&nbsp;<span class="ident" id="2509777"><a href="/reflect/type.go.html#2401338">Complex128</a></span><span class="op" id="2509787">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509792">return</span>&nbsp;<span class="ident" id="2509799"><a href="/reflect/value.go.html#2513645">cvtComplex</a></span><br>
<span class="lineno">2180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2509812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509816">case</span>&nbsp;<span class="ident" id="2509821"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2509827">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509831">if</span>&nbsp;<span class="ident" id="2509834"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2509837">.</span><span class="ident" id="2509838">Kind</span><span class="op" id="2509842">(</span><span class="op" id="2509843">)</span>&nbsp;<span class="op" id="2509845">==</span>&nbsp;<span class="ident" id="2509848"><a href="/reflect/type.go.html#2401390">Slice</a></span>&nbsp;<span class="op" id="2509854">&amp;&amp;</span>&nbsp;<span class="ident" id="2509857"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2509860">.</span><span class="ident" id="2509861">Elem</span><span class="op" id="2509865">(</span><span class="op" id="2509866">)</span><span class="op" id="2509867">.</span><span class="ident" id="2509868">PkgPath</span><span class="op" id="2509875">(</span><span class="op" id="2509876">)</span>&nbsp;<span class="op" id="2509878">==</span>&nbsp;<span class="string" id="2509881">&#34;&#34;</span>&nbsp;<span class="op" id="2509884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509889">switch</span>&nbsp;<span class="ident" id="2509896"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2509899">.</span><span class="ident" id="2509900">Elem</span><span class="op" id="2509904">(</span><span class="op" id="2509905">)</span><span class="op" id="2509906">.</span><span class="ident" id="2509907">Kind</span><span class="op" id="2509911">(</span><span class="op" id="2509912">)</span>&nbsp;<span class="op" id="2509914">{</span><br>
<span class="lineno">2185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509919">case</span>&nbsp;<span class="ident" id="2509924"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2509929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509935">return</span>&nbsp;<span class="ident" id="2509942"><a href="/reflect/value.go.html#2514169">cvtStringBytes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509960">case</span>&nbsp;<span class="ident" id="2509965"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2509970">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2509976">return</span>&nbsp;<span class="ident" id="2509983"><a href="/reflect/value.go.html#2514439">cvtStringRunes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510001">}</span><br>
<span class="lineno">2190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510009">case</span>&nbsp;<span class="ident" id="2510014"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2510019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510023">if</span>&nbsp;<span class="ident" id="2510026"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2510029">.</span><span class="ident" id="2510030">Kind</span><span class="op" id="2510034">(</span><span class="op" id="2510035">)</span>&nbsp;<span class="op" id="2510037">==</span>&nbsp;<span class="ident" id="2510040"><a href="/reflect/type.go.html#2401397">String</a></span>&nbsp;<span class="op" id="2510047">&amp;&amp;</span>&nbsp;<span class="ident" id="2510050"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2510053">.</span><span class="ident" id="2510054">Elem</span><span class="op" id="2510058">(</span><span class="op" id="2510059">)</span><span class="op" id="2510060">.</span><span class="ident" id="2510061">PkgPath</span><span class="op" id="2510068">(</span><span class="op" id="2510069">)</span>&nbsp;<span class="op" id="2510071">==</span>&nbsp;<span class="string" id="2510074">&#34;&#34;</span>&nbsp;<span class="op" id="2510077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510082">switch</span>&nbsp;<span class="ident" id="2510089"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2510092">.</span><span class="ident" id="2510093">Elem</span><span class="op" id="2510097">(</span><span class="op" id="2510098">)</span><span class="op" id="2510099">.</span><span class="ident" id="2510100">Kind</span><span class="op" id="2510104">(</span><span class="op" id="2510105">)</span>&nbsp;<span class="op" id="2510107">{</span><br>
<span class="lineno">2195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510112">case</span>&nbsp;<span class="ident" id="2510117"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2510122">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510128">return</span>&nbsp;<span class="ident" id="2510135"><a href="/reflect/value.go.html#2514034">cvtBytesString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510153">case</span>&nbsp;<span class="ident" id="2510158"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2510163">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510169">return</span>&nbsp;<span class="ident" id="2510176"><a href="/reflect/value.go.html#2514304">cvtRunesString</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510194">}</span><br>
<span class="lineno">2200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2510205">//&nbsp;dst&nbsp;and&nbsp;src&nbsp;have&nbsp;same&nbsp;underlying&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510248">if</span>&nbsp;<span class="ident" id="2510251"><a href="/reflect/type.go.html#2426887">haveIdenticalUnderlyingType</a></span><span class="op" id="2510278">(</span><span class="ident" id="2510279"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2510282">,</span>&nbsp;<span class="ident" id="2510284"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2510287">)</span>&nbsp;<span class="op" id="2510289">{</span><br>
<span class="lineno">2205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510293">return</span>&nbsp;<span class="ident" id="2510300"><a href="/reflect/value.go.html#2514569">cvtDirect</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2510315">//&nbsp;dst&nbsp;and&nbsp;src&nbsp;are&nbsp;unnamed&nbsp;pointer&nbsp;types&nbsp;with&nbsp;same&nbsp;underlying&nbsp;base&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510389">if</span>&nbsp;<span class="ident" id="2510392"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2510395">.</span><span class="ident" id="2510396">Kind</span><span class="op" id="2510400">(</span><span class="op" id="2510401">)</span>&nbsp;<span class="op" id="2510403">==</span>&nbsp;<span class="ident" id="2510406"><a href="/reflect/type.go.html#2401385">Ptr</a></span>&nbsp;<span class="op" id="2510410">&amp;&amp;</span>&nbsp;<span class="ident" id="2510413"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2510416">.</span><span class="ident" id="2510417">Name</span><span class="op" id="2510421">(</span><span class="op" id="2510422">)</span>&nbsp;<span class="op" id="2510424">==</span>&nbsp;<span class="string" id="2510427">&#34;&#34;</span>&nbsp;<span class="op" id="2510430">&amp;&amp;</span><br>
<span class="lineno">2210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510435"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2510438">.</span><span class="ident" id="2510439">Kind</span><span class="op" id="2510443">(</span><span class="op" id="2510444">)</span>&nbsp;<span class="op" id="2510446">==</span>&nbsp;<span class="ident" id="2510449"><a href="/reflect/type.go.html#2401385">Ptr</a></span>&nbsp;<span class="op" id="2510453">&amp;&amp;</span>&nbsp;<span class="ident" id="2510456"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2510459">.</span><span class="ident" id="2510460">Name</span><span class="op" id="2510464">(</span><span class="op" id="2510465">)</span>&nbsp;<span class="op" id="2510467">==</span>&nbsp;<span class="string" id="2510470">&#34;&#34;</span>&nbsp;<span class="op" id="2510473">&amp;&amp;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510478"><a href="/reflect/type.go.html#2426887">haveIdenticalUnderlyingType</a></span><span class="op" id="2510505">(</span><span class="ident" id="2510506"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2510509">.</span><span class="ident" id="2510510">Elem</span><span class="op" id="2510514">(</span><span class="op" id="2510515">)</span><span class="op" id="2510516">.</span><span class="ident" id="2510517">common</span><span class="op" id="2510523">(</span><span class="op" id="2510524">)</span><span class="op" id="2510525">,</span>&nbsp;<span class="ident" id="2510527"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2510530">.</span><span class="ident" id="2510531">Elem</span><span class="op" id="2510535">(</span><span class="op" id="2510536">)</span><span class="op" id="2510537">.</span><span class="ident" id="2510538">common</span><span class="op" id="2510544">(</span><span class="op" id="2510545">)</span><span class="op" id="2510546">)</span>&nbsp;<span class="op" id="2510548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510552">return</span>&nbsp;<span class="ident" id="2510559"><a href="/reflect/value.go.html#2514569">cvtDirect</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510574">if</span>&nbsp;<span class="ident" id="2510577"><a href="/reflect/type.go.html#2424743">implements</a></span><span class="op" id="2510587">(</span><span class="ident" id="2510588"><a href="/reflect/value.go.html#2508891">dst</a></span><span class="op" id="2510591">,</span>&nbsp;<span class="ident" id="2510593"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2510596">)</span>&nbsp;<span class="op" id="2510598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510602">if</span>&nbsp;<span class="ident" id="2510605"><a href="/reflect/value.go.html#2508896">src</a></span><span class="op" id="2510608">.</span><span class="ident" id="2510609">Kind</span><span class="op" id="2510613">(</span><span class="op" id="2510614">)</span>&nbsp;<span class="op" id="2510616">==</span>&nbsp;<span class="ident" id="2510619"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2510629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510634">return</span>&nbsp;<span class="ident" id="2510641"><a href="/reflect/value.go.html#2515236">cvtI2I</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510654">return</span>&nbsp;<span class="ident" id="2510661"><a href="/reflect/value.go.html#2514903">cvtT2I</a></span><br>
<span class="lineno">2220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510673">return</span>&nbsp;<span class="ident" id="2510680">nil</span><br>
<span class="lineno"></span><span class="op" id="2510684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2225</span><span class="comment" id="2510687">//&nbsp;makeInt&nbsp;returns&nbsp;a&nbsp;Value&nbsp;of&nbsp;type&nbsp;t&nbsp;equal&nbsp;to&nbsp;bits&nbsp;(possibly&nbsp;truncated),</span><br>
<span class="lineno"></span><span class="comment" id="2510760">//&nbsp;where&nbsp;t&nbsp;is&nbsp;a&nbsp;signed&nbsp;or&nbsp;unsigned&nbsp;int&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2510805">func</span>&nbsp;<span class="ident" id="2510810">makeInt</span><span class="op" id="2510817">(</span><span class="ident" id="2510818">f</span>&nbsp;<span class="ident" id="2510820"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2510824">,</span>&nbsp;<span class="ident" id="2510826">bits</span>&nbsp;<span class="ident" id="2510831">uint64</span><span class="op" id="2510837">,</span>&nbsp;<span class="ident" id="2510839">t</span>&nbsp;<span class="ident" id="2510841"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2510845">)</span>&nbsp;<span class="ident" id="2510847"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2510853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510856">typ</span>&nbsp;<span class="op" id="2510860">:=</span>&nbsp;<span class="ident" id="2510863"><a href="/reflect/value.go.html#2510839">t</a></span><span class="op" id="2510864">.</span><span class="ident" id="2510865">common</span><span class="op" id="2510871">(</span><span class="op" id="2510872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2510875">ptr</span>&nbsp;<span class="op" id="2510879">:=</span>&nbsp;<span class="ident" id="2510882"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2510892">(</span><span class="ident" id="2510893"><a href="/reflect/value.go.html#2510856">typ</a></span><span class="op" id="2510896">)</span><br>
<span class="lineno">2230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510899">switch</span>&nbsp;<span class="ident" id="2510906"><a href="/reflect/value.go.html#2510856">typ</a></span><span class="op" id="2510909">.</span><span class="ident" id="2510910">size</span>&nbsp;<span class="op" id="2510915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510918">case</span>&nbsp;<span class="num" id="2510923">1</span><span class="op" id="2510924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510928">*</span><span class="op" id="2510929">(</span><span class="op" id="2510930">*</span><span class="builtintype" id="2510931">uint8</span><span class="op" id="2510936">)</span><span class="op" id="2510937">(</span><span class="ident" id="2510938"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2510944">.</span><span class="ident" id="2510945">Pointer</span><span class="op" id="2510952">(</span><span class="ident" id="2510953"><a href="/reflect/value.go.html#2510875">ptr</a></span><span class="op" id="2510956">)</span><span class="op" id="2510957">)</span>&nbsp;<span class="op" id="2510959">=</span>&nbsp;<span class="builtintype" id="2510961">uint8</span><span class="op" id="2510966">(</span><span class="ident" id="2510967"><a href="/reflect/value.go.html#2510826">bits</a></span><span class="op" id="2510971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2510974">case</span>&nbsp;<span class="num" id="2510979">2</span><span class="op" id="2510980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2510984">*</span><span class="op" id="2510985">(</span><span class="op" id="2510986">*</span><span class="builtintype" id="2510987">uint16</span><span class="op" id="2510993">)</span><span class="op" id="2510994">(</span><span class="ident" id="2510995"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2511001">.</span><span class="ident" id="2511002">Pointer</span><span class="op" id="2511009">(</span><span class="ident" id="2511010"><a href="/reflect/value.go.html#2510875">ptr</a></span><span class="op" id="2511013">)</span><span class="op" id="2511014">)</span>&nbsp;<span class="op" id="2511016">=</span>&nbsp;<span class="builtintype" id="2511018">uint16</span><span class="op" id="2511024">(</span><span class="ident" id="2511025"><a href="/reflect/value.go.html#2510826">bits</a></span><span class="op" id="2511029">)</span><br>
<span class="lineno">2235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511032">case</span>&nbsp;<span class="num" id="2511037">4</span><span class="op" id="2511038">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511042">*</span><span class="op" id="2511043">(</span><span class="op" id="2511044">*</span><span class="builtintype" id="2511045">uint32</span><span class="op" id="2511051">)</span><span class="op" id="2511052">(</span><span class="ident" id="2511053"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2511059">.</span><span class="ident" id="2511060">Pointer</span><span class="op" id="2511067">(</span><span class="ident" id="2511068"><a href="/reflect/value.go.html#2510875">ptr</a></span><span class="op" id="2511071">)</span><span class="op" id="2511072">)</span>&nbsp;<span class="op" id="2511074">=</span>&nbsp;<span class="builtintype" id="2511076">uint32</span><span class="op" id="2511082">(</span><span class="ident" id="2511083"><a href="/reflect/value.go.html#2510826">bits</a></span><span class="op" id="2511087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511090">case</span>&nbsp;<span class="num" id="2511095">8</span><span class="op" id="2511096">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511100">*</span><span class="op" id="2511101">(</span><span class="op" id="2511102">*</span><span class="ident" id="2511103">uint64</span><span class="op" id="2511109">)</span><span class="op" id="2511110">(</span><span class="ident" id="2511111"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2511117">.</span><span class="ident" id="2511118">Pointer</span><span class="op" id="2511125">(</span><span class="ident" id="2511126"><a href="/reflect/value.go.html#2510875">ptr</a></span><span class="op" id="2511129">)</span><span class="op" id="2511130">)</span>&nbsp;<span class="op" id="2511132">=</span>&nbsp;<span class="ident" id="2511134"><a href="/reflect/value.go.html#2510826">bits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511140">}</span><br>
<span class="lineno">2240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511143">return</span>&nbsp;<span class="ident" id="2511150"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2511155">{</span><span class="ident" id="2511156"><a href="/reflect/value.go.html#2510856">typ</a></span><span class="op" id="2511159">,</span>&nbsp;<span class="ident" id="2511161"><a href="/reflect/value.go.html#2510875">ptr</a></span><span class="op" id="2511164">,</span>&nbsp;<span class="ident" id="2511166"><a href="/reflect/value.go.html#2510818">f</a></span>&nbsp;<span class="op" id="2511168">|</span>&nbsp;<span class="ident" id="2511170"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2511180">|</span>&nbsp;<span class="ident" id="2511182"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2511186">(</span><span class="ident" id="2511187"><a href="/reflect/value.go.html#2510856">typ</a></span><span class="op" id="2511190">.</span><span class="ident" id="2511191">Kind</span><span class="op" id="2511195">(</span><span class="op" id="2511196">)</span><span class="op" id="2511197">)</span><span class="op" id="2511198">}</span><br>
<span class="lineno"></span><span class="op" id="2511200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2511203">//&nbsp;makeFloat&nbsp;returns&nbsp;a&nbsp;Value&nbsp;of&nbsp;type&nbsp;t&nbsp;equal&nbsp;to&nbsp;v&nbsp;(possibly&nbsp;truncated&nbsp;to&nbsp;float32),</span><br>
<span class="lineno"></span><span class="comment" id="2511286">//&nbsp;where&nbsp;t&nbsp;is&nbsp;a&nbsp;float32&nbsp;or&nbsp;float64&nbsp;type.</span><br>
<span class="lineno">2245</span><span class="keyword" id="2511327">func</span>&nbsp;<span class="ident" id="2511332">makeFloat</span><span class="op" id="2511341">(</span><span class="ident" id="2511342">f</span>&nbsp;<span class="ident" id="2511344"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2511348">,</span>&nbsp;<span class="ident" id="2511350">v</span>&nbsp;<span class="builtintype" id="2511352">float64</span><span class="op" id="2511359">,</span>&nbsp;<span class="ident" id="2511361">t</span>&nbsp;<span class="ident" id="2511363"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2511367">)</span>&nbsp;<span class="ident" id="2511369"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2511375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2511378">typ</span>&nbsp;<span class="op" id="2511382">:=</span>&nbsp;<span class="ident" id="2511385"><a href="/reflect/value.go.html#2511361">t</a></span><span class="op" id="2511386">.</span><span class="ident" id="2511387">common</span><span class="op" id="2511393">(</span><span class="op" id="2511394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2511397">ptr</span>&nbsp;<span class="op" id="2511401">:=</span>&nbsp;<span class="ident" id="2511404"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2511414">(</span><span class="ident" id="2511415"><a href="/reflect/value.go.html#2511378">typ</a></span><span class="op" id="2511418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511421">switch</span>&nbsp;<span class="ident" id="2511428"><a href="/reflect/value.go.html#2511378">typ</a></span><span class="op" id="2511431">.</span><span class="ident" id="2511432">size</span>&nbsp;<span class="op" id="2511437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511440">case</span>&nbsp;<span class="num" id="2511445">4</span><span class="op" id="2511446">:</span><br>
<span class="lineno">2250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511450">*</span><span class="op" id="2511451">(</span><span class="op" id="2511452">*</span><span class="builtintype" id="2511453">float32</span><span class="op" id="2511460">)</span><span class="op" id="2511461">(</span><span class="ident" id="2511462"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2511468">.</span><span class="ident" id="2511469">Pointer</span><span class="op" id="2511476">(</span><span class="ident" id="2511477"><a href="/reflect/value.go.html#2511397">ptr</a></span><span class="op" id="2511480">)</span><span class="op" id="2511481">)</span>&nbsp;<span class="op" id="2511483">=</span>&nbsp;<span class="builtintype" id="2511485">float32</span><span class="op" id="2511492">(</span><span class="ident" id="2511493"><a href="/reflect/value.go.html#2511350">v</a></span><span class="op" id="2511494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511497">case</span>&nbsp;<span class="num" id="2511502">8</span><span class="op" id="2511503">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511507">*</span><span class="op" id="2511508">(</span><span class="op" id="2511509">*</span><span class="builtintype" id="2511510">float64</span><span class="op" id="2511517">)</span><span class="op" id="2511518">(</span><span class="ident" id="2511519"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2511525">.</span><span class="ident" id="2511526">Pointer</span><span class="op" id="2511533">(</span><span class="ident" id="2511534"><a href="/reflect/value.go.html#2511397">ptr</a></span><span class="op" id="2511537">)</span><span class="op" id="2511538">)</span>&nbsp;<span class="op" id="2511540">=</span>&nbsp;<span class="ident" id="2511542"><a href="/reflect/value.go.html#2511350">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511548">return</span>&nbsp;<span class="ident" id="2511555"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2511560">{</span><span class="ident" id="2511561"><a href="/reflect/value.go.html#2511378">typ</a></span><span class="op" id="2511564">,</span>&nbsp;<span class="ident" id="2511566"><a href="/reflect/value.go.html#2511397">ptr</a></span><span class="op" id="2511569">,</span>&nbsp;<span class="ident" id="2511571"><a href="/reflect/value.go.html#2511342">f</a></span>&nbsp;<span class="op" id="2511573">|</span>&nbsp;<span class="ident" id="2511575"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2511585">|</span>&nbsp;<span class="ident" id="2511587"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2511591">(</span><span class="ident" id="2511592"><a href="/reflect/value.go.html#2511378">typ</a></span><span class="op" id="2511595">.</span><span class="ident" id="2511596">Kind</span><span class="op" id="2511600">(</span><span class="op" id="2511601">)</span><span class="op" id="2511602">)</span><span class="op" id="2511603">}</span><br>
<span class="lineno">2255</span><span class="op" id="2511605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2511608">//&nbsp;makeComplex&nbsp;returns&nbsp;a&nbsp;Value&nbsp;of&nbsp;type&nbsp;t&nbsp;equal&nbsp;to&nbsp;v&nbsp;(possibly&nbsp;truncated&nbsp;to&nbsp;complex64),</span><br>
<span class="lineno"></span><span class="comment" id="2511695">//&nbsp;where&nbsp;t&nbsp;is&nbsp;a&nbsp;complex64&nbsp;or&nbsp;complex128&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2511741">func</span>&nbsp;<span class="ident" id="2511746">makeComplex</span><span class="op" id="2511757">(</span><span class="ident" id="2511758">f</span>&nbsp;<span class="ident" id="2511760"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2511764">,</span>&nbsp;<span class="ident" id="2511766">v</span>&nbsp;<span class="builtintype" id="2511768">complex128</span><span class="op" id="2511778">,</span>&nbsp;<span class="ident" id="2511780">t</span>&nbsp;<span class="ident" id="2511782"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2511786">)</span>&nbsp;<span class="ident" id="2511788"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2511794">{</span><br>
<span class="lineno">2260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2511797">typ</span>&nbsp;<span class="op" id="2511801">:=</span>&nbsp;<span class="ident" id="2511804"><a href="/reflect/value.go.html#2511780">t</a></span><span class="op" id="2511805">.</span><span class="ident" id="2511806">common</span><span class="op" id="2511812">(</span><span class="op" id="2511813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2511816">ptr</span>&nbsp;<span class="op" id="2511820">:=</span>&nbsp;<span class="ident" id="2511823"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2511833">(</span><span class="ident" id="2511834"><a href="/reflect/value.go.html#2511797">typ</a></span><span class="op" id="2511837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511840">switch</span>&nbsp;<span class="ident" id="2511847"><a href="/reflect/value.go.html#2511797">typ</a></span><span class="op" id="2511850">.</span><span class="ident" id="2511851">size</span>&nbsp;<span class="op" id="2511856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511859">case</span>&nbsp;<span class="num" id="2511864">8</span><span class="op" id="2511865">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511869">*</span><span class="op" id="2511870">(</span><span class="op" id="2511871">*</span><span class="builtintype" id="2511872">complex64</span><span class="op" id="2511881">)</span><span class="op" id="2511882">(</span><span class="ident" id="2511883"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2511889">.</span><span class="ident" id="2511890">Pointer</span><span class="op" id="2511897">(</span><span class="ident" id="2511898"><a href="/reflect/value.go.html#2511816">ptr</a></span><span class="op" id="2511901">)</span><span class="op" id="2511902">)</span>&nbsp;<span class="op" id="2511904">=</span>&nbsp;<span class="builtintype" id="2511906">complex64</span><span class="op" id="2511915">(</span><span class="ident" id="2511916"><a href="/reflect/value.go.html#2511766">v</a></span><span class="op" id="2511917">)</span><br>
<span class="lineno">2265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511920">case</span>&nbsp;<span class="num" id="2511925">16</span><span class="op" id="2511927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511931">*</span><span class="op" id="2511932">(</span><span class="op" id="2511933">*</span><span class="builtintype" id="2511934">complex128</span><span class="op" id="2511944">)</span><span class="op" id="2511945">(</span><span class="ident" id="2511946"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2511952">.</span><span class="ident" id="2511953">Pointer</span><span class="op" id="2511960">(</span><span class="ident" id="2511961"><a href="/reflect/value.go.html#2511816">ptr</a></span><span class="op" id="2511964">)</span><span class="op" id="2511965">)</span>&nbsp;<span class="op" id="2511967">=</span>&nbsp;<span class="ident" id="2511969"><a href="/reflect/value.go.html#2511766">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2511972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2511975">return</span>&nbsp;<span class="ident" id="2511982"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2511987">{</span><span class="ident" id="2511988"><a href="/reflect/value.go.html#2511797">typ</a></span><span class="op" id="2511991">,</span>&nbsp;<span class="ident" id="2511993"><a href="/reflect/value.go.html#2511816">ptr</a></span><span class="op" id="2511996">,</span>&nbsp;<span class="ident" id="2511998"><a href="/reflect/value.go.html#2511758">f</a></span>&nbsp;<span class="op" id="2512000">|</span>&nbsp;<span class="ident" id="2512002"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2512012">|</span>&nbsp;<span class="ident" id="2512014"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2512018">(</span><span class="ident" id="2512019"><a href="/reflect/value.go.html#2511797">typ</a></span><span class="op" id="2512022">.</span><span class="ident" id="2512023">Kind</span><span class="op" id="2512027">(</span><span class="op" id="2512028">)</span><span class="op" id="2512029">)</span><span class="op" id="2512030">}</span><br>
<span class="lineno"></span><span class="op" id="2512032">}</span><br>
<span class="lineno">2270</span><br>
<span class="lineno"></span><span class="keyword" id="2512035">func</span>&nbsp;<span class="ident" id="2512040">makeString</span><span class="op" id="2512050">(</span><span class="ident" id="2512051">f</span>&nbsp;<span class="ident" id="2512053"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2512057">,</span>&nbsp;<span class="ident" id="2512059">v</span>&nbsp;<span class="builtintype" id="2512061">string</span><span class="op" id="2512067">,</span>&nbsp;<span class="ident" id="2512069">t</span>&nbsp;<span class="ident" id="2512071"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2512075">)</span>&nbsp;<span class="ident" id="2512077"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2512083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512086">ret</span>&nbsp;<span class="op" id="2512090">:=</span>&nbsp;<span class="ident" id="2512093"><a href="/reflect/value.go.html#2506898">New</a></span><span class="op" id="2512096">(</span><span class="ident" id="2512097"><a href="/reflect/value.go.html#2512069">t</a></span><span class="op" id="2512098">)</span><span class="op" id="2512099">.</span><span class="ident" id="2512100">Elem</span><span class="op" id="2512104">(</span><span class="op" id="2512105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512108"><a href="/reflect/value.go.html#2512086">ret</a></span><span class="op" id="2512111">.</span><span class="ident" id="2512112">SetString</span><span class="op" id="2512121">(</span><span class="ident" id="2512122"><a href="/reflect/value.go.html#2512059">v</a></span><span class="op" id="2512123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512126"><a href="/reflect/value.go.html#2512086">ret</a></span><span class="op" id="2512129">.</span><span class="ident" id="2512130">flag</span>&nbsp;<span class="op" id="2512135">=</span>&nbsp;<span class="ident" id="2512137"><a href="/reflect/value.go.html#2512086">ret</a></span><span class="op" id="2512140">.</span><span class="ident" id="2512141">flag</span><span class="op" id="2512145">&amp;^</span><span class="ident" id="2512147"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2512156">|</span>&nbsp;<span class="ident" id="2512158"><a href="/reflect/value.go.html#2512051">f</a></span><br>
<span class="lineno">2275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512161">return</span>&nbsp;<span class="ident" id="2512168"><a href="/reflect/value.go.html#2512086">ret</a></span><br>
<span class="lineno"></span><span class="op" id="2512172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2512175">func</span>&nbsp;<span class="ident" id="2512180">makeBytes</span><span class="op" id="2512189">(</span><span class="ident" id="2512190">f</span>&nbsp;<span class="ident" id="2512192"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2512196">,</span>&nbsp;<span class="ident" id="2512198">v</span>&nbsp;<span class="op" id="2512200">[</span><span class="op" id="2512201">]</span><span class="builtintype" id="2512202">byte</span><span class="op" id="2512206">,</span>&nbsp;<span class="ident" id="2512208">t</span>&nbsp;<span class="ident" id="2512210"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2512214">)</span>&nbsp;<span class="ident" id="2512216"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2512222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512225">ret</span>&nbsp;<span class="op" id="2512229">:=</span>&nbsp;<span class="ident" id="2512232"><a href="/reflect/value.go.html#2506898">New</a></span><span class="op" id="2512235">(</span><span class="ident" id="2512236"><a href="/reflect/value.go.html#2512208">t</a></span><span class="op" id="2512237">)</span><span class="op" id="2512238">.</span><span class="ident" id="2512239">Elem</span><span class="op" id="2512243">(</span><span class="op" id="2512244">)</span><br>
<span class="lineno">2280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512247"><a href="/reflect/value.go.html#2512225">ret</a></span><span class="op" id="2512250">.</span><span class="ident" id="2512251">SetBytes</span><span class="op" id="2512259">(</span><span class="ident" id="2512260"><a href="/reflect/value.go.html#2512198">v</a></span><span class="op" id="2512261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512264"><a href="/reflect/value.go.html#2512225">ret</a></span><span class="op" id="2512267">.</span><span class="ident" id="2512268">flag</span>&nbsp;<span class="op" id="2512273">=</span>&nbsp;<span class="ident" id="2512275"><a href="/reflect/value.go.html#2512225">ret</a></span><span class="op" id="2512278">.</span><span class="ident" id="2512279">flag</span><span class="op" id="2512283">&amp;^</span><span class="ident" id="2512285"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2512294">|</span>&nbsp;<span class="ident" id="2512296"><a href="/reflect/value.go.html#2512190">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512299">return</span>&nbsp;<span class="ident" id="2512306"><a href="/reflect/value.go.html#2512225">ret</a></span><br>
<span class="lineno"></span><span class="op" id="2512310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2285</span><span class="keyword" id="2512313">func</span>&nbsp;<span class="ident" id="2512318">makeRunes</span><span class="op" id="2512327">(</span><span class="ident" id="2512328">f</span>&nbsp;<span class="ident" id="2512330"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2512334">,</span>&nbsp;<span class="ident" id="2512336">v</span>&nbsp;<span class="op" id="2512338">[</span><span class="op" id="2512339">]</span><span class="builtintype" id="2512340">rune</span><span class="op" id="2512344">,</span>&nbsp;<span class="ident" id="2512346">t</span>&nbsp;<span class="ident" id="2512348"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2512352">)</span>&nbsp;<span class="ident" id="2512354"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2512360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512363">ret</span>&nbsp;<span class="op" id="2512367">:=</span>&nbsp;<span class="ident" id="2512370"><a href="/reflect/value.go.html#2506898">New</a></span><span class="op" id="2512373">(</span><span class="ident" id="2512374"><a href="/reflect/value.go.html#2512346">t</a></span><span class="op" id="2512375">)</span><span class="op" id="2512376">.</span><span class="ident" id="2512377">Elem</span><span class="op" id="2512381">(</span><span class="op" id="2512382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512385"><a href="/reflect/value.go.html#2512363">ret</a></span><span class="op" id="2512388">.</span><span class="ident" id="2512389">setRunes</span><span class="op" id="2512397">(</span><span class="ident" id="2512398"><a href="/reflect/value.go.html#2512336">v</a></span><span class="op" id="2512399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2512402"><a href="/reflect/value.go.html#2512363">ret</a></span><span class="op" id="2512405">.</span><span class="ident" id="2512406">flag</span>&nbsp;<span class="op" id="2512411">=</span>&nbsp;<span class="ident" id="2512413"><a href="/reflect/value.go.html#2512363">ret</a></span><span class="op" id="2512416">.</span><span class="ident" id="2512417">flag</span><span class="op" id="2512421">&amp;^</span><span class="ident" id="2512423"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2512432">|</span>&nbsp;<span class="ident" id="2512434"><a href="/reflect/value.go.html#2512328">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512437">return</span>&nbsp;<span class="ident" id="2512444"><a href="/reflect/value.go.html#2512363">ret</a></span><br>
<span class="lineno">2290</span><span class="op" id="2512448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2512451">//&nbsp;These&nbsp;conversion&nbsp;functions&nbsp;are&nbsp;returned&nbsp;by&nbsp;convertOp</span><br>
<span class="lineno"></span><span class="comment" id="2512507">//&nbsp;for&nbsp;classes&nbsp;of&nbsp;conversions.&nbsp;For&nbsp;example,&nbsp;the&nbsp;first&nbsp;function,&nbsp;cvtInt,</span><br>
<span class="lineno"></span><span class="comment" id="2512579">//&nbsp;takes&nbsp;any&nbsp;value&nbsp;v&nbsp;of&nbsp;signed&nbsp;int&nbsp;type&nbsp;and&nbsp;returns&nbsp;the&nbsp;value&nbsp;converted</span><br>
<span class="lineno">2295</span><span class="comment" id="2512651">//&nbsp;to&nbsp;type&nbsp;t,&nbsp;where&nbsp;t&nbsp;is&nbsp;any&nbsp;signed&nbsp;or&nbsp;unsigned&nbsp;int&nbsp;type.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2512710">//&nbsp;convertOp:&nbsp;intXX&nbsp;-&gt;&nbsp;[u]intXX</span><br>
<span class="lineno"></span><span class="keyword" id="2512742">func</span>&nbsp;<span class="ident" id="2512747">cvtInt</span><span class="op" id="2512753">(</span><span class="ident" id="2512754">v</span>&nbsp;<span class="ident" id="2512756"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2512761">,</span>&nbsp;<span class="ident" id="2512763">t</span>&nbsp;<span class="ident" id="2512765"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2512769">)</span>&nbsp;<span class="ident" id="2512771"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2512777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512780">return</span>&nbsp;<span class="ident" id="2512787"><a href="/reflect/value.go.html#2510810">makeInt</a></span><span class="op" id="2512794">(</span><span class="ident" id="2512795"><a href="/reflect/value.go.html#2512754">v</a></span><span class="op" id="2512796">.</span><span class="ident" id="2512797">flag</span><span class="op" id="2512801">&amp;</span><span class="ident" id="2512802"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2512808">,</span>&nbsp;<span class="ident" id="2512810">uint64</span><span class="op" id="2512816">(</span><span class="ident" id="2512817"><a href="/reflect/value.go.html#2512754">v</a></span><span class="op" id="2512818">.</span><span class="ident" id="2512819">Int</span><span class="op" id="2512822">(</span><span class="op" id="2512823">)</span><span class="op" id="2512824">)</span><span class="op" id="2512825">,</span>&nbsp;<span class="ident" id="2512827"><a href="/reflect/value.go.html#2512763">t</a></span><span class="op" id="2512828">)</span><br>
<span class="lineno">2300</span><span class="op" id="2512830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2512833">//&nbsp;convertOp:&nbsp;uintXX&nbsp;-&gt;&nbsp;[u]intXX</span><br>
<span class="lineno"></span><span class="keyword" id="2512866">func</span>&nbsp;<span class="ident" id="2512871">cvtUint</span><span class="op" id="2512878">(</span><span class="ident" id="2512879">v</span>&nbsp;<span class="ident" id="2512881"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2512886">,</span>&nbsp;<span class="ident" id="2512888">t</span>&nbsp;<span class="ident" id="2512890"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2512894">)</span>&nbsp;<span class="ident" id="2512896"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2512902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2512905">return</span>&nbsp;<span class="ident" id="2512912"><a href="/reflect/value.go.html#2510810">makeInt</a></span><span class="op" id="2512919">(</span><span class="ident" id="2512920"><a href="/reflect/value.go.html#2512879">v</a></span><span class="op" id="2512921">.</span><span class="ident" id="2512922">flag</span><span class="op" id="2512926">&amp;</span><span class="ident" id="2512927"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2512933">,</span>&nbsp;<span class="ident" id="2512935"><a href="/reflect/value.go.html#2512879">v</a></span><span class="op" id="2512936">.</span><span class="ident" id="2512937">Uint</span><span class="op" id="2512941">(</span><span class="op" id="2512942">)</span><span class="op" id="2512943">,</span>&nbsp;<span class="ident" id="2512945"><a href="/reflect/value.go.html#2512888">t</a></span><span class="op" id="2512946">)</span><br>
<span class="lineno">2305</span><span class="op" id="2512948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2512951">//&nbsp;convertOp:&nbsp;floatXX&nbsp;-&gt;&nbsp;intXX</span><br>
<span class="lineno"></span><span class="keyword" id="2512982">func</span>&nbsp;<span class="ident" id="2512987">cvtFloatInt</span><span class="op" id="2512998">(</span><span class="ident" id="2512999">v</span>&nbsp;<span class="ident" id="2513001"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2513006">,</span>&nbsp;<span class="ident" id="2513008">t</span>&nbsp;<span class="ident" id="2513010"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2513014">)</span>&nbsp;<span class="ident" id="2513016"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2513022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513025">return</span>&nbsp;<span class="ident" id="2513032"><a href="/reflect/value.go.html#2510810">makeInt</a></span><span class="op" id="2513039">(</span><span class="ident" id="2513040"><a href="/reflect/value.go.html#2512999">v</a></span><span class="op" id="2513041">.</span><span class="ident" id="2513042">flag</span><span class="op" id="2513046">&amp;</span><span class="ident" id="2513047"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2513053">,</span>&nbsp;<span class="ident" id="2513055">uint64</span><span class="op" id="2513061">(</span><span class="ident" id="2513062">int64</span><span class="op" id="2513067">(</span><span class="ident" id="2513068"><a href="/reflect/value.go.html#2512999">v</a></span><span class="op" id="2513069">.</span><span class="ident" id="2513070">Float</span><span class="op" id="2513075">(</span><span class="op" id="2513076">)</span><span class="op" id="2513077">)</span><span class="op" id="2513078">)</span><span class="op" id="2513079">,</span>&nbsp;<span class="ident" id="2513081"><a href="/reflect/value.go.html#2513008">t</a></span><span class="op" id="2513082">)</span><br>
<span class="lineno">2310</span><span class="op" id="2513084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513087">//&nbsp;convertOp:&nbsp;floatXX&nbsp;-&gt;&nbsp;uintXX</span><br>
<span class="lineno"></span><span class="keyword" id="2513119">func</span>&nbsp;<span class="ident" id="2513124">cvtFloatUint</span><span class="op" id="2513136">(</span><span class="ident" id="2513137">v</span>&nbsp;<span class="ident" id="2513139"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2513144">,</span>&nbsp;<span class="ident" id="2513146">t</span>&nbsp;<span class="ident" id="2513148"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2513152">)</span>&nbsp;<span class="ident" id="2513154"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2513160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513163">return</span>&nbsp;<span class="ident" id="2513170"><a href="/reflect/value.go.html#2510810">makeInt</a></span><span class="op" id="2513177">(</span><span class="ident" id="2513178"><a href="/reflect/value.go.html#2513137">v</a></span><span class="op" id="2513179">.</span><span class="ident" id="2513180">flag</span><span class="op" id="2513184">&amp;</span><span class="ident" id="2513185"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2513191">,</span>&nbsp;<span class="ident" id="2513193">uint64</span><span class="op" id="2513199">(</span><span class="ident" id="2513200"><a href="/reflect/value.go.html#2513137">v</a></span><span class="op" id="2513201">.</span><span class="ident" id="2513202">Float</span><span class="op" id="2513207">(</span><span class="op" id="2513208">)</span><span class="op" id="2513209">)</span><span class="op" id="2513210">,</span>&nbsp;<span class="ident" id="2513212"><a href="/reflect/value.go.html#2513146">t</a></span><span class="op" id="2513213">)</span><br>
<span class="lineno">2315</span><span class="op" id="2513215">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513218">//&nbsp;convertOp:&nbsp;intXX&nbsp;-&gt;&nbsp;floatXX</span><br>
<span class="lineno"></span><span class="keyword" id="2513249">func</span>&nbsp;<span class="ident" id="2513254">cvtIntFloat</span><span class="op" id="2513265">(</span><span class="ident" id="2513266">v</span>&nbsp;<span class="ident" id="2513268"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2513273">,</span>&nbsp;<span class="ident" id="2513275">t</span>&nbsp;<span class="ident" id="2513277"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2513281">)</span>&nbsp;<span class="ident" id="2513283"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2513289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513292">return</span>&nbsp;<span class="ident" id="2513299"><a href="/reflect/value.go.html#2511332">makeFloat</a></span><span class="op" id="2513308">(</span><span class="ident" id="2513309"><a href="/reflect/value.go.html#2513266">v</a></span><span class="op" id="2513310">.</span><span class="ident" id="2513311">flag</span><span class="op" id="2513315">&amp;</span><span class="ident" id="2513316"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2513322">,</span>&nbsp;<span class="builtintype" id="2513324">float64</span><span class="op" id="2513331">(</span><span class="ident" id="2513332"><a href="/reflect/value.go.html#2513266">v</a></span><span class="op" id="2513333">.</span><span class="ident" id="2513334">Int</span><span class="op" id="2513337">(</span><span class="op" id="2513338">)</span><span class="op" id="2513339">)</span><span class="op" id="2513340">,</span>&nbsp;<span class="ident" id="2513342"><a href="/reflect/value.go.html#2513275">t</a></span><span class="op" id="2513343">)</span><br>
<span class="lineno">2320</span><span class="op" id="2513345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513348">//&nbsp;convertOp:&nbsp;uintXX&nbsp;-&gt;&nbsp;floatXX</span><br>
<span class="lineno"></span><span class="keyword" id="2513380">func</span>&nbsp;<span class="ident" id="2513385">cvtUintFloat</span><span class="op" id="2513397">(</span><span class="ident" id="2513398">v</span>&nbsp;<span class="ident" id="2513400"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2513405">,</span>&nbsp;<span class="ident" id="2513407">t</span>&nbsp;<span class="ident" id="2513409"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2513413">)</span>&nbsp;<span class="ident" id="2513415"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2513421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513424">return</span>&nbsp;<span class="ident" id="2513431"><a href="/reflect/value.go.html#2511332">makeFloat</a></span><span class="op" id="2513440">(</span><span class="ident" id="2513441"><a href="/reflect/value.go.html#2513398">v</a></span><span class="op" id="2513442">.</span><span class="ident" id="2513443">flag</span><span class="op" id="2513447">&amp;</span><span class="ident" id="2513448"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2513454">,</span>&nbsp;<span class="builtintype" id="2513456">float64</span><span class="op" id="2513463">(</span><span class="ident" id="2513464"><a href="/reflect/value.go.html#2513398">v</a></span><span class="op" id="2513465">.</span><span class="ident" id="2513466">Uint</span><span class="op" id="2513470">(</span><span class="op" id="2513471">)</span><span class="op" id="2513472">)</span><span class="op" id="2513473">,</span>&nbsp;<span class="ident" id="2513475"><a href="/reflect/value.go.html#2513407">t</a></span><span class="op" id="2513476">)</span><br>
<span class="lineno">2325</span><span class="op" id="2513478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513481">//&nbsp;convertOp:&nbsp;floatXX&nbsp;-&gt;&nbsp;floatXX</span><br>
<span class="lineno"></span><span class="keyword" id="2513514">func</span>&nbsp;<span class="ident" id="2513519">cvtFloat</span><span class="op" id="2513527">(</span><span class="ident" id="2513528">v</span>&nbsp;<span class="ident" id="2513530"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2513535">,</span>&nbsp;<span class="ident" id="2513537">t</span>&nbsp;<span class="ident" id="2513539"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2513543">)</span>&nbsp;<span class="ident" id="2513545"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2513551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513554">return</span>&nbsp;<span class="ident" id="2513561"><a href="/reflect/value.go.html#2511332">makeFloat</a></span><span class="op" id="2513570">(</span><span class="ident" id="2513571"><a href="/reflect/value.go.html#2513528">v</a></span><span class="op" id="2513572">.</span><span class="ident" id="2513573">flag</span><span class="op" id="2513577">&amp;</span><span class="ident" id="2513578"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2513584">,</span>&nbsp;<span class="ident" id="2513586"><a href="/reflect/value.go.html#2513528">v</a></span><span class="op" id="2513587">.</span><span class="ident" id="2513588">Float</span><span class="op" id="2513593">(</span><span class="op" id="2513594">)</span><span class="op" id="2513595">,</span>&nbsp;<span class="ident" id="2513597"><a href="/reflect/value.go.html#2513537">t</a></span><span class="op" id="2513598">)</span><br>
<span class="lineno">2330</span><span class="op" id="2513600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513603">//&nbsp;convertOp:&nbsp;complexXX&nbsp;-&gt;&nbsp;complexXX</span><br>
<span class="lineno"></span><span class="keyword" id="2513640">func</span>&nbsp;<span class="ident" id="2513645">cvtComplex</span><span class="op" id="2513655">(</span><span class="ident" id="2513656">v</span>&nbsp;<span class="ident" id="2513658"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2513663">,</span>&nbsp;<span class="ident" id="2513665">t</span>&nbsp;<span class="ident" id="2513667"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2513671">)</span>&nbsp;<span class="ident" id="2513673"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2513679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513682">return</span>&nbsp;<span class="ident" id="2513689"><a href="/reflect/value.go.html#2511746">makeComplex</a></span><span class="op" id="2513700">(</span><span class="ident" id="2513701"><a href="/reflect/value.go.html#2513656">v</a></span><span class="op" id="2513702">.</span><span class="ident" id="2513703">flag</span><span class="op" id="2513707">&amp;</span><span class="ident" id="2513708"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2513714">,</span>&nbsp;<span class="ident" id="2513716"><a href="/reflect/value.go.html#2513656">v</a></span><span class="op" id="2513717">.</span><span class="ident" id="2513718">Complex</span><span class="op" id="2513725">(</span><span class="op" id="2513726">)</span><span class="op" id="2513727">,</span>&nbsp;<span class="ident" id="2513729"><a href="/reflect/value.go.html#2513665">t</a></span><span class="op" id="2513730">)</span><br>
<span class="lineno">2335</span><span class="op" id="2513732">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513735">//&nbsp;convertOp:&nbsp;intXX&nbsp;-&gt;&nbsp;string</span><br>
<span class="lineno"></span><span class="keyword" id="2513765">func</span>&nbsp;<span class="ident" id="2513770">cvtIntString</span><span class="op" id="2513782">(</span><span class="ident" id="2513783">v</span>&nbsp;<span class="ident" id="2513785"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2513790">,</span>&nbsp;<span class="ident" id="2513792">t</span>&nbsp;<span class="ident" id="2513794"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2513798">)</span>&nbsp;<span class="ident" id="2513800"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2513806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513809">return</span>&nbsp;<span class="ident" id="2513816"><a href="/reflect/value.go.html#2512040">makeString</a></span><span class="op" id="2513826">(</span><span class="ident" id="2513827"><a href="/reflect/value.go.html#2513783">v</a></span><span class="op" id="2513828">.</span><span class="ident" id="2513829">flag</span><span class="op" id="2513833">&amp;</span><span class="ident" id="2513834"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2513840">,</span>&nbsp;<span class="builtintype" id="2513842">string</span><span class="op" id="2513848">(</span><span class="ident" id="2513849"><a href="/reflect/value.go.html#2513783">v</a></span><span class="op" id="2513850">.</span><span class="ident" id="2513851">Int</span><span class="op" id="2513854">(</span><span class="op" id="2513855">)</span><span class="op" id="2513856">)</span><span class="op" id="2513857">,</span>&nbsp;<span class="ident" id="2513859"><a href="/reflect/value.go.html#2513792">t</a></span><span class="op" id="2513860">)</span><br>
<span class="lineno">2340</span><span class="op" id="2513862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513865">//&nbsp;convertOp:&nbsp;uintXX&nbsp;-&gt;&nbsp;string</span><br>
<span class="lineno"></span><span class="keyword" id="2513896">func</span>&nbsp;<span class="ident" id="2513901">cvtUintString</span><span class="op" id="2513914">(</span><span class="ident" id="2513915">v</span>&nbsp;<span class="ident" id="2513917"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2513922">,</span>&nbsp;<span class="ident" id="2513924">t</span>&nbsp;<span class="ident" id="2513926"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2513930">)</span>&nbsp;<span class="ident" id="2513932"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2513938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2513941">return</span>&nbsp;<span class="ident" id="2513948"><a href="/reflect/value.go.html#2512040">makeString</a></span><span class="op" id="2513958">(</span><span class="ident" id="2513959"><a href="/reflect/value.go.html#2513915">v</a></span><span class="op" id="2513960">.</span><span class="ident" id="2513961">flag</span><span class="op" id="2513965">&amp;</span><span class="ident" id="2513966"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2513972">,</span>&nbsp;<span class="builtintype" id="2513974">string</span><span class="op" id="2513980">(</span><span class="ident" id="2513981"><a href="/reflect/value.go.html#2513915">v</a></span><span class="op" id="2513982">.</span><span class="ident" id="2513983">Uint</span><span class="op" id="2513987">(</span><span class="op" id="2513988">)</span><span class="op" id="2513989">)</span><span class="op" id="2513990">,</span>&nbsp;<span class="ident" id="2513992"><a href="/reflect/value.go.html#2513924">t</a></span><span class="op" id="2513993">)</span><br>
<span class="lineno">2345</span><span class="op" id="2513995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2513998">//&nbsp;convertOp:&nbsp;[]byte&nbsp;-&gt;&nbsp;string</span><br>
<span class="lineno"></span><span class="keyword" id="2514029">func</span>&nbsp;<span class="ident" id="2514034">cvtBytesString</span><span class="op" id="2514048">(</span><span class="ident" id="2514049">v</span>&nbsp;<span class="ident" id="2514051"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2514056">,</span>&nbsp;<span class="ident" id="2514058">t</span>&nbsp;<span class="ident" id="2514060"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2514064">)</span>&nbsp;<span class="ident" id="2514066"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2514072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514075">return</span>&nbsp;<span class="ident" id="2514082"><a href="/reflect/value.go.html#2512040">makeString</a></span><span class="op" id="2514092">(</span><span class="ident" id="2514093"><a href="/reflect/value.go.html#2514049">v</a></span><span class="op" id="2514094">.</span><span class="ident" id="2514095">flag</span><span class="op" id="2514099">&amp;</span><span class="ident" id="2514100"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2514106">,</span>&nbsp;<span class="builtintype" id="2514108">string</span><span class="op" id="2514114">(</span><span class="ident" id="2514115"><a href="/reflect/value.go.html#2514049">v</a></span><span class="op" id="2514116">.</span><span class="ident" id="2514117">Bytes</span><span class="op" id="2514122">(</span><span class="op" id="2514123">)</span><span class="op" id="2514124">)</span><span class="op" id="2514125">,</span>&nbsp;<span class="ident" id="2514127"><a href="/reflect/value.go.html#2514058">t</a></span><span class="op" id="2514128">)</span><br>
<span class="lineno">2350</span><span class="op" id="2514130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2514133">//&nbsp;convertOp:&nbsp;string&nbsp;-&gt;&nbsp;[]byte</span><br>
<span class="lineno"></span><span class="keyword" id="2514164">func</span>&nbsp;<span class="ident" id="2514169">cvtStringBytes</span><span class="op" id="2514183">(</span><span class="ident" id="2514184">v</span>&nbsp;<span class="ident" id="2514186"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2514191">,</span>&nbsp;<span class="ident" id="2514193">t</span>&nbsp;<span class="ident" id="2514195"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2514199">)</span>&nbsp;<span class="ident" id="2514201"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2514207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514210">return</span>&nbsp;<span class="ident" id="2514217"><a href="/reflect/value.go.html#2512180">makeBytes</a></span><span class="op" id="2514226">(</span><span class="ident" id="2514227"><a href="/reflect/value.go.html#2514184">v</a></span><span class="op" id="2514228">.</span><span class="ident" id="2514229">flag</span><span class="op" id="2514233">&amp;</span><span class="ident" id="2514234"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2514240">,</span>&nbsp;<span class="op" id="2514242">[</span><span class="op" id="2514243">]</span><span class="builtintype" id="2514244">byte</span><span class="op" id="2514248">(</span><span class="ident" id="2514249"><a href="/reflect/value.go.html#2514184">v</a></span><span class="op" id="2514250">.</span><span class="ident" id="2514251">String</span><span class="op" id="2514257">(</span><span class="op" id="2514258">)</span><span class="op" id="2514259">)</span><span class="op" id="2514260">,</span>&nbsp;<span class="ident" id="2514262"><a href="/reflect/value.go.html#2514193">t</a></span><span class="op" id="2514263">)</span><br>
<span class="lineno">2355</span><span class="op" id="2514265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2514268">//&nbsp;convertOp:&nbsp;[]rune&nbsp;-&gt;&nbsp;string</span><br>
<span class="lineno"></span><span class="keyword" id="2514299">func</span>&nbsp;<span class="ident" id="2514304">cvtRunesString</span><span class="op" id="2514318">(</span><span class="ident" id="2514319">v</span>&nbsp;<span class="ident" id="2514321"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2514326">,</span>&nbsp;<span class="ident" id="2514328">t</span>&nbsp;<span class="ident" id="2514330"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2514334">)</span>&nbsp;<span class="ident" id="2514336"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2514342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514345">return</span>&nbsp;<span class="ident" id="2514352"><a href="/reflect/value.go.html#2512040">makeString</a></span><span class="op" id="2514362">(</span><span class="ident" id="2514363"><a href="/reflect/value.go.html#2514319">v</a></span><span class="op" id="2514364">.</span><span class="ident" id="2514365">flag</span><span class="op" id="2514369">&amp;</span><span class="ident" id="2514370"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2514376">,</span>&nbsp;<span class="builtintype" id="2514378">string</span><span class="op" id="2514384">(</span><span class="ident" id="2514385"><a href="/reflect/value.go.html#2514319">v</a></span><span class="op" id="2514386">.</span><span class="ident" id="2514387">runes</span><span class="op" id="2514392">(</span><span class="op" id="2514393">)</span><span class="op" id="2514394">)</span><span class="op" id="2514395">,</span>&nbsp;<span class="ident" id="2514397"><a href="/reflect/value.go.html#2514328">t</a></span><span class="op" id="2514398">)</span><br>
<span class="lineno">2360</span><span class="op" id="2514400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2514403">//&nbsp;convertOp:&nbsp;string&nbsp;-&gt;&nbsp;[]rune</span><br>
<span class="lineno"></span><span class="keyword" id="2514434">func</span>&nbsp;<span class="ident" id="2514439">cvtStringRunes</span><span class="op" id="2514453">(</span><span class="ident" id="2514454">v</span>&nbsp;<span class="ident" id="2514456"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2514461">,</span>&nbsp;<span class="ident" id="2514463">t</span>&nbsp;<span class="ident" id="2514465"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2514469">)</span>&nbsp;<span class="ident" id="2514471"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2514477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514480">return</span>&nbsp;<span class="ident" id="2514487"><a href="/reflect/value.go.html#2512318">makeRunes</a></span><span class="op" id="2514496">(</span><span class="ident" id="2514497"><a href="/reflect/value.go.html#2514454">v</a></span><span class="op" id="2514498">.</span><span class="ident" id="2514499">flag</span><span class="op" id="2514503">&amp;</span><span class="ident" id="2514504"><a href="/reflect/value.go.html#2448132">flagRO</a></span><span class="op" id="2514510">,</span>&nbsp;<span class="op" id="2514512">[</span><span class="op" id="2514513">]</span><span class="builtintype" id="2514514">rune</span><span class="op" id="2514518">(</span><span class="ident" id="2514519"><a href="/reflect/value.go.html#2514454">v</a></span><span class="op" id="2514520">.</span><span class="ident" id="2514521">String</span><span class="op" id="2514527">(</span><span class="op" id="2514528">)</span><span class="op" id="2514529">)</span><span class="op" id="2514530">,</span>&nbsp;<span class="ident" id="2514532"><a href="/reflect/value.go.html#2514463">t</a></span><span class="op" id="2514533">)</span><br>
<span class="lineno">2365</span><span class="op" id="2514535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2514538">//&nbsp;convertOp:&nbsp;direct&nbsp;copy</span><br>
<span class="lineno"></span><span class="keyword" id="2514564">func</span>&nbsp;<span class="ident" id="2514569">cvtDirect</span><span class="op" id="2514578">(</span><span class="ident" id="2514579">v</span>&nbsp;<span class="ident" id="2514581"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2514586">,</span>&nbsp;<span class="ident" id="2514588">typ</span>&nbsp;<span class="ident" id="2514592"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2514596">)</span>&nbsp;<span class="ident" id="2514598"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2514604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514607">f</span>&nbsp;<span class="op" id="2514609">:=</span>&nbsp;<span class="ident" id="2514612"><a href="/reflect/value.go.html#2514579">v</a></span><span class="op" id="2514613">.</span><span class="ident" id="2514614">flag</span><br>
<span class="lineno">2370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514620">t</span>&nbsp;<span class="op" id="2514622">:=</span>&nbsp;<span class="ident" id="2514625"><a href="/reflect/value.go.html#2514588">typ</a></span><span class="op" id="2514628">.</span><span class="ident" id="2514629">common</span><span class="op" id="2514635">(</span><span class="op" id="2514636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514639">ptr</span>&nbsp;<span class="op" id="2514643">:=</span>&nbsp;<span class="ident" id="2514646"><a href="/reflect/value.go.html#2514579">v</a></span><span class="op" id="2514647">.</span><span class="ident" id="2514648">ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514653">if</span>&nbsp;<span class="ident" id="2514656"><a href="/reflect/value.go.html#2514607">f</a></span><span class="op" id="2514657">&amp;</span><span class="ident" id="2514658"><a href="/reflect/value.go.html#2448194">flagAddr</a></span>&nbsp;<span class="op" id="2514667">!=</span>&nbsp;<span class="num" id="2514670">0</span>&nbsp;<span class="op" id="2514672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2514676">//&nbsp;indirect,&nbsp;mutable&nbsp;word&nbsp;-&nbsp;make&nbsp;a&nbsp;copy</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514718">c</span>&nbsp;<span class="op" id="2514720">:=</span>&nbsp;<span class="ident" id="2514723"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2514733">(</span><span class="ident" id="2514734"><a href="/reflect/value.go.html#2514620">t</a></span><span class="op" id="2514735">)</span><br>
<span class="lineno">2375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514739"><a href="/reflect/value.go.html#2516371">memmove</a></span><span class="op" id="2514746">(</span><span class="ident" id="2514747"><a href="/reflect/value.go.html#2514718">c</a></span><span class="op" id="2514748">,</span>&nbsp;<span class="ident" id="2514750"><a href="/reflect/value.go.html#2514639">ptr</a></span><span class="op" id="2514753">,</span>&nbsp;<span class="ident" id="2514755"><a href="/reflect/value.go.html#2514620">t</a></span><span class="op" id="2514756">.</span><span class="ident" id="2514757">size</span><span class="op" id="2514761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514765"><a href="/reflect/value.go.html#2514639">ptr</a></span>&nbsp;<span class="op" id="2514769">=</span>&nbsp;<span class="ident" id="2514771"><a href="/reflect/value.go.html#2514718">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514775"><a href="/reflect/value.go.html#2514607">f</a></span>&nbsp;<span class="op" id="2514777">&amp;^=</span>&nbsp;<span class="ident" id="2514781"><a href="/reflect/value.go.html#2448194">flagAddr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2514791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2514794">return</span>&nbsp;<span class="ident" id="2514801"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2514806">{</span><span class="ident" id="2514807"><a href="/reflect/value.go.html#2514620">t</a></span><span class="op" id="2514808">,</span>&nbsp;<span class="ident" id="2514810"><a href="/reflect/value.go.html#2514639">ptr</a></span><span class="op" id="2514813">,</span>&nbsp;<span class="ident" id="2514815"><a href="/reflect/value.go.html#2514579">v</a></span><span class="op" id="2514816">.</span><span class="ident" id="2514817">flag</span><span class="op" id="2514821">&amp;</span><span class="ident" id="2514822"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2514829">|</span>&nbsp;<span class="ident" id="2514831"><a href="/reflect/value.go.html#2514607">f</a></span><span class="op" id="2514832">}</span>&nbsp;<span class="comment" id="2514834">//&nbsp;v.flag&amp;flagRO|f&nbsp;==&nbsp;f?</span><br>
<span class="lineno">2380</span><span class="op" id="2514859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2514862">//&nbsp;convertOp:&nbsp;concrete&nbsp;-&gt;&nbsp;interface</span><br>
<span class="lineno"></span><span class="keyword" id="2514898">func</span>&nbsp;<span class="ident" id="2514903">cvtT2I</span><span class="op" id="2514909">(</span><span class="ident" id="2514910">v</span>&nbsp;<span class="ident" id="2514912"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2514917">,</span>&nbsp;<span class="ident" id="2514919">typ</span>&nbsp;<span class="ident" id="2514923"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2514927">)</span>&nbsp;<span class="ident" id="2514929"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2514935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514938">target</span>&nbsp;<span class="op" id="2514945">:=</span>&nbsp;<span class="ident" id="2514948"><a href="/reflect/value.go.html#2504171">unsafe_New</a></span><span class="op" id="2514958">(</span><span class="ident" id="2514959"><a href="/reflect/value.go.html#2514919">typ</a></span><span class="op" id="2514962">.</span><span class="ident" id="2514963">common</span><span class="op" id="2514969">(</span><span class="op" id="2514970">)</span><span class="op" id="2514971">)</span><br>
<span class="lineno">2385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2514974">x</span>&nbsp;<span class="op" id="2514976">:=</span>&nbsp;<span class="ident" id="2514979"><a href="/reflect/value.go.html#2472086">valueInterface</a></span><span class="op" id="2514993">(</span><span class="ident" id="2514994"><a href="/reflect/value.go.html#2514910">v</a></span><span class="op" id="2514995">,</span>&nbsp;<span class="ident" id="2514997">false</span><span class="op" id="2515002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515005">if</span>&nbsp;<span class="ident" id="2515008"><a href="/reflect/value.go.html#2514919">typ</a></span><span class="op" id="2515011">.</span><span class="ident" id="2515012">NumMethod</span><span class="op" id="2515021">(</span><span class="op" id="2515022">)</span>&nbsp;<span class="op" id="2515024">==</span>&nbsp;<span class="num" id="2515027">0</span>&nbsp;<span class="op" id="2515029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515033">*</span><span class="op" id="2515034">(</span><span class="op" id="2515035">*</span><span class="keyword" id="2515036">interface</span><span class="op" id="2515045">{</span><span class="op" id="2515046">}</span><span class="op" id="2515047">)</span><span class="op" id="2515048">(</span><span class="ident" id="2515049"><a href="/reflect/value.go.html#2514938">target</a></span><span class="op" id="2515055">)</span>&nbsp;<span class="op" id="2515057">=</span>&nbsp;<span class="ident" id="2515059"><a href="/reflect/value.go.html#2514974">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515062">}</span>&nbsp;<span class="keyword" id="2515064">else</span>&nbsp;<span class="op" id="2515069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515073"><a href="/reflect/value.go.html#2516295">ifaceE2I</a></span><span class="op" id="2515081">(</span><span class="ident" id="2515082"><a href="/reflect/value.go.html#2514919">typ</a></span><span class="op" id="2515085">.</span><span class="op" id="2515086">(</span><span class="op" id="2515087">*</span><span class="ident" id="2515088"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2515093">)</span><span class="op" id="2515094">,</span>&nbsp;<span class="ident" id="2515096"><a href="/reflect/value.go.html#2514974">x</a></span><span class="op" id="2515097">,</span>&nbsp;<span class="ident" id="2515099"><a href="/reflect/value.go.html#2514938">target</a></span><span class="op" id="2515105">)</span><br>
<span class="lineno">2390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515111">return</span>&nbsp;<span class="ident" id="2515118"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2515123">{</span><span class="ident" id="2515124"><a href="/reflect/value.go.html#2514919">typ</a></span><span class="op" id="2515127">.</span><span class="ident" id="2515128">common</span><span class="op" id="2515134">(</span><span class="op" id="2515135">)</span><span class="op" id="2515136">,</span>&nbsp;<span class="ident" id="2515138"><a href="/reflect/value.go.html#2514938">target</a></span><span class="op" id="2515144">,</span>&nbsp;<span class="ident" id="2515146"><a href="/reflect/value.go.html#2514910">v</a></span><span class="op" id="2515147">.</span><span class="ident" id="2515148">flag</span><span class="op" id="2515152">&amp;</span><span class="ident" id="2515153"><a href="/reflect/value.go.html#2448132">flagRO</a></span>&nbsp;<span class="op" id="2515160">|</span>&nbsp;<span class="ident" id="2515162"><a href="/reflect/value.go.html#2448163">flagIndir</a></span>&nbsp;<span class="op" id="2515172">|</span>&nbsp;<span class="ident" id="2515174"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2515178">(</span><span class="ident" id="2515179"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2515188">)</span><span class="op" id="2515189">}</span><br>
<span class="lineno"></span><span class="op" id="2515191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2515194">//&nbsp;convertOp:&nbsp;interface&nbsp;-&gt;&nbsp;interface</span><br>
<span class="lineno">2395</span><span class="keyword" id="2515231">func</span>&nbsp;<span class="ident" id="2515236">cvtI2I</span><span class="op" id="2515242">(</span><span class="ident" id="2515243">v</span>&nbsp;<span class="ident" id="2515245"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2515250">,</span>&nbsp;<span class="ident" id="2515252">typ</span>&nbsp;<span class="ident" id="2515256"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2515260">)</span>&nbsp;<span class="ident" id="2515262"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="op" id="2515268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515271">if</span>&nbsp;<span class="ident" id="2515274"><a href="/reflect/value.go.html#2515243">v</a></span><span class="op" id="2515275">.</span><span class="ident" id="2515276">IsNil</span><span class="op" id="2515281">(</span><span class="op" id="2515282">)</span>&nbsp;<span class="op" id="2515284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515288">ret</span>&nbsp;<span class="op" id="2515292">:=</span>&nbsp;<span class="ident" id="2515295"><a href="/reflect/value.go.html#2506523">Zero</a></span><span class="op" id="2515299">(</span><span class="ident" id="2515300"><a href="/reflect/value.go.html#2515252">typ</a></span><span class="op" id="2515303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2515307"><a href="/reflect/value.go.html#2515288">ret</a></span><span class="op" id="2515310">.</span><span class="ident" id="2515311">flag</span>&nbsp;<span class="op" id="2515316">|=</span>&nbsp;<span class="ident" id="2515319"><a href="/reflect/value.go.html#2515243">v</a></span><span class="op" id="2515320">.</span><span class="ident" id="2515321">flag</span>&nbsp;<span class="op" id="2515326">&amp;</span>&nbsp;<span class="ident" id="2515328"><a href="/reflect/value.go.html#2448132">flagRO</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515337">return</span>&nbsp;<span class="ident" id="2515344"><a href="/reflect/value.go.html#2515288">ret</a></span><br>
<span class="lineno">2400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2515349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2515352">return</span>&nbsp;<span class="ident" id="2515359"><a href="/reflect/value.go.html#2514903">cvtT2I</a></span><span class="op" id="2515365">(</span><span class="ident" id="2515366"><a href="/reflect/value.go.html#2515243">v</a></span><span class="op" id="2515367">.</span><span class="ident" id="2515368">Elem</span><span class="op" id="2515372">(</span><span class="op" id="2515373">)</span><span class="op" id="2515374">,</span>&nbsp;<span class="ident" id="2515376"><a href="/reflect/value.go.html#2515252">typ</a></span><span class="op" id="2515379">)</span><br>
<span class="lineno"></span><span class="op" id="2515381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2515384">//&nbsp;implemented&nbsp;in&nbsp;../runtime</span><br>
<span class="lineno">2405</span><span class="keyword" id="2515413">func</span>&nbsp;<span class="ident" id="2515418">chancap</span><span class="op" id="2515425">(</span><span class="ident" id="2515426">ch</span>&nbsp;<span class="ident" id="2515429"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515435">.</span><span class="ident" id="2515436">Pointer</span><span class="op" id="2515443">)</span>&nbsp;<span class="builtintype" id="2515445">int</span><br>
<span class="lineno"></span><span class="keyword" id="2515449">func</span>&nbsp;<span class="ident" id="2515454">chanclose</span><span class="op" id="2515463">(</span><span class="ident" id="2515464">ch</span>&nbsp;<span class="ident" id="2515467"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515473">.</span><span class="ident" id="2515474">Pointer</span><span class="op" id="2515481">)</span><br>
<span class="lineno"></span><span class="keyword" id="2515483">func</span>&nbsp;<span class="ident" id="2515488">chanlen</span><span class="op" id="2515495">(</span><span class="ident" id="2515496">ch</span>&nbsp;<span class="ident" id="2515499"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515505">.</span><span class="ident" id="2515506">Pointer</span><span class="op" id="2515513">)</span>&nbsp;<span class="builtintype" id="2515515">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2515520">//go:noescape</span><br>
<span class="lineno">2410</span><span class="keyword" id="2515534">func</span>&nbsp;<span class="ident" id="2515539">chanrecv</span><span class="op" id="2515547">(</span><span class="ident" id="2515548">t</span>&nbsp;<span class="op" id="2515550">*</span><span class="ident" id="2515551"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2515556">,</span>&nbsp;<span class="ident" id="2515558">ch</span>&nbsp;<span class="ident" id="2515561"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515567">.</span><span class="ident" id="2515568">Pointer</span><span class="op" id="2515575">,</span>&nbsp;<span class="ident" id="2515577">nb</span>&nbsp;<span class="builtintype" id="2515580">bool</span><span class="op" id="2515584">,</span>&nbsp;<span class="ident" id="2515586">val</span>&nbsp;<span class="ident" id="2515590"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515596">.</span><span class="ident" id="2515597">Pointer</span><span class="op" id="2515604">)</span>&nbsp;<span class="op" id="2515606">(</span><span class="ident" id="2515607">selected</span><span class="op" id="2515615">,</span>&nbsp;<span class="ident" id="2515617">received</span>&nbsp;<span class="builtintype" id="2515626">bool</span><span class="op" id="2515630">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2515633">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="2515647">func</span>&nbsp;<span class="ident" id="2515652">chansend</span><span class="op" id="2515660">(</span><span class="ident" id="2515661">t</span>&nbsp;<span class="op" id="2515663">*</span><span class="ident" id="2515664"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2515669">,</span>&nbsp;<span class="ident" id="2515671">ch</span>&nbsp;<span class="ident" id="2515674"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515680">.</span><span class="ident" id="2515681">Pointer</span><span class="op" id="2515688">,</span>&nbsp;<span class="ident" id="2515690">val</span>&nbsp;<span class="ident" id="2515694"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515700">.</span><span class="ident" id="2515701">Pointer</span><span class="op" id="2515708">,</span>&nbsp;<span class="ident" id="2515710">nb</span>&nbsp;<span class="builtintype" id="2515713">bool</span><span class="op" id="2515717">)</span>&nbsp;<span class="builtintype" id="2515719">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno">2415</span><span class="keyword" id="2515725">func</span>&nbsp;<span class="ident" id="2515730">makechan</span><span class="op" id="2515738">(</span><span class="ident" id="2515739">typ</span>&nbsp;<span class="op" id="2515743">*</span><span class="ident" id="2515744"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2515749">,</span>&nbsp;<span class="ident" id="2515751">size</span>&nbsp;<span class="ident" id="2515756">uint64</span><span class="op" id="2515762">)</span>&nbsp;<span class="op" id="2515764">(</span><span class="ident" id="2515765">ch</span>&nbsp;<span class="ident" id="2515768"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515774">.</span><span class="ident" id="2515775">Pointer</span><span class="op" id="2515782">)</span><br>
<span class="lineno"></span><span class="keyword" id="2515784">func</span>&nbsp;<span class="ident" id="2515789">makemap</span><span class="op" id="2515796">(</span><span class="ident" id="2515797">t</span>&nbsp;<span class="op" id="2515799">*</span><span class="ident" id="2515800"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2515805">)</span>&nbsp;<span class="op" id="2515807">(</span><span class="ident" id="2515808">m</span>&nbsp;<span class="ident" id="2515810"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515816">.</span><span class="ident" id="2515817">Pointer</span><span class="op" id="2515824">)</span><br>
<span class="lineno"></span><span class="keyword" id="2515826">func</span>&nbsp;<span class="ident" id="2515831">mapaccess</span><span class="op" id="2515840">(</span><span class="ident" id="2515841">t</span>&nbsp;<span class="op" id="2515843">*</span><span class="ident" id="2515844"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2515849">,</span>&nbsp;<span class="ident" id="2515851">m</span>&nbsp;<span class="ident" id="2515853"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515859">.</span><span class="ident" id="2515860">Pointer</span><span class="op" id="2515867">,</span>&nbsp;<span class="ident" id="2515869">key</span>&nbsp;<span class="ident" id="2515873"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515879">.</span><span class="ident" id="2515880">Pointer</span><span class="op" id="2515887">)</span>&nbsp;<span class="op" id="2515889">(</span><span class="ident" id="2515890">val</span>&nbsp;<span class="ident" id="2515894"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515900">.</span><span class="ident" id="2515901">Pointer</span><span class="op" id="2515908">)</span><br>
<span class="lineno"></span><span class="keyword" id="2515910">func</span>&nbsp;<span class="ident" id="2515915">mapassign</span><span class="op" id="2515924">(</span><span class="ident" id="2515925">t</span>&nbsp;<span class="op" id="2515927">*</span><span class="ident" id="2515928"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2515933">,</span>&nbsp;<span class="ident" id="2515935">m</span>&nbsp;<span class="ident" id="2515937"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515943">.</span><span class="ident" id="2515944">Pointer</span><span class="op" id="2515951">,</span>&nbsp;<span class="ident" id="2515953">key</span><span class="op" id="2515956">,</span>&nbsp;<span class="ident" id="2515958">val</span>&nbsp;<span class="ident" id="2515962"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2515968">.</span><span class="ident" id="2515969">Pointer</span><span class="op" id="2515976">)</span><br>
<span class="lineno"></span><span class="keyword" id="2515978">func</span>&nbsp;<span class="ident" id="2515983">mapdelete</span><span class="op" id="2515992">(</span><span class="ident" id="2515993">t</span>&nbsp;<span class="op" id="2515995">*</span><span class="ident" id="2515996"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2516001">,</span>&nbsp;<span class="ident" id="2516003">m</span>&nbsp;<span class="ident" id="2516005"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516011">.</span><span class="ident" id="2516012">Pointer</span><span class="op" id="2516019">,</span>&nbsp;<span class="ident" id="2516021">key</span>&nbsp;<span class="ident" id="2516025"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516031">.</span><span class="ident" id="2516032">Pointer</span><span class="op" id="2516039">)</span><br>
<span class="lineno">2420</span><span class="keyword" id="2516041">func</span>&nbsp;<span class="ident" id="2516046">mapiterinit</span><span class="op" id="2516057">(</span><span class="ident" id="2516058">t</span>&nbsp;<span class="op" id="2516060">*</span><span class="ident" id="2516061"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2516066">,</span>&nbsp;<span class="ident" id="2516068">m</span>&nbsp;<span class="ident" id="2516070"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516076">.</span><span class="ident" id="2516077">Pointer</span><span class="op" id="2516084">)</span>&nbsp;<span class="ident" id="2516086"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516092">.</span><span class="ident" id="2516093">Pointer</span><br>
<span class="lineno"></span><span class="keyword" id="2516101">func</span>&nbsp;<span class="ident" id="2516106">mapiterkey</span><span class="op" id="2516116">(</span><span class="ident" id="2516117">it</span>&nbsp;<span class="ident" id="2516120"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516126">.</span><span class="ident" id="2516127">Pointer</span><span class="op" id="2516134">)</span>&nbsp;<span class="op" id="2516136">(</span><span class="ident" id="2516137">key</span>&nbsp;<span class="ident" id="2516141"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516147">.</span><span class="ident" id="2516148">Pointer</span><span class="op" id="2516155">)</span><br>
<span class="lineno"></span><span class="keyword" id="2516157">func</span>&nbsp;<span class="ident" id="2516162">mapiternext</span><span class="op" id="2516173">(</span><span class="ident" id="2516174">it</span>&nbsp;<span class="ident" id="2516177"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516183">.</span><span class="ident" id="2516184">Pointer</span><span class="op" id="2516191">)</span><br>
<span class="lineno"></span><span class="keyword" id="2516193">func</span>&nbsp;<span class="ident" id="2516198">maplen</span><span class="op" id="2516204">(</span><span class="ident" id="2516205">m</span>&nbsp;<span class="ident" id="2516207"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516213">.</span><span class="ident" id="2516214">Pointer</span><span class="op" id="2516221">)</span>&nbsp;<span class="builtintype" id="2516223">int</span><br>
<span class="lineno"></span><span class="keyword" id="2516227">func</span>&nbsp;<span class="ident" id="2516232">call</span><span class="op" id="2516236">(</span><span class="ident" id="2516237">fn</span><span class="op" id="2516239">,</span>&nbsp;<span class="ident" id="2516241">arg</span>&nbsp;<span class="ident" id="2516245"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516251">.</span><span class="ident" id="2516252">Pointer</span><span class="op" id="2516259">,</span>&nbsp;<span class="ident" id="2516261">n</span>&nbsp;<span class="builtintype" id="2516263">uint32</span><span class="op" id="2516269">,</span>&nbsp;<span class="ident" id="2516271">retoffset</span>&nbsp;<span class="builtintype" id="2516281">uint32</span><span class="op" id="2516287">)</span><br>
<span class="lineno">2425</span><br>
<span class="lineno"></span><span class="keyword" id="2516290">func</span>&nbsp;<span class="ident" id="2516295">ifaceE2I</span><span class="op" id="2516303">(</span><span class="ident" id="2516304">t</span>&nbsp;<span class="op" id="2516306">*</span><span class="ident" id="2516307"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2516312">,</span>&nbsp;<span class="ident" id="2516314">src</span>&nbsp;<span class="keyword" id="2516318">interface</span><span class="op" id="2516327">{</span><span class="op" id="2516328">}</span><span class="op" id="2516329">,</span>&nbsp;<span class="ident" id="2516331">dst</span>&nbsp;<span class="ident" id="2516335"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516341">.</span><span class="ident" id="2516342">Pointer</span><span class="op" id="2516349">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2516352">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="2516366">func</span>&nbsp;<span class="ident" id="2516371">memmove</span><span class="op" id="2516378">(</span><span class="ident" id="2516379">adst</span><span class="op" id="2516383">,</span>&nbsp;<span class="ident" id="2516385">asrc</span>&nbsp;<span class="ident" id="2516390"><a href="/reflect/value.go.html#2445909">unsafe</a></span><span class="op" id="2516396">.</span><span class="ident" id="2516397">Pointer</span><span class="op" id="2516404">,</span>&nbsp;<span class="ident" id="2516406">n</span>&nbsp;<span class="builtintype" id="2516408">uintptr</span><span class="op" id="2516415">)</span><br>
<span class="lineno">2430</span><br>
<span class="lineno"></span><span class="comment" id="2516418">//&nbsp;Dummy&nbsp;annotation&nbsp;marking&nbsp;that&nbsp;the&nbsp;value&nbsp;x&nbsp;escapes,</span><br>
<span class="lineno"></span><span class="comment" id="2516472">//&nbsp;for&nbsp;use&nbsp;in&nbsp;cases&nbsp;where&nbsp;the&nbsp;reflect&nbsp;code&nbsp;is&nbsp;so&nbsp;clever&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2516533">//&nbsp;the&nbsp;compiler&nbsp;cannot&nbsp;follow.</span><br>
<span class="lineno"></span><span class="keyword" id="2516564">func</span>&nbsp;<span class="ident" id="2516569">escapes</span><span class="op" id="2516576">(</span><span class="ident" id="2516577">x</span>&nbsp;<span class="keyword" id="2516579">interface</span><span class="op" id="2516588">{</span><span class="op" id="2516589">}</span><span class="op" id="2516590">)</span>&nbsp;<span class="op" id="2516592">{</span><br>
<span class="lineno">2435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2516595">if</span>&nbsp;<span class="ident" id="2516598"><a href="/reflect/value.go.html#2516632">dummy</a></span><span class="op" id="2516603">.</span><span class="ident" id="2516604">b</span>&nbsp;<span class="op" id="2516606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2516610"><a href="/reflect/value.go.html#2516632">dummy</a></span><span class="op" id="2516615">.</span><span class="ident" id="2516616">x</span>&nbsp;<span class="op" id="2516618">=</span>&nbsp;<span class="ident" id="2516620"><a href="/reflect/value.go.html#2516577">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2516623">}</span><br>
<span class="lineno"></span><span class="op" id="2516625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2440</span><span class="keyword" id="2516628">var</span>&nbsp;<span class="ident" id="2516632">dummy</span>&nbsp;<span class="keyword" id="2516638">struct</span>&nbsp;<span class="op" id="2516645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2516648">b</span>&nbsp;<span class="builtintype" id="2516650">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2516656">x</span>&nbsp;<span class="keyword" id="2516658">interface</span><span class="op" id="2516667">{</span><span class="op" id="2516668">}</span><br>
<span class="lineno"></span><span class="op" id="2516670">}</span>
</div>
</body>
</html>
