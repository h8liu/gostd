<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7052742">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7052798">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7052852">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7052903">package</span>&nbsp;<span class="ident" id="7052911">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7052917">import</span>&nbsp;<span class="op" id="7052924">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7052927">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7052936">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7052945">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7052952">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7052958">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7052969">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7052980">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7052991">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7053001">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7053004">type</span>&nbsp;<span class="ident" id="7053009">reqTest</span>&nbsp;<span class="keyword" id="7053017">struct</span>&nbsp;<span class="op" id="7053024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053027">Raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7053035">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053043">Req</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7053051">*</span><span class="ident" id="7053052"><a href="/net/http/request.go.html#3366486">Request</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053061">Body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7053069">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053077">Trailer</span>&nbsp;<span class="ident" id="7053085"><a href="/net/http/header.go.html#3356649">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053093">Error</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7053101">string</span><br>
<span class="lineno"></span><span class="op" id="7053108">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7053111">var</span>&nbsp;<span class="ident" id="7053115">noError</span>&nbsp;<span class="op" id="7053123">=</span>&nbsp;<span class="string" id="7053125">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7053128">var</span>&nbsp;<span class="ident" id="7053132">noBody</span>&nbsp;<span class="op" id="7053139">=</span>&nbsp;<span class="string" id="7053141">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7053144">var</span>&nbsp;<span class="ident" id="7053148">noTrailer</span>&nbsp;<span class="ident" id="7053158"><a href="/net/http/header.go.html#3356649">Header</a></span>&nbsp;<span class="op" id="7053165">=</span>&nbsp;<span class="ident" id="7053167">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="7053172">var</span>&nbsp;<span class="ident" id="7053176">reqTests</span>&nbsp;<span class="op" id="7053185">=</span>&nbsp;<span class="op" id="7053187">[</span><span class="op" id="7053188">]</span><span class="ident" id="7053189"><a href="/net/http/readrequest_test.go.html#7053009">reqTest</a></span><span class="op" id="7053196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053199">//&nbsp;Baseline&nbsp;test;&nbsp;All&nbsp;Request&nbsp;fields&nbsp;included&nbsp;for&nbsp;template&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053267">&#34;GET&nbsp;http://www.techcrunch.com/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7053313">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053318">&#34;Host:&nbsp;www.techcrunch.com\r\n&#34;</span>&nbsp;<span class="op" id="7053349">+</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053354">&#34;User-Agent:&nbsp;Fake\r\n&#34;</span>&nbsp;<span class="op" id="7053377">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053382">&#34;Accept:&nbsp;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\n&#34;</span>&nbsp;<span class="op" id="7053460">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053465">&#34;Accept-Language:&nbsp;en-us,en;q=0.5\r\n&#34;</span>&nbsp;<span class="op" id="7053503">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053508">&#34;Accept-Encoding:&nbsp;gzip,deflate\r\n&#34;</span>&nbsp;<span class="op" id="7053544">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053549">&#34;Accept-Charset:&nbsp;ISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n&#34;</span>&nbsp;<span class="op" id="7053602">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053607">&#34;Keep-Alive:&nbsp;300\r\n&#34;</span>&nbsp;<span class="op" id="7053629">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053634">&#34;Content-Length:&nbsp;7\r\n&#34;</span>&nbsp;<span class="op" id="7053658">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053663">&#34;Proxy-Connection:&nbsp;keep-alive\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7053702">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053707">&#34;abcdef\n???&#34;</span><span class="op" id="7053720">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053725">&amp;</span><span class="ident" id="7053726"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7053733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053738">Method</span><span class="op" id="7053744">:</span>&nbsp;<span class="string" id="7053746">&#34;GET&#34;</span><span class="op" id="7053751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053756">URL</span><span class="op" id="7053759">:</span>&nbsp;<span class="op" id="7053761">&amp;</span><span class="ident" id="7053762"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7053765">.</span><span class="ident" id="7053766">URL</span><span class="op" id="7053769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053775">Scheme</span><span class="op" id="7053781">:</span>&nbsp;<span class="string" id="7053783">&#34;http&#34;</span><span class="op" id="7053789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053795">Host</span><span class="op" id="7053799">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7053803">&#34;www.techcrunch.com&#34;</span><span class="op" id="7053823">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053829">Path</span><span class="op" id="7053833">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7053837">&#34;/&#34;</span><span class="op" id="7053840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053845">}</span><span class="op" id="7053846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053851">Proto</span><span class="op" id="7053856">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7053863">&#34;HTTP/1.1&#34;</span><span class="op" id="7053873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053878">ProtoMajor</span><span class="op" id="7053888">:</span>&nbsp;<span class="num" id="7053890">1</span><span class="op" id="7053891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053896">ProtoMinor</span><span class="op" id="7053906">:</span>&nbsp;<span class="num" id="7053908">1</span><span class="op" id="7053909">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053914">Header</span><span class="op" id="7053920">:</span>&nbsp;<span class="ident" id="7053922"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7053928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7053934">&#34;Accept&#34;</span><span class="op" id="7053942">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7053954">{</span><span class="string" id="7053955">&#34;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#34;</span><span class="op" id="7054020">}</span><span class="op" id="7054021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054027">&#34;Accept-Language&#34;</span><span class="op" id="7054044">:</span>&nbsp;&nbsp;<span class="op" id="7054047">{</span><span class="string" id="7054048">&#34;en-us,en;q=0.5&#34;</span><span class="op" id="7054064">}</span><span class="op" id="7054065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054071">&#34;Accept-Encoding&#34;</span><span class="op" id="7054088">:</span>&nbsp;&nbsp;<span class="op" id="7054091">{</span><span class="string" id="7054092">&#34;gzip,deflate&#34;</span><span class="op" id="7054106">}</span><span class="op" id="7054107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054113">&#34;Accept-Charset&#34;</span><span class="op" id="7054129">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7054133">{</span><span class="string" id="7054134">&#34;ISO-8859-1,utf-8;q=0.7,*;q=0.7&#34;</span><span class="op" id="7054166">}</span><span class="op" id="7054167">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054173">&#34;Keep-Alive&#34;</span><span class="op" id="7054185">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7054193">{</span><span class="string" id="7054194">&#34;300&#34;</span><span class="op" id="7054199">}</span><span class="op" id="7054200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054206">&#34;Proxy-Connection&#34;</span><span class="op" id="7054224">:</span>&nbsp;<span class="op" id="7054226">{</span><span class="string" id="7054227">&#34;keep-alive&#34;</span><span class="op" id="7054239">}</span><span class="op" id="7054240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054246">&#34;Content-Length&#34;</span><span class="op" id="7054262">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7054266">{</span><span class="string" id="7054267">&#34;7&#34;</span><span class="op" id="7054270">}</span><span class="op" id="7054271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054277">&#34;User-Agent&#34;</span><span class="op" id="7054289">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7054297">{</span><span class="string" id="7054298">&#34;Fake&#34;</span><span class="op" id="7054304">}</span><span class="op" id="7054305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054310">}</span><span class="op" id="7054311">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054316">Close</span><span class="op" id="7054321">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7054331">false</span><span class="op" id="7054336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054341">ContentLength</span><span class="op" id="7054354">:</span>&nbsp;<span class="num" id="7054356">7</span><span class="op" id="7054357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054362">Host</span><span class="op" id="7054366">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7054377">&#34;www.techcrunch.com&#34;</span><span class="op" id="7054397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054402">RequestURI</span><span class="op" id="7054412">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7054417">&#34;http://www.techcrunch.com/&#34;</span><span class="op" id="7054445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054449">}</span><span class="op" id="7054450">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054455">&#34;abcdef\n&#34;</span><span class="op" id="7054465">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054470"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7054479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054483"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7054490">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054493">}</span><span class="op" id="7054494">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054498">//&nbsp;GET&nbsp;request&nbsp;with&nbsp;no&nbsp;body&nbsp;(the&nbsp;normal&nbsp;case)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054549">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7054570">+</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7054575">&#34;Host:&nbsp;foo.com\r\n\r\n&#34;</span><span class="op" id="7054598">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054603">&amp;</span><span class="ident" id="7054604"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7054611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054616">Method</span><span class="op" id="7054622">:</span>&nbsp;<span class="string" id="7054624">&#34;GET&#34;</span><span class="op" id="7054629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054634">URL</span><span class="op" id="7054637">:</span>&nbsp;<span class="op" id="7054639">&amp;</span><span class="ident" id="7054640"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7054643">.</span><span class="ident" id="7054644">URL</span><span class="op" id="7054647">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054653">Path</span><span class="op" id="7054657">:</span>&nbsp;<span class="string" id="7054659">&#34;/&#34;</span><span class="op" id="7054662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054667">}</span><span class="op" id="7054668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054673">Proto</span><span class="op" id="7054678">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7054688">&#34;HTTP/1.1&#34;</span><span class="op" id="7054698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054703">ProtoMajor</span><span class="op" id="7054713">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7054718">1</span><span class="op" id="7054719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054724">ProtoMinor</span><span class="op" id="7054734">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7054739">1</span><span class="op" id="7054740">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054745">Header</span><span class="op" id="7054751">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7054760"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7054766">{</span><span class="op" id="7054767">}</span><span class="op" id="7054768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054773">Close</span><span class="op" id="7054778">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7054788">false</span><span class="op" id="7054793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054798">ContentLength</span><span class="op" id="7054811">:</span>&nbsp;<span class="num" id="7054813">0</span><span class="op" id="7054814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054819">Host</span><span class="op" id="7054823">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7054834">&#34;foo.com&#34;</span><span class="op" id="7054843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054848">RequestURI</span><span class="op" id="7054858">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7054863">&#34;/&#34;</span><span class="op" id="7054866">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054870">}</span><span class="op" id="7054871">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054876"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7054882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054886"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7054895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7054899"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7054906">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7054909">}</span><span class="op" id="7054910">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054914">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;path&nbsp;that&nbsp;looks&nbsp;like&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054969">//&nbsp;scheme-relative&nbsp;URI&nbsp;as&nbsp;a&nbsp;scheme-relative&nbsp;URI.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055019">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055023">&#34;GET&nbsp;//user@host/is/actually/a/path/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7055074">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055079">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7055099">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055104">&amp;</span><span class="ident" id="7055105"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7055112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055117">Method</span><span class="op" id="7055123">:</span>&nbsp;<span class="string" id="7055125">&#34;GET&#34;</span><span class="op" id="7055130">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055135">URL</span><span class="op" id="7055138">:</span>&nbsp;<span class="op" id="7055140">&amp;</span><span class="ident" id="7055141"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7055144">.</span><span class="ident" id="7055145">URL</span><span class="op" id="7055148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055154">Path</span><span class="op" id="7055158">:</span>&nbsp;<span class="string" id="7055160">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7055193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055198">}</span><span class="op" id="7055199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055204">Proto</span><span class="op" id="7055209">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7055219">&#34;HTTP/1.1&#34;</span><span class="op" id="7055229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055234">ProtoMajor</span><span class="op" id="7055244">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7055249">1</span><span class="op" id="7055250">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055255">ProtoMinor</span><span class="op" id="7055265">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7055270">1</span><span class="op" id="7055271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055276">Header</span><span class="op" id="7055282">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7055291"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7055297">{</span><span class="op" id="7055298">}</span><span class="op" id="7055299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055304">Close</span><span class="op" id="7055309">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7055319">false</span><span class="op" id="7055324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055329">ContentLength</span><span class="op" id="7055342">:</span>&nbsp;<span class="num" id="7055344">0</span><span class="op" id="7055345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055350">Host</span><span class="op" id="7055354">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7055365">&#34;test&#34;</span><span class="op" id="7055371">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055376">RequestURI</span><span class="op" id="7055386">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7055391">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7055424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055428">}</span><span class="op" id="7055429">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055434"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7055440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055444"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7055453">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055457"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7055464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055467">}</span><span class="op" id="7055468">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055472">//&nbsp;Tests&nbsp;a&nbsp;bogus&nbsp;abs_path&nbsp;on&nbsp;the&nbsp;Request-Line&nbsp;(RFC&nbsp;2616&nbsp;section&nbsp;5.1.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055544">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055548">&#34;GET&nbsp;../../../../etc/passwd&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7055590">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055595">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7055615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055619">nil</span><span class="op" id="7055622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055626"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7055632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055636"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7055645">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055649">&#34;parse&nbsp;../../../../etc/passwd:&nbsp;invalid&nbsp;URI&nbsp;for&nbsp;request&#34;</span><span class="op" id="7055704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055707">}</span><span class="op" id="7055708">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055712">//&nbsp;Tests&nbsp;missing&nbsp;URL:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055735">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055739">&#34;GET&nbsp;&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7055759">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055764">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7055784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055788">nil</span><span class="op" id="7055791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055795"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7055801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7055805"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7055814">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055818">&#34;parse&nbsp;:&nbsp;empty&nbsp;url&#34;</span><span class="op" id="7055837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055840">}</span><span class="op" id="7055841">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055845">//&nbsp;Tests&nbsp;chunked&nbsp;body&nbsp;with&nbsp;trailer:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7055882">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055886">&#34;POST&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7055908">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055913">&#34;Host:&nbsp;foo.com\r\n&#34;</span>&nbsp;<span class="op" id="7055933">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055938">&#34;Transfer-Encoding:&nbsp;chunked\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7055975">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7055980">&#34;3\r\nfoo\r\n&#34;</span>&nbsp;<span class="op" id="7055995">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7056000">&#34;3\r\nbar\r\n&#34;</span>&nbsp;<span class="op" id="7056015">+</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7056020">&#34;0\r\n&#34;</span>&nbsp;<span class="op" id="7056028">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7056033">&#34;Trailer-Key:&nbsp;Trailer-Value\r\n&#34;</span>&nbsp;<span class="op" id="7056066">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7056071">&#34;\r\n&#34;</span><span class="op" id="7056077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056081">&amp;</span><span class="ident" id="7056082"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7056089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056094">Method</span><span class="op" id="7056100">:</span>&nbsp;<span class="string" id="7056102">&#34;POST&#34;</span><span class="op" id="7056108">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056113">URL</span><span class="op" id="7056116">:</span>&nbsp;<span class="op" id="7056118">&amp;</span><span class="ident" id="7056119"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7056122">.</span><span class="ident" id="7056123">URL</span><span class="op" id="7056126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056132">Path</span><span class="op" id="7056136">:</span>&nbsp;<span class="string" id="7056138">&#34;/&#34;</span><span class="op" id="7056141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056146">}</span><span class="op" id="7056147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056152">TransferEncoding</span><span class="op" id="7056168">:</span>&nbsp;<span class="op" id="7056170">[</span><span class="op" id="7056171">]</span><span class="builtintype" id="7056172">string</span><span class="op" id="7056178">{</span><span class="string" id="7056179">&#34;chunked&#34;</span><span class="op" id="7056188">}</span><span class="op" id="7056189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056194">Proto</span><span class="op" id="7056199">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7056212">&#34;HTTP/1.1&#34;</span><span class="op" id="7056222">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056227">ProtoMajor</span><span class="op" id="7056237">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7056245">1</span><span class="op" id="7056246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056251">ProtoMinor</span><span class="op" id="7056261">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7056269">1</span><span class="op" id="7056270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056275">Header</span><span class="op" id="7056281">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7056293"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7056299">{</span><span class="op" id="7056300">}</span><span class="op" id="7056301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056306">ContentLength</span><span class="op" id="7056319">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7056324">-</span><span class="num" id="7056325">1</span><span class="op" id="7056326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056331">Host</span><span class="op" id="7056335">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7056349">&#34;foo.com&#34;</span><span class="op" id="7056358">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056363">RequestURI</span><span class="op" id="7056373">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7056381">&#34;/&#34;</span><span class="op" id="7056384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056388">}</span><span class="op" id="7056389">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7056394">&#34;foobar&#34;</span><span class="op" id="7056402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056406"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7056412">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7056417">&#34;Trailer-Key&#34;</span><span class="op" id="7056430">:</span>&nbsp;<span class="op" id="7056432">{</span><span class="string" id="7056433">&#34;Trailer-Value&#34;</span><span class="op" id="7056448">}</span><span class="op" id="7056449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056453">}</span><span class="op" id="7056454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056458"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7056465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056468">}</span><span class="op" id="7056469">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056473">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;domain&nbsp;name:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7056515">&#34;CONNECT&nbsp;www.google.com:443&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7056560">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056565">&amp;</span><span class="ident" id="7056566"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7056573">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056578">Method</span><span class="op" id="7056584">:</span>&nbsp;<span class="string" id="7056586">&#34;CONNECT&#34;</span><span class="op" id="7056595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056600">URL</span><span class="op" id="7056603">:</span>&nbsp;<span class="op" id="7056605">&amp;</span><span class="ident" id="7056606"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7056609">.</span><span class="ident" id="7056610">URL</span><span class="op" id="7056613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056619">Host</span><span class="op" id="7056623">:</span>&nbsp;<span class="string" id="7056625">&#34;www.google.com:443&#34;</span><span class="op" id="7056645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056650">}</span><span class="op" id="7056651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056656">Proto</span><span class="op" id="7056661">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7056671">&#34;HTTP/1.1&#34;</span><span class="op" id="7056681">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056686">ProtoMajor</span><span class="op" id="7056696">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7056701">1</span><span class="op" id="7056702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056707">ProtoMinor</span><span class="op" id="7056717">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7056722">1</span><span class="op" id="7056723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056728">Header</span><span class="op" id="7056734">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7056743"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7056749">{</span><span class="op" id="7056750">}</span><span class="op" id="7056751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056756">Close</span><span class="op" id="7056761">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7056771">false</span><span class="op" id="7056776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056781">ContentLength</span><span class="op" id="7056794">:</span>&nbsp;<span class="num" id="7056796">0</span><span class="op" id="7056797">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056802">Host</span><span class="op" id="7056806">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7056817">&#34;www.google.com:443&#34;</span><span class="op" id="7056837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056842">RequestURI</span><span class="op" id="7056852">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7056857">&#34;www.google.com:443&#34;</span><span class="op" id="7056877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056881">}</span><span class="op" id="7056882">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056887"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7056893">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056897"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7056906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056910"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7056917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056920">}</span><span class="op" id="7056921">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056925">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;IP&nbsp;address:</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7056966">&#34;CONNECT&nbsp;127.0.0.1:6060&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7057007">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057012">&amp;</span><span class="ident" id="7057013"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7057020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057025">Method</span><span class="op" id="7057031">:</span>&nbsp;<span class="string" id="7057033">&#34;CONNECT&#34;</span><span class="op" id="7057042">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057047">URL</span><span class="op" id="7057050">:</span>&nbsp;<span class="op" id="7057052">&amp;</span><span class="ident" id="7057053"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7057056">.</span><span class="ident" id="7057057">URL</span><span class="op" id="7057060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057066">Host</span><span class="op" id="7057070">:</span>&nbsp;<span class="string" id="7057072">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7057088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057093">}</span><span class="op" id="7057094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057099">Proto</span><span class="op" id="7057104">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7057114">&#34;HTTP/1.1&#34;</span><span class="op" id="7057124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057129">ProtoMajor</span><span class="op" id="7057139">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7057144">1</span><span class="op" id="7057145">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057150">ProtoMinor</span><span class="op" id="7057160">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7057165">1</span><span class="op" id="7057166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057171">Header</span><span class="op" id="7057177">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7057186"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7057192">{</span><span class="op" id="7057193">}</span><span class="op" id="7057194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057199">Close</span><span class="op" id="7057204">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7057214">false</span><span class="op" id="7057219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057224">ContentLength</span><span class="op" id="7057237">:</span>&nbsp;<span class="num" id="7057239">0</span><span class="op" id="7057240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057245">Host</span><span class="op" id="7057249">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7057260">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7057276">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057281">RequestURI</span><span class="op" id="7057291">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7057296">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7057312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057316">}</span><span class="op" id="7057317">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057322"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7057328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057332"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7057341">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057345"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7057352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057355">}</span><span class="op" id="7057356">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057360">//&nbsp;CONNECT&nbsp;request&nbsp;for&nbsp;RPC:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057389">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057393">&#34;CONNECT&nbsp;/_goRPC_&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7057428">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057433">&amp;</span><span class="ident" id="7057434"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7057441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057446">Method</span><span class="op" id="7057452">:</span>&nbsp;<span class="string" id="7057454">&#34;CONNECT&#34;</span><span class="op" id="7057463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057468">URL</span><span class="op" id="7057471">:</span>&nbsp;<span class="op" id="7057473">&amp;</span><span class="ident" id="7057474"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7057477">.</span><span class="ident" id="7057478">URL</span><span class="op" id="7057481">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057487">Path</span><span class="op" id="7057491">:</span>&nbsp;<span class="string" id="7057493">&#34;/_goRPC_&#34;</span><span class="op" id="7057503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057508">}</span><span class="op" id="7057509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057514">Proto</span><span class="op" id="7057519">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7057529">&#34;HTTP/1.1&#34;</span><span class="op" id="7057539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057544">ProtoMajor</span><span class="op" id="7057554">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7057559">1</span><span class="op" id="7057560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057565">ProtoMinor</span><span class="op" id="7057575">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7057580">1</span><span class="op" id="7057581">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057586">Header</span><span class="op" id="7057592">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7057601"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7057607">{</span><span class="op" id="7057608">}</span><span class="op" id="7057609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057614">Close</span><span class="op" id="7057619">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7057629">false</span><span class="op" id="7057634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057639">ContentLength</span><span class="op" id="7057652">:</span>&nbsp;<span class="num" id="7057654">0</span><span class="op" id="7057655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057660">Host</span><span class="op" id="7057664">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7057675">&#34;&#34;</span><span class="op" id="7057677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057682">RequestURI</span><span class="op" id="7057692">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7057697">&#34;/_goRPC_&#34;</span><span class="op" id="7057707">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057711">}</span><span class="op" id="7057712">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057717"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7057723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057727"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7057736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057740"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7057747">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057750">}</span><span class="op" id="7057751">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057755">//&nbsp;SSDP&nbsp;Notify&nbsp;request.&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7057806">&#34;NOTIFY&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7057848">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057852">&amp;</span><span class="ident" id="7057853"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7057860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057865">Method</span><span class="op" id="7057871">:</span>&nbsp;<span class="string" id="7057873">&#34;NOTIFY&#34;</span><span class="op" id="7057881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057886">URL</span><span class="op" id="7057889">:</span>&nbsp;<span class="op" id="7057891">&amp;</span><span class="ident" id="7057892"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7057895">.</span><span class="ident" id="7057896">URL</span><span class="op" id="7057899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057905">Path</span><span class="op" id="7057909">:</span>&nbsp;<span class="string" id="7057911">&#34;*&#34;</span><span class="op" id="7057914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057919">}</span><span class="op" id="7057920">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057925">Proto</span><span class="op" id="7057930">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7057937">&#34;HTTP/1.1&#34;</span><span class="op" id="7057947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057952">ProtoMajor</span><span class="op" id="7057962">:</span>&nbsp;<span class="num" id="7057964">1</span><span class="op" id="7057965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057970">ProtoMinor</span><span class="op" id="7057980">:</span>&nbsp;<span class="num" id="7057982">1</span><span class="op" id="7057983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057988">Header</span><span class="op" id="7057994">:</span>&nbsp;<span class="ident" id="7057996"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7058002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058008">&#34;Server&#34;</span><span class="op" id="7058016">:</span>&nbsp;<span class="op" id="7058018">[</span><span class="op" id="7058019">]</span><span class="builtintype" id="7058020">string</span><span class="op" id="7058026">{</span><span class="string" id="7058027">&#34;foo&#34;</span><span class="op" id="7058032">}</span><span class="op" id="7058033">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058038">}</span><span class="op" id="7058039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058044">Close</span><span class="op" id="7058049">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7058059">false</span><span class="op" id="7058064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058069">ContentLength</span><span class="op" id="7058082">:</span>&nbsp;<span class="num" id="7058084">0</span><span class="op" id="7058085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058090">RequestURI</span><span class="op" id="7058100">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058105">&#34;*&#34;</span><span class="op" id="7058108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058112">}</span><span class="op" id="7058113">,</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058118"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7058124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058128"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7058137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058141"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7058148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058151">}</span><span class="op" id="7058152">,</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058156">//&nbsp;OPTIONS&nbsp;request.&nbsp;Similar&nbsp;to&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058214">&#34;OPTIONS&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7058257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058261">&amp;</span><span class="ident" id="7058262"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7058269">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058274">Method</span><span class="op" id="7058280">:</span>&nbsp;<span class="string" id="7058282">&#34;OPTIONS&#34;</span><span class="op" id="7058291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058296">URL</span><span class="op" id="7058299">:</span>&nbsp;<span class="op" id="7058301">&amp;</span><span class="ident" id="7058302"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7058305">.</span><span class="ident" id="7058306">URL</span><span class="op" id="7058309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058315">Path</span><span class="op" id="7058319">:</span>&nbsp;<span class="string" id="7058321">&#34;*&#34;</span><span class="op" id="7058324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058329">}</span><span class="op" id="7058330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058335">Proto</span><span class="op" id="7058340">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058347">&#34;HTTP/1.1&#34;</span><span class="op" id="7058357">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058362">ProtoMajor</span><span class="op" id="7058372">:</span>&nbsp;<span class="num" id="7058374">1</span><span class="op" id="7058375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058380">ProtoMinor</span><span class="op" id="7058390">:</span>&nbsp;<span class="num" id="7058392">1</span><span class="op" id="7058393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058398">Header</span><span class="op" id="7058404">:</span>&nbsp;<span class="ident" id="7058406"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7058412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058418">&#34;Server&#34;</span><span class="op" id="7058426">:</span>&nbsp;<span class="op" id="7058428">[</span><span class="op" id="7058429">]</span><span class="builtintype" id="7058430">string</span><span class="op" id="7058436">{</span><span class="string" id="7058437">&#34;foo&#34;</span><span class="op" id="7058442">}</span><span class="op" id="7058443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058448">}</span><span class="op" id="7058449">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058454">Close</span><span class="op" id="7058459">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7058469">false</span><span class="op" id="7058474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058479">ContentLength</span><span class="op" id="7058492">:</span>&nbsp;<span class="num" id="7058494">0</span><span class="op" id="7058495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058500">RequestURI</span><span class="op" id="7058510">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058515">&#34;*&#34;</span><span class="op" id="7058518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058522">}</span><span class="op" id="7058523">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058528"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7058534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058538"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7058547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058551"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7058558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058561">}</span><span class="op" id="7058562">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058566">//&nbsp;Connection:&nbsp;close.&nbsp;golang.org/issue/8261</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058615">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\nHost:&nbsp;issue8261.com\r\nConnection:&nbsp;close\r\n\r\n&#34;</span><span class="op" id="7058683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058687">&amp;</span><span class="ident" id="7058688"><a href="/net/http/request.go.html#3366486">Request</a></span><span class="op" id="7058695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058700">Method</span><span class="op" id="7058706">:</span>&nbsp;<span class="string" id="7058708">&#34;GET&#34;</span><span class="op" id="7058713">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058718">URL</span><span class="op" id="7058721">:</span>&nbsp;<span class="op" id="7058723">&amp;</span><span class="ident" id="7058724"><a href="/net/http/readrequest_test.go.html#7052958">url</a></span><span class="op" id="7058727">.</span><span class="ident" id="7058728">URL</span><span class="op" id="7058731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058737">Path</span><span class="op" id="7058741">:</span>&nbsp;<span class="string" id="7058743">&#34;/&#34;</span><span class="op" id="7058746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058751">}</span><span class="op" id="7058752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058757">Header</span><span class="op" id="7058763">:</span>&nbsp;<span class="ident" id="7058765"><a href="/net/http/header.go.html#3356649">Header</a></span><span class="op" id="7058771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058777">//&nbsp;This&nbsp;wasn&#39;t&nbsp;removed&nbsp;from&nbsp;Go&nbsp;1.0&nbsp;to</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058819">//&nbsp;Go&nbsp;1.3,&nbsp;so&nbsp;locking&nbsp;it&nbsp;in&nbsp;that&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058859">//&nbsp;keep&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7058877">&#34;Connection&#34;</span><span class="op" id="7058889">:</span>&nbsp;<span class="op" id="7058891">[</span><span class="op" id="7058892">]</span><span class="builtintype" id="7058893">string</span><span class="op" id="7058899">{</span><span class="string" id="7058900">&#34;close&#34;</span><span class="op" id="7058907">}</span><span class="op" id="7058908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058913">}</span><span class="op" id="7058914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058919">Host</span><span class="op" id="7058923">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058931">&#34;issue8261.com&#34;</span><span class="op" id="7058946">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058951">Proto</span><span class="op" id="7058956">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7058963">&#34;HTTP/1.1&#34;</span><span class="op" id="7058973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058978">ProtoMajor</span><span class="op" id="7058988">:</span>&nbsp;<span class="num" id="7058990">1</span><span class="op" id="7058991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058996">ProtoMinor</span><span class="op" id="7059006">:</span>&nbsp;<span class="num" id="7059008">1</span><span class="op" id="7059009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059014">Close</span><span class="op" id="7059019">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7059026">true</span><span class="op" id="7059030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059035">RequestURI</span><span class="op" id="7059045">:</span>&nbsp;<span class="string" id="7059047">&#34;/&#34;</span><span class="op" id="7059050">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059054">}</span><span class="op" id="7059055">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059060"><a href="/net/http/readrequest_test.go.html#7053132">noBody</a></span><span class="op" id="7059066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059070"><a href="/net/http/readrequest_test.go.html#7053148">noTrailer</a></span><span class="op" id="7059079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059083"><a href="/net/http/readrequest_test.go.html#7053115">noError</a></span><span class="op" id="7059090">,</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059093">}</span><span class="op" id="7059094">,</span><br>
<span class="lineno"></span><span class="op" id="7059096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7059099">func</span>&nbsp;<span class="ident" id="7059104">TestReadRequest</span><span class="op" id="7059119">(</span><span class="ident" id="7059120">t</span>&nbsp;<span class="op" id="7059122">*</span><span class="ident" id="7059123"><a href="/net/http/readrequest_test.go.html#7052991">testing</a></span><span class="op" id="7059130">.</span><span class="ident" id="7059131">T</span><span class="op" id="7059132">)</span>&nbsp;<span class="op" id="7059134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059137">for</span>&nbsp;<span class="ident" id="7059141">i</span>&nbsp;<span class="op" id="7059143">:=</span>&nbsp;<span class="keyword" id="7059146">range</span>&nbsp;<span class="ident" id="7059152"><a href="/net/http/readrequest_test.go.html#7053176">reqTests</a></span>&nbsp;<span class="op" id="7059161">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059165">tt</span>&nbsp;<span class="op" id="7059168">:=</span>&nbsp;<span class="op" id="7059171">&amp;</span><span class="ident" id="7059172"><a href="/net/http/readrequest_test.go.html#7053176">reqTests</a></span><span class="op" id="7059180">[</span><span class="ident" id="7059181"><a href="/net/http/readrequest_test.go.html#7059141">i</a></span><span class="op" id="7059182">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059186">req</span><span class="op" id="7059189">,</span>&nbsp;<span class="ident" id="7059191">err</span>&nbsp;<span class="op" id="7059195">:=</span>&nbsp;<span class="ident" id="7059198"><a href="/net/http/request.go.html#3382627">ReadRequest</a></span><span class="op" id="7059209">(</span><span class="ident" id="7059210"><a href="/net/http/readrequest_test.go.html#7052927">bufio</a></span><span class="op" id="7059215">.</span><span class="ident" id="7059216">NewReader</span><span class="op" id="7059225">(</span><span class="ident" id="7059226"><a href="/net/http/readrequest_test.go.html#7052980">strings</a></span><span class="op" id="7059233">.</span><span class="ident" id="7059234">NewReader</span><span class="op" id="7059243">(</span><span class="ident" id="7059244"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059246">.</span><span class="ident" id="7059247">Raw</span><span class="op" id="7059250">)</span><span class="op" id="7059251">)</span><span class="op" id="7059252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059256">if</span>&nbsp;<span class="ident" id="7059259"><a href="/net/http/readrequest_test.go.html#7059191">err</a></span>&nbsp;<span class="op" id="7059263">!=</span>&nbsp;<span class="ident" id="7059266">nil</span>&nbsp;<span class="op" id="7059270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059275">if</span>&nbsp;<span class="ident" id="7059278"><a href="/net/http/readrequest_test.go.html#7059191">err</a></span><span class="op" id="7059281">.</span><span class="ident" id="7059282">Error</span><span class="op" id="7059287">(</span><span class="op" id="7059288">)</span>&nbsp;<span class="op" id="7059290">!=</span>&nbsp;<span class="ident" id="7059293"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059295">.</span><span class="ident" id="7059296">Error</span>&nbsp;<span class="op" id="7059302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059308"><a href="/net/http/readrequest_test.go.html#7059120">t</a></span><span class="op" id="7059309">.</span><span class="ident" id="7059310">Errorf</span><span class="op" id="7059316">(</span><span class="string" id="7059317">&#34;#%d:&nbsp;error&nbsp;%q,&nbsp;want&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7059347">,</span>&nbsp;<span class="ident" id="7059349"><a href="/net/http/readrequest_test.go.html#7059141">i</a></span><span class="op" id="7059350">,</span>&nbsp;<span class="ident" id="7059352"><a href="/net/http/readrequest_test.go.html#7059191">err</a></span><span class="op" id="7059355">.</span><span class="ident" id="7059356">Error</span><span class="op" id="7059361">(</span><span class="op" id="7059362">)</span><span class="op" id="7059363">,</span>&nbsp;<span class="ident" id="7059365"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059367">.</span><span class="ident" id="7059368">Error</span><span class="op" id="7059373">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059383">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059398">rbody</span>&nbsp;<span class="op" id="7059404">:=</span>&nbsp;<span class="ident" id="7059407"><a href="/net/http/readrequest_test.go.html#7059186">req</a></span><span class="op" id="7059410">.</span><span class="ident" id="7059411">Body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059418"><a href="/net/http/readrequest_test.go.html#7059186">req</a></span><span class="op" id="7059421">.</span><span class="ident" id="7059422">Body</span>&nbsp;<span class="op" id="7059427">=</span>&nbsp;<span class="ident" id="7059429">nil</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059435">testName</span>&nbsp;<span class="op" id="7059444">:=</span>&nbsp;<span class="ident" id="7059447"><a href="/net/http/readrequest_test.go.html#7052945">fmt</a></span><span class="op" id="7059450">.</span><span class="ident" id="7059451">Sprintf</span><span class="op" id="7059458">(</span><span class="string" id="7059459">&#34;Test&nbsp;%d&nbsp;(%q)&#34;</span><span class="op" id="7059473">,</span>&nbsp;<span class="ident" id="7059475"><a href="/net/http/readrequest_test.go.html#7059141">i</a></span><span class="op" id="7059476">,</span>&nbsp;<span class="ident" id="7059478"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059480">.</span><span class="ident" id="7059481">Raw</span><span class="op" id="7059484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059488"><a href="/net/http/response_test.go.html#7087365">diff</a></span><span class="op" id="7059492">(</span><span class="ident" id="7059493"><a href="/net/http/readrequest_test.go.html#7059120">t</a></span><span class="op" id="7059494">,</span>&nbsp;<span class="ident" id="7059496"><a href="/net/http/readrequest_test.go.html#7059435">testName</a></span><span class="op" id="7059504">,</span>&nbsp;<span class="ident" id="7059506"><a href="/net/http/readrequest_test.go.html#7059186">req</a></span><span class="op" id="7059509">,</span>&nbsp;<span class="ident" id="7059511"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059513">.</span><span class="ident" id="7059514">Req</span><span class="op" id="7059517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059521">var</span>&nbsp;<span class="ident" id="7059525">bout</span>&nbsp;<span class="ident" id="7059530"><a href="/net/http/readrequest_test.go.html#7052936">bytes</a></span><span class="op" id="7059535">.</span><span class="ident" id="7059536">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059545">if</span>&nbsp;<span class="ident" id="7059548"><a href="/net/http/readrequest_test.go.html#7059398">rbody</a></span>&nbsp;<span class="op" id="7059554">!=</span>&nbsp;<span class="ident" id="7059557">nil</span>&nbsp;<span class="op" id="7059561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059566">_</span><span class="op" id="7059567">,</span>&nbsp;<span class="ident" id="7059569">err</span>&nbsp;<span class="op" id="7059573">:=</span>&nbsp;<span class="ident" id="7059576"><a href="/net/http/readrequest_test.go.html#7052952">io</a></span><span class="op" id="7059578">.</span><span class="ident" id="7059579">Copy</span><span class="op" id="7059583">(</span><span class="op" id="7059584">&amp;</span><span class="ident" id="7059585"><a href="/net/http/readrequest_test.go.html#7059525">bout</a></span><span class="op" id="7059589">,</span>&nbsp;<span class="ident" id="7059591"><a href="/net/http/readrequest_test.go.html#7059398">rbody</a></span><span class="op" id="7059596">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059601">if</span>&nbsp;<span class="ident" id="7059604"><a href="/net/http/readrequest_test.go.html#7059569">err</a></span>&nbsp;<span class="op" id="7059608">!=</span>&nbsp;<span class="ident" id="7059611">nil</span>&nbsp;<span class="op" id="7059615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059621"><a href="/net/http/readrequest_test.go.html#7059120">t</a></span><span class="op" id="7059622">.</span><span class="ident" id="7059623">Fatalf</span><span class="op" id="7059629">(</span><span class="string" id="7059630">&#34;%s:&nbsp;copying&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7059652">,</span>&nbsp;<span class="ident" id="7059654"><a href="/net/http/readrequest_test.go.html#7059435">testName</a></span><span class="op" id="7059662">,</span>&nbsp;<span class="ident" id="7059664"><a href="/net/http/readrequest_test.go.html#7059569">err</a></span><span class="op" id="7059667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059677"><a href="/net/http/readrequest_test.go.html#7059398">rbody</a></span><span class="op" id="7059682">.</span><span class="ident" id="7059683">Close</span><span class="op" id="7059688">(</span><span class="op" id="7059689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059693">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059697">body</span>&nbsp;<span class="op" id="7059702">:=</span>&nbsp;<span class="ident" id="7059705"><a href="/net/http/readrequest_test.go.html#7059525">bout</a></span><span class="op" id="7059709">.</span><span class="ident" id="7059710">String</span><span class="op" id="7059716">(</span><span class="op" id="7059717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059721">if</span>&nbsp;<span class="ident" id="7059724"><a href="/net/http/readrequest_test.go.html#7059697">body</a></span>&nbsp;<span class="op" id="7059729">!=</span>&nbsp;<span class="ident" id="7059732"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059734">.</span><span class="ident" id="7059735">Body</span>&nbsp;<span class="op" id="7059740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059745"><a href="/net/http/readrequest_test.go.html#7059120">t</a></span><span class="op" id="7059746">.</span><span class="ident" id="7059747">Errorf</span><span class="op" id="7059753">(</span><span class="string" id="7059754">&#34;%s:&nbsp;Body&nbsp;=&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7059777">,</span>&nbsp;<span class="ident" id="7059779"><a href="/net/http/readrequest_test.go.html#7059435">testName</a></span><span class="op" id="7059787">,</span>&nbsp;<span class="ident" id="7059789"><a href="/net/http/readrequest_test.go.html#7059697">body</a></span><span class="op" id="7059793">,</span>&nbsp;<span class="ident" id="7059795"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059797">.</span><span class="ident" id="7059798">Body</span><span class="op" id="7059802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059810">if</span>&nbsp;<span class="op" id="7059813">!</span><span class="ident" id="7059814"><a href="/net/http/readrequest_test.go.html#7052969">reflect</a></span><span class="op" id="7059821">.</span><span class="ident" id="7059822">DeepEqual</span><span class="op" id="7059831">(</span><span class="ident" id="7059832"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059834">.</span><span class="ident" id="7059835">Trailer</span><span class="op" id="7059842">,</span>&nbsp;<span class="ident" id="7059844"><a href="/net/http/readrequest_test.go.html#7059186">req</a></span><span class="op" id="7059847">.</span><span class="ident" id="7059848">Trailer</span><span class="op" id="7059855">)</span>&nbsp;<span class="op" id="7059857">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059862"><a href="/net/http/readrequest_test.go.html#7059120">t</a></span><span class="op" id="7059863">.</span><span class="ident" id="7059864">Errorf</span><span class="op" id="7059870">(</span><span class="string" id="7059871">&#34;%s:&nbsp;Trailers&nbsp;differ.\n&nbsp;got:&nbsp;%v\nwant:&nbsp;%v&#34;</span><span class="op" id="7059913">,</span>&nbsp;<span class="ident" id="7059915"><a href="/net/http/readrequest_test.go.html#7059435">testName</a></span><span class="op" id="7059923">,</span>&nbsp;<span class="ident" id="7059925"><a href="/net/http/readrequest_test.go.html#7059186">req</a></span><span class="op" id="7059928">.</span><span class="ident" id="7059929">Trailer</span><span class="op" id="7059936">,</span>&nbsp;<span class="ident" id="7059938"><a href="/net/http/readrequest_test.go.html#7059165">tt</a></span><span class="op" id="7059940">.</span><span class="ident" id="7059941">Trailer</span><span class="op" id="7059948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059955">}</span><br>
<span class="lineno"></span><span class="op" id="7059957">}</span>
</div>
</body>
</html>
