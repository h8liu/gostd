<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7031133">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7031188">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7031242">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7031293">package</span>&nbsp;<span class="ident" id="7031301">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7031310">import</span>&nbsp;<span class="op" id="7031317">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031320">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7031331">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7031341">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7031344">var</span>&nbsp;<span class="ident" id="7031348">golden</span>&nbsp;<span class="op" id="7031355">=</span>&nbsp;<span class="op" id="7031357">[</span><span class="op" id="7031358">]</span><span class="keyword" id="7031359">struct</span>&nbsp;<span class="op" id="7031366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7031369">out</span>&nbsp;<span class="builtintype" id="7031373">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7031381">in</span>&nbsp;&nbsp;<span class="builtintype" id="7031385">string</span><br>
<span class="lineno">15</span><span class="op" id="7031392">}</span><span class="op" id="7031393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031396">{</span><span class="num" id="7031397">0x00000001</span><span class="op" id="7031407">,</span>&nbsp;<span class="string" id="7031409">&#34;&#34;</span><span class="op" id="7031411">}</span><span class="op" id="7031412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031415">{</span><span class="num" id="7031416">0x00620062</span><span class="op" id="7031426">,</span>&nbsp;<span class="string" id="7031428">&#34;a&#34;</span><span class="op" id="7031431">}</span><span class="op" id="7031432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031435">{</span><span class="num" id="7031436">0x012600c4</span><span class="op" id="7031446">,</span>&nbsp;<span class="string" id="7031448">&#34;ab&#34;</span><span class="op" id="7031452">}</span><span class="op" id="7031453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031456">{</span><span class="num" id="7031457">0x024d0127</span><span class="op" id="7031467">,</span>&nbsp;<span class="string" id="7031469">&#34;abc&#34;</span><span class="op" id="7031474">}</span><span class="op" id="7031475">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031478">{</span><span class="num" id="7031479">0x03d8018b</span><span class="op" id="7031489">,</span>&nbsp;<span class="string" id="7031491">&#34;abcd&#34;</span><span class="op" id="7031497">}</span><span class="op" id="7031498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031501">{</span><span class="num" id="7031502">0x05c801f0</span><span class="op" id="7031512">,</span>&nbsp;<span class="string" id="7031514">&#34;abcde&#34;</span><span class="op" id="7031521">}</span><span class="op" id="7031522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031525">{</span><span class="num" id="7031526">0x081e0256</span><span class="op" id="7031536">,</span>&nbsp;<span class="string" id="7031538">&#34;abcdef&#34;</span><span class="op" id="7031546">}</span><span class="op" id="7031547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031550">{</span><span class="num" id="7031551">0x0adb02bd</span><span class="op" id="7031561">,</span>&nbsp;<span class="string" id="7031563">&#34;abcdefg&#34;</span><span class="op" id="7031572">}</span><span class="op" id="7031573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031576">{</span><span class="num" id="7031577">0x0e000325</span><span class="op" id="7031587">,</span>&nbsp;<span class="string" id="7031589">&#34;abcdefgh&#34;</span><span class="op" id="7031599">}</span><span class="op" id="7031600">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031603">{</span><span class="num" id="7031604">0x118e038e</span><span class="op" id="7031614">,</span>&nbsp;<span class="string" id="7031616">&#34;abcdefghi&#34;</span><span class="op" id="7031627">}</span><span class="op" id="7031628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031631">{</span><span class="num" id="7031632">0x158603f8</span><span class="op" id="7031642">,</span>&nbsp;<span class="string" id="7031644">&#34;abcdefghij&#34;</span><span class="op" id="7031656">}</span><span class="op" id="7031657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031660">{</span><span class="num" id="7031661">0x3f090f02</span><span class="op" id="7031671">,</span>&nbsp;<span class="string" id="7031673">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7031716">}</span><span class="op" id="7031717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031720">{</span><span class="num" id="7031721">0x46d81477</span><span class="op" id="7031731">,</span>&nbsp;<span class="string" id="7031733">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7031792">}</span><span class="op" id="7031793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031796">{</span><span class="num" id="7031797">0x40ee0ee1</span><span class="op" id="7031807">,</span>&nbsp;<span class="string" id="7031809">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7031853">}</span><span class="op" id="7031854">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031857">{</span><span class="num" id="7031858">0x16661315</span><span class="op" id="7031868">,</span>&nbsp;<span class="string" id="7031870">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7031929">}</span><span class="op" id="7031930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7031933">{</span><span class="num" id="7031934">0x5b2e1480</span><span class="op" id="7031944">,</span>&nbsp;<span class="string" id="7031946">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7032006">}</span><span class="op" id="7032007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032010">{</span><span class="num" id="7032011">0x8c3c09ea</span><span class="op" id="7032021">,</span>&nbsp;<span class="string" id="7032023">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7032052">}</span><span class="op" id="7032053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032056">{</span><span class="num" id="7032057">0x45ac18fd</span><span class="op" id="7032067">,</span>&nbsp;<span class="string" id="7032069">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7032138">}</span><span class="op" id="7032139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032142">{</span><span class="num" id="7032143">0x53c61462</span><span class="op" id="7032153">,</span>&nbsp;<span class="string" id="7032155">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7032214">}</span><span class="op" id="7032215">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032218">{</span><span class="num" id="7032219">0x7e511e63</span><span class="op" id="7032229">,</span>&nbsp;<span class="string" id="7032231">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7032321">}</span><span class="op" id="7032322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032325">{</span><span class="num" id="7032326">0xe4801a6a</span><span class="op" id="7032336">,</span>&nbsp;<span class="string" id="7032338">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7032415">}</span><span class="op" id="7032416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032419">{</span><span class="num" id="7032420">0x61b507df</span><span class="op" id="7032430">,</span>&nbsp;<span class="string" id="7032432">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7032458">}</span><span class="op" id="7032459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032462">{</span><span class="num" id="7032463">0xb8631171</span><span class="op" id="7032473">,</span>&nbsp;<span class="string" id="7032475">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7032526">}</span><span class="op" id="7032527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032530">{</span><span class="num" id="7032531">0x8b5e1904</span><span class="op" id="7032541">,</span>&nbsp;<span class="string" id="7032543">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7032617">}</span><span class="op" id="7032618">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032621">{</span><span class="num" id="7032622">0x7cc6102b</span><span class="op" id="7032632">,</span>&nbsp;<span class="string" id="7032634">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7032682">}</span><span class="op" id="7032683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032686">{</span><span class="num" id="7032687">0x700318e7</span><span class="op" id="7032697">,</span>&nbsp;<span class="string" id="7032699">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7032771">}</span><span class="op" id="7032772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032775">{</span><span class="num" id="7032776">0x1e601747</span><span class="op" id="7032786">,</span>&nbsp;<span class="string" id="7032788">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7032858">}</span><span class="op" id="7032859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032862">{</span><span class="num" id="7032863">0xb55b0b09</span><span class="op" id="7032873">,</span>&nbsp;<span class="string" id="7032875">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7032909">}</span><span class="op" id="7032910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7032913">{</span><span class="num" id="7032914">0x39111dd0</span><span class="op" id="7032924">,</span>&nbsp;<span class="string" id="7032926">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7033016">}</span><span class="op" id="7033017">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033020">{</span><span class="num" id="7033021">0x91dd304f</span><span class="op" id="7033031">,</span>&nbsp;<span class="string" id="7033033">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7033167">}</span><span class="op" id="7033168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033171">{</span><span class="num" id="7033172">0x2e5d1316</span><span class="op" id="7033182">,</span>&nbsp;<span class="string" id="7033184">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7033242">}</span><span class="op" id="7033243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033246">{</span><span class="num" id="7033247">0xd0201df6</span><span class="op" id="7033257">,</span>&nbsp;<span class="string" id="7033259">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="7033342">}</span><span class="op" id="7033343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033346">{</span><span class="num" id="7033347">0x211297c8</span><span class="op" id="7033357">,</span>&nbsp;<span class="ident" id="7033359">strings</span><span class="op" id="7033366">.</span><span class="ident" id="7033367">Repeat</span><span class="op" id="7033373">(</span><span class="string" id="7033374">&#34;\xff&#34;</span><span class="op" id="7033380">,</span>&nbsp;<span class="num" id="7033382">5548</span><span class="op" id="7033386">)</span>&nbsp;<span class="op" id="7033388">+</span>&nbsp;<span class="string" id="7033390">&#34;8&#34;</span><span class="op" id="7033393">}</span><span class="op" id="7033394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033397">{</span><span class="num" id="7033398">0xbaa198c8</span><span class="op" id="7033408">,</span>&nbsp;<span class="ident" id="7033410">strings</span><span class="op" id="7033417">.</span><span class="ident" id="7033418">Repeat</span><span class="op" id="7033424">(</span><span class="string" id="7033425">&#34;\xff&#34;</span><span class="op" id="7033431">,</span>&nbsp;<span class="num" id="7033433">5549</span><span class="op" id="7033437">)</span>&nbsp;<span class="op" id="7033439">+</span>&nbsp;<span class="string" id="7033441">&#34;9&#34;</span><span class="op" id="7033444">}</span><span class="op" id="7033445">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033448">{</span><span class="num" id="7033449">0x553499be</span><span class="op" id="7033459">,</span>&nbsp;<span class="ident" id="7033461">strings</span><span class="op" id="7033468">.</span><span class="ident" id="7033469">Repeat</span><span class="op" id="7033475">(</span><span class="string" id="7033476">&#34;\xff&#34;</span><span class="op" id="7033482">,</span>&nbsp;<span class="num" id="7033484">5550</span><span class="op" id="7033488">)</span>&nbsp;<span class="op" id="7033490">+</span>&nbsp;<span class="string" id="7033492">&#34;0&#34;</span><span class="op" id="7033495">}</span><span class="op" id="7033496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033499">{</span><span class="num" id="7033500">0xf0c19abe</span><span class="op" id="7033510">,</span>&nbsp;<span class="ident" id="7033512">strings</span><span class="op" id="7033519">.</span><span class="ident" id="7033520">Repeat</span><span class="op" id="7033526">(</span><span class="string" id="7033527">&#34;\xff&#34;</span><span class="op" id="7033533">,</span>&nbsp;<span class="num" id="7033535">5551</span><span class="op" id="7033539">)</span>&nbsp;<span class="op" id="7033541">+</span>&nbsp;<span class="string" id="7033543">&#34;1&#34;</span><span class="op" id="7033546">}</span><span class="op" id="7033547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033550">{</span><span class="num" id="7033551">0x8d5c9bbe</span><span class="op" id="7033561">,</span>&nbsp;<span class="ident" id="7033563">strings</span><span class="op" id="7033570">.</span><span class="ident" id="7033571">Repeat</span><span class="op" id="7033577">(</span><span class="string" id="7033578">&#34;\xff&#34;</span><span class="op" id="7033584">,</span>&nbsp;<span class="num" id="7033586">5552</span><span class="op" id="7033590">)</span>&nbsp;<span class="op" id="7033592">+</span>&nbsp;<span class="string" id="7033594">&#34;2&#34;</span><span class="op" id="7033597">}</span><span class="op" id="7033598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033601">{</span><span class="num" id="7033602">0x2af69cbe</span><span class="op" id="7033612">,</span>&nbsp;<span class="ident" id="7033614">strings</span><span class="op" id="7033621">.</span><span class="ident" id="7033622">Repeat</span><span class="op" id="7033628">(</span><span class="string" id="7033629">&#34;\xff&#34;</span><span class="op" id="7033635">,</span>&nbsp;<span class="num" id="7033637">5553</span><span class="op" id="7033641">)</span>&nbsp;<span class="op" id="7033643">+</span>&nbsp;<span class="string" id="7033645">&#34;3&#34;</span><span class="op" id="7033648">}</span><span class="op" id="7033649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033652">{</span><span class="num" id="7033653">0xc9809dbe</span><span class="op" id="7033663">,</span>&nbsp;<span class="ident" id="7033665">strings</span><span class="op" id="7033672">.</span><span class="ident" id="7033673">Repeat</span><span class="op" id="7033679">(</span><span class="string" id="7033680">&#34;\xff&#34;</span><span class="op" id="7033686">,</span>&nbsp;<span class="num" id="7033688">5554</span><span class="op" id="7033692">)</span>&nbsp;<span class="op" id="7033694">+</span>&nbsp;<span class="string" id="7033696">&#34;4&#34;</span><span class="op" id="7033699">}</span><span class="op" id="7033700">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033703">{</span><span class="num" id="7033704">0x69189ebe</span><span class="op" id="7033714">,</span>&nbsp;<span class="ident" id="7033716">strings</span><span class="op" id="7033723">.</span><span class="ident" id="7033724">Repeat</span><span class="op" id="7033730">(</span><span class="string" id="7033731">&#34;\xff&#34;</span><span class="op" id="7033737">,</span>&nbsp;<span class="num" id="7033739">5555</span><span class="op" id="7033743">)</span>&nbsp;<span class="op" id="7033745">+</span>&nbsp;<span class="string" id="7033747">&#34;5&#34;</span><span class="op" id="7033750">}</span><span class="op" id="7033751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033754">{</span><span class="num" id="7033755">0x86af0001</span><span class="op" id="7033765">,</span>&nbsp;<span class="ident" id="7033767">strings</span><span class="op" id="7033774">.</span><span class="ident" id="7033775">Repeat</span><span class="op" id="7033781">(</span><span class="string" id="7033782">&#34;\x00&#34;</span><span class="op" id="7033788">,</span>&nbsp;<span class="num" id="7033790">1e5</span><span class="op" id="7033793">)</span><span class="op" id="7033794">}</span><span class="op" id="7033795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033798">{</span><span class="num" id="7033799">0x79660b4d</span><span class="op" id="7033809">,</span>&nbsp;<span class="ident" id="7033811">strings</span><span class="op" id="7033818">.</span><span class="ident" id="7033819">Repeat</span><span class="op" id="7033825">(</span><span class="string" id="7033826">&#34;a&#34;</span><span class="op" id="7033829">,</span>&nbsp;<span class="num" id="7033831">1e5</span><span class="op" id="7033834">)</span><span class="op" id="7033835">}</span><span class="op" id="7033836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7033839">{</span><span class="num" id="7033840">0x110588ee</span><span class="op" id="7033850">,</span>&nbsp;<span class="ident" id="7033852">strings</span><span class="op" id="7033859">.</span><span class="ident" id="7033860">Repeat</span><span class="op" id="7033866">(</span><span class="string" id="7033867">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="7033895">,</span>&nbsp;<span class="num" id="7033897">1e4</span><span class="op" id="7033900">)</span><span class="op" id="7033901">}</span><span class="op" id="7033902">,</span><br>
<span class="lineno"></span><span class="op" id="7033904">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="7033907">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="7033981">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="7034048">func</span>&nbsp;<span class="ident" id="7034053">checksum</span><span class="op" id="7034061">(</span><span class="ident" id="7034062">p</span>&nbsp;<span class="op" id="7034064">[</span><span class="op" id="7034065">]</span><span class="builtintype" id="7034066">byte</span><span class="op" id="7034070">)</span>&nbsp;<span class="builtintype" id="7034072">uint32</span>&nbsp;<span class="op" id="7034079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034082">s1</span><span class="op" id="7034084">,</span>&nbsp;<span class="ident" id="7034086">s2</span>&nbsp;<span class="op" id="7034089">:=</span>&nbsp;<span class="builtintype" id="7034092">uint32</span><span class="op" id="7034098">(</span><span class="num" id="7034099">1</span><span class="op" id="7034100">)</span><span class="op" id="7034101">,</span>&nbsp;<span class="builtintype" id="7034103">uint32</span><span class="op" id="7034109">(</span><span class="num" id="7034110">0</span><span class="op" id="7034111">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034114">for</span>&nbsp;<span class="ident" id="7034118">_</span><span class="op" id="7034119">,</span>&nbsp;<span class="ident" id="7034121">x</span>&nbsp;<span class="op" id="7034123">:=</span>&nbsp;<span class="keyword" id="7034126">range</span>&nbsp;<span class="ident" id="7034132">p</span>&nbsp;<span class="op" id="7034134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034138">s1</span>&nbsp;<span class="op" id="7034141">=</span>&nbsp;<span class="op" id="7034143">(</span><span class="ident" id="7034144">s1</span>&nbsp;<span class="op" id="7034147">+</span>&nbsp;<span class="builtintype" id="7034149">uint32</span><span class="op" id="7034155">(</span><span class="ident" id="7034156">x</span><span class="op" id="7034157">)</span><span class="op" id="7034158">)</span>&nbsp;<span class="op" id="7034160">%</span>&nbsp;<span class="ident" id="7034162">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034168">s2</span>&nbsp;<span class="op" id="7034171">=</span>&nbsp;<span class="op" id="7034173">(</span><span class="ident" id="7034174">s2</span>&nbsp;<span class="op" id="7034177">+</span>&nbsp;<span class="ident" id="7034179">s1</span><span class="op" id="7034181">)</span>&nbsp;<span class="op" id="7034183">%</span>&nbsp;<span class="ident" id="7034185">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034193">return</span>&nbsp;<span class="ident" id="7034200">s2</span><span class="op" id="7034202">&lt;&lt;</span><span class="num" id="7034204">16</span>&nbsp;<span class="op" id="7034207">|</span>&nbsp;<span class="ident" id="7034209">s1</span><br>
<span class="lineno">70</span><span class="op" id="7034212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7034215">func</span>&nbsp;<span class="ident" id="7034220">TestGolden</span><span class="op" id="7034230">(</span><span class="ident" id="7034231">t</span>&nbsp;<span class="op" id="7034233">*</span><span class="ident" id="7034234">testing</span><span class="op" id="7034241">.</span><span class="ident" id="7034242">T</span><span class="op" id="7034243">)</span>&nbsp;<span class="op" id="7034245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034248">for</span>&nbsp;<span class="ident" id="7034252">_</span><span class="op" id="7034253">,</span>&nbsp;<span class="ident" id="7034255">g</span>&nbsp;<span class="op" id="7034257">:=</span>&nbsp;<span class="keyword" id="7034260">range</span>&nbsp;<span class="ident" id="7034266">golden</span>&nbsp;<span class="op" id="7034273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034277">in</span>&nbsp;<span class="op" id="7034280">:=</span>&nbsp;<span class="ident" id="7034283">g</span><span class="op" id="7034284">.</span><span class="ident" id="7034285">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034290">if</span>&nbsp;<span class="builtinfunc" id="7034293">len</span><span class="op" id="7034296">(</span><span class="ident" id="7034297">in</span><span class="op" id="7034299">)</span>&nbsp;<span class="op" id="7034301">&gt;</span>&nbsp;<span class="num" id="7034303">220</span>&nbsp;<span class="op" id="7034307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034312">in</span>&nbsp;<span class="op" id="7034315">=</span>&nbsp;<span class="ident" id="7034317">in</span><span class="op" id="7034319">[</span><span class="op" id="7034320">:</span><span class="num" id="7034321">100</span><span class="op" id="7034324">]</span>&nbsp;<span class="op" id="7034326">+</span>&nbsp;<span class="string" id="7034328">&#34;...&#34;</span>&nbsp;<span class="op" id="7034334">+</span>&nbsp;<span class="ident" id="7034336">in</span><span class="op" id="7034338">[</span><span class="builtinfunc" id="7034339">len</span><span class="op" id="7034342">(</span><span class="ident" id="7034343">in</span><span class="op" id="7034345">)</span><span class="op" id="7034346">-</span><span class="num" id="7034347">100</span><span class="op" id="7034350">:</span><span class="op" id="7034351">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034359">p</span>&nbsp;<span class="op" id="7034361">:=</span>&nbsp;<span class="op" id="7034364">[</span><span class="op" id="7034365">]</span><span class="builtintype" id="7034366">byte</span><span class="op" id="7034370">(</span><span class="ident" id="7034371">g</span><span class="op" id="7034372">.</span><span class="ident" id="7034373">in</span><span class="op" id="7034375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034379">if</span>&nbsp;<span class="ident" id="7034382">got</span>&nbsp;<span class="op" id="7034386">:=</span>&nbsp;<span class="ident" id="7034389">checksum</span><span class="op" id="7034397">(</span><span class="ident" id="7034398">p</span><span class="op" id="7034399">)</span><span class="op" id="7034400">;</span>&nbsp;<span class="ident" id="7034402">got</span>&nbsp;<span class="op" id="7034406">!=</span>&nbsp;<span class="ident" id="7034409">g</span><span class="op" id="7034410">.</span><span class="ident" id="7034411">out</span>&nbsp;<span class="op" id="7034415">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034420">t</span><span class="op" id="7034421">.</span><span class="ident" id="7034422">Errorf</span><span class="op" id="7034428">(</span><span class="string" id="7034429">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7034483">,</span>&nbsp;<span class="ident" id="7034485">in</span><span class="op" id="7034487">,</span>&nbsp;<span class="ident" id="7034489">got</span><span class="op" id="7034492">,</span>&nbsp;<span class="ident" id="7034494">g</span><span class="op" id="7034495">.</span><span class="ident" id="7034496">out</span><span class="op" id="7034499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034504">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034519">if</span>&nbsp;<span class="ident" id="7034522">got</span>&nbsp;<span class="op" id="7034526">:=</span>&nbsp;<span class="ident" id="7034529">Checksum</span><span class="op" id="7034537">(</span><span class="ident" id="7034538">p</span><span class="op" id="7034539">)</span><span class="op" id="7034540">;</span>&nbsp;<span class="ident" id="7034542">got</span>&nbsp;<span class="op" id="7034546">!=</span>&nbsp;<span class="ident" id="7034549">g</span><span class="op" id="7034550">.</span><span class="ident" id="7034551">out</span>&nbsp;<span class="op" id="7034555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034560">t</span><span class="op" id="7034561">.</span><span class="ident" id="7034562">Errorf</span><span class="op" id="7034568">(</span><span class="string" id="7034569">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7034626">,</span>&nbsp;<span class="ident" id="7034628">in</span><span class="op" id="7034630">,</span>&nbsp;<span class="ident" id="7034632">got</span><span class="op" id="7034635">,</span>&nbsp;<span class="ident" id="7034637">g</span><span class="op" id="7034638">.</span><span class="ident" id="7034639">out</span><span class="op" id="7034642">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034647">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034661">}</span><br>
<span class="lineno"></span><span class="op" id="7034663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7034666">func</span>&nbsp;<span class="ident" id="7034671">BenchmarkAdler32KB</span><span class="op" id="7034689">(</span><span class="ident" id="7034690">b</span>&nbsp;<span class="op" id="7034692">*</span><span class="ident" id="7034693">testing</span><span class="op" id="7034700">.</span><span class="ident" id="7034701">B</span><span class="op" id="7034702">)</span>&nbsp;<span class="op" id="7034704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034707">b</span><span class="op" id="7034708">.</span><span class="ident" id="7034709">SetBytes</span><span class="op" id="7034717">(</span><span class="num" id="7034718">1024</span><span class="op" id="7034722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034725">data</span>&nbsp;<span class="op" id="7034730">:=</span>&nbsp;<span class="builtinfunc" id="7034733">make</span><span class="op" id="7034737">(</span><span class="op" id="7034738">[</span><span class="op" id="7034739">]</span><span class="builtintype" id="7034740">byte</span><span class="op" id="7034744">,</span>&nbsp;<span class="num" id="7034746">1024</span><span class="op" id="7034750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034753">for</span>&nbsp;<span class="ident" id="7034757">i</span>&nbsp;<span class="op" id="7034759">:=</span>&nbsp;<span class="keyword" id="7034762">range</span>&nbsp;<span class="ident" id="7034768">data</span>&nbsp;<span class="op" id="7034773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034777">data</span><span class="op" id="7034781">[</span><span class="ident" id="7034782">i</span><span class="op" id="7034783">]</span>&nbsp;<span class="op" id="7034785">=</span>&nbsp;<span class="builtintype" id="7034787">byte</span><span class="op" id="7034791">(</span><span class="ident" id="7034792">i</span><span class="op" id="7034793">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034799">h</span>&nbsp;<span class="op" id="7034801">:=</span>&nbsp;<span class="ident" id="7034804">New</span><span class="op" id="7034807">(</span><span class="op" id="7034808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034811">in</span>&nbsp;<span class="op" id="7034814">:=</span>&nbsp;<span class="builtinfunc" id="7034817">make</span><span class="op" id="7034821">(</span><span class="op" id="7034822">[</span><span class="op" id="7034823">]</span><span class="builtintype" id="7034824">byte</span><span class="op" id="7034828">,</span>&nbsp;<span class="num" id="7034830">0</span><span class="op" id="7034831">,</span>&nbsp;<span class="ident" id="7034833">h</span><span class="op" id="7034834">.</span><span class="ident" id="7034835">Size</span><span class="op" id="7034839">(</span><span class="op" id="7034840">)</span><span class="op" id="7034841">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034845">b</span><span class="op" id="7034846">.</span><span class="ident" id="7034847">ResetTimer</span><span class="op" id="7034857">(</span><span class="op" id="7034858">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7034861">for</span>&nbsp;<span class="ident" id="7034865">i</span>&nbsp;<span class="op" id="7034867">:=</span>&nbsp;<span class="num" id="7034870">0</span><span class="op" id="7034871">;</span>&nbsp;<span class="ident" id="7034873">i</span>&nbsp;<span class="op" id="7034875">&lt;</span>&nbsp;<span class="ident" id="7034877">b</span><span class="op" id="7034878">.</span><span class="ident" id="7034879">N</span><span class="op" id="7034880">;</span>&nbsp;<span class="ident" id="7034882">i</span><span class="op" id="7034883">++</span>&nbsp;<span class="op" id="7034886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034890">h</span><span class="op" id="7034891">.</span><span class="ident" id="7034892">Reset</span><span class="op" id="7034897">(</span><span class="op" id="7034898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034902">h</span><span class="op" id="7034903">.</span><span class="ident" id="7034904">Write</span><span class="op" id="7034909">(</span><span class="ident" id="7034910">data</span><span class="op" id="7034914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7034918">h</span><span class="op" id="7034919">.</span><span class="ident" id="7034920">Sum</span><span class="op" id="7034923">(</span><span class="ident" id="7034924">in</span><span class="op" id="7034926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7034929">}</span><br>
<span class="lineno">105</span><span class="op" id="7034931">}</span>
</div>
</body>
</html>
