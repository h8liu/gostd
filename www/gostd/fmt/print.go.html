<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2021177">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2021232">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2021286">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2021337">package</span>&nbsp;<span class="ident" id="2021345">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2021350">import</span>&nbsp;<span class="op" id="2021357">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2021360">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2021370">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2021376">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2021382">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2021393">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2021401">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2021416">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2021419">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2021485">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2021522">var</span>&nbsp;<span class="op" id="2021526">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021529">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2021546">=</span>&nbsp;<span class="op" id="2021548">[</span><span class="op" id="2021549">]</span><span class="builtintype" id="2021550">byte</span><span class="op" id="2021554">(</span><span class="string" id="2021555">&#34;,&nbsp;&#34;</span><span class="op" id="2021559">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021562">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021579">=</span>&nbsp;<span class="op" id="2021581">[</span><span class="op" id="2021582">]</span><span class="builtintype" id="2021583">byte</span><span class="op" id="2021587">(</span><span class="string" id="2021588">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2021595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021598">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021615">=</span>&nbsp;<span class="op" id="2021617">[</span><span class="op" id="2021618">]</span><span class="builtintype" id="2021619">byte</span><span class="op" id="2021623">(</span><span class="string" id="2021624">&#34;(nil)&#34;</span><span class="op" id="2021631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021634">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021651">=</span>&nbsp;<span class="op" id="2021653">[</span><span class="op" id="2021654">]</span><span class="builtintype" id="2021655">byte</span><span class="op" id="2021659">(</span><span class="string" id="2021660">&#34;nil&#34;</span><span class="op" id="2021665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021668">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021685">=</span>&nbsp;<span class="op" id="2021687">[</span><span class="op" id="2021688">]</span><span class="builtintype" id="2021689">byte</span><span class="op" id="2021693">(</span><span class="string" id="2021694">&#34;map[&#34;</span><span class="op" id="2021700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021703">percentBangBytes</span>&nbsp;<span class="op" id="2021720">=</span>&nbsp;<span class="op" id="2021722">[</span><span class="op" id="2021723">]</span><span class="builtintype" id="2021724">byte</span><span class="op" id="2021728">(</span><span class="string" id="2021729">&#34;%!&#34;</span><span class="op" id="2021733">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021736">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021753">=</span>&nbsp;<span class="op" id="2021755">[</span><span class="op" id="2021756">]</span><span class="builtintype" id="2021757">byte</span><span class="op" id="2021761">(</span><span class="string" id="2021762">&#34;(MISSING)&#34;</span><span class="op" id="2021773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021776">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021793">=</span>&nbsp;<span class="op" id="2021795">[</span><span class="op" id="2021796">]</span><span class="builtintype" id="2021797">byte</span><span class="op" id="2021801">(</span><span class="string" id="2021802">&#34;(BADINDEX)&#34;</span><span class="op" id="2021814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021817">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021834">=</span>&nbsp;<span class="op" id="2021836">[</span><span class="op" id="2021837">]</span><span class="builtintype" id="2021838">byte</span><span class="op" id="2021842">(</span><span class="string" id="2021843">&#34;(PANIC=&#34;</span><span class="op" id="2021852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021855">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021872">=</span>&nbsp;<span class="op" id="2021874">[</span><span class="op" id="2021875">]</span><span class="builtintype" id="2021876">byte</span><span class="op" id="2021880">(</span><span class="string" id="2021881">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2021892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021895">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021912">=</span>&nbsp;<span class="op" id="2021914">[</span><span class="op" id="2021915">]</span><span class="builtintype" id="2021916">byte</span><span class="op" id="2021920">(</span><span class="string" id="2021921">&#34;i)&#34;</span><span class="op" id="2021925">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021928">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021945">=</span>&nbsp;<span class="op" id="2021947">[</span><span class="op" id="2021948">]</span><span class="builtintype" id="2021949">byte</span><span class="op" id="2021953">(</span><span class="string" id="2021954">&#34;[]byte{&#34;</span><span class="op" id="2021963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2021966">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2021983">=</span>&nbsp;<span class="op" id="2021985">[</span><span class="op" id="2021986">]</span><span class="builtintype" id="2021987">byte</span><span class="op" id="2021991">(</span><span class="string" id="2021992">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2022006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2022009">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2022026">=</span>&nbsp;<span class="op" id="2022028">[</span><span class="op" id="2022029">]</span><span class="builtintype" id="2022030">byte</span><span class="op" id="2022034">(</span><span class="string" id="2022035">&#34;%!(BADPREC)&#34;</span><span class="op" id="2022048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2022051">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2022068">=</span>&nbsp;<span class="op" id="2022070">[</span><span class="op" id="2022071">]</span><span class="builtintype" id="2022072">byte</span><span class="op" id="2022076">(</span><span class="string" id="2022077">&#34;%!(NOVERB)&#34;</span><span class="op" id="2022089">)</span><br>
<span class="lineno"></span><span class="op" id="2022091">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2022094">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2022161">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2022233">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2022294">type</span>&nbsp;<span class="ident" id="2022299">State</span>&nbsp;<span class="keyword" id="2022305">interface</span>&nbsp;<span class="op" id="2022315">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2022318">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2022392">Write</span><span class="op" id="2022397">(</span><span class="ident" id="2022398">b</span>&nbsp;<span class="op" id="2022400">[</span><span class="op" id="2022401">]</span><span class="builtintype" id="2022402">byte</span><span class="op" id="2022406">)</span>&nbsp;<span class="op" id="2022408">(</span><span class="ident" id="2022409">ret</span>&nbsp;<span class="builtintype" id="2022413">int</span><span class="op" id="2022416">,</span>&nbsp;<span class="ident" id="2022418">err</span>&nbsp;<span class="builtintype" id="2022422">error</span><span class="op" id="2022427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2022430">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2022507">Width</span><span class="op" id="2022512">(</span><span class="op" id="2022513">)</span>&nbsp;<span class="op" id="2022515">(</span><span class="ident" id="2022516">wid</span>&nbsp;<span class="builtintype" id="2022520">int</span><span class="op" id="2022523">,</span>&nbsp;<span class="ident" id="2022525">ok</span>&nbsp;<span class="builtintype" id="2022528">bool</span><span class="op" id="2022532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2022535">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2022620">Precision</span><span class="op" id="2022629">(</span><span class="op" id="2022630">)</span>&nbsp;<span class="op" id="2022632">(</span><span class="ident" id="2022633">prec</span>&nbsp;<span class="builtintype" id="2022638">int</span><span class="op" id="2022641">,</span>&nbsp;<span class="ident" id="2022643">ok</span>&nbsp;<span class="builtintype" id="2022646">bool</span><span class="op" id="2022650">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2022654">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2022718">Flag</span><span class="op" id="2022722">(</span><span class="ident" id="2022723">c</span>&nbsp;<span class="builtintype" id="2022725">int</span><span class="op" id="2022728">)</span>&nbsp;<span class="builtintype" id="2022730">bool</span><br>
<span class="lineno"></span><span class="op" id="2022735">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2022738">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2022815">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2022884">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2022911">type</span>&nbsp;<span class="ident" id="2022916">Formatter</span>&nbsp;<span class="keyword" id="2022926">interface</span>&nbsp;<span class="op" id="2022936">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2022939">Format</span><span class="op" id="2022945">(</span><span class="ident" id="2022946">f</span>&nbsp;<span class="ident" id="2022948">State</span><span class="op" id="2022953">,</span>&nbsp;<span class="ident" id="2022955">c</span>&nbsp;<span class="builtintype" id="2022957">rune</span><span class="op" id="2022961">)</span><br>
<span class="lineno"></span><span class="op" id="2022963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2022966">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2023032">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2023087">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2023153">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2023221">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2023239">type</span>&nbsp;<span class="ident" id="2023244">Stringer</span>&nbsp;<span class="keyword" id="2023253">interface</span>&nbsp;<span class="op" id="2023263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2023266">String</span><span class="op" id="2023272">(</span><span class="op" id="2023273">)</span>&nbsp;<span class="builtintype" id="2023275">string</span><br>
<span class="lineno">65</span><span class="op" id="2023282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2023285">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2023355">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2023402">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2023470">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2023490">type</span>&nbsp;<span class="ident" id="2023495">GoStringer</span>&nbsp;<span class="keyword" id="2023506">interface</span>&nbsp;<span class="op" id="2023516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2023519">GoString</span><span class="op" id="2023527">(</span><span class="op" id="2023528">)</span>&nbsp;<span class="builtintype" id="2023530">string</span><br>
<span class="lineno"></span><span class="op" id="2023537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2023540">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2023612">type</span>&nbsp;<span class="ident" id="2023617">buffer</span>&nbsp;<span class="op" id="2023624">[</span><span class="op" id="2023625">]</span><span class="builtintype" id="2023626">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2023632">func</span>&nbsp;<span class="op" id="2023637">(</span><span class="ident" id="2023638">b</span>&nbsp;<span class="op" id="2023640">*</span><span class="ident" id="2023641">buffer</span><span class="op" id="2023647">)</span>&nbsp;<span class="ident" id="2023649">Write</span><span class="op" id="2023654">(</span><span class="ident" id="2023655">p</span>&nbsp;<span class="op" id="2023657">[</span><span class="op" id="2023658">]</span><span class="builtintype" id="2023659">byte</span><span class="op" id="2023663">)</span>&nbsp;<span class="op" id="2023665">(</span><span class="ident" id="2023666">n</span>&nbsp;<span class="builtintype" id="2023668">int</span><span class="op" id="2023671">,</span>&nbsp;<span class="ident" id="2023673">err</span>&nbsp;<span class="builtintype" id="2023677">error</span><span class="op" id="2023682">)</span>&nbsp;<span class="op" id="2023684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2023687">*</span><span class="ident" id="2023688">b</span>&nbsp;<span class="op" id="2023690">=</span>&nbsp;<span class="builtinfunc" id="2023692">append</span><span class="op" id="2023698">(</span><span class="op" id="2023699">*</span><span class="ident" id="2023700">b</span><span class="op" id="2023701">,</span>&nbsp;<span class="ident" id="2023703">p</span><span class="op" id="2023704">...</span><span class="op" id="2023707">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2023710">return</span>&nbsp;<span class="builtinfunc" id="2023717">len</span><span class="op" id="2023720">(</span><span class="ident" id="2023721">p</span><span class="op" id="2023722">)</span><span class="op" id="2023723">,</span>&nbsp;<span class="ident" id="2023725">nil</span><br>
<span class="lineno"></span><span class="op" id="2023729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2023732">func</span>&nbsp;<span class="op" id="2023737">(</span><span class="ident" id="2023738">b</span>&nbsp;<span class="op" id="2023740">*</span><span class="ident" id="2023741">buffer</span><span class="op" id="2023747">)</span>&nbsp;<span class="ident" id="2023749">WriteString</span><span class="op" id="2023760">(</span><span class="ident" id="2023761">s</span>&nbsp;<span class="builtintype" id="2023763">string</span><span class="op" id="2023769">)</span>&nbsp;<span class="op" id="2023771">(</span><span class="ident" id="2023772">n</span>&nbsp;<span class="builtintype" id="2023774">int</span><span class="op" id="2023777">,</span>&nbsp;<span class="ident" id="2023779">err</span>&nbsp;<span class="builtintype" id="2023783">error</span><span class="op" id="2023788">)</span>&nbsp;<span class="op" id="2023790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2023793">*</span><span class="ident" id="2023794">b</span>&nbsp;<span class="op" id="2023796">=</span>&nbsp;<span class="builtinfunc" id="2023798">append</span><span class="op" id="2023804">(</span><span class="op" id="2023805">*</span><span class="ident" id="2023806">b</span><span class="op" id="2023807">,</span>&nbsp;<span class="ident" id="2023809">s</span><span class="op" id="2023810">...</span><span class="op" id="2023813">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2023816">return</span>&nbsp;<span class="builtinfunc" id="2023823">len</span><span class="op" id="2023826">(</span><span class="ident" id="2023827">s</span><span class="op" id="2023828">)</span><span class="op" id="2023829">,</span>&nbsp;<span class="ident" id="2023831">nil</span><br>
<span class="lineno"></span><span class="op" id="2023835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2023838">func</span>&nbsp;<span class="op" id="2023843">(</span><span class="ident" id="2023844">b</span>&nbsp;<span class="op" id="2023846">*</span><span class="ident" id="2023847">buffer</span><span class="op" id="2023853">)</span>&nbsp;<span class="ident" id="2023855">WriteByte</span><span class="op" id="2023864">(</span><span class="ident" id="2023865">c</span>&nbsp;<span class="builtintype" id="2023867">byte</span><span class="op" id="2023871">)</span>&nbsp;<span class="builtintype" id="2023873">error</span>&nbsp;<span class="op" id="2023879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2023882">*</span><span class="ident" id="2023883">b</span>&nbsp;<span class="op" id="2023885">=</span>&nbsp;<span class="builtinfunc" id="2023887">append</span><span class="op" id="2023893">(</span><span class="op" id="2023894">*</span><span class="ident" id="2023895">b</span><span class="op" id="2023896">,</span>&nbsp;<span class="ident" id="2023898">c</span><span class="op" id="2023899">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2023902">return</span>&nbsp;<span class="ident" id="2023909">nil</span><br>
<span class="lineno"></span><span class="op" id="2023913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2023916">func</span>&nbsp;<span class="op" id="2023921">(</span><span class="ident" id="2023922">bp</span>&nbsp;<span class="op" id="2023925">*</span><span class="ident" id="2023926">buffer</span><span class="op" id="2023932">)</span>&nbsp;<span class="ident" id="2023934">WriteRune</span><span class="op" id="2023943">(</span><span class="ident" id="2023944">r</span>&nbsp;<span class="builtintype" id="2023946">rune</span><span class="op" id="2023950">)</span>&nbsp;<span class="builtintype" id="2023952">error</span>&nbsp;<span class="op" id="2023958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2023961">if</span>&nbsp;<span class="ident" id="2023964">r</span>&nbsp;<span class="op" id="2023966">&lt;</span>&nbsp;<span class="ident" id="2023968">utf8</span><span class="op" id="2023972">.</span><span class="ident" id="2023973">RuneSelf</span>&nbsp;<span class="op" id="2023982">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2023986">*</span><span class="ident" id="2023987">bp</span>&nbsp;<span class="op" id="2023990">=</span>&nbsp;<span class="builtinfunc" id="2023992">append</span><span class="op" id="2023998">(</span><span class="op" id="2023999">*</span><span class="ident" id="2024000">bp</span><span class="op" id="2024002">,</span>&nbsp;<span class="builtintype" id="2024004">byte</span><span class="op" id="2024008">(</span><span class="ident" id="2024009">r</span><span class="op" id="2024010">)</span><span class="op" id="2024011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2024015">return</span>&nbsp;<span class="ident" id="2024022">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2024027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024031">b</span>&nbsp;<span class="op" id="2024033">:=</span>&nbsp;<span class="op" id="2024036">*</span><span class="ident" id="2024037">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024041">n</span>&nbsp;<span class="op" id="2024043">:=</span>&nbsp;<span class="builtinfunc" id="2024046">len</span><span class="op" id="2024049">(</span><span class="ident" id="2024050">b</span><span class="op" id="2024051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2024054">for</span>&nbsp;<span class="ident" id="2024058">n</span><span class="op" id="2024059">+</span><span class="ident" id="2024060">utf8</span><span class="op" id="2024064">.</span><span class="ident" id="2024065">UTFMax</span>&nbsp;<span class="op" id="2024072">&gt;</span>&nbsp;<span class="builtinfunc" id="2024074">cap</span><span class="op" id="2024077">(</span><span class="ident" id="2024078">b</span><span class="op" id="2024079">)</span>&nbsp;<span class="op" id="2024081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024085">b</span>&nbsp;<span class="op" id="2024087">=</span>&nbsp;<span class="builtinfunc" id="2024089">append</span><span class="op" id="2024095">(</span><span class="ident" id="2024096">b</span><span class="op" id="2024097">,</span>&nbsp;<span class="num" id="2024099">0</span><span class="op" id="2024100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2024103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024106">w</span>&nbsp;<span class="op" id="2024108">:=</span>&nbsp;<span class="ident" id="2024111">utf8</span><span class="op" id="2024115">.</span><span class="ident" id="2024116">EncodeRune</span><span class="op" id="2024126">(</span><span class="ident" id="2024127">b</span><span class="op" id="2024128">[</span><span class="ident" id="2024129">n</span><span class="op" id="2024130">:</span><span class="ident" id="2024131">n</span><span class="op" id="2024132">+</span><span class="ident" id="2024133">utf8</span><span class="op" id="2024137">.</span><span class="ident" id="2024138">UTFMax</span><span class="op" id="2024144">]</span><span class="op" id="2024145">,</span>&nbsp;<span class="ident" id="2024147">r</span><span class="op" id="2024148">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2024151">*</span><span class="ident" id="2024152">bp</span>&nbsp;<span class="op" id="2024155">=</span>&nbsp;<span class="ident" id="2024157">b</span><span class="op" id="2024158">[</span><span class="op" id="2024159">:</span><span class="ident" id="2024160">n</span><span class="op" id="2024161">+</span><span class="ident" id="2024162">w</span><span class="op" id="2024163">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2024166">return</span>&nbsp;<span class="ident" id="2024173">nil</span><br>
<span class="lineno"></span><span class="op" id="2024177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2024180">type</span>&nbsp;<span class="ident" id="2024185">pp</span>&nbsp;<span class="keyword" id="2024188">struct</span>&nbsp;<span class="op" id="2024195">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024198">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2024208">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024213">panicking</span>&nbsp;<span class="builtintype" id="2024223">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024229">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2024239">bool</span>&nbsp;<span class="comment" id="2024244">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024276">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2024286">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2024294">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024345">arg</span>&nbsp;<span class="keyword" id="2024349">interface</span><span class="op" id="2024358">{</span><span class="op" id="2024359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2024362">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2024428">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024483">value</span>&nbsp;<span class="ident" id="2024489">reflect</span><span class="op" id="2024496">.</span><span class="ident" id="2024497">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2024504">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024578">reordered</span>&nbsp;<span class="builtintype" id="2024588">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2024594">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024673">goodArgNum</span>&nbsp;<span class="builtintype" id="2024684">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024690">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2024701">[</span><span class="ident" id="2024702">utf8</span><span class="op" id="2024706">.</span><span class="ident" id="2024707">UTFMax</span><span class="op" id="2024713">]</span><span class="builtintype" id="2024714">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024720">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2024731">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2024735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2024738">var</span>&nbsp;<span class="ident" id="2024742">ppFree</span>&nbsp;<span class="op" id="2024749">=</span>&nbsp;<span class="ident" id="2024751">sync</span><span class="op" id="2024755">.</span><span class="ident" id="2024756">Pool</span><span class="op" id="2024760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024763">New</span><span class="op" id="2024766">:</span>&nbsp;<span class="keyword" id="2024768">func</span><span class="op" id="2024772">(</span><span class="op" id="2024773">)</span>&nbsp;<span class="keyword" id="2024775">interface</span><span class="op" id="2024784">{</span><span class="op" id="2024785">}</span>&nbsp;<span class="op" id="2024787">{</span>&nbsp;<span class="keyword" id="2024789">return</span>&nbsp;<span class="builtinfunc" id="2024796">new</span><span class="op" id="2024799">(</span><span class="ident" id="2024800">pp</span><span class="op" id="2024802">)</span>&nbsp;<span class="op" id="2024804">}</span><span class="op" id="2024805">,</span><br>
<span class="lineno"></span><span class="op" id="2024807">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2024810">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2024873">func</span>&nbsp;<span class="ident" id="2024878">newPrinter</span><span class="op" id="2024888">(</span><span class="op" id="2024889">)</span>&nbsp;<span class="op" id="2024891">*</span><span class="ident" id="2024892">pp</span>&nbsp;<span class="op" id="2024895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024898">p</span>&nbsp;<span class="op" id="2024900">:=</span>&nbsp;<span class="ident" id="2024903">ppFree</span><span class="op" id="2024909">.</span><span class="ident" id="2024910">Get</span><span class="op" id="2024913">(</span><span class="op" id="2024914">)</span><span class="op" id="2024915">.</span><span class="op" id="2024916">(</span><span class="op" id="2024917">*</span><span class="ident" id="2024918">pp</span><span class="op" id="2024920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024923">p</span><span class="op" id="2024924">.</span><span class="ident" id="2024925">panicking</span>&nbsp;<span class="op" id="2024935">=</span>&nbsp;<span class="builtintype" id="2024937">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024944">p</span><span class="op" id="2024945">.</span><span class="ident" id="2024946">erroring</span>&nbsp;<span class="op" id="2024955">=</span>&nbsp;<span class="builtintype" id="2024957">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2024964">p</span><span class="op" id="2024965">.</span><span class="ident" id="2024966">fmt</span><span class="op" id="2024969">.</span><span class="ident" id="2024970">init</span><span class="op" id="2024974">(</span><span class="op" id="2024975">&amp;</span><span class="ident" id="2024976">p</span><span class="op" id="2024977">.</span><span class="ident" id="2024978">buf</span><span class="op" id="2024981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2024984">return</span>&nbsp;<span class="ident" id="2024991">p</span><br>
<span class="lineno"></span><span class="op" id="2024993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2024996">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2025074">func</span>&nbsp;<span class="op" id="2025079">(</span><span class="ident" id="2025080">p</span>&nbsp;<span class="op" id="2025082">*</span><span class="ident" id="2025083">pp</span><span class="op" id="2025085">)</span>&nbsp;<span class="ident" id="2025087">free</span><span class="op" id="2025091">(</span><span class="op" id="2025092">)</span>&nbsp;<span class="op" id="2025094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2025097">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025149">if</span>&nbsp;<span class="builtinfunc" id="2025152">cap</span><span class="op" id="2025155">(</span><span class="ident" id="2025156">p</span><span class="op" id="2025157">.</span><span class="ident" id="2025158">buf</span><span class="op" id="2025161">)</span>&nbsp;<span class="op" id="2025163">&gt;</span>&nbsp;<span class="num" id="2025165">1024</span>&nbsp;<span class="op" id="2025170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025174">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2025182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2025185">p</span><span class="op" id="2025186">.</span><span class="ident" id="2025187">buf</span>&nbsp;<span class="op" id="2025191">=</span>&nbsp;<span class="ident" id="2025193">p</span><span class="op" id="2025194">.</span><span class="ident" id="2025195">buf</span><span class="op" id="2025198">[</span><span class="op" id="2025199">:</span><span class="num" id="2025200">0</span><span class="op" id="2025201">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2025204">p</span><span class="op" id="2025205">.</span><span class="ident" id="2025206">arg</span>&nbsp;<span class="op" id="2025210">=</span>&nbsp;<span class="ident" id="2025212">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2025217">p</span><span class="op" id="2025218">.</span><span class="ident" id="2025219">value</span>&nbsp;<span class="op" id="2025225">=</span>&nbsp;<span class="ident" id="2025227">reflect</span><span class="op" id="2025234">.</span><span class="ident" id="2025235">Value</span><span class="op" id="2025240">{</span><span class="op" id="2025241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2025244">ppFree</span><span class="op" id="2025250">.</span><span class="ident" id="2025251">Put</span><span class="op" id="2025254">(</span><span class="ident" id="2025255">p</span><span class="op" id="2025256">)</span><br>
<span class="lineno">150</span><span class="op" id="2025258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2025261">func</span>&nbsp;<span class="op" id="2025266">(</span><span class="ident" id="2025267">p</span>&nbsp;<span class="op" id="2025269">*</span><span class="ident" id="2025270">pp</span><span class="op" id="2025272">)</span>&nbsp;<span class="ident" id="2025274">Width</span><span class="op" id="2025279">(</span><span class="op" id="2025280">)</span>&nbsp;<span class="op" id="2025282">(</span><span class="ident" id="2025283">wid</span>&nbsp;<span class="builtintype" id="2025287">int</span><span class="op" id="2025290">,</span>&nbsp;<span class="ident" id="2025292">ok</span>&nbsp;<span class="builtintype" id="2025295">bool</span><span class="op" id="2025299">)</span>&nbsp;<span class="op" id="2025301">{</span>&nbsp;<span class="keyword" id="2025303">return</span>&nbsp;<span class="ident" id="2025310">p</span><span class="op" id="2025311">.</span><span class="ident" id="2025312">fmt</span><span class="op" id="2025315">.</span><span class="ident" id="2025316">wid</span><span class="op" id="2025319">,</span>&nbsp;<span class="ident" id="2025321">p</span><span class="op" id="2025322">.</span><span class="ident" id="2025323">fmt</span><span class="op" id="2025326">.</span><span class="ident" id="2025327">widPresent</span>&nbsp;<span class="op" id="2025338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2025341">func</span>&nbsp;<span class="op" id="2025346">(</span><span class="ident" id="2025347">p</span>&nbsp;<span class="op" id="2025349">*</span><span class="ident" id="2025350">pp</span><span class="op" id="2025352">)</span>&nbsp;<span class="ident" id="2025354">Precision</span><span class="op" id="2025363">(</span><span class="op" id="2025364">)</span>&nbsp;<span class="op" id="2025366">(</span><span class="ident" id="2025367">prec</span>&nbsp;<span class="builtintype" id="2025372">int</span><span class="op" id="2025375">,</span>&nbsp;<span class="ident" id="2025377">ok</span>&nbsp;<span class="builtintype" id="2025380">bool</span><span class="op" id="2025384">)</span>&nbsp;<span class="op" id="2025386">{</span>&nbsp;<span class="keyword" id="2025388">return</span>&nbsp;<span class="ident" id="2025395">p</span><span class="op" id="2025396">.</span><span class="ident" id="2025397">fmt</span><span class="op" id="2025400">.</span><span class="ident" id="2025401">prec</span><span class="op" id="2025405">,</span>&nbsp;<span class="ident" id="2025407">p</span><span class="op" id="2025408">.</span><span class="ident" id="2025409">fmt</span><span class="op" id="2025412">.</span><span class="ident" id="2025413">precPresent</span>&nbsp;<span class="op" id="2025425">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2025428">func</span>&nbsp;<span class="op" id="2025433">(</span><span class="ident" id="2025434">p</span>&nbsp;<span class="op" id="2025436">*</span><span class="ident" id="2025437">pp</span><span class="op" id="2025439">)</span>&nbsp;<span class="ident" id="2025441">Flag</span><span class="op" id="2025445">(</span><span class="ident" id="2025446">b</span>&nbsp;<span class="builtintype" id="2025448">int</span><span class="op" id="2025451">)</span>&nbsp;<span class="builtintype" id="2025453">bool</span>&nbsp;<span class="op" id="2025458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025461">switch</span>&nbsp;<span class="ident" id="2025468">b</span>&nbsp;<span class="op" id="2025470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025473">case</span>&nbsp;<span class="string" id="2025478">&#39;-&#39;</span><span class="op" id="2025481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025485">return</span>&nbsp;<span class="ident" id="2025492">p</span><span class="op" id="2025493">.</span><span class="ident" id="2025494">fmt</span><span class="op" id="2025497">.</span><span class="ident" id="2025498">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025505">case</span>&nbsp;<span class="string" id="2025510">&#39;+&#39;</span><span class="op" id="2025513">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025517">return</span>&nbsp;<span class="ident" id="2025524">p</span><span class="op" id="2025525">.</span><span class="ident" id="2025526">fmt</span><span class="op" id="2025529">.</span><span class="ident" id="2025530">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025536">case</span>&nbsp;<span class="string" id="2025541">&#39;#&#39;</span><span class="op" id="2025544">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025548">return</span>&nbsp;<span class="ident" id="2025555">p</span><span class="op" id="2025556">.</span><span class="ident" id="2025557">fmt</span><span class="op" id="2025560">.</span><span class="ident" id="2025561">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025568">case</span>&nbsp;<span class="string" id="2025573">&#39;&nbsp;&#39;</span><span class="op" id="2025576">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025580">return</span>&nbsp;<span class="ident" id="2025587">p</span><span class="op" id="2025588">.</span><span class="ident" id="2025589">fmt</span><span class="op" id="2025592">.</span><span class="ident" id="2025593">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025600">case</span>&nbsp;<span class="string" id="2025605">&#39;0&#39;</span><span class="op" id="2025608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025612">return</span>&nbsp;<span class="ident" id="2025619">p</span><span class="op" id="2025620">.</span><span class="ident" id="2025621">fmt</span><span class="op" id="2025624">.</span><span class="ident" id="2025625">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2025631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025634">return</span>&nbsp;<span class="builtintype" id="2025641">false</span><br>
<span class="lineno">170</span><span class="op" id="2025647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2025650">func</span>&nbsp;<span class="op" id="2025655">(</span><span class="ident" id="2025656">p</span>&nbsp;<span class="op" id="2025658">*</span><span class="ident" id="2025659">pp</span><span class="op" id="2025661">)</span>&nbsp;<span class="ident" id="2025663">add</span><span class="op" id="2025666">(</span><span class="ident" id="2025667">c</span>&nbsp;<span class="builtintype" id="2025669">rune</span><span class="op" id="2025673">)</span>&nbsp;<span class="op" id="2025675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2025678">p</span><span class="op" id="2025679">.</span><span class="ident" id="2025680">buf</span><span class="op" id="2025683">.</span><span class="ident" id="2025684">WriteRune</span><span class="op" id="2025693">(</span><span class="ident" id="2025694">c</span><span class="op" id="2025695">)</span><br>
<span class="lineno"></span><span class="op" id="2025697">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2025700">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2025771">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2025805">func</span>&nbsp;<span class="op" id="2025810">(</span><span class="ident" id="2025811">p</span>&nbsp;<span class="op" id="2025813">*</span><span class="ident" id="2025814">pp</span><span class="op" id="2025816">)</span>&nbsp;<span class="ident" id="2025818">Write</span><span class="op" id="2025823">(</span><span class="ident" id="2025824">b</span>&nbsp;<span class="op" id="2025826">[</span><span class="op" id="2025827">]</span><span class="builtintype" id="2025828">byte</span><span class="op" id="2025832">)</span>&nbsp;<span class="op" id="2025834">(</span><span class="ident" id="2025835">ret</span>&nbsp;<span class="builtintype" id="2025839">int</span><span class="op" id="2025842">,</span>&nbsp;<span class="ident" id="2025844">err</span>&nbsp;<span class="builtintype" id="2025848">error</span><span class="op" id="2025853">)</span>&nbsp;<span class="op" id="2025855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2025858">return</span>&nbsp;<span class="ident" id="2025865">p</span><span class="op" id="2025866">.</span><span class="ident" id="2025867">buf</span><span class="op" id="2025870">.</span><span class="ident" id="2025871">Write</span><span class="op" id="2025876">(</span><span class="ident" id="2025877">b</span><span class="op" id="2025878">)</span><br>
<span class="lineno">180</span><span class="op" id="2025880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2025883">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2025939">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2026007">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2026082">func</span>&nbsp;<span class="ident" id="2026087">Fprintf</span><span class="op" id="2026094">(</span><span class="ident" id="2026095">w</span>&nbsp;<span class="ident" id="2026097">io</span><span class="op" id="2026099">.</span><span class="ident" id="2026100">Writer</span><span class="op" id="2026106">,</span>&nbsp;<span class="ident" id="2026108">format</span>&nbsp;<span class="builtintype" id="2026115">string</span><span class="op" id="2026121">,</span>&nbsp;<span class="ident" id="2026123">a</span>&nbsp;<span class="op" id="2026125">...</span><span class="keyword" id="2026128">interface</span><span class="op" id="2026137">{</span><span class="op" id="2026138">}</span><span class="op" id="2026139">)</span>&nbsp;<span class="op" id="2026141">(</span><span class="ident" id="2026142">n</span>&nbsp;<span class="builtintype" id="2026144">int</span><span class="op" id="2026147">,</span>&nbsp;<span class="ident" id="2026149">err</span>&nbsp;<span class="builtintype" id="2026153">error</span><span class="op" id="2026158">)</span>&nbsp;<span class="op" id="2026160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2026163">p</span>&nbsp;<span class="op" id="2026165">:=</span>&nbsp;<span class="ident" id="2026168">newPrinter</span><span class="op" id="2026178">(</span><span class="op" id="2026179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2026182">p</span><span class="op" id="2026183">.</span><span class="ident" id="2026184">doPrintf</span><span class="op" id="2026192">(</span><span class="ident" id="2026193">format</span><span class="op" id="2026199">,</span>&nbsp;<span class="ident" id="2026201">a</span><span class="op" id="2026202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2026205">n</span><span class="op" id="2026206">,</span>&nbsp;<span class="ident" id="2026208">err</span>&nbsp;<span class="op" id="2026212">=</span>&nbsp;<span class="ident" id="2026214">w</span><span class="op" id="2026215">.</span><span class="ident" id="2026216">Write</span><span class="op" id="2026221">(</span><span class="ident" id="2026222">p</span><span class="op" id="2026223">.</span><span class="ident" id="2026224">buf</span><span class="op" id="2026227">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2026230">p</span><span class="op" id="2026231">.</span><span class="ident" id="2026232">free</span><span class="op" id="2026236">(</span><span class="op" id="2026237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2026240">return</span><br>
<span class="lineno"></span><span class="op" id="2026247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2026250">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2026331">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2026406">func</span>&nbsp;<span class="ident" id="2026411">Printf</span><span class="op" id="2026417">(</span><span class="ident" id="2026418">format</span>&nbsp;<span class="builtintype" id="2026425">string</span><span class="op" id="2026431">,</span>&nbsp;<span class="ident" id="2026433">a</span>&nbsp;<span class="op" id="2026435">...</span><span class="keyword" id="2026438">interface</span><span class="op" id="2026447">{</span><span class="op" id="2026448">}</span><span class="op" id="2026449">)</span>&nbsp;<span class="op" id="2026451">(</span><span class="ident" id="2026452">n</span>&nbsp;<span class="builtintype" id="2026454">int</span><span class="op" id="2026457">,</span>&nbsp;<span class="ident" id="2026459">err</span>&nbsp;<span class="builtintype" id="2026463">error</span><span class="op" id="2026468">)</span>&nbsp;<span class="op" id="2026470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2026473">return</span>&nbsp;<span class="ident" id="2026480">Fprintf</span><span class="op" id="2026487">(</span><span class="ident" id="2026488">os</span><span class="op" id="2026490">.</span><span class="ident" id="2026491">Stdout</span><span class="op" id="2026497">,</span>&nbsp;<span class="ident" id="2026499">format</span><span class="op" id="2026505">,</span>&nbsp;<span class="ident" id="2026507">a</span><span class="op" id="2026508">...</span><span class="op" id="2026511">)</span><br>
<span class="lineno"></span><span class="op" id="2026513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2026516">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2026601">func</span>&nbsp;<span class="ident" id="2026606">Sprintf</span><span class="op" id="2026613">(</span><span class="ident" id="2026614">format</span>&nbsp;<span class="builtintype" id="2026621">string</span><span class="op" id="2026627">,</span>&nbsp;<span class="ident" id="2026629">a</span>&nbsp;<span class="op" id="2026631">...</span><span class="keyword" id="2026634">interface</span><span class="op" id="2026643">{</span><span class="op" id="2026644">}</span><span class="op" id="2026645">)</span>&nbsp;<span class="builtintype" id="2026647">string</span>&nbsp;<span class="op" id="2026654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2026657">p</span>&nbsp;<span class="op" id="2026659">:=</span>&nbsp;<span class="ident" id="2026662">newPrinter</span><span class="op" id="2026672">(</span><span class="op" id="2026673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2026676">p</span><span class="op" id="2026677">.</span><span class="ident" id="2026678">doPrintf</span><span class="op" id="2026686">(</span><span class="ident" id="2026687">format</span><span class="op" id="2026693">,</span>&nbsp;<span class="ident" id="2026695">a</span><span class="op" id="2026696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2026699">s</span>&nbsp;<span class="op" id="2026701">:=</span>&nbsp;<span class="builtintype" id="2026704">string</span><span class="op" id="2026710">(</span><span class="ident" id="2026711">p</span><span class="op" id="2026712">.</span><span class="ident" id="2026713">buf</span><span class="op" id="2026716">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2026719">p</span><span class="op" id="2026720">.</span><span class="ident" id="2026721">free</span><span class="op" id="2026725">(</span><span class="op" id="2026726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2026729">return</span>&nbsp;<span class="ident" id="2026736">s</span><br>
<span class="lineno"></span><span class="op" id="2026738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2026741">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2026814">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2026850">func</span>&nbsp;<span class="ident" id="2026855">Errorf</span><span class="op" id="2026861">(</span><span class="ident" id="2026862">format</span>&nbsp;<span class="builtintype" id="2026869">string</span><span class="op" id="2026875">,</span>&nbsp;<span class="ident" id="2026877">a</span>&nbsp;<span class="op" id="2026879">...</span><span class="keyword" id="2026882">interface</span><span class="op" id="2026891">{</span><span class="op" id="2026892">}</span><span class="op" id="2026893">)</span>&nbsp;<span class="builtintype" id="2026895">error</span>&nbsp;<span class="op" id="2026901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2026904">return</span>&nbsp;<span class="ident" id="2026911">errors</span><span class="op" id="2026917">.</span><span class="ident" id="2026918">New</span><span class="op" id="2026921">(</span><span class="ident" id="2026922">Sprintf</span><span class="op" id="2026929">(</span><span class="ident" id="2026930">format</span><span class="op" id="2026936">,</span>&nbsp;<span class="ident" id="2026938">a</span><span class="op" id="2026939">...</span><span class="op" id="2026942">)</span><span class="op" id="2026943">)</span><br>
<span class="lineno"></span><span class="op" id="2026945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2026948">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2026995">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2027073">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2027136">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2027211">func</span>&nbsp;<span class="ident" id="2027216">Fprint</span><span class="op" id="2027222">(</span><span class="ident" id="2027223">w</span>&nbsp;<span class="ident" id="2027225">io</span><span class="op" id="2027227">.</span><span class="ident" id="2027228">Writer</span><span class="op" id="2027234">,</span>&nbsp;<span class="ident" id="2027236">a</span>&nbsp;<span class="op" id="2027238">...</span><span class="keyword" id="2027241">interface</span><span class="op" id="2027250">{</span><span class="op" id="2027251">}</span><span class="op" id="2027252">)</span>&nbsp;<span class="op" id="2027254">(</span><span class="ident" id="2027255">n</span>&nbsp;<span class="builtintype" id="2027257">int</span><span class="op" id="2027260">,</span>&nbsp;<span class="ident" id="2027262">err</span>&nbsp;<span class="builtintype" id="2027266">error</span><span class="op" id="2027271">)</span>&nbsp;<span class="op" id="2027273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2027276">p</span>&nbsp;<span class="op" id="2027278">:=</span>&nbsp;<span class="ident" id="2027281">newPrinter</span><span class="op" id="2027291">(</span><span class="op" id="2027292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2027295">p</span><span class="op" id="2027296">.</span><span class="ident" id="2027297">doPrint</span><span class="op" id="2027304">(</span><span class="ident" id="2027305">a</span><span class="op" id="2027306">,</span>&nbsp;<span class="builtintype" id="2027308">false</span><span class="op" id="2027313">,</span>&nbsp;<span class="builtintype" id="2027315">false</span><span class="op" id="2027320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2027323">n</span><span class="op" id="2027324">,</span>&nbsp;<span class="ident" id="2027326">err</span>&nbsp;<span class="op" id="2027330">=</span>&nbsp;<span class="ident" id="2027332">w</span><span class="op" id="2027333">.</span><span class="ident" id="2027334">Write</span><span class="op" id="2027339">(</span><span class="ident" id="2027340">p</span><span class="op" id="2027341">.</span><span class="ident" id="2027342">buf</span><span class="op" id="2027345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2027348">p</span><span class="op" id="2027349">.</span><span class="ident" id="2027350">free</span><span class="op" id="2027354">(</span><span class="op" id="2027355">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2027358">return</span><br>
<span class="lineno"></span><span class="op" id="2027365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2027368">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2027459">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2027522">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2027597">func</span>&nbsp;<span class="ident" id="2027602">Print</span><span class="op" id="2027607">(</span><span class="ident" id="2027608">a</span>&nbsp;<span class="op" id="2027610">...</span><span class="keyword" id="2027613">interface</span><span class="op" id="2027622">{</span><span class="op" id="2027623">}</span><span class="op" id="2027624">)</span>&nbsp;<span class="op" id="2027626">(</span><span class="ident" id="2027627">n</span>&nbsp;<span class="builtintype" id="2027629">int</span><span class="op" id="2027632">,</span>&nbsp;<span class="ident" id="2027634">err</span>&nbsp;<span class="builtintype" id="2027638">error</span><span class="op" id="2027643">)</span>&nbsp;<span class="op" id="2027645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2027648">return</span>&nbsp;<span class="ident" id="2027655">Fprint</span><span class="op" id="2027661">(</span><span class="ident" id="2027662">os</span><span class="op" id="2027664">.</span><span class="ident" id="2027665">Stdout</span><span class="op" id="2027671">,</span>&nbsp;<span class="ident" id="2027673">a</span><span class="op" id="2027674">...</span><span class="op" id="2027677">)</span><br>
<span class="lineno"></span><span class="op" id="2027679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2027682">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2027777">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2027840">func</span>&nbsp;<span class="ident" id="2027845">Sprint</span><span class="op" id="2027851">(</span><span class="ident" id="2027852">a</span>&nbsp;<span class="op" id="2027854">...</span><span class="keyword" id="2027857">interface</span><span class="op" id="2027866">{</span><span class="op" id="2027867">}</span><span class="op" id="2027868">)</span>&nbsp;<span class="builtintype" id="2027870">string</span>&nbsp;<span class="op" id="2027877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2027880">p</span>&nbsp;<span class="op" id="2027882">:=</span>&nbsp;<span class="ident" id="2027885">newPrinter</span><span class="op" id="2027895">(</span><span class="op" id="2027896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2027899">p</span><span class="op" id="2027900">.</span><span class="ident" id="2027901">doPrint</span><span class="op" id="2027908">(</span><span class="ident" id="2027909">a</span><span class="op" id="2027910">,</span>&nbsp;<span class="builtintype" id="2027912">false</span><span class="op" id="2027917">,</span>&nbsp;<span class="builtintype" id="2027919">false</span><span class="op" id="2027924">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2027927">s</span>&nbsp;<span class="op" id="2027929">:=</span>&nbsp;<span class="builtintype" id="2027932">string</span><span class="op" id="2027938">(</span><span class="ident" id="2027939">p</span><span class="op" id="2027940">.</span><span class="ident" id="2027941">buf</span><span class="op" id="2027944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2027947">p</span><span class="op" id="2027948">.</span><span class="ident" id="2027949">free</span><span class="op" id="2027953">(</span><span class="op" id="2027954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2027957">return</span>&nbsp;<span class="ident" id="2027964">s</span><br>
<span class="lineno"></span><span class="op" id="2027966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2027969">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2028029">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2028086">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2028114">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2028194">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2028265">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2028340">func</span>&nbsp;<span class="ident" id="2028345">Fprintln</span><span class="op" id="2028353">(</span><span class="ident" id="2028354">w</span>&nbsp;<span class="ident" id="2028356">io</span><span class="op" id="2028358">.</span><span class="ident" id="2028359">Writer</span><span class="op" id="2028365">,</span>&nbsp;<span class="ident" id="2028367">a</span>&nbsp;<span class="op" id="2028369">...</span><span class="keyword" id="2028372">interface</span><span class="op" id="2028381">{</span><span class="op" id="2028382">}</span><span class="op" id="2028383">)</span>&nbsp;<span class="op" id="2028385">(</span><span class="ident" id="2028386">n</span>&nbsp;<span class="builtintype" id="2028388">int</span><span class="op" id="2028391">,</span>&nbsp;<span class="ident" id="2028393">err</span>&nbsp;<span class="builtintype" id="2028397">error</span><span class="op" id="2028402">)</span>&nbsp;<span class="op" id="2028404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028407">p</span>&nbsp;<span class="op" id="2028409">:=</span>&nbsp;<span class="ident" id="2028412">newPrinter</span><span class="op" id="2028422">(</span><span class="op" id="2028423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028426">p</span><span class="op" id="2028427">.</span><span class="ident" id="2028428">doPrint</span><span class="op" id="2028435">(</span><span class="ident" id="2028436">a</span><span class="op" id="2028437">,</span>&nbsp;<span class="builtintype" id="2028439">true</span><span class="op" id="2028443">,</span>&nbsp;<span class="builtintype" id="2028445">true</span><span class="op" id="2028449">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028452">n</span><span class="op" id="2028453">,</span>&nbsp;<span class="ident" id="2028455">err</span>&nbsp;<span class="op" id="2028459">=</span>&nbsp;<span class="ident" id="2028461">w</span><span class="op" id="2028462">.</span><span class="ident" id="2028463">Write</span><span class="op" id="2028468">(</span><span class="ident" id="2028469">p</span><span class="op" id="2028470">.</span><span class="ident" id="2028471">buf</span><span class="op" id="2028474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2028477">p</span><span class="op" id="2028478">.</span><span class="ident" id="2028479">free</span><span class="op" id="2028483">(</span><span class="op" id="2028484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2028487">return</span><br>
<span class="lineno"></span><span class="op" id="2028494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2028497">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2028590">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2028661">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2028736">func</span>&nbsp;<span class="ident" id="2028741">Println</span><span class="op" id="2028748">(</span><span class="ident" id="2028749">a</span>&nbsp;<span class="op" id="2028751">...</span><span class="keyword" id="2028754">interface</span><span class="op" id="2028763">{</span><span class="op" id="2028764">}</span><span class="op" id="2028765">)</span>&nbsp;<span class="op" id="2028767">(</span><span class="ident" id="2028768">n</span>&nbsp;<span class="builtintype" id="2028770">int</span><span class="op" id="2028773">,</span>&nbsp;<span class="ident" id="2028775">err</span>&nbsp;<span class="builtintype" id="2028779">error</span><span class="op" id="2028784">)</span>&nbsp;<span class="op" id="2028786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2028789">return</span>&nbsp;<span class="ident" id="2028796">Fprintln</span><span class="op" id="2028804">(</span><span class="ident" id="2028805">os</span><span class="op" id="2028807">.</span><span class="ident" id="2028808">Stdout</span><span class="op" id="2028814">,</span>&nbsp;<span class="ident" id="2028816">a</span><span class="op" id="2028817">...</span><span class="op" id="2028820">)</span><br>
<span class="lineno">265</span><span class="op" id="2028822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2028825">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2028922">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2028993">func</span>&nbsp;<span class="ident" id="2028998">Sprintln</span><span class="op" id="2029006">(</span><span class="ident" id="2029007">a</span>&nbsp;<span class="op" id="2029009">...</span><span class="keyword" id="2029012">interface</span><span class="op" id="2029021">{</span><span class="op" id="2029022">}</span><span class="op" id="2029023">)</span>&nbsp;<span class="builtintype" id="2029025">string</span>&nbsp;<span class="op" id="2029032">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029035">p</span>&nbsp;<span class="op" id="2029037">:=</span>&nbsp;<span class="ident" id="2029040">newPrinter</span><span class="op" id="2029050">(</span><span class="op" id="2029051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029054">p</span><span class="op" id="2029055">.</span><span class="ident" id="2029056">doPrint</span><span class="op" id="2029063">(</span><span class="ident" id="2029064">a</span><span class="op" id="2029065">,</span>&nbsp;<span class="builtintype" id="2029067">true</span><span class="op" id="2029071">,</span>&nbsp;<span class="builtintype" id="2029073">true</span><span class="op" id="2029077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029080">s</span>&nbsp;<span class="op" id="2029082">:=</span>&nbsp;<span class="builtintype" id="2029085">string</span><span class="op" id="2029091">(</span><span class="ident" id="2029092">p</span><span class="op" id="2029093">.</span><span class="ident" id="2029094">buf</span><span class="op" id="2029097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029100">p</span><span class="op" id="2029101">.</span><span class="ident" id="2029102">free</span><span class="op" id="2029106">(</span><span class="op" id="2029107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029110">return</span>&nbsp;<span class="ident" id="2029117">s</span><br>
<span class="lineno">275</span><span class="op" id="2029119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2029122">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2029175">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2029237">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2029298">func</span>&nbsp;<span class="ident" id="2029303">getField</span><span class="op" id="2029311">(</span><span class="ident" id="2029312">v</span>&nbsp;<span class="ident" id="2029314">reflect</span><span class="op" id="2029321">.</span><span class="ident" id="2029322">Value</span><span class="op" id="2029327">,</span>&nbsp;<span class="ident" id="2029329">i</span>&nbsp;<span class="builtintype" id="2029331">int</span><span class="op" id="2029334">)</span>&nbsp;<span class="ident" id="2029336">reflect</span><span class="op" id="2029343">.</span><span class="ident" id="2029344">Value</span>&nbsp;<span class="op" id="2029350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029353">val</span>&nbsp;<span class="op" id="2029357">:=</span>&nbsp;<span class="ident" id="2029360">v</span><span class="op" id="2029361">.</span><span class="ident" id="2029362">Field</span><span class="op" id="2029367">(</span><span class="ident" id="2029368">i</span><span class="op" id="2029369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029372">if</span>&nbsp;<span class="ident" id="2029375">val</span><span class="op" id="2029378">.</span><span class="ident" id="2029379">Kind</span><span class="op" id="2029383">(</span><span class="op" id="2029384">)</span>&nbsp;<span class="op" id="2029386">==</span>&nbsp;<span class="ident" id="2029389">reflect</span><span class="op" id="2029396">.</span><span class="ident" id="2029397">Interface</span>&nbsp;<span class="op" id="2029407">&amp;&amp;</span>&nbsp;<span class="op" id="2029410">!</span><span class="ident" id="2029411">val</span><span class="op" id="2029414">.</span><span class="ident" id="2029415">IsNil</span><span class="op" id="2029420">(</span><span class="op" id="2029421">)</span>&nbsp;<span class="op" id="2029423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029427">val</span>&nbsp;<span class="op" id="2029431">=</span>&nbsp;<span class="ident" id="2029433">val</span><span class="op" id="2029436">.</span><span class="ident" id="2029437">Elem</span><span class="op" id="2029441">(</span><span class="op" id="2029442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2029445">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029448">return</span>&nbsp;<span class="ident" id="2029455">val</span><br>
<span class="lineno"></span><span class="op" id="2029459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2029462">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2029554">func</span>&nbsp;<span class="ident" id="2029559">parsenum</span><span class="op" id="2029567">(</span><span class="ident" id="2029568">s</span>&nbsp;<span class="builtintype" id="2029570">string</span><span class="op" id="2029576">,</span>&nbsp;<span class="ident" id="2029578">start</span><span class="op" id="2029583">,</span>&nbsp;<span class="ident" id="2029585">end</span>&nbsp;<span class="builtintype" id="2029589">int</span><span class="op" id="2029592">)</span>&nbsp;<span class="op" id="2029594">(</span><span class="ident" id="2029595">num</span>&nbsp;<span class="builtintype" id="2029599">int</span><span class="op" id="2029602">,</span>&nbsp;<span class="ident" id="2029604">isnum</span>&nbsp;<span class="builtintype" id="2029610">bool</span><span class="op" id="2029614">,</span>&nbsp;<span class="ident" id="2029616">newi</span>&nbsp;<span class="builtintype" id="2029621">int</span><span class="op" id="2029624">)</span>&nbsp;<span class="op" id="2029626">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029629">if</span>&nbsp;<span class="ident" id="2029632">start</span>&nbsp;<span class="op" id="2029638">&gt;=</span>&nbsp;<span class="ident" id="2029641">end</span>&nbsp;<span class="op" id="2029645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029649">return</span>&nbsp;<span class="num" id="2029656">0</span><span class="op" id="2029657">,</span>&nbsp;<span class="builtintype" id="2029659">false</span><span class="op" id="2029664">,</span>&nbsp;<span class="ident" id="2029666">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2029671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029674">for</span>&nbsp;<span class="ident" id="2029678">newi</span>&nbsp;<span class="op" id="2029683">=</span>&nbsp;<span class="ident" id="2029685">start</span><span class="op" id="2029690">;</span>&nbsp;<span class="ident" id="2029692">newi</span>&nbsp;<span class="op" id="2029697">&lt;</span>&nbsp;<span class="ident" id="2029699">end</span>&nbsp;<span class="op" id="2029703">&amp;&amp;</span>&nbsp;<span class="string" id="2029706">&#39;0&#39;</span>&nbsp;<span class="op" id="2029710">&lt;=</span>&nbsp;<span class="ident" id="2029713">s</span><span class="op" id="2029714">[</span><span class="ident" id="2029715">newi</span><span class="op" id="2029719">]</span>&nbsp;<span class="op" id="2029721">&amp;&amp;</span>&nbsp;<span class="ident" id="2029724">s</span><span class="op" id="2029725">[</span><span class="ident" id="2029726">newi</span><span class="op" id="2029730">]</span>&nbsp;<span class="op" id="2029732">&lt;=</span>&nbsp;<span class="string" id="2029735">&#39;9&#39;</span><span class="op" id="2029738">;</span>&nbsp;<span class="ident" id="2029740">newi</span><span class="op" id="2029744">++</span>&nbsp;<span class="op" id="2029747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029751">num</span>&nbsp;<span class="op" id="2029755">=</span>&nbsp;<span class="ident" id="2029757">num</span><span class="op" id="2029760">*</span><span class="num" id="2029761">10</span>&nbsp;<span class="op" id="2029764">+</span>&nbsp;<span class="builtintype" id="2029766">int</span><span class="op" id="2029769">(</span><span class="ident" id="2029770">s</span><span class="op" id="2029771">[</span><span class="ident" id="2029772">newi</span><span class="op" id="2029776">]</span><span class="op" id="2029777">-</span><span class="string" id="2029778">&#39;0&#39;</span><span class="op" id="2029781">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029785">isnum</span>&nbsp;<span class="op" id="2029791">=</span>&nbsp;<span class="builtintype" id="2029793">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2029799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029802">return</span><br>
<span class="lineno"></span><span class="op" id="2029809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2029812">func</span>&nbsp;<span class="op" id="2029817">(</span><span class="ident" id="2029818">p</span>&nbsp;<span class="op" id="2029820">*</span><span class="ident" id="2029821">pp</span><span class="op" id="2029823">)</span>&nbsp;<span class="ident" id="2029825">unknownType</span><span class="op" id="2029836">(</span><span class="ident" id="2029837">v</span>&nbsp;<span class="ident" id="2029839">reflect</span><span class="op" id="2029846">.</span><span class="ident" id="2029847">Value</span><span class="op" id="2029852">)</span>&nbsp;<span class="op" id="2029854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029857">if</span>&nbsp;<span class="op" id="2029860">!</span><span class="ident" id="2029861">v</span><span class="op" id="2029862">.</span><span class="ident" id="2029863">IsValid</span><span class="op" id="2029870">(</span><span class="op" id="2029871">)</span>&nbsp;<span class="op" id="2029873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029877">p</span><span class="op" id="2029878">.</span><span class="ident" id="2029879">buf</span><span class="op" id="2029882">.</span><span class="ident" id="2029883">Write</span><span class="op" id="2029888">(</span><span class="ident" id="2029889">nilAngleBytes</span><span class="op" id="2029902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2029906">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2029914">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029917">p</span><span class="op" id="2029918">.</span><span class="ident" id="2029919">buf</span><span class="op" id="2029922">.</span><span class="ident" id="2029923">WriteByte</span><span class="op" id="2029932">(</span><span class="string" id="2029933">&#39;?&#39;</span><span class="op" id="2029936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029939">p</span><span class="op" id="2029940">.</span><span class="ident" id="2029941">buf</span><span class="op" id="2029944">.</span><span class="ident" id="2029945">WriteString</span><span class="op" id="2029956">(</span><span class="ident" id="2029957">v</span><span class="op" id="2029958">.</span><span class="ident" id="2029959">Type</span><span class="op" id="2029963">(</span><span class="op" id="2029964">)</span><span class="op" id="2029965">.</span><span class="ident" id="2029966">String</span><span class="op" id="2029972">(</span><span class="op" id="2029973">)</span><span class="op" id="2029974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2029977">p</span><span class="op" id="2029978">.</span><span class="ident" id="2029979">buf</span><span class="op" id="2029982">.</span><span class="ident" id="2029983">WriteByte</span><span class="op" id="2029992">(</span><span class="string" id="2029993">&#39;?&#39;</span><span class="op" id="2029996">)</span><br>
<span class="lineno"></span><span class="op" id="2029998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2030001">func</span>&nbsp;<span class="op" id="2030006">(</span><span class="ident" id="2030007">p</span>&nbsp;<span class="op" id="2030009">*</span><span class="ident" id="2030010">pp</span><span class="op" id="2030012">)</span>&nbsp;<span class="ident" id="2030014">badVerb</span><span class="op" id="2030021">(</span><span class="ident" id="2030022">verb</span>&nbsp;<span class="builtintype" id="2030027">rune</span><span class="op" id="2030031">)</span>&nbsp;<span class="op" id="2030033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030036">p</span><span class="op" id="2030037">.</span><span class="ident" id="2030038">erroring</span>&nbsp;<span class="op" id="2030047">=</span>&nbsp;<span class="builtintype" id="2030049">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030055">p</span><span class="op" id="2030056">.</span><span class="ident" id="2030057">add</span><span class="op" id="2030060">(</span><span class="string" id="2030061">&#39;%&#39;</span><span class="op" id="2030064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030067">p</span><span class="op" id="2030068">.</span><span class="ident" id="2030069">add</span><span class="op" id="2030072">(</span><span class="string" id="2030073">&#39;!&#39;</span><span class="op" id="2030076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030079">p</span><span class="op" id="2030080">.</span><span class="ident" id="2030081">add</span><span class="op" id="2030084">(</span><span class="ident" id="2030085">verb</span><span class="op" id="2030089">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030092">p</span><span class="op" id="2030093">.</span><span class="ident" id="2030094">add</span><span class="op" id="2030097">(</span><span class="string" id="2030098">&#39;(&#39;</span><span class="op" id="2030101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030104">switch</span>&nbsp;<span class="op" id="2030111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030114">case</span>&nbsp;<span class="ident" id="2030119">p</span><span class="op" id="2030120">.</span><span class="ident" id="2030121">arg</span>&nbsp;<span class="op" id="2030125">!=</span>&nbsp;<span class="ident" id="2030128">nil</span><span class="op" id="2030131">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030135">p</span><span class="op" id="2030136">.</span><span class="ident" id="2030137">buf</span><span class="op" id="2030140">.</span><span class="ident" id="2030141">WriteString</span><span class="op" id="2030152">(</span><span class="ident" id="2030153">reflect</span><span class="op" id="2030160">.</span><span class="ident" id="2030161">TypeOf</span><span class="op" id="2030167">(</span><span class="ident" id="2030168">p</span><span class="op" id="2030169">.</span><span class="ident" id="2030170">arg</span><span class="op" id="2030173">)</span><span class="op" id="2030174">.</span><span class="ident" id="2030175">String</span><span class="op" id="2030181">(</span><span class="op" id="2030182">)</span><span class="op" id="2030183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030187">p</span><span class="op" id="2030188">.</span><span class="ident" id="2030189">add</span><span class="op" id="2030192">(</span><span class="string" id="2030193">&#39;=&#39;</span><span class="op" id="2030196">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030200">p</span><span class="op" id="2030201">.</span><span class="ident" id="2030202">printArg</span><span class="op" id="2030210">(</span><span class="ident" id="2030211">p</span><span class="op" id="2030212">.</span><span class="ident" id="2030213">arg</span><span class="op" id="2030216">,</span>&nbsp;<span class="string" id="2030218">&#39;v&#39;</span><span class="op" id="2030221">,</span>&nbsp;<span class="num" id="2030223">0</span><span class="op" id="2030224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030227">case</span>&nbsp;<span class="ident" id="2030232">p</span><span class="op" id="2030233">.</span><span class="ident" id="2030234">value</span><span class="op" id="2030239">.</span><span class="ident" id="2030240">IsValid</span><span class="op" id="2030247">(</span><span class="op" id="2030248">)</span><span class="op" id="2030249">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030253">p</span><span class="op" id="2030254">.</span><span class="ident" id="2030255">buf</span><span class="op" id="2030258">.</span><span class="ident" id="2030259">WriteString</span><span class="op" id="2030270">(</span><span class="ident" id="2030271">p</span><span class="op" id="2030272">.</span><span class="ident" id="2030273">value</span><span class="op" id="2030278">.</span><span class="ident" id="2030279">Type</span><span class="op" id="2030283">(</span><span class="op" id="2030284">)</span><span class="op" id="2030285">.</span><span class="ident" id="2030286">String</span><span class="op" id="2030292">(</span><span class="op" id="2030293">)</span><span class="op" id="2030294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030298">p</span><span class="op" id="2030299">.</span><span class="ident" id="2030300">add</span><span class="op" id="2030303">(</span><span class="string" id="2030304">&#39;=&#39;</span><span class="op" id="2030307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030311">p</span><span class="op" id="2030312">.</span><span class="ident" id="2030313">printValue</span><span class="op" id="2030323">(</span><span class="ident" id="2030324">p</span><span class="op" id="2030325">.</span><span class="ident" id="2030326">value</span><span class="op" id="2030331">,</span>&nbsp;<span class="string" id="2030333">&#39;v&#39;</span><span class="op" id="2030336">,</span>&nbsp;<span class="num" id="2030338">0</span><span class="op" id="2030339">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030342">default</span><span class="op" id="2030349">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030353">p</span><span class="op" id="2030354">.</span><span class="ident" id="2030355">buf</span><span class="op" id="2030358">.</span><span class="ident" id="2030359">Write</span><span class="op" id="2030364">(</span><span class="ident" id="2030365">nilAngleBytes</span><span class="op" id="2030378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2030381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030384">p</span><span class="op" id="2030385">.</span><span class="ident" id="2030386">add</span><span class="op" id="2030389">(</span><span class="string" id="2030390">&#39;)&#39;</span><span class="op" id="2030393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030396">p</span><span class="op" id="2030397">.</span><span class="ident" id="2030398">erroring</span>&nbsp;<span class="op" id="2030407">=</span>&nbsp;<span class="builtintype" id="2030409">false</span><br>
<span class="lineno">330</span><span class="op" id="2030415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2030418">func</span>&nbsp;<span class="op" id="2030423">(</span><span class="ident" id="2030424">p</span>&nbsp;<span class="op" id="2030426">*</span><span class="ident" id="2030427">pp</span><span class="op" id="2030429">)</span>&nbsp;<span class="ident" id="2030431">fmtBool</span><span class="op" id="2030438">(</span><span class="ident" id="2030439">v</span>&nbsp;<span class="builtintype" id="2030441">bool</span><span class="op" id="2030445">,</span>&nbsp;<span class="ident" id="2030447">verb</span>&nbsp;<span class="builtintype" id="2030452">rune</span><span class="op" id="2030456">)</span>&nbsp;<span class="op" id="2030458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030461">switch</span>&nbsp;<span class="ident" id="2030468">verb</span>&nbsp;<span class="op" id="2030473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030476">case</span>&nbsp;<span class="string" id="2030481">&#39;t&#39;</span><span class="op" id="2030484">,</span>&nbsp;<span class="string" id="2030486">&#39;v&#39;</span><span class="op" id="2030489">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030493">p</span><span class="op" id="2030494">.</span><span class="ident" id="2030495">fmt</span><span class="op" id="2030498">.</span><span class="ident" id="2030499">fmt_boolean</span><span class="op" id="2030510">(</span><span class="ident" id="2030511">v</span><span class="op" id="2030512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030515">default</span><span class="op" id="2030522">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030526">p</span><span class="op" id="2030527">.</span><span class="ident" id="2030528">badVerb</span><span class="op" id="2030535">(</span><span class="ident" id="2030536">verb</span><span class="op" id="2030540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2030543">}</span><br>
<span class="lineno"></span><span class="op" id="2030545">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2030548">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2030591">func</span>&nbsp;<span class="op" id="2030596">(</span><span class="ident" id="2030597">p</span>&nbsp;<span class="op" id="2030599">*</span><span class="ident" id="2030600">pp</span><span class="op" id="2030602">)</span>&nbsp;<span class="ident" id="2030604">fmtC</span><span class="op" id="2030608">(</span><span class="ident" id="2030609">c</span>&nbsp;<span class="ident" id="2030611">int64</span><span class="op" id="2030616">)</span>&nbsp;<span class="op" id="2030618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030621">r</span>&nbsp;<span class="op" id="2030623">:=</span>&nbsp;<span class="builtintype" id="2030626">rune</span><span class="op" id="2030630">(</span><span class="ident" id="2030631">c</span><span class="op" id="2030632">)</span>&nbsp;<span class="comment" id="2030634">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030658">if</span>&nbsp;<span class="ident" id="2030661">int64</span><span class="op" id="2030666">(</span><span class="ident" id="2030667">r</span><span class="op" id="2030668">)</span>&nbsp;<span class="op" id="2030670">!=</span>&nbsp;<span class="ident" id="2030673">c</span>&nbsp;<span class="op" id="2030675">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030679">r</span>&nbsp;<span class="op" id="2030681">=</span>&nbsp;<span class="ident" id="2030683">utf8</span><span class="op" id="2030687">.</span><span class="ident" id="2030688">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2030699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030702">w</span>&nbsp;<span class="op" id="2030704">:=</span>&nbsp;<span class="ident" id="2030707">utf8</span><span class="op" id="2030711">.</span><span class="ident" id="2030712">EncodeRune</span><span class="op" id="2030722">(</span><span class="ident" id="2030723">p</span><span class="op" id="2030724">.</span><span class="ident" id="2030725">runeBuf</span><span class="op" id="2030732">[</span><span class="num" id="2030733">0</span><span class="op" id="2030734">:</span><span class="ident" id="2030735">utf8</span><span class="op" id="2030739">.</span><span class="ident" id="2030740">UTFMax</span><span class="op" id="2030746">]</span><span class="op" id="2030747">,</span>&nbsp;<span class="ident" id="2030749">r</span><span class="op" id="2030750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030753">p</span><span class="op" id="2030754">.</span><span class="ident" id="2030755">fmt</span><span class="op" id="2030758">.</span><span class="ident" id="2030759">pad</span><span class="op" id="2030762">(</span><span class="ident" id="2030763">p</span><span class="op" id="2030764">.</span><span class="ident" id="2030765">runeBuf</span><span class="op" id="2030772">[</span><span class="num" id="2030773">0</span><span class="op" id="2030774">:</span><span class="ident" id="2030775">w</span><span class="op" id="2030776">]</span><span class="op" id="2030777">)</span><br>
<span class="lineno"></span><span class="op" id="2030779">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2030782">func</span>&nbsp;<span class="op" id="2030787">(</span><span class="ident" id="2030788">p</span>&nbsp;<span class="op" id="2030790">*</span><span class="ident" id="2030791">pp</span><span class="op" id="2030793">)</span>&nbsp;<span class="ident" id="2030795">fmtInt64</span><span class="op" id="2030803">(</span><span class="ident" id="2030804">v</span>&nbsp;<span class="ident" id="2030806">int64</span><span class="op" id="2030811">,</span>&nbsp;<span class="ident" id="2030813">verb</span>&nbsp;<span class="builtintype" id="2030818">rune</span><span class="op" id="2030822">)</span>&nbsp;<span class="op" id="2030824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030827">switch</span>&nbsp;<span class="ident" id="2030834">verb</span>&nbsp;<span class="op" id="2030839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030842">case</span>&nbsp;<span class="string" id="2030847">&#39;b&#39;</span><span class="op" id="2030850">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030854">p</span><span class="op" id="2030855">.</span><span class="ident" id="2030856">fmt</span><span class="op" id="2030859">.</span><span class="ident" id="2030860">integer</span><span class="op" id="2030867">(</span><span class="ident" id="2030868">v</span><span class="op" id="2030869">,</span>&nbsp;<span class="num" id="2030871">2</span><span class="op" id="2030872">,</span>&nbsp;<span class="ident" id="2030874">signed</span><span class="op" id="2030880">,</span>&nbsp;<span class="ident" id="2030882">ldigits</span><span class="op" id="2030889">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030892">case</span>&nbsp;<span class="string" id="2030897">&#39;c&#39;</span><span class="op" id="2030900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030904">p</span><span class="op" id="2030905">.</span><span class="ident" id="2030906">fmtC</span><span class="op" id="2030910">(</span><span class="ident" id="2030911">v</span><span class="op" id="2030912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030915">case</span>&nbsp;<span class="string" id="2030920">&#39;d&#39;</span><span class="op" id="2030923">,</span>&nbsp;<span class="string" id="2030925">&#39;v&#39;</span><span class="op" id="2030928">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030932">p</span><span class="op" id="2030933">.</span><span class="ident" id="2030934">fmt</span><span class="op" id="2030937">.</span><span class="ident" id="2030938">integer</span><span class="op" id="2030945">(</span><span class="ident" id="2030946">v</span><span class="op" id="2030947">,</span>&nbsp;<span class="num" id="2030949">10</span><span class="op" id="2030951">,</span>&nbsp;<span class="ident" id="2030953">signed</span><span class="op" id="2030959">,</span>&nbsp;<span class="ident" id="2030961">ldigits</span><span class="op" id="2030968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2030971">case</span>&nbsp;<span class="string" id="2030976">&#39;o&#39;</span><span class="op" id="2030979">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2030983">p</span><span class="op" id="2030984">.</span><span class="ident" id="2030985">fmt</span><span class="op" id="2030988">.</span><span class="ident" id="2030989">integer</span><span class="op" id="2030996">(</span><span class="ident" id="2030997">v</span><span class="op" id="2030998">,</span>&nbsp;<span class="num" id="2031000">8</span><span class="op" id="2031001">,</span>&nbsp;<span class="ident" id="2031003">signed</span><span class="op" id="2031009">,</span>&nbsp;<span class="ident" id="2031011">ldigits</span><span class="op" id="2031018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031021">case</span>&nbsp;<span class="string" id="2031026">&#39;q&#39;</span><span class="op" id="2031029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031033">if</span>&nbsp;<span class="num" id="2031036">0</span>&nbsp;<span class="op" id="2031038">&lt;=</span>&nbsp;<span class="ident" id="2031041">v</span>&nbsp;<span class="op" id="2031043">&amp;&amp;</span>&nbsp;<span class="ident" id="2031046">v</span>&nbsp;<span class="op" id="2031048">&lt;=</span>&nbsp;<span class="ident" id="2031051">utf8</span><span class="op" id="2031055">.</span><span class="ident" id="2031056">MaxRune</span>&nbsp;<span class="op" id="2031064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031069">p</span><span class="op" id="2031070">.</span><span class="ident" id="2031071">fmt</span><span class="op" id="2031074">.</span><span class="ident" id="2031075">fmt_qc</span><span class="op" id="2031081">(</span><span class="ident" id="2031082">v</span><span class="op" id="2031083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2031087">}</span>&nbsp;<span class="keyword" id="2031089">else</span>&nbsp;<span class="op" id="2031094">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031099">p</span><span class="op" id="2031100">.</span><span class="ident" id="2031101">badVerb</span><span class="op" id="2031108">(</span><span class="ident" id="2031109">verb</span><span class="op" id="2031113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2031117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031120">case</span>&nbsp;<span class="string" id="2031125">&#39;x&#39;</span><span class="op" id="2031128">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031132">p</span><span class="op" id="2031133">.</span><span class="ident" id="2031134">fmt</span><span class="op" id="2031137">.</span><span class="ident" id="2031138">integer</span><span class="op" id="2031145">(</span><span class="ident" id="2031146">v</span><span class="op" id="2031147">,</span>&nbsp;<span class="num" id="2031149">16</span><span class="op" id="2031151">,</span>&nbsp;<span class="ident" id="2031153">signed</span><span class="op" id="2031159">,</span>&nbsp;<span class="ident" id="2031161">ldigits</span><span class="op" id="2031168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031171">case</span>&nbsp;<span class="string" id="2031176">&#39;U&#39;</span><span class="op" id="2031179">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031183">p</span><span class="op" id="2031184">.</span><span class="ident" id="2031185">fmtUnicode</span><span class="op" id="2031195">(</span><span class="ident" id="2031196">v</span><span class="op" id="2031197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031200">case</span>&nbsp;<span class="string" id="2031205">&#39;X&#39;</span><span class="op" id="2031208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031212">p</span><span class="op" id="2031213">.</span><span class="ident" id="2031214">fmt</span><span class="op" id="2031217">.</span><span class="ident" id="2031218">integer</span><span class="op" id="2031225">(</span><span class="ident" id="2031226">v</span><span class="op" id="2031227">,</span>&nbsp;<span class="num" id="2031229">16</span><span class="op" id="2031231">,</span>&nbsp;<span class="ident" id="2031233">signed</span><span class="op" id="2031239">,</span>&nbsp;<span class="ident" id="2031241">udigits</span><span class="op" id="2031248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031251">default</span><span class="op" id="2031258">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031262">p</span><span class="op" id="2031263">.</span><span class="ident" id="2031264">badVerb</span><span class="op" id="2031271">(</span><span class="ident" id="2031272">verb</span><span class="op" id="2031276">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2031279">}</span><br>
<span class="lineno"></span><span class="op" id="2031281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2031284">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2031354">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2031415">func</span>&nbsp;<span class="op" id="2031420">(</span><span class="ident" id="2031421">p</span>&nbsp;<span class="op" id="2031423">*</span><span class="ident" id="2031424">pp</span><span class="op" id="2031426">)</span>&nbsp;<span class="ident" id="2031428">fmt0x64</span><span class="op" id="2031435">(</span><span class="ident" id="2031436">v</span>&nbsp;<span class="ident" id="2031438">uint64</span><span class="op" id="2031444">,</span>&nbsp;<span class="ident" id="2031446">leading0x</span>&nbsp;<span class="builtintype" id="2031456">bool</span><span class="op" id="2031460">)</span>&nbsp;<span class="op" id="2031462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031465">sharp</span>&nbsp;<span class="op" id="2031471">:=</span>&nbsp;<span class="ident" id="2031474">p</span><span class="op" id="2031475">.</span><span class="ident" id="2031476">fmt</span><span class="op" id="2031479">.</span><span class="ident" id="2031480">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031487">p</span><span class="op" id="2031488">.</span><span class="ident" id="2031489">fmt</span><span class="op" id="2031492">.</span><span class="ident" id="2031493">sharp</span>&nbsp;<span class="op" id="2031499">=</span>&nbsp;<span class="ident" id="2031501">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031512">p</span><span class="op" id="2031513">.</span><span class="ident" id="2031514">fmt</span><span class="op" id="2031517">.</span><span class="ident" id="2031518">integer</span><span class="op" id="2031525">(</span><span class="ident" id="2031526">int64</span><span class="op" id="2031531">(</span><span class="ident" id="2031532">v</span><span class="op" id="2031533">)</span><span class="op" id="2031534">,</span>&nbsp;<span class="num" id="2031536">16</span><span class="op" id="2031538">,</span>&nbsp;<span class="ident" id="2031540">unsigned</span><span class="op" id="2031548">,</span>&nbsp;<span class="ident" id="2031550">ldigits</span><span class="op" id="2031557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031560">p</span><span class="op" id="2031561">.</span><span class="ident" id="2031562">fmt</span><span class="op" id="2031565">.</span><span class="ident" id="2031566">sharp</span>&nbsp;<span class="op" id="2031572">=</span>&nbsp;<span class="ident" id="2031574">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2031580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2031583">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2031632">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2031703">func</span>&nbsp;<span class="op" id="2031708">(</span><span class="ident" id="2031709">p</span>&nbsp;<span class="op" id="2031711">*</span><span class="ident" id="2031712">pp</span><span class="op" id="2031714">)</span>&nbsp;<span class="ident" id="2031716">fmtUnicode</span><span class="op" id="2031726">(</span><span class="ident" id="2031727">v</span>&nbsp;<span class="ident" id="2031729">int64</span><span class="op" id="2031734">)</span>&nbsp;<span class="op" id="2031736">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031739">precPresent</span>&nbsp;<span class="op" id="2031751">:=</span>&nbsp;<span class="ident" id="2031754">p</span><span class="op" id="2031755">.</span><span class="ident" id="2031756">fmt</span><span class="op" id="2031759">.</span><span class="ident" id="2031760">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031773">sharp</span>&nbsp;<span class="op" id="2031779">:=</span>&nbsp;<span class="ident" id="2031782">p</span><span class="op" id="2031783">.</span><span class="ident" id="2031784">fmt</span><span class="op" id="2031787">.</span><span class="ident" id="2031788">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031795">p</span><span class="op" id="2031796">.</span><span class="ident" id="2031797">fmt</span><span class="op" id="2031800">.</span><span class="ident" id="2031801">sharp</span>&nbsp;<span class="op" id="2031807">=</span>&nbsp;<span class="builtintype" id="2031809">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031816">prec</span>&nbsp;<span class="op" id="2031821">:=</span>&nbsp;<span class="ident" id="2031824">p</span><span class="op" id="2031825">.</span><span class="ident" id="2031826">fmt</span><span class="op" id="2031829">.</span><span class="ident" id="2031830">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2031836">if</span>&nbsp;<span class="op" id="2031839">!</span><span class="ident" id="2031840">precPresent</span>&nbsp;<span class="op" id="2031852">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2031856">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031925">p</span><span class="op" id="2031926">.</span><span class="ident" id="2031927">fmt</span><span class="op" id="2031930">.</span><span class="ident" id="2031931">prec</span>&nbsp;<span class="op" id="2031936">=</span>&nbsp;<span class="num" id="2031938">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031942">p</span><span class="op" id="2031943">.</span><span class="ident" id="2031944">fmt</span><span class="op" id="2031947">.</span><span class="ident" id="2031948">precPresent</span>&nbsp;<span class="op" id="2031960">=</span>&nbsp;<span class="builtintype" id="2031962">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2031968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2031971">p</span><span class="op" id="2031972">.</span><span class="ident" id="2031973">fmt</span><span class="op" id="2031976">.</span><span class="ident" id="2031977">unicode</span>&nbsp;<span class="op" id="2031985">=</span>&nbsp;<span class="builtintype" id="2031987">true</span>&nbsp;<span class="comment" id="2031992">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032007">p</span><span class="op" id="2032008">.</span><span class="ident" id="2032009">fmt</span><span class="op" id="2032012">.</span><span class="ident" id="2032013">uniQuote</span>&nbsp;<span class="op" id="2032022">=</span>&nbsp;<span class="ident" id="2032024">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032031">p</span><span class="op" id="2032032">.</span><span class="ident" id="2032033">fmt</span><span class="op" id="2032036">.</span><span class="ident" id="2032037">integer</span><span class="op" id="2032044">(</span><span class="ident" id="2032045">int64</span><span class="op" id="2032050">(</span><span class="ident" id="2032051">v</span><span class="op" id="2032052">)</span><span class="op" id="2032053">,</span>&nbsp;<span class="num" id="2032055">16</span><span class="op" id="2032057">,</span>&nbsp;<span class="ident" id="2032059">unsigned</span><span class="op" id="2032067">,</span>&nbsp;<span class="ident" id="2032069">udigits</span><span class="op" id="2032076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032079">p</span><span class="op" id="2032080">.</span><span class="ident" id="2032081">fmt</span><span class="op" id="2032084">.</span><span class="ident" id="2032085">unicode</span>&nbsp;<span class="op" id="2032093">=</span>&nbsp;<span class="builtintype" id="2032095">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032102">p</span><span class="op" id="2032103">.</span><span class="ident" id="2032104">fmt</span><span class="op" id="2032107">.</span><span class="ident" id="2032108">uniQuote</span>&nbsp;<span class="op" id="2032117">=</span>&nbsp;<span class="builtintype" id="2032119">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032126">p</span><span class="op" id="2032127">.</span><span class="ident" id="2032128">fmt</span><span class="op" id="2032131">.</span><span class="ident" id="2032132">prec</span>&nbsp;<span class="op" id="2032137">=</span>&nbsp;<span class="ident" id="2032139">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032145">p</span><span class="op" id="2032146">.</span><span class="ident" id="2032147">fmt</span><span class="op" id="2032150">.</span><span class="ident" id="2032151">precPresent</span>&nbsp;<span class="op" id="2032163">=</span>&nbsp;<span class="ident" id="2032165">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032178">p</span><span class="op" id="2032179">.</span><span class="ident" id="2032180">fmt</span><span class="op" id="2032183">.</span><span class="ident" id="2032184">sharp</span>&nbsp;<span class="op" id="2032190">=</span>&nbsp;<span class="ident" id="2032192">sharp</span><br>
<span class="lineno"></span><span class="op" id="2032198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2032201">func</span>&nbsp;<span class="op" id="2032206">(</span><span class="ident" id="2032207">p</span>&nbsp;<span class="op" id="2032209">*</span><span class="ident" id="2032210">pp</span><span class="op" id="2032212">)</span>&nbsp;<span class="ident" id="2032214">fmtUint64</span><span class="op" id="2032223">(</span><span class="ident" id="2032224">v</span>&nbsp;<span class="ident" id="2032226">uint64</span><span class="op" id="2032232">,</span>&nbsp;<span class="ident" id="2032234">verb</span>&nbsp;<span class="builtintype" id="2032239">rune</span><span class="op" id="2032243">)</span>&nbsp;<span class="op" id="2032245">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032248">switch</span>&nbsp;<span class="ident" id="2032255">verb</span>&nbsp;<span class="op" id="2032260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032263">case</span>&nbsp;<span class="string" id="2032268">&#39;b&#39;</span><span class="op" id="2032271">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032275">p</span><span class="op" id="2032276">.</span><span class="ident" id="2032277">fmt</span><span class="op" id="2032280">.</span><span class="ident" id="2032281">integer</span><span class="op" id="2032288">(</span><span class="ident" id="2032289">int64</span><span class="op" id="2032294">(</span><span class="ident" id="2032295">v</span><span class="op" id="2032296">)</span><span class="op" id="2032297">,</span>&nbsp;<span class="num" id="2032299">2</span><span class="op" id="2032300">,</span>&nbsp;<span class="ident" id="2032302">unsigned</span><span class="op" id="2032310">,</span>&nbsp;<span class="ident" id="2032312">ldigits</span><span class="op" id="2032319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032322">case</span>&nbsp;<span class="string" id="2032327">&#39;c&#39;</span><span class="op" id="2032330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032334">p</span><span class="op" id="2032335">.</span><span class="ident" id="2032336">fmtC</span><span class="op" id="2032340">(</span><span class="ident" id="2032341">int64</span><span class="op" id="2032346">(</span><span class="ident" id="2032347">v</span><span class="op" id="2032348">)</span><span class="op" id="2032349">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032352">case</span>&nbsp;<span class="string" id="2032357">&#39;d&#39;</span><span class="op" id="2032360">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032364">p</span><span class="op" id="2032365">.</span><span class="ident" id="2032366">fmt</span><span class="op" id="2032369">.</span><span class="ident" id="2032370">integer</span><span class="op" id="2032377">(</span><span class="ident" id="2032378">int64</span><span class="op" id="2032383">(</span><span class="ident" id="2032384">v</span><span class="op" id="2032385">)</span><span class="op" id="2032386">,</span>&nbsp;<span class="num" id="2032388">10</span><span class="op" id="2032390">,</span>&nbsp;<span class="ident" id="2032392">unsigned</span><span class="op" id="2032400">,</span>&nbsp;<span class="ident" id="2032402">ldigits</span><span class="op" id="2032409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032412">case</span>&nbsp;<span class="string" id="2032417">&#39;v&#39;</span><span class="op" id="2032420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032424">if</span>&nbsp;<span class="ident" id="2032427">p</span><span class="op" id="2032428">.</span><span class="ident" id="2032429">fmt</span><span class="op" id="2032432">.</span><span class="ident" id="2032433">sharpV</span>&nbsp;<span class="op" id="2032440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032445">p</span><span class="op" id="2032446">.</span><span class="ident" id="2032447">fmt0x64</span><span class="op" id="2032454">(</span><span class="ident" id="2032455">v</span><span class="op" id="2032456">,</span>&nbsp;<span class="builtintype" id="2032458">true</span><span class="op" id="2032462">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2032466">}</span>&nbsp;<span class="keyword" id="2032468">else</span>&nbsp;<span class="op" id="2032473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032478">p</span><span class="op" id="2032479">.</span><span class="ident" id="2032480">fmt</span><span class="op" id="2032483">.</span><span class="ident" id="2032484">integer</span><span class="op" id="2032491">(</span><span class="ident" id="2032492">int64</span><span class="op" id="2032497">(</span><span class="ident" id="2032498">v</span><span class="op" id="2032499">)</span><span class="op" id="2032500">,</span>&nbsp;<span class="num" id="2032502">10</span><span class="op" id="2032504">,</span>&nbsp;<span class="ident" id="2032506">unsigned</span><span class="op" id="2032514">,</span>&nbsp;<span class="ident" id="2032516">ldigits</span><span class="op" id="2032523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2032527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032530">case</span>&nbsp;<span class="string" id="2032535">&#39;o&#39;</span><span class="op" id="2032538">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032542">p</span><span class="op" id="2032543">.</span><span class="ident" id="2032544">fmt</span><span class="op" id="2032547">.</span><span class="ident" id="2032548">integer</span><span class="op" id="2032555">(</span><span class="ident" id="2032556">int64</span><span class="op" id="2032561">(</span><span class="ident" id="2032562">v</span><span class="op" id="2032563">)</span><span class="op" id="2032564">,</span>&nbsp;<span class="num" id="2032566">8</span><span class="op" id="2032567">,</span>&nbsp;<span class="ident" id="2032569">unsigned</span><span class="op" id="2032577">,</span>&nbsp;<span class="ident" id="2032579">ldigits</span><span class="op" id="2032586">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032589">case</span>&nbsp;<span class="string" id="2032594">&#39;q&#39;</span><span class="op" id="2032597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032601">if</span>&nbsp;<span class="num" id="2032604">0</span>&nbsp;<span class="op" id="2032606">&lt;=</span>&nbsp;<span class="ident" id="2032609">v</span>&nbsp;<span class="op" id="2032611">&amp;&amp;</span>&nbsp;<span class="ident" id="2032614">v</span>&nbsp;<span class="op" id="2032616">&lt;=</span>&nbsp;<span class="ident" id="2032619">utf8</span><span class="op" id="2032623">.</span><span class="ident" id="2032624">MaxRune</span>&nbsp;<span class="op" id="2032632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032637">p</span><span class="op" id="2032638">.</span><span class="ident" id="2032639">fmt</span><span class="op" id="2032642">.</span><span class="ident" id="2032643">fmt_qc</span><span class="op" id="2032649">(</span><span class="ident" id="2032650">int64</span><span class="op" id="2032655">(</span><span class="ident" id="2032656">v</span><span class="op" id="2032657">)</span><span class="op" id="2032658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2032662">}</span>&nbsp;<span class="keyword" id="2032664">else</span>&nbsp;<span class="op" id="2032669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032674">p</span><span class="op" id="2032675">.</span><span class="ident" id="2032676">badVerb</span><span class="op" id="2032683">(</span><span class="ident" id="2032684">verb</span><span class="op" id="2032688">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2032692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032695">case</span>&nbsp;<span class="string" id="2032700">&#39;x&#39;</span><span class="op" id="2032703">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032707">p</span><span class="op" id="2032708">.</span><span class="ident" id="2032709">fmt</span><span class="op" id="2032712">.</span><span class="ident" id="2032713">integer</span><span class="op" id="2032720">(</span><span class="ident" id="2032721">int64</span><span class="op" id="2032726">(</span><span class="ident" id="2032727">v</span><span class="op" id="2032728">)</span><span class="op" id="2032729">,</span>&nbsp;<span class="num" id="2032731">16</span><span class="op" id="2032733">,</span>&nbsp;<span class="ident" id="2032735">unsigned</span><span class="op" id="2032743">,</span>&nbsp;<span class="ident" id="2032745">ldigits</span><span class="op" id="2032752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032755">case</span>&nbsp;<span class="string" id="2032760">&#39;X&#39;</span><span class="op" id="2032763">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032767">p</span><span class="op" id="2032768">.</span><span class="ident" id="2032769">fmt</span><span class="op" id="2032772">.</span><span class="ident" id="2032773">integer</span><span class="op" id="2032780">(</span><span class="ident" id="2032781">int64</span><span class="op" id="2032786">(</span><span class="ident" id="2032787">v</span><span class="op" id="2032788">)</span><span class="op" id="2032789">,</span>&nbsp;<span class="num" id="2032791">16</span><span class="op" id="2032793">,</span>&nbsp;<span class="ident" id="2032795">unsigned</span><span class="op" id="2032803">,</span>&nbsp;<span class="ident" id="2032805">udigits</span><span class="op" id="2032812">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032815">case</span>&nbsp;<span class="string" id="2032820">&#39;U&#39;</span><span class="op" id="2032823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032827">p</span><span class="op" id="2032828">.</span><span class="ident" id="2032829">fmtUnicode</span><span class="op" id="2032839">(</span><span class="ident" id="2032840">int64</span><span class="op" id="2032845">(</span><span class="ident" id="2032846">v</span><span class="op" id="2032847">)</span><span class="op" id="2032848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032851">default</span><span class="op" id="2032858">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032862">p</span><span class="op" id="2032863">.</span><span class="ident" id="2032864">badVerb</span><span class="op" id="2032871">(</span><span class="ident" id="2032872">verb</span><span class="op" id="2032876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2032879">}</span><br>
<span class="lineno">440</span><span class="op" id="2032881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2032884">func</span>&nbsp;<span class="op" id="2032889">(</span><span class="ident" id="2032890">p</span>&nbsp;<span class="op" id="2032892">*</span><span class="ident" id="2032893">pp</span><span class="op" id="2032895">)</span>&nbsp;<span class="ident" id="2032897">fmtFloat32</span><span class="op" id="2032907">(</span><span class="ident" id="2032908">v</span>&nbsp;<span class="builtintype" id="2032910">float32</span><span class="op" id="2032917">,</span>&nbsp;<span class="ident" id="2032919">verb</span>&nbsp;<span class="builtintype" id="2032924">rune</span><span class="op" id="2032928">)</span>&nbsp;<span class="op" id="2032930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032933">switch</span>&nbsp;<span class="ident" id="2032940">verb</span>&nbsp;<span class="op" id="2032945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032948">case</span>&nbsp;<span class="string" id="2032953">&#39;b&#39;</span><span class="op" id="2032956">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032960">p</span><span class="op" id="2032961">.</span><span class="ident" id="2032962">fmt</span><span class="op" id="2032965">.</span><span class="ident" id="2032966">fmt_fb32</span><span class="op" id="2032974">(</span><span class="ident" id="2032975">v</span><span class="op" id="2032976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2032979">case</span>&nbsp;<span class="string" id="2032984">&#39;e&#39;</span><span class="op" id="2032987">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2032991">p</span><span class="op" id="2032992">.</span><span class="ident" id="2032993">fmt</span><span class="op" id="2032996">.</span><span class="ident" id="2032997">fmt_e32</span><span class="op" id="2033004">(</span><span class="ident" id="2033005">v</span><span class="op" id="2033006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033009">case</span>&nbsp;<span class="string" id="2033014">&#39;E&#39;</span><span class="op" id="2033017">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033021">p</span><span class="op" id="2033022">.</span><span class="ident" id="2033023">fmt</span><span class="op" id="2033026">.</span><span class="ident" id="2033027">fmt_E32</span><span class="op" id="2033034">(</span><span class="ident" id="2033035">v</span><span class="op" id="2033036">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033039">case</span>&nbsp;<span class="string" id="2033044">&#39;f&#39;</span><span class="op" id="2033047">,</span>&nbsp;<span class="string" id="2033049">&#39;F&#39;</span><span class="op" id="2033052">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033056">p</span><span class="op" id="2033057">.</span><span class="ident" id="2033058">fmt</span><span class="op" id="2033061">.</span><span class="ident" id="2033062">fmt_f32</span><span class="op" id="2033069">(</span><span class="ident" id="2033070">v</span><span class="op" id="2033071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033074">case</span>&nbsp;<span class="string" id="2033079">&#39;g&#39;</span><span class="op" id="2033082">,</span>&nbsp;<span class="string" id="2033084">&#39;v&#39;</span><span class="op" id="2033087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033091">p</span><span class="op" id="2033092">.</span><span class="ident" id="2033093">fmt</span><span class="op" id="2033096">.</span><span class="ident" id="2033097">fmt_g32</span><span class="op" id="2033104">(</span><span class="ident" id="2033105">v</span><span class="op" id="2033106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033109">case</span>&nbsp;<span class="string" id="2033114">&#39;G&#39;</span><span class="op" id="2033117">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033121">p</span><span class="op" id="2033122">.</span><span class="ident" id="2033123">fmt</span><span class="op" id="2033126">.</span><span class="ident" id="2033127">fmt_G32</span><span class="op" id="2033134">(</span><span class="ident" id="2033135">v</span><span class="op" id="2033136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033139">default</span><span class="op" id="2033146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033150">p</span><span class="op" id="2033151">.</span><span class="ident" id="2033152">badVerb</span><span class="op" id="2033159">(</span><span class="ident" id="2033160">verb</span><span class="op" id="2033164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2033167">}</span><br>
<span class="lineno"></span><span class="op" id="2033169">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2033172">func</span>&nbsp;<span class="op" id="2033177">(</span><span class="ident" id="2033178">p</span>&nbsp;<span class="op" id="2033180">*</span><span class="ident" id="2033181">pp</span><span class="op" id="2033183">)</span>&nbsp;<span class="ident" id="2033185">fmtFloat64</span><span class="op" id="2033195">(</span><span class="ident" id="2033196">v</span>&nbsp;<span class="builtintype" id="2033198">float64</span><span class="op" id="2033205">,</span>&nbsp;<span class="ident" id="2033207">verb</span>&nbsp;<span class="builtintype" id="2033212">rune</span><span class="op" id="2033216">)</span>&nbsp;<span class="op" id="2033218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033221">switch</span>&nbsp;<span class="ident" id="2033228">verb</span>&nbsp;<span class="op" id="2033233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033236">case</span>&nbsp;<span class="string" id="2033241">&#39;b&#39;</span><span class="op" id="2033244">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033248">p</span><span class="op" id="2033249">.</span><span class="ident" id="2033250">fmt</span><span class="op" id="2033253">.</span><span class="ident" id="2033254">fmt_fb64</span><span class="op" id="2033262">(</span><span class="ident" id="2033263">v</span><span class="op" id="2033264">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033267">case</span>&nbsp;<span class="string" id="2033272">&#39;e&#39;</span><span class="op" id="2033275">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033279">p</span><span class="op" id="2033280">.</span><span class="ident" id="2033281">fmt</span><span class="op" id="2033284">.</span><span class="ident" id="2033285">fmt_e64</span><span class="op" id="2033292">(</span><span class="ident" id="2033293">v</span><span class="op" id="2033294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033297">case</span>&nbsp;<span class="string" id="2033302">&#39;E&#39;</span><span class="op" id="2033305">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033309">p</span><span class="op" id="2033310">.</span><span class="ident" id="2033311">fmt</span><span class="op" id="2033314">.</span><span class="ident" id="2033315">fmt_E64</span><span class="op" id="2033322">(</span><span class="ident" id="2033323">v</span><span class="op" id="2033324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033327">case</span>&nbsp;<span class="string" id="2033332">&#39;f&#39;</span><span class="op" id="2033335">,</span>&nbsp;<span class="string" id="2033337">&#39;F&#39;</span><span class="op" id="2033340">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033344">p</span><span class="op" id="2033345">.</span><span class="ident" id="2033346">fmt</span><span class="op" id="2033349">.</span><span class="ident" id="2033350">fmt_f64</span><span class="op" id="2033357">(</span><span class="ident" id="2033358">v</span><span class="op" id="2033359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033362">case</span>&nbsp;<span class="string" id="2033367">&#39;g&#39;</span><span class="op" id="2033370">,</span>&nbsp;<span class="string" id="2033372">&#39;v&#39;</span><span class="op" id="2033375">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033379">p</span><span class="op" id="2033380">.</span><span class="ident" id="2033381">fmt</span><span class="op" id="2033384">.</span><span class="ident" id="2033385">fmt_g64</span><span class="op" id="2033392">(</span><span class="ident" id="2033393">v</span><span class="op" id="2033394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033397">case</span>&nbsp;<span class="string" id="2033402">&#39;G&#39;</span><span class="op" id="2033405">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033409">p</span><span class="op" id="2033410">.</span><span class="ident" id="2033411">fmt</span><span class="op" id="2033414">.</span><span class="ident" id="2033415">fmt_G64</span><span class="op" id="2033422">(</span><span class="ident" id="2033423">v</span><span class="op" id="2033424">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033427">default</span><span class="op" id="2033434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033438">p</span><span class="op" id="2033439">.</span><span class="ident" id="2033440">badVerb</span><span class="op" id="2033447">(</span><span class="ident" id="2033448">verb</span><span class="op" id="2033452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2033455">}</span><br>
<span class="lineno"></span><span class="op" id="2033457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2033460">func</span>&nbsp;<span class="op" id="2033465">(</span><span class="ident" id="2033466">p</span>&nbsp;<span class="op" id="2033468">*</span><span class="ident" id="2033469">pp</span><span class="op" id="2033471">)</span>&nbsp;<span class="ident" id="2033473">fmtComplex64</span><span class="op" id="2033485">(</span><span class="ident" id="2033486">v</span>&nbsp;<span class="builtintype" id="2033488">complex64</span><span class="op" id="2033497">,</span>&nbsp;<span class="ident" id="2033499">verb</span>&nbsp;<span class="builtintype" id="2033504">rune</span><span class="op" id="2033508">)</span>&nbsp;<span class="op" id="2033510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033513">switch</span>&nbsp;<span class="ident" id="2033520">verb</span>&nbsp;<span class="op" id="2033525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033528">case</span>&nbsp;<span class="string" id="2033533">&#39;b&#39;</span><span class="op" id="2033536">,</span>&nbsp;<span class="string" id="2033538">&#39;e&#39;</span><span class="op" id="2033541">,</span>&nbsp;<span class="string" id="2033543">&#39;E&#39;</span><span class="op" id="2033546">,</span>&nbsp;<span class="string" id="2033548">&#39;f&#39;</span><span class="op" id="2033551">,</span>&nbsp;<span class="string" id="2033553">&#39;F&#39;</span><span class="op" id="2033556">,</span>&nbsp;<span class="string" id="2033558">&#39;g&#39;</span><span class="op" id="2033561">,</span>&nbsp;<span class="string" id="2033563">&#39;G&#39;</span><span class="op" id="2033566">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033570">p</span><span class="op" id="2033571">.</span><span class="ident" id="2033572">fmt</span><span class="op" id="2033575">.</span><span class="ident" id="2033576">fmt_c64</span><span class="op" id="2033583">(</span><span class="ident" id="2033584">v</span><span class="op" id="2033585">,</span>&nbsp;<span class="ident" id="2033587">verb</span><span class="op" id="2033591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033594">case</span>&nbsp;<span class="string" id="2033599">&#39;v&#39;</span><span class="op" id="2033602">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033606">p</span><span class="op" id="2033607">.</span><span class="ident" id="2033608">fmt</span><span class="op" id="2033611">.</span><span class="ident" id="2033612">fmt_c64</span><span class="op" id="2033619">(</span><span class="ident" id="2033620">v</span><span class="op" id="2033621">,</span>&nbsp;<span class="string" id="2033623">&#39;g&#39;</span><span class="op" id="2033626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033629">default</span><span class="op" id="2033636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033640">p</span><span class="op" id="2033641">.</span><span class="ident" id="2033642">badVerb</span><span class="op" id="2033649">(</span><span class="ident" id="2033650">verb</span><span class="op" id="2033654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2033657">}</span><br>
<span class="lineno"></span><span class="op" id="2033659">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2033662">func</span>&nbsp;<span class="op" id="2033667">(</span><span class="ident" id="2033668">p</span>&nbsp;<span class="op" id="2033670">*</span><span class="ident" id="2033671">pp</span><span class="op" id="2033673">)</span>&nbsp;<span class="ident" id="2033675">fmtComplex128</span><span class="op" id="2033688">(</span><span class="ident" id="2033689">v</span>&nbsp;<span class="builtintype" id="2033691">complex128</span><span class="op" id="2033701">,</span>&nbsp;<span class="ident" id="2033703">verb</span>&nbsp;<span class="builtintype" id="2033708">rune</span><span class="op" id="2033712">)</span>&nbsp;<span class="op" id="2033714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033717">switch</span>&nbsp;<span class="ident" id="2033724">verb</span>&nbsp;<span class="op" id="2033729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033732">case</span>&nbsp;<span class="string" id="2033737">&#39;b&#39;</span><span class="op" id="2033740">,</span>&nbsp;<span class="string" id="2033742">&#39;e&#39;</span><span class="op" id="2033745">,</span>&nbsp;<span class="string" id="2033747">&#39;E&#39;</span><span class="op" id="2033750">,</span>&nbsp;<span class="string" id="2033752">&#39;f&#39;</span><span class="op" id="2033755">,</span>&nbsp;<span class="string" id="2033757">&#39;F&#39;</span><span class="op" id="2033760">,</span>&nbsp;<span class="string" id="2033762">&#39;g&#39;</span><span class="op" id="2033765">,</span>&nbsp;<span class="string" id="2033767">&#39;G&#39;</span><span class="op" id="2033770">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033774">p</span><span class="op" id="2033775">.</span><span class="ident" id="2033776">fmt</span><span class="op" id="2033779">.</span><span class="ident" id="2033780">fmt_c128</span><span class="op" id="2033788">(</span><span class="ident" id="2033789">v</span><span class="op" id="2033790">,</span>&nbsp;<span class="ident" id="2033792">verb</span><span class="op" id="2033796">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033799">case</span>&nbsp;<span class="string" id="2033804">&#39;v&#39;</span><span class="op" id="2033807">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033811">p</span><span class="op" id="2033812">.</span><span class="ident" id="2033813">fmt</span><span class="op" id="2033816">.</span><span class="ident" id="2033817">fmt_c128</span><span class="op" id="2033825">(</span><span class="ident" id="2033826">v</span><span class="op" id="2033827">,</span>&nbsp;<span class="string" id="2033829">&#39;g&#39;</span><span class="op" id="2033832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033835">default</span><span class="op" id="2033842">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033846">p</span><span class="op" id="2033847">.</span><span class="ident" id="2033848">badVerb</span><span class="op" id="2033855">(</span><span class="ident" id="2033856">verb</span><span class="op" id="2033860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2033863">}</span><br>
<span class="lineno">500</span><span class="op" id="2033865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2033868">func</span>&nbsp;<span class="op" id="2033873">(</span><span class="ident" id="2033874">p</span>&nbsp;<span class="op" id="2033876">*</span><span class="ident" id="2033877">pp</span><span class="op" id="2033879">)</span>&nbsp;<span class="ident" id="2033881">fmtString</span><span class="op" id="2033890">(</span><span class="ident" id="2033891">v</span>&nbsp;<span class="builtintype" id="2033893">string</span><span class="op" id="2033899">,</span>&nbsp;<span class="ident" id="2033901">verb</span>&nbsp;<span class="builtintype" id="2033906">rune</span><span class="op" id="2033910">)</span>&nbsp;<span class="op" id="2033912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033915">switch</span>&nbsp;<span class="ident" id="2033922">verb</span>&nbsp;<span class="op" id="2033927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033930">case</span>&nbsp;<span class="string" id="2033935">&#39;v&#39;</span><span class="op" id="2033938">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2033942">if</span>&nbsp;<span class="ident" id="2033945">p</span><span class="op" id="2033946">.</span><span class="ident" id="2033947">fmt</span><span class="op" id="2033950">.</span><span class="ident" id="2033951">sharpV</span>&nbsp;<span class="op" id="2033958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033963">p</span><span class="op" id="2033964">.</span><span class="ident" id="2033965">fmt</span><span class="op" id="2033968">.</span><span class="ident" id="2033969">fmt_q</span><span class="op" id="2033974">(</span><span class="ident" id="2033975">v</span><span class="op" id="2033976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2033980">}</span>&nbsp;<span class="keyword" id="2033982">else</span>&nbsp;<span class="op" id="2033987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2033992">p</span><span class="op" id="2033993">.</span><span class="ident" id="2033994">fmt</span><span class="op" id="2033997">.</span><span class="ident" id="2033998">fmt_s</span><span class="op" id="2034003">(</span><span class="ident" id="2034004">v</span><span class="op" id="2034005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034009">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034012">case</span>&nbsp;<span class="string" id="2034017">&#39;s&#39;</span><span class="op" id="2034020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034024">p</span><span class="op" id="2034025">.</span><span class="ident" id="2034026">fmt</span><span class="op" id="2034029">.</span><span class="ident" id="2034030">fmt_s</span><span class="op" id="2034035">(</span><span class="ident" id="2034036">v</span><span class="op" id="2034037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034040">case</span>&nbsp;<span class="string" id="2034045">&#39;x&#39;</span><span class="op" id="2034048">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034052">p</span><span class="op" id="2034053">.</span><span class="ident" id="2034054">fmt</span><span class="op" id="2034057">.</span><span class="ident" id="2034058">fmt_sx</span><span class="op" id="2034064">(</span><span class="ident" id="2034065">v</span><span class="op" id="2034066">,</span>&nbsp;<span class="ident" id="2034068">ldigits</span><span class="op" id="2034075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034078">case</span>&nbsp;<span class="string" id="2034083">&#39;X&#39;</span><span class="op" id="2034086">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034090">p</span><span class="op" id="2034091">.</span><span class="ident" id="2034092">fmt</span><span class="op" id="2034095">.</span><span class="ident" id="2034096">fmt_sx</span><span class="op" id="2034102">(</span><span class="ident" id="2034103">v</span><span class="op" id="2034104">,</span>&nbsp;<span class="ident" id="2034106">udigits</span><span class="op" id="2034113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034116">case</span>&nbsp;<span class="string" id="2034121">&#39;q&#39;</span><span class="op" id="2034124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034128">p</span><span class="op" id="2034129">.</span><span class="ident" id="2034130">fmt</span><span class="op" id="2034133">.</span><span class="ident" id="2034134">fmt_q</span><span class="op" id="2034139">(</span><span class="ident" id="2034140">v</span><span class="op" id="2034141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034144">default</span><span class="op" id="2034151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034155">p</span><span class="op" id="2034156">.</span><span class="ident" id="2034157">badVerb</span><span class="op" id="2034164">(</span><span class="ident" id="2034165">verb</span><span class="op" id="2034169">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034172">}</span><br>
<span class="lineno"></span><span class="op" id="2034174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2034177">func</span>&nbsp;<span class="op" id="2034182">(</span><span class="ident" id="2034183">p</span>&nbsp;<span class="op" id="2034185">*</span><span class="ident" id="2034186">pp</span><span class="op" id="2034188">)</span>&nbsp;<span class="ident" id="2034190">fmtBytes</span><span class="op" id="2034198">(</span><span class="ident" id="2034199">v</span>&nbsp;<span class="op" id="2034201">[</span><span class="op" id="2034202">]</span><span class="builtintype" id="2034203">byte</span><span class="op" id="2034207">,</span>&nbsp;<span class="ident" id="2034209">verb</span>&nbsp;<span class="builtintype" id="2034214">rune</span><span class="op" id="2034218">,</span>&nbsp;<span class="ident" id="2034220">typ</span>&nbsp;<span class="ident" id="2034224">reflect</span><span class="op" id="2034231">.</span><span class="ident" id="2034232">Type</span><span class="op" id="2034236">,</span>&nbsp;<span class="ident" id="2034238">depth</span>&nbsp;<span class="builtintype" id="2034244">int</span><span class="op" id="2034247">)</span>&nbsp;<span class="op" id="2034249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034252">if</span>&nbsp;<span class="ident" id="2034255">verb</span>&nbsp;<span class="op" id="2034260">==</span>&nbsp;<span class="string" id="2034263">&#39;v&#39;</span>&nbsp;<span class="op" id="2034267">||</span>&nbsp;<span class="ident" id="2034270">verb</span>&nbsp;<span class="op" id="2034275">==</span>&nbsp;<span class="string" id="2034278">&#39;d&#39;</span>&nbsp;<span class="op" id="2034282">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034286">if</span>&nbsp;<span class="ident" id="2034289">p</span><span class="op" id="2034290">.</span><span class="ident" id="2034291">fmt</span><span class="op" id="2034294">.</span><span class="ident" id="2034295">sharpV</span>&nbsp;<span class="op" id="2034302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034307">if</span>&nbsp;<span class="ident" id="2034310">v</span>&nbsp;<span class="op" id="2034312">==</span>&nbsp;<span class="ident" id="2034315">nil</span>&nbsp;<span class="op" id="2034319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034325">if</span>&nbsp;<span class="ident" id="2034328">typ</span>&nbsp;<span class="op" id="2034332">==</span>&nbsp;<span class="ident" id="2034335">nil</span>&nbsp;<span class="op" id="2034339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034346">p</span><span class="op" id="2034347">.</span><span class="ident" id="2034348">buf</span><span class="op" id="2034351">.</span><span class="ident" id="2034352">WriteString</span><span class="op" id="2034363">(</span><span class="string" id="2034364">&#34;[]byte(nil)&#34;</span><span class="op" id="2034377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034383">}</span>&nbsp;<span class="keyword" id="2034385">else</span>&nbsp;<span class="op" id="2034390">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034397">p</span><span class="op" id="2034398">.</span><span class="ident" id="2034399">buf</span><span class="op" id="2034402">.</span><span class="ident" id="2034403">WriteString</span><span class="op" id="2034414">(</span><span class="ident" id="2034415">typ</span><span class="op" id="2034418">.</span><span class="ident" id="2034419">String</span><span class="op" id="2034425">(</span><span class="op" id="2034426">)</span><span class="op" id="2034427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034434">p</span><span class="op" id="2034435">.</span><span class="ident" id="2034436">buf</span><span class="op" id="2034439">.</span><span class="ident" id="2034440">Write</span><span class="op" id="2034445">(</span><span class="ident" id="2034446">nilParenBytes</span><span class="op" id="2034459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034471">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034481">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034486">if</span>&nbsp;<span class="ident" id="2034489">typ</span>&nbsp;<span class="op" id="2034493">==</span>&nbsp;<span class="ident" id="2034496">nil</span>&nbsp;<span class="op" id="2034500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034506">p</span><span class="op" id="2034507">.</span><span class="ident" id="2034508">buf</span><span class="op" id="2034511">.</span><span class="ident" id="2034512">Write</span><span class="op" id="2034517">(</span><span class="ident" id="2034518">bytesBytes</span><span class="op" id="2034528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034533">}</span>&nbsp;<span class="keyword" id="2034535">else</span>&nbsp;<span class="op" id="2034540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034546">p</span><span class="op" id="2034547">.</span><span class="ident" id="2034548">buf</span><span class="op" id="2034551">.</span><span class="ident" id="2034552">WriteString</span><span class="op" id="2034563">(</span><span class="ident" id="2034564">typ</span><span class="op" id="2034567">.</span><span class="ident" id="2034568">String</span><span class="op" id="2034574">(</span><span class="op" id="2034575">)</span><span class="op" id="2034576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034582">p</span><span class="op" id="2034583">.</span><span class="ident" id="2034584">buf</span><span class="op" id="2034587">.</span><span class="ident" id="2034588">WriteByte</span><span class="op" id="2034597">(</span><span class="string" id="2034598">&#39;{&#39;</span><span class="op" id="2034601">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034610">}</span>&nbsp;<span class="keyword" id="2034612">else</span>&nbsp;<span class="op" id="2034617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034622">p</span><span class="op" id="2034623">.</span><span class="ident" id="2034624">buf</span><span class="op" id="2034627">.</span><span class="ident" id="2034628">WriteByte</span><span class="op" id="2034637">(</span><span class="string" id="2034638">&#39;[&#39;</span><span class="op" id="2034641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034649">for</span>&nbsp;<span class="ident" id="2034653">i</span><span class="op" id="2034654">,</span>&nbsp;<span class="ident" id="2034656">c</span>&nbsp;<span class="op" id="2034658">:=</span>&nbsp;<span class="keyword" id="2034661">range</span>&nbsp;<span class="ident" id="2034667">v</span>&nbsp;<span class="op" id="2034669">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034674">if</span>&nbsp;<span class="ident" id="2034677">i</span>&nbsp;<span class="op" id="2034679">&gt;</span>&nbsp;<span class="num" id="2034681">0</span>&nbsp;<span class="op" id="2034683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034689">if</span>&nbsp;<span class="ident" id="2034692">p</span><span class="op" id="2034693">.</span><span class="ident" id="2034694">fmt</span><span class="op" id="2034697">.</span><span class="ident" id="2034698">sharpV</span>&nbsp;<span class="op" id="2034705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034712">p</span><span class="op" id="2034713">.</span><span class="ident" id="2034714">buf</span><span class="op" id="2034717">.</span><span class="ident" id="2034718">Write</span><span class="op" id="2034723">(</span><span class="ident" id="2034724">commaSpaceBytes</span><span class="op" id="2034739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034745">}</span>&nbsp;<span class="keyword" id="2034747">else</span>&nbsp;<span class="op" id="2034752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034759">p</span><span class="op" id="2034760">.</span><span class="ident" id="2034761">buf</span><span class="op" id="2034764">.</span><span class="ident" id="2034765">WriteByte</span><span class="op" id="2034774">(</span><span class="string" id="2034775">&#39;&nbsp;&#39;</span><span class="op" id="2034778">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034794">p</span><span class="op" id="2034795">.</span><span class="ident" id="2034796">printArg</span><span class="op" id="2034804">(</span><span class="ident" id="2034805">c</span><span class="op" id="2034806">,</span>&nbsp;<span class="string" id="2034808">&#39;v&#39;</span><span class="op" id="2034811">,</span>&nbsp;<span class="ident" id="2034813">depth</span><span class="op" id="2034818">+</span><span class="num" id="2034819">1</span><span class="op" id="2034820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034828">if</span>&nbsp;<span class="ident" id="2034831">p</span><span class="op" id="2034832">.</span><span class="ident" id="2034833">fmt</span><span class="op" id="2034836">.</span><span class="ident" id="2034837">sharpV</span>&nbsp;<span class="op" id="2034844">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034849">p</span><span class="op" id="2034850">.</span><span class="ident" id="2034851">buf</span><span class="op" id="2034854">.</span><span class="ident" id="2034855">WriteByte</span><span class="op" id="2034864">(</span><span class="string" id="2034865">&#39;}&#39;</span><span class="op" id="2034868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034872">}</span>&nbsp;<span class="keyword" id="2034874">else</span>&nbsp;<span class="op" id="2034879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034884">p</span><span class="op" id="2034885">.</span><span class="ident" id="2034886">buf</span><span class="op" id="2034889">.</span><span class="ident" id="2034890">WriteByte</span><span class="op" id="2034899">(</span><span class="string" id="2034900">&#39;]&#39;</span><span class="op" id="2034903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034911">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2034919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034922">switch</span>&nbsp;<span class="ident" id="2034929">verb</span>&nbsp;<span class="op" id="2034934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034937">case</span>&nbsp;<span class="string" id="2034942">&#39;s&#39;</span><span class="op" id="2034945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034949">p</span><span class="op" id="2034950">.</span><span class="ident" id="2034951">fmt</span><span class="op" id="2034954">.</span><span class="ident" id="2034955">fmt_s</span><span class="op" id="2034960">(</span><span class="builtintype" id="2034961">string</span><span class="op" id="2034967">(</span><span class="ident" id="2034968">v</span><span class="op" id="2034969">)</span><span class="op" id="2034970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2034973">case</span>&nbsp;<span class="string" id="2034978">&#39;x&#39;</span><span class="op" id="2034981">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2034985">p</span><span class="op" id="2034986">.</span><span class="ident" id="2034987">fmt</span><span class="op" id="2034990">.</span><span class="ident" id="2034991">fmt_bx</span><span class="op" id="2034997">(</span><span class="ident" id="2034998">v</span><span class="op" id="2034999">,</span>&nbsp;<span class="ident" id="2035001">ldigits</span><span class="op" id="2035008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035011">case</span>&nbsp;<span class="string" id="2035016">&#39;X&#39;</span><span class="op" id="2035019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035023">p</span><span class="op" id="2035024">.</span><span class="ident" id="2035025">fmt</span><span class="op" id="2035028">.</span><span class="ident" id="2035029">fmt_bx</span><span class="op" id="2035035">(</span><span class="ident" id="2035036">v</span><span class="op" id="2035037">,</span>&nbsp;<span class="ident" id="2035039">udigits</span><span class="op" id="2035046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035049">case</span>&nbsp;<span class="string" id="2035054">&#39;q&#39;</span><span class="op" id="2035057">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035061">p</span><span class="op" id="2035062">.</span><span class="ident" id="2035063">fmt</span><span class="op" id="2035066">.</span><span class="ident" id="2035067">fmt_q</span><span class="op" id="2035072">(</span><span class="builtintype" id="2035073">string</span><span class="op" id="2035079">(</span><span class="ident" id="2035080">v</span><span class="op" id="2035081">)</span><span class="op" id="2035082">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035085">default</span><span class="op" id="2035092">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035096">p</span><span class="op" id="2035097">.</span><span class="ident" id="2035098">badVerb</span><span class="op" id="2035105">(</span><span class="ident" id="2035106">verb</span><span class="op" id="2035110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035113">}</span><br>
<span class="lineno"></span><span class="op" id="2035115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2035118">func</span>&nbsp;<span class="op" id="2035123">(</span><span class="ident" id="2035124">p</span>&nbsp;<span class="op" id="2035126">*</span><span class="ident" id="2035127">pp</span><span class="op" id="2035129">)</span>&nbsp;<span class="ident" id="2035131">fmtPointer</span><span class="op" id="2035141">(</span><span class="ident" id="2035142">value</span>&nbsp;<span class="ident" id="2035148">reflect</span><span class="op" id="2035155">.</span><span class="ident" id="2035156">Value</span><span class="op" id="2035161">,</span>&nbsp;<span class="ident" id="2035163">verb</span>&nbsp;<span class="builtintype" id="2035168">rune</span><span class="op" id="2035172">)</span>&nbsp;<span class="op" id="2035174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035177">use0x64</span>&nbsp;<span class="op" id="2035185">:=</span>&nbsp;<span class="builtintype" id="2035188">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035194">switch</span>&nbsp;<span class="ident" id="2035201">verb</span>&nbsp;<span class="op" id="2035206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035209">case</span>&nbsp;<span class="string" id="2035214">&#39;p&#39;</span><span class="op" id="2035217">,</span>&nbsp;<span class="string" id="2035219">&#39;v&#39;</span><span class="op" id="2035222">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2035226">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035233">case</span>&nbsp;<span class="string" id="2035238">&#39;b&#39;</span><span class="op" id="2035241">,</span>&nbsp;<span class="string" id="2035243">&#39;d&#39;</span><span class="op" id="2035246">,</span>&nbsp;<span class="string" id="2035248">&#39;o&#39;</span><span class="op" id="2035251">,</span>&nbsp;<span class="string" id="2035253">&#39;x&#39;</span><span class="op" id="2035256">,</span>&nbsp;<span class="string" id="2035258">&#39;X&#39;</span><span class="op" id="2035261">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035265">use0x64</span>&nbsp;<span class="op" id="2035273">=</span>&nbsp;<span class="builtintype" id="2035275">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2035283">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035290">default</span><span class="op" id="2035297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035301">p</span><span class="op" id="2035302">.</span><span class="ident" id="2035303">badVerb</span><span class="op" id="2035310">(</span><span class="ident" id="2035311">verb</span><span class="op" id="2035315">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035319">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035331">var</span>&nbsp;<span class="ident" id="2035335">u</span>&nbsp;<span class="builtintype" id="2035337">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035346">switch</span>&nbsp;<span class="ident" id="2035353">value</span><span class="op" id="2035358">.</span><span class="ident" id="2035359">Kind</span><span class="op" id="2035363">(</span><span class="op" id="2035364">)</span>&nbsp;<span class="op" id="2035366">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035369">case</span>&nbsp;<span class="ident" id="2035374">reflect</span><span class="op" id="2035381">.</span><span class="ident" id="2035382">Chan</span><span class="op" id="2035386">,</span>&nbsp;<span class="ident" id="2035388">reflect</span><span class="op" id="2035395">.</span><span class="ident" id="2035396">Func</span><span class="op" id="2035400">,</span>&nbsp;<span class="ident" id="2035402">reflect</span><span class="op" id="2035409">.</span><span class="ident" id="2035410">Map</span><span class="op" id="2035413">,</span>&nbsp;<span class="ident" id="2035415">reflect</span><span class="op" id="2035422">.</span><span class="ident" id="2035423">Ptr</span><span class="op" id="2035426">,</span>&nbsp;<span class="ident" id="2035428">reflect</span><span class="op" id="2035435">.</span><span class="ident" id="2035436">Slice</span><span class="op" id="2035441">,</span>&nbsp;<span class="ident" id="2035443">reflect</span><span class="op" id="2035450">.</span><span class="ident" id="2035451">UnsafePointer</span><span class="op" id="2035464">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035468">u</span>&nbsp;<span class="op" id="2035470">=</span>&nbsp;<span class="ident" id="2035472">value</span><span class="op" id="2035477">.</span><span class="ident" id="2035478">Pointer</span><span class="op" id="2035485">(</span><span class="op" id="2035486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035489">default</span><span class="op" id="2035496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035500">p</span><span class="op" id="2035501">.</span><span class="ident" id="2035502">badVerb</span><span class="op" id="2035509">(</span><span class="ident" id="2035510">verb</span><span class="op" id="2035514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035518">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035530">if</span>&nbsp;<span class="ident" id="2035533">p</span><span class="op" id="2035534">.</span><span class="ident" id="2035535">fmt</span><span class="op" id="2035538">.</span><span class="ident" id="2035539">sharpV</span>&nbsp;<span class="op" id="2035546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035550">p</span><span class="op" id="2035551">.</span><span class="ident" id="2035552">add</span><span class="op" id="2035555">(</span><span class="string" id="2035556">&#39;(&#39;</span><span class="op" id="2035559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035563">p</span><span class="op" id="2035564">.</span><span class="ident" id="2035565">buf</span><span class="op" id="2035568">.</span><span class="ident" id="2035569">WriteString</span><span class="op" id="2035580">(</span><span class="ident" id="2035581">value</span><span class="op" id="2035586">.</span><span class="ident" id="2035587">Type</span><span class="op" id="2035591">(</span><span class="op" id="2035592">)</span><span class="op" id="2035593">.</span><span class="ident" id="2035594">String</span><span class="op" id="2035600">(</span><span class="op" id="2035601">)</span><span class="op" id="2035602">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035606">p</span><span class="op" id="2035607">.</span><span class="ident" id="2035608">add</span><span class="op" id="2035611">(</span><span class="string" id="2035612">&#39;)&#39;</span><span class="op" id="2035615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035619">p</span><span class="op" id="2035620">.</span><span class="ident" id="2035621">add</span><span class="op" id="2035624">(</span><span class="string" id="2035625">&#39;(&#39;</span><span class="op" id="2035628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035632">if</span>&nbsp;<span class="ident" id="2035635">u</span>&nbsp;<span class="op" id="2035637">==</span>&nbsp;<span class="num" id="2035640">0</span>&nbsp;<span class="op" id="2035642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035647">p</span><span class="op" id="2035648">.</span><span class="ident" id="2035649">buf</span><span class="op" id="2035652">.</span><span class="ident" id="2035653">Write</span><span class="op" id="2035658">(</span><span class="ident" id="2035659">nilBytes</span><span class="op" id="2035667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035671">}</span>&nbsp;<span class="keyword" id="2035673">else</span>&nbsp;<span class="op" id="2035678">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035683">p</span><span class="op" id="2035684">.</span><span class="ident" id="2035685">fmt0x64</span><span class="op" id="2035692">(</span><span class="ident" id="2035693">uint64</span><span class="op" id="2035699">(</span><span class="ident" id="2035700">u</span><span class="op" id="2035701">)</span><span class="op" id="2035702">,</span>&nbsp;<span class="builtintype" id="2035704">true</span><span class="op" id="2035708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035716">p</span><span class="op" id="2035717">.</span><span class="ident" id="2035718">add</span><span class="op" id="2035721">(</span><span class="string" id="2035722">&#39;)&#39;</span><span class="op" id="2035725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035728">}</span>&nbsp;<span class="keyword" id="2035730">else</span>&nbsp;<span class="keyword" id="2035735">if</span>&nbsp;<span class="ident" id="2035738">verb</span>&nbsp;<span class="op" id="2035743">==</span>&nbsp;<span class="string" id="2035746">&#39;v&#39;</span>&nbsp;<span class="op" id="2035750">&amp;&amp;</span>&nbsp;<span class="ident" id="2035753">u</span>&nbsp;<span class="op" id="2035755">==</span>&nbsp;<span class="num" id="2035758">0</span>&nbsp;<span class="op" id="2035760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035764">p</span><span class="op" id="2035765">.</span><span class="ident" id="2035766">buf</span><span class="op" id="2035769">.</span><span class="ident" id="2035770">Write</span><span class="op" id="2035775">(</span><span class="ident" id="2035776">nilAngleBytes</span><span class="op" id="2035789">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035792">}</span>&nbsp;<span class="keyword" id="2035794">else</span>&nbsp;<span class="op" id="2035799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2035803">if</span>&nbsp;<span class="ident" id="2035806">use0x64</span>&nbsp;<span class="op" id="2035814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035819">p</span><span class="op" id="2035820">.</span><span class="ident" id="2035821">fmt0x64</span><span class="op" id="2035828">(</span><span class="ident" id="2035829">uint64</span><span class="op" id="2035835">(</span><span class="ident" id="2035836">u</span><span class="op" id="2035837">)</span><span class="op" id="2035838">,</span>&nbsp;<span class="op" id="2035840">!</span><span class="ident" id="2035841">p</span><span class="op" id="2035842">.</span><span class="ident" id="2035843">fmt</span><span class="op" id="2035846">.</span><span class="ident" id="2035847">sharp</span><span class="op" id="2035852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035856">}</span>&nbsp;<span class="keyword" id="2035858">else</span>&nbsp;<span class="op" id="2035863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035868">p</span><span class="op" id="2035869">.</span><span class="ident" id="2035870">fmtUint64</span><span class="op" id="2035879">(</span><span class="ident" id="2035880">uint64</span><span class="op" id="2035886">(</span><span class="ident" id="2035887">u</span><span class="op" id="2035888">)</span><span class="op" id="2035889">,</span>&nbsp;<span class="ident" id="2035891">verb</span><span class="op" id="2035895">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2035902">}</span><br>
<span class="lineno"></span><span class="op" id="2035904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2035907">var</span>&nbsp;<span class="op" id="2035911">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035914">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2035926">=</span>&nbsp;<span class="ident" id="2035928">reflect</span><span class="op" id="2035935">.</span><span class="ident" id="2035936">TypeOf</span><span class="op" id="2035942">(</span><span class="num" id="2035943">0</span><span class="op" id="2035944">)</span><span class="op" id="2035945">.</span><span class="ident" id="2035946">Bits</span><span class="op" id="2035950">(</span><span class="op" id="2035951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2035954">uintptrBits</span>&nbsp;<span class="op" id="2035966">=</span>&nbsp;<span class="ident" id="2035968">reflect</span><span class="op" id="2035975">.</span><span class="ident" id="2035976">TypeOf</span><span class="op" id="2035982">(</span><span class="builtintype" id="2035983">uintptr</span><span class="op" id="2035990">(</span><span class="num" id="2035991">0</span><span class="op" id="2035992">)</span><span class="op" id="2035993">)</span><span class="op" id="2035994">.</span><span class="ident" id="2035995">Bits</span><span class="op" id="2035999">(</span><span class="op" id="2036000">)</span><br>
<span class="lineno"></span><span class="op" id="2036002">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2036005">func</span>&nbsp;<span class="op" id="2036010">(</span><span class="ident" id="2036011">p</span>&nbsp;<span class="op" id="2036013">*</span><span class="ident" id="2036014">pp</span><span class="op" id="2036016">)</span>&nbsp;<span class="ident" id="2036018">catchPanic</span><span class="op" id="2036028">(</span><span class="ident" id="2036029">arg</span>&nbsp;<span class="keyword" id="2036033">interface</span><span class="op" id="2036042">{</span><span class="op" id="2036043">}</span><span class="op" id="2036044">,</span>&nbsp;<span class="ident" id="2036046">verb</span>&nbsp;<span class="builtintype" id="2036051">rune</span><span class="op" id="2036055">)</span>&nbsp;<span class="op" id="2036057">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036060">if</span>&nbsp;<span class="ident" id="2036063">err</span>&nbsp;<span class="op" id="2036067">:=</span>&nbsp;<span class="builtinfunc" id="2036070">recover</span><span class="op" id="2036077">(</span><span class="op" id="2036078">)</span><span class="op" id="2036079">;</span>&nbsp;<span class="ident" id="2036081">err</span>&nbsp;<span class="op" id="2036085">!=</span>&nbsp;<span class="ident" id="2036088">nil</span>&nbsp;<span class="op" id="2036092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2036096">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2036169">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2036238">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036305">if</span>&nbsp;<span class="ident" id="2036308">v</span>&nbsp;<span class="op" id="2036310">:=</span>&nbsp;<span class="ident" id="2036313">reflect</span><span class="op" id="2036320">.</span><span class="ident" id="2036321">ValueOf</span><span class="op" id="2036328">(</span><span class="ident" id="2036329">arg</span><span class="op" id="2036332">)</span><span class="op" id="2036333">;</span>&nbsp;<span class="ident" id="2036335">v</span><span class="op" id="2036336">.</span><span class="ident" id="2036337">Kind</span><span class="op" id="2036341">(</span><span class="op" id="2036342">)</span>&nbsp;<span class="op" id="2036344">==</span>&nbsp;<span class="ident" id="2036347">reflect</span><span class="op" id="2036354">.</span><span class="ident" id="2036355">Ptr</span>&nbsp;<span class="op" id="2036359">&amp;&amp;</span>&nbsp;<span class="ident" id="2036362">v</span><span class="op" id="2036363">.</span><span class="ident" id="2036364">IsNil</span><span class="op" id="2036369">(</span><span class="op" id="2036370">)</span>&nbsp;<span class="op" id="2036372">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036377">p</span><span class="op" id="2036378">.</span><span class="ident" id="2036379">buf</span><span class="op" id="2036382">.</span><span class="ident" id="2036383">Write</span><span class="op" id="2036388">(</span><span class="ident" id="2036389">nilAngleBytes</span><span class="op" id="2036402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036407">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2036416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2036420">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2036493">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2036530">if</span>&nbsp;<span class="ident" id="2036533">p</span><span class="op" id="2036534">.</span><span class="ident" id="2036535">panicking</span>&nbsp;<span class="op" id="2036545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2036550">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2036613">panic</span><span class="op" id="2036618">(</span><span class="ident" id="2036619">err</span><span class="op" id="2036622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2036626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036630">p</span><span class="op" id="2036631">.</span><span class="ident" id="2036632">fmt</span><span class="op" id="2036635">.</span><span class="ident" id="2036636">clearflags</span><span class="op" id="2036646">(</span><span class="op" id="2036647">)</span>&nbsp;<span class="comment" id="2036649">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036713">p</span><span class="op" id="2036714">.</span><span class="ident" id="2036715">buf</span><span class="op" id="2036718">.</span><span class="ident" id="2036719">Write</span><span class="op" id="2036724">(</span><span class="ident" id="2036725">percentBangBytes</span><span class="op" id="2036741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036745">p</span><span class="op" id="2036746">.</span><span class="ident" id="2036747">add</span><span class="op" id="2036750">(</span><span class="ident" id="2036751">verb</span><span class="op" id="2036755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036759">p</span><span class="op" id="2036760">.</span><span class="ident" id="2036761">buf</span><span class="op" id="2036764">.</span><span class="ident" id="2036765">Write</span><span class="op" id="2036770">(</span><span class="ident" id="2036771">panicBytes</span><span class="op" id="2036781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036785">p</span><span class="op" id="2036786">.</span><span class="ident" id="2036787">panicking</span>&nbsp;<span class="op" id="2036797">=</span>&nbsp;<span class="builtintype" id="2036799">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036806">p</span><span class="op" id="2036807">.</span><span class="ident" id="2036808">printArg</span><span class="op" id="2036816">(</span><span class="ident" id="2036817">err</span><span class="op" id="2036820">,</span>&nbsp;<span class="string" id="2036822">&#39;v&#39;</span><span class="op" id="2036825">,</span>&nbsp;<span class="num" id="2036827">0</span><span class="op" id="2036828">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036832">p</span><span class="op" id="2036833">.</span><span class="ident" id="2036834">panicking</span>&nbsp;<span class="op" id="2036844">=</span>&nbsp;<span class="builtintype" id="2036846">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2036854">p</span><span class="op" id="2036855">.</span><span class="ident" id="2036856">buf</span><span class="op" id="2036859">.</span><span class="ident" id="2036860">WriteByte</span><span class="op" id="2036869">(</span><span class="string" id="2036870">&#39;)&#39;</span><span class="op" id="2036873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2036876">}</span><br>
<span class="lineno"></span><span class="op" id="2036878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2036881">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2036970">func</span>&nbsp;<span class="op" id="2036975">(</span><span class="ident" id="2036976">p</span>&nbsp;<span class="op" id="2036978">*</span><span class="ident" id="2036979">pp</span><span class="op" id="2036981">)</span>&nbsp;<span class="ident" id="2036983">clearSpecialFlags</span><span class="op" id="2037000">(</span><span class="op" id="2037001">)</span>&nbsp;<span class="op" id="2037003">(</span><span class="ident" id="2037004">plusV</span><span class="op" id="2037009">,</span>&nbsp;<span class="ident" id="2037011">sharpV</span>&nbsp;<span class="builtintype" id="2037018">bool</span><span class="op" id="2037022">)</span>&nbsp;<span class="op" id="2037024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037027">plusV</span>&nbsp;<span class="op" id="2037033">=</span>&nbsp;<span class="ident" id="2037035">p</span><span class="op" id="2037036">.</span><span class="ident" id="2037037">fmt</span><span class="op" id="2037040">.</span><span class="ident" id="2037041">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037048">if</span>&nbsp;<span class="ident" id="2037051">plusV</span>&nbsp;<span class="op" id="2037057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037061">p</span><span class="op" id="2037062">.</span><span class="ident" id="2037063">fmt</span><span class="op" id="2037066">.</span><span class="ident" id="2037067">plus</span>&nbsp;<span class="op" id="2037072">=</span>&nbsp;<span class="builtintype" id="2037074">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037081">p</span><span class="op" id="2037082">.</span><span class="ident" id="2037083">fmt</span><span class="op" id="2037086">.</span><span class="ident" id="2037087">plusV</span>&nbsp;<span class="op" id="2037093">=</span>&nbsp;<span class="builtintype" id="2037095">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037105">sharpV</span>&nbsp;<span class="op" id="2037112">=</span>&nbsp;<span class="ident" id="2037114">p</span><span class="op" id="2037115">.</span><span class="ident" id="2037116">fmt</span><span class="op" id="2037119">.</span><span class="ident" id="2037120">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037128">if</span>&nbsp;<span class="ident" id="2037131">sharpV</span>&nbsp;<span class="op" id="2037138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037142">p</span><span class="op" id="2037143">.</span><span class="ident" id="2037144">fmt</span><span class="op" id="2037147">.</span><span class="ident" id="2037148">sharp</span>&nbsp;<span class="op" id="2037154">=</span>&nbsp;<span class="builtintype" id="2037156">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037163">p</span><span class="op" id="2037164">.</span><span class="ident" id="2037165">fmt</span><span class="op" id="2037168">.</span><span class="ident" id="2037169">sharpV</span>&nbsp;<span class="op" id="2037176">=</span>&nbsp;<span class="builtintype" id="2037178">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037188">return</span><br>
<span class="lineno"></span><span class="op" id="2037195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2037198">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2037276">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2037331">func</span>&nbsp;<span class="op" id="2037336">(</span><span class="ident" id="2037337">p</span>&nbsp;<span class="op" id="2037339">*</span><span class="ident" id="2037340">pp</span><span class="op" id="2037342">)</span>&nbsp;<span class="ident" id="2037344">restoreSpecialFlags</span><span class="op" id="2037363">(</span><span class="ident" id="2037364">plusV</span><span class="op" id="2037369">,</span>&nbsp;<span class="ident" id="2037371">sharpV</span>&nbsp;<span class="builtintype" id="2037378">bool</span><span class="op" id="2037382">)</span>&nbsp;<span class="op" id="2037384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037387">if</span>&nbsp;<span class="ident" id="2037390">plusV</span>&nbsp;<span class="op" id="2037396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037400">p</span><span class="op" id="2037401">.</span><span class="ident" id="2037402">fmt</span><span class="op" id="2037405">.</span><span class="ident" id="2037406">plus</span>&nbsp;<span class="op" id="2037411">=</span>&nbsp;<span class="builtintype" id="2037413">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037421">p</span><span class="op" id="2037422">.</span><span class="ident" id="2037423">fmt</span><span class="op" id="2037426">.</span><span class="ident" id="2037427">plusV</span>&nbsp;<span class="op" id="2037433">=</span>&nbsp;<span class="builtintype" id="2037435">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037444">if</span>&nbsp;<span class="ident" id="2037447">sharpV</span>&nbsp;<span class="op" id="2037454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037458">p</span><span class="op" id="2037459">.</span><span class="ident" id="2037460">fmt</span><span class="op" id="2037463">.</span><span class="ident" id="2037464">sharp</span>&nbsp;<span class="op" id="2037470">=</span>&nbsp;<span class="builtintype" id="2037472">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037480">p</span><span class="op" id="2037481">.</span><span class="ident" id="2037482">fmt</span><span class="op" id="2037485">.</span><span class="ident" id="2037486">sharpV</span>&nbsp;<span class="op" id="2037493">=</span>&nbsp;<span class="builtintype" id="2037495">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037501">}</span><br>
<span class="lineno"></span><span class="op" id="2037503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2037506">func</span>&nbsp;<span class="op" id="2037511">(</span><span class="ident" id="2037512">p</span>&nbsp;<span class="op" id="2037514">*</span><span class="ident" id="2037515">pp</span><span class="op" id="2037517">)</span>&nbsp;<span class="ident" id="2037519">handleMethods</span><span class="op" id="2037532">(</span><span class="ident" id="2037533">verb</span>&nbsp;<span class="builtintype" id="2037538">rune</span><span class="op" id="2037542">,</span>&nbsp;<span class="ident" id="2037544">depth</span>&nbsp;<span class="builtintype" id="2037550">int</span><span class="op" id="2037553">)</span>&nbsp;<span class="op" id="2037555">(</span><span class="ident" id="2037556">handled</span>&nbsp;<span class="builtintype" id="2037564">bool</span><span class="op" id="2037568">)</span>&nbsp;<span class="op" id="2037570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037573">if</span>&nbsp;<span class="ident" id="2037576">p</span><span class="op" id="2037577">.</span><span class="ident" id="2037578">erroring</span>&nbsp;<span class="op" id="2037587">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037591">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2037602">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037625">if</span>&nbsp;<span class="ident" id="2037628">formatter</span><span class="op" id="2037637">,</span>&nbsp;<span class="ident" id="2037639">ok</span>&nbsp;<span class="op" id="2037642">:=</span>&nbsp;<span class="ident" id="2037645">p</span><span class="op" id="2037646">.</span><span class="ident" id="2037647">arg</span><span class="op" id="2037650">.</span><span class="op" id="2037651">(</span><span class="ident" id="2037652">Formatter</span><span class="op" id="2037661">)</span><span class="op" id="2037662">;</span>&nbsp;<span class="ident" id="2037664">ok</span>&nbsp;<span class="op" id="2037667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037671">handled</span>&nbsp;<span class="op" id="2037679">=</span>&nbsp;<span class="builtintype" id="2037681">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037688">defer</span>&nbsp;<span class="ident" id="2037694">p</span><span class="op" id="2037695">.</span><span class="ident" id="2037696">restoreSpecialFlags</span><span class="op" id="2037715">(</span><span class="ident" id="2037716">p</span><span class="op" id="2037717">.</span><span class="ident" id="2037718">clearSpecialFlags</span><span class="op" id="2037735">(</span><span class="op" id="2037736">)</span><span class="op" id="2037737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037741">defer</span>&nbsp;<span class="ident" id="2037747">p</span><span class="op" id="2037748">.</span><span class="ident" id="2037749">catchPanic</span><span class="op" id="2037759">(</span><span class="ident" id="2037760">p</span><span class="op" id="2037761">.</span><span class="ident" id="2037762">arg</span><span class="op" id="2037765">,</span>&nbsp;<span class="ident" id="2037767">verb</span><span class="op" id="2037771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037775">formatter</span><span class="op" id="2037784">.</span><span class="ident" id="2037785">Format</span><span class="op" id="2037791">(</span><span class="ident" id="2037792">p</span><span class="op" id="2037793">,</span>&nbsp;<span class="ident" id="2037795">verb</span><span class="op" id="2037799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037803">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2037811">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2037815">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037906">if</span>&nbsp;<span class="ident" id="2037909">p</span><span class="op" id="2037910">.</span><span class="ident" id="2037911">fmt</span><span class="op" id="2037914">.</span><span class="ident" id="2037915">sharpV</span>&nbsp;<span class="op" id="2037922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037926">if</span>&nbsp;<span class="ident" id="2037929">stringer</span><span class="op" id="2037937">,</span>&nbsp;<span class="ident" id="2037939">ok</span>&nbsp;<span class="op" id="2037942">:=</span>&nbsp;<span class="ident" id="2037945">p</span><span class="op" id="2037946">.</span><span class="ident" id="2037947">arg</span><span class="op" id="2037950">.</span><span class="op" id="2037951">(</span><span class="ident" id="2037952">GoStringer</span><span class="op" id="2037962">)</span><span class="op" id="2037963">;</span>&nbsp;<span class="ident" id="2037965">ok</span>&nbsp;<span class="op" id="2037968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2037973">handled</span>&nbsp;<span class="op" id="2037981">=</span>&nbsp;<span class="builtintype" id="2037983">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2037991">defer</span>&nbsp;<span class="ident" id="2037997">p</span><span class="op" id="2037998">.</span><span class="ident" id="2037999">catchPanic</span><span class="op" id="2038009">(</span><span class="ident" id="2038010">p</span><span class="op" id="2038011">.</span><span class="ident" id="2038012">arg</span><span class="op" id="2038015">,</span>&nbsp;<span class="ident" id="2038017">verb</span><span class="op" id="2038021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038026">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038072">p</span><span class="op" id="2038073">.</span><span class="ident" id="2038074">fmt</span><span class="op" id="2038077">.</span><span class="ident" id="2038078">fmt_s</span><span class="op" id="2038083">(</span><span class="ident" id="2038084">stringer</span><span class="op" id="2038092">.</span><span class="ident" id="2038093">GoString</span><span class="op" id="2038101">(</span><span class="op" id="2038102">)</span><span class="op" id="2038103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038108">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038117">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038120">}</span>&nbsp;<span class="keyword" id="2038122">else</span>&nbsp;<span class="op" id="2038127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038131">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038194">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038256">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038313">switch</span>&nbsp;<span class="ident" id="2038320">verb</span>&nbsp;<span class="op" id="2038325">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038329">case</span>&nbsp;<span class="string" id="2038334">&#39;v&#39;</span><span class="op" id="2038337">,</span>&nbsp;<span class="string" id="2038339">&#39;s&#39;</span><span class="op" id="2038342">,</span>&nbsp;<span class="string" id="2038344">&#39;x&#39;</span><span class="op" id="2038347">,</span>&nbsp;<span class="string" id="2038349">&#39;X&#39;</span><span class="op" id="2038352">,</span>&nbsp;<span class="string" id="2038354">&#39;q&#39;</span><span class="op" id="2038357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038362">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038396">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038446">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2038493">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038538">switch</span>&nbsp;<span class="ident" id="2038545">v</span>&nbsp;<span class="op" id="2038547">:=</span>&nbsp;<span class="ident" id="2038550">p</span><span class="op" id="2038551">.</span><span class="ident" id="2038552">arg</span><span class="op" id="2038555">.</span><span class="op" id="2038556">(</span><span class="keyword" id="2038557">type</span><span class="op" id="2038561">)</span>&nbsp;<span class="op" id="2038563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038568">case</span>&nbsp;<span class="builtintype" id="2038573">error</span><span class="op" id="2038578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038584">handled</span>&nbsp;<span class="op" id="2038592">=</span>&nbsp;<span class="builtintype" id="2038594">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038603">defer</span>&nbsp;<span class="ident" id="2038609">p</span><span class="op" id="2038610">.</span><span class="ident" id="2038611">catchPanic</span><span class="op" id="2038621">(</span><span class="ident" id="2038622">p</span><span class="op" id="2038623">.</span><span class="ident" id="2038624">arg</span><span class="op" id="2038627">,</span>&nbsp;<span class="ident" id="2038629">verb</span><span class="op" id="2038633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038639">p</span><span class="op" id="2038640">.</span><span class="ident" id="2038641">printArg</span><span class="op" id="2038649">(</span><span class="ident" id="2038650">v</span><span class="op" id="2038651">.</span><span class="ident" id="2038652">Error</span><span class="op" id="2038657">(</span><span class="op" id="2038658">)</span><span class="op" id="2038659">,</span>&nbsp;<span class="ident" id="2038661">verb</span><span class="op" id="2038665">,</span>&nbsp;<span class="ident" id="2038667">depth</span><span class="op" id="2038672">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038678">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038689">case</span>&nbsp;<span class="ident" id="2038694">Stringer</span><span class="op" id="2038702">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038708">handled</span>&nbsp;<span class="op" id="2038716">=</span>&nbsp;<span class="builtintype" id="2038718">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038727">defer</span>&nbsp;<span class="ident" id="2038733">p</span><span class="op" id="2038734">.</span><span class="ident" id="2038735">catchPanic</span><span class="op" id="2038745">(</span><span class="ident" id="2038746">p</span><span class="op" id="2038747">.</span><span class="ident" id="2038748">arg</span><span class="op" id="2038751">,</span>&nbsp;<span class="ident" id="2038753">verb</span><span class="op" id="2038757">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038763">p</span><span class="op" id="2038764">.</span><span class="ident" id="2038765">printArg</span><span class="op" id="2038773">(</span><span class="ident" id="2038774">v</span><span class="op" id="2038775">.</span><span class="ident" id="2038776">String</span><span class="op" id="2038782">(</span><span class="op" id="2038783">)</span><span class="op" id="2038784">,</span>&nbsp;<span class="ident" id="2038786">verb</span><span class="op" id="2038790">,</span>&nbsp;<span class="ident" id="2038792">depth</span><span class="op" id="2038797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038803">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2038820">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038823">return</span>&nbsp;<span class="builtintype" id="2038830">false</span><br>
<span class="lineno"></span><span class="op" id="2038836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2038839">func</span>&nbsp;<span class="op" id="2038844">(</span><span class="ident" id="2038845">p</span>&nbsp;<span class="op" id="2038847">*</span><span class="ident" id="2038848">pp</span><span class="op" id="2038850">)</span>&nbsp;<span class="ident" id="2038852">printArg</span><span class="op" id="2038860">(</span><span class="ident" id="2038861">arg</span>&nbsp;<span class="keyword" id="2038865">interface</span><span class="op" id="2038874">{</span><span class="op" id="2038875">}</span><span class="op" id="2038876">,</span>&nbsp;<span class="ident" id="2038878">verb</span>&nbsp;<span class="builtintype" id="2038883">rune</span><span class="op" id="2038887">,</span>&nbsp;<span class="ident" id="2038889">depth</span>&nbsp;<span class="builtintype" id="2038895">int</span><span class="op" id="2038898">)</span>&nbsp;<span class="op" id="2038900">(</span><span class="ident" id="2038901">wasString</span>&nbsp;<span class="builtintype" id="2038911">bool</span><span class="op" id="2038915">)</span>&nbsp;<span class="op" id="2038917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038920">p</span><span class="op" id="2038921">.</span><span class="ident" id="2038922">arg</span>&nbsp;<span class="op" id="2038926">=</span>&nbsp;<span class="ident" id="2038928">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2038933">p</span><span class="op" id="2038934">.</span><span class="ident" id="2038935">value</span>&nbsp;<span class="op" id="2038941">=</span>&nbsp;<span class="ident" id="2038943">reflect</span><span class="op" id="2038950">.</span><span class="ident" id="2038951">Value</span><span class="op" id="2038956">{</span><span class="op" id="2038957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038961">if</span>&nbsp;<span class="ident" id="2038964">arg</span>&nbsp;<span class="op" id="2038968">==</span>&nbsp;<span class="ident" id="2038971">nil</span>&nbsp;<span class="op" id="2038975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2038979">if</span>&nbsp;<span class="ident" id="2038982">verb</span>&nbsp;<span class="op" id="2038987">==</span>&nbsp;<span class="string" id="2038990">&#39;T&#39;</span>&nbsp;<span class="op" id="2038994">||</span>&nbsp;<span class="ident" id="2038997">verb</span>&nbsp;<span class="op" id="2039002">==</span>&nbsp;<span class="string" id="2039005">&#39;v&#39;</span>&nbsp;<span class="op" id="2039009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039014">p</span><span class="op" id="2039015">.</span><span class="ident" id="2039016">fmt</span><span class="op" id="2039019">.</span><span class="ident" id="2039020">pad</span><span class="op" id="2039023">(</span><span class="ident" id="2039024">nilAngleBytes</span><span class="op" id="2039037">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039041">}</span>&nbsp;<span class="keyword" id="2039043">else</span>&nbsp;<span class="op" id="2039048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039053">p</span><span class="op" id="2039054">.</span><span class="ident" id="2039055">badVerb</span><span class="op" id="2039062">(</span><span class="ident" id="2039063">verb</span><span class="op" id="2039067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039075">return</span>&nbsp;<span class="builtintype" id="2039082">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039089">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2039093">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2039132">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039217">switch</span>&nbsp;<span class="ident" id="2039224">verb</span>&nbsp;<span class="op" id="2039229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039232">case</span>&nbsp;<span class="string" id="2039237">&#39;T&#39;</span><span class="op" id="2039240">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039244">p</span><span class="op" id="2039245">.</span><span class="ident" id="2039246">printArg</span><span class="op" id="2039254">(</span><span class="ident" id="2039255">reflect</span><span class="op" id="2039262">.</span><span class="ident" id="2039263">TypeOf</span><span class="op" id="2039269">(</span><span class="ident" id="2039270">arg</span><span class="op" id="2039273">)</span><span class="op" id="2039274">.</span><span class="ident" id="2039275">String</span><span class="op" id="2039281">(</span><span class="op" id="2039282">)</span><span class="op" id="2039283">,</span>&nbsp;<span class="string" id="2039285">&#39;s&#39;</span><span class="op" id="2039288">,</span>&nbsp;<span class="num" id="2039290">0</span><span class="op" id="2039291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039295">return</span>&nbsp;<span class="builtintype" id="2039302">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039309">case</span>&nbsp;<span class="string" id="2039314">&#39;p&#39;</span><span class="op" id="2039317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039321">p</span><span class="op" id="2039322">.</span><span class="ident" id="2039323">fmtPointer</span><span class="op" id="2039333">(</span><span class="ident" id="2039334">reflect</span><span class="op" id="2039341">.</span><span class="ident" id="2039342">ValueOf</span><span class="op" id="2039349">(</span><span class="ident" id="2039350">arg</span><span class="op" id="2039353">)</span><span class="op" id="2039354">,</span>&nbsp;<span class="ident" id="2039356">verb</span><span class="op" id="2039360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039364">return</span>&nbsp;<span class="builtintype" id="2039371">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2039378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2039382">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039429">switch</span>&nbsp;<span class="ident" id="2039436">f</span>&nbsp;<span class="op" id="2039438">:=</span>&nbsp;<span class="ident" id="2039441">arg</span><span class="op" id="2039444">.</span><span class="op" id="2039445">(</span><span class="keyword" id="2039446">type</span><span class="op" id="2039450">)</span>&nbsp;<span class="op" id="2039452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039455">case</span>&nbsp;<span class="builtintype" id="2039460">bool</span><span class="op" id="2039464">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039468">p</span><span class="op" id="2039469">.</span><span class="ident" id="2039470">fmtBool</span><span class="op" id="2039477">(</span><span class="ident" id="2039478">f</span><span class="op" id="2039479">,</span>&nbsp;<span class="ident" id="2039481">verb</span><span class="op" id="2039485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039488">case</span>&nbsp;<span class="builtintype" id="2039493">float32</span><span class="op" id="2039500">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039504">p</span><span class="op" id="2039505">.</span><span class="ident" id="2039506">fmtFloat32</span><span class="op" id="2039516">(</span><span class="ident" id="2039517">f</span><span class="op" id="2039518">,</span>&nbsp;<span class="ident" id="2039520">verb</span><span class="op" id="2039524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039527">case</span>&nbsp;<span class="builtintype" id="2039532">float64</span><span class="op" id="2039539">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039543">p</span><span class="op" id="2039544">.</span><span class="ident" id="2039545">fmtFloat64</span><span class="op" id="2039555">(</span><span class="ident" id="2039556">f</span><span class="op" id="2039557">,</span>&nbsp;<span class="ident" id="2039559">verb</span><span class="op" id="2039563">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039566">case</span>&nbsp;<span class="builtintype" id="2039571">complex64</span><span class="op" id="2039580">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039584">p</span><span class="op" id="2039585">.</span><span class="ident" id="2039586">fmtComplex64</span><span class="op" id="2039598">(</span><span class="ident" id="2039599">f</span><span class="op" id="2039600">,</span>&nbsp;<span class="ident" id="2039602">verb</span><span class="op" id="2039606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039609">case</span>&nbsp;<span class="builtintype" id="2039614">complex128</span><span class="op" id="2039624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039628">p</span><span class="op" id="2039629">.</span><span class="ident" id="2039630">fmtComplex128</span><span class="op" id="2039643">(</span><span class="ident" id="2039644">f</span><span class="op" id="2039645">,</span>&nbsp;<span class="ident" id="2039647">verb</span><span class="op" id="2039651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039654">case</span>&nbsp;<span class="builtintype" id="2039659">int</span><span class="op" id="2039662">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039666">p</span><span class="op" id="2039667">.</span><span class="ident" id="2039668">fmtInt64</span><span class="op" id="2039676">(</span><span class="ident" id="2039677">int64</span><span class="op" id="2039682">(</span><span class="ident" id="2039683">f</span><span class="op" id="2039684">)</span><span class="op" id="2039685">,</span>&nbsp;<span class="ident" id="2039687">verb</span><span class="op" id="2039691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039694">case</span>&nbsp;<span class="builtintype" id="2039699">int8</span><span class="op" id="2039703">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039707">p</span><span class="op" id="2039708">.</span><span class="ident" id="2039709">fmtInt64</span><span class="op" id="2039717">(</span><span class="ident" id="2039718">int64</span><span class="op" id="2039723">(</span><span class="ident" id="2039724">f</span><span class="op" id="2039725">)</span><span class="op" id="2039726">,</span>&nbsp;<span class="ident" id="2039728">verb</span><span class="op" id="2039732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039735">case</span>&nbsp;<span class="builtintype" id="2039740">int16</span><span class="op" id="2039745">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039749">p</span><span class="op" id="2039750">.</span><span class="ident" id="2039751">fmtInt64</span><span class="op" id="2039759">(</span><span class="ident" id="2039760">int64</span><span class="op" id="2039765">(</span><span class="ident" id="2039766">f</span><span class="op" id="2039767">)</span><span class="op" id="2039768">,</span>&nbsp;<span class="ident" id="2039770">verb</span><span class="op" id="2039774">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039777">case</span>&nbsp;<span class="builtintype" id="2039782">int32</span><span class="op" id="2039787">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039791">p</span><span class="op" id="2039792">.</span><span class="ident" id="2039793">fmtInt64</span><span class="op" id="2039801">(</span><span class="ident" id="2039802">int64</span><span class="op" id="2039807">(</span><span class="ident" id="2039808">f</span><span class="op" id="2039809">)</span><span class="op" id="2039810">,</span>&nbsp;<span class="ident" id="2039812">verb</span><span class="op" id="2039816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039819">case</span>&nbsp;<span class="ident" id="2039824">int64</span><span class="op" id="2039829">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039833">p</span><span class="op" id="2039834">.</span><span class="ident" id="2039835">fmtInt64</span><span class="op" id="2039843">(</span><span class="ident" id="2039844">f</span><span class="op" id="2039845">,</span>&nbsp;<span class="ident" id="2039847">verb</span><span class="op" id="2039851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039854">case</span>&nbsp;<span class="builtintype" id="2039859">uint</span><span class="op" id="2039863">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039867">p</span><span class="op" id="2039868">.</span><span class="ident" id="2039869">fmtUint64</span><span class="op" id="2039878">(</span><span class="ident" id="2039879">uint64</span><span class="op" id="2039885">(</span><span class="ident" id="2039886">f</span><span class="op" id="2039887">)</span><span class="op" id="2039888">,</span>&nbsp;<span class="ident" id="2039890">verb</span><span class="op" id="2039894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039897">case</span>&nbsp;<span class="builtintype" id="2039902">uint8</span><span class="op" id="2039907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039911">p</span><span class="op" id="2039912">.</span><span class="ident" id="2039913">fmtUint64</span><span class="op" id="2039922">(</span><span class="ident" id="2039923">uint64</span><span class="op" id="2039929">(</span><span class="ident" id="2039930">f</span><span class="op" id="2039931">)</span><span class="op" id="2039932">,</span>&nbsp;<span class="ident" id="2039934">verb</span><span class="op" id="2039938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039941">case</span>&nbsp;<span class="builtintype" id="2039946">uint16</span><span class="op" id="2039952">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2039956">p</span><span class="op" id="2039957">.</span><span class="ident" id="2039958">fmtUint64</span><span class="op" id="2039967">(</span><span class="ident" id="2039968">uint64</span><span class="op" id="2039974">(</span><span class="ident" id="2039975">f</span><span class="op" id="2039976">)</span><span class="op" id="2039977">,</span>&nbsp;<span class="ident" id="2039979">verb</span><span class="op" id="2039983">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2039986">case</span>&nbsp;<span class="builtintype" id="2039991">uint32</span><span class="op" id="2039997">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040001">p</span><span class="op" id="2040002">.</span><span class="ident" id="2040003">fmtUint64</span><span class="op" id="2040012">(</span><span class="ident" id="2040013">uint64</span><span class="op" id="2040019">(</span><span class="ident" id="2040020">f</span><span class="op" id="2040021">)</span><span class="op" id="2040022">,</span>&nbsp;<span class="ident" id="2040024">verb</span><span class="op" id="2040028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040031">case</span>&nbsp;<span class="ident" id="2040036">uint64</span><span class="op" id="2040042">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040046">p</span><span class="op" id="2040047">.</span><span class="ident" id="2040048">fmtUint64</span><span class="op" id="2040057">(</span><span class="ident" id="2040058">f</span><span class="op" id="2040059">,</span>&nbsp;<span class="ident" id="2040061">verb</span><span class="op" id="2040065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040068">case</span>&nbsp;<span class="builtintype" id="2040073">uintptr</span><span class="op" id="2040080">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040084">p</span><span class="op" id="2040085">.</span><span class="ident" id="2040086">fmtUint64</span><span class="op" id="2040095">(</span><span class="ident" id="2040096">uint64</span><span class="op" id="2040102">(</span><span class="ident" id="2040103">f</span><span class="op" id="2040104">)</span><span class="op" id="2040105">,</span>&nbsp;<span class="ident" id="2040107">verb</span><span class="op" id="2040111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040114">case</span>&nbsp;<span class="builtintype" id="2040119">string</span><span class="op" id="2040125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040129">p</span><span class="op" id="2040130">.</span><span class="ident" id="2040131">fmtString</span><span class="op" id="2040140">(</span><span class="ident" id="2040141">f</span><span class="op" id="2040142">,</span>&nbsp;<span class="ident" id="2040144">verb</span><span class="op" id="2040148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040152">wasString</span>&nbsp;<span class="op" id="2040162">=</span>&nbsp;<span class="ident" id="2040164">verb</span>&nbsp;<span class="op" id="2040169">==</span>&nbsp;<span class="string" id="2040172">&#39;s&#39;</span>&nbsp;<span class="op" id="2040176">||</span>&nbsp;<span class="ident" id="2040179">verb</span>&nbsp;<span class="op" id="2040184">==</span>&nbsp;<span class="string" id="2040187">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040192">case</span>&nbsp;<span class="op" id="2040197">[</span><span class="op" id="2040198">]</span><span class="builtintype" id="2040199">byte</span><span class="op" id="2040203">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040207">p</span><span class="op" id="2040208">.</span><span class="ident" id="2040209">fmtBytes</span><span class="op" id="2040217">(</span><span class="ident" id="2040218">f</span><span class="op" id="2040219">,</span>&nbsp;<span class="ident" id="2040221">verb</span><span class="op" id="2040225">,</span>&nbsp;<span class="ident" id="2040227">nil</span><span class="op" id="2040230">,</span>&nbsp;<span class="ident" id="2040232">depth</span><span class="op" id="2040237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040241">wasString</span>&nbsp;<span class="op" id="2040251">=</span>&nbsp;<span class="ident" id="2040253">verb</span>&nbsp;<span class="op" id="2040258">==</span>&nbsp;<span class="string" id="2040261">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040266">default</span><span class="op" id="2040273">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2040277">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040332">if</span>&nbsp;<span class="ident" id="2040335">handled</span>&nbsp;<span class="op" id="2040343">:=</span>&nbsp;<span class="ident" id="2040346">p</span><span class="op" id="2040347">.</span><span class="ident" id="2040348">handleMethods</span><span class="op" id="2040361">(</span><span class="ident" id="2040362">verb</span><span class="op" id="2040366">,</span>&nbsp;<span class="ident" id="2040368">depth</span><span class="op" id="2040373">)</span><span class="op" id="2040374">;</span>&nbsp;<span class="ident" id="2040376">handled</span>&nbsp;<span class="op" id="2040384">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040389">return</span>&nbsp;<span class="builtintype" id="2040396">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2040408">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040436">return</span>&nbsp;<span class="ident" id="2040443">p</span><span class="op" id="2040444">.</span><span class="ident" id="2040445">printReflectValue</span><span class="op" id="2040462">(</span><span class="ident" id="2040463">reflect</span><span class="op" id="2040470">.</span><span class="ident" id="2040471">ValueOf</span><span class="op" id="2040478">(</span><span class="ident" id="2040479">arg</span><span class="op" id="2040482">)</span><span class="op" id="2040483">,</span>&nbsp;<span class="ident" id="2040485">verb</span><span class="op" id="2040489">,</span>&nbsp;<span class="ident" id="2040491">depth</span><span class="op" id="2040496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040499">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040502">p</span><span class="op" id="2040503">.</span><span class="ident" id="2040504">arg</span>&nbsp;<span class="op" id="2040508">=</span>&nbsp;<span class="ident" id="2040510">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040515">return</span><br>
<span class="lineno"></span><span class="op" id="2040522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2040525">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2040615">func</span>&nbsp;<span class="op" id="2040620">(</span><span class="ident" id="2040621">p</span>&nbsp;<span class="op" id="2040623">*</span><span class="ident" id="2040624">pp</span><span class="op" id="2040626">)</span>&nbsp;<span class="ident" id="2040628">printValue</span><span class="op" id="2040638">(</span><span class="ident" id="2040639">value</span>&nbsp;<span class="ident" id="2040645">reflect</span><span class="op" id="2040652">.</span><span class="ident" id="2040653">Value</span><span class="op" id="2040658">,</span>&nbsp;<span class="ident" id="2040660">verb</span>&nbsp;<span class="builtintype" id="2040665">rune</span><span class="op" id="2040669">,</span>&nbsp;<span class="ident" id="2040671">depth</span>&nbsp;<span class="builtintype" id="2040677">int</span><span class="op" id="2040680">)</span>&nbsp;<span class="op" id="2040682">(</span><span class="ident" id="2040683">wasString</span>&nbsp;<span class="builtintype" id="2040693">bool</span><span class="op" id="2040697">)</span>&nbsp;<span class="op" id="2040699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040702">if</span>&nbsp;<span class="op" id="2040705">!</span><span class="ident" id="2040706">value</span><span class="op" id="2040711">.</span><span class="ident" id="2040712">IsValid</span><span class="op" id="2040719">(</span><span class="op" id="2040720">)</span>&nbsp;<span class="op" id="2040722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040726">if</span>&nbsp;<span class="ident" id="2040729">verb</span>&nbsp;<span class="op" id="2040734">==</span>&nbsp;<span class="string" id="2040737">&#39;T&#39;</span>&nbsp;<span class="op" id="2040741">||</span>&nbsp;<span class="ident" id="2040744">verb</span>&nbsp;<span class="op" id="2040749">==</span>&nbsp;<span class="string" id="2040752">&#39;v&#39;</span>&nbsp;<span class="op" id="2040756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040761">p</span><span class="op" id="2040762">.</span><span class="ident" id="2040763">buf</span><span class="op" id="2040766">.</span><span class="ident" id="2040767">Write</span><span class="op" id="2040772">(</span><span class="ident" id="2040773">nilAngleBytes</span><span class="op" id="2040786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040790">}</span>&nbsp;<span class="keyword" id="2040792">else</span>&nbsp;<span class="op" id="2040797">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040802">p</span><span class="op" id="2040803">.</span><span class="ident" id="2040804">badVerb</span><span class="op" id="2040811">(</span><span class="ident" id="2040812">verb</span><span class="op" id="2040816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040824">return</span>&nbsp;<span class="builtintype" id="2040831">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2040838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2040842">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2040881">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040966">switch</span>&nbsp;<span class="ident" id="2040973">verb</span>&nbsp;<span class="op" id="2040978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2040981">case</span>&nbsp;<span class="string" id="2040986">&#39;T&#39;</span><span class="op" id="2040989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2040993">p</span><span class="op" id="2040994">.</span><span class="ident" id="2040995">printArg</span><span class="op" id="2041003">(</span><span class="ident" id="2041004">value</span><span class="op" id="2041009">.</span><span class="ident" id="2041010">Type</span><span class="op" id="2041014">(</span><span class="op" id="2041015">)</span><span class="op" id="2041016">.</span><span class="ident" id="2041017">String</span><span class="op" id="2041023">(</span><span class="op" id="2041024">)</span><span class="op" id="2041025">,</span>&nbsp;<span class="string" id="2041027">&#39;s&#39;</span><span class="op" id="2041030">,</span>&nbsp;<span class="num" id="2041032">0</span><span class="op" id="2041033">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041037">return</span>&nbsp;<span class="builtintype" id="2041044">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041051">case</span>&nbsp;<span class="string" id="2041056">&#39;p&#39;</span><span class="op" id="2041059">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041063">p</span><span class="op" id="2041064">.</span><span class="ident" id="2041065">fmtPointer</span><span class="op" id="2041075">(</span><span class="ident" id="2041076">value</span><span class="op" id="2041081">,</span>&nbsp;<span class="ident" id="2041083">verb</span><span class="op" id="2041087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041091">return</span>&nbsp;<span class="builtintype" id="2041098">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041105">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2041109">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2041149">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041236">p</span><span class="op" id="2041237">.</span><span class="ident" id="2041238">arg</span>&nbsp;<span class="op" id="2041242">=</span>&nbsp;<span class="ident" id="2041244">nil</span>&nbsp;<span class="comment" id="2041248">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041288">if</span>&nbsp;<span class="ident" id="2041291">value</span><span class="op" id="2041296">.</span><span class="ident" id="2041297">CanInterface</span><span class="op" id="2041309">(</span><span class="op" id="2041310">)</span>&nbsp;<span class="op" id="2041312">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041316">p</span><span class="op" id="2041317">.</span><span class="ident" id="2041318">arg</span>&nbsp;<span class="op" id="2041322">=</span>&nbsp;<span class="ident" id="2041324">value</span><span class="op" id="2041329">.</span><span class="ident" id="2041330">Interface</span><span class="op" id="2041339">(</span><span class="op" id="2041340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041346">if</span>&nbsp;<span class="ident" id="2041349">handled</span>&nbsp;<span class="op" id="2041357">:=</span>&nbsp;<span class="ident" id="2041360">p</span><span class="op" id="2041361">.</span><span class="ident" id="2041362">handleMethods</span><span class="op" id="2041375">(</span><span class="ident" id="2041376">verb</span><span class="op" id="2041380">,</span>&nbsp;<span class="ident" id="2041382">depth</span><span class="op" id="2041387">)</span><span class="op" id="2041388">;</span>&nbsp;<span class="ident" id="2041390">handled</span>&nbsp;<span class="op" id="2041398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041402">return</span>&nbsp;<span class="builtintype" id="2041409">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2041416">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041420">return</span>&nbsp;<span class="ident" id="2041427">p</span><span class="op" id="2041428">.</span><span class="ident" id="2041429">printReflectValue</span><span class="op" id="2041446">(</span><span class="ident" id="2041447">value</span><span class="op" id="2041452">,</span>&nbsp;<span class="ident" id="2041454">verb</span><span class="op" id="2041458">,</span>&nbsp;<span class="ident" id="2041460">depth</span><span class="op" id="2041465">)</span><br>
<span class="lineno"></span><span class="op" id="2041467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2041470">var</span>&nbsp;<span class="ident" id="2041474">byteType</span>&nbsp;<span class="op" id="2041483">=</span>&nbsp;<span class="ident" id="2041485">reflect</span><span class="op" id="2041492">.</span><span class="ident" id="2041493">TypeOf</span><span class="op" id="2041499">(</span><span class="builtintype" id="2041500">byte</span><span class="op" id="2041504">(</span><span class="num" id="2041505">0</span><span class="op" id="2041506">)</span><span class="op" id="2041507">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2041510">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2041581">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2041620">func</span>&nbsp;<span class="op" id="2041625">(</span><span class="ident" id="2041626">p</span>&nbsp;<span class="op" id="2041628">*</span><span class="ident" id="2041629">pp</span><span class="op" id="2041631">)</span>&nbsp;<span class="ident" id="2041633">printReflectValue</span><span class="op" id="2041650">(</span><span class="ident" id="2041651">value</span>&nbsp;<span class="ident" id="2041657">reflect</span><span class="op" id="2041664">.</span><span class="ident" id="2041665">Value</span><span class="op" id="2041670">,</span>&nbsp;<span class="ident" id="2041672">verb</span>&nbsp;<span class="builtintype" id="2041677">rune</span><span class="op" id="2041681">,</span>&nbsp;<span class="ident" id="2041683">depth</span>&nbsp;<span class="builtintype" id="2041689">int</span><span class="op" id="2041692">)</span>&nbsp;<span class="op" id="2041694">(</span><span class="ident" id="2041695">wasString</span>&nbsp;<span class="builtintype" id="2041705">bool</span><span class="op" id="2041709">)</span>&nbsp;<span class="op" id="2041711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041714">oldValue</span>&nbsp;<span class="op" id="2041723">:=</span>&nbsp;<span class="ident" id="2041726">p</span><span class="op" id="2041727">.</span><span class="ident" id="2041728">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041735">p</span><span class="op" id="2041736">.</span><span class="ident" id="2041737">value</span>&nbsp;<span class="op" id="2041743">=</span>&nbsp;<span class="ident" id="2041745">value</span><br>
<span class="lineno"></span><span class="ident" id="2041751">BigSwitch</span><span class="op" id="2041760">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041763">switch</span>&nbsp;<span class="ident" id="2041770">f</span>&nbsp;<span class="op" id="2041772">:=</span>&nbsp;<span class="ident" id="2041775">value</span><span class="op" id="2041780">;</span>&nbsp;<span class="ident" id="2041782">f</span><span class="op" id="2041783">.</span><span class="ident" id="2041784">Kind</span><span class="op" id="2041788">(</span><span class="op" id="2041789">)</span>&nbsp;<span class="op" id="2041791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041794">case</span>&nbsp;<span class="ident" id="2041799">reflect</span><span class="op" id="2041806">.</span><span class="ident" id="2041807">Bool</span><span class="op" id="2041811">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041815">p</span><span class="op" id="2041816">.</span><span class="ident" id="2041817">fmtBool</span><span class="op" id="2041824">(</span><span class="ident" id="2041825">f</span><span class="op" id="2041826">.</span><span class="ident" id="2041827">Bool</span><span class="op" id="2041831">(</span><span class="op" id="2041832">)</span><span class="op" id="2041833">,</span>&nbsp;<span class="ident" id="2041835">verb</span><span class="op" id="2041839">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041842">case</span>&nbsp;<span class="ident" id="2041847">reflect</span><span class="op" id="2041854">.</span><span class="ident" id="2041855">Int</span><span class="op" id="2041858">,</span>&nbsp;<span class="ident" id="2041860">reflect</span><span class="op" id="2041867">.</span><span class="ident" id="2041868">Int8</span><span class="op" id="2041872">,</span>&nbsp;<span class="ident" id="2041874">reflect</span><span class="op" id="2041881">.</span><span class="ident" id="2041882">Int16</span><span class="op" id="2041887">,</span>&nbsp;<span class="ident" id="2041889">reflect</span><span class="op" id="2041896">.</span><span class="ident" id="2041897">Int32</span><span class="op" id="2041902">,</span>&nbsp;<span class="ident" id="2041904">reflect</span><span class="op" id="2041911">.</span><span class="ident" id="2041912">Int64</span><span class="op" id="2041917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2041921">p</span><span class="op" id="2041922">.</span><span class="ident" id="2041923">fmtInt64</span><span class="op" id="2041931">(</span><span class="ident" id="2041932">f</span><span class="op" id="2041933">.</span><span class="ident" id="2041934">Int</span><span class="op" id="2041937">(</span><span class="op" id="2041938">)</span><span class="op" id="2041939">,</span>&nbsp;<span class="ident" id="2041941">verb</span><span class="op" id="2041945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2041948">case</span>&nbsp;<span class="ident" id="2041953">reflect</span><span class="op" id="2041960">.</span><span class="ident" id="2041961">Uint</span><span class="op" id="2041965">,</span>&nbsp;<span class="ident" id="2041967">reflect</span><span class="op" id="2041974">.</span><span class="ident" id="2041975">Uint8</span><span class="op" id="2041980">,</span>&nbsp;<span class="ident" id="2041982">reflect</span><span class="op" id="2041989">.</span><span class="ident" id="2041990">Uint16</span><span class="op" id="2041996">,</span>&nbsp;<span class="ident" id="2041998">reflect</span><span class="op" id="2042005">.</span><span class="ident" id="2042006">Uint32</span><span class="op" id="2042012">,</span>&nbsp;<span class="ident" id="2042014">reflect</span><span class="op" id="2042021">.</span><span class="ident" id="2042022">Uint64</span><span class="op" id="2042028">,</span>&nbsp;<span class="ident" id="2042030">reflect</span><span class="op" id="2042037">.</span><span class="ident" id="2042038">Uintptr</span><span class="op" id="2042045">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042049">p</span><span class="op" id="2042050">.</span><span class="ident" id="2042051">fmtUint64</span><span class="op" id="2042060">(</span><span class="ident" id="2042061">f</span><span class="op" id="2042062">.</span><span class="ident" id="2042063">Uint</span><span class="op" id="2042067">(</span><span class="op" id="2042068">)</span><span class="op" id="2042069">,</span>&nbsp;<span class="ident" id="2042071">verb</span><span class="op" id="2042075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042078">case</span>&nbsp;<span class="ident" id="2042083">reflect</span><span class="op" id="2042090">.</span><span class="ident" id="2042091">Float32</span><span class="op" id="2042098">,</span>&nbsp;<span class="ident" id="2042100">reflect</span><span class="op" id="2042107">.</span><span class="ident" id="2042108">Float64</span><span class="op" id="2042115">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042119">if</span>&nbsp;<span class="ident" id="2042122">f</span><span class="op" id="2042123">.</span><span class="ident" id="2042124">Type</span><span class="op" id="2042128">(</span><span class="op" id="2042129">)</span><span class="op" id="2042130">.</span><span class="ident" id="2042131">Size</span><span class="op" id="2042135">(</span><span class="op" id="2042136">)</span>&nbsp;<span class="op" id="2042138">==</span>&nbsp;<span class="num" id="2042141">4</span>&nbsp;<span class="op" id="2042143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042148">p</span><span class="op" id="2042149">.</span><span class="ident" id="2042150">fmtFloat32</span><span class="op" id="2042160">(</span><span class="builtintype" id="2042161">float32</span><span class="op" id="2042168">(</span><span class="ident" id="2042169">f</span><span class="op" id="2042170">.</span><span class="ident" id="2042171">Float</span><span class="op" id="2042176">(</span><span class="op" id="2042177">)</span><span class="op" id="2042178">)</span><span class="op" id="2042179">,</span>&nbsp;<span class="ident" id="2042181">verb</span><span class="op" id="2042185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042189">}</span>&nbsp;<span class="keyword" id="2042191">else</span>&nbsp;<span class="op" id="2042196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042201">p</span><span class="op" id="2042202">.</span><span class="ident" id="2042203">fmtFloat64</span><span class="op" id="2042213">(</span><span class="ident" id="2042214">f</span><span class="op" id="2042215">.</span><span class="ident" id="2042216">Float</span><span class="op" id="2042221">(</span><span class="op" id="2042222">)</span><span class="op" id="2042223">,</span>&nbsp;<span class="ident" id="2042225">verb</span><span class="op" id="2042229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042233">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042236">case</span>&nbsp;<span class="ident" id="2042241">reflect</span><span class="op" id="2042248">.</span><span class="ident" id="2042249">Complex64</span><span class="op" id="2042258">,</span>&nbsp;<span class="ident" id="2042260">reflect</span><span class="op" id="2042267">.</span><span class="ident" id="2042268">Complex128</span><span class="op" id="2042278">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042282">if</span>&nbsp;<span class="ident" id="2042285">f</span><span class="op" id="2042286">.</span><span class="ident" id="2042287">Type</span><span class="op" id="2042291">(</span><span class="op" id="2042292">)</span><span class="op" id="2042293">.</span><span class="ident" id="2042294">Size</span><span class="op" id="2042298">(</span><span class="op" id="2042299">)</span>&nbsp;<span class="op" id="2042301">==</span>&nbsp;<span class="num" id="2042304">8</span>&nbsp;<span class="op" id="2042306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042311">p</span><span class="op" id="2042312">.</span><span class="ident" id="2042313">fmtComplex64</span><span class="op" id="2042325">(</span><span class="builtintype" id="2042326">complex64</span><span class="op" id="2042335">(</span><span class="ident" id="2042336">f</span><span class="op" id="2042337">.</span><span class="ident" id="2042338">Complex</span><span class="op" id="2042345">(</span><span class="op" id="2042346">)</span><span class="op" id="2042347">)</span><span class="op" id="2042348">,</span>&nbsp;<span class="ident" id="2042350">verb</span><span class="op" id="2042354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042358">}</span>&nbsp;<span class="keyword" id="2042360">else</span>&nbsp;<span class="op" id="2042365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042370">p</span><span class="op" id="2042371">.</span><span class="ident" id="2042372">fmtComplex128</span><span class="op" id="2042385">(</span><span class="ident" id="2042386">f</span><span class="op" id="2042387">.</span><span class="ident" id="2042388">Complex</span><span class="op" id="2042395">(</span><span class="op" id="2042396">)</span><span class="op" id="2042397">,</span>&nbsp;<span class="ident" id="2042399">verb</span><span class="op" id="2042403">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042410">case</span>&nbsp;<span class="ident" id="2042415">reflect</span><span class="op" id="2042422">.</span><span class="ident" id="2042423">String</span><span class="op" id="2042429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042433">p</span><span class="op" id="2042434">.</span><span class="ident" id="2042435">fmtString</span><span class="op" id="2042444">(</span><span class="ident" id="2042445">f</span><span class="op" id="2042446">.</span><span class="ident" id="2042447">String</span><span class="op" id="2042453">(</span><span class="op" id="2042454">)</span><span class="op" id="2042455">,</span>&nbsp;<span class="ident" id="2042457">verb</span><span class="op" id="2042461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042464">case</span>&nbsp;<span class="ident" id="2042469">reflect</span><span class="op" id="2042476">.</span><span class="ident" id="2042477">Map</span><span class="op" id="2042480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042484">if</span>&nbsp;<span class="ident" id="2042487">p</span><span class="op" id="2042488">.</span><span class="ident" id="2042489">fmt</span><span class="op" id="2042492">.</span><span class="ident" id="2042493">sharpV</span>&nbsp;<span class="op" id="2042500">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042505">p</span><span class="op" id="2042506">.</span><span class="ident" id="2042507">buf</span><span class="op" id="2042510">.</span><span class="ident" id="2042511">WriteString</span><span class="op" id="2042522">(</span><span class="ident" id="2042523">f</span><span class="op" id="2042524">.</span><span class="ident" id="2042525">Type</span><span class="op" id="2042529">(</span><span class="op" id="2042530">)</span><span class="op" id="2042531">.</span><span class="ident" id="2042532">String</span><span class="op" id="2042538">(</span><span class="op" id="2042539">)</span><span class="op" id="2042540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042545">if</span>&nbsp;<span class="ident" id="2042548">f</span><span class="op" id="2042549">.</span><span class="ident" id="2042550">IsNil</span><span class="op" id="2042555">(</span><span class="op" id="2042556">)</span>&nbsp;<span class="op" id="2042558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042564">p</span><span class="op" id="2042565">.</span><span class="ident" id="2042566">buf</span><span class="op" id="2042569">.</span><span class="ident" id="2042570">WriteString</span><span class="op" id="2042581">(</span><span class="string" id="2042582">&#34;(nil)&#34;</span><span class="op" id="2042589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042595">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042604">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042609">p</span><span class="op" id="2042610">.</span><span class="ident" id="2042611">buf</span><span class="op" id="2042614">.</span><span class="ident" id="2042615">WriteByte</span><span class="op" id="2042624">(</span><span class="string" id="2042625">&#39;{&#39;</span><span class="op" id="2042628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042632">}</span>&nbsp;<span class="keyword" id="2042634">else</span>&nbsp;<span class="op" id="2042639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042644">p</span><span class="op" id="2042645">.</span><span class="ident" id="2042646">buf</span><span class="op" id="2042649">.</span><span class="ident" id="2042650">Write</span><span class="op" id="2042655">(</span><span class="ident" id="2042656">mapBytes</span><span class="op" id="2042664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042672">keys</span>&nbsp;<span class="op" id="2042677">:=</span>&nbsp;<span class="ident" id="2042680">f</span><span class="op" id="2042681">.</span><span class="ident" id="2042682">MapKeys</span><span class="op" id="2042689">(</span><span class="op" id="2042690">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042694">for</span>&nbsp;<span class="ident" id="2042698">i</span><span class="op" id="2042699">,</span>&nbsp;<span class="ident" id="2042701">key</span>&nbsp;<span class="op" id="2042705">:=</span>&nbsp;<span class="keyword" id="2042708">range</span>&nbsp;<span class="ident" id="2042714">keys</span>&nbsp;<span class="op" id="2042719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042724">if</span>&nbsp;<span class="ident" id="2042727">i</span>&nbsp;<span class="op" id="2042729">&gt;</span>&nbsp;<span class="num" id="2042731">0</span>&nbsp;<span class="op" id="2042733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042739">if</span>&nbsp;<span class="ident" id="2042742">p</span><span class="op" id="2042743">.</span><span class="ident" id="2042744">fmt</span><span class="op" id="2042747">.</span><span class="ident" id="2042748">sharpV</span>&nbsp;<span class="op" id="2042755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042762">p</span><span class="op" id="2042763">.</span><span class="ident" id="2042764">buf</span><span class="op" id="2042767">.</span><span class="ident" id="2042768">Write</span><span class="op" id="2042773">(</span><span class="ident" id="2042774">commaSpaceBytes</span><span class="op" id="2042789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042795">}</span>&nbsp;<span class="keyword" id="2042797">else</span>&nbsp;<span class="op" id="2042802">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042809">p</span><span class="op" id="2042810">.</span><span class="ident" id="2042811">buf</span><span class="op" id="2042814">.</span><span class="ident" id="2042815">WriteByte</span><span class="op" id="2042824">(</span><span class="string" id="2042825">&#39;&nbsp;&#39;</span><span class="op" id="2042828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042844">p</span><span class="op" id="2042845">.</span><span class="ident" id="2042846">printValue</span><span class="op" id="2042856">(</span><span class="ident" id="2042857">key</span><span class="op" id="2042860">,</span>&nbsp;<span class="ident" id="2042862">verb</span><span class="op" id="2042866">,</span>&nbsp;<span class="ident" id="2042868">depth</span><span class="op" id="2042873">+</span><span class="num" id="2042874">1</span><span class="op" id="2042875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042880">p</span><span class="op" id="2042881">.</span><span class="ident" id="2042882">buf</span><span class="op" id="2042885">.</span><span class="ident" id="2042886">WriteByte</span><span class="op" id="2042895">(</span><span class="string" id="2042896">&#39;:&#39;</span><span class="op" id="2042899">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042904">p</span><span class="op" id="2042905">.</span><span class="ident" id="2042906">printValue</span><span class="op" id="2042916">(</span><span class="ident" id="2042917">f</span><span class="op" id="2042918">.</span><span class="ident" id="2042919">MapIndex</span><span class="op" id="2042927">(</span><span class="ident" id="2042928">key</span><span class="op" id="2042931">)</span><span class="op" id="2042932">,</span>&nbsp;<span class="ident" id="2042934">verb</span><span class="op" id="2042938">,</span>&nbsp;<span class="ident" id="2042940">depth</span><span class="op" id="2042945">+</span><span class="num" id="2042946">1</span><span class="op" id="2042947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2042955">if</span>&nbsp;<span class="ident" id="2042958">p</span><span class="op" id="2042959">.</span><span class="ident" id="2042960">fmt</span><span class="op" id="2042963">.</span><span class="ident" id="2042964">sharpV</span>&nbsp;<span class="op" id="2042971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2042976">p</span><span class="op" id="2042977">.</span><span class="ident" id="2042978">buf</span><span class="op" id="2042981">.</span><span class="ident" id="2042982">WriteByte</span><span class="op" id="2042991">(</span><span class="string" id="2042992">&#39;}&#39;</span><span class="op" id="2042995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2042999">}</span>&nbsp;<span class="keyword" id="2043001">else</span>&nbsp;<span class="op" id="2043006">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043011">p</span><span class="op" id="2043012">.</span><span class="ident" id="2043013">buf</span><span class="op" id="2043016">.</span><span class="ident" id="2043017">WriteByte</span><span class="op" id="2043026">(</span><span class="string" id="2043027">&#39;]&#39;</span><span class="op" id="2043030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043037">case</span>&nbsp;<span class="ident" id="2043042">reflect</span><span class="op" id="2043049">.</span><span class="ident" id="2043050">Struct</span><span class="op" id="2043056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043060">if</span>&nbsp;<span class="ident" id="2043063">p</span><span class="op" id="2043064">.</span><span class="ident" id="2043065">fmt</span><span class="op" id="2043068">.</span><span class="ident" id="2043069">sharpV</span>&nbsp;<span class="op" id="2043076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043081">p</span><span class="op" id="2043082">.</span><span class="ident" id="2043083">buf</span><span class="op" id="2043086">.</span><span class="ident" id="2043087">WriteString</span><span class="op" id="2043098">(</span><span class="ident" id="2043099">value</span><span class="op" id="2043104">.</span><span class="ident" id="2043105">Type</span><span class="op" id="2043109">(</span><span class="op" id="2043110">)</span><span class="op" id="2043111">.</span><span class="ident" id="2043112">String</span><span class="op" id="2043118">(</span><span class="op" id="2043119">)</span><span class="op" id="2043120">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043128">p</span><span class="op" id="2043129">.</span><span class="ident" id="2043130">add</span><span class="op" id="2043133">(</span><span class="string" id="2043134">&#39;{&#39;</span><span class="op" id="2043137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043141">v</span>&nbsp;<span class="op" id="2043143">:=</span>&nbsp;<span class="ident" id="2043146">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043150">t</span>&nbsp;<span class="op" id="2043152">:=</span>&nbsp;<span class="ident" id="2043155">v</span><span class="op" id="2043156">.</span><span class="ident" id="2043157">Type</span><span class="op" id="2043161">(</span><span class="op" id="2043162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043166">for</span>&nbsp;<span class="ident" id="2043170">i</span>&nbsp;<span class="op" id="2043172">:=</span>&nbsp;<span class="num" id="2043175">0</span><span class="op" id="2043176">;</span>&nbsp;<span class="ident" id="2043178">i</span>&nbsp;<span class="op" id="2043180">&lt;</span>&nbsp;<span class="ident" id="2043182">v</span><span class="op" id="2043183">.</span><span class="ident" id="2043184">NumField</span><span class="op" id="2043192">(</span><span class="op" id="2043193">)</span><span class="op" id="2043194">;</span>&nbsp;<span class="ident" id="2043196">i</span><span class="op" id="2043197">++</span>&nbsp;<span class="op" id="2043200">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043205">if</span>&nbsp;<span class="ident" id="2043208">i</span>&nbsp;<span class="op" id="2043210">&gt;</span>&nbsp;<span class="num" id="2043212">0</span>&nbsp;<span class="op" id="2043214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043220">if</span>&nbsp;<span class="ident" id="2043223">p</span><span class="op" id="2043224">.</span><span class="ident" id="2043225">fmt</span><span class="op" id="2043228">.</span><span class="ident" id="2043229">sharpV</span>&nbsp;<span class="op" id="2043236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043243">p</span><span class="op" id="2043244">.</span><span class="ident" id="2043245">buf</span><span class="op" id="2043248">.</span><span class="ident" id="2043249">Write</span><span class="op" id="2043254">(</span><span class="ident" id="2043255">commaSpaceBytes</span><span class="op" id="2043270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043276">}</span>&nbsp;<span class="keyword" id="2043278">else</span>&nbsp;<span class="op" id="2043283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043290">p</span><span class="op" id="2043291">.</span><span class="ident" id="2043292">buf</span><span class="op" id="2043295">.</span><span class="ident" id="2043296">WriteByte</span><span class="op" id="2043305">(</span><span class="string" id="2043306">&#39;&nbsp;&#39;</span><span class="op" id="2043309">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043325">if</span>&nbsp;<span class="ident" id="2043328">p</span><span class="op" id="2043329">.</span><span class="ident" id="2043330">fmt</span><span class="op" id="2043333">.</span><span class="ident" id="2043334">plusV</span>&nbsp;<span class="op" id="2043340">||</span>&nbsp;<span class="ident" id="2043343">p</span><span class="op" id="2043344">.</span><span class="ident" id="2043345">fmt</span><span class="op" id="2043348">.</span><span class="ident" id="2043349">sharpV</span>&nbsp;<span class="op" id="2043356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043362">if</span>&nbsp;<span class="ident" id="2043365">f</span>&nbsp;<span class="op" id="2043367">:=</span>&nbsp;<span class="ident" id="2043370">t</span><span class="op" id="2043371">.</span><span class="ident" id="2043372">Field</span><span class="op" id="2043377">(</span><span class="ident" id="2043378">i</span><span class="op" id="2043379">)</span><span class="op" id="2043380">;</span>&nbsp;<span class="ident" id="2043382">f</span><span class="op" id="2043383">.</span><span class="ident" id="2043384">Name</span>&nbsp;<span class="op" id="2043389">!=</span>&nbsp;<span class="string" id="2043392">&#34;&#34;</span>&nbsp;<span class="op" id="2043395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043402">p</span><span class="op" id="2043403">.</span><span class="ident" id="2043404">buf</span><span class="op" id="2043407">.</span><span class="ident" id="2043408">WriteString</span><span class="op" id="2043419">(</span><span class="ident" id="2043420">f</span><span class="op" id="2043421">.</span><span class="ident" id="2043422">Name</span><span class="op" id="2043426">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043433">p</span><span class="op" id="2043434">.</span><span class="ident" id="2043435">buf</span><span class="op" id="2043438">.</span><span class="ident" id="2043439">WriteByte</span><span class="op" id="2043448">(</span><span class="string" id="2043449">&#39;:&#39;</span><span class="op" id="2043452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043468">p</span><span class="op" id="2043469">.</span><span class="ident" id="2043470">printValue</span><span class="op" id="2043480">(</span><span class="ident" id="2043481">getField</span><span class="op" id="2043489">(</span><span class="ident" id="2043490">v</span><span class="op" id="2043491">,</span>&nbsp;<span class="ident" id="2043493">i</span><span class="op" id="2043494">)</span><span class="op" id="2043495">,</span>&nbsp;<span class="ident" id="2043497">verb</span><span class="op" id="2043501">,</span>&nbsp;<span class="ident" id="2043503">depth</span><span class="op" id="2043508">+</span><span class="num" id="2043509">1</span><span class="op" id="2043510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043514">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043518">p</span><span class="op" id="2043519">.</span><span class="ident" id="2043520">buf</span><span class="op" id="2043523">.</span><span class="ident" id="2043524">WriteByte</span><span class="op" id="2043533">(</span><span class="string" id="2043534">&#39;}&#39;</span><span class="op" id="2043537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043540">case</span>&nbsp;<span class="ident" id="2043545">reflect</span><span class="op" id="2043552">.</span><span class="ident" id="2043553">Interface</span><span class="op" id="2043562">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043566">value</span>&nbsp;<span class="op" id="2043572">:=</span>&nbsp;<span class="ident" id="2043575">f</span><span class="op" id="2043576">.</span><span class="ident" id="2043577">Elem</span><span class="op" id="2043581">(</span><span class="op" id="2043582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043586">if</span>&nbsp;<span class="op" id="2043589">!</span><span class="ident" id="2043590">value</span><span class="op" id="2043595">.</span><span class="ident" id="2043596">IsValid</span><span class="op" id="2043603">(</span><span class="op" id="2043604">)</span>&nbsp;<span class="op" id="2043606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043611">if</span>&nbsp;<span class="ident" id="2043614">p</span><span class="op" id="2043615">.</span><span class="ident" id="2043616">fmt</span><span class="op" id="2043619">.</span><span class="ident" id="2043620">sharpV</span>&nbsp;<span class="op" id="2043627">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043633">p</span><span class="op" id="2043634">.</span><span class="ident" id="2043635">buf</span><span class="op" id="2043638">.</span><span class="ident" id="2043639">WriteString</span><span class="op" id="2043650">(</span><span class="ident" id="2043651">f</span><span class="op" id="2043652">.</span><span class="ident" id="2043653">Type</span><span class="op" id="2043657">(</span><span class="op" id="2043658">)</span><span class="op" id="2043659">.</span><span class="ident" id="2043660">String</span><span class="op" id="2043666">(</span><span class="op" id="2043667">)</span><span class="op" id="2043668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043674">p</span><span class="op" id="2043675">.</span><span class="ident" id="2043676">buf</span><span class="op" id="2043679">.</span><span class="ident" id="2043680">Write</span><span class="op" id="2043685">(</span><span class="ident" id="2043686">nilParenBytes</span><span class="op" id="2043699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043704">}</span>&nbsp;<span class="keyword" id="2043706">else</span>&nbsp;<span class="op" id="2043711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043717">p</span><span class="op" id="2043718">.</span><span class="ident" id="2043719">buf</span><span class="op" id="2043722">.</span><span class="ident" id="2043723">Write</span><span class="op" id="2043728">(</span><span class="ident" id="2043729">nilAngleBytes</span><span class="op" id="2043742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043747">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043751">}</span>&nbsp;<span class="keyword" id="2043753">else</span>&nbsp;<span class="op" id="2043758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2043763">wasString</span>&nbsp;<span class="op" id="2043773">=</span>&nbsp;<span class="ident" id="2043775">p</span><span class="op" id="2043776">.</span><span class="ident" id="2043777">printValue</span><span class="op" id="2043787">(</span><span class="ident" id="2043788">value</span><span class="op" id="2043793">,</span>&nbsp;<span class="ident" id="2043795">verb</span><span class="op" id="2043799">,</span>&nbsp;<span class="ident" id="2043801">depth</span><span class="op" id="2043806">+</span><span class="num" id="2043807">1</span><span class="op" id="2043808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2043812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2043815">case</span>&nbsp;<span class="ident" id="2043820">reflect</span><span class="op" id="2043827">.</span><span class="ident" id="2043828">Array</span><span class="op" id="2043833">,</span>&nbsp;<span class="ident" id="2043835">reflect</span><span class="op" id="2043842">.</span><span class="ident" id="2043843">Slice</span><span class="op" id="2043848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043852">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043882">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043931">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2043999">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2044062">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044123">if</span>&nbsp;<span class="ident" id="2044126">typ</span>&nbsp;<span class="op" id="2044130">:=</span>&nbsp;<span class="ident" id="2044133">f</span><span class="op" id="2044134">.</span><span class="ident" id="2044135">Type</span><span class="op" id="2044139">(</span><span class="op" id="2044140">)</span><span class="op" id="2044141">;</span>&nbsp;<span class="ident" id="2044143">typ</span><span class="op" id="2044146">.</span><span class="ident" id="2044147">Elem</span><span class="op" id="2044151">(</span><span class="op" id="2044152">)</span><span class="op" id="2044153">.</span><span class="ident" id="2044154">Kind</span><span class="op" id="2044158">(</span><span class="op" id="2044159">)</span>&nbsp;<span class="op" id="2044161">==</span>&nbsp;<span class="ident" id="2044164">reflect</span><span class="op" id="2044171">.</span><span class="ident" id="2044172">Uint8</span>&nbsp;<span class="op" id="2044178">&amp;&amp;</span>&nbsp;<span class="op" id="2044181">(</span><span class="ident" id="2044182">typ</span><span class="op" id="2044185">.</span><span class="ident" id="2044186">Elem</span><span class="op" id="2044190">(</span><span class="op" id="2044191">)</span>&nbsp;<span class="op" id="2044193">==</span>&nbsp;<span class="ident" id="2044196">byteType</span>&nbsp;<span class="op" id="2044205">||</span>&nbsp;<span class="ident" id="2044208">verb</span>&nbsp;<span class="op" id="2044213">==</span>&nbsp;<span class="string" id="2044216">&#39;s&#39;</span>&nbsp;<span class="op" id="2044220">||</span>&nbsp;<span class="ident" id="2044223">verb</span>&nbsp;<span class="op" id="2044228">==</span>&nbsp;<span class="string" id="2044231">&#39;q&#39;</span>&nbsp;<span class="op" id="2044235">||</span>&nbsp;<span class="ident" id="2044238">verb</span>&nbsp;<span class="op" id="2044243">==</span>&nbsp;<span class="string" id="2044246">&#39;x&#39;</span><span class="op" id="2044249">)</span>&nbsp;<span class="op" id="2044251">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044256">var</span>&nbsp;<span class="ident" id="2044260">bytes</span>&nbsp;<span class="op" id="2044266">[</span><span class="op" id="2044267">]</span><span class="builtintype" id="2044268">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044276">if</span>&nbsp;<span class="ident" id="2044279">f</span><span class="op" id="2044280">.</span><span class="ident" id="2044281">Kind</span><span class="op" id="2044285">(</span><span class="op" id="2044286">)</span>&nbsp;<span class="op" id="2044288">==</span>&nbsp;<span class="ident" id="2044291">reflect</span><span class="op" id="2044298">.</span><span class="ident" id="2044299">Slice</span>&nbsp;<span class="op" id="2044305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044311">bytes</span>&nbsp;<span class="op" id="2044317">=</span>&nbsp;<span class="ident" id="2044319">f</span><span class="op" id="2044320">.</span><span class="ident" id="2044321">Bytes</span><span class="op" id="2044326">(</span><span class="op" id="2044327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044332">}</span>&nbsp;<span class="keyword" id="2044334">else</span>&nbsp;<span class="keyword" id="2044339">if</span>&nbsp;<span class="ident" id="2044342">f</span><span class="op" id="2044343">.</span><span class="ident" id="2044344">CanAddr</span><span class="op" id="2044351">(</span><span class="op" id="2044352">)</span>&nbsp;<span class="op" id="2044354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044360">bytes</span>&nbsp;<span class="op" id="2044366">=</span>&nbsp;<span class="ident" id="2044368">f</span><span class="op" id="2044369">.</span><span class="ident" id="2044370">Slice</span><span class="op" id="2044375">(</span><span class="num" id="2044376">0</span><span class="op" id="2044377">,</span>&nbsp;<span class="ident" id="2044379">f</span><span class="op" id="2044380">.</span><span class="ident" id="2044381">Len</span><span class="op" id="2044384">(</span><span class="op" id="2044385">)</span><span class="op" id="2044386">)</span><span class="op" id="2044387">.</span><span class="ident" id="2044388">Bytes</span><span class="op" id="2044393">(</span><span class="op" id="2044394">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044399">}</span>&nbsp;<span class="keyword" id="2044401">else</span>&nbsp;<span class="op" id="2044406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2044412">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2044484">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2044561">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044608">bytes</span>&nbsp;<span class="op" id="2044614">=</span>&nbsp;<span class="builtinfunc" id="2044616">make</span><span class="op" id="2044620">(</span><span class="op" id="2044621">[</span><span class="op" id="2044622">]</span><span class="builtintype" id="2044623">byte</span><span class="op" id="2044627">,</span>&nbsp;<span class="ident" id="2044629">f</span><span class="op" id="2044630">.</span><span class="ident" id="2044631">Len</span><span class="op" id="2044634">(</span><span class="op" id="2044635">)</span><span class="op" id="2044636">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044642">for</span>&nbsp;<span class="ident" id="2044646">i</span>&nbsp;<span class="op" id="2044648">:=</span>&nbsp;<span class="keyword" id="2044651">range</span>&nbsp;<span class="ident" id="2044657">bytes</span>&nbsp;<span class="op" id="2044663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044670">bytes</span><span class="op" id="2044675">[</span><span class="ident" id="2044676">i</span><span class="op" id="2044677">]</span>&nbsp;<span class="op" id="2044679">=</span>&nbsp;<span class="builtintype" id="2044681">byte</span><span class="op" id="2044685">(</span><span class="ident" id="2044686">f</span><span class="op" id="2044687">.</span><span class="ident" id="2044688">Index</span><span class="op" id="2044693">(</span><span class="ident" id="2044694">i</span><span class="op" id="2044695">)</span><span class="op" id="2044696">.</span><span class="ident" id="2044697">Uint</span><span class="op" id="2044701">(</span><span class="op" id="2044702">)</span><span class="op" id="2044703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044719">p</span><span class="op" id="2044720">.</span><span class="ident" id="2044721">fmtBytes</span><span class="op" id="2044729">(</span><span class="ident" id="2044730">bytes</span><span class="op" id="2044735">,</span>&nbsp;<span class="ident" id="2044737">verb</span><span class="op" id="2044741">,</span>&nbsp;<span class="ident" id="2044743">typ</span><span class="op" id="2044746">,</span>&nbsp;<span class="ident" id="2044748">depth</span><span class="op" id="2044753">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044758">wasString</span>&nbsp;<span class="op" id="2044768">=</span>&nbsp;<span class="ident" id="2044770">verb</span>&nbsp;<span class="op" id="2044775">==</span>&nbsp;<span class="string" id="2044778">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044785">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044797">if</span>&nbsp;<span class="ident" id="2044800">p</span><span class="op" id="2044801">.</span><span class="ident" id="2044802">fmt</span><span class="op" id="2044805">.</span><span class="ident" id="2044806">sharpV</span>&nbsp;<span class="op" id="2044813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044818">p</span><span class="op" id="2044819">.</span><span class="ident" id="2044820">buf</span><span class="op" id="2044823">.</span><span class="ident" id="2044824">WriteString</span><span class="op" id="2044835">(</span><span class="ident" id="2044836">value</span><span class="op" id="2044841">.</span><span class="ident" id="2044842">Type</span><span class="op" id="2044846">(</span><span class="op" id="2044847">)</span><span class="op" id="2044848">.</span><span class="ident" id="2044849">String</span><span class="op" id="2044855">(</span><span class="op" id="2044856">)</span><span class="op" id="2044857">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044862">if</span>&nbsp;<span class="ident" id="2044865">f</span><span class="op" id="2044866">.</span><span class="ident" id="2044867">Kind</span><span class="op" id="2044871">(</span><span class="op" id="2044872">)</span>&nbsp;<span class="op" id="2044874">==</span>&nbsp;<span class="ident" id="2044877">reflect</span><span class="op" id="2044884">.</span><span class="ident" id="2044885">Slice</span>&nbsp;<span class="op" id="2044891">&amp;&amp;</span>&nbsp;<span class="ident" id="2044894">f</span><span class="op" id="2044895">.</span><span class="ident" id="2044896">IsNil</span><span class="op" id="2044901">(</span><span class="op" id="2044902">)</span>&nbsp;<span class="op" id="2044904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044910">p</span><span class="op" id="2044911">.</span><span class="ident" id="2044912">buf</span><span class="op" id="2044915">.</span><span class="ident" id="2044916">WriteString</span><span class="op" id="2044927">(</span><span class="string" id="2044928">&#34;(nil)&#34;</span><span class="op" id="2044935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2044941">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044955">p</span><span class="op" id="2044956">.</span><span class="ident" id="2044957">buf</span><span class="op" id="2044960">.</span><span class="ident" id="2044961">WriteByte</span><span class="op" id="2044970">(</span><span class="string" id="2044971">&#39;{&#39;</span><span class="op" id="2044974">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2044978">}</span>&nbsp;<span class="keyword" id="2044980">else</span>&nbsp;<span class="op" id="2044985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2044990">p</span><span class="op" id="2044991">.</span><span class="ident" id="2044992">buf</span><span class="op" id="2044995">.</span><span class="ident" id="2044996">WriteByte</span><span class="op" id="2045005">(</span><span class="string" id="2045006">&#39;[&#39;</span><span class="op" id="2045009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045017">for</span>&nbsp;<span class="ident" id="2045021">i</span>&nbsp;<span class="op" id="2045023">:=</span>&nbsp;<span class="num" id="2045026">0</span><span class="op" id="2045027">;</span>&nbsp;<span class="ident" id="2045029">i</span>&nbsp;<span class="op" id="2045031">&lt;</span>&nbsp;<span class="ident" id="2045033">f</span><span class="op" id="2045034">.</span><span class="ident" id="2045035">Len</span><span class="op" id="2045038">(</span><span class="op" id="2045039">)</span><span class="op" id="2045040">;</span>&nbsp;<span class="ident" id="2045042">i</span><span class="op" id="2045043">++</span>&nbsp;<span class="op" id="2045046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045051">if</span>&nbsp;<span class="ident" id="2045054">i</span>&nbsp;<span class="op" id="2045056">&gt;</span>&nbsp;<span class="num" id="2045058">0</span>&nbsp;<span class="op" id="2045060">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045066">if</span>&nbsp;<span class="ident" id="2045069">p</span><span class="op" id="2045070">.</span><span class="ident" id="2045071">fmt</span><span class="op" id="2045074">.</span><span class="ident" id="2045075">sharpV</span>&nbsp;<span class="op" id="2045082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045089">p</span><span class="op" id="2045090">.</span><span class="ident" id="2045091">buf</span><span class="op" id="2045094">.</span><span class="ident" id="2045095">Write</span><span class="op" id="2045100">(</span><span class="ident" id="2045101">commaSpaceBytes</span><span class="op" id="2045116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045122">}</span>&nbsp;<span class="keyword" id="2045124">else</span>&nbsp;<span class="op" id="2045129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045136">p</span><span class="op" id="2045137">.</span><span class="ident" id="2045138">buf</span><span class="op" id="2045141">.</span><span class="ident" id="2045142">WriteByte</span><span class="op" id="2045151">(</span><span class="string" id="2045152">&#39;&nbsp;&#39;</span><span class="op" id="2045155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045161">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045171">p</span><span class="op" id="2045172">.</span><span class="ident" id="2045173">printValue</span><span class="op" id="2045183">(</span><span class="ident" id="2045184">f</span><span class="op" id="2045185">.</span><span class="ident" id="2045186">Index</span><span class="op" id="2045191">(</span><span class="ident" id="2045192">i</span><span class="op" id="2045193">)</span><span class="op" id="2045194">,</span>&nbsp;<span class="ident" id="2045196">verb</span><span class="op" id="2045200">,</span>&nbsp;<span class="ident" id="2045202">depth</span><span class="op" id="2045207">+</span><span class="num" id="2045208">1</span><span class="op" id="2045209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045217">if</span>&nbsp;<span class="ident" id="2045220">p</span><span class="op" id="2045221">.</span><span class="ident" id="2045222">fmt</span><span class="op" id="2045225">.</span><span class="ident" id="2045226">sharpV</span>&nbsp;<span class="op" id="2045233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045238">p</span><span class="op" id="2045239">.</span><span class="ident" id="2045240">buf</span><span class="op" id="2045243">.</span><span class="ident" id="2045244">WriteByte</span><span class="op" id="2045253">(</span><span class="string" id="2045254">&#39;}&#39;</span><span class="op" id="2045257">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045261">}</span>&nbsp;<span class="keyword" id="2045263">else</span>&nbsp;<span class="op" id="2045268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045273">p</span><span class="op" id="2045274">.</span><span class="ident" id="2045275">buf</span><span class="op" id="2045278">.</span><span class="ident" id="2045279">WriteByte</span><span class="op" id="2045288">(</span><span class="string" id="2045289">&#39;]&#39;</span><span class="op" id="2045292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045299">case</span>&nbsp;<span class="ident" id="2045304">reflect</span><span class="op" id="2045311">.</span><span class="ident" id="2045312">Ptr</span><span class="op" id="2045315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045319">v</span>&nbsp;<span class="op" id="2045321">:=</span>&nbsp;<span class="ident" id="2045324">f</span><span class="op" id="2045325">.</span><span class="ident" id="2045326">Pointer</span><span class="op" id="2045333">(</span><span class="op" id="2045334">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045338">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2045397">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045433">if</span>&nbsp;<span class="ident" id="2045436">v</span>&nbsp;<span class="op" id="2045438">!=</span>&nbsp;<span class="num" id="2045441">0</span>&nbsp;<span class="op" id="2045443">&amp;&amp;</span>&nbsp;<span class="ident" id="2045446">depth</span>&nbsp;<span class="op" id="2045452">==</span>&nbsp;<span class="num" id="2045455">0</span>&nbsp;<span class="op" id="2045457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045462">switch</span>&nbsp;<span class="ident" id="2045469">a</span>&nbsp;<span class="op" id="2045471">:=</span>&nbsp;<span class="ident" id="2045474">f</span><span class="op" id="2045475">.</span><span class="ident" id="2045476">Elem</span><span class="op" id="2045480">(</span><span class="op" id="2045481">)</span><span class="op" id="2045482">;</span>&nbsp;<span class="ident" id="2045484">a</span><span class="op" id="2045485">.</span><span class="ident" id="2045486">Kind</span><span class="op" id="2045490">(</span><span class="op" id="2045491">)</span>&nbsp;<span class="op" id="2045493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045498">case</span>&nbsp;<span class="ident" id="2045503">reflect</span><span class="op" id="2045510">.</span><span class="ident" id="2045511">Array</span><span class="op" id="2045516">,</span>&nbsp;<span class="ident" id="2045518">reflect</span><span class="op" id="2045525">.</span><span class="ident" id="2045526">Slice</span><span class="op" id="2045531">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045537">p</span><span class="op" id="2045538">.</span><span class="ident" id="2045539">buf</span><span class="op" id="2045542">.</span><span class="ident" id="2045543">WriteByte</span><span class="op" id="2045552">(</span><span class="string" id="2045553">&#39;&amp;&#39;</span><span class="op" id="2045556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045562">p</span><span class="op" id="2045563">.</span><span class="ident" id="2045564">printValue</span><span class="op" id="2045574">(</span><span class="ident" id="2045575">a</span><span class="op" id="2045576">,</span>&nbsp;<span class="ident" id="2045578">verb</span><span class="op" id="2045582">,</span>&nbsp;<span class="ident" id="2045584">depth</span><span class="op" id="2045589">+</span><span class="num" id="2045590">1</span><span class="op" id="2045591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045597">break</span>&nbsp;<span class="ident" id="2045603">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045616">case</span>&nbsp;<span class="ident" id="2045621">reflect</span><span class="op" id="2045628">.</span><span class="ident" id="2045629">Struct</span><span class="op" id="2045635">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045641">p</span><span class="op" id="2045642">.</span><span class="ident" id="2045643">buf</span><span class="op" id="2045646">.</span><span class="ident" id="2045647">WriteByte</span><span class="op" id="2045656">(</span><span class="string" id="2045657">&#39;&amp;&#39;</span><span class="op" id="2045660">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045666">p</span><span class="op" id="2045667">.</span><span class="ident" id="2045668">printValue</span><span class="op" id="2045678">(</span><span class="ident" id="2045679">a</span><span class="op" id="2045680">,</span>&nbsp;<span class="ident" id="2045682">verb</span><span class="op" id="2045686">,</span>&nbsp;<span class="ident" id="2045688">depth</span><span class="op" id="2045693">+</span><span class="num" id="2045694">1</span><span class="op" id="2045695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045701">break</span>&nbsp;<span class="ident" id="2045707">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045720">case</span>&nbsp;<span class="ident" id="2045725">reflect</span><span class="op" id="2045732">.</span><span class="ident" id="2045733">Map</span><span class="op" id="2045736">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045742">p</span><span class="op" id="2045743">.</span><span class="ident" id="2045744">buf</span><span class="op" id="2045747">.</span><span class="ident" id="2045748">WriteByte</span><span class="op" id="2045757">(</span><span class="string" id="2045758">&#39;&amp;&#39;</span><span class="op" id="2045761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045767">p</span><span class="op" id="2045768">.</span><span class="ident" id="2045769">printValue</span><span class="op" id="2045779">(</span><span class="ident" id="2045780">a</span><span class="op" id="2045781">,</span>&nbsp;<span class="ident" id="2045783">verb</span><span class="op" id="2045787">,</span>&nbsp;<span class="ident" id="2045789">depth</span><span class="op" id="2045794">+</span><span class="num" id="2045795">1</span><span class="op" id="2045796">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045802">break</span>&nbsp;<span class="ident" id="2045808">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045829">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045842">case</span>&nbsp;<span class="ident" id="2045847">reflect</span><span class="op" id="2045854">.</span><span class="ident" id="2045855">Chan</span><span class="op" id="2045859">,</span>&nbsp;<span class="ident" id="2045861">reflect</span><span class="op" id="2045868">.</span><span class="ident" id="2045869">Func</span><span class="op" id="2045873">,</span>&nbsp;<span class="ident" id="2045875">reflect</span><span class="op" id="2045882">.</span><span class="ident" id="2045883">UnsafePointer</span><span class="op" id="2045896">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045900">p</span><span class="op" id="2045901">.</span><span class="ident" id="2045902">fmtPointer</span><span class="op" id="2045912">(</span><span class="ident" id="2045913">value</span><span class="op" id="2045918">,</span>&nbsp;<span class="ident" id="2045920">verb</span><span class="op" id="2045924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045927">default</span><span class="op" id="2045934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045938">p</span><span class="op" id="2045939">.</span><span class="ident" id="2045940">unknownType</span><span class="op" id="2045951">(</span><span class="ident" id="2045952">f</span><span class="op" id="2045953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2045956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2045959">p</span><span class="op" id="2045960">.</span><span class="ident" id="2045961">value</span>&nbsp;<span class="op" id="2045967">=</span>&nbsp;<span class="ident" id="2045969">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2045979">return</span>&nbsp;<span class="ident" id="2045986">wasString</span><br>
<span class="lineno"></span><span class="op" id="2045996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2045999">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2046105">func</span>&nbsp;<span class="ident" id="2046110">intFromArg</span><span class="op" id="2046120">(</span><span class="ident" id="2046121">a</span>&nbsp;<span class="op" id="2046123">[</span><span class="op" id="2046124">]</span><span class="keyword" id="2046125">interface</span><span class="op" id="2046134">{</span><span class="op" id="2046135">}</span><span class="op" id="2046136">,</span>&nbsp;<span class="ident" id="2046138">argNum</span>&nbsp;<span class="builtintype" id="2046145">int</span><span class="op" id="2046148">)</span>&nbsp;<span class="op" id="2046150">(</span><span class="ident" id="2046151">num</span>&nbsp;<span class="builtintype" id="2046155">int</span><span class="op" id="2046158">,</span>&nbsp;<span class="ident" id="2046160">isInt</span>&nbsp;<span class="builtintype" id="2046166">bool</span><span class="op" id="2046170">,</span>&nbsp;<span class="ident" id="2046172">newArgNum</span>&nbsp;<span class="builtintype" id="2046182">int</span><span class="op" id="2046185">)</span>&nbsp;<span class="op" id="2046187">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046190">newArgNum</span>&nbsp;<span class="op" id="2046200">=</span>&nbsp;<span class="ident" id="2046202">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046210">if</span>&nbsp;<span class="ident" id="2046213">argNum</span>&nbsp;<span class="op" id="2046220">&lt;</span>&nbsp;<span class="builtinfunc" id="2046222">len</span><span class="op" id="2046225">(</span><span class="ident" id="2046226">a</span><span class="op" id="2046227">)</span>&nbsp;<span class="op" id="2046229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046233">num</span><span class="op" id="2046236">,</span>&nbsp;<span class="ident" id="2046238">isInt</span>&nbsp;<span class="op" id="2046244">=</span>&nbsp;<span class="ident" id="2046246">a</span><span class="op" id="2046247">[</span><span class="ident" id="2046248">argNum</span><span class="op" id="2046254">]</span><span class="op" id="2046255">.</span><span class="op" id="2046256">(</span><span class="builtintype" id="2046257">int</span><span class="op" id="2046260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046264">newArgNum</span>&nbsp;<span class="op" id="2046274">=</span>&nbsp;<span class="ident" id="2046276">argNum</span>&nbsp;<span class="op" id="2046283">+</span>&nbsp;<span class="num" id="2046285">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2046288">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046291">return</span><br>
<span class="lineno"></span><span class="op" id="2046298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2046301">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2046370">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2046443">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2046503">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2046572">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2046642">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2046712">func</span>&nbsp;<span class="ident" id="2046717">parseArgNumber</span><span class="op" id="2046731">(</span><span class="ident" id="2046732">format</span>&nbsp;<span class="builtintype" id="2046739">string</span><span class="op" id="2046745">)</span>&nbsp;<span class="op" id="2046747">(</span><span class="ident" id="2046748">index</span>&nbsp;<span class="builtintype" id="2046754">int</span><span class="op" id="2046757">,</span>&nbsp;<span class="ident" id="2046759">wid</span>&nbsp;<span class="builtintype" id="2046763">int</span><span class="op" id="2046766">,</span>&nbsp;<span class="ident" id="2046768">ok</span>&nbsp;<span class="builtintype" id="2046771">bool</span><span class="op" id="2046775">)</span>&nbsp;<span class="op" id="2046777">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2046780">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046806">for</span>&nbsp;<span class="ident" id="2046810">i</span>&nbsp;<span class="op" id="2046812">:=</span>&nbsp;<span class="num" id="2046815">1</span><span class="op" id="2046816">;</span>&nbsp;<span class="ident" id="2046818">i</span>&nbsp;<span class="op" id="2046820">&lt;</span>&nbsp;<span class="builtinfunc" id="2046822">len</span><span class="op" id="2046825">(</span><span class="ident" id="2046826">format</span><span class="op" id="2046832">)</span><span class="op" id="2046833">;</span>&nbsp;<span class="ident" id="2046835">i</span><span class="op" id="2046836">++</span>&nbsp;<span class="op" id="2046839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046843">if</span>&nbsp;<span class="ident" id="2046846">format</span><span class="op" id="2046852">[</span><span class="ident" id="2046853">i</span><span class="op" id="2046854">]</span>&nbsp;<span class="op" id="2046856">==</span>&nbsp;<span class="string" id="2046859">&#39;]&#39;</span>&nbsp;<span class="op" id="2046863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2046868">width</span><span class="op" id="2046873">,</span>&nbsp;<span class="ident" id="2046875">ok</span><span class="op" id="2046877">,</span>&nbsp;<span class="ident" id="2046879">newi</span>&nbsp;<span class="op" id="2046884">:=</span>&nbsp;<span class="ident" id="2046887">parsenum</span><span class="op" id="2046895">(</span><span class="ident" id="2046896">format</span><span class="op" id="2046902">,</span>&nbsp;<span class="num" id="2046904">1</span><span class="op" id="2046905">,</span>&nbsp;<span class="ident" id="2046907">i</span><span class="op" id="2046908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046913">if</span>&nbsp;<span class="op" id="2046916">!</span><span class="ident" id="2046917">ok</span>&nbsp;<span class="op" id="2046920">||</span>&nbsp;<span class="ident" id="2046923">newi</span>&nbsp;<span class="op" id="2046928">!=</span>&nbsp;<span class="ident" id="2046931">i</span>&nbsp;<span class="op" id="2046933">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046939">return</span>&nbsp;<span class="num" id="2046946">0</span><span class="op" id="2046947">,</span>&nbsp;<span class="ident" id="2046949">i</span>&nbsp;<span class="op" id="2046951">+</span>&nbsp;<span class="num" id="2046953">1</span><span class="op" id="2046954">,</span>&nbsp;<span class="builtintype" id="2046956">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2046965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2046970">return</span>&nbsp;<span class="ident" id="2046977">width</span>&nbsp;<span class="op" id="2046983">-</span>&nbsp;<span class="num" id="2046985">1</span><span class="op" id="2046986">,</span>&nbsp;<span class="ident" id="2046988">i</span>&nbsp;<span class="op" id="2046990">+</span>&nbsp;<span class="num" id="2046992">1</span><span class="op" id="2046993">,</span>&nbsp;<span class="builtintype" id="2046995">true</span>&nbsp;<span class="comment" id="2047000">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047052">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047055">return</span>&nbsp;<span class="num" id="2047062">0</span><span class="op" id="2047063">,</span>&nbsp;<span class="num" id="2047065">1</span><span class="op" id="2047066">,</span>&nbsp;<span class="builtintype" id="2047068">false</span><br>
<span class="lineno"></span><span class="op" id="2047074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2047077">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2047172">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2047260">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2047345">func</span>&nbsp;<span class="op" id="2047350">(</span><span class="ident" id="2047351">p</span>&nbsp;<span class="op" id="2047353">*</span><span class="ident" id="2047354">pp</span><span class="op" id="2047356">)</span>&nbsp;<span class="ident" id="2047358">argNumber</span><span class="op" id="2047367">(</span><span class="ident" id="2047368">argNum</span>&nbsp;<span class="builtintype" id="2047375">int</span><span class="op" id="2047378">,</span>&nbsp;<span class="ident" id="2047380">format</span>&nbsp;<span class="builtintype" id="2047387">string</span><span class="op" id="2047393">,</span>&nbsp;<span class="ident" id="2047395">i</span>&nbsp;<span class="builtintype" id="2047397">int</span><span class="op" id="2047400">,</span>&nbsp;<span class="ident" id="2047402">numArgs</span>&nbsp;<span class="builtintype" id="2047410">int</span><span class="op" id="2047413">)</span>&nbsp;<span class="op" id="2047415">(</span><span class="ident" id="2047416">newArgNum</span><span class="op" id="2047425">,</span>&nbsp;<span class="ident" id="2047427">newi</span>&nbsp;<span class="builtintype" id="2047432">int</span><span class="op" id="2047435">,</span>&nbsp;<span class="ident" id="2047437">found</span>&nbsp;<span class="builtintype" id="2047443">bool</span><span class="op" id="2047447">)</span>&nbsp;<span class="op" id="2047449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047452">if</span>&nbsp;<span class="builtinfunc" id="2047455">len</span><span class="op" id="2047458">(</span><span class="ident" id="2047459">format</span><span class="op" id="2047465">)</span>&nbsp;<span class="op" id="2047467">&lt;=</span>&nbsp;<span class="ident" id="2047470">i</span>&nbsp;<span class="op" id="2047472">||</span>&nbsp;<span class="ident" id="2047475">format</span><span class="op" id="2047481">[</span><span class="ident" id="2047482">i</span><span class="op" id="2047483">]</span>&nbsp;<span class="op" id="2047485">!=</span>&nbsp;<span class="string" id="2047488">&#39;[&#39;</span>&nbsp;<span class="op" id="2047492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047496">return</span>&nbsp;<span class="ident" id="2047503">argNum</span><span class="op" id="2047509">,</span>&nbsp;<span class="ident" id="2047511">i</span><span class="op" id="2047512">,</span>&nbsp;<span class="builtintype" id="2047514">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047521">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047524">p</span><span class="op" id="2047525">.</span><span class="ident" id="2047526">reordered</span>&nbsp;<span class="op" id="2047536">=</span>&nbsp;<span class="builtintype" id="2047538">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047544">index</span><span class="op" id="2047549">,</span>&nbsp;<span class="ident" id="2047551">wid</span><span class="op" id="2047554">,</span>&nbsp;<span class="ident" id="2047556">ok</span>&nbsp;<span class="op" id="2047559">:=</span>&nbsp;<span class="ident" id="2047562">parseArgNumber</span><span class="op" id="2047576">(</span><span class="ident" id="2047577">format</span><span class="op" id="2047583">[</span><span class="ident" id="2047584">i</span><span class="op" id="2047585">:</span><span class="op" id="2047586">]</span><span class="op" id="2047587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047590">if</span>&nbsp;<span class="ident" id="2047593">ok</span>&nbsp;<span class="op" id="2047596">&amp;&amp;</span>&nbsp;<span class="num" id="2047599">0</span>&nbsp;<span class="op" id="2047601">&lt;=</span>&nbsp;<span class="ident" id="2047604">index</span>&nbsp;<span class="op" id="2047610">&amp;&amp;</span>&nbsp;<span class="ident" id="2047613">index</span>&nbsp;<span class="op" id="2047619">&lt;</span>&nbsp;<span class="ident" id="2047621">numArgs</span>&nbsp;<span class="op" id="2047629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047633">return</span>&nbsp;<span class="ident" id="2047640">index</span><span class="op" id="2047645">,</span>&nbsp;<span class="ident" id="2047647">i</span>&nbsp;<span class="op" id="2047649">+</span>&nbsp;<span class="ident" id="2047651">wid</span><span class="op" id="2047654">,</span>&nbsp;<span class="builtintype" id="2047656">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2047662">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047665">p</span><span class="op" id="2047666">.</span><span class="ident" id="2047667">goodArgNum</span>&nbsp;<span class="op" id="2047678">=</span>&nbsp;<span class="builtintype" id="2047680">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047687">return</span>&nbsp;<span class="ident" id="2047694">argNum</span><span class="op" id="2047700">,</span>&nbsp;<span class="ident" id="2047702">i</span>&nbsp;<span class="op" id="2047704">+</span>&nbsp;<span class="ident" id="2047706">wid</span><span class="op" id="2047709">,</span>&nbsp;<span class="builtintype" id="2047711">true</span><br>
<span class="lineno"></span><span class="op" id="2047716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2047719">func</span>&nbsp;<span class="op" id="2047724">(</span><span class="ident" id="2047725">p</span>&nbsp;<span class="op" id="2047727">*</span><span class="ident" id="2047728">pp</span><span class="op" id="2047730">)</span>&nbsp;<span class="ident" id="2047732">doPrintf</span><span class="op" id="2047740">(</span><span class="ident" id="2047741">format</span>&nbsp;<span class="builtintype" id="2047748">string</span><span class="op" id="2047754">,</span>&nbsp;<span class="ident" id="2047756">a</span>&nbsp;<span class="op" id="2047758">[</span><span class="op" id="2047759">]</span><span class="keyword" id="2047760">interface</span><span class="op" id="2047769">{</span><span class="op" id="2047770">}</span><span class="op" id="2047771">)</span>&nbsp;<span class="op" id="2047773">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047776">end</span>&nbsp;<span class="op" id="2047780">:=</span>&nbsp;<span class="builtinfunc" id="2047783">len</span><span class="op" id="2047786">(</span><span class="ident" id="2047787">format</span><span class="op" id="2047793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047796">argNum</span>&nbsp;<span class="op" id="2047803">:=</span>&nbsp;<span class="num" id="2047806">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2047816">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047867">afterIndex</span>&nbsp;<span class="op" id="2047878">:=</span>&nbsp;<span class="builtintype" id="2047881">false</span>&nbsp;<span class="comment" id="2047887">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047938">p</span><span class="op" id="2047939">.</span><span class="ident" id="2047940">reordered</span>&nbsp;<span class="op" id="2047950">=</span>&nbsp;<span class="builtintype" id="2047952">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2047959">for</span>&nbsp;<span class="ident" id="2047963">i</span>&nbsp;<span class="op" id="2047965">:=</span>&nbsp;<span class="num" id="2047968">0</span><span class="op" id="2047969">;</span>&nbsp;<span class="ident" id="2047971">i</span>&nbsp;<span class="op" id="2047973">&lt;</span>&nbsp;<span class="ident" id="2047975">end</span><span class="op" id="2047978">;</span>&nbsp;<span class="op" id="2047980">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2047984">p</span><span class="op" id="2047985">.</span><span class="ident" id="2047986">goodArgNum</span>&nbsp;<span class="op" id="2047997">=</span>&nbsp;<span class="builtintype" id="2047999">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048006">lasti</span>&nbsp;<span class="op" id="2048012">:=</span>&nbsp;<span class="ident" id="2048015">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048019">for</span>&nbsp;<span class="ident" id="2048023">i</span>&nbsp;<span class="op" id="2048025">&lt;</span>&nbsp;<span class="ident" id="2048027">end</span>&nbsp;<span class="op" id="2048031">&amp;&amp;</span>&nbsp;<span class="ident" id="2048034">format</span><span class="op" id="2048040">[</span><span class="ident" id="2048041">i</span><span class="op" id="2048042">]</span>&nbsp;<span class="op" id="2048044">!=</span>&nbsp;<span class="string" id="2048047">&#39;%&#39;</span>&nbsp;<span class="op" id="2048051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048056">i</span><span class="op" id="2048057">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048062">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048066">if</span>&nbsp;<span class="ident" id="2048069">i</span>&nbsp;<span class="op" id="2048071">&gt;</span>&nbsp;<span class="ident" id="2048073">lasti</span>&nbsp;<span class="op" id="2048079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048084">p</span><span class="op" id="2048085">.</span><span class="ident" id="2048086">buf</span><span class="op" id="2048089">.</span><span class="ident" id="2048090">WriteString</span><span class="op" id="2048101">(</span><span class="ident" id="2048102">format</span><span class="op" id="2048108">[</span><span class="ident" id="2048109">lasti</span><span class="op" id="2048114">:</span><span class="ident" id="2048115">i</span><span class="op" id="2048116">]</span><span class="op" id="2048117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048125">if</span>&nbsp;<span class="ident" id="2048128">i</span>&nbsp;<span class="op" id="2048130">&gt;=</span>&nbsp;<span class="ident" id="2048133">end</span>&nbsp;<span class="op" id="2048137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2048142">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048178">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2048191">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048213">i</span><span class="op" id="2048214">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2048220">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048243">p</span><span class="op" id="2048244">.</span><span class="ident" id="2048245">fmt</span><span class="op" id="2048248">.</span><span class="ident" id="2048249">clearflags</span><span class="op" id="2048259">(</span><span class="op" id="2048260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048263">F</span><span class="op" id="2048264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048268">for</span>&nbsp;<span class="op" id="2048272">;</span>&nbsp;<span class="ident" id="2048274">i</span>&nbsp;<span class="op" id="2048276">&lt;</span>&nbsp;<span class="ident" id="2048278">end</span><span class="op" id="2048281">;</span>&nbsp;<span class="ident" id="2048283">i</span><span class="op" id="2048284">++</span>&nbsp;<span class="op" id="2048287">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048292">switch</span>&nbsp;<span class="ident" id="2048299">format</span><span class="op" id="2048305">[</span><span class="ident" id="2048306">i</span><span class="op" id="2048307">]</span>&nbsp;<span class="op" id="2048309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048314">case</span>&nbsp;<span class="string" id="2048319">&#39;#&#39;</span><span class="op" id="2048322">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048328">p</span><span class="op" id="2048329">.</span><span class="ident" id="2048330">fmt</span><span class="op" id="2048333">.</span><span class="ident" id="2048334">sharp</span>&nbsp;<span class="op" id="2048340">=</span>&nbsp;<span class="builtintype" id="2048342">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048350">case</span>&nbsp;<span class="string" id="2048355">&#39;0&#39;</span><span class="op" id="2048358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048364">p</span><span class="op" id="2048365">.</span><span class="ident" id="2048366">fmt</span><span class="op" id="2048369">.</span><span class="ident" id="2048370">zero</span>&nbsp;<span class="op" id="2048375">=</span>&nbsp;<span class="builtintype" id="2048377">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048385">case</span>&nbsp;<span class="string" id="2048390">&#39;+&#39;</span><span class="op" id="2048393">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048399">p</span><span class="op" id="2048400">.</span><span class="ident" id="2048401">fmt</span><span class="op" id="2048404">.</span><span class="ident" id="2048405">plus</span>&nbsp;<span class="op" id="2048410">=</span>&nbsp;<span class="builtintype" id="2048412">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048420">case</span>&nbsp;<span class="string" id="2048425">&#39;-&#39;</span><span class="op" id="2048428">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048434">p</span><span class="op" id="2048435">.</span><span class="ident" id="2048436">fmt</span><span class="op" id="2048439">.</span><span class="ident" id="2048440">minus</span>&nbsp;<span class="op" id="2048446">=</span>&nbsp;<span class="builtintype" id="2048448">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048456">case</span>&nbsp;<span class="string" id="2048461">&#39;&nbsp;&#39;</span><span class="op" id="2048464">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048470">p</span><span class="op" id="2048471">.</span><span class="ident" id="2048472">fmt</span><span class="op" id="2048475">.</span><span class="ident" id="2048476">space</span>&nbsp;<span class="op" id="2048482">=</span>&nbsp;<span class="builtintype" id="2048484">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048492">default</span><span class="op" id="2048499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048505">break</span>&nbsp;<span class="ident" id="2048511">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048520">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2048525">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048569">argNum</span><span class="op" id="2048575">,</span>&nbsp;<span class="ident" id="2048577">i</span><span class="op" id="2048578">,</span>&nbsp;<span class="ident" id="2048580">afterIndex</span>&nbsp;<span class="op" id="2048591">=</span>&nbsp;<span class="ident" id="2048593">p</span><span class="op" id="2048594">.</span><span class="ident" id="2048595">argNumber</span><span class="op" id="2048604">(</span><span class="ident" id="2048605">argNum</span><span class="op" id="2048611">,</span>&nbsp;<span class="ident" id="2048613">format</span><span class="op" id="2048619">,</span>&nbsp;<span class="ident" id="2048621">i</span><span class="op" id="2048622">,</span>&nbsp;<span class="builtinfunc" id="2048624">len</span><span class="op" id="2048627">(</span><span class="ident" id="2048628">a</span><span class="op" id="2048629">)</span><span class="op" id="2048630">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2048635">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048658">if</span>&nbsp;<span class="ident" id="2048661">i</span>&nbsp;<span class="op" id="2048663">&lt;</span>&nbsp;<span class="ident" id="2048665">end</span>&nbsp;<span class="op" id="2048669">&amp;&amp;</span>&nbsp;<span class="ident" id="2048672">format</span><span class="op" id="2048678">[</span><span class="ident" id="2048679">i</span><span class="op" id="2048680">]</span>&nbsp;<span class="op" id="2048682">==</span>&nbsp;<span class="string" id="2048685">&#39;*&#39;</span>&nbsp;<span class="op" id="2048689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048694">i</span><span class="op" id="2048695">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048701">p</span><span class="op" id="2048702">.</span><span class="ident" id="2048703">fmt</span><span class="op" id="2048706">.</span><span class="ident" id="2048707">wid</span><span class="op" id="2048710">,</span>&nbsp;<span class="ident" id="2048712">p</span><span class="op" id="2048713">.</span><span class="ident" id="2048714">fmt</span><span class="op" id="2048717">.</span><span class="ident" id="2048718">widPresent</span><span class="op" id="2048728">,</span>&nbsp;<span class="ident" id="2048730">argNum</span>&nbsp;<span class="op" id="2048737">=</span>&nbsp;<span class="ident" id="2048739">intFromArg</span><span class="op" id="2048749">(</span><span class="ident" id="2048750">a</span><span class="op" id="2048751">,</span>&nbsp;<span class="ident" id="2048753">argNum</span><span class="op" id="2048759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048764">if</span>&nbsp;<span class="op" id="2048767">!</span><span class="ident" id="2048768">p</span><span class="op" id="2048769">.</span><span class="ident" id="2048770">fmt</span><span class="op" id="2048773">.</span><span class="ident" id="2048774">widPresent</span>&nbsp;<span class="op" id="2048785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048791">p</span><span class="op" id="2048792">.</span><span class="ident" id="2048793">buf</span><span class="op" id="2048796">.</span><span class="ident" id="2048797">Write</span><span class="op" id="2048802">(</span><span class="ident" id="2048803">badWidthBytes</span><span class="op" id="2048816">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048826">afterIndex</span>&nbsp;<span class="op" id="2048837">=</span>&nbsp;<span class="builtintype" id="2048839">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048847">}</span>&nbsp;<span class="keyword" id="2048849">else</span>&nbsp;<span class="op" id="2048854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048859">p</span><span class="op" id="2048860">.</span><span class="ident" id="2048861">fmt</span><span class="op" id="2048864">.</span><span class="ident" id="2048865">wid</span><span class="op" id="2048868">,</span>&nbsp;<span class="ident" id="2048870">p</span><span class="op" id="2048871">.</span><span class="ident" id="2048872">fmt</span><span class="op" id="2048875">.</span><span class="ident" id="2048876">widPresent</span><span class="op" id="2048886">,</span>&nbsp;<span class="ident" id="2048888">i</span>&nbsp;<span class="op" id="2048890">=</span>&nbsp;<span class="ident" id="2048892">parsenum</span><span class="op" id="2048900">(</span><span class="ident" id="2048901">format</span><span class="op" id="2048907">,</span>&nbsp;<span class="ident" id="2048909">i</span><span class="op" id="2048910">,</span>&nbsp;<span class="ident" id="2048912">end</span><span class="op" id="2048915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2048920">if</span>&nbsp;<span class="ident" id="2048923">afterIndex</span>&nbsp;<span class="op" id="2048934">&amp;&amp;</span>&nbsp;<span class="ident" id="2048937">p</span><span class="op" id="2048938">.</span><span class="ident" id="2048939">fmt</span><span class="op" id="2048942">.</span><span class="ident" id="2048943">widPresent</span>&nbsp;<span class="op" id="2048954">{</span>&nbsp;<span class="comment" id="2048956">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2048972">p</span><span class="op" id="2048973">.</span><span class="ident" id="2048974">goodArgNum</span>&nbsp;<span class="op" id="2048985">=</span>&nbsp;<span class="builtintype" id="2048987">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2048996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2049005">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049032">if</span>&nbsp;<span class="ident" id="2049035">i</span><span class="op" id="2049036">+</span><span class="num" id="2049037">1</span>&nbsp;<span class="op" id="2049039">&lt;</span>&nbsp;<span class="ident" id="2049041">end</span>&nbsp;<span class="op" id="2049045">&amp;&amp;</span>&nbsp;<span class="ident" id="2049048">format</span><span class="op" id="2049054">[</span><span class="ident" id="2049055">i</span><span class="op" id="2049056">]</span>&nbsp;<span class="op" id="2049058">==</span>&nbsp;<span class="string" id="2049061">&#39;.&#39;</span>&nbsp;<span class="op" id="2049065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049070">i</span><span class="op" id="2049071">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049077">if</span>&nbsp;<span class="ident" id="2049080">afterIndex</span>&nbsp;<span class="op" id="2049091">{</span>&nbsp;<span class="comment" id="2049093">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049110">p</span><span class="op" id="2049111">.</span><span class="ident" id="2049112">goodArgNum</span>&nbsp;<span class="op" id="2049123">=</span>&nbsp;<span class="builtintype" id="2049125">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049134">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049139">argNum</span><span class="op" id="2049145">,</span>&nbsp;<span class="ident" id="2049147">i</span><span class="op" id="2049148">,</span>&nbsp;<span class="ident" id="2049150">afterIndex</span>&nbsp;<span class="op" id="2049161">=</span>&nbsp;<span class="ident" id="2049163">p</span><span class="op" id="2049164">.</span><span class="ident" id="2049165">argNumber</span><span class="op" id="2049174">(</span><span class="ident" id="2049175">argNum</span><span class="op" id="2049181">,</span>&nbsp;<span class="ident" id="2049183">format</span><span class="op" id="2049189">,</span>&nbsp;<span class="ident" id="2049191">i</span><span class="op" id="2049192">,</span>&nbsp;<span class="builtinfunc" id="2049194">len</span><span class="op" id="2049197">(</span><span class="ident" id="2049198">a</span><span class="op" id="2049199">)</span><span class="op" id="2049200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049205">if</span>&nbsp;<span class="ident" id="2049208">format</span><span class="op" id="2049214">[</span><span class="ident" id="2049215">i</span><span class="op" id="2049216">]</span>&nbsp;<span class="op" id="2049218">==</span>&nbsp;<span class="string" id="2049221">&#39;*&#39;</span>&nbsp;<span class="op" id="2049225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049231">i</span><span class="op" id="2049232">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049239">p</span><span class="op" id="2049240">.</span><span class="ident" id="2049241">fmt</span><span class="op" id="2049244">.</span><span class="ident" id="2049245">prec</span><span class="op" id="2049249">,</span>&nbsp;<span class="ident" id="2049251">p</span><span class="op" id="2049252">.</span><span class="ident" id="2049253">fmt</span><span class="op" id="2049256">.</span><span class="ident" id="2049257">precPresent</span><span class="op" id="2049268">,</span>&nbsp;<span class="ident" id="2049270">argNum</span>&nbsp;<span class="op" id="2049277">=</span>&nbsp;<span class="ident" id="2049279">intFromArg</span><span class="op" id="2049289">(</span><span class="ident" id="2049290">a</span><span class="op" id="2049291">,</span>&nbsp;<span class="ident" id="2049293">argNum</span><span class="op" id="2049299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049305">if</span>&nbsp;<span class="op" id="2049308">!</span><span class="ident" id="2049309">p</span><span class="op" id="2049310">.</span><span class="ident" id="2049311">fmt</span><span class="op" id="2049314">.</span><span class="ident" id="2049315">precPresent</span>&nbsp;<span class="op" id="2049327">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049334">p</span><span class="op" id="2049335">.</span><span class="ident" id="2049336">buf</span><span class="op" id="2049339">.</span><span class="ident" id="2049340">Write</span><span class="op" id="2049345">(</span><span class="ident" id="2049346">badPrecBytes</span><span class="op" id="2049358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049370">afterIndex</span>&nbsp;<span class="op" id="2049381">=</span>&nbsp;<span class="builtintype" id="2049383">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049392">}</span>&nbsp;<span class="keyword" id="2049394">else</span>&nbsp;<span class="op" id="2049399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049405">p</span><span class="op" id="2049406">.</span><span class="ident" id="2049407">fmt</span><span class="op" id="2049410">.</span><span class="ident" id="2049411">prec</span><span class="op" id="2049415">,</span>&nbsp;<span class="ident" id="2049417">p</span><span class="op" id="2049418">.</span><span class="ident" id="2049419">fmt</span><span class="op" id="2049422">.</span><span class="ident" id="2049423">precPresent</span><span class="op" id="2049434">,</span>&nbsp;<span class="ident" id="2049436">i</span>&nbsp;<span class="op" id="2049438">=</span>&nbsp;<span class="ident" id="2049440">parsenum</span><span class="op" id="2049448">(</span><span class="ident" id="2049449">format</span><span class="op" id="2049455">,</span>&nbsp;<span class="ident" id="2049457">i</span><span class="op" id="2049458">,</span>&nbsp;<span class="ident" id="2049460">end</span><span class="op" id="2049463">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049469">if</span>&nbsp;<span class="op" id="2049472">!</span><span class="ident" id="2049473">p</span><span class="op" id="2049474">.</span><span class="ident" id="2049475">fmt</span><span class="op" id="2049478">.</span><span class="ident" id="2049479">precPresent</span>&nbsp;<span class="op" id="2049491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049498">p</span><span class="op" id="2049499">.</span><span class="ident" id="2049500">fmt</span><span class="op" id="2049503">.</span><span class="ident" id="2049504">prec</span>&nbsp;<span class="op" id="2049509">=</span>&nbsp;<span class="num" id="2049511">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049518">p</span><span class="op" id="2049519">.</span><span class="ident" id="2049520">fmt</span><span class="op" id="2049523">.</span><span class="ident" id="2049524">precPresent</span>&nbsp;<span class="op" id="2049536">=</span>&nbsp;<span class="builtintype" id="2049538">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049552">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049561">if</span>&nbsp;<span class="op" id="2049564">!</span><span class="ident" id="2049565">afterIndex</span>&nbsp;<span class="op" id="2049576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049581">argNum</span><span class="op" id="2049587">,</span>&nbsp;<span class="ident" id="2049589">i</span><span class="op" id="2049590">,</span>&nbsp;<span class="ident" id="2049592">afterIndex</span>&nbsp;<span class="op" id="2049603">=</span>&nbsp;<span class="ident" id="2049605">p</span><span class="op" id="2049606">.</span><span class="ident" id="2049607">argNumber</span><span class="op" id="2049616">(</span><span class="ident" id="2049617">argNum</span><span class="op" id="2049623">,</span>&nbsp;<span class="ident" id="2049625">format</span><span class="op" id="2049631">,</span>&nbsp;<span class="ident" id="2049633">i</span><span class="op" id="2049634">,</span>&nbsp;<span class="builtinfunc" id="2049636">len</span><span class="op" id="2049639">(</span><span class="ident" id="2049640">a</span><span class="op" id="2049641">)</span><span class="op" id="2049642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049646">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049651">if</span>&nbsp;<span class="ident" id="2049654">i</span>&nbsp;<span class="op" id="2049656">&gt;=</span>&nbsp;<span class="ident" id="2049659">end</span>&nbsp;<span class="op" id="2049663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049668">p</span><span class="op" id="2049669">.</span><span class="ident" id="2049670">buf</span><span class="op" id="2049673">.</span><span class="ident" id="2049674">Write</span><span class="op" id="2049679">(</span><span class="ident" id="2049680">noVerbBytes</span><span class="op" id="2049691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049696">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049707">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049711">c</span><span class="op" id="2049712">,</span>&nbsp;<span class="ident" id="2049714">w</span>&nbsp;<span class="op" id="2049716">:=</span>&nbsp;<span class="ident" id="2049719">utf8</span><span class="op" id="2049723">.</span><span class="ident" id="2049724">DecodeRuneInString</span><span class="op" id="2049742">(</span><span class="ident" id="2049743">format</span><span class="op" id="2049749">[</span><span class="ident" id="2049750">i</span><span class="op" id="2049751">:</span><span class="op" id="2049752">]</span><span class="op" id="2049753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049757">i</span>&nbsp;<span class="op" id="2049759">+=</span>&nbsp;<span class="ident" id="2049762">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2049766">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049811">if</span>&nbsp;<span class="ident" id="2049814">c</span>&nbsp;<span class="op" id="2049816">==</span>&nbsp;<span class="string" id="2049819">&#39;%&#39;</span>&nbsp;<span class="op" id="2049823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049828">p</span><span class="op" id="2049829">.</span><span class="ident" id="2049830">buf</span><span class="op" id="2049833">.</span><span class="ident" id="2049834">WriteByte</span><span class="op" id="2049843">(</span><span class="string" id="2049844">&#39;%&#39;</span><span class="op" id="2049847">)</span>&nbsp;<span class="comment" id="2049849">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049881">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2049892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049896">if</span>&nbsp;<span class="op" id="2049899">!</span><span class="ident" id="2049900">p</span><span class="op" id="2049901">.</span><span class="ident" id="2049902">goodArgNum</span>&nbsp;<span class="op" id="2049913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049918">p</span><span class="op" id="2049919">.</span><span class="ident" id="2049920">buf</span><span class="op" id="2049923">.</span><span class="ident" id="2049924">Write</span><span class="op" id="2049929">(</span><span class="ident" id="2049930">percentBangBytes</span><span class="op" id="2049946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049951">p</span><span class="op" id="2049952">.</span><span class="ident" id="2049953">add</span><span class="op" id="2049956">(</span><span class="ident" id="2049957">c</span><span class="op" id="2049958">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049963">p</span><span class="op" id="2049964">.</span><span class="ident" id="2049965">buf</span><span class="op" id="2049968">.</span><span class="ident" id="2049969">Write</span><span class="op" id="2049974">(</span><span class="ident" id="2049975">badIndexBytes</span><span class="op" id="2049988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2049993">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050004">}</span>&nbsp;<span class="keyword" id="2050006">else</span>&nbsp;<span class="keyword" id="2050011">if</span>&nbsp;<span class="ident" id="2050014">argNum</span>&nbsp;<span class="op" id="2050021">&gt;=</span>&nbsp;<span class="builtinfunc" id="2050024">len</span><span class="op" id="2050027">(</span><span class="ident" id="2050028">a</span><span class="op" id="2050029">)</span>&nbsp;<span class="op" id="2050031">{</span>&nbsp;<span class="comment" id="2050033">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050055">p</span><span class="op" id="2050056">.</span><span class="ident" id="2050057">buf</span><span class="op" id="2050060">.</span><span class="ident" id="2050061">Write</span><span class="op" id="2050066">(</span><span class="ident" id="2050067">percentBangBytes</span><span class="op" id="2050083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050088">p</span><span class="op" id="2050089">.</span><span class="ident" id="2050090">add</span><span class="op" id="2050093">(</span><span class="ident" id="2050094">c</span><span class="op" id="2050095">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050100">p</span><span class="op" id="2050101">.</span><span class="ident" id="2050102">buf</span><span class="op" id="2050105">.</span><span class="ident" id="2050106">Write</span><span class="op" id="2050111">(</span><span class="ident" id="2050112">missingBytes</span><span class="op" id="2050124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050129">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050144">arg</span>&nbsp;<span class="op" id="2050148">:=</span>&nbsp;<span class="ident" id="2050151">a</span><span class="op" id="2050152">[</span><span class="ident" id="2050153">argNum</span><span class="op" id="2050159">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050163">argNum</span><span class="op" id="2050169">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050175">if</span>&nbsp;<span class="ident" id="2050178">c</span>&nbsp;<span class="op" id="2050180">==</span>&nbsp;<span class="string" id="2050183">&#39;v&#39;</span>&nbsp;<span class="op" id="2050187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050192">if</span>&nbsp;<span class="ident" id="2050195">p</span><span class="op" id="2050196">.</span><span class="ident" id="2050197">fmt</span><span class="op" id="2050200">.</span><span class="ident" id="2050201">sharp</span>&nbsp;<span class="op" id="2050207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050213">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050281">p</span><span class="op" id="2050282">.</span><span class="ident" id="2050283">fmt</span><span class="op" id="2050286">.</span><span class="ident" id="2050287">sharp</span>&nbsp;<span class="op" id="2050293">=</span>&nbsp;<span class="builtintype" id="2050295">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050305">p</span><span class="op" id="2050306">.</span><span class="ident" id="2050307">fmt</span><span class="op" id="2050310">.</span><span class="ident" id="2050311">sharpV</span>&nbsp;<span class="op" id="2050318">=</span>&nbsp;<span class="builtintype" id="2050320">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050333">if</span>&nbsp;<span class="ident" id="2050336">p</span><span class="op" id="2050337">.</span><span class="ident" id="2050338">fmt</span><span class="op" id="2050341">.</span><span class="ident" id="2050342">plus</span>&nbsp;<span class="op" id="2050347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050353">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050430">p</span><span class="op" id="2050431">.</span><span class="ident" id="2050432">fmt</span><span class="op" id="2050435">.</span><span class="ident" id="2050436">plus</span>&nbsp;<span class="op" id="2050441">=</span>&nbsp;<span class="builtintype" id="2050443">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050453">p</span><span class="op" id="2050454">.</span><span class="ident" id="2050455">fmt</span><span class="op" id="2050458">.</span><span class="ident" id="2050459">plusV</span>&nbsp;<span class="op" id="2050465">=</span>&nbsp;<span class="builtintype" id="2050467">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050483">p</span><span class="op" id="2050484">.</span><span class="ident" id="2050485">printArg</span><span class="op" id="2050493">(</span><span class="ident" id="2050494">arg</span><span class="op" id="2050497">,</span>&nbsp;<span class="ident" id="2050499">c</span><span class="op" id="2050500">,</span>&nbsp;<span class="num" id="2050502">0</span><span class="op" id="2050503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050506">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050510">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050579">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050655">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050701">if</span>&nbsp;<span class="op" id="2050704">!</span><span class="ident" id="2050705">p</span><span class="op" id="2050706">.</span><span class="ident" id="2050707">reordered</span>&nbsp;<span class="op" id="2050717">&amp;&amp;</span>&nbsp;<span class="ident" id="2050720">argNum</span>&nbsp;<span class="op" id="2050727">&lt;</span>&nbsp;<span class="builtinfunc" id="2050729">len</span><span class="op" id="2050732">(</span><span class="ident" id="2050733">a</span><span class="op" id="2050734">)</span>&nbsp;<span class="op" id="2050736">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050740">p</span><span class="op" id="2050741">.</span><span class="ident" id="2050742">buf</span><span class="op" id="2050745">.</span><span class="ident" id="2050746">Write</span><span class="op" id="2050751">(</span><span class="ident" id="2050752">extraBytes</span><span class="op" id="2050762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050766">for</span>&nbsp;<span class="op" id="2050770">;</span>&nbsp;<span class="ident" id="2050772">argNum</span>&nbsp;<span class="op" id="2050779">&lt;</span>&nbsp;<span class="builtinfunc" id="2050781">len</span><span class="op" id="2050784">(</span><span class="ident" id="2050785">a</span><span class="op" id="2050786">)</span><span class="op" id="2050787">;</span>&nbsp;<span class="ident" id="2050789">argNum</span><span class="op" id="2050795">++</span>&nbsp;<span class="op" id="2050798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050803">arg</span>&nbsp;<span class="op" id="2050807">:=</span>&nbsp;<span class="ident" id="2050810">a</span><span class="op" id="2050811">[</span><span class="ident" id="2050812">argNum</span><span class="op" id="2050818">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050823">if</span>&nbsp;<span class="ident" id="2050826">arg</span>&nbsp;<span class="op" id="2050830">!=</span>&nbsp;<span class="ident" id="2050833">nil</span>&nbsp;<span class="op" id="2050837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050843">p</span><span class="op" id="2050844">.</span><span class="ident" id="2050845">buf</span><span class="op" id="2050848">.</span><span class="ident" id="2050849">WriteString</span><span class="op" id="2050860">(</span><span class="ident" id="2050861">reflect</span><span class="op" id="2050868">.</span><span class="ident" id="2050869">TypeOf</span><span class="op" id="2050875">(</span><span class="ident" id="2050876">arg</span><span class="op" id="2050879">)</span><span class="op" id="2050880">.</span><span class="ident" id="2050881">String</span><span class="op" id="2050887">(</span><span class="op" id="2050888">)</span><span class="op" id="2050889">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050895">p</span><span class="op" id="2050896">.</span><span class="ident" id="2050897">buf</span><span class="op" id="2050900">.</span><span class="ident" id="2050901">WriteByte</span><span class="op" id="2050910">(</span><span class="string" id="2050911">&#39;=&#39;</span><span class="op" id="2050914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050924">p</span><span class="op" id="2050925">.</span><span class="ident" id="2050926">printArg</span><span class="op" id="2050934">(</span><span class="ident" id="2050935">arg</span><span class="op" id="2050938">,</span>&nbsp;<span class="string" id="2050940">&#39;v&#39;</span><span class="op" id="2050943">,</span>&nbsp;<span class="num" id="2050945">0</span><span class="op" id="2050946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050951">if</span>&nbsp;<span class="ident" id="2050954">argNum</span><span class="op" id="2050960">+</span><span class="num" id="2050961">1</span>&nbsp;<span class="op" id="2050963">&lt;</span>&nbsp;<span class="builtinfunc" id="2050965">len</span><span class="op" id="2050968">(</span><span class="ident" id="2050969">a</span><span class="op" id="2050970">)</span>&nbsp;<span class="op" id="2050972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050978">p</span><span class="op" id="2050979">.</span><span class="ident" id="2050980">buf</span><span class="op" id="2050983">.</span><span class="ident" id="2050984">Write</span><span class="op" id="2050989">(</span><span class="ident" id="2050990">commaSpaceBytes</span><span class="op" id="2051005">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051018">p</span><span class="op" id="2051019">.</span><span class="ident" id="2051020">buf</span><span class="op" id="2051023">.</span><span class="ident" id="2051024">WriteByte</span><span class="op" id="2051033">(</span><span class="string" id="2051034">&#39;)&#39;</span><span class="op" id="2051037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051040">}</span><br>
<span class="lineno"></span><span class="op" id="2051042">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2051045">func</span>&nbsp;<span class="op" id="2051050">(</span><span class="ident" id="2051051">p</span>&nbsp;<span class="op" id="2051053">*</span><span class="ident" id="2051054">pp</span><span class="op" id="2051056">)</span>&nbsp;<span class="ident" id="2051058">doPrint</span><span class="op" id="2051065">(</span><span class="ident" id="2051066">a</span>&nbsp;<span class="op" id="2051068">[</span><span class="op" id="2051069">]</span><span class="keyword" id="2051070">interface</span><span class="op" id="2051079">{</span><span class="op" id="2051080">}</span><span class="op" id="2051081">,</span>&nbsp;<span class="ident" id="2051083">addspace</span><span class="op" id="2051091">,</span>&nbsp;<span class="ident" id="2051093">addnewline</span>&nbsp;<span class="builtintype" id="2051104">bool</span><span class="op" id="2051108">)</span>&nbsp;<span class="op" id="2051110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051113">prevString</span>&nbsp;<span class="op" id="2051124">:=</span>&nbsp;<span class="builtintype" id="2051127">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051134">for</span>&nbsp;<span class="ident" id="2051138">argNum</span>&nbsp;<span class="op" id="2051145">:=</span>&nbsp;<span class="num" id="2051148">0</span><span class="op" id="2051149">;</span>&nbsp;<span class="ident" id="2051151">argNum</span>&nbsp;<span class="op" id="2051158">&lt;</span>&nbsp;<span class="builtinfunc" id="2051160">len</span><span class="op" id="2051163">(</span><span class="ident" id="2051164">a</span><span class="op" id="2051165">)</span><span class="op" id="2051166">;</span>&nbsp;<span class="ident" id="2051168">argNum</span><span class="op" id="2051174">++</span>&nbsp;<span class="op" id="2051177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051181">p</span><span class="op" id="2051182">.</span><span class="ident" id="2051183">fmt</span><span class="op" id="2051186">.</span><span class="ident" id="2051187">clearflags</span><span class="op" id="2051197">(</span><span class="op" id="2051198">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2051202">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051248">arg</span>&nbsp;<span class="op" id="2051252">:=</span>&nbsp;<span class="ident" id="2051255">a</span><span class="op" id="2051256">[</span><span class="ident" id="2051257">argNum</span><span class="op" id="2051263">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051267">if</span>&nbsp;<span class="ident" id="2051270">argNum</span>&nbsp;<span class="op" id="2051277">&gt;</span>&nbsp;<span class="num" id="2051279">0</span>&nbsp;<span class="op" id="2051281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051286">isString</span>&nbsp;<span class="op" id="2051295">:=</span>&nbsp;<span class="ident" id="2051298">arg</span>&nbsp;<span class="op" id="2051302">!=</span>&nbsp;<span class="ident" id="2051305">nil</span>&nbsp;<span class="op" id="2051309">&amp;&amp;</span>&nbsp;<span class="ident" id="2051312">reflect</span><span class="op" id="2051319">.</span><span class="ident" id="2051320">TypeOf</span><span class="op" id="2051326">(</span><span class="ident" id="2051327">arg</span><span class="op" id="2051330">)</span><span class="op" id="2051331">.</span><span class="ident" id="2051332">Kind</span><span class="op" id="2051336">(</span><span class="op" id="2051337">)</span>&nbsp;<span class="op" id="2051339">==</span>&nbsp;<span class="ident" id="2051342">reflect</span><span class="op" id="2051349">.</span><span class="ident" id="2051350">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051360">if</span>&nbsp;<span class="ident" id="2051363">addspace</span>&nbsp;<span class="op" id="2051372">||</span>&nbsp;<span class="op" id="2051375">!</span><span class="ident" id="2051376">isString</span>&nbsp;<span class="op" id="2051385">&amp;&amp;</span>&nbsp;<span class="op" id="2051388">!</span><span class="ident" id="2051389">prevString</span>&nbsp;<span class="op" id="2051400">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051406">p</span><span class="op" id="2051407">.</span><span class="ident" id="2051408">buf</span><span class="op" id="2051411">.</span><span class="ident" id="2051412">WriteByte</span><span class="op" id="2051421">(</span><span class="string" id="2051422">&#39;&nbsp;&#39;</span><span class="op" id="2051425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051438">prevString</span>&nbsp;<span class="op" id="2051449">=</span>&nbsp;<span class="ident" id="2051451">p</span><span class="op" id="2051452">.</span><span class="ident" id="2051453">printArg</span><span class="op" id="2051461">(</span><span class="ident" id="2051462">arg</span><span class="op" id="2051465">,</span>&nbsp;<span class="string" id="2051467">&#39;v&#39;</span><span class="op" id="2051470">,</span>&nbsp;<span class="num" id="2051472">0</span><span class="op" id="2051473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051476">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051479">if</span>&nbsp;<span class="ident" id="2051482">addnewline</span>&nbsp;<span class="op" id="2051493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051497">p</span><span class="op" id="2051498">.</span><span class="ident" id="2051499">buf</span><span class="op" id="2051502">.</span><span class="ident" id="2051503">WriteByte</span><span class="op" id="2051512">(</span><span class="string" id="2051513">&#39;\n&#39;</span><span class="op" id="2051517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051520">}</span><br>
<span class="lineno"></span><span class="op" id="2051522">}</span>
</div>
</body>
</html>
