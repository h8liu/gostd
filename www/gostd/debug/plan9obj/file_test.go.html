<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/plan9obj</h2>
<ul>
<li><a href="/gostd/debug/plan9obj/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/plan9obj/file_test.go.html" class="current">file_test.go</a></li>
<li><a href="/gostd/debug/plan9obj/plan9obj.go.html">plan9obj.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7701495">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7701551">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7701605">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7701656">package</span>&nbsp;<span class="ident" id="7701664">plan9obj</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7701674">import</span>&nbsp;<span class="op" id="7701681">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7701684">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7701695">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7701705">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7701708">type</span>&nbsp;<span class="ident" id="7701713">fileTest</span>&nbsp;<span class="keyword" id="7701722">struct</span>&nbsp;<span class="op" id="7701729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7701732">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7701741">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7701749">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7701758"><a href="/gostd/debug/plan9obj/file.go.html#5890597">FileHeader</a></span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7701770">sections</span>&nbsp;<span class="op" id="7701779">[</span><span class="op" id="7701780">]</span><span class="op" id="7701781">*</span><span class="ident" id="7701782"><a href="/gostd/debug/plan9obj/file.go.html#5891023">SectionHeader</a></span><br>
<span class="lineno"></span><span class="op" id="7701796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7701799">var</span>&nbsp;<span class="ident" id="7701803">fileTests</span>&nbsp;<span class="op" id="7701813">=</span>&nbsp;<span class="op" id="7701815">[</span><span class="op" id="7701816">]</span><span class="ident" id="7701817"><a href="/gostd/debug/plan9obj/file_test.go.html#7701713">fileTest</a></span><span class="op" id="7701825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7701828">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7701832">&#34;testdata/386-plan9-exec&#34;</span><span class="op" id="7701857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7701861"><a href="/gostd/debug/plan9obj/file.go.html#5890597">FileHeader</a></span><span class="op" id="7701871">{</span><span class="ident" id="7701872"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897858">Magic386</a></span><span class="op" id="7701880">,</span>&nbsp;<span class="num" id="7701882">0x324</span><span class="op" id="7701887">,</span>&nbsp;<span class="num" id="7701889">0x14</span><span class="op" id="7701893">,</span>&nbsp;<span class="num" id="7701895">4</span><span class="op" id="7701896">,</span>&nbsp;<span class="num" id="7701898">0x1000</span><span class="op" id="7701904">,</span>&nbsp;<span class="num" id="7701906">32</span><span class="op" id="7701908">}</span><span class="op" id="7701909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7701913">[</span><span class="op" id="7701914">]</span><span class="op" id="7701915">*</span><span class="ident" id="7701916"><a href="/gostd/debug/plan9obj/file.go.html#5891023">SectionHeader</a></span><span class="op" id="7701929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7701934">{</span><span class="string" id="7701935">&#34;text&#34;</span><span class="op" id="7701941">,</span>&nbsp;<span class="num" id="7701943">0x4c5f</span><span class="op" id="7701949">,</span>&nbsp;<span class="num" id="7701951">0x20</span><span class="op" id="7701955">}</span><span class="op" id="7701956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7701961">{</span><span class="string" id="7701962">&#34;data&#34;</span><span class="op" id="7701968">,</span>&nbsp;<span class="num" id="7701970">0x94c</span><span class="op" id="7701975">,</span>&nbsp;<span class="num" id="7701977">0x4c7f</span><span class="op" id="7701983">}</span><span class="op" id="7701984">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7701989">{</span><span class="string" id="7701990">&#34;syms&#34;</span><span class="op" id="7701996">,</span>&nbsp;<span class="num" id="7701998">0x2c2b</span><span class="op" id="7702004">,</span>&nbsp;<span class="num" id="7702006">0x55cb</span><span class="op" id="7702012">}</span><span class="op" id="7702013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702018">{</span><span class="string" id="7702019">&#34;spsz&#34;</span><span class="op" id="7702025">,</span>&nbsp;<span class="num" id="7702027">0x0</span><span class="op" id="7702030">,</span>&nbsp;<span class="num" id="7702032">0x81f6</span><span class="op" id="7702038">}</span><span class="op" id="7702039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702044">{</span><span class="string" id="7702045">&#34;pcsz&#34;</span><span class="op" id="7702051">,</span>&nbsp;<span class="num" id="7702053">0xf7a</span><span class="op" id="7702058">,</span>&nbsp;<span class="num" id="7702060">0x81f6</span><span class="op" id="7702066">}</span><span class="op" id="7702067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702071">}</span><span class="op" id="7702072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702075">}</span><span class="op" id="7702076">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7702083">&#34;testdata/amd64-plan9-exec&#34;</span><span class="op" id="7702110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702114"><a href="/gostd/debug/plan9obj/file.go.html#5890597">FileHeader</a></span><span class="op" id="7702124">{</span><span class="ident" id="7702125"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897888">MagicAMD64</a></span><span class="op" id="7702135">,</span>&nbsp;<span class="num" id="7702137">0x618</span><span class="op" id="7702142">,</span>&nbsp;<span class="num" id="7702144">0x13</span><span class="op" id="7702148">,</span>&nbsp;<span class="num" id="7702150">8</span><span class="op" id="7702151">,</span>&nbsp;<span class="num" id="7702153">0x200000</span><span class="op" id="7702161">,</span>&nbsp;<span class="num" id="7702163">40</span><span class="op" id="7702165">}</span><span class="op" id="7702166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702170">[</span><span class="op" id="7702171">]</span><span class="op" id="7702172">*</span><span class="ident" id="7702173"><a href="/gostd/debug/plan9obj/file.go.html#5891023">SectionHeader</a></span><span class="op" id="7702186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702191">{</span><span class="string" id="7702192">&#34;text&#34;</span><span class="op" id="7702198">,</span>&nbsp;<span class="num" id="7702200">0x4213</span><span class="op" id="7702206">,</span>&nbsp;<span class="num" id="7702208">0x28</span><span class="op" id="7702212">}</span><span class="op" id="7702213">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702218">{</span><span class="string" id="7702219">&#34;data&#34;</span><span class="op" id="7702225">,</span>&nbsp;<span class="num" id="7702227">0xa80</span><span class="op" id="7702232">,</span>&nbsp;<span class="num" id="7702234">0x423b</span><span class="op" id="7702240">}</span><span class="op" id="7702241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702246">{</span><span class="string" id="7702247">&#34;syms&#34;</span><span class="op" id="7702253">,</span>&nbsp;<span class="num" id="7702255">0x2c8c</span><span class="op" id="7702261">,</span>&nbsp;<span class="num" id="7702263">0x4cbb</span><span class="op" id="7702269">}</span><span class="op" id="7702270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702275">{</span><span class="string" id="7702276">&#34;spsz&#34;</span><span class="op" id="7702282">,</span>&nbsp;<span class="num" id="7702284">0x0</span><span class="op" id="7702287">,</span>&nbsp;<span class="num" id="7702289">0x7947</span><span class="op" id="7702295">}</span><span class="op" id="7702296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702301">{</span><span class="string" id="7702302">&#34;pcsz&#34;</span><span class="op" id="7702308">,</span>&nbsp;<span class="num" id="7702310">0xca0</span><span class="op" id="7702315">,</span>&nbsp;<span class="num" id="7702317">0x7947</span><span class="op" id="7702323">}</span><span class="op" id="7702324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702328">}</span><span class="op" id="7702329">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702332">}</span><span class="op" id="7702333">,</span><br>
<span class="lineno"></span><span class="op" id="7702335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7702338">func</span>&nbsp;<span class="ident" id="7702343">TestOpen</span><span class="op" id="7702351">(</span><span class="ident" id="7702352">t</span>&nbsp;<span class="op" id="7702354">*</span><span class="ident" id="7702355"><a href="/gostd/debug/plan9obj/file_test.go.html#7701695">testing</a></span><span class="op" id="7702362">.</span><span class="ident" id="7702363"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7702364">)</span>&nbsp;<span class="op" id="7702366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702369">for</span>&nbsp;<span class="ident" id="7702373">i</span>&nbsp;<span class="op" id="7702375">:=</span>&nbsp;<span class="keyword" id="7702378">range</span>&nbsp;<span class="ident" id="7702384"><a href="/gostd/debug/plan9obj/file_test.go.html#7701803">fileTests</a></span>&nbsp;<span class="op" id="7702394">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702398">tt</span>&nbsp;<span class="op" id="7702401">:=</span>&nbsp;<span class="op" id="7702404">&amp;</span><span class="ident" id="7702405"><a href="/gostd/debug/plan9obj/file_test.go.html#7701803">fileTests</a></span><span class="op" id="7702414">[</span><span class="ident" id="7702415"><a href="/gostd/debug/plan9obj/file_test.go.html#7702373">i</a></span><span class="op" id="7702416">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702421">f</span><span class="op" id="7702422">,</span>&nbsp;<span class="ident" id="7702424">err</span>&nbsp;<span class="op" id="7702428">:=</span>&nbsp;<span class="ident" id="7702431"><a href="/gostd/debug/plan9obj/file.go.html#5892485">Open</a></span><span class="op" id="7702435">(</span><span class="ident" id="7702436"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7702438">.</span><span class="ident" id="7702439"><a href="/gostd/debug/plan9obj/file_test.go.html#7701732">file</a></span><span class="op" id="7702443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702447">if</span>&nbsp;<span class="ident" id="7702450"><a href="/gostd/debug/plan9obj/file_test.go.html#7702424">err</a></span>&nbsp;<span class="op" id="7702454">!=</span>&nbsp;<span class="builtintype" id="7702457">nil</span>&nbsp;<span class="op" id="7702461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702466"><a href="/gostd/debug/plan9obj/file_test.go.html#7702352">t</a></span><span class="op" id="7702467">.</span><span class="ident" id="7702468"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="7702473">(</span><span class="ident" id="7702474"><a href="/gostd/debug/plan9obj/file_test.go.html#7702424">err</a></span><span class="op" id="7702477">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702482">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702497">if</span>&nbsp;<span class="op" id="7702500">!</span><span class="ident" id="7702501"><a href="/gostd/debug/plan9obj/file_test.go.html#7701684">reflect</a></span><span class="op" id="7702508">.</span><span class="ident" id="7702509"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7702518">(</span><span class="ident" id="7702519"><a href="/gostd/debug/plan9obj/file_test.go.html#7702421">f</a></span><span class="op" id="7702520">.</span><span class="ident" id="7702521"><a href="/gostd/debug/plan9obj/file.go.html#5890805">FileHeader</a></span><span class="op" id="7702531">,</span>&nbsp;<span class="ident" id="7702533"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7702535">.</span><span class="ident" id="7702536"><a href="/gostd/debug/plan9obj/file_test.go.html#7701749">hdr</a></span><span class="op" id="7702539">)</span>&nbsp;<span class="op" id="7702541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702546"><a href="/gostd/debug/plan9obj/file_test.go.html#7702352">t</a></span><span class="op" id="7702547">.</span><span class="ident" id="7702548"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7702554">(</span><span class="string" id="7702555">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7702591">,</span>&nbsp;<span class="ident" id="7702593"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7702595">.</span><span class="ident" id="7702596"><a href="/gostd/debug/plan9obj/file_test.go.html#7701732">file</a></span><span class="op" id="7702600">,</span>&nbsp;<span class="ident" id="7702602"><a href="/gostd/debug/plan9obj/file_test.go.html#7702421">f</a></span><span class="op" id="7702603">.</span><span class="ident" id="7702604"><a href="/gostd/debug/plan9obj/file.go.html#5890805">FileHeader</a></span><span class="op" id="7702614">,</span>&nbsp;<span class="ident" id="7702616"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7702618">.</span><span class="ident" id="7702619"><a href="/gostd/debug/plan9obj/file_test.go.html#7701749">hdr</a></span><span class="op" id="7702622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702627">continue</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702643">for</span>&nbsp;<span class="ident" id="7702647">i</span><span class="op" id="7702648">,</span>&nbsp;<span class="ident" id="7702650">sh</span>&nbsp;<span class="op" id="7702653">:=</span>&nbsp;<span class="keyword" id="7702656">range</span>&nbsp;<span class="ident" id="7702662"><a href="/gostd/debug/plan9obj/file_test.go.html#7702421">f</a></span><span class="op" id="7702663">.</span><span class="ident" id="7702664"><a href="/gostd/debug/plan9obj/file.go.html#5890817">Sections</a></span>&nbsp;<span class="op" id="7702673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702678">if</span>&nbsp;<span class="ident" id="7702681"><a href="/gostd/debug/plan9obj/file_test.go.html#7702647">i</a></span>&nbsp;<span class="op" id="7702683">&gt;=</span>&nbsp;<span class="builtinfunc" id="7702686">len</span><span class="op" id="7702689">(</span><span class="ident" id="7702690"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7702692">.</span><span class="ident" id="7702693"><a href="/gostd/debug/plan9obj/file_test.go.html#7701770">sections</a></span><span class="op" id="7702701">)</span>&nbsp;<span class="op" id="7702703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702709">break</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702723">have</span>&nbsp;<span class="op" id="7702728">:=</span>&nbsp;<span class="op" id="7702731">&amp;</span><span class="ident" id="7702732"><a href="/gostd/debug/plan9obj/file_test.go.html#7702650">sh</a></span><span class="op" id="7702734">.</span><span class="ident" id="7702735"><a href="/gostd/debug/plan9obj/file.go.html#5891182">SectionHeader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702752">want</span>&nbsp;<span class="op" id="7702757">:=</span>&nbsp;<span class="ident" id="7702760"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7702762">.</span><span class="ident" id="7702763"><a href="/gostd/debug/plan9obj/file_test.go.html#7701770">sections</a></span><span class="op" id="7702771">[</span><span class="ident" id="7702772"><a href="/gostd/debug/plan9obj/file_test.go.html#7702647">i</a></span><span class="op" id="7702773">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702778">if</span>&nbsp;<span class="op" id="7702781">!</span><span class="ident" id="7702782"><a href="/gostd/debug/plan9obj/file_test.go.html#7701684">reflect</a></span><span class="op" id="7702789">.</span><span class="ident" id="7702790"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7702799">(</span><span class="ident" id="7702800"><a href="/gostd/debug/plan9obj/file_test.go.html#7702723">have</a></span><span class="op" id="7702804">,</span>&nbsp;<span class="ident" id="7702806"><a href="/gostd/debug/plan9obj/file_test.go.html#7702752">want</a></span><span class="op" id="7702810">)</span>&nbsp;<span class="op" id="7702812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702818"><a href="/gostd/debug/plan9obj/file_test.go.html#7702352">t</a></span><span class="op" id="7702819">.</span><span class="ident" id="7702820"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7702826">(</span><span class="string" id="7702827">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7702875">,</span>&nbsp;<span class="ident" id="7702877"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7702879">.</span><span class="ident" id="7702880"><a href="/gostd/debug/plan9obj/file_test.go.html#7701732">file</a></span><span class="op" id="7702884">,</span>&nbsp;<span class="ident" id="7702886"><a href="/gostd/debug/plan9obj/file_test.go.html#7702647">i</a></span><span class="op" id="7702887">,</span>&nbsp;<span class="ident" id="7702889"><a href="/gostd/debug/plan9obj/file_test.go.html#7702723">have</a></span><span class="op" id="7702893">,</span>&nbsp;<span class="ident" id="7702895"><a href="/gostd/debug/plan9obj/file_test.go.html#7702752">want</a></span><span class="op" id="7702899">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7702908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702912">tn</span>&nbsp;<span class="op" id="7702915">:=</span>&nbsp;<span class="builtinfunc" id="7702918">len</span><span class="op" id="7702921">(</span><span class="ident" id="7702922"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7702924">.</span><span class="ident" id="7702925"><a href="/gostd/debug/plan9obj/file_test.go.html#7701770">sections</a></span><span class="op" id="7702933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702937">fn</span>&nbsp;<span class="op" id="7702940">:=</span>&nbsp;<span class="builtinfunc" id="7702943">len</span><span class="op" id="7702946">(</span><span class="ident" id="7702947"><a href="/gostd/debug/plan9obj/file_test.go.html#7702421">f</a></span><span class="op" id="7702948">.</span><span class="ident" id="7702949"><a href="/gostd/debug/plan9obj/file.go.html#5890817">Sections</a></span><span class="op" id="7702957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7702961">if</span>&nbsp;<span class="ident" id="7702964"><a href="/gostd/debug/plan9obj/file_test.go.html#7702912">tn</a></span>&nbsp;<span class="op" id="7702967">!=</span>&nbsp;<span class="ident" id="7702970"><a href="/gostd/debug/plan9obj/file_test.go.html#7702937">fn</a></span>&nbsp;<span class="op" id="7702973">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7702978"><a href="/gostd/debug/plan9obj/file_test.go.html#7702352">t</a></span><span class="op" id="7702979">.</span><span class="ident" id="7702980"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7702986">(</span><span class="string" id="7702987">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7703025">,</span>&nbsp;<span class="ident" id="7703027"><a href="/gostd/debug/plan9obj/file_test.go.html#7702398">tt</a></span><span class="op" id="7703029">.</span><span class="ident" id="7703030"><a href="/gostd/debug/plan9obj/file_test.go.html#7701732">file</a></span><span class="op" id="7703034">,</span>&nbsp;<span class="ident" id="7703036"><a href="/gostd/debug/plan9obj/file_test.go.html#7702937">fn</a></span><span class="op" id="7703038">,</span>&nbsp;<span class="ident" id="7703040"><a href="/gostd/debug/plan9obj/file_test.go.html#7702912">tn</a></span><span class="op" id="7703042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7703046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7703049">}</span><br>
<span class="lineno"></span><span class="op" id="7703051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="7703054">func</span>&nbsp;<span class="ident" id="7703059">TestOpenFailure</span><span class="op" id="7703074">(</span><span class="ident" id="7703075">t</span>&nbsp;<span class="op" id="7703077">*</span><span class="ident" id="7703078"><a href="/gostd/debug/plan9obj/file_test.go.html#7701695">testing</a></span><span class="op" id="7703085">.</span><span class="ident" id="7703086"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7703087">)</span>&nbsp;<span class="op" id="7703089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7703092">filename</span>&nbsp;<span class="op" id="7703101">:=</span>&nbsp;<span class="string" id="7703104">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7703117">//&nbsp;not&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7703145">_</span><span class="op" id="7703146">,</span>&nbsp;<span class="ident" id="7703148">err</span>&nbsp;<span class="op" id="7703152">:=</span>&nbsp;<span class="ident" id="7703155"><a href="/gostd/debug/plan9obj/file.go.html#5892485">Open</a></span><span class="op" id="7703159">(</span><span class="ident" id="7703160"><a href="/gostd/debug/plan9obj/file_test.go.html#7703092">filename</a></span><span class="op" id="7703168">)</span>&nbsp;<span class="comment" id="7703170">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7703186">if</span>&nbsp;<span class="ident" id="7703189"><a href="/gostd/debug/plan9obj/file_test.go.html#7703148">err</a></span>&nbsp;<span class="op" id="7703193">==</span>&nbsp;<span class="builtintype" id="7703196">nil</span>&nbsp;<span class="op" id="7703200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7703204"><a href="/gostd/debug/plan9obj/file_test.go.html#7703075">t</a></span><span class="op" id="7703205">.</span><span class="ident" id="7703206"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7703212">(</span><span class="string" id="7703213">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="7703246">,</span>&nbsp;<span class="ident" id="7703248"><a href="/gostd/debug/plan9obj/file_test.go.html#7703092">filename</a></span><span class="op" id="7703256">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7703259">}</span><br>
<span class="lineno"></span><span class="op" id="7703261">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
