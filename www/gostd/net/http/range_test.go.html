<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html" class="current">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7707750">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7707805">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7707859">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7707910">package</span>&nbsp;<span class="ident" id="7707918">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7707924">import</span>&nbsp;<span class="op" id="7707931">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7707934">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7707944">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7707947">var</span>&nbsp;<span class="ident" id="7707951">ParseRangeTests</span>&nbsp;<span class="op" id="7707967">=</span>&nbsp;<span class="op" id="7707969">[</span><span class="op" id="7707970">]</span><span class="keyword" id="7707971">struct</span>&nbsp;<span class="op" id="7707978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7707981">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7707988">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7707996">length</span>&nbsp;<span class="ident" id="7708003">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7708010">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708017">[</span><span class="op" id="7708018">]</span><span class="ident" id="7708019">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="7708029">}</span><span class="op" id="7708030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708033">{</span><span class="string" id="7708034">&#34;&#34;</span><span class="op" id="7708036">,</span>&nbsp;<span class="num" id="7708038">0</span><span class="op" id="7708039">,</span>&nbsp;<span class="builtintype" id="7708041">nil</span><span class="op" id="7708044">}</span><span class="op" id="7708045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708048">{</span><span class="string" id="7708049">&#34;&#34;</span><span class="op" id="7708051">,</span>&nbsp;<span class="num" id="7708053">1000</span><span class="op" id="7708057">,</span>&nbsp;<span class="builtintype" id="7708059">nil</span><span class="op" id="7708062">}</span><span class="op" id="7708063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708066">{</span><span class="string" id="7708067">&#34;foo&#34;</span><span class="op" id="7708072">,</span>&nbsp;<span class="num" id="7708074">0</span><span class="op" id="7708075">,</span>&nbsp;<span class="builtintype" id="7708077">nil</span><span class="op" id="7708080">}</span><span class="op" id="7708081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708084">{</span><span class="string" id="7708085">&#34;bytes=&#34;</span><span class="op" id="7708093">,</span>&nbsp;<span class="num" id="7708095">0</span><span class="op" id="7708096">,</span>&nbsp;<span class="builtintype" id="7708098">nil</span><span class="op" id="7708101">}</span><span class="op" id="7708102">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708105">{</span><span class="string" id="7708106">&#34;bytes=7&#34;</span><span class="op" id="7708115">,</span>&nbsp;<span class="num" id="7708117">10</span><span class="op" id="7708119">,</span>&nbsp;<span class="builtintype" id="7708121">nil</span><span class="op" id="7708124">}</span><span class="op" id="7708125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708128">{</span><span class="string" id="7708129">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="7708140">,</span>&nbsp;<span class="num" id="7708142">10</span><span class="op" id="7708144">,</span>&nbsp;<span class="builtintype" id="7708146">nil</span><span class="op" id="7708149">}</span><span class="op" id="7708150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708153">{</span><span class="string" id="7708154">&#34;bytes=1-&#34;</span><span class="op" id="7708164">,</span>&nbsp;<span class="num" id="7708166">0</span><span class="op" id="7708167">,</span>&nbsp;<span class="builtintype" id="7708169">nil</span><span class="op" id="7708172">}</span><span class="op" id="7708173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708176">{</span><span class="string" id="7708177">&#34;bytes=5-4&#34;</span><span class="op" id="7708188">,</span>&nbsp;<span class="num" id="7708190">10</span><span class="op" id="7708192">,</span>&nbsp;<span class="builtintype" id="7708194">nil</span><span class="op" id="7708197">}</span><span class="op" id="7708198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708201">{</span><span class="string" id="7708202">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="7708217">,</span>&nbsp;<span class="num" id="7708219">10</span><span class="op" id="7708221">,</span>&nbsp;<span class="builtintype" id="7708223">nil</span><span class="op" id="7708226">}</span><span class="op" id="7708227">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708230">{</span><span class="string" id="7708231">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="7708246">,</span>&nbsp;<span class="num" id="7708248">10</span><span class="op" id="7708250">,</span>&nbsp;<span class="builtintype" id="7708252">nil</span><span class="op" id="7708255">}</span><span class="op" id="7708256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708259">{</span><span class="string" id="7708260">&#34;bytes=--5,4--3&#34;</span><span class="op" id="7708276">,</span>&nbsp;<span class="num" id="7708278">10</span><span class="op" id="7708280">,</span>&nbsp;<span class="builtintype" id="7708282">nil</span><span class="op" id="7708285">}</span><span class="op" id="7708286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708289">{</span><span class="string" id="7708290">&#34;bytes=A-&#34;</span><span class="op" id="7708300">,</span>&nbsp;<span class="num" id="7708302">10</span><span class="op" id="7708304">,</span>&nbsp;<span class="builtintype" id="7708306">nil</span><span class="op" id="7708309">}</span><span class="op" id="7708310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708313">{</span><span class="string" id="7708314">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="7708325">,</span>&nbsp;<span class="num" id="7708327">10</span><span class="op" id="7708329">,</span>&nbsp;<span class="builtintype" id="7708331">nil</span><span class="op" id="7708334">}</span><span class="op" id="7708335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708338">{</span><span class="string" id="7708339">&#34;bytes=A-Z&#34;</span><span class="op" id="7708350">,</span>&nbsp;<span class="num" id="7708352">10</span><span class="op" id="7708354">,</span>&nbsp;<span class="builtintype" id="7708356">nil</span><span class="op" id="7708359">}</span><span class="op" id="7708360">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708363">{</span><span class="string" id="7708364">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="7708375">,</span>&nbsp;<span class="num" id="7708377">10</span><span class="op" id="7708379">,</span>&nbsp;<span class="builtintype" id="7708381">nil</span><span class="op" id="7708384">}</span><span class="op" id="7708385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708388">{</span><span class="string" id="7708389">&#34;bytes=5-Z&#34;</span><span class="op" id="7708400">,</span>&nbsp;<span class="num" id="7708402">10</span><span class="op" id="7708404">,</span>&nbsp;<span class="builtintype" id="7708406">nil</span><span class="op" id="7708409">}</span><span class="op" id="7708410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708413">{</span><span class="string" id="7708414">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="7708438">,</span>&nbsp;<span class="num" id="7708440">10</span><span class="op" id="7708442">,</span>&nbsp;<span class="builtintype" id="7708444">nil</span><span class="op" id="7708447">}</span><span class="op" id="7708448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708451">{</span><span class="string" id="7708452">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="7708469">,</span>&nbsp;<span class="num" id="7708471">10</span><span class="op" id="7708473">,</span>&nbsp;<span class="builtintype" id="7708475">nil</span><span class="op" id="7708478">}</span><span class="op" id="7708479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708482">{</span><span class="string" id="7708483">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7708500">,</span>&nbsp;<span class="num" id="7708502">10</span><span class="op" id="7708504">,</span>&nbsp;<span class="builtintype" id="7708506">nil</span><span class="op" id="7708509">}</span><span class="op" id="7708510">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708513">{</span><span class="string" id="7708514">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7708531">,</span>&nbsp;<span class="num" id="7708533">10</span><span class="op" id="7708535">,</span>&nbsp;<span class="builtintype" id="7708537">nil</span><span class="op" id="7708540">}</span><span class="op" id="7708541">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708545">{</span><span class="string" id="7708546">&#34;bytes=0-9&#34;</span><span class="op" id="7708557">,</span>&nbsp;<span class="num" id="7708559">10</span><span class="op" id="7708561">,</span>&nbsp;<span class="op" id="7708563">[</span><span class="op" id="7708564">]</span><span class="ident" id="7708565">httpRange</span><span class="op" id="7708574">{</span><span class="op" id="7708575">{</span><span class="num" id="7708576">0</span><span class="op" id="7708577">,</span>&nbsp;<span class="num" id="7708579">10</span><span class="op" id="7708581">}</span><span class="op" id="7708582">}</span><span class="op" id="7708583">}</span><span class="op" id="7708584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708587">{</span><span class="string" id="7708588">&#34;bytes=0-&#34;</span><span class="op" id="7708598">,</span>&nbsp;<span class="num" id="7708600">10</span><span class="op" id="7708602">,</span>&nbsp;<span class="op" id="7708604">[</span><span class="op" id="7708605">]</span><span class="ident" id="7708606">httpRange</span><span class="op" id="7708615">{</span><span class="op" id="7708616">{</span><span class="num" id="7708617">0</span><span class="op" id="7708618">,</span>&nbsp;<span class="num" id="7708620">10</span><span class="op" id="7708622">}</span><span class="op" id="7708623">}</span><span class="op" id="7708624">}</span><span class="op" id="7708625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708628">{</span><span class="string" id="7708629">&#34;bytes=5-&#34;</span><span class="op" id="7708639">,</span>&nbsp;<span class="num" id="7708641">10</span><span class="op" id="7708643">,</span>&nbsp;<span class="op" id="7708645">[</span><span class="op" id="7708646">]</span><span class="ident" id="7708647">httpRange</span><span class="op" id="7708656">{</span><span class="op" id="7708657">{</span><span class="num" id="7708658">5</span><span class="op" id="7708659">,</span>&nbsp;<span class="num" id="7708661">5</span><span class="op" id="7708662">}</span><span class="op" id="7708663">}</span><span class="op" id="7708664">}</span><span class="op" id="7708665">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708668">{</span><span class="string" id="7708669">&#34;bytes=0-20&#34;</span><span class="op" id="7708681">,</span>&nbsp;<span class="num" id="7708683">10</span><span class="op" id="7708685">,</span>&nbsp;<span class="op" id="7708687">[</span><span class="op" id="7708688">]</span><span class="ident" id="7708689">httpRange</span><span class="op" id="7708698">{</span><span class="op" id="7708699">{</span><span class="num" id="7708700">0</span><span class="op" id="7708701">,</span>&nbsp;<span class="num" id="7708703">10</span><span class="op" id="7708705">}</span><span class="op" id="7708706">}</span><span class="op" id="7708707">}</span><span class="op" id="7708708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708711">{</span><span class="string" id="7708712">&#34;bytes=15-,0-5&#34;</span><span class="op" id="7708727">,</span>&nbsp;<span class="num" id="7708729">10</span><span class="op" id="7708731">,</span>&nbsp;<span class="builtintype" id="7708733">nil</span><span class="op" id="7708736">}</span><span class="op" id="7708737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708740">{</span><span class="string" id="7708741">&#34;bytes=1-2,5-&#34;</span><span class="op" id="7708755">,</span>&nbsp;<span class="num" id="7708757">10</span><span class="op" id="7708759">,</span>&nbsp;<span class="op" id="7708761">[</span><span class="op" id="7708762">]</span><span class="ident" id="7708763">httpRange</span><span class="op" id="7708772">{</span><span class="op" id="7708773">{</span><span class="num" id="7708774">1</span><span class="op" id="7708775">,</span>&nbsp;<span class="num" id="7708777">2</span><span class="op" id="7708778">}</span><span class="op" id="7708779">,</span>&nbsp;<span class="op" id="7708781">{</span><span class="num" id="7708782">5</span><span class="op" id="7708783">,</span>&nbsp;<span class="num" id="7708785">5</span><span class="op" id="7708786">}</span><span class="op" id="7708787">}</span><span class="op" id="7708788">}</span><span class="op" id="7708789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708792">{</span><span class="string" id="7708793">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="7708808">,</span>&nbsp;<span class="num" id="7708810">11</span><span class="op" id="7708812">,</span>&nbsp;<span class="op" id="7708814">[</span><span class="op" id="7708815">]</span><span class="ident" id="7708816">httpRange</span><span class="op" id="7708825">{</span><span class="op" id="7708826">{</span><span class="num" id="7708827">9</span><span class="op" id="7708828">,</span>&nbsp;<span class="num" id="7708830">2</span><span class="op" id="7708831">}</span><span class="op" id="7708832">,</span>&nbsp;<span class="op" id="7708834">{</span><span class="num" id="7708835">7</span><span class="op" id="7708836">,</span>&nbsp;<span class="num" id="7708838">4</span><span class="op" id="7708839">}</span><span class="op" id="7708840">}</span><span class="op" id="7708841">}</span><span class="op" id="7708842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708845">{</span><span class="string" id="7708846">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="7708866">,</span>&nbsp;<span class="num" id="7708868">11</span><span class="op" id="7708870">,</span>&nbsp;<span class="op" id="7708872">[</span><span class="op" id="7708873">]</span><span class="ident" id="7708874">httpRange</span><span class="op" id="7708883">{</span><span class="op" id="7708884">{</span><span class="num" id="7708885">0</span><span class="op" id="7708886">,</span>&nbsp;<span class="num" id="7708888">1</span><span class="op" id="7708889">}</span><span class="op" id="7708890">,</span>&nbsp;<span class="op" id="7708892">{</span><span class="num" id="7708893">2</span><span class="op" id="7708894">,</span>&nbsp;<span class="num" id="7708896">1</span><span class="op" id="7708897">}</span><span class="op" id="7708898">,</span>&nbsp;<span class="op" id="7708900">{</span><span class="num" id="7708901">7</span><span class="op" id="7708902">,</span>&nbsp;<span class="num" id="7708904">4</span><span class="op" id="7708905">}</span><span class="op" id="7708906">}</span><span class="op" id="7708907">}</span><span class="op" id="7708908">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708911">{</span><span class="string" id="7708912">&#34;bytes=-5&#34;</span><span class="op" id="7708922">,</span>&nbsp;<span class="num" id="7708924">10</span><span class="op" id="7708926">,</span>&nbsp;<span class="op" id="7708928">[</span><span class="op" id="7708929">]</span><span class="ident" id="7708930">httpRange</span><span class="op" id="7708939">{</span><span class="op" id="7708940">{</span><span class="num" id="7708941">5</span><span class="op" id="7708942">,</span>&nbsp;<span class="num" id="7708944">5</span><span class="op" id="7708945">}</span><span class="op" id="7708946">}</span><span class="op" id="7708947">}</span><span class="op" id="7708948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708951">{</span><span class="string" id="7708952">&#34;bytes=-15&#34;</span><span class="op" id="7708963">,</span>&nbsp;<span class="num" id="7708965">10</span><span class="op" id="7708967">,</span>&nbsp;<span class="op" id="7708969">[</span><span class="op" id="7708970">]</span><span class="ident" id="7708971">httpRange</span><span class="op" id="7708980">{</span><span class="op" id="7708981">{</span><span class="num" id="7708982">0</span><span class="op" id="7708983">,</span>&nbsp;<span class="num" id="7708985">10</span><span class="op" id="7708987">}</span><span class="op" id="7708988">}</span><span class="op" id="7708989">}</span><span class="op" id="7708990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7708993">{</span><span class="string" id="7708994">&#34;bytes=0-499&#34;</span><span class="op" id="7709007">,</span>&nbsp;<span class="num" id="7709009">10000</span><span class="op" id="7709014">,</span>&nbsp;<span class="op" id="7709016">[</span><span class="op" id="7709017">]</span><span class="ident" id="7709018">httpRange</span><span class="op" id="7709027">{</span><span class="op" id="7709028">{</span><span class="num" id="7709029">0</span><span class="op" id="7709030">,</span>&nbsp;<span class="num" id="7709032">500</span><span class="op" id="7709035">}</span><span class="op" id="7709036">}</span><span class="op" id="7709037">}</span><span class="op" id="7709038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709041">{</span><span class="string" id="7709042">&#34;bytes=500-999&#34;</span><span class="op" id="7709057">,</span>&nbsp;<span class="num" id="7709059">10000</span><span class="op" id="7709064">,</span>&nbsp;<span class="op" id="7709066">[</span><span class="op" id="7709067">]</span><span class="ident" id="7709068">httpRange</span><span class="op" id="7709077">{</span><span class="op" id="7709078">{</span><span class="num" id="7709079">500</span><span class="op" id="7709082">,</span>&nbsp;<span class="num" id="7709084">500</span><span class="op" id="7709087">}</span><span class="op" id="7709088">}</span><span class="op" id="7709089">}</span><span class="op" id="7709090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709093">{</span><span class="string" id="7709094">&#34;bytes=-500&#34;</span><span class="op" id="7709106">,</span>&nbsp;<span class="num" id="7709108">10000</span><span class="op" id="7709113">,</span>&nbsp;<span class="op" id="7709115">[</span><span class="op" id="7709116">]</span><span class="ident" id="7709117">httpRange</span><span class="op" id="7709126">{</span><span class="op" id="7709127">{</span><span class="num" id="7709128">9500</span><span class="op" id="7709132">,</span>&nbsp;<span class="num" id="7709134">500</span><span class="op" id="7709137">}</span><span class="op" id="7709138">}</span><span class="op" id="7709139">}</span><span class="op" id="7709140">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709143">{</span><span class="string" id="7709144">&#34;bytes=9500-&#34;</span><span class="op" id="7709157">,</span>&nbsp;<span class="num" id="7709159">10000</span><span class="op" id="7709164">,</span>&nbsp;<span class="op" id="7709166">[</span><span class="op" id="7709167">]</span><span class="ident" id="7709168">httpRange</span><span class="op" id="7709177">{</span><span class="op" id="7709178">{</span><span class="num" id="7709179">9500</span><span class="op" id="7709183">,</span>&nbsp;<span class="num" id="7709185">500</span><span class="op" id="7709188">}</span><span class="op" id="7709189">}</span><span class="op" id="7709190">}</span><span class="op" id="7709191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709194">{</span><span class="string" id="7709195">&#34;bytes=0-0,-1&#34;</span><span class="op" id="7709209">,</span>&nbsp;<span class="num" id="7709211">10000</span><span class="op" id="7709216">,</span>&nbsp;<span class="op" id="7709218">[</span><span class="op" id="7709219">]</span><span class="ident" id="7709220">httpRange</span><span class="op" id="7709229">{</span><span class="op" id="7709230">{</span><span class="num" id="7709231">0</span><span class="op" id="7709232">,</span>&nbsp;<span class="num" id="7709234">1</span><span class="op" id="7709235">}</span><span class="op" id="7709236">,</span>&nbsp;<span class="op" id="7709238">{</span><span class="num" id="7709239">9999</span><span class="op" id="7709243">,</span>&nbsp;<span class="num" id="7709245">1</span><span class="op" id="7709246">}</span><span class="op" id="7709247">}</span><span class="op" id="7709248">}</span><span class="op" id="7709249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709252">{</span><span class="string" id="7709253">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="7709276">,</span>&nbsp;<span class="num" id="7709278">10000</span><span class="op" id="7709283">,</span>&nbsp;<span class="op" id="7709285">[</span><span class="op" id="7709286">]</span><span class="ident" id="7709287">httpRange</span><span class="op" id="7709296">{</span><span class="op" id="7709297">{</span><span class="num" id="7709298">500</span><span class="op" id="7709301">,</span>&nbsp;<span class="num" id="7709303">101</span><span class="op" id="7709306">}</span><span class="op" id="7709307">,</span>&nbsp;<span class="op" id="7709309">{</span><span class="num" id="7709310">601</span><span class="op" id="7709313">,</span>&nbsp;<span class="num" id="7709315">399</span><span class="op" id="7709318">}</span><span class="op" id="7709319">}</span><span class="op" id="7709320">}</span><span class="op" id="7709321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709324">{</span><span class="string" id="7709325">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="7709348">,</span>&nbsp;<span class="num" id="7709350">10000</span><span class="op" id="7709355">,</span>&nbsp;<span class="op" id="7709357">[</span><span class="op" id="7709358">]</span><span class="ident" id="7709359">httpRange</span><span class="op" id="7709368">{</span><span class="op" id="7709369">{</span><span class="num" id="7709370">500</span><span class="op" id="7709373">,</span>&nbsp;<span class="num" id="7709375">201</span><span class="op" id="7709378">}</span><span class="op" id="7709379">,</span>&nbsp;<span class="op" id="7709381">{</span><span class="num" id="7709382">601</span><span class="op" id="7709385">,</span>&nbsp;<span class="num" id="7709387">399</span><span class="op" id="7709390">}</span><span class="op" id="7709391">}</span><span class="op" id="7709392">}</span><span class="op" id="7709393">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7709397">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709422">{</span><span class="string" id="7709423">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="7709460">,</span>&nbsp;<span class="num" id="7709462">11</span><span class="op" id="7709464">,</span>&nbsp;<span class="op" id="7709466">[</span><span class="op" id="7709467">]</span><span class="ident" id="7709468">httpRange</span><span class="op" id="7709477">{</span><span class="op" id="7709478">{</span><span class="num" id="7709479">1</span><span class="op" id="7709480">,</span>&nbsp;<span class="num" id="7709482">2</span><span class="op" id="7709483">}</span><span class="op" id="7709484">,</span>&nbsp;<span class="op" id="7709486">{</span><span class="num" id="7709487">4</span><span class="op" id="7709488">,</span>&nbsp;<span class="num" id="7709490">2</span><span class="op" id="7709491">}</span><span class="op" id="7709492">,</span>&nbsp;<span class="op" id="7709494">{</span><span class="num" id="7709495">7</span><span class="op" id="7709496">,</span>&nbsp;<span class="num" id="7709498">2</span><span class="op" id="7709499">}</span><span class="op" id="7709500">}</span><span class="op" id="7709501">}</span><span class="op" id="7709502">,</span><br>
<span class="lineno"></span><span class="op" id="7709504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7709507">func</span>&nbsp;<span class="ident" id="7709512">TestParseRange</span><span class="op" id="7709526">(</span><span class="ident" id="7709527">t</span>&nbsp;<span class="op" id="7709529">*</span><span class="ident" id="7709530">testing</span><span class="op" id="7709537">.</span><span class="ident" id="7709538">T</span><span class="op" id="7709539">)</span>&nbsp;<span class="op" id="7709541">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7709544">for</span>&nbsp;<span class="ident" id="7709548">_</span><span class="op" id="7709549">,</span>&nbsp;<span class="ident" id="7709551">test</span>&nbsp;<span class="op" id="7709556">:=</span>&nbsp;<span class="keyword" id="7709559">range</span>&nbsp;<span class="ident" id="7709565">ParseRangeTests</span>&nbsp;<span class="op" id="7709581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7709585">r</span>&nbsp;<span class="op" id="7709587">:=</span>&nbsp;<span class="ident" id="7709590">test</span><span class="op" id="7709594">.</span><span class="ident" id="7709595">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7709599">ranges</span><span class="op" id="7709605">,</span>&nbsp;<span class="ident" id="7709607">err</span>&nbsp;<span class="op" id="7709611">:=</span>&nbsp;<span class="ident" id="7709614">parseRange</span><span class="op" id="7709624">(</span><span class="ident" id="7709625">test</span><span class="op" id="7709629">.</span><span class="ident" id="7709630">s</span><span class="op" id="7709631">,</span>&nbsp;<span class="ident" id="7709633">test</span><span class="op" id="7709637">.</span><span class="ident" id="7709638">length</span><span class="op" id="7709644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7709648">if</span>&nbsp;<span class="ident" id="7709651">err</span>&nbsp;<span class="op" id="7709655">!=</span>&nbsp;<span class="builtintype" id="7709658">nil</span>&nbsp;<span class="op" id="7709662">&amp;&amp;</span>&nbsp;<span class="ident" id="7709665">r</span>&nbsp;<span class="op" id="7709667">!=</span>&nbsp;<span class="builtintype" id="7709670">nil</span>&nbsp;<span class="op" id="7709674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7709679">t</span><span class="op" id="7709680">.</span><span class="ident" id="7709681">Errorf</span><span class="op" id="7709687">(</span><span class="string" id="7709688">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7709722">,</span>&nbsp;<span class="ident" id="7709724">test</span><span class="op" id="7709728">.</span><span class="ident" id="7709729">s</span><span class="op" id="7709730">,</span>&nbsp;<span class="ident" id="7709732">err</span><span class="op" id="7709735">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7709743">if</span>&nbsp;<span class="builtinfunc" id="7709746">len</span><span class="op" id="7709749">(</span><span class="ident" id="7709750">ranges</span><span class="op" id="7709756">)</span>&nbsp;<span class="op" id="7709758">!=</span>&nbsp;<span class="builtinfunc" id="7709761">len</span><span class="op" id="7709764">(</span><span class="ident" id="7709765">r</span><span class="op" id="7709766">)</span>&nbsp;<span class="op" id="7709768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7709773">t</span><span class="op" id="7709774">.</span><span class="ident" id="7709775">Errorf</span><span class="op" id="7709781">(</span><span class="string" id="7709782">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7709817">,</span>&nbsp;<span class="ident" id="7709819">test</span><span class="op" id="7709823">.</span><span class="ident" id="7709824">s</span><span class="op" id="7709825">,</span>&nbsp;<span class="builtinfunc" id="7709827">len</span><span class="op" id="7709830">(</span><span class="ident" id="7709831">ranges</span><span class="op" id="7709837">)</span><span class="op" id="7709838">,</span>&nbsp;<span class="builtinfunc" id="7709840">len</span><span class="op" id="7709843">(</span><span class="ident" id="7709844">r</span><span class="op" id="7709845">)</span><span class="op" id="7709846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7709851">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7709862">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7709866">for</span>&nbsp;<span class="ident" id="7709870">i</span>&nbsp;<span class="op" id="7709872">:=</span>&nbsp;<span class="keyword" id="7709875">range</span>&nbsp;<span class="ident" id="7709881">r</span>&nbsp;<span class="op" id="7709883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7709888">if</span>&nbsp;<span class="ident" id="7709891">ranges</span><span class="op" id="7709897">[</span><span class="ident" id="7709898">i</span><span class="op" id="7709899">]</span><span class="op" id="7709900">.</span><span class="ident" id="7709901">start</span>&nbsp;<span class="op" id="7709907">!=</span>&nbsp;<span class="ident" id="7709910">r</span><span class="op" id="7709911">[</span><span class="ident" id="7709912">i</span><span class="op" id="7709913">]</span><span class="op" id="7709914">.</span><span class="ident" id="7709915">start</span>&nbsp;<span class="op" id="7709921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7709927">t</span><span class="op" id="7709928">.</span><span class="ident" id="7709929">Errorf</span><span class="op" id="7709935">(</span><span class="string" id="7709936">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7709976">,</span>&nbsp;<span class="ident" id="7709978">test</span><span class="op" id="7709982">.</span><span class="ident" id="7709983">s</span><span class="op" id="7709984">,</span>&nbsp;<span class="ident" id="7709986">i</span><span class="op" id="7709987">,</span>&nbsp;<span class="ident" id="7709989">ranges</span><span class="op" id="7709995">[</span><span class="ident" id="7709996">i</span><span class="op" id="7709997">]</span><span class="op" id="7709998">.</span><span class="ident" id="7709999">start</span><span class="op" id="7710004">,</span>&nbsp;<span class="ident" id="7710006">r</span><span class="op" id="7710007">[</span><span class="ident" id="7710008">i</span><span class="op" id="7710009">]</span><span class="op" id="7710010">.</span><span class="ident" id="7710011">start</span><span class="op" id="7710016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7710021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7710026">if</span>&nbsp;<span class="ident" id="7710029">ranges</span><span class="op" id="7710035">[</span><span class="ident" id="7710036">i</span><span class="op" id="7710037">]</span><span class="op" id="7710038">.</span><span class="ident" id="7710039">length</span>&nbsp;<span class="op" id="7710046">!=</span>&nbsp;<span class="ident" id="7710049">r</span><span class="op" id="7710050">[</span><span class="ident" id="7710051">i</span><span class="op" id="7710052">]</span><span class="op" id="7710053">.</span><span class="ident" id="7710054">length</span>&nbsp;<span class="op" id="7710061">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7710067">t</span><span class="op" id="7710068">.</span><span class="ident" id="7710069">Errorf</span><span class="op" id="7710075">(</span><span class="string" id="7710076">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7710117">,</span>&nbsp;<span class="ident" id="7710119">test</span><span class="op" id="7710123">.</span><span class="ident" id="7710124">s</span><span class="op" id="7710125">,</span>&nbsp;<span class="ident" id="7710127">i</span><span class="op" id="7710128">,</span>&nbsp;<span class="ident" id="7710130">ranges</span><span class="op" id="7710136">[</span><span class="ident" id="7710137">i</span><span class="op" id="7710138">]</span><span class="op" id="7710139">.</span><span class="ident" id="7710140">length</span><span class="op" id="7710146">,</span>&nbsp;<span class="ident" id="7710148">r</span><span class="op" id="7710149">[</span><span class="ident" id="7710150">i</span><span class="op" id="7710151">]</span><span class="op" id="7710152">.</span><span class="ident" id="7710153">length</span><span class="op" id="7710159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7710164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7710168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7710171">}</span><br>
<span class="lineno"></span><span class="op" id="7710173">}</span>
</div>
</body>
</html>
