<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5419718">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5419774">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5419828">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5419879">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="5419917">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="5419978">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5420025">package</span>&nbsp;<span class="ident" id="5420033">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5420040">import</span>&nbsp;<span class="string" id="5420047">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5420058">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5420118">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="5420176">type</span>&nbsp;<span class="ident" id="5420181">Type</span>&nbsp;<span class="keyword" id="5420186">interface</span>&nbsp;<span class="op" id="5420196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420199">Common</span><span class="op" id="5420205">(</span><span class="op" id="5420206">)</span>&nbsp;<span class="op" id="5420208">*</span><span class="ident" id="5420209">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420221">String</span><span class="op" id="5420227">(</span><span class="op" id="5420228">)</span>&nbsp;<span class="builtintype" id="5420230">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420238">Size</span><span class="op" id="5420242">(</span><span class="op" id="5420243">)</span>&nbsp;<span class="ident" id="5420245">int64</span><br>
<span class="lineno"></span><span class="op" id="5420251">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="5420254">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5420309">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="5420372">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="5420399">type</span>&nbsp;<span class="ident" id="5420404">CommonType</span>&nbsp;<span class="keyword" id="5420415">struct</span>&nbsp;<span class="op" id="5420422">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420425">ByteSize</span>&nbsp;<span class="ident" id="5420434">int64</span>&nbsp;&nbsp;<span class="comment" id="5420441">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420482">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5420491">string</span>&nbsp;<span class="comment" id="5420498">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="5420540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5420543">func</span>&nbsp;<span class="op" id="5420548">(</span><span class="ident" id="5420549">c</span>&nbsp;<span class="op" id="5420551">*</span><span class="ident" id="5420552">CommonType</span><span class="op" id="5420562">)</span>&nbsp;<span class="ident" id="5420564">Common</span><span class="op" id="5420570">(</span><span class="op" id="5420571">)</span>&nbsp;<span class="op" id="5420573">*</span><span class="ident" id="5420574">CommonType</span>&nbsp;<span class="op" id="5420585">{</span>&nbsp;<span class="keyword" id="5420587">return</span>&nbsp;<span class="ident" id="5420594">c</span>&nbsp;<span class="op" id="5420596">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="5420599">func</span>&nbsp;<span class="op" id="5420604">(</span><span class="ident" id="5420605">c</span>&nbsp;<span class="op" id="5420607">*</span><span class="ident" id="5420608">CommonType</span><span class="op" id="5420618">)</span>&nbsp;<span class="ident" id="5420620">Size</span><span class="op" id="5420624">(</span><span class="op" id="5420625">)</span>&nbsp;<span class="ident" id="5420627">int64</span>&nbsp;<span class="op" id="5420633">{</span>&nbsp;<span class="keyword" id="5420635">return</span>&nbsp;<span class="ident" id="5420642">c</span><span class="op" id="5420643">.</span><span class="ident" id="5420644">ByteSize</span>&nbsp;<span class="op" id="5420653">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5420656">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5420672">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5420727">type</span>&nbsp;<span class="ident" id="5420732">BasicType</span>&nbsp;<span class="keyword" id="5420742">struct</span>&nbsp;<span class="op" id="5420749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420752">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420764">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5420774">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5420781">BitOffset</span>&nbsp;<span class="ident" id="5420791">int64</span><br>
<span class="lineno">40</span><span class="op" id="5420797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5420800">func</span>&nbsp;<span class="op" id="5420805">(</span><span class="ident" id="5420806">b</span>&nbsp;<span class="op" id="5420808">*</span><span class="ident" id="5420809">BasicType</span><span class="op" id="5420818">)</span>&nbsp;<span class="ident" id="5420820">Basic</span><span class="op" id="5420825">(</span><span class="op" id="5420826">)</span>&nbsp;<span class="op" id="5420828">*</span><span class="ident" id="5420829">BasicType</span>&nbsp;<span class="op" id="5420839">{</span>&nbsp;<span class="keyword" id="5420841">return</span>&nbsp;<span class="ident" id="5420848">b</span>&nbsp;<span class="op" id="5420850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5420853">func</span>&nbsp;<span class="op" id="5420858">(</span><span class="ident" id="5420859">t</span>&nbsp;<span class="op" id="5420861">*</span><span class="ident" id="5420862">BasicType</span><span class="op" id="5420871">)</span>&nbsp;<span class="ident" id="5420873">String</span><span class="op" id="5420879">(</span><span class="op" id="5420880">)</span>&nbsp;<span class="builtintype" id="5420882">string</span>&nbsp;<span class="op" id="5420889">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5420892">if</span>&nbsp;<span class="ident" id="5420895">t</span><span class="op" id="5420896">.</span><span class="ident" id="5420897">Name</span>&nbsp;<span class="op" id="5420902">!=</span>&nbsp;<span class="string" id="5420905">&#34;&#34;</span>&nbsp;<span class="op" id="5420908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5420912">return</span>&nbsp;<span class="ident" id="5420919">t</span><span class="op" id="5420920">.</span><span class="ident" id="5420921">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5420927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5420930">return</span>&nbsp;<span class="string" id="5420937">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="5420941">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="5420944">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5420994">type</span>&nbsp;<span class="ident" id="5420999">CharType</span>&nbsp;<span class="keyword" id="5421008">struct</span>&nbsp;<span class="op" id="5421015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421018">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421028">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="5421031">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5421085">type</span>&nbsp;<span class="ident" id="5421090">UcharType</span>&nbsp;<span class="keyword" id="5421100">struct</span>&nbsp;<span class="op" id="5421107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421110">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421120">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5421123">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5421171">type</span>&nbsp;<span class="ident" id="5421176">IntType</span>&nbsp;<span class="keyword" id="5421184">struct</span>&nbsp;<span class="op" id="5421191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421194">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421204">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="5421207">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5421258">type</span>&nbsp;<span class="ident" id="5421263">UintType</span>&nbsp;<span class="keyword" id="5421272">struct</span>&nbsp;<span class="op" id="5421279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421282">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421292">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="5421295">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5421344">type</span>&nbsp;<span class="ident" id="5421349">FloatType</span>&nbsp;<span class="keyword" id="5421359">struct</span>&nbsp;<span class="op" id="5421366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421369">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421379">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="5421382">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5421441">type</span>&nbsp;<span class="ident" id="5421446">ComplexType</span>&nbsp;<span class="keyword" id="5421458">struct</span>&nbsp;<span class="op" id="5421465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421468">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421478">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="5421481">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5421522">type</span>&nbsp;<span class="ident" id="5421527">BoolType</span>&nbsp;<span class="keyword" id="5421536">struct</span>&nbsp;<span class="op" id="5421543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421546">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421556">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="5421559">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5421609">type</span>&nbsp;<span class="ident" id="5421614">AddrType</span>&nbsp;<span class="keyword" id="5421623">struct</span>&nbsp;<span class="op" id="5421630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421633">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421643">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="5421646">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5421732">type</span>&nbsp;<span class="ident" id="5421737">UnspecifiedType</span>&nbsp;<span class="keyword" id="5421753">struct</span>&nbsp;<span class="op" id="5421760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421763">BasicType</span><br>
<span class="lineno"></span><span class="op" id="5421773">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5421776">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5421791">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="5421888">type</span>&nbsp;<span class="ident" id="5421893">QualType</span>&nbsp;<span class="keyword" id="5421902">struct</span>&nbsp;<span class="op" id="5421909">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421912">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421924">Qual</span>&nbsp;<span class="builtintype" id="5421929">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5421937">Type</span>&nbsp;<span class="ident" id="5421942">Type</span><br>
<span class="lineno"></span><span class="op" id="5421947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5421950">func</span>&nbsp;<span class="op" id="5421955">(</span><span class="ident" id="5421956">t</span>&nbsp;<span class="op" id="5421958">*</span><span class="ident" id="5421959">QualType</span><span class="op" id="5421967">)</span>&nbsp;<span class="ident" id="5421969">String</span><span class="op" id="5421975">(</span><span class="op" id="5421976">)</span>&nbsp;<span class="builtintype" id="5421978">string</span>&nbsp;<span class="op" id="5421985">{</span>&nbsp;<span class="keyword" id="5421987">return</span>&nbsp;<span class="ident" id="5421994">t</span><span class="op" id="5421995">.</span><span class="ident" id="5421996">Qual</span>&nbsp;<span class="op" id="5422001">+</span>&nbsp;<span class="string" id="5422003">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5422007">+</span>&nbsp;<span class="ident" id="5422009">t</span><span class="op" id="5422010">.</span><span class="ident" id="5422011">Type</span><span class="op" id="5422015">.</span><span class="ident" id="5422016">String</span><span class="op" id="5422022">(</span><span class="op" id="5422023">)</span>&nbsp;<span class="op" id="5422025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5422028">func</span>&nbsp;<span class="op" id="5422033">(</span><span class="ident" id="5422034">t</span>&nbsp;<span class="op" id="5422036">*</span><span class="ident" id="5422037">QualType</span><span class="op" id="5422045">)</span>&nbsp;<span class="ident" id="5422047">Size</span><span class="op" id="5422051">(</span><span class="op" id="5422052">)</span>&nbsp;<span class="ident" id="5422054">int64</span>&nbsp;<span class="op" id="5422060">{</span>&nbsp;<span class="keyword" id="5422062">return</span>&nbsp;<span class="ident" id="5422069">t</span><span class="op" id="5422070">.</span><span class="ident" id="5422071">Type</span><span class="op" id="5422075">.</span><span class="ident" id="5422076">Size</span><span class="op" id="5422080">(</span><span class="op" id="5422081">)</span>&nbsp;<span class="op" id="5422083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5422086">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="5422138">type</span>&nbsp;<span class="ident" id="5422143">ArrayType</span>&nbsp;<span class="keyword" id="5422153">struct</span>&nbsp;<span class="op" id="5422160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422163">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422175">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5422189">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422195">StrideBitSize</span>&nbsp;<span class="ident" id="5422209">int64</span>&nbsp;<span class="comment" id="5422215">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422263">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5422277">int64</span>&nbsp;<span class="comment" id="5422283">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="5422332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5422335">func</span>&nbsp;<span class="op" id="5422340">(</span><span class="ident" id="5422341">t</span>&nbsp;<span class="op" id="5422343">*</span><span class="ident" id="5422344">ArrayType</span><span class="op" id="5422353">)</span>&nbsp;<span class="ident" id="5422355">String</span><span class="op" id="5422361">(</span><span class="op" id="5422362">)</span>&nbsp;<span class="builtintype" id="5422364">string</span>&nbsp;<span class="op" id="5422371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5422374">return</span>&nbsp;<span class="string" id="5422381">&#34;[&#34;</span>&nbsp;<span class="op" id="5422385">+</span>&nbsp;<span class="ident" id="5422387">strconv</span><span class="op" id="5422394">.</span><span class="ident" id="5422395">FormatInt</span><span class="op" id="5422404">(</span><span class="ident" id="5422405">t</span><span class="op" id="5422406">.</span><span class="ident" id="5422407">Count</span><span class="op" id="5422412">,</span>&nbsp;<span class="num" id="5422414">10</span><span class="op" id="5422416">)</span>&nbsp;<span class="op" id="5422418">+</span>&nbsp;<span class="string" id="5422420">&#34;]&#34;</span>&nbsp;<span class="op" id="5422424">+</span>&nbsp;<span class="ident" id="5422426">t</span><span class="op" id="5422427">.</span><span class="ident" id="5422428">Type</span><span class="op" id="5422432">.</span><span class="ident" id="5422433">String</span><span class="op" id="5422439">(</span><span class="op" id="5422440">)</span><br>
<span class="lineno"></span><span class="op" id="5422442">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="5422445">func</span>&nbsp;<span class="op" id="5422450">(</span><span class="ident" id="5422451">t</span>&nbsp;<span class="op" id="5422453">*</span><span class="ident" id="5422454">ArrayType</span><span class="op" id="5422463">)</span>&nbsp;<span class="ident" id="5422465">Size</span><span class="op" id="5422469">(</span><span class="op" id="5422470">)</span>&nbsp;<span class="ident" id="5422472">int64</span>&nbsp;<span class="op" id="5422478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5422481">if</span>&nbsp;<span class="ident" id="5422484">t</span><span class="op" id="5422485">.</span><span class="ident" id="5422486">Count</span>&nbsp;<span class="op" id="5422492">==</span>&nbsp;<span class="op" id="5422495">-</span><span class="num" id="5422496">1</span>&nbsp;<span class="op" id="5422498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5422502">return</span>&nbsp;<span class="num" id="5422509">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5422512">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5422515">return</span>&nbsp;<span class="ident" id="5422522">t</span><span class="op" id="5422523">.</span><span class="ident" id="5422524">Count</span>&nbsp;<span class="op" id="5422530">*</span>&nbsp;<span class="ident" id="5422532">t</span><span class="op" id="5422533">.</span><span class="ident" id="5422534">Type</span><span class="op" id="5422538">.</span><span class="ident" id="5422539">Size</span><span class="op" id="5422543">(</span><span class="op" id="5422544">)</span><br>
<span class="lineno"></span><span class="op" id="5422546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5422549">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5422591">type</span>&nbsp;<span class="ident" id="5422596">VoidType</span>&nbsp;<span class="keyword" id="5422605">struct</span>&nbsp;<span class="op" id="5422612">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422615">CommonType</span><br>
<span class="lineno"></span><span class="op" id="5422626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5422629">func</span>&nbsp;<span class="op" id="5422634">(</span><span class="ident" id="5422635">t</span>&nbsp;<span class="op" id="5422637">*</span><span class="ident" id="5422638">VoidType</span><span class="op" id="5422646">)</span>&nbsp;<span class="ident" id="5422648">String</span><span class="op" id="5422654">(</span><span class="op" id="5422655">)</span>&nbsp;<span class="builtintype" id="5422657">string</span>&nbsp;<span class="op" id="5422664">{</span>&nbsp;<span class="keyword" id="5422666">return</span>&nbsp;<span class="string" id="5422673">&#34;void&#34;</span>&nbsp;<span class="op" id="5422680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="5422683">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5422723">type</span>&nbsp;<span class="ident" id="5422728">PtrType</span>&nbsp;<span class="keyword" id="5422736">struct</span>&nbsp;<span class="op" id="5422743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422746">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422758">Type</span>&nbsp;<span class="ident" id="5422763">Type</span><br>
<span class="lineno"></span><span class="op" id="5422768">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="5422771">func</span>&nbsp;<span class="op" id="5422776">(</span><span class="ident" id="5422777">t</span>&nbsp;<span class="op" id="5422779">*</span><span class="ident" id="5422780">PtrType</span><span class="op" id="5422787">)</span>&nbsp;<span class="ident" id="5422789">String</span><span class="op" id="5422795">(</span><span class="op" id="5422796">)</span>&nbsp;<span class="builtintype" id="5422798">string</span>&nbsp;<span class="op" id="5422805">{</span>&nbsp;<span class="keyword" id="5422807">return</span>&nbsp;<span class="string" id="5422814">&#34;*&#34;</span>&nbsp;<span class="op" id="5422818">+</span>&nbsp;<span class="ident" id="5422820">t</span><span class="op" id="5422821">.</span><span class="ident" id="5422822">Type</span><span class="op" id="5422826">.</span><span class="ident" id="5422827">String</span><span class="op" id="5422833">(</span><span class="op" id="5422834">)</span>&nbsp;<span class="op" id="5422836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5422839">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5422902">type</span>&nbsp;<span class="ident" id="5422907">StructType</span>&nbsp;<span class="keyword" id="5422918">struct</span>&nbsp;<span class="op" id="5422925">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422928">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422940">StructName</span>&nbsp;<span class="builtintype" id="5422951">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5422959">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5422970">string</span>&nbsp;<span class="comment" id="5422977">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423012">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5423023">[</span><span class="op" id="5423024">]</span><span class="op" id="5423025">*</span><span class="ident" id="5423026">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423039">Incomplete</span>&nbsp;<span class="builtintype" id="5423050">bool</span>&nbsp;<span class="comment" id="5423055">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="5423116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5423119">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5423194">type</span>&nbsp;<span class="ident" id="5423199">StructField</span>&nbsp;<span class="keyword" id="5423211">struct</span>&nbsp;<span class="op" id="5423218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423221">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5423232">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423240">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5423251">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423257">ByteOffset</span>&nbsp;<span class="ident" id="5423268">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423275">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5423286">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423293">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="5423304">int64</span>&nbsp;<span class="comment" id="5423310">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423354">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5423365">int64</span>&nbsp;<span class="comment" id="5423371">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="5423398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5423401">func</span>&nbsp;<span class="op" id="5423406">(</span><span class="ident" id="5423407">t</span>&nbsp;<span class="op" id="5423409">*</span><span class="ident" id="5423410">StructType</span><span class="op" id="5423420">)</span>&nbsp;<span class="ident" id="5423422">String</span><span class="op" id="5423428">(</span><span class="op" id="5423429">)</span>&nbsp;<span class="builtintype" id="5423431">string</span>&nbsp;<span class="op" id="5423438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423441">if</span>&nbsp;<span class="ident" id="5423444">t</span><span class="op" id="5423445">.</span><span class="ident" id="5423446">StructName</span>&nbsp;<span class="op" id="5423457">!=</span>&nbsp;<span class="string" id="5423460">&#34;&#34;</span>&nbsp;<span class="op" id="5423463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423467">return</span>&nbsp;<span class="ident" id="5423474">t</span><span class="op" id="5423475">.</span><span class="ident" id="5423476">Kind</span>&nbsp;<span class="op" id="5423481">+</span>&nbsp;<span class="string" id="5423483">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5423487">+</span>&nbsp;<span class="ident" id="5423489">t</span><span class="op" id="5423490">.</span><span class="ident" id="5423491">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5423503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423506">return</span>&nbsp;<span class="ident" id="5423513">t</span><span class="op" id="5423514">.</span><span class="ident" id="5423515">Defn</span><span class="op" id="5423519">(</span><span class="op" id="5423520">)</span><br>
<span class="lineno"></span><span class="op" id="5423522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5423525">func</span>&nbsp;<span class="op" id="5423530">(</span><span class="ident" id="5423531">t</span>&nbsp;<span class="op" id="5423533">*</span><span class="ident" id="5423534">StructType</span><span class="op" id="5423544">)</span>&nbsp;<span class="ident" id="5423546">Defn</span><span class="op" id="5423550">(</span><span class="op" id="5423551">)</span>&nbsp;<span class="builtintype" id="5423553">string</span>&nbsp;<span class="op" id="5423560">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423563">s</span>&nbsp;<span class="op" id="5423565">:=</span>&nbsp;<span class="ident" id="5423568">t</span><span class="op" id="5423569">.</span><span class="ident" id="5423570">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423576">if</span>&nbsp;<span class="ident" id="5423579">t</span><span class="op" id="5423580">.</span><span class="ident" id="5423581">StructName</span>&nbsp;<span class="op" id="5423592">!=</span>&nbsp;<span class="string" id="5423595">&#34;&#34;</span>&nbsp;<span class="op" id="5423598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423602">s</span>&nbsp;<span class="op" id="5423604">+=</span>&nbsp;<span class="string" id="5423607">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5423611">+</span>&nbsp;<span class="ident" id="5423613">t</span><span class="op" id="5423614">.</span><span class="ident" id="5423615">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5423627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423630">if</span>&nbsp;<span class="ident" id="5423633">t</span><span class="op" id="5423634">.</span><span class="ident" id="5423635">Incomplete</span>&nbsp;<span class="op" id="5423646">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423650">s</span>&nbsp;<span class="op" id="5423652">+=</span>&nbsp;<span class="string" id="5423655">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423675">return</span>&nbsp;<span class="ident" id="5423682">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5423685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423688">s</span>&nbsp;<span class="op" id="5423690">+=</span>&nbsp;<span class="string" id="5423693">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423699">for</span>&nbsp;<span class="ident" id="5423703">i</span><span class="op" id="5423704">,</span>&nbsp;<span class="ident" id="5423706">f</span>&nbsp;<span class="op" id="5423708">:=</span>&nbsp;<span class="keyword" id="5423711">range</span>&nbsp;<span class="ident" id="5423717">t</span><span class="op" id="5423718">.</span><span class="ident" id="5423719">Field</span>&nbsp;<span class="op" id="5423725">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423729">if</span>&nbsp;<span class="ident" id="5423732">i</span>&nbsp;<span class="op" id="5423734">&gt;</span>&nbsp;<span class="num" id="5423736">0</span>&nbsp;<span class="op" id="5423738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423743">s</span>&nbsp;<span class="op" id="5423745">+=</span>&nbsp;<span class="string" id="5423748">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5423755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423759">s</span>&nbsp;<span class="op" id="5423761">+=</span>&nbsp;<span class="ident" id="5423764">f</span><span class="op" id="5423765">.</span><span class="ident" id="5423766">Name</span>&nbsp;<span class="op" id="5423771">+</span>&nbsp;<span class="string" id="5423773">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5423777">+</span>&nbsp;<span class="ident" id="5423779">f</span><span class="op" id="5423780">.</span><span class="ident" id="5423781">Type</span><span class="op" id="5423785">.</span><span class="ident" id="5423786">String</span><span class="op" id="5423792">(</span><span class="op" id="5423793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423797">s</span>&nbsp;<span class="op" id="5423799">+=</span>&nbsp;<span class="string" id="5423802">&#34;@&#34;</span>&nbsp;<span class="op" id="5423806">+</span>&nbsp;<span class="ident" id="5423808">strconv</span><span class="op" id="5423815">.</span><span class="ident" id="5423816">FormatInt</span><span class="op" id="5423825">(</span><span class="ident" id="5423826">f</span><span class="op" id="5423827">.</span><span class="ident" id="5423828">ByteOffset</span><span class="op" id="5423838">,</span>&nbsp;<span class="num" id="5423840">10</span><span class="op" id="5423842">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423846">if</span>&nbsp;<span class="ident" id="5423849">f</span><span class="op" id="5423850">.</span><span class="ident" id="5423851">BitSize</span>&nbsp;<span class="op" id="5423859">&gt;</span>&nbsp;<span class="num" id="5423861">0</span>&nbsp;<span class="op" id="5423863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423868">s</span>&nbsp;<span class="op" id="5423870">+=</span>&nbsp;<span class="string" id="5423873">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="5423879">+</span>&nbsp;<span class="ident" id="5423881">strconv</span><span class="op" id="5423888">.</span><span class="ident" id="5423889">FormatInt</span><span class="op" id="5423898">(</span><span class="ident" id="5423899">f</span><span class="op" id="5423900">.</span><span class="ident" id="5423901">BitSize</span><span class="op" id="5423908">,</span>&nbsp;<span class="num" id="5423910">10</span><span class="op" id="5423912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423917">s</span>&nbsp;<span class="op" id="5423919">+=</span>&nbsp;<span class="string" id="5423922">&#34;@&#34;</span>&nbsp;<span class="op" id="5423926">+</span>&nbsp;<span class="ident" id="5423928">strconv</span><span class="op" id="5423935">.</span><span class="ident" id="5423936">FormatInt</span><span class="op" id="5423945">(</span><span class="ident" id="5423946">f</span><span class="op" id="5423947">.</span><span class="ident" id="5423948">BitOffset</span><span class="op" id="5423957">,</span>&nbsp;<span class="num" id="5423959">10</span><span class="op" id="5423961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5423965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5423968">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5423971">s</span>&nbsp;<span class="op" id="5423973">+=</span>&nbsp;<span class="string" id="5423976">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5423981">return</span>&nbsp;<span class="ident" id="5423988">s</span><br>
<span class="lineno"></span><span class="op" id="5423990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5423993">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="5424039">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="5424105">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="5424129">type</span>&nbsp;<span class="ident" id="5424134">EnumType</span>&nbsp;<span class="keyword" id="5424143">struct</span>&nbsp;<span class="op" id="5424150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424153">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424165">EnumName</span>&nbsp;<span class="builtintype" id="5424174">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424182">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5424191">[</span><span class="op" id="5424192">]</span><span class="op" id="5424193">*</span><span class="ident" id="5424194">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="5424204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5424207">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5424262">type</span>&nbsp;<span class="ident" id="5424267">EnumValue</span>&nbsp;<span class="keyword" id="5424277">struct</span>&nbsp;<span class="op" id="5424284">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424287">Name</span>&nbsp;<span class="builtintype" id="5424292">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424300">Val</span>&nbsp;&nbsp;<span class="ident" id="5424305">int64</span><br>
<span class="lineno"></span><span class="op" id="5424311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5424314">func</span>&nbsp;<span class="op" id="5424319">(</span><span class="ident" id="5424320">t</span>&nbsp;<span class="op" id="5424322">*</span><span class="ident" id="5424323">EnumType</span><span class="op" id="5424331">)</span>&nbsp;<span class="ident" id="5424333">String</span><span class="op" id="5424339">(</span><span class="op" id="5424340">)</span>&nbsp;<span class="builtintype" id="5424342">string</span>&nbsp;<span class="op" id="5424349">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424352">s</span>&nbsp;<span class="op" id="5424354">:=</span>&nbsp;<span class="string" id="5424357">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5424365">if</span>&nbsp;<span class="ident" id="5424368">t</span><span class="op" id="5424369">.</span><span class="ident" id="5424370">EnumName</span>&nbsp;<span class="op" id="5424379">!=</span>&nbsp;<span class="string" id="5424382">&#34;&#34;</span>&nbsp;<span class="op" id="5424385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424389">s</span>&nbsp;<span class="op" id="5424391">+=</span>&nbsp;<span class="string" id="5424394">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5424398">+</span>&nbsp;<span class="ident" id="5424400">t</span><span class="op" id="5424401">.</span><span class="ident" id="5424402">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5424412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424415">s</span>&nbsp;<span class="op" id="5424417">+=</span>&nbsp;<span class="string" id="5424420">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5424426">for</span>&nbsp;<span class="ident" id="5424430">i</span><span class="op" id="5424431">,</span>&nbsp;<span class="ident" id="5424433">v</span>&nbsp;<span class="op" id="5424435">:=</span>&nbsp;<span class="keyword" id="5424438">range</span>&nbsp;<span class="ident" id="5424444">t</span><span class="op" id="5424445">.</span><span class="ident" id="5424446">Val</span>&nbsp;<span class="op" id="5424450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5424454">if</span>&nbsp;<span class="ident" id="5424457">i</span>&nbsp;<span class="op" id="5424459">&gt;</span>&nbsp;<span class="num" id="5424461">0</span>&nbsp;<span class="op" id="5424463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424468">s</span>&nbsp;<span class="op" id="5424470">+=</span>&nbsp;<span class="string" id="5424473">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5424480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424484">s</span>&nbsp;<span class="op" id="5424486">+=</span>&nbsp;<span class="ident" id="5424489">v</span><span class="op" id="5424490">.</span><span class="ident" id="5424491">Name</span>&nbsp;<span class="op" id="5424496">+</span>&nbsp;<span class="string" id="5424498">&#34;=&#34;</span>&nbsp;<span class="op" id="5424502">+</span>&nbsp;<span class="ident" id="5424504">strconv</span><span class="op" id="5424511">.</span><span class="ident" id="5424512">FormatInt</span><span class="op" id="5424521">(</span><span class="ident" id="5424522">v</span><span class="op" id="5424523">.</span><span class="ident" id="5424524">Val</span><span class="op" id="5424527">,</span>&nbsp;<span class="num" id="5424529">10</span><span class="op" id="5424531">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5424534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424537">s</span>&nbsp;<span class="op" id="5424539">+=</span>&nbsp;<span class="string" id="5424542">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5424547">return</span>&nbsp;<span class="ident" id="5424554">s</span><br>
<span class="lineno"></span><span class="op" id="5424556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="5424559">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5424601">type</span>&nbsp;<span class="ident" id="5424606">FuncType</span>&nbsp;<span class="keyword" id="5424615">struct</span>&nbsp;<span class="op" id="5424622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424625">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424637">ReturnType</span>&nbsp;<span class="ident" id="5424648">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424654">ParamType</span>&nbsp;&nbsp;<span class="op" id="5424665">[</span><span class="op" id="5424666">]</span><span class="ident" id="5424667">Type</span><br>
<span class="lineno">230</span><span class="op" id="5424672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5424675">func</span>&nbsp;<span class="op" id="5424680">(</span><span class="ident" id="5424681">t</span>&nbsp;<span class="op" id="5424683">*</span><span class="ident" id="5424684">FuncType</span><span class="op" id="5424692">)</span>&nbsp;<span class="ident" id="5424694">String</span><span class="op" id="5424700">(</span><span class="op" id="5424701">)</span>&nbsp;<span class="builtintype" id="5424703">string</span>&nbsp;<span class="op" id="5424710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424713">s</span>&nbsp;<span class="op" id="5424715">:=</span>&nbsp;<span class="string" id="5424718">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5424727">for</span>&nbsp;<span class="ident" id="5424731">i</span><span class="op" id="5424732">,</span>&nbsp;<span class="ident" id="5424734">t</span>&nbsp;<span class="op" id="5424736">:=</span>&nbsp;<span class="keyword" id="5424739">range</span>&nbsp;<span class="ident" id="5424745">t</span><span class="op" id="5424746">.</span><span class="ident" id="5424747">ParamType</span>&nbsp;<span class="op" id="5424757">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5424761">if</span>&nbsp;<span class="ident" id="5424764">i</span>&nbsp;<span class="op" id="5424766">&gt;</span>&nbsp;<span class="num" id="5424768">0</span>&nbsp;<span class="op" id="5424770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424775">s</span>&nbsp;<span class="op" id="5424777">+=</span>&nbsp;<span class="string" id="5424780">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5424787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424791">s</span>&nbsp;<span class="op" id="5424793">+=</span>&nbsp;<span class="ident" id="5424796">t</span><span class="op" id="5424797">.</span><span class="ident" id="5424798">String</span><span class="op" id="5424804">(</span><span class="op" id="5424805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5424808">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424811">s</span>&nbsp;<span class="op" id="5424813">+=</span>&nbsp;<span class="string" id="5424816">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5424821">if</span>&nbsp;<span class="ident" id="5424824">t</span><span class="op" id="5424825">.</span><span class="ident" id="5424826">ReturnType</span>&nbsp;<span class="op" id="5424837">!=</span>&nbsp;<span class="ident" id="5424840">nil</span>&nbsp;<span class="op" id="5424844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424848">s</span>&nbsp;<span class="op" id="5424850">+=</span>&nbsp;<span class="string" id="5424853">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5424857">+</span>&nbsp;<span class="ident" id="5424859">t</span><span class="op" id="5424860">.</span><span class="ident" id="5424861">ReturnType</span><span class="op" id="5424871">.</span><span class="ident" id="5424872">String</span><span class="op" id="5424878">(</span><span class="op" id="5424879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5424882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5424885">return</span>&nbsp;<span class="ident" id="5424892">s</span><br>
<span class="lineno">245</span><span class="op" id="5424894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5424897">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="5424964">type</span>&nbsp;<span class="ident" id="5424969">DotDotDotType</span>&nbsp;<span class="keyword" id="5424983">struct</span>&nbsp;<span class="op" id="5424990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5424993">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="5425004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5425007">func</span>&nbsp;<span class="op" id="5425012">(</span><span class="ident" id="5425013">t</span>&nbsp;<span class="op" id="5425015">*</span><span class="ident" id="5425016">DotDotDotType</span><span class="op" id="5425029">)</span>&nbsp;<span class="ident" id="5425031">String</span><span class="op" id="5425037">(</span><span class="op" id="5425038">)</span>&nbsp;<span class="builtintype" id="5425040">string</span>&nbsp;<span class="op" id="5425047">{</span>&nbsp;<span class="keyword" id="5425049">return</span>&nbsp;<span class="string" id="5425056">&#34;...&#34;</span>&nbsp;<span class="op" id="5425062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5425065">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="5425107">type</span>&nbsp;<span class="ident" id="5425112">TypedefType</span>&nbsp;<span class="keyword" id="5425124">struct</span>&nbsp;<span class="op" id="5425131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5425134">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5425146">Type</span>&nbsp;<span class="ident" id="5425151">Type</span><br>
<span class="lineno"></span><span class="op" id="5425156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="5425159">func</span>&nbsp;<span class="op" id="5425164">(</span><span class="ident" id="5425165">t</span>&nbsp;<span class="op" id="5425167">*</span><span class="ident" id="5425168">TypedefType</span><span class="op" id="5425179">)</span>&nbsp;<span class="ident" id="5425181">String</span><span class="op" id="5425187">(</span><span class="op" id="5425188">)</span>&nbsp;<span class="builtintype" id="5425190">string</span>&nbsp;<span class="op" id="5425197">{</span>&nbsp;<span class="keyword" id="5425199">return</span>&nbsp;<span class="ident" id="5425206">t</span><span class="op" id="5425207">.</span><span class="ident" id="5425208">Name</span>&nbsp;<span class="op" id="5425213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5425216">func</span>&nbsp;<span class="op" id="5425221">(</span><span class="ident" id="5425222">t</span>&nbsp;<span class="op" id="5425224">*</span><span class="ident" id="5425225">TypedefType</span><span class="op" id="5425236">)</span>&nbsp;<span class="ident" id="5425238">Size</span><span class="op" id="5425242">(</span><span class="op" id="5425243">)</span>&nbsp;<span class="ident" id="5425245">int64</span>&nbsp;<span class="op" id="5425251">{</span>&nbsp;<span class="keyword" id="5425253">return</span>&nbsp;<span class="ident" id="5425260">t</span><span class="op" id="5425261">.</span><span class="ident" id="5425262">Type</span><span class="op" id="5425266">.</span><span class="ident" id="5425267">Size</span><span class="op" id="5425271">(</span><span class="op" id="5425272">)</span>&nbsp;<span class="op" id="5425274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5425277">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="5425343">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5425361">type</span>&nbsp;<span class="ident" id="5425366">typeReader</span>&nbsp;<span class="keyword" id="5425377">interface</span>&nbsp;<span class="op" id="5425387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5425390">Seek</span><span class="op" id="5425394">(</span><span class="ident" id="5425395">Offset</span><span class="op" id="5425401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5425404">Next</span><span class="op" id="5425408">(</span><span class="op" id="5425409">)</span>&nbsp;<span class="op" id="5425411">(</span><span class="op" id="5425412">*</span><span class="ident" id="5425413">Entry</span><span class="op" id="5425418">,</span>&nbsp;<span class="builtintype" id="5425420">error</span><span class="op" id="5425425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5425428">clone</span><span class="op" id="5425433">(</span><span class="op" id="5425434">)</span>&nbsp;<span class="ident" id="5425436">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5425448">offset</span><span class="op" id="5425454">(</span><span class="op" id="5425455">)</span>&nbsp;<span class="ident" id="5425457">Offset</span><br>
<span class="lineno"></span><span class="op" id="5425464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5425467">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5425528">func</span>&nbsp;<span class="op" id="5425533">(</span><span class="ident" id="5425534">d</span>&nbsp;<span class="op" id="5425536">*</span><span class="ident" id="5425537">Data</span><span class="op" id="5425541">)</span>&nbsp;<span class="ident" id="5425543">Type</span><span class="op" id="5425547">(</span><span class="ident" id="5425548">off</span>&nbsp;<span class="ident" id="5425552">Offset</span><span class="op" id="5425558">)</span>&nbsp;<span class="op" id="5425560">(</span><span class="ident" id="5425561">Type</span><span class="op" id="5425565">,</span>&nbsp;<span class="builtintype" id="5425567">error</span><span class="op" id="5425572">)</span>&nbsp;<span class="op" id="5425574">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5425577">return</span>&nbsp;<span class="ident" id="5425584">d</span><span class="op" id="5425585">.</span><span class="ident" id="5425586">readType</span><span class="op" id="5425594">(</span><span class="string" id="5425595">&#34;info&#34;</span><span class="op" id="5425601">,</span>&nbsp;<span class="ident" id="5425603">d</span><span class="op" id="5425604">.</span><span class="ident" id="5425605">Reader</span><span class="op" id="5425611">(</span><span class="op" id="5425612">)</span><span class="op" id="5425613">,</span>&nbsp;<span class="ident" id="5425615">off</span><span class="op" id="5425618">,</span>&nbsp;<span class="ident" id="5425620">d</span><span class="op" id="5425621">.</span><span class="ident" id="5425622">typeCache</span><span class="op" id="5425631">)</span><br>
<span class="lineno"></span><span class="op" id="5425633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5425636">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5425704">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="5425719">func</span>&nbsp;<span class="op" id="5425724">(</span><span class="ident" id="5425725">d</span>&nbsp;<span class="op" id="5425727">*</span><span class="ident" id="5425728">Data</span><span class="op" id="5425732">)</span>&nbsp;<span class="ident" id="5425734">readType</span><span class="op" id="5425742">(</span><span class="ident" id="5425743">name</span>&nbsp;<span class="builtintype" id="5425748">string</span><span class="op" id="5425754">,</span>&nbsp;<span class="ident" id="5425756">r</span>&nbsp;<span class="ident" id="5425758">typeReader</span><span class="op" id="5425768">,</span>&nbsp;<span class="ident" id="5425770">off</span>&nbsp;<span class="ident" id="5425774">Offset</span><span class="op" id="5425780">,</span>&nbsp;<span class="ident" id="5425782">typeCache</span>&nbsp;<span class="keyword" id="5425792">map</span><span class="op" id="5425795">[</span><span class="ident" id="5425796">Offset</span><span class="op" id="5425802">]</span><span class="ident" id="5425803">Type</span><span class="op" id="5425807">)</span>&nbsp;<span class="op" id="5425809">(</span><span class="ident" id="5425810">Type</span><span class="op" id="5425814">,</span>&nbsp;<span class="builtintype" id="5425816">error</span><span class="op" id="5425821">)</span>&nbsp;<span class="op" id="5425823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5425826">if</span>&nbsp;<span class="ident" id="5425829">t</span><span class="op" id="5425830">,</span>&nbsp;<span class="ident" id="5425832">ok</span>&nbsp;<span class="op" id="5425835">:=</span>&nbsp;<span class="ident" id="5425838">typeCache</span><span class="op" id="5425847">[</span><span class="ident" id="5425848">off</span><span class="op" id="5425851">]</span><span class="op" id="5425852">;</span>&nbsp;<span class="ident" id="5425854">ok</span>&nbsp;<span class="op" id="5425857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5425861">return</span>&nbsp;<span class="ident" id="5425868">t</span><span class="op" id="5425869">,</span>&nbsp;<span class="ident" id="5425871">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5425876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5425879">r</span><span class="op" id="5425880">.</span><span class="ident" id="5425881">Seek</span><span class="op" id="5425885">(</span><span class="ident" id="5425886">off</span><span class="op" id="5425889">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5425892">e</span><span class="op" id="5425893">,</span>&nbsp;<span class="ident" id="5425895">err</span>&nbsp;<span class="op" id="5425899">:=</span>&nbsp;<span class="ident" id="5425902">r</span><span class="op" id="5425903">.</span><span class="ident" id="5425904">Next</span><span class="op" id="5425908">(</span><span class="op" id="5425909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5425912">if</span>&nbsp;<span class="ident" id="5425915">err</span>&nbsp;<span class="op" id="5425919">!=</span>&nbsp;<span class="ident" id="5425922">nil</span>&nbsp;<span class="op" id="5425926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5425930">return</span>&nbsp;<span class="ident" id="5425937">nil</span><span class="op" id="5425940">,</span>&nbsp;<span class="ident" id="5425942">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5425947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5425950">if</span>&nbsp;<span class="ident" id="5425953">e</span>&nbsp;<span class="op" id="5425955">==</span>&nbsp;<span class="ident" id="5425958">nil</span>&nbsp;<span class="op" id="5425962">||</span>&nbsp;<span class="ident" id="5425965">e</span><span class="op" id="5425966">.</span><span class="ident" id="5425967">Offset</span>&nbsp;<span class="op" id="5425974">!=</span>&nbsp;<span class="ident" id="5425977">off</span>&nbsp;<span class="op" id="5425981">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5425985">return</span>&nbsp;<span class="ident" id="5425992">nil</span><span class="op" id="5425995">,</span>&nbsp;<span class="ident" id="5425997">DecodeError</span><span class="op" id="5426008">{</span><span class="ident" id="5426009">name</span><span class="op" id="5426013">,</span>&nbsp;<span class="ident" id="5426015">off</span><span class="op" id="5426018">,</span>&nbsp;<span class="string" id="5426020">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="5426039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426046">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426073">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426123">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426183">var</span>&nbsp;<span class="ident" id="5426187">typ</span>&nbsp;<span class="ident" id="5426191">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5426198">nextDepth</span>&nbsp;<span class="op" id="5426208">:=</span>&nbsp;<span class="num" id="5426211">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426215">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5426261">next</span>&nbsp;<span class="op" id="5426266">:=</span>&nbsp;<span class="keyword" id="5426269">func</span><span class="op" id="5426273">(</span><span class="op" id="5426274">)</span>&nbsp;<span class="op" id="5426276">*</span><span class="ident" id="5426277">Entry</span>&nbsp;<span class="op" id="5426283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426287">if</span>&nbsp;<span class="op" id="5426290">!</span><span class="ident" id="5426291">e</span><span class="op" id="5426292">.</span><span class="ident" id="5426293">Children</span>&nbsp;<span class="op" id="5426302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426307">return</span>&nbsp;<span class="ident" id="5426314">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426320">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426324">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426358">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426416">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426478">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426513">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426545">for</span>&nbsp;<span class="op" id="5426549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5426554">kid</span><span class="op" id="5426557">,</span>&nbsp;<span class="ident" id="5426559">err1</span>&nbsp;<span class="op" id="5426564">:=</span>&nbsp;<span class="ident" id="5426567">r</span><span class="op" id="5426568">.</span><span class="ident" id="5426569">Next</span><span class="op" id="5426573">(</span><span class="op" id="5426574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426579">if</span>&nbsp;<span class="ident" id="5426582">err1</span>&nbsp;<span class="op" id="5426587">!=</span>&nbsp;<span class="ident" id="5426590">nil</span>&nbsp;<span class="op" id="5426594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5426600">err</span>&nbsp;<span class="op" id="5426604">=</span>&nbsp;<span class="ident" id="5426606">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426615">return</span>&nbsp;<span class="ident" id="5426622">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426634">if</span>&nbsp;<span class="ident" id="5426637">kid</span>&nbsp;<span class="op" id="5426641">==</span>&nbsp;<span class="ident" id="5426644">nil</span>&nbsp;<span class="op" id="5426648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5426654">err</span>&nbsp;<span class="op" id="5426658">=</span>&nbsp;<span class="ident" id="5426660">DecodeError</span><span class="op" id="5426671">{</span><span class="ident" id="5426672">name</span><span class="op" id="5426676">,</span>&nbsp;<span class="ident" id="5426678">r</span><span class="op" id="5426679">.</span><span class="ident" id="5426680">offset</span><span class="op" id="5426686">(</span><span class="op" id="5426687">)</span><span class="op" id="5426688">,</span>&nbsp;<span class="string" id="5426690">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="5426723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426729">return</span>&nbsp;<span class="ident" id="5426736">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426743">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426748">if</span>&nbsp;<span class="ident" id="5426751">kid</span><span class="op" id="5426754">.</span><span class="ident" id="5426755">Tag</span>&nbsp;<span class="op" id="5426759">==</span>&nbsp;<span class="num" id="5426762">0</span>&nbsp;<span class="op" id="5426764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426770">if</span>&nbsp;<span class="ident" id="5426773">nextDepth</span>&nbsp;<span class="op" id="5426783">&gt;</span>&nbsp;<span class="num" id="5426785">0</span>&nbsp;<span class="op" id="5426787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5426794">nextDepth</span><span class="op" id="5426803">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426811">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426824">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426830">return</span>&nbsp;<span class="ident" id="5426837">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426849">if</span>&nbsp;<span class="ident" id="5426852">kid</span><span class="op" id="5426855">.</span><span class="ident" id="5426856">Children</span>&nbsp;<span class="op" id="5426865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5426871">nextDepth</span><span class="op" id="5426880">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426886">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426891">if</span>&nbsp;<span class="ident" id="5426894">nextDepth</span>&nbsp;<span class="op" id="5426904">&gt;</span>&nbsp;<span class="num" id="5426906">0</span>&nbsp;<span class="op" id="5426908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426914">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5426931">return</span>&nbsp;<span class="ident" id="5426938">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426944">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5426947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5426951">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427003">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5427065">typeOf</span>&nbsp;<span class="op" id="5427072">:=</span>&nbsp;<span class="keyword" id="5427075">func</span><span class="op" id="5427079">(</span><span class="ident" id="5427080">e</span>&nbsp;<span class="op" id="5427082">*</span><span class="ident" id="5427083">Entry</span><span class="op" id="5427088">)</span>&nbsp;<span class="ident" id="5427090">Type</span>&nbsp;<span class="op" id="5427095">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5427099">tval</span>&nbsp;<span class="op" id="5427104">:=</span>&nbsp;<span class="ident" id="5427107">e</span><span class="op" id="5427108">.</span><span class="ident" id="5427109">Val</span><span class="op" id="5427112">(</span><span class="ident" id="5427113">AttrType</span><span class="op" id="5427121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427125">var</span>&nbsp;<span class="ident" id="5427129">t</span>&nbsp;<span class="ident" id="5427131">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427138">switch</span>&nbsp;<span class="ident" id="5427145">toff</span>&nbsp;<span class="op" id="5427150">:=</span>&nbsp;<span class="ident" id="5427153">tval</span><span class="op" id="5427157">.</span><span class="op" id="5427158">(</span><span class="keyword" id="5427159">type</span><span class="op" id="5427163">)</span>&nbsp;<span class="op" id="5427165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427169">case</span>&nbsp;<span class="ident" id="5427174">Offset</span><span class="op" id="5427180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427185">if</span>&nbsp;<span class="ident" id="5427188">t</span><span class="op" id="5427189">,</span>&nbsp;<span class="ident" id="5427191">err</span>&nbsp;<span class="op" id="5427195">=</span>&nbsp;<span class="ident" id="5427197">d</span><span class="op" id="5427198">.</span><span class="ident" id="5427199">readType</span><span class="op" id="5427207">(</span><span class="ident" id="5427208">name</span><span class="op" id="5427212">,</span>&nbsp;<span class="ident" id="5427214">r</span><span class="op" id="5427215">.</span><span class="ident" id="5427216">clone</span><span class="op" id="5427221">(</span><span class="op" id="5427222">)</span><span class="op" id="5427223">,</span>&nbsp;<span class="ident" id="5427225">toff</span><span class="op" id="5427229">,</span>&nbsp;<span class="ident" id="5427231">typeCache</span><span class="op" id="5427240">)</span><span class="op" id="5427241">;</span>&nbsp;<span class="ident" id="5427243">err</span>&nbsp;<span class="op" id="5427247">!=</span>&nbsp;<span class="ident" id="5427250">nil</span>&nbsp;<span class="op" id="5427254">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427260">return</span>&nbsp;<span class="ident" id="5427267">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5427274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427278">case</span>&nbsp;<span class="ident" id="5427283">uint64</span><span class="op" id="5427289">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427294">if</span>&nbsp;<span class="ident" id="5427297">t</span><span class="op" id="5427298">,</span>&nbsp;<span class="ident" id="5427300">err</span>&nbsp;<span class="op" id="5427304">=</span>&nbsp;<span class="ident" id="5427306">d</span><span class="op" id="5427307">.</span><span class="ident" id="5427308">sigToType</span><span class="op" id="5427317">(</span><span class="ident" id="5427318">toff</span><span class="op" id="5427322">)</span><span class="op" id="5427323">;</span>&nbsp;<span class="ident" id="5427325">err</span>&nbsp;<span class="op" id="5427329">!=</span>&nbsp;<span class="ident" id="5427332">nil</span>&nbsp;<span class="op" id="5427336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427342">return</span>&nbsp;<span class="ident" id="5427349">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5427356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427360">default</span><span class="op" id="5427367">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427372">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427416">return</span>&nbsp;<span class="builtinfunc" id="5427423">new</span><span class="op" id="5427426">(</span><span class="ident" id="5427427">VoidType</span><span class="op" id="5427435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5427439">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427443">return</span>&nbsp;<span class="ident" id="5427450">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5427453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427457">switch</span>&nbsp;<span class="ident" id="5427464">e</span><span class="op" id="5427465">.</span><span class="ident" id="5427466">Tag</span>&nbsp;<span class="op" id="5427470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427473">case</span>&nbsp;<span class="ident" id="5427478">TagArrayType</span><span class="op" id="5427490">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427494">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427542">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427559">//&nbsp;&nbsp;&nbsp;&nbspAttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427592">//&nbsp;&nbsp;&nbsp;&nbspAttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427655">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427695">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427710">//&nbsp;&nbsp;&nbsp;&nbspTagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427775">//&nbsp;&nbsp;&nbsp;&nbspdimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5427819">t</span>&nbsp;<span class="op" id="5427821">:=</span>&nbsp;<span class="builtinfunc" id="5427824">new</span><span class="op" id="5427827">(</span><span class="ident" id="5427828">ArrayType</span><span class="op" id="5427837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5427841">typ</span>&nbsp;<span class="op" id="5427845">=</span>&nbsp;<span class="ident" id="5427847">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5427851">typeCache</span><span class="op" id="5427860">[</span><span class="ident" id="5427861">off</span><span class="op" id="5427864">]</span>&nbsp;<span class="op" id="5427866">=</span>&nbsp;<span class="ident" id="5427868">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427872">if</span>&nbsp;<span class="ident" id="5427875">t</span><span class="op" id="5427876">.</span><span class="ident" id="5427877">Type</span>&nbsp;<span class="op" id="5427882">=</span>&nbsp;<span class="ident" id="5427884">typeOf</span><span class="op" id="5427890">(</span><span class="ident" id="5427891">e</span><span class="op" id="5427892">)</span><span class="op" id="5427893">;</span>&nbsp;<span class="ident" id="5427895">err</span>&nbsp;<span class="op" id="5427899">!=</span>&nbsp;<span class="ident" id="5427902">nil</span>&nbsp;<span class="op" id="5427906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5427911">goto</span>&nbsp;<span class="ident" id="5427916">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5427924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5427928">t</span><span class="op" id="5427929">.</span><span class="ident" id="5427930">StrideBitSize</span><span class="op" id="5427943">,</span>&nbsp;<span class="ident" id="5427945">_</span>&nbsp;<span class="op" id="5427947">=</span>&nbsp;<span class="ident" id="5427949">e</span><span class="op" id="5427950">.</span><span class="ident" id="5427951">Val</span><span class="op" id="5427954">(</span><span class="ident" id="5427955">AttrStrideSize</span><span class="op" id="5427969">)</span><span class="op" id="5427970">.</span><span class="op" id="5427971">(</span><span class="ident" id="5427972">int64</span><span class="op" id="5427977">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5427982">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428010">var</span>&nbsp;<span class="ident" id="5428014">dims</span>&nbsp;<span class="op" id="5428019">[</span><span class="op" id="5428020">]</span><span class="ident" id="5428021">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428029">for</span>&nbsp;<span class="ident" id="5428033">kid</span>&nbsp;<span class="op" id="5428037">:=</span>&nbsp;<span class="ident" id="5428040">next</span><span class="op" id="5428044">(</span><span class="op" id="5428045">)</span><span class="op" id="5428046">;</span>&nbsp;<span class="ident" id="5428048">kid</span>&nbsp;<span class="op" id="5428052">!=</span>&nbsp;<span class="ident" id="5428055">nil</span><span class="op" id="5428058">;</span>&nbsp;<span class="ident" id="5428060">kid</span>&nbsp;<span class="op" id="5428064">=</span>&nbsp;<span class="ident" id="5428066">next</span><span class="op" id="5428070">(</span><span class="op" id="5428071">)</span>&nbsp;<span class="op" id="5428073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5428078">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5428126">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428171">switch</span>&nbsp;<span class="ident" id="5428178">kid</span><span class="op" id="5428181">.</span><span class="ident" id="5428182">Tag</span>&nbsp;<span class="op" id="5428186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428191">case</span>&nbsp;<span class="ident" id="5428196">TagSubrangeType</span><span class="op" id="5428211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428217">count</span><span class="op" id="5428222">,</span>&nbsp;<span class="ident" id="5428224">ok</span>&nbsp;<span class="op" id="5428227">:=</span>&nbsp;<span class="ident" id="5428230">kid</span><span class="op" id="5428233">.</span><span class="ident" id="5428234">Val</span><span class="op" id="5428237">(</span><span class="ident" id="5428238">AttrCount</span><span class="op" id="5428247">)</span><span class="op" id="5428248">.</span><span class="op" id="5428249">(</span><span class="ident" id="5428250">int64</span><span class="op" id="5428255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428261">if</span>&nbsp;<span class="op" id="5428264">!</span><span class="ident" id="5428265">ok</span>&nbsp;<span class="op" id="5428268">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5428275">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428329">count</span><span class="op" id="5428334">,</span>&nbsp;<span class="ident" id="5428336">ok</span>&nbsp;<span class="op" id="5428339">=</span>&nbsp;<span class="ident" id="5428341">kid</span><span class="op" id="5428344">.</span><span class="ident" id="5428345">Val</span><span class="op" id="5428348">(</span><span class="ident" id="5428349">AttrUpperBound</span><span class="op" id="5428363">)</span><span class="op" id="5428364">.</span><span class="op" id="5428365">(</span><span class="ident" id="5428366">int64</span><span class="op" id="5428371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428378">if</span>&nbsp;<span class="ident" id="5428381">ok</span>&nbsp;<span class="op" id="5428384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428392">count</span><span class="op" id="5428397">++</span>&nbsp;<span class="comment" id="5428400">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5428445">}</span>&nbsp;<span class="keyword" id="5428447">else</span>&nbsp;<span class="keyword" id="5428452">if</span>&nbsp;<span class="builtinfunc" id="5428455">len</span><span class="op" id="5428458">(</span><span class="ident" id="5428459">dims</span><span class="op" id="5428463">)</span>&nbsp;<span class="op" id="5428465">==</span>&nbsp;<span class="num" id="5428468">0</span>&nbsp;<span class="op" id="5428470">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428478">count</span>&nbsp;<span class="op" id="5428484">=</span>&nbsp;<span class="op" id="5428486">-</span><span class="num" id="5428487">1</span>&nbsp;<span class="comment" id="5428489">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5428508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5428514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428520">dims</span>&nbsp;<span class="op" id="5428525">=</span>&nbsp;<span class="builtinfunc" id="5428527">append</span><span class="op" id="5428533">(</span><span class="ident" id="5428534">dims</span><span class="op" id="5428538">,</span>&nbsp;<span class="ident" id="5428540">count</span><span class="op" id="5428545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428550">case</span>&nbsp;<span class="ident" id="5428555">TagEnumerationType</span><span class="op" id="5428573">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428579">err</span>&nbsp;<span class="op" id="5428583">=</span>&nbsp;<span class="ident" id="5428585">DecodeError</span><span class="op" id="5428596">{</span><span class="ident" id="5428597">name</span><span class="op" id="5428601">,</span>&nbsp;<span class="ident" id="5428603">kid</span><span class="op" id="5428606">.</span><span class="ident" id="5428607">Offset</span><span class="op" id="5428613">,</span>&nbsp;<span class="string" id="5428615">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="5428662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428668">goto</span>&nbsp;<span class="ident" id="5428673">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5428682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5428686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428690">if</span>&nbsp;<span class="builtinfunc" id="5428693">len</span><span class="op" id="5428696">(</span><span class="ident" id="5428697">dims</span><span class="op" id="5428701">)</span>&nbsp;<span class="op" id="5428703">==</span>&nbsp;<span class="num" id="5428706">0</span>&nbsp;<span class="op" id="5428708">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5428713">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428748">dims</span>&nbsp;<span class="op" id="5428753">=</span>&nbsp;<span class="op" id="5428755">[</span><span class="op" id="5428756">]</span><span class="ident" id="5428757">int64</span><span class="op" id="5428762">{</span><span class="op" id="5428763">-</span><span class="num" id="5428764">1</span><span class="op" id="5428765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5428769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428774">t</span><span class="op" id="5428775">.</span><span class="ident" id="5428776">Count</span>&nbsp;<span class="op" id="5428782">=</span>&nbsp;<span class="ident" id="5428784">dims</span><span class="op" id="5428788">[</span><span class="num" id="5428789">0</span><span class="op" id="5428790">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428794">for</span>&nbsp;<span class="ident" id="5428798">i</span>&nbsp;<span class="op" id="5428800">:=</span>&nbsp;<span class="builtinfunc" id="5428803">len</span><span class="op" id="5428806">(</span><span class="ident" id="5428807">dims</span><span class="op" id="5428811">)</span>&nbsp;<span class="op" id="5428813">-</span>&nbsp;<span class="num" id="5428815">1</span><span class="op" id="5428816">;</span>&nbsp;<span class="ident" id="5428818">i</span>&nbsp;<span class="op" id="5428820">&gt;=</span>&nbsp;<span class="num" id="5428823">1</span><span class="op" id="5428824">;</span>&nbsp;<span class="ident" id="5428826">i</span><span class="op" id="5428827">--</span>&nbsp;<span class="op" id="5428830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5428835">t</span><span class="op" id="5428836">.</span><span class="ident" id="5428837">Type</span>&nbsp;<span class="op" id="5428842">=</span>&nbsp;<span class="op" id="5428844">&amp;</span><span class="ident" id="5428845">ArrayType</span><span class="op" id="5428854">{</span><span class="ident" id="5428855">Type</span><span class="op" id="5428859">:</span>&nbsp;<span class="ident" id="5428861">t</span><span class="op" id="5428862">.</span><span class="ident" id="5428863">Type</span><span class="op" id="5428867">,</span>&nbsp;<span class="ident" id="5428869">Count</span><span class="op" id="5428874">:</span>&nbsp;<span class="ident" id="5428876">dims</span><span class="op" id="5428880">[</span><span class="ident" id="5428881">i</span><span class="op" id="5428882">]</span><span class="op" id="5428883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5428887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5428891">case</span>&nbsp;<span class="ident" id="5428896">TagBaseType</span><span class="op" id="5428907">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5428911">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5428946">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5428963">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5429055">//&nbsp;&nbsp;&nbsp;&nbspAttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5429124">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5429176">//&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5429229">//&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5429322">name</span><span class="op" id="5429326">,</span>&nbsp;<span class="ident" id="5429328">_</span>&nbsp;<span class="op" id="5429330">:=</span>&nbsp;<span class="ident" id="5429333">e</span><span class="op" id="5429334">.</span><span class="ident" id="5429335">Val</span><span class="op" id="5429338">(</span><span class="ident" id="5429339">AttrName</span><span class="op" id="5429347">)</span><span class="op" id="5429348">.</span><span class="op" id="5429349">(</span><span class="builtintype" id="5429350">string</span><span class="op" id="5429356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5429360">enc</span><span class="op" id="5429363">,</span>&nbsp;<span class="ident" id="5429365">ok</span>&nbsp;<span class="op" id="5429368">:=</span>&nbsp;<span class="ident" id="5429371">e</span><span class="op" id="5429372">.</span><span class="ident" id="5429373">Val</span><span class="op" id="5429376">(</span><span class="ident" id="5429377">AttrEncoding</span><span class="op" id="5429389">)</span><span class="op" id="5429390">.</span><span class="op" id="5429391">(</span><span class="ident" id="5429392">int64</span><span class="op" id="5429397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429401">if</span>&nbsp;<span class="op" id="5429404">!</span><span class="ident" id="5429405">ok</span>&nbsp;<span class="op" id="5429408">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5429413">err</span>&nbsp;<span class="op" id="5429417">=</span>&nbsp;<span class="ident" id="5429419">DecodeError</span><span class="op" id="5429430">{</span><span class="ident" id="5429431">name</span><span class="op" id="5429435">,</span>&nbsp;<span class="ident" id="5429437">e</span><span class="op" id="5429438">.</span><span class="ident" id="5429439">Offset</span><span class="op" id="5429445">,</span>&nbsp;<span class="string" id="5429447">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="5429481">+</span>&nbsp;<span class="ident" id="5429483">name</span><span class="op" id="5429487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429492">goto</span>&nbsp;<span class="ident" id="5429497">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5429505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429509">switch</span>&nbsp;<span class="ident" id="5429516">enc</span>&nbsp;<span class="op" id="5429520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429524">default</span><span class="op" id="5429531">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5429536">err</span>&nbsp;<span class="op" id="5429540">=</span>&nbsp;<span class="ident" id="5429542">DecodeError</span><span class="op" id="5429553">{</span><span class="ident" id="5429554">name</span><span class="op" id="5429558">,</span>&nbsp;<span class="ident" id="5429560">e</span><span class="op" id="5429561">.</span><span class="ident" id="5429562">Offset</span><span class="op" id="5429568">,</span>&nbsp;<span class="string" id="5429570">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="5429609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429614">goto</span>&nbsp;<span class="ident" id="5429619">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429628">case</span>&nbsp;<span class="ident" id="5429633">encAddress</span><span class="op" id="5429643">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5429648">typ</span>&nbsp;<span class="op" id="5429652">=</span>&nbsp;<span class="builtinfunc" id="5429654">new</span><span class="op" id="5429657">(</span><span class="ident" id="5429658">AddrType</span><span class="op" id="5429666">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429670">case</span>&nbsp;<span class="ident" id="5429675">encBoolean</span><span class="op" id="5429685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5429690">typ</span>&nbsp;<span class="op" id="5429694">=</span>&nbsp;<span class="builtinfunc" id="5429696">new</span><span class="op" id="5429699">(</span><span class="ident" id="5429700">BoolType</span><span class="op" id="5429708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429712">case</span>&nbsp;<span class="ident" id="5429717">encComplexFloat</span><span class="op" id="5429732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5429737">typ</span>&nbsp;<span class="op" id="5429741">=</span>&nbsp;<span class="builtinfunc" id="5429743">new</span><span class="op" id="5429746">(</span><span class="ident" id="5429747">ComplexType</span><span class="op" id="5429758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429763">if</span>&nbsp;<span class="ident" id="5429766">name</span>&nbsp;<span class="op" id="5429771">==</span>&nbsp;<span class="string" id="5429774">&#34;complex&#34;</span>&nbsp;<span class="op" id="5429784">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5429790">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5429872">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5429945">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5429968">switch</span>&nbsp;<span class="ident" id="5429975">byteSize</span><span class="op" id="5429983">,</span>&nbsp;<span class="ident" id="5429985">_</span>&nbsp;<span class="op" id="5429987">:=</span>&nbsp;<span class="ident" id="5429990">e</span><span class="op" id="5429991">.</span><span class="ident" id="5429992">Val</span><span class="op" id="5429995">(</span><span class="ident" id="5429996">AttrByteSize</span><span class="op" id="5430008">)</span><span class="op" id="5430009">.</span><span class="op" id="5430010">(</span><span class="ident" id="5430011">int64</span><span class="op" id="5430016">)</span><span class="op" id="5430017">;</span>&nbsp;<span class="ident" id="5430019">byteSize</span>&nbsp;<span class="op" id="5430028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5430034">case</span>&nbsp;<span class="num" id="5430039">8</span><span class="op" id="5430040">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430047">name</span>&nbsp;<span class="op" id="5430052">=</span>&nbsp;<span class="string" id="5430054">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5430074">case</span>&nbsp;<span class="num" id="5430079">16</span><span class="op" id="5430081">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430088">name</span>&nbsp;<span class="op" id="5430093">=</span>&nbsp;<span class="string" id="5430095">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5430116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5430121">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5430125">case</span>&nbsp;<span class="ident" id="5430130">encFloat</span><span class="op" id="5430138">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430143">typ</span>&nbsp;<span class="op" id="5430147">=</span>&nbsp;<span class="builtinfunc" id="5430149">new</span><span class="op" id="5430152">(</span><span class="ident" id="5430153">FloatType</span><span class="op" id="5430162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5430166">case</span>&nbsp;<span class="ident" id="5430171">encSigned</span><span class="op" id="5430180">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430185">typ</span>&nbsp;<span class="op" id="5430189">=</span>&nbsp;<span class="builtinfunc" id="5430191">new</span><span class="op" id="5430194">(</span><span class="ident" id="5430195">IntType</span><span class="op" id="5430202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5430206">case</span>&nbsp;<span class="ident" id="5430211">encUnsigned</span><span class="op" id="5430222">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430227">typ</span>&nbsp;<span class="op" id="5430231">=</span>&nbsp;<span class="builtinfunc" id="5430233">new</span><span class="op" id="5430236">(</span><span class="ident" id="5430237">UintType</span><span class="op" id="5430245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5430249">case</span>&nbsp;<span class="ident" id="5430254">encSignedChar</span><span class="op" id="5430267">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430272">typ</span>&nbsp;<span class="op" id="5430276">=</span>&nbsp;<span class="builtinfunc" id="5430278">new</span><span class="op" id="5430281">(</span><span class="ident" id="5430282">CharType</span><span class="op" id="5430290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5430294">case</span>&nbsp;<span class="ident" id="5430299">encUnsignedChar</span><span class="op" id="5430314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430319">typ</span>&nbsp;<span class="op" id="5430323">=</span>&nbsp;<span class="builtinfunc" id="5430325">new</span><span class="op" id="5430328">(</span><span class="ident" id="5430329">UcharType</span><span class="op" id="5430338">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5430342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430346">typeCache</span><span class="op" id="5430355">[</span><span class="ident" id="5430356">off</span><span class="op" id="5430359">]</span>&nbsp;<span class="op" id="5430361">=</span>&nbsp;<span class="ident" id="5430363">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430369">t</span>&nbsp;<span class="op" id="5430371">:=</span>&nbsp;<span class="ident" id="5430374">typ</span><span class="op" id="5430377">.</span><span class="op" id="5430378">(</span><span class="keyword" id="5430379">interface</span>&nbsp;<span class="op" id="5430389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430394">Basic</span><span class="op" id="5430399">(</span><span class="op" id="5430400">)</span>&nbsp;<span class="op" id="5430402">*</span><span class="ident" id="5430403">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5430415">}</span><span class="op" id="5430416">)</span><span class="op" id="5430417">.</span><span class="ident" id="5430418">Basic</span><span class="op" id="5430423">(</span><span class="op" id="5430424">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430428">t</span><span class="op" id="5430429">.</span><span class="ident" id="5430430">Name</span>&nbsp;<span class="op" id="5430435">=</span>&nbsp;<span class="ident" id="5430437">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430444">t</span><span class="op" id="5430445">.</span><span class="ident" id="5430446">BitSize</span><span class="op" id="5430453">,</span>&nbsp;<span class="ident" id="5430455">_</span>&nbsp;<span class="op" id="5430457">=</span>&nbsp;<span class="ident" id="5430459">e</span><span class="op" id="5430460">.</span><span class="ident" id="5430461">Val</span><span class="op" id="5430464">(</span><span class="ident" id="5430465">AttrBitSize</span><span class="op" id="5430476">)</span><span class="op" id="5430477">.</span><span class="op" id="5430478">(</span><span class="ident" id="5430479">int64</span><span class="op" id="5430484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5430488">t</span><span class="op" id="5430489">.</span><span class="ident" id="5430490">BitOffset</span><span class="op" id="5430499">,</span>&nbsp;<span class="ident" id="5430501">_</span>&nbsp;<span class="op" id="5430503">=</span>&nbsp;<span class="ident" id="5430505">e</span><span class="op" id="5430506">.</span><span class="ident" id="5430507">Val</span><span class="op" id="5430510">(</span><span class="ident" id="5430511">AttrBitOffset</span><span class="op" id="5430524">)</span><span class="op" id="5430525">.</span><span class="op" id="5430526">(</span><span class="ident" id="5430527">int64</span><span class="op" id="5430532">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5430536">case</span>&nbsp;<span class="ident" id="5430541">TagClassType</span><span class="op" id="5430553">,</span>&nbsp;<span class="ident" id="5430555">TagStructType</span><span class="op" id="5430568">,</span>&nbsp;<span class="ident" id="5430570">TagUnionType</span><span class="op" id="5430582">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430586">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430642">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430659">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430706">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430746">//&nbsp;&nbsp;&nbsp;&nbspAttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430810">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430825">//&nbsp;&nbsp;&nbsp;&nbspTagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430864">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430906">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430948">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5430982">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5431042">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5431085">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5431162">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431222">t</span>&nbsp;<span class="op" id="5431224">:=</span>&nbsp;<span class="builtinfunc" id="5431227">new</span><span class="op" id="5431230">(</span><span class="ident" id="5431231">StructType</span><span class="op" id="5431241">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431245">typ</span>&nbsp;<span class="op" id="5431249">=</span>&nbsp;<span class="ident" id="5431251">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431255">typeCache</span><span class="op" id="5431264">[</span><span class="ident" id="5431265">off</span><span class="op" id="5431268">]</span>&nbsp;<span class="op" id="5431270">=</span>&nbsp;<span class="ident" id="5431272">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431276">switch</span>&nbsp;<span class="ident" id="5431283">e</span><span class="op" id="5431284">.</span><span class="ident" id="5431285">Tag</span>&nbsp;<span class="op" id="5431289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431293">case</span>&nbsp;<span class="ident" id="5431298">TagClassType</span><span class="op" id="5431310">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431315">t</span><span class="op" id="5431316">.</span><span class="ident" id="5431317">Kind</span>&nbsp;<span class="op" id="5431322">=</span>&nbsp;<span class="string" id="5431324">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431334">case</span>&nbsp;<span class="ident" id="5431339">TagStructType</span><span class="op" id="5431352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431357">t</span><span class="op" id="5431358">.</span><span class="ident" id="5431359">Kind</span>&nbsp;<span class="op" id="5431364">=</span>&nbsp;<span class="string" id="5431366">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431377">case</span>&nbsp;<span class="ident" id="5431382">TagUnionType</span><span class="op" id="5431394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431399">t</span><span class="op" id="5431400">.</span><span class="ident" id="5431401">Kind</span>&nbsp;<span class="op" id="5431406">=</span>&nbsp;<span class="string" id="5431408">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5431418">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431422">t</span><span class="op" id="5431423">.</span><span class="ident" id="5431424">StructName</span><span class="op" id="5431434">,</span>&nbsp;<span class="ident" id="5431436">_</span>&nbsp;<span class="op" id="5431438">=</span>&nbsp;<span class="ident" id="5431440">e</span><span class="op" id="5431441">.</span><span class="ident" id="5431442">Val</span><span class="op" id="5431445">(</span><span class="ident" id="5431446">AttrName</span><span class="op" id="5431454">)</span><span class="op" id="5431455">.</span><span class="op" id="5431456">(</span><span class="builtintype" id="5431457">string</span><span class="op" id="5431463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431467">t</span><span class="op" id="5431468">.</span><span class="ident" id="5431469">Incomplete</span>&nbsp;<span class="op" id="5431480">=</span>&nbsp;<span class="ident" id="5431482">e</span><span class="op" id="5431483">.</span><span class="ident" id="5431484">Val</span><span class="op" id="5431487">(</span><span class="ident" id="5431488">AttrDeclaration</span><span class="op" id="5431503">)</span>&nbsp;<span class="op" id="5431505">!=</span>&nbsp;<span class="ident" id="5431508">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431514">t</span><span class="op" id="5431515">.</span><span class="ident" id="5431516">Field</span>&nbsp;<span class="op" id="5431522">=</span>&nbsp;<span class="builtinfunc" id="5431524">make</span><span class="op" id="5431528">(</span><span class="op" id="5431529">[</span><span class="op" id="5431530">]</span><span class="op" id="5431531">*</span><span class="ident" id="5431532">StructField</span><span class="op" id="5431543">,</span>&nbsp;<span class="num" id="5431545">0</span><span class="op" id="5431546">,</span>&nbsp;<span class="num" id="5431548">8</span><span class="op" id="5431549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431553">var</span>&nbsp;<span class="ident" id="5431557">lastFieldType</span>&nbsp;<span class="op" id="5431571">*</span><span class="ident" id="5431572">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431579">var</span>&nbsp;<span class="ident" id="5431583">lastFieldBitOffset</span>&nbsp;<span class="ident" id="5431602">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431610">for</span>&nbsp;<span class="ident" id="5431614">kid</span>&nbsp;<span class="op" id="5431618">:=</span>&nbsp;<span class="ident" id="5431621">next</span><span class="op" id="5431625">(</span><span class="op" id="5431626">)</span><span class="op" id="5431627">;</span>&nbsp;<span class="ident" id="5431629">kid</span>&nbsp;<span class="op" id="5431633">!=</span>&nbsp;<span class="ident" id="5431636">nil</span><span class="op" id="5431639">;</span>&nbsp;<span class="ident" id="5431641">kid</span>&nbsp;<span class="op" id="5431645">=</span>&nbsp;<span class="ident" id="5431647">next</span><span class="op" id="5431651">(</span><span class="op" id="5431652">)</span>&nbsp;<span class="op" id="5431654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431659">if</span>&nbsp;<span class="ident" id="5431662">kid</span><span class="op" id="5431665">.</span><span class="ident" id="5431666">Tag</span>&nbsp;<span class="op" id="5431670">==</span>&nbsp;<span class="ident" id="5431673">TagMember</span>&nbsp;<span class="op" id="5431683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431689">f</span>&nbsp;<span class="op" id="5431691">:=</span>&nbsp;<span class="builtinfunc" id="5431694">new</span><span class="op" id="5431697">(</span><span class="ident" id="5431698">StructField</span><span class="op" id="5431709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431715">if</span>&nbsp;<span class="ident" id="5431718">f</span><span class="op" id="5431719">.</span><span class="ident" id="5431720">Type</span>&nbsp;<span class="op" id="5431725">=</span>&nbsp;<span class="ident" id="5431727">typeOf</span><span class="op" id="5431733">(</span><span class="ident" id="5431734">kid</span><span class="op" id="5431737">)</span><span class="op" id="5431738">;</span>&nbsp;<span class="ident" id="5431740">err</span>&nbsp;<span class="op" id="5431744">!=</span>&nbsp;<span class="ident" id="5431747">nil</span>&nbsp;<span class="op" id="5431751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431758">goto</span>&nbsp;<span class="ident" id="5431763">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5431773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431779">switch</span>&nbsp;<span class="ident" id="5431786">loc</span>&nbsp;<span class="op" id="5431790">:=</span>&nbsp;<span class="ident" id="5431793">kid</span><span class="op" id="5431796">.</span><span class="ident" id="5431797">Val</span><span class="op" id="5431800">(</span><span class="ident" id="5431801">AttrDataMemberLoc</span><span class="op" id="5431818">)</span><span class="op" id="5431819">.</span><span class="op" id="5431820">(</span><span class="keyword" id="5431821">type</span><span class="op" id="5431825">)</span>&nbsp;<span class="op" id="5431827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431833">case</span>&nbsp;<span class="op" id="5431838">[</span><span class="op" id="5431839">]</span><span class="builtintype" id="5431840">byte</span><span class="op" id="5431844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5431851">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5431898">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5431936">b</span>&nbsp;<span class="op" id="5431938">:=</span>&nbsp;<span class="ident" id="5431941">makeBuf</span><span class="op" id="5431948">(</span><span class="ident" id="5431949">d</span><span class="op" id="5431950">,</span>&nbsp;<span class="ident" id="5431952">unknownFormat</span><span class="op" id="5431965">{</span><span class="op" id="5431966">}</span><span class="op" id="5431967">,</span>&nbsp;<span class="string" id="5431969">&#34;location&#34;</span><span class="op" id="5431979">,</span>&nbsp;<span class="num" id="5431981">0</span><span class="op" id="5431982">,</span>&nbsp;<span class="ident" id="5431984">loc</span><span class="op" id="5431987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5431994">if</span>&nbsp;<span class="ident" id="5431997">b</span><span class="op" id="5431998">.</span><span class="builtintype" id="5431999">uint8</span><span class="op" id="5432004">(</span><span class="op" id="5432005">)</span>&nbsp;<span class="op" id="5432007">!=</span>&nbsp;<span class="ident" id="5432010">opPlusUconst</span>&nbsp;<span class="op" id="5432023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432031">err</span>&nbsp;<span class="op" id="5432035">=</span>&nbsp;<span class="ident" id="5432037">DecodeError</span><span class="op" id="5432048">{</span><span class="ident" id="5432049">name</span><span class="op" id="5432053">,</span>&nbsp;<span class="ident" id="5432055">kid</span><span class="op" id="5432058">.</span><span class="ident" id="5432059">Offset</span><span class="op" id="5432065">,</span>&nbsp;<span class="string" id="5432067">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="5432086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5432094">goto</span>&nbsp;<span class="ident" id="5432099">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5432110">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432117">f</span><span class="op" id="5432118">.</span><span class="ident" id="5432119">ByteOffset</span>&nbsp;<span class="op" id="5432130">=</span>&nbsp;<span class="ident" id="5432132">int64</span><span class="op" id="5432137">(</span><span class="ident" id="5432138">b</span><span class="op" id="5432139">.</span><span class="builtintype" id="5432140">uint</span><span class="op" id="5432144">(</span><span class="op" id="5432145">)</span><span class="op" id="5432146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5432153">if</span>&nbsp;<span class="ident" id="5432156">b</span><span class="op" id="5432157">.</span><span class="ident" id="5432158">err</span>&nbsp;<span class="op" id="5432162">!=</span>&nbsp;<span class="ident" id="5432165">nil</span>&nbsp;<span class="op" id="5432169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432177">err</span>&nbsp;<span class="op" id="5432181">=</span>&nbsp;<span class="ident" id="5432183">b</span><span class="op" id="5432184">.</span><span class="ident" id="5432185">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5432195">goto</span>&nbsp;<span class="ident" id="5432200">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5432211">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5432217">case</span>&nbsp;<span class="ident" id="5432222">int64</span><span class="op" id="5432227">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432234">f</span><span class="op" id="5432235">.</span><span class="ident" id="5432236">ByteOffset</span>&nbsp;<span class="op" id="5432247">=</span>&nbsp;<span class="ident" id="5432249">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5432257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432264">haveBitOffset</span>&nbsp;<span class="op" id="5432278">:=</span>&nbsp;<span class="ident" id="5432281">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432291">f</span><span class="op" id="5432292">.</span><span class="ident" id="5432293">Name</span><span class="op" id="5432297">,</span>&nbsp;<span class="ident" id="5432299">_</span>&nbsp;<span class="op" id="5432301">=</span>&nbsp;<span class="ident" id="5432303">kid</span><span class="op" id="5432306">.</span><span class="ident" id="5432307">Val</span><span class="op" id="5432310">(</span><span class="ident" id="5432311">AttrName</span><span class="op" id="5432319">)</span><span class="op" id="5432320">.</span><span class="op" id="5432321">(</span><span class="builtintype" id="5432322">string</span><span class="op" id="5432328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432334">f</span><span class="op" id="5432335">.</span><span class="ident" id="5432336">ByteSize</span><span class="op" id="5432344">,</span>&nbsp;<span class="ident" id="5432346">_</span>&nbsp;<span class="op" id="5432348">=</span>&nbsp;<span class="ident" id="5432350">kid</span><span class="op" id="5432353">.</span><span class="ident" id="5432354">Val</span><span class="op" id="5432357">(</span><span class="ident" id="5432358">AttrByteSize</span><span class="op" id="5432370">)</span><span class="op" id="5432371">.</span><span class="op" id="5432372">(</span><span class="ident" id="5432373">int64</span><span class="op" id="5432378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432384">f</span><span class="op" id="5432385">.</span><span class="ident" id="5432386">BitOffset</span><span class="op" id="5432395">,</span>&nbsp;<span class="ident" id="5432397">haveBitOffset</span>&nbsp;<span class="op" id="5432411">=</span>&nbsp;<span class="ident" id="5432413">kid</span><span class="op" id="5432416">.</span><span class="ident" id="5432417">Val</span><span class="op" id="5432420">(</span><span class="ident" id="5432421">AttrBitOffset</span><span class="op" id="5432434">)</span><span class="op" id="5432435">.</span><span class="op" id="5432436">(</span><span class="ident" id="5432437">int64</span><span class="op" id="5432442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432448">f</span><span class="op" id="5432449">.</span><span class="ident" id="5432450">BitSize</span><span class="op" id="5432457">,</span>&nbsp;<span class="ident" id="5432459">_</span>&nbsp;<span class="op" id="5432461">=</span>&nbsp;<span class="ident" id="5432463">kid</span><span class="op" id="5432466">.</span><span class="ident" id="5432467">Val</span><span class="op" id="5432470">(</span><span class="ident" id="5432471">AttrBitSize</span><span class="op" id="5432482">)</span><span class="op" id="5432483">.</span><span class="op" id="5432484">(</span><span class="ident" id="5432485">int64</span><span class="op" id="5432490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432496">t</span><span class="op" id="5432497">.</span><span class="ident" id="5432498">Field</span>&nbsp;<span class="op" id="5432504">=</span>&nbsp;<span class="builtinfunc" id="5432506">append</span><span class="op" id="5432512">(</span><span class="ident" id="5432513">t</span><span class="op" id="5432514">.</span><span class="ident" id="5432515">Field</span><span class="op" id="5432520">,</span>&nbsp;<span class="ident" id="5432522">f</span><span class="op" id="5432523">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432530">bito</span>&nbsp;<span class="op" id="5432535">:=</span>&nbsp;<span class="ident" id="5432538">f</span><span class="op" id="5432539">.</span><span class="ident" id="5432540">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5432554">if</span>&nbsp;<span class="op" id="5432557">!</span><span class="ident" id="5432558">haveBitOffset</span>&nbsp;<span class="op" id="5432572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432579">bito</span>&nbsp;<span class="op" id="5432584">=</span>&nbsp;<span class="ident" id="5432586">f</span><span class="op" id="5432587">.</span><span class="ident" id="5432588">ByteOffset</span>&nbsp;<span class="op" id="5432599">*</span>&nbsp;<span class="num" id="5432601">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5432607">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5432613">if</span>&nbsp;<span class="ident" id="5432616">bito</span>&nbsp;<span class="op" id="5432621">==</span>&nbsp;<span class="ident" id="5432624">lastFieldBitOffset</span>&nbsp;<span class="op" id="5432643">&amp;&amp;</span>&nbsp;<span class="ident" id="5432646">t</span><span class="op" id="5432647">.</span><span class="ident" id="5432648">Kind</span>&nbsp;<span class="op" id="5432653">!=</span>&nbsp;<span class="string" id="5432656">&#34;union&#34;</span>&nbsp;<span class="op" id="5432664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5432671">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5432725">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432801">zeroArray</span><span class="op" id="5432810">(</span><span class="ident" id="5432811">lastFieldType</span><span class="op" id="5432824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5432830">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432836">lastFieldType</span>&nbsp;<span class="op" id="5432850">=</span>&nbsp;<span class="op" id="5432852">&amp;</span><span class="ident" id="5432853">f</span><span class="op" id="5432854">.</span><span class="ident" id="5432855">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432864">lastFieldBitOffset</span>&nbsp;<span class="op" id="5432883">=</span>&nbsp;<span class="ident" id="5432885">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5432893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5432897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5432901">if</span>&nbsp;<span class="ident" id="5432904">t</span><span class="op" id="5432905">.</span><span class="ident" id="5432906">Kind</span>&nbsp;<span class="op" id="5432911">!=</span>&nbsp;<span class="string" id="5432914">&#34;union&#34;</span>&nbsp;<span class="op" id="5432922">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5432927">b</span><span class="op" id="5432928">,</span>&nbsp;<span class="ident" id="5432930">ok</span>&nbsp;<span class="op" id="5432933">:=</span>&nbsp;<span class="ident" id="5432936">e</span><span class="op" id="5432937">.</span><span class="ident" id="5432938">Val</span><span class="op" id="5432941">(</span><span class="ident" id="5432942">AttrByteSize</span><span class="op" id="5432954">)</span><span class="op" id="5432955">.</span><span class="op" id="5432956">(</span><span class="ident" id="5432957">int64</span><span class="op" id="5432962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5432967">if</span>&nbsp;<span class="ident" id="5432970">ok</span>&nbsp;<span class="op" id="5432973">&amp;&amp;</span>&nbsp;<span class="ident" id="5432976">b</span><span class="op" id="5432977">*</span><span class="num" id="5432978">8</span>&nbsp;<span class="op" id="5432980">==</span>&nbsp;<span class="ident" id="5432983">lastFieldBitOffset</span>&nbsp;<span class="op" id="5433002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433008">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433066">zeroArray</span><span class="op" id="5433075">(</span><span class="ident" id="5433076">lastFieldType</span><span class="op" id="5433089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5433094">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5433098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433102">case</span>&nbsp;<span class="ident" id="5433107">TagConstType</span><span class="op" id="5433119">,</span>&nbsp;<span class="ident" id="5433121">TagVolatileType</span><span class="op" id="5433136">,</span>&nbsp;<span class="ident" id="5433138">TagRestrictType</span><span class="op" id="5433153">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433157">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433193">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433210">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433233">t</span>&nbsp;<span class="op" id="5433235">:=</span>&nbsp;<span class="builtinfunc" id="5433238">new</span><span class="op" id="5433241">(</span><span class="ident" id="5433242">QualType</span><span class="op" id="5433250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433254">typ</span>&nbsp;<span class="op" id="5433258">=</span>&nbsp;<span class="ident" id="5433260">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433264">typeCache</span><span class="op" id="5433273">[</span><span class="ident" id="5433274">off</span><span class="op" id="5433277">]</span>&nbsp;<span class="op" id="5433279">=</span>&nbsp;<span class="ident" id="5433281">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433285">if</span>&nbsp;<span class="ident" id="5433288">t</span><span class="op" id="5433289">.</span><span class="ident" id="5433290">Type</span>&nbsp;<span class="op" id="5433295">=</span>&nbsp;<span class="ident" id="5433297">typeOf</span><span class="op" id="5433303">(</span><span class="ident" id="5433304">e</span><span class="op" id="5433305">)</span><span class="op" id="5433306">;</span>&nbsp;<span class="ident" id="5433308">err</span>&nbsp;<span class="op" id="5433312">!=</span>&nbsp;<span class="ident" id="5433315">nil</span>&nbsp;<span class="op" id="5433319">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433324">goto</span>&nbsp;<span class="ident" id="5433329">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5433337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433341">switch</span>&nbsp;<span class="ident" id="5433348">e</span><span class="op" id="5433349">.</span><span class="ident" id="5433350">Tag</span>&nbsp;<span class="op" id="5433354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433358">case</span>&nbsp;<span class="ident" id="5433363">TagConstType</span><span class="op" id="5433375">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433380">t</span><span class="op" id="5433381">.</span><span class="ident" id="5433382">Qual</span>&nbsp;<span class="op" id="5433387">=</span>&nbsp;<span class="string" id="5433389">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433399">case</span>&nbsp;<span class="ident" id="5433404">TagRestrictType</span><span class="op" id="5433419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433424">t</span><span class="op" id="5433425">.</span><span class="ident" id="5433426">Qual</span>&nbsp;<span class="op" id="5433431">=</span>&nbsp;<span class="string" id="5433433">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433446">case</span>&nbsp;<span class="ident" id="5433451">TagVolatileType</span><span class="op" id="5433466">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433471">t</span><span class="op" id="5433472">.</span><span class="ident" id="5433473">Qual</span>&nbsp;<span class="op" id="5433478">=</span>&nbsp;<span class="string" id="5433480">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5433493">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433497">case</span>&nbsp;<span class="ident" id="5433502">TagEnumerationType</span><span class="op" id="5433520">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433524">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433563">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433580">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433612">//&nbsp;&nbsp;&nbsp;&nbspAttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433673">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433688">//&nbsp;&nbsp;&nbsp;&nbspTagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433708">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5433741">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433781">t</span>&nbsp;<span class="op" id="5433783">:=</span>&nbsp;<span class="builtinfunc" id="5433786">new</span><span class="op" id="5433789">(</span><span class="ident" id="5433790">EnumType</span><span class="op" id="5433798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433802">typ</span>&nbsp;<span class="op" id="5433806">=</span>&nbsp;<span class="ident" id="5433808">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433812">typeCache</span><span class="op" id="5433821">[</span><span class="ident" id="5433822">off</span><span class="op" id="5433825">]</span>&nbsp;<span class="op" id="5433827">=</span>&nbsp;<span class="ident" id="5433829">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433833">t</span><span class="op" id="5433834">.</span><span class="ident" id="5433835">EnumName</span><span class="op" id="5433843">,</span>&nbsp;<span class="ident" id="5433845">_</span>&nbsp;<span class="op" id="5433847">=</span>&nbsp;<span class="ident" id="5433849">e</span><span class="op" id="5433850">.</span><span class="ident" id="5433851">Val</span><span class="op" id="5433854">(</span><span class="ident" id="5433855">AttrName</span><span class="op" id="5433863">)</span><span class="op" id="5433864">.</span><span class="op" id="5433865">(</span><span class="builtintype" id="5433866">string</span><span class="op" id="5433872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433876">t</span><span class="op" id="5433877">.</span><span class="ident" id="5433878">Val</span>&nbsp;<span class="op" id="5433882">=</span>&nbsp;<span class="builtinfunc" id="5433884">make</span><span class="op" id="5433888">(</span><span class="op" id="5433889">[</span><span class="op" id="5433890">]</span><span class="op" id="5433891">*</span><span class="ident" id="5433892">EnumValue</span><span class="op" id="5433901">,</span>&nbsp;<span class="num" id="5433903">0</span><span class="op" id="5433904">,</span>&nbsp;<span class="num" id="5433906">8</span><span class="op" id="5433907">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433911">for</span>&nbsp;<span class="ident" id="5433915">kid</span>&nbsp;<span class="op" id="5433919">:=</span>&nbsp;<span class="ident" id="5433922">next</span><span class="op" id="5433926">(</span><span class="op" id="5433927">)</span><span class="op" id="5433928">;</span>&nbsp;<span class="ident" id="5433930">kid</span>&nbsp;<span class="op" id="5433934">!=</span>&nbsp;<span class="ident" id="5433937">nil</span><span class="op" id="5433940">;</span>&nbsp;<span class="ident" id="5433942">kid</span>&nbsp;<span class="op" id="5433946">=</span>&nbsp;<span class="ident" id="5433948">next</span><span class="op" id="5433952">(</span><span class="op" id="5433953">)</span>&nbsp;<span class="op" id="5433955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5433960">if</span>&nbsp;<span class="ident" id="5433963">kid</span><span class="op" id="5433966">.</span><span class="ident" id="5433967">Tag</span>&nbsp;<span class="op" id="5433971">==</span>&nbsp;<span class="ident" id="5433974">TagEnumerator</span>&nbsp;<span class="op" id="5433988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5433994">f</span>&nbsp;<span class="op" id="5433996">:=</span>&nbsp;<span class="builtinfunc" id="5433999">new</span><span class="op" id="5434002">(</span><span class="ident" id="5434003">EnumValue</span><span class="op" id="5434012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434018">f</span><span class="op" id="5434019">.</span><span class="ident" id="5434020">Name</span><span class="op" id="5434024">,</span>&nbsp;<span class="ident" id="5434026">_</span>&nbsp;<span class="op" id="5434028">=</span>&nbsp;<span class="ident" id="5434030">kid</span><span class="op" id="5434033">.</span><span class="ident" id="5434034">Val</span><span class="op" id="5434037">(</span><span class="ident" id="5434038">AttrName</span><span class="op" id="5434046">)</span><span class="op" id="5434047">.</span><span class="op" id="5434048">(</span><span class="builtintype" id="5434049">string</span><span class="op" id="5434055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434061">f</span><span class="op" id="5434062">.</span><span class="ident" id="5434063">Val</span><span class="op" id="5434066">,</span>&nbsp;<span class="ident" id="5434068">_</span>&nbsp;<span class="op" id="5434070">=</span>&nbsp;<span class="ident" id="5434072">kid</span><span class="op" id="5434075">.</span><span class="ident" id="5434076">Val</span><span class="op" id="5434079">(</span><span class="ident" id="5434080">AttrConstValue</span><span class="op" id="5434094">)</span><span class="op" id="5434095">.</span><span class="op" id="5434096">(</span><span class="ident" id="5434097">int64</span><span class="op" id="5434102">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434108">n</span>&nbsp;<span class="op" id="5434110">:=</span>&nbsp;<span class="builtinfunc" id="5434113">len</span><span class="op" id="5434116">(</span><span class="ident" id="5434117">t</span><span class="op" id="5434118">.</span><span class="ident" id="5434119">Val</span><span class="op" id="5434122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5434128">if</span>&nbsp;<span class="ident" id="5434131">n</span>&nbsp;<span class="op" id="5434133">&gt;=</span>&nbsp;<span class="builtinfunc" id="5434136">cap</span><span class="op" id="5434139">(</span><span class="ident" id="5434140">t</span><span class="op" id="5434141">.</span><span class="ident" id="5434142">Val</span><span class="op" id="5434145">)</span>&nbsp;<span class="op" id="5434147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434154">val</span>&nbsp;<span class="op" id="5434158">:=</span>&nbsp;<span class="builtinfunc" id="5434161">make</span><span class="op" id="5434165">(</span><span class="op" id="5434166">[</span><span class="op" id="5434167">]</span><span class="op" id="5434168">*</span><span class="ident" id="5434169">EnumValue</span><span class="op" id="5434178">,</span>&nbsp;<span class="ident" id="5434180">n</span><span class="op" id="5434181">,</span>&nbsp;<span class="ident" id="5434183">n</span><span class="op" id="5434184">*</span><span class="num" id="5434185">2</span><span class="op" id="5434186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5434193">copy</span><span class="op" id="5434197">(</span><span class="ident" id="5434198">val</span><span class="op" id="5434201">,</span>&nbsp;<span class="ident" id="5434203">t</span><span class="op" id="5434204">.</span><span class="ident" id="5434205">Val</span><span class="op" id="5434208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434215">t</span><span class="op" id="5434216">.</span><span class="ident" id="5434217">Val</span>&nbsp;<span class="op" id="5434221">=</span>&nbsp;<span class="ident" id="5434223">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5434231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434237">t</span><span class="op" id="5434238">.</span><span class="ident" id="5434239">Val</span>&nbsp;<span class="op" id="5434243">=</span>&nbsp;<span class="ident" id="5434245">t</span><span class="op" id="5434246">.</span><span class="ident" id="5434247">Val</span><span class="op" id="5434250">[</span><span class="num" id="5434251">0</span>&nbsp;<span class="op" id="5434253">:</span>&nbsp;<span class="ident" id="5434255">n</span><span class="op" id="5434256">+</span><span class="num" id="5434257">1</span><span class="op" id="5434258">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434264">t</span><span class="op" id="5434265">.</span><span class="ident" id="5434266">Val</span><span class="op" id="5434269">[</span><span class="ident" id="5434270">n</span><span class="op" id="5434271">]</span>&nbsp;<span class="op" id="5434273">=</span>&nbsp;<span class="ident" id="5434275">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5434280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5434284">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5434288">case</span>&nbsp;<span class="ident" id="5434293">TagPointerType</span><span class="op" id="5434307">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434311">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434347">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434364">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434426">//&nbsp;&nbsp;&nbsp;&nbspAttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434470">t</span>&nbsp;<span class="op" id="5434472">:=</span>&nbsp;<span class="builtinfunc" id="5434475">new</span><span class="op" id="5434478">(</span><span class="ident" id="5434479">PtrType</span><span class="op" id="5434486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434490">typ</span>&nbsp;<span class="op" id="5434494">=</span>&nbsp;<span class="ident" id="5434496">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434500">typeCache</span><span class="op" id="5434509">[</span><span class="ident" id="5434510">off</span><span class="op" id="5434513">]</span>&nbsp;<span class="op" id="5434515">=</span>&nbsp;<span class="ident" id="5434517">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5434521">if</span>&nbsp;<span class="ident" id="5434524">e</span><span class="op" id="5434525">.</span><span class="ident" id="5434526">Val</span><span class="op" id="5434529">(</span><span class="ident" id="5434530">AttrType</span><span class="op" id="5434538">)</span>&nbsp;<span class="op" id="5434540">==</span>&nbsp;<span class="ident" id="5434543">nil</span>&nbsp;<span class="op" id="5434547">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434552">t</span><span class="op" id="5434553">.</span><span class="ident" id="5434554">Type</span>&nbsp;<span class="op" id="5434559">=</span>&nbsp;<span class="op" id="5434561">&amp;</span><span class="ident" id="5434562">VoidType</span><span class="op" id="5434570">{</span><span class="op" id="5434571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5434576">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5434584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434588">t</span><span class="op" id="5434589">.</span><span class="ident" id="5434590">Type</span>&nbsp;<span class="op" id="5434595">=</span>&nbsp;<span class="ident" id="5434597">typeOf</span><span class="op" id="5434603">(</span><span class="ident" id="5434604">e</span><span class="op" id="5434605">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5434609">case</span>&nbsp;<span class="ident" id="5434614">TagSubroutineType</span><span class="op" id="5434631">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434635">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434675">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434692">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434735">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434782">//&nbsp;&nbsp;&nbsp;&nbspAttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434843">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434858">//&nbsp;&nbsp;&nbsp;&nbspTagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434899">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5434933">//&nbsp;&nbsp;&nbsp;&nbspTagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434973">t</span>&nbsp;<span class="op" id="5434975">:=</span>&nbsp;<span class="builtinfunc" id="5434978">new</span><span class="op" id="5434981">(</span><span class="ident" id="5434982">FuncType</span><span class="op" id="5434990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5434994">typ</span>&nbsp;<span class="op" id="5434998">=</span>&nbsp;<span class="ident" id="5435000">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435004">typeCache</span><span class="op" id="5435013">[</span><span class="ident" id="5435014">off</span><span class="op" id="5435017">]</span>&nbsp;<span class="op" id="5435019">=</span>&nbsp;<span class="ident" id="5435021">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435025">if</span>&nbsp;<span class="ident" id="5435028">t</span><span class="op" id="5435029">.</span><span class="ident" id="5435030">ReturnType</span>&nbsp;<span class="op" id="5435041">=</span>&nbsp;<span class="ident" id="5435043">typeOf</span><span class="op" id="5435049">(</span><span class="ident" id="5435050">e</span><span class="op" id="5435051">)</span><span class="op" id="5435052">;</span>&nbsp;<span class="ident" id="5435054">err</span>&nbsp;<span class="op" id="5435058">!=</span>&nbsp;<span class="ident" id="5435061">nil</span>&nbsp;<span class="op" id="5435065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435070">goto</span>&nbsp;<span class="ident" id="5435075">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5435083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435087">t</span><span class="op" id="5435088">.</span><span class="ident" id="5435089">ParamType</span>&nbsp;<span class="op" id="5435099">=</span>&nbsp;<span class="builtinfunc" id="5435101">make</span><span class="op" id="5435105">(</span><span class="op" id="5435106">[</span><span class="op" id="5435107">]</span><span class="ident" id="5435108">Type</span><span class="op" id="5435112">,</span>&nbsp;<span class="num" id="5435114">0</span><span class="op" id="5435115">,</span>&nbsp;<span class="num" id="5435117">8</span><span class="op" id="5435118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435122">for</span>&nbsp;<span class="ident" id="5435126">kid</span>&nbsp;<span class="op" id="5435130">:=</span>&nbsp;<span class="ident" id="5435133">next</span><span class="op" id="5435137">(</span><span class="op" id="5435138">)</span><span class="op" id="5435139">;</span>&nbsp;<span class="ident" id="5435141">kid</span>&nbsp;<span class="op" id="5435145">!=</span>&nbsp;<span class="ident" id="5435148">nil</span><span class="op" id="5435151">;</span>&nbsp;<span class="ident" id="5435153">kid</span>&nbsp;<span class="op" id="5435157">=</span>&nbsp;<span class="ident" id="5435159">next</span><span class="op" id="5435163">(</span><span class="op" id="5435164">)</span>&nbsp;<span class="op" id="5435166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435171">var</span>&nbsp;<span class="ident" id="5435175">tkid</span>&nbsp;<span class="ident" id="5435180">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435188">switch</span>&nbsp;<span class="ident" id="5435195">kid</span><span class="op" id="5435198">.</span><span class="ident" id="5435199">Tag</span>&nbsp;<span class="op" id="5435203">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435208">default</span><span class="op" id="5435215">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435221">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435233">case</span>&nbsp;<span class="ident" id="5435238">TagFormalParameter</span><span class="op" id="5435256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435262">if</span>&nbsp;<span class="ident" id="5435265">tkid</span>&nbsp;<span class="op" id="5435270">=</span>&nbsp;<span class="ident" id="5435272">typeOf</span><span class="op" id="5435278">(</span><span class="ident" id="5435279">kid</span><span class="op" id="5435282">)</span><span class="op" id="5435283">;</span>&nbsp;<span class="ident" id="5435285">err</span>&nbsp;<span class="op" id="5435289">!=</span>&nbsp;<span class="ident" id="5435292">nil</span>&nbsp;<span class="op" id="5435296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435303">goto</span>&nbsp;<span class="ident" id="5435308">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5435318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435323">case</span>&nbsp;<span class="ident" id="5435328">TagUnspecifiedParameters</span><span class="op" id="5435352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435358">tkid</span>&nbsp;<span class="op" id="5435363">=</span>&nbsp;<span class="op" id="5435365">&amp;</span><span class="ident" id="5435366">DotDotDotType</span><span class="op" id="5435379">{</span><span class="op" id="5435380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5435385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435390">t</span><span class="op" id="5435391">.</span><span class="ident" id="5435392">ParamType</span>&nbsp;<span class="op" id="5435402">=</span>&nbsp;<span class="builtinfunc" id="5435404">append</span><span class="op" id="5435410">(</span><span class="ident" id="5435411">t</span><span class="op" id="5435412">.</span><span class="ident" id="5435413">ParamType</span><span class="op" id="5435422">,</span>&nbsp;<span class="ident" id="5435424">tkid</span><span class="op" id="5435428">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5435432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435436">case</span>&nbsp;<span class="ident" id="5435441">TagTypedef</span><span class="op" id="5435451">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5435455">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5435485">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5435502">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5435533">//&nbsp;&nbsp;&nbsp;&nbspAttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435575">t</span>&nbsp;<span class="op" id="5435577">:=</span>&nbsp;<span class="builtinfunc" id="5435580">new</span><span class="op" id="5435583">(</span><span class="ident" id="5435584">TypedefType</span><span class="op" id="5435595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435599">typ</span>&nbsp;<span class="op" id="5435603">=</span>&nbsp;<span class="ident" id="5435605">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435609">typeCache</span><span class="op" id="5435618">[</span><span class="ident" id="5435619">off</span><span class="op" id="5435622">]</span>&nbsp;<span class="op" id="5435624">=</span>&nbsp;<span class="ident" id="5435626">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435630">t</span><span class="op" id="5435631">.</span><span class="ident" id="5435632">Name</span><span class="op" id="5435636">,</span>&nbsp;<span class="ident" id="5435638">_</span>&nbsp;<span class="op" id="5435640">=</span>&nbsp;<span class="ident" id="5435642">e</span><span class="op" id="5435643">.</span><span class="ident" id="5435644">Val</span><span class="op" id="5435647">(</span><span class="ident" id="5435648">AttrName</span><span class="op" id="5435656">)</span><span class="op" id="5435657">.</span><span class="op" id="5435658">(</span><span class="builtintype" id="5435659">string</span><span class="op" id="5435665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435669">t</span><span class="op" id="5435670">.</span><span class="ident" id="5435671">Type</span>&nbsp;<span class="op" id="5435676">=</span>&nbsp;<span class="ident" id="5435678">typeOf</span><span class="op" id="5435684">(</span><span class="ident" id="5435685">e</span><span class="op" id="5435686">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435690">case</span>&nbsp;<span class="ident" id="5435695">TagUnspecifiedType</span><span class="op" id="5435713">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5435717">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5435756">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5435773">//&nbsp;&nbsp;&nbsp;&nbspAttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435793">t</span>&nbsp;<span class="op" id="5435795">:=</span>&nbsp;<span class="builtinfunc" id="5435798">new</span><span class="op" id="5435801">(</span><span class="ident" id="5435802">UnspecifiedType</span><span class="op" id="5435817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435821">typ</span>&nbsp;<span class="op" id="5435825">=</span>&nbsp;<span class="ident" id="5435827">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435831">typeCache</span><span class="op" id="5435840">[</span><span class="ident" id="5435841">off</span><span class="op" id="5435844">]</span>&nbsp;<span class="op" id="5435846">=</span>&nbsp;<span class="ident" id="5435848">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435852">t</span><span class="op" id="5435853">.</span><span class="ident" id="5435854">Name</span><span class="op" id="5435858">,</span>&nbsp;<span class="ident" id="5435860">_</span>&nbsp;<span class="op" id="5435862">=</span>&nbsp;<span class="ident" id="5435864">e</span><span class="op" id="5435865">.</span><span class="ident" id="5435866">Val</span><span class="op" id="5435869">(</span><span class="ident" id="5435870">AttrName</span><span class="op" id="5435878">)</span><span class="op" id="5435879">.</span><span class="op" id="5435880">(</span><span class="builtintype" id="5435881">string</span><span class="op" id="5435887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5435890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435894">if</span>&nbsp;<span class="ident" id="5435897">err</span>&nbsp;<span class="op" id="5435901">!=</span>&nbsp;<span class="ident" id="5435904">nil</span>&nbsp;<span class="op" id="5435908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435912">goto</span>&nbsp;<span class="ident" id="5435917">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5435924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5435928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435932">b</span><span class="op" id="5435933">,</span>&nbsp;<span class="ident" id="5435935">ok</span>&nbsp;<span class="op" id="5435938">:=</span>&nbsp;<span class="ident" id="5435941">e</span><span class="op" id="5435942">.</span><span class="ident" id="5435943">Val</span><span class="op" id="5435946">(</span><span class="ident" id="5435947">AttrByteSize</span><span class="op" id="5435959">)</span><span class="op" id="5435960">.</span><span class="op" id="5435961">(</span><span class="ident" id="5435962">int64</span><span class="op" id="5435967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5435971">if</span>&nbsp;<span class="op" id="5435974">!</span><span class="ident" id="5435975">ok</span>&nbsp;<span class="op" id="5435978">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435983">b</span>&nbsp;<span class="op" id="5435985">=</span>&nbsp;<span class="op" id="5435987">-</span><span class="num" id="5435988">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5435992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5435996">typ</span><span class="op" id="5435999">.</span><span class="ident" id="5436000">Common</span><span class="op" id="5436006">(</span><span class="op" id="5436007">)</span><span class="op" id="5436008">.</span><span class="ident" id="5436009">ByteSize</span>&nbsp;<span class="op" id="5436018">=</span>&nbsp;<span class="ident" id="5436020">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5436023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5436026">return</span>&nbsp;<span class="ident" id="5436033">typ</span><span class="op" id="5436036">,</span>&nbsp;<span class="ident" id="5436038">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="5436043">Error</span><span class="op" id="5436048">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5436051">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5436106">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5436161">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5436195">delete</span><span class="op" id="5436201">(</span><span class="ident" id="5436202">typeCache</span><span class="op" id="5436211">,</span>&nbsp;<span class="ident" id="5436213">off</span><span class="op" id="5436216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5436219">return</span>&nbsp;<span class="ident" id="5436226">nil</span><span class="op" id="5436229">,</span>&nbsp;<span class="ident" id="5436231">err</span><br>
<span class="lineno"></span><span class="op" id="5436235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5436238">func</span>&nbsp;<span class="ident" id="5436243">zeroArray</span><span class="op" id="5436252">(</span><span class="ident" id="5436253">t</span>&nbsp;<span class="op" id="5436255">*</span><span class="ident" id="5436256">Type</span><span class="op" id="5436260">)</span>&nbsp;<span class="op" id="5436262">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5436265">if</span>&nbsp;<span class="ident" id="5436268">t</span>&nbsp;<span class="op" id="5436270">==</span>&nbsp;<span class="ident" id="5436273">nil</span>&nbsp;<span class="op" id="5436277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5436281">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5436289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5436292">at</span><span class="op" id="5436294">,</span>&nbsp;<span class="ident" id="5436296">ok</span>&nbsp;<span class="op" id="5436299">:=</span>&nbsp;<span class="op" id="5436302">(</span><span class="op" id="5436303">*</span><span class="ident" id="5436304">t</span><span class="op" id="5436305">)</span><span class="op" id="5436306">.</span><span class="op" id="5436307">(</span><span class="op" id="5436308">*</span><span class="ident" id="5436309">ArrayType</span><span class="op" id="5436318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5436321">if</span>&nbsp;<span class="op" id="5436324">!</span><span class="ident" id="5436325">ok</span>&nbsp;<span class="op" id="5436328">||</span>&nbsp;<span class="ident" id="5436331">at</span><span class="op" id="5436333">.</span><span class="ident" id="5436334">Type</span><span class="op" id="5436338">.</span><span class="ident" id="5436339">Size</span><span class="op" id="5436343">(</span><span class="op" id="5436344">)</span>&nbsp;<span class="op" id="5436346">==</span>&nbsp;<span class="num" id="5436349">0</span>&nbsp;<span class="op" id="5436351">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5436355">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5436363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5436366">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5436415">tt</span>&nbsp;<span class="op" id="5436418">:=</span>&nbsp;<span class="op" id="5436421">*</span><span class="ident" id="5436422">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5436426">tt</span><span class="op" id="5436428">.</span><span class="ident" id="5436429">Count</span>&nbsp;<span class="op" id="5436435">=</span>&nbsp;<span class="num" id="5436437">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5436440">*</span><span class="ident" id="5436441">t</span>&nbsp;<span class="op" id="5436443">=</span>&nbsp;<span class="op" id="5436445">&amp;</span><span class="ident" id="5436446">tt</span><br>
<span class="lineno"></span><span class="op" id="5436449">}</span>
</div>
</body>
</html>
