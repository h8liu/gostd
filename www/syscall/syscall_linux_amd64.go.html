<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword">package</span>&nbsp;<span class="ident">syscall</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspChown(path&nbsp;string,&nbsp;uid&nbsp;int,&nbsp;gid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspFchown(fd&nbsp;int,&nbsp;uid&nbsp;int,&nbsp;gid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspFstat(fd&nbsp;int,&nbsp;stat&nbsp;*Stat_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">10</span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspFstatfs(fd&nbsp;int,&nbsp;buf&nbsp;*Statfs_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspFtruncate(fd&nbsp;int,&nbsp;length&nbsp;int64)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspGetegid()&nbsp;(egid&nbsp;int)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspGeteuid()&nbsp;(euid&nbsp;int)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspGetgid()&nbsp;(gid&nbsp;int)</span><br>
<span class="lineno">15</span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspGetrlimit(resource&nbsp;int,&nbsp;rlim&nbsp;*Rlimit)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspGetuid()&nbsp;(uid&nbsp;int)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspIoperm(from&nbsp;int,&nbsp;num&nbsp;int,&nbsp;on&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspIopl(level&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspLchown(path&nbsp;string,&nbsp;uid&nbsp;int,&nbsp;gid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">20</span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspListen(s&nbsp;int,&nbsp;n&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspLstat(path&nbsp;string,&nbsp;stat&nbsp;*Stat_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspPread(fd&nbsp;int,&nbsp;p&nbsp;[]byte,&nbsp;offset&nbsp;int64)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)&nbsp;=&nbsp;SYS_PREAD64</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspPwrite(fd&nbsp;int,&nbsp;p&nbsp;[]byte,&nbsp;offset&nbsp;int64)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)&nbsp;=&nbsp;SYS_PWRITE64</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspSeek(fd&nbsp;int,&nbsp;offset&nbsp;int64,&nbsp;whence&nbsp;int)&nbsp;(off&nbsp;int64,&nbsp;err&nbsp;error)&nbsp;=&nbsp;SYS_LSEEK</span><br>
<span class="lineno">25</span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspSelect(nfd&nbsp;int,&nbsp;r&nbsp;*FdSet,&nbsp;w&nbsp;*FdSet,&nbsp;e&nbsp;*FdSet,&nbsp;timeout&nbsp;*Timeval)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspsendfile(outfd&nbsp;int,&nbsp;infd&nbsp;int,&nbsp;offset&nbsp;*int64,&nbsp;count&nbsp;int)&nbsp;(written&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspSetfsgid(gid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspSetfsuid(uid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetregid(rgid&nbsp;int,&nbsp;egid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">30</span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetresgid(rgid&nbsp;int,&nbsp;egid&nbsp;int,&nbsp;sgid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetresuid(ruid&nbsp;int,&nbsp;euid&nbsp;int,&nbsp;suid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetrlimit(resource&nbsp;int,&nbsp;rlim&nbsp;*Rlimit)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspSetreuid(ruid&nbsp;int,&nbsp;euid&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspShutdown(fd&nbsp;int,&nbsp;how&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">35</span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspSplice(rfd&nbsp;int,&nbsp;roff&nbsp;*int64,&nbsp;wfd&nbsp;int,&nbsp;woff&nbsp;*int64,&nbsp;len&nbsp;int,&nbsp;flags&nbsp;int)&nbsp;(n&nbsp;int64,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspStat(path&nbsp;string,&nbsp;stat&nbsp;*Stat_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspStatfs(path&nbsp;string,&nbsp;buf&nbsp;*Statfs_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspSyncFileRange(fd&nbsp;int,&nbsp;off&nbsp;int64,&nbsp;n&nbsp;int64,&nbsp;flags&nbsp;int)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspTruncate(path&nbsp;string,&nbsp;length&nbsp;int64)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">40</span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspaccept(s&nbsp;int,&nbsp;rsa&nbsp;*RawSockaddrAny,&nbsp;addrlen&nbsp;*_Socklen)&nbsp;(fd&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspaccept4(s&nbsp;int,&nbsp;rsa&nbsp;*RawSockaddrAny,&nbsp;addrlen&nbsp;*_Socklen,&nbsp;flags&nbsp;int)&nbsp;(fd&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspbind(s&nbsp;int,&nbsp;addr&nbsp;unsafe.Pointer,&nbsp;addrlen&nbsp;_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspconnect(s&nbsp;int,&nbsp;addr&nbsp;unsafe.Pointer,&nbsp;addrlen&nbsp;_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspgetgroups(n&nbsp;int,&nbsp;list&nbsp;*_Gid_t)&nbsp;(nn&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno">45</span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspsetgroups(n&nbsp;int,&nbsp;list&nbsp;*_Gid_t)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspgetsockopt(s&nbsp;int,&nbsp;level&nbsp;int,&nbsp;name&nbsp;int,&nbsp;val&nbsp;unsafe.Pointer,&nbsp;vallen&nbsp;*_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspsetsockopt(s&nbsp;int,&nbsp;level&nbsp;int,&nbsp;name&nbsp;int,&nbsp;val&nbsp;unsafe.Pointer,&nbsp;vallen&nbsp;uintptr)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspsocket(domain&nbsp;int,&nbsp;typ&nbsp;int,&nbsp;proto&nbsp;int)&nbsp;(fd&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspsocketpair(domain&nbsp;int,&nbsp;typ&nbsp;int,&nbsp;proto&nbsp;int,&nbsp;fd&nbsp;*[2]int32)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno">50</span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspgetpeername(fd&nbsp;int,&nbsp;rsa&nbsp;*RawSockaddrAny,&nbsp;addrlen&nbsp;*_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sysnb&nbsp;&nbsp;&nbsp;&nbspgetsockname(fd&nbsp;int,&nbsp;rsa&nbsp;*RawSockaddrAny,&nbsp;addrlen&nbsp;*_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbsprecvfrom(fd&nbsp;int,&nbsp;p&nbsp;[]byte,&nbsp;flags&nbsp;int,&nbsp;from&nbsp;*RawSockaddrAny,&nbsp;fromlen&nbsp;*_Socklen)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspsendto(s&nbsp;int,&nbsp;buf&nbsp;[]byte,&nbsp;flags&nbsp;int,&nbsp;to&nbsp;unsafe.Pointer,&nbsp;addrlen&nbsp;_Socklen)&nbsp;(err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbsprecvmsg(s&nbsp;int,&nbsp;msg&nbsp;*Msghdr,&nbsp;flags&nbsp;int)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno">55</span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspsendmsg(s&nbsp;int,&nbsp;msg&nbsp;*Msghdr,&nbsp;flags&nbsp;int)&nbsp;(n&nbsp;int,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment">//sys&nbsp;&nbsp;&nbsp;&nbspmmap(addr&nbsp;uintptr,&nbsp;length&nbsp;uintptr,&nbsp;prot&nbsp;int,&nbsp;flags&nbsp;int,&nbsp;fd&nbsp;int,&nbsp;offset&nbsp;int64)&nbsp;(xaddr&nbsp;uintptr,&nbsp;err&nbsp;error)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">Getpagesize</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="builtintype">int</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="num">4096</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">gettimeofday</span><span class="op">(</span><span class="ident">tv</span>&nbsp;<span class="op">*</span><span class="ident">Timeval</span><span class="op">)</span>&nbsp;<span class="op">(</span><span class="ident">err</span>&nbsp;<span class="ident">Errno</span><span class="op">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">Gettimeofday</span><span class="op">(</span><span class="ident">tv</span>&nbsp;<span class="op">*</span><span class="ident">Timeval</span><span class="op">)</span>&nbsp;<span class="op">(</span><span class="ident">err</span>&nbsp;<span class="builtintype">error</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">errno</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="ident">gettimeofday</span><span class="op">(</span><span class="ident">tv</span><span class="op">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">errno</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">errno</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">nil</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">Time</span><span class="op">(</span><span class="ident">t</span>&nbsp;<span class="op">*</span><span class="ident">Time_t</span><span class="op">)</span>&nbsp;<span class="op">(</span><span class="ident">tt</span>&nbsp;<span class="ident">Time_t</span><span class="op">,</span>&nbsp;<span class="ident">err</span>&nbsp;<span class="builtintype">error</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">var</span>&nbsp;<span class="ident">tv</span>&nbsp;<span class="ident">Timeval</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">errno</span>&nbsp;<span class="op">:=</span>&nbsp;<span class="ident">gettimeofday</span><span class="op">(</span><span class="op">&amp;</span><span class="ident">tv</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">errno</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="num">0</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="num">0</span><span class="op">,</span>&nbsp;<span class="ident">errno</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">if</span>&nbsp;<span class="ident">t</span>&nbsp;<span class="op">!=</span>&nbsp;<span class="ident">nil</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op">*</span><span class="ident">t</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">Time_t</span><span class="op">(</span><span class="ident">tv</span><span class="op">.</span><span class="ident">Sec</span><span class="op">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span>&nbsp;<span class="ident">Time_t</span><span class="op">(</span><span class="ident">tv</span><span class="op">.</span><span class="ident">Sec</span><span class="op">)</span><span class="op">,</span>&nbsp;<span class="ident">nil</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">TimespecToNsec</span><span class="op">(</span><span class="ident">ts</span>&nbsp;<span class="ident">Timespec</span><span class="op">)</span>&nbsp;<span class="ident">int64</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">int64</span><span class="op">(</span><span class="ident">ts</span><span class="op">.</span><span class="ident">Sec</span><span class="op">)</span><span class="op">*</span><span class="num">1e9</span>&nbsp;<span class="op">+</span>&nbsp;<span class="ident">int64</span><span class="op">(</span><span class="ident">ts</span><span class="op">.</span><span class="ident">Nsec</span><span class="op">)</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword">func</span>&nbsp;<span class="ident">NsecToTimespec</span><span class="op">(</span><span class="ident">nsec</span>&nbsp;<span class="ident">int64</span><span class="op">)</span>&nbsp;<span class="op">(</span><span class="ident">ts</span>&nbsp;<span class="ident">Timespec</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ts</span><span class="op">.</span><span class="ident">Sec</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">nsec</span>&nbsp;<span class="op">/</span>&nbsp;<span class="num">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">ts</span><span class="op">.</span><span class="ident">Nsec</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">nsec</span>&nbsp;<span class="op">%</span>&nbsp;<span class="num">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">TimevalToNsec</span><span class="op">(</span><span class="ident">tv</span>&nbsp;<span class="ident">Timeval</span><span class="op">)</span>&nbsp;<span class="ident">int64</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">int64</span><span class="op">(</span><span class="ident">tv</span><span class="op">.</span><span class="ident">Sec</span><span class="op">)</span><span class="op">*</span><span class="num">1e9</span>&nbsp;<span class="op">+</span>&nbsp;<span class="ident">int64</span><span class="op">(</span><span class="ident">tv</span><span class="op">.</span><span class="ident">Usec</span><span class="op">)</span><span class="op">*</span><span class="num">1e3</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="ident">NsecToTimeval</span><span class="op">(</span><span class="ident">nsec</span>&nbsp;<span class="ident">int64</span><span class="op">)</span>&nbsp;<span class="op">(</span><span class="ident">tv</span>&nbsp;<span class="ident">Timeval</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">nsec</span>&nbsp;<span class="op">+=</span>&nbsp;<span class="num">999</span>&nbsp;<span class="comment">//&nbsp;round&nbsp;up&nbsp;to&nbsp;microsecond</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">tv</span><span class="op">.</span><span class="ident">Sec</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">nsec</span>&nbsp;<span class="op">/</span>&nbsp;<span class="num">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">tv</span><span class="op">.</span><span class="ident">Usec</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">nsec</span>&nbsp;<span class="op">%</span>&nbsp;<span class="num">1e9</span>&nbsp;<span class="op">/</span>&nbsp;<span class="num">1e3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword">return</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">r</span>&nbsp;<span class="op">*</span><span class="ident">PtraceRegs</span><span class="op">)</span>&nbsp;<span class="ident">PC</span><span class="op">(</span><span class="op">)</span>&nbsp;<span class="ident">uint64</span>&nbsp;<span class="op">{</span>&nbsp;<span class="keyword">return</span>&nbsp;<span class="ident">r</span><span class="op">.</span><span class="ident">Rip</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">r</span>&nbsp;<span class="op">*</span><span class="ident">PtraceRegs</span><span class="op">)</span>&nbsp;<span class="ident">SetPC</span><span class="op">(</span><span class="ident">pc</span>&nbsp;<span class="ident">uint64</span><span class="op">)</span>&nbsp;<span class="op">{</span>&nbsp;<span class="ident">r</span><span class="op">.</span><span class="ident">Rip</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">pc</span>&nbsp;<span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">iov</span>&nbsp;<span class="op">*</span><span class="ident">Iovec</span><span class="op">)</span>&nbsp;<span class="ident">SetLen</span><span class="op">(</span><span class="ident">length</span>&nbsp;<span class="builtintype">int</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">iov</span><span class="op">.</span><span class="ident">Len</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">uint64</span><span class="op">(</span><span class="ident">length</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">msghdr</span>&nbsp;<span class="op">*</span><span class="ident">Msghdr</span><span class="op">)</span>&nbsp;<span class="ident">SetControllen</span><span class="op">(</span><span class="ident">length</span>&nbsp;<span class="builtintype">int</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">msghdr</span><span class="op">.</span><span class="ident">Controllen</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">uint64</span><span class="op">(</span><span class="ident">length</span><span class="op">)</span><br>
<span class="lineno">110</span><span class="op">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword">func</span>&nbsp;<span class="op">(</span><span class="ident">cmsg</span>&nbsp;<span class="op">*</span><span class="ident">Cmsghdr</span><span class="op">)</span>&nbsp;<span class="ident">SetLen</span><span class="op">(</span><span class="ident">length</span>&nbsp;<span class="builtintype">int</span><span class="op">)</span>&nbsp;<span class="op">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident">cmsg</span><span class="op">.</span><span class="ident">Len</span>&nbsp;<span class="op">=</span>&nbsp;<span class="ident">uint64</span><span class="op">(</span><span class="ident">length</span><span class="op">)</span><br>
<span class="lineno"></span><span class="op">}</span>
</div>
</body>
</html>
