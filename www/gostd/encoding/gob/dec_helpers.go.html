<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3040250">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3040309">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3040364">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="3040418">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3040469">package</span>&nbsp;<span class="ident" id="3040477">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3040482">import</span>&nbsp;<span class="op" id="3040489">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3040492">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3040500">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="3040510">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3040513">var</span>&nbsp;<span class="ident" id="3040517">decArrayHelper</span>&nbsp;<span class="op" id="3040532">=</span>&nbsp;<span class="keyword" id="3040534">map</span><span class="op" id="3040537">[</span><span class="ident" id="3040538">reflect</span><span class="op" id="3040545">.</span><span class="ident" id="3040546">Kind</span><span class="op" id="3040550">]</span><span class="ident" id="3040551">decHelper</span><span class="op" id="3040560">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040563">reflect</span><span class="op" id="3040570">.</span><span class="ident" id="3040571">Bool</span><span class="op" id="3040575">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040583">decBoolArray</span><span class="op" id="3040595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040598">reflect</span><span class="op" id="3040605">.</span><span class="ident" id="3040606">Complex64</span><span class="op" id="3040615">:</span>&nbsp;&nbsp;<span class="ident" id="3040618">decComplex64Array</span><span class="op" id="3040635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040638">reflect</span><span class="op" id="3040645">.</span><span class="ident" id="3040646">Complex128</span><span class="op" id="3040656">:</span>&nbsp;<span class="ident" id="3040658">decComplex128Array</span><span class="op" id="3040676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040679">reflect</span><span class="op" id="3040686">.</span><span class="ident" id="3040687">Float32</span><span class="op" id="3040694">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040699">decFloat32Array</span><span class="op" id="3040714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040717">reflect</span><span class="op" id="3040724">.</span><span class="ident" id="3040725">Float64</span><span class="op" id="3040732">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040737">decFloat64Array</span><span class="op" id="3040752">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040755">reflect</span><span class="op" id="3040762">.</span><span class="ident" id="3040763">Int</span><span class="op" id="3040766">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040775">decIntArray</span><span class="op" id="3040786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040789">reflect</span><span class="op" id="3040796">.</span><span class="ident" id="3040797">Int16</span><span class="op" id="3040802">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040809">decInt16Array</span><span class="op" id="3040822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040825">reflect</span><span class="op" id="3040832">.</span><span class="ident" id="3040833">Int32</span><span class="op" id="3040838">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040845">decInt32Array</span><span class="op" id="3040858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040861">reflect</span><span class="op" id="3040868">.</span><span class="ident" id="3040869">Int64</span><span class="op" id="3040874">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040881">decInt64Array</span><span class="op" id="3040894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040897">reflect</span><span class="op" id="3040904">.</span><span class="ident" id="3040905">Int8</span><span class="op" id="3040909">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040917">decInt8Array</span><span class="op" id="3040929">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040932">reflect</span><span class="op" id="3040939">.</span><span class="ident" id="3040940">String</span><span class="op" id="3040946">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040952">decStringArray</span><span class="op" id="3040966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3040969">reflect</span><span class="op" id="3040976">.</span><span class="ident" id="3040977">Uint</span><span class="op" id="3040981">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3040989">decUintArray</span><span class="op" id="3041001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041004">reflect</span><span class="op" id="3041011">.</span><span class="ident" id="3041012">Uint16</span><span class="op" id="3041018">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041024">decUint16Array</span><span class="op" id="3041038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041041">reflect</span><span class="op" id="3041048">.</span><span class="ident" id="3041049">Uint32</span><span class="op" id="3041055">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041061">decUint32Array</span><span class="op" id="3041075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041078">reflect</span><span class="op" id="3041085">.</span><span class="ident" id="3041086">Uint64</span><span class="op" id="3041092">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041098">decUint64Array</span><span class="op" id="3041112">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041115">reflect</span><span class="op" id="3041122">.</span><span class="ident" id="3041123">Uintptr</span><span class="op" id="3041130">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041135">decUintptrArray</span><span class="op" id="3041150">,</span><br>
<span class="lineno"></span><span class="op" id="3041152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3041155">var</span>&nbsp;<span class="ident" id="3041159">decSliceHelper</span>&nbsp;<span class="op" id="3041174">=</span>&nbsp;<span class="keyword" id="3041176">map</span><span class="op" id="3041179">[</span><span class="ident" id="3041180">reflect</span><span class="op" id="3041187">.</span><span class="ident" id="3041188">Kind</span><span class="op" id="3041192">]</span><span class="ident" id="3041193">decHelper</span><span class="op" id="3041202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041205">reflect</span><span class="op" id="3041212">.</span><span class="ident" id="3041213">Bool</span><span class="op" id="3041217">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041225">decBoolSlice</span><span class="op" id="3041237">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041240">reflect</span><span class="op" id="3041247">.</span><span class="ident" id="3041248">Complex64</span><span class="op" id="3041257">:</span>&nbsp;&nbsp;<span class="ident" id="3041260">decComplex64Slice</span><span class="op" id="3041277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041280">reflect</span><span class="op" id="3041287">.</span><span class="ident" id="3041288">Complex128</span><span class="op" id="3041298">:</span>&nbsp;<span class="ident" id="3041300">decComplex128Slice</span><span class="op" id="3041318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041321">reflect</span><span class="op" id="3041328">.</span><span class="ident" id="3041329">Float32</span><span class="op" id="3041336">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041341">decFloat32Slice</span><span class="op" id="3041356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041359">reflect</span><span class="op" id="3041366">.</span><span class="ident" id="3041367">Float64</span><span class="op" id="3041374">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041379">decFloat64Slice</span><span class="op" id="3041394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041397">reflect</span><span class="op" id="3041404">.</span><span class="ident" id="3041405">Int</span><span class="op" id="3041408">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041417">decIntSlice</span><span class="op" id="3041428">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041431">reflect</span><span class="op" id="3041438">.</span><span class="ident" id="3041439">Int16</span><span class="op" id="3041444">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041451">decInt16Slice</span><span class="op" id="3041464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041467">reflect</span><span class="op" id="3041474">.</span><span class="ident" id="3041475">Int32</span><span class="op" id="3041480">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041487">decInt32Slice</span><span class="op" id="3041500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041503">reflect</span><span class="op" id="3041510">.</span><span class="ident" id="3041511">Int64</span><span class="op" id="3041516">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041523">decInt64Slice</span><span class="op" id="3041536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041539">reflect</span><span class="op" id="3041546">.</span><span class="ident" id="3041547">Int8</span><span class="op" id="3041551">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041559">decInt8Slice</span><span class="op" id="3041571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041574">reflect</span><span class="op" id="3041581">.</span><span class="ident" id="3041582">String</span><span class="op" id="3041588">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041594">decStringSlice</span><span class="op" id="3041608">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041611">reflect</span><span class="op" id="3041618">.</span><span class="ident" id="3041619">Uint</span><span class="op" id="3041623">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041631">decUintSlice</span><span class="op" id="3041643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041646">reflect</span><span class="op" id="3041653">.</span><span class="ident" id="3041654">Uint16</span><span class="op" id="3041660">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041666">decUint16Slice</span><span class="op" id="3041680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041683">reflect</span><span class="op" id="3041690">.</span><span class="ident" id="3041691">Uint32</span><span class="op" id="3041697">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041703">decUint32Slice</span><span class="op" id="3041717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041720">reflect</span><span class="op" id="3041727">.</span><span class="ident" id="3041728">Uint64</span><span class="op" id="3041734">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041740">decUint64Slice</span><span class="op" id="3041754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3041757">reflect</span><span class="op" id="3041764">.</span><span class="ident" id="3041765">Uintptr</span><span class="op" id="3041772">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3041777">decUintptrSlice</span><span class="op" id="3041792">,</span><br>
<span class="lineno">50</span><span class="op" id="3041794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3041797">func</span>&nbsp;<span class="ident" id="3041802">decBoolArray</span><span class="op" id="3041814">(</span><span class="ident" id="3041815">state</span>&nbsp;<span class="op" id="3041821">*</span><span class="ident" id="3041822">decoderState</span><span class="op" id="3041834">,</span>&nbsp;<span class="ident" id="3041836">v</span>&nbsp;<span class="ident" id="3041838">reflect</span><span class="op" id="3041845">.</span><span class="ident" id="3041846">Value</span><span class="op" id="3041851">,</span>&nbsp;<span class="ident" id="3041853">length</span>&nbsp;<span class="builtintype" id="3041860">int</span><span class="op" id="3041863">,</span>&nbsp;<span class="ident" id="3041865">ovfl</span>&nbsp;<span class="builtintype" id="3041870">error</span><span class="op" id="3041875">)</span>&nbsp;<span class="builtintype" id="3041877">bool</span>&nbsp;<span class="op" id="3041882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3041885">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041926">if</span>&nbsp;<span class="op" id="3041929">!</span><span class="ident" id="3041930">v</span><span class="op" id="3041931">.</span><span class="ident" id="3041932">CanAddr</span><span class="op" id="3041939">(</span><span class="op" id="3041940">)</span>&nbsp;<span class="op" id="3041942">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041946">return</span>&nbsp;<span class="builtintype" id="3041953">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3041960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3041963">return</span>&nbsp;<span class="ident" id="3041970">decBoolSlice</span><span class="op" id="3041982">(</span><span class="ident" id="3041983">state</span><span class="op" id="3041988">,</span>&nbsp;<span class="ident" id="3041990">v</span><span class="op" id="3041991">.</span><span class="ident" id="3041992">Slice</span><span class="op" id="3041997">(</span><span class="num" id="3041998">0</span><span class="op" id="3041999">,</span>&nbsp;<span class="ident" id="3042001">v</span><span class="op" id="3042002">.</span><span class="ident" id="3042003">Len</span><span class="op" id="3042006">(</span><span class="op" id="3042007">)</span><span class="op" id="3042008">)</span><span class="op" id="3042009">,</span>&nbsp;<span class="ident" id="3042011">length</span><span class="op" id="3042017">,</span>&nbsp;<span class="ident" id="3042019">ovfl</span><span class="op" id="3042023">)</span><br>
<span class="lineno"></span><span class="op" id="3042025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="3042028">func</span>&nbsp;<span class="ident" id="3042033">decBoolSlice</span><span class="op" id="3042045">(</span><span class="ident" id="3042046">state</span>&nbsp;<span class="op" id="3042052">*</span><span class="ident" id="3042053">decoderState</span><span class="op" id="3042065">,</span>&nbsp;<span class="ident" id="3042067">v</span>&nbsp;<span class="ident" id="3042069">reflect</span><span class="op" id="3042076">.</span><span class="ident" id="3042077">Value</span><span class="op" id="3042082">,</span>&nbsp;<span class="ident" id="3042084">length</span>&nbsp;<span class="builtintype" id="3042091">int</span><span class="op" id="3042094">,</span>&nbsp;<span class="ident" id="3042096">ovfl</span>&nbsp;<span class="builtintype" id="3042101">error</span><span class="op" id="3042106">)</span>&nbsp;<span class="builtintype" id="3042108">bool</span>&nbsp;<span class="op" id="3042113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042116">slice</span><span class="op" id="3042121">,</span>&nbsp;<span class="ident" id="3042123">ok</span>&nbsp;<span class="op" id="3042126">:=</span>&nbsp;<span class="ident" id="3042129">v</span><span class="op" id="3042130">.</span><span class="ident" id="3042131">Interface</span><span class="op" id="3042140">(</span><span class="op" id="3042141">)</span><span class="op" id="3042142">.</span><span class="op" id="3042143">(</span><span class="op" id="3042144">[</span><span class="op" id="3042145">]</span><span class="builtintype" id="3042146">bool</span><span class="op" id="3042150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042153">if</span>&nbsp;<span class="op" id="3042156">!</span><span class="ident" id="3042157">ok</span>&nbsp;<span class="op" id="3042160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042164">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042239">return</span>&nbsp;<span class="builtintype" id="3042246">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042256">for</span>&nbsp;<span class="ident" id="3042260">i</span>&nbsp;<span class="op" id="3042262">:=</span>&nbsp;<span class="num" id="3042265">0</span><span class="op" id="3042266">;</span>&nbsp;<span class="ident" id="3042268">i</span>&nbsp;<span class="op" id="3042270">&lt;</span>&nbsp;<span class="ident" id="3042272">length</span><span class="op" id="3042278">;</span>&nbsp;<span class="ident" id="3042280">i</span><span class="op" id="3042281">++</span>&nbsp;<span class="op" id="3042284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042288">if</span>&nbsp;<span class="ident" id="3042291">state</span><span class="op" id="3042296">.</span><span class="ident" id="3042297">b</span><span class="op" id="3042298">.</span><span class="ident" id="3042299">Len</span><span class="op" id="3042302">(</span><span class="op" id="3042303">)</span>&nbsp;<span class="op" id="3042305">==</span>&nbsp;<span class="num" id="3042308">0</span>&nbsp;<span class="op" id="3042310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042315">errorf</span><span class="op" id="3042321">(</span><span class="string" id="3042322">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3042393">,</span>&nbsp;<span class="ident" id="3042395">length</span><span class="op" id="3042401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042405">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042409">slice</span><span class="op" id="3042414">[</span><span class="ident" id="3042415">i</span><span class="op" id="3042416">]</span>&nbsp;<span class="op" id="3042418">=</span>&nbsp;<span class="ident" id="3042420">state</span><span class="op" id="3042425">.</span><span class="ident" id="3042426">decodeUint</span><span class="op" id="3042436">(</span><span class="op" id="3042437">)</span>&nbsp;<span class="op" id="3042439">!=</span>&nbsp;<span class="num" id="3042442">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042448">return</span>&nbsp;<span class="builtintype" id="3042455">true</span><br>
<span class="lineno"></span><span class="op" id="3042460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="3042463">func</span>&nbsp;<span class="ident" id="3042468">decComplex64Array</span><span class="op" id="3042485">(</span><span class="ident" id="3042486">state</span>&nbsp;<span class="op" id="3042492">*</span><span class="ident" id="3042493">decoderState</span><span class="op" id="3042505">,</span>&nbsp;<span class="ident" id="3042507">v</span>&nbsp;<span class="ident" id="3042509">reflect</span><span class="op" id="3042516">.</span><span class="ident" id="3042517">Value</span><span class="op" id="3042522">,</span>&nbsp;<span class="ident" id="3042524">length</span>&nbsp;<span class="builtintype" id="3042531">int</span><span class="op" id="3042534">,</span>&nbsp;<span class="ident" id="3042536">ovfl</span>&nbsp;<span class="builtintype" id="3042541">error</span><span class="op" id="3042546">)</span>&nbsp;<span class="builtintype" id="3042548">bool</span>&nbsp;<span class="op" id="3042553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042556">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042597">if</span>&nbsp;<span class="op" id="3042600">!</span><span class="ident" id="3042601">v</span><span class="op" id="3042602">.</span><span class="ident" id="3042603">CanAddr</span><span class="op" id="3042610">(</span><span class="op" id="3042611">)</span>&nbsp;<span class="op" id="3042613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042617">return</span>&nbsp;<span class="builtintype" id="3042624">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042631">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042634">return</span>&nbsp;<span class="ident" id="3042641">decComplex64Slice</span><span class="op" id="3042658">(</span><span class="ident" id="3042659">state</span><span class="op" id="3042664">,</span>&nbsp;<span class="ident" id="3042666">v</span><span class="op" id="3042667">.</span><span class="ident" id="3042668">Slice</span><span class="op" id="3042673">(</span><span class="num" id="3042674">0</span><span class="op" id="3042675">,</span>&nbsp;<span class="ident" id="3042677">v</span><span class="op" id="3042678">.</span><span class="ident" id="3042679">Len</span><span class="op" id="3042682">(</span><span class="op" id="3042683">)</span><span class="op" id="3042684">)</span><span class="op" id="3042685">,</span>&nbsp;<span class="ident" id="3042687">length</span><span class="op" id="3042693">,</span>&nbsp;<span class="ident" id="3042695">ovfl</span><span class="op" id="3042699">)</span><br>
<span class="lineno"></span><span class="op" id="3042701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3042704">func</span>&nbsp;<span class="ident" id="3042709">decComplex64Slice</span><span class="op" id="3042726">(</span><span class="ident" id="3042727">state</span>&nbsp;<span class="op" id="3042733">*</span><span class="ident" id="3042734">decoderState</span><span class="op" id="3042746">,</span>&nbsp;<span class="ident" id="3042748">v</span>&nbsp;<span class="ident" id="3042750">reflect</span><span class="op" id="3042757">.</span><span class="ident" id="3042758">Value</span><span class="op" id="3042763">,</span>&nbsp;<span class="ident" id="3042765">length</span>&nbsp;<span class="builtintype" id="3042772">int</span><span class="op" id="3042775">,</span>&nbsp;<span class="ident" id="3042777">ovfl</span>&nbsp;<span class="builtintype" id="3042782">error</span><span class="op" id="3042787">)</span>&nbsp;<span class="builtintype" id="3042789">bool</span>&nbsp;<span class="op" id="3042794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3042797">slice</span><span class="op" id="3042802">,</span>&nbsp;<span class="ident" id="3042804">ok</span>&nbsp;<span class="op" id="3042807">:=</span>&nbsp;<span class="ident" id="3042810">v</span><span class="op" id="3042811">.</span><span class="ident" id="3042812">Interface</span><span class="op" id="3042821">(</span><span class="op" id="3042822">)</span><span class="op" id="3042823">.</span><span class="op" id="3042824">(</span><span class="op" id="3042825">[</span><span class="op" id="3042826">]</span><span class="builtintype" id="3042827">complex64</span><span class="op" id="3042836">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042839">if</span>&nbsp;<span class="op" id="3042842">!</span><span class="ident" id="3042843">ok</span>&nbsp;<span class="op" id="3042846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3042850">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042935">return</span>&nbsp;<span class="builtintype" id="3042942">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3042949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042952">for</span>&nbsp;<span class="ident" id="3042956">i</span>&nbsp;<span class="op" id="3042958">:=</span>&nbsp;<span class="num" id="3042961">0</span><span class="op" id="3042962">;</span>&nbsp;<span class="ident" id="3042964">i</span>&nbsp;<span class="op" id="3042966">&lt;</span>&nbsp;<span class="ident" id="3042968">length</span><span class="op" id="3042974">;</span>&nbsp;<span class="ident" id="3042976">i</span><span class="op" id="3042977">++</span>&nbsp;<span class="op" id="3042980">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3042984">if</span>&nbsp;<span class="ident" id="3042987">state</span><span class="op" id="3042992">.</span><span class="ident" id="3042993">b</span><span class="op" id="3042994">.</span><span class="ident" id="3042995">Len</span><span class="op" id="3042998">(</span><span class="op" id="3042999">)</span>&nbsp;<span class="op" id="3043001">==</span>&nbsp;<span class="num" id="3043004">0</span>&nbsp;<span class="op" id="3043006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043011">errorf</span><span class="op" id="3043017">(</span><span class="string" id="3043018">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3043094">,</span>&nbsp;<span class="ident" id="3043096">length</span><span class="op" id="3043102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3043110">real</span>&nbsp;<span class="op" id="3043115">:=</span>&nbsp;<span class="ident" id="3043118">float32FromBits</span><span class="op" id="3043133">(</span><span class="ident" id="3043134">state</span><span class="op" id="3043139">.</span><span class="ident" id="3043140">decodeUint</span><span class="op" id="3043150">(</span><span class="op" id="3043151">)</span><span class="op" id="3043152">,</span>&nbsp;<span class="ident" id="3043154">ovfl</span><span class="op" id="3043158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3043162">imag</span>&nbsp;<span class="op" id="3043167">:=</span>&nbsp;<span class="ident" id="3043170">float32FromBits</span><span class="op" id="3043185">(</span><span class="ident" id="3043186">state</span><span class="op" id="3043191">.</span><span class="ident" id="3043192">decodeUint</span><span class="op" id="3043202">(</span><span class="op" id="3043203">)</span><span class="op" id="3043204">,</span>&nbsp;<span class="ident" id="3043206">ovfl</span><span class="op" id="3043210">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043214">slice</span><span class="op" id="3043219">[</span><span class="ident" id="3043220">i</span><span class="op" id="3043221">]</span>&nbsp;<span class="op" id="3043223">=</span>&nbsp;<span class="builtinfunc" id="3043225">complex</span><span class="op" id="3043232">(</span><span class="builtintype" id="3043233">float32</span><span class="op" id="3043240">(</span><span class="builtinfunc" id="3043241">real</span><span class="op" id="3043245">)</span><span class="op" id="3043246">,</span>&nbsp;<span class="builtintype" id="3043248">float32</span><span class="op" id="3043255">(</span><span class="builtinfunc" id="3043256">imag</span><span class="op" id="3043260">)</span><span class="op" id="3043261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043267">return</span>&nbsp;<span class="builtintype" id="3043274">true</span><br>
<span class="lineno"></span><span class="op" id="3043279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="3043282">func</span>&nbsp;<span class="ident" id="3043287">decComplex128Array</span><span class="op" id="3043305">(</span><span class="ident" id="3043306">state</span>&nbsp;<span class="op" id="3043312">*</span><span class="ident" id="3043313">decoderState</span><span class="op" id="3043325">,</span>&nbsp;<span class="ident" id="3043327">v</span>&nbsp;<span class="ident" id="3043329">reflect</span><span class="op" id="3043336">.</span><span class="ident" id="3043337">Value</span><span class="op" id="3043342">,</span>&nbsp;<span class="ident" id="3043344">length</span>&nbsp;<span class="builtintype" id="3043351">int</span><span class="op" id="3043354">,</span>&nbsp;<span class="ident" id="3043356">ovfl</span>&nbsp;<span class="builtintype" id="3043361">error</span><span class="op" id="3043366">)</span>&nbsp;<span class="builtintype" id="3043368">bool</span>&nbsp;<span class="op" id="3043373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3043376">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043417">if</span>&nbsp;<span class="op" id="3043420">!</span><span class="ident" id="3043421">v</span><span class="op" id="3043422">.</span><span class="ident" id="3043423">CanAddr</span><span class="op" id="3043430">(</span><span class="op" id="3043431">)</span>&nbsp;<span class="op" id="3043433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043437">return</span>&nbsp;<span class="builtintype" id="3043444">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043451">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043454">return</span>&nbsp;<span class="ident" id="3043461">decComplex128Slice</span><span class="op" id="3043479">(</span><span class="ident" id="3043480">state</span><span class="op" id="3043485">,</span>&nbsp;<span class="ident" id="3043487">v</span><span class="op" id="3043488">.</span><span class="ident" id="3043489">Slice</span><span class="op" id="3043494">(</span><span class="num" id="3043495">0</span><span class="op" id="3043496">,</span>&nbsp;<span class="ident" id="3043498">v</span><span class="op" id="3043499">.</span><span class="ident" id="3043500">Len</span><span class="op" id="3043503">(</span><span class="op" id="3043504">)</span><span class="op" id="3043505">)</span><span class="op" id="3043506">,</span>&nbsp;<span class="ident" id="3043508">length</span><span class="op" id="3043514">,</span>&nbsp;<span class="ident" id="3043516">ovfl</span><span class="op" id="3043520">)</span><br>
<span class="lineno"></span><span class="op" id="3043522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3043525">func</span>&nbsp;<span class="ident" id="3043530">decComplex128Slice</span><span class="op" id="3043548">(</span><span class="ident" id="3043549">state</span>&nbsp;<span class="op" id="3043555">*</span><span class="ident" id="3043556">decoderState</span><span class="op" id="3043568">,</span>&nbsp;<span class="ident" id="3043570">v</span>&nbsp;<span class="ident" id="3043572">reflect</span><span class="op" id="3043579">.</span><span class="ident" id="3043580">Value</span><span class="op" id="3043585">,</span>&nbsp;<span class="ident" id="3043587">length</span>&nbsp;<span class="builtintype" id="3043594">int</span><span class="op" id="3043597">,</span>&nbsp;<span class="ident" id="3043599">ovfl</span>&nbsp;<span class="builtintype" id="3043604">error</span><span class="op" id="3043609">)</span>&nbsp;<span class="builtintype" id="3043611">bool</span>&nbsp;<span class="op" id="3043616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043619">slice</span><span class="op" id="3043624">,</span>&nbsp;<span class="ident" id="3043626">ok</span>&nbsp;<span class="op" id="3043629">:=</span>&nbsp;<span class="ident" id="3043632">v</span><span class="op" id="3043633">.</span><span class="ident" id="3043634">Interface</span><span class="op" id="3043643">(</span><span class="op" id="3043644">)</span><span class="op" id="3043645">.</span><span class="op" id="3043646">(</span><span class="op" id="3043647">[</span><span class="op" id="3043648">]</span><span class="builtintype" id="3043649">complex128</span><span class="op" id="3043659">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043662">if</span>&nbsp;<span class="op" id="3043665">!</span><span class="ident" id="3043666">ok</span>&nbsp;<span class="op" id="3043669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3043673">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043760">return</span>&nbsp;<span class="builtintype" id="3043767">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043777">for</span>&nbsp;<span class="ident" id="3043781">i</span>&nbsp;<span class="op" id="3043783">:=</span>&nbsp;<span class="num" id="3043786">0</span><span class="op" id="3043787">;</span>&nbsp;<span class="ident" id="3043789">i</span>&nbsp;<span class="op" id="3043791">&lt;</span>&nbsp;<span class="ident" id="3043793">length</span><span class="op" id="3043799">;</span>&nbsp;<span class="ident" id="3043801">i</span><span class="op" id="3043802">++</span>&nbsp;<span class="op" id="3043805">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3043809">if</span>&nbsp;<span class="ident" id="3043812">state</span><span class="op" id="3043817">.</span><span class="ident" id="3043818">b</span><span class="op" id="3043819">.</span><span class="ident" id="3043820">Len</span><span class="op" id="3043823">(</span><span class="op" id="3043824">)</span>&nbsp;<span class="op" id="3043826">==</span>&nbsp;<span class="num" id="3043829">0</span>&nbsp;<span class="op" id="3043831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3043836">errorf</span><span class="op" id="3043842">(</span><span class="string" id="3043843">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3043920">,</span>&nbsp;<span class="ident" id="3043922">length</span><span class="op" id="3043928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3043932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3043936">real</span>&nbsp;<span class="op" id="3043941">:=</span>&nbsp;<span class="ident" id="3043944">float64FromBits</span><span class="op" id="3043959">(</span><span class="ident" id="3043960">state</span><span class="op" id="3043965">.</span><span class="ident" id="3043966">decodeUint</span><span class="op" id="3043976">(</span><span class="op" id="3043977">)</span><span class="op" id="3043978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3043982">imag</span>&nbsp;<span class="op" id="3043987">:=</span>&nbsp;<span class="ident" id="3043990">float64FromBits</span><span class="op" id="3044005">(</span><span class="ident" id="3044006">state</span><span class="op" id="3044011">.</span><span class="ident" id="3044012">decodeUint</span><span class="op" id="3044022">(</span><span class="op" id="3044023">)</span><span class="op" id="3044024">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044028">slice</span><span class="op" id="3044033">[</span><span class="ident" id="3044034">i</span><span class="op" id="3044035">]</span>&nbsp;<span class="op" id="3044037">=</span>&nbsp;<span class="builtinfunc" id="3044039">complex</span><span class="op" id="3044046">(</span><span class="builtinfunc" id="3044047">real</span><span class="op" id="3044051">,</span>&nbsp;<span class="builtinfunc" id="3044053">imag</span><span class="op" id="3044057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044063">return</span>&nbsp;<span class="builtintype" id="3044070">true</span><br>
<span class="lineno"></span><span class="op" id="3044075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="3044078">func</span>&nbsp;<span class="ident" id="3044083">decFloat32Array</span><span class="op" id="3044098">(</span><span class="ident" id="3044099">state</span>&nbsp;<span class="op" id="3044105">*</span><span class="ident" id="3044106">decoderState</span><span class="op" id="3044118">,</span>&nbsp;<span class="ident" id="3044120">v</span>&nbsp;<span class="ident" id="3044122">reflect</span><span class="op" id="3044129">.</span><span class="ident" id="3044130">Value</span><span class="op" id="3044135">,</span>&nbsp;<span class="ident" id="3044137">length</span>&nbsp;<span class="builtintype" id="3044144">int</span><span class="op" id="3044147">,</span>&nbsp;<span class="ident" id="3044149">ovfl</span>&nbsp;<span class="builtintype" id="3044154">error</span><span class="op" id="3044159">)</span>&nbsp;<span class="builtintype" id="3044161">bool</span>&nbsp;<span class="op" id="3044166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3044169">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044210">if</span>&nbsp;<span class="op" id="3044213">!</span><span class="ident" id="3044214">v</span><span class="op" id="3044215">.</span><span class="ident" id="3044216">CanAddr</span><span class="op" id="3044223">(</span><span class="op" id="3044224">)</span>&nbsp;<span class="op" id="3044226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044230">return</span>&nbsp;<span class="builtintype" id="3044237">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044244">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044247">return</span>&nbsp;<span class="ident" id="3044254">decFloat32Slice</span><span class="op" id="3044269">(</span><span class="ident" id="3044270">state</span><span class="op" id="3044275">,</span>&nbsp;<span class="ident" id="3044277">v</span><span class="op" id="3044278">.</span><span class="ident" id="3044279">Slice</span><span class="op" id="3044284">(</span><span class="num" id="3044285">0</span><span class="op" id="3044286">,</span>&nbsp;<span class="ident" id="3044288">v</span><span class="op" id="3044289">.</span><span class="ident" id="3044290">Len</span><span class="op" id="3044293">(</span><span class="op" id="3044294">)</span><span class="op" id="3044295">)</span><span class="op" id="3044296">,</span>&nbsp;<span class="ident" id="3044298">length</span><span class="op" id="3044304">,</span>&nbsp;<span class="ident" id="3044306">ovfl</span><span class="op" id="3044310">)</span><br>
<span class="lineno"></span><span class="op" id="3044312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3044315">func</span>&nbsp;<span class="ident" id="3044320">decFloat32Slice</span><span class="op" id="3044335">(</span><span class="ident" id="3044336">state</span>&nbsp;<span class="op" id="3044342">*</span><span class="ident" id="3044343">decoderState</span><span class="op" id="3044355">,</span>&nbsp;<span class="ident" id="3044357">v</span>&nbsp;<span class="ident" id="3044359">reflect</span><span class="op" id="3044366">.</span><span class="ident" id="3044367">Value</span><span class="op" id="3044372">,</span>&nbsp;<span class="ident" id="3044374">length</span>&nbsp;<span class="builtintype" id="3044381">int</span><span class="op" id="3044384">,</span>&nbsp;<span class="ident" id="3044386">ovfl</span>&nbsp;<span class="builtintype" id="3044391">error</span><span class="op" id="3044396">)</span>&nbsp;<span class="builtintype" id="3044398">bool</span>&nbsp;<span class="op" id="3044403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044406">slice</span><span class="op" id="3044411">,</span>&nbsp;<span class="ident" id="3044413">ok</span>&nbsp;<span class="op" id="3044416">:=</span>&nbsp;<span class="ident" id="3044419">v</span><span class="op" id="3044420">.</span><span class="ident" id="3044421">Interface</span><span class="op" id="3044430">(</span><span class="op" id="3044431">)</span><span class="op" id="3044432">.</span><span class="op" id="3044433">(</span><span class="op" id="3044434">[</span><span class="op" id="3044435">]</span><span class="builtintype" id="3044436">float32</span><span class="op" id="3044443">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044446">if</span>&nbsp;<span class="op" id="3044449">!</span><span class="ident" id="3044450">ok</span>&nbsp;<span class="op" id="3044453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3044457">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044538">return</span>&nbsp;<span class="builtintype" id="3044545">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044555">for</span>&nbsp;<span class="ident" id="3044559">i</span>&nbsp;<span class="op" id="3044561">:=</span>&nbsp;<span class="num" id="3044564">0</span><span class="op" id="3044565">;</span>&nbsp;<span class="ident" id="3044567">i</span>&nbsp;<span class="op" id="3044569">&lt;</span>&nbsp;<span class="ident" id="3044571">length</span><span class="op" id="3044577">;</span>&nbsp;<span class="ident" id="3044579">i</span><span class="op" id="3044580">++</span>&nbsp;<span class="op" id="3044583">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044587">if</span>&nbsp;<span class="ident" id="3044590">state</span><span class="op" id="3044595">.</span><span class="ident" id="3044596">b</span><span class="op" id="3044597">.</span><span class="ident" id="3044598">Len</span><span class="op" id="3044601">(</span><span class="op" id="3044602">)</span>&nbsp;<span class="op" id="3044604">==</span>&nbsp;<span class="num" id="3044607">0</span>&nbsp;<span class="op" id="3044609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044614">errorf</span><span class="op" id="3044620">(</span><span class="string" id="3044621">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3044695">,</span>&nbsp;<span class="ident" id="3044697">length</span><span class="op" id="3044703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3044711">slice</span><span class="op" id="3044716">[</span><span class="ident" id="3044717">i</span><span class="op" id="3044718">]</span>&nbsp;<span class="op" id="3044720">=</span>&nbsp;<span class="builtintype" id="3044722">float32</span><span class="op" id="3044729">(</span><span class="ident" id="3044730">float32FromBits</span><span class="op" id="3044745">(</span><span class="ident" id="3044746">state</span><span class="op" id="3044751">.</span><span class="ident" id="3044752">decodeUint</span><span class="op" id="3044762">(</span><span class="op" id="3044763">)</span><span class="op" id="3044764">,</span>&nbsp;<span class="ident" id="3044766">ovfl</span><span class="op" id="3044770">)</span><span class="op" id="3044771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044774">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044777">return</span>&nbsp;<span class="builtintype" id="3044784">true</span><br>
<span class="lineno"></span><span class="op" id="3044789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3044792">func</span>&nbsp;<span class="ident" id="3044797">decFloat64Array</span><span class="op" id="3044812">(</span><span class="ident" id="3044813">state</span>&nbsp;<span class="op" id="3044819">*</span><span class="ident" id="3044820">decoderState</span><span class="op" id="3044832">,</span>&nbsp;<span class="ident" id="3044834">v</span>&nbsp;<span class="ident" id="3044836">reflect</span><span class="op" id="3044843">.</span><span class="ident" id="3044844">Value</span><span class="op" id="3044849">,</span>&nbsp;<span class="ident" id="3044851">length</span>&nbsp;<span class="builtintype" id="3044858">int</span><span class="op" id="3044861">,</span>&nbsp;<span class="ident" id="3044863">ovfl</span>&nbsp;<span class="builtintype" id="3044868">error</span><span class="op" id="3044873">)</span>&nbsp;<span class="builtintype" id="3044875">bool</span>&nbsp;<span class="op" id="3044880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3044883">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044924">if</span>&nbsp;<span class="op" id="3044927">!</span><span class="ident" id="3044928">v</span><span class="op" id="3044929">.</span><span class="ident" id="3044930">CanAddr</span><span class="op" id="3044937">(</span><span class="op" id="3044938">)</span>&nbsp;<span class="op" id="3044940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044944">return</span>&nbsp;<span class="builtintype" id="3044951">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3044958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3044961">return</span>&nbsp;<span class="ident" id="3044968">decFloat64Slice</span><span class="op" id="3044983">(</span><span class="ident" id="3044984">state</span><span class="op" id="3044989">,</span>&nbsp;<span class="ident" id="3044991">v</span><span class="op" id="3044992">.</span><span class="ident" id="3044993">Slice</span><span class="op" id="3044998">(</span><span class="num" id="3044999">0</span><span class="op" id="3045000">,</span>&nbsp;<span class="ident" id="3045002">v</span><span class="op" id="3045003">.</span><span class="ident" id="3045004">Len</span><span class="op" id="3045007">(</span><span class="op" id="3045008">)</span><span class="op" id="3045009">)</span><span class="op" id="3045010">,</span>&nbsp;<span class="ident" id="3045012">length</span><span class="op" id="3045018">,</span>&nbsp;<span class="ident" id="3045020">ovfl</span><span class="op" id="3045024">)</span><br>
<span class="lineno"></span><span class="op" id="3045026">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="3045029">func</span>&nbsp;<span class="ident" id="3045034">decFloat64Slice</span><span class="op" id="3045049">(</span><span class="ident" id="3045050">state</span>&nbsp;<span class="op" id="3045056">*</span><span class="ident" id="3045057">decoderState</span><span class="op" id="3045069">,</span>&nbsp;<span class="ident" id="3045071">v</span>&nbsp;<span class="ident" id="3045073">reflect</span><span class="op" id="3045080">.</span><span class="ident" id="3045081">Value</span><span class="op" id="3045086">,</span>&nbsp;<span class="ident" id="3045088">length</span>&nbsp;<span class="builtintype" id="3045095">int</span><span class="op" id="3045098">,</span>&nbsp;<span class="ident" id="3045100">ovfl</span>&nbsp;<span class="builtintype" id="3045105">error</span><span class="op" id="3045110">)</span>&nbsp;<span class="builtintype" id="3045112">bool</span>&nbsp;<span class="op" id="3045117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045120">slice</span><span class="op" id="3045125">,</span>&nbsp;<span class="ident" id="3045127">ok</span>&nbsp;<span class="op" id="3045130">:=</span>&nbsp;<span class="ident" id="3045133">v</span><span class="op" id="3045134">.</span><span class="ident" id="3045135">Interface</span><span class="op" id="3045144">(</span><span class="op" id="3045145">)</span><span class="op" id="3045146">.</span><span class="op" id="3045147">(</span><span class="op" id="3045148">[</span><span class="op" id="3045149">]</span><span class="builtintype" id="3045150">float64</span><span class="op" id="3045157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045160">if</span>&nbsp;<span class="op" id="3045163">!</span><span class="ident" id="3045164">ok</span>&nbsp;<span class="op" id="3045167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3045171">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045252">return</span>&nbsp;<span class="builtintype" id="3045259">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045269">for</span>&nbsp;<span class="ident" id="3045273">i</span>&nbsp;<span class="op" id="3045275">:=</span>&nbsp;<span class="num" id="3045278">0</span><span class="op" id="3045279">;</span>&nbsp;<span class="ident" id="3045281">i</span>&nbsp;<span class="op" id="3045283">&lt;</span>&nbsp;<span class="ident" id="3045285">length</span><span class="op" id="3045291">;</span>&nbsp;<span class="ident" id="3045293">i</span><span class="op" id="3045294">++</span>&nbsp;<span class="op" id="3045297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045301">if</span>&nbsp;<span class="ident" id="3045304">state</span><span class="op" id="3045309">.</span><span class="ident" id="3045310">b</span><span class="op" id="3045311">.</span><span class="ident" id="3045312">Len</span><span class="op" id="3045315">(</span><span class="op" id="3045316">)</span>&nbsp;<span class="op" id="3045318">==</span>&nbsp;<span class="num" id="3045321">0</span>&nbsp;<span class="op" id="3045323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045328">errorf</span><span class="op" id="3045334">(</span><span class="string" id="3045335">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3045409">,</span>&nbsp;<span class="ident" id="3045411">length</span><span class="op" id="3045417">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045425">slice</span><span class="op" id="3045430">[</span><span class="ident" id="3045431">i</span><span class="op" id="3045432">]</span>&nbsp;<span class="op" id="3045434">=</span>&nbsp;<span class="ident" id="3045436">float64FromBits</span><span class="op" id="3045451">(</span><span class="ident" id="3045452">state</span><span class="op" id="3045457">.</span><span class="ident" id="3045458">decodeUint</span><span class="op" id="3045468">(</span><span class="op" id="3045469">)</span><span class="op" id="3045470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045476">return</span>&nbsp;<span class="builtintype" id="3045483">true</span><br>
<span class="lineno"></span><span class="op" id="3045488">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="3045491">func</span>&nbsp;<span class="ident" id="3045496">decIntArray</span><span class="op" id="3045507">(</span><span class="ident" id="3045508">state</span>&nbsp;<span class="op" id="3045514">*</span><span class="ident" id="3045515">decoderState</span><span class="op" id="3045527">,</span>&nbsp;<span class="ident" id="3045529">v</span>&nbsp;<span class="ident" id="3045531">reflect</span><span class="op" id="3045538">.</span><span class="ident" id="3045539">Value</span><span class="op" id="3045544">,</span>&nbsp;<span class="ident" id="3045546">length</span>&nbsp;<span class="builtintype" id="3045553">int</span><span class="op" id="3045556">,</span>&nbsp;<span class="ident" id="3045558">ovfl</span>&nbsp;<span class="builtintype" id="3045563">error</span><span class="op" id="3045568">)</span>&nbsp;<span class="builtintype" id="3045570">bool</span>&nbsp;<span class="op" id="3045575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3045578">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045619">if</span>&nbsp;<span class="op" id="3045622">!</span><span class="ident" id="3045623">v</span><span class="op" id="3045624">.</span><span class="ident" id="3045625">CanAddr</span><span class="op" id="3045632">(</span><span class="op" id="3045633">)</span>&nbsp;<span class="op" id="3045635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045639">return</span>&nbsp;<span class="builtintype" id="3045646">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045656">return</span>&nbsp;<span class="ident" id="3045663">decIntSlice</span><span class="op" id="3045674">(</span><span class="ident" id="3045675">state</span><span class="op" id="3045680">,</span>&nbsp;<span class="ident" id="3045682">v</span><span class="op" id="3045683">.</span><span class="ident" id="3045684">Slice</span><span class="op" id="3045689">(</span><span class="num" id="3045690">0</span><span class="op" id="3045691">,</span>&nbsp;<span class="ident" id="3045693">v</span><span class="op" id="3045694">.</span><span class="ident" id="3045695">Len</span><span class="op" id="3045698">(</span><span class="op" id="3045699">)</span><span class="op" id="3045700">)</span><span class="op" id="3045701">,</span>&nbsp;<span class="ident" id="3045703">length</span><span class="op" id="3045709">,</span>&nbsp;<span class="ident" id="3045711">ovfl</span><span class="op" id="3045715">)</span><br>
<span class="lineno"></span><span class="op" id="3045717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3045720">func</span>&nbsp;<span class="ident" id="3045725">decIntSlice</span><span class="op" id="3045736">(</span><span class="ident" id="3045737">state</span>&nbsp;<span class="op" id="3045743">*</span><span class="ident" id="3045744">decoderState</span><span class="op" id="3045756">,</span>&nbsp;<span class="ident" id="3045758">v</span>&nbsp;<span class="ident" id="3045760">reflect</span><span class="op" id="3045767">.</span><span class="ident" id="3045768">Value</span><span class="op" id="3045773">,</span>&nbsp;<span class="ident" id="3045775">length</span>&nbsp;<span class="builtintype" id="3045782">int</span><span class="op" id="3045785">,</span>&nbsp;<span class="ident" id="3045787">ovfl</span>&nbsp;<span class="builtintype" id="3045792">error</span><span class="op" id="3045797">)</span>&nbsp;<span class="builtintype" id="3045799">bool</span>&nbsp;<span class="op" id="3045804">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3045807">slice</span><span class="op" id="3045812">,</span>&nbsp;<span class="ident" id="3045814">ok</span>&nbsp;<span class="op" id="3045817">:=</span>&nbsp;<span class="ident" id="3045820">v</span><span class="op" id="3045821">.</span><span class="ident" id="3045822">Interface</span><span class="op" id="3045831">(</span><span class="op" id="3045832">)</span><span class="op" id="3045833">.</span><span class="op" id="3045834">(</span><span class="op" id="3045835">[</span><span class="op" id="3045836">]</span><span class="builtintype" id="3045837">int</span><span class="op" id="3045840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045843">if</span>&nbsp;<span class="op" id="3045846">!</span><span class="ident" id="3045847">ok</span>&nbsp;<span class="op" id="3045850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3045854">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045927">return</span>&nbsp;<span class="builtintype" id="3045934">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3045941">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045944">for</span>&nbsp;<span class="ident" id="3045948">i</span>&nbsp;<span class="op" id="3045950">:=</span>&nbsp;<span class="num" id="3045953">0</span><span class="op" id="3045954">;</span>&nbsp;<span class="ident" id="3045956">i</span>&nbsp;<span class="op" id="3045958">&lt;</span>&nbsp;<span class="ident" id="3045960">length</span><span class="op" id="3045966">;</span>&nbsp;<span class="ident" id="3045968">i</span><span class="op" id="3045969">++</span>&nbsp;<span class="op" id="3045972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3045976">if</span>&nbsp;<span class="ident" id="3045979">state</span><span class="op" id="3045984">.</span><span class="ident" id="3045985">b</span><span class="op" id="3045986">.</span><span class="ident" id="3045987">Len</span><span class="op" id="3045990">(</span><span class="op" id="3045991">)</span>&nbsp;<span class="op" id="3045993">==</span>&nbsp;<span class="num" id="3045996">0</span>&nbsp;<span class="op" id="3045998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046003">errorf</span><span class="op" id="3046009">(</span><span class="string" id="3046010">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3046080">,</span>&nbsp;<span class="ident" id="3046082">length</span><span class="op" id="3046088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046096">x</span>&nbsp;<span class="op" id="3046098">:=</span>&nbsp;<span class="ident" id="3046101">state</span><span class="op" id="3046106">.</span><span class="ident" id="3046107">decodeInt</span><span class="op" id="3046116">(</span><span class="op" id="3046117">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3046121">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046144">if</span>&nbsp;<span class="ident" id="3046147">x</span>&nbsp;<span class="op" id="3046149">&lt;</span>&nbsp;<span class="op" id="3046151">^</span><span class="ident" id="3046152">int64</span><span class="op" id="3046157">(</span><span class="op" id="3046158">^</span><span class="builtintype" id="3046159">uint</span><span class="op" id="3046163">(</span><span class="num" id="3046164">0</span><span class="op" id="3046165">)</span><span class="op" id="3046166">&gt;&gt;</span><span class="num" id="3046168">1</span><span class="op" id="3046169">)</span>&nbsp;<span class="op" id="3046171">||</span>&nbsp;<span class="ident" id="3046174">int64</span><span class="op" id="3046179">(</span><span class="op" id="3046180">^</span><span class="builtintype" id="3046181">uint</span><span class="op" id="3046185">(</span><span class="num" id="3046186">0</span><span class="op" id="3046187">)</span><span class="op" id="3046188">&gt;&gt;</span><span class="num" id="3046190">1</span><span class="op" id="3046191">)</span>&nbsp;<span class="op" id="3046193">&lt;</span>&nbsp;<span class="ident" id="3046195">x</span>&nbsp;<span class="op" id="3046197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046202">error_</span><span class="op" id="3046208">(</span><span class="ident" id="3046209">ovfl</span><span class="op" id="3046213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046221">slice</span><span class="op" id="3046226">[</span><span class="ident" id="3046227">i</span><span class="op" id="3046228">]</span>&nbsp;<span class="op" id="3046230">=</span>&nbsp;<span class="builtintype" id="3046232">int</span><span class="op" id="3046235">(</span><span class="ident" id="3046236">x</span><span class="op" id="3046237">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046243">return</span>&nbsp;<span class="builtintype" id="3046250">true</span><br>
<span class="lineno"></span><span class="op" id="3046255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3046258">func</span>&nbsp;<span class="ident" id="3046263">decInt16Array</span><span class="op" id="3046276">(</span><span class="ident" id="3046277">state</span>&nbsp;<span class="op" id="3046283">*</span><span class="ident" id="3046284">decoderState</span><span class="op" id="3046296">,</span>&nbsp;<span class="ident" id="3046298">v</span>&nbsp;<span class="ident" id="3046300">reflect</span><span class="op" id="3046307">.</span><span class="ident" id="3046308">Value</span><span class="op" id="3046313">,</span>&nbsp;<span class="ident" id="3046315">length</span>&nbsp;<span class="builtintype" id="3046322">int</span><span class="op" id="3046325">,</span>&nbsp;<span class="ident" id="3046327">ovfl</span>&nbsp;<span class="builtintype" id="3046332">error</span><span class="op" id="3046337">)</span>&nbsp;<span class="builtintype" id="3046339">bool</span>&nbsp;<span class="op" id="3046344">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3046347">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046388">if</span>&nbsp;<span class="op" id="3046391">!</span><span class="ident" id="3046392">v</span><span class="op" id="3046393">.</span><span class="ident" id="3046394">CanAddr</span><span class="op" id="3046401">(</span><span class="op" id="3046402">)</span>&nbsp;<span class="op" id="3046404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046408">return</span>&nbsp;<span class="builtintype" id="3046415">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046425">return</span>&nbsp;<span class="ident" id="3046432">decInt16Slice</span><span class="op" id="3046445">(</span><span class="ident" id="3046446">state</span><span class="op" id="3046451">,</span>&nbsp;<span class="ident" id="3046453">v</span><span class="op" id="3046454">.</span><span class="ident" id="3046455">Slice</span><span class="op" id="3046460">(</span><span class="num" id="3046461">0</span><span class="op" id="3046462">,</span>&nbsp;<span class="ident" id="3046464">v</span><span class="op" id="3046465">.</span><span class="ident" id="3046466">Len</span><span class="op" id="3046469">(</span><span class="op" id="3046470">)</span><span class="op" id="3046471">)</span><span class="op" id="3046472">,</span>&nbsp;<span class="ident" id="3046474">length</span><span class="op" id="3046480">,</span>&nbsp;<span class="ident" id="3046482">ovfl</span><span class="op" id="3046486">)</span><br>
<span class="lineno">205</span><span class="op" id="3046488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3046491">func</span>&nbsp;<span class="ident" id="3046496">decInt16Slice</span><span class="op" id="3046509">(</span><span class="ident" id="3046510">state</span>&nbsp;<span class="op" id="3046516">*</span><span class="ident" id="3046517">decoderState</span><span class="op" id="3046529">,</span>&nbsp;<span class="ident" id="3046531">v</span>&nbsp;<span class="ident" id="3046533">reflect</span><span class="op" id="3046540">.</span><span class="ident" id="3046541">Value</span><span class="op" id="3046546">,</span>&nbsp;<span class="ident" id="3046548">length</span>&nbsp;<span class="builtintype" id="3046555">int</span><span class="op" id="3046558">,</span>&nbsp;<span class="ident" id="3046560">ovfl</span>&nbsp;<span class="builtintype" id="3046565">error</span><span class="op" id="3046570">)</span>&nbsp;<span class="builtintype" id="3046572">bool</span>&nbsp;<span class="op" id="3046577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046580">slice</span><span class="op" id="3046585">,</span>&nbsp;<span class="ident" id="3046587">ok</span>&nbsp;<span class="op" id="3046590">:=</span>&nbsp;<span class="ident" id="3046593">v</span><span class="op" id="3046594">.</span><span class="ident" id="3046595">Interface</span><span class="op" id="3046604">(</span><span class="op" id="3046605">)</span><span class="op" id="3046606">.</span><span class="op" id="3046607">(</span><span class="op" id="3046608">[</span><span class="op" id="3046609">]</span><span class="builtintype" id="3046610">int16</span><span class="op" id="3046615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046618">if</span>&nbsp;<span class="op" id="3046621">!</span><span class="ident" id="3046622">ok</span>&nbsp;<span class="op" id="3046625">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3046629">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046706">return</span>&nbsp;<span class="builtintype" id="3046713">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046723">for</span>&nbsp;<span class="ident" id="3046727">i</span>&nbsp;<span class="op" id="3046729">:=</span>&nbsp;<span class="num" id="3046732">0</span><span class="op" id="3046733">;</span>&nbsp;<span class="ident" id="3046735">i</span>&nbsp;<span class="op" id="3046737">&lt;</span>&nbsp;<span class="ident" id="3046739">length</span><span class="op" id="3046745">;</span>&nbsp;<span class="ident" id="3046747">i</span><span class="op" id="3046748">++</span>&nbsp;<span class="op" id="3046751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046755">if</span>&nbsp;<span class="ident" id="3046758">state</span><span class="op" id="3046763">.</span><span class="ident" id="3046764">b</span><span class="op" id="3046765">.</span><span class="ident" id="3046766">Len</span><span class="op" id="3046769">(</span><span class="op" id="3046770">)</span>&nbsp;<span class="op" id="3046772">==</span>&nbsp;<span class="num" id="3046775">0</span>&nbsp;<span class="op" id="3046777">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046782">errorf</span><span class="op" id="3046788">(</span><span class="string" id="3046789">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3046861">,</span>&nbsp;<span class="ident" id="3046863">length</span><span class="op" id="3046869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046877">x</span>&nbsp;<span class="op" id="3046879">:=</span>&nbsp;<span class="ident" id="3046882">state</span><span class="op" id="3046887">.</span><span class="ident" id="3046888">decodeInt</span><span class="op" id="3046897">(</span><span class="op" id="3046898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046902">if</span>&nbsp;<span class="ident" id="3046905">x</span>&nbsp;<span class="op" id="3046907">&lt;</span>&nbsp;<span class="ident" id="3046909">math</span><span class="op" id="3046913">.</span><span class="ident" id="3046914">MinInt16</span>&nbsp;<span class="op" id="3046923">||</span>&nbsp;<span class="ident" id="3046926">math</span><span class="op" id="3046930">.</span><span class="ident" id="3046931">MaxInt16</span>&nbsp;<span class="op" id="3046940">&lt;</span>&nbsp;<span class="ident" id="3046942">x</span>&nbsp;<span class="op" id="3046944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046949">error_</span><span class="op" id="3046955">(</span><span class="ident" id="3046956">ovfl</span><span class="op" id="3046960">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3046968">slice</span><span class="op" id="3046973">[</span><span class="ident" id="3046974">i</span><span class="op" id="3046975">]</span>&nbsp;<span class="op" id="3046977">=</span>&nbsp;<span class="builtintype" id="3046979">int16</span><span class="op" id="3046984">(</span><span class="ident" id="3046985">x</span><span class="op" id="3046986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3046989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3046992">return</span>&nbsp;<span class="builtintype" id="3046999">true</span><br>
<span class="lineno"></span><span class="op" id="3047004">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="3047007">func</span>&nbsp;<span class="ident" id="3047012">decInt32Array</span><span class="op" id="3047025">(</span><span class="ident" id="3047026">state</span>&nbsp;<span class="op" id="3047032">*</span><span class="ident" id="3047033">decoderState</span><span class="op" id="3047045">,</span>&nbsp;<span class="ident" id="3047047">v</span>&nbsp;<span class="ident" id="3047049">reflect</span><span class="op" id="3047056">.</span><span class="ident" id="3047057">Value</span><span class="op" id="3047062">,</span>&nbsp;<span class="ident" id="3047064">length</span>&nbsp;<span class="builtintype" id="3047071">int</span><span class="op" id="3047074">,</span>&nbsp;<span class="ident" id="3047076">ovfl</span>&nbsp;<span class="builtintype" id="3047081">error</span><span class="op" id="3047086">)</span>&nbsp;<span class="builtintype" id="3047088">bool</span>&nbsp;<span class="op" id="3047093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047096">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047137">if</span>&nbsp;<span class="op" id="3047140">!</span><span class="ident" id="3047141">v</span><span class="op" id="3047142">.</span><span class="ident" id="3047143">CanAddr</span><span class="op" id="3047150">(</span><span class="op" id="3047151">)</span>&nbsp;<span class="op" id="3047153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047157">return</span>&nbsp;<span class="builtintype" id="3047164">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047174">return</span>&nbsp;<span class="ident" id="3047181">decInt32Slice</span><span class="op" id="3047194">(</span><span class="ident" id="3047195">state</span><span class="op" id="3047200">,</span>&nbsp;<span class="ident" id="3047202">v</span><span class="op" id="3047203">.</span><span class="ident" id="3047204">Slice</span><span class="op" id="3047209">(</span><span class="num" id="3047210">0</span><span class="op" id="3047211">,</span>&nbsp;<span class="ident" id="3047213">v</span><span class="op" id="3047214">.</span><span class="ident" id="3047215">Len</span><span class="op" id="3047218">(</span><span class="op" id="3047219">)</span><span class="op" id="3047220">)</span><span class="op" id="3047221">,</span>&nbsp;<span class="ident" id="3047223">length</span><span class="op" id="3047229">,</span>&nbsp;<span class="ident" id="3047231">ovfl</span><span class="op" id="3047235">)</span><br>
<span class="lineno"></span><span class="op" id="3047237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3047240">func</span>&nbsp;<span class="ident" id="3047245">decInt32Slice</span><span class="op" id="3047258">(</span><span class="ident" id="3047259">state</span>&nbsp;<span class="op" id="3047265">*</span><span class="ident" id="3047266">decoderState</span><span class="op" id="3047278">,</span>&nbsp;<span class="ident" id="3047280">v</span>&nbsp;<span class="ident" id="3047282">reflect</span><span class="op" id="3047289">.</span><span class="ident" id="3047290">Value</span><span class="op" id="3047295">,</span>&nbsp;<span class="ident" id="3047297">length</span>&nbsp;<span class="builtintype" id="3047304">int</span><span class="op" id="3047307">,</span>&nbsp;<span class="ident" id="3047309">ovfl</span>&nbsp;<span class="builtintype" id="3047314">error</span><span class="op" id="3047319">)</span>&nbsp;<span class="builtintype" id="3047321">bool</span>&nbsp;<span class="op" id="3047326">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047329">slice</span><span class="op" id="3047334">,</span>&nbsp;<span class="ident" id="3047336">ok</span>&nbsp;<span class="op" id="3047339">:=</span>&nbsp;<span class="ident" id="3047342">v</span><span class="op" id="3047343">.</span><span class="ident" id="3047344">Interface</span><span class="op" id="3047353">(</span><span class="op" id="3047354">)</span><span class="op" id="3047355">.</span><span class="op" id="3047356">(</span><span class="op" id="3047357">[</span><span class="op" id="3047358">]</span><span class="builtintype" id="3047359">int32</span><span class="op" id="3047364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047367">if</span>&nbsp;<span class="op" id="3047370">!</span><span class="ident" id="3047371">ok</span>&nbsp;<span class="op" id="3047374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047378">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047455">return</span>&nbsp;<span class="builtintype" id="3047462">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047469">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047472">for</span>&nbsp;<span class="ident" id="3047476">i</span>&nbsp;<span class="op" id="3047478">:=</span>&nbsp;<span class="num" id="3047481">0</span><span class="op" id="3047482">;</span>&nbsp;<span class="ident" id="3047484">i</span>&nbsp;<span class="op" id="3047486">&lt;</span>&nbsp;<span class="ident" id="3047488">length</span><span class="op" id="3047494">;</span>&nbsp;<span class="ident" id="3047496">i</span><span class="op" id="3047497">++</span>&nbsp;<span class="op" id="3047500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047504">if</span>&nbsp;<span class="ident" id="3047507">state</span><span class="op" id="3047512">.</span><span class="ident" id="3047513">b</span><span class="op" id="3047514">.</span><span class="ident" id="3047515">Len</span><span class="op" id="3047518">(</span><span class="op" id="3047519">)</span>&nbsp;<span class="op" id="3047521">==</span>&nbsp;<span class="num" id="3047524">0</span>&nbsp;<span class="op" id="3047526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047531">errorf</span><span class="op" id="3047537">(</span><span class="string" id="3047538">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3047610">,</span>&nbsp;<span class="ident" id="3047612">length</span><span class="op" id="3047618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047626">x</span>&nbsp;<span class="op" id="3047628">:=</span>&nbsp;<span class="ident" id="3047631">state</span><span class="op" id="3047636">.</span><span class="ident" id="3047637">decodeInt</span><span class="op" id="3047646">(</span><span class="op" id="3047647">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047651">if</span>&nbsp;<span class="ident" id="3047654">x</span>&nbsp;<span class="op" id="3047656">&lt;</span>&nbsp;<span class="ident" id="3047658">math</span><span class="op" id="3047662">.</span><span class="ident" id="3047663">MinInt32</span>&nbsp;<span class="op" id="3047672">||</span>&nbsp;<span class="ident" id="3047675">math</span><span class="op" id="3047679">.</span><span class="ident" id="3047680">MaxInt32</span>&nbsp;<span class="op" id="3047689">&lt;</span>&nbsp;<span class="ident" id="3047691">x</span>&nbsp;<span class="op" id="3047693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047698">error_</span><span class="op" id="3047704">(</span><span class="ident" id="3047705">ovfl</span><span class="op" id="3047709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3047717">slice</span><span class="op" id="3047722">[</span><span class="ident" id="3047723">i</span><span class="op" id="3047724">]</span>&nbsp;<span class="op" id="3047726">=</span>&nbsp;<span class="builtintype" id="3047728">int32</span><span class="op" id="3047733">(</span><span class="ident" id="3047734">x</span><span class="op" id="3047735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047738">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047741">return</span>&nbsp;<span class="builtintype" id="3047748">true</span><br>
<span class="lineno"></span><span class="op" id="3047753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3047756">func</span>&nbsp;<span class="ident" id="3047761">decInt64Array</span><span class="op" id="3047774">(</span><span class="ident" id="3047775">state</span>&nbsp;<span class="op" id="3047781">*</span><span class="ident" id="3047782">decoderState</span><span class="op" id="3047794">,</span>&nbsp;<span class="ident" id="3047796">v</span>&nbsp;<span class="ident" id="3047798">reflect</span><span class="op" id="3047805">.</span><span class="ident" id="3047806">Value</span><span class="op" id="3047811">,</span>&nbsp;<span class="ident" id="3047813">length</span>&nbsp;<span class="builtintype" id="3047820">int</span><span class="op" id="3047823">,</span>&nbsp;<span class="ident" id="3047825">ovfl</span>&nbsp;<span class="builtintype" id="3047830">error</span><span class="op" id="3047835">)</span>&nbsp;<span class="builtintype" id="3047837">bool</span>&nbsp;<span class="op" id="3047842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3047845">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047886">if</span>&nbsp;<span class="op" id="3047889">!</span><span class="ident" id="3047890">v</span><span class="op" id="3047891">.</span><span class="ident" id="3047892">CanAddr</span><span class="op" id="3047899">(</span><span class="op" id="3047900">)</span>&nbsp;<span class="op" id="3047902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047906">return</span>&nbsp;<span class="builtintype" id="3047913">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3047920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3047923">return</span>&nbsp;<span class="ident" id="3047930">decInt64Slice</span><span class="op" id="3047943">(</span><span class="ident" id="3047944">state</span><span class="op" id="3047949">,</span>&nbsp;<span class="ident" id="3047951">v</span><span class="op" id="3047952">.</span><span class="ident" id="3047953">Slice</span><span class="op" id="3047958">(</span><span class="num" id="3047959">0</span><span class="op" id="3047960">,</span>&nbsp;<span class="ident" id="3047962">v</span><span class="op" id="3047963">.</span><span class="ident" id="3047964">Len</span><span class="op" id="3047967">(</span><span class="op" id="3047968">)</span><span class="op" id="3047969">)</span><span class="op" id="3047970">,</span>&nbsp;<span class="ident" id="3047972">length</span><span class="op" id="3047978">,</span>&nbsp;<span class="ident" id="3047980">ovfl</span><span class="op" id="3047984">)</span><br>
<span class="lineno"></span><span class="op" id="3047986">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="3047989">func</span>&nbsp;<span class="ident" id="3047994">decInt64Slice</span><span class="op" id="3048007">(</span><span class="ident" id="3048008">state</span>&nbsp;<span class="op" id="3048014">*</span><span class="ident" id="3048015">decoderState</span><span class="op" id="3048027">,</span>&nbsp;<span class="ident" id="3048029">v</span>&nbsp;<span class="ident" id="3048031">reflect</span><span class="op" id="3048038">.</span><span class="ident" id="3048039">Value</span><span class="op" id="3048044">,</span>&nbsp;<span class="ident" id="3048046">length</span>&nbsp;<span class="builtintype" id="3048053">int</span><span class="op" id="3048056">,</span>&nbsp;<span class="ident" id="3048058">ovfl</span>&nbsp;<span class="builtintype" id="3048063">error</span><span class="op" id="3048068">)</span>&nbsp;<span class="builtintype" id="3048070">bool</span>&nbsp;<span class="op" id="3048075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3048078">slice</span><span class="op" id="3048083">,</span>&nbsp;<span class="ident" id="3048085">ok</span>&nbsp;<span class="op" id="3048088">:=</span>&nbsp;<span class="ident" id="3048091">v</span><span class="op" id="3048092">.</span><span class="ident" id="3048093">Interface</span><span class="op" id="3048102">(</span><span class="op" id="3048103">)</span><span class="op" id="3048104">.</span><span class="op" id="3048105">(</span><span class="op" id="3048106">[</span><span class="op" id="3048107">]</span><span class="ident" id="3048108">int64</span><span class="op" id="3048113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048116">if</span>&nbsp;<span class="op" id="3048119">!</span><span class="ident" id="3048120">ok</span>&nbsp;<span class="op" id="3048123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3048127">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048204">return</span>&nbsp;<span class="builtintype" id="3048211">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3048218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048221">for</span>&nbsp;<span class="ident" id="3048225">i</span>&nbsp;<span class="op" id="3048227">:=</span>&nbsp;<span class="num" id="3048230">0</span><span class="op" id="3048231">;</span>&nbsp;<span class="ident" id="3048233">i</span>&nbsp;<span class="op" id="3048235">&lt;</span>&nbsp;<span class="ident" id="3048237">length</span><span class="op" id="3048243">;</span>&nbsp;<span class="ident" id="3048245">i</span><span class="op" id="3048246">++</span>&nbsp;<span class="op" id="3048249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048253">if</span>&nbsp;<span class="ident" id="3048256">state</span><span class="op" id="3048261">.</span><span class="ident" id="3048262">b</span><span class="op" id="3048263">.</span><span class="ident" id="3048264">Len</span><span class="op" id="3048267">(</span><span class="op" id="3048268">)</span>&nbsp;<span class="op" id="3048270">==</span>&nbsp;<span class="num" id="3048273">0</span>&nbsp;<span class="op" id="3048275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3048280">errorf</span><span class="op" id="3048286">(</span><span class="string" id="3048287">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3048359">,</span>&nbsp;<span class="ident" id="3048361">length</span><span class="op" id="3048367">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3048371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3048375">slice</span><span class="op" id="3048380">[</span><span class="ident" id="3048381">i</span><span class="op" id="3048382">]</span>&nbsp;<span class="op" id="3048384">=</span>&nbsp;<span class="ident" id="3048386">state</span><span class="op" id="3048391">.</span><span class="ident" id="3048392">decodeInt</span><span class="op" id="3048401">(</span><span class="op" id="3048402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3048405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048408">return</span>&nbsp;<span class="builtintype" id="3048415">true</span><br>
<span class="lineno"></span><span class="op" id="3048420">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="3048423">func</span>&nbsp;<span class="ident" id="3048428">decInt8Array</span><span class="op" id="3048440">(</span><span class="ident" id="3048441">state</span>&nbsp;<span class="op" id="3048447">*</span><span class="ident" id="3048448">decoderState</span><span class="op" id="3048460">,</span>&nbsp;<span class="ident" id="3048462">v</span>&nbsp;<span class="ident" id="3048464">reflect</span><span class="op" id="3048471">.</span><span class="ident" id="3048472">Value</span><span class="op" id="3048477">,</span>&nbsp;<span class="ident" id="3048479">length</span>&nbsp;<span class="builtintype" id="3048486">int</span><span class="op" id="3048489">,</span>&nbsp;<span class="ident" id="3048491">ovfl</span>&nbsp;<span class="builtintype" id="3048496">error</span><span class="op" id="3048501">)</span>&nbsp;<span class="builtintype" id="3048503">bool</span>&nbsp;<span class="op" id="3048508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3048511">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048552">if</span>&nbsp;<span class="op" id="3048555">!</span><span class="ident" id="3048556">v</span><span class="op" id="3048557">.</span><span class="ident" id="3048558">CanAddr</span><span class="op" id="3048565">(</span><span class="op" id="3048566">)</span>&nbsp;<span class="op" id="3048568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048572">return</span>&nbsp;<span class="builtintype" id="3048579">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3048586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048589">return</span>&nbsp;<span class="ident" id="3048596">decInt8Slice</span><span class="op" id="3048608">(</span><span class="ident" id="3048609">state</span><span class="op" id="3048614">,</span>&nbsp;<span class="ident" id="3048616">v</span><span class="op" id="3048617">.</span><span class="ident" id="3048618">Slice</span><span class="op" id="3048623">(</span><span class="num" id="3048624">0</span><span class="op" id="3048625">,</span>&nbsp;<span class="ident" id="3048627">v</span><span class="op" id="3048628">.</span><span class="ident" id="3048629">Len</span><span class="op" id="3048632">(</span><span class="op" id="3048633">)</span><span class="op" id="3048634">)</span><span class="op" id="3048635">,</span>&nbsp;<span class="ident" id="3048637">length</span><span class="op" id="3048643">,</span>&nbsp;<span class="ident" id="3048645">ovfl</span><span class="op" id="3048649">)</span><br>
<span class="lineno"></span><span class="op" id="3048651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3048654">func</span>&nbsp;<span class="ident" id="3048659">decInt8Slice</span><span class="op" id="3048671">(</span><span class="ident" id="3048672">state</span>&nbsp;<span class="op" id="3048678">*</span><span class="ident" id="3048679">decoderState</span><span class="op" id="3048691">,</span>&nbsp;<span class="ident" id="3048693">v</span>&nbsp;<span class="ident" id="3048695">reflect</span><span class="op" id="3048702">.</span><span class="ident" id="3048703">Value</span><span class="op" id="3048708">,</span>&nbsp;<span class="ident" id="3048710">length</span>&nbsp;<span class="builtintype" id="3048717">int</span><span class="op" id="3048720">,</span>&nbsp;<span class="ident" id="3048722">ovfl</span>&nbsp;<span class="builtintype" id="3048727">error</span><span class="op" id="3048732">)</span>&nbsp;<span class="builtintype" id="3048734">bool</span>&nbsp;<span class="op" id="3048739">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3048742">slice</span><span class="op" id="3048747">,</span>&nbsp;<span class="ident" id="3048749">ok</span>&nbsp;<span class="op" id="3048752">:=</span>&nbsp;<span class="ident" id="3048755">v</span><span class="op" id="3048756">.</span><span class="ident" id="3048757">Interface</span><span class="op" id="3048766">(</span><span class="op" id="3048767">)</span><span class="op" id="3048768">.</span><span class="op" id="3048769">(</span><span class="op" id="3048770">[</span><span class="op" id="3048771">]</span><span class="builtintype" id="3048772">int8</span><span class="op" id="3048776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048779">if</span>&nbsp;<span class="op" id="3048782">!</span><span class="ident" id="3048783">ok</span>&nbsp;<span class="op" id="3048786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3048790">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048865">return</span>&nbsp;<span class="builtintype" id="3048872">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3048879">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048882">for</span>&nbsp;<span class="ident" id="3048886">i</span>&nbsp;<span class="op" id="3048888">:=</span>&nbsp;<span class="num" id="3048891">0</span><span class="op" id="3048892">;</span>&nbsp;<span class="ident" id="3048894">i</span>&nbsp;<span class="op" id="3048896">&lt;</span>&nbsp;<span class="ident" id="3048898">length</span><span class="op" id="3048904">;</span>&nbsp;<span class="ident" id="3048906">i</span><span class="op" id="3048907">++</span>&nbsp;<span class="op" id="3048910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3048914">if</span>&nbsp;<span class="ident" id="3048917">state</span><span class="op" id="3048922">.</span><span class="ident" id="3048923">b</span><span class="op" id="3048924">.</span><span class="ident" id="3048925">Len</span><span class="op" id="3048928">(</span><span class="op" id="3048929">)</span>&nbsp;<span class="op" id="3048931">==</span>&nbsp;<span class="num" id="3048934">0</span>&nbsp;<span class="op" id="3048936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3048941">errorf</span><span class="op" id="3048947">(</span><span class="string" id="3048948">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3049019">,</span>&nbsp;<span class="ident" id="3049021">length</span><span class="op" id="3049027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3049031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049035">x</span>&nbsp;<span class="op" id="3049037">:=</span>&nbsp;<span class="ident" id="3049040">state</span><span class="op" id="3049045">.</span><span class="ident" id="3049046">decodeInt</span><span class="op" id="3049055">(</span><span class="op" id="3049056">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049060">if</span>&nbsp;<span class="ident" id="3049063">x</span>&nbsp;<span class="op" id="3049065">&lt;</span>&nbsp;<span class="ident" id="3049067">math</span><span class="op" id="3049071">.</span><span class="ident" id="3049072">MinInt8</span>&nbsp;<span class="op" id="3049080">||</span>&nbsp;<span class="ident" id="3049083">math</span><span class="op" id="3049087">.</span><span class="ident" id="3049088">MaxInt8</span>&nbsp;<span class="op" id="3049096">&lt;</span>&nbsp;<span class="ident" id="3049098">x</span>&nbsp;<span class="op" id="3049100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049105">error_</span><span class="op" id="3049111">(</span><span class="ident" id="3049112">ovfl</span><span class="op" id="3049116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3049120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049124">slice</span><span class="op" id="3049129">[</span><span class="ident" id="3049130">i</span><span class="op" id="3049131">]</span>&nbsp;<span class="op" id="3049133">=</span>&nbsp;<span class="builtintype" id="3049135">int8</span><span class="op" id="3049139">(</span><span class="ident" id="3049140">x</span><span class="op" id="3049141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3049144">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049147">return</span>&nbsp;<span class="builtintype" id="3049154">true</span><br>
<span class="lineno"></span><span class="op" id="3049159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3049162">func</span>&nbsp;<span class="ident" id="3049167">decStringArray</span><span class="op" id="3049181">(</span><span class="ident" id="3049182">state</span>&nbsp;<span class="op" id="3049188">*</span><span class="ident" id="3049189">decoderState</span><span class="op" id="3049201">,</span>&nbsp;<span class="ident" id="3049203">v</span>&nbsp;<span class="ident" id="3049205">reflect</span><span class="op" id="3049212">.</span><span class="ident" id="3049213">Value</span><span class="op" id="3049218">,</span>&nbsp;<span class="ident" id="3049220">length</span>&nbsp;<span class="builtintype" id="3049227">int</span><span class="op" id="3049230">,</span>&nbsp;<span class="ident" id="3049232">ovfl</span>&nbsp;<span class="builtintype" id="3049237">error</span><span class="op" id="3049242">)</span>&nbsp;<span class="builtintype" id="3049244">bool</span>&nbsp;<span class="op" id="3049249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3049252">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049293">if</span>&nbsp;<span class="op" id="3049296">!</span><span class="ident" id="3049297">v</span><span class="op" id="3049298">.</span><span class="ident" id="3049299">CanAddr</span><span class="op" id="3049306">(</span><span class="op" id="3049307">)</span>&nbsp;<span class="op" id="3049309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049313">return</span>&nbsp;<span class="builtintype" id="3049320">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3049327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049330">return</span>&nbsp;<span class="ident" id="3049337">decStringSlice</span><span class="op" id="3049351">(</span><span class="ident" id="3049352">state</span><span class="op" id="3049357">,</span>&nbsp;<span class="ident" id="3049359">v</span><span class="op" id="3049360">.</span><span class="ident" id="3049361">Slice</span><span class="op" id="3049366">(</span><span class="num" id="3049367">0</span><span class="op" id="3049368">,</span>&nbsp;<span class="ident" id="3049370">v</span><span class="op" id="3049371">.</span><span class="ident" id="3049372">Len</span><span class="op" id="3049375">(</span><span class="op" id="3049376">)</span><span class="op" id="3049377">)</span><span class="op" id="3049378">,</span>&nbsp;<span class="ident" id="3049380">length</span><span class="op" id="3049386">,</span>&nbsp;<span class="ident" id="3049388">ovfl</span><span class="op" id="3049392">)</span><br>
<span class="lineno"></span><span class="op" id="3049394">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="3049397">func</span>&nbsp;<span class="ident" id="3049402">decStringSlice</span><span class="op" id="3049416">(</span><span class="ident" id="3049417">state</span>&nbsp;<span class="op" id="3049423">*</span><span class="ident" id="3049424">decoderState</span><span class="op" id="3049436">,</span>&nbsp;<span class="ident" id="3049438">v</span>&nbsp;<span class="ident" id="3049440">reflect</span><span class="op" id="3049447">.</span><span class="ident" id="3049448">Value</span><span class="op" id="3049453">,</span>&nbsp;<span class="ident" id="3049455">length</span>&nbsp;<span class="builtintype" id="3049462">int</span><span class="op" id="3049465">,</span>&nbsp;<span class="ident" id="3049467">ovfl</span>&nbsp;<span class="builtintype" id="3049472">error</span><span class="op" id="3049477">)</span>&nbsp;<span class="builtintype" id="3049479">bool</span>&nbsp;<span class="op" id="3049484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049487">slice</span><span class="op" id="3049492">,</span>&nbsp;<span class="ident" id="3049494">ok</span>&nbsp;<span class="op" id="3049497">:=</span>&nbsp;<span class="ident" id="3049500">v</span><span class="op" id="3049501">.</span><span class="ident" id="3049502">Interface</span><span class="op" id="3049511">(</span><span class="op" id="3049512">)</span><span class="op" id="3049513">.</span><span class="op" id="3049514">(</span><span class="op" id="3049515">[</span><span class="op" id="3049516">]</span><span class="builtintype" id="3049517">string</span><span class="op" id="3049523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049526">if</span>&nbsp;<span class="op" id="3049529">!</span><span class="ident" id="3049530">ok</span>&nbsp;<span class="op" id="3049533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3049537">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049616">return</span>&nbsp;<span class="builtintype" id="3049623">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3049630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049633">for</span>&nbsp;<span class="ident" id="3049637">i</span>&nbsp;<span class="op" id="3049639">:=</span>&nbsp;<span class="num" id="3049642">0</span><span class="op" id="3049643">;</span>&nbsp;<span class="ident" id="3049645">i</span>&nbsp;<span class="op" id="3049647">&lt;</span>&nbsp;<span class="ident" id="3049649">length</span><span class="op" id="3049655">;</span>&nbsp;<span class="ident" id="3049657">i</span><span class="op" id="3049658">++</span>&nbsp;<span class="op" id="3049661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049665">if</span>&nbsp;<span class="ident" id="3049668">state</span><span class="op" id="3049673">.</span><span class="ident" id="3049674">b</span><span class="op" id="3049675">.</span><span class="ident" id="3049676">Len</span><span class="op" id="3049679">(</span><span class="op" id="3049680">)</span>&nbsp;<span class="op" id="3049682">==</span>&nbsp;<span class="num" id="3049685">0</span>&nbsp;<span class="op" id="3049687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049692">errorf</span><span class="op" id="3049698">(</span><span class="string" id="3049699">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3049772">,</span>&nbsp;<span class="ident" id="3049774">length</span><span class="op" id="3049780">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3049784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049788">u</span>&nbsp;<span class="op" id="3049790">:=</span>&nbsp;<span class="ident" id="3049793">state</span><span class="op" id="3049798">.</span><span class="ident" id="3049799">decodeUint</span><span class="op" id="3049809">(</span><span class="op" id="3049810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049814">n</span>&nbsp;<span class="op" id="3049816">:=</span>&nbsp;<span class="builtintype" id="3049819">int</span><span class="op" id="3049822">(</span><span class="ident" id="3049823">u</span><span class="op" id="3049824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049828">if</span>&nbsp;<span class="ident" id="3049831">n</span>&nbsp;<span class="op" id="3049833">&lt;</span>&nbsp;<span class="num" id="3049835">0</span>&nbsp;<span class="op" id="3049837">||</span>&nbsp;<span class="ident" id="3049840">uint64</span><span class="op" id="3049846">(</span><span class="ident" id="3049847">n</span><span class="op" id="3049848">)</span>&nbsp;<span class="op" id="3049850">!=</span>&nbsp;<span class="ident" id="3049853">u</span>&nbsp;<span class="op" id="3049855">||</span>&nbsp;<span class="ident" id="3049858">n</span>&nbsp;<span class="op" id="3049860">&gt;</span>&nbsp;<span class="ident" id="3049862">state</span><span class="op" id="3049867">.</span><span class="ident" id="3049868">b</span><span class="op" id="3049869">.</span><span class="ident" id="3049870">Len</span><span class="op" id="3049873">(</span><span class="op" id="3049874">)</span>&nbsp;<span class="op" id="3049876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049881">errorf</span><span class="op" id="3049887">(</span><span class="string" id="3049888">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="3049936">,</span>&nbsp;<span class="ident" id="3049938">u</span><span class="op" id="3049939">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3049943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3049947">if</span>&nbsp;<span class="ident" id="3049950">n</span>&nbsp;<span class="op" id="3049952">&gt;</span>&nbsp;<span class="ident" id="3049954">state</span><span class="op" id="3049959">.</span><span class="ident" id="3049960">b</span><span class="op" id="3049961">.</span><span class="ident" id="3049962">Len</span><span class="op" id="3049965">(</span><span class="op" id="3049966">)</span>&nbsp;<span class="op" id="3049968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3049973">errorf</span><span class="op" id="3049979">(</span><span class="string" id="3049980">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="3050017">,</span>&nbsp;<span class="ident" id="3050019">n</span><span class="op" id="3050020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3050024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3050028">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050048">data</span>&nbsp;<span class="op" id="3050053">:=</span>&nbsp;<span class="builtinfunc" id="3050056">make</span><span class="op" id="3050060">(</span><span class="op" id="3050061">[</span><span class="op" id="3050062">]</span><span class="builtintype" id="3050063">byte</span><span class="op" id="3050067">,</span>&nbsp;<span class="ident" id="3050069">n</span><span class="op" id="3050070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050074">if</span>&nbsp;<span class="ident" id="3050077">_</span><span class="op" id="3050078">,</span>&nbsp;<span class="ident" id="3050080">err</span>&nbsp;<span class="op" id="3050084">:=</span>&nbsp;<span class="ident" id="3050087">state</span><span class="op" id="3050092">.</span><span class="ident" id="3050093">b</span><span class="op" id="3050094">.</span><span class="ident" id="3050095">Read</span><span class="op" id="3050099">(</span><span class="ident" id="3050100">data</span><span class="op" id="3050104">)</span><span class="op" id="3050105">;</span>&nbsp;<span class="ident" id="3050107">err</span>&nbsp;<span class="op" id="3050111">!=</span>&nbsp;<span class="ident" id="3050114">nil</span>&nbsp;<span class="op" id="3050118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050123">errorf</span><span class="op" id="3050129">(</span><span class="string" id="3050130">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="3050157">,</span>&nbsp;<span class="ident" id="3050159">err</span><span class="op" id="3050162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3050166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050170">slice</span><span class="op" id="3050175">[</span><span class="ident" id="3050176">i</span><span class="op" id="3050177">]</span>&nbsp;<span class="op" id="3050179">=</span>&nbsp;<span class="builtintype" id="3050181">string</span><span class="op" id="3050187">(</span><span class="ident" id="3050188">data</span><span class="op" id="3050192">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3050195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050198">return</span>&nbsp;<span class="builtintype" id="3050205">true</span><br>
<span class="lineno"></span><span class="op" id="3050210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3050213">func</span>&nbsp;<span class="ident" id="3050218">decUintArray</span><span class="op" id="3050230">(</span><span class="ident" id="3050231">state</span>&nbsp;<span class="op" id="3050237">*</span><span class="ident" id="3050238">decoderState</span><span class="op" id="3050250">,</span>&nbsp;<span class="ident" id="3050252">v</span>&nbsp;<span class="ident" id="3050254">reflect</span><span class="op" id="3050261">.</span><span class="ident" id="3050262">Value</span><span class="op" id="3050267">,</span>&nbsp;<span class="ident" id="3050269">length</span>&nbsp;<span class="builtintype" id="3050276">int</span><span class="op" id="3050279">,</span>&nbsp;<span class="ident" id="3050281">ovfl</span>&nbsp;<span class="builtintype" id="3050286">error</span><span class="op" id="3050291">)</span>&nbsp;<span class="builtintype" id="3050293">bool</span>&nbsp;<span class="op" id="3050298">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3050301">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050342">if</span>&nbsp;<span class="op" id="3050345">!</span><span class="ident" id="3050346">v</span><span class="op" id="3050347">.</span><span class="ident" id="3050348">CanAddr</span><span class="op" id="3050355">(</span><span class="op" id="3050356">)</span>&nbsp;<span class="op" id="3050358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050362">return</span>&nbsp;<span class="builtintype" id="3050369">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3050376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050379">return</span>&nbsp;<span class="ident" id="3050386">decUintSlice</span><span class="op" id="3050398">(</span><span class="ident" id="3050399">state</span><span class="op" id="3050404">,</span>&nbsp;<span class="ident" id="3050406">v</span><span class="op" id="3050407">.</span><span class="ident" id="3050408">Slice</span><span class="op" id="3050413">(</span><span class="num" id="3050414">0</span><span class="op" id="3050415">,</span>&nbsp;<span class="ident" id="3050417">v</span><span class="op" id="3050418">.</span><span class="ident" id="3050419">Len</span><span class="op" id="3050422">(</span><span class="op" id="3050423">)</span><span class="op" id="3050424">)</span><span class="op" id="3050425">,</span>&nbsp;<span class="ident" id="3050427">length</span><span class="op" id="3050433">,</span>&nbsp;<span class="ident" id="3050435">ovfl</span><span class="op" id="3050439">)</span><br>
<span class="lineno">345</span><span class="op" id="3050441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3050444">func</span>&nbsp;<span class="ident" id="3050449">decUintSlice</span><span class="op" id="3050461">(</span><span class="ident" id="3050462">state</span>&nbsp;<span class="op" id="3050468">*</span><span class="ident" id="3050469">decoderState</span><span class="op" id="3050481">,</span>&nbsp;<span class="ident" id="3050483">v</span>&nbsp;<span class="ident" id="3050485">reflect</span><span class="op" id="3050492">.</span><span class="ident" id="3050493">Value</span><span class="op" id="3050498">,</span>&nbsp;<span class="ident" id="3050500">length</span>&nbsp;<span class="builtintype" id="3050507">int</span><span class="op" id="3050510">,</span>&nbsp;<span class="ident" id="3050512">ovfl</span>&nbsp;<span class="builtintype" id="3050517">error</span><span class="op" id="3050522">)</span>&nbsp;<span class="builtintype" id="3050524">bool</span>&nbsp;<span class="op" id="3050529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050532">slice</span><span class="op" id="3050537">,</span>&nbsp;<span class="ident" id="3050539">ok</span>&nbsp;<span class="op" id="3050542">:=</span>&nbsp;<span class="ident" id="3050545">v</span><span class="op" id="3050546">.</span><span class="ident" id="3050547">Interface</span><span class="op" id="3050556">(</span><span class="op" id="3050557">)</span><span class="op" id="3050558">.</span><span class="op" id="3050559">(</span><span class="op" id="3050560">[</span><span class="op" id="3050561">]</span><span class="builtintype" id="3050562">uint</span><span class="op" id="3050566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050569">if</span>&nbsp;<span class="op" id="3050572">!</span><span class="ident" id="3050573">ok</span>&nbsp;<span class="op" id="3050576">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3050580">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050655">return</span>&nbsp;<span class="builtintype" id="3050662">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3050669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050672">for</span>&nbsp;<span class="ident" id="3050676">i</span>&nbsp;<span class="op" id="3050678">:=</span>&nbsp;<span class="num" id="3050681">0</span><span class="op" id="3050682">;</span>&nbsp;<span class="ident" id="3050684">i</span>&nbsp;<span class="op" id="3050686">&lt;</span>&nbsp;<span class="ident" id="3050688">length</span><span class="op" id="3050694">;</span>&nbsp;<span class="ident" id="3050696">i</span><span class="op" id="3050697">++</span>&nbsp;<span class="op" id="3050700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050704">if</span>&nbsp;<span class="ident" id="3050707">state</span><span class="op" id="3050712">.</span><span class="ident" id="3050713">b</span><span class="op" id="3050714">.</span><span class="ident" id="3050715">Len</span><span class="op" id="3050718">(</span><span class="op" id="3050719">)</span>&nbsp;<span class="op" id="3050721">==</span>&nbsp;<span class="num" id="3050724">0</span>&nbsp;<span class="op" id="3050726">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050731">errorf</span><span class="op" id="3050737">(</span><span class="string" id="3050738">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3050809">,</span>&nbsp;<span class="ident" id="3050811">length</span><span class="op" id="3050817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3050821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050825">x</span>&nbsp;<span class="op" id="3050827">:=</span>&nbsp;<span class="ident" id="3050830">state</span><span class="op" id="3050835">.</span><span class="ident" id="3050836">decodeUint</span><span class="op" id="3050846">(</span><span class="op" id="3050847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3050851">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3050906">slice</span><span class="op" id="3050911">[</span><span class="ident" id="3050912">i</span><span class="op" id="3050913">]</span>&nbsp;<span class="op" id="3050915">=</span>&nbsp;<span class="builtintype" id="3050917">uint</span><span class="op" id="3050921">(</span><span class="ident" id="3050922">x</span><span class="op" id="3050923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3050926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3050929">return</span>&nbsp;<span class="builtintype" id="3050936">true</span><br>
<span class="lineno"></span><span class="op" id="3050941">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="3050944">func</span>&nbsp;<span class="ident" id="3050949">decUint16Array</span><span class="op" id="3050963">(</span><span class="ident" id="3050964">state</span>&nbsp;<span class="op" id="3050970">*</span><span class="ident" id="3050971">decoderState</span><span class="op" id="3050983">,</span>&nbsp;<span class="ident" id="3050985">v</span>&nbsp;<span class="ident" id="3050987">reflect</span><span class="op" id="3050994">.</span><span class="ident" id="3050995">Value</span><span class="op" id="3051000">,</span>&nbsp;<span class="ident" id="3051002">length</span>&nbsp;<span class="builtintype" id="3051009">int</span><span class="op" id="3051012">,</span>&nbsp;<span class="ident" id="3051014">ovfl</span>&nbsp;<span class="builtintype" id="3051019">error</span><span class="op" id="3051024">)</span>&nbsp;<span class="builtintype" id="3051026">bool</span>&nbsp;<span class="op" id="3051031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3051034">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051075">if</span>&nbsp;<span class="op" id="3051078">!</span><span class="ident" id="3051079">v</span><span class="op" id="3051080">.</span><span class="ident" id="3051081">CanAddr</span><span class="op" id="3051088">(</span><span class="op" id="3051089">)</span>&nbsp;<span class="op" id="3051091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051095">return</span>&nbsp;<span class="builtintype" id="3051102">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051112">return</span>&nbsp;<span class="ident" id="3051119">decUint16Slice</span><span class="op" id="3051133">(</span><span class="ident" id="3051134">state</span><span class="op" id="3051139">,</span>&nbsp;<span class="ident" id="3051141">v</span><span class="op" id="3051142">.</span><span class="ident" id="3051143">Slice</span><span class="op" id="3051148">(</span><span class="num" id="3051149">0</span><span class="op" id="3051150">,</span>&nbsp;<span class="ident" id="3051152">v</span><span class="op" id="3051153">.</span><span class="ident" id="3051154">Len</span><span class="op" id="3051157">(</span><span class="op" id="3051158">)</span><span class="op" id="3051159">)</span><span class="op" id="3051160">,</span>&nbsp;<span class="ident" id="3051162">length</span><span class="op" id="3051168">,</span>&nbsp;<span class="ident" id="3051170">ovfl</span><span class="op" id="3051174">)</span><br>
<span class="lineno"></span><span class="op" id="3051176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3051179">func</span>&nbsp;<span class="ident" id="3051184">decUint16Slice</span><span class="op" id="3051198">(</span><span class="ident" id="3051199">state</span>&nbsp;<span class="op" id="3051205">*</span><span class="ident" id="3051206">decoderState</span><span class="op" id="3051218">,</span>&nbsp;<span class="ident" id="3051220">v</span>&nbsp;<span class="ident" id="3051222">reflect</span><span class="op" id="3051229">.</span><span class="ident" id="3051230">Value</span><span class="op" id="3051235">,</span>&nbsp;<span class="ident" id="3051237">length</span>&nbsp;<span class="builtintype" id="3051244">int</span><span class="op" id="3051247">,</span>&nbsp;<span class="ident" id="3051249">ovfl</span>&nbsp;<span class="builtintype" id="3051254">error</span><span class="op" id="3051259">)</span>&nbsp;<span class="builtintype" id="3051261">bool</span>&nbsp;<span class="op" id="3051266">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051269">slice</span><span class="op" id="3051274">,</span>&nbsp;<span class="ident" id="3051276">ok</span>&nbsp;<span class="op" id="3051279">:=</span>&nbsp;<span class="ident" id="3051282">v</span><span class="op" id="3051283">.</span><span class="ident" id="3051284">Interface</span><span class="op" id="3051293">(</span><span class="op" id="3051294">)</span><span class="op" id="3051295">.</span><span class="op" id="3051296">(</span><span class="op" id="3051297">[</span><span class="op" id="3051298">]</span><span class="builtintype" id="3051299">uint16</span><span class="op" id="3051305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051308">if</span>&nbsp;<span class="op" id="3051311">!</span><span class="ident" id="3051312">ok</span>&nbsp;<span class="op" id="3051315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3051319">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051398">return</span>&nbsp;<span class="builtintype" id="3051405">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051412">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051415">for</span>&nbsp;<span class="ident" id="3051419">i</span>&nbsp;<span class="op" id="3051421">:=</span>&nbsp;<span class="num" id="3051424">0</span><span class="op" id="3051425">;</span>&nbsp;<span class="ident" id="3051427">i</span>&nbsp;<span class="op" id="3051429">&lt;</span>&nbsp;<span class="ident" id="3051431">length</span><span class="op" id="3051437">;</span>&nbsp;<span class="ident" id="3051439">i</span><span class="op" id="3051440">++</span>&nbsp;<span class="op" id="3051443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051447">if</span>&nbsp;<span class="ident" id="3051450">state</span><span class="op" id="3051455">.</span><span class="ident" id="3051456">b</span><span class="op" id="3051457">.</span><span class="ident" id="3051458">Len</span><span class="op" id="3051461">(</span><span class="op" id="3051462">)</span>&nbsp;<span class="op" id="3051464">==</span>&nbsp;<span class="num" id="3051467">0</span>&nbsp;<span class="op" id="3051469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051474">errorf</span><span class="op" id="3051480">(</span><span class="string" id="3051481">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3051554">,</span>&nbsp;<span class="ident" id="3051556">length</span><span class="op" id="3051562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051570">x</span>&nbsp;<span class="op" id="3051572">:=</span>&nbsp;<span class="ident" id="3051575">state</span><span class="op" id="3051580">.</span><span class="ident" id="3051581">decodeUint</span><span class="op" id="3051591">(</span><span class="op" id="3051592">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051596">if</span>&nbsp;<span class="ident" id="3051599">math</span><span class="op" id="3051603">.</span><span class="ident" id="3051604">MaxUint16</span>&nbsp;<span class="op" id="3051614">&lt;</span>&nbsp;<span class="ident" id="3051616">x</span>&nbsp;<span class="op" id="3051618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051623">error_</span><span class="op" id="3051629">(</span><span class="ident" id="3051630">ovfl</span><span class="op" id="3051634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3051642">slice</span><span class="op" id="3051647">[</span><span class="ident" id="3051648">i</span><span class="op" id="3051649">]</span>&nbsp;<span class="op" id="3051651">=</span>&nbsp;<span class="builtintype" id="3051653">uint16</span><span class="op" id="3051659">(</span><span class="ident" id="3051660">x</span><span class="op" id="3051661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051664">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051667">return</span>&nbsp;<span class="builtintype" id="3051674">true</span><br>
<span class="lineno"></span><span class="op" id="3051679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3051682">func</span>&nbsp;<span class="ident" id="3051687">decUint32Array</span><span class="op" id="3051701">(</span><span class="ident" id="3051702">state</span>&nbsp;<span class="op" id="3051708">*</span><span class="ident" id="3051709">decoderState</span><span class="op" id="3051721">,</span>&nbsp;<span class="ident" id="3051723">v</span>&nbsp;<span class="ident" id="3051725">reflect</span><span class="op" id="3051732">.</span><span class="ident" id="3051733">Value</span><span class="op" id="3051738">,</span>&nbsp;<span class="ident" id="3051740">length</span>&nbsp;<span class="builtintype" id="3051747">int</span><span class="op" id="3051750">,</span>&nbsp;<span class="ident" id="3051752">ovfl</span>&nbsp;<span class="builtintype" id="3051757">error</span><span class="op" id="3051762">)</span>&nbsp;<span class="builtintype" id="3051764">bool</span>&nbsp;<span class="op" id="3051769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3051772">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051813">if</span>&nbsp;<span class="op" id="3051816">!</span><span class="ident" id="3051817">v</span><span class="op" id="3051818">.</span><span class="ident" id="3051819">CanAddr</span><span class="op" id="3051826">(</span><span class="op" id="3051827">)</span>&nbsp;<span class="op" id="3051829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051833">return</span>&nbsp;<span class="builtintype" id="3051840">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3051847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3051850">return</span>&nbsp;<span class="ident" id="3051857">decUint32Slice</span><span class="op" id="3051871">(</span><span class="ident" id="3051872">state</span><span class="op" id="3051877">,</span>&nbsp;<span class="ident" id="3051879">v</span><span class="op" id="3051880">.</span><span class="ident" id="3051881">Slice</span><span class="op" id="3051886">(</span><span class="num" id="3051887">0</span><span class="op" id="3051888">,</span>&nbsp;<span class="ident" id="3051890">v</span><span class="op" id="3051891">.</span><span class="ident" id="3051892">Len</span><span class="op" id="3051895">(</span><span class="op" id="3051896">)</span><span class="op" id="3051897">)</span><span class="op" id="3051898">,</span>&nbsp;<span class="ident" id="3051900">length</span><span class="op" id="3051906">,</span>&nbsp;<span class="ident" id="3051908">ovfl</span><span class="op" id="3051912">)</span><br>
<span class="lineno"></span><span class="op" id="3051914">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="3051917">func</span>&nbsp;<span class="ident" id="3051922">decUint32Slice</span><span class="op" id="3051936">(</span><span class="ident" id="3051937">state</span>&nbsp;<span class="op" id="3051943">*</span><span class="ident" id="3051944">decoderState</span><span class="op" id="3051956">,</span>&nbsp;<span class="ident" id="3051958">v</span>&nbsp;<span class="ident" id="3051960">reflect</span><span class="op" id="3051967">.</span><span class="ident" id="3051968">Value</span><span class="op" id="3051973">,</span>&nbsp;<span class="ident" id="3051975">length</span>&nbsp;<span class="builtintype" id="3051982">int</span><span class="op" id="3051985">,</span>&nbsp;<span class="ident" id="3051987">ovfl</span>&nbsp;<span class="builtintype" id="3051992">error</span><span class="op" id="3051997">)</span>&nbsp;<span class="builtintype" id="3051999">bool</span>&nbsp;<span class="op" id="3052004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3052007">slice</span><span class="op" id="3052012">,</span>&nbsp;<span class="ident" id="3052014">ok</span>&nbsp;<span class="op" id="3052017">:=</span>&nbsp;<span class="ident" id="3052020">v</span><span class="op" id="3052021">.</span><span class="ident" id="3052022">Interface</span><span class="op" id="3052031">(</span><span class="op" id="3052032">)</span><span class="op" id="3052033">.</span><span class="op" id="3052034">(</span><span class="op" id="3052035">[</span><span class="op" id="3052036">]</span><span class="builtintype" id="3052037">uint32</span><span class="op" id="3052043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052046">if</span>&nbsp;<span class="op" id="3052049">!</span><span class="ident" id="3052050">ok</span>&nbsp;<span class="op" id="3052053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3052057">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052136">return</span>&nbsp;<span class="builtintype" id="3052143">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3052150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052153">for</span>&nbsp;<span class="ident" id="3052157">i</span>&nbsp;<span class="op" id="3052159">:=</span>&nbsp;<span class="num" id="3052162">0</span><span class="op" id="3052163">;</span>&nbsp;<span class="ident" id="3052165">i</span>&nbsp;<span class="op" id="3052167">&lt;</span>&nbsp;<span class="ident" id="3052169">length</span><span class="op" id="3052175">;</span>&nbsp;<span class="ident" id="3052177">i</span><span class="op" id="3052178">++</span>&nbsp;<span class="op" id="3052181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052185">if</span>&nbsp;<span class="ident" id="3052188">state</span><span class="op" id="3052193">.</span><span class="ident" id="3052194">b</span><span class="op" id="3052195">.</span><span class="ident" id="3052196">Len</span><span class="op" id="3052199">(</span><span class="op" id="3052200">)</span>&nbsp;<span class="op" id="3052202">==</span>&nbsp;<span class="num" id="3052205">0</span>&nbsp;<span class="op" id="3052207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3052212">errorf</span><span class="op" id="3052218">(</span><span class="string" id="3052219">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3052292">,</span>&nbsp;<span class="ident" id="3052294">length</span><span class="op" id="3052300">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3052304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3052308">x</span>&nbsp;<span class="op" id="3052310">:=</span>&nbsp;<span class="ident" id="3052313">state</span><span class="op" id="3052318">.</span><span class="ident" id="3052319">decodeUint</span><span class="op" id="3052329">(</span><span class="op" id="3052330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052334">if</span>&nbsp;<span class="ident" id="3052337">math</span><span class="op" id="3052341">.</span><span class="ident" id="3052342">MaxUint32</span>&nbsp;<span class="op" id="3052352">&lt;</span>&nbsp;<span class="ident" id="3052354">x</span>&nbsp;<span class="op" id="3052356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3052361">error_</span><span class="op" id="3052367">(</span><span class="ident" id="3052368">ovfl</span><span class="op" id="3052372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3052376">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3052380">slice</span><span class="op" id="3052385">[</span><span class="ident" id="3052386">i</span><span class="op" id="3052387">]</span>&nbsp;<span class="op" id="3052389">=</span>&nbsp;<span class="builtintype" id="3052391">uint32</span><span class="op" id="3052397">(</span><span class="ident" id="3052398">x</span><span class="op" id="3052399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3052402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052405">return</span>&nbsp;<span class="builtintype" id="3052412">true</span><br>
<span class="lineno"></span><span class="op" id="3052417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="3052420">func</span>&nbsp;<span class="ident" id="3052425">decUint64Array</span><span class="op" id="3052439">(</span><span class="ident" id="3052440">state</span>&nbsp;<span class="op" id="3052446">*</span><span class="ident" id="3052447">decoderState</span><span class="op" id="3052459">,</span>&nbsp;<span class="ident" id="3052461">v</span>&nbsp;<span class="ident" id="3052463">reflect</span><span class="op" id="3052470">.</span><span class="ident" id="3052471">Value</span><span class="op" id="3052476">,</span>&nbsp;<span class="ident" id="3052478">length</span>&nbsp;<span class="builtintype" id="3052485">int</span><span class="op" id="3052488">,</span>&nbsp;<span class="ident" id="3052490">ovfl</span>&nbsp;<span class="builtintype" id="3052495">error</span><span class="op" id="3052500">)</span>&nbsp;<span class="builtintype" id="3052502">bool</span>&nbsp;<span class="op" id="3052507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3052510">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052551">if</span>&nbsp;<span class="op" id="3052554">!</span><span class="ident" id="3052555">v</span><span class="op" id="3052556">.</span><span class="ident" id="3052557">CanAddr</span><span class="op" id="3052564">(</span><span class="op" id="3052565">)</span>&nbsp;<span class="op" id="3052567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052571">return</span>&nbsp;<span class="builtintype" id="3052578">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3052585">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052588">return</span>&nbsp;<span class="ident" id="3052595">decUint64Slice</span><span class="op" id="3052609">(</span><span class="ident" id="3052610">state</span><span class="op" id="3052615">,</span>&nbsp;<span class="ident" id="3052617">v</span><span class="op" id="3052618">.</span><span class="ident" id="3052619">Slice</span><span class="op" id="3052624">(</span><span class="num" id="3052625">0</span><span class="op" id="3052626">,</span>&nbsp;<span class="ident" id="3052628">v</span><span class="op" id="3052629">.</span><span class="ident" id="3052630">Len</span><span class="op" id="3052633">(</span><span class="op" id="3052634">)</span><span class="op" id="3052635">)</span><span class="op" id="3052636">,</span>&nbsp;<span class="ident" id="3052638">length</span><span class="op" id="3052644">,</span>&nbsp;<span class="ident" id="3052646">ovfl</span><span class="op" id="3052650">)</span><br>
<span class="lineno"></span><span class="op" id="3052652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3052655">func</span>&nbsp;<span class="ident" id="3052660">decUint64Slice</span><span class="op" id="3052674">(</span><span class="ident" id="3052675">state</span>&nbsp;<span class="op" id="3052681">*</span><span class="ident" id="3052682">decoderState</span><span class="op" id="3052694">,</span>&nbsp;<span class="ident" id="3052696">v</span>&nbsp;<span class="ident" id="3052698">reflect</span><span class="op" id="3052705">.</span><span class="ident" id="3052706">Value</span><span class="op" id="3052711">,</span>&nbsp;<span class="ident" id="3052713">length</span>&nbsp;<span class="builtintype" id="3052720">int</span><span class="op" id="3052723">,</span>&nbsp;<span class="ident" id="3052725">ovfl</span>&nbsp;<span class="builtintype" id="3052730">error</span><span class="op" id="3052735">)</span>&nbsp;<span class="builtintype" id="3052737">bool</span>&nbsp;<span class="op" id="3052742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3052745">slice</span><span class="op" id="3052750">,</span>&nbsp;<span class="ident" id="3052752">ok</span>&nbsp;<span class="op" id="3052755">:=</span>&nbsp;<span class="ident" id="3052758">v</span><span class="op" id="3052759">.</span><span class="ident" id="3052760">Interface</span><span class="op" id="3052769">(</span><span class="op" id="3052770">)</span><span class="op" id="3052771">.</span><span class="op" id="3052772">(</span><span class="op" id="3052773">[</span><span class="op" id="3052774">]</span><span class="ident" id="3052775">uint64</span><span class="op" id="3052781">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052784">if</span>&nbsp;<span class="op" id="3052787">!</span><span class="ident" id="3052788">ok</span>&nbsp;<span class="op" id="3052791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3052795">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052874">return</span>&nbsp;<span class="builtintype" id="3052881">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3052888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052891">for</span>&nbsp;<span class="ident" id="3052895">i</span>&nbsp;<span class="op" id="3052897">:=</span>&nbsp;<span class="num" id="3052900">0</span><span class="op" id="3052901">;</span>&nbsp;<span class="ident" id="3052903">i</span>&nbsp;<span class="op" id="3052905">&lt;</span>&nbsp;<span class="ident" id="3052907">length</span><span class="op" id="3052913">;</span>&nbsp;<span class="ident" id="3052915">i</span><span class="op" id="3052916">++</span>&nbsp;<span class="op" id="3052919">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3052923">if</span>&nbsp;<span class="ident" id="3052926">state</span><span class="op" id="3052931">.</span><span class="ident" id="3052932">b</span><span class="op" id="3052933">.</span><span class="ident" id="3052934">Len</span><span class="op" id="3052937">(</span><span class="op" id="3052938">)</span>&nbsp;<span class="op" id="3052940">==</span>&nbsp;<span class="num" id="3052943">0</span>&nbsp;<span class="op" id="3052945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3052950">errorf</span><span class="op" id="3052956">(</span><span class="string" id="3052957">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3053030">,</span>&nbsp;<span class="ident" id="3053032">length</span><span class="op" id="3053038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3053042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3053046">slice</span><span class="op" id="3053051">[</span><span class="ident" id="3053052">i</span><span class="op" id="3053053">]</span>&nbsp;<span class="op" id="3053055">=</span>&nbsp;<span class="ident" id="3053057">state</span><span class="op" id="3053062">.</span><span class="ident" id="3053063">decodeUint</span><span class="op" id="3053073">(</span><span class="op" id="3053074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3053077">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053080">return</span>&nbsp;<span class="builtintype" id="3053087">true</span><br>
<span class="lineno"></span><span class="op" id="3053092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3053095">func</span>&nbsp;<span class="ident" id="3053100">decUintptrArray</span><span class="op" id="3053115">(</span><span class="ident" id="3053116">state</span>&nbsp;<span class="op" id="3053122">*</span><span class="ident" id="3053123">decoderState</span><span class="op" id="3053135">,</span>&nbsp;<span class="ident" id="3053137">v</span>&nbsp;<span class="ident" id="3053139">reflect</span><span class="op" id="3053146">.</span><span class="ident" id="3053147">Value</span><span class="op" id="3053152">,</span>&nbsp;<span class="ident" id="3053154">length</span>&nbsp;<span class="builtintype" id="3053161">int</span><span class="op" id="3053164">,</span>&nbsp;<span class="ident" id="3053166">ovfl</span>&nbsp;<span class="builtintype" id="3053171">error</span><span class="op" id="3053176">)</span>&nbsp;<span class="builtintype" id="3053178">bool</span>&nbsp;<span class="op" id="3053183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3053186">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053227">if</span>&nbsp;<span class="op" id="3053230">!</span><span class="ident" id="3053231">v</span><span class="op" id="3053232">.</span><span class="ident" id="3053233">CanAddr</span><span class="op" id="3053240">(</span><span class="op" id="3053241">)</span>&nbsp;<span class="op" id="3053243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053247">return</span>&nbsp;<span class="builtintype" id="3053254">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3053261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053264">return</span>&nbsp;<span class="ident" id="3053271">decUintptrSlice</span><span class="op" id="3053286">(</span><span class="ident" id="3053287">state</span><span class="op" id="3053292">,</span>&nbsp;<span class="ident" id="3053294">v</span><span class="op" id="3053295">.</span><span class="ident" id="3053296">Slice</span><span class="op" id="3053301">(</span><span class="num" id="3053302">0</span><span class="op" id="3053303">,</span>&nbsp;<span class="ident" id="3053305">v</span><span class="op" id="3053306">.</span><span class="ident" id="3053307">Len</span><span class="op" id="3053310">(</span><span class="op" id="3053311">)</span><span class="op" id="3053312">)</span><span class="op" id="3053313">,</span>&nbsp;<span class="ident" id="3053315">length</span><span class="op" id="3053321">,</span>&nbsp;<span class="ident" id="3053323">ovfl</span><span class="op" id="3053327">)</span><br>
<span class="lineno"></span><span class="op" id="3053329">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="3053332">func</span>&nbsp;<span class="ident" id="3053337">decUintptrSlice</span><span class="op" id="3053352">(</span><span class="ident" id="3053353">state</span>&nbsp;<span class="op" id="3053359">*</span><span class="ident" id="3053360">decoderState</span><span class="op" id="3053372">,</span>&nbsp;<span class="ident" id="3053374">v</span>&nbsp;<span class="ident" id="3053376">reflect</span><span class="op" id="3053383">.</span><span class="ident" id="3053384">Value</span><span class="op" id="3053389">,</span>&nbsp;<span class="ident" id="3053391">length</span>&nbsp;<span class="builtintype" id="3053398">int</span><span class="op" id="3053401">,</span>&nbsp;<span class="ident" id="3053403">ovfl</span>&nbsp;<span class="builtintype" id="3053408">error</span><span class="op" id="3053413">)</span>&nbsp;<span class="builtintype" id="3053415">bool</span>&nbsp;<span class="op" id="3053420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3053423">slice</span><span class="op" id="3053428">,</span>&nbsp;<span class="ident" id="3053430">ok</span>&nbsp;<span class="op" id="3053433">:=</span>&nbsp;<span class="ident" id="3053436">v</span><span class="op" id="3053437">.</span><span class="ident" id="3053438">Interface</span><span class="op" id="3053447">(</span><span class="op" id="3053448">)</span><span class="op" id="3053449">.</span><span class="op" id="3053450">(</span><span class="op" id="3053451">[</span><span class="op" id="3053452">]</span><span class="builtintype" id="3053453">uintptr</span><span class="op" id="3053460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053463">if</span>&nbsp;<span class="op" id="3053466">!</span><span class="ident" id="3053467">ok</span>&nbsp;<span class="op" id="3053470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3053474">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053555">return</span>&nbsp;<span class="builtintype" id="3053562">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3053569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053572">for</span>&nbsp;<span class="ident" id="3053576">i</span>&nbsp;<span class="op" id="3053578">:=</span>&nbsp;<span class="num" id="3053581">0</span><span class="op" id="3053582">;</span>&nbsp;<span class="ident" id="3053584">i</span>&nbsp;<span class="op" id="3053586">&lt;</span>&nbsp;<span class="ident" id="3053588">length</span><span class="op" id="3053594">;</span>&nbsp;<span class="ident" id="3053596">i</span><span class="op" id="3053597">++</span>&nbsp;<span class="op" id="3053600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053604">if</span>&nbsp;<span class="ident" id="3053607">state</span><span class="op" id="3053612">.</span><span class="ident" id="3053613">b</span><span class="op" id="3053614">.</span><span class="ident" id="3053615">Len</span><span class="op" id="3053618">(</span><span class="op" id="3053619">)</span>&nbsp;<span class="op" id="3053621">==</span>&nbsp;<span class="num" id="3053624">0</span>&nbsp;<span class="op" id="3053626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3053631">errorf</span><span class="op" id="3053637">(</span><span class="string" id="3053638">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3053712">,</span>&nbsp;<span class="ident" id="3053714">length</span><span class="op" id="3053720">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3053724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3053728">x</span>&nbsp;<span class="op" id="3053730">:=</span>&nbsp;<span class="ident" id="3053733">state</span><span class="op" id="3053738">.</span><span class="ident" id="3053739">decodeUint</span><span class="op" id="3053749">(</span><span class="op" id="3053750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053754">if</span>&nbsp;<span class="ident" id="3053757">uint64</span><span class="op" id="3053763">(</span><span class="op" id="3053764">^</span><span class="builtintype" id="3053765">uintptr</span><span class="op" id="3053772">(</span><span class="num" id="3053773">0</span><span class="op" id="3053774">)</span><span class="op" id="3053775">)</span>&nbsp;<span class="op" id="3053777">&lt;</span>&nbsp;<span class="ident" id="3053779">x</span>&nbsp;<span class="op" id="3053781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3053786">error_</span><span class="op" id="3053792">(</span><span class="ident" id="3053793">ovfl</span><span class="op" id="3053797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3053801">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3053805">slice</span><span class="op" id="3053810">[</span><span class="ident" id="3053811">i</span><span class="op" id="3053812">]</span>&nbsp;<span class="op" id="3053814">=</span>&nbsp;<span class="builtintype" id="3053816">uintptr</span><span class="op" id="3053823">(</span><span class="ident" id="3053824">x</span><span class="op" id="3053825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3053828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3053831">return</span>&nbsp;<span class="builtintype" id="3053838">true</span><br>
<span class="lineno"></span><span class="op" id="3053843">}</span>
</div>
</body>
</html>
