<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2703668">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2703724">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2703778">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2703829">package</span>&nbsp;<span class="ident" id="2703837">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2703842">//&nbsp;UDPAddr&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;a&nbsp;UDP&nbsp;end&nbsp;point.</span><br>
<span class="lineno"></span><span class="keyword" id="2703896">type</span>&nbsp;<span class="ident" id="2703901">UDPAddr</span>&nbsp;<span class="keyword" id="2703909">struct</span>&nbsp;<span class="op" id="2703916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2703919">IP</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2703924"><a href="/net/ip.go.html#2604330">IP</a></span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2703928">Port</span>&nbsp;<span class="builtintype" id="2703933">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2703938">Zone</span>&nbsp;<span class="builtintype" id="2703943">string</span>&nbsp;<span class="comment" id="2703950">//&nbsp;IPv6&nbsp;scoped&nbsp;addressing&nbsp;zone</span><br>
<span class="lineno"></span><span class="op" id="2703981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2703984">//&nbsp;Network&nbsp;returns&nbsp;the&nbsp;address&#39;s&nbsp;network&nbsp;name,&nbsp;&#34;udp&#34;.</span><br>
<span class="lineno">15</span><span class="keyword" id="2704038">func</span>&nbsp;<span class="op" id="2704043">(</span><span class="ident" id="2704044">a</span>&nbsp;<span class="op" id="2704046">*</span><span class="ident" id="2704047"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2704054">)</span>&nbsp;<span class="ident" id="2704056">Network</span><span class="op" id="2704063">(</span><span class="op" id="2704064">)</span>&nbsp;<span class="builtintype" id="2704066">string</span>&nbsp;<span class="op" id="2704073">{</span>&nbsp;<span class="keyword" id="2704075">return</span>&nbsp;<span class="string" id="2704082">&#34;udp&#34;</span>&nbsp;<span class="op" id="2704088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2704091">func</span>&nbsp;<span class="op" id="2704096">(</span><span class="ident" id="2704097">a</span>&nbsp;<span class="op" id="2704099">*</span><span class="ident" id="2704100"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2704107">)</span>&nbsp;<span class="ident" id="2704109">String</span><span class="op" id="2704115">(</span><span class="op" id="2704116">)</span>&nbsp;<span class="builtintype" id="2704118">string</span>&nbsp;<span class="op" id="2704125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704128">if</span>&nbsp;<span class="ident" id="2704131"><a href="/net/udpsock.go.html#2704097">a</a></span>&nbsp;<span class="op" id="2704133">==</span>&nbsp;<span class="ident" id="2704136">nil</span>&nbsp;<span class="op" id="2704140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704144">return</span>&nbsp;<span class="string" id="2704151">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2704160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2704163">ip</span>&nbsp;<span class="op" id="2704166">:=</span>&nbsp;<span class="ident" id="2704169"><a href="/net/ip.go.html#2611025">ipEmptyString</a></span><span class="op" id="2704182">(</span><span class="ident" id="2704183"><a href="/net/udpsock.go.html#2704097">a</a></span><span class="op" id="2704184">.</span><span class="ident" id="2704185">IP</span><span class="op" id="2704187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704190">if</span>&nbsp;<span class="ident" id="2704193"><a href="/net/udpsock.go.html#2704097">a</a></span><span class="op" id="2704194">.</span><span class="ident" id="2704195">Zone</span>&nbsp;<span class="op" id="2704200">!=</span>&nbsp;<span class="string" id="2704203">&#34;&#34;</span>&nbsp;<span class="op" id="2704206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704210">return</span>&nbsp;<span class="ident" id="2704217"><a href="/net/ipsock.go.html#2633137">JoinHostPort</a></span><span class="op" id="2704229">(</span><span class="ident" id="2704230"><a href="/net/udpsock.go.html#2704163">ip</a></span><span class="op" id="2704232">+</span><span class="string" id="2704233">&#34;%&#34;</span><span class="op" id="2704236">+</span><span class="ident" id="2704237"><a href="/net/udpsock.go.html#2704097">a</a></span><span class="op" id="2704238">.</span><span class="ident" id="2704239">Zone</span><span class="op" id="2704243">,</span>&nbsp;<span class="ident" id="2704245"><a href="/net/parse.go.html#2666210">itoa</a></span><span class="op" id="2704249">(</span><span class="ident" id="2704250"><a href="/net/udpsock.go.html#2704097">a</a></span><span class="op" id="2704251">.</span><span class="ident" id="2704252">Port</span><span class="op" id="2704256">)</span><span class="op" id="2704257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2704260">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704263">return</span>&nbsp;<span class="ident" id="2704270"><a href="/net/ipsock.go.html#2633137">JoinHostPort</a></span><span class="op" id="2704282">(</span><span class="ident" id="2704283"><a href="/net/udpsock.go.html#2704163">ip</a></span><span class="op" id="2704285">,</span>&nbsp;<span class="ident" id="2704287"><a href="/net/parse.go.html#2666210">itoa</a></span><span class="op" id="2704291">(</span><span class="ident" id="2704292"><a href="/net/udpsock.go.html#2704097">a</a></span><span class="op" id="2704293">.</span><span class="ident" id="2704294">Port</span><span class="op" id="2704298">)</span><span class="op" id="2704299">)</span><br>
<span class="lineno"></span><span class="op" id="2704301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2704304">func</span>&nbsp;<span class="op" id="2704309">(</span><span class="ident" id="2704310">a</span>&nbsp;<span class="op" id="2704312">*</span><span class="ident" id="2704313"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2704320">)</span>&nbsp;<span class="ident" id="2704322">toAddr</span><span class="op" id="2704328">(</span><span class="op" id="2704329">)</span>&nbsp;<span class="ident" id="2704331"><a href="/net/net.go.html#2652238">Addr</a></span>&nbsp;<span class="op" id="2704336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704339">if</span>&nbsp;<span class="ident" id="2704342"><a href="/net/udpsock.go.html#2704310">a</a></span>&nbsp;<span class="op" id="2704344">==</span>&nbsp;<span class="ident" id="2704347">nil</span>&nbsp;<span class="op" id="2704351">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704355">return</span>&nbsp;<span class="ident" id="2704362">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2704367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704370">return</span>&nbsp;<span class="ident" id="2704377"><a href="/net/udpsock.go.html#2704310">a</a></span><br>
<span class="lineno"></span><span class="op" id="2704379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="2704382">//&nbsp;ResolveUDPAddr&nbsp;parses&nbsp;addr&nbsp;as&nbsp;a&nbsp;UDP&nbsp;address&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;host:port&#34;</span><br>
<span class="lineno"></span><span class="comment" id="2704453">//&nbsp;or&nbsp;&#34;[ipv6-host%zone]:port&#34;&nbsp;and&nbsp;resolves&nbsp;a&nbsp;pair&nbsp;of&nbsp;domain&nbsp;name&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2704522">//&nbsp;port&nbsp;name&nbsp;on&nbsp;the&nbsp;network&nbsp;net,&nbsp;which&nbsp;must&nbsp;be&nbsp;&#34;udp&#34;,&nbsp;&#34;udp4&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2704586">//&nbsp;&#34;udp6&#34;.&nbsp;&nbsp;A&nbsp;literal&nbsp;address&nbsp;or&nbsp;host&nbsp;name&nbsp;for&nbsp;IPv6&nbsp;must&nbsp;be&nbsp;enclosed</span><br>
<span class="lineno"></span><span class="comment" id="2704655">//&nbsp;in&nbsp;square&nbsp;brackets,&nbsp;as&nbsp;in&nbsp;&#34;[::1]:80&#34;,&nbsp;&#34;[ipv6-host]:http&#34;&nbsp;or</span><br>
<span class="lineno">40</span><span class="comment" id="2704718">//&nbsp;&#34;[ipv6-host%zone]:80&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="2704744">func</span>&nbsp;<span class="ident" id="2704749">ResolveUDPAddr</span><span class="op" id="2704763">(</span><span class="ident" id="2704764">net</span><span class="op" id="2704767">,</span>&nbsp;<span class="ident" id="2704769">addr</span>&nbsp;<span class="builtintype" id="2704774">string</span><span class="op" id="2704780">)</span>&nbsp;<span class="op" id="2704782">(</span><span class="op" id="2704783">*</span><span class="ident" id="2704784"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2704791">,</span>&nbsp;<span class="builtintype" id="2704793">error</span><span class="op" id="2704798">)</span>&nbsp;<span class="op" id="2704800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704803">switch</span>&nbsp;<span class="ident" id="2704810"><a href="/net/udpsock.go.html#2704764">net</a></span>&nbsp;<span class="op" id="2704814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704817">case</span>&nbsp;<span class="string" id="2704822">&#34;udp&#34;</span><span class="op" id="2704827">,</span>&nbsp;<span class="string" id="2704829">&#34;udp4&#34;</span><span class="op" id="2704835">,</span>&nbsp;<span class="string" id="2704837">&#34;udp6&#34;</span><span class="op" id="2704843">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704846">case</span>&nbsp;<span class="string" id="2704851">&#34;&#34;</span><span class="op" id="2704853">:</span>&nbsp;<span class="comment" id="2704855">//&nbsp;a&nbsp;hint&nbsp;wildcard&nbsp;for&nbsp;Go&nbsp;1.0&nbsp;undocumented&nbsp;behavior</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2704909"><a href="/net/udpsock.go.html#2704764">net</a></span>&nbsp;<span class="op" id="2704913">=</span>&nbsp;<span class="string" id="2704915">&#34;udp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704922">default</span><span class="op" id="2704929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2704933">return</span>&nbsp;<span class="ident" id="2704940">nil</span><span class="op" id="2704943">,</span>&nbsp;<span class="ident" id="2704945"><a href="/net/net.go.html#2661008">UnknownNetworkError</a></span><span class="op" id="2704964">(</span><span class="ident" id="2704965"><a href="/net/udpsock.go.html#2704764">net</a></span><span class="op" id="2704968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2704971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2704974">a</span><span class="op" id="2704975">,</span>&nbsp;<span class="ident" id="2704977">err</span>&nbsp;<span class="op" id="2704981">:=</span>&nbsp;<span class="ident" id="2704984"><a href="/net/ipsock.go.html#2633734">resolveInternetAddr</a></span><span class="op" id="2705003">(</span><span class="ident" id="2705004"><a href="/net/udpsock.go.html#2704764">net</a></span><span class="op" id="2705007">,</span>&nbsp;<span class="ident" id="2705009"><a href="/net/udpsock.go.html#2704769">addr</a></span><span class="op" id="2705013">,</span>&nbsp;<span class="ident" id="2705015"><a href="/net/net.go.html#2660335">noDeadline</a></span><span class="op" id="2705025">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705028">if</span>&nbsp;<span class="ident" id="2705031"><a href="/net/udpsock.go.html#2704977">err</a></span>&nbsp;<span class="op" id="2705035">!=</span>&nbsp;<span class="ident" id="2705038">nil</span>&nbsp;<span class="op" id="2705042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705046">return</span>&nbsp;<span class="ident" id="2705053">nil</span><span class="op" id="2705056">,</span>&nbsp;<span class="ident" id="2705058"><a href="/net/udpsock.go.html#2704977">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2705063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2705066">return</span>&nbsp;<span class="ident" id="2705073"><a href="/net/udpsock.go.html#2704974">a</a></span><span class="op" id="2705074">.</span><span class="ident" id="2705075">toAddr</span><span class="op" id="2705081">(</span><span class="op" id="2705082">)</span><span class="op" id="2705083">.</span><span class="op" id="2705084">(</span><span class="op" id="2705085">*</span><span class="ident" id="2705086"><a href="/net/udpsock.go.html#2703901">UDPAddr</a></span><span class="op" id="2705093">)</span><span class="op" id="2705094">,</span>&nbsp;<span class="ident" id="2705096">nil</span><br>
<span class="lineno"></span><span class="op" id="2705100">}</span>
</div>
</body>
</html>
